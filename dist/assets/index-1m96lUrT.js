function YY(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var ug=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var qR={exports:{}},Dw={},WR={exports:{}},zr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M1=Symbol.for("react.element"),XY=Symbol.for("react.portal"),QY=Symbol.for("react.fragment"),JY=Symbol.for("react.strict_mode"),ZY=Symbol.for("react.profiler"),eX=Symbol.for("react.provider"),tX=Symbol.for("react.context"),rX=Symbol.for("react.forward_ref"),nX=Symbol.for("react.suspense"),aX=Symbol.for("react.memo"),iX=Symbol.for("react.lazy"),s6=Symbol.iterator;function sX(e){return e===null||typeof e!="object"?null:(e=s6&&e[s6]||e["@@iterator"],typeof e=="function"?e:null)}var HR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},GR=Object.assign,KR={};function Kp(e,t,r){this.props=e,this.context=t,this.refs=KR,this.updater=r||HR}Kp.prototype.isReactComponent={};Kp.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Kp.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function YR(){}YR.prototype=Kp.prototype;function TN(e,t,r){this.props=e,this.context=t,this.refs=KR,this.updater=r||HR}var NN=TN.prototype=new YR;NN.constructor=TN;GR(NN,Kp.prototype);NN.isPureReactComponent=!0;var o6=Array.isArray,XR=Object.prototype.hasOwnProperty,EN={current:null},QR={key:!0,ref:!0,__self:!0,__source:!0};function JR(e,t,r){var n,a={},i=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)XR.call(t,n)&&!QR.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:M1,type:e,key:i,ref:s,props:a,_owner:EN.current}}function oX(e,t){return{$$typeof:M1,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function kN(e){return typeof e=="object"&&e!==null&&e.$$typeof===M1}function lX(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var l6=/\/+/g;function R_(e,t){return typeof e=="object"&&e!==null&&e.key!=null?lX(""+e.key):t.toString(36)}function qx(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case M1:case XY:s=!0}}if(s)return s=e,a=a(s),e=n===""?"."+R_(s,0):n,o6(a)?(r="",e!=null&&(r=e.replace(l6,"$&/")+"/"),qx(a,t,r,"",function(c){return c})):a!=null&&(kN(a)&&(a=oX(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(l6,"$&/")+"/")+e)),t.push(a)),1;if(s=0,n=n===""?".":n+":",o6(e))for(var o=0;o<e.length;o++){i=e[o];var l=n+R_(i,o);s+=qx(i,t,r,l,a)}else if(l=sX(e),typeof l=="function")for(e=l.call(e),o=0;!(i=e.next()).done;)i=i.value,l=n+R_(i,o++),s+=qx(i,t,r,l,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Vy(e,t,r){if(e==null)return e;var n=[],a=0;return qx(e,n,"","",function(i){return t.call(r,i,a++)}),n}function cX(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ks={current:null},Wx={transition:null},uX={ReactCurrentDispatcher:ks,ReactCurrentBatchConfig:Wx,ReactCurrentOwner:EN};function ZR(){throw Error("act(...) is not supported in production builds of React.")}zr.Children={map:Vy,forEach:function(e,t,r){Vy(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Vy(e,function(){t++}),t},toArray:function(e){return Vy(e,function(t){return t})||[]},only:function(e){if(!kN(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};zr.Component=Kp;zr.Fragment=QY;zr.Profiler=ZY;zr.PureComponent=TN;zr.StrictMode=JY;zr.Suspense=nX;zr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uX;zr.act=ZR;zr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=GR({},e.props),a=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=EN.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)XR.call(t,l)&&!QR.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:M1,type:e.type,key:a,ref:i,props:n,_owner:s}};zr.createContext=function(e){return e={$$typeof:tX,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:eX,_context:e},e.Consumer=e};zr.createElement=JR;zr.createFactory=function(e){var t=JR.bind(null,e);return t.type=e,t};zr.createRef=function(){return{current:null}};zr.forwardRef=function(e){return{$$typeof:rX,render:e}};zr.isValidElement=kN;zr.lazy=function(e){return{$$typeof:iX,_payload:{_status:-1,_result:e},_init:cX}};zr.memo=function(e,t){return{$$typeof:aX,type:e,compare:t===void 0?null:t}};zr.startTransition=function(e){var t=Wx.transition;Wx.transition={};try{e()}finally{Wx.transition=t}};zr.unstable_act=ZR;zr.useCallback=function(e,t){return ks.current.useCallback(e,t)};zr.useContext=function(e){return ks.current.useContext(e)};zr.useDebugValue=function(){};zr.useDeferredValue=function(e){return ks.current.useDeferredValue(e)};zr.useEffect=function(e,t){return ks.current.useEffect(e,t)};zr.useId=function(){return ks.current.useId()};zr.useImperativeHandle=function(e,t,r){return ks.current.useImperativeHandle(e,t,r)};zr.useInsertionEffect=function(e,t){return ks.current.useInsertionEffect(e,t)};zr.useLayoutEffect=function(e,t){return ks.current.useLayoutEffect(e,t)};zr.useMemo=function(e,t){return ks.current.useMemo(e,t)};zr.useReducer=function(e,t,r){return ks.current.useReducer(e,t,r)};zr.useRef=function(e){return ks.current.useRef(e)};zr.useState=function(e){return ks.current.useState(e)};zr.useSyncExternalStore=function(e,t,r){return ks.current.useSyncExternalStore(e,t,r)};zr.useTransition=function(){return ks.current.useTransition()};zr.version="18.3.1";WR.exports=zr;var F=WR.exports;const ze=Dn(F),fX=YY({__proto__:null,default:ze},[F]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dX=F,hX=Symbol.for("react.element"),pX=Symbol.for("react.fragment"),mX=Object.prototype.hasOwnProperty,gX=dX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vX={key:!0,ref:!0,__self:!0,__source:!0};function eF(e,t,r){var n,a={},i=null,s=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)mX.call(t,n)&&!vX.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:hX,type:e,key:i,ref:s,props:a,_owner:gX.current}}Dw.Fragment=pX;Dw.jsx=eF;Dw.jsxs=eF;qR.exports=Dw;var f=qR.exports,tF={exports:{}},go={},rF={exports:{}},nF={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(V,H){var re=V.length;V.push(H);e:for(;0<re;){var ee=re-1>>>1,I=V[ee];if(0<a(I,H))V[ee]=H,V[re]=I,re=ee;else break e}}function r(V){return V.length===0?null:V[0]}function n(V){if(V.length===0)return null;var H=V[0],re=V.pop();if(re!==H){V[0]=re;e:for(var ee=0,I=V.length,M=I>>>1;ee<M;){var q=2*(ee+1)-1,K=V[q],J=q+1,se=V[J];if(0>a(K,re))J<I&&0>a(se,K)?(V[ee]=se,V[J]=re,ee=J):(V[ee]=K,V[q]=re,ee=q);else if(J<I&&0>a(se,re))V[ee]=se,V[J]=re,ee=J;else break e}}return H}function a(V,H){var re=V.sortIndex-H.sortIndex;return re!==0?re:V.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,d=null,h=3,p=!1,g=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(V){for(var H=r(c);H!==null;){if(H.callback===null)n(c);else if(H.startTime<=V)n(c),H.sortIndex=H.expirationTime,t(l,H);else break;H=r(c)}}function D(V){if(m=!1,b(V),!g)if(r(l)!==null)g=!0,z(P);else{var H=r(c);H!==null&&X(D,H.startTime-V)}}function P(V,H){g=!1,m&&(m=!1,y(S),S=-1),p=!0;var re=h;try{for(b(H),d=r(l);d!==null&&(!(d.expirationTime>H)||V&&!N());){var ee=d.callback;if(typeof ee=="function"){d.callback=null,h=d.priorityLevel;var I=ee(d.expirationTime<=H);H=e.unstable_now(),typeof I=="function"?d.callback=I:d===r(l)&&n(l),b(H)}else n(l);d=r(l)}if(d!==null)var M=!0;else{var q=r(c);q!==null&&X(D,q.startTime-H),M=!1}return M}finally{d=null,h=re,p=!1}}var O=!1,T=null,S=-1,_=5,j=-1;function N(){return!(e.unstable_now()-j<_)}function E(){if(T!==null){var V=e.unstable_now();j=V;var H=!0;try{H=T(!0,V)}finally{H?k():(O=!1,T=null)}}else O=!1}var k;if(typeof w=="function")k=function(){w(E)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,G=U.port2;U.port1.onmessage=E,k=function(){G.postMessage(null)}}else k=function(){v(E,0)};function z(V){T=V,O||(O=!0,k())}function X(V,H){S=v(function(){V(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,z(P))},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(V){switch(h){case 1:case 2:case 3:var H=3;break;default:H=h}var re=h;h=H;try{return V()}finally{h=re}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(V,H){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var re=h;h=V;try{return H()}finally{h=re}},e.unstable_scheduleCallback=function(V,H,re){var ee=e.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ee+re:ee):re=ee,V){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=re+I,V={id:u++,callback:H,priorityLevel:V,startTime:re,expirationTime:I,sortIndex:-1},re>ee?(V.sortIndex=re,t(c,V),r(l)===null&&V===r(c)&&(m?(y(S),S=-1):m=!0,X(D,re-ee))):(V.sortIndex=I,t(l,V),g||p||(g=!0,z(P))),V},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(V){var H=h;return function(){var re=h;h=H;try{return V.apply(this,arguments)}finally{h=re}}}})(nF);rF.exports=nF;var yX=rF.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xX=F,ho=yX;function It(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var aF=new Set,ov={};function _h(e,t){ip(e,t),ip(e+"Capture",t)}function ip(e,t){for(ov[e]=t,e=0;e<t.length;e++)aF.add(t[e])}var au=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),FA=Object.prototype.hasOwnProperty,bX=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,c6={},u6={};function wX(e){return FA.call(u6,e)?!0:FA.call(c6,e)?!1:bX.test(e)?u6[e]=!0:(c6[e]=!0,!1)}function _X(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function SX(e,t,r,n){if(t===null||typeof t>"u"||_X(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Cs(e,t,r,n,a,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Ii={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ii[e]=new Cs(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ii[t]=new Cs(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ii[e]=new Cs(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ii[e]=new Cs(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ii[e]=new Cs(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ii[e]=new Cs(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ii[e]=new Cs(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ii[e]=new Cs(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ii[e]=new Cs(e,5,!1,e.toLowerCase(),null,!1,!1)});var CN=/[\-:]([a-z])/g;function PN(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(CN,PN);Ii[t]=new Cs(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(CN,PN);Ii[t]=new Cs(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(CN,PN);Ii[t]=new Cs(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ii[e]=new Cs(e,1,!1,e.toLowerCase(),null,!1,!1)});Ii.xlinkHref=new Cs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ii[e]=new Cs(e,1,!1,e.toLowerCase(),null,!0,!0)});function jN(e,t,r,n){var a=Ii.hasOwnProperty(t)?Ii[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(SX(t,r,a,n)&&(r=null),n||a===null?wX(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var wu=xX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zy=Symbol.for("react.element"),g0=Symbol.for("react.portal"),v0=Symbol.for("react.fragment"),ON=Symbol.for("react.strict_mode"),$A=Symbol.for("react.profiler"),iF=Symbol.for("react.provider"),sF=Symbol.for("react.context"),IN=Symbol.for("react.forward_ref"),BA=Symbol.for("react.suspense"),UA=Symbol.for("react.suspense_list"),DN=Symbol.for("react.memo"),af=Symbol.for("react.lazy"),oF=Symbol.for("react.offscreen"),f6=Symbol.iterator;function Bm(e){return e===null||typeof e!="object"?null:(e=f6&&e[f6]||e["@@iterator"],typeof e=="function"?e:null)}var ua=Object.assign,F_;function fg(e){if(F_===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);F_=t&&t[1]||""}return`
`+F_+e}var $_=!1;function B_(e,t){if(!e||$_)return"";$_=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),i=n.stack.split(`
`),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(s!==1||o!==1)do if(s--,o--,0>o||a[s]!==i[o]){var l=`
`+a[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{$_=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?fg(e):""}function AX(e){switch(e.tag){case 5:return fg(e.type);case 16:return fg("Lazy");case 13:return fg("Suspense");case 19:return fg("SuspenseList");case 0:case 2:case 15:return e=B_(e.type,!1),e;case 11:return e=B_(e.type.render,!1),e;case 1:return e=B_(e.type,!0),e;default:return""}}function VA(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case v0:return"Fragment";case g0:return"Portal";case $A:return"Profiler";case ON:return"StrictMode";case BA:return"Suspense";case UA:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case sF:return(e.displayName||"Context")+".Consumer";case iF:return(e._context.displayName||"Context")+".Provider";case IN:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case DN:return t=e.displayName||null,t!==null?t:VA(e.type)||"Memo";case af:t=e._payload,e=e._init;try{return VA(e(t))}catch{}}return null}function TX(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return VA(t);case 8:return t===ON?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Bf(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function lF(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function NX(e){var t=lF(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qy(e){e._valueTracker||(e._valueTracker=NX(e))}function cF(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=lF(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function x2(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function zA(e,t){var r=t.checked;return ua({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function d6(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Bf(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function uF(e,t){t=t.checked,t!=null&&jN(e,"checked",t,!1)}function qA(e,t){uF(e,t);var r=Bf(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?WA(e,t.type,r):t.hasOwnProperty("defaultValue")&&WA(e,t.type,Bf(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function h6(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function WA(e,t,r){(t!=="number"||x2(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var dg=Array.isArray;function F0(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Bf(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function HA(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(It(91));return ua({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function p6(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(It(92));if(dg(r)){if(1<r.length)throw Error(It(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Bf(r)}}function fF(e,t){var r=Bf(t.value),n=Bf(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function m6(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function dF(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function GA(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?dF(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Wy,hF=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Wy=Wy||document.createElement("div"),Wy.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Wy.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function lv(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Tg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},EX=["Webkit","ms","Moz","O"];Object.keys(Tg).forEach(function(e){EX.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Tg[t]=Tg[e]})});function pF(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Tg.hasOwnProperty(e)&&Tg[e]?(""+t).trim():t+"px"}function mF(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=pF(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var kX=ua({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function KA(e,t){if(t){if(kX[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(It(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(It(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(It(61))}if(t.style!=null&&typeof t.style!="object")throw Error(It(62))}}function YA(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var XA=null;function LN(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var QA=null,$0=null,B0=null;function g6(e){if(e=$1(e)){if(typeof QA!="function")throw Error(It(280));var t=e.stateNode;t&&(t=$w(t),QA(e.stateNode,e.type,t))}}function gF(e){$0?B0?B0.push(e):B0=[e]:$0=e}function vF(){if($0){var e=$0,t=B0;if(B0=$0=null,g6(e),t)for(e=0;e<t.length;e++)g6(t[e])}}function yF(e,t){return e(t)}function xF(){}var U_=!1;function bF(e,t,r){if(U_)return e(t,r);U_=!0;try{return yF(e,t,r)}finally{U_=!1,($0!==null||B0!==null)&&(xF(),vF())}}function cv(e,t){var r=e.stateNode;if(r===null)return null;var n=$w(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(It(231,t,typeof r));return r}var JA=!1;if(au)try{var Um={};Object.defineProperty(Um,"passive",{get:function(){JA=!0}}),window.addEventListener("test",Um,Um),window.removeEventListener("test",Um,Um)}catch{JA=!1}function CX(e,t,r,n,a,i,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var Ng=!1,b2=null,w2=!1,ZA=null,PX={onError:function(e){Ng=!0,b2=e}};function jX(e,t,r,n,a,i,s,o,l){Ng=!1,b2=null,CX.apply(PX,arguments)}function OX(e,t,r,n,a,i,s,o,l){if(jX.apply(this,arguments),Ng){if(Ng){var c=b2;Ng=!1,b2=null}else throw Error(It(198));w2||(w2=!0,ZA=c)}}function Sh(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function wF(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v6(e){if(Sh(e)!==e)throw Error(It(188))}function IX(e){var t=e.alternate;if(!t){if(t=Sh(e),t===null)throw Error(It(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return v6(a),e;if(i===n)return v6(a),t;i=i.sibling}throw Error(It(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s){for(o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s)throw Error(It(189))}}if(r.alternate!==n)throw Error(It(190))}if(r.tag!==3)throw Error(It(188));return r.stateNode.current===r?e:t}function _F(e){return e=IX(e),e!==null?SF(e):null}function SF(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=SF(e);if(t!==null)return t;e=e.sibling}return null}var AF=ho.unstable_scheduleCallback,y6=ho.unstable_cancelCallback,DX=ho.unstable_shouldYield,LX=ho.unstable_requestPaint,Na=ho.unstable_now,MX=ho.unstable_getCurrentPriorityLevel,MN=ho.unstable_ImmediatePriority,TF=ho.unstable_UserBlockingPriority,_2=ho.unstable_NormalPriority,RX=ho.unstable_LowPriority,NF=ho.unstable_IdlePriority,Lw=null,tc=null;function FX(e){if(tc&&typeof tc.onCommitFiberRoot=="function")try{tc.onCommitFiberRoot(Lw,e,void 0,(e.current.flags&128)===128)}catch{}}var El=Math.clz32?Math.clz32:UX,$X=Math.log,BX=Math.LN2;function UX(e){return e>>>=0,e===0?32:31-($X(e)/BX|0)|0}var Hy=64,Gy=4194304;function hg(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function S2(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~a;o!==0?n=hg(o):(i&=s,i!==0&&(n=hg(i)))}else s=r&~a,s!==0?n=hg(s):i!==0&&(n=hg(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-El(t),a=1<<r,n|=e[r],t&=~a;return n}function VX(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zX(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-El(i),o=1<<s,l=a[s];l===-1?(!(o&r)||o&n)&&(a[s]=VX(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}function e4(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function EF(){var e=Hy;return Hy<<=1,!(Hy&4194240)&&(Hy=64),e}function V_(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function R1(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-El(t),e[t]=r}function qX(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-El(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function RN(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-El(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Cn=0;function kF(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var CF,FN,PF,jF,OF,t4=!1,Ky=[],Sf=null,Af=null,Tf=null,uv=new Map,fv=new Map,lf=[],WX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function x6(e,t){switch(e){case"focusin":case"focusout":Sf=null;break;case"dragenter":case"dragleave":Af=null;break;case"mouseover":case"mouseout":Tf=null;break;case"pointerover":case"pointerout":uv.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fv.delete(t.pointerId)}}function Vm(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=$1(t),t!==null&&FN(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function HX(e,t,r,n,a){switch(t){case"focusin":return Sf=Vm(Sf,e,t,r,n,a),!0;case"dragenter":return Af=Vm(Af,e,t,r,n,a),!0;case"mouseover":return Tf=Vm(Tf,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return uv.set(i,Vm(uv.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,fv.set(i,Vm(fv.get(i)||null,e,t,r,n,a)),!0}return!1}function IF(e){var t=Md(e.target);if(t!==null){var r=Sh(t);if(r!==null){if(t=r.tag,t===13){if(t=wF(r),t!==null){e.blockedOn=t,OF(e.priority,function(){PF(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hx(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=r4(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);XA=n,r.target.dispatchEvent(n),XA=null}else return t=$1(r),t!==null&&FN(t),e.blockedOn=r,!1;t.shift()}return!0}function b6(e,t,r){Hx(e)&&r.delete(t)}function GX(){t4=!1,Sf!==null&&Hx(Sf)&&(Sf=null),Af!==null&&Hx(Af)&&(Af=null),Tf!==null&&Hx(Tf)&&(Tf=null),uv.forEach(b6),fv.forEach(b6)}function zm(e,t){e.blockedOn===t&&(e.blockedOn=null,t4||(t4=!0,ho.unstable_scheduleCallback(ho.unstable_NormalPriority,GX)))}function dv(e){function t(a){return zm(a,e)}if(0<Ky.length){zm(Ky[0],e);for(var r=1;r<Ky.length;r++){var n=Ky[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Sf!==null&&zm(Sf,e),Af!==null&&zm(Af,e),Tf!==null&&zm(Tf,e),uv.forEach(t),fv.forEach(t),r=0;r<lf.length;r++)n=lf[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<lf.length&&(r=lf[0],r.blockedOn===null);)IF(r),r.blockedOn===null&&lf.shift()}var U0=wu.ReactCurrentBatchConfig,A2=!0;function KX(e,t,r,n){var a=Cn,i=U0.transition;U0.transition=null;try{Cn=1,$N(e,t,r,n)}finally{Cn=a,U0.transition=i}}function YX(e,t,r,n){var a=Cn,i=U0.transition;U0.transition=null;try{Cn=4,$N(e,t,r,n)}finally{Cn=a,U0.transition=i}}function $N(e,t,r,n){if(A2){var a=r4(e,t,r,n);if(a===null)J_(e,t,n,T2,r),x6(e,n);else if(HX(a,e,t,r,n))n.stopPropagation();else if(x6(e,n),t&4&&-1<WX.indexOf(e)){for(;a!==null;){var i=$1(a);if(i!==null&&CF(i),i=r4(e,t,r,n),i===null&&J_(e,t,n,T2,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else J_(e,t,n,null,r)}}var T2=null;function r4(e,t,r,n){if(T2=null,e=LN(n),e=Md(e),e!==null)if(t=Sh(e),t===null)e=null;else if(r=t.tag,r===13){if(e=wF(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return T2=e,null}function DF(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(MX()){case MN:return 1;case TF:return 4;case _2:case RX:return 16;case NF:return 536870912;default:return 16}default:return 16}}var pf=null,BN=null,Gx=null;function LF(){if(Gx)return Gx;var e,t=BN,r=t.length,n,a="value"in pf?pf.value:pf.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===a[i-n];n++);return Gx=a.slice(e,1<n?1-n:void 0)}function Kx(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Yy(){return!0}function w6(){return!1}function vo(e){function t(r,n,a,i,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Yy:w6,this.isPropagationStopped=w6,this}return ua(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Yy)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Yy)},persist:function(){},isPersistent:Yy}),t}var Yp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},UN=vo(Yp),F1=ua({},Yp,{view:0,detail:0}),XX=vo(F1),z_,q_,qm,Mw=ua({},F1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:VN,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qm&&(qm&&e.type==="mousemove"?(z_=e.screenX-qm.screenX,q_=e.screenY-qm.screenY):q_=z_=0,qm=e),z_)},movementY:function(e){return"movementY"in e?e.movementY:q_}}),_6=vo(Mw),QX=ua({},Mw,{dataTransfer:0}),JX=vo(QX),ZX=ua({},F1,{relatedTarget:0}),W_=vo(ZX),eQ=ua({},Yp,{animationName:0,elapsedTime:0,pseudoElement:0}),tQ=vo(eQ),rQ=ua({},Yp,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),nQ=vo(rQ),aQ=ua({},Yp,{data:0}),S6=vo(aQ),iQ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sQ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oQ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lQ(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=oQ[e])?!!t[e]:!1}function VN(){return lQ}var cQ=ua({},F1,{key:function(e){if(e.key){var t=iQ[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Kx(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?sQ[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:VN,charCode:function(e){return e.type==="keypress"?Kx(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Kx(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),uQ=vo(cQ),fQ=ua({},Mw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),A6=vo(fQ),dQ=ua({},F1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:VN}),hQ=vo(dQ),pQ=ua({},Yp,{propertyName:0,elapsedTime:0,pseudoElement:0}),mQ=vo(pQ),gQ=ua({},Mw,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),vQ=vo(gQ),yQ=[9,13,27,32],zN=au&&"CompositionEvent"in window,Eg=null;au&&"documentMode"in document&&(Eg=document.documentMode);var xQ=au&&"TextEvent"in window&&!Eg,MF=au&&(!zN||Eg&&8<Eg&&11>=Eg),T6=" ",N6=!1;function RF(e,t){switch(e){case"keyup":return yQ.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function FF(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var y0=!1;function bQ(e,t){switch(e){case"compositionend":return FF(t);case"keypress":return t.which!==32?null:(N6=!0,T6);case"textInput":return e=t.data,e===T6&&N6?null:e;default:return null}}function wQ(e,t){if(y0)return e==="compositionend"||!zN&&RF(e,t)?(e=LF(),Gx=BN=pf=null,y0=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return MF&&t.locale!=="ko"?null:t.data;default:return null}}var _Q={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function E6(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_Q[e.type]:t==="textarea"}function $F(e,t,r,n){gF(n),t=N2(t,"onChange"),0<t.length&&(r=new UN("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var kg=null,hv=null;function SQ(e){XF(e,0)}function Rw(e){var t=w0(e);if(cF(t))return e}function AQ(e,t){if(e==="change")return t}var BF=!1;if(au){var H_;if(au){var G_="oninput"in document;if(!G_){var k6=document.createElement("div");k6.setAttribute("oninput","return;"),G_=typeof k6.oninput=="function"}H_=G_}else H_=!1;BF=H_&&(!document.documentMode||9<document.documentMode)}function C6(){kg&&(kg.detachEvent("onpropertychange",UF),hv=kg=null)}function UF(e){if(e.propertyName==="value"&&Rw(hv)){var t=[];$F(t,hv,e,LN(e)),bF(SQ,t)}}function TQ(e,t,r){e==="focusin"?(C6(),kg=t,hv=r,kg.attachEvent("onpropertychange",UF)):e==="focusout"&&C6()}function NQ(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Rw(hv)}function EQ(e,t){if(e==="click")return Rw(t)}function kQ(e,t){if(e==="input"||e==="change")return Rw(t)}function CQ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jl=typeof Object.is=="function"?Object.is:CQ;function pv(e,t){if(jl(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!FA.call(t,a)||!jl(e[a],t[a]))return!1}return!0}function P6(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function j6(e,t){var r=P6(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=P6(r)}}function VF(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?VF(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function zF(){for(var e=window,t=x2();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=x2(e.document)}return t}function qN(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function PQ(e){var t=zF(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&VF(r.ownerDocument.documentElement,r)){if(n!==null&&qN(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=j6(r,i);var s=j6(r,n);a&&s&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var jQ=au&&"documentMode"in document&&11>=document.documentMode,x0=null,n4=null,Cg=null,a4=!1;function O6(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;a4||x0==null||x0!==x2(n)||(n=x0,"selectionStart"in n&&qN(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Cg&&pv(Cg,n)||(Cg=n,n=N2(n4,"onSelect"),0<n.length&&(t=new UN("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=x0)))}function Xy(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var b0={animationend:Xy("Animation","AnimationEnd"),animationiteration:Xy("Animation","AnimationIteration"),animationstart:Xy("Animation","AnimationStart"),transitionend:Xy("Transition","TransitionEnd")},K_={},qF={};au&&(qF=document.createElement("div").style,"AnimationEvent"in window||(delete b0.animationend.animation,delete b0.animationiteration.animation,delete b0.animationstart.animation),"TransitionEvent"in window||delete b0.transitionend.transition);function Fw(e){if(K_[e])return K_[e];if(!b0[e])return e;var t=b0[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in qF)return K_[e]=t[r];return e}var WF=Fw("animationend"),HF=Fw("animationiteration"),GF=Fw("animationstart"),KF=Fw("transitionend"),YF=new Map,I6="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zf(e,t){YF.set(e,t),_h(t,[e])}for(var Y_=0;Y_<I6.length;Y_++){var X_=I6[Y_],OQ=X_.toLowerCase(),IQ=X_[0].toUpperCase()+X_.slice(1);Zf(OQ,"on"+IQ)}Zf(WF,"onAnimationEnd");Zf(HF,"onAnimationIteration");Zf(GF,"onAnimationStart");Zf("dblclick","onDoubleClick");Zf("focusin","onFocus");Zf("focusout","onBlur");Zf(KF,"onTransitionEnd");ip("onMouseEnter",["mouseout","mouseover"]);ip("onMouseLeave",["mouseout","mouseover"]);ip("onPointerEnter",["pointerout","pointerover"]);ip("onPointerLeave",["pointerout","pointerover"]);_h("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_h("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_h("onBeforeInput",["compositionend","keypress","textInput","paste"]);_h("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_h("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_h("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DQ=new Set("cancel close invalid load scroll toggle".split(" ").concat(pg));function D6(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,OX(n,t,void 0,e),e.currentTarget=null}function XF(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;D6(a,o,c),i=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;D6(a,o,c),i=l}}}if(w2)throw e=ZA,w2=!1,ZA=null,e}function Hn(e,t){var r=t[c4];r===void 0&&(r=t[c4]=new Set);var n=e+"__bubble";r.has(n)||(QF(t,e,2,!1),r.add(n))}function Q_(e,t,r){var n=0;t&&(n|=4),QF(r,e,n,t)}var Qy="_reactListening"+Math.random().toString(36).slice(2);function mv(e){if(!e[Qy]){e[Qy]=!0,aF.forEach(function(r){r!=="selectionchange"&&(DQ.has(r)||Q_(r,!1,e),Q_(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Qy]||(t[Qy]=!0,Q_("selectionchange",!1,t))}}function QF(e,t,r,n){switch(DF(t)){case 1:var a=KX;break;case 4:a=YX;break;default:a=$N}r=a.bind(null,t,r,e),a=void 0,!JA||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function J_(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;s=s.return}for(;o!==null;){if(s=Md(o),s===null)return;if(l=s.tag,l===5||l===6){n=i=s;continue e}o=o.parentNode}}n=n.return}bF(function(){var c=i,u=LN(r),d=[];e:{var h=YF.get(e);if(h!==void 0){var p=UN,g=e;switch(e){case"keypress":if(Kx(r)===0)break e;case"keydown":case"keyup":p=uQ;break;case"focusin":g="focus",p=W_;break;case"focusout":g="blur",p=W_;break;case"beforeblur":case"afterblur":p=W_;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=_6;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=JX;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=hQ;break;case WF:case HF:case GF:p=tQ;break;case KF:p=mQ;break;case"scroll":p=XX;break;case"wheel":p=vQ;break;case"copy":case"cut":case"paste":p=nQ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=A6}var m=(t&4)!==0,v=!m&&e==="scroll",y=m?h!==null?h+"Capture":null:h;m=[];for(var w=c,b;w!==null;){b=w;var D=b.stateNode;if(b.tag===5&&D!==null&&(b=D,y!==null&&(D=cv(w,y),D!=null&&m.push(gv(w,D,b)))),v)break;w=w.return}0<m.length&&(h=new p(h,g,null,r,u),d.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==XA&&(g=r.relatedTarget||r.fromElement)&&(Md(g)||g[iu]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=c,g=g?Md(g):null,g!==null&&(v=Sh(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(m=_6,D="onMouseLeave",y="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(m=A6,D="onPointerLeave",y="onPointerEnter",w="pointer"),v=p==null?h:w0(p),b=g==null?h:w0(g),h=new m(D,w+"leave",p,r,u),h.target=v,h.relatedTarget=b,D=null,Md(u)===c&&(m=new m(y,w+"enter",g,r,u),m.target=b,m.relatedTarget=v,D=m),v=D,p&&g)t:{for(m=p,y=g,w=0,b=m;b;b=e0(b))w++;for(b=0,D=y;D;D=e0(D))b++;for(;0<w-b;)m=e0(m),w--;for(;0<b-w;)y=e0(y),b--;for(;w--;){if(m===y||y!==null&&m===y.alternate)break t;m=e0(m),y=e0(y)}m=null}else m=null;p!==null&&L6(d,h,p,m,!1),g!==null&&v!==null&&L6(d,v,g,m,!0)}}e:{if(h=c?w0(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var P=AQ;else if(E6(h))if(BF)P=kQ;else{P=NQ;var O=TQ}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(P=EQ);if(P&&(P=P(e,c))){$F(d,P,r,u);break e}O&&O(e,h,c),e==="focusout"&&(O=h._wrapperState)&&O.controlled&&h.type==="number"&&WA(h,"number",h.value)}switch(O=c?w0(c):window,e){case"focusin":(E6(O)||O.contentEditable==="true")&&(x0=O,n4=c,Cg=null);break;case"focusout":Cg=n4=x0=null;break;case"mousedown":a4=!0;break;case"contextmenu":case"mouseup":case"dragend":a4=!1,O6(d,r,u);break;case"selectionchange":if(jQ)break;case"keydown":case"keyup":O6(d,r,u)}var T;if(zN)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else y0?RF(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(MF&&r.locale!=="ko"&&(y0||S!=="onCompositionStart"?S==="onCompositionEnd"&&y0&&(T=LF()):(pf=u,BN="value"in pf?pf.value:pf.textContent,y0=!0)),O=N2(c,S),0<O.length&&(S=new S6(S,e,null,r,u),d.push({event:S,listeners:O}),T?S.data=T:(T=FF(r),T!==null&&(S.data=T)))),(T=xQ?bQ(e,r):wQ(e,r))&&(c=N2(c,"onBeforeInput"),0<c.length&&(u=new S6("onBeforeInput","beforeinput",null,r,u),d.push({event:u,listeners:c}),u.data=T))}XF(d,t)})}function gv(e,t,r){return{instance:e,listener:t,currentTarget:r}}function N2(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=cv(e,r),i!=null&&n.unshift(gv(e,i,a)),i=cv(e,t),i!=null&&n.push(gv(e,i,a))),e=e.return}return n}function e0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function L6(e,t,r,n,a){for(var i=t._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,a?(l=cv(r,i),l!=null&&s.unshift(gv(r,l,o))):a||(l=cv(r,i),l!=null&&s.push(gv(r,l,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var LQ=/\r\n?/g,MQ=/\u0000|\uFFFD/g;function M6(e){return(typeof e=="string"?e:""+e).replace(LQ,`
`).replace(MQ,"")}function Jy(e,t,r){if(t=M6(t),M6(e)!==t&&r)throw Error(It(425))}function E2(){}var i4=null,s4=null;function o4(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var l4=typeof setTimeout=="function"?setTimeout:void 0,RQ=typeof clearTimeout=="function"?clearTimeout:void 0,R6=typeof Promise=="function"?Promise:void 0,FQ=typeof queueMicrotask=="function"?queueMicrotask:typeof R6<"u"?function(e){return R6.resolve(null).then(e).catch($Q)}:l4;function $Q(e){setTimeout(function(){throw e})}function Z_(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),dv(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);dv(t)}function Nf(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function F6(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Xp=Math.random().toString(36).slice(2),Jl="__reactFiber$"+Xp,vv="__reactProps$"+Xp,iu="__reactContainer$"+Xp,c4="__reactEvents$"+Xp,BQ="__reactListeners$"+Xp,UQ="__reactHandles$"+Xp;function Md(e){var t=e[Jl];if(t)return t;for(var r=e.parentNode;r;){if(t=r[iu]||r[Jl]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=F6(e);e!==null;){if(r=e[Jl])return r;e=F6(e)}return t}e=r,r=e.parentNode}return null}function $1(e){return e=e[Jl]||e[iu],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function w0(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(It(33))}function $w(e){return e[vv]||null}var u4=[],_0=-1;function ed(e){return{current:e}}function Jn(e){0>_0||(e.current=u4[_0],u4[_0]=null,_0--)}function qn(e,t){_0++,u4[_0]=e.current,e.current=t}var Uf={},os=ed(Uf),zs=ed(!1),ah=Uf;function sp(e,t){var r=e.type.contextTypes;if(!r)return Uf;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function qs(e){return e=e.childContextTypes,e!=null}function k2(){Jn(zs),Jn(os)}function $6(e,t,r){if(os.current!==Uf)throw Error(It(168));qn(os,t),qn(zs,r)}function JF(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(It(108,TX(e)||"Unknown",a));return ua({},r,n)}function C2(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Uf,ah=os.current,qn(os,e),qn(zs,zs.current),!0}function B6(e,t,r){var n=e.stateNode;if(!n)throw Error(It(169));r?(e=JF(e,t,ah),n.__reactInternalMemoizedMergedChildContext=e,Jn(zs),Jn(os),qn(os,e)):Jn(zs),qn(zs,r)}var Bc=null,Bw=!1,eS=!1;function ZF(e){Bc===null?Bc=[e]:Bc.push(e)}function VQ(e){Bw=!0,ZF(e)}function td(){if(!eS&&Bc!==null){eS=!0;var e=0,t=Cn;try{var r=Bc;for(Cn=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Bc=null,Bw=!1}catch(a){throw Bc!==null&&(Bc=Bc.slice(e+1)),AF(MN,td),a}finally{Cn=t,eS=!1}}return null}var S0=[],A0=0,P2=null,j2=0,Do=[],Lo=0,ih=null,Vc=1,zc="";function Td(e,t){S0[A0++]=j2,S0[A0++]=P2,P2=e,j2=t}function e$(e,t,r){Do[Lo++]=Vc,Do[Lo++]=zc,Do[Lo++]=ih,ih=e;var n=Vc;e=zc;var a=32-El(n)-1;n&=~(1<<a),r+=1;var i=32-El(t)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,Vc=1<<32-El(t)+a|r<<a|n,zc=i+e}else Vc=1<<i|r<<a|n,zc=e}function WN(e){e.return!==null&&(Td(e,1),e$(e,1,0))}function HN(e){for(;e===P2;)P2=S0[--A0],S0[A0]=null,j2=S0[--A0],S0[A0]=null;for(;e===ih;)ih=Do[--Lo],Do[Lo]=null,zc=Do[--Lo],Do[Lo]=null,Vc=Do[--Lo],Do[Lo]=null}var fo=null,lo=null,ta=!1,xl=null;function t$(e,t){var r=Ro(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function U6(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,fo=e,lo=Nf(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,fo=e,lo=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ih!==null?{id:Vc,overflow:zc}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ro(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,fo=e,lo=null,!0):!1;default:return!1}}function f4(e){return(e.mode&1)!==0&&(e.flags&128)===0}function d4(e){if(ta){var t=lo;if(t){var r=t;if(!U6(e,t)){if(f4(e))throw Error(It(418));t=Nf(r.nextSibling);var n=fo;t&&U6(e,t)?t$(n,r):(e.flags=e.flags&-4097|2,ta=!1,fo=e)}}else{if(f4(e))throw Error(It(418));e.flags=e.flags&-4097|2,ta=!1,fo=e}}}function V6(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;fo=e}function Zy(e){if(e!==fo)return!1;if(!ta)return V6(e),ta=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!o4(e.type,e.memoizedProps)),t&&(t=lo)){if(f4(e))throw r$(),Error(It(418));for(;t;)t$(e,t),t=Nf(t.nextSibling)}if(V6(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(It(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){lo=Nf(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}lo=null}}else lo=fo?Nf(e.stateNode.nextSibling):null;return!0}function r$(){for(var e=lo;e;)e=Nf(e.nextSibling)}function op(){lo=fo=null,ta=!1}function GN(e){xl===null?xl=[e]:xl.push(e)}var zQ=wu.ReactCurrentBatchConfig;function Wm(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(It(309));var n=r.stateNode}if(!n)throw Error(It(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var o=a.refs;s===null?delete o[i]:o[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(It(284));if(!r._owner)throw Error(It(290,e))}return e}function ex(e,t){throw e=Object.prototype.toString.call(t),Error(It(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function z6(e){var t=e._init;return t(e._payload)}function n$(e){function t(y,w){if(e){var b=y.deletions;b===null?(y.deletions=[w],y.flags|=16):b.push(w)}}function r(y,w){if(!e)return null;for(;w!==null;)t(y,w),w=w.sibling;return null}function n(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function a(y,w){return y=Pf(y,w),y.index=0,y.sibling=null,y}function i(y,w,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<w?(y.flags|=2,w):b):(y.flags|=2,w)):(y.flags|=1048576,w)}function s(y){return e&&y.alternate===null&&(y.flags|=2),y}function o(y,w,b,D){return w===null||w.tag!==6?(w=oS(b,y.mode,D),w.return=y,w):(w=a(w,b),w.return=y,w)}function l(y,w,b,D){var P=b.type;return P===v0?u(y,w,b.props.children,D,b.key):w!==null&&(w.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===af&&z6(P)===w.type)?(D=a(w,b.props),D.ref=Wm(y,w,b),D.return=y,D):(D=t2(b.type,b.key,b.props,null,y.mode,D),D.ref=Wm(y,w,b),D.return=y,D)}function c(y,w,b,D){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=lS(b,y.mode,D),w.return=y,w):(w=a(w,b.children||[]),w.return=y,w)}function u(y,w,b,D,P){return w===null||w.tag!==7?(w=Yd(b,y.mode,D,P),w.return=y,w):(w=a(w,b),w.return=y,w)}function d(y,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=oS(""+w,y.mode,b),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case zy:return b=t2(w.type,w.key,w.props,null,y.mode,b),b.ref=Wm(y,null,w),b.return=y,b;case g0:return w=lS(w,y.mode,b),w.return=y,w;case af:var D=w._init;return d(y,D(w._payload),b)}if(dg(w)||Bm(w))return w=Yd(w,y.mode,b,null),w.return=y,w;ex(y,w)}return null}function h(y,w,b,D){var P=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return P!==null?null:o(y,w,""+b,D);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case zy:return b.key===P?l(y,w,b,D):null;case g0:return b.key===P?c(y,w,b,D):null;case af:return P=b._init,h(y,w,P(b._payload),D)}if(dg(b)||Bm(b))return P!==null?null:u(y,w,b,D,null);ex(y,b)}return null}function p(y,w,b,D,P){if(typeof D=="string"&&D!==""||typeof D=="number")return y=y.get(b)||null,o(w,y,""+D,P);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case zy:return y=y.get(D.key===null?b:D.key)||null,l(w,y,D,P);case g0:return y=y.get(D.key===null?b:D.key)||null,c(w,y,D,P);case af:var O=D._init;return p(y,w,b,O(D._payload),P)}if(dg(D)||Bm(D))return y=y.get(b)||null,u(w,y,D,P,null);ex(w,D)}return null}function g(y,w,b,D){for(var P=null,O=null,T=w,S=w=0,_=null;T!==null&&S<b.length;S++){T.index>S?(_=T,T=null):_=T.sibling;var j=h(y,T,b[S],D);if(j===null){T===null&&(T=_);break}e&&T&&j.alternate===null&&t(y,T),w=i(j,w,S),O===null?P=j:O.sibling=j,O=j,T=_}if(S===b.length)return r(y,T),ta&&Td(y,S),P;if(T===null){for(;S<b.length;S++)T=d(y,b[S],D),T!==null&&(w=i(T,w,S),O===null?P=T:O.sibling=T,O=T);return ta&&Td(y,S),P}for(T=n(y,T);S<b.length;S++)_=p(T,y,S,b[S],D),_!==null&&(e&&_.alternate!==null&&T.delete(_.key===null?S:_.key),w=i(_,w,S),O===null?P=_:O.sibling=_,O=_);return e&&T.forEach(function(N){return t(y,N)}),ta&&Td(y,S),P}function m(y,w,b,D){var P=Bm(b);if(typeof P!="function")throw Error(It(150));if(b=P.call(b),b==null)throw Error(It(151));for(var O=P=null,T=w,S=w=0,_=null,j=b.next();T!==null&&!j.done;S++,j=b.next()){T.index>S?(_=T,T=null):_=T.sibling;var N=h(y,T,j.value,D);if(N===null){T===null&&(T=_);break}e&&T&&N.alternate===null&&t(y,T),w=i(N,w,S),O===null?P=N:O.sibling=N,O=N,T=_}if(j.done)return r(y,T),ta&&Td(y,S),P;if(T===null){for(;!j.done;S++,j=b.next())j=d(y,j.value,D),j!==null&&(w=i(j,w,S),O===null?P=j:O.sibling=j,O=j);return ta&&Td(y,S),P}for(T=n(y,T);!j.done;S++,j=b.next())j=p(T,y,S,j.value,D),j!==null&&(e&&j.alternate!==null&&T.delete(j.key===null?S:j.key),w=i(j,w,S),O===null?P=j:O.sibling=j,O=j);return e&&T.forEach(function(E){return t(y,E)}),ta&&Td(y,S),P}function v(y,w,b,D){if(typeof b=="object"&&b!==null&&b.type===v0&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case zy:e:{for(var P=b.key,O=w;O!==null;){if(O.key===P){if(P=b.type,P===v0){if(O.tag===7){r(y,O.sibling),w=a(O,b.props.children),w.return=y,y=w;break e}}else if(O.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===af&&z6(P)===O.type){r(y,O.sibling),w=a(O,b.props),w.ref=Wm(y,O,b),w.return=y,y=w;break e}r(y,O);break}else t(y,O);O=O.sibling}b.type===v0?(w=Yd(b.props.children,y.mode,D,b.key),w.return=y,y=w):(D=t2(b.type,b.key,b.props,null,y.mode,D),D.ref=Wm(y,w,b),D.return=y,y=D)}return s(y);case g0:e:{for(O=b.key;w!==null;){if(w.key===O)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){r(y,w.sibling),w=a(w,b.children||[]),w.return=y,y=w;break e}else{r(y,w);break}else t(y,w);w=w.sibling}w=lS(b,y.mode,D),w.return=y,y=w}return s(y);case af:return O=b._init,v(y,w,O(b._payload),D)}if(dg(b))return g(y,w,b,D);if(Bm(b))return m(y,w,b,D);ex(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(r(y,w.sibling),w=a(w,b),w.return=y,y=w):(r(y,w),w=oS(b,y.mode,D),w.return=y,y=w),s(y)):r(y,w)}return v}var lp=n$(!0),a$=n$(!1),O2=ed(null),I2=null,T0=null,KN=null;function YN(){KN=T0=I2=null}function XN(e){var t=O2.current;Jn(O2),e._currentValue=t}function h4(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function V0(e,t){I2=e,KN=T0=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&($s=!0),e.firstContext=null)}function qo(e){var t=e._currentValue;if(KN!==e)if(e={context:e,memoizedValue:t,next:null},T0===null){if(I2===null)throw Error(It(308));T0=e,I2.dependencies={lanes:0,firstContext:e}}else T0=T0.next=e;return t}var Rd=null;function QN(e){Rd===null?Rd=[e]:Rd.push(e)}function i$(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,QN(t)):(r.next=a.next,a.next=r),t.interleaved=r,su(e,n)}function su(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var sf=!1;function JN(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function s$(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Yc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ef(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,un&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,su(e,r)}return a=n.interleaved,a===null?(t.next=t,QN(n)):(t.next=a.next,a.next=t),n.interleaved=t,su(e,r)}function Yx(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,RN(e,r)}}function q6(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function D2(e,t,r,n){var a=e.updateQueue;sf=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?i=c:s.next=c,s=l;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=a.baseState;s=0,u=c=l=null,o=i;do{var h=o.lane,p=o.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,m=o;switch(h=t,p=r,m.tag){case 1:if(g=m.payload,typeof g=="function"){d=g.call(p,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,d,h):g,h==null)break e;d=ua({},d,h);break e;case 2:sf=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,s|=h;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;h=o,o=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(u===null&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do s|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);oh|=s,e.lanes=s,e.memoizedState=d}}function W6(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(It(191,a));a.call(n)}}}var B1={},rc=ed(B1),yv=ed(B1),xv=ed(B1);function Fd(e){if(e===B1)throw Error(It(174));return e}function ZN(e,t){switch(qn(xv,t),qn(yv,e),qn(rc,B1),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:GA(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=GA(t,e)}Jn(rc),qn(rc,t)}function cp(){Jn(rc),Jn(yv),Jn(xv)}function o$(e){Fd(xv.current);var t=Fd(rc.current),r=GA(t,e.type);t!==r&&(qn(yv,e),qn(rc,r))}function eE(e){yv.current===e&&(Jn(rc),Jn(yv))}var oa=ed(0);function L2(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tS=[];function tE(){for(var e=0;e<tS.length;e++)tS[e]._workInProgressVersionPrimary=null;tS.length=0}var Xx=wu.ReactCurrentDispatcher,rS=wu.ReactCurrentBatchConfig,sh=0,la=null,Qa=null,fi=null,M2=!1,Pg=!1,bv=0,qQ=0;function Fi(){throw Error(It(321))}function rE(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!jl(e[r],t[r]))return!1;return!0}function nE(e,t,r,n,a,i){if(sh=i,la=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xx.current=e===null||e.memoizedState===null?KQ:YQ,e=r(n,a),Pg){i=0;do{if(Pg=!1,bv=0,25<=i)throw Error(It(301));i+=1,fi=Qa=null,t.updateQueue=null,Xx.current=XQ,e=r(n,a)}while(Pg)}if(Xx.current=R2,t=Qa!==null&&Qa.next!==null,sh=0,fi=Qa=la=null,M2=!1,t)throw Error(It(300));return e}function aE(){var e=bv!==0;return bv=0,e}function Xl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fi===null?la.memoizedState=fi=e:fi=fi.next=e,fi}function Wo(){if(Qa===null){var e=la.alternate;e=e!==null?e.memoizedState:null}else e=Qa.next;var t=fi===null?la.memoizedState:fi.next;if(t!==null)fi=t,Qa=e;else{if(e===null)throw Error(It(310));Qa=e,e={memoizedState:Qa.memoizedState,baseState:Qa.baseState,baseQueue:Qa.baseQueue,queue:Qa.queue,next:null},fi===null?la.memoizedState=fi=e:fi=fi.next=e}return fi}function wv(e,t){return typeof t=="function"?t(e):t}function nS(e){var t=Wo(),r=t.queue;if(r===null)throw Error(It(311));r.lastRenderedReducer=e;var n=Qa,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=s=null,l=null,c=i;do{var u=c.lane;if((sh&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=d,s=n):l=l.next=d,la.lanes|=u,oh|=u}c=c.next}while(c!==null&&c!==i);l===null?s=n:l.next=o,jl(n,t.memoizedState)||($s=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,la.lanes|=i,oh|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function aS(e){var t=Wo(),r=t.queue;if(r===null)throw Error(It(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do i=e(i,s.action),s=s.next;while(s!==a);jl(i,t.memoizedState)||($s=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function l$(){}function c$(e,t){var r=la,n=Wo(),a=t(),i=!jl(n.memoizedState,a);if(i&&(n.memoizedState=a,$s=!0),n=n.queue,iE(d$.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||fi!==null&&fi.memoizedState.tag&1){if(r.flags|=2048,_v(9,f$.bind(null,r,n,a,t),void 0,null),pi===null)throw Error(It(349));sh&30||u$(r,t,a)}return a}function u$(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=la.updateQueue,t===null?(t={lastEffect:null,stores:null},la.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function f$(e,t,r,n){t.value=r,t.getSnapshot=n,h$(t)&&p$(e)}function d$(e,t,r){return r(function(){h$(t)&&p$(e)})}function h$(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!jl(e,r)}catch{return!0}}function p$(e){var t=su(e,1);t!==null&&kl(t,e,1,-1)}function H6(e){var t=Xl();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wv,lastRenderedState:e},t.queue=e,e=e.dispatch=GQ.bind(null,la,e),[t.memoizedState,e]}function _v(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=la.updateQueue,t===null?(t={lastEffect:null,stores:null},la.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function m$(){return Wo().memoizedState}function Qx(e,t,r,n){var a=Xl();la.flags|=e,a.memoizedState=_v(1|t,r,void 0,n===void 0?null:n)}function Uw(e,t,r,n){var a=Wo();n=n===void 0?null:n;var i=void 0;if(Qa!==null){var s=Qa.memoizedState;if(i=s.destroy,n!==null&&rE(n,s.deps)){a.memoizedState=_v(t,r,i,n);return}}la.flags|=e,a.memoizedState=_v(1|t,r,i,n)}function G6(e,t){return Qx(8390656,8,e,t)}function iE(e,t){return Uw(2048,8,e,t)}function g$(e,t){return Uw(4,2,e,t)}function v$(e,t){return Uw(4,4,e,t)}function y$(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function x$(e,t,r){return r=r!=null?r.concat([e]):null,Uw(4,4,y$.bind(null,t,e),r)}function sE(){}function b$(e,t){var r=Wo();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&rE(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function w$(e,t){var r=Wo();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&rE(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function _$(e,t,r){return sh&21?(jl(r,t)||(r=EF(),la.lanes|=r,oh|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,$s=!0),e.memoizedState=r)}function WQ(e,t){var r=Cn;Cn=r!==0&&4>r?r:4,e(!0);var n=rS.transition;rS.transition={};try{e(!1),t()}finally{Cn=r,rS.transition=n}}function S$(){return Wo().memoizedState}function HQ(e,t,r){var n=Cf(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},A$(e))T$(t,r);else if(r=i$(e,t,r,n),r!==null){var a=As();kl(r,e,n,a),N$(r,t,n)}}function GQ(e,t,r){var n=Cf(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(A$(e))T$(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,o=i(s,r);if(a.hasEagerState=!0,a.eagerState=o,jl(o,s)){var l=t.interleaved;l===null?(a.next=a,QN(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=i$(e,t,a,n),r!==null&&(a=As(),kl(r,e,n,a),N$(r,t,n))}}function A$(e){var t=e.alternate;return e===la||t!==null&&t===la}function T$(e,t){Pg=M2=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function N$(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,RN(e,r)}}var R2={readContext:qo,useCallback:Fi,useContext:Fi,useEffect:Fi,useImperativeHandle:Fi,useInsertionEffect:Fi,useLayoutEffect:Fi,useMemo:Fi,useReducer:Fi,useRef:Fi,useState:Fi,useDebugValue:Fi,useDeferredValue:Fi,useTransition:Fi,useMutableSource:Fi,useSyncExternalStore:Fi,useId:Fi,unstable_isNewReconciler:!1},KQ={readContext:qo,useCallback:function(e,t){return Xl().memoizedState=[e,t===void 0?null:t],e},useContext:qo,useEffect:G6,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Qx(4194308,4,y$.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Qx(4194308,4,e,t)},useInsertionEffect:function(e,t){return Qx(4,2,e,t)},useMemo:function(e,t){var r=Xl();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Xl();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=HQ.bind(null,la,e),[n.memoizedState,e]},useRef:function(e){var t=Xl();return e={current:e},t.memoizedState=e},useState:H6,useDebugValue:sE,useDeferredValue:function(e){return Xl().memoizedState=e},useTransition:function(){var e=H6(!1),t=e[0];return e=WQ.bind(null,e[1]),Xl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=la,a=Xl();if(ta){if(r===void 0)throw Error(It(407));r=r()}else{if(r=t(),pi===null)throw Error(It(349));sh&30||u$(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,G6(d$.bind(null,n,i,e),[e]),n.flags|=2048,_v(9,f$.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Xl(),t=pi.identifierPrefix;if(ta){var r=zc,n=Vc;r=(n&~(1<<32-El(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=bv++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=qQ++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},YQ={readContext:qo,useCallback:b$,useContext:qo,useEffect:iE,useImperativeHandle:x$,useInsertionEffect:g$,useLayoutEffect:v$,useMemo:w$,useReducer:nS,useRef:m$,useState:function(){return nS(wv)},useDebugValue:sE,useDeferredValue:function(e){var t=Wo();return _$(t,Qa.memoizedState,e)},useTransition:function(){var e=nS(wv)[0],t=Wo().memoizedState;return[e,t]},useMutableSource:l$,useSyncExternalStore:c$,useId:S$,unstable_isNewReconciler:!1},XQ={readContext:qo,useCallback:b$,useContext:qo,useEffect:iE,useImperativeHandle:x$,useInsertionEffect:g$,useLayoutEffect:v$,useMemo:w$,useReducer:aS,useRef:m$,useState:function(){return aS(wv)},useDebugValue:sE,useDeferredValue:function(e){var t=Wo();return Qa===null?t.memoizedState=e:_$(t,Qa.memoizedState,e)},useTransition:function(){var e=aS(wv)[0],t=Wo().memoizedState;return[e,t]},useMutableSource:l$,useSyncExternalStore:c$,useId:S$,unstable_isNewReconciler:!1};function pl(e,t){if(e&&e.defaultProps){t=ua({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function p4(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ua({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Vw={isMounted:function(e){return(e=e._reactInternals)?Sh(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=As(),a=Cf(e),i=Yc(n,a);i.payload=t,r!=null&&(i.callback=r),t=Ef(e,i,a),t!==null&&(kl(t,e,a,n),Yx(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=As(),a=Cf(e),i=Yc(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Ef(e,i,a),t!==null&&(kl(t,e,a,n),Yx(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=As(),n=Cf(e),a=Yc(r,n);a.tag=2,t!=null&&(a.callback=t),t=Ef(e,a,n),t!==null&&(kl(t,e,n,r),Yx(t,e,n))}};function K6(e,t,r,n,a,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,s):t.prototype&&t.prototype.isPureReactComponent?!pv(r,n)||!pv(a,i):!0}function E$(e,t,r){var n=!1,a=Uf,i=t.contextType;return typeof i=="object"&&i!==null?i=qo(i):(a=qs(t)?ah:os.current,n=t.contextTypes,i=(n=n!=null)?sp(e,a):Uf),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Vw,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Y6(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Vw.enqueueReplaceState(t,t.state,null)}function m4(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},JN(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=qo(i):(i=qs(t)?ah:os.current,a.context=sp(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(p4(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Vw.enqueueReplaceState(a,a.state,null),D2(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function up(e,t){try{var r="",n=t;do r+=AX(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function iS(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function g4(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var QQ=typeof WeakMap=="function"?WeakMap:Map;function k$(e,t,r){r=Yc(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){$2||($2=!0,N4=n),g4(e,t)},r}function C$(e,t,r){r=Yc(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){g4(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){g4(e,t),typeof n!="function"&&(kf===null?kf=new Set([this]):kf.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function X6(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new QQ;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=fJ.bind(null,e,t,r),t.then(e,e))}function Q6(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function J6(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Yc(-1,1),t.tag=2,Ef(r,t,1))),r.lanes|=1),e)}var JQ=wu.ReactCurrentOwner,$s=!1;function ms(e,t,r,n){t.child=e===null?a$(t,null,r,n):lp(t,e.child,r,n)}function Z6(e,t,r,n,a){r=r.render;var i=t.ref;return V0(t,a),n=nE(e,t,r,n,i,a),r=aE(),e!==null&&!$s?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ou(e,t,a)):(ta&&r&&WN(t),t.flags|=1,ms(e,t,n,a),t.child)}function ej(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!pE(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,P$(e,t,i,n,a)):(e=t2(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:pv,r(s,n)&&e.ref===t.ref)return ou(e,t,a)}return t.flags|=1,e=Pf(i,n),e.ref=t.ref,e.return=t,t.child=e}function P$(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(pv(i,n)&&e.ref===t.ref)if($s=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&($s=!0);else return t.lanes=e.lanes,ou(e,t,a)}return v4(e,t,r,n,a)}function j$(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},qn(E0,no),no|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,qn(E0,no),no|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,qn(E0,no),no|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,qn(E0,no),no|=n;return ms(e,t,a,r),t.child}function O$(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function v4(e,t,r,n,a){var i=qs(r)?ah:os.current;return i=sp(t,i),V0(t,a),r=nE(e,t,r,n,i,a),n=aE(),e!==null&&!$s?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ou(e,t,a)):(ta&&n&&WN(t),t.flags|=1,ms(e,t,r,a),t.child)}function tj(e,t,r,n,a){if(qs(r)){var i=!0;C2(t)}else i=!1;if(V0(t,a),t.stateNode===null)Jx(e,t),E$(t,r,n),m4(t,r,n,a),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=r.contextType;typeof c=="object"&&c!==null?c=qo(c):(c=qs(r)?ah:os.current,c=sp(t,c));var u=r.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==c)&&Y6(t,s,n,c),sf=!1;var h=t.memoizedState;s.state=h,D2(t,n,s,a),l=t.memoizedState,o!==n||h!==l||zs.current||sf?(typeof u=="function"&&(p4(t,r,u,n),l=t.memoizedState),(o=sf||K6(t,r,o,n,h,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=c,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,s$(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:pl(t.type,o),s.props=c,d=t.pendingProps,h=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=qo(l):(l=qs(r)?ah:os.current,l=sp(t,l));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==d||h!==l)&&Y6(t,s,n,l),sf=!1,h=t.memoizedState,s.state=h,D2(t,n,s,a);var g=t.memoizedState;o!==d||h!==g||zs.current||sf?(typeof p=="function"&&(p4(t,r,p,n),g=t.memoizedState),(c=sf||K6(t,r,c,n,h,g,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,g,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),s.props=n,s.state=g,s.context=l,n=c):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return y4(e,t,r,n,i,a)}function y4(e,t,r,n,a,i){O$(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return a&&B6(t,r,!1),ou(e,t,i);n=t.stateNode,JQ.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=lp(t,e.child,null,i),t.child=lp(t,null,o,i)):ms(e,t,o,i),t.memoizedState=n.state,a&&B6(t,r,!0),t.child}function I$(e){var t=e.stateNode;t.pendingContext?$6(e,t.pendingContext,t.pendingContext!==t.context):t.context&&$6(e,t.context,!1),ZN(e,t.containerInfo)}function rj(e,t,r,n,a){return op(),GN(a),t.flags|=256,ms(e,t,r,n),t.child}var x4={dehydrated:null,treeContext:null,retryLane:0};function b4(e){return{baseLanes:e,cachePool:null,transitions:null}}function D$(e,t,r){var n=t.pendingProps,a=oa.current,i=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),qn(oa,a&1),e===null)return d4(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,i?(n=t.mode,i=t.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Ww(s,n,0,null),e=Yd(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=b4(r),t.memoizedState=x4,e):oE(t,s));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return ZQ(e,t,s,n,o,a,r);if(i){i=n.fallback,s=t.mode,a=e.child,o=a.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Pf(a,l),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=Pf(o,i):(i=Yd(i,s,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,s=e.child.memoizedState,s=s===null?b4(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~r,t.memoizedState=x4,n}return i=e.child,e=i.sibling,n=Pf(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function oE(e,t){return t=Ww({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function tx(e,t,r,n){return n!==null&&GN(n),lp(t,e.child,null,r),e=oE(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ZQ(e,t,r,n,a,i,s){if(r)return t.flags&256?(t.flags&=-257,n=iS(Error(It(422))),tx(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Ww({mode:"visible",children:n.children},a,0,null),i=Yd(i,a,s,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&lp(t,e.child,null,s),t.child.memoizedState=b4(s),t.memoizedState=x4,i);if(!(t.mode&1))return tx(e,t,s,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(It(419)),n=iS(i,n,void 0),tx(e,t,s,n)}if(o=(s&e.childLanes)!==0,$s||o){if(n=pi,n!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,su(e,a),kl(n,e,a,-1))}return hE(),n=iS(Error(It(421))),tx(e,t,s,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=dJ.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,lo=Nf(a.nextSibling),fo=t,ta=!0,xl=null,e!==null&&(Do[Lo++]=Vc,Do[Lo++]=zc,Do[Lo++]=ih,Vc=e.id,zc=e.overflow,ih=t),t=oE(t,n.children),t.flags|=4096,t)}function nj(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),h4(e.return,t,r)}function sS(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function L$(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(ms(e,t,n.children,r),n=oa.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&nj(e,r,t);else if(e.tag===19)nj(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(qn(oa,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&L2(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),sS(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&L2(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}sS(t,!0,r,null,i);break;case"together":sS(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jx(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ou(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),oh|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(It(153));if(t.child!==null){for(e=t.child,r=Pf(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Pf(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function eJ(e,t,r){switch(t.tag){case 3:I$(t),op();break;case 5:o$(t);break;case 1:qs(t.type)&&C2(t);break;case 4:ZN(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;qn(O2,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(qn(oa,oa.current&1),t.flags|=128,null):r&t.child.childLanes?D$(e,t,r):(qn(oa,oa.current&1),e=ou(e,t,r),e!==null?e.sibling:null);qn(oa,oa.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return L$(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),qn(oa,oa.current),n)break;return null;case 22:case 23:return t.lanes=0,j$(e,t,r)}return ou(e,t,r)}var M$,w4,R$,F$;M$=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};w4=function(){};R$=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Fd(rc.current);var i=null;switch(r){case"input":a=zA(e,a),n=zA(e,n),i=[];break;case"select":a=ua({},a,{value:void 0}),n=ua({},n,{value:void 0}),i=[];break;case"textarea":a=HA(e,a),n=HA(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=E2)}KA(r,n);var s;r=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var o=a[c];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ov.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(o=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ov.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Hn("scroll",e),i||o===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};F$=function(e,t,r,n){r!==n&&(t.flags|=4)};function Hm(e,t){if(!ta)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function $i(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function tJ(e,t,r){var n=t.pendingProps;switch(HN(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $i(t),null;case 1:return qs(t.type)&&k2(),$i(t),null;case 3:return n=t.stateNode,cp(),Jn(zs),Jn(os),tE(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Zy(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,xl!==null&&(C4(xl),xl=null))),w4(e,t),$i(t),null;case 5:eE(t);var a=Fd(xv.current);if(r=t.type,e!==null&&t.stateNode!=null)R$(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(It(166));return $i(t),null}if(e=Fd(rc.current),Zy(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Jl]=t,n[vv]=i,e=(t.mode&1)!==0,r){case"dialog":Hn("cancel",n),Hn("close",n);break;case"iframe":case"object":case"embed":Hn("load",n);break;case"video":case"audio":for(a=0;a<pg.length;a++)Hn(pg[a],n);break;case"source":Hn("error",n);break;case"img":case"image":case"link":Hn("error",n),Hn("load",n);break;case"details":Hn("toggle",n);break;case"input":d6(n,i),Hn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Hn("invalid",n);break;case"textarea":p6(n,i),Hn("invalid",n)}KA(r,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];s==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Jy(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Jy(n.textContent,o,e),a=["children",""+o]):ov.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Hn("scroll",n)}switch(r){case"input":qy(n),h6(n,i,!0);break;case"textarea":qy(n),m6(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=E2)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=dF(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Jl]=t,e[vv]=n,M$(e,t,!1,!1),t.stateNode=e;e:{switch(s=YA(r,n),r){case"dialog":Hn("cancel",e),Hn("close",e),a=n;break;case"iframe":case"object":case"embed":Hn("load",e),a=n;break;case"video":case"audio":for(a=0;a<pg.length;a++)Hn(pg[a],e);a=n;break;case"source":Hn("error",e),a=n;break;case"img":case"image":case"link":Hn("error",e),Hn("load",e),a=n;break;case"details":Hn("toggle",e),a=n;break;case"input":d6(e,n),a=zA(e,n),Hn("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=ua({},n,{value:void 0}),Hn("invalid",e);break;case"textarea":p6(e,n),a=HA(e,n),Hn("invalid",e);break;default:a=n}KA(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?mF(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&hF(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&lv(e,l):typeof l=="number"&&lv(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ov.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Hn("scroll",e):l!=null&&jN(e,i,l,s))}switch(r){case"input":qy(e),h6(e,n,!1);break;case"textarea":qy(e),m6(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Bf(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?F0(e,!!n.multiple,i,!1):n.defaultValue!=null&&F0(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=E2)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return $i(t),null;case 6:if(e&&t.stateNode!=null)F$(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(It(166));if(r=Fd(xv.current),Fd(rc.current),Zy(t)){if(n=t.stateNode,r=t.memoizedProps,n[Jl]=t,(i=n.nodeValue!==r)&&(e=fo,e!==null))switch(e.tag){case 3:Jy(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Jy(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Jl]=t,t.stateNode=n}return $i(t),null;case 13:if(Jn(oa),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ta&&lo!==null&&t.mode&1&&!(t.flags&128))r$(),op(),t.flags|=98560,i=!1;else if(i=Zy(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(It(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(It(317));i[Jl]=t}else op(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;$i(t),i=!1}else xl!==null&&(C4(xl),xl=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||oa.current&1?Ja===0&&(Ja=3):hE())),t.updateQueue!==null&&(t.flags|=4),$i(t),null);case 4:return cp(),w4(e,t),e===null&&mv(t.stateNode.containerInfo),$i(t),null;case 10:return XN(t.type._context),$i(t),null;case 17:return qs(t.type)&&k2(),$i(t),null;case 19:if(Jn(oa),i=t.memoizedState,i===null)return $i(t),null;if(n=(t.flags&128)!==0,s=i.rendering,s===null)if(n)Hm(i,!1);else{if(Ja!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=L2(e),s!==null){for(t.flags|=128,Hm(i,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return qn(oa,oa.current&1|2),t.child}e=e.sibling}i.tail!==null&&Na()>fp&&(t.flags|=128,n=!0,Hm(i,!1),t.lanes=4194304)}else{if(!n)if(e=L2(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Hm(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!ta)return $i(t),null}else 2*Na()-i.renderingStartTime>fp&&r!==1073741824&&(t.flags|=128,n=!0,Hm(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(r=i.last,r!==null?r.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Na(),t.sibling=null,r=oa.current,qn(oa,n?r&1|2:r&1),t):($i(t),null);case 22:case 23:return dE(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?no&1073741824&&($i(t),t.subtreeFlags&6&&(t.flags|=8192)):$i(t),null;case 24:return null;case 25:return null}throw Error(It(156,t.tag))}function rJ(e,t){switch(HN(t),t.tag){case 1:return qs(t.type)&&k2(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return cp(),Jn(zs),Jn(os),tE(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return eE(t),null;case 13:if(Jn(oa),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(It(340));op()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Jn(oa),null;case 4:return cp(),null;case 10:return XN(t.type._context),null;case 22:case 23:return dE(),null;case 24:return null;default:return null}}var rx=!1,Xi=!1,nJ=typeof WeakSet=="function"?WeakSet:Set,er=null;function N0(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){va(e,t,n)}else r.current=null}function _4(e,t,r){try{r()}catch(n){va(e,t,n)}}var aj=!1;function aJ(e,t){if(i4=A2,e=zF(),qN(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,c=0,u=0,d=e,h=null;t:for(;;){for(var p;d!==r||a!==0&&d.nodeType!==3||(o=s+a),d!==i||n!==0&&d.nodeType!==3||(l=s+n),d.nodeType===3&&(s+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===r&&++c===a&&(o=s),h===i&&++u===n&&(l=s),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(s4={focusedElem:e,selectionRange:r},A2=!1,er=t;er!==null;)if(t=er,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,er=e;else for(;er!==null;){t=er;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,v=g.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:pl(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(It(163))}}catch(D){va(t,t.return,D)}if(e=t.sibling,e!==null){e.return=t.return,er=e;break}er=t.return}return g=aj,aj=!1,g}function jg(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&_4(t,r,i)}a=a.next}while(a!==n)}}function zw(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function S4(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function $$(e){var t=e.alternate;t!==null&&(e.alternate=null,$$(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Jl],delete t[vv],delete t[c4],delete t[BQ],delete t[UQ])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function B$(e){return e.tag===5||e.tag===3||e.tag===4}function ij(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||B$(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function A4(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=E2));else if(n!==4&&(e=e.child,e!==null))for(A4(e,t,r),e=e.sibling;e!==null;)A4(e,t,r),e=e.sibling}function T4(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(T4(e,t,r),e=e.sibling;e!==null;)T4(e,t,r),e=e.sibling}var Si=null,gl=!1;function Qu(e,t,r){for(r=r.child;r!==null;)U$(e,t,r),r=r.sibling}function U$(e,t,r){if(tc&&typeof tc.onCommitFiberUnmount=="function")try{tc.onCommitFiberUnmount(Lw,r)}catch{}switch(r.tag){case 5:Xi||N0(r,t);case 6:var n=Si,a=gl;Si=null,Qu(e,t,r),Si=n,gl=a,Si!==null&&(gl?(e=Si,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Si.removeChild(r.stateNode));break;case 18:Si!==null&&(gl?(e=Si,r=r.stateNode,e.nodeType===8?Z_(e.parentNode,r):e.nodeType===1&&Z_(e,r),dv(e)):Z_(Si,r.stateNode));break;case 4:n=Si,a=gl,Si=r.stateNode.containerInfo,gl=!0,Qu(e,t,r),Si=n,gl=a;break;case 0:case 11:case 14:case 15:if(!Xi&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&_4(r,t,s),a=a.next}while(a!==n)}Qu(e,t,r);break;case 1:if(!Xi&&(N0(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){va(r,t,o)}Qu(e,t,r);break;case 21:Qu(e,t,r);break;case 22:r.mode&1?(Xi=(n=Xi)||r.memoizedState!==null,Qu(e,t,r),Xi=n):Qu(e,t,r);break;default:Qu(e,t,r)}}function sj(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new nJ),t.forEach(function(n){var a=hJ.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function ol(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:Si=o.stateNode,gl=!1;break e;case 3:Si=o.stateNode.containerInfo,gl=!0;break e;case 4:Si=o.stateNode.containerInfo,gl=!0;break e}o=o.return}if(Si===null)throw Error(It(160));U$(i,s,a),Si=null,gl=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(c){va(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)V$(t,e),t=t.sibling}function V$(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ol(t,e),Hl(e),n&4){try{jg(3,e,e.return),zw(3,e)}catch(m){va(e,e.return,m)}try{jg(5,e,e.return)}catch(m){va(e,e.return,m)}}break;case 1:ol(t,e),Hl(e),n&512&&r!==null&&N0(r,r.return);break;case 5:if(ol(t,e),Hl(e),n&512&&r!==null&&N0(r,r.return),e.flags&32){var a=e.stateNode;try{lv(a,"")}catch(m){va(e,e.return,m)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,s=r!==null?r.memoizedProps:i,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&uF(a,i),YA(o,s);var c=YA(o,i);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?mF(a,d):u==="dangerouslySetInnerHTML"?hF(a,d):u==="children"?lv(a,d):jN(a,u,d,c)}switch(o){case"input":qA(a,i);break;case"textarea":fF(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?F0(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?F0(a,!!i.multiple,i.defaultValue,!0):F0(a,!!i.multiple,i.multiple?[]:"",!1))}a[vv]=i}catch(m){va(e,e.return,m)}}break;case 6:if(ol(t,e),Hl(e),n&4){if(e.stateNode===null)throw Error(It(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(m){va(e,e.return,m)}}break;case 3:if(ol(t,e),Hl(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{dv(t.containerInfo)}catch(m){va(e,e.return,m)}break;case 4:ol(t,e),Hl(e);break;case 13:ol(t,e),Hl(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(uE=Na())),n&4&&sj(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Xi=(c=Xi)||u,ol(t,e),Xi=c):ol(t,e),Hl(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(er=e,u=e.child;u!==null;){for(d=er=u;er!==null;){switch(h=er,p=h.child,h.tag){case 0:case 11:case 14:case 15:jg(4,h,h.return);break;case 1:N0(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){va(n,r,m)}}break;case 5:N0(h,h.return);break;case 22:if(h.memoizedState!==null){lj(d);continue}}p!==null?(p.return=h,er=p):lj(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{a=d.stateNode,c?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=pF("display",s))}catch(m){va(e,e.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){va(e,e.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ol(t,e),Hl(e),n&4&&sj(e);break;case 21:break;default:ol(t,e),Hl(e)}}function Hl(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(B$(r)){var n=r;break e}r=r.return}throw Error(It(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(lv(a,""),n.flags&=-33);var i=ij(e);T4(e,i,a);break;case 3:case 4:var s=n.stateNode.containerInfo,o=ij(e);A4(e,o,s);break;default:throw Error(It(161))}}catch(l){va(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function iJ(e,t,r){er=e,z$(e)}function z$(e,t,r){for(var n=(e.mode&1)!==0;er!==null;){var a=er,i=a.child;if(a.tag===22&&n){var s=a.memoizedState!==null||rx;if(!s){var o=a.alternate,l=o!==null&&o.memoizedState!==null||Xi;o=rx;var c=Xi;if(rx=s,(Xi=l)&&!c)for(er=a;er!==null;)s=er,l=s.child,s.tag===22&&s.memoizedState!==null?cj(a):l!==null?(l.return=s,er=l):cj(a);for(;i!==null;)er=i,z$(i),i=i.sibling;er=a,rx=o,Xi=c}oj(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,er=i):oj(e)}}function oj(e){for(;er!==null;){var t=er;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Xi||zw(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Xi)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:pl(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&W6(t,i,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}W6(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&dv(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(It(163))}Xi||t.flags&512&&S4(t)}catch(h){va(t,t.return,h)}}if(t===e){er=null;break}if(r=t.sibling,r!==null){r.return=t.return,er=r;break}er=t.return}}function lj(e){for(;er!==null;){var t=er;if(t===e){er=null;break}var r=t.sibling;if(r!==null){r.return=t.return,er=r;break}er=t.return}}function cj(e){for(;er!==null;){var t=er;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{zw(4,t)}catch(l){va(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){va(t,a,l)}}var i=t.return;try{S4(t)}catch(l){va(t,i,l)}break;case 5:var s=t.return;try{S4(t)}catch(l){va(t,s,l)}}}catch(l){va(t,t.return,l)}if(t===e){er=null;break}var o=t.sibling;if(o!==null){o.return=t.return,er=o;break}er=t.return}}var sJ=Math.ceil,F2=wu.ReactCurrentDispatcher,lE=wu.ReactCurrentOwner,$o=wu.ReactCurrentBatchConfig,un=0,pi=null,Va=null,Pi=0,no=0,E0=ed(0),Ja=0,Sv=null,oh=0,qw=0,cE=0,Og=null,Rs=null,uE=0,fp=1/0,$c=null,$2=!1,N4=null,kf=null,nx=!1,mf=null,B2=0,Ig=0,E4=null,Zx=-1,e2=0;function As(){return un&6?Na():Zx!==-1?Zx:Zx=Na()}function Cf(e){return e.mode&1?un&2&&Pi!==0?Pi&-Pi:zQ.transition!==null?(e2===0&&(e2=EF()),e2):(e=Cn,e!==0||(e=window.event,e=e===void 0?16:DF(e.type)),e):1}function kl(e,t,r,n){if(50<Ig)throw Ig=0,E4=null,Error(It(185));R1(e,r,n),(!(un&2)||e!==pi)&&(e===pi&&(!(un&2)&&(qw|=r),Ja===4&&cf(e,Pi)),Ws(e,n),r===1&&un===0&&!(t.mode&1)&&(fp=Na()+500,Bw&&td()))}function Ws(e,t){var r=e.callbackNode;zX(e,t);var n=S2(e,e===pi?Pi:0);if(n===0)r!==null&&y6(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&y6(r),t===1)e.tag===0?VQ(uj.bind(null,e)):ZF(uj.bind(null,e)),FQ(function(){!(un&6)&&td()}),r=null;else{switch(kF(n)){case 1:r=MN;break;case 4:r=TF;break;case 16:r=_2;break;case 536870912:r=NF;break;default:r=_2}r=Q$(r,q$.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function q$(e,t){if(Zx=-1,e2=0,un&6)throw Error(It(327));var r=e.callbackNode;if(z0()&&e.callbackNode!==r)return null;var n=S2(e,e===pi?Pi:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=U2(e,n);else{t=n;var a=un;un|=2;var i=H$();(pi!==e||Pi!==t)&&($c=null,fp=Na()+500,Kd(e,t));do try{cJ();break}catch(o){W$(e,o)}while(!0);YN(),F2.current=i,un=a,Va!==null?t=0:(pi=null,Pi=0,t=Ja)}if(t!==0){if(t===2&&(a=e4(e),a!==0&&(n=a,t=k4(e,a))),t===1)throw r=Sv,Kd(e,0),cf(e,n),Ws(e,Na()),r;if(t===6)cf(e,n);else{if(a=e.current.alternate,!(n&30)&&!oJ(a)&&(t=U2(e,n),t===2&&(i=e4(e),i!==0&&(n=i,t=k4(e,i))),t===1))throw r=Sv,Kd(e,0),cf(e,n),Ws(e,Na()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(It(345));case 2:Nd(e,Rs,$c);break;case 3:if(cf(e,n),(n&130023424)===n&&(t=uE+500-Na(),10<t)){if(S2(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){As(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=l4(Nd.bind(null,e,Rs,$c),t);break}Nd(e,Rs,$c);break;case 4:if(cf(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var s=31-El(n);i=1<<s,s=t[s],s>a&&(a=s),n&=~i}if(n=a,n=Na()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*sJ(n/1960))-n,10<n){e.timeoutHandle=l4(Nd.bind(null,e,Rs,$c),n);break}Nd(e,Rs,$c);break;case 5:Nd(e,Rs,$c);break;default:throw Error(It(329))}}}return Ws(e,Na()),e.callbackNode===r?q$.bind(null,e):null}function k4(e,t){var r=Og;return e.current.memoizedState.isDehydrated&&(Kd(e,t).flags|=256),e=U2(e,t),e!==2&&(t=Rs,Rs=r,t!==null&&C4(t)),e}function C4(e){Rs===null?Rs=e:Rs.push.apply(Rs,e)}function oJ(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!jl(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function cf(e,t){for(t&=~cE,t&=~qw,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-El(t),n=1<<r;e[r]=-1,t&=~n}}function uj(e){if(un&6)throw Error(It(327));z0();var t=S2(e,0);if(!(t&1))return Ws(e,Na()),null;var r=U2(e,t);if(e.tag!==0&&r===2){var n=e4(e);n!==0&&(t=n,r=k4(e,n))}if(r===1)throw r=Sv,Kd(e,0),cf(e,t),Ws(e,Na()),r;if(r===6)throw Error(It(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Nd(e,Rs,$c),Ws(e,Na()),null}function fE(e,t){var r=un;un|=1;try{return e(t)}finally{un=r,un===0&&(fp=Na()+500,Bw&&td())}}function lh(e){mf!==null&&mf.tag===0&&!(un&6)&&z0();var t=un;un|=1;var r=$o.transition,n=Cn;try{if($o.transition=null,Cn=1,e)return e()}finally{Cn=n,$o.transition=r,un=t,!(un&6)&&td()}}function dE(){no=E0.current,Jn(E0)}function Kd(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,RQ(r)),Va!==null)for(r=Va.return;r!==null;){var n=r;switch(HN(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&k2();break;case 3:cp(),Jn(zs),Jn(os),tE();break;case 5:eE(n);break;case 4:cp();break;case 13:Jn(oa);break;case 19:Jn(oa);break;case 10:XN(n.type._context);break;case 22:case 23:dE()}r=r.return}if(pi=e,Va=e=Pf(e.current,null),Pi=no=t,Ja=0,Sv=null,cE=qw=oh=0,Rs=Og=null,Rd!==null){for(t=0;t<Rd.length;t++)if(r=Rd[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=a,n.next=s}r.pending=n}Rd=null}return e}function W$(e,t){do{var r=Va;try{if(YN(),Xx.current=R2,M2){for(var n=la.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}M2=!1}if(sh=0,fi=Qa=la=null,Pg=!1,bv=0,lE.current=null,r===null||r.return===null){Ja=1,Sv=t,Va=null;break}e:{var i=e,s=r.return,o=r,l=t;if(t=Pi,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=Q6(s);if(p!==null){p.flags&=-257,J6(p,s,o,i,t),p.mode&1&&X6(i,c,t),t=p,l=c;var g=t.updateQueue;if(g===null){var m=new Set;m.add(l),t.updateQueue=m}else g.add(l);break e}else{if(!(t&1)){X6(i,c,t),hE();break e}l=Error(It(426))}}else if(ta&&o.mode&1){var v=Q6(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),J6(v,s,o,i,t),GN(up(l,o));break e}}i=l=up(l,o),Ja!==4&&(Ja=2),Og===null?Og=[i]:Og.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=k$(i,l,t);q6(i,y);break e;case 1:o=l;var w=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(kf===null||!kf.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var D=C$(i,o,t);q6(i,D);break e}}i=i.return}while(i!==null)}K$(r)}catch(P){t=P,Va===r&&r!==null&&(Va=r=r.return);continue}break}while(!0)}function H$(){var e=F2.current;return F2.current=R2,e===null?R2:e}function hE(){(Ja===0||Ja===3||Ja===2)&&(Ja=4),pi===null||!(oh&268435455)&&!(qw&268435455)||cf(pi,Pi)}function U2(e,t){var r=un;un|=2;var n=H$();(pi!==e||Pi!==t)&&($c=null,Kd(e,t));do try{lJ();break}catch(a){W$(e,a)}while(!0);if(YN(),un=r,F2.current=n,Va!==null)throw Error(It(261));return pi=null,Pi=0,Ja}function lJ(){for(;Va!==null;)G$(Va)}function cJ(){for(;Va!==null&&!DX();)G$(Va)}function G$(e){var t=X$(e.alternate,e,no);e.memoizedProps=e.pendingProps,t===null?K$(e):Va=t,lE.current=null}function K$(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=rJ(r,t),r!==null){r.flags&=32767,Va=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ja=6,Va=null;return}}else if(r=tJ(r,t,no),r!==null){Va=r;return}if(t=t.sibling,t!==null){Va=t;return}Va=t=e}while(t!==null);Ja===0&&(Ja=5)}function Nd(e,t,r){var n=Cn,a=$o.transition;try{$o.transition=null,Cn=1,uJ(e,t,r,n)}finally{$o.transition=a,Cn=n}return null}function uJ(e,t,r,n){do z0();while(mf!==null);if(un&6)throw Error(It(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(It(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(qX(e,i),e===pi&&(Va=pi=null,Pi=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||nx||(nx=!0,Q$(_2,function(){return z0(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=$o.transition,$o.transition=null;var s=Cn;Cn=1;var o=un;un|=4,lE.current=null,aJ(e,r),V$(r,e),PQ(s4),A2=!!i4,s4=i4=null,e.current=r,iJ(r),LX(),un=o,Cn=s,$o.transition=i}else e.current=r;if(nx&&(nx=!1,mf=e,B2=a),i=e.pendingLanes,i===0&&(kf=null),FX(r.stateNode),Ws(e,Na()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if($2)throw $2=!1,e=N4,N4=null,e;return B2&1&&e.tag!==0&&z0(),i=e.pendingLanes,i&1?e===E4?Ig++:(Ig=0,E4=e):Ig=0,td(),null}function z0(){if(mf!==null){var e=kF(B2),t=$o.transition,r=Cn;try{if($o.transition=null,Cn=16>e?16:e,mf===null)var n=!1;else{if(e=mf,mf=null,B2=0,un&6)throw Error(It(331));var a=un;for(un|=4,er=e.current;er!==null;){var i=er,s=i.child;if(er.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(er=c;er!==null;){var u=er;switch(u.tag){case 0:case 11:case 15:jg(8,u,i)}var d=u.child;if(d!==null)d.return=u,er=d;else for(;er!==null;){u=er;var h=u.sibling,p=u.return;if($$(u),u===c){er=null;break}if(h!==null){h.return=p,er=h;break}er=p}}}var g=i.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}er=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,er=s;else e:for(;er!==null;){if(i=er,i.flags&2048)switch(i.tag){case 0:case 11:case 15:jg(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,er=y;break e}er=i.return}}var w=e.current;for(er=w;er!==null;){s=er;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,er=b;else e:for(s=w;er!==null;){if(o=er,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:zw(9,o)}}catch(P){va(o,o.return,P)}if(o===s){er=null;break e}var D=o.sibling;if(D!==null){D.return=o.return,er=D;break e}er=o.return}}if(un=a,td(),tc&&typeof tc.onPostCommitFiberRoot=="function")try{tc.onPostCommitFiberRoot(Lw,e)}catch{}n=!0}return n}finally{Cn=r,$o.transition=t}}return!1}function fj(e,t,r){t=up(r,t),t=k$(e,t,1),e=Ef(e,t,1),t=As(),e!==null&&(R1(e,1,t),Ws(e,t))}function va(e,t,r){if(e.tag===3)fj(e,e,r);else for(;t!==null;){if(t.tag===3){fj(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(kf===null||!kf.has(n))){e=up(r,e),e=C$(t,e,1),t=Ef(t,e,1),e=As(),t!==null&&(R1(t,1,e),Ws(t,e));break}}t=t.return}}function fJ(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=As(),e.pingedLanes|=e.suspendedLanes&r,pi===e&&(Pi&r)===r&&(Ja===4||Ja===3&&(Pi&130023424)===Pi&&500>Na()-uE?Kd(e,0):cE|=r),Ws(e,t)}function Y$(e,t){t===0&&(e.mode&1?(t=Gy,Gy<<=1,!(Gy&130023424)&&(Gy=4194304)):t=1);var r=As();e=su(e,t),e!==null&&(R1(e,t,r),Ws(e,r))}function dJ(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Y$(e,r)}function hJ(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(It(314))}n!==null&&n.delete(t),Y$(e,r)}var X$;X$=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||zs.current)$s=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return $s=!1,eJ(e,t,r);$s=!!(e.flags&131072)}else $s=!1,ta&&t.flags&1048576&&e$(t,j2,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Jx(e,t),e=t.pendingProps;var a=sp(t,os.current);V0(t,r),a=nE(null,t,n,e,a,r);var i=aE();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,qs(n)?(i=!0,C2(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,JN(t),a.updater=Vw,t.stateNode=a,a._reactInternals=t,m4(t,n,e,r),t=y4(null,t,n,!0,i,r)):(t.tag=0,ta&&i&&WN(t),ms(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Jx(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=mJ(n),e=pl(n,e),a){case 0:t=v4(null,t,n,e,r);break e;case 1:t=tj(null,t,n,e,r);break e;case 11:t=Z6(null,t,n,e,r);break e;case 14:t=ej(null,t,n,pl(n.type,e),r);break e}throw Error(It(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:pl(n,a),v4(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:pl(n,a),tj(e,t,n,a,r);case 3:e:{if(I$(t),e===null)throw Error(It(387));n=t.pendingProps,i=t.memoizedState,a=i.element,s$(e,t),D2(t,n,null,r);var s=t.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=up(Error(It(423)),t),t=rj(e,t,n,r,a);break e}else if(n!==a){a=up(Error(It(424)),t),t=rj(e,t,n,r,a);break e}else for(lo=Nf(t.stateNode.containerInfo.firstChild),fo=t,ta=!0,xl=null,r=a$(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(op(),n===a){t=ou(e,t,r);break e}ms(e,t,n,r)}t=t.child}return t;case 5:return o$(t),e===null&&d4(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,s=a.children,o4(n,a)?s=null:i!==null&&o4(n,i)&&(t.flags|=32),O$(e,t),ms(e,t,s,r),t.child;case 6:return e===null&&d4(t),null;case 13:return D$(e,t,r);case 4:return ZN(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=lp(t,null,n,r):ms(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:pl(n,a),Z6(e,t,n,a,r);case 7:return ms(e,t,t.pendingProps,r),t.child;case 8:return ms(e,t,t.pendingProps.children,r),t.child;case 12:return ms(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,qn(O2,n._currentValue),n._currentValue=s,i!==null)if(jl(i.value,s)){if(i.children===a.children&&!zs.current){t=ou(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){s=i.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=Yc(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),h4(i.return,r,t),o.lanes|=r;break}l=l.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(It(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),h4(s,r,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}ms(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,V0(t,r),a=qo(a),n=n(a),t.flags|=1,ms(e,t,n,r),t.child;case 14:return n=t.type,a=pl(n,t.pendingProps),a=pl(n.type,a),ej(e,t,n,a,r);case 15:return P$(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:pl(n,a),Jx(e,t),t.tag=1,qs(n)?(e=!0,C2(t)):e=!1,V0(t,r),E$(t,n,a),m4(t,n,a,r),y4(null,t,n,!0,e,r);case 19:return L$(e,t,r);case 22:return j$(e,t,r)}throw Error(It(156,t.tag))};function Q$(e,t){return AF(e,t)}function pJ(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ro(e,t,r,n){return new pJ(e,t,r,n)}function pE(e){return e=e.prototype,!(!e||!e.isReactComponent)}function mJ(e){if(typeof e=="function")return pE(e)?1:0;if(e!=null){if(e=e.$$typeof,e===IN)return 11;if(e===DN)return 14}return 2}function Pf(e,t){var r=e.alternate;return r===null?(r=Ro(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function t2(e,t,r,n,a,i){var s=2;if(n=e,typeof e=="function")pE(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case v0:return Yd(r.children,a,i,t);case ON:s=8,a|=8;break;case $A:return e=Ro(12,r,t,a|2),e.elementType=$A,e.lanes=i,e;case BA:return e=Ro(13,r,t,a),e.elementType=BA,e.lanes=i,e;case UA:return e=Ro(19,r,t,a),e.elementType=UA,e.lanes=i,e;case oF:return Ww(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case iF:s=10;break e;case sF:s=9;break e;case IN:s=11;break e;case DN:s=14;break e;case af:s=16,n=null;break e}throw Error(It(130,e==null?e:typeof e,""))}return t=Ro(s,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Yd(e,t,r,n){return e=Ro(7,e,n,t),e.lanes=r,e}function Ww(e,t,r,n){return e=Ro(22,e,n,t),e.elementType=oF,e.lanes=r,e.stateNode={isHidden:!1},e}function oS(e,t,r){return e=Ro(6,e,null,t),e.lanes=r,e}function lS(e,t,r){return t=Ro(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function gJ(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=V_(0),this.expirationTimes=V_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=V_(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function mE(e,t,r,n,a,i,s,o,l){return e=new gJ(e,t,r,o,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ro(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},JN(i),e}function vJ(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:g0,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function J$(e){if(!e)return Uf;e=e._reactInternals;e:{if(Sh(e)!==e||e.tag!==1)throw Error(It(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(qs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(It(171))}if(e.tag===1){var r=e.type;if(qs(r))return JF(e,r,t)}return t}function Z$(e,t,r,n,a,i,s,o,l){return e=mE(r,n,!0,e,a,i,s,o,l),e.context=J$(null),r=e.current,n=As(),a=Cf(r),i=Yc(n,a),i.callback=t??null,Ef(r,i,a),e.current.lanes=a,R1(e,a,n),Ws(e,n),e}function Hw(e,t,r,n){var a=t.current,i=As(),s=Cf(a);return r=J$(r),t.context===null?t.context=r:t.pendingContext=r,t=Yc(i,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ef(a,t,s),e!==null&&(kl(e,a,s,i),Yx(e,a,s)),s}function V2(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function dj(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function gE(e,t){dj(e,t),(e=e.alternate)&&dj(e,t)}function yJ(){return null}var e9=typeof reportError=="function"?reportError:function(e){console.error(e)};function vE(e){this._internalRoot=e}Gw.prototype.render=vE.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(It(409));Hw(e,t,null,null)};Gw.prototype.unmount=vE.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;lh(function(){Hw(null,e,null,null)}),t[iu]=null}};function Gw(e){this._internalRoot=e}Gw.prototype.unstable_scheduleHydration=function(e){if(e){var t=jF();e={blockedOn:null,target:e,priority:t};for(var r=0;r<lf.length&&t!==0&&t<lf[r].priority;r++);lf.splice(r,0,e),r===0&&IF(e)}};function yE(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Kw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function hj(){}function xJ(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var c=V2(s);i.call(c)}}var s=Z$(t,n,e,0,null,!1,!1,"",hj);return e._reactRootContainer=s,e[iu]=s.current,mv(e.nodeType===8?e.parentNode:e),lh(),s}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var c=V2(l);o.call(c)}}var l=mE(e,0,!1,null,null,!1,!1,"",hj);return e._reactRootContainer=l,e[iu]=l.current,mv(e.nodeType===8?e.parentNode:e),lh(function(){Hw(t,l,r,n)}),l}function Yw(e,t,r,n,a){var i=r._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var o=a;a=function(){var l=V2(s);o.call(l)}}Hw(t,s,e,a)}else s=xJ(r,t,e,a,n);return V2(s)}CF=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=hg(t.pendingLanes);r!==0&&(RN(t,r|1),Ws(t,Na()),!(un&6)&&(fp=Na()+500,td()))}break;case 13:lh(function(){var n=su(e,1);if(n!==null){var a=As();kl(n,e,1,a)}}),gE(e,1)}};FN=function(e){if(e.tag===13){var t=su(e,134217728);if(t!==null){var r=As();kl(t,e,134217728,r)}gE(e,134217728)}};PF=function(e){if(e.tag===13){var t=Cf(e),r=su(e,t);if(r!==null){var n=As();kl(r,e,t,n)}gE(e,t)}};jF=function(){return Cn};OF=function(e,t){var r=Cn;try{return Cn=e,t()}finally{Cn=r}};QA=function(e,t,r){switch(t){case"input":if(qA(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=$w(n);if(!a)throw Error(It(90));cF(n),qA(n,a)}}}break;case"textarea":fF(e,r);break;case"select":t=r.value,t!=null&&F0(e,!!r.multiple,t,!1)}};yF=fE;xF=lh;var bJ={usingClientEntryPoint:!1,Events:[$1,w0,$w,gF,vF,fE]},Gm={findFiberByHostInstance:Md,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wJ={bundleType:Gm.bundleType,version:Gm.version,rendererPackageName:Gm.rendererPackageName,rendererConfig:Gm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wu.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=_F(e),e===null?null:e.stateNode},findFiberByHostInstance:Gm.findFiberByHostInstance||yJ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ax=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ax.isDisabled&&ax.supportsFiber)try{Lw=ax.inject(wJ),tc=ax}catch{}}go.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bJ;go.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yE(t))throw Error(It(200));return vJ(e,t,null,r)};go.createRoot=function(e,t){if(!yE(e))throw Error(It(299));var r=!1,n="",a=e9;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=mE(e,1,!1,null,null,r,!1,n,a),e[iu]=t.current,mv(e.nodeType===8?e.parentNode:e),new vE(t)};go.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(It(188)):(e=Object.keys(e).join(","),Error(It(268,e)));return e=_F(t),e=e===null?null:e.stateNode,e};go.flushSync=function(e){return lh(e)};go.hydrate=function(e,t,r){if(!Kw(t))throw Error(It(200));return Yw(null,e,t,!0,r)};go.hydrateRoot=function(e,t,r){if(!yE(e))throw Error(It(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",s=e9;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=Z$(t,null,e,1,r??null,a,!1,i,s),e[iu]=t.current,mv(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Gw(t)};go.render=function(e,t,r){if(!Kw(t))throw Error(It(200));return Yw(null,e,t,!1,r)};go.unmountComponentAtNode=function(e){if(!Kw(e))throw Error(It(40));return e._reactRootContainer?(lh(function(){Yw(null,null,e,!1,function(){e._reactRootContainer=null,e[iu]=null})}),!0):!1};go.unstable_batchedUpdates=fE;go.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Kw(r))throw Error(It(200));if(e==null||e._reactInternals===void 0)throw Error(It(38));return Yw(e,t,r,!1,n)};go.version="18.3.1-next-f1338f8080-20240426";function t9(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t9)}catch(e){console.error(e)}}t9(),tF.exports=go;var _J=tF.exports,r9,pj=_J;r9=pj.createRoot,pj.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Av(){return Av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Av.apply(this,arguments)}var gf;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(gf||(gf={}));const mj="popstate";function SJ(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:s,hash:o}=n.location;return P4("",{pathname:i,search:s,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:z2(a)}return TJ(t,r,null,e)}function ca(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function n9(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function AJ(){return Math.random().toString(36).substr(2,8)}function gj(e,t){return{usr:e.state,key:e.key,idx:t}}function P4(e,t,r,n){return r===void 0&&(r=null),Av({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Qp(t):t,{state:r,key:t&&t.key||n||AJ()})}function z2(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Qp(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function TJ(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,o=gf.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(Av({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function d(){o=gf.Pop;let v=u(),y=v==null?null:v-c;c=v,l&&l({action:o,location:m.location,delta:y})}function h(v,y){o=gf.Push;let w=P4(m.location,v,y);c=u()+1;let b=gj(w,c),D=m.createHref(w);try{s.pushState(b,"",D)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;a.location.assign(D)}i&&l&&l({action:o,location:m.location,delta:1})}function p(v,y){o=gf.Replace;let w=P4(m.location,v,y);c=u();let b=gj(w,c),D=m.createHref(w);s.replaceState(b,"",D),i&&l&&l({action:o,location:m.location,delta:0})}function g(v){let y=a.location.origin!=="null"?a.location.origin:a.location.href,w=typeof v=="string"?v:z2(v);return w=w.replace(/ $/,"%20"),ca(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let m={get action(){return o},get location(){return e(a,s)},listen(v){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(mj,d),l=v,()=>{a.removeEventListener(mj,d),l=null}},createHref(v){return t(a,v)},createURL:g,encodeLocation(v){let y=g(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(v){return s.go(v)}};return m}var vj;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(vj||(vj={}));function NJ(e,t,r){return r===void 0&&(r="/"),EJ(e,t,r,!1)}function EJ(e,t,r,n){let a=typeof t=="string"?Qp(t):t,i=dp(a.pathname||"/",r);if(i==null)return null;let s=a9(e);kJ(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=$J(i);o=RJ(s[l],c,n)}return o}function a9(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,s,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};l.relativePath.startsWith("/")&&(ca(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=jf([n,l.relativePath]),u=r.concat(l);i.children&&i.children.length>0&&(ca(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),a9(i.children,t,u,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:LJ(c,i.index),routesMeta:u})};return e.forEach((i,s)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,s);else for(let l of i9(i.path))a(i,s,l)}),t}function i9(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=i9(n.join("/")),o=[];return o.push(...s.map(l=>l===""?i:[i,l].join("/"))),a&&o.push(...s),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function kJ(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:MJ(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const CJ=/^:[\w-]+$/,PJ=3,jJ=2,OJ=1,IJ=10,DJ=-2,yj=e=>e==="*";function LJ(e,t){let r=e.split("/"),n=r.length;return r.some(yj)&&(n+=DJ),t&&(n+=jJ),r.filter(a=>!yj(a)).reduce((a,i)=>a+(CJ.test(i)?PJ:i===""?OJ:IJ),n)}function MJ(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function RJ(e,t,r){let{routesMeta:n}=e,a={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",d=q2({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d&&c&&r&&!n[n.length-1].route.index&&(d=q2({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(a,d.params),s.push({params:a,pathname:jf([i,d.pathname]),pathnameBase:zJ(jf([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=jf([i,d.pathnameBase]))}return s}function q2(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=FJ(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((c,u,d)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let m=o[d]||"";s=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const g=o[d];return p&&!g?c[h]=void 0:c[h]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:s,pattern:e}}function FJ(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),n9(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function $J(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return n9(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function dp(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function BJ(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Qp(e):e;return{pathname:r?r.startsWith("/")?r:UJ(r,t):t,search:qJ(n),hash:WJ(a)}}function UJ(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function cS(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function VJ(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function xE(e,t){let r=VJ(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function bE(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Qp(e):(a=Av({},e),ca(!a.pathname||!a.pathname.includes("?"),cS("?","pathname","search",a)),ca(!a.pathname||!a.pathname.includes("#"),cS("#","pathname","hash",a)),ca(!a.search||!a.search.includes("#"),cS("#","search","hash",a)));let i=e===""||a.pathname==="",s=i?"/":a.pathname,o;if(s==null)o=r;else{let d=t.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),d-=1;a.pathname=h.join("/")}o=d>=0?t[d]:"/"}let l=BJ(a,o),c=s&&s!=="/"&&s.endsWith("/"),u=(i||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const jf=e=>e.join("/").replace(/\/\/+/g,"/"),zJ=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),qJ=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,WJ=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function HJ(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const s9=["post","put","patch","delete"];new Set(s9);const GJ=["get",...s9];new Set(GJ);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tv(){return Tv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tv.apply(this,arguments)}const Xw=F.createContext(null),o9=F.createContext(null),_u=F.createContext(null),Qw=F.createContext(null),Su=F.createContext({outlet:null,matches:[],isDataRoute:!1}),l9=F.createContext(null);function KJ(e,t){let{relative:r}=t===void 0?{}:t;Jp()||ca(!1);let{basename:n,navigator:a}=F.useContext(_u),{hash:i,pathname:s,search:o}=Jw(e,{relative:r}),l=s;return n!=="/"&&(l=s==="/"?n:jf([n,s])),a.createHref({pathname:l,search:o,hash:i})}function Jp(){return F.useContext(Qw)!=null}function Zp(){return Jp()||ca(!1),F.useContext(Qw).location}function c9(e){F.useContext(_u).static||F.useLayoutEffect(e)}function em(){let{isDataRoute:e}=F.useContext(Su);return e?cZ():YJ()}function YJ(){Jp()||ca(!1);let e=F.useContext(Xw),{basename:t,future:r,navigator:n}=F.useContext(_u),{matches:a}=F.useContext(Su),{pathname:i}=Zp(),s=JSON.stringify(xE(a,r.v7_relativeSplatPath)),o=F.useRef(!1);return c9(()=>{o.current=!0}),F.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let d=bE(c,JSON.parse(s),i,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:jf([t,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[t,n,s,i,e])}const XJ=F.createContext(null);function QJ(e){let t=F.useContext(Su).outlet;return t&&F.createElement(XJ.Provider,{value:e},t)}function Jw(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=F.useContext(_u),{matches:a}=F.useContext(Su),{pathname:i}=Zp(),s=JSON.stringify(xE(a,n.v7_relativeSplatPath));return F.useMemo(()=>bE(e,JSON.parse(s),i,r==="path"),[e,s,i,r])}function JJ(e,t){return ZJ(e,t)}function ZJ(e,t,r,n){Jp()||ca(!1);let{navigator:a,static:i}=F.useContext(_u),{matches:s}=F.useContext(Su),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Zp(),d;if(t){var h;let y=typeof t=="string"?Qp(t):t;c==="/"||(h=y.pathname)!=null&&h.startsWith(c)||ca(!1),d=y}else d=u;let p=d.pathname||"/",g=p;if(c!=="/"){let y=c.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=!i&&r&&r.matches&&r.matches.length>0?r.matches:NJ(e,{pathname:g}),v=aZ(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:jf([c,a.encodeLocation?a.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:jf([c,a.encodeLocation?a.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,r,n);return t&&v?F.createElement(Qw.Provider,{value:{location:Tv({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:gf.Pop}},v):v}function eZ(){let e=lZ(),t=HJ(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},t),r?F.createElement("pre",{style:a},r):null,null)}const tZ=F.createElement(eZ,null);class rZ extends F.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?F.createElement(Su.Provider,{value:this.props.routeContext},F.createElement(l9.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function nZ(e){let{routeContext:t,match:r,children:n}=e,a=F.useContext(Xw);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),F.createElement(Su.Provider,{value:t},n)}function aZ(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,o=(a=r)==null?void 0:a.errors;if(o!=null){let u=s.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);u>=0||ca(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<s.length;u++){let d=s[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:p}=r,g=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,d,h)=>{let p,g=!1,m=null,v=null;r&&(p=o&&d.route.id?o[d.route.id]:void 0,m=d.route.errorElement||tZ,l&&(c<0&&h===0?(g=!0,v=null):c===h&&(g=!0,v=d.route.hydrateFallbackElement||null)));let y=t.concat(s.slice(0,h+1)),w=()=>{let b;return p?b=m:g?b=v:d.route.Component?b=F.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=u,F.createElement(nZ,{match:d,routeContext:{outlet:u,matches:y,isDataRoute:r!=null},children:b})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?F.createElement(rZ,{location:r.location,revalidation:r.revalidation,component:m,error:p,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var u9=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(u9||{}),W2=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(W2||{});function iZ(e){let t=F.useContext(Xw);return t||ca(!1),t}function sZ(e){let t=F.useContext(o9);return t||ca(!1),t}function oZ(e){let t=F.useContext(Su);return t||ca(!1),t}function f9(e){let t=oZ(),r=t.matches[t.matches.length-1];return r.route.id||ca(!1),r.route.id}function lZ(){var e;let t=F.useContext(l9),r=sZ(W2.UseRouteError),n=f9(W2.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function cZ(){let{router:e}=iZ(u9.UseNavigateStable),t=f9(W2.UseNavigateStable),r=F.useRef(!1);return c9(()=>{r.current=!0}),F.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Tv({fromRouteId:t},i)))},[e,t])}function uZ(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function j4(e){let{to:t,replace:r,state:n,relative:a}=e;Jp()||ca(!1);let{future:i,static:s}=F.useContext(_u),{matches:o}=F.useContext(Su),{pathname:l}=Zp(),c=em(),u=bE(t,xE(o,i.v7_relativeSplatPath),l,a==="path"),d=JSON.stringify(u);return F.useEffect(()=>c(JSON.parse(d),{replace:r,state:n,relative:a}),[c,d,a,r,n]),null}function fZ(e){return QJ(e.context)}function ps(e){ca(!1)}function dZ(e){let{basename:t="/",children:r=null,location:n,navigationType:a=gf.Pop,navigator:i,static:s=!1,future:o}=e;Jp()&&ca(!1);let l=t.replace(/^\/*/,"/"),c=F.useMemo(()=>({basename:l,navigator:i,static:s,future:Tv({v7_relativeSplatPath:!1},o)}),[l,o,i,s]);typeof n=="string"&&(n=Qp(n));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:g="default"}=n,m=F.useMemo(()=>{let v=dp(u,l);return v==null?null:{location:{pathname:v,search:d,hash:h,state:p,key:g},navigationType:a}},[l,u,d,h,p,g,a]);return m==null?null:F.createElement(_u.Provider,{value:c},F.createElement(Qw.Provider,{children:r,value:m}))}function hZ(e){let{children:t,location:r}=e;return JJ(O4(t),r)}new Promise(()=>{});function O4(e,t){t===void 0&&(t=[]);let r=[];return F.Children.forEach(e,(n,a)=>{if(!F.isValidElement(n))return;let i=[...t,a];if(n.type===F.Fragment){r.push.apply(r,O4(n.props.children,i));return}n.type!==ps&&ca(!1),!n.props.index||!n.props.children||ca(!1);let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=O4(n.props.children,i)),r.push(s)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function H2(){return H2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H2.apply(this,arguments)}function d9(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function pZ(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function mZ(e,t){return e.button===0&&(!t||t==="_self")&&!pZ(e)}const gZ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],vZ=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],yZ="6";try{window.__reactRouterVersion=yZ}catch{}const xZ=F.createContext({isTransitioning:!1}),bZ="startTransition",xj=fX[bZ];function wZ(e){let{basename:t,children:r,future:n,window:a}=e,i=F.useRef();i.current==null&&(i.current=SJ({window:a,v5Compat:!0}));let s=i.current,[o,l]=F.useState({action:s.action,location:s.location}),{v7_startTransition:c}=n||{},u=F.useCallback(d=>{c&&xj?xj(()=>l(d)):l(d)},[l,c]);return F.useLayoutEffect(()=>s.listen(u),[s,u]),F.useEffect(()=>uZ(n),[n]),F.createElement(dZ,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const _Z=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",SZ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,AZ=F.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:s,state:o,target:l,to:c,preventScrollReset:u,viewTransition:d}=t,h=d9(t,gZ),{basename:p}=F.useContext(_u),g,m=!1;if(typeof c=="string"&&SZ.test(c)&&(g=c,_Z))try{let b=new URL(window.location.href),D=c.startsWith("//")?new URL(b.protocol+c):new URL(c),P=dp(D.pathname,p);D.origin===b.origin&&P!=null?c=P+D.search+D.hash:m=!0}catch{}let v=KJ(c,{relative:a}),y=NZ(c,{replace:s,state:o,target:l,preventScrollReset:u,relative:a,viewTransition:d});function w(b){n&&n(b),b.defaultPrevented||y(b)}return F.createElement("a",H2({},h,{href:g||v,onClick:m||i?n:w,ref:r,target:l}))}),uS=F.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:i="",end:s=!1,style:o,to:l,viewTransition:c,children:u}=t,d=d9(t,vZ),h=Jw(l,{relative:d.relative}),p=Zp(),g=F.useContext(o9),{navigator:m,basename:v}=F.useContext(_u),y=g!=null&&EZ(h)&&c===!0,w=m.encodeLocation?m.encodeLocation(h).pathname:h.pathname,b=p.pathname,D=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;a||(b=b.toLowerCase(),D=D?D.toLowerCase():null,w=w.toLowerCase()),D&&v&&(D=dp(D,v)||D);const P=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let O=b===w||!s&&b.startsWith(w)&&b.charAt(P)==="/",T=D!=null&&(D===w||!s&&D.startsWith(w)&&D.charAt(w.length)==="/"),S={isActive:O,isPending:T,isTransitioning:y},_=O?n:void 0,j;typeof i=="function"?j=i(S):j=[i,O?"active":null,T?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let N=typeof o=="function"?o(S):o;return F.createElement(AZ,H2({},d,{"aria-current":_,className:j,ref:r,style:N,to:l,viewTransition:c}),typeof u=="function"?u(S):u)});var I4;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(I4||(I4={}));var bj;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(bj||(bj={}));function TZ(e){let t=F.useContext(Xw);return t||ca(!1),t}function NZ(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:s,viewTransition:o}=t===void 0?{}:t,l=em(),c=Zp(),u=Jw(e,{relative:s});return F.useCallback(d=>{if(mZ(d,r)){d.preventDefault();let h=n!==void 0?n:z2(c)===z2(u);l(e,{replace:h,state:a,preventScrollReset:i,relative:s,viewTransition:o})}},[c,l,u,n,a,r,e,i,s,o])}function EZ(e,t){t===void 0&&(t={});let r=F.useContext(xZ);r==null&&ca(!1);let{basename:n}=TZ(I4.useViewTransitionState),a=Jw(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=dp(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=dp(r.nextLocation.pathname,n)||r.nextLocation.pathname;return q2(a.pathname,s)!=null||q2(a.pathname,i)!=null}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kZ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CZ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ar=(e,t)=>{const r=F.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:l,...c},u)=>F.createElement("svg",{ref:u,...kZ,width:a,height:a,stroke:n,strokeWidth:s?Number(i)*24/Number(a):i,className:["lucide",`lucide-${CZ(e)}`,o].join(" "),...c},[...t.map(([d,h])=>F.createElement(d,h)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PZ=ar("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=ar("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=ar("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jZ=ar("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wj=ar("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h9=ar("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=ar("Barcode",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OZ=ar("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p9=ar("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=ar("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m9=ar("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=ar("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=ar("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=ar("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=ar("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=ar("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IZ=ar("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DZ=ar("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g9=ar("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=ar("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=ar("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LZ=ar("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=ar("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MZ=ar("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RZ=ar("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=ar("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=ar("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FZ=ar("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Z=ar("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BZ=ar("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=ar("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=ar("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=ar("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UZ=ar("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VZ=ar("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v9=ar("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zZ=ar("PackageMinus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qZ=ar("PackageOpen",[["path",{d:"M12 22v-9",key:"x3hkom"}],["path",{d:"M15.17 2.21a1.67 1.67 0 0 1 1.63 0L21 4.57a1.93 1.93 0 0 1 0 3.36L8.82 14.79a1.655 1.655 0 0 1-1.64 0L3 12.43a1.93 1.93 0 0 1 0-3.36z",key:"2ntwy6"}],["path",{d:"M20 13v3.87a2.06 2.06 0 0 1-1.11 1.83l-6 3.08a1.93 1.93 0 0 1-1.78 0l-6-3.08A2.06 2.06 0 0 1 4 16.87V13",key:"1pmm1c"}],["path",{d:"M21 12.43a1.93 1.93 0 0 0 0-3.36L8.83 2.2a1.64 1.64 0 0 0-1.63 0L3 4.57a1.93 1.93 0 0 0 0 3.36l12.18 6.86a1.636 1.636 0 0 0 1.63 0z",key:"12ttoo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=ar("PackagePlus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=ar("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=ar("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y9=ar("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=ar("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=ar("PoundSterling",[["path",{d:"M18 7c0-5.333-8-5.333-8 0",key:"1prm2n"}],["path",{d:"M10 7v14",key:"18tmcs"}],["path",{d:"M6 21h12",key:"4dkmi1"}],["path",{d:"M6 13h10",key:"ybwr4a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=ar("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=ar("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WZ=ar("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HZ=ar("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=ar("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GZ=ar("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=ar("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=ar("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KZ=ar("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11",key:"llx8ln"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YZ=ar("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=ar("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=ar("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=ar("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),XZ=()=>{};var kj={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w9=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let a=e.charCodeAt(n);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):(a&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},QZ=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const a=e[r++];if(a<128)t[n++]=String.fromCharCode(a);else if(a>191&&a<224){const i=e[r++];t[n++]=String.fromCharCode((a&31)<<6|i&63)}else if(a>239&&a<365){const i=e[r++],s=e[r++],o=e[r++],l=((a&7)<<18|(i&63)<<12|(s&63)<<6|o&63)-65536;t[n++]=String.fromCharCode(55296+(l>>10)),t[n++]=String.fromCharCode(56320+(l&1023))}else{const i=e[r++],s=e[r++];t[n++]=String.fromCharCode((a&15)<<12|(i&63)<<6|s&63)}}return t.join("")},_9={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<e.length;a+=3){const i=e[a],s=a+1<e.length,o=s?e[a+1]:0,l=a+2<e.length,c=l?e[a+2]:0,u=i>>2,d=(i&3)<<4|o>>4;let h=(o&15)<<2|c>>6,p=c&63;l||(p=64,s||(h=64)),n.push(r[u],r[d],r[h],r[p])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(w9(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):QZ(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<e.length;){const i=r[e.charAt(a++)],o=a<e.length?r[e.charAt(a)]:0;++a;const c=a<e.length?r[e.charAt(a)]:64;++a;const d=a<e.length?r[e.charAt(a)]:64;if(++a,i==null||o==null||c==null||d==null)throw new JZ;const h=i<<2|o>>4;if(n.push(h),c!==64){const p=o<<4&240|c>>2;if(n.push(p),d!==64){const g=c<<6&192|d;n.push(g)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class JZ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZZ=function(e){const t=w9(e);return _9.encodeByteArray(t,!0)},X2=function(e){return ZZ(e).replace(/\./g,"")},eee=function(e){try{return _9.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tee(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ree=()=>tee().__FIREBASE_DEFAULTS__,nee=()=>{if(typeof process>"u"||typeof kj>"u")return;const e=kj.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},aee=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&eee(e[1]);return t&&JSON.parse(t)},_E=()=>{try{return XZ()||ree()||nee()||aee()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},iee=e=>{var t,r;return(r=(t=_E())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[e]},see=e=>{const t=iee(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),n]:[t.substring(0,r),n]},S9=()=>{var e;return(e=_E())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oee{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(e){return e.endsWith(".cloudworkstations.dev")}async function lee(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cee(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=t||"demo-project",a=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:a,exp:a+3600,auth_time:a,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[X2(JSON.stringify(r)),X2(JSON.stringify(s)),""].join(".")}const Dg={};function uee(){const e={prod:[],emulator:[]};for(const t of Object.keys(Dg))Dg[t]?e.emulator.push(t):e.prod.push(t);return e}function fee(e){let t=document.getElementById(e),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),r=!0),{created:r,element:t}}let Cj=!1;function A9(e,t){if(typeof window>"u"||typeof document>"u"||!SE(window.location.host)||Dg[e]===t||Dg[e]||Cj)return;Dg[e]=t;function r(h){return`__firebase__banner__${h}`}const n="__firebase__banner",i=uee().prod.length>0;function s(){const h=document.getElementById(n);h&&h.remove()}function o(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{Cj=!0,s()},h}function u(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function d(){const h=fee(n),p=r("text"),g=document.getElementById(p)||document.createElement("span"),m=r("learnmore"),v=document.getElementById(m)||document.createElement("a"),y=r("preprendIcon"),w=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const b=h.element;o(b),u(v,m);const D=c();l(w,y),b.append(w,g,v,D),document.body.appendChild(b)}i?(g.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dee(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hee(){var e;const t=(e=_E())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pee(){return!hee()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mee(){try{return typeof indexedDB=="object"}catch{return!1}}function gee(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var i;t(((i=a.error)===null||i===void 0?void 0:i.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vee="FirebaseError";class tm extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=vee,Object.setPrototypeOf(this,tm.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,T9.prototype.create)}}class T9{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},a=`${this.service}/${t}`,i=this.errors[t],s=i?yee(i,n):"Error",o=`${this.serviceName}: ${s} (${a}).`;return new tm(a,o,n)}}function yee(e,t){return e.replace(xee,(r,n)=>{const a=t[n];return a!=null?String(a):`<${n}?>`})}const xee=/\{\$([^}]+)}/g;function Q2(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const a of r){if(!n.includes(a))return!1;const i=e[a],s=t[a];if(Pj(i)&&Pj(s)){if(!Q2(i,s))return!1}else if(i!==s)return!1}for(const a of n)if(!r.includes(a))return!1;return!0}function Pj(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(e){return e&&e._delegate?e._delegate:e}class Ev{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bee{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new oee;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(a)return null;throw i}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(_ee(t))try{this.getOrInitializeService({instanceIdentifier:Ed})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:a});n.resolve(i)}catch{}}}}clearInstance(t=Ed){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ed){return this.instances.has(t)}getOptions(t=Ed){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);n===o&&s.resolve(a)}return a}onInit(t,r){var n;const a=this.normalizeInstanceIdentifier(r),i=(n=this.onInitCallbacks.get(a))!==null&&n!==void 0?n:new Set;i.add(t),this.onInitCallbacks.set(a,i);const s=this.instances.get(a);return s&&t(s,a),()=>{i.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const a of n)try{a(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:wee(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=Ed){return this.component?this.component.multipleInstances?t:Ed:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wee(e){return e===Ed?void 0:e}function _ee(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class See{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new bee(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(nn||(nn={}));const Aee={debug:nn.DEBUG,verbose:nn.VERBOSE,info:nn.INFO,warn:nn.WARN,error:nn.ERROR,silent:nn.SILENT},Tee=nn.INFO,Nee={[nn.DEBUG]:"log",[nn.VERBOSE]:"log",[nn.INFO]:"info",[nn.WARN]:"warn",[nn.ERROR]:"error"},Eee=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),a=Nee[t];if(a)console[a](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class N9{constructor(t){this.name=t,this._logLevel=Tee,this._logHandler=Eee,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in nn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Aee[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,nn.DEBUG,...t),this._logHandler(this,nn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,nn.VERBOSE,...t),this._logHandler(this,nn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,nn.INFO,...t),this._logHandler(this,nn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,nn.WARN,...t),this._logHandler(this,nn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,nn.ERROR,...t),this._logHandler(this,nn.ERROR,...t)}}const kee=(e,t)=>t.some(r=>e instanceof r);let jj,Oj;function Cee(){return jj||(jj=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Pee(){return Oj||(Oj=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const E9=new WeakMap,F4=new WeakMap,k9=new WeakMap,dS=new WeakMap,AE=new WeakMap;function jee(e){const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{r(Of(e.result)),a()},s=()=>{n(e.error),a()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(r=>{r instanceof IDBCursor&&E9.set(r,e)}).catch(()=>{}),AE.set(t,e),t}function Oee(e){if(F4.has(e))return;const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{r(),a()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});F4.set(e,t)}let $4={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return F4.get(e);if(t==="objectStoreNames")return e.objectStoreNames||k9.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Of(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Iee(e){$4=e($4)}function Dee(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(hS(this),t,...r);return k9.set(n,t.sort?t.sort():[t]),Of(n)}:Pee().includes(e)?function(...t){return e.apply(hS(this),t),Of(E9.get(this))}:function(...t){return Of(e.apply(hS(this),t))}}function Lee(e){return typeof e=="function"?Dee(e):(e instanceof IDBTransaction&&Oee(e),kee(e,Cee())?new Proxy(e,$4):e)}function Of(e){if(e instanceof IDBRequest)return jee(e);if(dS.has(e))return dS.get(e);const t=Lee(e);return t!==e&&(dS.set(e,t),AE.set(t,e)),t}const hS=e=>AE.get(e);function Mee(e,t,{blocked:r,upgrade:n,blocking:a,terminated:i}={}){const s=indexedDB.open(e,t),o=Of(s);return n&&s.addEventListener("upgradeneeded",l=>{n(Of(s.result),l.oldVersion,l.newVersion,Of(s.transaction),l)}),r&&s.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{i&&l.addEventListener("close",()=>i()),a&&l.addEventListener("versionchange",c=>a(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const Ree=["get","getKey","getAll","getAllKeys","count"],Fee=["put","add","delete","clear"],pS=new Map;function Ij(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(pS.get(t))return pS.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,a=Fee.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||Ree.includes(r)))return;const i=async function(s,...o){const l=this.transaction(s,a?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(o.shift())),(await Promise.all([c[r](...o),a&&l.done]))[0]};return pS.set(t,i),i}Iee(e=>({...e,get:(t,r,n)=>Ij(t,r)||e.get(t,r,n),has:(t,r)=>!!Ij(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ee{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Bee(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function Bee(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const B4="@firebase/app",Dj="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu=new N9("@firebase/app"),Uee="@firebase/app-compat",Vee="@firebase/analytics-compat",zee="@firebase/analytics",qee="@firebase/app-check-compat",Wee="@firebase/app-check",Hee="@firebase/auth",Gee="@firebase/auth-compat",Kee="@firebase/database",Yee="@firebase/data-connect",Xee="@firebase/database-compat",Qee="@firebase/functions",Jee="@firebase/functions-compat",Zee="@firebase/installations",ete="@firebase/installations-compat",tte="@firebase/messaging",rte="@firebase/messaging-compat",nte="@firebase/performance",ate="@firebase/performance-compat",ite="@firebase/remote-config",ste="@firebase/remote-config-compat",ote="@firebase/storage",lte="@firebase/storage-compat",cte="@firebase/firestore",ute="@firebase/vertexai",fte="@firebase/firestore-compat",dte="firebase",hte="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4="[DEFAULT]",pte={[B4]:"fire-core",[Uee]:"fire-core-compat",[zee]:"fire-analytics",[Vee]:"fire-analytics-compat",[Wee]:"fire-app-check",[qee]:"fire-app-check-compat",[Hee]:"fire-auth",[Gee]:"fire-auth-compat",[Kee]:"fire-rtdb",[Yee]:"fire-data-connect",[Xee]:"fire-rtdb-compat",[Qee]:"fire-fn",[Jee]:"fire-fn-compat",[Zee]:"fire-iid",[ete]:"fire-iid-compat",[tte]:"fire-fcm",[rte]:"fire-fcm-compat",[nte]:"fire-perf",[ate]:"fire-perf-compat",[ite]:"fire-rc",[ste]:"fire-rc-compat",[ote]:"fire-gcs",[lte]:"fire-gcs-compat",[cte]:"fire-fst",[fte]:"fire-fst-compat",[ute]:"fire-vertex","fire-js":"fire-js",[dte]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=new Map,mte=new Map,V4=new Map;function Lj(e,t){try{e.container.addComponent(t)}catch(r){cu.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function Z2(e){const t=e.name;if(V4.has(t))return cu.debug(`There were multiple attempts to register component ${t}.`),!1;V4.set(t,e);for(const r of J2.values())Lj(r,e);for(const r of mte.values())Lj(r,e);return!0}function gte(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function vte(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yte={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},If=new T9("app","Firebase",yte);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xte{constructor(t,r,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ev("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw If.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bte=hte;function C9(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n=Object.assign({name:U4,automaticDataCollectionEnabled:!1},t),a=n.name;if(typeof a!="string"||!a)throw If.create("bad-app-name",{appName:String(a)});if(r||(r=S9()),!r)throw If.create("no-options");const i=J2.get(a);if(i){if(Q2(r,i.options)&&Q2(n,i.config))return i;throw If.create("duplicate-app",{appName:a})}const s=new See(a);for(const l of V4.values())s.addComponent(l);const o=new xte(r,n,s);return J2.set(a,o),o}function wte(e=U4){const t=J2.get(e);if(!t&&e===U4&&S9())return C9();if(!t)throw If.create("no-app",{appName:e});return t}function q0(e,t,r){var n;let a=(n=pte[e])!==null&&n!==void 0?n:e;r&&(a+=`-${r}`);const i=a.match(/\s|\//),s=t.match(/\s|\//);if(i||s){const o=[`Unable to register library "${a}" with version "${t}":`];i&&o.push(`library name "${a}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),cu.warn(o.join(" "));return}Z2(new Ev(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _te="firebase-heartbeat-database",Ste=1,kv="firebase-heartbeat-store";let mS=null;function P9(){return mS||(mS=Mee(_te,Ste,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(kv)}catch(r){console.warn(r)}}}}).catch(e=>{throw If.create("idb-open",{originalErrorMessage:e.message})})),mS}async function Ate(e){try{const r=(await P9()).transaction(kv),n=await r.objectStore(kv).get(j9(e));return await r.done,n}catch(t){if(t instanceof tm)cu.warn(t.message);else{const r=If.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});cu.warn(r.message)}}}async function Mj(e,t){try{const n=(await P9()).transaction(kv,"readwrite");await n.objectStore(kv).put(t,j9(e)),await n.done}catch(r){if(r instanceof tm)cu.warn(r.message);else{const n=If.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});cu.warn(n.message)}}}function j9(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tte=1024,Nte=30;class Ete{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Cte(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Rj();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:a}),this._heartbeatsCache.heartbeats.length>Nte){const s=Pte(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){cu.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Rj(),{heartbeatsToSend:n,unsentEntries:a}=kte(this._heartbeatsCache.heartbeats),i=X2(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return cu.warn(r),""}}}function Rj(){return new Date().toISOString().substring(0,10)}function kte(e,t=Tte){const r=[];let n=e.slice();for(const a of e){const i=r.find(s=>s.agent===a.agent);if(i){if(i.dates.push(a.date),Fj(r)>t){i.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),Fj(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class Cte{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mee()?gee().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Ate(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return Mj(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return Mj(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function Fj(e){return X2(JSON.stringify({version:2,heartbeats:e})).length}function Pte(e){if(e.length===0)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jte(e){Z2(new Ev("platform-logger",t=>new $ee(t),"PRIVATE")),Z2(new Ev("heartbeat",t=>new Ete(t),"PRIVATE")),q0(B4,Dj,e),q0(B4,Dj,"esm2017"),q0("fire-js","")}jte("");var Ote="firebase",Ite="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */q0(Ote,Ite,"app");var $j=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Df,O9;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(T,S){function _(){}_.prototype=S.prototype,T.D=S.prototype,T.prototype=new _,T.prototype.constructor=T,T.C=function(j,N,E){for(var k=Array(arguments.length-2),U=2;U<arguments.length;U++)k[U-2]=arguments[U];return S.prototype[N].apply(j,k)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(T,S,_){_||(_=0);var j=Array(16);if(typeof S=="string")for(var N=0;16>N;++N)j[N]=S.charCodeAt(_++)|S.charCodeAt(_++)<<8|S.charCodeAt(_++)<<16|S.charCodeAt(_++)<<24;else for(N=0;16>N;++N)j[N]=S[_++]|S[_++]<<8|S[_++]<<16|S[_++]<<24;S=T.g[0],_=T.g[1],N=T.g[2];var E=T.g[3],k=S+(E^_&(N^E))+j[0]+3614090360&4294967295;S=_+(k<<7&4294967295|k>>>25),k=E+(N^S&(_^N))+j[1]+3905402710&4294967295,E=S+(k<<12&4294967295|k>>>20),k=N+(_^E&(S^_))+j[2]+606105819&4294967295,N=E+(k<<17&4294967295|k>>>15),k=_+(S^N&(E^S))+j[3]+3250441966&4294967295,_=N+(k<<22&4294967295|k>>>10),k=S+(E^_&(N^E))+j[4]+4118548399&4294967295,S=_+(k<<7&4294967295|k>>>25),k=E+(N^S&(_^N))+j[5]+1200080426&4294967295,E=S+(k<<12&4294967295|k>>>20),k=N+(_^E&(S^_))+j[6]+2821735955&4294967295,N=E+(k<<17&4294967295|k>>>15),k=_+(S^N&(E^S))+j[7]+4249261313&4294967295,_=N+(k<<22&4294967295|k>>>10),k=S+(E^_&(N^E))+j[8]+1770035416&4294967295,S=_+(k<<7&4294967295|k>>>25),k=E+(N^S&(_^N))+j[9]+2336552879&4294967295,E=S+(k<<12&4294967295|k>>>20),k=N+(_^E&(S^_))+j[10]+4294925233&4294967295,N=E+(k<<17&4294967295|k>>>15),k=_+(S^N&(E^S))+j[11]+2304563134&4294967295,_=N+(k<<22&4294967295|k>>>10),k=S+(E^_&(N^E))+j[12]+1804603682&4294967295,S=_+(k<<7&4294967295|k>>>25),k=E+(N^S&(_^N))+j[13]+4254626195&4294967295,E=S+(k<<12&4294967295|k>>>20),k=N+(_^E&(S^_))+j[14]+2792965006&4294967295,N=E+(k<<17&4294967295|k>>>15),k=_+(S^N&(E^S))+j[15]+1236535329&4294967295,_=N+(k<<22&4294967295|k>>>10),k=S+(N^E&(_^N))+j[1]+4129170786&4294967295,S=_+(k<<5&4294967295|k>>>27),k=E+(_^N&(S^_))+j[6]+3225465664&4294967295,E=S+(k<<9&4294967295|k>>>23),k=N+(S^_&(E^S))+j[11]+643717713&4294967295,N=E+(k<<14&4294967295|k>>>18),k=_+(E^S&(N^E))+j[0]+3921069994&4294967295,_=N+(k<<20&4294967295|k>>>12),k=S+(N^E&(_^N))+j[5]+3593408605&4294967295,S=_+(k<<5&4294967295|k>>>27),k=E+(_^N&(S^_))+j[10]+38016083&4294967295,E=S+(k<<9&4294967295|k>>>23),k=N+(S^_&(E^S))+j[15]+3634488961&4294967295,N=E+(k<<14&4294967295|k>>>18),k=_+(E^S&(N^E))+j[4]+3889429448&4294967295,_=N+(k<<20&4294967295|k>>>12),k=S+(N^E&(_^N))+j[9]+568446438&4294967295,S=_+(k<<5&4294967295|k>>>27),k=E+(_^N&(S^_))+j[14]+3275163606&4294967295,E=S+(k<<9&4294967295|k>>>23),k=N+(S^_&(E^S))+j[3]+4107603335&4294967295,N=E+(k<<14&4294967295|k>>>18),k=_+(E^S&(N^E))+j[8]+1163531501&4294967295,_=N+(k<<20&4294967295|k>>>12),k=S+(N^E&(_^N))+j[13]+2850285829&4294967295,S=_+(k<<5&4294967295|k>>>27),k=E+(_^N&(S^_))+j[2]+4243563512&4294967295,E=S+(k<<9&4294967295|k>>>23),k=N+(S^_&(E^S))+j[7]+1735328473&4294967295,N=E+(k<<14&4294967295|k>>>18),k=_+(E^S&(N^E))+j[12]+2368359562&4294967295,_=N+(k<<20&4294967295|k>>>12),k=S+(_^N^E)+j[5]+4294588738&4294967295,S=_+(k<<4&4294967295|k>>>28),k=E+(S^_^N)+j[8]+2272392833&4294967295,E=S+(k<<11&4294967295|k>>>21),k=N+(E^S^_)+j[11]+1839030562&4294967295,N=E+(k<<16&4294967295|k>>>16),k=_+(N^E^S)+j[14]+4259657740&4294967295,_=N+(k<<23&4294967295|k>>>9),k=S+(_^N^E)+j[1]+2763975236&4294967295,S=_+(k<<4&4294967295|k>>>28),k=E+(S^_^N)+j[4]+1272893353&4294967295,E=S+(k<<11&4294967295|k>>>21),k=N+(E^S^_)+j[7]+4139469664&4294967295,N=E+(k<<16&4294967295|k>>>16),k=_+(N^E^S)+j[10]+3200236656&4294967295,_=N+(k<<23&4294967295|k>>>9),k=S+(_^N^E)+j[13]+681279174&4294967295,S=_+(k<<4&4294967295|k>>>28),k=E+(S^_^N)+j[0]+3936430074&4294967295,E=S+(k<<11&4294967295|k>>>21),k=N+(E^S^_)+j[3]+3572445317&4294967295,N=E+(k<<16&4294967295|k>>>16),k=_+(N^E^S)+j[6]+76029189&4294967295,_=N+(k<<23&4294967295|k>>>9),k=S+(_^N^E)+j[9]+3654602809&4294967295,S=_+(k<<4&4294967295|k>>>28),k=E+(S^_^N)+j[12]+3873151461&4294967295,E=S+(k<<11&4294967295|k>>>21),k=N+(E^S^_)+j[15]+530742520&4294967295,N=E+(k<<16&4294967295|k>>>16),k=_+(N^E^S)+j[2]+3299628645&4294967295,_=N+(k<<23&4294967295|k>>>9),k=S+(N^(_|~E))+j[0]+4096336452&4294967295,S=_+(k<<6&4294967295|k>>>26),k=E+(_^(S|~N))+j[7]+1126891415&4294967295,E=S+(k<<10&4294967295|k>>>22),k=N+(S^(E|~_))+j[14]+2878612391&4294967295,N=E+(k<<15&4294967295|k>>>17),k=_+(E^(N|~S))+j[5]+4237533241&4294967295,_=N+(k<<21&4294967295|k>>>11),k=S+(N^(_|~E))+j[12]+1700485571&4294967295,S=_+(k<<6&4294967295|k>>>26),k=E+(_^(S|~N))+j[3]+2399980690&4294967295,E=S+(k<<10&4294967295|k>>>22),k=N+(S^(E|~_))+j[10]+4293915773&4294967295,N=E+(k<<15&4294967295|k>>>17),k=_+(E^(N|~S))+j[1]+2240044497&4294967295,_=N+(k<<21&4294967295|k>>>11),k=S+(N^(_|~E))+j[8]+1873313359&4294967295,S=_+(k<<6&4294967295|k>>>26),k=E+(_^(S|~N))+j[15]+4264355552&4294967295,E=S+(k<<10&4294967295|k>>>22),k=N+(S^(E|~_))+j[6]+2734768916&4294967295,N=E+(k<<15&4294967295|k>>>17),k=_+(E^(N|~S))+j[13]+1309151649&4294967295,_=N+(k<<21&4294967295|k>>>11),k=S+(N^(_|~E))+j[4]+4149444226&4294967295,S=_+(k<<6&4294967295|k>>>26),k=E+(_^(S|~N))+j[11]+3174756917&4294967295,E=S+(k<<10&4294967295|k>>>22),k=N+(S^(E|~_))+j[2]+718787259&4294967295,N=E+(k<<15&4294967295|k>>>17),k=_+(E^(N|~S))+j[9]+3951481745&4294967295,T.g[0]=T.g[0]+S&4294967295,T.g[1]=T.g[1]+(N+(k<<21&4294967295|k>>>11))&4294967295,T.g[2]=T.g[2]+N&4294967295,T.g[3]=T.g[3]+E&4294967295}n.prototype.u=function(T,S){S===void 0&&(S=T.length);for(var _=S-this.blockSize,j=this.B,N=this.h,E=0;E<S;){if(N==0)for(;E<=_;)a(this,T,E),E+=this.blockSize;if(typeof T=="string"){for(;E<S;)if(j[N++]=T.charCodeAt(E++),N==this.blockSize){a(this,j),N=0;break}}else for(;E<S;)if(j[N++]=T[E++],N==this.blockSize){a(this,j),N=0;break}}this.h=N,this.o+=S},n.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var S=1;S<T.length-8;++S)T[S]=0;var _=8*this.o;for(S=T.length-8;S<T.length;++S)T[S]=_&255,_/=256;for(this.u(T),T=Array(16),S=_=0;4>S;++S)for(var j=0;32>j;j+=8)T[_++]=this.g[S]>>>j&255;return T};function i(T,S){var _=o;return Object.prototype.hasOwnProperty.call(_,T)?_[T]:_[T]=S(T)}function s(T,S){this.h=S;for(var _=[],j=!0,N=T.length-1;0<=N;N--){var E=T[N]|0;j&&E==S||(_[N]=E,j=!1)}this.g=_}var o={};function l(T){return-128<=T&&128>T?i(T,function(S){return new s([S|0],0>S?-1:0)}):new s([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return d;if(0>T)return v(c(-T));for(var S=[],_=1,j=0;T>=_;j++)S[j]=T/_|0,_*=4294967296;return new s(S,0)}function u(T,S){if(T.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(T.charAt(0)=="-")return v(u(T.substring(1),S));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=c(Math.pow(S,8)),j=d,N=0;N<T.length;N+=8){var E=Math.min(8,T.length-N),k=parseInt(T.substring(N,N+E),S);8>E?(E=c(Math.pow(S,E)),j=j.j(E).add(c(k))):(j=j.j(_),j=j.add(c(k)))}return j}var d=l(0),h=l(1),p=l(16777216);e=s.prototype,e.m=function(){if(m(this))return-v(this).m();for(var T=0,S=1,_=0;_<this.g.length;_++){var j=this.i(_);T+=(0<=j?j:4294967296+j)*S,S*=4294967296}return T},e.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(g(this))return"0";if(m(this))return"-"+v(this).toString(T);for(var S=c(Math.pow(T,6)),_=this,j="";;){var N=D(_,S).g;_=y(_,N.j(S));var E=((0<_.g.length?_.g[0]:_.h)>>>0).toString(T);if(_=N,g(_))return E+j;for(;6>E.length;)E="0"+E;j=E+j}},e.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function g(T){if(T.h!=0)return!1;for(var S=0;S<T.g.length;S++)if(T.g[S]!=0)return!1;return!0}function m(T){return T.h==-1}e.l=function(T){return T=y(this,T),m(T)?-1:g(T)?0:1};function v(T){for(var S=T.g.length,_=[],j=0;j<S;j++)_[j]=~T.g[j];return new s(_,~T.h).add(h)}e.abs=function(){return m(this)?v(this):this},e.add=function(T){for(var S=Math.max(this.g.length,T.g.length),_=[],j=0,N=0;N<=S;N++){var E=j+(this.i(N)&65535)+(T.i(N)&65535),k=(E>>>16)+(this.i(N)>>>16)+(T.i(N)>>>16);j=k>>>16,E&=65535,k&=65535,_[N]=k<<16|E}return new s(_,_[_.length-1]&-2147483648?-1:0)};function y(T,S){return T.add(v(S))}e.j=function(T){if(g(this)||g(T))return d;if(m(this))return m(T)?v(this).j(v(T)):v(v(this).j(T));if(m(T))return v(this.j(v(T)));if(0>this.l(p)&&0>T.l(p))return c(this.m()*T.m());for(var S=this.g.length+T.g.length,_=[],j=0;j<2*S;j++)_[j]=0;for(j=0;j<this.g.length;j++)for(var N=0;N<T.g.length;N++){var E=this.i(j)>>>16,k=this.i(j)&65535,U=T.i(N)>>>16,G=T.i(N)&65535;_[2*j+2*N]+=k*G,w(_,2*j+2*N),_[2*j+2*N+1]+=E*G,w(_,2*j+2*N+1),_[2*j+2*N+1]+=k*U,w(_,2*j+2*N+1),_[2*j+2*N+2]+=E*U,w(_,2*j+2*N+2)}for(j=0;j<S;j++)_[j]=_[2*j+1]<<16|_[2*j];for(j=S;j<2*S;j++)_[j]=0;return new s(_,0)};function w(T,S){for(;(T[S]&65535)!=T[S];)T[S+1]+=T[S]>>>16,T[S]&=65535,S++}function b(T,S){this.g=T,this.h=S}function D(T,S){if(g(S))throw Error("division by zero");if(g(T))return new b(d,d);if(m(T))return S=D(v(T),S),new b(v(S.g),v(S.h));if(m(S))return S=D(T,v(S)),new b(v(S.g),S.h);if(30<T.g.length){if(m(T)||m(S))throw Error("slowDivide_ only works with positive integers.");for(var _=h,j=S;0>=j.l(T);)_=P(_),j=P(j);var N=O(_,1),E=O(j,1);for(j=O(j,2),_=O(_,2);!g(j);){var k=E.add(j);0>=k.l(T)&&(N=N.add(_),E=k),j=O(j,1),_=O(_,1)}return S=y(T,N.j(S)),new b(N,S)}for(N=d;0<=T.l(S);){for(_=Math.max(1,Math.floor(T.m()/S.m())),j=Math.ceil(Math.log(_)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),E=c(_),k=E.j(S);m(k)||0<k.l(T);)_-=j,E=c(_),k=E.j(S);g(E)&&(E=h),N=N.add(E),T=y(T,k)}return new b(N,T)}e.A=function(T){return D(this,T).h},e.and=function(T){for(var S=Math.max(this.g.length,T.g.length),_=[],j=0;j<S;j++)_[j]=this.i(j)&T.i(j);return new s(_,this.h&T.h)},e.or=function(T){for(var S=Math.max(this.g.length,T.g.length),_=[],j=0;j<S;j++)_[j]=this.i(j)|T.i(j);return new s(_,this.h|T.h)},e.xor=function(T){for(var S=Math.max(this.g.length,T.g.length),_=[],j=0;j<S;j++)_[j]=this.i(j)^T.i(j);return new s(_,this.h^T.h)};function P(T){for(var S=T.g.length+1,_=[],j=0;j<S;j++)_[j]=T.i(j)<<1|T.i(j-1)>>>31;return new s(_,T.h)}function O(T,S){var _=S>>5;S%=32;for(var j=T.g.length-_,N=[],E=0;E<j;E++)N[E]=0<S?T.i(E+_)>>>S|T.i(E+_+1)<<32-S:T.i(E+_);return new s(N,T.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,O9=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,Df=s}).apply(typeof $j<"u"?$j:typeof self<"u"?self:typeof window<"u"?window:{});var ix=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var I9,mg,D9,n2,z4,L9,M9,R9;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(A,B,Q){return A==Array.prototype||A==Object.prototype||(A[B]=Q.value),A};function r(A){A=[typeof globalThis=="object"&&globalThis,A,typeof window=="object"&&window,typeof self=="object"&&self,typeof ix=="object"&&ix];for(var B=0;B<A.length;++B){var Q=A[B];if(Q&&Q.Math==Math)return Q}throw Error("Cannot find global object")}var n=r(this);function a(A,B){if(B)e:{var Q=n;A=A.split(".");for(var fe=0;fe<A.length-1;fe++){var Ve=A[fe];if(!(Ve in Q))break e;Q=Q[Ve]}A=A[A.length-1],fe=Q[A],B=B(fe),B!=fe&&B!=null&&t(Q,A,{configurable:!0,writable:!0,value:B})}}function i(A,B){A instanceof String&&(A+="");var Q=0,fe=!1,Ve={next:function(){if(!fe&&Q<A.length){var et=Q++;return{value:B(et,A[et]),done:!1}}return fe=!0,{done:!0,value:void 0}}};return Ve[Symbol.iterator]=function(){return Ve},Ve}a("Array.prototype.values",function(A){return A||function(){return i(this,function(B,Q){return Q})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function l(A){var B=typeof A;return B=B!="object"?B:A?Array.isArray(A)?"array":B:"null",B=="array"||B=="object"&&typeof A.length=="number"}function c(A){var B=typeof A;return B=="object"&&A!=null||B=="function"}function u(A,B,Q){return A.call.apply(A.bind,arguments)}function d(A,B,Q){if(!A)throw Error();if(2<arguments.length){var fe=Array.prototype.slice.call(arguments,2);return function(){var Ve=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ve,fe),A.apply(B,Ve)}}return function(){return A.apply(B,arguments)}}function h(A,B,Q){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:d,h.apply(null,arguments)}function p(A,B){var Q=Array.prototype.slice.call(arguments,1);return function(){var fe=Q.slice();return fe.push.apply(fe,arguments),A.apply(this,fe)}}function g(A,B){function Q(){}Q.prototype=B.prototype,A.aa=B.prototype,A.prototype=new Q,A.prototype.constructor=A,A.Qb=function(fe,Ve,et){for(var Et=Array(arguments.length-2),Er=2;Er<arguments.length;Er++)Et[Er-2]=arguments[Er];return B.prototype[Ve].apply(fe,Et)}}function m(A){const B=A.length;if(0<B){const Q=Array(B);for(let fe=0;fe<B;fe++)Q[fe]=A[fe];return Q}return[]}function v(A,B){for(let Q=1;Q<arguments.length;Q++){const fe=arguments[Q];if(l(fe)){const Ve=A.length||0,et=fe.length||0;A.length=Ve+et;for(let Et=0;Et<et;Et++)A[Ve+Et]=fe[Et]}else A.push(fe)}}class y{constructor(B,Q){this.i=B,this.j=Q,this.h=0,this.g=null}get(){let B;return 0<this.h?(this.h--,B=this.g,this.g=B.next,B.next=null):B=this.i(),B}}function w(A){return/^[\s\xa0]*$/.test(A)}function b(){var A=o.navigator;return A&&(A=A.userAgent)?A:""}function D(A){return D[" "](A),A}D[" "]=function(){};var P=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function O(A,B,Q){for(const fe in A)B.call(Q,A[fe],fe,A)}function T(A,B){for(const Q in A)B.call(void 0,A[Q],Q,A)}function S(A){const B={};for(const Q in A)B[Q]=A[Q];return B}const _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(A,B){let Q,fe;for(let Ve=1;Ve<arguments.length;Ve++){fe=arguments[Ve];for(Q in fe)A[Q]=fe[Q];for(let et=0;et<_.length;et++)Q=_[et],Object.prototype.hasOwnProperty.call(fe,Q)&&(A[Q]=fe[Q])}}function N(A){var B=1;A=A.split(":");const Q=[];for(;0<B&&A.length;)Q.push(A.shift()),B--;return A.length&&Q.push(A.join(":")),Q}function E(A){o.setTimeout(()=>{throw A},0)}function k(){var A=H;let B=null;return A.g&&(B=A.g,A.g=A.g.next,A.g||(A.h=null),B.next=null),B}class U{constructor(){this.h=this.g=null}add(B,Q){const fe=G.get();fe.set(B,Q),this.h?this.h.next=fe:this.g=fe,this.h=fe}}var G=new y(()=>new z,A=>A.reset());class z{constructor(){this.next=this.g=this.h=null}set(B,Q){this.h=B,this.g=Q,this.next=null}reset(){this.next=this.g=this.h=null}}let X,V=!1,H=new U,re=()=>{const A=o.Promise.resolve(void 0);X=()=>{A.then(ee)}};var ee=()=>{for(var A;A=k();){try{A.h.call(A.g)}catch(Q){E(Q)}var B=G;B.j(A),100>B.h&&(B.h++,A.next=B.g,B.g=A)}V=!1};function I(){this.s=this.s,this.C=this.C}I.prototype.s=!1,I.prototype.ma=function(){this.s||(this.s=!0,this.N())},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(A,B){this.type=A,this.g=this.target=B,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var q=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var A=!1,B=Object.defineProperty({},"passive",{get:function(){A=!0}});try{const Q=()=>{};o.addEventListener("test",Q,B),o.removeEventListener("test",Q,B)}catch{}return A}();function K(A,B){if(M.call(this,A?A.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,A){var Q=this.type=A.type,fe=A.changedTouches&&A.changedTouches.length?A.changedTouches[0]:null;if(this.target=A.target||A.srcElement,this.g=B,B=A.relatedTarget){if(P){e:{try{D(B.nodeName);var Ve=!0;break e}catch{}Ve=!1}Ve||(B=null)}}else Q=="mouseover"?B=A.fromElement:Q=="mouseout"&&(B=A.toElement);this.relatedTarget=B,fe?(this.clientX=fe.clientX!==void 0?fe.clientX:fe.pageX,this.clientY=fe.clientY!==void 0?fe.clientY:fe.pageY,this.screenX=fe.screenX||0,this.screenY=fe.screenY||0):(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0),this.button=A.button,this.key=A.key||"",this.ctrlKey=A.ctrlKey,this.altKey=A.altKey,this.shiftKey=A.shiftKey,this.metaKey=A.metaKey,this.pointerId=A.pointerId||0,this.pointerType=typeof A.pointerType=="string"?A.pointerType:J[A.pointerType]||"",this.state=A.state,this.i=A,A.defaultPrevented&&K.aa.h.call(this)}}g(K,M);var J={2:"touch",3:"pen",4:"mouse"};K.prototype.h=function(){K.aa.h.call(this);var A=this.i;A.preventDefault?A.preventDefault():A.returnValue=!1};var se="closure_listenable_"+(1e6*Math.random()|0),he=0;function ie(A,B,Q,fe,Ve){this.listener=A,this.proxy=null,this.src=B,this.type=Q,this.capture=!!fe,this.ha=Ve,this.key=++he,this.da=this.fa=!1}function ge(A){A.da=!0,A.listener=null,A.proxy=null,A.src=null,A.ha=null}function xe(A){this.src=A,this.g={},this.h=0}xe.prototype.add=function(A,B,Q,fe,Ve){var et=A.toString();A=this.g[et],A||(A=this.g[et]=[],this.h++);var Et=Pe(A,B,fe,Ve);return-1<Et?(B=A[Et],Q||(B.fa=!1)):(B=new ie(B,this.src,et,!!fe,Ve),B.fa=Q,A.push(B)),B};function W(A,B){var Q=B.type;if(Q in A.g){var fe=A.g[Q],Ve=Array.prototype.indexOf.call(fe,B,void 0),et;(et=0<=Ve)&&Array.prototype.splice.call(fe,Ve,1),et&&(ge(B),A.g[Q].length==0&&(delete A.g[Q],A.h--))}}function Pe(A,B,Q,fe){for(var Ve=0;Ve<A.length;++Ve){var et=A[Ve];if(!et.da&&et.listener==B&&et.capture==!!Q&&et.ha==fe)return Ve}return-1}var Ce="closure_lm_"+(1e6*Math.random()|0),Te={};function ce(A,B,Q,fe,Ve){if(Array.isArray(B)){for(var et=0;et<B.length;et++)ce(A,B[et],Q,fe,Ve);return null}return Q=We(Q),A&&A[se]?A.K(B,Q,c(fe)?!!fe.capture:!!fe,Ve):Fe(A,B,Q,!1,fe,Ve)}function Fe(A,B,Q,fe,Ve,et){if(!B)throw Error("Invalid event type");var Et=c(Ve)?!!Ve.capture:!!Ve,Er=Ne(A);if(Er||(A[Ce]=Er=new xe(A)),Q=Er.add(B,Q,fe,Et,et),Q.proxy)return Q;if(fe=Ge(),Q.proxy=fe,fe.src=A,fe.listener=Q,A.addEventListener)q||(Ve=Et),Ve===void 0&&(Ve=!1),A.addEventListener(B.toString(),fe,Ve);else if(A.attachEvent)A.attachEvent(_e(B.toString()),fe);else if(A.addListener&&A.removeListener)A.addListener(fe);else throw Error("addEventListener and attachEvent are unavailable.");return Q}function Ge(){function A(Q){return B.call(A.src,A.listener,Q)}const B=$e;return A}function Le(A,B,Q,fe,Ve){if(Array.isArray(B))for(var et=0;et<B.length;et++)Le(A,B[et],Q,fe,Ve);else fe=c(fe)?!!fe.capture:!!fe,Q=We(Q),A&&A[se]?(A=A.i,B=String(B).toString(),B in A.g&&(et=A.g[B],Q=Pe(et,Q,fe,Ve),-1<Q&&(ge(et[Q]),Array.prototype.splice.call(et,Q,1),et.length==0&&(delete A.g[B],A.h--)))):A&&(A=Ne(A))&&(B=A.g[B.toString()],A=-1,B&&(A=Pe(B,Q,fe,Ve)),(Q=-1<A?B[A]:null)&&Ye(Q))}function Ye(A){if(typeof A!="number"&&A&&!A.da){var B=A.src;if(B&&B[se])W(B.i,A);else{var Q=A.type,fe=A.proxy;B.removeEventListener?B.removeEventListener(Q,fe,A.capture):B.detachEvent?B.detachEvent(_e(Q),fe):B.addListener&&B.removeListener&&B.removeListener(fe),(Q=Ne(B))?(W(Q,A),Q.h==0&&(Q.src=null,B[Ce]=null)):ge(A)}}}function _e(A){return A in Te?Te[A]:Te[A]="on"+A}function $e(A,B){if(A.da)A=!0;else{B=new K(B,this);var Q=A.listener,fe=A.ha||A.src;A.fa&&Ye(A),A=Q.call(fe,B)}return A}function Ne(A){return A=A[Ce],A instanceof xe?A:null}var Ie="__closure_events_fn_"+(1e9*Math.random()>>>0);function We(A){return typeof A=="function"?A:(A[Ie]||(A[Ie]=function(B){return A.handleEvent(B)}),A[Ie])}function it(){I.call(this),this.i=new xe(this),this.M=this,this.F=null}g(it,I),it.prototype[se]=!0,it.prototype.removeEventListener=function(A,B,Q,fe){Le(this,A,B,Q,fe)};function ht(A,B){var Q,fe=A.F;if(fe)for(Q=[];fe;fe=fe.F)Q.push(fe);if(A=A.M,fe=B.type||B,typeof B=="string")B=new M(B,A);else if(B instanceof M)B.target=B.target||A;else{var Ve=B;B=new M(fe,A),j(B,Ve)}if(Ve=!0,Q)for(var et=Q.length-1;0<=et;et--){var Et=B.g=Q[et];Ve=xt(Et,fe,!0,B)&&Ve}if(Et=B.g=A,Ve=xt(Et,fe,!0,B)&&Ve,Ve=xt(Et,fe,!1,B)&&Ve,Q)for(et=0;et<Q.length;et++)Et=B.g=Q[et],Ve=xt(Et,fe,!1,B)&&Ve}it.prototype.N=function(){if(it.aa.N.call(this),this.i){var A=this.i,B;for(B in A.g){for(var Q=A.g[B],fe=0;fe<Q.length;fe++)ge(Q[fe]);delete A.g[B],A.h--}}this.F=null},it.prototype.K=function(A,B,Q,fe){return this.i.add(String(A),B,!1,Q,fe)},it.prototype.L=function(A,B,Q,fe){return this.i.add(String(A),B,!0,Q,fe)};function xt(A,B,Q,fe){if(B=A.i.g[String(B)],!B)return!0;B=B.concat();for(var Ve=!0,et=0;et<B.length;++et){var Et=B[et];if(Et&&!Et.da&&Et.capture==Q){var Er=Et.listener,Hr=Et.ha||Et.src;Et.fa&&W(A.i,Et),Ve=Er.call(Hr,fe)!==!1&&Ve}}return Ve&&!fe.defaultPrevented}function St(A,B,Q){if(typeof A=="function")Q&&(A=h(A,Q));else if(A&&typeof A.handleEvent=="function")A=h(A.handleEvent,A);else throw Error("Invalid listener argument");return 2147483647<Number(B)?-1:o.setTimeout(A,B||0)}function mt(A){A.g=St(()=>{A.g=null,A.i&&(A.i=!1,mt(A))},A.l);const B=A.h;A.h=null,A.m.apply(null,B)}class ut extends I{constructor(B,Q){super(),this.m=B,this.l=Q,this.h=null,this.i=!1,this.g=null}j(B){this.h=arguments,this.g?this.i=!0:mt(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xt(A){I.call(this),this.h=A,this.g={}}g(Xt,I);var Kt=[];function jr(A){O(A.g,function(B,Q){this.g.hasOwnProperty(Q)&&Ye(B)},A),A.g={}}Xt.prototype.N=function(){Xt.aa.N.call(this),jr(this)},Xt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _r=o.JSON.stringify,Dr=o.JSON.parse,De=class{stringify(A){return o.JSON.stringify(A,void 0)}parse(A){return o.JSON.parse(A,void 0)}};function rt(){}rt.prototype.h=null;function nt(A){return A.h||(A.h=A.i())}function st(){}var Ct={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ut(){M.call(this,"d")}g(Ut,M);function Pt(){M.call(this,"c")}g(Pt,M);var Dt={},Vt=null;function xr(){return Vt=Vt||new it}Dt.La="serverreachability";function or(A){M.call(this,Dt.La,A)}g(or,M);function Tr(A){const B=xr();ht(B,new or(B))}Dt.STAT_EVENT="statevent";function mr(A,B){M.call(this,Dt.STAT_EVENT,A),this.stat=B}g(mr,M);function zt(A){const B=xr();ht(B,new mr(B,A))}Dt.Ma="timingevent";function da(A,B){M.call(this,Dt.Ma,A),this.size=B}g(da,M);function Bn(A,B){if(typeof A!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){A()},B)}function Br(){this.g=!0}Br.prototype.xa=function(){this.g=!1};function An(A,B,Q,fe,Ve,et){A.info(function(){if(A.g)if(et)for(var Et="",Er=et.split("&"),Hr=0;Hr<Er.length;Hr++){var kr=Er[Hr].split("=");if(1<kr.length){var _n=kr[0];kr=kr[1];var Mn=_n.split("_");Et=2<=Mn.length&&Mn[1]=="type"?Et+(_n+"="+kr+"&"):Et+(_n+"=redacted&")}}else Et=null;else Et=et;return"XMLHTTP REQ ("+fe+") [attempt "+Ve+"]: "+B+`
`+Q+`
`+Et})}function gn(A,B,Q,fe,Ve,et,Et){A.info(function(){return"XMLHTTP RESP ("+fe+") [ attempt "+Ve+"]: "+B+`
`+Q+`
`+et+" "+Et})}function oe(A,B,Q,fe){A.info(function(){return"XMLHTTP TEXT ("+B+"): "+me(A,Q)+(fe?" "+fe:"")})}function ye(A,B){A.info(function(){return"TIMEOUT: "+B})}Br.prototype.info=function(){};function me(A,B){if(!A.g)return B;if(!B)return null;try{var Q=JSON.parse(B);if(Q){for(A=0;A<Q.length;A++)if(Array.isArray(Q[A])){var fe=Q[A];if(!(2>fe.length)){var Ve=fe[1];if(Array.isArray(Ve)&&!(1>Ve.length)){var et=Ve[0];if(et!="noop"&&et!="stop"&&et!="close")for(var Et=1;Et<Ve.length;Et++)Ve[Et]=""}}}}return _r(Q)}catch{return B}}var ve={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ae={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Z;function be(){}g(be,rt),be.prototype.g=function(){return new XMLHttpRequest},be.prototype.i=function(){return{}},Z=new be;function ke(A,B,Q,fe){this.j=A,this.i=B,this.l=Q,this.R=fe||1,this.U=new Xt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new je}function je(){this.i=null,this.g="",this.h=!1}var Be={},Ke={};function ot(A,B,Q){A.L=1,A.v=Zo(ii(B)),A.m=Q,A.P=!0,Tt(A,null)}function Tt(A,B){A.F=Date.now(),Ft(A),A.A=ii(A.v);var Q=A.A,fe=A.R;Array.isArray(fe)||(fe=[String(fe)]),at(Q.i,"t",fe),A.C=0,Q=A.j.J,A.h=new je,A.g=ne(A.j,Q?B:null,!A.m),0<A.O&&(A.M=new ut(h(A.Y,A,A.g),A.O)),B=A.U,Q=A.g,fe=A.ca;var Ve="readystatechange";Array.isArray(Ve)||(Ve&&(Kt[0]=Ve.toString()),Ve=Kt);for(var et=0;et<Ve.length;et++){var Et=ce(Q,Ve[et],fe||B.handleEvent,!1,B.h||B);if(!Et)break;B.g[Et.key]=Et}B=A.H?S(A.H):{},A.m?(A.u||(A.u="POST"),B["Content-Type"]="application/x-www-form-urlencoded",A.g.ea(A.A,A.u,A.m,B)):(A.u="GET",A.g.ea(A.A,A.u,null,B)),Tr(),An(A.i,A.u,A.A,A.l,A.R,A.m)}ke.prototype.ca=function(A){A=A.target;const B=this.M;B&&Wa(A)==3?B.j():this.Y(A)},ke.prototype.Y=function(A){try{if(A==this.g)e:{const Mn=Wa(this.g);var B=this.g.Ba();const al=this.g.Z();if(!(3>Mn)&&(Mn!=3||this.g&&(this.h.h||this.g.oa()||$h(this.g)))){this.J||Mn!=4||B==7||(B==8||0>=al?Tr(3):Tr(2)),qr(this);var Q=this.g.Z();this.X=Q;t:if(Mt(this)){var fe=$h(this.g);A="";var Ve=fe.length,et=Wa(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){hn(this),Ur(this);var Et="";break t}this.h.i=new o.TextDecoder}for(B=0;B<Ve;B++)this.h.h=!0,A+=this.h.i.decode(fe[B],{stream:!(et&&B==Ve-1)});fe.length=0,this.h.g+=A,this.C=0,Et=this.h.g}else Et=this.g.oa();if(this.o=Q==200,gn(this.i,this.u,this.A,this.l,this.R,Mn,Q),this.o){if(this.T&&!this.K){t:{if(this.g){var Er,Hr=this.g;if((Er=Hr.g?Hr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Er)){var kr=Er;break t}}kr=null}if(Q=kr)oe(this.i,this.l,Q,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ia(this,Q);else{this.o=!1,this.s=3,zt(12),hn(this),Ur(this);break e}}if(this.P){Q=!0;let xi;for(;!this.J&&this.C<Et.length;)if(xi=jt(this,Et),xi==Ke){Mn==4&&(this.s=4,zt(14),Q=!1),oe(this.i,this.l,null,"[Incomplete Response]");break}else if(xi==Be){this.s=4,zt(15),oe(this.i,this.l,Et,"[Invalid Chunk]"),Q=!1;break}else oe(this.i,this.l,xi,null),ia(this,xi);if(Mt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mn!=4||Et.length!=0||this.h.h||(this.s=1,zt(16),Q=!1),this.o=this.o&&Q,!Q)oe(this.i,this.l,Et,"[Invalid Chunked Response]"),hn(this),Ur(this);else if(0<Et.length&&!this.W){this.W=!0;var _n=this.j;_n.g==this&&_n.ba&&!_n.M&&(_n.j.info("Great, no buffering proxy detected. Bytes received: "+Et.length),Ru(_n),_n.M=!0,zt(11))}}else oe(this.i,this.l,Et,null),ia(this,Et);Mn==4&&hn(this),this.o&&!this.J&&(Mn==4?Vl(this.j,this):(this.o=!1,Ft(this)))}else Bl(this.g),Q==400&&0<Et.indexOf("Unknown SID")?(this.s=3,zt(12)):(this.s=0,zt(13)),hn(this),Ur(this)}}}catch{}finally{}};function Mt(A){return A.g?A.u=="GET"&&A.L!=2&&A.j.Ca:!1}function jt(A,B){var Q=A.C,fe=B.indexOf(`
`,Q);return fe==-1?Ke:(Q=Number(B.substring(Q,fe)),isNaN(Q)?Be:(fe+=1,fe+Q>B.length?Ke:(B=B.slice(fe,fe+Q),A.C=fe+Q,B)))}ke.prototype.cancel=function(){this.J=!0,hn(this)};function Ft(A){A.S=Date.now()+A.I,fr(A,A.I)}function fr(A,B){if(A.B!=null)throw Error("WatchDog timer not null");A.B=Bn(h(A.ba,A),B)}function qr(A){A.B&&(o.clearTimeout(A.B),A.B=null)}ke.prototype.ba=function(){this.B=null;const A=Date.now();0<=A-this.S?(ye(this.i,this.A),this.L!=2&&(Tr(),zt(17)),hn(this),this.s=2,Ur(this)):fr(this,this.S-A)};function Ur(A){A.j.G==0||A.J||Vl(A.j,A)}function hn(A){qr(A);var B=A.M;B&&typeof B.ma=="function"&&B.ma(),A.M=null,jr(A.U),A.g&&(B=A.g,A.g=null,B.abort(),B.ma())}function ia(A,B){try{var Q=A.j;if(Q.G!=0&&(Q.g==A||ln(Q.h,A))){if(!A.K&&ln(Q.h,A)&&Q.G==3){try{var fe=Q.Da.g.parse(B)}catch{fe=null}if(Array.isArray(fe)&&fe.length==3){var Ve=fe;if(Ve[0]==0){e:if(!Q.u){if(Q.g)if(Q.g.F+3e3<A.F)nl(Q),Iu(Q);else break e;Cc(Q),zt(18)}}else Q.za=Ve[1],0<Q.za-Q.T&&37500>Ve[2]&&Q.F&&Q.v==0&&!Q.C&&(Q.C=Bn(h(Q.Za,Q),6e3));if(1>=Oa(Q.h)&&Q.ca){try{Q.ca()}catch{}Q.ca=void 0}}else Ri(Q,11)}else if((A.K||Q.g==A)&&nl(Q),!w(B))for(Ve=Q.Da.g.parse(B),B=0;B<Ve.length;B++){let kr=Ve[B];if(Q.T=kr[0],kr=kr[1],Q.G==2)if(kr[0]=="c"){Q.K=kr[1],Q.ia=kr[2];const _n=kr[3];_n!=null&&(Q.la=_n,Q.j.info("VER="+Q.la));const Mn=kr[4];Mn!=null&&(Q.Aa=Mn,Q.j.info("SVER="+Q.Aa));const al=kr[5];al!=null&&typeof al=="number"&&0<al&&(fe=1.5*al,Q.L=fe,Q.j.info("backChannelRequestTimeoutMs_="+fe)),fe=Q;const xi=A.g;if(xi){const zl=xi.g?xi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zl){var et=fe.h;et.g||zl.indexOf("spdy")==-1&&zl.indexOf("quic")==-1&&zl.indexOf("h2")==-1||(et.j=et.l,et.g=new Set,et.h&&(Ln(et,et.h),et.h=null))}if(fe.D){const ql=xi.g?xi.g.getResponseHeader("X-HTTP-Session-Id"):null;ql&&(fe.ya=ql,vn(fe.I,fe.D,ql))}}Q.G=3,Q.l&&Q.l.ua(),Q.ba&&(Q.R=Date.now()-A.F,Q.j.info("Handshake RTT: "+Q.R+"ms")),fe=Q;var Et=A;if(fe.qa=L(fe,fe.J?fe.ia:null,fe.W),Et.K){bc(fe.h,Et);var Er=Et,Hr=fe.L;Hr&&(Er.I=Hr),Er.B&&(qr(Er),Ft(Er)),fe.g=Et}else Mu(fe);0<Q.i.length&&Du(Q)}else kr[0]!="stop"&&kr[0]!="close"||Ri(Q,7);else Q.G==3&&(kr[0]=="stop"||kr[0]=="close"?kr[0]=="stop"?Ri(Q,7):rl(Q):kr[0]!="noop"&&Q.l&&Q.l.ta(kr),Q.v=0)}}Tr(4)}catch{}}var Li=class{constructor(A,B){this.g=A,this.map=B}};function ai(A){this.l=A||10,o.PerformanceNavigationTiming?(A=o.performance.getEntriesByType("navigation"),A=0<A.length&&(A[0].nextHopProtocol=="hq"||A[0].nextHopProtocol=="h2")):A=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=A?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sa(A){return A.h?!0:A.g?A.g.size>=A.j:!1}function Oa(A){return A.h?1:A.g?A.g.size:0}function ln(A,B){return A.h?A.h==B:A.g?A.g.has(B):!1}function Ln(A,B){A.g?A.g.add(B):A.h=B}function bc(A,B){A.h&&A.h==B?A.h=null:A.g&&A.g.has(B)&&A.g.delete(B)}ai.prototype.cancel=function(){if(this.i=wc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const A of this.g.values())A.cancel();this.g.clear()}};function wc(A){if(A.h!=null)return A.i.concat(A.h.D);if(A.g!=null&&A.g.size!==0){let B=A.i;for(const Q of A.g.values())B=B.concat(Q.D);return B}return m(A.i)}function _c(A){if(A.V&&typeof A.V=="function")return A.V();if(typeof Map<"u"&&A instanceof Map||typeof Set<"u"&&A instanceof Set)return Array.from(A.values());if(typeof A=="string")return A.split("");if(l(A)){for(var B=[],Q=A.length,fe=0;fe<Q;fe++)B.push(A[fe]);return B}B=[],Q=0;for(fe in A)B[Q++]=A[fe];return B}function Sc(A){if(A.na&&typeof A.na=="function")return A.na();if(!A.V||typeof A.V!="function"){if(typeof Map<"u"&&A instanceof Map)return Array.from(A.keys());if(!(typeof Set<"u"&&A instanceof Set)){if(l(A)||typeof A=="string"){var B=[];A=A.length;for(var Q=0;Q<A;Q++)B.push(Q);return B}B=[],Q=0;for(const fe in A)B[Q++]=fe;return B}}}function Cu(A,B){if(A.forEach&&typeof A.forEach=="function")A.forEach(B,void 0);else if(l(A)||typeof A=="string")Array.prototype.forEach.call(A,B,void 0);else for(var Q=Sc(A),fe=_c(A),Ve=fe.length,et=0;et<Ve;et++)B.call(void 0,fe[et],Q&&Q[et],A)}var Mi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fl(A,B){if(A){A=A.split("&");for(var Q=0;Q<A.length;Q++){var fe=A[Q].indexOf("="),Ve=null;if(0<=fe){var et=A[Q].substring(0,fe);Ve=A[Q].substring(fe+1)}else et=A[Q];B(et,Ve?decodeURIComponent(Ve.replace(/\+/g," ")):"")}}}function Zn(A){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,A instanceof Zn){this.h=A.h,Jo(this,A.j),this.o=A.o,this.g=A.g,Ks(this,A.s),this.l=A.l;var B=A.i,Q=new te;Q.i=B.i,B.g&&(Q.g=new Map(B.g),Q.h=B.h),Ac(this,Q),this.m=A.m}else A&&(B=String(A).match(Mi))?(this.h=!1,Jo(this,B[1]||"",!0),this.o=el(B[2]||""),this.g=el(B[3]||"",!0),Ks(this,B[4]),this.l=el(B[5]||"",!0),Ac(this,B[6]||"",!0),this.m=el(B[7]||"")):(this.h=!1,this.i=new te(null,this.h))}Zn.prototype.toString=function(){var A=[],B=this.j;B&&A.push(Ys(B,Pu,!0),":");var Q=this.g;return(Q||B=="file")&&(A.push("//"),(B=this.o)&&A.push(Ys(B,Pu,!0),"@"),A.push(encodeURIComponent(String(Q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Q=this.s,Q!=null&&A.push(":",String(Q))),(Q=this.l)&&(this.g&&Q.charAt(0)!="/"&&A.push("/"),A.push(Ys(Q,Q.charAt(0)=="/"?Xs:dd,!0))),(Q=this.i.toString())&&A.push("?",Q),(Q=this.m)&&A.push("#",Ys(Q,$l)),A.join("")};function ii(A){return new Zn(A)}function Jo(A,B,Q){A.j=Q?el(B,!0):B,A.j&&(A.j=A.j.replace(/:$/,""))}function Ks(A,B){if(B){if(B=Number(B),isNaN(B)||0>B)throw Error("Bad port number "+B);A.s=B}else A.s=null}function Ac(A,B,Q){B instanceof te?(A.i=B,$t(A.i,A.h)):(Q||(B=Ys(B,tl)),A.i=new te(B,A.h))}function vn(A,B,Q){A.i.set(B,Q)}function Zo(A){return vn(A,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),A}function el(A,B){return A?B?decodeURI(A.replace(/%25/g,"%2525")):decodeURIComponent(A):""}function Ys(A,B,Q){return typeof A=="string"?(A=encodeURI(A).replace(B,fd),Q&&(A=A.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A):null}function fd(A){return A=A.charCodeAt(0),"%"+(A>>4&15).toString(16)+(A&15).toString(16)}var Pu=/[#\/\?@]/g,dd=/[#\?:]/g,Xs=/[#\?]/g,tl=/[#\?@]/g,$l=/#/g;function te(A,B){this.h=this.g=null,this.i=A||null,this.j=!!B}function we(A){A.g||(A.g=new Map,A.h=0,A.i&&Fl(A.i,function(B,Q){A.add(decodeURIComponent(B.replace(/\+/g," ")),Q)}))}e=te.prototype,e.add=function(A,B){we(this),this.i=null,A=pt(this,A);var Q=this.g.get(A);return Q||this.g.set(A,Q=[]),Q.push(B),this.h+=1,this};function Ze(A,B){we(A),B=pt(A,B),A.g.has(B)&&(A.i=null,A.h-=A.g.get(B).length,A.g.delete(B))}function Rt(A,B){return we(A),B=pt(A,B),A.g.has(B)}e.forEach=function(A,B){we(this),this.g.forEach(function(Q,fe){Q.forEach(function(Ve){A.call(B,Ve,fe,this)},this)},this)},e.na=function(){we(this);const A=Array.from(this.g.values()),B=Array.from(this.g.keys()),Q=[];for(let fe=0;fe<B.length;fe++){const Ve=A[fe];for(let et=0;et<Ve.length;et++)Q.push(B[fe])}return Q},e.V=function(A){we(this);let B=[];if(typeof A=="string")Rt(this,A)&&(B=B.concat(this.g.get(pt(this,A))));else{A=Array.from(this.g.values());for(let Q=0;Q<A.length;Q++)B=B.concat(A[Q])}return B},e.set=function(A,B){return we(this),this.i=null,A=pt(this,A),Rt(this,A)&&(this.h-=this.g.get(A).length),this.g.set(A,[B]),this.h+=1,this},e.get=function(A,B){return A?(A=this.V(A),0<A.length?String(A[0]):B):B};function at(A,B,Q){Ze(A,B),0<Q.length&&(A.i=null,A.g.set(pt(A,B),m(Q)),A.h+=Q.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const A=[],B=Array.from(this.g.keys());for(var Q=0;Q<B.length;Q++){var fe=B[Q];const et=encodeURIComponent(String(fe)),Et=this.V(fe);for(fe=0;fe<Et.length;fe++){var Ve=et;Et[fe]!==""&&(Ve+="="+encodeURIComponent(String(Et[fe]))),A.push(Ve)}}return this.i=A.join("&")};function pt(A,B){return B=String(B),A.j&&(B=B.toLowerCase()),B}function $t(A,B){B&&!A.j&&(we(A),A.i=null,A.g.forEach(function(Q,fe){var Ve=fe.toLowerCase();fe!=Ve&&(Ze(this,fe),at(this,Ve,Q))},A)),A.j=B}function Ot(A,B){const Q=new Br;if(o.Image){const fe=new Image;fe.onload=p(ft,Q,"TestLoadImage: loaded",!0,B,fe),fe.onerror=p(ft,Q,"TestLoadImage: error",!1,B,fe),fe.onabort=p(ft,Q,"TestLoadImage: abort",!1,B,fe),fe.ontimeout=p(ft,Q,"TestLoadImage: timeout",!1,B,fe),o.setTimeout(function(){fe.ontimeout&&fe.ontimeout()},1e4),fe.src=A}else B(!1)}function Lt(A,B){const Q=new Br,fe=new AbortController,Ve=setTimeout(()=>{fe.abort(),ft(Q,"TestPingServer: timeout",!1,B)},1e4);fetch(A,{signal:fe.signal}).then(et=>{clearTimeout(Ve),et.ok?ft(Q,"TestPingServer: ok",!0,B):ft(Q,"TestPingServer: server error",!1,B)}).catch(()=>{clearTimeout(Ve),ft(Q,"TestPingServer: error",!1,B)})}function ft(A,B,Q,fe,Ve){try{Ve&&(Ve.onload=null,Ve.onerror=null,Ve.onabort=null,Ve.ontimeout=null),fe(Q)}catch{}}function Bt(){this.g=new De}function Sr(A,B,Q){const fe=Q||"";try{Cu(A,function(Ve,et){let Et=Ve;c(Ve)&&(Et=_r(Ve)),B.push(fe+et+"="+encodeURIComponent(Et))})}catch(Ve){throw B.push(fe+"type="+encodeURIComponent("_badmap")),Ve}}function en(A){this.l=A.Ub||null,this.j=A.eb||!1}g(en,rt),en.prototype.g=function(){return new Tn(this.l,this.j)},en.prototype.i=function(A){return function(){return A}}({});function Tn(A,B){it.call(this),this.D=A,this.o=B,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(Tn,it),e=Tn.prototype,e.open=function(A,B){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=A,this.A=B,this.readyState=1,pn(this)},e.send=function(A){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const B={headers:this.u,method:this.B,credentials:this.m,cache:void 0};A&&(B.body=A),(this.D||o).fetch(new Request(this.A,B)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wn(this)),this.readyState=0},e.Sa=function(A){if(this.g&&(this.l=A,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=A.headers,this.readyState=2,pn(this)),this.g&&(this.readyState=3,pn(this),this.g)))if(this.responseType==="arraybuffer")A.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in A){if(this.j=A.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wr(this)}else A.text().then(this.Ra.bind(this),this.ga.bind(this))};function Wr(A){A.j.read().then(A.Pa.bind(A)).catch(A.ga.bind(A))}e.Pa=function(A){if(this.g){if(this.o&&A.value)this.response.push(A.value);else if(!this.o){var B=A.value?A.value:new Uint8Array(0);(B=this.v.decode(B,{stream:!A.done}))&&(this.response=this.responseText+=B)}A.done?wn(this):pn(this),this.readyState==3&&Wr(this)}},e.Ra=function(A){this.g&&(this.response=this.responseText=A,wn(this))},e.Qa=function(A){this.g&&(this.response=A,wn(this))},e.ga=function(){this.g&&wn(this)};function wn(A){A.readyState=4,A.l=null,A.j=null,A.v=null,pn(A)}e.setRequestHeader=function(A,B){this.u.append(A,B)},e.getResponseHeader=function(A){return this.h&&this.h.get(A.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const A=[],B=this.h.entries();for(var Q=B.next();!Q.done;)Q=Q.value,A.push(Q[0]+": "+Q[1]),Q=B.next();return A.join(`\r
`)};function pn(A){A.onreadystatechange&&A.onreadystatechange.call(A)}Object.defineProperty(Tn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(A){this.m=A?"include":"same-origin"}});function Yr(A){let B="";return O(A,function(Q,fe){B+=fe,B+=":",B+=Q,B+=`\r
`}),B}function Ps(A,B,Q){e:{for(fe in Q){var fe=!1;break e}fe=!0}fe||(Q=Yr(Q),typeof A=="string"?Q!=null&&encodeURIComponent(String(Q)):vn(A,B,Q))}function tn(A){it.call(this),this.headers=new Map,this.o=A||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(tn,it);var Tc=/^https?$/i,ju=["POST","PUT"];e=tn.prototype,e.Ha=function(A){this.J=A},e.ea=function(A,B,Q,fe){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+A);B=B?B.toUpperCase():"GET",this.D=A,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Z.g(),this.v=this.o?nt(this.o):nt(Z),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(B,String(A),!0),this.B=!1}catch(et){hd(this,et);return}if(A=Q||"",Q=new Map(this.headers),fe)if(Object.getPrototypeOf(fe)===Object.prototype)for(var Ve in fe)Q.set(Ve,fe[Ve]);else if(typeof fe.keys=="function"&&typeof fe.get=="function")for(const et of fe.keys())Q.set(et,fe.get(et));else throw Error("Unknown input type for opt_headers: "+String(fe));fe=Array.from(Q.keys()).find(et=>et.toLowerCase()=="content-type"),Ve=o.FormData&&A instanceof o.FormData,!(0<=Array.prototype.indexOf.call(ju,B,void 0))||fe||Ve||Q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[et,Et]of Q)this.g.setRequestHeader(et,Et);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qs(this),this.u=!0,this.g.send(A),this.u=!1}catch(et){hd(this,et)}};function hd(A,B){A.h=!1,A.g&&(A.j=!0,A.g.abort(),A.j=!1),A.l=B,A.m=5,pd(A),Nc(A)}function pd(A){A.A||(A.A=!0,ht(A,"complete"),ht(A,"error"))}e.abort=function(A){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=A||7,ht(this,"complete"),ht(this,"abort"),Nc(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Nc(this,!0)),tn.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?md(this):this.bb())},e.bb=function(){md(this)};function md(A){if(A.h&&typeof s<"u"&&(!A.v[1]||Wa(A)!=4||A.Z()!=2)){if(A.u&&Wa(A)==4)St(A.Ea,0,A);else if(ht(A,"readystatechange"),Wa(A)==4){A.h=!1;try{const Et=A.Z();e:switch(Et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var B=!0;break e;default:B=!1}var Q;if(!(Q=B)){var fe;if(fe=Et===0){var Ve=String(A.D).match(Mi)[1]||null;!Ve&&o.self&&o.self.location&&(Ve=o.self.location.protocol.slice(0,-1)),fe=!Tc.test(Ve?Ve.toLowerCase():"")}Q=fe}if(Q)ht(A,"complete"),ht(A,"success");else{A.m=6;try{var et=2<Wa(A)?A.g.statusText:""}catch{et=""}A.l=et+" ["+A.Z()+"]",pd(A)}}finally{Nc(A)}}}}function Nc(A,B){if(A.g){Qs(A);const Q=A.g,fe=A.v[0]?()=>{}:null;A.g=null,A.v=null,B||ht(A,"ready");try{Q.onreadystatechange=fe}catch{}}}function Qs(A){A.I&&(o.clearTimeout(A.I),A.I=null)}e.isActive=function(){return!!this.g};function Wa(A){return A.g?A.g.readyState:0}e.Z=function(){try{return 2<Wa(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(A){if(this.g){var B=this.g.responseText;return A&&B.indexOf(A)==0&&(B=B.substring(A.length)),Dr(B)}};function $h(A){try{if(!A.g)return null;if("response"in A.g)return A.g.response;switch(A.H){case"":case"text":return A.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in A.g)return A.g.mozResponseArrayBuffer}return null}catch{return null}}function Bl(A){const B={};A=(A.g&&2<=Wa(A)&&A.g.getAllResponseHeaders()||"").split(`\r
`);for(let fe=0;fe<A.length;fe++){if(w(A[fe]))continue;var Q=N(A[fe]);const Ve=Q[0];if(Q=Q[1],typeof Q!="string")continue;Q=Q.trim();const et=B[Ve]||[];B[Ve]=et,et.push(Q)}T(B,function(fe){return fe.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function yi(A,B,Q){return Q&&Q.internalChannelParams&&Q.internalChannelParams[A]||B}function Ou(A){this.Aa=0,this.i=[],this.j=new Br,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=yi("failFast",!1,A),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=yi("baseRetryDelayMs",5e3,A),this.cb=yi("retryDelaySeedMs",1e4,A),this.Wa=yi("forwardChannelMaxRetries",2,A),this.wa=yi("forwardChannelRequestTimeoutMs",2e4,A),this.pa=A&&A.xmlHttpFactory||void 0,this.Xa=A&&A.Tb||void 0,this.Ca=A&&A.useFetchStreams||!1,this.L=void 0,this.J=A&&A.supportsCrossDomainXhr||!1,this.K="",this.h=new ai(A&&A.concurrentRequestLimit),this.Da=new Bt,this.P=A&&A.fastHandshake||!1,this.O=A&&A.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=A&&A.Rb||!1,A&&A.xa&&this.j.xa(),A&&A.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&A&&A.detectBufferingProxy||!1,this.ja=void 0,A&&A.longPollingTimeout&&0<A.longPollingTimeout&&(this.ja=A.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Ou.prototype,e.la=8,e.G=1,e.connect=function(A,B,Q,fe){zt(0),this.W=A,this.H=B||{},Q&&fe!==void 0&&(this.H.OSID=Q,this.H.OAID=fe),this.F=this.X,this.I=L(this,null,this.W),Du(this)};function rl(A){if(Ec(A),A.G==3){var B=A.U++,Q=ii(A.I);if(vn(Q,"SID",A.K),vn(Q,"RID",B),vn(Q,"TYPE","terminate"),Ul(A,Q),B=new ke(A,A.j,B),B.L=2,B.v=Zo(ii(Q)),Q=!1,o.navigator&&o.navigator.sendBeacon)try{Q=o.navigator.sendBeacon(B.v.toString(),"")}catch{}!Q&&o.Image&&(new Image().src=B.v,Q=!0),Q||(B.g=ne(B.j,null),B.g.ea(B.v)),B.F=Date.now(),Ft(B)}$u(A)}function Iu(A){A.g&&(Ru(A),A.g.cancel(),A.g=null)}function Ec(A){Iu(A),A.u&&(o.clearTimeout(A.u),A.u=null),nl(A),A.h.cancel(),A.s&&(typeof A.s=="number"&&o.clearTimeout(A.s),A.s=null)}function Du(A){if(!sa(A.h)&&!A.s){A.s=!0;var B=A.Ga;X||re(),V||(X(),V=!0),H.add(B,A),A.B=0}}function gd(A,B){return Oa(A.h)>=A.h.j-(A.s?1:0)?!1:A.s?(A.i=B.D.concat(A.i),!0):A.G==1||A.G==2||A.B>=(A.Va?0:A.Wa)?!1:(A.s=Bn(h(A.Ga,A,B),Fu(A,A.B)),A.B++,!0)}e.Ga=function(A){if(this.s)if(this.s=null,this.G==1){if(!A){this.U=Math.floor(1e5*Math.random()),A=this.U++;const Ve=new ke(this,this.j,A);let et=this.o;if(this.S&&(et?(et=S(et),j(et,this.S)):et=this.S),this.m!==null||this.O||(Ve.H=et,et=null),this.P)e:{for(var B=0,Q=0;Q<this.i.length;Q++){t:{var fe=this.i[Q];if("__data__"in fe.map&&(fe=fe.map.__data__,typeof fe=="string")){fe=fe.length;break t}fe=void 0}if(fe===void 0)break;if(B+=fe,4096<B){B=Q;break e}if(B===4096||Q===this.i.length-1){B=Q+1;break e}}B=1e3}else B=1e3;B=kc(this,Ve,B),Q=ii(this.I),vn(Q,"RID",A),vn(Q,"CVER",22),this.D&&vn(Q,"X-HTTP-Session-Id",this.D),Ul(this,Q),et&&(this.O?B="headers="+encodeURIComponent(String(Yr(et)))+"&"+B:this.m&&Ps(Q,this.m,et)),Ln(this.h,Ve),this.Ua&&vn(Q,"TYPE","init"),this.P?(vn(Q,"$req",B),vn(Q,"SID","null"),Ve.T=!0,ot(Ve,Q,null)):ot(Ve,Q,B),this.G=2}}else this.G==3&&(A?Lu(this,A):this.i.length==0||sa(this.h)||Lu(this))};function Lu(A,B){var Q;B?Q=B.l:Q=A.U++;const fe=ii(A.I);vn(fe,"SID",A.K),vn(fe,"RID",Q),vn(fe,"AID",A.T),Ul(A,fe),A.m&&A.o&&Ps(fe,A.m,A.o),Q=new ke(A,A.j,Q,A.B+1),A.m===null&&(Q.H=A.o),B&&(A.i=B.D.concat(A.i)),B=kc(A,Q,1e3),Q.I=Math.round(.5*A.wa)+Math.round(.5*A.wa*Math.random()),Ln(A.h,Q),ot(Q,fe,B)}function Ul(A,B){A.H&&O(A.H,function(Q,fe){vn(B,fe,Q)}),A.l&&Cu({},function(Q,fe){vn(B,fe,Q)})}function kc(A,B,Q){Q=Math.min(A.i.length,Q);var fe=A.l?h(A.l.Na,A.l,A):null;e:{var Ve=A.i;let et=-1;for(;;){const Et=["count="+Q];et==-1?0<Q?(et=Ve[0].g,Et.push("ofs="+et)):et=0:Et.push("ofs="+et);let Er=!0;for(let Hr=0;Hr<Q;Hr++){let kr=Ve[Hr].g;const _n=Ve[Hr].map;if(kr-=et,0>kr)et=Math.max(0,Ve[Hr].g-100),Er=!1;else try{Sr(_n,Et,"req"+kr+"_")}catch{fe&&fe(_n)}}if(Er){fe=Et.join("&");break e}}}return A=A.i.splice(0,Q),B.D=A,fe}function Mu(A){if(!A.g&&!A.u){A.Y=1;var B=A.Fa;X||re(),V||(X(),V=!0),H.add(B,A),A.v=0}}function Cc(A){return A.g||A.u||3<=A.v?!1:(A.Y++,A.u=Bn(h(A.Fa,A),Fu(A,A.v)),A.v++,!0)}e.Fa=function(){if(this.u=null,Bh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var A=2*this.R;this.j.info("BP detection timer enabled: "+A),this.A=Bn(h(this.ab,this),A)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,zt(10),Iu(this),Bh(this))};function Ru(A){A.A!=null&&(o.clearTimeout(A.A),A.A=null)}function Bh(A){A.g=new ke(A,A.j,"rpc",A.Y),A.m===null&&(A.g.H=A.o),A.g.O=0;var B=ii(A.qa);vn(B,"RID","rpc"),vn(B,"SID",A.K),vn(B,"AID",A.T),vn(B,"CI",A.F?"0":"1"),!A.F&&A.ja&&vn(B,"TO",A.ja),vn(B,"TYPE","xmlhttp"),Ul(A,B),A.m&&A.o&&Ps(B,A.m,A.o),A.L&&(A.g.I=A.L);var Q=A.g;A=A.ia,Q.L=1,Q.v=Zo(ii(B)),Q.m=null,Q.P=!0,Tt(Q,A)}e.Za=function(){this.C!=null&&(this.C=null,Iu(this),Cc(this),zt(19))};function nl(A){A.C!=null&&(o.clearTimeout(A.C),A.C=null)}function Vl(A,B){var Q=null;if(A.g==B){nl(A),Ru(A),A.g=null;var fe=2}else if(ln(A.h,B))Q=B.D,bc(A.h,B),fe=1;else return;if(A.G!=0){if(B.o)if(fe==1){Q=B.m?B.m.length:0,B=Date.now()-B.F;var Ve=A.B;fe=xr(),ht(fe,new da(fe,Q)),Du(A)}else Mu(A);else if(Ve=B.s,Ve==3||Ve==0&&0<B.X||!(fe==1&&gd(A,B)||fe==2&&Cc(A)))switch(Q&&0<Q.length&&(B=A.h,B.i=B.i.concat(Q)),Ve){case 1:Ri(A,5);break;case 4:Ri(A,10);break;case 3:Ri(A,6);break;default:Ri(A,2)}}}function Fu(A,B){let Q=A.Ta+Math.floor(Math.random()*A.cb);return A.isActive()||(Q*=2),Q*B}function Ri(A,B){if(A.j.info("Error code "+B),B==2){var Q=h(A.fb,A),fe=A.Xa;const Ve=!fe;fe=new Zn(fe||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Jo(fe,"https"),Zo(fe),Ve?Ot(fe.toString(),Q):Lt(fe.toString(),Q)}else zt(2);A.G=0,A.l&&A.l.sa(B),$u(A),Ec(A)}e.fb=function(A){A?(this.j.info("Successfully pinged google.com"),zt(2)):(this.j.info("Failed to ping google.com"),zt(1))};function $u(A){if(A.G=0,A.ka=[],A.l){const B=wc(A.h);(B.length!=0||A.i.length!=0)&&(v(A.ka,B),v(A.ka,A.i),A.h.i.length=0,m(A.i),A.i.length=0),A.l.ra()}}function L(A,B,Q){var fe=Q instanceof Zn?ii(Q):new Zn(Q);if(fe.g!="")B&&(fe.g=B+"."+fe.g),Ks(fe,fe.s);else{var Ve=o.location;fe=Ve.protocol,B=B?B+"."+Ve.hostname:Ve.hostname,Ve=+Ve.port;var et=new Zn(null);fe&&Jo(et,fe),B&&(et.g=B),Ve&&Ks(et,Ve),Q&&(et.l=Q),fe=et}return Q=A.D,B=A.ya,Q&&B&&vn(fe,Q,B),vn(fe,"VER",A.la),Ul(A,fe),fe}function ne(A,B,Q){if(B&&!A.J)throw Error("Can't create secondary domain capable XhrIo object.");return B=A.Ca&&!A.pa?new tn(new en({eb:Q})):new tn(A.pa),B.Ha(A.J),B}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ee(){}e=Ee.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Oe(){}Oe.prototype.g=function(A,B){return new qe(A,B)};function qe(A,B){it.call(this),this.g=new Ou(B),this.l=A,this.h=B&&B.messageUrlParams||null,A=B&&B.messageHeaders||null,B&&B.clientProtocolHeaderRequired&&(A?A["X-Client-Protocol"]="webchannel":A={"X-Client-Protocol":"webchannel"}),this.g.o=A,A=B&&B.initMessageHeaders||null,B&&B.messageContentType&&(A?A["X-WebChannel-Content-Type"]=B.messageContentType:A={"X-WebChannel-Content-Type":B.messageContentType}),B&&B.va&&(A?A["X-WebChannel-Client-Profile"]=B.va:A={"X-WebChannel-Client-Profile":B.va}),this.g.S=A,(A=B&&B.Sb)&&!w(A)&&(this.g.m=A),this.v=B&&B.supportsCrossDomainXhr||!1,this.u=B&&B.sendRawJson||!1,(B=B&&B.httpSessionIdParam)&&!w(B)&&(this.g.D=B,A=this.h,A!==null&&B in A&&(A=this.h,B in A&&delete A[B])),this.j=new Gt(this)}g(qe,it),qe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qe.prototype.close=function(){rl(this.g)},qe.prototype.o=function(A){var B=this.g;if(typeof A=="string"){var Q={};Q.__data__=A,A=Q}else this.u&&(Q={},Q.__data__=_r(A),A=Q);B.i.push(new Li(B.Ya++,A)),B.G==3&&Du(B)},qe.prototype.N=function(){this.g.l=null,delete this.j,rl(this.g),delete this.g,qe.aa.N.call(this)};function ct(A){Ut.call(this),A.__headers__&&(this.headers=A.__headers__,this.statusCode=A.__status__,delete A.__headers__,delete A.__status__);var B=A.__sm__;if(B){e:{for(const Q in B){A=Q;break e}A=void 0}(this.i=A)&&(A=this.i,B=B!==null&&A in B?B[A]:void 0),this.data=B}else this.data=A}g(ct,Ut);function Nt(){Pt.call(this),this.status=1}g(Nt,Pt);function Gt(A){this.g=A}g(Gt,Ee),Gt.prototype.ua=function(){ht(this.g,"a")},Gt.prototype.ta=function(A){ht(this.g,new ct(A))},Gt.prototype.sa=function(A){ht(this.g,new Nt)},Gt.prototype.ra=function(){ht(this.g,"b")},Oe.prototype.createWebChannel=Oe.prototype.g,qe.prototype.send=qe.prototype.o,qe.prototype.open=qe.prototype.m,qe.prototype.close=qe.prototype.close,R9=function(){return new Oe},M9=function(){return xr()},L9=Dt,z4={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ve.NO_ERROR=0,ve.TIMEOUT=8,ve.HTTP_ERROR=6,n2=ve,Ae.COMPLETE="complete",D9=Ae,st.EventType=Ct,Ct.OPEN="a",Ct.CLOSE="b",Ct.ERROR="c",Ct.MESSAGE="d",it.prototype.listen=it.prototype.K,mg=st,tn.prototype.listenOnce=tn.prototype.L,tn.prototype.getLastError=tn.prototype.Ka,tn.prototype.getLastErrorCode=tn.prototype.Ba,tn.prototype.getStatus=tn.prototype.Z,tn.prototype.getResponseJson=tn.prototype.Oa,tn.prototype.getResponseText=tn.prototype.oa,tn.prototype.send=tn.prototype.ea,tn.prototype.setWithCredentials=tn.prototype.Ha,I9=tn}).apply(typeof ix<"u"?ix:typeof self<"u"?self:typeof window<"u"?window:{});const Bj="@firebase/firestore",Uj="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ki.UNAUTHENTICATED=new Ki(null),Ki.GOOGLE_CREDENTIALS=new Ki("google-credentials-uid"),Ki.FIRST_PARTY=new Ki("first-party-uid"),Ki.MOCK_USER=new Ki("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rm="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh=new N9("@firebase/firestore");function u0(){return uh.logLevel}function Zt(e,...t){if(uh.logLevel<=nn.DEBUG){const r=t.map(TE);uh.debug(`Firestore (${rm}): ${e}`,...r)}}function uu(e,...t){if(uh.logLevel<=nn.ERROR){const r=t.map(TE);uh.error(`Firestore (${rm}): ${e}`,...r)}}function pp(e,...t){if(uh.logLevel<=nn.WARN){const r=t.map(TE);uh.warn(`Firestore (${rm}): ${e}`,...r)}}function TE(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(e,t,r){let n="Unexpected state";typeof t=="string"?n=t:r=t,F9(e,n,r)}function F9(e,t,r){let n=`FIRESTORE (${rm}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw uu(n),new Error(n)}function bn(e,t,r,n){let a="Unexpected state";typeof r=="string"?a=r:n=r,e||F9(t,a,n)}function Ar(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Qt extends tm{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Dte{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(Ki.UNAUTHENTICATED))}shutdown(){}}class Lte{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Mte{constructor(t){this.t=t,this.currentUser=Ki.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){bn(this.o===void 0,42304);let n=this.i;const a=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let i=new nc;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new nc,t.enqueueRetryable(()=>a(this.currentUser))};const s=()=>{const l=i;t.enqueueRetryable(async()=>{await l.promise,await a(this.currentUser)})},o=l=>{Zt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(Zt("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new nc)}},0),s()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==t?(Zt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(bn(typeof n.accessToken=="string",31837,{l:n}),new $9(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return bn(t===null||typeof t=="string",2055,{h:t}),new Ki(t)}}class Rte{constructor(t,r,n){this.P=t,this.T=r,this.I=n,this.type="FirstParty",this.user=Ki.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Fte{constructor(t,r,n){this.P=t,this.T=r,this.I=n}getToken(){return Promise.resolve(new Rte(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable(()=>r(Ki.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Vj{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $te{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,vte(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){bn(this.o===void 0,3512);const n=i=>{i.error!=null&&Zt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const s=i.token!==this.m;return this.m=i.token,Zt("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable(()=>n(i))};const a=i=>{Zt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>a(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?a(i):Zt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Vj(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(bn(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new Vj(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bte(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let n=0;n<e;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B9(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const a=Bte(40);for(let i=0;i<a.length;++i)n.length<20&&a[i]<r&&(n+=t.charAt(a[i]%62))}return n}}function $r(e,t){return e<t?-1:e>t?1:0}function q4(e,t){let r=0;for(;r<e.length&&r<t.length;){const n=e.codePointAt(r),a=t.codePointAt(r);if(n!==a){if(n<128&&a<128)return $r(n,a);{const i=B9(),s=Ute(i.encode(zj(e,r)),i.encode(zj(t,r)));return s!==0?s:$r(n,a)}}r+=n>65535?2:1}return $r(e.length,t.length)}function zj(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function Ute(e,t){for(let r=0;r<e.length&&r<t.length;++r)if(e[r]!==t[r])return $r(e[r],t[r]);return $r(e.length,t.length)}function mp(e,t,r){return e.length===t.length&&e.every((n,a)=>r(n,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qj=-62135596800,Wj=1e6;class nr{static now(){return nr.fromMillis(Date.now())}static fromDate(t){return nr.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),n=Math.floor((t-1e3*r)*Wj);return new nr(r,n)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new Qt(yt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Qt(yt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<qj)throw new Qt(yt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Qt(yt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Wj}_compareTo(t){return this.seconds===t.seconds?$r(this.nanoseconds,t.nanoseconds):$r(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-qj;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{static fromTimestamp(t){return new Nr(t)}static min(){return new Nr(new nr(0,0))}static max(){return new Nr(new nr(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj="__name__";class Ql{constructor(t,r,n){r===void 0?r=0:r>t.length&&yr(637,{offset:r,range:t.length}),n===void 0?n=t.length-r:n>t.length-r&&yr(1746,{length:n,range:t.length-r}),this.segments=t,this.offset=r,this.len=n}get length(){return this.len}isEqual(t){return Ql.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof Ql?t.forEach(n=>{r.push(n)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,n=this.limit();r<n;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const n=Math.min(t.length,r.length);for(let a=0;a<n;a++){const i=Ql.compareSegments(t.get(a),r.get(a));if(i!==0)return i}return $r(t.length,r.length)}static compareSegments(t,r){const n=Ql.isNumericId(t),a=Ql.isNumericId(r);return n&&!a?-1:!n&&a?1:n&&a?Ql.extractNumericId(t).compare(Ql.extractNumericId(r)):q4(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Df.fromString(t.substring(4,t.length-2))}}class Xn extends Ql{construct(t,r,n){return new Xn(t,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const n of t){if(n.indexOf("//")>=0)throw new Qt(yt.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(a=>a.length>0))}return new Xn(r)}static emptyPath(){return new Xn([])}}const Vte=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ei extends Ql{construct(t,r,n){return new Ei(t,r,n)}static isValidIdentifier(t){return Vte.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ei.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Hj}static keyField(){return new Ei([Hj])}static fromServerFormat(t){const r=[];let n="",a=0;const i=()=>{if(n.length===0)throw new Qt(yt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;a<t.length;){const o=t[a];if(o==="\\"){if(a+1===t.length)throw new Qt(yt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[a+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Qt(yt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=l,a+=2}else o==="`"?(s=!s,a++):o!=="."||s?(n+=o,a++):(i(),a++)}if(i(),s)throw new Qt(yt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ei(r)}static emptyPath(){return new Ei([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(t){this.path=t}static fromPath(t){return new cr(Xn.fromString(t))}static fromName(t){return new cr(Xn.fromString(t).popFirst(5))}static empty(){return new cr(Xn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Xn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return Xn.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new cr(new Xn(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv=-1;function zte(e,t){const r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,a=Nr.fromTimestamp(n===1e9?new nr(r+1,0):new nr(r,n));return new Vf(a,cr.empty(),t)}function qte(e){return new Vf(e.readTime,e.key,Cv)}class Vf{constructor(t,r,n){this.readTime=t,this.documentKey=r,this.largestBatchId=n}static min(){return new Vf(Nr.min(),cr.empty(),Cv)}static max(){return new Vf(Nr.max(),cr.empty(),Cv)}}function Wte(e,t){let r=e.readTime.compareTo(t.readTime);return r!==0?r:(r=cr.comparator(e.documentKey,t.documentKey),r!==0?r:$r(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hte="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Gte{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nm(e){if(e.code!==yt.FAILED_PRECONDITION||e.message!==Hte)throw e;Zt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&yr(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new _t((n,a)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(n,a)},this.catchCallback=i=>{this.wrapFailure(r,i).next(n,a)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof _t?r:_t.resolve(r)}catch(r){return _t.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):_t.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):_t.reject(r)}static resolve(t){return new _t((r,n)=>{r(t)})}static reject(t){return new _t((r,n)=>{n(t)})}static waitFor(t){return new _t((r,n)=>{let a=0,i=0,s=!1;t.forEach(o=>{++a,o.next(()=>{++i,s&&i===a&&r()},l=>n(l))}),s=!0,i===a&&r()})}static or(t){let r=_t.resolve(!1);for(const n of t)r=r.next(a=>a?_t.resolve(a):n());return r}static forEach(t,r){const n=[];return t.forEach((a,i)=>{n.push(r.call(this,a,i))}),this.waitFor(n)}static mapArray(t,r){return new _t((n,a)=>{const i=t.length,s=new Array(i);let o=0;for(let l=0;l<i;l++){const c=l;r(t[c]).next(u=>{s[c]=u,++o,o===i&&n(s)},u=>a(u))}})}static doWhile(t,r){return new _t((n,a)=>{const i=()=>{t()===!0?r().next(()=>{i()},a):n()};i()})}}function Kte(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function am(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=n=>this.ue(n),this.ce=n=>r.writeSequenceNumber(n))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Zw.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE=-1;function e5(e){return e==null}function eb(e){return e===0&&1/e==-1/0}function Yte(e){return typeof e=="number"&&Number.isInteger(e)&&!eb(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V9="";function Xte(e){let t="";for(let r=0;r<e.length;r++)t.length>0&&(t=Gj(t)),t=Qte(e.get(r),t);return Gj(t)}function Qte(e,t){let r=t;const n=e.length;for(let a=0;a<n;a++){const i=e.charAt(a);switch(i){case"\0":r+="";break;case V9:r+="";break;default:r+=i}}return r}function Gj(e){return e+V9+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kj(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function rd(e,t){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function Jte(e,t){const r=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.push(t(e[n],n,e));return r}function z9(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(t,r){this.comparator=t,this.root=r||Ti.EMPTY}insert(t,r){return new fa(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,Ti.BLACK,null,null))}remove(t){return new fa(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ti.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(t,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(t){let r=0,n=this.root;for(;!n.isEmpty();){const a=this.comparator(t,n.key);if(a===0)return r+n.left.size;a<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,n)=>(t(r,n),!1))}toString(){const t=[];return this.inorderTraversal((r,n)=>(t.push(`${r}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new sx(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new sx(this.root,t,this.comparator,!1)}getReverseIterator(){return new sx(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new sx(this.root,t,this.comparator,!0)}}class sx{constructor(t,r,n,a){this.isReverse=a,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=r?n(t.key,r):1,r&&a&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ti{constructor(t,r,n,a,i){this.key=t,this.value=r,this.color=n??Ti.RED,this.left=a??Ti.EMPTY,this.right=i??Ti.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,n,a,i){return new Ti(t??this.key,r??this.value,n??this.color,a??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,n){let a=this;const i=n(t,a.key);return a=i<0?a.copy(null,null,null,a.left.insert(t,r,n),null):i===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(t,r,n)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ti.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let n,a=this;if(r(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(t,a.key)===0){if(a.right.isEmpty())return Ti.EMPTY;n=a.right.min(),a=a.copy(n.key,n.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ti.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ti.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yr(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yr(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yr(27949);return t+(this.isRed()?0:1)}}Ti.EMPTY=null,Ti.RED=!0,Ti.BLACK=!1;Ti.EMPTY=new class{constructor(){this.size=0}get key(){throw yr(57766)}get value(){throw yr(16141)}get color(){throw yr(16727)}get left(){throw yr(29726)}get right(){throw yr(36894)}copy(t,r,n,a,i){return this}insert(t,r,n){return new Ti(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(t){this.comparator=t,this.data=new fa(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,n)=>(t(r),!1))}forEachInRange(t,r){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const a=n.getNext();if(this.comparator(a.key,t[1])>=0)return;r(a.key)}}forEachWhile(t,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new Yj(this.data.getIterator())}getIteratorFrom(t){return new Yj(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(n=>{r=r.add(n)}),r}isEqual(t){if(!(t instanceof ti)||this.size!==t.size)return!1;const r=this.data.getIterator(),n=t.data.getIterator();for(;r.hasNext();){const a=r.getNext().key,i=n.getNext().key;if(this.comparator(a,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new ti(this.comparator);return r.data=t,r}}class Yj{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(t){this.fields=t,t.sort(Ei.comparator)}static empty(){return new co([])}unionWith(t){let r=new ti(Ei.comparator);for(const n of this.fields)r=r.add(n);for(const n of t)r=r.add(n);return new co(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return mp(this.fields,t.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(a){try{return atob(a)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new q9("Invalid base64 string: "+i):i}}(t);return new Di(r)}static fromUint8Array(t){const r=function(a){let i="";for(let s=0;s<a.length;++s)i+=String.fromCharCode(a[s]);return i}(t);return new Di(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return $r(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Di.EMPTY_BYTE_STRING=new Di("");const Zte=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zf(e){if(bn(!!e,39018),typeof e=="string"){let t=0;const r=Zte.exec(e);if(bn(!!r,46558,{timestamp:e}),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),t=Number(a)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:Ta(e.seconds),nanos:Ta(e.nanos)}}function Ta(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function qf(e){return typeof e=="string"?Di.fromBase64String(e):Di.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W9="server_timestamp",H9="__type__",G9="__previous_value__",K9="__local_write_time__";function EE(e){var t,r;return((r=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[H9])===null||r===void 0?void 0:r.stringValue)===W9}function t5(e){const t=e.mapValue.fields[G9];return EE(t)?t5(t):t}function Pv(e){const t=zf(e.mapValue.fields[K9].timestampValue);return new nr(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ere{constructor(t,r,n,a,i,s,o,l,c,u){this.databaseId=t,this.appId=r,this.persistenceKey=n,this.host=a,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const tb="(default)";class jv{constructor(t,r){this.projectId=t,this.database=r||tb}static empty(){return new jv("","")}get isDefaultDatabase(){return this.database===tb}isEqual(t){return t instanceof jv&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y9="__type__",X9="__max__",ox={mapValue:{fields:{__type__:{stringValue:X9}}}},Q9="__vector__",rb="value";function Wf(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?EE(e)?4:rre(e)?9007199254740991:tre(e)?10:11:yr(28295,{value:e})}function dc(e,t){if(e===t)return!0;const r=Wf(e);if(r!==Wf(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Pv(e).isEqual(Pv(t));case 3:return function(a,i){if(typeof a.timestampValue=="string"&&typeof i.timestampValue=="string"&&a.timestampValue.length===i.timestampValue.length)return a.timestampValue===i.timestampValue;const s=zf(a.timestampValue),o=zf(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(a,i){return qf(a.bytesValue).isEqual(qf(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(a,i){return Ta(a.geoPointValue.latitude)===Ta(i.geoPointValue.latitude)&&Ta(a.geoPointValue.longitude)===Ta(i.geoPointValue.longitude)}(e,t);case 2:return function(a,i){if("integerValue"in a&&"integerValue"in i)return Ta(a.integerValue)===Ta(i.integerValue);if("doubleValue"in a&&"doubleValue"in i){const s=Ta(a.doubleValue),o=Ta(i.doubleValue);return s===o?eb(s)===eb(o):isNaN(s)&&isNaN(o)}return!1}(e,t);case 9:return mp(e.arrayValue.values||[],t.arrayValue.values||[],dc);case 10:case 11:return function(a,i){const s=a.mapValue.fields||{},o=i.mapValue.fields||{};if(Kj(s)!==Kj(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!dc(s[l],o[l])))return!1;return!0}(e,t);default:return yr(52216,{left:e})}}function Ov(e,t){return(e.values||[]).find(r=>dc(r,t))!==void 0}function gp(e,t){if(e===t)return 0;const r=Wf(e),n=Wf(t);if(r!==n)return $r(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return $r(e.booleanValue,t.booleanValue);case 2:return function(i,s){const o=Ta(i.integerValue||i.doubleValue),l=Ta(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(e,t);case 3:return Xj(e.timestampValue,t.timestampValue);case 4:return Xj(Pv(e),Pv(t));case 5:return q4(e.stringValue,t.stringValue);case 6:return function(i,s){const o=qf(i),l=qf(s);return o.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){const o=i.split("/"),l=s.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=$r(o[c],l[c]);if(u!==0)return u}return $r(o.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){const o=$r(Ta(i.latitude),Ta(s.latitude));return o!==0?o:$r(Ta(i.longitude),Ta(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Qj(e.arrayValue,t.arrayValue);case 10:return function(i,s){var o,l,c,u;const d=i.fields||{},h=s.fields||{},p=(o=d[rb])===null||o===void 0?void 0:o.arrayValue,g=(l=h[rb])===null||l===void 0?void 0:l.arrayValue,m=$r(((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0,((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0);return m!==0?m:Qj(p,g)}(e.mapValue,t.mapValue);case 11:return function(i,s){if(i===ox.mapValue&&s===ox.mapValue)return 0;if(i===ox.mapValue)return 1;if(s===ox.mapValue)return-1;const o=i.fields||{},l=Object.keys(o),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=q4(l[d],u[d]);if(h!==0)return h;const p=gp(o[l[d]],c[u[d]]);if(p!==0)return p}return $r(l.length,u.length)}(e.mapValue,t.mapValue);default:throw yr(23264,{Pe:r})}}function Xj(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return $r(e,t);const r=zf(e),n=zf(t),a=$r(r.seconds,n.seconds);return a!==0?a:$r(r.nanos,n.nanos)}function Qj(e,t){const r=e.values||[],n=t.values||[];for(let a=0;a<r.length&&a<n.length;++a){const i=gp(r[a],n[a]);if(i)return i}return $r(r.length,n.length)}function vp(e){return W4(e)}function W4(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const n=zf(r);return`time(${n.seconds},${n.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(r){return qf(r).toBase64()}(e.bytesValue):"referenceValue"in e?function(r){return cr.fromName(r).toString()}(e.referenceValue):"geoPointValue"in e?function(r){return`geo(${r.latitude},${r.longitude})`}(e.geoPointValue):"arrayValue"in e?function(r){let n="[",a=!0;for(const i of r.values||[])a?a=!1:n+=",",n+=W4(i);return n+"]"}(e.arrayValue):"mapValue"in e?function(r){const n=Object.keys(r.fields||{}).sort();let a="{",i=!0;for(const s of n)i?i=!1:a+=",",a+=`${s}:${W4(r.fields[s])}`;return a+"}"}(e.mapValue):yr(61005,{value:e})}function a2(e){switch(Wf(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=t5(e);return t?16+a2(t):16;case 5:return 2*e.stringValue.length;case 6:return qf(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((a,i)=>a+a2(i),0)}(e.arrayValue);case 10:case 11:return function(n){let a=0;return rd(n.fields,(i,s)=>{a+=i.length+a2(s)}),a}(e.mapValue);default:throw yr(13486,{value:e})}}function Jj(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function H4(e){return!!e&&"integerValue"in e}function kE(e){return!!e&&"arrayValue"in e}function Zj(e){return!!e&&"nullValue"in e}function eO(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function i2(e){return!!e&&"mapValue"in e}function tre(e){var t,r;return((r=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[Y9])===null||r===void 0?void 0:r.stringValue)===Q9}function Lg(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return rd(e.mapValue.fields,(r,n)=>t.mapValue.fields[r]=Lg(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Lg(e.arrayValue.values[r]);return t}return Object.assign({},e)}function rre(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===X9}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(t){this.value=t}static empty(){return new Fs({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let n=0;n<t.length-1;++n)if(r=(r.mapValue.fields||{})[t.get(n)],!i2(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=Lg(r)}setAll(t){let r=Ei.emptyPath(),n={},a=[];t.forEach((s,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,a),n={},a=[],r=o.popLast()}s?n[o.lastSegment()]=Lg(s):a.push(o.lastSegment())});const i=this.getFieldsMap(r);this.applyChanges(i,n,a)}delete(t){const r=this.field(t.popLast());i2(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return dc(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<t.length;++n){let a=r.mapValue.fields[t.get(n)];i2(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[t.get(n)]=a),r=a}return r.mapValue.fields}applyChanges(t,r,n){rd(r,(a,i)=>t[a]=i);for(const a of n)delete t[a]}clone(){return new Fs(Lg(this.value))}}function J9(e){const t=[];return rd(e.fields,(r,n)=>{const a=new Ei([r]);if(i2(n)){const i=J9(n.mapValue).fields;if(i.length===0)t.push(a);else for(const s of i)t.push(a.child(s))}else t.push(a)}),new co(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(t,r,n,a,i,s,o){this.key=t,this.documentType=r,this.version=n,this.readTime=a,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(t){return new Qi(t,0,Nr.min(),Nr.min(),Nr.min(),Fs.empty(),0)}static newFoundDocument(t,r,n,a){return new Qi(t,1,r,Nr.min(),n,a,0)}static newNoDocument(t,r){return new Qi(t,2,r,Nr.min(),Nr.min(),Fs.empty(),0)}static newUnknownDocument(t,r){return new Qi(t,3,r,Nr.min(),Nr.min(),Fs.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(Nr.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Fs.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Fs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nr.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Qi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Qi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(t,r){this.position=t,this.inclusive=r}}function tO(e,t,r){let n=0;for(let a=0;a<e.position.length;a++){const i=t[a],s=e.position[a];if(i.field.isKeyField()?n=cr.comparator(cr.fromName(s.referenceValue),r.key):n=gp(s,r.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function rO(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!dc(e.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(t,r="asc"){this.field=t,this.dir=r}}function nre(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z9{}class za extends Z9{constructor(t,r,n){super(),this.field=t,this.op=r,this.value=n}static create(t,r,n){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,n):new ire(t,r,n):r==="array-contains"?new lre(t,n):r==="in"?new cre(t,n):r==="not-in"?new ure(t,n):r==="array-contains-any"?new fre(t,n):new za(t,r,n)}static createKeyFieldInFilter(t,r,n){return r==="in"?new sre(t,n):new ore(t,n)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(gp(r,this.value)):r!==null&&Wf(this.value)===Wf(r)&&this.matchesComparison(gp(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yr(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Il extends Z9{constructor(t,r){super(),this.filters=t,this.op=r,this.Te=null}static create(t,r){return new Il(t,r)}matches(t){return eB(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function eB(e){return e.op==="and"}function tB(e){return are(e)&&eB(e)}function are(e){for(const t of e.filters)if(t instanceof Il)return!1;return!0}function G4(e){if(e instanceof za)return e.field.canonicalString()+e.op.toString()+vp(e.value);if(tB(e))return e.filters.map(t=>G4(t)).join(",");{const t=e.filters.map(r=>G4(r)).join(",");return`${e.op}(${t})`}}function rB(e,t){return e instanceof za?function(n,a){return a instanceof za&&n.op===a.op&&n.field.isEqual(a.field)&&dc(n.value,a.value)}(e,t):e instanceof Il?function(n,a){return a instanceof Il&&n.op===a.op&&n.filters.length===a.filters.length?n.filters.reduce((i,s,o)=>i&&rB(s,a.filters[o]),!0):!1}(e,t):void yr(19439)}function nB(e){return e instanceof za?function(r){return`${r.field.canonicalString()} ${r.op} ${vp(r.value)}`}(e):e instanceof Il?function(r){return r.op.toString()+" {"+r.getFilters().map(nB).join(" ,")+"}"}(e):"Filter"}class ire extends za{constructor(t,r,n){super(t,r,n),this.key=cr.fromName(n.referenceValue)}matches(t){const r=cr.comparator(t.key,this.key);return this.matchesComparison(r)}}class sre extends za{constructor(t,r){super(t,"in",r),this.keys=aB("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class ore extends za{constructor(t,r){super(t,"not-in",r),this.keys=aB("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function aB(e,t){var r;return(((r=t.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>cr.fromName(n.referenceValue))}class lre extends za{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return kE(r)&&Ov(r.arrayValue,this.value)}}class cre extends za{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&Ov(this.value.arrayValue,r)}}class ure extends za{constructor(t,r){super(t,"not-in",r)}matches(t){if(Ov(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Ov(this.value.arrayValue,r)}}class fre extends za{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!kE(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Ov(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dre{constructor(t,r=null,n=[],a=[],i=null,s=null,o=null){this.path=t,this.collectionGroup=r,this.orderBy=n,this.filters=a,this.limit=i,this.startAt=s,this.endAt=o,this.Ie=null}}function nO(e,t=null,r=[],n=[],a=null,i=null,s=null){return new dre(e,t,r,n,a,i,s)}function CE(e){const t=Ar(e);if(t.Ie===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(n=>G4(n)).join(","),r+="|ob:",r+=t.orderBy.map(n=>function(i){return i.field.canonicalString()+i.dir}(n)).join(","),e5(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(n=>vp(n)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(n=>vp(n)).join(",")),t.Ie=r}return t.Ie}function PE(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!nre(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!rB(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!rO(e.startAt,t.startAt)&&rO(e.endAt,t.endAt)}function K4(e){return cr.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(t,r=null,n=[],a=[],i=null,s="F",o=null,l=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=a,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function hre(e,t,r,n,a,i,s,o){return new im(e,t,r,n,a,i,s,o)}function r5(e){return new im(e)}function aO(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function iB(e){return e.collectionGroup!==null}function Mg(e){const t=Ar(e);if(t.Ee===null){t.Ee=[];const r=new Set;for(const i of t.explicitOrderBy)t.Ee.push(i),r.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new ti(Ei.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(t).forEach(i=>{r.has(i.canonicalString())||i.isKeyField()||t.Ee.push(new Iv(i,n))}),r.has(Ei.keyField().canonicalString())||t.Ee.push(new Iv(Ei.keyField(),n))}return t.Ee}function ac(e){const t=Ar(e);return t.de||(t.de=sB(t,Mg(e))),t.de}function pre(e){const t=Ar(e);return t.Ae||(t.Ae=sB(t,e.explicitOrderBy)),t.Ae}function sB(e,t){if(e.limitType==="F")return nO(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(a=>{const i=a.dir==="desc"?"asc":"desc";return new Iv(a.field,i)});const r=e.endAt?new nb(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new nb(e.startAt.position,e.startAt.inclusive):null;return nO(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}function Y4(e,t){const r=e.filters.concat([t]);return new im(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function ab(e,t,r){return new im(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function n5(e,t){return PE(ac(e),ac(t))&&e.limitType===t.limitType}function oB(e){return`${CE(ac(e))}|lt:${e.limitType}`}function f0(e){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(a=>nB(a)).join(", ")}]`),e5(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(a=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(a)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(a=>vp(a)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(a=>vp(a)).join(",")),`Target(${n})`}(ac(e))}; limitType=${e.limitType})`}function a5(e,t){return t.isFoundDocument()&&function(n,a){const i=a.key.path;return n.collectionGroup!==null?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):cr.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,a){for(const i of Mg(n))if(!i.field.isKeyField()&&a.data.field(i.field)===null)return!1;return!0}(e,t)&&function(n,a){for(const i of n.filters)if(!i.matches(a))return!1;return!0}(e,t)&&function(n,a){return!(n.startAt&&!function(s,o,l){const c=tO(s,o,l);return s.inclusive?c<=0:c<0}(n.startAt,Mg(n),a)||n.endAt&&!function(s,o,l){const c=tO(s,o,l);return s.inclusive?c>=0:c>0}(n.endAt,Mg(n),a))}(e,t)}function mre(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function lB(e){return(t,r)=>{let n=!1;for(const a of Mg(e)){const i=gre(a,t,r);if(i!==0)return i;n=n||a.field.isKeyField()}return 0}}function gre(e,t,r){const n=e.field.isKeyField()?cr.comparator(t.key,r.key):function(i,s,o){const l=s.data.field(i),c=o.data.field(i);return l!==null&&c!==null?gp(l,c):yr(42886)}(e.field,t,r);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return yr(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n!==void 0){for(const[a,i]of n)if(this.equalsFn(a,t))return i}}has(t){return this.get(t)!==void 0}set(t,r){const n=this.mapKeyFn(t),a=this.inner[n];if(a===void 0)return this.inner[n]=[[t,r]],void this.innerSize++;for(let i=0;i<a.length;i++)if(this.equalsFn(a[i][0],t))return void(a[i]=[t,r]);a.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n===void 0)return!1;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],t))return n.length===1?delete this.inner[r]:n.splice(a,1),this.innerSize--,!0;return!1}forEach(t){rd(this.inner,(r,n)=>{for(const[a,i]of n)t(a,i)})}isEmpty(){return z9(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vre=new fa(cr.comparator);function fu(){return vre}const cB=new fa(cr.comparator);function gg(...e){let t=cB;for(const r of e)t=t.insert(r.key,r);return t}function uB(e){let t=cB;return e.forEach((r,n)=>t=t.insert(r,n.overlayedDocument)),t}function $d(){return Rg()}function fB(){return Rg()}function Rg(){return new Ah(e=>e.toString(),(e,t)=>e.isEqual(t))}const yre=new fa(cr.comparator),xre=new ti(cr.comparator);function Kr(...e){let t=xre;for(const r of e)t=t.add(r);return t}const bre=new ti($r);function wre(){return bre}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eb(t)?"-0":t}}function dB(e){return{integerValue:""+e}}function _re(e,t){return Yte(t)?dB(t):jE(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(){this._=void 0}}function Sre(e,t,r){return e instanceof Dv?function(a,i){const s={fields:{[H9]:{stringValue:W9},[K9]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return i&&EE(i)&&(i=t5(i)),i&&(s.fields[G9]=i),{mapValue:s}}(r,t):e instanceof Lv?pB(e,t):e instanceof Mv?mB(e,t):function(a,i){const s=hB(a,i),o=iO(s)+iO(a.Re);return H4(s)&&H4(a.Re)?dB(o):jE(a.serializer,o)}(e,t)}function Are(e,t,r){return e instanceof Lv?pB(e,t):e instanceof Mv?mB(e,t):r}function hB(e,t){return e instanceof ib?function(n){return H4(n)||function(i){return!!i&&"doubleValue"in i}(n)}(t)?t:{integerValue:0}:null}class Dv extends i5{}class Lv extends i5{constructor(t){super(),this.elements=t}}function pB(e,t){const r=gB(t);for(const n of e.elements)r.some(a=>dc(a,n))||r.push(n);return{arrayValue:{values:r}}}class Mv extends i5{constructor(t){super(),this.elements=t}}function mB(e,t){let r=gB(t);for(const n of e.elements)r=r.filter(a=>!dc(a,n));return{arrayValue:{values:r}}}class ib extends i5{constructor(t,r){super(),this.serializer=t,this.Re=r}}function iO(e){return Ta(e.integerValue||e.doubleValue)}function gB(e){return kE(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tre{constructor(t,r){this.field=t,this.transform=r}}function Nre(e,t){return e.field.isEqual(t.field)&&function(n,a){return n instanceof Lv&&a instanceof Lv||n instanceof Mv&&a instanceof Mv?mp(n.elements,a.elements,dc):n instanceof ib&&a instanceof ib?dc(n.Re,a.Re):n instanceof Dv&&a instanceof Dv}(e.transform,t.transform)}class Ere{constructor(t,r){this.version=t,this.transformResults=r}}class Ts{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new Ts}static exists(t){return new Ts(void 0,t)}static updateTime(t){return new Ts(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function s2(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class s5{}function vB(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new o5(e.key,Ts.none()):new U1(e.key,e.data,Ts.none());{const r=e.data,n=Fs.empty();let a=new ti(Ei.comparator);for(let i of t.fields)if(!a.has(i)){let s=r.field(i);s===null&&i.length>1&&(i=i.popLast(),s=r.field(i)),s===null?n.delete(i):n.set(i,s),a=a.add(i)}return new nd(e.key,n,new co(a.toArray()),Ts.none())}}function kre(e,t,r){e instanceof U1?function(a,i,s){const o=a.value.clone(),l=oO(a.fieldTransforms,i,s.transformResults);o.setAll(l),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,r):e instanceof nd?function(a,i,s){if(!s2(a.precondition,i))return void i.convertToUnknownDocument(s.version);const o=oO(a.fieldTransforms,i,s.transformResults),l=i.data;l.setAll(yB(a)),l.setAll(o),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,r):function(a,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,r)}function Fg(e,t,r,n){return e instanceof U1?function(i,s,o,l){if(!s2(i.precondition,s))return o;const c=i.value.clone(),u=lO(i.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(e,t,r,n):e instanceof nd?function(i,s,o,l){if(!s2(i.precondition,s))return o;const c=lO(i.fieldTransforms,l,s),u=s.data;return u.setAll(yB(i)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(d=>d.field))}(e,t,r,n):function(i,s,o){return s2(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(e,t,r)}function Cre(e,t){let r=null;for(const n of e.fieldTransforms){const a=t.data.field(n.field),i=hB(n.transform,a||null);i!=null&&(r===null&&(r=Fs.empty()),r.set(n.field,i))}return r||null}function sO(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,a){return n===void 0&&a===void 0||!(!n||!a)&&mp(n,a,(i,s)=>Nre(i,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class U1 extends s5{constructor(t,r,n,a=[]){super(),this.key=t,this.value=r,this.precondition=n,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class nd extends s5{constructor(t,r,n,a,i=[]){super(),this.key=t,this.data=r,this.fieldMask=n,this.precondition=a,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function yB(e){const t=new Map;return e.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=e.data.field(r);t.set(r,n)}}),t}function oO(e,t,r){const n=new Map;bn(e.length===r.length,32656,{Ve:r.length,me:e.length});for(let a=0;a<r.length;a++){const i=e[a],s=i.transform,o=t.data.field(i.field);n.set(i.field,Are(s,o,r[a]))}return n}function lO(e,t,r){const n=new Map;for(const a of e){const i=a.transform,s=r.data.field(a.field);n.set(a.field,Sre(i,s,t))}return n}class o5 extends s5{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Pre extends s5{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jre{constructor(t,r,n,a){this.batchId=t,this.localWriteTime=r,this.baseMutations=n,this.mutations=a}applyToRemoteDocument(t,r){const n=r.mutationResults;for(let a=0;a<this.mutations.length;a++){const i=this.mutations[a];i.key.isEqual(t.key)&&kre(i,t,n[a])}}applyToLocalView(t,r){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(r=Fg(n,t,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(r=Fg(n,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const n=fB();return this.mutations.forEach(a=>{const i=t.get(a.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=r.has(a.key)?null:o;const l=vB(s,o);l!==null&&n.set(a.key,l),s.isValidDocument()||s.convertToNoDocument(Nr.min())}),n}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),Kr())}isEqual(t){return this.batchId===t.batchId&&mp(this.mutations,t.mutations,(r,n)=>sO(r,n))&&mp(this.baseMutations,t.baseMutations,(r,n)=>sO(r,n))}}class OE{constructor(t,r,n,a){this.batch=t,this.commitVersion=r,this.mutationResults=n,this.docVersions=a}static from(t,r,n){bn(t.mutations.length===n.length,58842,{fe:t.mutations.length,ge:n.length});let a=function(){return yre}();const i=t.mutations;for(let s=0;s<i.length;s++)a=a.insert(i[s].key,n[s].version);return new OE(t,r,n,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ore{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ire{constructor(t,r,n){this.alias=t,this.aggregateType=r,this.fieldPath=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dre{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ma,rn;function Lre(e){switch(e){case yt.OK:return yr(64938);case yt.CANCELLED:case yt.UNKNOWN:case yt.DEADLINE_EXCEEDED:case yt.RESOURCE_EXHAUSTED:case yt.INTERNAL:case yt.UNAVAILABLE:case yt.UNAUTHENTICATED:return!1;case yt.INVALID_ARGUMENT:case yt.NOT_FOUND:case yt.ALREADY_EXISTS:case yt.PERMISSION_DENIED:case yt.FAILED_PRECONDITION:case yt.ABORTED:case yt.OUT_OF_RANGE:case yt.UNIMPLEMENTED:case yt.DATA_LOSS:return!0;default:return yr(15467,{code:e})}}function xB(e){if(e===void 0)return uu("GRPC error has no .code"),yt.UNKNOWN;switch(e){case Ma.OK:return yt.OK;case Ma.CANCELLED:return yt.CANCELLED;case Ma.UNKNOWN:return yt.UNKNOWN;case Ma.DEADLINE_EXCEEDED:return yt.DEADLINE_EXCEEDED;case Ma.RESOURCE_EXHAUSTED:return yt.RESOURCE_EXHAUSTED;case Ma.INTERNAL:return yt.INTERNAL;case Ma.UNAVAILABLE:return yt.UNAVAILABLE;case Ma.UNAUTHENTICATED:return yt.UNAUTHENTICATED;case Ma.INVALID_ARGUMENT:return yt.INVALID_ARGUMENT;case Ma.NOT_FOUND:return yt.NOT_FOUND;case Ma.ALREADY_EXISTS:return yt.ALREADY_EXISTS;case Ma.PERMISSION_DENIED:return yt.PERMISSION_DENIED;case Ma.FAILED_PRECONDITION:return yt.FAILED_PRECONDITION;case Ma.ABORTED:return yt.ABORTED;case Ma.OUT_OF_RANGE:return yt.OUT_OF_RANGE;case Ma.UNIMPLEMENTED:return yt.UNIMPLEMENTED;case Ma.DATA_LOSS:return yt.DATA_LOSS;default:return yr(39323,{code:e})}}(rn=Ma||(Ma={}))[rn.OK=0]="OK",rn[rn.CANCELLED=1]="CANCELLED",rn[rn.UNKNOWN=2]="UNKNOWN",rn[rn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rn[rn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rn[rn.NOT_FOUND=5]="NOT_FOUND",rn[rn.ALREADY_EXISTS=6]="ALREADY_EXISTS",rn[rn.PERMISSION_DENIED=7]="PERMISSION_DENIED",rn[rn.UNAUTHENTICATED=16]="UNAUTHENTICATED",rn[rn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rn[rn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rn[rn.ABORTED=10]="ABORTED",rn[rn.OUT_OF_RANGE=11]="OUT_OF_RANGE",rn[rn.UNIMPLEMENTED=12]="UNIMPLEMENTED",rn[rn.INTERNAL=13]="INTERNAL",rn[rn.UNAVAILABLE=14]="UNAVAILABLE",rn[rn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mre=new Df([4294967295,4294967295],0);function cO(e){const t=B9().encode(e),r=new O9;return r.update(t),new Uint8Array(r.digest())}function uO(e){const t=new DataView(e.buffer),r=t.getUint32(0,!0),n=t.getUint32(4,!0),a=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new Df([r,n],0),new Df([a,i],0)]}class IE{constructor(t,r,n){if(this.bitmap=t,this.padding=r,this.hashCount=n,r<0||r>=8)throw new vg(`Invalid padding: ${r}`);if(n<0)throw new vg(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new vg(`Invalid hash count: ${n}`);if(t.length===0&&r!==0)throw new vg(`Invalid padding when bitmap length is 0: ${r}`);this.pe=8*t.length-r,this.ye=Df.fromNumber(this.pe)}we(t,r,n){let a=t.add(r.multiply(Df.fromNumber(n)));return a.compare(Mre)===1&&(a=new Df([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const r=cO(t),[n,a]=uO(r);for(let i=0;i<this.hashCount;i++){const s=this.we(n,a,i);if(!this.be(s))return!1}return!0}static create(t,r,n){const a=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),s=new IE(i,a,r);return n.forEach(o=>s.insert(o)),s}insert(t){if(this.pe===0)return;const r=cO(t),[n,a]=uO(r);for(let i=0;i<this.hashCount;i++){const s=this.we(n,a,i);this.Se(s)}}Se(t){const r=Math.floor(t/8),n=t%8;this.bitmap[r]|=1<<n}}class vg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(t,r,n,a,i){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=a,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,r,n){const a=new Map;return a.set(t,V1.createSynthesizedTargetChangeForCurrentChange(t,r,n)),new l5(Nr.min(),a,new fa($r),fu(),Kr())}}class V1{constructor(t,r,n,a,i){this.resumeToken=t,this.current=r,this.addedDocuments=n,this.modifiedDocuments=a,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,r,n){return new V1(n,r,Kr(),Kr(),Kr())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(t,r,n,a){this.De=t,this.removedTargetIds=r,this.key=n,this.ve=a}}class bB{constructor(t,r){this.targetId=t,this.Ce=r}}class wB{constructor(t,r,n=Di.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=r,this.resumeToken=n,this.cause=a}}class fO{constructor(){this.Fe=0,this.Me=dO(),this.xe=Di.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Kr(),r=Kr(),n=Kr();return this.Me.forEach((a,i)=>{switch(i){case 0:t=t.add(a);break;case 2:r=r.add(a);break;case 1:n=n.add(a);break;default:yr(38017,{changeType:i})}}),new V1(this.xe,this.Oe,t,r,n)}Qe(){this.Ne=!1,this.Me=dO()}$e(t,r){this.Ne=!0,this.Me=this.Me.insert(t,r)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,bn(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Rre{constructor(t){this.ze=t,this.je=new Map,this.He=fu(),this.Je=lx(),this.Ye=lx(),this.Ze=new fa($r)}Xe(t){for(const r of t.De)t.ve&&t.ve.isFoundDocument()?this.et(r,t.ve):this.tt(r,t.key,t.ve);for(const r of t.removedTargetIds)this.tt(r,t.key,t.ve)}nt(t){this.forEachTarget(t,r=>{const n=this.rt(r);switch(t.state){case 0:this.it(r)&&n.ke(t.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(t.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(r);break;case 3:this.it(r)&&(n.Ge(),n.ke(t.resumeToken));break;case 4:this.it(r)&&(this.st(r),n.ke(t.resumeToken));break;default:yr(56790,{state:t.state})}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.je.forEach((n,a)=>{this.it(a)&&r(a)})}ot(t){const r=t.targetId,n=t.Ce.count,a=this._t(r);if(a){const i=a.target;if(K4(i))if(n===0){const s=new cr(i.path);this.tt(r,s,Qi.newNoDocument(s,Nr.min()))}else bn(n===1,20013,{expectedCount:n});else{const s=this.ut(r);if(s!==n){const o=this.ct(t),l=o?this.lt(o,t,s):1;if(l!==0){this.st(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(r,c)}}}}}ct(t){const r=t.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:a=0},hashCount:i=0}=r;let s,o;try{s=qf(n).toUint8Array()}catch(l){if(l instanceof q9)return pp("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new IE(s,a,i)}catch(l){return pp(l instanceof vg?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.pe===0?null:o}lt(t,r,n){return r.Ce.count===n-this.Tt(t,r.targetId)?0:2}Tt(t,r){const n=this.ze.getRemoteKeysForTarget(r);let a=0;return n.forEach(i=>{const s=this.ze.Pt(),o=`projects/${s.projectId}/databases/${s.database}/documents/${i.path.canonicalString()}`;t.mightContain(o)||(this.tt(r,i,null),a++)}),a}It(t){const r=new Map;this.je.forEach((i,s)=>{const o=this._t(s);if(o){if(i.current&&K4(o.target)){const l=new cr(o.target.path);this.Et(l).has(s)||this.dt(s,l)||this.tt(s,l,Qi.newNoDocument(l,t))}i.Le&&(r.set(s,i.qe()),i.Qe())}});let n=Kr();this.Ye.forEach((i,s)=>{let o=!0;s.forEachWhile(l=>{const c=this._t(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(i))}),this.He.forEach((i,s)=>s.setReadTime(t));const a=new l5(t,r,this.Ze,this.He,n);return this.He=fu(),this.Je=lx(),this.Ye=lx(),this.Ze=new fa($r),a}et(t,r){if(!this.it(t))return;const n=this.dt(t,r.key)?2:0;this.rt(t).$e(r.key,n),this.He=this.He.insert(r.key,r),this.Je=this.Je.insert(r.key,this.Et(r.key).add(t)),this.Ye=this.Ye.insert(r.key,this.At(r.key).add(t))}tt(t,r,n){if(!this.it(t))return;const a=this.rt(t);this.dt(t,r)?a.$e(r,1):a.Ue(r),this.Ye=this.Ye.insert(r,this.At(r).delete(t)),this.Ye=this.Ye.insert(r,this.At(r).add(t)),n&&(this.He=this.He.insert(r,n))}removeTarget(t){this.je.delete(t)}ut(t){const r=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let r=this.je.get(t);return r||(r=new fO,this.je.set(t,r)),r}At(t){let r=this.Ye.get(t);return r||(r=new ti($r),this.Ye=this.Ye.insert(t,r)),r}Et(t){let r=this.Je.get(t);return r||(r=new ti($r),this.Je=this.Je.insert(t,r)),r}it(t){const r=this._t(t)!==null;return r||Zt("WatchChangeAggregator","Detected inactive target",t),r}_t(t){const r=this.je.get(t);return r&&r.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new fO),this.ze.getRemoteKeysForTarget(t).forEach(r=>{this.tt(t,r,null)})}dt(t,r){return this.ze.getRemoteKeysForTarget(t).has(r)}}function lx(){return new fa(cr.comparator)}function dO(){return new fa(cr.comparator)}const Fre={asc:"ASCENDING",desc:"DESCENDING"},$re={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Bre={and:"AND",or:"OR"};class Ure{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function X4(e,t){return e.useProto3Json||e5(t)?t:{value:t}}function sb(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function _B(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Vre(e,t){return sb(e,t.toTimestamp())}function ic(e){return bn(!!e,49232),Nr.fromTimestamp(function(r){const n=zf(r);return new nr(n.seconds,n.nanos)}(e))}function DE(e,t){return Q4(e,t).canonicalString()}function Q4(e,t){const r=function(a){return new Xn(["projects",a.projectId,"databases",a.database])}(e).child("documents");return t===void 0?r:r.child(t)}function SB(e){const t=Xn.fromString(e);return bn(CB(t),10190,{key:t.toString()}),t}function J4(e,t){return DE(e.databaseId,t.path)}function gS(e,t){const r=SB(t);if(r.get(1)!==e.databaseId.projectId)throw new Qt(yt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new Qt(yt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new cr(TB(r))}function AB(e,t){return DE(e.databaseId,t)}function zre(e){const t=SB(e);return t.length===4?Xn.emptyPath():TB(t)}function Z4(e){return new Xn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function TB(e){return bn(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function hO(e,t,r){return{name:J4(e,t),fields:r.value.mapValue.fields}}function qre(e,t){let r;if("targetChange"in t){t.targetChange;const n=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:yr(39313,{state:c})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(bn(u===void 0||typeof u=="string",58123),Di.fromBase64String(u||"")):(bn(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),Di.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(c){const u=c.code===void 0?yt.UNKNOWN:xB(c.code);return new Qt(u,c.message||"")}(s);r=new wB(n,a,i,o||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const a=gS(e,n.document.name),i=ic(n.document.updateTime),s=n.document.createTime?ic(n.document.createTime):Nr.min(),o=new Fs({mapValue:{fields:n.document.fields}}),l=Qi.newFoundDocument(a,i,s,o),c=n.targetIds||[],u=n.removedTargetIds||[];r=new o2(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const a=gS(e,n.document),i=n.readTime?ic(n.readTime):Nr.min(),s=Qi.newNoDocument(a,i),o=n.removedTargetIds||[];r=new o2([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const a=gS(e,n.document),i=n.removedTargetIds||[];r=new o2([],i,a,null)}else{if(!("filter"in t))return yr(11601,{Vt:t});{t.filter;const n=t.filter;n.targetId;const{count:a=0,unchangedNames:i}=n,s=new Dre(a,i),o=n.targetId;r=new bB(o,s)}}return r}function Wre(e,t){let r;if(t instanceof U1)r={update:hO(e,t.key,t.value)};else if(t instanceof o5)r={delete:J4(e,t.key)};else if(t instanceof nd)r={update:hO(e,t.key,t.data),updateMask:ene(t.fieldMask)};else{if(!(t instanceof Pre))return yr(16599,{ft:t.type});r={verify:J4(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(n=>function(i,s){const o=s.transform;if(o instanceof Dv)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Lv)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Mv)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof ib)return{fieldPath:s.field.canonicalString(),increment:o.Re};throw yr(20930,{transform:s.transform})}(0,n))),t.precondition.isNone||(r.currentDocument=function(a,i){return i.updateTime!==void 0?{updateTime:Vre(a,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:yr(27497)}(e,t.precondition)),r}function Hre(e,t){return e&&e.length>0?(bn(t!==void 0,14353),e.map(r=>function(a,i){let s=a.updateTime?ic(a.updateTime):ic(i);return s.isEqual(Nr.min())&&(s=ic(i)),new Ere(s,a.transformResults||[])}(r,t))):[]}function Gre(e,t){return{documents:[AB(e,t.path)]}}function NB(e,t){const r={structuredQuery:{}},n=t.path;let a;t.collectionGroup!==null?(a=n,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=AB(e,a);const i=function(c){if(c.length!==0)return kB(Il.create(c,"and"))}(t.filters);i&&(r.structuredQuery.where=i);const s=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:uf(h.field),direction:Qre(h.dir)}}(u))}(t.orderBy);s&&(r.structuredQuery.orderBy=s);const o=X4(e,t.limit);return o!==null&&(r.structuredQuery.limit=o),t.startAt&&(r.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{gt:r,parent:a}}function Kre(e,t,r,n){const{gt:a,parent:i}=NB(e,t),s={},o=[];let l=0;return r.forEach(c=>{const u="aggregate_"+l++;s[u]=c.alias,c.aggregateType==="count"?o.push({alias:u,count:{}}):c.aggregateType==="avg"?o.push({alias:u,avg:{field:uf(c.fieldPath)}}):c.aggregateType==="sum"&&o.push({alias:u,sum:{field:uf(c.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:o,structuredQuery:a.structuredQuery},parent:a.parent},yt:s,parent:i}}function Yre(e){let t=zre(e.parent);const r=e.structuredQuery,n=r.from?r.from.length:0;let a=null;if(n>0){bn(n===1,65062);const u=r.from[0];u.allDescendants?a=u.collectionId:t=t.child(u.collectionId)}let i=[];r.where&&(i=function(d){const h=EB(d);return h instanceof Il&&tB(h)?h.getFilters():[h]}(r.where));let s=[];r.orderBy&&(s=function(d){return d.map(h=>function(g){return new Iv(d0(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(r.orderBy));let o=null;r.limit&&(o=function(d){let h;return h=typeof d=="object"?d.value:d,e5(h)?null:h}(r.limit));let l=null;r.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new nb(p,h)}(r.startAt));let c=null;return r.endAt&&(c=function(d){const h=!d.before,p=d.values||[];return new nb(p,h)}(r.endAt)),hre(t,a,s,i,o,"F",l,c)}function Xre(e,t){const r=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yr(28987,{purpose:a})}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function EB(e){return e.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=d0(r.unaryFilter.field);return za.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=d0(r.unaryFilter.field);return za.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=d0(r.unaryFilter.field);return za.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=d0(r.unaryFilter.field);return za.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yr(61313);default:return yr(60726)}}(e):e.fieldFilter!==void 0?function(r){return za.create(d0(r.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yr(58110);default:return yr(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(r){return Il.create(r.compositeFilter.filters.map(n=>EB(n)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return yr(1026)}}(r.compositeFilter.op))}(e):yr(30097,{filter:e})}function Qre(e){return Fre[e]}function Jre(e){return $re[e]}function Zre(e){return Bre[e]}function uf(e){return{fieldPath:e.canonicalString()}}function d0(e){return Ei.fromServerFormat(e.fieldPath)}function kB(e){return e instanceof za?function(r){if(r.op==="=="){if(eO(r.value))return{unaryFilter:{field:uf(r.field),op:"IS_NAN"}};if(Zj(r.value))return{unaryFilter:{field:uf(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(eO(r.value))return{unaryFilter:{field:uf(r.field),op:"IS_NOT_NAN"}};if(Zj(r.value))return{unaryFilter:{field:uf(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uf(r.field),op:Jre(r.op),value:r.value}}}(e):e instanceof Il?function(r){const n=r.getFilters().map(a=>kB(a));return n.length===1?n[0]:{compositeFilter:{op:Zre(r.op),filters:n}}}(e):yr(54877,{filter:e})}function ene(e){const t=[];return e.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function CB(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(t,r,n,a,i=Nr.min(),s=Nr.min(),o=Di.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=r,this.purpose=n,this.sequenceNumber=a,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(t){return new vf(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new vf(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new vf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new vf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tne{constructor(t){this.wt=t}}function rne(e){const t=Yre({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?ab(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nne{constructor(){this.yn=new ane}addToCollectionParentIndex(t,r){return this.yn.add(r),_t.resolve()}getCollectionParents(t,r){return _t.resolve(this.yn.getEntries(r))}addFieldIndex(t,r){return _t.resolve()}deleteFieldIndex(t,r){return _t.resolve()}deleteAllFieldIndexes(t){return _t.resolve()}createTargetIndexes(t,r){return _t.resolve()}getDocumentsMatchingTarget(t,r){return _t.resolve(null)}getIndexType(t,r){return _t.resolve(0)}getFieldIndexes(t,r){return _t.resolve([])}getNextCollectionGroupToUpdate(t){return _t.resolve(null)}getMinOffset(t,r){return _t.resolve(Vf.min())}getMinOffsetFromCollectionGroup(t,r){return _t.resolve(Vf.min())}updateCollectionGroup(t,r,n){return _t.resolve()}updateIndexEntries(t,r){return _t.resolve()}}class ane{constructor(){this.index={}}add(t){const r=t.lastSegment(),n=t.popLast(),a=this.index[r]||new ti(Xn.comparator),i=!a.has(n);return this.index[r]=a.add(n),i}has(t){const r=t.lastSegment(),n=t.popLast(),a=this.index[r];return a&&a.has(n)}getEntries(t){return(this.index[t]||new ti(Xn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},PB=41943040;class Ms{static withCacheSize(t){return new Ms(t,Ms.DEFAULT_COLLECTION_PERCENTILE,Ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ms.DEFAULT_COLLECTION_PERCENTILE=10,Ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ms.DEFAULT=new Ms(PB,Ms.DEFAULT_COLLECTION_PERCENTILE,Ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ms.DISABLED=new Ms(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(t){this.nr=t}next(){return this.nr+=2,this.nr}static rr(){return new yp(0)}static ir(){return new yp(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO="LruGarbageCollector",ine=1048576;function gO([e,t],[r,n]){const a=$r(e,r);return a===0?$r(t,n):a}class sne{constructor(t){this.cr=t,this.buffer=new ti(gO),this.lr=0}hr(){return++this.lr}Pr(t){const r=[t,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();gO(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class one{constructor(t,r,n){this.garbageCollector=t,this.asyncQueue=r,this.localStore=n,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(t){Zt(mO,`Garbage collection scheduled in ${t}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){am(r)?Zt(mO,"Ignoring IndexedDB error during garbage collection: ",r):await nm(r)}await this.Ir(3e5)})}}class lne{constructor(t,r){this.Er=t,this.params=r}calculateTargetCount(t,r){return this.Er.dr(t).next(n=>Math.floor(r/100*n))}nthSequenceNumber(t,r){if(r===0)return _t.resolve(Zw.le);const n=new sne(r);return this.Er.forEachTarget(t,a=>n.Pr(a.sequenceNumber)).next(()=>this.Er.Ar(t,a=>n.Pr(a))).next(()=>n.maxValue)}removeTargets(t,r,n){return this.Er.removeTargets(t,r,n)}removeOrphanedDocuments(t,r){return this.Er.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(Zt("LruGarbageCollector","Garbage collection skipped; disabled"),_t.resolve(pO)):this.getCacheSize(t).next(n=>n<this.params.cacheSizeCollectionThreshold?(Zt("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pO):this.Rr(t,r))}getCacheSize(t){return this.Er.getCacheSize(t)}Rr(t,r){let n,a,i,s,o,l,c;const u=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(Zt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),a=this.params.maximumSequenceNumbersToCollect):a=d,s=Date.now(),this.nthSequenceNumber(t,a))).next(d=>(n=d,o=Date.now(),this.removeTargets(t,n,r))).next(d=>(i=d,l=Date.now(),this.removeOrphanedDocuments(t,n))).next(d=>(c=Date.now(),u0()<=nn.DEBUG&&Zt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${a} in `+(o-s)+`ms
	Removed ${i} targets in `+(l-o)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),_t.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:i,documentsRemoved:d})))}}function cne(e,t){return new lne(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class une{constructor(){this.changes=new Ah(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,Qi.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?_t.resolve(n):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fne{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dne{constructor(t,r,n,a){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=a}getDocument(t,r){let n=null;return this.documentOverlayCache.getOverlay(t,r).next(a=>(n=a,this.remoteDocumentCache.getEntry(t,r))).next(a=>(n!==null&&Fg(n.mutation,a,co.empty(),nr.now()),a))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.getLocalViewOfDocuments(t,n,Kr()).next(()=>n))}getLocalViewOfDocuments(t,r,n=Kr()){const a=$d();return this.populateOverlays(t,a,r).next(()=>this.computeViews(t,r,a,n).next(i=>{let s=gg();return i.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,r){const n=$d();return this.populateOverlays(t,n,r).next(()=>this.computeViews(t,r,n,Kr()))}populateOverlays(t,r,n){const a=[];return n.forEach(i=>{r.has(i)||a.push(i)}),this.documentOverlayCache.getOverlays(t,a).next(i=>{i.forEach((s,o)=>{r.set(s,o)})})}computeViews(t,r,n,a){let i=fu();const s=Rg(),o=function(){return Rg()}();return r.forEach((l,c)=>{const u=n.get(c.key);a.has(c.key)&&(u===void 0||u.mutation instanceof nd)?i=i.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),Fg(u.mutation,c,u.mutation.getFieldMask(),nr.now())):s.set(c.key,co.empty())}),this.recalculateAndSaveOverlays(t,i).next(l=>(l.forEach((c,u)=>s.set(c,u)),r.forEach((c,u)=>{var d;return o.set(c,new fne(u,(d=s.get(c))!==null&&d!==void 0?d:null))}),o))}recalculateAndSaveOverlays(t,r){const n=Rg();let a=new fa((s,o)=>s-o),i=Kr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(s=>{for(const o of s)o.keys().forEach(l=>{const c=r.get(l);if(c===null)return;let u=n.get(l)||co.empty();u=o.applyToLocalView(c,u),n.set(l,u);const d=(a.get(o.batchId)||Kr()).add(l);a=a.insert(o.batchId,d)})}).next(()=>{const s=[],o=a.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,d=fB();u.forEach(h=>{if(!i.has(h)){const p=vB(r.get(h),n.get(h));p!==null&&d.set(h,p),i=i.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(t,c,d))}return _t.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,r,n,a){return function(s){return cr.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):iB(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,n,a):this.getDocumentsMatchingCollectionQuery(t,r,n,a)}getNextDocuments(t,r,n,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,n,a).next(i=>{const s=a-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,n.largestBatchId,a-i.size):_t.resolve($d());let o=Cv,l=i;return s.next(c=>_t.forEach(c,(u,d)=>(o<d.largestBatchId&&(o=d.largestBatchId),i.get(u)?_t.resolve():this.remoteDocumentCache.getEntry(t,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(t,c,i)).next(()=>this.computeViews(t,l,c,Kr())).next(u=>({batchId:o,changes:uB(u)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new cr(r)).next(n=>{let a=gg();return n.isFoundDocument()&&(a=a.insert(n.key,n)),a})}getDocumentsMatchingCollectionGroupQuery(t,r,n,a){const i=r.collectionGroup;let s=gg();return this.indexManager.getCollectionParents(t,i).next(o=>_t.forEach(o,l=>{const c=function(d,h){return new im(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(r,l.child(i));return this.getDocumentsMatchingCollectionQuery(t,c,n,a).next(u=>{u.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,r,n,a){let i;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,n,i,a))).next(s=>{i.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,Qi.newInvalidDocument(u)))});let o=gg();return s.forEach((l,c)=>{const u=i.get(l);u!==void 0&&Fg(u.mutation,c,co.empty(),nr.now()),a5(r,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hne{constructor(t){this.serializer=t,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(t,r){return _t.resolve(this.Fr.get(r))}saveBundleMetadata(t,r){return this.Fr.set(r.id,function(a){return{id:a.id,version:a.version,createTime:ic(a.createTime)}}(r)),_t.resolve()}getNamedQuery(t,r){return _t.resolve(this.Mr.get(r))}saveNamedQuery(t,r){return this.Mr.set(r.name,function(a){return{name:a.name,query:rne(a.bundledQuery),readTime:ic(a.readTime)}}(r)),_t.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pne{constructor(){this.overlays=new fa(cr.comparator),this.Or=new Map}getOverlay(t,r){return _t.resolve(this.overlays.get(r))}getOverlays(t,r){const n=$d();return _t.forEach(r,a=>this.getOverlay(t,a).next(i=>{i!==null&&n.set(a,i)})).next(()=>n)}saveOverlays(t,r,n){return n.forEach((a,i)=>{this.St(t,r,i)}),_t.resolve()}removeOverlaysForBatchId(t,r,n){const a=this.Or.get(n);return a!==void 0&&(a.forEach(i=>this.overlays=this.overlays.remove(i)),this.Or.delete(n)),_t.resolve()}getOverlaysForCollection(t,r,n){const a=$d(),i=r.length+1,s=new cr(r.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>n&&a.set(l.getKey(),l)}return _t.resolve(a)}getOverlaysForCollectionGroup(t,r,n,a){let i=new fa((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===r&&c.largestBatchId>n){let u=i.get(c.largestBatchId);u===null&&(u=$d(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=$d(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>o.set(c,u)),!(o.size()>=a)););return _t.resolve(o)}St(t,r,n){const a=this.overlays.get(n.key);if(a!==null){const s=this.Or.get(a.largestBatchId).delete(n.key);this.Or.set(a.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new Ore(r,n));let i=this.Or.get(r);i===void 0&&(i=Kr(),this.Or.set(r,i)),this.Or.set(r,i.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mne{constructor(){this.sessionToken=Di.EMPTY_BYTE_STRING}getSessionToken(t){return _t.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,_t.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(){this.Nr=new ti(li.Br),this.Lr=new ti(li.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(t,r){const n=new li(t,r);this.Nr=this.Nr.add(n),this.Lr=this.Lr.add(n)}qr(t,r){t.forEach(n=>this.addReference(n,r))}removeReference(t,r){this.Qr(new li(t,r))}$r(t,r){t.forEach(n=>this.removeReference(n,r))}Ur(t){const r=new cr(new Xn([])),n=new li(r,t),a=new li(r,t+1),i=[];return this.Lr.forEachInRange([n,a],s=>{this.Qr(s),i.push(s.key)}),i}Kr(){this.Nr.forEach(t=>this.Qr(t))}Qr(t){this.Nr=this.Nr.delete(t),this.Lr=this.Lr.delete(t)}Wr(t){const r=new cr(new Xn([])),n=new li(r,t),a=new li(r,t+1);let i=Kr();return this.Lr.forEachInRange([n,a],s=>{i=i.add(s.key)}),i}containsKey(t){const r=new li(t,0),n=this.Nr.firstAfterOrEqual(r);return n!==null&&t.isEqual(n.key)}}class li{constructor(t,r){this.key=t,this.Gr=r}static Br(t,r){return cr.comparator(t.key,r.key)||$r(t.Gr,r.Gr)}static kr(t,r){return $r(t.Gr,r.Gr)||cr.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gne{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.Jn=1,this.zr=new ti(li.Br)}checkEmpty(t){return _t.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,n,a){const i=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new jre(i,r,n,a);this.mutationQueue.push(s);for(const o of a)this.zr=this.zr.add(new li(o.key,i)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return _t.resolve(s)}lookupMutationBatch(t,r){return _t.resolve(this.jr(r))}getNextMutationBatchAfterBatchId(t,r){const n=r+1,a=this.Hr(n),i=a<0?0:a;return _t.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return _t.resolve(this.mutationQueue.length===0?NE:this.Jn-1)}getAllMutationBatches(t){return _t.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const n=new li(r,0),a=new li(r,Number.POSITIVE_INFINITY),i=[];return this.zr.forEachInRange([n,a],s=>{const o=this.jr(s.Gr);i.push(o)}),_t.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,r){let n=new ti($r);return r.forEach(a=>{const i=new li(a,0),s=new li(a,Number.POSITIVE_INFINITY);this.zr.forEachInRange([i,s],o=>{n=n.add(o.Gr)})}),_t.resolve(this.Jr(n))}getAllMutationBatchesAffectingQuery(t,r){const n=r.path,a=n.length+1;let i=n;cr.isDocumentKey(i)||(i=i.child(""));const s=new li(new cr(i),0);let o=new ti($r);return this.zr.forEachWhile(l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===a&&(o=o.add(l.Gr)),!0)},s),_t.resolve(this.Jr(o))}Jr(t){const r=[];return t.forEach(n=>{const a=this.jr(n);a!==null&&r.push(a)}),r}removeMutationBatch(t,r){bn(this.Yr(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.zr;return _t.forEach(r.mutations,a=>{const i=new li(a.key,r.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.zr=n})}Xn(t){}containsKey(t,r){const n=new li(r,0),a=this.zr.firstAfterOrEqual(n);return _t.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,_t.resolve()}Yr(t,r){return this.Hr(t)}Hr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}jr(t){const r=this.Hr(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vne{constructor(t){this.Zr=t,this.docs=function(){return new fa(cr.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const n=r.key,a=this.docs.get(n),i=a?a.size:0,s=this.Zr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const n=this.docs.get(r);return _t.resolve(n?n.document.mutableCopy():Qi.newInvalidDocument(r))}getEntries(t,r){let n=fu();return r.forEach(a=>{const i=this.docs.get(a);n=n.insert(a,i?i.document.mutableCopy():Qi.newInvalidDocument(a))}),_t.resolve(n)}getDocumentsMatchingQuery(t,r,n,a){let i=fu();const s=r.path,o=new cr(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||Wte(qte(u),n)<=0||(a.has(u.key)||a5(r,u))&&(i=i.insert(u.key,u.mutableCopy()))}return _t.resolve(i)}getAllFromCollectionGroup(t,r,n,a){yr(9500)}Xr(t,r){return _t.forEach(this.docs,n=>r(n))}newChangeBuffer(t){return new yne(this)}getSize(t){return _t.resolve(this.size)}}class yne extends une{constructor(t){super(),this.vr=t}applyChanges(t){const r=[];return this.changes.forEach((n,a)=>{a.isValidDocument()?r.push(this.vr.addEntry(t,a)):this.vr.removeEntry(n)}),_t.waitFor(r)}getFromCache(t,r){return this.vr.getEntry(t,r)}getAllFromCache(t,r){return this.vr.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xne{constructor(t){this.persistence=t,this.ei=new Ah(r=>CE(r),PE),this.lastRemoteSnapshotVersion=Nr.min(),this.highestTargetId=0,this.ti=0,this.ni=new LE,this.targetCount=0,this.ri=yp.rr()}forEachTarget(t,r){return this.ei.forEach((n,a)=>r(a)),_t.resolve()}getLastRemoteSnapshotVersion(t){return _t.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return _t.resolve(this.ti)}allocateTargetId(t){return this.highestTargetId=this.ri.next(),_t.resolve(this.highestTargetId)}setTargetsMetadata(t,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.ti&&(this.ti=r),_t.resolve()}ar(t){this.ei.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.ri=new yp(r),this.highestTargetId=r),t.sequenceNumber>this.ti&&(this.ti=t.sequenceNumber)}addTargetData(t,r){return this.ar(r),this.targetCount+=1,_t.resolve()}updateTargetData(t,r){return this.ar(r),_t.resolve()}removeTargetData(t,r){return this.ei.delete(r.target),this.ni.Ur(r.targetId),this.targetCount-=1,_t.resolve()}removeTargets(t,r,n){let a=0;const i=[];return this.ei.forEach((s,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.ei.delete(s),i.push(this.removeMatchingKeysForTargetId(t,o.targetId)),a++)}),_t.waitFor(i).next(()=>a)}getTargetCount(t){return _t.resolve(this.targetCount)}getTargetData(t,r){const n=this.ei.get(r)||null;return _t.resolve(n)}addMatchingKeys(t,r,n){return this.ni.qr(r,n),_t.resolve()}removeMatchingKeys(t,r,n){this.ni.$r(r,n);const a=this.persistence.referenceDelegate,i=[];return a&&r.forEach(s=>{i.push(a.markPotentiallyOrphaned(t,s))}),_t.waitFor(i)}removeMatchingKeysForTargetId(t,r){return this.ni.Ur(r),_t.resolve()}getMatchingKeysForTargetId(t,r){const n=this.ni.Wr(r);return _t.resolve(n)}containsKey(t,r){return _t.resolve(this.ni.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{constructor(t,r){this.ii={},this.overlays={},this.si=new Zw(0),this.oi=!1,this.oi=!0,this._i=new mne,this.referenceDelegate=t(this),this.ai=new xne(this),this.indexManager=new nne,this.remoteDocumentCache=function(a){return new vne(a)}(n=>this.referenceDelegate.ui(n)),this.serializer=new tne(r),this.ci=new hne(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new pne,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let n=this.ii[t.toKey()];return n||(n=new gne(r,this.referenceDelegate),this.ii[t.toKey()]=n),n}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(t,r,n){Zt("MemoryPersistence","Starting transaction:",t);const a=new bne(this.si.next());return this.referenceDelegate.li(),n(a).next(i=>this.referenceDelegate.hi(a).next(()=>i)).toPromise().then(i=>(a.raiseOnCommittedEvent(),i))}Pi(t,r){return _t.or(Object.values(this.ii).map(n=>()=>n.containsKey(t,r)))}}class bne extends Gte{constructor(t){super(),this.currentSequenceNumber=t}}class ME{constructor(t){this.persistence=t,this.Ti=new LE,this.Ii=null}static Ei(t){return new ME(t)}get di(){if(this.Ii)return this.Ii;throw yr(60996)}addReference(t,r,n){return this.Ti.addReference(n,r),this.di.delete(n.toString()),_t.resolve()}removeReference(t,r,n){return this.Ti.removeReference(n,r),this.di.add(n.toString()),_t.resolve()}markPotentiallyOrphaned(t,r){return this.di.add(r.toString()),_t.resolve()}removeTarget(t,r){this.Ti.Ur(r.targetId).forEach(a=>this.di.add(a.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,r.targetId).next(a=>{a.forEach(i=>this.di.add(i.toString()))}).next(()=>n.removeTargetData(t,r))}li(){this.Ii=new Set}hi(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _t.forEach(this.di,n=>{const a=cr.fromPath(n);return this.Ai(t,a).next(i=>{i||r.removeEntry(a,Nr.min())})}).next(()=>(this.Ii=null,r.apply(t)))}updateLimboDocument(t,r){return this.Ai(t,r).next(n=>{n?this.di.delete(r.toString()):this.di.add(r.toString())})}ui(t){return 0}Ai(t,r){return _t.or([()=>_t.resolve(this.Ti.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Pi(t,r)])}}class ob{constructor(t,r){this.persistence=t,this.Ri=new Ah(n=>Xte(n.path),(n,a)=>n.isEqual(a)),this.garbageCollector=cne(this,r)}static Ei(t,r){return new ob(t,r)}li(){}hi(t){return _t.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}dr(t){const r=this.Vr(t);return this.persistence.getTargetCache().getTargetCount(t).next(n=>r.next(a=>n+a))}Vr(t){let r=0;return this.Ar(t,n=>{r++}).next(()=>r)}Ar(t,r){return _t.forEach(this.Ri,(n,a)=>this.gr(t,n,a).next(i=>i?_t.resolve():r(a)))}removeTargets(t,r,n){return this.persistence.getTargetCache().removeTargets(t,r,n)}removeOrphanedDocuments(t,r){let n=0;const a=this.persistence.getRemoteDocumentCache(),i=a.newChangeBuffer();return a.Xr(t,s=>this.gr(t,s,r).next(o=>{o||(n++,i.removeEntry(s,Nr.min()))})).next(()=>i.apply(t)).next(()=>n)}markPotentiallyOrphaned(t,r){return this.Ri.set(r,t.currentSequenceNumber),_t.resolve()}removeTarget(t,r){const n=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,r,n){return this.Ri.set(n,t.currentSequenceNumber),_t.resolve()}removeReference(t,r,n){return this.Ri.set(n,t.currentSequenceNumber),_t.resolve()}updateLimboDocument(t,r){return this.Ri.set(r,t.currentSequenceNumber),_t.resolve()}ui(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=a2(t.data.value)),r}gr(t,r,n){return _t.or([()=>this.persistence.Pi(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const a=this.Ri.get(r);return _t.resolve(a!==void 0&&a>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(t,r,n,a){this.targetId=t,this.fromCache=r,this.ls=n,this.hs=a}static Ps(t,r){let n=Kr(),a=Kr();for(const i of r.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:a=a.add(i.doc.key)}return new RE(t,r.fromCache,n,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wne{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ne{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return pee()?8:Kte(dee())>0?6:4}()}initialize(t,r){this.As=t,this.indexManager=r,this.Ts=!0}getDocumentsMatchingQuery(t,r,n,a){const i={result:null};return this.Rs(t,r).next(s=>{i.result=s}).next(()=>{if(!i.result)return this.Vs(t,r,a,n).next(s=>{i.result=s})}).next(()=>{if(i.result)return;const s=new wne;return this.fs(t,r,s).next(o=>{if(i.result=o,this.Is)return this.gs(t,r,s,o.size)})}).next(()=>i.result)}gs(t,r,n,a){return n.documentReadCount<this.Es?(u0()<=nn.DEBUG&&Zt("QueryEngine","SDK will not create cache indexes for query:",f0(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),_t.resolve()):(u0()<=nn.DEBUG&&Zt("QueryEngine","Query:",f0(r),"scans",n.documentReadCount,"local documents and returns",a,"documents as results."),n.documentReadCount>this.ds*a?(u0()<=nn.DEBUG&&Zt("QueryEngine","The SDK decides to create cache indexes for query:",f0(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ac(r))):_t.resolve())}Rs(t,r){if(aO(r))return _t.resolve(null);let n=ac(r);return this.indexManager.getIndexType(t,n).next(a=>a===0?null:(r.limit!==null&&a===1&&(r=ab(r,null,"F"),n=ac(r)),this.indexManager.getDocumentsMatchingTarget(t,n).next(i=>{const s=Kr(...i);return this.As.getDocuments(t,s).next(o=>this.indexManager.getMinOffset(t,n).next(l=>{const c=this.ps(r,o);return this.ys(r,c,s,l.readTime)?this.Rs(t,ab(r,null,"F")):this.ws(t,c,r,l)}))})))}Vs(t,r,n,a){return aO(r)||a.isEqual(Nr.min())?_t.resolve(null):this.As.getDocuments(t,n).next(i=>{const s=this.ps(r,i);return this.ys(r,s,n,a)?_t.resolve(null):(u0()<=nn.DEBUG&&Zt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),f0(r)),this.ws(t,s,r,zte(a,Cv)).next(o=>o))})}ps(t,r){let n=new ti(lB(t));return r.forEach((a,i)=>{a5(t,i)&&(n=n.add(i))}),n}ys(t,r,n,a){if(t.limit===null)return!1;if(n.size!==r.size)return!0;const i=t.limitType==="F"?r.last():r.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(a)>0)}fs(t,r,n){return u0()<=nn.DEBUG&&Zt("QueryEngine","Using full collection scan to execute query:",f0(r)),this.As.getDocumentsMatchingQuery(t,r,Vf.min(),n)}ws(t,r,n,a){return this.As.getDocumentsMatchingQuery(t,n,a).next(i=>(r.forEach(s=>{i=i.insert(s.key,s)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="LocalStore",Sne=3e8;class Ane{constructor(t,r,n,a){this.persistence=t,this.bs=r,this.serializer=a,this.Ss=new fa($r),this.Ds=new Ah(i=>CE(i),PE),this.vs=new Map,this.Cs=t.getRemoteDocumentCache(),this.ai=t.getTargetCache(),this.ci=t.getBundleCache(),this.Fs(n)}Fs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new dne(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.Ss))}}function Tne(e,t,r,n){return new Ane(e,t,r,n)}async function OB(e,t){const r=Ar(e);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let a;return r.mutationQueue.getAllMutationBatches(n).next(i=>(a=i,r.Fs(t),r.mutationQueue.getAllMutationBatches(n))).next(i=>{const s=[],o=[];let l=Kr();for(const c of a){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return r.localDocuments.getDocuments(n,l).next(c=>({Ms:c,removedBatchIds:s,addedBatchIds:o}))})})}function Nne(e,t){const r=Ar(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const a=t.batch.keys(),i=r.Cs.newChangeBuffer({trackRemovals:!0});return function(o,l,c,u){const d=c.batch,h=d.keys();let p=_t.resolve();return h.forEach(g=>{p=p.next(()=>u.getEntry(l,g)).next(m=>{const v=c.docVersions.get(g);bn(v!==null,48541),m.version.compareTo(v)<0&&(d.applyToRemoteDocument(m,c),m.isValidDocument()&&(m.setReadTime(c.commitVersion),u.addEntry(m)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(l,d))}(r,n,t,i).next(()=>i.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,a,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let l=Kr();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(t))).next(()=>r.localDocuments.getDocuments(n,a))})}function IB(e){const t=Ar(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.ai.getLastRemoteSnapshotVersion(r))}function Ene(e,t){const r=Ar(e),n=t.snapshotVersion;let a=r.Ss;return r.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const s=r.Cs.newChangeBuffer({trackRemovals:!0});a=r.Ss;const o=[];t.targetChanges.forEach((u,d)=>{const h=a.get(d);if(!h)return;o.push(r.ai.removeMatchingKeys(i,u.removedDocuments,d).next(()=>r.ai.addMatchingKeys(i,u.addedDocuments,d)));let p=h.withSequenceNumber(i.currentSequenceNumber);t.targetMismatches.get(d)!==null?p=p.withResumeToken(Di.EMPTY_BYTE_STRING,Nr.min()).withLastLimboFreeSnapshotVersion(Nr.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,n)),a=a.insert(d,p),function(m,v,y){return m.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=Sne?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,p,u)&&o.push(r.ai.updateTargetData(i,p))});let l=fu(),c=Kr();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(i,u))}),o.push(kne(i,s,t.documentUpdates).next(u=>{l=u.xs,c=u.Os})),!n.isEqual(Nr.min())){const u=r.ai.getLastRemoteSnapshotVersion(i).next(d=>r.ai.setTargetsMetadata(i,i.currentSequenceNumber,n));o.push(u)}return _t.waitFor(o).next(()=>s.apply(i)).next(()=>r.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(r.Ss=a,i))}function kne(e,t,r){let n=Kr(),a=Kr();return r.forEach(i=>n=n.add(i)),t.getEntries(e,n).next(i=>{let s=fu();return r.forEach((o,l)=>{const c=i.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(a=a.add(o)),l.isNoDocument()&&l.version.isEqual(Nr.min())?(t.removeEntry(o,l.readTime),s=s.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l),s=s.insert(o,l)):Zt(FE,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{xs:s,Os:a}})}function Cne(e,t){const r=Ar(e);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(t===void 0&&(t=NE),r.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}function Pne(e,t){const r=Ar(e);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let a;return r.ai.getTargetData(n,t).next(i=>i?(a=i,_t.resolve(a)):r.ai.allocateTargetId(n).next(s=>(a=new vf(t,s,"TargetPurposeListen",n.currentSequenceNumber),r.ai.addTargetData(n,a).next(()=>a))))}).then(n=>{const a=r.Ss.get(n.targetId);return(a===null||n.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(r.Ss=r.Ss.insert(n.targetId,n),r.Ds.set(t,n.targetId)),n})}async function e3(e,t,r){const n=Ar(e),a=n.Ss.get(t),i=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",i,s=>n.persistence.referenceDelegate.removeTarget(s,a))}catch(s){if(!am(s))throw s;Zt(FE,`Failed to update sequence numbers for target ${t}: ${s}`)}n.Ss=n.Ss.remove(t),n.Ds.delete(a.target)}function vO(e,t,r){const n=Ar(e);let a=Nr.min(),i=Kr();return n.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const d=Ar(l),h=d.Ds.get(u);return h!==void 0?_t.resolve(d.Ss.get(h)):d.ai.getTargetData(c,u)}(n,s,ac(t)).next(o=>{if(o)return a=o.lastLimboFreeSnapshotVersion,n.ai.getMatchingKeysForTargetId(s,o.targetId).next(l=>{i=l})}).next(()=>n.bs.getDocumentsMatchingQuery(s,t,r?a:Nr.min(),r?i:Kr())).next(o=>(jne(n,mre(t),o),{documents:o,Ns:i})))}function jne(e,t,r){let n=e.vs.get(t)||Nr.min();r.forEach((a,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)}),e.vs.set(t,n)}class yO{constructor(){this.activeTargetIds=wre()}$s(t){this.activeTargetIds=this.activeTargetIds.add(t)}Us(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Qs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class One{constructor(){this.So=new yO,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,n){}addLocalQueryTarget(t,r=!0){return r&&this.So.$s(t),this.Do[t]||"not-current"}updateQueryState(t,r,n){this.Do[t]=r}removeLocalQueryTarget(t){this.So.Us(t)}isLocalQueryTarget(t){return this.So.activeTargetIds.has(t)}clearQueryState(t){delete this.Do[t]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(t){return this.So.activeTargetIds.has(t)}start(){return this.So=new yO,Promise.resolve()}handleUserChange(t,r,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ine{vo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO="ConnectivityMonitor";class bO{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(t){this.Oo.push(t)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Zt(xO,"Network connectivity changed: AVAILABLE");for(const t of this.Oo)t(0)}xo(){Zt(xO,"Network connectivity changed: UNAVAILABLE");for(const t of this.Oo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cx=null;function t3(){return cx===null?cx=function(){return 268435456+Math.round(2147483648*Math.random())}():cx++,"0x"+cx.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS="RestConnection",Dne={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Lne{get Bo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Lo=r+"://"+t.host,this.ko=`projects/${n}/databases/${a}`,this.qo=this.databaseId.database===tb?`project_id=${n}`:`project_id=${n}&database_id=${a}`}Qo(t,r,n,a,i){const s=t3(),o=this.$o(t,r.toUriEncodedString());Zt(vS,`Sending RPC '${t}' ${s}:`,o,n);const l={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(l,a,i);const{host:c}=new URL(o),u=SE(c);return this.Ko(t,o,l,n,u).then(d=>(Zt(vS,`Received RPC '${t}' ${s}: `,d),d),d=>{throw pp(vS,`RPC '${t}' ${s} failed with error: `,d,"url: ",o,"request:",n),d})}Wo(t,r,n,a,i,s){return this.Qo(t,r,n,a,i)}Uo(t,r,n){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+rm}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,i)=>t[i]=a),n&&n.headers.forEach((a,i)=>t[i]=a)}$o(t,r){const n=Dne[t];return`${this.Lo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mne{constructor(t){this.Go=t.Go,this.zo=t.zo}jo(t){this.Ho=t}Jo(t){this.Yo=t}Zo(t){this.Xo=t}onMessage(t){this.e_=t}close(){this.zo()}send(t){this.Go(t)}t_(){this.Ho()}n_(){this.Yo()}r_(t){this.Xo(t)}i_(t){this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi="WebChannelConnection";class Rne extends Lne{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ko(t,r,n,a,i){const s=t3();return new Promise((o,l)=>{const c=new I9;c.setWithCredentials(!0),c.listenOnce(D9.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case n2.NO_ERROR:const d=c.getResponseJson();Zt(Bi,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(d)),o(d);break;case n2.TIMEOUT:Zt(Bi,`RPC '${t}' ${s} timed out`),l(new Qt(yt.DEADLINE_EXCEEDED,"Request time out"));break;case n2.HTTP_ERROR:const h=c.getStatus();if(Zt(Bi,`RPC '${t}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const m=function(y){const w=y.toLowerCase().replace(/_/g,"-");return Object.values(yt).indexOf(w)>=0?w:yt.UNKNOWN}(g.status);l(new Qt(m,g.message))}else l(new Qt(yt.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Qt(yt.UNAVAILABLE,"Connection failed."));break;default:yr(9055,{s_:t,streamId:s,o_:c.getLastErrorCode(),__:c.getLastError()})}}finally{Zt(Bi,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(a);Zt(Bi,`RPC '${t}' ${s} sending request:`,a),c.send(r,"POST",u,n,15)})}a_(t,r,n){const a=t3(),i=[this.Lo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=R9(),o=M9(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Uo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const u=i.join("");Zt(Bi,`Creating RPC '${t}' stream ${a}: ${u}`,l);const d=s.createWebChannel(u,l);let h=!1,p=!1;const g=new Mne({Go:v=>{p?Zt(Bi,`Not sending because RPC '${t}' stream ${a} is closed:`,v):(h||(Zt(Bi,`Opening RPC '${t}' stream ${a} transport.`),d.open(),h=!0),Zt(Bi,`RPC '${t}' stream ${a} sending:`,v),d.send(v))},zo:()=>d.close()}),m=(v,y,w)=>{v.listen(y,b=>{try{w(b)}catch(D){setTimeout(()=>{throw D},0)}})};return m(d,mg.EventType.OPEN,()=>{p||(Zt(Bi,`RPC '${t}' stream ${a} transport opened.`),g.t_())}),m(d,mg.EventType.CLOSE,()=>{p||(p=!0,Zt(Bi,`RPC '${t}' stream ${a} transport closed`),g.r_())}),m(d,mg.EventType.ERROR,v=>{p||(p=!0,pp(Bi,`RPC '${t}' stream ${a} transport errored. Name:`,v.name,"Message:",v.message),g.r_(new Qt(yt.UNAVAILABLE,"The operation could not be completed")))}),m(d,mg.EventType.MESSAGE,v=>{var y;if(!p){const w=v.data[0];bn(!!w,16349);const b=w,D=(b==null?void 0:b.error)||((y=b[0])===null||y===void 0?void 0:y.error);if(D){Zt(Bi,`RPC '${t}' stream ${a} received error:`,D);const P=D.status;let O=function(_){const j=Ma[_];if(j!==void 0)return xB(j)}(P),T=D.message;O===void 0&&(O=yt.INTERNAL,T="Unknown error status: "+P+" with message "+D.message),p=!0,g.r_(new Qt(O,T)),d.close()}else Zt(Bi,`RPC '${t}' stream ${a} received:`,w),g.i_(w)}}),m(o,L9.STAT_EVENT,v=>{v.stat===z4.PROXY?Zt(Bi,`RPC '${t}' stream ${a} detected buffering proxy`):v.stat===z4.NOPROXY&&Zt(Bi,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{g.n_()},0),g}}function yS(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c5(e){return new Ure(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(t,r,n=1e3,a=1.5,i=6e4){this.bi=t,this.timerId=r,this.u_=n,this.c_=a,this.l_=i,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const r=Math.floor(this.h_+this.d_()),n=Math.max(0,Date.now()-this.T_),a=Math.max(0,r-n);a>0&&Zt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.h_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,a,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO="PersistentStream";class LB{constructor(t,r,n,a,i,s,o,l){this.bi=t,this.R_=n,this.V_=a,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new DB(t,r)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(t){this.M_(),this.stream.send(t)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(t,r){this.M_(),this.x_(),this.y_.cancel(),this.m_++,t!==4?this.y_.reset():r&&r.code===yt.RESOURCE_EXHAUSTED?(uu(r.toString()),uu("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):r&&r.code===yt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zo(r)}O_(){}auth(){this.state=1;const t=this.N_(this.m_),r=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,a])=>{this.m_===r&&this.B_(n,a)},n=>{t(()=>{const a=new Qt(yt.UNKNOWN,"Fetching auth token failed: "+n.message);return this.L_(a)})})}B_(t,r){const n=this.N_(this.m_);this.stream=this.k_(t,r),this.stream.jo(()=>{n(()=>this.listener.jo())}),this.stream.Jo(()=>{n(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(a=>{n(()=>this.L_(a))}),this.stream.onMessage(a=>{n(()=>++this.p_==1?this.q_(a):this.onNext(a))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(t){return Zt(wO,`close with error: ${t}`),this.stream=null,this.close(4,t)}N_(t){return r=>{this.bi.enqueueAndForget(()=>this.m_===t?r():(Zt(wO,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Fne extends LB{constructor(t,r,n,a,i,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,a,s),this.serializer=i}k_(t,r){return this.connection.a_("Listen",t,r)}q_(t){return this.onNext(t)}onNext(t){this.y_.reset();const r=qre(this.serializer,t),n=function(i){if(!("targetChange"in i))return Nr.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?Nr.min():s.readTime?ic(s.readTime):Nr.min()}(t);return this.listener.Q_(r,n)}U_(t){const r={};r.database=Z4(this.serializer),r.addTarget=function(i,s){let o;const l=s.target;if(o=K4(l)?{documents:Gre(i,l)}:{query:NB(i,l).gt},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=_B(i,s.resumeToken);const c=X4(i,s.expectedCount);c!==null&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(Nr.min())>0){o.readTime=sb(i,s.snapshotVersion.toTimestamp());const c=X4(i,s.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,t);const n=Xre(this.serializer,t);n&&(r.labels=n),this.F_(r)}K_(t){const r={};r.database=Z4(this.serializer),r.removeTarget=t,this.F_(r)}}class $ne extends LB{constructor(t,r,n,a,i,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,a,s),this.serializer=i}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(t,r){return this.connection.a_("Write",t,r)}q_(t){return bn(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,bn(!t.writeResults||t.writeResults.length===0,55816),this.listener.z_()}onNext(t){bn(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.y_.reset();const r=Hre(t.writeResults,t.commitTime),n=ic(t.commitTime);return this.listener.j_(n,r)}H_(){const t={};t.database=Z4(this.serializer),this.F_(t)}G_(t){const r={streamToken:this.lastStreamToken,writes:t.map(n=>Wre(this.serializer,n))};this.F_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bne{}class Une extends Bne{constructor(t,r,n,a){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=n,this.serializer=a,this.J_=!1}Y_(){if(this.J_)throw new Qt(yt.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(t,r,n,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Qo(t,Q4(r,n),a,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===yt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Qt(yt.UNKNOWN,i.toString())})}Wo(t,r,n,a,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Wo(t,Q4(r,n),a,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===yt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Qt(yt.UNKNOWN,s.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class Vne{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(t){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.na("Offline")))}set(t){this.sa(),this.Z_=0,t==="Online"&&(this.ea=!1),this.na(t)}na(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(uu(r),this.ea=!1):Zt("OnlineStateTracker",r)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh="RemoteStore";class zne{constructor(t,r,n,a,i){this.localStore=t,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=i,this.ca.vo(s=>{n.enqueueAndForget(async()=>{Th(this)&&(Zt(fh,"Restarting streams for network reachability change."),await async function(l){const c=Ar(l);c.aa.add(4),await z1(c),c.la.set("Unknown"),c.aa.delete(4),await u5(c)}(this))})}),this.la=new Vne(n,a)}}async function u5(e){if(Th(e))for(const t of e.ua)await t(!0)}async function z1(e){for(const t of e.ua)await t(!1)}function MB(e,t){const r=Ar(e);r._a.has(t.targetId)||(r._a.set(t.targetId,t),VE(r)?UE(r):sm(r).b_()&&BE(r,t))}function $E(e,t){const r=Ar(e),n=sm(r);r._a.delete(t),n.b_()&&RB(r,t),r._a.size===0&&(n.b_()?n.v_():Th(r)&&r.la.set("Unknown"))}function BE(e,t){if(e.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Nr.min())>0){const r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}sm(e).U_(t)}function RB(e,t){e.ha.Ke(t),sm(e).K_(t)}function UE(e){e.ha=new Rre({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e._a.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),sm(e).start(),e.la.ta()}function VE(e){return Th(e)&&!sm(e).w_()&&e._a.size>0}function Th(e){return Ar(e).aa.size===0}function FB(e){e.ha=void 0}async function qne(e){e.la.set("Online")}async function Wne(e){e._a.forEach((t,r)=>{BE(e,t)})}async function Hne(e,t){FB(e),VE(e)?(e.la.ia(t),UE(e)):e.la.set("Unknown")}async function Gne(e,t,r){if(e.la.set("Online"),t instanceof wB&&t.state===2&&t.cause)try{await async function(a,i){const s=i.cause;for(const o of i.targetIds)a._a.has(o)&&(await a.remoteSyncer.rejectListen(o,s),a._a.delete(o),a.ha.removeTarget(o))}(e,t)}catch(n){Zt(fh,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await lb(e,n)}else if(t instanceof o2?e.ha.Xe(t):t instanceof bB?e.ha.ot(t):e.ha.nt(t),!r.isEqual(Nr.min()))try{const n=await IB(e.localStore);r.compareTo(n)>=0&&await function(i,s){const o=i.ha.It(s);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i._a.get(c);u&&i._a.set(c,u.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,c)=>{const u=i._a.get(l);if(!u)return;i._a.set(l,u.withResumeToken(Di.EMPTY_BYTE_STRING,u.snapshotVersion)),RB(i,l);const d=new vf(u.target,l,c,u.sequenceNumber);BE(i,d)}),i.remoteSyncer.applyRemoteEvent(o)}(e,r)}catch(n){Zt(fh,"Failed to raise snapshot:",n),await lb(e,n)}}async function lb(e,t,r){if(!am(t))throw t;e.aa.add(1),await z1(e),e.la.set("Offline"),r||(r=()=>IB(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Zt(fh,"Retrying IndexedDB access"),await r(),e.aa.delete(1),await u5(e)})}function $B(e,t){return t().catch(r=>lb(e,r,t))}async function f5(e){const t=Ar(e),r=Hf(t);let n=t.oa.length>0?t.oa[t.oa.length-1].batchId:NE;for(;Kne(t);)try{const a=await Cne(t.localStore,n);if(a===null){t.oa.length===0&&r.v_();break}n=a.batchId,Yne(t,a)}catch(a){await lb(t,a)}BB(t)&&UB(t)}function Kne(e){return Th(e)&&e.oa.length<10}function Yne(e,t){e.oa.push(t);const r=Hf(e);r.b_()&&r.W_&&r.G_(t.mutations)}function BB(e){return Th(e)&&!Hf(e).w_()&&e.oa.length>0}function UB(e){Hf(e).start()}async function Xne(e){Hf(e).H_()}async function Qne(e){const t=Hf(e);for(const r of e.oa)t.G_(r.mutations)}async function Jne(e,t,r){const n=e.oa.shift(),a=OE.from(n,t,r);await $B(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await f5(e)}async function Zne(e,t){t&&Hf(e).W_&&await async function(n,a){if(function(s){return Lre(s)&&s!==yt.ABORTED}(a.code)){const i=n.oa.shift();Hf(n).D_(),await $B(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,a)),await f5(n)}}(e,t),BB(e)&&UB(e)}async function _O(e,t){const r=Ar(e);r.asyncQueue.verifyOperationInProgress(),Zt(fh,"RemoteStore received new credentials");const n=Th(r);r.aa.add(3),await z1(r),n&&r.la.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.aa.delete(3),await u5(r)}async function eae(e,t){const r=Ar(e);t?(r.aa.delete(2),await u5(r)):t||(r.aa.add(2),await z1(r),r.la.set("Unknown"))}function sm(e){return e.Pa||(e.Pa=function(r,n,a){const i=Ar(r);return i.Y_(),new Fne(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(e.datastore,e.asyncQueue,{jo:qne.bind(null,e),Jo:Wne.bind(null,e),Zo:Hne.bind(null,e),Q_:Gne.bind(null,e)}),e.ua.push(async t=>{t?(e.Pa.D_(),VE(e)?UE(e):e.la.set("Unknown")):(await e.Pa.stop(),FB(e))})),e.Pa}function Hf(e){return e.Ta||(e.Ta=function(r,n,a){const i=Ar(r);return i.Y_(),new $ne(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(e.datastore,e.asyncQueue,{jo:()=>Promise.resolve(),Jo:Xne.bind(null,e),Zo:Zne.bind(null,e),z_:Qne.bind(null,e),j_:Jne.bind(null,e)}),e.ua.push(async t=>{t?(e.Ta.D_(),await f5(e)):(await e.Ta.stop(),e.oa.length>0&&(Zt(fh,`Stopping write stream with ${e.oa.length} pending writes`),e.oa=[]))})),e.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(t,r,n,a,i){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=n,this.op=a,this.removalCallback=i,this.deferred=new nc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,n,a,i){const s=Date.now()+n,o=new zE(t,r,s,a,i);return o.start(n),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Qt(yt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qE(e,t){if(uu("AsyncQueue",`${t}: ${e}`),am(e))return new Qt(yt.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{static emptySet(t){return new W0(t.comparator)}constructor(t){this.comparator=t?(r,n)=>t(r,n)||cr.comparator(r.key,n.key):(r,n)=>cr.comparator(r.key,n.key),this.keyedMap=gg(),this.sortedSet=new fa(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,n)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof W0)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;r.hasNext();){const a=r.getNext().key,i=n.getNext().key;if(!a.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const n=new W0;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(){this.Ia=new fa(cr.comparator)}track(t){const r=t.doc.key,n=this.Ia.get(r);n?t.type!==0&&n.type===3?this.Ia=this.Ia.insert(r,t):t.type===3&&n.type!==1?this.Ia=this.Ia.insert(r,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.Ia=this.Ia.insert(r,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.Ia=this.Ia.insert(r,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.Ia=this.Ia.remove(r):t.type===1&&n.type===2?this.Ia=this.Ia.insert(r,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.Ia=this.Ia.insert(r,{type:2,doc:t.doc}):yr(63341,{Vt:t,Ea:n}):this.Ia=this.Ia.insert(r,t)}da(){const t=[];return this.Ia.inorderTraversal((r,n)=>{t.push(n)}),t}}class xp{constructor(t,r,n,a,i,s,o,l,c){this.query=t,this.docs=r,this.oldDocs=n,this.docChanges=a,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,r,n,a,i){const s=[];return r.forEach(o=>{s.push({type:0,doc:o})}),new xp(t,r,W0.emptySet(r),s,n,a,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&n5(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,n=t.docChanges;if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(r[a].type!==n[a].type||!r[a].doc.isEqual(n[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tae{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(t=>t.ma())}}class rae{constructor(){this.queries=AO(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(r,n){const a=Ar(r),i=a.queries;a.queries=AO(),i.forEach((s,o)=>{for(const l of o.Ra)l.onError(n)})})(this,new Qt(yt.ABORTED,"Firestore shutting down"))}}function AO(){return new Ah(e=>oB(e),n5)}async function WE(e,t){const r=Ar(e);let n=3;const a=t.query;let i=r.queries.get(a);i?!i.Va()&&t.ma()&&(n=2):(i=new tae,n=t.ma()?0:1);try{switch(n){case 0:i.Aa=await r.onListen(a,!0);break;case 1:i.Aa=await r.onListen(a,!1);break;case 2:await r.onFirstRemoteStoreListen(a)}}catch(s){const o=qE(s,`Initialization of query '${f0(t.query)}' failed`);return void t.onError(o)}r.queries.set(a,i),i.Ra.push(t),t.ga(r.onlineState),i.Aa&&t.pa(i.Aa)&&GE(r)}async function HE(e,t){const r=Ar(e),n=t.query;let a=3;const i=r.queries.get(n);if(i){const s=i.Ra.indexOf(t);s>=0&&(i.Ra.splice(s,1),i.Ra.length===0?a=t.ma()?0:1:!i.Va()&&t.ma()&&(a=2))}switch(a){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function nae(e,t){const r=Ar(e);let n=!1;for(const a of t){const i=a.query,s=r.queries.get(i);if(s){for(const o of s.Ra)o.pa(a)&&(n=!0);s.Aa=a}}n&&GE(r)}function aae(e,t,r){const n=Ar(e),a=n.queries.get(t);if(a)for(const i of a.Ra)i.onError(r);n.queries.delete(t)}function GE(e){e.fa.forEach(t=>{t.next()})}var r3,TO;(TO=r3||(r3={})).ya="default",TO.Cache="cache";class KE{constructor(t,r,n){this.query=t,this.wa=r,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=n||{}}pa(t){if(!this.options.includeMetadataChanges){const n=[];for(const a of t.docChanges)a.type!==3&&n.push(a);t=new xp(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.ba?this.Da(t)&&(this.wa.next(t),r=!0):this.va(t,this.onlineState)&&(this.Ca(t),r=!0),this.Sa=t,r}onError(t){this.wa.error(t)}ga(t){this.onlineState=t;let r=!1;return this.Sa&&!this.ba&&this.va(this.Sa,t)&&(this.Ca(this.Sa),r=!0),r}va(t,r){if(!t.fromCache||!this.ma())return!0;const n=r!=="Offline";return(!this.options.Fa||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}Da(t){if(t.docChanges.length>0)return!0;const r=this.Sa&&this.Sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Ca(t){t=xp.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ba=!0,this.wa.next(t)}ma(){return this.options.source!==r3.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VB{constructor(t){this.key=t}}class zB{constructor(t){this.key=t}}class iae{constructor(t,r){this.query=t,this.qa=r,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Kr(),this.mutatedKeys=Kr(),this.Ua=lB(t),this.Ka=new W0(this.Ua)}get Wa(){return this.qa}Ga(t,r){const n=r?r.za:new SO,a=r?r.Ka:this.Ka;let i=r?r.mutatedKeys:this.mutatedKeys,s=a,o=!1;const l=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,c=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((u,d)=>{const h=a.get(u),p=a5(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),m=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;h&&p?h.data.isEqual(p.data)?g!==m&&(n.track({type:3,doc:p}),v=!0):this.ja(h,p)||(n.track({type:2,doc:p}),v=!0,(l&&this.Ua(p,l)>0||c&&this.Ua(p,c)<0)&&(o=!0)):!h&&p?(n.track({type:0,doc:p}),v=!0):h&&!p&&(n.track({type:1,doc:h}),v=!0,(l||c)&&(o=!0)),v&&(p?(s=s.add(p),i=m?i.add(u):i.delete(u)):(s=s.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),i=i.delete(u.key),n.track({type:1,doc:u})}return{Ka:s,za:n,ys:o,mutatedKeys:i}}ja(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,n,a){const i=this.Ka;this.Ka=t.Ka,this.mutatedKeys=t.mutatedKeys;const s=t.za.da();s.sort((u,d)=>function(p,g){const m=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yr(20277,{Vt:v})}};return m(p)-m(g)}(u.type,d.type)||this.Ua(u.doc,d.doc)),this.Ha(n),a=a!=null&&a;const o=r&&!a?this.Ja():[],l=this.$a.size===0&&this.current&&!a?1:0,c=l!==this.Qa;return this.Qa=l,s.length!==0||c?{snapshot:new xp(this.query,t.Ka,i,s,t.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ya:o}:{Ya:o}}ga(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new SO,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(t){return!this.qa.has(t)&&!!this.Ka.has(t)&&!this.Ka.get(t).hasLocalMutations}Ha(t){t&&(t.addedDocuments.forEach(r=>this.qa=this.qa.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.qa=this.qa.delete(r)),this.current=t.current)}Ja(){if(!this.current)return[];const t=this.$a;this.$a=Kr(),this.Ka.forEach(n=>{this.Za(n.key)&&(this.$a=this.$a.add(n.key))});const r=[];return t.forEach(n=>{this.$a.has(n)||r.push(new zB(n))}),this.$a.forEach(n=>{t.has(n)||r.push(new VB(n))}),r}Xa(t){this.qa=t.Ns,this.$a=Kr();const r=this.Ga(t.documents);return this.applyChanges(r,!0)}eu(){return xp.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const YE="SyncEngine";class sae{constructor(t,r,n){this.query=t,this.targetId=r,this.view=n}}class oae{constructor(t){this.key=t,this.tu=!1}}class lae{constructor(t,r,n,a,i,s){this.localStore=t,this.remoteStore=r,this.eventManager=n,this.sharedClientState=a,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.nu={},this.ru=new Ah(o=>oB(o),n5),this.iu=new Map,this.su=new Set,this.ou=new fa(cr.comparator),this._u=new Map,this.au=new LE,this.uu={},this.cu=new Map,this.lu=yp.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function cae(e,t,r=!0){const n=YB(e);let a;const i=n.ru.get(t);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),a=i.view.eu()):a=await qB(n,t,r,!0),a}async function uae(e,t){const r=YB(e);await qB(r,t,!0,!1)}async function qB(e,t,r,n){const a=await Pne(e.localStore,ac(t)),i=a.targetId,s=e.sharedClientState.addLocalQueryTarget(i,r);let o;return n&&(o=await fae(e,t,i,s==="current",a.resumeToken)),e.isPrimaryClient&&r&&MB(e.remoteStore,a),o}async function fae(e,t,r,n,a){e.Pu=(d,h,p)=>async function(m,v,y,w){let b=v.view.Ga(y);b.ys&&(b=await vO(m.localStore,v.query,!1).then(({documents:T})=>v.view.Ga(T,b)));const D=w&&w.targetChanges.get(v.targetId),P=w&&w.targetMismatches.get(v.targetId)!=null,O=v.view.applyChanges(b,m.isPrimaryClient,D,P);return EO(m,v.targetId,O.Ya),O.snapshot}(e,d,h,p);const i=await vO(e.localStore,t,!0),s=new iae(t,i.Ns),o=s.Ga(i.documents),l=V1.createSynthesizedTargetChangeForCurrentChange(r,n&&e.onlineState!=="Offline",a),c=s.applyChanges(o,e.isPrimaryClient,l);EO(e,r,c.Ya);const u=new sae(t,r,s);return e.ru.set(t,u),e.iu.has(r)?e.iu.get(r).push(t):e.iu.set(r,[t]),c.snapshot}async function dae(e,t,r){const n=Ar(e),a=n.ru.get(t),i=n.iu.get(a.targetId);if(i.length>1)return n.iu.set(a.targetId,i.filter(s=>!n5(s,t))),void n.ru.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(a.targetId),n.sharedClientState.isActiveQueryTarget(a.targetId)||await e3(n.localStore,a.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(a.targetId),r&&$E(n.remoteStore,a.targetId),n3(n,a.targetId)}).catch(nm)):(n3(n,a.targetId),await e3(n.localStore,a.targetId,!0))}async function hae(e,t){const r=Ar(e),n=r.ru.get(t),a=r.iu.get(n.targetId);r.isPrimaryClient&&a.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),$E(r.remoteStore,n.targetId))}async function pae(e,t,r){const n=wae(e);try{const a=await function(s,o){const l=Ar(s),c=nr.now(),u=o.reduce((p,g)=>p.add(g.key),Kr());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=fu(),m=Kr();return l.Cs.getEntries(p,u).next(v=>{g=v,g.forEach((y,w)=>{w.isValidDocument()||(m=m.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(v=>{d=v;const y=[];for(const w of o){const b=Cre(w,d.get(w.key).overlayedDocument);b!=null&&y.push(new nd(w.key,b,J9(b.value.mapValue),Ts.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,y,o)}).next(v=>{h=v;const y=v.applyToLocalDocumentSet(d,m);return l.documentOverlayCache.saveOverlays(p,v.batchId,y)})}).then(()=>({batchId:h.batchId,changes:uB(d)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(a.batchId),function(s,o,l){let c=s.uu[s.currentUser.toKey()];c||(c=new fa($r)),c=c.insert(o,l),s.uu[s.currentUser.toKey()]=c}(n,a.batchId,r),await q1(n,a.changes),await f5(n.remoteStore)}catch(a){const i=qE(a,"Failed to persist write");r.reject(i)}}async function WB(e,t){const r=Ar(e);try{const n=await Ene(r.localStore,t);t.targetChanges.forEach((a,i)=>{const s=r._u.get(i);s&&(bn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?s.tu=!0:a.modifiedDocuments.size>0?bn(s.tu,14607):a.removedDocuments.size>0&&(bn(s.tu,42227),s.tu=!1))}),await q1(r,n,t)}catch(n){await nm(n)}}function NO(e,t,r){const n=Ar(e);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const a=[];n.ru.forEach((i,s)=>{const o=s.view.ga(t);o.snapshot&&a.push(o.snapshot)}),function(s,o){const l=Ar(s);l.onlineState=o;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.Ra)h.ga(o)&&(c=!0)}),c&&GE(l)}(n.eventManager,t),a.length&&n.nu.Q_(a),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function mae(e,t,r){const n=Ar(e);n.sharedClientState.updateQueryState(t,"rejected",r);const a=n._u.get(t),i=a&&a.key;if(i){let s=new fa(cr.comparator);s=s.insert(i,Qi.newNoDocument(i,Nr.min()));const o=Kr().add(i),l=new l5(Nr.min(),new Map,new fa($r),s,o);await WB(n,l),n.ou=n.ou.remove(i),n._u.delete(t),XE(n)}else await e3(n.localStore,t,!1).then(()=>n3(n,t,r)).catch(nm)}async function gae(e,t){const r=Ar(e),n=t.batch.batchId;try{const a=await Nne(r.localStore,t);GB(r,n,null),HB(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await q1(r,a)}catch(a){await nm(a)}}async function vae(e,t,r){const n=Ar(e);try{const a=await function(s,o){const l=Ar(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next(d=>(bn(d!==null,37113),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(n.localStore,t);GB(n,t,r),HB(n,t),n.sharedClientState.updateMutationState(t,"rejected",r),await q1(n,a)}catch(a){await nm(a)}}function HB(e,t){(e.cu.get(t)||[]).forEach(r=>{r.resolve()}),e.cu.delete(t)}function GB(e,t,r){const n=Ar(e);let a=n.uu[n.currentUser.toKey()];if(a){const i=a.get(t);i&&(r?i.reject(r):i.resolve(),a=a.remove(t)),n.uu[n.currentUser.toKey()]=a}}function n3(e,t,r=null){e.sharedClientState.removeLocalQueryTarget(t);for(const n of e.iu.get(t))e.ru.delete(n),r&&e.nu.Tu(n,r);e.iu.delete(t),e.isPrimaryClient&&e.au.Ur(t).forEach(n=>{e.au.containsKey(n)||KB(e,n)})}function KB(e,t){e.su.delete(t.path.canonicalString());const r=e.ou.get(t);r!==null&&($E(e.remoteStore,r),e.ou=e.ou.remove(t),e._u.delete(r),XE(e))}function EO(e,t,r){for(const n of r)n instanceof VB?(e.au.addReference(n.key,t),yae(e,n)):n instanceof zB?(Zt(YE,"Document no longer in limbo: "+n.key),e.au.removeReference(n.key,t),e.au.containsKey(n.key)||KB(e,n.key)):yr(19791,{Iu:n})}function yae(e,t){const r=t.key,n=r.path.canonicalString();e.ou.get(r)||e.su.has(n)||(Zt(YE,"New document in limbo: "+r),e.su.add(n),XE(e))}function XE(e){for(;e.su.size>0&&e.ou.size<e.maxConcurrentLimboResolutions;){const t=e.su.values().next().value;e.su.delete(t);const r=new cr(Xn.fromString(t)),n=e.lu.next();e._u.set(n,new oae(r)),e.ou=e.ou.insert(r,n),MB(e.remoteStore,new vf(ac(r5(r.path)),n,"TargetPurposeLimboResolution",Zw.le))}}async function q1(e,t,r){const n=Ar(e),a=[],i=[],s=[];n.ru.isEmpty()||(n.ru.forEach((o,l)=>{s.push(n.Pu(l,t,r).then(c=>{var u;if((c||r)&&n.isPrimaryClient){const d=c?!c.fromCache:(u=r==null?void 0:r.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;n.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){a.push(c);const d=RE.Ps(l.targetId,c);i.push(d)}}))}),await Promise.all(s),n.nu.Q_(a),await async function(l,c){const u=Ar(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>_t.forEach(c,h=>_t.forEach(h.ls,p=>u.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>_t.forEach(h.hs,p=>u.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!am(d))throw d;Zt(FE,"Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const p=u.Ss.get(h),g=p.snapshotVersion,m=p.withLastLimboFreeSnapshotVersion(g);u.Ss=u.Ss.insert(h,m)}}}(n.localStore,i))}async function xae(e,t){const r=Ar(e);if(!r.currentUser.isEqual(t)){Zt(YE,"User change. New user:",t.toKey());const n=await OB(r.localStore,t);r.currentUser=t,function(i,s){i.cu.forEach(o=>{o.forEach(l=>{l.reject(new Qt(yt.CANCELLED,s))})}),i.cu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await q1(r,n.Ms)}}function bae(e,t){const r=Ar(e),n=r._u.get(t);if(n&&n.tu)return Kr().add(n.key);{let a=Kr();const i=r.iu.get(t);if(!i)return a;for(const s of i){const o=r.ru.get(s);a=a.unionWith(o.view.Wa)}return a}}function YB(e){const t=Ar(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=WB.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=bae.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=mae.bind(null,t),t.nu.Q_=nae.bind(null,t.eventManager),t.nu.Tu=aae.bind(null,t.eventManager),t}function wae(e){const t=Ar(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=gae.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=vae.bind(null,t),t}class cb{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=c5(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),await this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)}mu(t,r){return null}fu(t,r){return null}Vu(t){return Tne(this.persistence,new _ne,t.initialUser,this.serializer)}Ru(t){return new jB(ME.Ei,this.serializer)}Au(t){return new One}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cb.provider={build:()=>new cb};class _ae extends cb{constructor(t){super(),this.cacheSizeBytes=t}mu(t,r){bn(this.persistence.referenceDelegate instanceof ob,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new one(n,t.asyncQueue,r)}Ru(t){const r=this.cacheSizeBytes!==void 0?Ms.withCacheSize(this.cacheSizeBytes):Ms.DEFAULT;return new jB(n=>ob.Ei(n,r),this.serializer)}}class a3{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>NO(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=xae.bind(null,this.syncEngine),await eae(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new rae}()}createDatastore(t){const r=c5(t.databaseInfo.databaseId),n=function(i){return new Rne(i)}(t.databaseInfo);return function(i,s,o,l){return new Une(i,s,o,l)}(t.authCredentials,t.appCheckCredentials,n,r)}createRemoteStore(t){return function(n,a,i,s,o){return new zne(n,a,i,s,o)}(this.localStore,this.datastore,t.asyncQueue,r=>NO(this.syncEngine,r,0),function(){return bO.C()?new bO:new Ine}())}createSyncEngine(t,r){return function(a,i,s,o,l,c,u){const d=new lae(a,i,s,o,l,c);return u&&(d.hu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(a){const i=Ar(a);Zt(fh,"RemoteStore shutting down."),i.aa.add(5),await z1(i),i.ca.shutdown(),i.la.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}a3.provider={build:()=>new a3};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.pu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.pu(this.observer.error,t):uu("Uncaught Error in snapshot listener:",t.toString()))}yu(){this.muted=!0}pu(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf="FirestoreClient";class Sae{constructor(t,r,n,a,i){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=a,this.user=Ki.UNAUTHENTICATED,this.clientId=U9.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async s=>{Zt(Gf,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(Zt(Gf,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new nc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const n=qE(r,"Failed to shutdown persistence");t.reject(n)}}),t.promise}}async function xS(e,t){e.asyncQueue.verifyOperationInProgress(),Zt(Gf,"Initializing OfflineComponentProvider");const r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener(async a=>{n.isEqual(a)||(await OB(t.localStore,a),n=a)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function kO(e,t){e.asyncQueue.verifyOperationInProgress();const r=await Aae(e);Zt(Gf,"Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener(n=>_O(t.remoteStore,n)),e.setAppCheckTokenChangeListener((n,a)=>_O(t.remoteStore,a)),e._onlineComponents=t}async function Aae(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Zt(Gf,"Using user provided OfflineComponentProvider");try{await xS(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(a){return a.name==="FirebaseError"?a.code===yt.FAILED_PRECONDITION||a.code===yt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(r))throw r;pp("Error using user provided cache. Falling back to memory cache: "+r),await xS(e,new cb)}}else Zt(Gf,"Using default OfflineComponentProvider"),await xS(e,new _ae(void 0));return e._offlineComponents}async function JE(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Zt(Gf,"Using user provided OnlineComponentProvider"),await kO(e,e._uninitializedComponentsProvider._online)):(Zt(Gf,"Using default OnlineComponentProvider"),await kO(e,new a3))),e._onlineComponents}function Tae(e){return JE(e).then(t=>t.syncEngine)}function Nae(e){return JE(e).then(t=>t.datastore)}async function ub(e){const t=await JE(e),r=t.eventManager;return r.onListen=cae.bind(null,t.syncEngine),r.onUnlisten=dae.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=uae.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=hae.bind(null,t.syncEngine),r}function Eae(e,t,r={}){const n=new nc;return e.asyncQueue.enqueueAndForget(async()=>function(i,s,o,l,c){const u=new QE({next:h=>{u.yu(),s.enqueueAndForget(()=>HE(i,d));const p=h.docs.has(o);!p&&h.fromCache?c.reject(new Qt(yt.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?c.reject(new Qt(yt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new KE(r5(o.path),u,{includeMetadataChanges:!0,Fa:!0});return WE(i,d)}(await ub(e),e.asyncQueue,t,r,n)),n.promise}function kae(e,t,r={}){const n=new nc;return e.asyncQueue.enqueueAndForget(async()=>function(i,s,o,l,c){const u=new QE({next:h=>{u.yu(),s.enqueueAndForget(()=>HE(i,d)),h.fromCache&&l.source==="server"?c.reject(new Qt(yt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new KE(o,u,{includeMetadataChanges:!0,Fa:!0});return WE(i,d)}(await ub(e),e.asyncQueue,t,r,n)),n.promise}function Cae(e,t,r){const n=new nc;return e.asyncQueue.enqueueAndForget(async()=>{try{const a=await Nae(e);n.resolve(async function(s,o,l){var c;const u=Ar(s),{request:d,yt:h,parent:p}=Kre(u.serializer,pre(o),l);u.connection.Bo||delete d.parent;const g=(await u.Wo("RunAggregationQuery",u.serializer.databaseId,p,d,1)).filter(v=>!!v.result);bn(g.length===1,64727);const m=(c=g[0].result)===null||c===void 0?void 0:c.aggregateFields;return Object.keys(m).reduce((v,y)=>(v[h[y]]=m[y],v),{})}(a,t,r))}catch(a){n.reject(a)}}),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XB(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QB(e,t,r){if(!r)throw new Qt(yt.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Pae(e,t,r,n){if(t===!0&&n===!0)throw new Qt(yt.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)}function PO(e){if(!cr.isDocumentKey(e))throw new Qt(yt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function jO(e){if(cr.isDocumentKey(e))throw new Qt(yt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function d5(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":yr(12329,{type:typeof e})}function as(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Qt(yt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=d5(e);throw new Qt(yt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}function jae(e,t){if(t<=0)throw new Qt(yt.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JB="firestore.googleapis.com",OO=!0;class IO{constructor(t){var r,n;if(t.host===void 0){if(t.ssl!==void 0)throw new Qt(yt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=JB,this.ssl=OO}else this.host=t.host,this.ssl=(r=t.ssl)!==null&&r!==void 0?r:OO;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=PB;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<ine)throw new Qt(yt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Pae("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XB((n=t.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Qt(yt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Qt(yt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Qt(yt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,a){return n.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class h5{constructor(t,r,n,a){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=n,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new IO({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Qt(yt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Qt(yt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new IO(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Dte;switch(n.type){case"firstParty":return new Fte(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Qt(yt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,A9("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=CO.get(r);n&&(Zt("ComponentProvider","Removing Datastore"),CO.delete(r),n.terminate())}(this),Promise.resolve()}}function Oae(e,t,r,n={}){var a;e=as(e,h5);const i=SE(t),s=e._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:e._getEmulatorOptions()}),l=`${t}:${r}`;s.host!==JB&&s.host!==l&&pp("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},s),{host:l,ssl:i,emulatorOptions:n});if(!Q2(c,o)&&(e._setSettings(c),i&&(lee(`https://${l}`),A9("Firestore",!0)),n.mockUserToken)){let u,d;if(typeof n.mockUserToken=="string")u=n.mockUserToken,d=Ki.MOCK_USER;else{u=cee(n.mockUserToken,(a=e._app)===null||a===void 0?void 0:a.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new Qt(yt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Ki(h)}e._authCredentials=new Lte(new $9(u,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(t,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new Au(this.firestore,t,this._query)}}class is{constructor(t,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lf(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new is(this.firestore,t,this._key)}}class Lf extends Au{constructor(t,r,n){super(t,r,r5(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new is(this.firestore,null,new cr(t))}withConverter(t){return new Lf(this.firestore,t,this._path)}}function vt(e,t,...r){if(e=Ho(e),QB("collection","path",t),e instanceof h5){const n=Xn.fromString(t,...r);return jO(n),new Lf(e,null,n)}{if(!(e instanceof is||e instanceof Lf))throw new Qt(yt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Xn.fromString(t,...r));return jO(n),new Lf(e.firestore,null,n)}}function ur(e,t,...r){if(e=Ho(e),arguments.length===1&&(t=U9.newId()),QB("doc","path",t),e instanceof h5){const n=Xn.fromString(t,...r);return PO(n),new is(e,null,new cr(n))}{if(!(e instanceof is||e instanceof Lf))throw new Qt(yt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Xn.fromString(t,...r));return PO(n),new is(e.firestore,e instanceof Lf?e.converter:null,new cr(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO="AsyncQueue";class LO{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new DB(this,"async_queue_retry"),this.ju=()=>{const n=yS();n&&Zt(DO,"Visibility state changed to "+n.visibilityState),this.y_.A_()},this.Hu=t;const r=yS();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const r=yS();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const r=new nc;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!am(t))throw t;Zt(DO,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const r=this.Hu.then(()=>(this.Wu=!0,t().catch(n=>{throw this.Ku=n,this.Wu=!1,uu("INTERNAL UNHANDLED ERROR: ",MO(n)),n}).then(n=>(this.Wu=!1,n))));return this.Hu=r,r}enqueueAfterDelay(t,r,n){this.Ju(),this.zu.indexOf(t)>-1&&(r=0);const a=zE.createAndSchedule(this,t,r,n,i=>this.Xu(i));return this.Uu.push(a),a}Ju(){this.Ku&&yr(47125,{ec:MO(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const r of this.Uu)if(r.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Uu)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const r=this.Uu.indexOf(t);this.Uu.splice(r,1)}}function MO(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(e){return function(r,n){if(typeof r!="object"||r===null)return!1;const a=r;for(const i of n)if(i in a&&typeof a[i]=="function")return!0;return!1}(e,["next","error","complete"])}class Dl extends h5{constructor(t,r,n,a){super(t,r,n,a),this.type="firestore",this._queue=new LO,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new LO(t),this._firestoreClient=void 0,await t}}}function Iae(e,t){const r=typeof e=="object"?e:wte(),n=typeof e=="string"?e:tb,a=gte(r,"firestore").getImmediate({identifier:n});if(!a._initialized){const i=see("firestore");i&&Oae(a,...i)}return a}function om(e){if(e._terminated)throw new Qt(yt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Dae(e),e._firestoreClient}function Dae(e){var t,r,n;const a=e._freezeSettings(),i=function(o,l,c,u){return new ere(o,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,XB(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,a);e._componentsProvider||!((r=a.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=a.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(e._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),e._firestoreClient=new Sae(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lae{constructor(t="count",r){this._internalFieldPath=r,this.type="AggregateField",this.aggregateType=t}}class Mae{constructor(t,r,n){this._userDataWriter=r,this._data=n,this.type="AggregateQuerySnapshot",this.query=t}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(t){this._byteString=t}static fromBase64String(t){try{return new bp(Di.fromBase64String(t))}catch(r){throw new Qt(yt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new bp(Di.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new Qt(yt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ei(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new Qt(yt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new Qt(yt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return $r(this._lat,t._lat)||$r(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(n,a){if(n.length!==a.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==a[i])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rae=/^__.*__$/;class Fae{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return this.fieldMask!==null?new nd(t,this.data,this.fieldMask,r,this.fieldTransforms):new U1(t,this.data,r,this.fieldTransforms)}}class ZB{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return new nd(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function eU(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yr(40011,{oc:e})}}class tk{constructor(t,r,n,a,i,s){this.settings=t,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=a,i===void 0&&this._c(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(t){return new tk(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(t){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(t),a=this.ac({path:n,cc:!1});return a.lc(t),a}hc(t){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(t),a=this.ac({path:n,cc:!1});return a._c(),a}Pc(t){return this.ac({path:void 0,cc:!0})}Tc(t){return fb(t,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}_c(){if(this.path)for(let t=0;t<this.path.length;t++)this.lc(this.path.get(t))}lc(t){if(t.length===0)throw this.Tc("Document fields must not be empty");if(eU(this.oc)&&Rae.test(t))throw this.Tc('Document fields cannot begin and end with "__"')}}class $ae{constructor(t,r,n){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=n||c5(t)}dc(t,r,n,a=!1){return new tk({oc:t,methodName:r,Ec:n,path:Ei.emptyPath(),cc:!1,Ic:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function H1(e){const t=e._freezeSettings(),r=c5(e._databaseId);return new $ae(e._databaseId,!!t.ignoreUndefinedProperties,r)}function rk(e,t,r,n,a,i={}){const s=e.dc(i.merge||i.mergeFields?2:0,t,r,a);ak("Data must be an object, but it was:",s,n);const o=nU(n,s);let l,c;if(i.merge)l=new co(s.fieldMask),c=s.fieldTransforms;else if(i.mergeFields){const u=[];for(const d of i.mergeFields){const h=i3(t,d,r);if(!s.contains(h))throw new Qt(yt.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);iU(u,h)||u.push(h)}l=new co(u),c=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=s.fieldTransforms;return new Fae(new Fs(o),l,c)}class G1 extends p5{_toFieldTransform(t){if(t.oc!==2)throw t.oc===1?t.Tc(`${this._methodName}() can only appear at the top level of your update data`):t.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof G1}}class nk extends p5{_toFieldTransform(t){return new Tre(t.path,new Dv)}isEqual(t){return t instanceof nk}}function tU(e,t,r,n){const a=e.dc(1,t,r);ak("Data must be an object, but it was:",a,n);const i=[],s=Fs.empty();rd(n,(l,c)=>{const u=ik(t,l,r);c=Ho(c);const d=a.hc(u);if(c instanceof G1)i.push(u);else{const h=K1(c,d);h!=null&&(i.push(u),s.set(u,h))}});const o=new co(i);return new ZB(s,o,a.fieldTransforms)}function rU(e,t,r,n,a,i){const s=e.dc(1,t,r),o=[i3(t,n,r)],l=[a];if(i.length%2!=0)throw new Qt(yt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)o.push(i3(t,i[h])),l.push(i[h+1]);const c=[],u=Fs.empty();for(let h=o.length-1;h>=0;--h)if(!iU(c,o[h])){const p=o[h];let g=l[h];g=Ho(g);const m=s.hc(p);if(g instanceof G1)c.push(p);else{const v=K1(g,m);v!=null&&(c.push(p),u.set(p,v))}}const d=new co(c);return new ZB(u,d,s.fieldTransforms)}function Bae(e,t,r,n=!1){return K1(r,e.dc(n?4:3,t))}function K1(e,t){if(aU(e=Ho(e)))return ak("Unsupported field value:",t,e),nU(e,t);if(e instanceof p5)return function(n,a){if(!eU(a.oc))throw a.Tc(`${n._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Tc(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(a);i&&a.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.cc&&t.oc!==4)throw t.Tc("Nested arrays are not supported");return function(n,a){const i=[];let s=0;for(const o of n){let l=K1(o,a.Pc(s));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,a){if((n=Ho(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return _re(a.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=nr.fromDate(n);return{timestampValue:sb(a.serializer,i)}}if(n instanceof nr){const i=new nr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:sb(a.serializer,i)}}if(n instanceof ZE)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof bp)return{bytesValue:_B(a.serializer,n._byteString)};if(n instanceof is){const i=a.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw a.Tc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:DE(n.firestore._databaseId||a.databaseId,n._key.path)}}if(n instanceof ek)return function(s,o){return{mapValue:{fields:{[Y9]:{stringValue:Q9},[rb]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw o.Tc("VectorValues must only contain numeric values.");return jE(o.serializer,c)})}}}}}}(n,a);throw a.Tc(`Unsupported field value: ${d5(n)}`)}(e,t)}function nU(e,t){const r={};return z9(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):rd(e,(n,a)=>{const i=K1(a,t.uc(n));i!=null&&(r[n]=i)}),{mapValue:{fields:r}}}function aU(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof nr||e instanceof ZE||e instanceof bp||e instanceof is||e instanceof p5||e instanceof ek)}function ak(e,t,r){if(!aU(r)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(r)){const n=d5(r);throw n==="an object"?t.Tc(e+" a custom object"):t.Tc(e+" "+n)}}function i3(e,t,r){if((t=Ho(t))instanceof W1)return t._internalPath;if(typeof t=="string")return ik(e,t);throw fb("Field path arguments must be of type string or ",e,!1,void 0,r)}const Uae=new RegExp("[~\\*/\\[\\]]");function ik(e,t,r){if(t.search(Uae)>=0)throw fb(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new W1(...t.split("."))._internalPath}catch{throw fb(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function fb(e,t,r,n,a){const i=n&&!n.isEmpty(),s=a!==void 0;let o=`Function ${t}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||s)&&(l+=" (found",i&&(l+=` in field ${n}`),s&&(l+=` in document ${a}`),l+=")"),new Qt(yt.INVALID_ARGUMENT,o+e+l)}function iU(e,t){return e.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sU{constructor(t,r,n,a,i){this._firestore=t,this._userDataWriter=r,this._key=n,this._document=a,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new is(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Vae(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(m5("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class Vae extends sU{data(){return super.data()}}function m5(e,t){return typeof t=="string"?ik(e,t):t instanceof W1?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oU(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Qt(yt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sk{}class ok extends sk{}function ir(e,t,...r){let n=[];t instanceof sk&&n.push(t),n=n.concat(r),function(i){const s=i.filter(l=>l instanceof lk).length,o=i.filter(l=>l instanceof g5).length;if(s>1||s>0&&o>0)throw new Qt(yt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class g5 extends ok{constructor(t,r,n){super(),this._field=t,this._op=r,this._value=n,this.type="where"}static _create(t,r,n){return new g5(t,r,n)}_apply(t){const r=this._parse(t);return lU(t._query,r),new Au(t.firestore,t.converter,Y4(t._query,r))}_parse(t){const r=H1(t.firestore);return function(i,s,o,l,c,u,d){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Qt(yt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){$O(d,u);const g=[];for(const m of d)g.push(FO(l,i,m));h={arrayValue:{values:g}}}else h=FO(l,i,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||$O(d,u),h=Bae(o,s,d,u==="in"||u==="not-in");return za.create(c,u,h)}(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}function lr(e,t,r){const n=t,a=m5("where",e);return g5._create(a,n,r)}class lk extends sk{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new lk(t,r)}_parse(t){const r=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Il.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:(function(a,i){let s=a;const o=i.getFlattenedFilters();for(const l of o)lU(s,l),s=Y4(s,l)}(t._query,r),new Au(t.firestore,t.converter,Y4(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ck extends ok{constructor(t,r){super(),this._field=t,this._direction=r,this.type="orderBy"}static _create(t,r){return new ck(t,r)}_apply(t){const r=function(a,i,s){if(a.startAt!==null)throw new Qt(yt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Qt(yt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Iv(i,s)}(t._query,this._field,this._direction);return new Au(t.firestore,t.converter,function(a,i){const s=a.explicitOrderBy.concat([i]);return new im(a.path,a.collectionGroup,s,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(t._query,r))}}function ja(e,t="asc"){const r=t,n=m5("orderBy",e);return ck._create(n,r)}class uk extends ok{constructor(t,r,n){super(),this.type=t,this._limit=r,this._limitType=n}static _create(t,r,n){return new uk(t,r,n)}_apply(t){return new Au(t.firestore,t.converter,ab(t._query,this._limit,this._limitType))}}function Bd(e){return jae("limit",e),uk._create("limit",e,"F")}function FO(e,t,r){if(typeof(r=Ho(r))=="string"){if(r==="")throw new Qt(yt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iB(t)&&r.indexOf("/")!==-1)throw new Qt(yt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=t.path.child(Xn.fromString(r));if(!cr.isDocumentKey(n))throw new Qt(yt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Jj(e,new cr(n))}if(r instanceof is)return Jj(e,r._key);throw new Qt(yt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${d5(r)}.`)}function $O(e,t){if(!Array.isArray(e)||e.length===0)throw new Qt(yt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function lU(e,t){const r=function(a,i){for(const s of a)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(e.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(r!==null)throw r===t.op?new Qt(yt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Qt(yt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class zae{convertValue(t,r="none"){switch(Wf(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ta(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(qf(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw yr(62114,{value:t})}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const n={};return rd(t,(a,i)=>{n[a]=this.convertValue(i,r)}),n}convertVectorValue(t){var r,n,a;const i=(a=(n=(r=t.fields)===null||r===void 0?void 0:r[rb].arrayValue)===null||n===void 0?void 0:n.values)===null||a===void 0?void 0:a.map(s=>Ta(s.doubleValue));return new ek(i)}convertGeoPoint(t){return new ZE(Ta(t.latitude),Ta(t.longitude))}convertArray(t,r){return(t.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(t,r){switch(r){case"previous":const n=t5(t);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Pv(t));default:return null}}convertTimestamp(t){const r=zf(t);return new nr(r.seconds,r.nanos)}convertDocumentKey(t,r){const n=Xn.fromString(t);bn(CB(n),9688,{name:t});const a=new jv(n.get(1),n.get(3)),i=new cr(n.popFirst(5));return a.isEqual(r)||uu(`Document ${i} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(e,t,r){let n;return n=e?r&&(r.merge||r.mergeFields)?e.toFirestore(t,r):e.toFirestore(t):t,n}function qae(){return new Lae("count")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class cU extends sU{constructor(t,r,n,a,i,s){super(t,r,n,a,s),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new l2(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const n=this._document.data.field(m5("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class l2 extends cU{data(t={}){return super.data(t)}}class uU{constructor(t,r,n,a){this._firestore=t,this._userDataWriter=r,this._snapshot=a,this.metadata=new yg(a.hasPendingWrites,a.fromCache),this.query=n}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(n=>{t.call(r,new l2(this._firestore,this._userDataWriter,n.key,n,new yg(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Qt(yt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(a,i){if(a._snapshot.oldDocs.isEmpty()){let s=0;return a._snapshot.docChanges.map(o=>{const l=new l2(a._firestore,a._userDataWriter,o.doc.key,o.doc,new yg(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const l=new l2(a._firestore,a._userDataWriter,o.doc.key,o.doc,new yg(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);let c=-1,u=-1;return o.type!==0&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:Wae(o.type),doc:l,oldIndex:c,newIndex:u}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Wae(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yr(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sc(e){e=as(e,is);const t=as(e.firestore,Dl);return Eae(om(t),e._key).then(r=>fU(t,e,r))}class v5 extends zae{constructor(t){super(),this.firestore=t}convertBytes(t){return new bp(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new is(this.firestore,null,r)}}function sr(e){e=as(e,Au);const t=as(e.firestore,Dl),r=om(t),n=new v5(t);return oU(e._query),kae(r,e._query).then(a=>new uU(t,n,e,a))}function ux(e,t,r){e=as(e,is);const n=as(e.firestore,Dl),a=fk(e.converter,t,r);return Y1(n,[rk(H1(n),"setDoc",e._key,a,e.converter!==null,r).toMutation(e._key,Ts.none())])}function On(e,t,r,...n){e=as(e,is);const a=as(e.firestore,Dl),i=H1(a);let s;return s=typeof(t=Ho(t))=="string"||t instanceof W1?rU(i,"updateDoc",e._key,t,r,n):tU(i,"updateDoc",e._key,t),Y1(a,[s.toMutation(e._key,Ts.exists(!0))])}function xs(e){return Y1(as(e.firestore,Dl),[new o5(e._key,Ts.none())])}function hr(e,t){const r=as(e.firestore,Dl),n=ur(e),a=fk(e.converter,t);return Y1(r,[rk(H1(e.firestore),"addDoc",n._key,a,e.converter!==null,{}).toMutation(n._key,Ts.exists(!1))]).then(()=>n)}function Hae(e,...t){var r,n,a;e=Ho(e);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||RO(t[s])||(i=t[s],s++);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(RO(t[s])){const d=t[s];t[s]=(r=d.next)===null||r===void 0?void 0:r.bind(d),t[s+1]=(n=d.error)===null||n===void 0?void 0:n.bind(d),t[s+2]=(a=d.complete)===null||a===void 0?void 0:a.bind(d)}let l,c,u;if(e instanceof is)c=as(e.firestore,Dl),u=r5(e._key.path),l={next:d=>{t[s]&&t[s](fU(c,e,d))},error:t[s+1],complete:t[s+2]};else{const d=as(e,Au);c=as(d.firestore,Dl),u=d._query;const h=new v5(c);l={next:p=>{t[s]&&t[s](new uU(c,h,d,p))},error:t[s+1],complete:t[s+2]},oU(e._query)}return function(h,p,g,m){const v=new QE(m),y=new KE(p,v,g);return h.asyncQueue.enqueueAndForget(async()=>WE(await ub(h),y)),()=>{v.yu(),h.asyncQueue.enqueueAndForget(async()=>HE(await ub(h),y))}}(om(c),u,o,l)}function Y1(e,t){return function(n,a){const i=new nc;return n.asyncQueue.enqueueAndForget(async()=>pae(await Tae(n),a,i)),i.promise}(om(e),t)}function fU(e,t,r){const n=r.docs.get(t._key),a=new v5(e);return new cU(e,a,t._key,n,new yg(r.hasPendingWrites,r.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dk(e){return Gae(e,{count:qae()})}function Gae(e,t){const r=as(e.firestore,Dl),n=om(r),a=Jte(t,(i,s)=>new Ire(s,i.aggregateType,i._internalFieldPath));return Cae(n,e._query,a).then(i=>function(o,l,c){const u=new v5(o);return new Mae(l,u,c)}(r,e,i))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kae{constructor(t,r){this._firestore=t,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=H1(t)}set(t,r,n){this._verifyNotCommitted();const a=bS(t,this._firestore),i=fk(a.converter,r,n),s=rk(this._dataReader,"WriteBatch.set",a._key,i,a.converter!==null,n);return this._mutations.push(s.toMutation(a._key,Ts.none())),this}update(t,r,n,...a){this._verifyNotCommitted();const i=bS(t,this._firestore);let s;return s=typeof(r=Ho(r))=="string"||r instanceof W1?rU(this._dataReader,"WriteBatch.update",i._key,r,n,a):tU(this._dataReader,"WriteBatch.update",i._key,r),this._mutations.push(s.toMutation(i._key,Ts.exists(!0))),this}delete(t){this._verifyNotCommitted();const r=bS(t,this._firestore);return this._mutations=this._mutations.concat(new o5(r._key,Ts.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Qt(yt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function bS(e,t){if((e=Ho(e)).firestore!==t)throw new Qt(yt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(){return new G1("deleteField")}function Uc(){return new nk("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yae(e){return om(e=as(e,Dl)),new Kae(e,t=>Y1(e,t))}(function(t,r=!0){(function(a){rm=a})(bte),Z2(new Ev("firestore",(n,{instanceIdentifier:a,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Dl(new Mte(n.getProvider("auth-internal")),new $te(s,n.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Qt(yt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jv(c.options.projectId,u)}(s,a),s);return i=Object.assign({useFetchStreams:r},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),q0(Bj,Uj,t),q0(Bj,Uj,"esm2017")})();const Xae={apiKey:"AIzaSyBrPAITwnh9vpsoS6W5hmuLLWPQzANOHfQ",authDomain:"aztec-warehouse.firebaseapp.com",projectId:"aztec-warehouse",storageBucket:"aztec-warehouse.firebasestorage.app",messagingSenderId:"587188643888",appId:"1:587188643888:web:2f5d9bb858e6e4bb3565f5",measurementId:"G-59VTWPJ775"},Qae=C9(Xae),Xe=Iae(Qae),dU=F.createContext(void 0),ba=()=>{const e=F.useContext(dU);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Jae=({children:e})=>{const[t,r]=F.useState(()=>{const l=localStorage.getItem("user");return l?JSON.parse(l):null}),[n,a]=F.useState(!1),o={user:t,isAuthenticated:!!t,login:async(l,c)=>{a(!0);try{const u=await sr(vt(Xe,"users"));for(const d of u.docs){const h=d.data();if(h.username===l&&h.password===c){const p={id:d.id,username:h.username,email:h.email,name:h.name,role:h.role,password:h.password};r(p),localStorage.setItem("user",JSON.stringify(p));try{await hr(vt(Xe,"activityLogs"),{user:p.name,role:p.role,detail:"logged in",time:new Date().toISOString()})}catch(g){console.error("Error logging activity:",g)}return!0}}return!1}catch(u){return console.error("Login error:",u),!1}finally{a(!1)}},logout:()=>{if(t){const l={...t};r(null),localStorage.removeItem("user"),hr(vt(Xe,"activityLogs"),{user:l.name,role:l.role,detail:"logged out",time:new Date().toISOString()}).catch(c=>{console.error("Error logging activity:",c)})}},isLoading:n,setUser:r};return f.jsx(dU.Provider,{value:o,children:e})},hU=F.createContext(void 0),Zae=({children:e})=>{const[t,r]=F.useState(!0),n=()=>{r(!t)};return f.jsx(hU.Provider,{value:{isDarkMode:t,toggleDarkMode:n},children:e})},Zr=()=>{const e=F.useContext(hU);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},hk=F.createContext({});function X1(e){const t=F.useRef(null);return t.current===null&&(t.current=e()),t.current}const pk=typeof window<"u",mk=pk?F.useLayoutEffect:F.useEffect,y5=F.createContext(null);function gk(e,t){e.indexOf(t)===-1&&e.push(t)}function x5(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const du=(e,t,r)=>r>t?t:r<e?e:r;let db=()=>{};const hu={},pU=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function mU(e){return typeof e=="object"&&e!==null}const gU=e=>/^0[^.\s]+$/u.test(e);function vk(e){let t;return()=>(t===void 0&&(t=e()),t)}const Bo=e=>e,eie=(e,t)=>r=>t(e(r)),Q1=(...e)=>e.reduce(eie),wp=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class yk{constructor(){this.subscriptions=[]}add(t){return gk(this.subscriptions,t),()=>x5(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let i=0;i<a;i++){const s=this.subscriptions[i];s&&s(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Cl=e=>e*1e3,oc=e=>e/1e3;function vU(e,t){return t?e*(1e3/t):0}const tie=(e,t,r)=>{const n=t-e;return((r-e)%n+n)%n+e},yU=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,rie=1e-7,nie=12;function aie(e,t,r,n,a){let i,s,o=0;do s=t+(r-t)/2,i=yU(s,n,a)-e,i>0?r=s:t=s;while(Math.abs(i)>rie&&++o<nie);return s}function J1(e,t,r,n){if(e===t&&r===n)return Bo;const a=i=>aie(i,0,1,e,r);return i=>i===0||i===1?i:yU(a(i),t,n)}const xU=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,bU=e=>t=>1-e(1-t),wU=J1(.33,1.53,.69,.99),xk=bU(wU),_U=xU(xk),SU=e=>(e*=2)<1?.5*xk(e):.5*(2-Math.pow(2,-10*(e-1))),bk=e=>1-Math.sin(Math.acos(e)),AU=bU(bk),TU=xU(bk),iie=J1(.42,0,1,1),sie=J1(0,0,.58,1),NU=J1(.42,0,.58,1),EU=e=>Array.isArray(e)&&typeof e[0]!="number";function kU(e,t){return EU(e)?e[tie(0,e.length,t)]:e}const CU=e=>Array.isArray(e)&&typeof e[0]=="number",UO={linear:Bo,easeIn:iie,easeInOut:NU,easeOut:sie,circIn:bk,circInOut:TU,circOut:AU,backIn:xk,backInOut:_U,backOut:wU,anticipate:SU},oie=e=>typeof e=="string",VO=e=>{if(CU(e)){db(e.length===4);const[t,r,n,a]=e;return J1(t,r,n,a)}else if(oie(e))return db(UO[e]!==void 0),UO[e];return e},fx=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],zO={value:null,addProjectionMetrics:null};function lie(e,t){let r=new Set,n=new Set,a=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},l=0;function c(d){s.has(d)&&(u.schedule(d),e()),l++,d(o)}const u={schedule:(d,h=!1,p=!1)=>{const m=p&&a?r:n;return h&&s.add(d),m.has(d)||m.add(d),d},cancel:d=>{n.delete(d),s.delete(d)},process:d=>{if(o=d,a){i=!0;return}a=!0,[r,n]=[n,r],r.forEach(c),t&&zO.value&&zO.value.frameloop[t].push(l),l=0,r.clear(),a=!1,i&&(i=!1,u.process(d))}};return u}const cie=40;function PU(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,s=fx.reduce((b,D)=>(b[D]=lie(i,t?D:void 0),b),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:u,update:d,preRender:h,render:p,postRender:g}=s,m=()=>{const b=hu.useManualTiming?a.timestamp:performance.now();r=!1,hu.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(b-a.timestamp,cie),1)),a.timestamp=b,a.isProcessing=!0,o.process(a),l.process(a),c.process(a),u.process(a),d.process(a),h.process(a),p.process(a),g.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(m))},v=()=>{r=!0,n=!0,a.isProcessing||e(m)};return{schedule:fx.reduce((b,D)=>{const P=s[D];return b[D]=(O,T=!1,S=!1)=>(r||v(),P.schedule(O,T,S)),b},{}),cancel:b=>{for(let D=0;D<fx.length;D++)s[fx[D]].cancel(b)},state:a,steps:s}}const{schedule:aa,cancel:pu,state:Ai,steps:wS}=PU(typeof requestAnimationFrame<"u"?requestAnimationFrame:Bo,!0);let c2;function uie(){c2=void 0}const Bs={now:()=>(c2===void 0&&Bs.set(Ai.isProcessing||hu.useManualTiming?Ai.timestamp:performance.now()),c2),set:e=>{c2=e,queueMicrotask(uie)}},jU=e=>t=>typeof t=="string"&&t.startsWith(e),wk=jU("--"),fie=jU("var(--"),_k=e=>fie(e)?die.test(e.split("/*")[0].trim()):!1,die=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,lm={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Rv={...lm,transform:e=>du(0,1,e)},dx={...lm,default:1},$g=e=>Math.round(e*1e5)/1e5,Sk=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function hie(e){return e==null}const pie=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ak=(e,t)=>r=>!!(typeof r=="string"&&pie.test(r)&&r.startsWith(e)||t&&!hie(r)&&Object.prototype.hasOwnProperty.call(r,t)),OU=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,i,s,o]=n.match(Sk);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},mie=e=>du(0,255,e),_S={...lm,transform:e=>Math.round(mie(e))},Ud={test:Ak("rgb","red"),parse:OU("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+_S.transform(e)+", "+_S.transform(t)+", "+_S.transform(r)+", "+$g(Rv.transform(n))+")"};function gie(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const s3={test:Ak("#"),parse:gie,transform:Ud.transform},Z1=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),rf=Z1("deg"),lc=Z1("%"),br=Z1("px"),vie=Z1("vh"),yie=Z1("vw"),qO={...lc,parse:e=>lc.parse(e)/100,transform:e=>lc.transform(e*100)},k0={test:Ak("hsl","hue"),parse:OU("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+lc.transform($g(t))+", "+lc.transform($g(r))+", "+$g(Rv.transform(n))+")"},Hi={test:e=>Ud.test(e)||s3.test(e)||k0.test(e),parse:e=>Ud.test(e)?Ud.parse(e):k0.test(e)?k0.parse(e):s3.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ud.transform(e):k0.transform(e)},xie=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function bie(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Sk))==null?void 0:t.length)||0)+(((r=e.match(xie))==null?void 0:r.length)||0)>0}const IU="number",DU="color",wie="var",_ie="var(",WO="${}",Sie=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Fv(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const o=t.replace(Sie,l=>(Hi.test(l)?(n.color.push(i),a.push(DU),r.push(Hi.parse(l))):l.startsWith(_ie)?(n.var.push(i),a.push(wie),r.push(l)):(n.number.push(i),a.push(IU),r.push(parseFloat(l))),++i,WO)).split(WO);return{values:r,split:o,indexes:n,types:a}}function LU(e){return Fv(e).values}function MU(e){const{split:t,types:r}=Fv(e),n=t.length;return a=>{let i="";for(let s=0;s<n;s++)if(i+=t[s],a[s]!==void 0){const o=r[s];o===IU?i+=$g(a[s]):o===DU?i+=Hi.transform(a[s]):i+=a[s]}return i}}const Aie=e=>typeof e=="number"?0:e;function Tie(e){const t=LU(e);return MU(e)(t.map(Aie))}const Kf={test:bie,parse:LU,createTransformer:MU,getAnimatableNone:Tie};function SS(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function Nie({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,i=0,s=0;if(!t)a=i=s=r;else{const o=r<.5?r*(1+t):r+t-r*t,l=2*r-o;a=SS(l,o,e+1/3),i=SS(l,o,e),s=SS(l,o,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:n}}function hb(e,t){return r=>r>0?t:e}const ra=(e,t,r)=>e+(t-e)*r,AS=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},Eie=[s3,Ud,k0],kie=e=>Eie.find(t=>t.test(e));function HO(e){const t=kie(e);if(!t)return!1;let r=t.parse(e);return t===k0&&(r=Nie(r)),r}const GO=(e,t)=>{const r=HO(e),n=HO(t);if(!r||!n)return hb(e,t);const a={...r};return i=>(a.red=AS(r.red,n.red,i),a.green=AS(r.green,n.green,i),a.blue=AS(r.blue,n.blue,i),a.alpha=ra(r.alpha,n.alpha,i),Ud.transform(a))},o3=new Set(["none","hidden"]);function Cie(e,t){return o3.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function Pie(e,t){return r=>ra(e,t,r)}function Tk(e){return typeof e=="number"?Pie:typeof e=="string"?_k(e)?hb:Hi.test(e)?GO:Iie:Array.isArray(e)?RU:typeof e=="object"?Hi.test(e)?GO:jie:hb}function RU(e,t){const r=[...e],n=r.length,a=e.map((i,s)=>Tk(i)(i,t[s]));return i=>{for(let s=0;s<n;s++)r[s]=a[s](i);return r}}function jie(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=Tk(e[a])(e[a],t[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function Oie(e,t){const r=[],n={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],s=e.indexes[i][n[i]],o=e.values[s]??0;r[a]=o,n[i]++}return r}const Iie=(e,t)=>{const r=Kf.createTransformer(t),n=Fv(e),a=Fv(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?o3.has(e)&&!a.values.length||o3.has(t)&&!n.values.length?Cie(e,t):Q1(RU(Oie(n,a),a.values),r):hb(e,t)};function FU(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?ra(e,t,r):Tk(e)(e,t)}const Die=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>aa.update(t,r),stop:()=>pu(t),now:()=>Ai.isProcessing?Ai.timestamp:Bs.now()}},$U=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let i=0;i<a;i++)n+=e(i/(a-1))+", ";return`linear(${n.substring(0,n.length-2)})`},pb=2e4;function Nk(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<pb;)t+=r,n=e.next(t);return t>=pb?1/0:t}function BU(e,t=100,r){const n=r({...e,keyframes:[0,t]}),a=Math.min(Nk(n),pb);return{type:"keyframes",ease:i=>n.next(a*i).value/t,duration:oc(a)}}const Lie=5;function UU(e,t,r){const n=Math.max(t-Lie,0);return vU(r-e(n),t-n)}const ga={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},TS=.001;function Mie({duration:e=ga.duration,bounce:t=ga.bounce,velocity:r=ga.velocity,mass:n=ga.mass}){let a,i,s=1-t;s=du(ga.minDamping,ga.maxDamping,s),e=du(ga.minDuration,ga.maxDuration,oc(e)),s<1?(a=c=>{const u=c*s,d=u*e,h=u-r,p=l3(c,s),g=Math.exp(-d);return TS-h/p*g},i=c=>{const d=c*s*e,h=d*r+r,p=Math.pow(s,2)*Math.pow(c,2)*e,g=Math.exp(-d),m=l3(Math.pow(c,2),s);return(-a(c)+TS>0?-1:1)*((h-p)*g)/m}):(a=c=>{const u=Math.exp(-c*e),d=(c-r)*e+1;return-TS+u*d},i=c=>{const u=Math.exp(-c*e),d=(r-c)*(e*e);return u*d});const o=5/e,l=Fie(a,i,o);if(e=Cl(e),isNaN(l))return{stiffness:ga.stiffness,damping:ga.damping,duration:e};{const c=Math.pow(l,2)*n;return{stiffness:c,damping:s*2*Math.sqrt(n*c),duration:e}}}const Rie=12;function Fie(e,t,r){let n=r;for(let a=1;a<Rie;a++)n=n-e(n)/t(n);return n}function l3(e,t){return e*Math.sqrt(1-t*t)}const $ie=["duration","bounce"],Bie=["stiffness","damping","mass"];function KO(e,t){return t.some(r=>e[r]!==void 0)}function Uie(e){let t={velocity:ga.velocity,stiffness:ga.stiffness,damping:ga.damping,mass:ga.mass,isResolvedFromDuration:!1,...e};if(!KO(e,Bie)&&KO(e,$ie))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,i=2*du(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:ga.mass,stiffness:a,damping:i}}else{const r=Mie(e);t={...t,...r,mass:ga.mass},t.isResolvedFromDuration=!0}return t}function $v(e=ga.visualDuration,t=ga.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const i=r.keyframes[0],s=r.keyframes[r.keyframes.length-1],o={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:p}=Uie({...r,velocity:-oc(r.velocity||0)}),g=h||0,m=c/(2*Math.sqrt(l*u)),v=s-i,y=oc(Math.sqrt(l/u)),w=Math.abs(v)<5;n||(n=w?ga.restSpeed.granular:ga.restSpeed.default),a||(a=w?ga.restDelta.granular:ga.restDelta.default);let b;if(m<1){const P=l3(y,m);b=O=>{const T=Math.exp(-m*y*O);return s-T*((g+m*y*v)/P*Math.sin(P*O)+v*Math.cos(P*O))}}else if(m===1)b=P=>s-Math.exp(-y*P)*(v+(g+y*v)*P);else{const P=y*Math.sqrt(m*m-1);b=O=>{const T=Math.exp(-m*y*O),S=Math.min(P*O,300);return s-T*((g+m*y*v)*Math.sinh(S)+P*v*Math.cosh(S))/P}}const D={calculatedDuration:p&&d||null,next:P=>{const O=b(P);if(p)o.done=P>=d;else{let T=P===0?g:0;m<1&&(T=P===0?Cl(g):UU(b,P,O));const S=Math.abs(T)<=n,_=Math.abs(s-O)<=a;o.done=S&&_}return o.value=o.done?s:O,o},toString:()=>{const P=Math.min(Nk(D),pb),O=$U(T=>D.next(P*T).value,P,30);return P+"ms "+O},toTransition:()=>{}};return D}$v.applyToOptions=e=>{const t=BU(e,100,$v);return e.ease=t.ease,e.duration=Cl(t.duration),e.type="keyframes",e};function c3({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:s,min:o,max:l,restDelta:c=.5,restSpeed:u}){const d=e[0],h={done:!1,value:d},p=S=>o!==void 0&&S<o||l!==void 0&&S>l,g=S=>o===void 0?l:l===void 0||Math.abs(o-S)<Math.abs(l-S)?o:l;let m=r*t;const v=d+m,y=s===void 0?v:s(v);y!==v&&(m=y-d);const w=S=>-m*Math.exp(-S/n),b=S=>y+w(S),D=S=>{const _=w(S),j=b(S);h.done=Math.abs(_)<=c,h.value=h.done?y:j};let P,O;const T=S=>{p(h.value)&&(P=S,O=$v({keyframes:[h.value,g(h.value)],velocity:UU(b,S,h.value),damping:a,stiffness:i,restDelta:c,restSpeed:u}))};return T(0),{calculatedDuration:null,next:S=>{let _=!1;return!O&&P===void 0&&(_=!0,D(S),T(S)),P!==void 0&&S>=P?O.next(S-P):(!_&&D(S),h)}}}function Vie(e,t,r){const n=[],a=r||hu.mix||FU,i=e.length-1;for(let s=0;s<i;s++){let o=a(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||Bo:t;o=Q1(l,o)}n.push(o)}return n}function VU(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const i=e.length;if(db(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=Vie(t,n,a),l=o.length,c=u=>{if(s&&u<e[0])return t[0];let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const h=wp(e[d],e[d+1],u);return o[d](h)};return r?u=>c(du(e[0],e[i-1],u)):c}function zU(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=wp(0,t,n);e.push(ra(r,1,a))}}function qU(e){const t=[0];return zU(t,e.length-1),t}function zie(e,t){return e.map(r=>r*t)}function qie(e,t){return e.map(()=>t||NU).splice(0,e.length-1)}function Bg({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=EU(n)?n.map(VO):VO(n),i={done:!1,value:t[0]},s=zie(r&&r.length===t.length?r:qU(t),e),o=VU(s,t,{ease:Array.isArray(a)?a:qie(t,a)});return{calculatedDuration:e,next:l=>(i.value=o(l),i.done=l>=e,i)}}const Wie=e=>e!==null;function Ek(e,{repeat:t,repeatType:r="loop"},n,a=1){const i=e.filter(Wie),o=a<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!o||n===void 0?i[o]:n}const Hie={decay:c3,inertia:c3,tween:Bg,keyframes:Bg,spring:$v};function WU(e){typeof e.type=="string"&&(e.type=Hie[e.type])}class kk{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const Gie=e=>e/100;class Ck extends kk{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(r=!0)=>{var n,a;if(r){const{motionValue:i}=this.options;i&&i.updatedAt!==Bs.now()&&this.tick(Bs.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(n=this.options).onStop)==null||a.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;WU(t);const{type:r=Bg,repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:s=0}=t;let{keyframes:o}=t;const l=r||Bg;l!==Bg&&typeof o[0]!="number"&&(this.mixKeyframes=Q1(Gie,FU(o[0],o[1])),o=[0,100]);const c=l({...t,keyframes:o});i==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...o].reverse(),velocity:-s})),c.calculatedDuration===null&&(c.calculatedDuration=Nk(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=c}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:a,mixKeyframes:i,mirroredGenerator:s,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return n.next(0);const{delay:c=0,keyframes:u,repeat:d,repeatType:h,repeatDelay:p,type:g,onUpdate:m,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const y=this.currentTime-c*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?y<0:y>a;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let b=this.currentTime,D=n;if(d){const S=Math.min(this.currentTime,a)/o;let _=Math.floor(S),j=S%1;!j&&S>=1&&(j=1),j===1&&_--,_=Math.min(_,d+1),!!(_%2)&&(h==="reverse"?(j=1-j,p&&(j-=p/o)):h==="mirror"&&(D=s)),b=du(0,1,j)*o}const P=w?{done:!1,value:u[0]}:D.next(b);i&&(P.value=i(P.value));let{done:O}=P;!w&&l!==null&&(O=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return T&&g!==c3&&(P.value=Ek(u,this.options,v,this.speed)),m&&m(P.value),T&&this.finish(),P}then(t,r){return this.finished.then(t,r)}get duration(){return oc(this.calculatedDuration)}get time(){return oc(this.currentTime)}set time(t){var r;t=Cl(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Bs.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=oc(this.currentTime))}play(){var a,i;if(this.isStopped)return;const{driver:t=Die,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),(i=(a=this.options).onPlay)==null||i.call(a);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Bs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function Kie(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Vd=e=>e*180/Math.PI,u3=e=>{const t=Vd(Math.atan2(e[1],e[0]));return f3(t)},Yie={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:u3,rotateZ:u3,skewX:e=>Vd(Math.atan(e[1])),skewY:e=>Vd(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},f3=e=>(e=e%360,e<0&&(e+=360),e),YO=u3,XO=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),QO=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Xie={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:XO,scaleY:QO,scale:e=>(XO(e)+QO(e))/2,rotateX:e=>f3(Vd(Math.atan2(e[6],e[5]))),rotateY:e=>f3(Vd(Math.atan2(-e[2],e[0]))),rotateZ:YO,rotate:YO,skewX:e=>Vd(Math.atan(e[4])),skewY:e=>Vd(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function d3(e){return e.includes("scale")?1:0}function h3(e,t){if(!e||e==="none")return d3(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=Xie,a=r;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Yie,a=o}if(!a)return d3(t);const i=n[t],s=a[1].split(",").map(Jie);return typeof i=="function"?i(s):s[i]}const Qie=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return h3(r,t)};function Jie(e){return parseFloat(e.trim())}const cm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],um=new Set(cm),JO=e=>e===lm||e===br,Zie=new Set(["x","y","z"]),ese=cm.filter(e=>!Zie.has(e));function tse(e){const t=[];return ese.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Xd={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>h3(t,"x"),y:(e,{transform:t})=>h3(t,"y")};Xd.translateX=Xd.x;Xd.translateY=Xd.y;const Qd=new Set;let p3=!1,m3=!1,g3=!1;function HU(){if(m3){const e=Array.from(Qd).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=tse(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,s])=>{var o;(o=n.getValue(i))==null||o.set(s)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}m3=!1,p3=!1,Qd.forEach(e=>e.complete(g3)),Qd.clear()}function GU(){Qd.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(m3=!0)})}function rse(){g3=!0,GU(),HU(),g3=!1}class Pk{constructor(t,r,n,a,i,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(Qd.add(this),p3||(p3=!0,aa.read(GU),aa.resolveKeyframes(HU))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;if(t[0]===null){const i=a==null?void 0:a.get(),s=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){const o=n.readValue(r,s);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=s),a&&i===void 0&&a.set(t[0])}Kie(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Qd.delete(this)}cancel(){this.state==="scheduled"&&(Qd.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const nse=e=>e.startsWith("--");function ase(e,t,r){nse(t)?e.style.setProperty(t,r):e.style[t]=r}const ise=vk(()=>window.ScrollTimeline!==void 0),sse={};function ose(e,t){const r=vk(e);return()=>sse[t]??r()}const KU=ose(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),xg=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,ZO={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:xg([0,.65,.55,1]),circOut:xg([.55,0,1,.45]),backIn:xg([.31,.01,.66,-.59]),backOut:xg([.33,1.53,.69,.99])};function YU(e,t){if(e)return typeof e=="function"?KU()?$U(e,t):"ease-out":CU(e)?xg(e):Array.isArray(e)?e.map(r=>YU(r,t)||ZO.easeOut):ZO[e]}function lse(e,t,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:s="loop",ease:o="easeOut",times:l}={},c=void 0){const u={[t]:r};l&&(u.offset=l);const d=YU(o,a);Array.isArray(d)&&(u.easing=d);const h={delay:n,duration:a,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"};return c&&(h.pseudoElement=c),e.animate(u,h)}function jk(e){return typeof e=="function"&&"applyToOptions"in e}function cse({type:e,...t}){return jk(e)&&KU()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class use extends kk{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:a,pseudoElement:i,allowFlatten:s=!1,finalKeyframe:o,onComplete:l}=t;this.isPseudoElement=!!i,this.allowFlatten=s,this.options=t,db(typeof t.type!="string");const c=cse(t);this.animation=lse(r,n,a,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=Ek(a,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(u):ase(r,n,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return oc(Number(t))}get time(){return oc(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Cl(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&ise()?(this.animation.timeline=t,Bo):r(this)}}const XU={anticipate:SU,backInOut:_U,circInOut:TU};function fse(e){return e in XU}function dse(e){typeof e.ease=="string"&&fse(e.ease)&&(e.ease=XU[e.ease])}const eI=10;class hse extends use{constructor(t){dse(t),WU(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:a,element:i,...s}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const o=new Ck({...s,autoplay:!1}),l=Cl(this.finishedTime??this.time);r.setWithVelocity(o.sample(l-eI).value,o.sample(l).value,eI),o.stop()}}const tI=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Kf.test(e)||e==="0")&&!e.startsWith("url("));function pse(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function mse(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],s=tI(a,t),o=tI(i,t);return!s||!o?!1:pse(e)||(r==="spring"||jk(r))&&n}function Ok(e){return mU(e)&&"offsetHeight"in e}const gse=new Set(["opacity","clipPath","filter","transform"]),vse=vk(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function yse(e){var c;const{motionValue:t,name:r,repeatDelay:n,repeatType:a,damping:i,type:s}=e;if(!Ok((c=t==null?void 0:t.owner)==null?void 0:c.current))return!1;const{onUpdate:o,transformTemplate:l}=t.owner.getProps();return vse()&&r&&gse.has(r)&&(r!=="transform"||!l)&&!o&&!n&&a!=="mirror"&&i!==0&&s!=="inertia"}const xse=40;class bse extends kk{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:s="loop",keyframes:o,name:l,motionValue:c,element:u,...d}){var g;super(),this.stop=()=>{var m,v;this._animation&&(this._animation.stop(),(m=this.stopTimeline)==null||m.call(this)),(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=Bs.now();const h={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:s,name:l,motionValue:c,element:u,...d},p=(u==null?void 0:u.KeyframeResolver)||Pk;this.keyframeResolver=new p(o,(m,v,y)=>this.onKeyframesResolved(m,v,h,!y),l,c,u),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(t,r,n,a){this.keyframeResolver=void 0;const{name:i,type:s,velocity:o,delay:l,isHandoff:c,onUpdate:u}=n;this.resolvedAt=Bs.now(),mse(t,i,s,o)||((hu.instantAnimations||!l)&&(u==null||u(Ek(t,n,r))),t[0]=t[t.length-1],n.duration=0,n.repeat=0);const h={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>xse?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},p=!c&&yse(h)?new hse({...h,element:h.motionValue.owner.current}):new Ck(h);p.finished.then(()=>this.notifyFinished()).catch(Bo),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),rse()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}class wse{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t){const r=this.animations.map(n=>n.attachTimeline(t));return()=>{r.forEach((n,a)=>{n&&n(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class _se extends wse{then(t,r){return this.finished.finally(t).then(()=>{})}}const Sse=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Ase(e){const t=Sse.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function QU(e,t,r=1){const[n,a]=Ase(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const s=i.trim();return pU(s)?parseFloat(s):s}return _k(a)?QU(a,t,r+1):a}function Ik(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const JU=new Set(["width","height","top","left","right","bottom",...cm]),Tse={test:e=>e==="auto",parse:e=>e},ZU=e=>t=>t.test(e),eV=[lm,br,lc,rf,yie,vie,Tse],rI=e=>eV.find(ZU(e));function Nse(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||gU(e):!0}const Ese=new Set(["brightness","contrast","saturate","opacity"]);function kse(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(Sk)||[];if(!n)return e;const a=r.replace(n,"");let i=Ese.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+a+")"}const Cse=/\b([a-z-]*)\(.*?\)/gu,v3={...Kf,getAnimatableNone:e=>{const t=e.match(Cse);return t?t.map(kse).join(" "):e}},nI={...lm,transform:Math.round},Pse={rotate:rf,rotateX:rf,rotateY:rf,rotateZ:rf,scale:dx,scaleX:dx,scaleY:dx,scaleZ:dx,skew:rf,skewX:rf,skewY:rf,distance:br,translateX:br,translateY:br,translateZ:br,x:br,y:br,z:br,perspective:br,transformPerspective:br,opacity:Rv,originX:qO,originY:qO,originZ:br},Dk={borderWidth:br,borderTopWidth:br,borderRightWidth:br,borderBottomWidth:br,borderLeftWidth:br,borderRadius:br,radius:br,borderTopLeftRadius:br,borderTopRightRadius:br,borderBottomRightRadius:br,borderBottomLeftRadius:br,width:br,maxWidth:br,height:br,maxHeight:br,top:br,right:br,bottom:br,left:br,padding:br,paddingTop:br,paddingRight:br,paddingBottom:br,paddingLeft:br,margin:br,marginTop:br,marginRight:br,marginBottom:br,marginLeft:br,backgroundPositionX:br,backgroundPositionY:br,...Pse,zIndex:nI,fillOpacity:Rv,strokeOpacity:Rv,numOctaves:nI},jse={...Dk,color:Hi,backgroundColor:Hi,outlineColor:Hi,fill:Hi,stroke:Hi,borderColor:Hi,borderTopColor:Hi,borderRightColor:Hi,borderBottomColor:Hi,borderLeftColor:Hi,filter:v3,WebkitFilter:v3},tV=e=>jse[e];function rV(e,t){let r=tV(e);return r!==v3&&(r=Kf),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const Ose=new Set(["auto","none","0"]);function Ise(e,t,r){let n=0,a;for(;n<e.length&&!a;){const i=e[n];typeof i=="string"&&!Ose.has(i)&&Fv(i).values.length&&(a=e[n]),n++}if(a&&r)for(const i of t)e[i]=rV(r,a)}class Dse extends Pk{constructor(t,r,n,a,i){super(t,r,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),_k(c))){const u=QU(c,r.current);u!==void 0&&(t[l]=u),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!JU.has(n)||t.length!==2)return;const[a,i]=t,s=rI(a),o=rI(i);if(s!==o)if(JO(s)&&JO(o))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else Xd[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)(t[a]===null||Nse(t[a]))&&n.push(a);n.length&&Ise(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Xd[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){var o;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=n.length-1,s=n[i];n[i]=Xd[r](t.measureViewportBox(),window.getComputedStyle(t.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function nV(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const a=(r==null?void 0:r[e])??n.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const aI=30,Lse=e=>!isNaN(parseFloat(e)),Ug={current:void 0};class Mse{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,a=!0)=>{var s,o;const i=Bs.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();a&&((o=this.events.renderRequest)==null||o.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Bs.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Lse(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new yk);const n=this.events[t].add(r);return t==="change"?()=>{n(),aa.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return Ug.current&&Ug.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=Bs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>aI)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,aI);return vU(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function dh(e,t){return new Mse(e,t)}const aV=(e,t)=>t&&typeof e=="number"?t.transform(e):e,{schedule:Lk,cancel:ZBe}=PU(queueMicrotask,!1),hl={x:!1,y:!1};function iV(){return hl.x||hl.y}function Rse(e){return e==="x"||e==="y"?hl[e]?null:(hl[e]=!0,()=>{hl[e]=!1}):hl.x||hl.y?null:(hl.x=hl.y=!0,()=>{hl.x=hl.y=!1})}function sV(e,t){const r=nV(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function iI(e){return!(e.pointerType==="touch"||iV())}function Fse(e,t,r={}){const[n,a,i]=sV(e,r),s=o=>{if(!iI(o))return;const{target:l}=o,c=t(l,o);if(typeof c!="function"||!l)return;const u=d=>{iI(d)&&(c(d),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,a)};return n.forEach(o=>{o.addEventListener("pointerenter",s,a)}),i}const oV=(e,t)=>t?e===t?!0:oV(e,t.parentElement):!1,Mk=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,$se=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Bse(e){return $se.has(e.tagName)||e.tabIndex!==-1}const u2=new WeakSet;function sI(e){return t=>{t.key==="Enter"&&e(t)}}function NS(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Use=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=sI(()=>{if(u2.has(r))return;NS(r,"down");const a=sI(()=>{NS(r,"up")}),i=()=>NS(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function oI(e){return Mk(e)&&!iV()}function Vse(e,t,r={}){const[n,a,i]=sV(e,r),s=o=>{const l=o.currentTarget;if(!oI(o))return;u2.add(l);const c=t(l,o),u=(p,g)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",h),u2.has(l)&&u2.delete(l),oI(p)&&typeof c=="function"&&c(p,{success:g})},d=p=>{u(p,l===window||l===document||r.useGlobalTarget||oV(l,p.target))},h=p=>{u(p,!1)};window.addEventListener("pointerup",d,a),window.addEventListener("pointercancel",h,a)};return n.forEach(o=>{(r.useGlobalTarget?window:o).addEventListener("pointerdown",s,a),Ok(o)&&(o.addEventListener("focus",c=>Use(c,a)),!Bse(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),i}function Rk(e){return mU(e)&&"ownerSVGElement"in e}function lV(e){return Rk(e)&&e.tagName==="svg"}function zse(...e){const t=!Array.isArray(e[0]),r=t?0:-1,n=e[0+r],a=e[1+r],i=e[2+r],s=e[3+r],o=VU(a,i,s);return t?o(n):o}const hi=e=>!!(e&&e.getVelocity),qse=[...eV,Hi,Kf],Wse=e=>qse.find(ZU(e)),b5=F.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class Hse extends F.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=Ok(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Gse({children:e,isPresent:t,anchorX:r}){const n=F.useId(),a=F.useRef(null),i=F.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:s}=F.useContext(b5);return F.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u,right:d}=i.current;if(t||!a.current||!o||!l)return;const h=r==="left"?`left: ${u}`:`right: ${d}`;a.current.dataset.motionPopId=n;const p=document.createElement("style");return s&&(p.nonce=s),document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            ${h}px !important;
            top: ${c}px !important;
          }
        `),()=>{document.head.contains(p)&&document.head.removeChild(p)}},[t]),f.jsx(Hse,{isPresent:t,childRef:a,sizeRef:i,children:F.cloneElement(e,{ref:a})})}const Kse=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:s,anchorX:o})=>{const l=X1(Yse),c=F.useId();let u=!0,d=F.useMemo(()=>(u=!1,{id:c,initial:t,isPresent:r,custom:a,onExitComplete:h=>{l.set(h,!0);for(const p of l.values())if(!p)return;n&&n()},register:h=>(l.set(h,!1),()=>l.delete(h))}),[r,l,n]);return i&&u&&(d={...d}),F.useMemo(()=>{l.forEach((h,p)=>l.set(p,!1))},[r]),F.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),s==="popLayout"&&(e=f.jsx(Gse,{isPresent:r,anchorX:o,children:e})),f.jsx(y5.Provider,{value:d,children:e})};function Yse(){return new Map}function cV(e=!0){const t=F.useContext(y5);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=t,i=F.useId();F.useEffect(()=>{if(e)return a(i)},[e]);const s=F.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,s]:[!0]}const hx=e=>e.key||"";function lI(e){const t=[];return F.Children.forEach(e,r=>{F.isValidElement(r)&&t.push(r)}),t}const f2=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:i="sync",propagate:s=!1,anchorX:o="left"})=>{const[l,c]=cV(s),u=F.useMemo(()=>lI(e),[e]),d=s&&!l?[]:u.map(hx),h=F.useRef(!0),p=F.useRef(u),g=X1(()=>new Map),[m,v]=F.useState(u),[y,w]=F.useState(u);mk(()=>{h.current=!1,p.current=u;for(let P=0;P<y.length;P++){const O=hx(y[P]);d.includes(O)?g.delete(O):g.get(O)!==!0&&g.set(O,!1)}},[y,d.length,d.join("-")]);const b=[];if(u!==m){let P=[...u];for(let O=0;O<y.length;O++){const T=y[O],S=hx(T);d.includes(S)||(P.splice(O,0,T),b.push(T))}return i==="wait"&&b.length&&(P=b),w(lI(P)),v(u),null}const{forceRender:D}=F.useContext(hk);return f.jsx(f.Fragment,{children:y.map(P=>{const O=hx(P),T=s&&!l?!1:u===y||d.includes(O),S=()=>{if(g.has(O))g.set(O,!0);else return;let _=!0;g.forEach(j=>{j||(_=!1)}),_&&(D==null||D(),w(p.current),s&&(c==null||c()),n&&n())};return f.jsx(Kse,{isPresent:T,initial:!h.current||r?void 0:!1,custom:t,presenceAffectsLayout:a,mode:i,onExitComplete:T?void 0:S,anchorX:o,children:P},O)})})},uV=F.createContext({strict:!1}),cI={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},_p={};for(const e in cI)_p[e]={isEnabled:t=>cI[e].some(r=>!!t[r])};function Xse(e){for(const t in e)_p[t]={..._p[t],...e[t]}}const Qse=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function mb(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Qse.has(e)}let fV=e=>!mb(e);function Jse(e){e&&(fV=t=>t.startsWith("on")?!mb(t):e(t))}try{Jse(require("@emotion/is-prop-valid").default)}catch{}function Zse(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(fV(a)||r===!0&&mb(a)||!t&&!mb(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}function eoe(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const w5=F.createContext({});function _5(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Bv(e){return typeof e=="string"||Array.isArray(e)}const Fk=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$k=["initial",...Fk];function S5(e){return _5(e.animate)||$k.some(t=>Bv(e[t]))}function dV(e){return!!(S5(e)||e.variants)}function toe(e,t){if(S5(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Bv(r)?r:void 0,animate:Bv(n)?n:void 0}}return e.inherit!==!1?t:{}}function roe(e){const{initial:t,animate:r}=toe(e,F.useContext(w5));return F.useMemo(()=>({initial:t,animate:r}),[uI(t),uI(r)])}function uI(e){return Array.isArray(e)?e.join(" "):e}const noe=Symbol.for("motionComponentSymbol");function C0(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function aoe(e,t,r){return F.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):C0(r)&&(r.current=n))},[t])}const Bk=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ioe="framerAppearId",hV="data-"+Bk(ioe),pV=F.createContext({});function soe(e,t,r,n,a){var m,v;const{visualElement:i}=F.useContext(w5),s=F.useContext(uV),o=F.useContext(y5),l=F.useContext(b5).reducedMotion,c=F.useRef(null);n=n||s.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:i,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,d=F.useContext(pV);u&&!u.projection&&a&&(u.type==="html"||u.type==="svg")&&ooe(c.current,r,a,d);const h=F.useRef(!1);F.useInsertionEffect(()=>{u&&h.current&&u.update(r,o)});const p=r[hV],g=F.useRef(!!p&&!((m=window.MotionHandoffIsComplete)!=null&&m.call(window,p))&&((v=window.MotionHasOptimisedAnimation)==null?void 0:v.call(window,p)));return mk(()=>{u&&(h.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),Lk.render(u.render),g.current&&u.animationState&&u.animationState.animateChanges())}),F.useEffect(()=>{u&&(!g.current&&u.animationState&&u.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,p)}),g.current=!1))}),u}function ooe(e,t,r,n){const{layoutId:a,layout:i,drag:s,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:mV(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!s||o&&C0(o),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:u,layoutScroll:l,layoutRoot:c})}function mV(e){if(e)return e.options.allowProjection!==!1?e.projection:mV(e.parent)}function loe({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:a}){e&&Xse(e);function i(o,l){let c;const u={...F.useContext(b5),...o,layoutId:coe(o)},{isStatic:d}=u,h=roe(o),p=n(o,d);if(!d&&pk){uoe();const g=foe(u);c=g.MeasureLayout,h.visualElement=soe(a,p,u,t,g.ProjectionNode)}return f.jsxs(w5.Provider,{value:h,children:[c&&h.visualElement?f.jsx(c,{visualElement:h.visualElement,...u}):null,r(a,o,aoe(p,h.visualElement,l),p,d,h.visualElement)]})}i.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const s=F.forwardRef(i);return s[noe]=a,s}function coe({layoutId:e}){const t=F.useContext(hk).id;return t&&e!==void 0?t+"-"+e:e}function uoe(e,t){F.useContext(uV).strict}function foe(e){const{drag:t,layout:r}=_p;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const Uv={};function doe(e){for(const t in e)Uv[t]=e[t],wk(t)&&(Uv[t].isCSSVariable=!0)}function gV(e,{layout:t,layoutId:r}){return um.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Uv[e]||e==="opacity")}const hoe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},poe=cm.length;function moe(e,t,r){let n="",a=!0;for(let i=0;i<poe;i++){const s=cm[i],o=e[s];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(s.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||r){const c=aV(o,Dk[s]);if(!l){a=!1;const u=hoe[s]||s;n+=`${u}(${c}) `}r&&(t[s]=c)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function Uk(e,t,r){const{style:n,vars:a,transformOrigin:i}=e;let s=!1,o=!1;for(const l in t){const c=t[l];if(um.has(l)){s=!0;continue}else if(wk(l)){a[l]=c;continue}else{const u=aV(c,Dk[l]);l.startsWith("origin")?(o=!0,i[l]=u):n[l]=u}}if(t.transform||(s||r?n.transform=moe(t,e.transform,r):n.transform&&(n.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:u=0}=i;n.transformOrigin=`${l} ${c} ${u}`}}const Vk=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function vV(e,t,r){for(const n in t)!hi(t[n])&&!gV(n,r)&&(e[n]=t[n])}function goe({transformTemplate:e},t){return F.useMemo(()=>{const r=Vk();return Uk(r,t,e),Object.assign({},r.vars,r.style)},[t])}function voe(e,t){const r=e.style||{},n={};return vV(n,r,e),Object.assign(n,goe(e,t)),n}function yoe(e,t){const r={},n=voe(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const xoe={offset:"stroke-dashoffset",array:"stroke-dasharray"},boe={offset:"strokeDashoffset",array:"strokeDasharray"};function woe(e,t,r=1,n=0,a=!0){e.pathLength=1;const i=a?xoe:boe;e[i.offset]=br.transform(-n);const s=br.transform(t),o=br.transform(r);e[i.array]=`${s} ${o}`}function yV(e,{attrX:t,attrY:r,attrScale:n,pathLength:a,pathSpacing:i=1,pathOffset:s=0,...o},l,c,u){if(Uk(e,o,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:d,style:h}=e;d.transform&&(h.transform=d.transform,delete d.transform),(h.transform||d.transformOrigin)&&(h.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),h.transform&&(h.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete d.transformBox),t!==void 0&&(d.x=t),r!==void 0&&(d.y=r),n!==void 0&&(d.scale=n),a!==void 0&&woe(d,a,i,s,!1)}const xV=()=>({...Vk(),attrs:{}}),bV=e=>typeof e=="string"&&e.toLowerCase()==="svg";function _oe(e,t,r,n){const a=F.useMemo(()=>{const i=xV();return yV(i,t,bV(n),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};vV(i,e.style,e),a.style={...i,...a.style}}return a}const Soe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function zk(e){return typeof e!="string"||e.includes("-")?!1:!!(Soe.indexOf(e)>-1||/[A-Z]/u.test(e))}function Aoe(e=!1){return(r,n,a,{latestValues:i},s)=>{const l=(zk(r)?_oe:yoe)(n,i,s,r),c=Zse(n,typeof r=="string",e),u=r!==F.Fragment?{...c,...l,ref:a}:{},{children:d}=n,h=F.useMemo(()=>hi(d)?d.get():d,[d]);return F.createElement(r,{...u,children:h})}}function fI(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function qk(e,t,r,n){if(typeof t=="function"){const[a,i]=fI(n);t=t(r!==void 0?r:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=fI(n);t=t(r!==void 0?r:e.custom,a,i)}return t}function d2(e){return hi(e)?e.get():e}function Toe({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,a){return{latestValues:Noe(r,n,a,e),renderState:t()}}const wV=e=>(t,r)=>{const n=F.useContext(w5),a=F.useContext(y5),i=()=>Toe(e,t,n,a);return r?i():X1(i)};function Noe(e,t,r,n){const a={},i=n(e,{});for(const h in i)a[h]=d2(i[h]);let{initial:s,animate:o}=e;const l=S5(e),c=dV(e);t&&c&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),o===void 0&&(o=t.animate));let u=r?r.initial===!1:!1;u=u||s===!1;const d=u?o:s;if(d&&typeof d!="boolean"&&!_5(d)){const h=Array.isArray(d)?d:[d];for(let p=0;p<h.length;p++){const g=qk(e,h[p]);if(g){const{transitionEnd:m,transition:v,...y}=g;for(const w in y){let b=y[w];if(Array.isArray(b)){const D=u?b.length-1:0;b=b[D]}b!==null&&(a[w]=b)}for(const w in m)a[w]=m[w]}}}return a}function Wk(e,t,r){var i;const{style:n}=e,a={};for(const s in n)(hi(n[s])||t.style&&hi(t.style[s])||gV(s,e)||((i=r==null?void 0:r.getValue(s))==null?void 0:i.liveStyle)!==void 0)&&(a[s]=n[s]);return a}const Eoe={useVisualState:wV({scrapeMotionValuesFromProps:Wk,createRenderState:Vk})};function _V(e,t,r){const n=Wk(e,t,r);for(const a in e)if(hi(e[a])||hi(t[a])){const i=cm.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=e[a]}return n}const koe={useVisualState:wV({scrapeMotionValuesFromProps:_V,createRenderState:xV})};function Coe(e,t){return function(n,{forwardMotionProps:a}={forwardMotionProps:!1}){const s={...zk(n)?koe:Eoe,preloadedFeatures:e,useRender:Aoe(a),createVisualElement:t,Component:n};return loe(s)}}function Vv(e,t,r){const n=e.getProps();return qk(n,t,r!==void 0?r:n.custom,e)}const y3=e=>Array.isArray(e);function Poe(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,dh(r))}function joe(e){return y3(e)?e[e.length-1]||0:e}function Ooe(e,t){const r=Vv(e,t);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const s in i){const o=joe(i[s]);Poe(e,s,o)}}function Ioe(e){return!!(hi(e)&&e.add)}function x3(e,t){const r=e.getValue("willChange");if(Ioe(r))return r.add(t);if(!r&&hu.WillChange){const n=new hu.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function SV(e){return e.props[hV]}const Doe=e=>e!==null;function Loe(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(Doe),i=t&&r!=="loop"&&t%2===1?0:a.length-1;return!i||n===void 0?a[i]:n}const Moe={type:"spring",stiffness:500,damping:25,restSpeed:10},Roe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Foe={type:"keyframes",duration:.8},$oe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Boe=(e,{keyframes:t})=>t.length>2?Foe:um.has(e)?e.startsWith("scale")?Roe(t[1]):Moe:$oe;function Uoe({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:s,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const Hk=(e,t,r,n={},a,i)=>s=>{const o=Ik(n,e)||{},l=o.delay||n.delay||0;let{elapsed:c=0}=n;c=c-Cl(l);const u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:h=>{t.set(h),o.onUpdate&&o.onUpdate(h)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:i?void 0:a};Uoe(o)||Object.assign(u,Boe(e,u)),u.duration&&(u.duration=Cl(u.duration)),u.repeatDelay&&(u.repeatDelay=Cl(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(d=!0)),(hu.instantAnimations||hu.skipAnimations)&&(d=!0,u.duration=0,u.delay=0),u.allowFlatten=!o.type&&!o.ease,d&&!i&&t.get()!==void 0){const h=Loe(u.keyframes,o);if(h!==void 0){aa.update(()=>{u.onUpdate(h),u.onComplete()});return}}return o.isSync?new Ck(u):new bse(u)};function Voe({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function Gk(e,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:s,...o}=t;n&&(i=n);const l=[],c=a&&e.animationState&&e.animationState.getState()[a];for(const u in o){const d=e.getValue(u,e.latestValues[u]??null),h=o[u];if(h===void 0||c&&Voe(c,u))continue;const p={delay:r,...Ik(i||{},u)},g=d.get();if(g!==void 0&&!d.isAnimating&&!Array.isArray(h)&&h===g&&!p.velocity)continue;let m=!1;if(window.MotionHandoffAnimation){const y=SV(e);if(y){const w=window.MotionHandoffAnimation(y,u,aa);w!==null&&(p.startTime=w,m=!0)}}x3(e,u),d.start(Hk(u,d,h,e.shouldReduceMotion&&JU.has(u)?{type:!1}:p,e,m));const v=d.animation;v&&l.push(v)}return s&&Promise.all(l).then(()=>{aa.update(()=>{s&&Ooe(e,s)})}),l}function b3(e,t,r={}){var l;const n=Vv(e,t,r.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const i=n?()=>Promise.all(Gk(e,n,r)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=a;return zoe(e,t,u+c,d,h,r)}:()=>Promise.resolve(),{when:o}=a;if(o){const[c,u]=o==="beforeChildren"?[i,s]:[s,i];return c().then(()=>u())}else return Promise.all([i(),s(r.delay)])}function zoe(e,t,r=0,n=0,a=1,i){const s=[],o=(e.variantChildren.size-1)*n,l=a===1?(c=0)=>c*n:(c=0)=>o-c*n;return Array.from(e.variantChildren).sort(qoe).forEach((c,u)=>{c.notify("AnimationStart",t),s.push(b3(c,t,{...i,delay:r+l(u)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(s)}function qoe(e,t){return e.sortNodePosition(t)}function Woe(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(i=>b3(e,i,r));n=Promise.all(a)}else if(typeof t=="string")n=b3(e,t,r);else{const a=typeof t=="function"?Vv(e,t,r.custom):t;n=Promise.all(Gk(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function AV(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const Hoe=$k.length;function TV(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?TV(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<Hoe;r++){const n=$k[r],a=e.props[n];(Bv(a)||a===!1)&&(t[n]=a)}return t}const Goe=[...Fk].reverse(),Koe=Fk.length;function Yoe(e){return t=>Promise.all(t.map(({animation:r,options:n})=>Woe(e,r,n)))}function Xoe(e){let t=Yoe(e),r=dI(),n=!0;const a=l=>(c,u)=>{var h;const d=Vv(e,u,l==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(d){const{transition:p,transitionEnd:g,...m}=d;c={...c,...m,...g}}return c};function i(l){t=l(e)}function s(l){const{props:c}=e,u=TV(e.parent)||{},d=[],h=new Set;let p={},g=1/0;for(let v=0;v<Koe;v++){const y=Goe[v],w=r[y],b=c[y]!==void 0?c[y]:u[y],D=Bv(b),P=y===l?w.isActive:null;P===!1&&(g=v);let O=b===u[y]&&b!==c[y]&&D;if(O&&n&&e.manuallyAnimateOnMount&&(O=!1),w.protectedKeys={...p},!w.isActive&&P===null||!b&&!w.prevProp||_5(b)||typeof b=="boolean")continue;const T=Qoe(w.prevProp,b);let S=T||y===l&&w.isActive&&!O&&D||v>g&&D,_=!1;const j=Array.isArray(b)?b:[b];let N=j.reduce(a(y),{});P===!1&&(N={});const{prevResolvedValues:E={}}=w,k={...E,...N},U=X=>{S=!0,h.has(X)&&(_=!0,h.delete(X)),w.needsAnimating[X]=!0;const V=e.getValue(X);V&&(V.liveStyle=!1)};for(const X in k){const V=N[X],H=E[X];if(p.hasOwnProperty(X))continue;let re=!1;y3(V)&&y3(H)?re=!AV(V,H):re=V!==H,re?V!=null?U(X):h.add(X):V!==void 0&&h.has(X)?U(X):w.protectedKeys[X]=!0}w.prevProp=b,w.prevResolvedValues=N,w.isActive&&(p={...p,...N}),n&&e.blockInitialAnimation&&(S=!1),S&&(!(O&&T)||_)&&d.push(...j.map(X=>({animation:X,options:{type:y}})))}if(h.size){const v={};if(typeof c.initial!="boolean"){const y=Vv(e,Array.isArray(c.initial)?c.initial[0]:c.initial);y&&y.transition&&(v.transition=y.transition)}h.forEach(y=>{const w=e.getBaseTarget(y),b=e.getValue(y);b&&(b.liveStyle=!0),v[y]=w??null}),d.push({animation:v})}let m=!!d.length;return n&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(m=!1),n=!1,m?t(d):Promise.resolve()}function o(l,c){var d;if(r[l].isActive===c)return Promise.resolve();(d=e.variantChildren)==null||d.forEach(h=>{var p;return(p=h.animationState)==null?void 0:p.setActive(l,c)}),r[l].isActive=c;const u=s(l);for(const h in r)r[h].protectedKeys={};return u}return{animateChanges:s,setActive:o,setAnimateFunction:i,getState:()=>r,reset:()=>{r=dI(),n=!0}}}function Qoe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!AV(t,e):!1}function Sd(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function dI(){return{animate:Sd(!0),whileInView:Sd(),whileHover:Sd(),whileTap:Sd(),whileDrag:Sd(),whileFocus:Sd(),exit:Sd()}}class ad{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Joe extends ad{constructor(t){super(t),t.animationState||(t.animationState=Xoe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();_5(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let Zoe=0;class ele extends ad{constructor(){super(...arguments),this.id=Zoe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const tle={animation:{Feature:Joe},exit:{Feature:ele}};function zv(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function ey(e){return{point:{x:e.pageX,y:e.pageY}}}const rle=e=>t=>Mk(t)&&e(t,ey(t));function Vg(e,t,r,n){return zv(e,t,rle(r),n)}function NV({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function nle({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function ale(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}const EV=1e-4,ile=1-EV,sle=1+EV,kV=.01,ole=0-kV,lle=0+kV;function ws(e){return e.max-e.min}function cle(e,t,r){return Math.abs(e-t)<=r}function hI(e,t,r,n=.5){e.origin=n,e.originPoint=ra(t.min,t.max,e.origin),e.scale=ws(r)/ws(t),e.translate=ra(r.min,r.max,e.origin)-e.originPoint,(e.scale>=ile&&e.scale<=sle||isNaN(e.scale))&&(e.scale=1),(e.translate>=ole&&e.translate<=lle||isNaN(e.translate))&&(e.translate=0)}function zg(e,t,r,n){hI(e.x,t.x,r.x,n?n.originX:void 0),hI(e.y,t.y,r.y,n?n.originY:void 0)}function pI(e,t,r){e.min=r.min+t.min,e.max=e.min+ws(t)}function ule(e,t,r){pI(e.x,t.x,r.x),pI(e.y,t.y,r.y)}function mI(e,t,r){e.min=t.min-r.min,e.max=e.min+ws(t)}function qg(e,t,r){mI(e.x,t.x,r.x),mI(e.y,t.y,r.y)}const gI=()=>({translate:0,scale:1,origin:0,originPoint:0}),P0=()=>({x:gI(),y:gI()}),vI=()=>({min:0,max:0}),pa=()=>({x:vI(),y:vI()});function Oo(e){return[e("x"),e("y")]}function ES(e){return e===void 0||e===1}function w3({scale:e,scaleX:t,scaleY:r}){return!ES(e)||!ES(t)||!ES(r)}function kd(e){return w3(e)||CV(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function CV(e){return yI(e.x)||yI(e.y)}function yI(e){return e&&e!=="0%"}function gb(e,t,r){const n=e-r,a=t*n;return r+a}function xI(e,t,r,n,a){return a!==void 0&&(e=gb(e,a,n)),gb(e,r,n)+t}function _3(e,t=0,r=1,n,a){e.min=xI(e.min,t,r,n,a),e.max=xI(e.max,t,r,n,a)}function PV(e,{x:t,y:r}){_3(e.x,t.translate,t.scale,t.originPoint),_3(e.y,r.translate,r.scale,r.originPoint)}const bI=.999999999999,wI=1.0000000000001;function fle(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,s;for(let o=0;o<a;o++){i=r[o],s=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&O0(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,PV(e,s)),n&&kd(i.latestValues)&&O0(e,i.latestValues))}t.x<wI&&t.x>bI&&(t.x=1),t.y<wI&&t.y>bI&&(t.y=1)}function j0(e,t){e.min=e.min+t,e.max=e.max+t}function _I(e,t,r,n,a=.5){const i=ra(e.min,e.max,a);_3(e,t,r,i,n)}function O0(e,t){_I(e.x,t.x,t.scaleX,t.scale,t.originX),_I(e.y,t.y,t.scaleY,t.scale,t.originY)}function jV(e,t){return NV(ale(e.getBoundingClientRect(),t))}function dle(e,t,r){const n=jV(e,r),{scroll:a}=t;return a&&(j0(n.x,a.offset.x),j0(n.y,a.offset.y)),n}const OV=({current:e})=>e?e.ownerDocument.defaultView:null,SI=(e,t)=>Math.abs(e-t);function hle(e,t){const r=SI(e.x,t.x),n=SI(e.y,t.y);return Math.sqrt(r**2+n**2)}class IV{constructor(t,r,{transformPagePoint:n,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=CS(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=hle(d.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:g}=d,{timestamp:m}=Ai;this.history.push({...g,timestamp:m});const{onStart:v,onMove:y}=this.handlers;h||(v&&v(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,d)},this.handlePointerMove=(d,h)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=kS(h,this.transformPagePoint),aa.update(this.updatePoint,!0)},this.handlePointerUp=(d,h)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=CS(d.type==="pointercancel"?this.lastMoveEventInfo:kS(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(d,v),g&&g(d,v)},!Mk(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=a||window;const s=ey(t),o=kS(s,this.transformPagePoint),{point:l}=o,{timestamp:c}=Ai;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=r;u&&u(t,CS(o,this.history)),this.removeListeners=Q1(Vg(this.contextWindow,"pointermove",this.handlePointerMove),Vg(this.contextWindow,"pointerup",this.handlePointerUp),Vg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),pu(this.updatePoint)}}function kS(e,t){return t?{point:t(e.point)}:e}function AI(e,t){return{x:e.x-t.x,y:e.y-t.y}}function CS({point:e},t){return{point:e,delta:AI(e,DV(t)),offset:AI(e,ple(t)),velocity:mle(t,.1)}}function ple(e){return e[0]}function DV(e){return e[e.length-1]}function mle(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=DV(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>Cl(t)));)r--;if(!n)return{x:0,y:0};const i=oc(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const s={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function gle(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?ra(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?ra(r,e,n.max):Math.min(e,r)),e}function TI(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function vle(e,{top:t,left:r,bottom:n,right:a}){return{x:TI(e.x,r,a),y:TI(e.y,t,n)}}function NI(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function yle(e,t){return{x:NI(e.x,t.x),y:NI(e.y,t.y)}}function xle(e,t){let r=.5;const n=ws(e),a=ws(t);return a>n?r=wp(t.min,t.max-n,e.min):n>a&&(r=wp(e.min,e.max-a,t.min)),du(0,1,r)}function ble(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const S3=.35;function wle(e=S3){return e===!1?e=0:e===!0&&(e=S3),{x:EI(e,"left","right"),y:EI(e,"top","bottom")}}function EI(e,t,r){return{min:kI(e,t),max:kI(e,r)}}function kI(e,t){return typeof e=="number"?e:e[t]||0}const _le=new WeakMap;class Sle{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=pa(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(ey(u).point)},i=(u,d)=>{const{drag:h,dragPropagation:p,onDragStart:g}=this.getProps();if(h&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Rse(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Oo(v=>{let y=this.getAxisMotionValue(v).get()||0;if(lc.test(y)){const{projection:w}=this.visualElement;if(w&&w.layout){const b=w.layout.layoutBox[v];b&&(y=ws(b)*(parseFloat(y)/100))}}this.originPoint[v]=y}),g&&aa.postRender(()=>g(u,d)),x3(this.visualElement,"transform");const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},s=(u,d)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:g,onDrag:m}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:v}=d;if(p&&this.currentDirection===null){this.currentDirection=Ale(v),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",d.point,v),this.updateAxis("y",d.point,v),this.visualElement.render(),m&&m(u,d)},o=(u,d)=>this.stop(u,d),l=()=>Oo(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)==null?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new IV(t,{onSessionStart:a,onStart:i,onMove:s,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:OV(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&aa.postRender(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!px(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let s=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(s=gle(s,this.constraints[t],this.elastic[t])),i.set(s)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,a=this.constraints;t&&C0(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=vle(n.layoutBox,t):this.constraints=!1,this.elastic=wle(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Oo(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=ble(n.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!C0(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=dle(n,a.root,this.visualElement.getTransformPagePoint());let s=yle(a.layout.layoutBox,i);if(r){const o=r(nle(s));this.hasMutatedConstraints=!!o,o&&(s=NV(o))}return s}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=Oo(u=>{if(!px(u,r,this.currentDirection))return;let d=l&&l[u]||{};s&&(d={min:0,max:0});const h=a?200:1e6,p=a?40:1e7,g={type:"inertia",velocity:n?t[u]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(u,g)});return Promise.all(c).then(o)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return x3(this.visualElement,t),n.start(Hk(t,n,0,r,this.visualElement,!1))}stopAnimation(){Oo(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Oo(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Oo(r=>{const{drag:n}=this.getProps();if(!px(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:s,max:o}=a.layout.layoutBox[r];i.set(t[r]-ra(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!C0(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Oo(s=>{const o=this.getAxisMotionValue(s);if(o&&this.constraints!==!1){const l=o.get();a[s]=xle({min:l,max:l},this.constraints[s])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Oo(s=>{if(!px(s,t,null))return;const o=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];o.set(ra(l,c,a[s]))})}addListeners(){if(!this.visualElement.current)return;_le.set(this.visualElement,this);const t=this.visualElement.current,r=Vg(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();C0(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),aa.read(n);const s=zv(window,"resize",()=>this.scalePositionWithinConstraints()),o=a.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Oo(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{s(),r(),i(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:s=S3,dragMomentum:o=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:s,dragMomentum:o}}}function px(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function Ale(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class Tle extends ad{constructor(t){super(t),this.removeGroupControls=Bo,this.removeListeners=Bo,this.controls=new Sle(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Bo}unmount(){this.removeGroupControls(),this.removeListeners()}}const CI=e=>(t,r)=>{e&&aa.postRender(()=>e(t,r))};class Nle extends ad{constructor(){super(...arguments),this.removePointerDownListener=Bo}onPointerDown(t){this.session=new IV(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:OV(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:CI(t),onStart:CI(r),onMove:n,onEnd:(i,s)=>{delete this.session,a&&aa.postRender(()=>a(i,s))}}}mount(){this.removePointerDownListener=Vg(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const h2={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function PI(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Km={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(br.test(e))e=parseFloat(e);else return e;const r=PI(e,t.target.x),n=PI(e,t.target.y);return`${r}% ${n}%`}},Ele={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=Kf.parse(e);if(a.length>5)return n;const i=Kf.createTransformer(e),s=typeof a[0]!="number"?1:0,o=r.x.scale*t.x,l=r.y.scale*t.y;a[0+s]/=o,a[1+s]/=l;const c=ra(o,l,.5);return typeof a[2+s]=="number"&&(a[2+s]/=c),typeof a[3+s]=="number"&&(a[3+s]/=c),i(a)}};class kle extends F.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=t;doe(Cle),i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),h2.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,{projection:s}=n;return s&&(s.isPresent=i,a||t.layoutDependency!==r||r===void 0||t.isPresent!==i?s.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?s.promote():s.relegate()||aa.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Lk.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function LV(e){const[t,r]=cV(),n=F.useContext(hk);return f.jsx(kle,{...e,layoutGroup:n,switchLayoutGroup:F.useContext(pV),isPresent:t,safeToRemove:r})}const Cle={borderRadius:{...Km,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Km,borderTopRightRadius:Km,borderBottomLeftRadius:Km,borderBottomRightRadius:Km,boxShadow:Ele};function MV(e,t,r){const n=hi(e)?e:dh(e);return n.start(Hk("",n,t,r)),n.animation}const Ple=(e,t)=>e.depth-t.depth;class jle{constructor(){this.children=[],this.isDirty=!1}add(t){gk(this.children,t),this.isDirty=!0}remove(t){x5(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Ple),this.isDirty=!1,this.children.forEach(t)}}function Ole(e,t){const r=Bs.now(),n=({timestamp:a})=>{const i=a-r;i>=t&&(pu(n),e(i-t))};return aa.setup(n,!0),()=>pu(n)}const RV=["TopLeft","TopRight","BottomLeft","BottomRight"],Ile=RV.length,jI=e=>typeof e=="string"?parseFloat(e):e,OI=e=>typeof e=="number"||br.test(e);function Dle(e,t,r,n,a,i){a?(e.opacity=ra(0,r.opacity??1,Lle(n)),e.opacityExit=ra(t.opacity??1,0,Mle(n))):i&&(e.opacity=ra(t.opacity??1,r.opacity??1,n));for(let s=0;s<Ile;s++){const o=`border${RV[s]}Radius`;let l=II(t,o),c=II(r,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||OI(l)===OI(c)?(e[o]=Math.max(ra(jI(l),jI(c),n),0),(lc.test(c)||lc.test(l))&&(e[o]+="%")):e[o]=c}(t.rotate||r.rotate)&&(e.rotate=ra(t.rotate||0,r.rotate||0,n))}function II(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Lle=FV(0,.5,AU),Mle=FV(.5,.95,Bo);function FV(e,t,r){return n=>n<e?0:n>t?1:r(wp(e,t,n))}function DI(e,t){e.min=t.min,e.max=t.max}function To(e,t){DI(e.x,t.x),DI(e.y,t.y)}function LI(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function MI(e,t,r,n,a){return e-=t,e=gb(e,1/r,n),a!==void 0&&(e=gb(e,1/a,n)),e}function Rle(e,t=0,r=1,n=.5,a,i=e,s=e){if(lc.test(t)&&(t=parseFloat(t),t=ra(s.min,s.max,t/100)-s.min),typeof t!="number")return;let o=ra(i.min,i.max,n);e===i&&(o-=t),e.min=MI(e.min,t,r,o,a),e.max=MI(e.max,t,r,o,a)}function RI(e,t,[r,n,a],i,s){Rle(e,t[r],t[n],t[a],t.scale,i,s)}const Fle=["x","scaleX","originX"],$le=["y","scaleY","originY"];function FI(e,t,r,n){RI(e.x,t,Fle,r?r.x:void 0,n?n.x:void 0),RI(e.y,t,$le,r?r.y:void 0,n?n.y:void 0)}function $I(e){return e.translate===0&&e.scale===1}function $V(e){return $I(e.x)&&$I(e.y)}function BI(e,t){return e.min===t.min&&e.max===t.max}function Ble(e,t){return BI(e.x,t.x)&&BI(e.y,t.y)}function UI(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function BV(e,t){return UI(e.x,t.x)&&UI(e.y,t.y)}function VI(e){return ws(e.x)/ws(e.y)}function zI(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Ule{constructor(){this.members=[]}add(t){gk(this.members,t),t.scheduleRender()}remove(t){if(x5(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Vle(e,t,r){let n="";const a=e.x.translate/t.x,i=e.y.translate/t.y,s=(r==null?void 0:r.z)||0;if((a||i||s)&&(n=`translate3d(${a}px, ${i}px, ${s}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:h,skewX:p,skewY:g}=r;c&&(n=`perspective(${c}px) ${n}`),u&&(n+=`rotate(${u}deg) `),d&&(n+=`rotateX(${d}deg) `),h&&(n+=`rotateY(${h}deg) `),p&&(n+=`skewX(${p}deg) `),g&&(n+=`skewY(${g}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const PS=["","X","Y","Z"],zle={visibility:"hidden"},qle=1e3;let Wle=0;function jS(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function UV(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=SV(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",aa,!(a||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&UV(n)}function VV({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(s={},o=t==null?void 0:t()){this.id=Wle++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Kle),this.nodes.forEach(Zle),this.nodes.forEach(ece),this.nodes.forEach(Yle)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new jle)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new yk),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l&&l.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=Rk(s)&&!lV(s),this.instance=s;const{layoutId:o,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),e){let u;const d=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=Ole(d,250),h2.hasAnimatedSinceResize&&(h2.hasAnimatedSinceResize=!1,this.nodes.forEach(WI))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||c.getDefaultTransition()||ice,{onLayoutAnimationStart:m,onLayoutAnimationComplete:v}=c.getProps(),y=!this.targetLayout||!BV(this.targetLayout,p),w=!d&&h;if(this.options.layoutRoot||this.resumeFrom||w||d&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(u,w);const b={...Ik(g,"layout"),onPlay:m,onComplete:v};(c.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else d||WI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),pu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(tce),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&UV(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(qI);return}this.isUpdating||this.nodes.forEach(Qle),this.isUpdating=!1,this.nodes.forEach(Jle),this.nodes.forEach(Hle),this.nodes.forEach(Gle),this.clearAllSnapshots();const o=Bs.now();Ai.delta=du(0,1e3/60,o-Ai.timestamp),Ai.timestamp=o,Ai.isProcessing=!0,wS.update.process(Ai),wS.preRender.process(Ai),wS.render.process(Ai),Ai.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Lk.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Xle),this.sharedNodes.forEach(rce)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,aa.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){aa.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ws(this.snapshot.measuredBox.x)&&!ws(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=pa(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&this.instance){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!a)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!$V(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;s&&this.instance&&(o||kd(this.latestValues)||u)&&(a(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),sce(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:s}=this.options;if(!s)return pa();const o=s.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(oce))){const{scroll:u}=this.root;u&&(j0(o.x,u.offset.x),j0(o.y,u.offset.y))}return o}removeElementScroll(s){var l;const o=pa();if(To(o,s),(l=this.scroll)!=null&&l.wasRoot)return o;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:h}=u;u!==this.root&&d&&h.layoutScroll&&(d.wasRoot&&To(o,s),j0(o.x,d.offset.x),j0(o.y,d.offset.y))}return o}applyTransform(s,o=!1){const l=pa();To(l,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&O0(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),kd(u.latestValues)&&O0(l,u.latestValues)}return kd(this.latestValues)&&O0(l,this.latestValues),l}removeTransform(s){const o=pa();To(o,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!kd(c.latestValues))continue;w3(c.latestValues)&&c.updateSnapshot();const u=pa(),d=c.measurePageBox();To(u,d),FI(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return kd(this.latestValues)&&FI(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ai.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var h;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(s||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:d}=this.options;if(!(!this.layout||!(u||d))){if(this.resolvedRelativeTargetAt=Ai.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pa(),this.relativeTargetOrigin=pa(),qg(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),To(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=pa(),this.targetWithTransforms=pa()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ule(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):To(this.target,this.layout.layoutBox),PV(this.target,this.targetDelta)):To(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pa(),this.relativeTargetOrigin=pa(),qg(this.relativeTargetOrigin,this.target,p.target),To(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||w3(this.parent.latestValues)||CV(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var g;const s=this.getLead(),o=!!this.resumingFrom||this!==s;let l=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Ai.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;To(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,h=this.treeScale.y;fle(this.layoutCorrected,this.treeScale,this.path,o),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=pa());const{target:p}=s;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(LI(this.prevProjectionDelta.x,this.projectionDelta.x),LI(this.prevProjectionDelta.y,this.projectionDelta.y)),zg(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==h||!zI(this.projectionDelta.x,this.prevProjectionDelta.x)||!zI(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=P0(),this.projectionDelta=P0(),this.projectionDeltaWithTransform=P0()}setAnimationOrigin(s,o=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=P0();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=pa(),p=l?l.source:void 0,g=this.layout?this.layout.source:void 0,m=p!==g,v=this.getStack(),y=!v||v.members.length<=1,w=!!(m&&!y&&this.options.crossfade===!0&&!this.path.some(ace));this.animationProgress=0;let b;this.mixTargetDelta=D=>{const P=D/1e3;HI(d.x,s.x,P),HI(d.y,s.y,P),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(qg(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),nce(this.relativeTarget,this.relativeTargetOrigin,h,P),b&&Ble(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=pa()),To(b,this.relativeTarget)),m&&(this.animationValues=u,Dle(u,c,this.latestValues,P,w,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){var o,l,c;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(!1),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(!1),this.pendingAnimation&&(pu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=aa.update(()=>{h2.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=dh(0)),this.currentAnimation=MV(this.motionValue,[0,1e3],{...s,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),s.onUpdate&&s.onUpdate(u)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(qle),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:u}=s;if(!(!o||!l||!c)){if(this!==s&&this.layout&&c&&zV(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||pa();const d=ws(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+d;const h=ws(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}To(o,l),O0(o,u),zg(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new Ule),this.sharedNodes.get(s).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var o;const{layoutId:s}=this.options;return s?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:s}=this.options;return s?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&jS("z",s,c,this.animationValues);for(let u=0;u<PS.length;u++)jS(`rotate${PS[u]}`,s,c,this.animationValues),jS(`skew${PS[u]}`,s,c,this.animationValues);s.render();for(const u in c)s.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);s.scheduleRender()}getProjectionStyles(s){if(!this.instance||this.isSVG)return;if(!this.isVisible)return zle;const o={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,o.opacity="",o.pointerEvents=d2(s==null?void 0:s.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none",o;const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){const p={};return this.options.layoutId&&(p.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,p.pointerEvents=d2(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!kd(this.latestValues)&&(p.transform=l?l({},""):"none",this.hasProjected=!1),p}const u=c.animationValues||c.latestValues;this.applyTransformsToTarget(),o.transform=Vle(this.projectionDeltaWithTransform,this.treeScale,u),l&&(o.transform=l(u,o.transform));const{x:d,y:h}=this.projectionDelta;o.transformOrigin=`${d.origin*100}% ${h.origin*100}% 0`,c.animationValues?o.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const p in Uv){if(u[p]===void 0)continue;const{correct:g,applyTo:m,isCSSVariable:v}=Uv[p],y=o.transform==="none"?u[p]:g(u[p],c);if(m){const w=m.length;for(let b=0;b<w;b++)o[m[b]]=y}else v?this.options.visualElement.renderState.vars[p]=y:o[p]=y}return this.options.layoutId&&(o.pointerEvents=c===this?d2(s==null?void 0:s.pointerEvents)||"":"none"),o}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)==null?void 0:o.stop(!1)}),this.root.nodes.forEach(qI),this.root.sharedNodes.clear()}}}function Hle(e){e.updateLayout()}function Gle(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:i}=e.options,s=t.source!==e.layout.source;i==="size"?Oo(d=>{const h=s?t.measuredBox[d]:t.layoutBox[d],p=ws(h);h.min=n[d].min,h.max=h.min+p}):zV(i,t.layoutBox,n)&&Oo(d=>{const h=s?t.measuredBox[d]:t.layoutBox[d],p=ws(n[d]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+p)});const o=P0();zg(o,n,t.layoutBox);const l=P0();s?zg(l,e.applyTransform(a,!0),t.measuredBox):zg(l,n,t.layoutBox);const c=!$V(o);let u=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:p}=d;if(h&&p){const g=pa();qg(g,t.layoutBox,h.layoutBox);const m=pa();qg(m,n,p.layoutBox),BV(g,m)||(u=!0),d.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=g,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function Kle(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Yle(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Xle(e){e.clearSnapshot()}function qI(e){e.clearMeasurements()}function Qle(e){e.isLayoutDirty=!1}function Jle(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function WI(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Zle(e){e.resolveTargetDelta()}function ece(e){e.calcProjection()}function tce(e){e.resetSkewAndRotation()}function rce(e){e.removeLeadSnapshot()}function HI(e,t,r){e.translate=ra(t.translate,0,r),e.scale=ra(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function GI(e,t,r,n){e.min=ra(t.min,r.min,n),e.max=ra(t.max,r.max,n)}function nce(e,t,r,n){GI(e.x,t.x,r.x,n),GI(e.y,t.y,r.y,n)}function ace(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const ice={duration:.45,ease:[.4,0,.1,1]},KI=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),YI=KI("applewebkit/")&&!KI("chrome/")?Math.round:Bo;function XI(e){e.min=YI(e.min),e.max=YI(e.max)}function sce(e){XI(e.x),XI(e.y)}function zV(e,t,r){return e==="position"||e==="preserve-aspect"&&!cle(VI(t),VI(r),.2)}function oce(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const lce=VV({attachResizeListener:(e,t)=>zv(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),OS={current:void 0},qV=VV({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!OS.current){const e=new lce({});e.mount(window),e.setOptions({layoutScroll:!0}),OS.current=e}return OS.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),cce={pan:{Feature:Nle},drag:{Feature:Tle,ProjectionNode:qV,MeasureLayout:LV}};function QI(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=n[a];i&&aa.postRender(()=>i(t,ey(t)))}class uce extends ad{mount(){const{current:t}=this.node;t&&(this.unmount=Fse(t,(r,n)=>(QI(this.node,n,"Start"),a=>QI(this.node,a,"End"))))}unmount(){}}class fce extends ad{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Q1(zv(this.node.current,"focus",()=>this.onFocus()),zv(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function JI(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=n[a];i&&aa.postRender(()=>i(t,ey(t)))}class dce extends ad{mount(){const{current:t}=this.node;t&&(this.unmount=Vse(t,(r,n)=>(JI(this.node,n,"Start"),(a,{success:i})=>JI(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const A3=new WeakMap,IS=new WeakMap,hce=e=>{const t=A3.get(e.target);t&&t(e)},pce=e=>{e.forEach(hce)};function mce({root:e,...t}){const r=e||document;IS.has(r)||IS.set(r,{});const n=IS.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(pce,{root:e,...t})),n[a]}function gce(e,t,r){const n=mce(t);return A3.set(e,r),n.observe(e),()=>{A3.delete(e),n.unobserve(e)}}const vce={some:0,all:1};class yce extends ad{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=t,s={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:vce[a]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),h=c?u:d;h&&h(l)};return gce(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(xce(t,r))&&this.startObserver()}unmount(){}}function xce({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const bce={inView:{Feature:yce},tap:{Feature:dce},focus:{Feature:fce},hover:{Feature:uce}},wce={layout:{ProjectionNode:qV,MeasureLayout:LV}},T3={current:null},WV={current:!1};function _ce(){if(WV.current=!0,!!pk)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>T3.current=e.matches;e.addListener(t),t()}else T3.current=!1}const qv=new WeakMap;function Sce(e,t,r){for(const n in t){const a=t[n],i=r[n];if(hi(a))e.addValue(n,a);else if(hi(i))e.addValue(n,dh(a,{owner:e}));else if(i!==a)if(e.hasValue(n)){const s=e.getValue(n);s.liveStyle===!0?s.jump(a):s.hasAnimated||s.set(a)}else{const s=e.getStaticValue(n);e.addValue(n,dh(s!==void 0?s:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const ZI=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class HV{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Pk,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Bs.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,aa.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=S5(r),this.isVariantNode=dV(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in d){const p=d[h];l[h]!==void 0&&hi(p)&&p.set(l[h],!1)}}mount(t){this.current=t,qv.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),WV.current||_ce(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:T3.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),pu(this.notifyUpdate),pu(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=um.has(t);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&aa.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),i(),s&&s(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in _p){const r=_p[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):pa()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<ZI.length;n++){const a=ZI[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,s=t[i];s&&(this.propEventSubscriptions[a]=this.on(a,s))}this.prevMotionValues=Sce(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=dh(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(pU(n)||gU(n))?n=parseFloat(n):!Wse(n)&&Kf.test(r)&&(n=rV(t,r)),this.setBaseTarget(t,hi(n)?n.get():n)),hi(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const s=qk(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);s&&(n=s[t])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!hi(a)?a:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new yk),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class GV extends HV{constructor(){super(...arguments),this.KeyframeResolver=Dse}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;hi(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function KV(e,{style:t,vars:r},n,a){Object.assign(e.style,t,a&&a.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}function Ace(e){return window.getComputedStyle(e)}class YV extends GV{constructor(){super(...arguments),this.type="html",this.renderInstance=KV}readValueFromInstance(t,r){var n;if(um.has(r))return(n=this.projection)!=null&&n.isProjecting?d3(r):Qie(t,r);{const a=Ace(t),i=(wk(r)?a.getPropertyValue(r):a[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return jV(t,r)}build(t,r,n){Uk(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return Wk(t,r,n)}}const XV=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Tce(e,t,r,n){KV(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(XV.has(a)?a:Bk(a),t.attrs[a])}class QV extends GV{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=pa}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(um.has(r)){const n=tV(r);return n&&n.default||0}return r=XV.has(r)?r:Bk(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return _V(t,r,n)}build(t,r,n){yV(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,a){Tce(t,r,n,a)}mount(t){this.isSVGTag=bV(t.tagName),super.mount(t)}}const Nce=(e,t)=>zk(e)?new QV(t):new YV(t,{allowProjection:e!==F.Fragment}),Ece=Coe({...tle,...bce,...cce,...wce},Nce),Gn=eoe(Ece);function N3(e){const t=X1(()=>dh(e)),{isStatic:r}=F.useContext(b5);if(r){const[,n]=F.useState(e);F.useEffect(()=>t.on("change",n),[])}return t}function JV(e,t){const r=N3(t()),n=()=>r.set(t());return n(),mk(()=>{const a=()=>aa.preRender(n,!1,!0),i=e.map(s=>s.on("change",a));return()=>{i.forEach(s=>s()),pu(n)}}),r}function kce(e){Ug.current=[],e();const t=JV(Ug.current,e);return Ug.current=void 0,t}function eD(e,t,r,n){if(typeof e=="function")return kce(e);const a=typeof t=="function"?t:zse(t,r,n);return Array.isArray(e)?tD(e,a):tD([e],([i])=>a(i))}function tD(e,t){const r=X1(()=>[]);return JV(e,()=>{r.length=0;const n=e.length;for(let a=0;a<n;a++)r[a]=e[a].get();return t(r)})}function Kk(e){return typeof e=="object"&&!Array.isArray(e)}function ZV(e,t,r,n){return typeof e=="string"&&Kk(t)?nV(e,r,n):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function Cce(e,t,r){return e*(t+1)}function rD(e,t,r,n){return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?r:n.get(t)??e}function Pce(e,t,r){for(let n=0;n<e.length;n++){const a=e[n];a.at>t&&a.at<r&&(x5(e,a),n--)}}function jce(e,t,r,n,a,i){Pce(e,a,i);for(let s=0;s<t.length;s++)e.push({value:t[s],at:ra(a,i,n[s]),easing:kU(r,s)})}function Oce(e,t){for(let r=0;r<e.length;r++)e[r]=e[r]/(t+1)}function Ice(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const Dce="easeInOut";function Lce(e,{defaultTransition:t={},...r}={},n,a){const i=t.duration||.3,s=new Map,o=new Map,l={},c=new Map;let u=0,d=0,h=0;for(let p=0;p<e.length;p++){const g=e[p];if(typeof g=="string"){c.set(g,d);continue}else if(!Array.isArray(g)){c.set(g.name,rD(d,g.at,u,c));continue}let[m,v,y={}]=g;y.at!==void 0&&(d=rD(d,y.at,u,c));let w=0;const b=(D,P,O,T=0,S=0)=>{const _=Mce(D),{delay:j=0,times:N=qU(_),type:E="keyframes",repeat:k,repeatType:U,repeatDelay:G=0,...z}=P;let{ease:X=t.ease||"easeOut",duration:V}=P;const H=typeof j=="function"?j(T,S):j,re=_.length,ee=jk(E)?E:a==null?void 0:a[E];if(re<=2&&ee){let K=100;if(re===2&&$ce(_)){const he=_[1]-_[0];K=Math.abs(he)}const J={...z};V!==void 0&&(J.duration=Cl(V));const se=BU(J,K,ee);X=se.ease,V=se.duration}V??(V=i);const I=d+H;N.length===1&&N[0]===0&&(N[1]=1);const M=N.length-_.length;if(M>0&&zU(N,M),_.length===1&&_.unshift(null),k){V=Cce(V,k);const K=[..._],J=[...N];X=Array.isArray(X)?[...X]:[X];const se=[...X];for(let he=0;he<k;he++){_.push(...K);for(let ie=0;ie<K.length;ie++)N.push(J[ie]+(he+1)),X.push(ie===0?"linear":kU(se,ie-1))}Oce(N,k)}const q=I+V;jce(O,_,X,N,I,q),w=Math.max(H+V,w),h=Math.max(q,h)};if(hi(m)){const D=nD(m,o);b(v,y,aD("default",D))}else{const D=ZV(m,v,n,l),P=D.length;for(let O=0;O<P;O++){v=v,y=y;const T=D[O],S=nD(T,o);for(const _ in v)b(v[_],Rce(y,_),aD(_,S),O,P)}}u=d,d+=w}return o.forEach((p,g)=>{for(const m in p){const v=p[m];v.sort(Ice);const y=[],w=[],b=[];for(let P=0;P<v.length;P++){const{at:O,value:T,easing:S}=v[P];y.push(T),w.push(wp(0,h,O)),b.push(S||"easeOut")}w[0]!==0&&(w.unshift(0),y.unshift(y[0]),b.unshift(Dce)),w[w.length-1]!==1&&(w.push(1),y.push(null)),s.has(g)||s.set(g,{keyframes:{},transition:{}});const D=s.get(g);D.keyframes[m]=y,D.transition[m]={...t,duration:h,ease:b,times:w,...r}}}),s}function nD(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function aD(e,t){return t[e]||(t[e]=[]),t[e]}function Mce(e){return Array.isArray(e)?e:[e]}function Rce(e,t){return e&&e[t]?{...e,...e[t]}:{...e}}const Fce=e=>typeof e=="number",$ce=e=>e.every(Fce);function Bce(e,t){return e in t}class Uce extends HV{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,r){if(Bce(r,t)){const n=t[r];if(typeof n=="string"||typeof n=="number")return n}}getBaseTargetFromProps(){}removeValueFromRenderState(t,r){delete r.output[t]}measureInstanceViewportBox(){return pa()}build(t,r){Object.assign(t.output,r)}renderInstance(t,{output:r}){Object.assign(t,r)}sortInstanceNodePosition(){return 0}}function Vce(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},r=Rk(e)&&!lV(e)?new QV(t):new YV(t);r.mount(e),qv.set(e,r)}function zce(e){const t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},r=new Uce(t);r.mount(e),qv.set(e,r)}function qce(e,t){return hi(e)||typeof e=="number"||typeof e=="string"&&!Kk(t)}function ez(e,t,r,n){const a=[];if(qce(e,t))a.push(MV(e,Kk(t)&&t.default||t,r&&(r.default||r)));else{const i=ZV(e,t,n),s=i.length;for(let o=0;o<s;o++){const l=i[o],c=l instanceof Element?Vce:zce;qv.has(l)||c(l);const u=qv.get(l),d={...r};"delay"in d&&typeof d.delay=="function"&&(d.delay=d.delay(o,s)),a.push(...Gk(u,{...t,transition:d},{}))}}return a}function Wce(e,t,r){const n=[];return Lce(e,t,r,{spring:$v}).forEach(({keyframes:i,transition:s},o)=>{n.push(...ez(o,i,s))}),n}function Hce(e){return Array.isArray(e)&&e.some(Array.isArray)}function Gce(e){function t(r,n,a){let i=[];return Hce(r)?i=Wce(r,n,e):i=ez(r,n,a,e),new _se(i)}return t}const iD=Gce(),Kce=()=>{const{user:e,logout:t}=ba(),r=em(),{isDarkMode:n}=Zr(),[a,i]=F.useState(!1),s=p=>p.split(" ").map(g=>g[0]).join("").toUpperCase().slice(0,2),o=async()=>{r("/login"),t()},l=()=>{i(!a)},c=()=>{i(!1)},u=()=>{switch(e==null?void 0:e.role){case"fahiz":return"Fahiz Stock";case"aphy":return"APHY Stock";case"supply_serve":default:return"Supply & Serve"}},d=[{to:"/",icon:f.jsx($Z,{size:20}),label:"Dashboard",roles:["admin","manager"]},{to:"/add",icon:f.jsx(mi,{size:20}),label:"Add",roles:["admin","manager","staff"]},{to:"/stock",icon:f.jsx(M4,{size:20}),label:"Inbound",roles:["admin","manager","staff"]},{to:"/outbound-stock",icon:f.jsx(zZ,{size:20}),label:"Outbound",roles:["admin","manager","staff"]},{to:"/inventory",icon:f.jsx(OZ,{size:20}),label:"Inventory",roles:["admin","manager"]},{to:"/jobs",icon:f.jsx(p9,{size:20}),label:"Jobs",roles:["admin","manager","staff"]},{to:"/warehouse-locations",icon:f.jsx(wE,{size:20}),label:"Locations",roles:["admin","manager","staff"]},{to:"/orders",icon:f.jsx(HZ,{size:20}),label:"Orders",roles:[""]},{to:"/reports-analytics",icon:f.jsx(h9,{size:20}),label:"Reports",roles:["admin","manager","staff"]},{to:"/warehouse-operations",icon:f.jsx(PZ,{size:20}),label:"Logs",roles:["admin","manager","staff"]},{to:"/settings",icon:f.jsx(WZ,{size:20}),label:"Settings",roles:["admin","manager","staff"]},{to:"/supply-serve",icon:f.jsx(M4,{size:20}),label:u(),roles:["supply_serve","fahiz","aphy"]}],h=e?d.filter(p=>p.roles.includes(e.role)):[];return f.jsxs(Gn.header,{initial:{y:-100},animate:{y:0},transition:{type:"spring",stiffness:100},className:`${n?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} border-b sticky top-0 z-10`,children:[f.jsx("div",{className:"container mx-auto px-4 md:px-6 lg:px-8",children:f.jsxs("div",{className:"flex items-center justify-between h-16",children:[f.jsx(Gn.div,{className:"flex items-center",whileHover:{scale:1.02},transition:{type:"spring",stiffness:400,damping:10},children:f.jsx(uS,{to:"/",className:"flex items-center gap-2 font-semibold text-lg",children:f.jsx(Gn.span,{className:`font-bold ${n?"text-blue-400":"text-blue-600"}`,whileHover:{scale:1.05},transition:{type:"spring",stiffness:400,damping:10},children:"AZTEC"})})}),f.jsx("nav",{className:"hidden md:flex items-center justify-center flex-1 space-x-1",children:h.map((p,g)=>f.jsx(Gn.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:g*.1},children:f.jsx("div",{className:"group relative",children:f.jsx(uS,{to:p.to,className:({isActive:m})=>`flex items-center h-10 rounded-lg transition-all duration-300 overflow-hidden ${m?`px-3 ${n?"bg-slate-700 text-white":"bg-blue-100 text-blue-700"}`:`group-hover:px-3 ${n?"text-slate-300 hover:bg-slate-700 hover:text-white":"text-slate-700 hover:bg-slate-100"}`}`,...p.to==="/"?{end:!0}:{},children:({isActive:m})=>f.jsxs(f.Fragment,{children:[f.jsx(Gn.div,{className:"flex items-center justify-center w-10 h-10 flex-shrink-0",whileHover:{scale:1.05},whileTap:{scale:.95},children:p.icon}),f.jsx("span",{className:`text-sm font-medium whitespace-nowrap transition-all duration-300 overflow-hidden ${m?"opacity-100 w-auto ml-1":"opacity-0 w-0 group-hover:opacity-100 group-hover:w-auto group-hover:ml-1"}`,children:p.label})]})})})},p.to))}),f.jsxs("div",{className:"flex items-center gap-4",children:[e&&f.jsxs(Gn.div,{className:"hidden md:flex items-center gap-3",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},children:[f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:`text-sm font-medium ${n?"text-white":"text-slate-700"}`,children:e.name}),f.jsx("p",{className:`text-xs ${n?"text-slate-400":"text-slate-500"} capitalize`,children:e.role})]}),f.jsx(Gn.div,{className:`h-8 w-8 rounded-full overflow-hidden ${n?"bg-blue-900/50":"bg-blue-100"} flex items-center justify-center`,whileHover:{scale:1.1},whileTap:{scale:.9},children:f.jsx("span",{className:`text-sm font-semibold ${n?"text-blue-400":"text-blue-600"}`,children:s(e.name)})}),f.jsx(Gn.button,{onClick:o,className:`p-2 ${n?"text-slate-300 hover:text-red-400 hover:bg-slate-700":"text-slate-600 hover:text-red-600 hover:bg-slate-100"} rounded-full transition-colors`,"aria-label":"Logout",whileHover:{scale:1.1},whileTap:{scale:.9},children:f.jsx(Nj,{size:20})})]}),f.jsx(Gn.button,{onClick:l,className:`md:hidden p-2 ${n?"text-slate-300 hover:bg-slate-700":"text-slate-600 hover:bg-slate-100"} rounded-lg`,"aria-label":a?"Close menu":"Open menu",whileHover:{scale:1.1},whileTap:{scale:.9},children:a?f.jsx(hp,{size:24}):f.jsx(VZ,{size:24})})]})]})}),f.jsx(f2,{children:a&&f.jsx(Gn.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:`md:hidden ${n?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} border-t`,children:f.jsxs("div",{className:"container mx-auto px-4 py-3 space-y-1",children:[h.map((p,g)=>f.jsx(Gn.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:g*.1},children:f.jsx(uS,{to:p.to,className:({isActive:m})=>`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${m?n?"bg-slate-700 text-white":"bg-blue-100 text-blue-700":n?"text-slate-300 hover:bg-slate-700 hover:text-white":"text-slate-700 hover:bg-slate-100"}`,onClick:c,...p.to==="/"?{end:!0}:{},children:f.jsxs(Gn.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-3",children:[p.icon,f.jsx("span",{className:"text-sm font-medium",children:p.label})]})})},p.to)),f.jsx(Gn.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:`border-t ${n?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:e&&f.jsxs("div",{className:"flex items-center justify-between py-2",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Gn.div,{className:`h-8 w-8 rounded-full overflow-hidden ${n?"bg-blue-900/50":"bg-blue-100"} flex items-center justify-center`,whileHover:{scale:1.1},whileTap:{scale:.9},children:f.jsx("span",{className:`text-sm font-semibold ${n?"text-blue-400":"text-blue-600"}`,children:s(e.name)})}),f.jsxs("div",{children:[f.jsx("p",{className:`text-sm font-medium ${n?"text-white":"text-slate-700"}`,children:e.name}),f.jsx("p",{className:`text-xs ${n?"text-slate-400":"text-slate-500"} capitalize`,children:e.role})]})]}),f.jsxs(Gn.button,{onClick:o,className:`flex items-center gap-2 px-3 py-2 ${n?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-red-50"} rounded-lg transition-colors`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[f.jsx(Nj,{size:18}),f.jsx("span",{children:"Logout"})]})]})})]})})})]})},Yce=()=>{const{isAuthenticated:e}=ba(),t=em(),{isDarkMode:r}=Zr();return ze.useEffect(()=>{e||t("/login")},[e,t]),e?f.jsxs("div",{className:`flex flex-col min-h-screen ${r?"bg-slate-900":"bg-slate-50"}`,children:[f.jsx(Kce,{}),f.jsx("main",{className:"flex-grow container mx-auto px-4 py-6 md:px-6 lg:px-8",children:f.jsx(fZ,{})})]}):null},tz=({message:e,type:t,onClose:r,duration:n=3e3})=>{const[a,i]=F.useState(!1),[s,o]=F.useState(!1);F.useEffect(()=>{requestAnimationFrame(()=>{o(!0)});const d=setTimeout(()=>{i(!0),setTimeout(r,300)},n);return()=>clearTimeout(d)},[n,r]);const l={success:f.jsx(D4,{className:"text-green-500",size:20}),error:f.jsx(Ej,{className:"text-red-500",size:20}),warning:f.jsx(ch,{className:"text-yellow-500",size:20}),info:f.jsx(FZ,{className:"text-blue-500",size:20})},c={success:"bg-green-50 border-green-200",error:"bg-red-50 border-red-200",warning:"bg-yellow-50 border-yellow-200",info:"bg-blue-50 border-blue-200"},u={success:"text-green-800",error:"text-red-800",warning:"text-yellow-800",info:"text-blue-800"};return f.jsx("div",{className:"fixed top-4 right-4 z-50",children:f.jsxs("div",{className:`transform transition-all duration-300 ease-in-out
          ${a?"translate-x-full opacity-0":s?"translate-x-0 opacity-100":"translate-x-full opacity-0"}
          flex items-center gap-3 px-4 py-3 rounded-lg border ${c[t]} ${u[t]} shadow-lg`,children:[l[t],f.jsx("p",{className:"text-sm font-medium",children:e}),f.jsx("button",{onClick:()=>{i(!0),setTimeout(r,300)},className:"ml-2 text-slate-400 hover:text-slate-600 transition-colors",children:f.jsx(Ej,{size:18})})]})})},rz=F.createContext(void 0),mc=()=>{const e=F.useContext(rz);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},Xce=({children:e})=>{const[t,r]=F.useState(null),n=(i,s)=>{r({message:i,type:s})},a=()=>{r(null)};return f.jsxs(rz.Provider,{value:{showToast:n},children:[e,t&&f.jsx(tz,{message:t.message,type:t.type,onClose:a})]})},kt=({label:e,error:t,icon:r,fullWidth:n=!1,className:a="",darkMode:i,...s})=>{const{isDarkMode:o}=Zr(),l=i??o;return f.jsxs("div",{className:`${n?"w-full":""} ${a}`,children:[e&&f.jsx("label",{className:`block text-sm font-medium ${l?"text-slate-200":"text-slate-700"} mb-1`,children:e}),f.jsxs("div",{className:"relative",children:[r&&f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:ze.cloneElement(r,{size:20,className:l?"text-white":"text-slate-400"})}),f.jsx("input",{...s,className:`
            block w-full rounded-lg border px-3 py-2
            ${l?"bg-slate-800 border-slate-700 text-slate-200 placeholder-slate-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-700/50 disabled:text-slate-400":"bg-white border-slate-300 text-slate-900 placeholder-slate-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-50 disabled:text-slate-500"}
            ${t?"border-red-500 focus:border-red-500 focus:ring-red-500":""}
            ${r?"pl-10":""}
          `})]}),t&&f.jsx("p",{className:"mt-1 text-sm text-red-500",children:t})]})},nf=({label:e,error:t,fullWidth:r=!1,className:n="",darkMode:a,...i})=>{const[s,o]=F.useState(!1),{isDarkMode:l}=Zr(),c=a??l,u=()=>{o(!s)};return f.jsxs("div",{className:"relative",children:[f.jsx(kt,{label:e,type:s?"text":"password",error:t,fullWidth:r,className:n,darkMode:c,...i}),f.jsx("button",{type:"button",onClick:u,className:`absolute right-3 top-[38px] ${c?"text-slate-400 hover:text-slate-300":"text-slate-500 hover:text-slate-700"}`,children:s?f.jsx(RZ,{size:18}):f.jsx(L4,{size:18})})]})},tt=({children:e,variant:t="primary",size:r="md",isLoading:n=!1,icon:a,className:i="",...s})=>{const o={primary:"bg-blue-700 hover:bg-blue-800 text-white",secondary:"bg-slate-100 hover:bg-slate-200 text-slate-700 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-200",outline:"bg-white border border-slate-300 hover:bg-slate-50 text-slate-700 dark:bg-transparent dark:border-slate-600 dark:hover:bg-slate-700 dark:text-slate-200",danger:"bg-red-600 hover:bg-red-700 text-white",ghost:"bg-transparent hover:bg-slate-100 text-slate-500 dark:hover:bg-slate-700/50 dark:text-slate-400",success:"bg-green-600 hover:bg-green-700 text-white"},l={sm:"text-sm px-3 py-1.5",md:"px-4 py-2",lg:"text-lg px-5 py-2.5"};return f.jsxs("button",{className:`
        ${o[t]} 
        ${l[r]} 
        rounded-lg font-medium transition-colors 
        flex items-center justify-center gap-2
        focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-blue-500
        disabled:opacity-60 disabled:cursor-not-allowed
        ${i}
      `,disabled:n||s.disabled,...s,children:[n&&f.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),!n&&a,e]})},Qce=()=>{const[e,t]=F.useState(""),[r,n]=F.useState(""),[a,i]=F.useState(""),{login:s,isAuthenticated:o,isLoading:l,user:c}=ba(),{showToast:u}=mc(),{isDarkMode:d,toggleDarkMode:h}=Zr(),p=em();F.useEffect(()=>{o&&c&&(u(`Welcome back, ${c.name}!`,"success"),c.role==="staff"&&p("/add"),c.role==="supply_serve"||c.role==="fahiz"||c.role==="aphy"?p("/supply-serve"):p("/"))},[o,c,p,u]);const g=async m=>{if(m.preventDefault(),i(""),!e||!r){i("Please enter both username and password");return}await s(e,r)||(i("Invalid username or password"),u("Invalid username or password","error"))};return f.jsxs("div",{className:`min-h-screen flex overflow-hidden ${d?"bg-slate-900":"bg-slate-100"}`,children:[f.jsx(Gn.div,{className:"hidden lg:flex lg:w-1/2 bg-blue-700 text-white items-center justify-center",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8,ease:"easeOut"},children:f.jsxs("div",{className:"max-w-md p-8 text-center",children:[f.jsx("h1",{className:"text-4xl font-bold mb-4",children:"AZTEC"}),f.jsx("p",{className:"text-xl text-blue-100",children:"Warehouse Management System"})]})}),f.jsx(Gn.div,{className:"w-full lg:w-1/2 flex items-center justify-center p-4 sm:p-6 lg:p-8",initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.8,ease:"easeOut"},children:f.jsxs("div",{className:"w-full max-w-md",children:[f.jsxs("div",{className:"lg:hidden text-center mb-6 space-y-2",children:[f.jsx(qZ,{size:48,className:"mx-auto text-blue-600"}),f.jsx("h1",{className:`text-2xl font-bold ${d?"text-white":"text-slate-800"}`,children:"AZTEC"}),f.jsx("p",{className:d?"text-slate-400":"text-slate-600",children:"Warehouse Management System"})]}),f.jsxs("div",{className:`${d?"bg-slate-800 border-slate-700 shadow-xl":"bg-white border-slate-200 shadow-lg"} rounded-xl p-6 sm:p-8 border`,children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:`text-2xl font-bold ${d?"text-white":"text-slate-800"}`,children:"Welcome back"}),f.jsx("button",{onClick:h,className:`p-2 rounded-lg transition-colors ${d?"text-yellow-400 hover:bg-slate-700":"text-slate-600 hover:bg-slate-100"}`,"aria-label":d?"Switch to light mode":"Switch to dark mode",children:d?f.jsx(x9,{size:20}):f.jsx(v9,{size:20})})]}),a&&f.jsx(Gn.div,{className:`${d?"bg-red-900/50 text-red-200":"bg-red-50 text-red-700"} p-4 rounded-lg mb-6 text-sm`,initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},children:a}),f.jsxs("form",{onSubmit:g,className:"space-y-6",children:[f.jsx(kt,{label:"Username",type:"text",id:"username",value:e,onChange:m=>t(m.target.value),icon:f.jsx(R4,{size:20}),placeholder:"Enter your username",autoComplete:"username",fullWidth:!0,darkMode:d}),f.jsx(nf,{label:"Password",name:"password",value:r,onChange:m=>n(m.target.value),placeholder:"Enter your password",autoComplete:"current-password",fullWidth:!0,darkMode:d}),f.jsx(tt,{type:"submit",isLoading:l,className:"w-full",size:"lg",children:"Sign In"})]})]})]})})]})},Ya=({title:e,value:t,icon:r,change:n})=>{const{isDarkMode:a}=Zr(),i=N3(0),s=N3(0),o=eD(i,Math.round),l=eD(s,Math.round);return ze.useEffect(()=>{if(typeof t=="number"){const c=iD(i,t,{duration:1});if(n){const u=iD(s,n.value,{duration:1});return()=>{c.stop(),u.stop()}}return()=>c.stop()}},[t,n]),f.jsx("div",{className:`p-6 rounded-lg shadow-sm border ${a?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:`text-sm font-medium ${a?"text-slate-400":"text-slate-500"}`,children:e}),f.jsx("h3",{className:`text-2xl font-semibold ${a?"text-white":"text-slate-800"} mt-1`,children:typeof t=="number"?f.jsx(Gn.span,{children:o}):t}),n&&f.jsxs("div",{className:"flex items-center mt-2",children:[n.customIcon||f.jsx("span",{className:`text-sm ${n.isPositive?"text-green-500":"text-red-500"}`,children:n.isPositive?"":""}),f.jsx(Gn.span,{className:`text-sm font-medium ${n.isPositive?"text-green-500":"text-red-500"}`,children:l}),n.label&&f.jsx("span",{className:`text-xs ${a?"text-slate-400":"text-slate-500"} ml-1`,children:n.label})]})]}),f.jsx("div",{className:`p-3 rounded-full ${a?"bg-slate-700":"bg-slate-100"}`,children:r})]})})},yf=()=>{const{isDarkMode:e}=Zr();return f.jsxs("div",{className:`p-6 rounded-lg shadow-sm border ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:`h-4 w-24 rounded ${e?"bg-slate-700":"bg-slate-200"}`}),f.jsx("div",{className:`h-8 w-16 rounded ${e?"bg-slate-700":"bg-slate-200"}`})]}),f.jsx("div",{className:`p-3 rounded-full ${e?"bg-slate-700":"bg-slate-100"}`,children:f.jsx("div",{className:`h-6 w-6 rounded ${e?"bg-slate-600":"bg-slate-200"}`})})]}),f.jsx("div",{className:"mt-4",children:f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("div",{className:`h-4 w-12 rounded ${e?"bg-slate-700":"bg-slate-200"}`}),f.jsx("div",{className:`h-4 w-24 rounded ${e?"bg-slate-700":"bg-slate-200"}`})]})})]})},t0=({title:e,children:t,className:r=""})=>{const{isDarkMode:n}=Zr();return f.jsxs("div",{className:`rounded-lg shadow-sm border ${n?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} ${r}`,children:[e&&f.jsx("div",{className:`px-6 py-4 border-b ${n?"border-slate-700":"border-slate-200"}`,children:f.jsx("h3",{className:`text-lg font-medium ${n?"text-white":"text-slate-800"}`,children:e})}),f.jsx("div",{className:"p-6",children:t})]})};function xn(e){"@babel/helpers - typeof";return xn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xn(e)}function ls(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Rr(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Mr(e){Rr(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||xn(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Jce(e,t){Rr(2,arguments);var r=Mr(e),n=ls(t);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function nz(e,t){Rr(2,arguments);var r=Mr(e),n=ls(t);if(isNaN(n))return new Date(NaN);if(!n)return r;var a=r.getDate(),i=new Date(r.getTime());i.setMonth(r.getMonth()+n+1,0);var s=i.getDate();return a>=s?i:(r.setFullYear(i.getFullYear(),i.getMonth(),a),r)}function az(e,t){Rr(2,arguments);var r=Mr(e).getTime(),n=ls(t);return new Date(r+n)}var Zce=36e5;function eue(e,t){Rr(2,arguments);var r=ls(t);return az(e,r*Zce)}var tue={};function Nh(){return tue}function rue(e,t){var r,n,a,i,s,o;Rr(1,arguments);var l=Nh(),c=ls((r=(n=(a=(i=void 0)!==null&&i!==void 0?i:void 0)!==null&&a!==void 0?a:l.weekStartsOn)!==null&&n!==void 0?n:(s=l.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&r!==void 0?r:0);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=Mr(e),d=u.getDay(),h=(d<c?7:0)+d-c;return u.setDate(u.getDate()-h),u.setHours(0,0,0,0),u}function E3(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Sp(e){Rr(1,arguments);var t=Mr(e);return t.setHours(0,0,0,0),t}function p2(e,t){Rr(2,arguments);var r=Mr(e),n=Mr(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}var iz=6e4,sz=36e5;function sD(e,t){Rr(2,arguments);var r=Sp(e),n=Sp(t);return r.getTime()===n.getTime()}function nue(e){return Rr(1,arguments),e instanceof Date||xn(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function aue(e){if(Rr(1,arguments),!nue(e)&&typeof e!="number")return!1;var t=Mr(e);return!isNaN(Number(t))}function iue(e,t){Rr(2,arguments);var r=Mr(e),n=Mr(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function sue(e,t){return Rr(2,arguments),Mr(e).getTime()-Mr(t).getTime()}var oD={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},oue="trunc";function lue(e){return e?oD[e]:oD[oue]}function Wv(e){Rr(1,arguments);var t=Mr(e);return t.setHours(23,59,59,999),t}function oz(e){Rr(1,arguments);var t=Mr(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function cue(e){Rr(1,arguments);var t=Mr(e);return Wv(t).getTime()===oz(t).getTime()}function uue(e,t){Rr(2,arguments);var r=Mr(e),n=Mr(t),a=p2(r,n),i=Math.abs(iue(r,n)),s;if(i<1)s=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);var o=p2(r,n)===-a;cue(Mr(e))&&i===1&&p2(e,n)===1&&(o=!1),s=a*(i-Number(o))}return s===0?0:s}function fue(e,t,r){Rr(2,arguments);var n=sue(e,t)/1e3;return lue(void 0)(n)}function due(e,t){var r;Rr(1,arguments);var n=e||{},a=Mr(n.start),i=Mr(n.end),s=i.getTime();if(!(a.getTime()<=s))throw new RangeError("Invalid interval");var o=[],l=a;l.setHours(0,0,0,0);var c=Number((r=void 0)!==null&&r!==void 0?r:1);if(c<1||isNaN(c))throw new RangeError("`options.step` must be a number greater than 1");for(;l.getTime()<=s;)o.push(Mr(l)),l.setDate(l.getDate()+c),l.setHours(0,0,0,0);return o}function hue(e){Rr(1,arguments);var t=Mr(e);return t.setDate(1),t.setHours(0,0,0,0),t}function pue(e,t){var r,n,a,i,s,o;Rr(1,arguments);var l=Nh(),c=ls((r=(n=(a=(i=void 0)!==null&&i!==void 0?i:void 0)!==null&&a!==void 0?a:l.weekStartsOn)!==null&&n!==void 0?n:(s=l.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&r!==void 0?r:0);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=Mr(e),d=u.getDay(),h=(d<c?-7:0)+6-(d-c);return u.setDate(u.getDate()+h),u.setHours(23,59,59,999),u}function mue(e,t){Rr(2,arguments);var r=ls(t);return az(e,-r)}var gue=864e5;function vue(e){Rr(1,arguments);var t=Mr(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),a=r-n;return Math.floor(a/gue)+1}function vb(e){Rr(1,arguments);var t=1,r=Mr(e),n=r.getUTCDay(),a=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-a),r.setUTCHours(0,0,0,0),r}function lz(e){Rr(1,arguments);var t=Mr(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var a=vb(n),i=new Date(0);i.setUTCFullYear(r,0,4),i.setUTCHours(0,0,0,0);var s=vb(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=s.getTime()?r:r-1}function yue(e){Rr(1,arguments);var t=lz(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=vb(r);return n}var xue=6048e5;function bue(e){Rr(1,arguments);var t=Mr(e),r=vb(t).getTime()-yue(t).getTime();return Math.round(r/xue)+1}function yb(e,t){var r,n,a,i,s,o,l,c;Rr(1,arguments);var u=Nh(),d=ls((r=(n=(a=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&a!==void 0?a:u.weekStartsOn)!==null&&n!==void 0?n:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Mr(e),p=h.getUTCDay(),g=(p<d?7:0)+p-d;return h.setUTCDate(h.getUTCDate()-g),h.setUTCHours(0,0,0,0),h}function cz(e,t){var r,n,a,i,s,o,l,c;Rr(1,arguments);var u=Mr(e),d=u.getUTCFullYear(),h=Nh(),p=ls((r=(n=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&a!==void 0?a:h.firstWeekContainsDate)!==null&&n!==void 0?n:(l=h.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(d+1,0,p),g.setUTCHours(0,0,0,0);var m=yb(g,t),v=new Date(0);v.setUTCFullYear(d,0,p),v.setUTCHours(0,0,0,0);var y=yb(v,t);return u.getTime()>=m.getTime()?d+1:u.getTime()>=y.getTime()?d:d-1}function wue(e,t){var r,n,a,i,s,o,l,c;Rr(1,arguments);var u=Nh(),d=ls((r=(n=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&a!==void 0?a:u.firstWeekContainsDate)!==null&&n!==void 0?n:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1),h=cz(e,t),p=new Date(0);p.setUTCFullYear(h,0,d),p.setUTCHours(0,0,0,0);var g=yb(p,t);return g}var _ue=6048e5;function Sue(e,t){Rr(1,arguments);var r=Mr(e),n=yb(r,t).getTime()-wue(r,t).getTime();return Math.round(n/_ue)+1}function kn(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var Ju={y:function(t,r){var n=t.getUTCFullYear(),a=n>0?n:1-n;return kn(r==="yy"?a%100:a,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):kn(n+1,2)},d:function(t,r){return kn(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return kn(t.getUTCHours()%12||12,r.length)},H:function(t,r){return kn(t.getUTCHours(),r.length)},m:function(t,r){return kn(t.getUTCMinutes(),r.length)},s:function(t,r){return kn(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,a=t.getUTCMilliseconds(),i=Math.floor(a*Math.pow(10,n-3));return kn(i,r.length)}},r0={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Aue={G:function(t,r,n){var a=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var a=t.getUTCFullYear(),i=a>0?a:1-a;return n.ordinalNumber(i,{unit:"year"})}return Ju.y(t,r)},Y:function(t,r,n,a){var i=cz(t,a),s=i>0?i:1-i;if(r==="YY"){var o=s%100;return kn(o,2)}return r==="Yo"?n.ordinalNumber(s,{unit:"year"}):kn(s,r.length)},R:function(t,r){var n=lz(t);return kn(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return kn(n,r.length)},Q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return kn(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return kn(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,r,n){var a=t.getUTCMonth();switch(r){case"M":case"MM":return Ju.M(t,r);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(t,r,n){var a=t.getUTCMonth();switch(r){case"L":return String(a+1);case"LL":return kn(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(t,r,n,a){var i=Sue(t,a);return r==="wo"?n.ordinalNumber(i,{unit:"week"}):kn(i,r.length)},I:function(t,r,n){var a=bue(t);return r==="Io"?n.ordinalNumber(a,{unit:"week"}):kn(a,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):Ju.d(t,r)},D:function(t,r,n){var a=vue(t);return r==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):kn(a,r.length)},E:function(t,r,n){var a=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(t,r,n,a){var i=t.getUTCDay(),s=(i-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(s);case"ee":return kn(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,r,n,a){var i=t.getUTCDay(),s=(i-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(s);case"cc":return kn(s,r.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,r,n){var a=t.getUTCDay(),i=a===0?7:a;switch(r){case"i":return String(i);case"ii":return kn(i,r.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(t,r,n){var a=t.getUTCHours(),i=a/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,r,n){var a=t.getUTCHours(),i;switch(a===12?i=r0.noon:a===0?i=r0.midnight:i=a/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,r,n){var a=t.getUTCHours(),i;switch(a>=17?i=r0.evening:a>=12?i=r0.afternoon:a>=4?i=r0.morning:i=r0.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return Ju.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Ju.H(t,r)},K:function(t,r,n){var a=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(a,{unit:"hour"}):kn(a,r.length)},k:function(t,r,n){var a=t.getUTCHours();return a===0&&(a=24),r==="ko"?n.ordinalNumber(a,{unit:"hour"}):kn(a,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Ju.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Ju.s(t,r)},S:function(t,r){return Ju.S(t,r)},X:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();if(s===0)return"Z";switch(r){case"X":return cD(s);case"XXXX":case"XX":return Cd(s);case"XXXXX":case"XXX":default:return Cd(s,":")}},x:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();switch(r){case"x":return cD(s);case"xxxx":case"xx":return Cd(s);case"xxxxx":case"xxx":default:return Cd(s,":")}},O:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+lD(s,":");case"OOOO":default:return"GMT"+Cd(s,":")}},z:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+lD(s,":");case"zzzz":default:return"GMT"+Cd(s,":")}},t:function(t,r,n,a){var i=a._originalDate||t,s=Math.floor(i.getTime()/1e3);return kn(s,r.length)},T:function(t,r,n,a){var i=a._originalDate||t,s=i.getTime();return kn(s,r.length)}};function lD(e,t){var r=e>0?"-":"+",n=Math.abs(e),a=Math.floor(n/60),i=n%60;if(i===0)return r+String(a);var s=t;return r+String(a)+s+kn(i,2)}function cD(e,t){if(e%60===0){var r=e>0?"-":"+";return r+kn(Math.abs(e)/60,2)}return Cd(e,t)}function Cd(e,t){var r=t||"",n=e>0?"-":"+",a=Math.abs(e),i=kn(Math.floor(a/60),2),s=kn(a%60,2);return n+i+r+s}var uD=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},uz=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Tue=function(t,r){var n=t.match(/(P+)(p+)?/)||[],a=n[1],i=n[2];if(!i)return uD(t,r);var s;switch(a){case"P":s=r.dateTime({width:"short"});break;case"PP":s=r.dateTime({width:"medium"});break;case"PPP":s=r.dateTime({width:"long"});break;case"PPPP":default:s=r.dateTime({width:"full"});break}return s.replace("{{date}}",uD(a,r)).replace("{{time}}",uz(i,r))},Nue={p:uz,P:Tue},Eue=["D","DD"],kue=["YY","YYYY"];function Cue(e){return Eue.indexOf(e)!==-1}function Pue(e){return kue.indexOf(e)!==-1}function fD(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var jue={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Oue=function(t,r,n){var a,i=jue[t];return typeof i=="string"?a=i:r===1?a=i.one:a=i.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function DS(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var Iue={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Due={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Lue={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Mue={date:DS({formats:Iue,defaultWidth:"full"}),time:DS({formats:Due,defaultWidth:"full"}),dateTime:DS({formats:Lue,defaultWidth:"full"})},Rue={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Fue=function(t,r,n,a){return Rue[t]};function Ym(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",a;if(n==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,s=r!=null&&r.width?String(r.width):i;a=e.formattingValues[s]||e.formattingValues[i]}else{var o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}var c=e.argumentCallback?e.argumentCallback(t):t;return a[c]}}var $ue={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Bue={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Uue={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Vue={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},zue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},que={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Wue=function(t,r){var n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Hue={ordinalNumber:Wue,era:Ym({values:$ue,defaultWidth:"wide"}),quarter:Ym({values:Bue,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Ym({values:Uue,defaultWidth:"wide"}),day:Ym({values:Vue,defaultWidth:"wide"}),dayPeriod:Ym({values:zue,defaultWidth:"wide",formattingValues:que,defaultFormattingWidth:"wide"})};function Xm(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;var s=i[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?Kue(o,function(d){return d.test(s)}):Gue(o,function(d){return d.test(s)}),c;c=e.valueCallback?e.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;var u=t.slice(s.length);return{value:c,rest:u}}}function Gue(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function Kue(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function Yue(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var a=n[0],i=t.match(e.parsePattern);if(!i)return null;var s=e.valueCallback?e.valueCallback(i[0]):i[0];s=r.valueCallback?r.valueCallback(s):s;var o=t.slice(a.length);return{value:s,rest:o}}}var Xue=/^(\d+)(th|st|nd|rd)?/i,Que=/\d+/i,Jue={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Zue={any:[/^b/i,/^(a|c)/i]},efe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},tfe={any:[/1/i,/2/i,/3/i,/4/i]},rfe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},nfe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},afe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ife={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},sfe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ofe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},lfe={ordinalNumber:Yue({matchPattern:Xue,parsePattern:Que,valueCallback:function(t){return parseInt(t,10)}}),era:Xm({matchPatterns:Jue,defaultMatchWidth:"wide",parsePatterns:Zue,defaultParseWidth:"any"}),quarter:Xm({matchPatterns:efe,defaultMatchWidth:"wide",parsePatterns:tfe,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Xm({matchPatterns:rfe,defaultMatchWidth:"wide",parsePatterns:nfe,defaultParseWidth:"any"}),day:Xm({matchPatterns:afe,defaultMatchWidth:"wide",parsePatterns:ife,defaultParseWidth:"any"}),dayPeriod:Xm({matchPatterns:sfe,defaultMatchWidth:"any",parsePatterns:ofe,defaultParseWidth:"any"})},fz={code:"en-US",formatDistance:Oue,formatLong:Mue,formatRelative:Fue,localize:Hue,match:lfe,options:{weekStartsOn:0,firstWeekContainsDate:1}},cfe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ufe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ffe=/^'([^]*?)'?$/,dfe=/''/g,hfe=/[a-zA-Z]/;function Wt(e,t,r){var n,a,i,s,o,l,c,u,d,h,p,g,m,v;Rr(2,arguments);var y=String(t),w=Nh(),b=(n=(a=void 0)!==null&&a!==void 0?a:w.locale)!==null&&n!==void 0?n:fz,D=ls((i=(s=(o=(l=void 0)!==null&&l!==void 0?l:void 0)!==null&&o!==void 0?o:w.firstWeekContainsDate)!==null&&s!==void 0?s:(c=w.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(D>=1&&D<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var P=ls((d=(h=(p=(g=void 0)!==null&&g!==void 0?g:void 0)!==null&&p!==void 0?p:w.weekStartsOn)!==null&&h!==void 0?h:(m=w.locale)===null||m===void 0||(v=m.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&d!==void 0?d:0);if(!(P>=0&&P<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!b.localize)throw new RangeError("locale must contain localize property");if(!b.formatLong)throw new RangeError("locale must contain formatLong property");var O=Mr(e);if(!aue(O))throw new RangeError("Invalid time value");var T=E3(O),S=mue(O,T),_={firstWeekContainsDate:D,weekStartsOn:P,locale:b,_originalDate:O},j=y.match(ufe).map(function(N){var E=N[0];if(E==="p"||E==="P"){var k=Nue[E];return k(N,b.formatLong)}return N}).join("").match(cfe).map(function(N){if(N==="''")return"'";var E=N[0];if(E==="'")return pfe(N);var k=Aue[E];if(k)return Pue(N)&&fD(N,t,String(e)),Cue(N)&&fD(N,t,String(e)),k(S,N,b.localize,_);if(E.match(hfe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");return N}).join("");return j}function pfe(e){var t=e.match(ffe);return t?t[1].replace(dfe,"'"):e}function dz(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function mfe(e){return dz({},e)}var dD=1440,gfe=2520,LS=43200,vfe=86400;function yfe(e,t,r){var n,a;Rr(2,arguments);var i=Nh(),s=(n=(a=r==null?void 0:r.locale)!==null&&a!==void 0?a:i.locale)!==null&&n!==void 0?n:fz;if(!s.formatDistance)throw new RangeError("locale must contain formatDistance property");var o=p2(e,t);if(isNaN(o))throw new RangeError("Invalid time value");var l=dz(mfe(r),{addSuffix:!!(r!=null&&r.addSuffix),comparison:o}),c,u;o>0?(c=Mr(t),u=Mr(e)):(c=Mr(e),u=Mr(t));var d=fue(u,c),h=(E3(u)-E3(c))/1e3,p=Math.round((d-h)/60),g;if(p<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):p===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",p,l);if(p<45)return s.formatDistance("xMinutes",p,l);if(p<90)return s.formatDistance("aboutXHours",1,l);if(p<dD){var m=Math.round(p/60);return s.formatDistance("aboutXHours",m,l)}else{if(p<gfe)return s.formatDistance("xDays",1,l);if(p<LS){var v=Math.round(p/dD);return s.formatDistance("xDays",v,l)}else if(p<vfe)return g=Math.round(p/LS),s.formatDistance("aboutXMonths",g,l)}if(g=uue(u,c),g<12){var y=Math.round(p/LS);return s.formatDistance("xMonths",y,l)}else{var w=g%12,b=Math.floor(g/12);return w<3?s.formatDistance("aboutXYears",b,l):w<9?s.formatDistance("overXYears",b,l):s.formatDistance("almostXYears",b+1,l)}}function xfe(e,t){return Rr(1,arguments),yfe(e,Date.now(),t)}function hD(e,t){Rr(2,arguments);var r=Mr(e),n=Mr(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function pD(e,t){Rr(2,arguments);var r=Mr(e).getTime(),n=Mr(t.start).getTime(),a=Mr(t.end).getTime();if(!(n<=a))throw new RangeError("Invalid interval");return r>=n&&r<=a}function Lr(e,t){Rr(2,arguments);var r=ls(t);return Jce(e,-r)}function bfe(e,t){var r;Rr(1,arguments);var n=ls((r=void 0)!==null&&r!==void 0?r:2);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var a=Afe(e),i;if(a.date){var s=Tfe(a.date,n);i=Nfe(s.restDateString,s.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var o=i.getTime(),l=0,c;if(a.time&&(l=Efe(a.time),isNaN(l)))return new Date(NaN);if(a.timezone){if(c=kfe(a.timezone),isNaN(c))return new Date(NaN)}else{var u=new Date(o+l),d=new Date(0);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return new Date(o+l+c)}var mx={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},wfe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,_fe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Sfe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Afe(e){var t={},r=e.split(mx.dateTimeDelimiter),n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],mx.timeZoneDelimiter.test(t.date)&&(t.date=e.split(mx.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){var a=mx.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function Tfe(e,t){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};var a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function Nfe(e,t){if(t===null)return new Date(NaN);var r=e.match(wfe);if(!r)return new Date(NaN);var n=!!r[4],a=Qm(r[1]),i=Qm(r[2])-1,s=Qm(r[3]),o=Qm(r[4]),l=Qm(r[5])-1;if(n)return Ife(t,o,l)?Cfe(t,o,l):new Date(NaN);var c=new Date(0);return!jfe(t,i,s)||!Ofe(t,a)?new Date(NaN):(c.setUTCFullYear(t,i,Math.max(a,s)),c)}function Qm(e){return e?parseInt(e):1}function Efe(e){var t=e.match(_fe);if(!t)return NaN;var r=MS(t[1]),n=MS(t[2]),a=MS(t[3]);return Dfe(r,n,a)?r*sz+n*iz+a*1e3:NaN}function MS(e){return e&&parseFloat(e.replace(",","."))||0}function kfe(e){if(e==="Z")return 0;var t=e.match(Sfe);if(!t)return 0;var r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return Lfe(n,a)?r*(n*sz+a*iz):NaN}function Cfe(e,t,r){var n=new Date(0);n.setUTCFullYear(e,0,4);var a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}var Pfe=[31,null,31,30,31,30,31,31,30,31,30,31];function hz(e){return e%400===0||e%4===0&&e%100!==0}function jfe(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(Pfe[t]||(hz(e)?29:28))}function Ofe(e,t){return t>=1&&t<=(hz(e)?366:365)}function Ife(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function Dfe(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function Lfe(e,t){return t>=0&&t<=59}function Mfe(e,t){Rr(2,arguments);var r=ls(t);return nz(e,-r)}function mD(e,t){Rr(2,arguments);var r=ls(t);return eue(e,-r)}const Us=e=>(e==null?void 0:e.role)==="admin",RS=e=>(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="manager",gD=()=>{const[e,t]=F.useState(!0),[r,n]=F.useState([]),[a,i]=F.useState([]),[s,o]=F.useState([]),[l,c]=F.useState({time:new Date().toLocaleTimeString(),date:new Date().toLocaleDateString()}),[u,d]=F.useState({stockByLocation:[],stockByStore:[]}),[h,p]=F.useState({totalOrders:0,totalStock:0,totalInventoryValue:0,todayDamagedProducts:0,yesterdayDamagedProducts:0,yesterdayOrders:0,yesterdayStockChange:0,yesterdayRevenue:0,totalDeductions:0,yesterdayDeductions:0,todayStockAdditions:0,todayInventoryValueAdditions:0}),{isDarkMode:g}=Zr(),{user:m}=ba(),v=em(),y=async()=>{t(!0);try{const T=new Date,S=Lr(T,1),_=T,j=ir(vt(Xe,"inventory")),N=ir(vt(Xe,"inventory"),lr("lastUpdated",">=",nr.fromDate(S)),lr("lastUpdated","<=",nr.fromDate(_))),[E,k]=await Promise.all([sr(j),sr(N)]),U=E.docs.reduce((Le,Ye)=>{const _e=Ye.data();return Le+(_e.quantity||0)},0),G=k.docs.reduce((Le,Ye)=>{const _e=Ye.data();return Le+(_e.quantityChange||0)},0),z=E.docs.reduce((Le,Ye)=>{const _e=Ye.data();return Le+(_e.quantity||0)*(_e.price||0)},0),X=ir(vt(Xe,"inventory")),H=(await sr(X)).docs.map(Le=>({id:Le.id,...Le.data()})),re=H.filter(Le=>Le.quantity<=10),ee=H.filter(Le=>Le.quantity>10&&Le.quantity<=25);i(re),o(ee);const I=new Date,M=Sp(I),q=Wv(I),K=Sp(Lr(I,1)),J=Wv(Lr(I,1)),se=ir(vt(Xe,"activityLogs"),lr("time",">=",M.toISOString()),lr("time","<=",q.toISOString())),he=ir(vt(Xe,"activityLogs"),lr("time",">=",K.toISOString()),lr("time","<=",J.toISOString())),[ie,ge]=await Promise.all([sr(se),sr(he)]),xe=ie.docs.map(Le=>Le.data()),W=ge.docs.map(Le=>Le.data()),Pe=xe.reduce((Le,Ye)=>{const _e=Ye.detail.match(/(\d+) units deducted/);return Le+(_e?parseInt(_e[1]):0)},0),Ce=W.reduce((Le,Ye)=>{const _e=Ye.detail.match(/(\d+) units deducted/);return Le+(_e?parseInt(_e[1]):0)},0),Te=xe.reduce((Le,Ye)=>{const _e=Ye.detail.match(/added new product "[^"]+" with total quantity (\d+)/);return Le+(_e?parseInt(_e[1]):0)},0),ce=xe.reduce((Le,Ye)=>{const _e=Ye.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(_e){const[,$e,Ne]=_e,Ie=E.docs.find(We=>We.data().name===$e);if(Ie){const We=Ie.data().price||0;return Le+parseInt(Ne)*We}}return Le},0),Fe=xe.reduce((Le,Ye)=>{const _e=Ye.detail.toLowerCase();if(/reason:\s*damaged/i.test(_e)||/damaged/i.test(_e)||/damageditems/i.test(_e)||/damaged items/i.test(_e)){const $e=[/(\d+)\s*units?\s*damaged/i,/damageditems?:\s*(\d+)/i,/quantity:\s*(\d+)/i,/edited product "[^"]+": quantity from (\d+) to (\d+)/i];for(const Ne of $e){const Ie=_e.match(Ne);if(Ie)if(Ie.length===3){const We=parseInt(Ie[1]),it=parseInt(Ie[2]);return Le+Math.abs(We-it)}else return Le+parseInt(Ie[1])}return Le+1}return Le},0),Ge=W.reduce((Le,Ye)=>{const _e=Ye.detail.toLowerCase();if(/reason:\s*damaged/i.test(_e)||/damaged/i.test(_e)||/damageditems/i.test(_e)||/damaged items/i.test(_e)){const $e=[/(\d+)\s*units?\s*damaged/i,/damageditems?:\s*(\d+)/i,/quantity:\s*(\d+)/i,/edited product "[^"]+": quantity from (\d+) to (\d+)/i];for(const Ne of $e){const Ie=_e.match(Ne);if(Ie)if(Ie.length===3){const We=parseInt(Ie[1]),it=parseInt(Ie[2]);return Le+Math.abs(We-it)}else return Le+parseInt(Ie[1])}return Le+1}return Le},0);p({totalOrders:0,totalStock:U,totalInventoryValue:z,todayDamagedProducts:Fe,yesterdayDamagedProducts:Ge,yesterdayOrders:0,yesterdayStockChange:G,yesterdayRevenue:0,totalDeductions:Pe,yesterdayDeductions:Ce,todayStockAdditions:Te,todayInventoryValueAdditions:ce})}catch(T){console.error("Error fetching stats:",T)}finally{t(!1)}},w=async()=>{try{const T=ir(vt(Xe,"activityLogs"),ja("time","desc"),Bd(5)),_=(await sr(T)).docs.map(j=>({id:j.id,...j.data()}));n(_)}catch(T){console.error("Error fetching recent activities:",T)}},b=()=>{const T=new Date;c({time:T.toLocaleTimeString(),date:T.toLocaleDateString()})},D=async()=>{try{const T=ir(vt(Xe,"inventory")),_=(await sr(T)).docs.map(U=>({id:U.id,...U.data()})),j=new Map;_.forEach(U=>{const G=U.locationCode||"Unknown",z=U.quantity||0,X=z*(U.price||0);if(j.has(G)){const V=j.get(G);j.set(G,{quantity:V.quantity+z,value:V.value+X})}else j.set(G,{quantity:z,value:X})});const N=Array.from(j.entries()).map(([U,G])=>({location:U,quantity:G.quantity,value:G.value})).sort((U,G)=>G.quantity-U.quantity),E=new Map;_.forEach(U=>{const G=U.storeName||"Unknown",z=U.quantity||0,X=z*(U.price||0);if(E.has(G)){const V=E.get(G);E.set(G,{quantity:V.quantity+z,value:V.value+X})}else E.set(G,{quantity:z,value:X})});const k=Array.from(E.entries()).map(([U,G])=>({store:U,quantity:G.quantity,value:G.value})).sort((U,G)=>G.value-U.value);d({stockByLocation:N,stockByStore:k})}catch(T){console.error("Error fetching inventory data:",T)}},P=async()=>{await Promise.all([y(),w(),D()])};F.useEffect(()=>{P();const T=setInterval(b,1e3);return()=>clearInterval(T)},[]);const O=()=>{const{isDarkMode:T}=Zr();return f.jsxs("div",{className:"animate-pulse",children:[f.jsx("div",{className:`h-10 ${T?"bg-slate-700":"bg-slate-200"} rounded mb-4`}),[...Array(5)].map((S,_)=>f.jsx("div",{className:`h-16 ${T?"bg-slate-700":"bg-slate-200"} rounded mb-2`},_))]})};return f.jsxs("div",{className:`space-y-6 ${g?"bg-slate-900 text-white":"bg-slate-50 text-slate-800"}`,children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("h1",{className:`text-2xl font-bold ${g?"text-white":"text-slate-800"}`,children:"Admin Dashboard"}),f.jsx("p",{className:`${g?"text-slate-400":"text-slate-500"} mt-1`,children:"View your warehouse performance at a glance"})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg ${g?"bg-slate-800 border border-slate-700":"bg-white border border-slate-200"}`,children:[f.jsx(G2,{size:20,className:"text-blue-500"}),f.jsxs("div",{children:[f.jsx("p",{className:`text-sm font-medium ${g?"text-white":"text-slate-800"}`,children:l.time}),f.jsx("p",{className:`text-xs ${g?"text-slate-400":"text-slate-500"}`,children:l.date})]})]}),f.jsx(tt,{variant:"secondary",onClick:P,className:`flex items-center gap-2 ${e?"opacity-50 cursor-not-allowed":""}`,disabled:e,children:f.jsx(Ua,{size:16,className:e?"animate-spin":""})})]})]}),f.jsx(t0,{title:"Quick Actions",className:`${g?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[f.jsxs(tt,{variant:"outline",onClick:()=>v("/add"),className:`flex flex-col items-center gap-2 p-4 h-20 ${g?"hover:bg-slate-700 border-slate-600":"hover:bg-slate-100 border-slate-300"}`,children:[f.jsx(M4,{size:24,className:"text-blue-600"}),f.jsx("span",{className:"text-sm font-medium",children:"Add Product"})]}),f.jsxs(tt,{variant:"outline",onClick:()=>v("/jobs"),className:`flex flex-col items-center gap-2 p-4 h-20 ${g?"hover:bg-slate-700 border-slate-600":"hover:bg-slate-100 border-slate-300"}`,children:[f.jsx(p9,{size:24,className:"text-green-600"}),f.jsx("span",{className:"text-sm font-medium",children:"Manage Jobs"})]}),f.jsxs(tt,{variant:"outline",onClick:()=>v("/stock"),className:`flex flex-col items-center gap-2 p-4 h-20 ${g?"hover:bg-slate-700 border-slate-600":"hover:bg-slate-100 border-slate-300"}`,children:[f.jsx(Mo,{size:24,className:"text-purple-600"}),f.jsx("span",{className:"text-sm font-medium",children:"Manage Stock"})]}),f.jsxs(tt,{variant:"outline",onClick:()=>v("/reports-analytics"),className:`flex flex-col items-center gap-2 p-4 h-20 ${g?"hover:bg-slate-700 border-slate-600":"hover:bg-slate-100 border-slate-300"}`,children:[f.jsx(h9,{size:24,className:"text-orange-600"}),f.jsx("span",{className:"text-sm font-medium",children:"View Reports"})]}),f.jsxs(tt,{variant:"outline",onClick:()=>v("/warehouse-locations"),className:`flex flex-col items-center gap-2 p-4 h-20 ${g?"hover:bg-slate-700 border-slate-600":"hover:bg-slate-100 border-slate-300"}`,children:[f.jsx(MZ,{size:24,className:"text-indigo-600"}),f.jsx("span",{className:"text-sm font-medium",children:"Locations"})]}),f.jsxs(tt,{variant:"outline",onClick:()=>v("/warehouse-operations"),className:`flex flex-col items-center gap-2 p-4 h-20 ${g?"hover:bg-slate-700 border-slate-600":"hover:bg-slate-100 border-slate-300"}`,children:[f.jsx(G2,{size:24,className:"text-teal-600"}),f.jsx("span",{className:"text-sm font-medium",children:"Activity Logs"})]})]})}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e?f.jsxs(f.Fragment,{children:[f.jsx(yf,{}),f.jsx(yf,{}),f.jsx(yf,{}),f.jsx(yf,{})]}):f.jsxs(f.Fragment,{children:[f.jsx(Ya,{title:"Total Stock",value:h.totalStock,icon:f.jsx(Mo,{size:24,className:"text-blue-600"}),change:{value:h.todayStockAdditions,isPositive:!0,customIcon:f.jsx(mi,{size:16,className:"text-green-500 mr-1"}),label:h.todayStockAdditions===0?"no additions today":h.todayStockAdditions===1?"unit added today":"units added today"}}),f.jsx(Ya,{title:"Total Units Deducted Today",value:h.totalDeductions,icon:f.jsx(b9,{size:24,className:"text-blue-600"}),change:{value:h.yesterdayDeductions,isPositive:h.totalDeductions>=h.yesterdayDeductions,label:h.yesterdayDeductions===1?"unit deducted yesterday":"units deducted yesterday"}}),f.jsx(Ya,{title:"Damaged Products Today",value:h.todayDamagedProducts,icon:f.jsx(ch,{size:24,className:"text-red-600"}),change:{value:h.yesterdayDamagedProducts,isPositive:h.todayDamagedProducts<=h.yesterdayDamagedProducts,label:h.yesterdayDamagedProducts===0?"no damage yesterday":h.yesterdayDamagedProducts===1?"unit damaged yesterday":"units damaged yesterday"}}),Us(m)?f.jsx(Ya,{title:"Total Inventory Value",value:h.totalInventoryValue,icon:f.jsx(Y2,{size:24,className:"text-blue-600"}),formatValue:T=>`${T.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})}`,change:{value:h.todayInventoryValueAdditions,isPositive:!0,customIcon:f.jsx(mi,{size:16,className:"text-green-500 mr-1"}),label:h.todayInventoryValueAdditions===0?"no value added today":" added today"}}):f.jsx(Ya,{title:"Total Products",value:u.stockByLocation.length,icon:f.jsx(Mo,{size:24,className:"text-purple-600"}),change:{value:h.todayStockAdditions,isPositive:!0,customIcon:f.jsx(mi,{size:16,className:"text-green-500 mr-1"}),label:h.todayStockAdditions===0?"no additions today":h.todayStockAdditions===1?"addition today":"additions today"}})]})}),f.jsx(t0,{title:"Stock Value by Store",className:`${g?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:e?f.jsxs("div",{className:"animate-pulse space-y-4",children:[f.jsx("div",{className:`h-4 ${g?"bg-slate-700":"bg-slate-200"} rounded w-3/4`}),f.jsx("div",{className:`h-32 ${g?"bg-slate-700":"bg-slate-200"} rounded`})]}):u.stockByStore.length>0?f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx(wj,{size:20,className:"text-blue-500"}),f.jsx("span",{className:`text-sm font-medium ${g?"text-slate-300":"text-slate-700"}`,children:Us(m)?f.jsxs(f.Fragment,{children:["Total Value: ",u.stockByStore.reduce((T,S)=>T+S.value,0).toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})," across ",u.stockByStore.length," stores"]}):f.jsxs(f.Fragment,{children:["Total Quantity: ",u.stockByStore.reduce((T,S)=>T+S.quantity,0)," units across ",u.stockByStore.length," stores"]})})]}),f.jsx("div",{className:"space-y-3",children:u.stockByStore.slice(0,5).map((T,S)=>{const _=Math.max(...u.stockByStore.slice(0,5).map(E=>E.value)),j=_>0?T.value/_*100:0,N=["bg-blue-500","bg-green-500","bg-purple-500","bg-orange-500","bg-pink-500"];return f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:`text-sm font-medium ${g?"text-slate-300":"text-slate-700"}`,children:T.store.toUpperCase()}),f.jsxs("div",{className:"text-right",children:[f.jsxs("span",{className:`text-sm font-bold ${g?"text-white":"text-slate-900"}`,children:[T.quantity.toLocaleString()," units"]}),Us(m)&&f.jsxs("p",{className:`text-xs ${g?"text-slate-400":"text-slate-500"}`,children:["",T.value.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),f.jsx("div",{className:`w-full ${g?"bg-slate-700":"bg-slate-200"} rounded-full h-3`,children:f.jsx("div",{className:`h-3 rounded-full transition-all duration-700 ease-out ${N[S%N.length]}`,style:{width:`${j}%`}})})]},S)})})]}):f.jsxs("div",{className:`text-center py-8 ${g?"text-slate-400":"text-slate-500"}`,children:[f.jsx(Mo,{size:48,className:"mx-auto mb-4 opacity-50"}),f.jsx("p",{children:"No store data available"})]})}),f.jsx(t0,{title:"Stock Distribution by Location",className:`${g?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:e?f.jsxs("div",{className:"animate-pulse space-y-4",children:[f.jsx("div",{className:`h-4 ${g?"bg-slate-700":"bg-slate-200"} rounded w-3/4`}),f.jsx("div",{className:`h-32 ${g?"bg-slate-700":"bg-slate-200"} rounded`})]}):u.stockByLocation.length>0?f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx(wj,{size:20,className:"text-blue-500"}),f.jsxs("span",{className:`text-sm font-medium ${g?"text-slate-300":"text-slate-700"}`,children:["Total: ",u.stockByLocation.reduce((T,S)=>T+S.quantity,0)," units across ",u.stockByLocation.length," locations"]})]}),f.jsx("div",{className:"space-y-3",children:u.stockByLocation.slice(0,5).map((T,S)=>{const _=Math.max(...u.stockByLocation.slice(0,5).map(E=>E.quantity)),j=_>0?T.quantity/_*100:0,N=["bg-blue-500","bg-green-500","bg-purple-500","bg-orange-500","bg-pink-500"];return f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("span",{className:`text-sm font-medium ${g?"text-slate-300":"text-slate-700"}`,children:["Location ",T.location]}),f.jsxs("div",{className:"text-right",children:[f.jsxs("span",{className:`text-sm font-bold ${g?"text-white":"text-slate-900"}`,children:[T.quantity," units"]}),Us(m)&&f.jsxs("p",{className:`text-xs ${g?"text-slate-400":"text-slate-500"}`,children:["",T.value.toFixed(2)]})]})]}),f.jsx("div",{className:`w-full ${g?"bg-slate-700":"bg-slate-200"} rounded-full h-3`,children:f.jsx("div",{className:`h-3 rounded-full transition-all duration-700 ease-out ${N[S%N.length]}`,style:{width:`${j}%`}})})]},S)})})]}):f.jsxs("div",{className:`text-center py-8 ${g?"text-slate-400":"text-slate-500"}`,children:[f.jsx(Mo,{size:48,className:"mx-auto mb-4 opacity-50"}),f.jsx("p",{children:"No inventory data available"})]})}),f.jsx(t0,{title:"Recent Activity",className:`${g?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:e?f.jsx(O,{}):r.length>0?f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{children:f.jsxs("tr",{className:`${g?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${g?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"User"}),f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${g?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Role"}),f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${g?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Activity"}),f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${g?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Time"})]})}),f.jsx("tbody",{className:`divide-y ${g?"divide-slate-700":"divide-slate-200"}`,children:r.slice(0,5).map(T=>f.jsxs("tr",{className:`${g?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[f.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm font-medium ${g?"text-white":"text-slate-900"}`,children:T.user}),f.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${g?"text-slate-400":"text-slate-500"}`,children:T.role}),f.jsx("td",{className:`px-6 py-4 text-sm ${g?"text-slate-400":"text-slate-500"}`,children:f.jsx("div",{className:"max-w-xs truncate",title:T.detail,children:T.detail})}),f.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${g?"text-slate-400":"text-slate-500"}`,children:xfe(new Date(T.time),{addSuffix:!0})})]},T.id))})]})}):f.jsx("div",{className:`text-center py-8 ${g?"text-slate-400":"text-slate-500"}`,children:"No recent activities found"})}),f.jsx(t0,{title:"Low Stock Items",className:`${g?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:e?f.jsx(O,{}):s.length>0?f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{children:f.jsxs("tr",{className:`${g?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${g?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Product"}),f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${g?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${g?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Current Stock"}),f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${g?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Status"})]})}),f.jsx("tbody",{className:`divide-y ${g?"divide-slate-700":"divide-slate-200"}`,children:s.slice(0,5).map(T=>f.jsxs("tr",{className:`${g?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[f.jsx("td",{className:`px-6 py-4 text-sm font-medium ${g?"text-white":"text-slate-900"}`,children:f.jsx("div",{className:"max-w-xs truncate",title:T.name,children:T.name})}),f.jsxs("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${g?"text-slate-400":"text-slate-500"}`,children:[T.locationCode,"-",T.shelfNumber]}),f.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${g?"text-slate-400":"text-slate-500"}`,children:T.quantity}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-amber-100 text-amber-800",children:"Low"})})]},T.id))})]})}):f.jsx("div",{className:`text-center py-8 ${g?"text-slate-400":"text-slate-500"}`,children:"No low stock items found"})}),f.jsx(t0,{title:"Critical Stock Items",className:`${g?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:e?f.jsx(O,{}):a.length>0?f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{children:f.jsxs("tr",{className:`${g?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${g?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Product"}),f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${g?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${g?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Current Stock"}),f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${g?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Status"})]})}),f.jsx("tbody",{className:`divide-y ${g?"divide-slate-700":"divide-slate-200"}`,children:a.slice(0,5).map(T=>f.jsxs("tr",{className:`${g?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[f.jsx("td",{className:`px-6 py-4 text-sm font-medium ${g?"text-white":"text-slate-900"}`,children:f.jsx("div",{className:"max-w-xs truncate",title:T.name,children:T.name})}),f.jsxs("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${g?"text-slate-400":"text-slate-500"}`,children:[T.locationCode,"-",T.shelfNumber]}),f.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${g?"text-slate-400":"text-slate-500"}`,children:T.quantity}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"Critical"})})]},T.id))})]})}):f.jsx("div",{className:`text-center py-8 ${g?"text-slate-400":"text-slate-500"}`,children:"No critical stock items found"})})]})},on=({isOpen:e,onClose:t,title:r,children:n,size:a="md",closeOnOutsideClick:i=!0})=>{const{isDarkMode:s}=Zr(),o=F.useRef(null);if(F.useEffect(()=>{const c=u=>{u.key==="Escape"&&t()};return e&&window.addEventListener("keydown",c),()=>{window.removeEventListener("keydown",c)}},[e,t]),F.useEffect(()=>{const c=u=>{i&&o.current&&!o.current.contains(u.target)&&t()};return e&&document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[e,t,i]),!e)return null;const l={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-2xl"};return f.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:f.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4 text-center",children:[f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:i?t:void 0}),f.jsxs("div",{className:`relative transform overflow-hidden rounded-lg ${l[a]} w-full ${s?"bg-slate-800":"bg-white"} p-6 text-left shadow-xl transition-all`,children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h3",{className:`text-lg font-medium ${s?"text-white":"text-slate-900"}`,children:r}),f.jsx("button",{onClick:t,className:`rounded-md p-1.5 ${s?"text-slate-400 hover:text-slate-300 hover:bg-slate-700":"text-slate-500 hover:text-slate-700 hover:bg-slate-100"} transition-colors`,children:f.jsx(hp,{size:20})})]}),f.jsx("div",{className:`${s?"text-slate-200":"text-slate-700"}`,children:n})]})]})})},Eh=({isOpen:e,onClose:t,onBarcodeScanned:r})=>{const[n,a]=F.useState(!1),i=F.useRef(null);return F.useEffect(()=>{let s="",o=Date.now();const l=c=>{if(!e||!n)return;const u=Date.now();u-o>2e3&&(s=""),o=u,c.key==="Enter"&&s.length>0?(c.preventDefault(),r(s),s="",t()):c.key.length===1&&(s+=c.key)};return e?(a(!0),document.addEventListener("keydown",l),setTimeout(()=>{i.current&&i.current.focus()},100)):a(!1),()=>{document.removeEventListener("keydown",l)}},[e,n,r,t]),f.jsx(on,{isOpen:e,onClose:t,title:"Scan Barcode",size:"sm",children:f.jsxs("div",{ref:i,className:"flex flex-col items-center justify-center p-6 space-y-4",tabIndex:-1,onKeyDown:s=>{s.preventDefault()},children:[f.jsx("div",{className:"w-16 h-16 bg-blue-50 rounded-full flex items-center justify-center",children:f.jsx(lu,{size:32,className:"text-blue-500"})}),f.jsx("p",{className:"text-center text-slate-600",children:n?"Please scan the barcode now...":"Ready to scan..."}),f.jsxs("div",{className:"text-center text-sm text-slate-500",children:[f.jsx("p",{children:"Point your barcode scanner at the product"}),f.jsx("p",{children:"and scan the barcode"})]})]})})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var pz=1252,Rfe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],Yk={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},Xk=function(e){Rfe.indexOf(e)!=-1&&(pz=Yk[0]=e)};function Ffe(){Xk(1252)}var Al=function(e){Xk(e)};function mz(){Al(1200),Ffe()}function vD(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function $fe(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function gz(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var bg=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?$fe(e.slice(2)):t==254&&r==255?gz(e.slice(2)):t==65279?e.slice(1):e},gx=function(t){return String.fromCharCode(t)},yD=function(t){return String.fromCharCode(t)},ff,xf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function xD(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0,l=0,c=0;c<e.length;)r=e.charCodeAt(c++),i=r>>2,n=e.charCodeAt(c++),s=(r&3)<<4|n>>4,a=e.charCodeAt(c++),o=(n&15)<<2|a>>6,l=a&63,isNaN(n)?o=l=64:isNaN(a)&&(l=64),t+=xf.charAt(i)+xf.charAt(s)+xf.charAt(o)+xf.charAt(l);return t}function po(e){var t="",r=0,n=0,a=0,i=0,s=0,o=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<e.length;)i=xf.indexOf(e.charAt(c++)),s=xf.indexOf(e.charAt(c++)),r=i<<2|s>>4,t+=String.fromCharCode(r),o=xf.indexOf(e.charAt(c++)),n=(s&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),l=xf.indexOf(e.charAt(c++)),a=(o&3)<<6|l,l!==64&&(t+=String.fromCharCode(a));return t}var Xr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),kh=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Yf(e){return Xr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function bD(e){return Xr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var wl=function(t){return Xr?kh(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Ch(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function Qk(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return Qk(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var df=Xr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:kh(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function Bfe(e){for(var t=[],r=0,n=e.length+250,a=Yf(e.length+255),i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s<128)a[r++]=s;else if(s<2048)a[r++]=192|s>>6&31,a[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=e.charCodeAt(++i)&1023;a[r++]=240|s>>8&7,a[r++]=128|s>>2&63,a[r++]=128|o>>6&15|(s&3)<<4,a[r++]=128|o&63}else a[r++]=224|s>>12&15,a[r++]=128|s>>6&63,a[r++]=128|s&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Yf(65535),n=65530)}return t.push(a.slice(0,r)),df(t)}var Ns=/\u0000/g,wg=/[\u0001-\u0006]/g;function H0(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Tl(e,t){var r=""+e;return r.length>=t?r:ya("0",t-r.length)+r}function Jk(e,t){var r=""+e;return r.length>=t?r:ya(" ",t-r.length)+r}function xb(e,t){var r=""+e;return r.length>=t?r:r+ya(" ",t-r.length)}function Ufe(e,t){var r=""+Math.round(e);return r.length>=t?r:ya("0",t-r.length)+r}function Vfe(e,t){var r=""+e;return r.length>=t?r:ya("0",t-r.length)+r}var wD=Math.pow(2,32);function n0(e,t){if(e>wD||e<-wD)return Ufe(e,t);var r=Math.round(e);return Vfe(r,t)}function bb(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var _D=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],FS=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function zfe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Ir={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},SD={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},qfe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function wb(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,s=1,o=0,l=1,c=0,u=0,d=Math.floor(a);c<t&&(d=Math.floor(a),o=d*s+i,u=d*c+l,!(a-d<5e-8));)a=1/(a-d),i=s,s=o,l=c,c=u;if(u>t&&(c>t?(u=l,o=i):(u=c,o=s)),!r)return[0,n*o,u];var h=Math.floor(n*o/u);return[h,n*o-h*u,u]}function zd(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,s=[],o={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)s=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],i=l.getDay(),n<60&&(i=(i+6)%7),r&&(i=Xfe(l,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=i,o}var vz=new Date(1899,11,31,0,0,0),Wfe=vz.getTime(),Hfe=new Date(1900,2,1,0,0,0);function yz(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=Hfe&&(r+=24*60*60*1e3),(r-(Wfe+(e.getTimezoneOffset()-vz.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function Zk(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Gfe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Kfe(e){var t=e<0?12:11,r=Zk(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function Yfe(e){var t=Zk(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Hv(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=Kfe(e):t===10?r=e.toFixed(10).substr(0,12):r=Yfe(e),Zk(Gfe(r.toUpperCase()))}function hh(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Hv(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Go(14,yz(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function Xfe(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function Qfe(e,t,r,n){var a="",i=0,s=0,o=r.y,l,c=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(t.length){case 1:case 2:l=r.m,c=t.length;break;case 3:return FS[r.m-1][1];case 5:return FS[r.m-1][0];default:return FS[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=r.d,c=t.length;break;case 3:return _D[r.q][0];default:return _D[r.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(r.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=r.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=r.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Tl(r.S,t.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,i=Math.round(s*(r.S+r.u)),i>=60*s&&(i=0),t==="s"?i===0?"0":""+i/s:(a=Tl(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}c=t.length===3?1:2;break;case 101:l=o,c=1;break}var u=c>0?Tl(l,c):"";return u}function bf(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var xz=/%/g;function Jfe(e,t,r){var n=t.replace(xz,""),a=t.length-n.length;return Xc(e,n,r*Math.pow(10,2*a))+ya("%",a)}function Zfe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Xc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function bz(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+bz(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var wz=/# (\?+)( ?)\/( ?)(\d+)/;function ede(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),s=a-i*n,o=n;return r+(i===0?"":""+i)+" "+(s===0?ya(" ",e[1].length+1+e[4].length):Jk(s,e[1].length)+e[2]+"/"+e[3]+Tl(o,e[4].length))}function tde(e,t,r){return r+(t===0?"":""+t)+ya(" ",e[1].length+2+e[4].length)}var _z=/^#*0*\.([0#]+)/,Sz=/\).*[0#]/,Az=/\(###\) ###\\?-####/;function gs(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function AD(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function TD(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function rde(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function nde(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function jo(e,t,r){if(e.charCodeAt(0)===40&&!t.match(Sz)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?jo("n",n,r):"("+jo("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Zfe(e,t,r);if(t.indexOf("%")!==-1)return Jfe(e,t,r);if(t.indexOf("E")!==-1)return bz(t,r);if(t.charCodeAt(0)===36)return"$"+jo(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+n0(l,t.length);if(t.match(/^[#?]+$/))return a=n0(r,0),a==="0"&&(a=""),a.length>t.length?a:gs(t.substr(0,t.length-a.length))+a;if(i=t.match(wz))return ede(i,l,c);if(t.match(/^#+0+$/))return c+n0(l,t.length-t.indexOf("0"));if(i=t.match(_z))return a=AD(r,i[1].length).replace(/^([^\.]+)$/,"$1."+gs(i[1])).replace(/\.$/,"."+gs(i[1])).replace(/\.(\d*)$/,function(g,m){return"."+m+ya("0",gs(i[1]).length-m.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+AD(l,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+bf(n0(l,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+jo(e,t,-r):bf(""+(Math.floor(r)+rde(r,i[1].length)))+"."+Tl(TD(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return jo(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=H0(jo(e,t.replace(/[\\-]/g,""),r)),s=0,H0(H0(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return s<a.length?a.charAt(s++):g==="0"?"0":""}));if(t.match(Az))return a=jo(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=wb(l,Math.pow(10,s)-1,!1),a=""+c,u=Xc("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=xb(o[2],s),u.length<i[4].length&&(u=gs(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=wb(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?Jk(o[1],s)+i[2]+"/"+i[3]+xb(o[2],s):ya(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=n0(r,0),t.length<=a.length?a:gs(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var d=t.indexOf(".")-s,h=t.length-a.length-d;return gs(t.substr(0,d)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return s=TD(r,i[1].length),r<0?"-"+jo(e,t,-r):bf(nde(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?Tl(0,3-g.length):"")+g})+"."+Tl(s,i[1].length);switch(t){case"###,##0.00":return jo(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=bf(n0(l,0));return p!=="0"?c+p:"";case"###,###.00":return jo(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return jo(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function ade(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Xc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function ide(e,t,r){var n=t.replace(xz,""),a=t.length-n.length;return Xc(e,n,r*Math.pow(10,2*a))+ya("%",a)}function Tz(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Tz(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Kl(e,t,r){if(e.charCodeAt(0)===40&&!t.match(Sz)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Kl("n",n,r):"("+Kl("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return ade(e,t,r);if(t.indexOf("%")!==-1)return ide(e,t,r);if(t.indexOf("E")!==-1)return Tz(t,r);if(t.charCodeAt(0)===36)return"$"+Kl(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+Tl(l,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:gs(t.substr(0,t.length-a.length))+a;if(i=t.match(wz))return tde(i,l,c);if(t.match(/^#+0+$/))return c+Tl(l,t.length-t.indexOf("0"));if(i=t.match(_z))return a=(""+r).replace(/^([^\.]+)$/,"$1."+gs(i[1])).replace(/\.$/,"."+gs(i[1])),a=a.replace(/\.(\d*)$/,function(g,m){return"."+m+ya("0",gs(i[1]).length-m.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+bf(""+l);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Kl(e,t,-r):bf(""+r)+"."+ya("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Kl(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=H0(Kl(e,t.replace(/[\\-]/g,""),r)),s=0,H0(H0(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return s<a.length?a.charAt(s++):g==="0"?"0":""}));if(t.match(Az))return a=Kl(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=wb(l,Math.pow(10,s)-1,!1),a=""+c,u=Xc("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=xb(o[2],s),u.length<i[4].length&&(u=gs(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=wb(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?Jk(o[1],s)+i[2]+"/"+i[3]+xb(o[2],s):ya(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:gs(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var d=t.indexOf(".")-s,h=t.length-a.length-d;return gs(t.substr(0,d)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Kl(e,t,-r):bf(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?Tl(0,3-g.length):"")+g})+"."+Tl(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=bf(""+l);return p!=="0"?c+p:"";default:if(t.match(/\.[0#?]*$/))return Kl(e,t.slice(0,t.lastIndexOf(".")),r)+gs(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Xc(e,t,r){return(r|0)===r?Kl(e,t,r):jo(e,t,r)}function sde(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var Nz=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function fm(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":bb(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(Nz))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function ode(e,t,r,n){for(var a=[],i="",s=0,o="",l="t",c,u,d,h="H";s<e.length;)switch(o=e.charAt(s)){case"G":if(!bb(e,s))throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"G",v:"General"},s+=7;break;case'"':for(i="";(d=e.charCodeAt(++s))!==34&&s<e.length;)i+=String.fromCharCode(d);a[a.length]={t:"t",v:i},++s;break;case"\\":var p=e.charAt(++s),g=p==="("||p===")"?p:"t";a[a.length]={t:g,v:p},++s;break;case"_":a[a.length]={t:"t",v:" "},s+=2;break;case"@":a[a.length]={t:"T",v:t},++s;break;case"B":case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2"){if(c==null&&(c=zd(t,r,e.charAt(s+1)==="2"),c==null))return"";a[a.length]={t:"X",v:e.substr(s,2)},l=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||c==null&&(c=zd(t,r),c==null))return"";for(i=o;++s<e.length&&e.charAt(s).toLowerCase()===o;)i+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),a[a.length]={t:o,v:i},l=o;break;case"A":case"a":case"":var m={t:o,v:o};if(c==null&&(c=zd(t,r)),e.substr(s,3).toUpperCase()==="A/P"?(c!=null&&(m.v=c.H>=12?"P":"A"),m.t="T",h="h",s+=3):e.substr(s,5).toUpperCase()==="AM/PM"?(c!=null&&(m.v=c.H>=12?"PM":"AM"),m.t="T",s+=5,h="h"):e.substr(s,5).toUpperCase()==="/"?(c!=null&&(m.v=c.H>=12?"":""),m.t="T",s+=5,h="h"):(m.t="t",++s),c==null&&m.t==="T")return"";a[a.length]=m,l=o;break;case"[":for(i=o;e.charAt(s++)!=="]"&&s<e.length;)i+=e.charAt(s);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(Nz)){if(c==null&&(c=zd(t,r),c==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},l=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",fm(e)||(a[a.length]={t:"t",v:i}));break;case".":if(c!=null){for(i=o;++s<e.length&&(o=e.charAt(s))==="0";)i+=o;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++s<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(s))>-1;)i+=o;a[a.length]={t:"n",v:i};break;case"?":for(i=o;e.charAt(++s)===o;)i+=o;a[a.length]={t:o,v:i},l=o;break;case"*":++s,(e.charAt(s)==" "||e.charAt(s)=="*")&&++s;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1;)i+=e.charAt(s);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:o,v:o},++s;break;case"$":a[a.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"t",v:o},++s;break}var v=0,y=0,w;for(s=a.length-1,l="t";s>=0;--s)switch(a[s].t){case"h":case"H":a[s].t=h,l="h",v<1&&(v=1);break;case"s":(w=a[s].v.match(/\.0+$/))&&(y=Math.max(y,w[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":l=a[s].t;break;case"m":l==="s"&&(a[s].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&a[s].v.match(/[Hh]/)&&(v=1),v<2&&a[s].v.match(/[Mm]/)&&(v=2),v<3&&a[s].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var b="",D;for(s=0;s<a.length;++s)switch(a[s].t){case"t":case"T":case" ":case"D":break;case"X":a[s].v="",a[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[s].v=Qfe(a[s].t.charCodeAt(0),a[s].v,c,y),a[s].t="t";break;case"n":case"?":for(D=s+1;a[D]!=null&&((o=a[D].t)==="?"||o==="D"||(o===" "||o==="t")&&a[D+1]!=null&&(a[D+1].t==="?"||a[D+1].t==="t"&&a[D+1].v==="/")||a[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[D].v==="/"||a[D].v===" "&&a[D+1]!=null&&a[D+1].t=="?"));)a[s].v+=a[D].v,a[D]={v:"",t:";"},++D;b+=a[s].v,s=D-1;break;case"G":a[s].t="t",a[s].v=hh(t,r);break}var P="",O,T;if(b.length>0){b.charCodeAt(0)==40?(O=t<0&&b.charCodeAt(0)===45?-t:t,T=Xc("n",b,O)):(O=t<0&&n>1?-t:t,T=Xc("n",b,O),O<0&&a[0]&&a[0].t=="t"&&(T=T.substr(1),a[0].v="-"+a[0].v)),D=T.length-1;var S=a.length;for(s=0;s<a.length;++s)if(a[s]!=null&&a[s].t!="t"&&a[s].v.indexOf(".")>-1){S=s;break}var _=a.length;if(S===a.length&&T.indexOf("E")===-1){for(s=a.length-1;s>=0;--s)a[s]==null||"n?".indexOf(a[s].t)===-1||(D>=a[s].v.length-1?(D-=a[s].v.length,a[s].v=T.substr(D+1,a[s].v.length)):D<0?a[s].v="":(a[s].v=T.substr(0,D+1),D=-1),a[s].t="t",_=s);D>=0&&_<a.length&&(a[_].v=T.substr(0,D+1)+a[_].v)}else if(S!==a.length&&T.indexOf("E")===-1){for(D=T.indexOf(".")-1,s=S;s>=0;--s)if(!(a[s]==null||"n?".indexOf(a[s].t)===-1)){for(u=a[s].v.indexOf(".")>-1&&s===S?a[s].v.indexOf(".")-1:a[s].v.length-1,P=a[s].v.substr(u+1);u>=0;--u)D>=0&&(a[s].v.charAt(u)==="0"||a[s].v.charAt(u)==="#")&&(P=T.charAt(D--)+P);a[s].v=P,a[s].t="t",_=s}for(D>=0&&_<a.length&&(a[_].v=T.substr(0,D+1)+a[_].v),D=T.indexOf(".")+1,s=S;s<a.length;++s)if(!(a[s]==null||"n?(".indexOf(a[s].t)===-1&&s!==S)){for(u=a[s].v.indexOf(".")>-1&&s===S?a[s].v.indexOf(".")+1:0,P=a[s].v.substr(0,u);u<a[s].v.length;++u)D<T.length&&(P+=T.charAt(D++));a[s].v=P,a[s].t="t",_=s}}}for(s=0;s<a.length;++s)a[s]!=null&&"n?".indexOf(a[s].t)>-1&&(O=n>1&&t<0&&s>0&&a[s-1].v==="-"?-t:t,a[s].v=Xc(a[s].t,a[s].v,O),a[s].t="t");var j="";for(s=0;s!==a.length;++s)a[s]!=null&&(j+=a[s].v);return j}var ND=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function ED(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function lde(e,t){var r=sde(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(ND),o=r[1].match(ND);return ED(t,s)?[n,r[0]]:ED(t,o)?[n,r[1]]:[n,r[s!=null&&o!=null?2:1]]}return[n,i]}function Go(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Ir)[e],n==null&&(n=r.table&&r.table[SD[e]]||Ir[SD[e]]),n==null&&(n=qfe[e]||"General");break}if(bb(n,0))return hh(t,r);t instanceof Date&&(t=yz(t,r.date1904));var a=lde(n,t);if(bb(a[1]))return hh(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return ode(a[1],t,r,a[0])}function Jd(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Ir[r]==null){t<0&&(t=r);continue}if(Ir[r]==e){t=r;break}}t<0&&(t=391)}return Ir[t]=e,t}function Ez(){Ir=zfe()}var cde={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},kz=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function ude(e){var t=typeof e=="number"?Ir[e]:e;return t=t.replace(kz,"(\\d+)"),new RegExp("^"+t+"$")}function fde(e,t,r){var n=-1,a=-1,i=-1,s=-1,o=-1,l=-1;(t.match(kz)||[]).forEach(function(d,h){var p=parseInt(r[h+1],10);switch(d.toLowerCase().charAt(0)){case"y":n=p;break;case"d":i=p;break;case"h":s=p;break;case"s":l=p;break;case"m":s>=0?o=p:a=p;break}}),l>=0&&o==-1&&a>=0&&(o=a,a=-1);var c=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return s==-1&&o==-1&&l==-1?c:n==-1&&a==-1&&i==-1?u:c+"T"+u}var dde=function(){var e={};e.version="1.2.0";function t(){for(var T=0,S=new Array(256),_=0;_!=256;++_)T=_,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,S[_]=T;return typeof Int32Array<"u"?new Int32Array(S):S}var r=t();function n(T){var S=0,_=0,j=0,N=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(j=0;j!=256;++j)N[j]=T[j];for(j=0;j!=256;++j)for(_=T[j],S=256+j;S<4096;S+=256)_=N[S]=_>>>8^T[_&255];var E=[];for(j=1;j!=16;++j)E[j-1]=typeof Int32Array<"u"?N.subarray(j*256,j*256+256):N.slice(j*256,j*256+256);return E}var a=n(r),i=a[0],s=a[1],o=a[2],l=a[3],c=a[4],u=a[5],d=a[6],h=a[7],p=a[8],g=a[9],m=a[10],v=a[11],y=a[12],w=a[13],b=a[14];function D(T,S){for(var _=S^-1,j=0,N=T.length;j<N;)_=_>>>8^r[(_^T.charCodeAt(j++))&255];return~_}function P(T,S){for(var _=S^-1,j=T.length-15,N=0;N<j;)_=b[T[N++]^_&255]^w[T[N++]^_>>8&255]^y[T[N++]^_>>16&255]^v[T[N++]^_>>>24]^m[T[N++]]^g[T[N++]]^p[T[N++]]^h[T[N++]]^d[T[N++]]^u[T[N++]]^c[T[N++]]^l[T[N++]]^o[T[N++]]^s[T[N++]]^i[T[N++]]^r[T[N++]];for(j+=15;N<j;)_=_>>>8^r[(_^T[N++])&255];return~_}function O(T,S){for(var _=S^-1,j=0,N=T.length,E=0,k=0;j<N;)E=T.charCodeAt(j++),E<128?_=_>>>8^r[(_^E)&255]:E<2048?(_=_>>>8^r[(_^(192|E>>6&31))&255],_=_>>>8^r[(_^(128|E&63))&255]):E>=55296&&E<57344?(E=(E&1023)+64,k=T.charCodeAt(j++)&1023,_=_>>>8^r[(_^(240|E>>8&7))&255],_=_>>>8^r[(_^(128|E>>2&63))&255],_=_>>>8^r[(_^(128|k>>6&15|(E&3)<<4))&255],_=_>>>8^r[(_^(128|k&63))&255]):(_=_>>>8^r[(_^(224|E>>12&15))&255],_=_>>>8^r[(_^(128|E>>6&63))&255],_=_>>>8^r[(_^(128|E&63))&255]);return~_}return e.table=r,e.bstr=D,e.buf=P,e.str=O,e}(),an=function(){var t={};t.version="1.2.1";function r(oe,ye){for(var me=oe.split("/"),ve=ye.split("/"),Ae=0,Z=0,be=Math.min(me.length,ve.length);Ae<be;++Ae){if(Z=me[Ae].length-ve[Ae].length)return Z;if(me[Ae]!=ve[Ae])return me[Ae]<ve[Ae]?-1:1}return me.length-ve.length}function n(oe){if(oe.charAt(oe.length-1)=="/")return oe.slice(0,-1).indexOf("/")===-1?oe:n(oe.slice(0,-1));var ye=oe.lastIndexOf("/");return ye===-1?oe:oe.slice(0,ye+1)}function a(oe){if(oe.charAt(oe.length-1)=="/")return a(oe.slice(0,-1));var ye=oe.lastIndexOf("/");return ye===-1?oe:oe.slice(ye+1)}function i(oe,ye){typeof ye=="string"&&(ye=new Date(ye));var me=ye.getHours();me=me<<6|ye.getMinutes(),me=me<<5|ye.getSeconds()>>>1,oe.write_shift(2,me);var ve=ye.getFullYear()-1980;ve=ve<<4|ye.getMonth()+1,ve=ve<<5|ye.getDate(),oe.write_shift(2,ve)}function s(oe){var ye=oe.read_shift(2)&65535,me=oe.read_shift(2)&65535,ve=new Date,Ae=me&31;me>>>=5;var Z=me&15;me>>>=4,ve.setMilliseconds(0),ve.setFullYear(me+1980),ve.setMonth(Z-1),ve.setDate(Ae);var be=ye&31;ye>>>=5;var ke=ye&63;return ye>>>=6,ve.setHours(ye),ve.setMinutes(ke),ve.setSeconds(be<<1),ve}function o(oe){Ni(oe,0);for(var ye={},me=0;oe.l<=oe.length-4;){var ve=oe.read_shift(2),Ae=oe.read_shift(2),Z=oe.l+Ae,be={};switch(ve){case 21589:me=oe.read_shift(1),me&1&&(be.mtime=oe.read_shift(4)),Ae>5&&(me&2&&(be.atime=oe.read_shift(4)),me&4&&(be.ctime=oe.read_shift(4))),be.mtime&&(be.mt=new Date(be.mtime*1e3));break}oe.l=Z,ye[ve]=be}return ye}var l;function c(){return l||(l={})}function u(oe,ye){if(oe[0]==80&&oe[1]==75)return st(oe,ye);if((oe[0]|32)==109&&(oe[1]|32)==105)return mr(oe,ye);if(oe.length<512)throw new Error("CFB file size "+oe.length+" < 512");var me=3,ve=512,Ae=0,Z=0,be=0,ke=0,je=0,Be=[],Ke=oe.slice(0,512);Ni(Ke,0);var ot=d(Ke);switch(me=ot[0],me){case 3:ve=512;break;case 4:ve=4096;break;case 0:if(ot[1]==0)return st(oe,ye);default:throw new Error("Major Version: Expected 3 or 4 saw "+me)}ve!==512&&(Ke=oe.slice(0,ve),Ni(Ke,28));var Tt=oe.slice(0,ve);h(Ke,me);var Mt=Ke.read_shift(4,"i");if(me===3&&Mt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Mt);Ke.l+=4,be=Ke.read_shift(4,"i"),Ke.l+=4,Ke.chk("00100000","Mini Stream Cutoff Size: "),ke=Ke.read_shift(4,"i"),Ae=Ke.read_shift(4,"i"),je=Ke.read_shift(4,"i"),Z=Ke.read_shift(4,"i");for(var jt=-1,Ft=0;Ft<109&&(jt=Ke.read_shift(4,"i"),!(jt<0));++Ft)Be[Ft]=jt;var fr=p(oe,ve);v(je,Z,fr,ve,Be);var qr=w(fr,be,Be,ve);qr[be].name="!Directory",Ae>0&&ke!==k&&(qr[ke].name="!MiniFAT"),qr[Be[0]].name="!FAT",qr.fat_addrs=Be,qr.ssz=ve;var Ur={},hn=[],ia=[],Li=[];b(be,qr,fr,hn,Ae,Ur,ia,ke),g(ia,Li,hn),hn.shift();var ai={FileIndex:ia,FullPaths:Li};return ye&&ye.raw&&(ai.raw={header:Tt,sectors:fr}),ai}function d(oe){if(oe[oe.l]==80&&oe[oe.l+1]==75)return[0,0];oe.chk(U,"Header Signature: "),oe.l+=16;var ye=oe.read_shift(2,"u");return[oe.read_shift(2,"u"),ye]}function h(oe,ye){var me=9;switch(oe.l+=2,me=oe.read_shift(2)){case 9:if(ye!=3)throw new Error("Sector Shift: Expected 9 saw "+me);break;case 12:if(ye!=4)throw new Error("Sector Shift: Expected 12 saw "+me);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+me)}oe.chk("0600","Mini Sector Shift: "),oe.chk("000000000000","Reserved: ")}function p(oe,ye){for(var me=Math.ceil(oe.length/ye)-1,ve=[],Ae=1;Ae<me;++Ae)ve[Ae-1]=oe.slice(Ae*ye,(Ae+1)*ye);return ve[me-1]=oe.slice(me*ye),ve}function g(oe,ye,me){for(var ve=0,Ae=0,Z=0,be=0,ke=0,je=me.length,Be=[],Ke=[];ve<je;++ve)Be[ve]=Ke[ve]=ve,ye[ve]=me[ve];for(;ke<Ke.length;++ke)ve=Ke[ke],Ae=oe[ve].L,Z=oe[ve].R,be=oe[ve].C,Be[ve]===ve&&(Ae!==-1&&Be[Ae]!==Ae&&(Be[ve]=Be[Ae]),Z!==-1&&Be[Z]!==Z&&(Be[ve]=Be[Z])),be!==-1&&(Be[be]=ve),Ae!==-1&&ve!=Be[ve]&&(Be[Ae]=Be[ve],Ke.lastIndexOf(Ae)<ke&&Ke.push(Ae)),Z!==-1&&ve!=Be[ve]&&(Be[Z]=Be[ve],Ke.lastIndexOf(Z)<ke&&Ke.push(Z));for(ve=1;ve<je;++ve)Be[ve]===ve&&(Z!==-1&&Be[Z]!==Z?Be[ve]=Be[Z]:Ae!==-1&&Be[Ae]!==Ae&&(Be[ve]=Be[Ae]));for(ve=1;ve<je;++ve)if(oe[ve].type!==0){if(ke=ve,ke!=Be[ke])do ke=Be[ke],ye[ve]=ye[ke]+"/"+ye[ve];while(ke!==0&&Be[ke]!==-1&&ke!=Be[ke]);Be[ve]=-1}for(ye[0]+="/",ve=1;ve<je;++ve)oe[ve].type!==2&&(ye[ve]+="/")}function m(oe,ye,me){for(var ve=oe.start,Ae=oe.size,Z=[],be=ve;me&&Ae>0&&be>=0;)Z.push(ye.slice(be*E,be*E+E)),Ae-=E,be=Dd(me,be*4);return Z.length===0?Xa(0):df(Z).slice(0,oe.size)}function v(oe,ye,me,ve,Ae){var Z=k;if(oe===k){if(ye!==0)throw new Error("DIFAT chain shorter than expected")}else if(oe!==-1){var be=me[oe],ke=(ve>>>2)-1;if(!be)return;for(var je=0;je<ke&&(Z=Dd(be,je*4))!==k;++je)Ae.push(Z);v(Dd(be,ve-4),ye-1,me,ve,Ae)}}function y(oe,ye,me,ve,Ae){var Z=[],be=[];Ae||(Ae=[]);var ke=ve-1,je=0,Be=0;for(je=ye;je>=0;){Ae[je]=!0,Z[Z.length]=je,be.push(oe[je]);var Ke=me[Math.floor(je*4/ve)];if(Be=je*4&ke,ve<4+Be)throw new Error("FAT boundary crossed: "+je+" 4 "+ve);if(!oe[Ke])break;je=Dd(oe[Ke],Be)}return{nodes:Z,data:RD([be])}}function w(oe,ye,me,ve){var Ae=oe.length,Z=[],be=[],ke=[],je=[],Be=ve-1,Ke=0,ot=0,Tt=0,Mt=0;for(Ke=0;Ke<Ae;++Ke)if(ke=[],Tt=Ke+ye,Tt>=Ae&&(Tt-=Ae),!be[Tt]){je=[];var jt=[];for(ot=Tt;ot>=0;){jt[ot]=!0,be[ot]=!0,ke[ke.length]=ot,je.push(oe[ot]);var Ft=me[Math.floor(ot*4/ve)];if(Mt=ot*4&Be,ve<4+Mt)throw new Error("FAT boundary crossed: "+ot+" 4 "+ve);if(!oe[Ft]||(ot=Dd(oe[Ft],Mt),jt[ot]))break}Z[Tt]={nodes:ke,data:RD([je])}}return Z}function b(oe,ye,me,ve,Ae,Z,be,ke){for(var je=0,Be=ve.length?2:0,Ke=ye[oe].data,ot=0,Tt=0,Mt;ot<Ke.length;ot+=128){var jt=Ke.slice(ot,ot+128);Ni(jt,64),Tt=jt.read_shift(2),Mt=aC(jt,0,Tt-Be),ve.push(Mt);var Ft={name:Mt,type:jt.read_shift(1),color:jt.read_shift(1),L:jt.read_shift(4,"i"),R:jt.read_shift(4,"i"),C:jt.read_shift(4,"i"),clsid:jt.read_shift(16),state:jt.read_shift(4,"i"),start:0,size:0},fr=jt.read_shift(2)+jt.read_shift(2)+jt.read_shift(2)+jt.read_shift(2);fr!==0&&(Ft.ct=D(jt,jt.l-8));var qr=jt.read_shift(2)+jt.read_shift(2)+jt.read_shift(2)+jt.read_shift(2);qr!==0&&(Ft.mt=D(jt,jt.l-8)),Ft.start=jt.read_shift(4,"i"),Ft.size=jt.read_shift(4,"i"),Ft.size<0&&Ft.start<0&&(Ft.size=Ft.type=0,Ft.start=k,Ft.name=""),Ft.type===5?(je=Ft.start,Ae>0&&je!==k&&(ye[je].name="!StreamData")):Ft.size>=4096?(Ft.storage="fat",ye[Ft.start]===void 0&&(ye[Ft.start]=y(me,Ft.start,ye.fat_addrs,ye.ssz)),ye[Ft.start].name=Ft.name,Ft.content=ye[Ft.start].data.slice(0,Ft.size)):(Ft.storage="minifat",Ft.size<0?Ft.size=0:je!==k&&Ft.start!==k&&ye[je]&&(Ft.content=m(Ft,ye[je].data,(ye[ke]||{}).data))),Ft.content&&Ni(Ft.content,0),Z[Mt]=Ft,be.push(Ft)}}function D(oe,ye){return new Date((io(oe,ye+4)/1e7*Math.pow(2,32)+io(oe,ye)/1e7-11644473600)*1e3)}function P(oe,ye){return c(),u(l.readFileSync(oe),ye)}function O(oe,ye){var me=ye&&ye.type;switch(me||Xr&&Buffer.isBuffer(oe)&&(me="buffer"),me||"base64"){case"file":return P(oe,ye);case"base64":return u(wl(po(oe)),ye);case"binary":return u(wl(oe),ye)}return u(oe,ye)}function T(oe,ye){var me=ye||{},ve=me.root||"Root Entry";if(oe.FullPaths||(oe.FullPaths=[]),oe.FileIndex||(oe.FileIndex=[]),oe.FullPaths.length!==oe.FileIndex.length)throw new Error("inconsistent CFB structure");oe.FullPaths.length===0&&(oe.FullPaths[0]=ve+"/",oe.FileIndex[0]={name:ve,type:5}),me.CLSID&&(oe.FileIndex[0].clsid=me.CLSID),S(oe)}function S(oe){var ye="Sh33tJ5";if(!an.find(oe,"/"+ye)){var me=Xa(4);me[0]=55,me[1]=me[3]=50,me[2]=54,oe.FileIndex.push({name:ye,type:2,content:me,size:4,L:69,R:69,C:69}),oe.FullPaths.push(oe.FullPaths[0]+ye),_(oe)}}function _(oe,ye){T(oe);for(var me=!1,ve=!1,Ae=oe.FullPaths.length-1;Ae>=0;--Ae){var Z=oe.FileIndex[Ae];switch(Z.type){case 0:ve?me=!0:(oe.FileIndex.pop(),oe.FullPaths.pop());break;case 1:case 2:case 5:ve=!0,isNaN(Z.R*Z.L*Z.C)&&(me=!0),Z.R>-1&&Z.L>-1&&Z.R==Z.L&&(me=!0);break;default:me=!0;break}}if(!(!me&&!ye)){var be=new Date(1987,1,19),ke=0,je=Object.create?Object.create(null):{},Be=[];for(Ae=0;Ae<oe.FullPaths.length;++Ae)je[oe.FullPaths[Ae]]=!0,oe.FileIndex[Ae].type!==0&&Be.push([oe.FullPaths[Ae],oe.FileIndex[Ae]]);for(Ae=0;Ae<Be.length;++Ae){var Ke=n(Be[Ae][0]);ve=je[Ke],ve||(Be.push([Ke,{name:a(Ke).replace("/",""),type:1,clsid:z,ct:be,mt:be,content:null}]),je[Ke]=!0)}for(Be.sort(function(Mt,jt){return r(Mt[0],jt[0])}),oe.FullPaths=[],oe.FileIndex=[],Ae=0;Ae<Be.length;++Ae)oe.FullPaths[Ae]=Be[Ae][0],oe.FileIndex[Ae]=Be[Ae][1];for(Ae=0;Ae<Be.length;++Ae){var ot=oe.FileIndex[Ae],Tt=oe.FullPaths[Ae];if(ot.name=a(Tt).replace("/",""),ot.L=ot.R=ot.C=-(ot.color=1),ot.size=ot.content?ot.content.length:0,ot.start=0,ot.clsid=ot.clsid||z,Ae===0)ot.C=Be.length>1?1:-1,ot.size=0,ot.type=5;else if(Tt.slice(-1)=="/"){for(ke=Ae+1;ke<Be.length&&n(oe.FullPaths[ke])!=Tt;++ke);for(ot.C=ke>=Be.length?-1:ke,ke=Ae+1;ke<Be.length&&n(oe.FullPaths[ke])!=n(Tt);++ke);ot.R=ke>=Be.length?-1:ke,ot.type=1}else n(oe.FullPaths[Ae+1]||"")==n(Tt)&&(ot.R=Ae+1),ot.type=2}}}function j(oe,ye){var me=ye||{};if(me.fileType=="mad")return zt(oe,me);switch(_(oe),me.fileType){case"zip":return Ut(oe,me)}var ve=function(Mt){for(var jt=0,Ft=0,fr=0;fr<Mt.FileIndex.length;++fr){var qr=Mt.FileIndex[fr];if(qr.content){var Ur=qr.content.length;Ur>0&&(Ur<4096?jt+=Ur+63>>6:Ft+=Ur+511>>9)}}for(var hn=Mt.FullPaths.length+3>>2,ia=jt+7>>3,Li=jt+127>>7,ai=ia+Ft+hn+Li,sa=ai+127>>7,Oa=sa<=109?0:Math.ceil((sa-109)/127);ai+sa+Oa+127>>7>sa;)Oa=++sa<=109?0:Math.ceil((sa-109)/127);var ln=[1,Oa,sa,Li,hn,Ft,jt,0];return Mt.FileIndex[0].size=jt<<6,ln[7]=(Mt.FileIndex[0].start=ln[0]+ln[1]+ln[2]+ln[3]+ln[4]+ln[5])+(ln[6]+7>>3),ln}(oe),Ae=Xa(ve[7]<<9),Z=0,be=0;{for(Z=0;Z<8;++Z)Ae.write_shift(1,G[Z]);for(Z=0;Z<8;++Z)Ae.write_shift(2,0);for(Ae.write_shift(2,62),Ae.write_shift(2,3),Ae.write_shift(2,65534),Ae.write_shift(2,9),Ae.write_shift(2,6),Z=0;Z<3;++Z)Ae.write_shift(2,0);for(Ae.write_shift(4,0),Ae.write_shift(4,ve[2]),Ae.write_shift(4,ve[0]+ve[1]+ve[2]+ve[3]-1),Ae.write_shift(4,0),Ae.write_shift(4,4096),Ae.write_shift(4,ve[3]?ve[0]+ve[1]+ve[2]-1:k),Ae.write_shift(4,ve[3]),Ae.write_shift(-4,ve[1]?ve[0]-1:k),Ae.write_shift(4,ve[1]),Z=0;Z<109;++Z)Ae.write_shift(-4,Z<ve[2]?ve[1]+Z:-1)}if(ve[1])for(be=0;be<ve[1];++be){for(;Z<236+be*127;++Z)Ae.write_shift(-4,Z<ve[2]?ve[1]+Z:-1);Ae.write_shift(-4,be===ve[1]-1?k:be+1)}var ke=function(Mt){for(be+=Mt;Z<be-1;++Z)Ae.write_shift(-4,Z+1);Mt&&(++Z,Ae.write_shift(-4,k))};for(be=Z=0,be+=ve[1];Z<be;++Z)Ae.write_shift(-4,X.DIFSECT);for(be+=ve[2];Z<be;++Z)Ae.write_shift(-4,X.FATSECT);ke(ve[3]),ke(ve[4]);for(var je=0,Be=0,Ke=oe.FileIndex[0];je<oe.FileIndex.length;++je)Ke=oe.FileIndex[je],Ke.content&&(Be=Ke.content.length,!(Be<4096)&&(Ke.start=be,ke(Be+511>>9)));for(ke(ve[6]+7>>3);Ae.l&511;)Ae.write_shift(-4,X.ENDOFCHAIN);for(be=Z=0,je=0;je<oe.FileIndex.length;++je)Ke=oe.FileIndex[je],Ke.content&&(Be=Ke.content.length,!(!Be||Be>=4096)&&(Ke.start=be,ke(Be+63>>6)));for(;Ae.l&511;)Ae.write_shift(-4,X.ENDOFCHAIN);for(Z=0;Z<ve[4]<<2;++Z){var ot=oe.FullPaths[Z];if(!ot||ot.length===0){for(je=0;je<17;++je)Ae.write_shift(4,0);for(je=0;je<3;++je)Ae.write_shift(4,-1);for(je=0;je<12;++je)Ae.write_shift(4,0);continue}Ke=oe.FileIndex[Z],Z===0&&(Ke.start=Ke.size?Ke.start-1:k);var Tt=Z===0&&me.root||Ke.name;if(Be=2*(Tt.length+1),Ae.write_shift(64,Tt,"utf16le"),Ae.write_shift(2,Be),Ae.write_shift(1,Ke.type),Ae.write_shift(1,Ke.color),Ae.write_shift(-4,Ke.L),Ae.write_shift(-4,Ke.R),Ae.write_shift(-4,Ke.C),Ke.clsid)Ae.write_shift(16,Ke.clsid,"hex");else for(je=0;je<4;++je)Ae.write_shift(4,0);Ae.write_shift(4,Ke.state||0),Ae.write_shift(4,0),Ae.write_shift(4,0),Ae.write_shift(4,0),Ae.write_shift(4,0),Ae.write_shift(4,Ke.start),Ae.write_shift(4,Ke.size),Ae.write_shift(4,0)}for(Z=1;Z<oe.FileIndex.length;++Z)if(Ke=oe.FileIndex[Z],Ke.size>=4096)if(Ae.l=Ke.start+1<<9,Xr&&Buffer.isBuffer(Ke.content))Ke.content.copy(Ae,Ae.l,0,Ke.size),Ae.l+=Ke.size+511&-512;else{for(je=0;je<Ke.size;++je)Ae.write_shift(1,Ke.content[je]);for(;je&511;++je)Ae.write_shift(1,0)}for(Z=1;Z<oe.FileIndex.length;++Z)if(Ke=oe.FileIndex[Z],Ke.size>0&&Ke.size<4096)if(Xr&&Buffer.isBuffer(Ke.content))Ke.content.copy(Ae,Ae.l,0,Ke.size),Ae.l+=Ke.size+63&-64;else{for(je=0;je<Ke.size;++je)Ae.write_shift(1,Ke.content[je]);for(;je&63;++je)Ae.write_shift(1,0)}if(Xr)Ae.l=Ae.length;else for(;Ae.l<Ae.length;)Ae.write_shift(1,0);return Ae}function N(oe,ye){var me=oe.FullPaths.map(function(je){return je.toUpperCase()}),ve=me.map(function(je){var Be=je.split("/");return Be[Be.length-(je.slice(-1)=="/"?2:1)]}),Ae=!1;ye.charCodeAt(0)===47?(Ae=!0,ye=me[0].slice(0,-1)+ye):Ae=ye.indexOf("/")!==-1;var Z=ye.toUpperCase(),be=Ae===!0?me.indexOf(Z):ve.indexOf(Z);if(be!==-1)return oe.FileIndex[be];var ke=!Z.match(wg);for(Z=Z.replace(Ns,""),ke&&(Z=Z.replace(wg,"!")),be=0;be<me.length;++be)if((ke?me[be].replace(wg,"!"):me[be]).replace(Ns,"")==Z||(ke?ve[be].replace(wg,"!"):ve[be]).replace(Ns,"")==Z)return oe.FileIndex[be];return null}var E=64,k=-2,U="d0cf11e0a1b11ae1",G=[208,207,17,224,161,177,26,225],z="00000000000000000000000000000000",X={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:k,FREESECT:-1,HEADER_SIGNATURE:U,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:z,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function V(oe,ye,me){c();var ve=j(oe,me);l.writeFileSync(ye,ve)}function H(oe){for(var ye=new Array(oe.length),me=0;me<oe.length;++me)ye[me]=String.fromCharCode(oe[me]);return ye.join("")}function re(oe,ye){var me=j(oe,ye);switch(ye&&ye.type||"buffer"){case"file":return c(),l.writeFileSync(ye.filename,me),me;case"binary":return typeof me=="string"?me:H(me);case"base64":return xD(typeof me=="string"?me:H(me));case"buffer":if(Xr)return Buffer.isBuffer(me)?me:kh(me);case"array":return typeof me=="string"?wl(me):me}return me}var ee;function I(oe){try{var ye=oe.InflateRaw,me=new ye;if(me._processChunk(new Uint8Array([3,0]),me._finishFlushFlag),me.bytesRead)ee=oe;else throw new Error("zlib does not expose bytesRead")}catch(ve){console.error("cannot use native zlib: "+(ve.message||ve))}}function M(oe,ye){if(!ee)return rt(oe,ye);var me=ee.InflateRaw,ve=new me,Ae=ve._processChunk(oe.slice(oe.l),ve._finishFlushFlag);return oe.l+=ve.bytesRead,Ae}function q(oe){return ee?ee.deflateRawSync(oe):mt(oe)}var K=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],J=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],se=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function he(oe){var ye=(oe<<1|oe<<11)&139536|(oe<<5|oe<<15)&558144;return(ye>>16|ye>>8|ye)&255}for(var ie=typeof Uint8Array<"u",ge=ie?new Uint8Array(256):[],xe=0;xe<256;++xe)ge[xe]=he(xe);function W(oe,ye){var me=ge[oe&255];return ye<=8?me>>>8-ye:(me=me<<8|ge[oe>>8&255],ye<=16?me>>>16-ye:(me=me<<8|ge[oe>>16&255],me>>>24-ye))}function Pe(oe,ye){var me=ye&7,ve=ye>>>3;return(oe[ve]|(me<=6?0:oe[ve+1]<<8))>>>me&3}function Ce(oe,ye){var me=ye&7,ve=ye>>>3;return(oe[ve]|(me<=5?0:oe[ve+1]<<8))>>>me&7}function Te(oe,ye){var me=ye&7,ve=ye>>>3;return(oe[ve]|(me<=4?0:oe[ve+1]<<8))>>>me&15}function ce(oe,ye){var me=ye&7,ve=ye>>>3;return(oe[ve]|(me<=3?0:oe[ve+1]<<8))>>>me&31}function Fe(oe,ye){var me=ye&7,ve=ye>>>3;return(oe[ve]|(me<=1?0:oe[ve+1]<<8))>>>me&127}function Ge(oe,ye,me){var ve=ye&7,Ae=ye>>>3,Z=(1<<me)-1,be=oe[Ae]>>>ve;return me<8-ve||(be|=oe[Ae+1]<<8-ve,me<16-ve)||(be|=oe[Ae+2]<<16-ve,me<24-ve)||(be|=oe[Ae+3]<<24-ve),be&Z}function Le(oe,ye,me){var ve=ye&7,Ae=ye>>>3;return ve<=5?oe[Ae]|=(me&7)<<ve:(oe[Ae]|=me<<ve&255,oe[Ae+1]=(me&7)>>8-ve),ye+3}function Ye(oe,ye,me){var ve=ye&7,Ae=ye>>>3;return me=(me&1)<<ve,oe[Ae]|=me,ye+1}function _e(oe,ye,me){var ve=ye&7,Ae=ye>>>3;return me<<=ve,oe[Ae]|=me&255,me>>>=8,oe[Ae+1]=me,ye+8}function $e(oe,ye,me){var ve=ye&7,Ae=ye>>>3;return me<<=ve,oe[Ae]|=me&255,me>>>=8,oe[Ae+1]=me&255,oe[Ae+2]=me>>>8,ye+16}function Ne(oe,ye){var me=oe.length,ve=2*me>ye?2*me:ye+5,Ae=0;if(me>=ye)return oe;if(Xr){var Z=bD(ve);if(oe.copy)oe.copy(Z);else for(;Ae<oe.length;++Ae)Z[Ae]=oe[Ae];return Z}else if(ie){var be=new Uint8Array(ve);if(be.set)be.set(oe);else for(;Ae<me;++Ae)be[Ae]=oe[Ae];return be}return oe.length=ve,oe}function Ie(oe){for(var ye=new Array(oe),me=0;me<oe;++me)ye[me]=0;return ye}function We(oe,ye,me){var ve=1,Ae=0,Z=0,be=0,ke=0,je=oe.length,Be=ie?new Uint16Array(32):Ie(32);for(Z=0;Z<32;++Z)Be[Z]=0;for(Z=je;Z<me;++Z)oe[Z]=0;je=oe.length;var Ke=ie?new Uint16Array(je):Ie(je);for(Z=0;Z<je;++Z)Be[Ae=oe[Z]]++,ve<Ae&&(ve=Ae),Ke[Z]=0;for(Be[0]=0,Z=1;Z<=ve;++Z)Be[Z+16]=ke=ke+Be[Z-1]<<1;for(Z=0;Z<je;++Z)ke=oe[Z],ke!=0&&(Ke[Z]=Be[ke+16]++);var ot=0;for(Z=0;Z<je;++Z)if(ot=oe[Z],ot!=0)for(ke=W(Ke[Z],ve)>>ve-ot,be=(1<<ve+4-ot)-1;be>=0;--be)ye[ke|be<<ot]=ot&15|Z<<4;return ve}var it=ie?new Uint16Array(512):Ie(512),ht=ie?new Uint16Array(32):Ie(32);if(!ie){for(var xt=0;xt<512;++xt)it[xt]=0;for(xt=0;xt<32;++xt)ht[xt]=0}(function(){for(var oe=[],ye=0;ye<32;ye++)oe.push(5);We(oe,ht,32);var me=[];for(ye=0;ye<=143;ye++)me.push(8);for(;ye<=255;ye++)me.push(9);for(;ye<=279;ye++)me.push(7);for(;ye<=287;ye++)me.push(8);We(me,it,288)})();var St=function(){for(var ye=ie?new Uint8Array(32768):[],me=0,ve=0;me<se.length-1;++me)for(;ve<se[me+1];++ve)ye[ve]=me;for(;ve<32768;++ve)ye[ve]=29;var Ae=ie?new Uint8Array(259):[];for(me=0,ve=0;me<J.length-1;++me)for(;ve<J[me+1];++ve)Ae[ve]=me;function Z(ke,je){for(var Be=0;Be<ke.length;){var Ke=Math.min(65535,ke.length-Be),ot=Be+Ke==ke.length;for(je.write_shift(1,+ot),je.write_shift(2,Ke),je.write_shift(2,~Ke&65535);Ke-- >0;)je[je.l++]=ke[Be++]}return je.l}function be(ke,je){for(var Be=0,Ke=0,ot=ie?new Uint16Array(32768):[];Ke<ke.length;){var Tt=Math.min(65535,ke.length-Ke);if(Tt<10){for(Be=Le(je,Be,+(Ke+Tt==ke.length)),Be&7&&(Be+=8-(Be&7)),je.l=Be/8|0,je.write_shift(2,Tt),je.write_shift(2,~Tt&65535);Tt-- >0;)je[je.l++]=ke[Ke++];Be=je.l*8;continue}Be=Le(je,Be,+(Ke+Tt==ke.length)+2);for(var Mt=0;Tt-- >0;){var jt=ke[Ke];Mt=(Mt<<5^jt)&32767;var Ft=-1,fr=0;if((Ft=ot[Mt])&&(Ft|=Ke&-32768,Ft>Ke&&(Ft-=32768),Ft<Ke))for(;ke[Ft+fr]==ke[Ke+fr]&&fr<250;)++fr;if(fr>2){jt=Ae[fr],jt<=22?Be=_e(je,Be,ge[jt+1]>>1)-1:(_e(je,Be,3),Be+=5,_e(je,Be,ge[jt-23]>>5),Be+=3);var qr=jt<8?0:jt-4>>2;qr>0&&($e(je,Be,fr-J[jt]),Be+=qr),jt=ye[Ke-Ft],Be=_e(je,Be,ge[jt]>>3),Be-=3;var Ur=jt<4?0:jt-2>>1;Ur>0&&($e(je,Be,Ke-Ft-se[jt]),Be+=Ur);for(var hn=0;hn<fr;++hn)ot[Mt]=Ke&32767,Mt=(Mt<<5^ke[Ke])&32767,++Ke;Tt-=fr-1}else jt<=143?jt=jt+48:Be=Ye(je,Be,1),Be=_e(je,Be,ge[jt]),ot[Mt]=Ke&32767,++Ke}Be=_e(je,Be,0)-1}return je.l=(Be+7)/8|0,je.l}return function(je,Be){return je.length<8?Z(je,Be):be(je,Be)}}();function mt(oe){var ye=Xa(50+Math.floor(oe.length*1.1)),me=St(oe,ye);return ye.slice(0,me)}var ut=ie?new Uint16Array(32768):Ie(32768),Xt=ie?new Uint16Array(32768):Ie(32768),Kt=ie?new Uint16Array(128):Ie(128),jr=1,_r=1;function Dr(oe,ye){var me=ce(oe,ye)+257;ye+=5;var ve=ce(oe,ye)+1;ye+=5;var Ae=Te(oe,ye)+4;ye+=4;for(var Z=0,be=ie?new Uint8Array(19):Ie(19),ke=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],je=1,Be=ie?new Uint8Array(8):Ie(8),Ke=ie?new Uint8Array(8):Ie(8),ot=be.length,Tt=0;Tt<Ae;++Tt)be[K[Tt]]=Z=Ce(oe,ye),je<Z&&(je=Z),Be[Z]++,ye+=3;var Mt=0;for(Be[0]=0,Tt=1;Tt<=je;++Tt)Ke[Tt]=Mt=Mt+Be[Tt-1]<<1;for(Tt=0;Tt<ot;++Tt)(Mt=be[Tt])!=0&&(ke[Tt]=Ke[Mt]++);var jt=0;for(Tt=0;Tt<ot;++Tt)if(jt=be[Tt],jt!=0){Mt=ge[ke[Tt]]>>8-jt;for(var Ft=(1<<7-jt)-1;Ft>=0;--Ft)Kt[Mt|Ft<<jt]=jt&7|Tt<<3}var fr=[];for(je=1;fr.length<me+ve;)switch(Mt=Kt[Fe(oe,ye)],ye+=Mt&7,Mt>>>=3){case 16:for(Z=3+Pe(oe,ye),ye+=2,Mt=fr[fr.length-1];Z-- >0;)fr.push(Mt);break;case 17:for(Z=3+Ce(oe,ye),ye+=3;Z-- >0;)fr.push(0);break;case 18:for(Z=11+Fe(oe,ye),ye+=7;Z-- >0;)fr.push(0);break;default:fr.push(Mt),je<Mt&&(je=Mt);break}var qr=fr.slice(0,me),Ur=fr.slice(me);for(Tt=me;Tt<286;++Tt)qr[Tt]=0;for(Tt=ve;Tt<30;++Tt)Ur[Tt]=0;return jr=We(qr,ut,286),_r=We(Ur,Xt,30),ye}function De(oe,ye){if(oe[0]==3&&!(oe[1]&3))return[Yf(ye),2];for(var me=0,ve=0,Ae=bD(ye||1<<18),Z=0,be=Ae.length>>>0,ke=0,je=0;!(ve&1);){if(ve=Ce(oe,me),me+=3,ve>>>1)ve>>1==1?(ke=9,je=5):(me=Dr(oe,me),ke=jr,je=_r);else{me&7&&(me+=8-(me&7));var Be=oe[me>>>3]|oe[(me>>>3)+1]<<8;if(me+=32,Be>0)for(!ye&&be<Z+Be&&(Ae=Ne(Ae,Z+Be),be=Ae.length);Be-- >0;)Ae[Z++]=oe[me>>>3],me+=8;continue}for(;;){!ye&&be<Z+32767&&(Ae=Ne(Ae,Z+32767),be=Ae.length);var Ke=Ge(oe,me,ke),ot=ve>>>1==1?it[Ke]:ut[Ke];if(me+=ot&15,ot>>>=4,!(ot>>>8&255))Ae[Z++]=ot;else{if(ot==256)break;ot-=257;var Tt=ot<8?0:ot-4>>2;Tt>5&&(Tt=0);var Mt=Z+J[ot];Tt>0&&(Mt+=Ge(oe,me,Tt),me+=Tt),Ke=Ge(oe,me,je),ot=ve>>>1==1?ht[Ke]:Xt[Ke],me+=ot&15,ot>>>=4;var jt=ot<4?0:ot-2>>1,Ft=se[ot];for(jt>0&&(Ft+=Ge(oe,me,jt),me+=jt),!ye&&be<Mt&&(Ae=Ne(Ae,Mt+100),be=Ae.length);Z<Mt;)Ae[Z]=Ae[Z-Ft],++Z}}}return ye?[Ae,me+7>>>3]:[Ae.slice(0,Z),me+7>>>3]}function rt(oe,ye){var me=oe.slice(oe.l||0),ve=De(me,ye);return oe.l+=ve[1],ve[0]}function nt(oe,ye){if(oe)typeof console<"u"&&console.error(ye);else throw new Error(ye)}function st(oe,ye){var me=oe;Ni(me,0);var ve=[],Ae=[],Z={FileIndex:ve,FullPaths:Ae};T(Z,{root:ye.root});for(var be=me.length-4;(me[be]!=80||me[be+1]!=75||me[be+2]!=5||me[be+3]!=6)&&be>=0;)--be;me.l=be+4,me.l+=4;var ke=me.read_shift(2);me.l+=6;var je=me.read_shift(4);for(me.l=je,be=0;be<ke;++be){me.l+=20;var Be=me.read_shift(4),Ke=me.read_shift(4),ot=me.read_shift(2),Tt=me.read_shift(2),Mt=me.read_shift(2);me.l+=8;var jt=me.read_shift(4),Ft=o(me.slice(me.l+ot,me.l+ot+Tt));me.l+=ot+Tt+Mt;var fr=me.l;me.l=jt+4,Ct(me,Be,Ke,Z,Ft),me.l=fr}return Z}function Ct(oe,ye,me,ve,Ae){oe.l+=2;var Z=oe.read_shift(2),be=oe.read_shift(2),ke=s(oe);if(Z&8257)throw new Error("Unsupported ZIP encryption");for(var je=oe.read_shift(4),Be=oe.read_shift(4),Ke=oe.read_shift(4),ot=oe.read_shift(2),Tt=oe.read_shift(2),Mt="",jt=0;jt<ot;++jt)Mt+=String.fromCharCode(oe[oe.l++]);if(Tt){var Ft=o(oe.slice(oe.l,oe.l+Tt));(Ft[21589]||{}).mt&&(ke=Ft[21589].mt),((Ae||{})[21589]||{}).mt&&(ke=Ae[21589].mt)}oe.l+=Tt;var fr=oe.slice(oe.l,oe.l+Be);switch(be){case 8:fr=M(oe,Ke);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+be)}var qr=!1;Z&8&&(je=oe.read_shift(4),je==134695760&&(je=oe.read_shift(4),qr=!0),Be=oe.read_shift(4),Ke=oe.read_shift(4)),Be!=ye&&nt(qr,"Bad compressed size: "+ye+" != "+Be),Ke!=me&&nt(qr,"Bad uncompressed size: "+me+" != "+Ke),Bn(ve,Mt,fr,{unsafe:!0,mt:ke})}function Ut(oe,ye){var me=ye||{},ve=[],Ae=[],Z=Xa(1),be=me.compression?8:0,ke=0,je=0,Be=0,Ke=0,ot=0,Tt=oe.FullPaths[0],Mt=Tt,jt=oe.FileIndex[0],Ft=[],fr=0;for(je=1;je<oe.FullPaths.length;++je)if(Mt=oe.FullPaths[je].slice(Tt.length),jt=oe.FileIndex[je],!(!jt.size||!jt.content||Mt=="Sh33tJ5")){var qr=Ke,Ur=Xa(Mt.length);for(Be=0;Be<Mt.length;++Be)Ur.write_shift(1,Mt.charCodeAt(Be)&127);Ur=Ur.slice(0,Ur.l),Ft[ot]=dde.buf(jt.content,0);var hn=jt.content;be==8&&(hn=q(hn)),Z=Xa(30),Z.write_shift(4,67324752),Z.write_shift(2,20),Z.write_shift(2,ke),Z.write_shift(2,be),jt.mt?i(Z,jt.mt):Z.write_shift(4,0),Z.write_shift(-4,Ft[ot]),Z.write_shift(4,hn.length),Z.write_shift(4,jt.content.length),Z.write_shift(2,Ur.length),Z.write_shift(2,0),Ke+=Z.length,ve.push(Z),Ke+=Ur.length,ve.push(Ur),Ke+=hn.length,ve.push(hn),Z=Xa(46),Z.write_shift(4,33639248),Z.write_shift(2,0),Z.write_shift(2,20),Z.write_shift(2,ke),Z.write_shift(2,be),Z.write_shift(4,0),Z.write_shift(-4,Ft[ot]),Z.write_shift(4,hn.length),Z.write_shift(4,jt.content.length),Z.write_shift(2,Ur.length),Z.write_shift(2,0),Z.write_shift(2,0),Z.write_shift(2,0),Z.write_shift(2,0),Z.write_shift(4,0),Z.write_shift(4,qr),fr+=Z.l,Ae.push(Z),fr+=Ur.length,Ae.push(Ur),++ot}return Z=Xa(22),Z.write_shift(4,101010256),Z.write_shift(2,0),Z.write_shift(2,0),Z.write_shift(2,ot),Z.write_shift(2,ot),Z.write_shift(4,fr),Z.write_shift(4,Ke),Z.write_shift(2,0),df([df(ve),df(Ae),Z])}var Pt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Dt(oe,ye){if(oe.ctype)return oe.ctype;var me=oe.name||"",ve=me.match(/\.([^\.]+)$/);return ve&&Pt[ve[1]]||ye&&(ve=(me=ye).match(/[\.\\]([^\.\\])+$/),ve&&Pt[ve[1]])?Pt[ve[1]]:"application/octet-stream"}function Vt(oe){for(var ye=xD(oe),me=[],ve=0;ve<ye.length;ve+=76)me.push(ye.slice(ve,ve+76));return me.join(`\r
`)+`\r
`}function xr(oe){var ye=oe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Be){var Ke=Be.charCodeAt(0).toString(16).toUpperCase();return"="+(Ke.length==1?"0"+Ke:Ke)});ye=ye.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ye.charAt(0)==`
`&&(ye="=0D"+ye.slice(1)),ye=ye.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var me=[],ve=ye.split(`\r
`),Ae=0;Ae<ve.length;++Ae){var Z=ve[Ae];if(Z.length==0){me.push("");continue}for(var be=0;be<Z.length;){var ke=76,je=Z.slice(be,be+ke);je.charAt(ke-1)=="="?ke--:je.charAt(ke-2)=="="?ke-=2:je.charAt(ke-3)=="="&&(ke-=3),je=Z.slice(be,be+ke),be+=ke,be<Z.length&&(je+="="),me.push(je)}}return me.join(`\r
`)}function or(oe){for(var ye=[],me=0;me<oe.length;++me){for(var ve=oe[me];me<=oe.length&&ve.charAt(ve.length-1)=="=";)ve=ve.slice(0,ve.length-1)+oe[++me];ye.push(ve)}for(var Ae=0;Ae<ye.length;++Ae)ye[Ae]=ye[Ae].replace(/[=][0-9A-Fa-f]{2}/g,function(Z){return String.fromCharCode(parseInt(Z.slice(1),16))});return wl(ye.join(`\r
`))}function Tr(oe,ye,me){for(var ve="",Ae="",Z="",be,ke=0;ke<10;++ke){var je=ye[ke];if(!je||je.match(/^\s*$/))break;var Be=je.match(/^(.*?):\s*([^\s].*)$/);if(Be)switch(Be[1].toLowerCase()){case"content-location":ve=Be[2].trim();break;case"content-type":Z=Be[2].trim();break;case"content-transfer-encoding":Ae=Be[2].trim();break}}switch(++ke,Ae.toLowerCase()){case"base64":be=wl(po(ye.slice(ke).join("")));break;case"quoted-printable":be=or(ye.slice(ke));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Ae)}var Ke=Bn(oe,ve.slice(me.length),be,{unsafe:!0});Z&&(Ke.ctype=Z)}function mr(oe,ye){if(H(oe.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var me=ye&&ye.root||"",ve=(Xr&&Buffer.isBuffer(oe)?oe.toString("binary"):H(oe)).split(`\r
`),Ae=0,Z="";for(Ae=0;Ae<ve.length;++Ae)if(Z=ve[Ae],!!/^Content-Location:/i.test(Z)&&(Z=Z.slice(Z.indexOf("file")),me||(me=Z.slice(0,Z.lastIndexOf("/")+1)),Z.slice(0,me.length)!=me))for(;me.length>0&&(me=me.slice(0,me.length-1),me=me.slice(0,me.lastIndexOf("/")+1),Z.slice(0,me.length)!=me););var be=(ve[1]||"").match(/boundary="(.*?)"/);if(!be)throw new Error("MAD cannot find boundary");var ke="--"+(be[1]||""),je=[],Be=[],Ke={FileIndex:je,FullPaths:Be};T(Ke);var ot,Tt=0;for(Ae=0;Ae<ve.length;++Ae){var Mt=ve[Ae];Mt!==ke&&Mt!==ke+"--"||(Tt++&&Tr(Ke,ve.slice(ot,Ae),me),ot=Ae)}return Ke}function zt(oe,ye){var me=ye||{},ve=me.boundary||"SheetJS";ve="------="+ve;for(var Ae=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ve.slice(2)+'"',"","",""],Z=oe.FullPaths[0],be=Z,ke=oe.FileIndex[0],je=1;je<oe.FullPaths.length;++je)if(be=oe.FullPaths[je].slice(Z.length),ke=oe.FileIndex[je],!(!ke.size||!ke.content||be=="Sh33tJ5")){be=be.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(fr){return"_x"+fr.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(fr){return"_u"+fr.charCodeAt(0).toString(16)+"_"});for(var Be=ke.content,Ke=Xr&&Buffer.isBuffer(Be)?Be.toString("binary"):H(Be),ot=0,Tt=Math.min(1024,Ke.length),Mt=0,jt=0;jt<=Tt;++jt)(Mt=Ke.charCodeAt(jt))>=32&&Mt<128&&++ot;var Ft=ot>=Tt*4/5;Ae.push(ve),Ae.push("Content-Location: "+(me.root||"file:///C:/SheetJS/")+be),Ae.push("Content-Transfer-Encoding: "+(Ft?"quoted-printable":"base64")),Ae.push("Content-Type: "+Dt(ke,be)),Ae.push(""),Ae.push(Ft?xr(Ke):Vt(Ke))}return Ae.push(ve+`--\r
`),Ae.join(`\r
`)}function da(oe){var ye={};return T(ye,oe),ye}function Bn(oe,ye,me,ve){var Ae=ve&&ve.unsafe;Ae||T(oe);var Z=!Ae&&an.find(oe,ye);if(!Z){var be=oe.FullPaths[0];ye.slice(0,be.length)==be?be=ye:(be.slice(-1)!="/"&&(be+="/"),be=(be+ye).replace("//","/")),Z={name:a(ye),type:2},oe.FileIndex.push(Z),oe.FullPaths.push(be),Ae||an.utils.cfb_gc(oe)}return Z.content=me,Z.size=me?me.length:0,ve&&(ve.CLSID&&(Z.clsid=ve.CLSID),ve.mt&&(Z.mt=ve.mt),ve.ct&&(Z.ct=ve.ct)),Z}function Br(oe,ye){T(oe);var me=an.find(oe,ye);if(me){for(var ve=0;ve<oe.FileIndex.length;++ve)if(oe.FileIndex[ve]==me)return oe.FileIndex.splice(ve,1),oe.FullPaths.splice(ve,1),!0}return!1}function An(oe,ye,me){T(oe);var ve=an.find(oe,ye);if(ve){for(var Ae=0;Ae<oe.FileIndex.length;++Ae)if(oe.FileIndex[Ae]==ve)return oe.FileIndex[Ae].name=a(me),oe.FullPaths[Ae]=me,!0}return!1}function gn(oe){_(oe,!0)}return t.find=N,t.read=O,t.parse=u,t.write=re,t.writeFile=V,t.utils={cfb_new:da,cfb_add:Bn,cfb_del:Br,cfb_mov:An,cfb_gc:gn,ReadShift:Wg,CheckField:Xz,prep_blob:Ni,bconcat:df,use_zlib:I,_deflateRaw:mt,_inflateRaw:rt,consts:X},t}();function hde(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function hc(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function eC(e){for(var t=[],r=hc(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}var _b=new Date(1899,11,30,0,0,0);function Es(e,t){var r=e.getTime(),n=_b.getTime()+(e.getTimezoneOffset()-_b.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var Cz=new Date,pde=_b.getTime()+(Cz.getTimezoneOffset()-_b.getTimezoneOffset())*6e4,kD=Cz.getTimezoneOffset();function A5(e){var t=new Date;return t.setTime(e*24*60*60*1e3+pde),t.getTimezoneOffset()!==kD&&t.setTime(t.getTime()+(t.getTimezoneOffset()-kD)*6e4),t}function mde(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(r=1,i>3&&(n=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[i],10)}return t}var CD=new Date("2017-02-19T19:06:09.000Z"),Pz=isNaN(CD.getFullYear())?new Date("2/19/17"):CD,gde=Pz.getFullYear()==2017;function gi(e,t){var r=new Date(e);if(gde)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(Pz.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function ph(e,t){if(Xr&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Sg(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Sg(gz(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Sg(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Sg(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function ji(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=ji(e[r]));return t}function ya(e,t){for(var r="";r.length<t;)r+=e;return r}function Pl(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var vde=["january","february","march","april","may","june","july","august","september","october","november","december"];function Ap(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&vde.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var yde=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var i=r.split(n),s=[i[0]],o=1;o<i.length;++o)s.push(a),s.push(i[o]);return s}}();function jz(e){return e?e.content&&e.type?ph(e.content,!0):e.data?bg(e.data):e.asNodeBuffer&&Xr?bg(e.asNodeBuffer().toString("binary")):e.asBinary?bg(e.asBinary()):e._data&&e._data.getContent?bg(ph(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function Oz(e){if(!e)return null;if(e.data)return vD(e.data);if(e.asNodeBuffer&&Xr)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?vD(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function xde(e){return e&&e.name.slice(-4)===".bin"?Oz(e):jz(e)}function Io(e,t){for(var r=e.FullPaths||hc(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),i=0;i<r.length;++i){var s=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==s||a==s)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function tC(e,t){var r=Io(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function Ra(e,t,r){if(!r)return xde(tC(e,t));if(!t)return null;try{return Ra(e,t)}catch{return null}}function so(e,t,r){if(!r)return jz(tC(e,t));if(!t)return null;try{return so(e,t)}catch{return null}}function bde(e,t,r){return Oz(tC(e,t))}function PD(e){for(var t=e.FullPaths||hc(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function wde(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Xr?n=kh(r):n=Bfe(r),an.utils.cfb_add(e,t,n)}an.utils.cfb_add(e,t,r)}else e.file(t,r)}function Iz(e,t){switch(t.type){case"base64":return an.read(e,{type:"base64"});case"binary":return an.read(e,{type:"binary"});case"buffer":case"array":return an.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function _g(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var Dz=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,_de=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,jD=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,Sde=/<[^>]*>/g,us=Dz.match(jD)?jD:Sde,Ade=/<\w*:/,Tde=/<(\/?)\w+:/;function wr(e,t,r){for(var n={},a=0,i=0;a!==e.length&&!((i=e.charCodeAt(a))===32||i===10||i===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var s=e.match(_de),o=0,l="",c=0,u="",d="",h=1;if(s)for(c=0;c!=s.length;++c){for(d=s[c],i=0;i!=d.length&&d.charCodeAt(i)!==61;++i);for(u=d.slice(0,i).trim();d.charCodeAt(i+1)==32;)++i;for(h=(a=d.charCodeAt(i+1))==34||a==39?1:0,l=d.slice(i+1+h,d.length-h),o=0;o!=u.length&&u.charCodeAt(o)!==58;++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),n[u]=l,n[u.toLowerCase()]=l;else{var p=(o===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(o+1);if(n[p]&&u.slice(o-3,o)=="ext")continue;n[p]=l,n[p.toLowerCase()]=l}}return n}function gc(e){return e.replace(Tde,"<$1")}var Lz={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Nde=eC(Lz),fn=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(e,function(o,l){return Lz[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,l){return String.fromCharCode(parseInt(l,16))});var s=a.indexOf("]]>");return r(a.slice(0,i))+a.slice(i+9,s)+r(a.slice(s+3))}}(),Ede=/[&<>'"]/g,kde=/[\u0000-\u001f]/g;function rC(e){var t=e+"";return t.replace(Ede,function(r){return Nde[r]}).replace(/\n/g,"<br/>").replace(kde,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var OD=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function ea(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function $S(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=a&63,t+=String.fromCharCode(s);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}s=e.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(i&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function ID(e){var t=Yf(2*e.length),r,n,a=1,i=0,s=0,o;for(n=0;n<e.length;n+=a)a=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(t[i++]=s&255,t[i++]=s>>>8,s=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function DD(e){return kh(e,"binary").toString("utf8")}var vx="foo bar baz",Wn=Xr&&(DD(vx)==$S(vx)&&DD||ID(vx)==$S(vx)&&ID)||$S,Sg=Xr?function(e){return kh(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},Gv=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),Mz=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),Cde=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),Pde=/<\/?(?:vt:)?variant>/g,jde=/<(?:vt:)([^>]*)>([\s\S]*)</;function LD(e,t){var r=wr(e),n=e.match(Cde(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(i){var s=i.replace(Pde,"").match(jde);s&&a.push({v:Wn(s[2]),t:s[1]})}),a}var Ode=/(^\s|\s$|\n)/;function Ide(e){return hc(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Dde(e,t,r){return"<"+e+(r!=null?Ide(r):"")+(t!=null?(t.match(Ode)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function nC(e){if(Xr&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Wn(Ch(Qk(e)));throw new Error("Bad input format: expected Buffer or string")}var Kv=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Lde={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Mde=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function Rde(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function Fde(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,s=n?-t:t;isFinite(s)?s==0?a=i=0:(a=Math.floor(Math.log(s)/Math.LN2),i=s*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var o=0;o<=5;++o,i/=256)e[r+o]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var MD=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},RD=Xr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:kh(t)})):MD(e)}:MD,FD=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(qc(e,a)));return n.join("").replace(Ns,"")},aC=Xr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Ns,""):FD(e,t,r)}:FD,$D=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},Rz=Xr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):$D(e,t,r)}:$D,BD=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(h0(e,a)));return n.join("")},ty=Xr?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):BD(t,r,n)}:BD,Fz=function(e,t){var r=io(e,t);return r>0?ty(e,t+4,t+4+r-1):""},$z=Fz,Bz=function(e,t){var r=io(e,t);return r>0?ty(e,t+4,t+4+r-1):""},Uz=Bz,Vz=function(e,t){var r=2*io(e,t);return r>0?ty(e,t+4,t+4+r-1):""},zz=Vz,qz=function(t,r){var n=io(t,r);return n>0?aC(t,r+4,r+4+n):""},Wz=qz,Hz=function(e,t){var r=io(e,t);return r>0?ty(e,t+4,t+4+r):""},Gz=Hz,Kz=function(e,t){return Rde(e,t)},Sb=Kz,Yz=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Xr&&($z=function(t,r){if(!Buffer.isBuffer(t))return Fz(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},Uz=function(t,r){if(!Buffer.isBuffer(t))return Bz(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},zz=function(t,r){if(!Buffer.isBuffer(t))return Vz(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},Wz=function(t,r){if(!Buffer.isBuffer(t))return qz(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},Gz=function(t,r){if(!Buffer.isBuffer(t))return Hz(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},Sb=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):Kz(t,r)},Yz=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var h0=function(e,t){return e[t]},qc=function(e,t){return e[t+1]*256+e[t]},$de=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},io=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Dd=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Bde=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Wg(e,t){var r="",n,a,i=[],s,o,l,c;switch(t){case"dbcs":if(c=this.l,Xr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)r+=String.fromCharCode(qc(this,c)),c+=2;e*=2;break;case"utf8":r=ty(this,this.l,this.l+e);break;case"utf16le":e*=2,r=aC(this,this.l,this.l+e);break;case"wstr":return Wg.call(this,e,"dbcs");case"lpstr-ansi":r=$z(this,this.l),e=4+io(this,this.l);break;case"lpstr-cp":r=Uz(this,this.l),e=4+io(this,this.l);break;case"lpwstr":r=zz(this,this.l),e=4+2*io(this,this.l);break;case"lpp4":e=4+io(this,this.l),r=Wz(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+io(this,this.l),r=Gz(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(s=h0(this,this.l+e++))!==0;)i.push(gx(s));r=i.join("");break;case"_wstr":for(e=0,r="";(s=qc(this,this.l+e))!==0;)i.push(gx(s)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",c=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=h0(this,c),this.l=c+1,o=Wg.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(gx(qc(this,c))),c+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",c=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=h0(this,c),this.l=c+1,o=Wg.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(gx(h0(this,c))),c+=1}r=i.join("");break;default:switch(e){case 1:return n=h0(this,this.l),this.l++,n;case 2:return n=(t==="i"?$de:qc)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?Dd:Bde)(this,this.l),this.l+=4,n):(a=io(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=Sb(this,this.l):a=Sb([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=Rz(this,this.l,e);break}}return this.l+=e,r}var Ude=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},Vde=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},zde=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function qde(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)zde(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var s=t.charCodeAt(a);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,Ude(this,t,this.l);break;case 8:if(n=8,r==="f"){Fde(this,t,this.l);break}case 16:break;case-4:n=4,Vde(this,t,this.l);break}return this.l+=n,this}function Xz(e,t){var r=Rz(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Ni(e,t){e.l=t,e.read_shift=Wg,e.chk=Xz,e.write_shift=qde}function cs(e,t){e.l+=t}function Xa(e){var t=Yf(e);return Ni(t,0),t}function Tu(e,t,r){if(e){var n,a,i;Ni(e,e.l||0);for(var s=e.length,o=0,l=0;e.l<s;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var c=Cb[o]||Cb[65535];for(n=e.read_shift(1),i=n&127,a=1;a<4&&n&128;++a)i+=((n=e.read_shift(1))&127)<<7*a;l=e.l+i;var u=c.f&&c.f(e,i,r);if(e.l=l,t(u,c,o))return}}}function k3(){var e=[],t=Xr?256:2048,r=function(c){var u=Xa(c);return Ni(u,0),u},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(c){return n&&c<n.length-n.l?n:(a(),n=r(Math.max(c+1,t)))},s=function(){return a(),df(e)},o=function(c){a(),n=c,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:o,end:s,_bufs:e}}function Hg(e,t,r){var n=ji(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function UD(e,t,r){var n=ji(e);return n.s=Hg(n.s,t.s,r),n.e=Hg(n.e,t.s,r),n}function Gg(e,t){if(e.cRel&&e.c<0)for(e=ji(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=ji(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Pr(e);return!e.cRel&&e.cRel!=null&&(r=Gde(r)),!e.rRel&&e.rRel!=null&&(r=Wde(r)),r}function BS(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Za(e.s.c)+":"+(e.e.cRel?"":"$")+Za(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Oi(e.s.r)+":"+(e.e.rRel?"":"$")+Oi(e.e.r):Gg(e.s,t.biff)+":"+Gg(e.e,t.biff)}function iC(e){return parseInt(Hde(e),10)-1}function Oi(e){return""+(e+1)}function Wde(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Hde(e){return e.replace(/\$(\d+)$/,"$1")}function sC(e){for(var t=Kde(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Za(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function Gde(e){return e.replace(/^([A-Z])/,"$$$1")}function Kde(e){return e.replace(/^\$([A-Z])/,"$1")}function Yde(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function _s(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function Pr(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function dm(e){var t=e.indexOf(":");return t==-1?{s:_s(e),e:_s(e)}:{s:_s(e.slice(0,t)),e:_s(e.slice(t+1))}}function sn(e,t){return typeof t>"u"||typeof t=="number"?sn(e.s,e.e):(typeof e!="string"&&(e=Pr(e)),typeof t!="string"&&(t=Pr(t)),e==t?e:e+":"+t)}function wa(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function VD(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Go(e.z,r?Es(t):t)}catch{}try{return e.w=Go((e.XF||{}).numFmtId||(r?14:0),r?Es(t):t)}catch{return""+t}}function mu(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Oh[e.v]||e.v:t==null?VD(e,e.v):VD(e,t))}function id(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function Qz(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),s=0,o=0;if(i&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?_s(n.origin):n.origin;s=l.r,o=l.c}i["!ref"]||(i["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=wa(i["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),s==-1&&(c.e.r=s=u.e.r+1)}for(var d=0;d!=t.length;++d)if(t[d]){if(!Array.isArray(t[d]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[d].length;++h)if(!(typeof t[d][h]>"u")){var p={v:t[d][h]},g=s+d,m=o+h;if(c.s.r>g&&(c.s.r=g),c.s.c>m&&(c.s.c=m),c.e.r<g&&(c.e.r=g),c.e.c<m&&(c.e.c=m),t[d][h]&&typeof t[d][h]=="object"&&!Array.isArray(t[d][h])&&!(t[d][h]instanceof Date))p=t[d][h];else if(Array.isArray(p.v)&&(p.f=t[d][h][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(n.nullError)p.t="e",p.v=0;else if(n.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=n.dateNF||Ir[14],n.cellDates?(p.t="d",p.w=Go(p.z,Es(p.v))):(p.t="n",p.v=Es(p.v),p.w=Go(p.z,p.v))):p.t="s";if(a)i[g]||(i[g]=[]),i[g][m]&&i[g][m].z&&(p.z=i[g][m].z),i[g][m]=p;else{var v=Pr({c:m,r:g});i[v]&&i[v].z&&(p.z=i[v].z),i[v]=p}}}return c.s.c<1e7&&(i["!ref"]=sn(c)),i}function hm(e,t){return Qz(null,e,t)}function Xde(e){return e.read_shift(4,"i")}function ss(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Qde(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function oC(e,t){var r=e.l,n=e.read_shift(1),a=ss(e),i=[],s={t:a,h:a};if(n&1){for(var o=e.read_shift(4),l=0;l!=o;++l)i.push(Qde(e));s.r=i}else s.r=[{ich:0,ifnt:0}];return e.l=r+t,s}var Jde=oC;function Yo(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Ph(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var Zde=ss;function lC(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var ehe=ss,C3=lC;function cC(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?Sb([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Dd(t,0)>>2;return r?a/100:a}function Jz(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var jh=Jz;function ts(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function the(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),s=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var c=Zd[a];c&&(t.rgb=Xv(c));break;case 2:t.rgb=Xv([s,o,l]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function rhe(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function Zz(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function nhe(e){return Zz(e,1)}function ahe(e){return Zz(e,2)}var uC=2,Ls=3,yx=11,zD=12,Ab=19,xx=64,ihe=65,she=71,ohe=4108,lhe=4126,ci=80,eq=81,che=[ci,eq],uhe={1:{n:"CodePage",t:uC},2:{n:"Category",t:ci},3:{n:"PresentationFormat",t:ci},4:{n:"ByteCount",t:Ls},5:{n:"LineCount",t:Ls},6:{n:"ParagraphCount",t:Ls},7:{n:"SlideCount",t:Ls},8:{n:"NoteCount",t:Ls},9:{n:"HiddenCount",t:Ls},10:{n:"MultimediaClipCount",t:Ls},11:{n:"ScaleCrop",t:yx},12:{n:"HeadingPairs",t:ohe},13:{n:"TitlesOfParts",t:lhe},14:{n:"Manager",t:ci},15:{n:"Company",t:ci},16:{n:"LinksUpToDate",t:yx},17:{n:"CharacterCount",t:Ls},19:{n:"SharedDoc",t:yx},22:{n:"HyperlinksChanged",t:yx},23:{n:"AppVersion",t:Ls,p:"version"},24:{n:"DigSig",t:ihe},26:{n:"ContentType",t:ci},27:{n:"ContentStatus",t:ci},28:{n:"Language",t:ci},29:{n:"Version",t:ci},255:{},2147483648:{n:"Locale",t:Ab},2147483651:{n:"Behavior",t:Ab},1919054434:{}},fhe={1:{n:"CodePage",t:uC},2:{n:"Title",t:ci},3:{n:"Subject",t:ci},4:{n:"Author",t:ci},5:{n:"Keywords",t:ci},6:{n:"Comments",t:ci},7:{n:"Template",t:ci},8:{n:"LastAuthor",t:ci},9:{n:"RevNumber",t:ci},10:{n:"EditTime",t:xx},11:{n:"LastPrinted",t:xx},12:{n:"CreatedDate",t:xx},13:{n:"ModifiedDate",t:xx},14:{n:"PageCount",t:Ls},15:{n:"WordCount",t:Ls},16:{n:"CharCount",t:Ls},17:{n:"Thumbnail",t:she},18:{n:"Application",t:ci},19:{n:"DocSecurity",t:Ls},255:{},2147483648:{n:"Locale",t:Ab},2147483651:{n:"Behavior",t:Ab},1919054434:{}},qD={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},dhe=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function hhe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var phe=hhe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Zd=ji(phe),Oh={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},tq={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},WD={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function mhe(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function ghe(e){var t=mhe();if(!e||!e.match)return t;var r={};if((e.match(us)||[]).forEach(function(n){var a=wr(n);switch(a[0].replace(Ade,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[WD[a.ContentType]]!==void 0&&t[WD[a.ContentType]].push(a.PartName);break}}),t.xmlns!==Lde.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var I0={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function P3(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Kg(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(us)||[]).forEach(function(a){var i=wr(a);if(i[0]==="<Relationship"){var s={};s.Type=i.Type,s.Target=i.Target,s.Id=i.Id,i.TargetMode&&(s.TargetMode=i.TargetMode);var o=i.TargetMode==="External"?i.Target:_g(i.Target,t);r[o]=s,n[i.Id]=s}}),r["!id"]=n,r}var vhe="application/vnd.oasis.opendocument.spreadsheet";function yhe(e,t){for(var r=nC(e),n,a;n=Kv.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=wr(n[0],!1),a.path=="/"&&a.type!==vhe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var Yg=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],xhe=function(){for(var e=new Array(Yg.length),t=0;t<Yg.length;++t){var r=Yg[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function rq(e){var t={};e=Wn(e);for(var r=0;r<Yg.length;++r){var n=Yg[r],a=e.match(xhe[r]);a!=null&&a.length>0&&(t[n[1]]=fn(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=gi(t[n[1]]))}return t}var bhe=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function nq(e,t,r,n){var a=[];if(typeof e=="string")a=LD(e,n);else for(var i=0;i<e.length;++i)a=a.concat(e[i].map(function(u){return{v:u}}));var s=typeof t=="string"?LD(t,n).map(function(u){return u.v}):t,o=0,l=0;if(s.length>0)for(var c=0;c!==a.length;c+=2){switch(l=+a[c+1].v,a[c].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=l,r.SheetNames=s.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=l,r.DefinedNames=s.slice(o,o+l);break;case"Charts":case"Diagramme":r.Chartsheets=l,r.ChartNames=s.slice(o,o+l);break}o+=l}}function whe(e,t,r){var n={};return t||(t={}),e=Wn(e),bhe.forEach(function(a){var i=(e.match(Gv(a[0]))||[])[1];switch(a[2]){case"string":i&&(t[a[1]]=fn(i));break;case"bool":t[a[1]]=i==="true";break;case"raw":var s=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));s&&s.length>0&&(n[a[1]]=s[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&nq(n.HeadingPairs,n.TitlesOfParts,t,r),t}var _he=/<[^>]+>[^<]*/g;function She(e,t){var r={},n="",a=e.match(_he);if(a)for(var i=0;i!=a.length;++i){var s=a[i],o=wr(s);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=fn(o.name);break;case"</property>":n=null;break;default:if(s.indexOf("<vt:")===0){var l=s.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":r[n]=fn(u);break;case"bool":r[n]=ea(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(u,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(u);break;case"filetime":case"date":r[n]=gi(u);break;case"cy":case"error":r[n]=fn(u);break;default:if(c.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",s,c,l)}}else if(s.slice(0,2)!=="</"){if(t.WTF)throw new Error(s)}}}return r}var Ahe={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},US;function The(e,t,r){US||(US=eC(Ahe)),t=US[t]||t,e[t]=r}function fC(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function aq(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function iq(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function sq(e,t,r){return t===31?iq(e):aq(e,t,r)}function j3(e,t,r){return sq(e,t,r===!1?0:4)}function Nhe(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return sq(e,t,0)}function Ehe(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(Ns,""),e.l-a&2&&(e.l+=2)}return r}function khe(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(Ns,"");return r}function Che(e){var t=e.l,r=Tb(e,eq);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=Tb(e,Ls);return[r,n]}function Phe(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(Che(e));return r}function HD(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var i=e.read_shift(4),s=e.read_shift(4);n[i]=e.read_shift(s,t===1200?"utf16le":"utf8").replace(Ns,"").replace(wg,"!"),t===1200&&s%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function oq(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function jhe(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function Tb(e,t,r){var n=e.read_shift(2),a,i=r||{};if(e.l+=2,t!==zD&&n!==t&&che.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===zD?n:t){case 2:return a=e.read_shift(2,"i"),i.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return aq(e,n,4).replace(Ns,"");case 31:return iq(e);case 64:return fC(e);case 65:return oq(e);case 71:return jhe(e);case 80:return j3(e,n,!i.raw).replace(Ns,"");case 81:return Nhe(e,n).replace(Ns,"");case 4108:return Phe(e);case 4126:case 4127:return n==4127?Ehe(e):khe(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function GD(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0,o=0,l=-1,c={};for(s=0;s!=a;++s){var u=e.read_shift(4),d=e.read_shift(4);i[s]=[u,d+r]}i.sort(function(w,b){return w[1]-b[1]});var h={};for(s=0;s!=a;++s){if(e.l!==i[s][1]){var p=!0;if(s>0&&t)switch(t[i[s-1][0]].t){case 2:e.l+2===i[s][1]&&(e.l+=2,p=!1);break;case 80:e.l<=i[s][1]&&(e.l=i[s][1],p=!1);break;case 4108:e.l<=i[s][1]&&(e.l=i[s][1],p=!1);break}if((!t||s==0)&&e.l<=i[s][1]&&(p=!1,e.l=i[s][1]),p)throw new Error("Read Error: Expected address "+i[s][1]+" at "+e.l+" :"+s)}if(t){var g=t[i[s][0]];if(h[g.n]=Tb(e,g.t,{raw:!0}),g.p==="version"&&(h[g.n]=String(h[g.n]>>16)+"."+("0000"+String(h[g.n]&65535)).slice(-4)),g.n=="CodePage")switch(h[g.n]){case 0:h[g.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Al(o=h[g.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[g.n])}}else if(i[s][0]===1){if(o=h.CodePage=Tb(e,uC),Al(o),l!==-1){var m=e.l;e.l=i[l][1],c=HD(e,o),e.l=m}}else if(i[s][0]===0){if(o===0){l=s,e.l=i[s+1][1];continue}c=HD(e,o)}else{var v=c[i[s][0]],y;switch(e[e.l]){case 65:e.l+=4,y=oq(e);break;case 30:e.l+=4,y=j3(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,y=j3(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,y=e.read_shift(4,"i");break;case 19:e.l+=4,y=e.read_shift(4);break;case 5:e.l+=4,y=e.read_shift(8,"f");break;case 11:e.l+=4,y=Aa(e,4);break;case 64:e.l+=4,y=gi(fC(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[v]=y}}return e.l=r+n,h}function KD(e,t,r){var n=e.content;if(!n)return{};Ni(n,0);var a,i,s,o,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var c=n.read_shift(4),u=n.read_shift(16);if(u!==an.utils.consts.HEADER_CLSID&&u!==r)throw new Error("Bad PropertySet CLSID "+u);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=n.read_shift(16),o=n.read_shift(4),a===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);a===2&&(s=n.read_shift(16),l=n.read_shift(4));var d=GD(n,t),h={SystemIdentifier:c};for(var p in d)h[p]=d[p];if(h.FMTID=i,a===1)return h;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);var g;try{g=GD(n,null)}catch{}for(p in g)h[p]=g[p];return h.FMTID=[i,s],h}function Zu(e,t){return e.read_shift(t),null}function Ohe(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function Aa(e,t){return e.read_shift(t)===1}function Fa(e){return e.read_shift(2,"u")}function lq(e,t){return Ohe(e,t,Fa)}function Ihe(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function ry(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var s=n?e.read_shift(n,a):"";return s}function Dhe(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,i=1+(r&1),s=0,o,l={};a&&(s=e.read_shift(2)),n&&(o=e.read_shift(4));var c=i==2?"dbcs-cont":"sbcs-cont",u=t===0?"":e.read_shift(t,c);return a&&(e.l+=4*s),n&&(e.l+=o),l.t=u,a||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function mh(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function ny(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):mh(e,n,r)}function Ih(e,t,r){if(r.biff>5)return ny(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function Lhe(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function Mhe(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(Ns,"");return n&&(e.l+=24),a}function Rhe(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=e.read_shift(i>>1,"utf16le").replace(Ns,"");return r+s}function Fhe(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return Mhe(e);case"0303000000000000c000000000000046":return Rhe(e);default:throw new Error("Unsupported Moniker "+r)}}function bx(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(Ns,""):"";return r}function $he(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var i,s,o,l,c="",u,d;a&16&&(i=bx(e,r-e.l)),a&128&&(s=bx(e,r-e.l)),(a&257)===257&&(o=bx(e,r-e.l)),(a&257)===1&&(l=Fhe(e,r-e.l)),a&8&&(c=bx(e,r-e.l)),a&32&&(u=e.read_shift(16)),a&64&&(d=fC(e)),e.l=r;var h=s||o||l||"";h&&c&&(h+="#"+c),h||(h="#"+c),a&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var p={Target:h};return u&&(p.guid=u),d&&(p.time=d),i&&(p.Tooltip=i),p}function cq(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function uq(e,t){var r=cq(e);return r[3]=0,r}function vc(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function Bhe(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function Uhe(e,t,r){return t===0?"":Ih(e,t,r)}function Vhe(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),s=e.read_shift(n,"i");return[a,i,s]}function fq(e){var t=e.read_shift(2),r=cC(e);return[t,r]}function zhe(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=ry(e,t,r),i=e.read_shift(2);if(n-=e.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return e.l+=i,a}function T5(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function dq(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var qhe=dq;function hq(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function Whe(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function Hhe(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Ui(e){e.l+=2,e.l+=e.read_shift(2)}var Ghe={0:Ui,4:Ui,5:Ui,6:Ui,7:Hhe,8:Ui,9:Ui,10:Ui,11:Ui,12:Ui,13:Whe,14:Ui,15:Ui,16:Ui,17:Ui,18:Ui,19:Ui,20:Ui,21:hq};function Khe(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(Ghe[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function wx(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function Yhe(e,t){return t===0||e.read_shift(2),1200}function Xhe(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=Ih(e,0,r);return e.read_shift(t+n-e.l),a}function Qhe(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function Jhe(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var s=ry(e,0,r);return s.length===0&&(s="Sheet1"),{pos:n,hs:a,dt:i,name:s}}function Zhe(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0;s!=a&&e.l<r;++s)i.push(Dhe(e));return i.Count=n,i.Unique=a,i}function e0e(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function t0e(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function r0e(e){var t=Bhe(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function n0e(e){return e.read_shift(2),e.read_shift(4)}function YD(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,a]}function a0e(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:i,CurTab:s,FirstTab:o,Selected:l,TabRatio:c}}function i0e(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function s0e(){}function o0e(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=ry(e,0,r),n}function l0e(e){var t=vc(e);return t.isst=e.read_shift(4),t}function c0e(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=vc(e);r.biff==2&&e.l++;var i=ny(e,n-e.l,r);return a.val=i,a}function u0e(e,t,r){var n=e.read_shift(2),a=Ih(e,0,r);return[n,a]}var f0e=Ih;function XD(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,i=e.read_shift(a),s=e.read_shift(a),o=e.read_shift(2),l=e.read_shift(2);return e.l=n,{s:{r:i,c:o},e:{r:s,c:l}}}function d0e(e){var t=e.read_shift(2),r=e.read_shift(2),n=fq(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function h0e(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(fq(e));if(e.l!==r)throw new Error("MulRK read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:s,rkrec:i}}function p0e(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:s,ixfe:i}}function m0e(e,t,r,n){var a={},i=e.read_shift(4),s=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(2);return a.patternType=dhe[o>>26],n.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=s&15,a.dgRight=s>>4&15,a.dgTop=s>>8&15,a.dgBottom=s>>12&15,a.icvLeft=s>>16&127,a.icvRight=s>>23&127,a.grbitDiag=s>>30&3,a.icvTop=o&127,a.icvBottom=o>>7&127,a.icvDiag=o>>14&127,a.dgDiag=o>>21&15,a.icvFore=l&127,a.icvBack=l>>7&127,a.fsxButton=l>>14&1),a}function g0e(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=m0e(e,t,n.fStyle,r),n}function v0e(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function QD(e,t,r){var n=vc(e);(r.biff==2||t==9)&&++e.l;var a=Ihe(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function y0e(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=vc(e),a=ts(e);return n.val=a,n}var JD=Uhe;function x0e(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var s=mh(e,i),o=[];n>e.l;)o.push(ny(e));return[i,a,s,o]}function ZD(e,t,r){var n=e.read_shift(2),a,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=zhe(e,t-2,r)),i.body=a||e.read_shift(t-2),typeof a=="string"&&(i.Name=a),i}var b0e=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function e8(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(1),s=e.read_shift(1),o=e.read_shift(r&&r.biff==2?1:2),l=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),l=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var c=mh(e,s,r);a&32&&(c=b0e[c.charCodeAt(0)]);var u=n-e.l;r&&r.biff==2&&--u;var d=n==e.l||o===0||!(u>0)?[]:tve(e,u,r,o);return{chKey:i,Name:c,itab:l,rgce:d}}function pq(e,t,r){if(r.biff<8)return w0e(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(Vhe(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function w0e(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=ry(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function _0e(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),i=mh(e,n,r),s=mh(e,a,r);return[i,s]}function S0e(e,t,r){var n=dq(e);e.l++;var a=e.read_shift(1);return t-=8,[rve(e,t,r),a,n]}function t8(e,t,r){var n=qhe(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,Zge(e,t,r)]}function A0e(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function T0e(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=Ih(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},o,s,i]}}function N0e(e,t,r){return T0e(e,t,r)}function E0e(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(T5(e));return r}function k0e(e,t,r){if(r&&r.biff<8)return P0e(e,t,r);var n=hq(e),a=Khe(e,t-22,n[1]);return{cmo:n,ft:a}}var C0e={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function P0e(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var s=[];return s.push((C0e[n]||cs)(e,t,r)),{cmo:[a,n,i],ft:s}}function j0e(e,t,r){var n=e.l,a="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:s=Lhe(e,6,r);var o=e.read_shift(2);e.read_shift(2),Fa(e,2);var l=e.read_shift(2);e.l+=l;for(var c=1;c<e.lens.length-1;++c){if(e.l-n!=e.lens[c])throw new Error("TxO: bad continue record");var u=e[e.l],d=mh(e,e.lens[c+1]-e.lens[c]-1);if(a+=d,a.length>=(u?o:2*o))break}if(a.length!==o&&a.length!==o*2)throw new Error("cchText: "+o+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function O0e(e,t){var r=T5(e);e.l+=16;var n=$he(e,t-24);return[r,n]}function I0e(e,t){e.read_shift(2);var r=T5(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(Ns,""),[r,n]}function D0e(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=qD[r]||r,r=e.read_shift(2),t[1]=qD[r]||r,t}function L0e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(uq(e));return r}function M0e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(uq(e));return r}function R0e(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function mq(e,t,r){if(!r.cellStyles)return cs(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(2);n==2&&(e.l+=2);var c={s:a,e:i,w:s,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(c.level=l>>8&7),c}function F0e(e,t){var r={};return t<32||(e.l+=16,r.header=ts(e),r.footer=ts(e),e.l+=2),r}function $0e(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}var B0e=vc,U0e=lq,V0e=ny;function z0e(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function q0e(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=vc(e);++e.l;var a=Ih(e,t-7,r);return n.t="str",n.val=a,n}function W0e(e){var t=vc(e);++e.l;var r=ts(e);return t.t="n",t.val=r,t}function H0e(e){var t=vc(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function G0e(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function K0e(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function Y0e(e,t,r){var n=e.l+t,a=vc(e),i=e.read_shift(2),s=mh(e,i,r);return e.l=n,a.t="str",a.val=s,a}var X0e=[2,3,48,49,131,139,140,245],r8=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=eC({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var c=[],u=Yf(1);switch(l.type){case"base64":u=wl(po(o));break;case"binary":u=wl(o);break;case"buffer":case"array":u=o;break}Ni(u,0);var d=u.read_shift(1),h=!!(d&136),p=!1,g=!1;switch(d){case 2:break;case 3:break;case 48:p=!0,h=!0;break;case 49:p=!0,h=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+d.toString(16))}var m=0,v=521;d==2&&(m=u.read_shift(2)),u.l+=3,d!=2&&(m=u.read_shift(4)),m>1048576&&(m=1e6),d!=2&&(v=u.read_shift(2));var y=u.read_shift(2),w=l.codepage||1252;d!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(w=e[u[u.l]]),u.l+=1,u.l+=2),g&&(u.l+=36);for(var b=[],D={},P=Math.min(u.length,d==2?521:v-10-(p?264:0)),O=g?32:11;u.l<P&&u[u.l]!=13;)switch(D={},D.name=ff.utils.decode(w,u.slice(u.l,u.l+O)).replace(/[\u0000\r\n].*$/g,""),u.l+=O,D.type=String.fromCharCode(u.read_shift(1)),d!=2&&!g&&(D.offset=u.read_shift(4)),D.len=u.read_shift(1),d==2&&(D.offset=u.read_shift(2)),D.dec=u.read_shift(1),D.name.length&&b.push(D),d!=2&&(u.l+=g?13:14),D.type){case"B":(!p||D.len!=8)&&l.WTF&&console.log("Skipping "+D.name+":"+D.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+D.name+":"+D.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+D.type)}if(u[u.l]!==13&&(u.l=v-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=v;var T=0,S=0;for(c[0]=[],S=0;S!=b.length;++S)c[0][S]=b[S].name;for(;m-- >0;){if(u[u.l]===42){u.l+=y;continue}for(++u.l,c[++T]=[],S=0,S=0;S!=b.length;++S){var _=u.slice(u.l,u.l+b[S].len);u.l+=b[S].len,Ni(_,0);var j=ff.utils.decode(w,_);switch(b[S].type){case"C":j.trim().length&&(c[T][S]=j.replace(/\s+$/,""));break;case"D":j.length===8?c[T][S]=new Date(+j.slice(0,4),+j.slice(4,6)-1,+j.slice(6,8)):c[T][S]=j;break;case"F":c[T][S]=parseFloat(j.trim());break;case"+":case"I":c[T][S]=g?_.read_shift(-4,"i")^2147483648:_.read_shift(4,"i");break;case"L":switch(j.trim().toUpperCase()){case"Y":case"T":c[T][S]=!0;break;case"N":case"F":c[T][S]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+j+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+d.toString(16));c[T][S]="##MEMO##"+(g?parseInt(j.trim(),10):_.read_shift(4));break;case"N":j=j.replace(/\u0000/g,"").trim(),j&&j!="."&&(c[T][S]=+j||0);break;case"@":c[T][S]=new Date(_.read_shift(-8,"f")-621356832e5);break;case"T":c[T][S]=new Date((_.read_shift(4)-2440588)*864e5+_.read_shift(4));break;case"Y":c[T][S]=_.read_shift(4,"i")/1e4+_.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[T][S]=-_.read_shift(-8,"f");break;case"B":if(p&&b[S].len==8){c[T][S]=_.read_shift(8,"f");break}case"G":case"P":_.l+=b[S].len;break;case"0":if(b[S].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+b[S].type)}}}if(d!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=b,c}function n(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=hm(r(o,c),c);return u["!cols"]=c.DBF.map(function(d){return{wch:d.len,DBF:d}}),delete c.DBF,u}function a(o,l){try{return id(n(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,l){var c=l||{};if(+c.codepage>=0&&Al(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=k3(),d=F3(o,{header:1,raw:!0,cellDates:!0}),h=d[0],p=d.slice(1),g=o["!cols"]||[],m=0,v=0,y=0,w=1;for(m=0;m<h.length;++m){if(((g[m]||{}).DBF||{}).name){h[m]=g[m].DBF.name,++y;continue}if(h[m]!=null){if(++y,typeof h[m]=="number"&&(h[m]=h[m].toString(10)),typeof h[m]!="string")throw new Error("DBF Invalid column name "+h[m]+" |"+typeof h[m]+"|");if(h.indexOf(h[m])!==m){for(v=0;v<1024;++v)if(h.indexOf(h[m]+"_"+v)==-1){h[m]+="_"+v;break}}}}var b=wa(o["!ref"]),D=[],P=[],O=[];for(m=0;m<=b.e.c-b.s.c;++m){var T="",S="",_=0,j=[];for(v=0;v<p.length;++v)p[v][m]!=null&&j.push(p[v][m]);if(j.length==0||h[m]==null){D[m]="?";continue}for(v=0;v<j.length;++v){switch(typeof j[v]){case"number":S="B";break;case"string":S="C";break;case"boolean":S="L";break;case"object":S=j[v]instanceof Date?"D":"C";break;default:S="C"}_=Math.max(_,String(j[v]).length),T=T&&T!=S?"C":S}_>250&&(_=250),S=((g[m]||{}).DBF||{}).type,S=="C"&&g[m].DBF.len>_&&(_=g[m].DBF.len),T=="B"&&S=="N"&&(T="N",O[m]=g[m].DBF.dec,_=g[m].DBF.len),P[m]=T=="C"||S=="N"?_:i[T]||0,w+=P[m],D[m]=T}var N=u.next(32);for(N.write_shift(4,318902576),N.write_shift(4,p.length),N.write_shift(2,296+32*y),N.write_shift(2,w),m=0;m<4;++m)N.write_shift(4,0);for(N.write_shift(4,0|(+t[pz]||3)<<8),m=0,v=0;m<h.length;++m)if(h[m]!=null){var E=u.next(32),k=(h[m].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);E.write_shift(1,k,"sbcs"),E.write_shift(1,D[m]=="?"?"C":D[m],"sbcs"),E.write_shift(4,v),E.write_shift(1,P[m]||i[D[m]]||0),E.write_shift(1,O[m]||0),E.write_shift(1,2),E.write_shift(4,0),E.write_shift(1,0),E.write_shift(4,0),E.write_shift(4,0),v+=P[m]||i[D[m]]||0}var U=u.next(264);for(U.write_shift(4,13),m=0;m<65;++m)U.write_shift(4,0);for(m=0;m<p.length;++m){var G=u.next(w);for(G.write_shift(1,0),v=0;v<h.length;++v)if(h[v]!=null)switch(D[v]){case"L":G.write_shift(1,p[m][v]==null?63:p[m][v]?84:70);break;case"B":G.write_shift(8,p[m][v]||0,"f");break;case"N":var z="0";for(typeof p[m][v]=="number"&&(z=p[m][v].toFixed(O[v]||0)),y=0;y<P[v]-z.length;++y)G.write_shift(1,32);G.write_shift(1,z,"sbcs");break;case"D":p[m][v]?(G.write_shift(4,("0000"+p[m][v].getFullYear()).slice(-4),"sbcs"),G.write_shift(2,("00"+(p[m][v].getMonth()+1)).slice(-2),"sbcs"),G.write_shift(2,("00"+p[m][v].getDate()).slice(-2),"sbcs")):G.write_shift(8,"00000000","sbcs");break;case"C":var X=String(p[m][v]!=null?p[m][v]:"").slice(0,P[v]);for(G.write_shift(1,X,"sbcs"),y=0;y<P[v]-X.length;++y)G.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:a,to_sheet:n,from_sheet:s}}(),Q0e=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+hc(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,p){var g=e[p];return typeof g=="number"?yD(g):g},n=function(h,p,g){var m=p.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return m==59?h:yD(m)};e["|"]=254;function a(h,p){switch(p.type){case"base64":return i(po(h),p);case"binary":return i(h,p);case"buffer":return i(Xr&&Buffer.isBuffer(h)?h.toString("binary"):Ch(h),p);case"array":return i(ph(h),p)}throw new Error("Unrecognized type "+p.type)}function i(h,p){var g=h.split(/[\n\r]+/),m=-1,v=-1,y=0,w=0,b=[],D=[],P=null,O={},T=[],S=[],_=[],j=0,N;for(+p.codepage>=0&&Al(+p.codepage);y!==g.length;++y){j=0;var E=g[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),k=E.replace(/;;/g,"\0").split(";").map(function(K){return K.replace(/\u0000/g,";")}),U=k[0],G;if(E.length>0)switch(U){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":k[1].charAt(0)=="P"&&D.push(E.slice(3).replace(/;;/g,";"));break;case"C":var z=!1,X=!1,V=!1,H=!1,re=-1,ee=-1;for(w=1;w<k.length;++w)switch(k[w].charAt(0)){case"A":break;case"X":v=parseInt(k[w].slice(1))-1,X=!0;break;case"Y":for(m=parseInt(k[w].slice(1))-1,X||(v=0),N=b.length;N<=m;++N)b[N]=[];break;case"K":G=k[w].slice(1),G.charAt(0)==='"'?G=G.slice(1,G.length-1):G==="TRUE"?G=!0:G==="FALSE"?G=!1:isNaN(Pl(G))?isNaN(Ap(G).getDate())||(G=gi(G)):(G=Pl(G),P!==null&&fm(P)&&(G=A5(G))),z=!0;break;case"E":H=!0;var I=G0(k[w].slice(1),{r:m,c:v});b[m][v]=[b[m][v],I];break;case"S":V=!0,b[m][v]=[b[m][v],"S5S"];break;case"G":break;case"R":re=parseInt(k[w].slice(1))-1;break;case"C":ee=parseInt(k[w].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+E)}if(z&&(b[m][v]&&b[m][v].length==2?b[m][v][0]=G:b[m][v]=G,P=null),V){if(H)throw new Error("SYLK shared formula cannot have own formula");var M=re>-1&&b[re][ee];if(!M||!M[1])throw new Error("SYLK shared formula cannot find base");b[m][v][1]=Tq(M[1],{r:m-re,c:v-ee})}break;case"F":var q=0;for(w=1;w<k.length;++w)switch(k[w].charAt(0)){case"X":v=parseInt(k[w].slice(1))-1,++q;break;case"Y":for(m=parseInt(k[w].slice(1))-1,N=b.length;N<=m;++N)b[N]=[];break;case"M":j=parseInt(k[w].slice(1))/20;break;case"F":break;case"G":break;case"P":P=D[parseInt(k[w].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(_=k[w].slice(1).split(" "),N=parseInt(_[0],10);N<=parseInt(_[1],10);++N)j=parseInt(_[2],10),S[N-1]=j===0?{hidden:!0}:{wch:j},Tp(S[N-1]);break;case"C":v=parseInt(k[w].slice(1))-1,S[v]||(S[v]={});break;case"R":m=parseInt(k[w].slice(1))-1,T[m]||(T[m]={}),j>0?(T[m].hpt=j,T[m].hpx=Qv(j)):j===0&&(T[m].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+E)}q<1&&(P=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+E)}}return T.length>0&&(O["!rows"]=T),S.length>0&&(O["!cols"]=S),p&&p.sheetRows&&(b=b.slice(0,p.sheetRows)),[b,O]}function s(h,p){var g=a(h,p),m=g[0],v=g[1],y=hm(m,p);return hc(v).forEach(function(w){y[w]=v[w]}),y}function o(h,p){return id(s(h,p),p)}function l(h,p,g,m){var v="C;Y"+(g+1)+";X"+(m+1)+";K";switch(h.t){case"n":v+=h.v||0,h.f&&!h.F&&(v+=";E"+Rme(h.f,{r:g,c:m}));break;case"b":v+=h.v?"TRUE":"FALSE";break;case"e":v+=h.w||h.v;break;case"d":v+='"'+(h.w||h.v)+'"';break;case"s":v+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function c(h,p){p.forEach(function(g,m){var v="F;W"+(m+1)+" "+(m+1)+" ";g.hidden?v+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=Eb(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=kb(g.wpx)),typeof g.wch=="number"&&(v+=Math.round(g.wch))),v.charAt(v.length-1)!=" "&&h.push(v)})}function u(h,p){p.forEach(function(g,m){var v="F;";g.hidden?v+="M0;":g.hpt?v+="M"+20*g.hpt+";":g.hpx&&(v+="M"+20*_q(g.hpx)+";"),v.length>2&&h.push(v+"R"+(m+1))})}function d(h,p){var g=["ID;PWXL;N;E"],m=[],v=wa(h["!ref"]),y,w=Array.isArray(h),b=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),h["!cols"]&&c(g,h["!cols"]),h["!rows"]&&u(g,h["!rows"]),g.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var D=v.s.r;D<=v.e.r;++D)for(var P=v.s.c;P<=v.e.c;++P){var O=Pr({r:D,c:P});y=w?(h[D]||[])[P]:h[O],!(!y||y.v==null&&(!y.f||y.F))&&m.push(l(y,h,D,P))}return g.join(b)+b+m.join(b)+b+"E"+b}return{to_workbook:o,to_sheet:s,from_sheet:d}}(),J0e=function(){function e(i,s){switch(s.type){case"base64":return t(po(i),s);case"binary":return t(i,s);case"buffer":return t(Xr&&Buffer.isBuffer(i)?i.toString("binary"):Ch(i),s);case"array":return t(ph(i),s)}throw new Error("Unrecognized type "+s.type)}function t(i,s){for(var o=i.split(`
`),l=-1,c=-1,u=0,d=[];u!==o.length;++u){if(o[u].trim()==="BOT"){d[++l]=[],c=0;continue}if(!(l<0)){var h=o[u].trim().split(","),p=h[0],g=h[1];++u;for(var m=o[u]||"";(m.match(/["]/g)||[]).length&1&&u<o.length-1;)m+=`
`+o[++u];switch(m=m.trim(),+p){case-1:if(m==="BOT"){d[++l]=[],c=0;continue}else if(m!=="EOD")throw new Error("Unrecognized DIF special command "+m);break;case 0:m==="TRUE"?d[l][c]=!0:m==="FALSE"?d[l][c]=!1:isNaN(Pl(g))?isNaN(Ap(g).getDate())?d[l][c]=g:d[l][c]=gi(g):d[l][c]=Pl(g),++c;break;case 1:m=m.slice(1,m.length-1),m=m.replace(/""/g,'"'),m&&m.match(/^=".*"$/)&&(m=m.slice(2,-1)),d[l][c++]=m!==""?m:null;break}if(m==="EOD")break}}return s&&s.sheetRows&&(d=d.slice(0,s.sheetRows)),d}function r(i,s){return hm(e(i,s),s)}function n(i,s){return id(r(i,s),s)}var a=function(){var i=function(l,c,u,d,h){l.push(c),l.push(u+","+d),l.push('"'+h.replace(/"/g,'""')+'"')},s=function(l,c,u,d){l.push(c+","+u),l.push(c==1?'"'+d.replace(/"/g,'""')+'"':d)};return function(l){var c=[],u=wa(l["!ref"]),d,h=Array.isArray(l);i(c,"TABLE",0,1,"sheetjs"),i(c,"VECTORS",0,u.e.r-u.s.r+1,""),i(c,"TUPLES",0,u.e.c-u.s.c+1,""),i(c,"DATA",0,0,"");for(var p=u.s.r;p<=u.e.r;++p){s(c,-1,0,"BOT");for(var g=u.s.c;g<=u.e.c;++g){var m=Pr({r:p,c:g});if(d=h?(l[p]||[])[g]:l[m],!d){s(c,1,0,"");continue}switch(d.t){case"n":var v=d.w;!v&&d.v!=null&&(v=d.v),v==null?d.f&&!d.F?s(c,1,0,"="+d.f):s(c,1,0,""):s(c,0,v,"V");break;case"b":s(c,0,d.v?1:0,d.v?"TRUE":"FALSE");break;case"s":s(c,1,0,isNaN(d.v)?d.v:'="'+d.v+'"');break;case"d":d.w||(d.w=Go(d.z||Ir[14],Es(gi(d.v)))),s(c,0,d.w,"V");break;default:s(c,1,0,"")}}}s(c,-1,0,"EOD");var y=`\r
`,w=c.join(y);return w}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),Z0e=function(){function e(d){return d.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(d){return d.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(d,h){for(var p=d.split(`
`),g=-1,m=-1,v=0,y=[];v!==p.length;++v){var w=p[v].trim().split(":");if(w[0]==="cell"){var b=_s(w[1]);if(y.length<=b.r)for(g=y.length;g<=b.r;++g)y[g]||(y[g]=[]);switch(g=b.r,m=b.c,w[2]){case"t":y[g][m]=e(w[3]);break;case"v":y[g][m]=+w[3];break;case"vtf":var D=w[w.length-1];case"vtc":switch(w[3]){case"nl":y[g][m]=!!+w[4];break;default:y[g][m]=+w[4];break}w[2]=="vtf"&&(y[g][m]=[y[g][m],D])}}}return h&&h.sheetRows&&(y=y.slice(0,h.sheetRows)),y}function n(d,h){return hm(r(d,h),h)}function a(d,h){return id(n(d,h),h)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(d){if(!d||!d["!ref"])return"";for(var h=[],p=[],g,m="",v=dm(d["!ref"]),y=Array.isArray(d),w=v.s.r;w<=v.e.r;++w)for(var b=v.s.c;b<=v.e.c;++b)if(m=Pr({r:w,c:b}),g=y?(d[w]||[])[b]:d[m],!(!g||g.v==null||g.t==="z")){switch(p=["cell",m,"t"],g.t){case"s":case"str":p.push(t(g.v));break;case"n":g.f?(p[2]="vtf",p[3]="n",p[4]=g.v,p[5]=t(g.f)):(p[2]="v",p[3]=g.v);break;case"b":p[2]="vt"+(g.f?"f":"c"),p[3]="nl",p[4]=g.v?"1":"0",p[5]=t(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var D=Es(gi(g.v));p[2]="vtc",p[3]="nd",p[4]=""+D,p[5]=g.w||Go(g.z||Ir[14],D);break;case"e":continue}h.push(p.join(":"))}return h.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function u(d){return[i,s,o,s,c(d),l].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:u}}(),Yv=function(){function e(u,d,h,p,g){g.raw?d[h][p]=u:u===""||(u==="TRUE"?d[h][p]=!0:u==="FALSE"?d[h][p]=!1:isNaN(Pl(u))?isNaN(Ap(u).getDate())?d[h][p]=u:d[h][p]=gi(u):d[h][p]=Pl(u))}function t(u,d){var h=d||{},p=[];if(!u||u.length===0)return p;for(var g=u.split(/[\r\n]/),m=g.length-1;m>=0&&g[m].length===0;)--m;for(var v=10,y=0,w=0;w<=m;++w)y=g[w].indexOf(" "),y==-1?y=g[w].length:y++,v=Math.max(v,y);for(w=0;w<=m;++w){p[w]=[];var b=0;for(e(g[w].slice(0,v).trim(),p,w,b,h),b=1;b<=(g[w].length-v)/10+1;++b)e(g[w].slice(v+(b-1)*10,v+b*10).trim(),p,w,b,h)}return h.sheetRows&&(p=p.slice(0,h.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(u){for(var d={},h=!1,p=0,g=0;p<u.length;++p)(g=u.charCodeAt(p))==34?h=!h:!h&&g in r&&(d[g]=(d[g]||0)+1);g=[];for(p in d)Object.prototype.hasOwnProperty.call(d,p)&&g.push([d[p],p]);if(!g.length){d=n;for(p in d)Object.prototype.hasOwnProperty.call(d,p)&&g.push([d[p],p])}return g.sort(function(m,v){return m[0]-v[0]||n[m[1]]-n[v[1]]}),r[g.pop()[1]]||44}function i(u,d){var h=d||{},p="",g=h.dense?[]:{},m={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(p=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(p=u.charAt(4),u=u.slice(6)):p=a(u.slice(0,1024)):h&&h.FS?p=h.FS:p=a(u.slice(0,1024));var v=0,y=0,w=0,b=0,D=0,P=p.charCodeAt(0),O=!1,T=0,S=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var _=h.dateNF!=null?ude(h.dateNF):null;function j(){var N=u.slice(b,D),E={};if(N.charAt(0)=='"'&&N.charAt(N.length-1)=='"'&&(N=N.slice(1,-1).replace(/""/g,'"')),N.length===0)E.t="z";else if(h.raw)E.t="s",E.v=N;else if(N.trim().length===0)E.t="s",E.v=N;else if(N.charCodeAt(0)==61)N.charCodeAt(1)==34&&N.charCodeAt(N.length-1)==34?(E.t="s",E.v=N.slice(2,-1).replace(/""/g,'"')):$me(N)?(E.t="n",E.f=N.slice(1)):(E.t="s",E.v=N);else if(N=="TRUE")E.t="b",E.v=!0;else if(N=="FALSE")E.t="b",E.v=!1;else if(!isNaN(w=Pl(N)))E.t="n",h.cellText!==!1&&(E.w=N),E.v=w;else if(!isNaN(Ap(N).getDate())||_&&N.match(_)){E.z=h.dateNF||Ir[14];var k=0;_&&N.match(_)&&(N=fde(N,h.dateNF,N.match(_)||[]),k=1),h.cellDates?(E.t="d",E.v=gi(N,k)):(E.t="n",E.v=Es(gi(N,k))),h.cellText!==!1&&(E.w=Go(E.z,E.v instanceof Date?Es(E.v):E.v)),h.cellNF||delete E.z}else E.t="s",E.v=N;if(E.t=="z"||(h.dense?(g[v]||(g[v]=[]),g[v][y]=E):g[Pr({c:y,r:v})]=E),b=D+1,S=u.charCodeAt(b),m.e.c<y&&(m.e.c=y),m.e.r<v&&(m.e.r=v),T==P)++y;else if(y=0,++v,h.sheetRows&&h.sheetRows<=v)return!0}e:for(;D<u.length;++D)switch(T=u.charCodeAt(D)){case 34:S===34&&(O=!O);break;case P:case 10:case 13:if(!O&&j())break e;break}return D-b>0&&j(),g["!ref"]=sn(m),g}function s(u,d){return!(d&&d.PRN)||d.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?i(u,d):hm(t(u,d),d)}function o(u,d){var h="",p=d.type=="string"?[0,0,0,0]:xC(u,d);switch(d.type){case"base64":h=po(u);break;case"binary":h=u;break;case"buffer":d.codepage==65001?h=u.toString("utf8"):d.codepage&&typeof ff<"u"?h=ff.utils.decode(d.codepage,u):h=Xr&&Buffer.isBuffer(u)?u.toString("binary"):Ch(u);break;case"array":h=ph(u);break;case"string":h=u;break;default:throw new Error("Unrecognized type "+d.type)}return p[0]==239&&p[1]==187&&p[2]==191?h=Wn(h.slice(3)):d.type!="string"&&d.type!="buffer"&&d.codepage==65001?h=Wn(h):d.type=="binary"&&typeof ff<"u"&&d.codepage&&(h=ff.utils.decode(d.codepage,ff.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?Z0e.to_sheet(d.type=="string"?h:Wn(h),d):s(h,d)}function l(u,d){return id(o(u,d),d)}function c(u){for(var d=[],h=wa(u["!ref"]),p,g=Array.isArray(u),m=h.s.r;m<=h.e.r;++m){for(var v=[],y=h.s.c;y<=h.e.c;++y){var w=Pr({r:m,c:y});if(p=g?(u[m]||[])[y]:u[w],!p||p.v==null){v.push("          ");continue}for(var b=(p.w||(mu(p),p.w)||"").slice(0,10);b.length<10;)b+=" ";v.push(b+(y===0?" ":""))}d.push(v.join(""))}return d.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}}();function epe(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=Q0e.to_workbook(e,r);return r.WTF=n,a}catch(i){if(r.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return Yv.to_workbook(e,t)}}var Xg=function(){function e(I,M,q){if(I){Ni(I,I.l||0);for(var K=q.Enum||re;I.l<I.length;){var J=I.read_shift(2),se=K[J]||K[65535],he=I.read_shift(2),ie=I.l+he,ge=se.f&&se.f(I,he,q);if(I.l=ie,M(ge,se,J))return}}}function t(I,M){switch(M.type){case"base64":return r(wl(po(I)),M);case"binary":return r(wl(I),M);case"buffer":case"array":return r(I,M)}throw"Unsupported type "+M.type}function r(I,M){if(!I)return I;var q=M||{},K=q.dense?[]:{},J="Sheet1",se="",he=0,ie={},ge=[],xe=[],W={s:{r:0,c:0},e:{r:0,c:0}},Pe=q.sheetRows||0;if(I[2]==0&&(I[3]==8||I[3]==9)&&I.length>=16&&I[14]==5&&I[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(I[2]==2)q.Enum=re,e(I,function(Fe,Ge,Le){switch(Le){case 0:q.vers=Fe,Fe>=4096&&(q.qpro=!0);break;case 6:W=Fe;break;case 204:Fe&&(se=Fe);break;case 222:se=Fe;break;case 15:case 51:q.qpro||(Fe[1].v=Fe[1].v.slice(1));case 13:case 14:case 16:Le==14&&(Fe[2]&112)==112&&(Fe[2]&15)>1&&(Fe[2]&15)<15&&(Fe[1].z=q.dateNF||Ir[14],q.cellDates&&(Fe[1].t="d",Fe[1].v=A5(Fe[1].v))),q.qpro&&Fe[3]>he&&(K["!ref"]=sn(W),ie[J]=K,ge.push(J),K=q.dense?[]:{},W={s:{r:0,c:0},e:{r:0,c:0}},he=Fe[3],J=se||"Sheet"+(he+1),se="");var Ye=q.dense?(K[Fe[0].r]||[])[Fe[0].c]:K[Pr(Fe[0])];if(Ye){Ye.t=Fe[1].t,Ye.v=Fe[1].v,Fe[1].z!=null&&(Ye.z=Fe[1].z),Fe[1].f!=null&&(Ye.f=Fe[1].f);break}q.dense?(K[Fe[0].r]||(K[Fe[0].r]=[]),K[Fe[0].r][Fe[0].c]=Fe[1]):K[Pr(Fe[0])]=Fe[1];break}},q);else if(I[2]==26||I[2]==14)q.Enum=ee,I[2]==14&&(q.qpro=!0,I.l=0),e(I,function(Fe,Ge,Le){switch(Le){case 204:J=Fe;break;case 22:Fe[1].v=Fe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Fe[3]>he&&(K["!ref"]=sn(W),ie[J]=K,ge.push(J),K=q.dense?[]:{},W={s:{r:0,c:0},e:{r:0,c:0}},he=Fe[3],J="Sheet"+(he+1)),Pe>0&&Fe[0].r>=Pe)break;q.dense?(K[Fe[0].r]||(K[Fe[0].r]=[]),K[Fe[0].r][Fe[0].c]=Fe[1]):K[Pr(Fe[0])]=Fe[1],W.e.c<Fe[0].c&&(W.e.c=Fe[0].c),W.e.r<Fe[0].r&&(W.e.r=Fe[0].r);break;case 27:Fe[14e3]&&(xe[Fe[14e3][0]]=Fe[14e3][1]);break;case 1537:xe[Fe[0]]=Fe[1],Fe[0]==he&&(J=Fe[1]);break}},q);else throw new Error("Unrecognized LOTUS BOF "+I[2]);if(K["!ref"]=sn(W),ie[se||J]=K,ge.push(se||J),!xe.length)return{SheetNames:ge,Sheets:ie};for(var Ce={},Te=[],ce=0;ce<xe.length;++ce)ie[ge[ce]]?(Te.push(xe[ce]||ge[ce]),Ce[xe[ce]]=ie[xe[ce]]||ie[ge[ce]]):(Te.push(xe[ce]),Ce[xe[ce]]={"!ref":"A1"});return{SheetNames:Te,Sheets:Ce}}function n(I,M){var q=M||{};if(+q.codepage>=0&&Al(+q.codepage),q.type=="string")throw new Error("Cannot write WK1 to JS string");var K=k3(),J=wa(I["!ref"]),se=Array.isArray(I),he=[];cl(K,0,i(1030)),cl(K,6,l(J));for(var ie=Math.min(J.e.r,8191),ge=J.s.r;ge<=ie;++ge)for(var xe=Oi(ge),W=J.s.c;W<=J.e.c;++W){ge===J.s.r&&(he[W]=Za(W));var Pe=he[W]+xe,Ce=se?(I[ge]||[])[W]:I[Pe];if(!(!Ce||Ce.t=="z"))if(Ce.t=="n")(Ce.v|0)==Ce.v&&Ce.v>=-32768&&Ce.v<=32767?cl(K,13,p(ge,W,Ce.v)):cl(K,14,m(ge,W,Ce.v));else{var Te=mu(Ce);cl(K,15,d(ge,W,Te.slice(0,239)))}}return cl(K,1),K.end()}function a(I,M){var q=M||{};if(+q.codepage>=0&&Al(+q.codepage),q.type=="string")throw new Error("Cannot write WK3 to JS string");var K=k3();cl(K,0,s(I));for(var J=0,se=0;J<I.SheetNames.length;++J)(I.Sheets[I.SheetNames[J]]||{})["!ref"]&&cl(K,27,H(I.SheetNames[J],se++));var he=0;for(J=0;J<I.SheetNames.length;++J){var ie=I.Sheets[I.SheetNames[J]];if(!(!ie||!ie["!ref"])){for(var ge=wa(ie["!ref"]),xe=Array.isArray(ie),W=[],Pe=Math.min(ge.e.r,8191),Ce=ge.s.r;Ce<=Pe;++Ce)for(var Te=Oi(Ce),ce=ge.s.c;ce<=ge.e.c;++ce){Ce===ge.s.r&&(W[ce]=Za(ce));var Fe=W[ce]+Te,Ge=xe?(ie[Ce]||[])[ce]:ie[Fe];if(!(!Ge||Ge.t=="z"))if(Ge.t=="n")cl(K,23,j(Ce,ce,he,Ge.v));else{var Le=mu(Ge);cl(K,22,T(Ce,ce,he,Le.slice(0,239)))}}++he}}return cl(K,1),K.end()}function i(I){var M=Xa(2);return M.write_shift(2,I),M}function s(I){var M=Xa(26);M.write_shift(2,4096),M.write_shift(2,4),M.write_shift(4,0);for(var q=0,K=0,J=0,se=0;se<I.SheetNames.length;++se){var he=I.SheetNames[se],ie=I.Sheets[he];if(!(!ie||!ie["!ref"])){++J;var ge=dm(ie["!ref"]);q<ge.e.r&&(q=ge.e.r),K<ge.e.c&&(K=ge.e.c)}}return q>8191&&(q=8191),M.write_shift(2,q),M.write_shift(1,J),M.write_shift(1,K),M.write_shift(2,0),M.write_shift(2,0),M.write_shift(1,1),M.write_shift(1,2),M.write_shift(4,0),M.write_shift(4,0),M}function o(I,M,q){var K={s:{c:0,r:0},e:{c:0,r:0}};return M==8&&q.qpro?(K.s.c=I.read_shift(1),I.l++,K.s.r=I.read_shift(2),K.e.c=I.read_shift(1),I.l++,K.e.r=I.read_shift(2),K):(K.s.c=I.read_shift(2),K.s.r=I.read_shift(2),M==12&&q.qpro&&(I.l+=2),K.e.c=I.read_shift(2),K.e.r=I.read_shift(2),M==12&&q.qpro&&(I.l+=2),K.s.c==65535&&(K.s.c=K.e.c=K.s.r=K.e.r=0),K)}function l(I){var M=Xa(8);return M.write_shift(2,I.s.c),M.write_shift(2,I.s.r),M.write_shift(2,I.e.c),M.write_shift(2,I.e.r),M}function c(I,M,q){var K=[{c:0,r:0},{t:"n",v:0},0,0];return q.qpro&&q.vers!=20768?(K[0].c=I.read_shift(1),K[3]=I.read_shift(1),K[0].r=I.read_shift(2),I.l+=2):(K[2]=I.read_shift(1),K[0].c=I.read_shift(2),K[0].r=I.read_shift(2)),K}function u(I,M,q){var K=I.l+M,J=c(I,M,q);if(J[1].t="s",q.vers==20768){I.l++;var se=I.read_shift(1);return J[1].v=I.read_shift(se,"utf8"),J}return q.qpro&&I.l++,J[1].v=I.read_shift(K-I.l,"cstr"),J}function d(I,M,q){var K=Xa(7+q.length);K.write_shift(1,255),K.write_shift(2,M),K.write_shift(2,I),K.write_shift(1,39);for(var J=0;J<K.length;++J){var se=q.charCodeAt(J);K.write_shift(1,se>=128?95:se)}return K.write_shift(1,0),K}function h(I,M,q){var K=c(I,M,q);return K[1].v=I.read_shift(2,"i"),K}function p(I,M,q){var K=Xa(7);return K.write_shift(1,255),K.write_shift(2,M),K.write_shift(2,I),K.write_shift(2,q,"i"),K}function g(I,M,q){var K=c(I,M,q);return K[1].v=I.read_shift(8,"f"),K}function m(I,M,q){var K=Xa(13);return K.write_shift(1,255),K.write_shift(2,M),K.write_shift(2,I),K.write_shift(8,q,"f"),K}function v(I,M,q){var K=I.l+M,J=c(I,M,q);if(J[1].v=I.read_shift(8,"f"),q.qpro)I.l=K;else{var se=I.read_shift(2);D(I.slice(I.l,I.l+se),J),I.l+=se}return J}function y(I,M,q){var K=M&32768;return M&=-32769,M=(K?I:0)+(M>=8192?M-16384:M),(K?"":"$")+(q?Za(M):Oi(M))}var w={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},b=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function D(I,M){Ni(I,0);for(var q=[],K=0,J="",se="",he="",ie="";I.l<I.length;){var ge=I[I.l++];switch(ge){case 0:q.push(I.read_shift(8,"f"));break;case 1:se=y(M[0].c,I.read_shift(2),!0),J=y(M[0].r,I.read_shift(2),!1),q.push(se+J);break;case 2:{var xe=y(M[0].c,I.read_shift(2),!0),W=y(M[0].r,I.read_shift(2),!1);se=y(M[0].c,I.read_shift(2),!0),J=y(M[0].r,I.read_shift(2),!1),q.push(xe+W+":"+se+J)}break;case 3:if(I.l<I.length){console.error("WK1 premature formula end");return}break;case 4:q.push("("+q.pop()+")");break;case 5:q.push(I.read_shift(2));break;case 6:{for(var Pe="";ge=I[I.l++];)Pe+=String.fromCharCode(ge);q.push('"'+Pe.replace(/"/g,'""')+'"')}break;case 8:q.push("-"+q.pop());break;case 23:q.push("+"+q.pop());break;case 22:q.push("NOT("+q.pop()+")");break;case 20:case 21:ie=q.pop(),he=q.pop(),q.push(["AND","OR"][ge-20]+"("+he+","+ie+")");break;default:if(ge<32&&b[ge])ie=q.pop(),he=q.pop(),q.push(he+b[ge]+ie);else if(w[ge]){if(K=w[ge][1],K==69&&(K=I[I.l++]),K>q.length){console.error("WK1 bad formula parse 0x"+ge.toString(16)+":|"+q.join("|")+"|");return}var Ce=q.slice(-K);q.length-=K,q.push(w[ge][0]+"("+Ce.join(",")+")")}else return ge<=7?console.error("WK1 invalid opcode "+ge.toString(16)):ge<=24?console.error("WK1 unsupported op "+ge.toString(16)):ge<=30?console.error("WK1 invalid opcode "+ge.toString(16)):ge<=115?console.error("WK1 unsupported function opcode "+ge.toString(16)):console.error("WK1 unrecognized opcode "+ge.toString(16))}}q.length==1?M[1].f=""+q[0]:console.error("WK1 bad formula parse |"+q.join("|")+"|")}function P(I){var M=[{c:0,r:0},{t:"n",v:0},0];return M[0].r=I.read_shift(2),M[3]=I[I.l++],M[0].c=I[I.l++],M}function O(I,M){var q=P(I);return q[1].t="s",q[1].v=I.read_shift(M-4,"cstr"),q}function T(I,M,q,K){var J=Xa(6+K.length);J.write_shift(2,I),J.write_shift(1,q),J.write_shift(1,M),J.write_shift(1,39);for(var se=0;se<K.length;++se){var he=K.charCodeAt(se);J.write_shift(1,he>=128?95:he)}return J.write_shift(1,0),J}function S(I,M){var q=P(I);q[1].v=I.read_shift(2);var K=q[1].v>>1;if(q[1].v&1)switch(K&7){case 0:K=(K>>3)*5e3;break;case 1:K=(K>>3)*500;break;case 2:K=(K>>3)/20;break;case 3:K=(K>>3)/200;break;case 4:K=(K>>3)/2e3;break;case 5:K=(K>>3)/2e4;break;case 6:K=(K>>3)/16;break;case 7:K=(K>>3)/64;break}return q[1].v=K,q}function _(I,M){var q=P(I),K=I.read_shift(4),J=I.read_shift(4),se=I.read_shift(2);if(se==65535)return K===0&&J===3221225472?(q[1].t="e",q[1].v=15):K===0&&J===3489660928?(q[1].t="e",q[1].v=42):q[1].v=0,q;var he=se&32768;return se=(se&32767)-16446,q[1].v=(1-he*2)*(J*Math.pow(2,se+32)+K*Math.pow(2,se)),q}function j(I,M,q,K){var J=Xa(14);if(J.write_shift(2,I),J.write_shift(1,q),J.write_shift(1,M),K==0)return J.write_shift(4,0),J.write_shift(4,0),J.write_shift(2,65535),J;var se=0,he=0,ie=0,ge=0;return K<0&&(se=1,K=-K),he=Math.log2(K)|0,K/=Math.pow(2,he-31),ge=K>>>0,ge&2147483648||(K/=2,++he,ge=K>>>0),K-=ge,ge|=2147483648,ge>>>=0,K*=Math.pow(2,32),ie=K>>>0,J.write_shift(4,ie),J.write_shift(4,ge),he+=16383+(se?32768:0),J.write_shift(2,he),J}function N(I,M){var q=_(I);return I.l+=M-14,q}function E(I,M){var q=P(I),K=I.read_shift(4);return q[1].v=K>>6,q}function k(I,M){var q=P(I),K=I.read_shift(8,"f");return q[1].v=K,q}function U(I,M){var q=k(I);return I.l+=M-10,q}function G(I,M){return I[I.l+M-1]==0?I.read_shift(M,"cstr"):""}function z(I,M){var q=I[I.l++];q>M-1&&(q=M-1);for(var K="";K.length<q;)K+=String.fromCharCode(I[I.l++]);return K}function X(I,M,q){if(!(!q.qpro||M<21)){var K=I.read_shift(1);I.l+=17,I.l+=1,I.l+=2;var J=I.read_shift(M-21,"cstr");return[K,J]}}function V(I,M){for(var q={},K=I.l+M;I.l<K;){var J=I.read_shift(2);if(J==14e3){for(q[J]=[0,""],q[J][0]=I.read_shift(2);I[I.l];)q[J][1]+=String.fromCharCode(I[I.l]),I.l++;I.l++}}return q}function H(I,M){var q=Xa(5+I.length);q.write_shift(2,14e3),q.write_shift(2,M);for(var K=0;K<I.length;++K){var J=I.charCodeAt(K);q[q.l++]=J>127?95:J}return q[q.l++]=0,q}var re={0:{n:"BOF",f:Fa},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:g},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:G},222:{n:"SHEETNAMELP",f:z},65535:{n:""}},ee={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:O},23:{n:"NUMBER17",f:_},24:{n:"NUMBER18",f:S},25:{n:"FORMULA19",f:N},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:V},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:E},38:{n:"??"},39:{n:"NUMBER27",f:k},40:{n:"FORMULA28",f:U},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:G},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:X},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function tpe(e){var t={},r=e.match(us),n=0,a=!1;if(r)for(;n!=r.length;++n){var i=wr(r[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=Yk[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return t}var rpe=function(){var e=Gv("t"),t=Gv("rPr");function r(i){var s=i.match(e);if(!s)return{t:"s",v:""};var o={t:"s",v:fn(s[1])},l=i.match(t);return l&&(o.s=tpe(l[1])),o}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(s){return s.replace(n,"").split(a).map(r).filter(function(o){return o.v})}}(),npe=function(){var t=/(\r\n|\n)/g;function r(a,i,s){var o=[];a.u&&o.push("text-decoration: underline;"),a.uval&&o.push("text-underline-style:"+a.uval+";"),a.sz&&o.push("font-size:"+a.sz+"pt;"),a.outline&&o.push("text-effect: outline;"),a.shadow&&o.push("text-shadow: auto;"),i.push('<span style="'+o.join("")+'">'),a.b&&(i.push("<b>"),s.push("</b>")),a.i&&(i.push("<i>"),s.push("</i>")),a.strike&&(i.push("<s>"),s.push("</s>"));var l=a.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(i.push("<"+l+">"),s.push("</"+l+">")),s.push("</span>"),a}function n(a){var i=[[],a.v,[]];return a.v?(a.s&&r(a.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}}(),ape=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,ipe=/<(?:\w+:)?r>/,spe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function dC(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=fn(Wn(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Wn(e),r&&(n.h=rC(n.t))):e.match(ipe)&&(n.r=Wn(e),n.t=fn(Wn((e.replace(spe,"").match(ape)||[]).join("").replace(us,""))),r&&(n.h=npe(rpe(n.r)))),n):{t:""}}var ope=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,lpe=/<(?:\w+:)?(?:si|sstItem)>/g,cpe=/<\/(?:\w+:)?(?:si|sstItem)>/;function upe(e,t){var r=[],n="";if(!e)return r;var a=e.match(ope);if(a){n=a[2].replace(lpe,"").split(cpe);for(var i=0;i!=n.length;++i){var s=dC(n[i].trim(),t);s!=null&&(r[r.length]=s)}a=wr(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}function fpe(e){return[e.read_shift(4),e.read_shift(4)]}function dpe(e,t){var r=[],n=!1;return Tu(e,function(i,s,o){switch(o){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(s.T,!n||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function gq(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function Qc(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function hpe(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=Qc(e,4),t.U=Qc(e,4),t.W=Qc(e,4),t}function ppe(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),i=[];a-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function mpe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(ppe(e));return t}function gpe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function vpe(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Qc(e,4),t.U=Qc(e,4),t.W=Qc(e,4),t}function ype(e){var t=vpe(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function vq(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function yq(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function xpe(e){var t=Qc(e);switch(t.Minor){case 2:return[t.Minor,bpe(e)];case 3:return[t.Minor,wpe()];case 4:return[t.Minor,_pe(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function bpe(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=vq(e,r),a=yq(e,e.length-e.l);return{t:"Std",h:n,v:a}}function wpe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function _pe(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(us,function(i){var s=wr(i);switch(gc(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){n[o]=s[o]});break;case"<dataIntegrity":n.encryptedHmacKey=s.encryptedHmacKey,n.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(s);break;default:throw s[0]}}),n}function Spe(e,t){var r={},n=r.EncryptionVersionInfo=Qc(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=vq(e,a),t-=a,r.EncryptionVerifier=yq(e,t),r}function Ape(e){var t={},r=t.EncryptionVersionInfo=Qc(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function Tpe(e){var t=0,r,n=gq(e),a=n.length+1,i,s,o,l,c;for(r=Yf(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)s=r[i],o=t&16384?1:0,l=t<<1&32767,c=o|l,t=c^s;return t^52811}var xq=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(s){return(s/2|s*128)&255},a=function(s,o){return n(s^o)},i=function(s){for(var o=t[s.length-1],l=104,c=s.length-1;c>=0;--c)for(var u=s[c],d=0;d!=7;++d)u&64&&(o^=r[l]),u*=2,--l;return o};return function(s){for(var o=gq(s),l=i(o),c=o.length,u=Yf(16),d=0;d!=16;++d)u[d]=0;var h,p,g;for((c&1)===1&&(h=l>>8,u[c]=a(e[0],h),--c,h=l&255,p=o[o.length-1],u[c]=a(p,h));c>0;)--c,h=l>>8,u[c]=a(o[c],h),--c,h=l&255,u[c]=a(o[c],h);for(c=15,g=15-o.length;g>0;)h=l>>8,u[c]=a(e[g],h),--c,--g,h=l&255,u[c]=a(o[c],h),--c,--g;return u}}(),Npe=function(e,t,r,n,a){a||(a=t),n||(n=xq(e));var i,s;for(i=0;i!=t.length;++i)s=t[i],s^=n[r],s=(s>>5|s<<3)&255,a[i]=s,++r;return[a,r,n]},Epe=function(e){var t=0,r=xq(e);return function(n){var a=Npe("",n,t,r);return t=a[1],a[0]}};function kpe(e,t,r,n){var a={key:Fa(e),verificationBytes:Fa(e)};return r.password&&(a.verifier=Tpe(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=Epe(r.password)),a}function Cpe(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=Ape(e):n.Data=Spe(e,t),n}function Ppe(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?Cpe(e,t-2,n):kpe(e,r.biff>=8?t:t-2,r,n),n}var jpe=function(){function e(a,i){switch(i.type){case"base64":return t(po(a),i);case"binary":return t(a,i);case"buffer":return t(Xr&&Buffer.isBuffer(a)?a.toString("binary"):Ch(a),i);case"array":return t(ph(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var s=i||{},o=s.dense?[]:{},l=a.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(u,d){Array.isArray(o)&&(o[d]=[]);for(var h=/\\\w+\b/g,p=0,g,m=-1;g=h.exec(u);){switch(g[0]){case"\\cell":var v=u.slice(p,h.lastIndex-g[0].length);if(v[0]==" "&&(v=v.slice(1)),++m,v.length){var y={v,t:"s"};Array.isArray(o)?o[d][m]=y:o[Pr({r:d,c:m})]=y}break}p=h.lastIndex}m>c.e.c&&(c.e.c=m)}),o["!ref"]=sn(c),o}function r(a,i){return id(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],s=wa(a["!ref"]),o,l=Array.isArray(a),c=s.s.r;c<=s.e.r;++c){i.push("\\trowd\\trautofit1");for(var u=s.s.c;u<=s.e.c;++u)i.push("\\cellx"+(u+1));for(i.push("\\pard\\intbl"),u=s.s.c;u<=s.e.c;++u){var d=Pr({r:c,c:u});o=l?(a[c]||[])[u]:a[d],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(mu(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function Ope(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Xv(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function Ipe(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),i=Math.min(t,r,n),s=a-i;if(s===0)return[0,0,t];var o=0,l=0,c=a+i;switch(l=s/(c>1?2-c:c),a){case t:o=((r-n)/s+6)%6;break;case r:o=(n-t)/s+2;break;case n:o=(t-r)/s+4;break}return[o/6,l,c/2]}function Dpe(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),i=n-a/2,s=[i,i,i],o=6*t,l;if(r!==0)switch(o|0){case 0:case 6:l=a*o,s[0]+=a,s[1]+=l;break;case 1:l=a*(2-o),s[0]+=l,s[1]+=a;break;case 2:l=a*(o-2),s[1]+=a,s[2]+=l;break;case 3:l=a*(4-o),s[1]+=l,s[2]+=a;break;case 4:l=a*(o-4),s[2]+=a,s[0]+=l;break;case 5:l=a*(6-o),s[2]+=l,s[0]+=a;break}for(var c=0;c!=3;++c)s[c]=Math.round(s[c]*255);return s}function Nb(e,t){if(t===0)return e;var r=Ipe(Ope(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),Xv(Dpe(r))}var bq=6,Lpe=15,Mpe=1,ys=bq;function Eb(e){return Math.floor((e+Math.round(128/ys)/256)*ys)}function kb(e){return Math.floor((e-5)/ys*100+.5)/100}function O3(e){return Math.round((e*ys+5)/ys*256)/256}function VS(e){return O3(kb(Eb(e)))}function hC(e){var t=Math.abs(e-VS(e)),r=ys;if(t>.005)for(ys=Mpe;ys<Lpe;++ys)Math.abs(e-VS(e))<=t&&(t=Math.abs(e-VS(e)),r=ys);ys=r}function Tp(e){e.width?(e.wpx=Eb(e.width),e.wch=kb(e.wpx),e.MDW=ys):e.wpx?(e.wch=kb(e.wpx),e.width=O3(e.wch),e.MDW=ys):typeof e.wch=="number"&&(e.width=O3(e.wch),e.wpx=Eb(e.width),e.MDW=ys),e.customWidth&&delete e.customWidth}var Rpe=96,wq=Rpe;function _q(e){return e*96/wq}function Qv(e){return e*wq/96}var Fpe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function $pe(e,t,r,n){t.Borders=[];var a={},i=!1;(e[0].match(us)||[]).forEach(function(s){var o=wr(s);switch(gc(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},o.diagonalUp&&(a.diagonalUp=ea(o.diagonalUp)),o.diagonalDown&&(a.diagonalDown=ea(o.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in borders")}})}function Bpe(e,t,r,n){t.Fills=[];var a={},i=!1;(e[0].match(us)||[]).forEach(function(s){var o=wr(s);switch(gc(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":o.patternType&&(a.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),o.indexed&&(a.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(a.bgColor.theme=parseInt(o.theme,10)),o.tint&&(a.bgColor.tint=parseFloat(o.tint)),o.rgb&&(a.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),o.theme&&(a.fgColor.theme=parseInt(o.theme,10)),o.tint&&(a.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(a.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fills")}})}function Upe(e,t,r,n){t.Fonts=[];var a={},i=!1;(e[0].match(us)||[]).forEach(function(s){var o=wr(s);switch(gc(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":o.val&&(a.name=Wn(o.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=o.val?ea(o.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=o.val?ea(o.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(o.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=o.val?ea(o.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=o.val?ea(o.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=o.val?ea(o.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=o.val?ea(o.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=o.val?ea(o.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":o.val&&(a.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(a.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(a.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(a.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=Yk[parseInt(o.val,10)];break;case"<color":if(a.color||(a.color={}),o.auto&&(a.color.auto=ea(o.auto)),o.rgb)a.color.rgb=o.rgb.slice(-6);else if(o.indexed){a.color.index=parseInt(o.indexed,10);var l=Zd[a.color.index];a.color.index==81&&(l=Zd[1]),l||(l=Zd[1]),a.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(a.color.theme=parseInt(o.theme,10),o.tint&&(a.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=Nb(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fonts")}})}function Vpe(e,t,r){t.NumberFmt=[];for(var n=hc(Ir),a=0;a<n.length;++a)t.NumberFmt[n[a]]=Ir[n[a]];var i=e[0].match(us);if(i)for(a=0;a<i.length;++a){var s=wr(i[a]);switch(gc(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=fn(Wn(s.formatCode)),l=parseInt(s.numFmtId,10);if(t.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&t.NumberFmt[l]!=null;--l);t.NumberFmt[l]=o}Jd(o,l)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}var _x=["numFmtId","fillId","fontId","borderId","xfId"],Sx=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function zpe(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(us)||[]).forEach(function(i){var s=wr(i),o=0;switch(gc(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=s,delete n[0],o=0;o<_x.length;++o)n[_x[o]]&&(n[_x[o]]=parseInt(n[_x[o]],10));for(o=0;o<Sx.length;++o)n[Sx[o]]&&(n[Sx[o]]=ea(n[Sx[o]]));if(t.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[o]){n.numFmtId=o;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};s.vertical&&(l.vertical=s.vertical),s.horizontal&&(l.horizontal=s.horizontal),s.textRotation!=null&&(l.textRotation=s.textRotation),s.indent&&(l.indent=s.indent),s.wrapText&&(l.wrapText=ea(s.wrapText)),n.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}var qpe=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,c){var u={};if(!o)return u;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var d;return(d=o.match(t))&&Vpe(d,u,c),(d=o.match(a))&&Upe(d,u,l,c),(d=o.match(n))&&Bpe(d,u,l,c),(d=o.match(i))&&$pe(d,u,l,c),(d=o.match(r))&&zpe(d,u,c),u}}();function Wpe(e,t){var r=e.read_shift(2),n=ss(e);return[r,n]}function Hpe(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=rhe(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=e.read_shift(1);s!=0&&(n.underline=s);var o=e.read_shift(1);o>0&&(n.family=o);var l=e.read_shift(1);switch(l>0&&(n.charset=l),e.l++,n.color=the(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=ss(e),n}var Gpe=cs;function Kpe(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}var Ype=cs;function Xpe(e,t,r){var n={};n.NumberFmt=[];for(var a in Ir)n.NumberFmt[a]=Ir[a];n.CellXf=[],n.Fonts=[];var i=[],s=!1;return Tu(e,function(l,c,u){switch(u){case 44:n.NumberFmt[l[0]]=l[1],Jd(l[1],l[0]);break;case 43:n.Fonts.push(l),l.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(l.color.rgb=Nb(t.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:i.push(u),s=!0;break;case 38:i.pop(),s=!1;break;default:if(c.T>0)i.push(u);else if(c.T<0)i.pop();else if(!s||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),n}var Qpe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function Jpe(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(us)||[]).forEach(function(a){var i=wr(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[Qpe.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function Zpe(){}function eme(){}var tme=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,rme=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,nme=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function ame(e,t,r){t.themeElements={};var n;[["clrScheme",tme,Jpe],["fontScheme",rme,Zpe],["fmtScheme",nme,eme]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var ime=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function Sq(e,t){(!e||e.length===0)&&(e=sme());var r,n={};if(!(r=e.match(ime)))throw new Error("themeElements not found in theme");return ame(r[0],n,t),n.raw=e,n}function sme(e,t){var r=[Dz];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function ome(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var i=e.slice(e.l);e.l=n;var s;try{s=Iz(i,{type:"array"})}catch{return}var o=so(s,"theme/theme/theme1.xml",!0);if(o)return Sq(o,r)}}function lme(e){return e.read_shift(4)}function cme(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=ume(e,4);break;case 2:t.xclrValue=cq(e);break;case 3:t.xclrValue=lme(e);break;case 4:e.l+=4;break}return e.l+=8,t}function ume(e,t){return cs(e,t)}function fme(e,t){return cs(e,t)}function dme(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=cme(e);break;case 6:n[1]=fme(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function hme(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),i=[];a-- >0;)i.push(dme(e,r-e.l));return{ixfe:n,ext:i}}function pme(e,t){t.forEach(function(r){switch(r[0]){}})}function mme(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:ss(e)}}function gme(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function vme(e){return e.l+=4,e.read_shift(4)!=0}function yme(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},i=[],s=!1,o=2;return Tu(e,function(l,c,u){switch(u){case 335:n.Types.push({name:l.name});break;case 51:l.forEach(function(d){o==1?n.Cell.push({type:n.Types[d[0]-1].name,index:d[1]}):o==0&&n.Value.push({type:n.Types[d[0]-1].name,index:d[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:i.push(u),s=!0;break;case 36:i.pop(),s=!1;break;default:if(!c.T){if(!s||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),n}function xme(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,i=2,s;return e.replace(us,function(o){var l=wr(o);switch(gc(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<n.Types.length;++c)n.Types[c].name==l.name&&(s=n.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[l.t-1].name,index:+l.v}):i==0&&n.Value.push({type:n.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+l.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),n}function bme(e){var t=[];if(!e)return t;var r=1;return(e.match(us)||[]).forEach(function(n){var a=wr(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function wme(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Pr(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function _me(e,t,r){var n=[];return Tu(e,function(i,s,o){switch(o){case 63:n.push(i);break;default:if(!s.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function Sme(e,t,r,n){if(!e)return e;var a=n||{},i=!1;Tu(e,function(o,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!l.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},a)}function Ame(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}function n8(e,t,r,n){var a=Array.isArray(e),i;t.forEach(function(s){var o=_s(s.ref);if(a?(e[o.r]||(e[o.r]=[]),i=e[o.r][o.c]):i=e[s.ref],!i){i={t:"z"},a?e[o.r][o.c]=i:e[s.ref]=i;var l=wa(e["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var c=sn(l);c!==e["!ref"]&&(e["!ref"]=c)}i.c||(i.c=[]);var u={a:s.author,t:s.t,r:s.r,T:r};s.h&&(u.h=s.h);for(var d=i.c.length-1;d>=0;--d){if(!r&&i.c[d].T)return;r&&!i.c[d].T&&i.c.splice(d,1)}if(r&&n){for(d=0;d<n.length;++d)if(u.a==n[d].id){u.a=n[d].name||u.a;break}}i.c.push(u)})}function Tme(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=wr(o[0]),c={author:l.authorId&&r[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},u=_s(l.ref);if(!(t.sheetRows&&t.sheetRows<=u.r)){var d=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!d&&!!d[1]&&dC(d[1])||{r:"",t:"",h:""};c.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),c.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(c.h=h.h),n.push(c)}}}}),n}function Nme(e,t){var r=[],n=!1,a={},i=0;return e.replace(us,function(o,l){var c=wr(o);switch(gc(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":i=l+o.length;break;case"</text>":a.t=e.slice(i,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return o}),r}function Eme(e,t){var r=[],n=!1;return e.replace(us,function(i){var s=wr(i);switch(gc(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return i}),r}function kme(e){var t={};t.iauthor=e.read_shift(4);var r=jh(e);return t.rfx=r.s,t.ref=Pr(r.s),e.l+=16,t}var Cme=ss;function Pme(e,t){var r=[],n=[],a={},i=!1;return Tu(e,function(o,l,c){switch(c){case 632:n.push(o);break;case 635:a=o;break;case 637:a.t=o.t,a.h=o.h,a.r=o.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),r}var jme="application/vnd.ms-office.vbaProject";function Ome(e){var t=an.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");an.utils.cfb_add(t,a,e.FileIndex[n].content)}}),an.write(t)}function Ime(){return{"!type":"dialog"}}function Dme(){return{"!type":"dialog"}}function Lme(){return{"!type":"macro"}}function Mme(){return{"!type":"macro"}}var G0=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,s){var o=!1,l=!1;i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var c=i.length>0?parseInt(i,10)|0:0,u=s.length>0?parseInt(s,10)|0:0;return o?u+=t.c:--u,l?c+=t.r:--c,a+(o?"":"$")+Za(u)+(l?"":"$")+Oi(c)}return function(a,i){return t=i,a.replace(e,r)}}(),Aq=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Rme=function(){return function(t,r){return t.replace(Aq,function(n,a,i,s,o,l){var c=sC(s)-(i?0:r.c),u=iC(l)-(o?0:r.r),d=u==0?"":o?u+1:"["+u+"]",h=c==0?"":i?c+1:"["+c+"]";return a+"R"+d+"C"+h})}}();function Tq(e,t){return e.replace(Aq,function(r,n,a,i,s,o){return n+(a=="$"?a+i:Za(sC(i)+t.c))+(s=="$"?s+o:Oi(iC(o)+t.r))})}function Fme(e,t,r){var n=dm(t),a=n.s,i=_s(r),s={r:i.r-a.r,c:i.c-a.c};return Tq(e,s)}function $me(e){return e.length!=1}function a8(e){return e.replace(/_xlfn\./g,"")}function La(e){e.l+=1}function Xf(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function Nq(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return Eq(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),s=Xf(e),o=Xf(e);return{s:{r:a,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function Eq(e){var t=Xf(e),r=Xf(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function Bme(e,t,r){if(r.biff<8)return Eq(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=Xf(e),s=Xf(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}function kq(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return Ume(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Xf(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function Ume(e){var t=Xf(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function Vme(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function zme(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return qme(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),s=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;a>524287;)a-=1048576;if(s==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:s,rRel:o}}function qme(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function Wme(e,t,r){var n=(e[e.l++]&96)>>5,a=Nq(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function Hme(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var s=Nq(e,i,r);return[n,a,s]}function Gme(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function Kme(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function Yme(e,t,r){var n=(e[e.l++]&96)>>5,a=Bme(e,t-1,r);return[n,a]}function Xme(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function i8(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function Qme(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function Jme(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Zme(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function ege(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function tge(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function Cq(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function rge(e){return e.read_shift(2),Cq(e)}function nge(e){return e.read_shift(2),Cq(e)}function age(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=kq(e,0,r);return[n,a]}function ige(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=zme(e,0,r);return[n,a]}function sge(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=kq(e,0,r);return[n,a,i]}function oge(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[lve[a],Oq[a],n]}function lge(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:cge(e);return[a,(i[0]===0?Oq:ove)[i[1]]]}function cge(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function uge(e,t,r){e.l+=r&&r.biff==2?3:4}function fge(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function dge(e){return e.l++,Oh[e.read_shift(1)]}function hge(e){return e.l++,e.read_shift(2)}function pge(e){return e.l++,e.read_shift(1)!==0}function mge(e){return e.l++,ts(e)}function gge(e,t,r){return e.l++,ry(e,t-1,r)}function vge(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Aa(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Oh[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=ts(e);break;case 2:r[1]=Ih(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function yge(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?jh:T5)(e));return a}function xge(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,s=[];i!=n&&(s[i]=[]);++i)for(var o=0;o!=a;++o)s[i][o]=vge(e,r.biff);return s}function bge(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function wge(e,t,r){if(r.biff==5)return _ge(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function _ge(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function Sge(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Age(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Tge(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function Nge(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var Ege=cs,kge=cs,Cge=cs;function ay(e,t,r){return e.l+=2,[Vme(e)]}function pC(e){return e.l+=6,[]}var Pge=ay,jge=pC,Oge=pC,Ige=ay;function Pq(e){return e.l+=2,[Fa(e),e.read_shift(2)&1]}var Dge=ay,Lge=Pq,Mge=pC,Rge=ay,Fge=ay,$ge=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Bge(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),s=$ge[r>>2&31];return{ixti:t,coltype:r&3,rt:s,idx:n,c:a,C:i}}function Uge(e){return e.l+=2,[e.read_shift(4)]}function Vge(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function zge(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function qge(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Wge(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Hge(e){return e.l+=4,[0,0]}var s8={1:{n:"PtgExp",f:fge},2:{n:"PtgTbl",f:Cge},3:{n:"PtgAdd",f:La},4:{n:"PtgSub",f:La},5:{n:"PtgMul",f:La},6:{n:"PtgDiv",f:La},7:{n:"PtgPower",f:La},8:{n:"PtgConcat",f:La},9:{n:"PtgLt",f:La},10:{n:"PtgLe",f:La},11:{n:"PtgEq",f:La},12:{n:"PtgGe",f:La},13:{n:"PtgGt",f:La},14:{n:"PtgNe",f:La},15:{n:"PtgIsect",f:La},16:{n:"PtgUnion",f:La},17:{n:"PtgRange",f:La},18:{n:"PtgUplus",f:La},19:{n:"PtgUminus",f:La},20:{n:"PtgPercent",f:La},21:{n:"PtgParen",f:La},22:{n:"PtgMissArg",f:La},23:{n:"PtgStr",f:gge},26:{n:"PtgSheet",f:Vge},27:{n:"PtgEndSheet",f:zge},28:{n:"PtgErr",f:dge},29:{n:"PtgBool",f:pge},30:{n:"PtgInt",f:hge},31:{n:"PtgNum",f:mge},32:{n:"PtgArray",f:Xme},33:{n:"PtgFunc",f:oge},34:{n:"PtgFuncVar",f:lge},35:{n:"PtgName",f:bge},36:{n:"PtgRef",f:age},37:{n:"PtgArea",f:Wme},38:{n:"PtgMemArea",f:Sge},39:{n:"PtgMemErr",f:Ege},40:{n:"PtgMemNoMem",f:kge},41:{n:"PtgMemFunc",f:Age},42:{n:"PtgRefErr",f:Tge},43:{n:"PtgAreaErr",f:Gme},44:{n:"PtgRefN",f:ige},45:{n:"PtgAreaN",f:Yme},46:{n:"PtgMemAreaN",f:qge},47:{n:"PtgMemNoMemN",f:Wge},57:{n:"PtgNameX",f:wge},58:{n:"PtgRef3d",f:sge},59:{n:"PtgArea3d",f:Hme},60:{n:"PtgRefErr3d",f:Nge},61:{n:"PtgAreaErr3d",f:Kme},255:{}},Gge={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Kge={1:{n:"PtgElfLel",f:Pq},2:{n:"PtgElfRw",f:Rge},3:{n:"PtgElfCol",f:Pge},6:{n:"PtgElfRwV",f:Fge},7:{n:"PtgElfColV",f:Ige},10:{n:"PtgElfRadical",f:Dge},11:{n:"PtgElfRadicalS",f:Mge},13:{n:"PtgElfColS",f:jge},15:{n:"PtgElfColSV",f:Oge},16:{n:"PtgElfRadicalLel",f:Lge},25:{n:"PtgList",f:Bge},29:{n:"PtgSxName",f:Uge},255:{}},Yge={0:{n:"PtgAttrNoop",f:Hge},1:{n:"PtgAttrSemi",f:tge},2:{n:"PtgAttrIf",f:Zme},4:{n:"PtgAttrChoose",f:Qme},8:{n:"PtgAttrGoto",f:Jme},16:{n:"PtgAttrSum",f:uge},32:{n:"PtgAttrBaxcel",f:i8},33:{n:"PtgAttrBaxcel",f:i8},64:{n:"PtgAttrSpace",f:rge},65:{n:"PtgAttrSpaceSemi",f:nge},128:{n:"PtgAttrIfError",f:ege},255:{}};function iy(e,t,r,n){if(n.biff<8)return cs(e,t);for(var a=e.l+t,i=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=xge(e,0,n),i.push(r[s][1]);break;case"PtgMemArea":r[s][2]=yge(e,r[s][1],n),i.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=e.read_shift(4),i.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return t=a-e.l,t!==0&&i.push(cs(e,t)),i}function sy(e,t,r){for(var n=e.l+t,a,i,s=[];n!=e.l;)t=n-e.l,i=e[e.l],a=s8[i]||s8[Gge[i]],(i===24||i===25)&&(a=(i===24?Kge:Yge)[e[e.l+1]]),!a||!a.f?cs(e,t):s.push([a.n,a.f(e,t,r)]);return s}function Xge(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var s=n[i];if(s)switch(s[0]){case 2:a.push('"'+s[1].replace(/"/g,'""')+'"');break;default:a.push(s[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var Qge={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Jge(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function jq(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function o8(e,t,r){var n=jq(e,t,r);return n=="#REF"?n:Jge(n,r)}function Yi(e,t,r,n,a){var i=a&&a.biff||8,s={s:{c:0,r:0},e:{c:0,r:0}},o=[],l,c,u,d=0,h=0,p,g="";if(!e[0]||!e[0][0])return"";for(var m=-1,v="",y=0,w=e[0].length;y<w;++y){var b=e[0][y];switch(b[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),m>=0){switch(e[0][m][1][0]){case 0:v=ya(" ",e[0][m][1][1]);break;case 1:v=ya("\r",e[0][m][1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}c=c+v,m=-1}o.push(c+Qge[b[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=Hg(b[1][1],s,a),o.push(Gg(u,i));break;case"PtgRefN":u=r?Hg(b[1][1],r,a):b[1][1],o.push(Gg(u,i));break;case"PtgRef3d":d=b[1][1],u=Hg(b[1][2],s,a),g=o8(n,d,a),o.push(g+"!"+Gg(u,i));break;case"PtgFunc":case"PtgFuncVar":var D=b[1][0],P=b[1][1];D||(D=0),D&=127;var O=D==0?[]:o.slice(-D);o.length-=D,P==="User"&&(P=O.shift()),o.push(P+"("+O.join(",")+")");break;case"PtgBool":o.push(b[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(b[1]);break;case"PtgNum":o.push(String(b[1]));break;case"PtgStr":o.push('"'+b[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(b[1]);break;case"PtgAreaN":p=UD(b[1][1],r?{s:r}:s,a),o.push(BS(p,a));break;case"PtgArea":p=UD(b[1][1],s,a),o.push(BS(p,a));break;case"PtgArea3d":d=b[1][1],p=b[1][2],g=o8(n,d,a),o.push(g+"!"+BS(p,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=b[1][2];var T=(n.names||[])[h-1]||(n[0]||[])[h],S=T?T.Name:"SH33TJSNAME"+String(h);S&&S.slice(0,6)=="_xlfn."&&!a.xlfn&&(S=S.slice(6)),o.push(S);break;case"PtgNameX":var _=b[1][1];h=b[1][2];var j;if(a.biff<=5)_<0&&(_=-_),n[_]&&(j=n[_][h]);else{var N="";if(((n[_]||[])[0]||[])[0]==14849||(((n[_]||[])[0]||[])[0]==1025?n[_][h]&&n[_][h].itab>0&&(N=n.SheetNames[n[_][h].itab-1]+"!"):N=n.SheetNames[h-1]+"!"),n[_]&&n[_][h])N+=n[_][h].Name;else if(n[0]&&n[0][h])N+=n[0][h].Name;else{var E=(jq(n,_,a)||"").split(";;");E[h-1]?N=E[h-1]:N+="SH33TJSERRX"}o.push(N);break}j||(j={Name:"SH33TJSERRY"}),o.push(j.Name);break;case"PtgParen":var k="(",U=")";if(m>=0){switch(v="",e[0][m][1][0]){case 2:k=ya(" ",e[0][m][1][1])+k;break;case 3:k=ya("\r",e[0][m][1][1])+k;break;case 4:U=ya(" ",e[0][m][1][1])+U;break;case 5:U=ya("\r",e[0][m][1][1])+U;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}m=-1}o.push(k+o.pop()+U);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:b[1][1],r:b[1][0]};var G={c:r.c,r:r.r};if(n.sharedf[Pr(u)]){var z=n.sharedf[Pr(u)];o.push(Yi(z,s,G,n,a))}else{var X=!1;for(l=0;l!=n.arrayf.length;++l)if(c=n.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){o.push(Yi(c[1],s,G,n,a)),X=!0;break}X||o.push(b[1])}break;case"PtgArray":o.push("{"+Xge(b[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+b[1].idx+"[#"+b[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(b));default:throw new Error("Unrecognized Formula Token: "+String(b))}var V=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&m>=0&&V.indexOf(e[0][y][0])==-1){b=e[0][m];var H=!0;switch(b[1][0]){case 4:H=!1;case 0:v=ya(" ",b[1][1]);break;case 5:H=!1;case 1:v=ya("\r",b[1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+b[1][0])}o.push((H?v:"")+o.pop()+(H?"":v)),m=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function Zge(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],cs(e,t-2)];var o=sy(e,s,r);return t!==s+a&&(i=iy(e,t-s-a,o,r)),e.l=n,[o,i]}function eve(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],cs(e,t-2)];var o=sy(e,s,r);return t!==s+a&&(i=iy(e,t-s-a,o,r)),e.l=n,[o,i]}function tve(e,t,r,n){var a=e.l+t,i=sy(e,n,r),s;return a!==e.l&&(s=iy(e,a-e.l,i,r)),[i,s]}function rve(e,t,r){var n=e.l+t,a,i=e.read_shift(2),s=sy(e,i,r);return i==65535?[[],cs(e,t-2)]:(t!==i+2&&(a=iy(e,n-i-2,s,r)),[s,a])}function nve(e){var t;if(qc(e,e.l+6)!==65535)return[ts(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function zS(e,t,r){var n=e.l+t,a=vc(e);r.biff==2&&++e.l;var i=nve(e),s=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=eve(e,n-e.l,r);return{cell:a,val:i[0],formula:o,shared:s>>3&1,tt:i[1]}}function N5(e,t,r){var n=e.read_shift(4),a=sy(e,n,r),i=e.read_shift(4),s=i>0?iy(e,i,a,r):null;return[a,s]}var ave=N5,E5=N5,ive=N5,sve=N5,ove={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Oq={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},lve={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function l8(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function qS(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var Qg={},K0={};function Jg(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Iq(e,t,r,n,a,i){try{n.cellNF&&(e.z=Ir[t])}catch(o){if(n.WTF)throw o}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=gi(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(Ir[t]==null&&Jd(cde[t]||"General",t),e.t==="e")e.w=e.w||Oh[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Hv(e.v);else if(e.t==="d"){var s=Es(e.v);(s|0)===s?e.w=s.toString(10):e.w=Hv(s)}else{if(e.v===void 0)return"";e.w=hh(e.v,K0)}else e.t==="d"?e.w=Go(t,Es(e.v),K0):e.w=Go(t,e.v,K0)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=Nb(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=Nb(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&i.Fills)throw o}}}function cve(e,t){var r=wa(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=sn(r))}var uve=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,fve=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,dve=/<(?:\w:)?hyperlink [^>]*>/mg,hve=/"(\w*:\w*)"/,pve=/<(?:\w:)?col\b[^>]*[\/]?>/g,mve=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,gve=/<(?:\w:)?pageMargins[^>]*\/>/g,Dq=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,vve=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,yve=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function xve(e,t,r,n,a,i,s){if(!e)return e;n||(n={"!id":{}});var o=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",d=e.match(fve);d?(c=e.slice(0,d.index),u=e.slice(d.index+d[0].length)):c=u=e;var h=c.match(Dq);h?mC(h[0],o,a,r):(h=c.match(vve))&&bve(h[0],h[1]||"",o,a,r);var p=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var g=c.slice(p,p+50).match(hve);g&&cve(o,g[1])}var m=c.match(yve);m&&m[1]&&Nve(m[1],a);var v=[];if(t.cellStyles){var y=c.match(pve);y&&Sve(v,y)}d&&Eve(d[1],o,t,l,i,s);var w=u.match(mve);w&&(o["!autofilter"]=Ave(w[0]));var b=[],D=u.match(uve);if(D)for(p=0;p!=D.length;++p)b[p]=wa(D[p].slice(D[p].indexOf('"')+1));var P=u.match(dve);P&&wve(o,P,n);var O=u.match(gve);if(O&&(o["!margins"]=_ve(wr(O[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=sn(l)),t.sheetRows>0&&o["!ref"]){var T=wa(o["!ref"]);t.sheetRows<=+T.e.r&&(T.e.r=t.sheetRows-1,T.e.r>l.e.r&&(T.e.r=l.e.r),T.e.r<T.s.r&&(T.s.r=T.e.r),T.e.c>l.e.c&&(T.e.c=l.e.c),T.e.c<T.s.c&&(T.s.c=T.e.c),o["!fullref"]=o["!ref"],o["!ref"]=sn(T))}return v.length>0&&(o["!cols"]=v),b.length>0&&(o["!merges"]=b),o}function mC(e,t,r,n){var a=wr(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=fn(Wn(a.codeName)))}function bve(e,t,r,n,a){mC(e.slice(0,e.indexOf(">")),r,n,a)}function wve(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var i=wr(Wn(t[a]),!0);if(!i.ref)return;var s=((r||{})["!id"]||[])[i.id];s?(i.Target=s.Target,i.location&&(i.Target+="#"+fn(i.location))):(i.Target="#"+fn(i.location),s={Target:i.Target,TargetMode:"Internal"}),i.Rel=s,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var o=wa(i.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var u=Pr({c,r:l});n?(e[l]||(e[l]=[]),e[l][c]||(e[l][c]={t:"z",v:void 0}),e[l][c].l=i):(e[u]||(e[u]={t:"z",v:void 0}),e[u].l=i)}}}function _ve(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function Sve(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=wr(t[n],!0);a.hidden&&(a.hidden=ea(a.hidden));var i=parseInt(a.min,10)-1,s=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,hC(a.width)),Tp(a);i<=s;)e[i++]=ji(a)}}function Ave(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var Tve=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function Nve(e,t){t.Views||(t.Views=[{}]),(e.match(Tve)||[]).forEach(function(r,n){var a=wr(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),ea(a.rightToLeft)&&(t.Views[n].RTL=!0)})}var Eve=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=Gv("v"),s=Gv("f");return function(l,c,u,d,h,p){for(var g=0,m="",v=[],y=[],w=0,b=0,D=0,P="",O,T,S=0,_=0,j,N,E=0,k=0,U=Array.isArray(p.CellXf),G,z=[],X=[],V=Array.isArray(c),H=[],re={},ee=!1,I=!!u.sheetStubs,M=l.split(t),q=0,K=M.length;q!=K;++q){m=M[q].trim();var J=m.length;if(J!==0){var se=0;e:for(g=0;g<J;++g)switch(m[g]){case">":if(m[g-1]!="/"){++g;break e}if(u&&u.cellStyles){if(T=wr(m.slice(se,g),!0),S=T.r!=null?parseInt(T.r,10):S+1,_=-1,u.sheetRows&&u.sheetRows<S)continue;re={},ee=!1,T.ht&&(ee=!0,re.hpt=parseFloat(T.ht),re.hpx=Qv(re.hpt)),T.hidden=="1"&&(ee=!0,re.hidden=!0),T.outlineLevel!=null&&(ee=!0,re.level=+T.outlineLevel),ee&&(H[S-1]=re)}break;case"<":se=g;break}if(se>=g)break;if(T=wr(m.slice(se,g),!0),S=T.r!=null?parseInt(T.r,10):S+1,_=-1,!(u.sheetRows&&u.sheetRows<S)){d.s.r>S-1&&(d.s.r=S-1),d.e.r<S-1&&(d.e.r=S-1),u&&u.cellStyles&&(re={},ee=!1,T.ht&&(ee=!0,re.hpt=parseFloat(T.ht),re.hpx=Qv(re.hpt)),T.hidden=="1"&&(ee=!0,re.hidden=!0),T.outlineLevel!=null&&(ee=!0,re.level=+T.outlineLevel),ee&&(H[S-1]=re)),v=m.slice(g).split(e);for(var he=0;he!=v.length&&v[he].trim().charAt(0)=="<";++he);for(v=v.slice(he),g=0;g!=v.length;++g)if(m=v[g].trim(),m.length!==0){if(y=m.match(r),w=g,b=0,D=0,m="<c "+(m.slice(0,1)=="<"?">":"")+m,y!=null&&y.length===2){for(w=0,P=y[1],b=0;b!=P.length&&!((D=P.charCodeAt(b)-64)<1||D>26);++b)w=26*w+D;--w,_=w}else++_;for(b=0;b!=m.length&&m.charCodeAt(b)!==62;++b);if(++b,T=wr(m.slice(0,b),!0),T.r||(T.r=Pr({r:S-1,c:_})),P=m.slice(b),O={t:""},(y=P.match(i))!=null&&y[1]!==""&&(O.v=fn(y[1])),u.cellFormula){if((y=P.match(s))!=null&&y[1]!==""){if(O.f=fn(Wn(y[1])).replace(/\r\n/g,`
`),u.xlfn||(O.f=a8(O.f)),y[0].indexOf('t="array"')>-1)O.F=(P.match(a)||[])[1],O.F.indexOf(":")>-1&&z.push([wa(O.F),O.F]);else if(y[0].indexOf('t="shared"')>-1){N=wr(y[0]);var ie=fn(Wn(y[1]));u.xlfn||(ie=a8(ie)),X[parseInt(N.si,10)]=[N,ie,T.r]}}else(y=P.match(/<f[^>]*\/>/))&&(N=wr(y[0]),X[N.si]&&(O.f=Fme(X[N.si][1],X[N.si][2],T.r)));var ge=_s(T.r);for(b=0;b<z.length;++b)ge.r>=z[b][0].s.r&&ge.r<=z[b][0].e.r&&ge.c>=z[b][0].s.c&&ge.c<=z[b][0].e.c&&(O.F=z[b][1])}if(T.t==null&&O.v===void 0)if(O.f||O.F)O.v=0,O.t="n";else if(I)O.t="z";else continue;else O.t=T.t||"n";switch(d.s.c>_&&(d.s.c=_),d.e.c<_&&(d.e.c=_),O.t){case"n":if(O.v==""||O.v==null){if(!I)continue;O.t="z"}else O.v=parseFloat(O.v);break;case"s":if(typeof O.v>"u"){if(!I)continue;O.t="z"}else j=Qg[parseInt(O.v,10)],O.v=j.t,O.r=j.r,u.cellHTML&&(O.h=j.h);break;case"str":O.t="s",O.v=O.v!=null?Wn(O.v):"",u.cellHTML&&(O.h=rC(O.v));break;case"inlineStr":y=P.match(n),O.t="s",y!=null&&(j=dC(y[1]))?(O.v=j.t,u.cellHTML&&(O.h=j.h)):O.v="";break;case"b":O.v=ea(O.v);break;case"d":u.cellDates?O.v=gi(O.v,1):(O.v=Es(gi(O.v,1)),O.t="n");break;case"e":(!u||u.cellText!==!1)&&(O.w=O.v),O.v=tq[O.v];break}if(E=k=0,G=null,U&&T.s!==void 0&&(G=p.CellXf[T.s],G!=null&&(G.numFmtId!=null&&(E=G.numFmtId),u.cellStyles&&G.fillId!=null&&(k=G.fillId))),Iq(O,E,k,u,h,p),u.cellDates&&U&&O.t=="n"&&fm(Ir[E])&&(O.t="d",O.v=A5(O.v)),T.cm&&u.xlmeta){var xe=(u.xlmeta.Cell||[])[+T.cm-1];xe&&xe.type=="XLDAPR"&&(O.D=!0)}if(V){var W=_s(T.r);c[W.r]||(c[W.r]=[]),c[W.r][W.c]=O}else c[T.r]=O}}}}H.length>0&&(c["!rows"]=H)}}();function kve(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}var Cve=jh;function Pve(){}function jve(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=Zde(e),r}function Ove(e){var t=Yo(e);return[t]}function Ive(e){var t=Ph(e);return[t]}function Dve(e){var t=Yo(e),r=e.read_shift(1);return[t,r,"b"]}function Lve(e){var t=Ph(e),r=e.read_shift(1);return[t,r,"b"]}function Mve(e){var t=Yo(e),r=e.read_shift(1);return[t,r,"e"]}function Rve(e){var t=Ph(e),r=e.read_shift(1);return[t,r,"e"]}function Fve(e){var t=Yo(e),r=e.read_shift(4);return[t,r,"s"]}function $ve(e){var t=Ph(e),r=e.read_shift(4);return[t,r,"s"]}function Bve(e){var t=Yo(e),r=ts(e);return[t,r,"n"]}function Lq(e){var t=Ph(e),r=ts(e);return[t,r,"n"]}function Uve(e){var t=Yo(e),r=cC(e);return[t,r,"n"]}function Vve(e){var t=Ph(e),r=cC(e);return[t,r,"n"]}function zve(e){var t=Yo(e),r=oC(e);return[t,r,"is"]}function qve(e){var t=Yo(e),r=ss(e);return[t,r,"str"]}function Wve(e){var t=Ph(e),r=ss(e);return[t,r,"str"]}function Hve(e,t,r){var n=e.l+t,a=Yo(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"b"];if(r.cellFormula){e.l+=2;var o=E5(e,n-e.l,r);s[3]=Yi(o,null,a,r.supbooks,r)}else e.l=n;return s}function Gve(e,t,r){var n=e.l+t,a=Yo(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"e"];if(r.cellFormula){e.l+=2;var o=E5(e,n-e.l,r);s[3]=Yi(o,null,a,r.supbooks,r)}else e.l=n;return s}function Kve(e,t,r){var n=e.l+t,a=Yo(e);a.r=r["!row"];var i=ts(e),s=[a,i,"n"];if(r.cellFormula){e.l+=2;var o=E5(e,n-e.l,r);s[3]=Yi(o,null,a,r.supbooks,r)}else e.l=n;return s}function Yve(e,t,r){var n=e.l+t,a=Yo(e);a.r=r["!row"];var i=ss(e),s=[a,i,"str"];if(r.cellFormula){e.l+=2;var o=E5(e,n-e.l,r);s[3]=Yi(o,null,a,r.supbooks,r)}else e.l=n;return s}var Xve=jh;function Qve(e,t){var r=e.l+t,n=jh(e),a=lC(e),i=ss(e),s=ss(e),o=ss(e);e.l=r;var l={rfx:n,relId:a,loc:i,display:o};return s&&(l.Tooltip=s),l}function Jve(){}function Zve(e,t,r){var n=e.l+t,a=Jz(e),i=e.read_shift(1),s=[a];if(s[2]=i,r.cellFormula){var o=ave(e,n-e.l,r);s[1]=o}else e.l=n;return s}function e1e(e,t,r){var n=e.l+t,a=jh(e),i=[a];if(r.cellFormula){var s=sve(e,n-e.l,r);i[1]=s,e.l=n}else e.l=n;return i}var t1e=["left","right","top","bottom","header","footer"];function r1e(e){var t={};return t1e.forEach(function(r){t[r]=ts(e)}),t}function n1e(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function a1e(){}function i1e(){}function s1e(e,t,r,n,a,i,s){if(!e)return e;var o=t||{};n||(n={"!id":{}});var l=o.dense?[]:{},c,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},d=!1,h=!1,p,g,m,v,y,w,b,D,P,O=[];o.biff=12,o["!row"]=0;var T=0,S=!1,_=[],j={},N=o.supbooks||a.supbooks||[[]];if(N.sharedf=j,N.arrayf=_,N.SheetNames=a.SheetNames||a.Sheets.map(function(V){return V.name}),!o.supbooks&&(o.supbooks=N,a.Names))for(var E=0;E<a.Names.length;++E)N[0][E+1]=a.Names[E];var k=[],U=[],G=!1;Cb[16]={n:"BrtShortReal",f:Lq};var z;if(Tu(e,function(H,re,ee){if(!h)switch(ee){case 148:c=H;break;case 0:p=H,o.sheetRows&&o.sheetRows<=p.r&&(h=!0),D=Oi(v=p.r),o["!row"]=p.r,(H.hidden||H.hpt||H.level!=null)&&(H.hpt&&(H.hpx=Qv(H.hpt)),U[H.r]=H);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(g={t:H[2]},H[2]){case"n":g.v=H[1];break;case"s":b=Qg[H[1]],g.v=b.t,g.r=b.r;break;case"b":g.v=!!H[1];break;case"e":g.v=H[1],o.cellText!==!1&&(g.w=Oh[g.v]);break;case"str":g.t="s",g.v=H[1];break;case"is":g.t="s",g.v=H[1].t;break}if((m=s.CellXf[H[0].iStyleRef])&&Iq(g,m.numFmtId,null,o,i,s),y=H[0].c==-1?y+1:H[0].c,o.dense?(l[v]||(l[v]=[]),l[v][y]=g):l[Za(y)+D]=g,o.cellFormula){for(S=!1,T=0;T<_.length;++T){var I=_[T];p.r>=I[0].s.r&&p.r<=I[0].e.r&&y>=I[0].s.c&&y<=I[0].e.c&&(g.F=sn(I[0]),S=!0)}!S&&H.length>3&&(g.f=H[3])}if(u.s.r>p.r&&(u.s.r=p.r),u.s.c>y&&(u.s.c=y),u.e.r<p.r&&(u.e.r=p.r),u.e.c<y&&(u.e.c=y),o.cellDates&&m&&g.t=="n"&&fm(Ir[m.numFmtId])){var M=zd(g.v);M&&(g.t="d",g.v=new Date(M.y,M.m-1,M.d,M.H,M.M,M.S,M.u))}z&&(z.type=="XLDAPR"&&(g.D=!0),z=void 0);break;case 1:case 12:if(!o.sheetStubs||d)break;g={t:"z",v:void 0},y=H[0].c==-1?y+1:H[0].c,o.dense?(l[v]||(l[v]=[]),l[v][y]=g):l[Za(y)+D]=g,u.s.r>p.r&&(u.s.r=p.r),u.s.c>y&&(u.s.c=y),u.e.r<p.r&&(u.e.r=p.r),u.e.c<y&&(u.e.c=y),z&&(z.type=="XLDAPR"&&(g.D=!0),z=void 0);break;case 176:O.push(H);break;case 49:z=((o.xlmeta||{}).Cell||[])[H-1];break;case 494:var q=n["!id"][H.relId];for(q?(H.Target=q.Target,H.loc&&(H.Target+="#"+H.loc),H.Rel=q):H.relId==""&&(H.Target="#"+H.loc),v=H.rfx.s.r;v<=H.rfx.e.r;++v)for(y=H.rfx.s.c;y<=H.rfx.e.c;++y)o.dense?(l[v]||(l[v]=[]),l[v][y]||(l[v][y]={t:"z",v:void 0}),l[v][y].l=H):(w=Pr({c:y,r:v}),l[w]||(l[w]={t:"z",v:void 0}),l[w].l=H);break;case 426:if(!o.cellFormula)break;_.push(H),P=o.dense?l[v][y]:l[Za(y)+D],P.f=Yi(H[1],u,{r:p.r,c:y},N,o),P.F=sn(H[0]);break;case 427:if(!o.cellFormula)break;j[Pr(H[0].s)]=H[1],P=o.dense?l[v][y]:l[Za(y)+D],P.f=Yi(H[1],u,{r:p.r,c:y},N,o);break;case 60:if(!o.cellStyles)break;for(;H.e>=H.s;)k[H.e--]={width:H.w/256,hidden:!!(H.flags&1),level:H.level},G||(G=!0,hC(H.w/256)),Tp(k[H.e+1]);break;case 161:l["!autofilter"]={ref:sn(H)};break;case 476:l["!margins"]=H;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),H.name&&(a.Sheets[r].CodeName=H.name),(H.above||H.left)&&(l["!outline"]={above:H.above,left:H.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),H.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:d=!0;break;case 36:d=!1;break;case 37:d=!0;break;case 38:d=!1;break;default:if(!re.T){if(!d||o.WTF)throw new Error("Unexpected record 0x"+ee.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(u.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=sn(c||u)),o.sheetRows&&l["!ref"]){var X=wa(l["!ref"]);o.sheetRows<=+X.e.r&&(X.e.r=o.sheetRows-1,X.e.r>u.e.r&&(X.e.r=u.e.r),X.e.r<X.s.r&&(X.s.r=X.e.r),X.e.c>u.e.c&&(X.e.c=u.e.c),X.e.c<X.s.c&&(X.s.c=X.e.c),l["!fullref"]=l["!ref"],l["!ref"]=sn(X))}return O.length>0&&(l["!merges"]=O),k.length>0&&(l["!cols"]=k),U.length>0&&(l["!rows"]=U),l}function o1e(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var s=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(t[+s[1]]=r?+s[2]:s[2])});var a=fn((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[t,a,n]}function l1e(e,t,r,n,a,i){var s=i||{"!type":"chart"};if(!e)return i;var o=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(d){var h=o1e(d);u.s.r=u.s.c=0,u.e.c=o,c=Za(o),h[0].forEach(function(p,g){s[c+Oi(g)]={t:"n",v:p,z:h[1]},l=g}),u.e.r<l&&(u.e.r=l),++o}),o>0&&(s["!ref"]=sn(u)),s}function c1e(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s,o=e.match(Dq);return o&&mC(o[0],i,a,r),(s=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=s[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function u1e(e,t){e.l+=10;var r=ss(e);return{name:r}}function f1e(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s=!1;return Tu(e,function(l,c,u){switch(u){case 550:i["!rel"]=l;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),l.name&&(a.Sheets[r].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!s||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},t),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var Mq=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],d1e=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],h1e=[],p1e=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function c8(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var i=t[a];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=ea(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function u8(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=ea(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function Rq(e){u8(e.WBProps,Mq),u8(e.CalcPr,p1e),c8(e.WBView,d1e),c8(e.Sheets,h1e),K0.date1904=ea(e.WBProps.date1904)}var m1e="][*?/\\".split("");function g1e(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return m1e.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var v1e=/<\w+:workbook/;function y1e(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",i={},s=0;if(e.replace(us,function(l,c){var u=wr(l);switch(gc(u[0])){case"<?xml":break;case"<workbook":l.match(v1e)&&(a="xmlns"+l.match(/<(\w+):/)[1]),r.xmlns=u[a];break;case"</workbook>":break;case"<fileVersion":delete u[0],r.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":Mq.forEach(function(d){if(u[d[0]]!=null)switch(d[2]){case"bool":r.WBProps[d[0]]=ea(u[d[0]]);break;case"int":r.WBProps[d[0]]=parseInt(u[d[0]],10);break;default:r.WBProps[d[0]]=u[d[0]]}}),u.codeName&&(r.WBProps.CodeName=Wn(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],r.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=fn(Wn(u.name)),delete u[0],r.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=Wn(u.name),u.comment&&(i.Comment=u.comment),u.localSheetId&&(i.Sheet=+u.localSheetId),ea(u.hidden||"0")&&(i.Hidden=!0),s=c+l.length;break;case"</definedName>":i.Ref=fn(Wn(e.slice(s,c))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete u[0],r.CalcPr=u;break;case"<calcPr/>":delete u[0],r.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return l}),Mde.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return Rq(r),r}function x1e(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=C3(e),r.name=ss(e),r}function b1e(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?ss(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function w1e(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function _1e(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=ehe(e),s=ive(e,0,r),o=lC(e);e.l=n;var l={Name:i,Ptg:s};return a<268435455&&(l.Sheet=a),o&&(l.Comment=o),l}function S1e(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var i=[],s=[[]];return s.SheetNames=[],s.XTI=[],Cb[16]={n:"BrtFRTArchID$",f:w1e},Tu(e,function(l,c,u){switch(u){case 156:s.SheetNames.push(l.name),r.Sheets.push(l);break;case 153:r.WBProps=l;break;case 39:l.Sheet!=null&&(t.SID=l.Sheet),l.Ref=Yi(l.Ptg,null,null,s,t),delete t.SID,delete l.Ptg,i.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([u,l]):s[0]=[u,l],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(l),s.XTI=s.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(u),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(u),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!c.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},t),Rq(r),r.Names=i,r.supbooks=s,r}function A1e(e,t,r){return t.slice(-4)===".bin"?S1e(e,r):y1e(e,r)}function T1e(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?s1e(e,n,r,a,i,s,o):xve(e,n,r,a,i,s,o)}function N1e(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?f1e(e,n,r,a,i):c1e(e,n,r,a,i)}function E1e(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?Lme():Mme()}function k1e(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?Ime():Dme()}function C1e(e,t,r,n){return t.slice(-4)===".bin"?Xpe(e,r,n):qpe(e,r,n)}function P1e(e,t,r){return Sq(e,r)}function j1e(e,t,r){return t.slice(-4)===".bin"?dpe(e,r):upe(e,r)}function O1e(e,t,r){return t.slice(-4)===".bin"?Pme(e,r):Tme(e,r)}function I1e(e,t,r){return t.slice(-4)===".bin"?_me(e):bme(e)}function D1e(e,t,r,n){return r.slice(-4)===".bin"?Sme(e,t,r,n):void 0}function L1e(e,t,r){return t.slice(-4)===".bin"?yme(e,t,r):xme(e,t,r)}var Fq=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,$q=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function ll(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(Fq),i,s,o,l;if(a)for(l=0;l!=a.length;++l)i=a[l].match($q),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(s+1),n[o]=i[2].slice(1,i[2].length-1));return n}function M1e(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(Fq),a,i,s,o;if(n)for(o=0;o!=n.length;++o)a=n[o].match($q),(i=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?s="xmlns"+a[1].slice(6):s=a[1].slice(i+1),r[s]=a[2].slice(1,a[2].length-1));return r}var Zg;function R1e(e,t){var r=Zg[e]||fn(e);return r==="General"?hh(t):Go(r,t)}function F1e(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=ea(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=gi(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[fn(t)]=a}function $1e(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||Oh[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Hv(e.v):e.w=hh(e.v):e.w=R1e(t||"General",e.v)}catch(i){if(r.WTF)throw i}try{var n=Zg[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&fm(n)){var a=zd(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(r.WTF)throw i}}}function B1e(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=Fpe[n.Pattern]||n.Pattern)}e[t.ID]=t}function U1e(e,t,r,n,a,i,s,o,l,c){var u="General",d=n.StyleID,h={};c=c||{};var p=[],g=0;for(d===void 0&&o&&(d=o.StyleID),d===void 0&&s&&(d=s.StyleID);i[d]!==void 0&&(i[d].nf&&(u=i[d].nf),i[d].Interior&&p.push(i[d].Interior),!!i[d].Parent);)d=i[d].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=ea(e);break;case"String":n.t="s",n.r=OD(fn(e)),n.v=e.indexOf("<")>-1?fn(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(gi(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=fn(e):n.v<60&&(n.v=n.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=tq[e],c.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=OD(t||e));break}if($1e(n,u,c),c.cellFormula!==!1)if(n.Formula){var m=fn(n.Formula);m.charCodeAt(0)==61&&(m=m.slice(1)),n.f=G0(m,a),delete n.Formula,n.ArrayRange=="RC"?n.F=G0("RC:RC",a):n.ArrayRange&&(n.F=G0(n.ArrayRange,a),l.push([wa(n.F),n.F]))}else for(g=0;g<l.length;++g)a.r>=l[g][0].s.r&&a.r<=l[g][0].e.r&&a.c>=l[g][0].s.c&&a.c<=l[g][0].e.c&&(n.F=l[g][1]);c.cellStyles&&(p.forEach(function(v){!h.patternType&&v.patternType&&(h.patternType=v.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function V1e(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function WS(e,t){var r=t||{};Ez();var n=bg(nC(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=Wn(n));var a=n.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var s=ji(r);return s.type="string",Yv.to_workbook(n,s)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Ge){a.indexOf("<"+Ge)>=0&&(i=!0)}),i)return Q1e(n,r);Zg={"General Number":"General","General Date":Ir[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Ir[15],"Short Date":Ir[14],"Long Time":Ir[19],"Medium Time":Ir[18],"Short Time":Ir[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Ir[2],Standard:Ir[4],Percent:Ir[10],Scientific:Ir[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],c,u={},d=[],h=r.dense?[]:{},p="",g={},m={},v=ll('<Data ss:Type="String">'),y=0,w=0,b=0,D={s:{r:2e6,c:2e6},e:{r:0,c:0}},P={},O={},T="",S=0,_=[],j={},N={},E=0,k=[],U=[],G={},z=[],X,V=!1,H=[],re=[],ee={},I=0,M=0,q={Sheets:[],WBProps:{date1904:!1}},K={};Kv.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var J="";o=Kv.exec(n);)switch(o[3]=(J=o[3]).toLowerCase()){case"data":if(J=="data"){if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?U1e(n.slice(y,o.index),T,v,l[l.length-1][0]=="comment"?G:g,{c:w,r:b},P,z[w],m,H,r):(T="",v=ll(o[0]),y=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(U.length>0&&(g.c=U),(!r.sheetRows||r.sheetRows>b)&&g.v!==void 0&&(r.dense?(h[b]||(h[b]=[]),h[b][w]=g):h[Za(w)+Oi(b)]=g),g.HRef&&(g.l={Target:fn(g.HRef)},g.HRefScreenTip&&(g.l.Tooltip=g.HRefScreenTip),delete g.HRef,delete g.HRefScreenTip),(g.MergeAcross||g.MergeDown)&&(I=w+(parseInt(g.MergeAcross,10)|0),M=b+(parseInt(g.MergeDown,10)|0),_.push({s:{c:w,r:b},e:{c:I,r:M}})),!r.sheetStubs)g.MergeAcross?w=I+1:++w;else if(g.MergeAcross||g.MergeDown){for(var se=w;se<=I;++se)for(var he=b;he<=M;++he)(se>w||he>b)&&(r.dense?(h[he]||(h[he]=[]),h[he][se]={t:"z"}):h[Za(se)+Oi(he)]={t:"z"});w=I+1}else++w;else g=M1e(o[0]),g.Index&&(w=+g.Index-1),w<D.s.c&&(D.s.c=w),w>D.e.c&&(D.e.c=w),o[0].slice(-2)==="/>"&&++w,U=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(b<D.s.r&&(D.s.r=b),b>D.e.r&&(D.e.r=b),o[0].slice(-2)==="/>"&&(m=ll(o[0]),m.Index&&(b=+m.Index-1)),w=0,++b):(m=ll(o[0]),m.Index&&(b=+m.Index-1),ee={},(m.AutoFitHeight=="0"||m.Height)&&(ee.hpx=parseInt(m.Height,10),ee.hpt=_q(ee.hpx),re[b]=ee),m.Hidden=="1"&&(ee.hidden=!0,re[b]=ee));break;case"worksheet":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));d.push(p),D.s.r<=D.e.r&&D.s.c<=D.e.c&&(h["!ref"]=sn(D),r.sheetRows&&r.sheetRows<=D.e.r&&(h["!fullref"]=h["!ref"],D.e.r=r.sheetRows-1,h["!ref"]=sn(D))),_.length&&(h["!merges"]=_),z.length>0&&(h["!cols"]=z),re.length>0&&(h["!rows"]=re),u[p]=h}else D={s:{r:2e6,c:2e6},e:{r:0,c:0}},b=w=0,l.push([o[3],!1]),c=ll(o[0]),p=fn(c.Name),h=r.dense?[]:{},_=[],H=[],re=[],K={name:p,Hidden:0},q.Sheets.push(K);break;case"table":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),z=[],V=!1}break;case"style":o[1]==="/"?B1e(P,O,r):O=ll(o[0]);break;case"numberformat":O.nf=fn(ll(o[0]).Format||"General"),Zg[O.nf]&&(O.nf=Zg[O.nf]);for(var ie=0;ie!=392&&Ir[ie]!=O.nf;++ie);if(ie==392){for(ie=57;ie!=392;++ie)if(Ir[ie]==null){Jd(O.nf,ie);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(X=ll(o[0]),X.Hidden&&(X.hidden=!0,delete X.Hidden),X.Width&&(X.wpx=parseInt(X.Width,10)),!V&&X.wpx>10){V=!0,ys=bq;for(var ge=0;ge<z.length;++ge)z[ge]&&Tp(z[ge])}V&&Tp(X),z[X.Index-1||z.length]=X;for(var xe=0;xe<+X.Span;++xe)z[z.length]=ji(X);break;case"namedrange":if(o[1]==="/")break;q.Names||(q.Names=[]);var W=wr(o[0]),Pe={Name:W.Name,Ref:G0(W.RefersTo.slice(1),{r:0,c:0})};q.Sheets.length>0&&(Pe.Sheet=q.Sheets.length-1),q.Names.push(Pe);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?T+=n.slice(S,o.index):S=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;O.Interior=ll(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?The(j,J,n.slice(E,o.index)):E=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));V1e(G),U.push(G)}else l.push([o[3],!1]),c=ll(o[0]),G={a:c.Author};break;case"autofilter":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var Ce=ll(o[0]);h["!autofilter"]={ref:G0(Ce.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return g8(n,r);var Te=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Te=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Te=!1}break;case"excelworkbook":switch(o[3]){case"date1904":q.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Te=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:Te=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(E,o.index)){case"SheetHidden":K.Hidden=1;break;case"SheetVeryHidden":K.Hidden=2;break}else E=o.index+o[0].length;break;case"header":h["!margins"]||Jg(h["!margins"]={},"xlml"),isNaN(+wr(o[0]).Margin)||(h["!margins"].header=+wr(o[0]).Margin);break;case"footer":h["!margins"]||Jg(h["!margins"]={},"xlml"),isNaN(+wr(o[0]).Margin)||(h["!margins"].footer=+wr(o[0]).Margin);break;case"pagemargins":var ce=wr(o[0]);h["!margins"]||Jg(h["!margins"]={},"xlml"),isNaN(+ce.Top)||(h["!margins"].top=+ce.Top),isNaN(+ce.Left)||(h["!margins"].left=+ce.Left),isNaN(+ce.Right)||(h["!margins"].right=+ce.Right),isNaN(+ce.Bottom)||(h["!margins"].bottom=+ce.Bottom);break;case"displayrighttoleft":q.Views||(q.Views=[]),q.Views[0]||(q.Views[0]={}),q.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Te=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Te=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Te=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Te=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Te=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Te=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Te=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Te=!1}break;case"smarttags":break;default:Te=!1;break}if(Te||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?F1e(N,J,k,n.slice(E,o.index)):(k=o,E=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var Fe={};return!r.bookSheets&&!r.bookProps&&(Fe.Sheets=u),Fe.SheetNames=d,Fe.Workbook=q,Fe.SSF=ji(Ir),Fe.Props=j,Fe.Custprops=N,Fe}function I3(e,t){switch(yC(t=t||{}),t.type||"base64"){case"base64":return WS(po(e),t);case"binary":case"buffer":case"file":return WS(e,t);case"array":return WS(Ch(e),t)}}function z1e(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=nhe(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=ahe(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var q1e=[60,1084,2066,2165,2175];function W1e(e,t,r,n,a){var i=n,s=[],o=r.slice(r.l,r.l+i);if(a&&a.enc&&a.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(o)}s.push(o),r.l+=i;for(var l=qc(r,r.l),c=D3[l],u=0;c!=null&&q1e.indexOf(l)>-1;)i=qc(r,r.l+2),u=r.l+4,l==2066?u+=4:(l==2165||l==2175)&&(u+=12),o=r.slice(u,r.l+4+i),s.push(o),r.l+=4+i,c=D3[l=qc(r,r.l)];var d=df(s);Ni(d,0);var h=0;d.lens=[];for(var p=0;p<s.length;++p)d.lens.push(h),h+=s[p].length;if(d.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+d.length+" < "+n;return t.f(d,d.length,a)}function Gl(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Ir[n])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||Oh[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Hv(e.v):e.w=hh(e.v):e.w=Go(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&n&&e.t=="n"&&fm(Ir[n]||String(n))){var a=zd(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function Ax(e,t,r){return{v:e,ixfe:t,t:r}}function H1e(e,t){var r={opts:{}},n={},a=t.dense?[]:{},i={},s={},o=null,l=[],c="",u={},d,h="",p,g,m,v,y={},w=[],b,D,P=[],O=[],T={Sheets:[],WBProps:{date1904:!1},Views:[{}]},S={},_=function(mt){return mt<8?Zd[mt]:mt<64&&O[mt-8]||Zd[mt]},j=function(mt,ut,Xt){var Kt=ut.XF.data;if(!(!Kt||!Kt.patternType||!Xt||!Xt.cellStyles)){ut.s={},ut.s.patternType=Kt.patternType;var jr;(jr=Xv(_(Kt.icvFore)))&&(ut.s.fgColor={rgb:jr}),(jr=Xv(_(Kt.icvBack)))&&(ut.s.bgColor={rgb:jr})}},N=function(mt,ut,Xt){if(!(ee>1)&&!(Xt.sheetRows&&mt.r>=Xt.sheetRows)){if(Xt.cellStyles&&ut.XF&&ut.XF.data&&j(mt,ut,Xt),delete ut.ixfe,delete ut.XF,d=mt,h=Pr(mt),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),mt.r<s.s.r&&(s.s.r=mt.r),mt.c<s.s.c&&(s.s.c=mt.c),mt.r+1>s.e.r&&(s.e.r=mt.r+1),mt.c+1>s.e.c&&(s.e.c=mt.c+1),Xt.cellFormula&&ut.f){for(var Kt=0;Kt<w.length;++Kt)if(!(w[Kt][0].s.c>mt.c||w[Kt][0].s.r>mt.r)&&!(w[Kt][0].e.c<mt.c||w[Kt][0].e.r<mt.r)){ut.F=sn(w[Kt][0]),(w[Kt][0].s.c!=mt.c||w[Kt][0].s.r!=mt.r)&&delete ut.f,ut.f&&(ut.f=""+Yi(w[Kt][1],s,mt,H,E));break}}Xt.dense?(a[mt.r]||(a[mt.r]=[]),a[mt.r][mt.c]=ut):a[h]=ut}},E={enc:!1,sbcch:0,snames:[],sharedf:y,arrayf:w,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(E.password=t.password);var k,U=[],G=[],z=[],X=[],V=!1,H=[];H.SheetNames=E.snames,H.sharedf=E.sharedf,H.arrayf=E.arrayf,H.names=[],H.XTI=[];var re=0,ee=0,I=0,M=[],q=[],K;E.codepage=1200,Al(1200);for(var J=!1;e.l<e.length-1;){var se=e.l,he=e.read_shift(2);if(he===0&&re===10)break;var ie=e.l===e.length?0:e.read_shift(2),ge=D3[he];if(ge&&ge.f){if(t.bookSheets&&re===133&&he!==133)break;if(re=he,ge.r===2||ge.r==12){var xe=e.read_shift(2);if(ie-=2,!E.enc&&xe!==he&&((xe&255)<<8|xe>>8)!==he)throw new Error("rt mismatch: "+xe+"!="+he);ge.r==12&&(e.l+=10,ie-=10)}var W={};if(he===10?W=ge.f(e,ie,E):W=W1e(he,ge,e,ie,E),ee==0&&[9,521,1033,2057].indexOf(re)===-1)continue;switch(he){case 34:r.opts.Date1904=T.WBProps.date1904=W;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(E.enc||(e.l=0),E.enc=W,!t.password)throw new Error("File is password-protected");if(W.valid==null)throw new Error("Encryption scheme unsupported");if(!W.valid)throw new Error("Password is incorrect");break;case 92:E.lastuser=W;break;case 66:var Pe=Number(W);switch(Pe){case 21010:Pe=1200;break;case 32768:Pe=1e4;break;case 32769:Pe=1252;break}Al(E.codepage=Pe),J=!0;break;case 317:E.rrtabid=W;break;case 25:E.winlocked=W;break;case 439:r.opts.RefreshAll=W;break;case 12:r.opts.CalcCount=W;break;case 16:r.opts.CalcDelta=W;break;case 17:r.opts.CalcIter=W;break;case 13:r.opts.CalcMode=W;break;case 14:r.opts.CalcPrecision=W;break;case 95:r.opts.CalcSaveRecalc=W;break;case 15:E.CalcRefMode=W;break;case 2211:r.opts.FullCalc=W;break;case 129:W.fDialog&&(a["!type"]="dialog"),W.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),W.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:P.push(W);break;case 430:H.push([W]),H[H.length-1].XTI=[];break;case 35:case 547:H[H.length-1].push(W);break;case 24:case 536:K={Name:W.Name,Ref:Yi(W.rgce,s,null,H,E)},W.itab>0&&(K.Sheet=W.itab-1),H.names.push(K),H[0]||(H[0]=[],H[0].XTI=[]),H[H.length-1].push(W),W.Name=="_xlnm._FilterDatabase"&&W.itab>0&&W.rgce&&W.rgce[0]&&W.rgce[0][0]&&W.rgce[0][0][0]=="PtgArea3d"&&(q[W.itab-1]={ref:sn(W.rgce[0][0][1][2])});break;case 22:E.ExternCount=W;break;case 23:H.length==0&&(H[0]=[],H[0].XTI=[]),H[H.length-1].XTI=H[H.length-1].XTI.concat(W),H.XTI=H.XTI.concat(W);break;case 2196:if(E.biff<8)break;K!=null&&(K.Comment=W[1]);break;case 18:a["!protect"]=W;break;case 19:W!==0&&E.WTF&&console.error("Password verifier: "+W);break;case 133:i[W.pos]=W,E.snames.push(W.name);break;case 10:{if(--ee)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,a["!ref"]=sn(s),t.sheetRows&&t.sheetRows<=s.e.r){var Ce=s.e.r;s.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=sn(s),s.e.r=Ce}s.e.r++,s.e.c++}U.length>0&&(a["!merges"]=U),G.length>0&&(a["!objects"]=G),z.length>0&&(a["!cols"]=z),X.length>0&&(a["!rows"]=X),T.Sheets.push(S)}c===""?u=a:n[c]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(E.biff===8&&(E.biff={9:2,521:3,1033:4}[he]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[W.BIFFVer]||8),E.biffguess=W.BIFFVer==0,W.BIFFVer==0&&W.dt==4096&&(E.biff=5,J=!0,Al(E.codepage=28591)),E.biff==8&&W.BIFFVer==0&&W.dt==16&&(E.biff=2),ee++)break;if(a=t.dense?[]:{},E.biff<8&&!J&&(J=!0,Al(E.codepage=t.codepage||1252)),E.biff<5||W.BIFFVer==0&&W.dt==4096){c===""&&(c="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var Te={pos:e.l-ie,name:c};i[Te.pos]=Te,E.snames.push(c)}else c=(i[se]||{name:""}).name;W.dt==32&&(a["!type"]="chart"),W.dt==64&&(a["!type"]="macro"),U=[],G=[],E.arrayf=w=[],z=[],X=[],V=!1,S={Hidden:(i[se]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[W.r]||[])[W.c]:a[Pr({c:W.c,r:W.r})])&&++W.c,b={ixfe:W.ixfe,XF:P[W.ixfe]||{},v:W.val,t:"n"},I>0&&(b.z=M[b.ixfe>>8&63]),Gl(b,t,r.opts.Date1904),N({c:W.c,r:W.r},b,t);break;case 5:case 517:b={ixfe:W.ixfe,XF:P[W.ixfe],v:W.val,t:W.t},I>0&&(b.z=M[b.ixfe>>8&63]),Gl(b,t,r.opts.Date1904),N({c:W.c,r:W.r},b,t);break;case 638:b={ixfe:W.ixfe,XF:P[W.ixfe],v:W.rknum,t:"n"},I>0&&(b.z=M[b.ixfe>>8&63]),Gl(b,t,r.opts.Date1904),N({c:W.c,r:W.r},b,t);break;case 189:for(var ce=W.c;ce<=W.C;++ce){var Fe=W.rkrec[ce-W.c][0];b={ixfe:Fe,XF:P[Fe],v:W.rkrec[ce-W.c][1],t:"n"},I>0&&(b.z=M[b.ixfe>>8&63]),Gl(b,t,r.opts.Date1904),N({c:ce,r:W.r},b,t)}break;case 6:case 518:case 1030:{if(W.val=="String"){o=W;break}if(b=Ax(W.val,W.cell.ixfe,W.tt),b.XF=P[b.ixfe],t.cellFormula){var Ge=W.formula;if(Ge&&Ge[0]&&Ge[0][0]&&Ge[0][0][0]=="PtgExp"){var Le=Ge[0][0][1][0],Ye=Ge[0][0][1][1],_e=Pr({r:Le,c:Ye});y[_e]?b.f=""+Yi(W.formula,s,W.cell,H,E):b.F=((t.dense?(a[Le]||[])[Ye]:a[_e])||{}).F}else b.f=""+Yi(W.formula,s,W.cell,H,E)}I>0&&(b.z=M[b.ixfe>>8&63]),Gl(b,t,r.opts.Date1904),N(W.cell,b,t),o=W}break;case 7:case 519:if(o)o.val=W,b=Ax(W,o.cell.ixfe,"s"),b.XF=P[b.ixfe],t.cellFormula&&(b.f=""+Yi(o.formula,s,o.cell,H,E)),I>0&&(b.z=M[b.ixfe>>8&63]),Gl(b,t,r.opts.Date1904),N(o.cell,b,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{w.push(W);var $e=Pr(W[0].s);if(p=t.dense?(a[W[0].s.r]||[])[W[0].s.c]:a[$e],t.cellFormula&&p){if(!o||!$e||!p)break;p.f=""+Yi(W[1],s,W[0],H,E),p.F=sn(W[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!o)break;y[Pr(o.cell)]=W[0],p=t.dense?(a[o.cell.r]||[])[o.cell.c]:a[Pr(o.cell)],(p||{}).f=""+Yi(W[0],s,d,H,E)}}break;case 253:b=Ax(l[W.isst].t,W.ixfe,"s"),l[W.isst].h&&(b.h=l[W.isst].h),b.XF=P[b.ixfe],I>0&&(b.z=M[b.ixfe>>8&63]),Gl(b,t,r.opts.Date1904),N({c:W.c,r:W.r},b,t);break;case 513:t.sheetStubs&&(b={ixfe:W.ixfe,XF:P[W.ixfe],t:"z"},I>0&&(b.z=M[b.ixfe>>8&63]),Gl(b,t,r.opts.Date1904),N({c:W.c,r:W.r},b,t));break;case 190:if(t.sheetStubs)for(var Ne=W.c;Ne<=W.C;++Ne){var Ie=W.ixfe[Ne-W.c];b={ixfe:Ie,XF:P[Ie],t:"z"},I>0&&(b.z=M[b.ixfe>>8&63]),Gl(b,t,r.opts.Date1904),N({c:Ne,r:W.r},b,t)}break;case 214:case 516:case 4:b=Ax(W.val,W.ixfe,"s"),b.XF=P[b.ixfe],I>0&&(b.z=M[b.ixfe>>8&63]),Gl(b,t,r.opts.Date1904),N({c:W.c,r:W.r},b,t);break;case 0:case 512:ee===1&&(s=W);break;case 252:l=W;break;case 1054:if(E.biff==4){M[I++]=W[1];for(var We=0;We<I+163&&Ir[We]!=W[1];++We);We>=163&&Jd(W[1],I+163)}else Jd(W[1],W[0]);break;case 30:{M[I++]=W;for(var it=0;it<I+163&&Ir[it]!=W;++it);it>=163&&Jd(W,I+163)}break;case 229:U=U.concat(W);break;case 93:G[W.cmo[0]]=E.lastobj=W;break;case 438:E.lastobj.TxO=W;break;case 127:E.lastobj.ImData=W;break;case 440:for(v=W[0].s.r;v<=W[0].e.r;++v)for(m=W[0].s.c;m<=W[0].e.c;++m)p=t.dense?(a[v]||[])[m]:a[Pr({c:m,r:v})],p&&(p.l=W[1]);break;case 2048:for(v=W[0].s.r;v<=W[0].e.r;++v)for(m=W[0].s.c;m<=W[0].e.c;++m)p=t.dense?(a[v]||[])[m]:a[Pr({c:m,r:v})],p&&p.l&&(p.l.Tooltip=W[1]);break;case 28:{if(E.biff<=5&&E.biff>=2)break;p=t.dense?(a[W[0].r]||[])[W[0].c]:a[Pr(W[0])];var ht=G[W[2]];p||(t.dense?(a[W[0].r]||(a[W[0].r]=[]),p=a[W[0].r][W[0].c]={t:"z"}):p=a[Pr(W[0])]={t:"z"},s.e.r=Math.max(s.e.r,W[0].r),s.s.r=Math.min(s.s.r,W[0].r),s.e.c=Math.max(s.e.c,W[0].c),s.s.c=Math.min(s.s.c,W[0].c)),p.c||(p.c=[]),g={a:W[1],t:ht.TxO.t},p.c.push(g)}break;case 2173:pme(P[W.ixfe],W.ext);break;case 125:{if(!E.cellStyles)break;for(;W.e>=W.s;)z[W.e--]={width:W.w/256,level:W.level||0,hidden:!!(W.flags&1)},V||(V=!0,hC(W.w/256)),Tp(z[W.e+1])}break;case 520:{var xt={};W.level!=null&&(X[W.r]=xt,xt.level=W.level),W.hidden&&(X[W.r]=xt,xt.hidden=!0),W.hpt&&(X[W.r]=xt,xt.hpt=W.hpt,xt.hpx=Qv(W.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||Jg(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[he]]=W;break;case 161:a["!margins"]||Jg(a["!margins"]={}),a["!margins"].header=W.header,a["!margins"].footer=W.footer;break;case 574:W.RTL&&(T.Views[0].RTL=!0);break;case 146:O=W;break;case 2198:k=W;break;case 140:D=W;break;case 442:c?S.CodeName=W||S.name:T.WBProps.CodeName=W||"ThisWorkbook";break}}else ge||console.error("Missing Info for XLS Record 0x"+he.toString(16)),e.l+=ie}return r.SheetNames=hc(i).sort(function(St,mt){return Number(St)-Number(mt)}).map(function(St){return i[St].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&u["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=u)):r.Preamble=u,r.Sheets&&q.forEach(function(St,mt){r.Sheets[r.SheetNames[mt]]["!autofilter"]=St}),r.Strings=l,r.SSF=ji(Ir),E.enc&&(r.Encryption=E.enc),k&&(r.Themes=k),r.Metadata={},D!==void 0&&(r.Metadata.Country=D),H.names.length>0&&(T.Names=H.names),r.Workbook=T,r}var f8={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function G1e(e,t,r){var n=an.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=KD(n,uhe,f8.DSI);for(var i in a)t[i]=a[i]}catch(c){if(r.WTF)throw c}var s=an.find(e,"/!SummaryInformation");if(s&&s.size>0)try{var o=KD(s,fhe,f8.SI);for(var l in o)t[l]==null&&(t[l]=o[l])}catch(c){if(r.WTF)throw c}t.HeadingPairs&&t.TitlesOfParts&&(nq(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function Bq(e,t){t||(t={}),yC(t),mz(),t.codepage&&Xk(t.codepage);var r,n;if(e.FullPaths){if(an.find(e,"/encryption"))throw new Error("File is password-protected");r=an.find(e,"!CompObj"),n=an.find(e,"/Workbook")||an.find(e,"/Book")}else{switch(t.type){case"base64":e=wl(po(e));break;case"binary":e=wl(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Ni(e,0),n={content:e}}var a,i;if(r&&z1e(r),t.bookProps&&!t.bookSheets)a={};else{var s=Xr?"buffer":"array";if(n&&n.content)a=H1e(n.content,t);else if((i=an.find(e,"PerfectOffice_MAIN"))&&i.content)a=Xg.to_workbook(i.content,(t.type=s,t));else if((i=an.find(e,"NativeContent_MAIN"))&&i.content)a=Xg.to_workbook(i.content,(t.type=s,t));else throw(i=an.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&an.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=Ome(e))}var o={};return e.FullPaths&&G1e(e,o,t),a.Props=a.Custprops=o,t.bookFiles&&(a.cfb=e),a}var Cb={0:{f:kve},1:{f:Ove},2:{f:Uve},3:{f:Mve},4:{f:Dve},5:{f:Bve},6:{f:qve},7:{f:Fve},8:{f:Yve},9:{f:Kve},10:{f:Hve},11:{f:Gve},12:{f:Ive},13:{f:Vve},14:{f:Rve},15:{f:Lve},16:{f:Lq},17:{f:Wve},18:{f:$ve},19:{f:oC},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:_1e},40:{},42:{},43:{f:Hpe},44:{f:Wpe},45:{f:Gpe},46:{f:Ype},47:{f:Kpe},48:{},49:{f:Xde},50:{},51:{f:gme},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:mq},62:{f:zve},63:{f:wme},64:{f:a1e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:cs,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:n1e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:jve},148:{f:Cve,p:16},151:{f:Jve},152:{},153:{f:b1e},154:{},155:{},156:{f:x1e},157:{},158:{},159:{T:1,f:fpe},160:{T:-1},161:{T:1,f:jh},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Xve},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:mme},336:{T:-1},337:{f:vme,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:C3},357:{},358:{},359:{},360:{T:1},361:{},362:{f:pq},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Zve},427:{f:e1e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:r1e},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Pve},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Qve},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:C3},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Cme},633:{T:1},634:{T:-1},635:{T:1,f:kme},636:{T:-1},637:{f:Jde},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:u1e},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:i1e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},D3={6:{f:zS},10:{f:Zu},12:{f:Fa},13:{f:Fa},14:{f:Aa},15:{f:Aa},16:{f:ts},17:{f:Aa},18:{f:Aa},19:{f:Fa},20:{f:JD},21:{f:JD},23:{f:pq},24:{f:e8},25:{f:Aa},26:{},27:{},28:{f:N0e},29:{},34:{f:Aa},35:{f:ZD},38:{f:ts},39:{f:ts},40:{f:ts},41:{f:ts},42:{f:Aa},43:{f:Aa},47:{f:Ppe},49:{f:o0e},51:{f:Fa},60:{},61:{f:a0e},64:{f:Aa},65:{f:s0e},66:{f:Fa},77:{},80:{},81:{},82:{},85:{f:Fa},89:{},90:{},91:{},92:{f:Xhe},93:{f:k0e},94:{},95:{f:Aa},96:{},97:{},99:{f:Aa},125:{f:mq},128:{f:v0e},129:{f:Qhe},130:{f:Fa},131:{f:Aa},132:{f:Aa},133:{f:Jhe},134:{},140:{f:D0e},141:{f:Fa},144:{},146:{f:M0e},151:{},152:{},153:{},154:{},155:{},156:{f:Fa},157:{},158:{},160:{f:U0e},161:{f:F0e},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:h0e},190:{f:p0e},193:{f:Zu},197:{},198:{},199:{},200:{},201:{},202:{f:Aa},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Fa},220:{},221:{f:Aa},222:{},224:{f:g0e},225:{f:Yhe},226:{f:Zu},227:{},229:{f:E0e},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:Zhe},253:{f:l0e},255:{f:e0e},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:lq},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Aa},353:{f:Zu},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:x0e},431:{f:Aa},432:{},433:{},434:{},437:{},438:{f:j0e},439:{f:Aa},440:{f:O0e},441:{},442:{f:ny},443:{},444:{f:Fa},445:{},446:{},448:{f:Zu},449:{f:n0e,r:2},450:{f:Zu},512:{f:XD},513:{f:B0e},515:{f:y0e},516:{f:c0e},517:{f:QD},519:{f:V0e},520:{f:t0e},523:{},545:{f:t8},549:{f:YD},566:{},574:{f:i0e},638:{f:d0e},659:{},1048:{},1054:{f:u0e},1084:{},1212:{f:S0e},2048:{f:I0e},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:wx},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Zu},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:R0e,r:12},2173:{f:hme,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Aa,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:_0e,r:12},2197:{},2198:{f:ome,r:12},2199:{},2200:{},2201:{},2202:{f:A0e,r:12},2203:{f:Zu},2204:{},2205:{},2206:{},2207:{},2211:{f:r0e},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Fa},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:$0e},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:L0e},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:XD},1:{},2:{f:H0e},3:{f:W0e},4:{f:q0e},5:{f:QD},7:{f:G0e},8:{},9:{f:wx},11:{},22:{f:Fa},30:{f:f0e},31:{},32:{},33:{f:t8},36:{},37:{f:YD},50:{f:K0e},62:{},52:{},67:{},68:{f:Fa},69:{},86:{},126:{},127:{f:z0e},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:Y0e},223:{},234:{},354:{},421:{},518:{f:zS},521:{f:wx},536:{f:e8},547:{f:ZD},561:{},579:{},1030:{f:zS},1033:{f:wx},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function cl(e,t,r,n){var a=t;if(!isNaN(a)){var i=(r||[]).length||0,s=e.next(4);s.write_shift(2,a),s.write_shift(2,i),i>0&&Yz(r)&&e.push(r)}}function d8(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),s=a.index,o=i&&i.index||e.length,l=yde(e.slice(s,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,u=0,d=0,h=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},g=[];for(s=0;s<l.length;++s){var m=l[s].trim(),v=m.slice(0,3).toLowerCase();if(v=="<tr"){if(++c,r.sheetRows&&r.sheetRows<=c){--c;break}u=0;continue}if(!(v!="<td"&&v!="<th")){var y=m.split(/<\/t[dh]>/i);for(o=0;o<y.length;++o){var w=y[o].trim();if(w.match(/<t[dh]/i)){for(var b=w,D=0;b.charAt(0)=="<"&&(D=b.indexOf(">"))>-1;)b=b.slice(D+1);for(var P=0;P<g.length;++P){var O=g[P];O.s.c==u&&O.s.r<c&&c<=O.e.r&&(u=O.e.c+1,P=-1)}var T=wr(w.slice(0,w.indexOf(">")));h=T.colspan?+T.colspan:1,((d=+T.rowspan)>1||h>1)&&g.push({s:{r:c,c:u},e:{r:c+(d||1)-1,c:u+h-1}});var S=T.t||T["data-t"]||"";if(!b.length){u+=h;continue}if(b=Mz(b),p.s.r>c&&(p.s.r=c),p.e.r<c&&(p.e.r=c),p.s.c>u&&(p.s.c=u),p.e.c<u&&(p.e.c=u),!b.length){u+=h;continue}var _={t:"s",v:b};r.raw||!b.trim().length||S=="s"||(b==="TRUE"?_={t:"b",v:!0}:b==="FALSE"?_={t:"b",v:!1}:isNaN(Pl(b))?isNaN(Ap(b).getDate())||(_={t:"d",v:gi(b)},r.cellDates||(_={t:"n",v:Es(_.v)}),_.z=r.dateNF||Ir[14]):_={t:"n",v:Pl(b)}),r.dense?(n[c]||(n[c]=[]),n[c][u]=_):n[Pr({r:c,c:u})]=_,u+=h}}}}return n["!ref"]=sn(p),g.length&&(n["!merges"]=g),n}function K1e(e,t,r,n){for(var a=e["!merges"]||[],i=[],s=t.s.c;s<=t.e.c;++s){for(var o=0,l=0,c=0;c<a.length;++c)if(!(a[c].s.r>r||a[c].s.c>s)&&!(a[c].e.r<r||a[c].e.c<s)){if(a[c].s.r<r||a[c].s.c<s){o=-1;break}o=a[c].e.r-a[c].s.r+1,l=a[c].e.c-a[c].s.c+1;break}if(!(o<0)){var u=Pr({r,c:s}),d=n.dense?(e[r]||[])[s]:e[u],h=d&&d.v!=null&&(d.h||rC(d.w||(mu(d),d.w)||""))||"",p={};o>1&&(p.rowspan=o),l>1&&(p.colspan=l),n.editable?h='<span contenteditable="true">'+h+"</span>":d&&(p["data-t"]=d&&d.t||"z",d.v!=null&&(p["data-v"]=d.v),d.z!=null&&(p["data-z"]=d.z),d.l&&(d.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+d.l.Target+'">'+h+"</a>")),p.id=(n.id||"sjs")+"-"+u,i.push(Dde("td",h,p))}}var g="<tr>";return g+i.join("")+"</tr>"}var Y1e='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',X1e="</body></html>";function Q1e(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return id(d8(r[0],t),t);var n=bC();return r.forEach(function(a,i){wC(n,d8(a,t),"Sheet"+(i+1))}),n}function J1e(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function Z1e(e,t){var r=t||{},n=r.header!=null?r.header:Y1e,a=r.footer!=null?r.footer:X1e,i=[n],s=dm(e["!ref"]);r.dense=Array.isArray(e),i.push(J1e(e,s,r));for(var o=s.s.r;o<=s.e.r;++o)i.push(K1e(e,s,o,r));return i.push("</table>"+a),i.join("")}function Uq(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var s=typeof n.origin=="string"?_s(n.origin):n.origin;a=s.r,i=s.c}var o=t.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var u=dm(e["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),a==-1&&(c.e.r=a=u.e.r+1)}var d=[],h=0,p=e["!rows"]||(e["!rows"]=[]),g=0,m=0,v=0,y=0,w=0,b=0;for(e["!cols"]||(e["!cols"]=[]);g<o.length&&m<l;++g){var D=o[g];if(h8(D)){if(n.display)continue;p[m]={hidden:!0}}var P=D.children;for(v=y=0;v<P.length;++v){var O=P[v];if(!(n.display&&h8(O))){var T=O.hasAttribute("data-v")?O.getAttribute("data-v"):O.hasAttribute("v")?O.getAttribute("v"):Mz(O.innerHTML),S=O.getAttribute("data-z")||O.getAttribute("z");for(h=0;h<d.length;++h){var _=d[h];_.s.c==y+i&&_.s.r<m+a&&m+a<=_.e.r&&(y=_.e.c+1-i,h=-1)}b=+O.getAttribute("colspan")||1,((w=+O.getAttribute("rowspan")||1)>1||b>1)&&d.push({s:{r:m+a,c:y+i},e:{r:m+a+(w||1)-1,c:y+i+(b||1)-1}});var j={t:"s",v:T},N=O.getAttribute("data-t")||O.getAttribute("t")||"";T!=null&&(T.length==0?j.t=N||"z":n.raw||T.trim().length==0||N=="s"||(T==="TRUE"?j={t:"b",v:!0}:T==="FALSE"?j={t:"b",v:!1}:isNaN(Pl(T))?isNaN(Ap(T).getDate())||(j={t:"d",v:gi(T)},n.cellDates||(j={t:"n",v:Es(j.v)}),j.z=n.dateNF||Ir[14]):j={t:"n",v:Pl(T)})),j.z===void 0&&S!=null&&(j.z=S);var E="",k=O.getElementsByTagName("A");if(k&&k.length)for(var U=0;U<k.length&&!(k[U].hasAttribute("href")&&(E=k[U].getAttribute("href"),E.charAt(0)!="#"));++U);E&&E.charAt(0)!="#"&&(j.l={Target:E}),n.dense?(e[m+a]||(e[m+a]=[]),e[m+a][y+i]=j):e[Pr({c:y+i,r:m+a})]=j,c.e.c<y+i&&(c.e.c=y+i),y+=b}}++m}return d.length&&(e["!merges"]=(e["!merges"]||[]).concat(d)),c.e.r=Math.max(c.e.r,m-1+a),e["!ref"]=sn(c),m>=l&&(e["!fullref"]=sn((c.e.r=o.length-g+m-1+a,c))),e}function Vq(e,t){var r=t||{},n=r.dense?[]:{};return Uq(n,e,t)}function eye(e,t){return id(Vq(e,t),t)}function h8(e){var t="",r=tye(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function tye(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function rye(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=fn(t.replace(/<[^>]*>/g,""));return[r]}var p8={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function zq(e,t){var r=t||{},n=nC(e),a=[],i,s,o={name:""},l="",c=0,u,d,h={},p=[],g=r.dense?[]:{},m,v,y={value:""},w="",b=0,D=[],P=-1,O=-1,T={s:{r:1e6,c:1e7},e:{r:0,c:0}},S=0,_={},j=[],N={},E=0,k=0,U=[],G=1,z=1,X=[],V={Names:[]},H={},re=["",""],ee=[],I={},M="",q=0,K=!1,J=!1,se=0;for(Kv.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");m=Kv.exec(n);)switch(m[3]=m[3].replace(/_.*$/,"")){case"table":case"":m[1]==="/"?(T.e.c>=T.s.c&&T.e.r>=T.s.r?g["!ref"]=sn(T):g["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=T.e.r&&(g["!fullref"]=g["!ref"],T.e.r=r.sheetRows-1,g["!ref"]=sn(T)),j.length&&(g["!merges"]=j),U.length&&(g["!rows"]=U),u.name=u.||u.name,typeof JSON<"u"&&JSON.stringify(u),p.push(u.name),h[u.name]=g,J=!1):m[0].charAt(m[0].length-2)!=="/"&&(u=wr(m[0],!1),P=O=-1,T.s.r=T.s.c=1e7,T.e.r=T.e.c=0,g=r.dense?[]:{},j=[],U=[],J=!0);break;case"table-row-group":m[1]==="/"?--S:++S;break;case"table-row":case"":if(m[1]==="/"){P+=G,G=1;break}if(d=wr(m[0],!1),d.?P=d.-1:P==-1&&(P=0),G=+d["number-rows-repeated"]||1,G<10)for(se=0;se<G;++se)S>0&&(U[P+se]={level:S});O=-1;break;case"covered-table-cell":m[1]!=="/"&&++O,r.sheetStubs&&(r.dense?(g[P]||(g[P]=[]),g[P][O]={t:"z"}):g[Pr({r:P,c:O})]={t:"z"}),w="",D=[];break;case"table-cell":case"":if(m[0].charAt(m[0].length-2)==="/")++O,y=wr(m[0],!1),z=parseInt(y["number-columns-repeated"]||"1",10),v={t:"z",v:null},y.formula&&r.cellFormula!=!1&&(v.f=l8(fn(y.formula))),(y.||y["value-type"])=="string"&&(v.t="s",v.v=fn(y["string-value"]||""),r.dense?(g[P]||(g[P]=[]),g[P][O]=v):g[Pr({r:P,c:O})]=v),O+=z-1;else if(m[1]!=="/"){++O,w="",b=0,D=[],z=1;var he=G?P+G-1:P;if(O>T.e.c&&(T.e.c=O),O<T.s.c&&(T.s.c=O),P<T.s.r&&(T.s.r=P),he>T.e.r&&(T.e.r=he),y=wr(m[0],!1),ee=[],I={},v={t:y.||y["value-type"],v:null},r.cellFormula)if(y.formula&&(y.formula=fn(y.formula)),y["number-matrix-columns-spanned"]&&y["number-matrix-rows-spanned"]&&(E=parseInt(y["number-matrix-rows-spanned"],10)||0,k=parseInt(y["number-matrix-columns-spanned"],10)||0,N={s:{r:P,c:O},e:{r:P+E-1,c:O+k-1}},v.F=sn(N),X.push([N,v.F])),y.formula)v.f=l8(y.formula);else for(se=0;se<X.length;++se)P>=X[se][0].s.r&&P<=X[se][0].e.r&&O>=X[se][0].s.c&&O<=X[se][0].e.c&&(v.F=X[se][1]);switch((y["number-columns-spanned"]||y["number-rows-spanned"])&&(E=parseInt(y["number-rows-spanned"],10)||0,k=parseInt(y["number-columns-spanned"],10)||0,N={s:{r:P,c:O},e:{r:P+E-1,c:O+k-1}},j.push(N)),y["number-columns-repeated"]&&(z=parseInt(y["number-columns-repeated"],10)),v.t){case"boolean":v.t="b",v.v=ea(y["boolean-value"]);break;case"float":v.t="n",v.v=parseFloat(y.value);break;case"percentage":v.t="n",v.v=parseFloat(y.value);break;case"currency":v.t="n",v.v=parseFloat(y.value);break;case"date":v.t="d",v.v=gi(y["date-value"]),r.cellDates||(v.t="n",v.v=Es(v.v)),v.z="m/d/yy";break;case"time":v.t="n",v.v=mde(y["time-value"])/86400,r.cellDates&&(v.t="d",v.v=A5(v.v)),v.z="HH:MM:SS";break;case"number":v.t="n",v.v=parseFloat(y.);break;default:if(v.t==="string"||v.t==="text"||!v.t)v.t="s",y["string-value"]!=null&&(w=fn(y["string-value"]),D=[]);else throw new Error("Unsupported value type "+v.t)}}else{if(K=!1,v.t==="s"&&(v.v=w||"",D.length&&(v.R=D),K=b==0),H.Target&&(v.l=H),ee.length>0&&(v.c=ee,ee=[]),w&&r.cellText!==!1&&(v.w=w),K&&(v.t="z",delete v.v),(!K||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=P))for(var ie=0;ie<G;++ie){if(z=parseInt(y["number-columns-repeated"]||"1",10),r.dense)for(g[P+ie]||(g[P+ie]=[]),g[P+ie][O]=ie==0?v:ji(v);--z>0;)g[P+ie][O+z]=ji(v);else for(g[Pr({r:P+ie,c:O})]=v;--z>0;)g[Pr({r:P+ie,c:O+z})]=ji(v);T.e.c<=O&&(T.e.c=O)}z=parseInt(y["number-columns-repeated"]||"1",10),O+=z-1,z=0,v={},w="",D=[]}H={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(m[1]==="/"){if((i=a.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!0]);break;case"annotation":if(m[1]==="/"){if((i=a.pop())[0]!==m[3])throw"Bad state: "+i;I.t=w,D.length&&(I.R=D),I.a=M,ee.push(I)}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!1]);M="",q=0,w="",b=0,D=[];break;case"creator":m[1]==="/"?M=n.slice(q,m.index):q=m.index+m[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(m[1]==="/"){if((i=a.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!1]);w="",b=0,D=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(m[1]==="/"){if(_[o.name]=l,(i=a.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&(l="",o=wr(m[0],!1),a.push([m[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":s=wr(m[0],!1),l+=p8[m[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":s=wr(m[0],!1),l+=p8[m[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(m[0].slice(-2)==="/>")break;if(m[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":l+=n.slice(c,m.index);break}else c=m.index+m[0].length;break;case"named-range":s=wr(m[0],!1),re=qS(s["cell-range-address"]);var ge={Name:s.name,Ref:re[0]+"!"+re[1]};J&&(ge.Sheet=p.length),V.Names.push(ge);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(m[1]==="/"&&(!y||!y["string-value"])){var xe=rye(n.slice(b,m.index));w=(w.length>0?w+`
`:"")+xe[0]}else wr(m[0],!1),b=m.index+m[0].length;break;case"s":break;case"database-range":if(m[1]==="/")break;try{re=qS(wr(m[0])["target-range-address"]),h[re[0]]["!autofilter"]={ref:re[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(m[1]!=="/"){if(H=wr(m[0],!1),!H.href)break;H.Target=fn(H.href),delete H.href,H.Target.charAt(0)=="#"&&H.Target.indexOf(".")>-1?(re=qS(H.Target.slice(1)),H.Target="#"+re[0]+"!"+re[1]):H.Target.match(/^\.\.[\\\/]/)&&(H.Target=H.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(m[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(m)}}var W={Sheets:h,SheetNames:p,Workbook:V};return r.bookSheets&&delete W.Sheets,W}function m8(e,t){t=t||{},Io(e,"META-INF/manifest.xml")&&yhe(Ra(e,"META-INF/manifest.xml"),t);var r=so(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=zq(Wn(r),t);return Io(e,"meta.xml")&&(n.Props=rq(Ra(e,"meta.xml"))),n}function g8(e,t){return zq(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function gC(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function L3(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Wn(Ch(e))}function M3(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function v8(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function nye(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function Jv(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function ri(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function ns(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=Jv(e,r),i=a&7;a=Math.floor(a/8);var s=0,o;if(a==0)break;switch(i){case 0:{for(var l=r[0];e[r[0]++]>=128;);o=e.slice(l,r[0])}break;case 5:s=4,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=Jv(e,r),o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var c={data:o,type:i};t[a]==null?t[a]=[c]:t[a].push(c)}return t}function vC(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function aye(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=Jv(e,n),i=ns(e.slice(n[0],n[0]+a));n[0]+=a;var s={id:ri(i[1][0].data),messages:[]};i[2].forEach(function(o){var l=ns(o.data),c=ri(l[3][0].data);s.messages.push({meta:l,data:e.slice(n[0],n[0]+c)}),n[0]+=c}),(t=i[3])!=null&&t[0]&&(s.merge=ri(i[3][0].data)>>>0>0),r.push(s)}return r}function iye(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=Jv(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var s=t[r[0]++]>>2;if(s<60)++s;else{var o=s-59;s=t[r[0]],o>1&&(s|=t[r[0]+1]<<8),o>2&&(s|=t[r[0]+2]<<16),o>3&&(s|=t[r[0]+3]<<24),s>>>=0,s++,r[0]+=o}a.push(t.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var l=0,c=0;if(i==1?(c=(t[r[0]]>>2&7)+4,l=(t[r[0]++]&224)<<3,l|=t[r[0]++]):(c=(t[r[0]++]>>2)+1,i==2?(l=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(l=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[M3(a)],l==0)throw new Error("Invalid offset 0");if(l>a[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(a.push(a[0].slice(-l)),c-=l;c>=a[a.length-1].length;)a.push(a[a.length-1]),c-=a[a.length-1].length;a.push(a[0].slice(-l,-l+c))}}var u=M3(a);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function sye(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(iye(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return M3(t)}function oye(e,t,r,n){var a=gC(e),i=a.getUint32(4,!0),s=(n>1?12:8)+v8(i&(n>1?3470:398))*4,o=-1,l=-1,c=NaN,u=new Date(2001,0,1);i&512&&(o=a.getUint32(s,!0),s+=4),s+=v8(i&(n>1?12288:4096))*4,i&16&&(l=a.getUint32(s,!0),s+=4),i&32&&(c=a.getFloat64(s,!0),s+=8),i&64&&(u.setTime(u.getTime()+a.getFloat64(s,!0)*1e3),s+=8);var d;switch(e[2]){case 0:break;case 2:d={t:"n",v:c};break;case 3:d={t:"s",v:t[l]};break;case 5:d={t:"d",v:u};break;case 6:d={t:"b",v:c>0};break;case 7:d={t:"n",v:c/86400};break;case 8:d={t:"e",v:0};break;case 9:if(o>-1)d={t:"s",v:r[o]};else if(l>-1)d={t:"s",v:t[l]};else if(!isNaN(c))d={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return d}function lye(e,t,r){var n=gC(e),a=n.getUint32(8,!0),i=12,s=-1,o=-1,l=NaN,c=NaN,u=new Date(2001,0,1);a&1&&(l=nye(e,i),i+=16),a&2&&(c=n.getFloat64(i,!0),i+=8),a&4&&(u.setTime(u.getTime()+n.getFloat64(i,!0)*1e3),i+=8),a&8&&(o=n.getUint32(i,!0),i+=4),a&16&&(s=n.getUint32(i,!0),i+=4);var d;switch(e[1]){case 0:break;case 2:d={t:"n",v:l};break;case 3:d={t:"s",v:t[o]};break;case 5:d={t:"d",v:u};break;case 6:d={t:"b",v:c>0};break;case 7:d={t:"n",v:c/86400};break;case 8:d={t:"e",v:0};break;case 9:if(s>-1)d={t:"s",v:r[s]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:d={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return d}function cye(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return oye(e,t,r,e[0]);case 5:return lye(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Mf(e){var t=ns(e);return Jv(t[1][0].data)}function y8(e,t){var r=ns(t.data),n=ri(r[1][0].data),a=r[3],i=[];return(a||[]).forEach(function(s){var o=ns(s.data),l=ri(o[1][0].data)>>>0;switch(n){case 1:i[l]=L3(o[3][0].data);break;case 8:{var c=e[Mf(o[9][0].data)][0],u=ns(c.data),d=e[Mf(u[1][0].data)][0],h=ri(d.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var p=ns(d.data);i[l]=p[3].map(function(g){return L3(g.data)}).join("")}break}}),i}function uye(e,t){var r,n,a,i,s,o,l,c,u,d,h,p,g,m,v=ns(e),y=ri(v[1][0].data)>>>0,w=ri(v[2][0].data)>>>0,b=((n=(r=v[8])==null?void 0:r[0])==null?void 0:n.data)&&ri(v[8][0].data)>0||!1,D,P;if((i=(a=v[7])==null?void 0:a[0])!=null&&i.data&&t!=0)D=(o=(s=v[7])==null?void 0:s[0])==null?void 0:o.data,P=(c=(l=v[6])==null?void 0:l[0])==null?void 0:c.data;else if((d=(u=v[4])==null?void 0:u[0])!=null&&d.data&&t!=1)D=(p=(h=v[4])==null?void 0:h[0])==null?void 0:p.data,P=(m=(g=v[3])==null?void 0:g[0])==null?void 0:m.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var O=b?4:1,T=gC(D),S=[],_=0;_<D.length/2;++_){var j=T.getUint16(_*2,!0);j<65535&&S.push([_,j])}if(S.length!=w)throw"Expected ".concat(w," cells, found ").concat(S.length);var N=[];for(_=0;_<S.length-1;++_)N[S[_][0]]=P.subarray(S[_][1]*O,S[_+1][1]*O);return S.length>=1&&(N[S[S.length-1][0]]=P.subarray(S[S.length-1][1]*O)),{R:y,cells:N}}function fye(e,t){var r,n=ns(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?ri(n[7][0].data)>>>0>0?1:0:-1,i=vC(n[5],function(s){return uye(s,a)});return{nrows:ri(n[4][0].data)>>>0,data:i.reduce(function(s,o){return s[o.R]||(s[o.R]=[]),o.cells.forEach(function(l,c){if(s[o.R][c])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(c));s[o.R][c]=l}),s},[])}}function dye(e,t,r){var n,a=ns(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(ri(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(ri(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=sn(i);var s=ns(a[4][0].data),o=y8(e,e[Mf(s[4][0].data)][0]),l=(n=s[17])!=null&&n[0]?y8(e,e[Mf(s[17][0].data)][0]):[],c=ns(s[3][0].data),u=0;c[1].forEach(function(d){var h=ns(d.data),p=e[Mf(h[2][0].data)][0],g=ri(p.meta[1][0].data);if(g!=6002)throw new Error("6001 unexpected reference to ".concat(g));var m=fye(e,p);m.data.forEach(function(v,y){v.forEach(function(w,b){var D=Pr({r:u+y,c:b}),P=cye(w,o,l);P&&(r[D]=P)})}),u+=m.nrows})}function hye(e,t){var r=ns(t.data),n={"!ref":"A1"},a=e[Mf(r[2][0].data)],i=ri(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return dye(e,a[0],n),n}function pye(e,t){var r,n=ns(t.data),a={name:(r=n[1])!=null&&r[0]?L3(n[1][0].data):"",sheets:[]},i=vC(n[2],Mf);return i.forEach(function(s){e[s].forEach(function(o){var l=ri(o.meta[1][0].data);l==6e3&&a.sheets.push(hye(e,o))})}),a}function mye(e,t){var r=bC(),n=ns(t.data),a=vC(n[1],Mf);if(a.forEach(function(i){e[i].forEach(function(s){var o=ri(s.meta[1][0].data);if(o==2){var l=pye(e,s);l.sheets.forEach(function(c,u){wC(r,c,u==0?l.name:l.name+"_"+u,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function HS(e){var t,r,n,a,i={},s=[];if(e.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=sye(l.content)}catch(d){return console.log("?? "+l.content.length+" "+(d.message||d))}var u;try{u=aye(c)}catch(d){return console.log("## "+(d.message||d))}u.forEach(function(d){i[d.id]=d.messages,s.push(d.id)})}}),!s.length)throw new Error("File has no messages");var o=((a=(n=(r=(t=i==null?void 0:i[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&ri(i[1][0].meta[1][0].data)==1&&i[1][0];if(o||s.forEach(function(l){i[l].forEach(function(c){var u=ri(c.meta[1][0].data)>>>0;if(u==1)if(!o)o=c;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return mye(i,o)}function gye(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function yC(e){gye([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function vye(e){return I0.WS.indexOf(e)>-1?"sheet":e==I0.CS?"chart":e==I0.DS?"dialog":e==I0.MS?"macro":e&&e.length?e:"sheet"}function yye(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,vye(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function xye(e,t,r,n,a,i,s,o,l,c,u,d){try{i[n]=Kg(so(e,r,!0),t);var h=Ra(e,t),p;switch(o){case"sheet":p=T1e(h,t,a,l,i[n],c,u,d);break;case"chart":if(p=N1e(h,t,a,l,i[n],c,u,d),!p||!p["!drawel"])break;var g=_g(p["!drawel"].Target,t),m=P3(g),v=Ame(so(e,g,!0),Kg(so(e,m,!0),g)),y=_g(v,g),w=P3(y);p=l1e(so(e,y,!0),y,l,Kg(so(e,w,!0),y),c,p);break;case"macro":p=E1e(h,t,a,l,i[n],c,u,d);break;case"dialog":p=k1e(h,t,a,l,i[n],c,u,d);break;default:throw new Error("Unrecognized sheet type "+o)}s[n]=p;var b=[];i&&i[n]&&hc(i[n]).forEach(function(D){var P="";if(i[n][D].Type==I0.CMNT){P=_g(i[n][D].Target,t);var O=O1e(Ra(e,P,!0),P,l);if(!O||!O.length)return;n8(p,O,!1)}i[n][D].Type==I0.TCMNT&&(P=_g(i[n][D].Target,t),b=b.concat(Nme(Ra(e,P,!0),l)))}),b&&b.length&&n8(p,b,!0,l.people||[])}catch(D){if(l.WTF)throw D}}function No(e){return e.charAt(0)=="/"?e.slice(1):e}function bye(e,t){if(Ez(),t=t||{},yC(t),Io(e,"META-INF/manifest.xml")||Io(e,"objectdata.xml"))return m8(e,t);if(Io(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof HS<"u"){if(e.FileIndex)return HS(e);var r=an.utils.cfb_new();return PD(e).forEach(function(U){wde(r,U,bde(e,U))}),HS(r)}throw new Error("Unsupported NUMBERS file")}if(!Io(e,"[Content_Types].xml"))throw Io(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Io(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=PD(e),a=ghe(so(e,"[Content_Types].xml")),i=!1,s,o;if(a.workbooks.length===0&&(o="xl/workbook.xml",Ra(e,o,!0)&&a.workbooks.push(o)),a.workbooks.length===0){if(o="xl/workbook.bin",!Ra(e,o,!0))throw new Error("Could not find workbook");a.workbooks.push(o),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var l={},c={};if(!t.bookSheets&&!t.bookProps){if(Qg=[],a.sst)try{Qg=j1e(Ra(e,No(a.sst)),a.sst,t)}catch(U){if(t.WTF)throw U}t.cellStyles&&a.themes.length&&(l=P1e(so(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(c=C1e(Ra(e,No(a.style)),a.style,l,t))}a.links.map(function(U){try{var G=Kg(so(e,P3(No(U))),U);return D1e(Ra(e,No(U)),G,U,t)}catch{}});var u=A1e(Ra(e,No(a.workbooks[0])),a.workbooks[0],t),d={},h="";a.coreprops.length&&(h=Ra(e,No(a.coreprops[0]),!0),h&&(d=rq(h)),a.extprops.length!==0&&(h=Ra(e,No(a.extprops[0]),!0),h&&whe(h,d,t)));var p={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(h=so(e,No(a.custprops[0]),!0),h&&(p=She(h,t)));var g={};if((t.bookSheets||t.bookProps)&&(u.Sheets?s=u.Sheets.map(function(G){return G.name}):d.Worksheets&&d.SheetNames.length>0&&(s=d.SheetNames),t.bookProps&&(g.Props=d,g.Custprops=p),t.bookSheets&&typeof s<"u"&&(g.SheetNames=s),t.bookSheets?g.SheetNames:t.bookProps))return g;s={};var m={};t.bookDeps&&a.calcchain&&(m=I1e(Ra(e,No(a.calcchain)),a.calcchain));var v=0,y={},w,b;{var D=u.Sheets;d.Worksheets=D.length,d.SheetNames=[];for(var P=0;P!=D.length;++P)d.SheetNames[P]=D[P].name}var O=i?"bin":"xml",T=a.workbooks[0].lastIndexOf("/"),S=(a.workbooks[0].slice(0,T+1)+"_rels/"+a.workbooks[0].slice(T+1)+".rels").replace(/^\//,"");Io(e,S)||(S="xl/_rels/workbook."+O+".rels");var _=Kg(so(e,S,!0),S.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=L1e(Ra(e,No(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=Eme(Ra(e,No(a.people[0])),t)),_&&(_=yye(_,u.Sheets));var j=Ra(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(v=0;v!=d.Worksheets;++v){var N="sheet";if(_&&_[v]?(w="xl/"+_[v][1].replace(/[\/]?xl\//,""),Io(e,w)||(w=_[v][1]),Io(e,w)||(w=S.replace(/_rels\/.*$/,"")+_[v][1]),N=_[v][2]):(w="xl/worksheets/sheet"+(v+1-j)+"."+O,w=w.replace(/sheet0\./,"sheet.")),b=w.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(v!=t.sheets)continue e;break;case"string":if(d.SheetNames[v].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var E=!1,k=0;k!=t.sheets.length;++k)typeof t.sheets[k]=="number"&&t.sheets[k]==v&&(E=1),typeof t.sheets[k]=="string"&&t.sheets[k].toLowerCase()==d.SheetNames[v].toLowerCase()&&(E=1);if(!E)continue e}}xye(e,w,b,d.SheetNames[v],v,y,s,N,t,u,l,c)}return g={Directory:a,Workbook:u,Props:d,Custprops:p,Deps:m,Sheets:s,SheetNames:d.SheetNames,Strings:Qg,Styles:c,Themes:l,SSF:ji(Ir)},t&&t.bookFiles&&(e.files?(g.keys=n,g.files=e.files):(g.keys=[],g.files={},e.FullPaths.forEach(function(U,G){U=U.replace(/^Root Entry[\/]/,""),g.keys.push(U),g.files[U]=e.FileIndex[G]}))),t&&t.bookVBA&&(a.vba.length>0?g.vbaraw=Ra(e,No(a.vba[0]),!0):a.defaults&&a.defaults.bin===jme&&(g.vbaraw=Ra(e,"xl/vbaProject.bin",!0))),g}function wye(e,t){var r=t||{},n="Workbook",a=an.find(e,n);try{if(n="/!DataSpaces/Version",a=an.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(hpe(a.content),n="/!DataSpaces/DataSpaceMap",a=an.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=mpe(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=an.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=gpe(a.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=an.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);ype(a.content)}catch{}if(n="/EncryptionInfo",a=an.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=xpe(a.content);if(n="/EncryptedPackage",a=an.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],a.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function xC(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=po(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function _ye(e,t){return an.find(e,"EncryptedPackage")?wye(e,t):Bq(e,t)}function Sye(e,t){var r,n=e,a=t||{};return a.type||(a.type=Xr&&Buffer.isBuffer(e)?"buffer":"base64"),r=Iz(n,a),bye(r,a)}function qq(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return I3(e.slice(r),t);default:break e}return Yv.to_workbook(e,t)}function Aye(e,t){var r="",n=xC(e,t);switch(t.type){case"base64":r=po(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=ph(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=Wn(r)),t.type="binary",qq(r,t)}function Tye(e,t){var r=e;return t.type=="base64"&&(r=po(r)),r=ff.utils.decode(1200,r.slice(2),"str"),t.type="binary",qq(r,t)}function Nye(e){return e.match(/[^\x00-\x7F]/)?Sg(e):e}function GS(e,t,r,n){return n?(r.type="string",Yv.to_workbook(e,r)):Yv.to_workbook(t,r)}function R3(e,t){mz();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return R3(new Uint8Array(e),(r=ji(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),K0={},r.dateNF&&(K0.dateNF=r.dateNF),r.type||(r.type=Xr&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Xr?"buffer":"binary",n=hde(e),typeof Uint8Array<"u"&&!Xr&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,n=Nye(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),o=new Uint8Array(s);if(o.foo="bar",!o.foo)return r=ji(r),r.type="array",R3(Qk(n),r)}switch((a=xC(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return _ye(an.read(n,r),r);break;case 9:if(a[1]<=8)return Bq(n,r);break;case 60:return I3(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return epe(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return J0e.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?Sye(n,r):GS(e,n,r,i);case 239:return a[3]===60?I3(n,r):GS(e,n,r,i);case 255:if(a[1]===254)return Tye(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return Xg.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return Xg.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return r8.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return jpe.to_workbook(n,r);break;case 10:case 13:case 32:return Aye(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return X0e.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?r8.to_workbook(n,r):GS(e,n,r,i)}function Eye(e,t,r,n,a,i,s,o){var l=Oi(r),c=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),d=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!s||e[r])for(var p=t.s.c;p<=t.e.c;++p){var g=s?e[r][p]:e[n[p]+l];if(g===void 0||g.t===void 0){if(c===void 0)continue;i[p]!=null&&(h[i[p]]=c);continue}var m=g.v;switch(g.t){case"z":if(m==null)break;continue;case"e":m=m==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(i[p]!=null){if(m==null)if(g.t=="e"&&m===null)h[i[p]]=null;else if(c!==void 0)h[i[p]]=c;else if(u&&m===null)h[i[p]]=null;else continue;else h[i[p]]=u&&(g.t!=="n"||g.t==="n"&&o.rawNumbers!==!1)?m:mu(g,m,o);m!=null&&(d=!1)}}return{row:h,isempty:d}}function F3(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],s=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},u=c.range!=null?c.range:e["!ref"];switch(c.header===1?n=1:c.header==="A"?n=2:Array.isArray(c.header)?n=3:c.header==null&&(n=0),typeof u){case"string":l=wa(u);break;case"number":l=wa(e["!ref"]),l.s.r=u;break;default:l=u}n>0&&(a=0);var d=Oi(l.s.r),h=[],p=[],g=0,m=0,v=Array.isArray(e),y=l.s.r,w=0,b={};v&&!e[y]&&(e[y]=[]);var D=c.skipHidden&&e["!cols"]||[],P=c.skipHidden&&e["!rows"]||[];for(w=l.s.c;w<=l.e.c;++w)if(!(D[w]||{}).hidden)switch(h[w]=Za(w),r=v?e[y][w]:e[h[w]+d],n){case 1:i[w]=w-l.s.c;break;case 2:i[w]=h[w];break;case 3:i[w]=c.header[w-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=s=mu(r,null,c),m=b[s]||0,!m)b[s]=1;else{do o=s+"_"+m++;while(b[o]);b[s]=m,b[o]=1}i[w]=o}for(y=l.s.r+a;y<=l.e.r;++y)if(!(P[y]||{}).hidden){var O=Eye(e,l,y,h,n,i,v,c);(O.isempty===!1||(n===1?c.blankrows!==!1:c.blankrows))&&(p[g++]=O.row)}return p.length=g,p}var x8=/"/g;function kye(e,t,r,n,a,i,s,o){for(var l=!0,c=[],u="",d=Oi(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var p=o.dense?(e[r]||[])[h]:e[n[h]+d];if(p==null)u="";else if(p.v!=null){l=!1,u=""+(o.rawNumbers&&p.t=="n"?p.v:mu(p,null,o));for(var g=0,m=0;g!==u.length;++g)if((m=u.charCodeAt(g))===a||m===i||m===34||o.forceQuotes){u='"'+u.replace(x8,'""')+'"';break}u=="ID"&&(u='"ID"')}else p.f!=null&&!p.F?(l=!1,u="="+p.f,u.indexOf(",")>=0&&(u='"'+u.replace(x8,'""')+'"')):u="";c.push(u)}return o.blankrows===!1&&l?null:c.join(s)}function Wq(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=wa(e["!ref"]),i=n.FS!==void 0?n.FS:",",s=i.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),c=new RegExp((i=="|"?"\\|":i)+"+$"),u="",d=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],p=n.skipHidden&&e["!rows"]||[],g=a.s.c;g<=a.e.c;++g)(h[g]||{}).hidden||(d[g]=Za(g));for(var m=0,v=a.s.r;v<=a.e.r;++v)(p[v]||{}).hidden||(u=kye(e,a,v,d,s,l,i,n),u!=null&&(n.strip&&(u=u.replace(c,"")),(u||n.blankrows!==!1)&&r.push((m++?o:"")+u)));return delete n.dense,r.join("")}function Cye(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=Wq(e,t);return r}function Pye(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=wa(e["!ref"]),i="",s=[],o,l=[],c=Array.isArray(e);for(o=a.s.c;o<=a.e.c;++o)s[o]=Za(o);for(var u=a.s.r;u<=a.e.r;++u)for(i=Oi(u),o=a.s.c;o<=a.e.c;++o)if(t=s[o]+i,r=c?(e[u]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=t+"="+n}return l}function Hq(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},s=0,o=0;if(i&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?_s(n.origin):n.origin;s=l.r,o=l.c}var c,u={s:{c:0,r:0},e:{c:o,r:s+t.length-1+a}};if(i["!ref"]){var d=wa(i["!ref"]);u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),s==-1&&(s=d.e.r+1,u.e.r=s+t.length-1+a)}else s==-1&&(s=0,u.e.r=t.length-1+a);var h=n.header||[],p=0;t.forEach(function(m,v){hc(m).forEach(function(y){(p=h.indexOf(y))==-1&&(h[p=h.length]=y);var w=m[y],b="z",D="",P=Pr({c:o+p,r:s+v+a});c=Zv(i,P),w&&typeof w=="object"&&!(w instanceof Date)?i[P]=w:(typeof w=="number"?b="n":typeof w=="boolean"?b="b":typeof w=="string"?b="s":w instanceof Date?(b="d",n.cellDates||(b="n",w=Es(w)),D=n.dateNF||Ir[14]):w===null&&n.nullError&&(b="e",w=0),c?(c.t=b,c.v=w,delete c.w,delete c.R,D&&(c.z=D)):i[P]=c={t:b,v:w},D&&(c.z=D))})}),u.e.c=Math.max(u.e.c,o+h.length-1);var g=Oi(s);if(a)for(p=0;p<h.length;++p)i[Za(p+o)+g]={t:"s",v:h[p]};return i["!ref"]=sn(u),i}function jye(e,t){return Hq(null,e,t)}function Zv(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=_s(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Zv(e,Pr(t)):Zv(e,Pr({r:t,c:r||0}))}function Oye(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function bC(){return{SheetNames:[],Sheets:{}}}function wC(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var s=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=s+a)!=-1;++a);}if(g1e(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function Iye(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=Oye(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function Dye(e,t){return e.z=t,e}function Gq(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function Lye(e,t,r){return Gq(e,"#"+t,r)}function Mye(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function Rye(e,t,r,n){for(var a=typeof t!="string"?t:wa(t),i=typeof t=="string"?t:sn(t),s=a.s.r;s<=a.e.r;++s)for(var o=a.s.c;o<=a.e.c;++o){var l=Zv(e,s,o);l.t="n",l.F=i,delete l.v,s==a.s.r&&o==a.s.c&&(l.f=r,n&&(l.D=!0))}return e}var Fye={encode_col:Za,encode_row:Oi,encode_cell:Pr,encode_range:sn,decode_col:sC,decode_row:iC,split_cell:Yde,decode_cell:_s,decode_range:dm,format_cell:mu,sheet_add_aoa:Qz,sheet_add_json:Hq,sheet_add_dom:Uq,aoa_to_sheet:hm,json_to_sheet:jye,table_to_sheet:Vq,table_to_book:eye,sheet_to_csv:Wq,sheet_to_txt:Cye,sheet_to_json:F3,sheet_to_html:Z1e,sheet_to_formulae:Pye,sheet_to_row_object_array:F3,sheet_get_cell:Zv,book_new:bC,book_append_sheet:wC,book_set_sheet_visibility:Iye,cell_set_number_format:Dye,cell_set_hyperlink:Gq,cell_set_internal_link:Lye,cell_add_comment:Mye,sheet_set_array_formula:Rye,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},Kq={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((r,n)=>{e.exports=n()})(ug,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},a,i=!n.document&&!!n.postMessage,s=n.IS_PAPA_WORKER||!1,o={},l=0,c={};function u(S){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(_){var j=P(_);j.chunkSize=parseInt(j.chunkSize),_.step||_.chunk||(j.chunkSize=null),this._handle=new m(j),(this._handle.streamer=this)._config=j}).call(this,S),this.parseChunk=function(_,j){var N=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<N){let k=this._config.newline;k||(E=this._config.quoteChar||'"',k=this._handle.guessLineEndings(_,E)),_=[..._.split(k).slice(N)].join(k)}this.isFirstChunk&&T(this._config.beforeFirstChunk)&&(E=this._config.beforeFirstChunk(_))!==void 0&&(_=E),this.isFirstChunk=!1,this._halted=!1;var N=this._partialLine+_,E=(this._partialLine="",this._handle.parse(N,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(_=E.meta.cursor,N=(this._finished||(this._partialLine=N.substring(_-this._baseIndex),this._baseIndex=_),E&&E.data&&(this._rowCount+=E.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),s)n.postMessage({results:E,workerId:c.WORKER_ID,finished:N});else if(T(this._config.chunk)&&!j){if(this._config.chunk(E,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=E=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(E.data),this._completeResults.errors=this._completeResults.errors.concat(E.errors),this._completeResults.meta=E.meta),this._completed||!N||!T(this._config.complete)||E&&E.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),N||E&&E.meta.paused||this._nextChunk(),E}this._halted=!0},this._sendError=function(_){T(this._config.error)?this._config.error(_):s&&this._config.error&&n.postMessage({workerId:c.WORKER_ID,error:_,finished:!1})}}function d(S){var _;(S=S||{}).chunkSize||(S.chunkSize=c.RemoteChunkSize),u.call(this,S),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(j){this._input=j,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(_=new XMLHttpRequest,this._config.withCredentials&&(_.withCredentials=this._config.withCredentials),i||(_.onload=O(this._chunkLoaded,this),_.onerror=O(this._chunkError,this)),_.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var j,N=this._config.downloadRequestHeaders;for(j in N)_.setRequestHeader(j,N[j])}var E;this._config.chunkSize&&(E=this._start+this._config.chunkSize-1,_.setRequestHeader("Range","bytes="+this._start+"-"+E));try{_.send(this._config.downloadRequestBody)}catch(k){this._chunkError(k.message)}i&&_.status===0&&this._chunkError()}},this._chunkLoaded=function(){_.readyState===4&&(_.status<200||400<=_.status?this._chunkError():(this._start+=this._config.chunkSize||_.responseText.length,this._finished=!this._config.chunkSize||this._start>=(j=>(j=j.getResponseHeader("Content-Range"))!==null?parseInt(j.substring(j.lastIndexOf("/")+1)):-1)(_),this.parseChunk(_.responseText)))},this._chunkError=function(j){j=_.statusText||j,this._sendError(new Error(j))}}function h(S){(S=S||{}).chunkSize||(S.chunkSize=c.LocalChunkSize),u.call(this,S);var _,j,N=typeof FileReader<"u";this.stream=function(E){this._input=E,j=E.slice||E.webkitSlice||E.mozSlice,N?((_=new FileReader).onload=O(this._chunkLoaded,this),_.onerror=O(this._chunkError,this)):_=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var E=this._input,k=(this._config.chunkSize&&(k=Math.min(this._start+this._config.chunkSize,this._input.size),E=j.call(E,this._start,k)),_.readAsText(E,this._config.encoding));N||this._chunkLoaded({target:{result:k}})},this._chunkLoaded=function(E){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(E.target.result)},this._chunkError=function(){this._sendError(_.error)}}function p(S){var _;u.call(this,S=S||{}),this.stream=function(j){return _=j,this._nextChunk()},this._nextChunk=function(){var j,N;if(!this._finished)return j=this._config.chunkSize,_=j?(N=_.substring(0,j),_.substring(j)):(N=_,""),this._finished=!_,this.parseChunk(N)}}function g(S){u.call(this,S=S||{});var _=[],j=!0,N=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(E){this._input=E,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){N&&_.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),_.length?this.parseChunk(_.shift()):j=!0},this._streamData=O(function(E){try{_.push(typeof E=="string"?E:E.toString(this._config.encoding)),j&&(j=!1,this._checkIsFinished(),this.parseChunk(_.shift()))}catch(k){this._streamError(k)}},this),this._streamError=O(function(E){this._streamCleanUp(),this._sendError(E)},this),this._streamEnd=O(function(){this._streamCleanUp(),N=!0,this._streamData("")},this),this._streamCleanUp=O(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function m(S){var _,j,N,E,k=Math.pow(2,53),U=-k,G=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,z=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,X=this,V=0,H=0,re=!1,ee=!1,I=[],M={data:[],errors:[],meta:{}};function q(he){return S.skipEmptyLines==="greedy"?he.join("").trim()==="":he.length===1&&he[0].length===0}function K(){if(M&&N&&(se("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),N=!1),S.skipEmptyLines&&(M.data=M.data.filter(function(xe){return!q(xe)})),J()){let xe=function(W,Pe){T(S.transformHeader)&&(W=S.transformHeader(W,Pe)),I.push(W)};if(M)if(Array.isArray(M.data[0])){for(var he=0;J()&&he<M.data.length;he++)M.data[he].forEach(xe);M.data.splice(0,1)}else M.data.forEach(xe)}function ie(xe,W){for(var Pe=S.header?{}:[],Ce=0;Ce<xe.length;Ce++){var Te=Ce,ce=xe[Ce],ce=((Fe,Ge)=>(Le=>(S.dynamicTypingFunction&&S.dynamicTyping[Le]===void 0&&(S.dynamicTyping[Le]=S.dynamicTypingFunction(Le)),(S.dynamicTyping[Le]||S.dynamicTyping)===!0))(Fe)?Ge==="true"||Ge==="TRUE"||Ge!=="false"&&Ge!=="FALSE"&&((Le=>{if(G.test(Le)&&(Le=parseFloat(Le),U<Le&&Le<k))return 1})(Ge)?parseFloat(Ge):z.test(Ge)?new Date(Ge):Ge===""?null:Ge):Ge)(Te=S.header?Ce>=I.length?"__parsed_extra":I[Ce]:Te,ce=S.transform?S.transform(ce,Te):ce);Te==="__parsed_extra"?(Pe[Te]=Pe[Te]||[],Pe[Te].push(ce)):Pe[Te]=ce}return S.header&&(Ce>I.length?se("FieldMismatch","TooManyFields","Too many fields: expected "+I.length+" fields but parsed "+Ce,H+W):Ce<I.length&&se("FieldMismatch","TooFewFields","Too few fields: expected "+I.length+" fields but parsed "+Ce,H+W)),Pe}var ge;M&&(S.header||S.dynamicTyping||S.transform)&&(ge=1,!M.data.length||Array.isArray(M.data[0])?(M.data=M.data.map(ie),ge=M.data.length):M.data=ie(M.data,0),S.header&&M.meta&&(M.meta.fields=I),H+=ge)}function J(){return S.header&&I.length===0}function se(he,ie,ge,xe){he={type:he,code:ie,message:ge},xe!==void 0&&(he.row=xe),M.errors.push(he)}T(S.step)&&(E=S.step,S.step=function(he){M=he,J()?K():(K(),M.data.length!==0&&(V+=he.data.length,S.preview&&V>S.preview?j.abort():(M.data=M.data[0],E(M,X))))}),this.parse=function(he,ie,ge){var xe=S.quoteChar||'"',xe=(S.newline||(S.newline=this.guessLineEndings(he,xe)),N=!1,S.delimiter?T(S.delimiter)&&(S.delimiter=S.delimiter(he),M.meta.delimiter=S.delimiter):((xe=((W,Pe,Ce,Te,ce)=>{var Fe,Ge,Le,Ye;ce=ce||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var _e=0;_e<ce.length;_e++){for(var $e,Ne=ce[_e],Ie=0,We=0,it=0,ht=(Le=void 0,new y({comments:Te,delimiter:Ne,newline:Pe,preview:10}).parse(W)),xt=0;xt<ht.data.length;xt++)Ce&&q(ht.data[xt])?it++:($e=ht.data[xt].length,We+=$e,Le===void 0?Le=$e:0<$e&&(Ie+=Math.abs($e-Le),Le=$e));0<ht.data.length&&(We/=ht.data.length-it),(Ge===void 0||Ie<=Ge)&&(Ye===void 0||Ye<We)&&1.99<We&&(Ge=Ie,Fe=Ne,Ye=We)}return{successful:!!(S.delimiter=Fe),bestDelimiter:Fe}})(he,S.newline,S.skipEmptyLines,S.comments,S.delimitersToGuess)).successful?S.delimiter=xe.bestDelimiter:(N=!0,S.delimiter=c.DefaultDelimiter),M.meta.delimiter=S.delimiter),P(S));return S.preview&&S.header&&xe.preview++,_=he,j=new y(xe),M=j.parse(_,ie,ge),K(),re?{meta:{paused:!0}}:M||{meta:{paused:!1}}},this.paused=function(){return re},this.pause=function(){re=!0,j.abort(),_=T(S.chunk)?"":_.substring(j.getCharIndex())},this.resume=function(){X.streamer._halted?(re=!1,X.streamer.parseChunk(_,!0)):setTimeout(X.resume,3)},this.aborted=function(){return ee},this.abort=function(){ee=!0,j.abort(),M.meta.aborted=!0,T(S.complete)&&S.complete(M),_=""},this.guessLineEndings=function(W,xe){W=W.substring(0,1048576);var xe=new RegExp(v(xe)+"([^]*?)"+v(xe),"gm"),ge=(W=W.replace(xe,"")).split("\r"),xe=W.split(`
`),W=1<xe.length&&xe[0].length<ge[0].length;if(ge.length===1||W)return`
`;for(var Pe=0,Ce=0;Ce<ge.length;Ce++)ge[Ce][0]===`
`&&Pe++;return Pe>=ge.length/2?`\r
`:"\r"}}function v(S){return S.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function y(S){var _=(S=S||{}).delimiter,j=S.newline,N=S.comments,E=S.step,k=S.preview,U=S.fastMode,G=null,z=!1,X=S.quoteChar==null?'"':S.quoteChar,V=X;if(S.escapeChar!==void 0&&(V=S.escapeChar),(typeof _!="string"||-1<c.BAD_DELIMITERS.indexOf(_))&&(_=","),N===_)throw new Error("Comment character same as delimiter");N===!0?N="#":(typeof N!="string"||-1<c.BAD_DELIMITERS.indexOf(N))&&(N=!1),j!==`
`&&j!=="\r"&&j!==`\r
`&&(j=`
`);var H=0,re=!1;this.parse=function(ee,I,M){if(typeof ee!="string")throw new Error("Input must be a string");var q=ee.length,K=_.length,J=j.length,se=N.length,he=T(E),ie=[],ge=[],xe=[],W=H=0;if(!ee)return Ie();if(U||U!==!1&&ee.indexOf(X)===-1){for(var Pe=ee.split(j),Ce=0;Ce<Pe.length;Ce++){if(xe=Pe[Ce],H+=xe.length,Ce!==Pe.length-1)H+=j.length;else if(M)return Ie();if(!N||xe.substring(0,se)!==N){if(he){if(ie=[],Ye(xe.split(_)),We(),re)return Ie()}else Ye(xe.split(_));if(k&&k<=Ce)return ie=ie.slice(0,k),Ie(!0)}}return Ie()}for(var Te=ee.indexOf(_,H),ce=ee.indexOf(j,H),Fe=new RegExp(v(V)+v(X),"g"),Ge=ee.indexOf(X,H);;)if(ee[H]===X)for(Ge=H,H++;;){if((Ge=ee.indexOf(X,Ge+1))===-1)return M||ge.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ie.length,index:H}),$e();if(Ge===q-1)return $e(ee.substring(H,Ge).replace(Fe,X));if(X===V&&ee[Ge+1]===V)Ge++;else if(X===V||Ge===0||ee[Ge-1]!==V){Te!==-1&&Te<Ge+1&&(Te=ee.indexOf(_,Ge+1));var Le=_e((ce=ce!==-1&&ce<Ge+1?ee.indexOf(j,Ge+1):ce)===-1?Te:Math.min(Te,ce));if(ee.substr(Ge+1+Le,K)===_){xe.push(ee.substring(H,Ge).replace(Fe,X)),ee[H=Ge+1+Le+K]!==X&&(Ge=ee.indexOf(X,H)),Te=ee.indexOf(_,H),ce=ee.indexOf(j,H);break}if(Le=_e(ce),ee.substring(Ge+1+Le,Ge+1+Le+J)===j){if(xe.push(ee.substring(H,Ge).replace(Fe,X)),Ne(Ge+1+Le+J),Te=ee.indexOf(_,H),Ge=ee.indexOf(X,H),he&&(We(),re))return Ie();if(k&&ie.length>=k)return Ie(!0);break}ge.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ie.length,index:H}),Ge++}}else if(N&&xe.length===0&&ee.substring(H,H+se)===N){if(ce===-1)return Ie();H=ce+J,ce=ee.indexOf(j,H),Te=ee.indexOf(_,H)}else if(Te!==-1&&(Te<ce||ce===-1))xe.push(ee.substring(H,Te)),H=Te+K,Te=ee.indexOf(_,H);else{if(ce===-1)break;if(xe.push(ee.substring(H,ce)),Ne(ce+J),he&&(We(),re))return Ie();if(k&&ie.length>=k)return Ie(!0)}return $e();function Ye(it){ie.push(it),W=H}function _e(it){var ht=0;return ht=it!==-1&&(it=ee.substring(Ge+1,it))&&it.trim()===""?it.length:ht}function $e(it){return M||(it===void 0&&(it=ee.substring(H)),xe.push(it),H=q,Ye(xe),he&&We()),Ie()}function Ne(it){H=it,Ye(xe),xe=[],ce=ee.indexOf(j,H)}function Ie(it){if(S.header&&!I&&ie.length&&!z){var ht=ie[0],xt=Object.create(null),St=new Set(ht);let mt=!1;for(let ut=0;ut<ht.length;ut++){let Xt=ht[ut];if(xt[Xt=T(S.transformHeader)?S.transformHeader(Xt,ut):Xt]){let Kt,jr=xt[Xt];for(;Kt=Xt+"_"+jr,jr++,St.has(Kt););St.add(Kt),ht[ut]=Kt,xt[Xt]++,mt=!0,(G=G===null?{}:G)[Kt]=Xt}else xt[Xt]=1,ht[ut]=Xt;St.add(Xt)}mt&&console.warn("Duplicate headers found and renamed."),z=!0}return{data:ie,errors:ge,meta:{delimiter:_,linebreak:j,aborted:re,truncated:!!it,cursor:W+(I||0),renamedHeaders:G}}}function We(){E(Ie()),ie=[],ge=[]}},this.abort=function(){re=!0},this.getCharIndex=function(){return H}}function w(S){var _=S.data,j=o[_.workerId],N=!1;if(_.error)j.userError(_.error,_.file);else if(_.results&&_.results.data){var E={abort:function(){N=!0,b(_.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:D,resume:D};if(T(j.userStep)){for(var k=0;k<_.results.data.length&&(j.userStep({data:_.results.data[k],errors:_.results.errors,meta:_.results.meta},E),!N);k++);delete _.results}else T(j.userChunk)&&(j.userChunk(_.results,E,_.file),delete _.results)}_.finished&&!N&&b(_.workerId,_.results)}function b(S,_){var j=o[S];T(j.userComplete)&&j.userComplete(_),j.terminate(),delete o[S]}function D(){throw new Error("Not implemented.")}function P(S){if(typeof S!="object"||S===null)return S;var _,j=Array.isArray(S)?[]:{};for(_ in S)j[_]=P(S[_]);return j}function O(S,_){return function(){S.apply(_,arguments)}}function T(S){return typeof S=="function"}return c.parse=function(S,_){var j=(_=_||{}).dynamicTyping||!1;if(T(j)&&(_.dynamicTypingFunction=j,j={}),_.dynamicTyping=j,_.transform=!!T(_.transform)&&_.transform,!_.worker||!c.WORKERS_SUPPORTED)return j=null,c.NODE_STREAM_INPUT,typeof S=="string"?(S=(N=>N.charCodeAt(0)!==65279?N:N.slice(1))(S),j=new(_.download?d:p)(_)):S.readable===!0&&T(S.read)&&T(S.on)?j=new g(_):(n.File&&S instanceof File||S instanceof Object)&&(j=new h(_)),j.stream(S);(j=(()=>{var N;return!!c.WORKERS_SUPPORTED&&(N=(()=>{var E=n.URL||n.webkitURL||null,k=r.toString();return c.BLOB_URL||(c.BLOB_URL=E.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",k,")();"],{type:"text/javascript"})))})(),(N=new n.Worker(N)).onmessage=w,N.id=l++,o[N.id]=N)})()).userStep=_.step,j.userChunk=_.chunk,j.userComplete=_.complete,j.userError=_.error,_.step=T(_.step),_.chunk=T(_.chunk),_.complete=T(_.complete),_.error=T(_.error),delete _.worker,j.postMessage({input:S,config:_,workerId:j.id})},c.unparse=function(S,_){var j=!1,N=!0,E=",",k=`\r
`,U='"',G=U+U,z=!1,X=null,V=!1,H=((()=>{if(typeof _=="object"){if(typeof _.delimiter!="string"||c.BAD_DELIMITERS.filter(function(I){return _.delimiter.indexOf(I)!==-1}).length||(E=_.delimiter),typeof _.quotes!="boolean"&&typeof _.quotes!="function"&&!Array.isArray(_.quotes)||(j=_.quotes),typeof _.skipEmptyLines!="boolean"&&typeof _.skipEmptyLines!="string"||(z=_.skipEmptyLines),typeof _.newline=="string"&&(k=_.newline),typeof _.quoteChar=="string"&&(U=_.quoteChar),typeof _.header=="boolean"&&(N=_.header),Array.isArray(_.columns)){if(_.columns.length===0)throw new Error("Option columns is empty");X=_.columns}_.escapeChar!==void 0&&(G=_.escapeChar+U),_.escapeFormulae instanceof RegExp?V=_.escapeFormulae:typeof _.escapeFormulae=="boolean"&&_.escapeFormulae&&(V=/^[=+\-@\t\r].*$/)}})(),new RegExp(v(U),"g"));if(typeof S=="string"&&(S=JSON.parse(S)),Array.isArray(S)){if(!S.length||Array.isArray(S[0]))return re(null,S,z);if(typeof S[0]=="object")return re(X||Object.keys(S[0]),S,z)}else if(typeof S=="object")return typeof S.data=="string"&&(S.data=JSON.parse(S.data)),Array.isArray(S.data)&&(S.fields||(S.fields=S.meta&&S.meta.fields||X),S.fields||(S.fields=Array.isArray(S.data[0])?S.fields:typeof S.data[0]=="object"?Object.keys(S.data[0]):[]),Array.isArray(S.data[0])||typeof S.data[0]=="object"||(S.data=[S.data])),re(S.fields||[],S.data||[],z);throw new Error("Unable to serialize unrecognized input");function re(I,M,q){var K="",J=(typeof I=="string"&&(I=JSON.parse(I)),typeof M=="string"&&(M=JSON.parse(M)),Array.isArray(I)&&0<I.length),se=!Array.isArray(M[0]);if(J&&N){for(var he=0;he<I.length;he++)0<he&&(K+=E),K+=ee(I[he],he);0<M.length&&(K+=k)}for(var ie=0;ie<M.length;ie++){var ge=(J?I:M[ie]).length,xe=!1,W=J?Object.keys(M[ie]).length===0:M[ie].length===0;if(q&&!J&&(xe=q==="greedy"?M[ie].join("").trim()==="":M[ie].length===1&&M[ie][0].length===0),q==="greedy"&&J){for(var Pe=[],Ce=0;Ce<ge;Ce++){var Te=se?I[Ce]:Ce;Pe.push(M[ie][Te])}xe=Pe.join("").trim()===""}if(!xe){for(var ce=0;ce<ge;ce++){0<ce&&!W&&(K+=E);var Fe=J&&se?I[ce]:ce;K+=ee(M[ie][Fe],ce)}ie<M.length-1&&(!q||0<ge&&!W)&&(K+=k)}}return K}function ee(I,M){var q,K;return I==null?"":I.constructor===Date?JSON.stringify(I).slice(1,25):(K=!1,V&&typeof I=="string"&&V.test(I)&&(I="'"+I,K=!0),q=I.toString().replace(H,G),(K=K||j===!0||typeof j=="function"&&j(I,M)||Array.isArray(j)&&j[M]||((J,se)=>{for(var he=0;he<se.length;he++)if(-1<J.indexOf(se[he]))return!0;return!1})(q,c.BAD_DELIMITERS)||-1<q.indexOf(E)||q.charAt(0)===" "||q.charAt(q.length-1)===" ")?U+q+U:q)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!i&&!!n.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=y,c.ParserHandle=m,c.NetworkStreamer=d,c.FileStreamer=h,c.StringStreamer=p,c.ReadableStreamStreamer=g,n.jQuery&&((a=n.jQuery).fn.parse=function(S){var _=S.config||{},j=[];return this.each(function(k){if(!(a(this).prop("tagName").toUpperCase()==="INPUT"&&a(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var U=0;U<this.files.length;U++)j.push({file:this.files[U],inputElem:this,instanceConfig:a.extend({},_)})}),N(),this;function N(){if(j.length===0)T(S.complete)&&S.complete();else{var k,U,G,z,X=j[0];if(T(S.before)){var V=S.before(X.file,X.inputElem);if(typeof V=="object"){if(V.action==="abort")return k="AbortError",U=X.file,G=X.inputElem,z=V.reason,void(T(S.error)&&S.error({name:k},U,G,z));if(V.action==="skip")return void E();typeof V.config=="object"&&(X.instanceConfig=a.extend(X.instanceConfig,V.config))}else if(V==="skip")return void E()}var H=X.instanceConfig.complete;X.instanceConfig.complete=function(re){T(H)&&H(re,X.file,X.inputElem),E()},c.parse(X.file,X.instanceConfig)}}function E(){j.splice(0,1),N()}}),s&&(n.onmessage=function(S){S=S.data,c.WORKER_ID===void 0&&S&&(c.WORKER_ID=S.workerId),typeof S.input=="string"?n.postMessage({workerId:c.WORKER_ID,results:c.parse(S.input,S.config),finished:!0}):(n.File&&S.input instanceof File||S.input instanceof Object)&&(S=c.parse(S.input,S.config))&&n.postMessage({workerId:c.WORKER_ID,results:S,finished:!0})}),(d.prototype=Object.create(u.prototype)).constructor=d,(h.prototype=Object.create(u.prototype)).constructor=h,(p.prototype=Object.create(p.prototype)).constructor=p,(g.prototype=Object.create(u.prototype)).constructor=g,c})})(Kq);var $ye=Kq.exports;const Bye=Dn($ye),Yq=()=>{const{user:e}=ba(),{isDarkMode:t}=Zr(),[r,n]=F.useState(!1),[a,i]=F.useState([]),[s,o]=F.useState(!1),[l,c]=F.useState({name:"",unit:"",asin:"",barcode:""}),[u,d]=F.useState(null),[h,p]=F.useState(null),[g,m]=F.useState(!1),[v,y]=F.useState(!1),[w,b]=F.useState(null),[D,P]=F.useState(null),[O,T]=F.useState(!1),[S,_]=F.useState(""),[j,N]=F.useState(null),[E,k]=F.useState(null),U=ze.useRef(null),[G,z]=F.useState(null),[X,V]=F.useState(!1),[H,re]=F.useState([]);F.useEffect(()=>{ee(),I()},[]);const ee=async W=>{o(!0);try{let Pe;if(W&&W.trim()!==""){const Ce=ir(vt(Xe,"scannedProducts"),lr("name",">=",W),lr("name","<=",W+""),ja("name"),Bd(100)),Te=ir(vt(Xe,"scannedProducts"),lr("barcode",">=",W),lr("barcode","<=",W+""),ja("barcode"),Bd(100)),ce=ir(vt(Xe,"scannedProducts"),lr("asin",">=",W),lr("asin","<=",W+""),ja("asin"),Bd(100)),[Fe,Ge,Le]=await Promise.all([sr(Ce),sr(Te),sr(ce)]),Ye=[...Fe.docs,...Ge.docs,...Le.docs].reduce((_e,$e)=>(_e.some(Ne=>Ne.id===$e.id)||_e.push($e),_e),[]);i(Ye.map(_e=>{const $e=_e.data();return{id:_e.id,name:$e.name,unit:$e.unit,asin:$e.asin||"",barcode:$e.barcode,createdAt:$e.createdAt instanceof nr?$e.createdAt.toDate():new Date($e.createdAt)}}))}else{Pe=ir(vt(Xe,"scannedProducts"),ja("createdAt","desc"),Bd(100));const Te=(await sr(Pe)).docs.map(ce=>{const Fe=ce.data();return{id:ce.id,name:Fe.name,unit:Fe.unit,asin:Fe.asin||"",barcode:Fe.barcode,createdAt:Fe.createdAt instanceof nr?Fe.createdAt.toDate():new Date(Fe.createdAt)}});i(Te)}}catch{d("Failed to fetch products")}finally{o(!1)}},I=async()=>{try{const W=vt(Xe,"scannedProducts"),Pe=await dk(W);z(Pe.data().count)}catch{z(null)}},M=()=>{const W={};a.forEach(Ce=>{W[Ce.name]||(W[Ce.name]=[]),W[Ce.name].push(Ce)});const Pe=Object.entries(W).filter(([,Ce])=>Ce.length>1).map(([Ce,Te])=>({name:Ce,products:Te.sort((ce,Fe)=>new Date(Fe.createdAt).getTime()-new Date(ce.createdAt).getTime())})).sort((Ce,Te)=>Te.products.length-Ce.products.length);re(Pe),V(!0)},q=()=>{V(!1),re([])},K=W=>{W?(c({name:W.name||"",unit:W.unit||"",asin:W.asin||"",barcode:W.barcode||""}),p(W)):(c({name:"",unit:"",asin:"",barcode:""}),p(null)),n(!0),d(null)},J=()=>{n(!1),d(null)},se=W=>{c({...l,[W.target.name]:W.target.value})},he=async W=>{c(Pe=>({...Pe,barcode:W})),m(!1),b(null),y(!0);try{const Ce=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${W}`,ce=await(await fetch(Ce)).json();if(ce&&ce.items&&ce.items.length>0){const Fe=ce.items[0];c(Ge=>({...Ge,name:Fe.title||Ge.name,asin:Fe.asin||Fe.amazon_asin||""}))}else b("No product info found for this barcode.")}catch{b("Failed to fetch product info.")}finally{y(!1)}},ie=async W=>{if(W.preventDefault(),!l.name.trim()||!l.unit.trim()||!l.barcode.trim()){d("Name, Unit, and Barcode are required");return}o(!0);try{const Pe=l.name.toUpperCase();if(h){const Ce=ur(Xe,"scannedProducts",h.id);if(await On(Ce,{name:Pe,unit:l.unit,barcode:l.barcode,asin:l.asin}),e&&h){const Te=[];h.name!==Pe&&Te.push(`name from "${h.name}" to "${Pe}"`),h.unit!==l.unit&&Te.push(`unit from ${h.unit||"none"} to ${l.unit||"none"}`),h.barcode!==l.barcode&&Te.push(`barcode from "${h.barcode||"none"}" to "${l.barcode||"none"}"`),h.asin!==l.asin&&Te.push(`asin from "${h.asin||"none"}" to "${l.asin||"none"}"`),Te.length>0&&await hr(vt(Xe,"activityLogs"),{user:e.name,role:e.role,detail:`edited product "${Pe}": ${Te.join(", ")}`,time:new Date().toISOString()})}}else await hr(vt(Xe,"scannedProducts"),{name:Pe,unit:l.unit,barcode:l.barcode,asin:l.asin,createdAt:nr.fromDate(new Date)}),e&&await hr(vt(Xe,"activityLogs"),{user:e.name,role:e.role,detail:`added new product "${Pe}" with barcode ${l.barcode}`,time:new Date().toISOString()});n(!1),p(null),ee()}catch{d("Failed to save product")}finally{o(!1)}},ge=async()=>{if(D){T(!0);try{const W=a.find(Pe=>Pe.id===D);await xs(ur(Xe,"scannedProducts",D)),e&&W&&await hr(vt(Xe,"activityLogs"),{user:e.name,role:e.role,detail:`deleted product "${W.name}" with barcode ${W.barcode}`,time:new Date().toISOString()}),P(null),ee()}catch{}finally{T(!1)}}},xe=async W=>{var Te;const Pe=(Te=W.target.files)==null?void 0:Te[0];if(!Pe)return;let Ce=[];try{if(Pe.name.endsWith(".csv")){const ce=await Pe.text(),Ge=Bye.parse(ce,{header:!0}).data;Ce=Ge.map(Ye=>{var _e,$e,Ne,Ie;return{name:((_e=Ye.Description)==null?void 0:_e.toString().trim())||"",unit:(($e=Ye.Unit)==null?void 0:$e.toString().trim())||"",asin:((Ne=Ye.ASIN)==null?void 0:Ne.toString().trim())||"",barcode:((Ie=Ye.EAN)==null?void 0:Ie.toString().trim())||""}}).filter(Ye=>Ye.name||Ye.unit||Ye.barcode);const Le=Ge.length-Ce.length;Le>0&&k({type:"error",message:`${Le} rows skipped (all columns empty).`})}else if(Pe.name.endsWith(".xlsx")){const ce=await Pe.arrayBuffer(),Fe=R3(ce,{type:"array"}),Ge=Fe.Sheets[Fe.SheetNames[0]],Le=Fye.sheet_to_json(Ge);Ce=Le.map(_e=>{var $e,Ne,Ie,We;return{name:(($e=_e.Description)==null?void 0:$e.toString().trim())||"",unit:((Ne=_e.Unit)==null?void 0:Ne.toString().trim())||"",asin:((Ie=_e.ASIN)==null?void 0:Ie.toString().trim())||"",barcode:((We=_e.EAN)==null?void 0:We.toString().trim())||""}}).filter(_e=>_e.name||_e.unit||_e.barcode);const Ye=Le.length-Ce.length;Ye>0&&k({type:"error",message:`${Ye} rows skipped (all columns empty).`})}else{k({type:"error",message:"Unsupported file type. Please upload a .csv or .xlsx file."});return}if(Ce.length===0){k({type:"error",message:"No valid products found in file."});return}for(const ce of Ce)await hr(vt(Xe,"scannedProducts"),{name:ce.name.toUpperCase(),unit:ce.unit,barcode:ce.barcode,asin:"",createdAt:nr.fromDate(new Date)});e&&await hr(vt(Xe,"activityLogs"),{user:e.name,role:e.role,detail:`bulk uploaded ${Ce.length} products from file "${Pe.name}"`,time:new Date().toISOString()}),k({type:"success",message:`Uploaded ${Ce.length} products successfully!`}),ee()}catch{k({type:"error",message:"Failed to upload products."})}};return!e||e.role!=="admin"&&e.role!=="staff"&&e.role!=="supply_serve"&&e.role!=="manager"?f.jsx("div",{className:"p-8 text-center text-red-500 font-semibold",children:"You are not authorized to access this page."}):f.jsxs("div",{className:t?"bg-slate-900 text-white min-h-screen":"bg-slate-50 text-slate-800 min-h-screen",children:[f.jsxs("div",{className:"flex items-center justify-between py-4",children:[f.jsx("h1",{className:"text-2xl font-bold",children:"Add Products"}),f.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${t?"bg-slate-800 text-blue-300":"bg-blue-100 text-blue-700"}`,children:["Total Scanned Products: ",G!==null?G:f.jsx("span",{className:"animate-pulse",children:"..."})]})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center mb-6 gap-4",children:[f.jsx("div",{children:f.jsx("p",{className:`${t?"text-slate-400":"text-slate-500"} mt-1 text-left md:text-left`,children:"Scan and add new products to your warehouse inventory"})}),f.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:gap-2 w-full md:w-auto",children:[f.jsx(tt,{variant:"secondary",onClick:()=>ee(),className:`flex items-center gap-2 w-full md:w-auto ${s?"opacity-50 cursor-not-allowed":""}`,disabled:s,icon:f.jsx(Ua,{size:18,className:s?"animate-spin":""})}),f.jsx(tt,{variant:X?"primary":"secondary",onClick:X?q:M,className:"w-full md:w-auto",icon:X?f.jsx(Ua,{size:18}):f.jsxs("svg",{width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M3 6h18"}),f.jsx("path",{d:"M7 12h10"}),f.jsx("path",{d:"M9 18h6"})]}),children:X?"Clear Filter":"Show Duplicates"}),f.jsx(tt,{icon:f.jsx(YZ,{size:18}),onClick:()=>{var W;return(W=U.current)==null?void 0:W.click()},className:"w-full md:w-auto",children:"Upload CSV/XLSX"}),f.jsx("input",{type:"file",accept:".csv,.xlsx",ref:U,onChange:xe,style:{display:"none"}}),f.jsx(tt,{icon:f.jsx(mi,{size:18}),onClick:()=>K(),className:"w-full md:w-auto",children:"Add Product"})]})]}),f.jsx("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:f.jsxs("div",{className:"flex-1 relative",children:[f.jsx(kt,{type:"text",placeholder:"Search by name, barcode, or ASIN",value:S,onChange:W=>{const Pe=W.target.value;_(Pe),ee(Pe.toUpperCase())},className:"pl-10",fullWidth:!0}),f.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",children:f.jsxs("svg",{width:"16",height:"16",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-search",children:[f.jsx("circle",{cx:"7",cy:"7",r:"6"}),f.jsx("path",{d:"m15 15-3.5-3.5"})]})})]})}),f.jsx(on,{isOpen:r,onClose:J,title:h?"Edit Product":"Add Product",size:"sm",children:f.jsxs("form",{onSubmit:ie,className:"space-y-4",children:[f.jsx(kt,{label:"Product Name",name:"name",value:l.name,onChange:se,placeholder:"Enter product name",required:!0,fullWidth:!0}),f.jsx(kt,{label:"Unit",name:"unit",value:l.unit,onChange:se,placeholder:"e.g. 350ML, 75GM, 1PC",required:!0,fullWidth:!0}),f.jsx(kt,{label:"ASIN",name:"asin",value:l.asin,onChange:se,placeholder:"Amazon Standard Identification Number",fullWidth:!0}),f.jsxs("div",{className:"relative w-full",children:[f.jsx(kt,{label:"Barcode",name:"barcode",value:l.barcode,onChange:se,placeholder:"Enter barcode",required:!0,fullWidth:!0,style:{paddingRight:44}}),f.jsx("button",{type:"button",onClick:async()=>{if(l.barcode.trim()&&!v){b(null),y(!0);try{await he(l.barcode)}finally{y(!1)}}},className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:v,children:v?f.jsx(es,{size:18,className:"animate-spin text-blue-500"}):f.jsx(lu,{size:18,className:"text-blue-500"})})]}),u&&f.jsx("div",{className:"text-red-500 text-sm",children:u}),w&&f.jsxs("div",{className:"text-red-500 text-sm",children:[w," Please enter details manually."]}),v&&f.jsxs("div",{className:"flex items-center gap-2 text-blue-500 text-sm",children:[f.jsx(es,{className:"w-4 h-4 animate-spin"}),"Fetching product info..."]}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx(tt,{type:"button",variant:"secondary",onClick:()=>m(!0),children:"Scan"}),f.jsx(tt,{type:"submit",isLoading:s,children:h?"Save Changes":"Add"})]})]})}),f.jsx(Eh,{isOpen:g,onClose:()=>m(!1),onBarcodeScanned:he}),f.jsx("div",{className:"hidden md:block overflow-x-auto overflow-y-hidden rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800",children:f.jsxs("table",{className:`min-w-full divide-y ${t?"divide-slate-700":"divide-slate-200"} ${t?"bg-slate-800":"bg-white"} rounded-lg`,children:[f.jsx("thead",{className:t?"bg-slate-700/50":"bg-slate-100",children:f.jsxs("tr",{children:[f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Unit"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Barcode"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Created At"}),f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),f.jsx("tbody",{className:`divide-y ${t?"divide-slate-700":"divide-slate-200"}`,children:s?f.jsx("tr",{children:f.jsx("td",{colSpan:6,style:{border:0,padding:0},children:f.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[200px] w-full py-12",children:[f.jsx(es,{className:`w-8 h-8 ${t?"text-blue-400":"text-blue-600"} animate-spin`}),f.jsx("p",{className:t?"text-slate-400":"text-slate-600",children:"Loading products..."})]})})}):X&&H.length===0?f.jsx("tr",{children:f.jsx("td",{colSpan:6,className:`text-center py-8 ${t?"text-slate-400":"text-slate-500"}`,children:"No duplicate products found."})}):X&&H.length>0?H.flatMap((W,Pe)=>[f.jsx("tr",{className:`${t?"bg-slate-700/30":"bg-slate-100/50"}`,children:f.jsxs("td",{colSpan:6,className:`px-4 py-2 text-sm font-semibold ${t?"text-blue-300":"text-blue-600"}`,children:[W.name," - ",W.products.length," duplicates"]})},`header-${W.name}`),...W.products.map((Ce,Te)=>f.jsxs(Gn.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:Pe*.1+Te*.05,ease:"easeOut"},className:`hover:${t?"bg-slate-700/50":"bg-slate-50"} cursor-pointer ${t?"bg-slate-800/50":"bg-slate-50/50"}`,onClick:()=>N(Ce),children:[f.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-blue-400":"text-blue-700"} font-medium`,children:Ce.name}),f.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:Ce.unit||"-"}),f.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:Ce.asin||"-"}),f.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:Ce.barcode}),f.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:Wt(Ce.createdAt,"MMM d, yyyy, h:mm a")}),f.jsxs("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"} text-right`,children:[f.jsx("button",{onClick:ce=>{ce.stopPropagation(),K(Ce)},className:`p-1 ${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,title:"Edit",children:f.jsx(bs,{size:16})}),f.jsx("button",{onClick:ce=>{ce.stopPropagation(),P(Ce.id)},className:`p-1 ml-2 ${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,title:"Delete",disabled:O&&D===Ce.id,children:f.jsx(ki,{size:16})})]})]},Ce.id))]):a.length===0?f.jsx("tr",{children:f.jsx("td",{colSpan:6,className:`text-center py-8 ${t?"text-slate-400":"text-slate-500"}`,children:"No products found."})}):a.map((W,Pe)=>f.jsxs(Gn.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:Pe*.05,ease:"easeOut"},className:`hover:${t?"bg-slate-700/50":"bg-slate-50"} cursor-pointer`,onClick:()=>N(W),children:[f.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-blue-400":"text-blue-700"} font-medium`,children:W.name}),f.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:W.unit||"-"}),f.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:W.asin||"-"}),f.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:W.barcode}),f.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:Wt(W.createdAt,"MMM d, yyyy, h:mm a")}),f.jsxs("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"} text-right`,children:[f.jsx("button",{onClick:Ce=>{Ce.stopPropagation(),K(W)},className:`p-1 ${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,title:"Edit",children:f.jsx(bs,{size:16})}),f.jsx("button",{onClick:Ce=>{Ce.stopPropagation(),P(W.id)},className:`p-1 ml-2 ${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,title:"Delete",disabled:O&&D===W.id,children:f.jsx(ki,{size:16})})]})]},W.id))})]})}),f.jsx("div",{className:"md:hidden flex flex-col gap-4",children:s?f.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[200px] w-full py-12",children:[f.jsx(es,{className:`w-8 h-8 ${t?"text-blue-400":"text-blue-600"} animate-spin`}),f.jsx("p",{className:t?"text-slate-400":"text-slate-600",children:"Loading products..."})]}):X&&H.length===0?f.jsx("div",{className:`text-center py-8 ${t?"text-slate-400":"text-slate-500"}`,children:"No duplicate products found."}):X&&H.length>0?H.map(W=>f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:`text-center py-2 px-4 rounded-lg ${t?"bg-slate-700/30 text-blue-300":"bg-slate-100/50 text-blue-600"} font-semibold`,children:[W.name," - ",W.products.length," duplicates"]}),W.products.map(Pe=>f.jsxs("div",{className:`rounded-lg shadow p-4 flex flex-col gap-2 ${t?"bg-slate-800/50":"bg-slate-50/50"} cursor-pointer`,onClick:()=>N(Pe),children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("div",{className:`font-semibold ${t?"text-blue-300":"text-blue-700"}`,children:Pe.name}),f.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Unit: ",Pe.unit||"-"]}),f.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["ASIN: ",Pe.asin||"-"]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(tt,{variant:"ghost",size:"sm",onClick:Ce=>{Ce.stopPropagation(),K(Pe)},className:`${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:f.jsx(bs,{size:16})}),f.jsx(tt,{variant:"ghost",size:"sm",onClick:Ce=>{Ce.stopPropagation(),P(Pe.id)},className:`${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,disabled:O&&D===Pe.id,children:f.jsx(ki,{size:16})})]})]}),f.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Barcode: ",f.jsx("span",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:Pe.barcode})]}),f.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Created: ",f.jsx("span",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:Wt(Pe.createdAt,"MMM d, yyyy, h:mm a")})]})]},Pe.id))]},W.name)):a.length===0?f.jsx("div",{className:`text-center py-8 ${t?"text-slate-400":"text-slate-500"}`,children:"No products found."}):a.map(W=>f.jsxs("div",{className:`rounded-lg shadow p-4 flex flex-col gap-2 ${t?"bg-slate-800":"bg-white"} cursor-pointer`,onClick:()=>N(W),children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("div",{className:`font-semibold ${t?"text-blue-300":"text-blue-700"}`,children:W.name}),f.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Unit: ",W.unit||"-"]}),f.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["ASIN: ",W.asin||"-"]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(tt,{variant:"ghost",size:"sm",onClick:Pe=>{Pe.stopPropagation(),K(W)},className:`${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:f.jsx(bs,{size:16})}),f.jsx(tt,{variant:"ghost",size:"sm",onClick:Pe=>{Pe.stopPropagation(),P(W.id)},className:`${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,disabled:O&&D===W.id,children:f.jsx(ki,{size:16})})]})]}),f.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Barcode: ",f.jsx("span",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:W.barcode})]}),f.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Created: ",f.jsx("span",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:Wt(W.createdAt,"MMM d, yyyy, h:mm a")})]})]},W.id))}),f.jsx(on,{isOpen:!!D,onClose:()=>P(null),title:"Delete Product",size:"sm",children:f.jsxs("div",{className:"space-y-4",children:[f.jsx("p",{children:"Are you sure you want to delete this product?"}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx(tt,{variant:"secondary",onClick:()=>P(null),disabled:O,children:"Cancel"}),f.jsxs(tt,{variant:"danger",onClick:ge,isLoading:O,className:"flex items-center justify-center",children:[O&&f.jsx(es,{className:"w-4 h-4 animate-spin mx-auto"}),"Delete"]})]})]})}),f.jsx(on,{isOpen:!!j,onClose:()=>N(null),title:j?j.name:"Product Details",size:"xl",children:j&&f.jsx("div",{className:"space-y-6",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-slate-500"}`,children:"Unit"}),f.jsx("p",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:j.unit||"-"})]}),f.jsxs("div",{children:[f.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-slate-500"}`,children:"ASIN"}),f.jsx("p",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:j.asin||"-"})]}),f.jsxs("div",{children:[f.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-slate-500"}`,children:"Barcode"}),f.jsx("p",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:j.barcode||"-"})]}),f.jsxs("div",{children:[f.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-slate-500"}`,children:"Created At"}),f.jsx("p",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:Wt(j.createdAt,"MMM d, yyyy, h:mm a")})]})]})})}),E&&f.jsx(tz,{type:E.type,message:E.message,onClose:()=>k(null)})]})]})},Uye=()=>{const{user:e}=ba();if(!e)return null;switch(e.role){case"admin":return f.jsx(gD,{});case"manager":return f.jsx(gD,{});case"staff":return f.jsx(Yq,{});default:return null}},Qr=({label:e,error:t,options:r,fullWidth:n=!1,className:a="",...i})=>{const{isDarkMode:s}=Zr();return f.jsxs("div",{className:`${n?"w-full":""} ${a}`,children:[e&&f.jsx("label",{className:`block text-sm font-medium ${s?"text-slate-200":"text-slate-700"} mb-1`,children:e}),f.jsx("select",{...i,className:`
          block w-full rounded-lg border px-3 py-2
          ${s?"bg-slate-800 border-slate-700 text-slate-200 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-700/50 disabled:text-slate-400":"bg-white border-slate-300 text-slate-900 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-50 disabled:text-slate-500"}
          ${t?"border-red-500 focus:border-red-500 focus:ring-red-500":""}
        `,children:r.map(o=>f.jsx("option",{value:o.value,children:o.label},o.value))}),t&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:t})]})},Vye=({isOpen:e,onClose:t,onSuccess:r})=>{const{user:n}=ba(),[a,i]=F.useState({name:"",unit:"",barcode:""}),[s,o]=F.useState(null),[l,c]=F.useState(!1),[u,d]=F.useState(!1),[h,p]=F.useState(!1),[g,m]=F.useState(null),v=D=>{i({...a,[D.target.name]:D.target.value})},y=async D=>{i(P=>({...P,barcode:D})),d(!1),m(null),p(!0);try{const O=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${D}`,S=await(await fetch(O)).json();if(S&&S.items&&S.items.length>0){const _=S.items[0];i(j=>({...j,name:_.title||j.name}))}else m("No product info found for this barcode.")}catch{m("Failed to fetch product info.")}finally{p(!1)}},w=async D=>{if(D.preventDefault(),!a.name.trim()||!a.unit.trim()||!a.barcode.trim()){o("All fields are required");return}c(!0);try{const P=a.name.toUpperCase();await hr(vt(Xe,"scannedProducts"),{name:P,unit:a.unit,barcode:a.barcode,createdAt:nr.fromDate(new Date)}),n&&await hr(vt(Xe,"activityLogs"),{user:n.name,role:n.role,detail:`added new product "${P}" with barcode ${a.barcode}`,time:new Date().toISOString()}),i({name:"",unit:"",barcode:""}),o(null),m(null),t(),r&&r()}catch{o("Failed to save product")}finally{c(!1)}},b=()=>{i({name:"",unit:"",barcode:""}),o(null),m(null),t()};return f.jsxs(f.Fragment,{children:[f.jsx(on,{isOpen:e,onClose:b,title:"Add Product",size:"sm",children:f.jsxs("form",{onSubmit:w,className:"space-y-4",children:[f.jsx(kt,{label:"Product Name",name:"name",value:a.name,onChange:v,placeholder:"Enter product name",required:!0,fullWidth:!0}),f.jsx(kt,{label:"Unit",name:"unit",value:a.unit,onChange:v,placeholder:"e.g. 350ML, 75GM, 1PC",required:!0,fullWidth:!0}),f.jsxs("div",{className:"relative w-full",children:[f.jsx(kt,{label:"Barcode",name:"barcode",value:a.barcode,onChange:v,placeholder:"Enter barcode",required:!0,fullWidth:!0,style:{paddingRight:44}}),f.jsx("button",{type:"button",onClick:async()=>{if(a.barcode.trim()&&!h){m(null),p(!0);try{await y(a.barcode)}finally{p(!1)}}},className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:h,children:h?f.jsx(es,{size:18,className:"animate-spin text-blue-500"}):f.jsx(lu,{size:18,className:"text-blue-500"})})]}),s&&f.jsx("div",{className:"text-red-500 text-sm",children:s}),g&&f.jsxs("div",{className:"text-red-500 text-sm",children:[g," Please enter details manually."]}),h&&f.jsxs("div",{className:"flex items-center gap-2 text-blue-500 text-sm",children:[f.jsx(es,{className:"w-4 h-4 animate-spin"}),"Fetching product info..."]}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx(tt,{type:"button",variant:"secondary",onClick:()=>d(!0),children:"Scan"}),f.jsx(tt,{type:"submit",isLoading:l,children:"Add"})]})]})}),f.jsx(Eh,{isOpen:u,onClose:()=>d(!1),onBarcodeScanned:y})]})},zye=({isOpen:e,onClose:t,onUseLocation:r,onManualLocation:n,hiddenProduct:a})=>f.jsx(on,{isOpen:e,onClose:t,title:"Location Reminder",size:"md",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx(wE,{className:"w-6 h-6 text-blue-500 mt-1 flex-shrink-0"}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Your previous product ",f.jsxs("strong",{children:['"',a.name,'"']})," was located at:"]}),f.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:[f.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200 font-medium",children:["Location: ",f.jsxs("strong",{children:[a.locationCode,"-",a.shelfNumber]})]}),f.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1",children:["Previous quantity: ",a.quantity," units"]})]}),f.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Do you want to place this product at the same location?"})]})]}),f.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[f.jsx(tt,{variant:"secondary",onClick:n,children:"No, I'll choose manually"}),f.jsx(tt,{onClick:()=>r(a.locationCode,a.shelfNumber),className:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500",children:"Yes, use same location"})]})]})}),Xq=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,isLoading:i=!1,confirmLabel:s="Yes",cancelLabel:o="No"})=>{const{isDarkMode:l}=Zr();return f.jsx(on,{isOpen:e,onClose:t,title:n,size:"md",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center gap-3 text-amber-600",children:[f.jsx(Nv,{size:24}),f.jsx("p",{className:l?"text-slate-200":"text-slate-700",children:a})]}),f.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[f.jsx(tt,{variant:"secondary",onClick:t,disabled:i,className:l?"text-slate-100":"text-slate-700",children:o}),f.jsx(tt,{variant:"success",onClick:r,isLoading:i,children:s})]})]})})},Rf=e=>{const t=e==="Awaiting Location"||e==="Awaiting Locations Sparklin"||e==="Awaiting Locations Aztec",r=(e.startsWith("O")||e.startsWith("P"))&&e.length===2&&/^[1-8]$/.test(e[1]),n=t?0:r?7:5;return Array.from({length:n+1},(a,i)=>({value:i.toString(),label:i.toString()}))},qye=[{value:"A1",label:"A1"},{value:"A2",label:"A2"},{value:"A3",label:"A3"},{value:"A4",label:"A4"},{value:"A5",label:"A5"},{value:"A6",label:"A6"},{value:"A7",label:"A7"},{value:"A8",label:"A8"},{value:"B1",label:"B1"},{value:"B2",label:"B2"},{value:"B3",label:"B3"},{value:"B4",label:"B4"},{value:"B5",label:"B5"},{value:"B6",label:"B6"},{value:"B7",label:"B7"},{value:"B8",label:"B8"},{value:"C1",label:"C1"},{value:"C2",label:"C2"},{value:"C3",label:"C3"},{value:"C4",label:"C4"},{value:"C5",label:"C5"},{value:"C6",label:"C6"},{value:"C7",label:"C7"},{value:"C8",label:"C8"},{value:"D1",label:"D1"},{value:"D2",label:"D2"},{value:"D3",label:"D3"},{value:"D4",label:"D4"},{value:"D5",label:"D5"},{value:"D6",label:"D6"},{value:"D7",label:"D7"},{value:"D8",label:"D8"},{value:"E1",label:"E1"},{value:"E2",label:"E2"},{value:"E3",label:"E3"},{value:"E4",label:"E4"},{value:"E5",label:"E5"},{value:"E6",label:"E6"},{value:"E7",label:"E7"},{value:"E8",label:"E8"},{value:"F1",label:"F1"},{value:"F2",label:"F2"},{value:"F3",label:"F3"},{value:"F4",label:"F4"},{value:"F5",label:"F5"},{value:"F6",label:"F6"},{value:"F7",label:"F7"},{value:"F8",label:"F8"},{value:"G1",label:"G1"},{value:"G2",label:"G2"},{value:"G3",label:"G3"},{value:"G4",label:"G4"},{value:"G5",label:"G5"},{value:"G6",label:"G6"},{value:"G7",label:"G7"},{value:"G8",label:"G8"},{value:"H1",label:"H1"},{value:"H2",label:"H2"},{value:"H3",label:"H3"},{value:"H4",label:"H4"},{value:"H5",label:"H5"},{value:"H6",label:"H6"},{value:"H7",label:"H7"},{value:"H8",label:"H8"},{value:"I1",label:"I1"},{value:"I2",label:"I2"},{value:"I3",label:"I3"},{value:"I4",label:"I4"},{value:"I5",label:"I5"},{value:"I6",label:"I6"},{value:"I7",label:"I7"},{value:"I8",label:"I8"},{value:"J1",label:"J1"},{value:"J2",label:"J2"},{value:"J3",label:"J3"},{value:"J4",label:"J4"},{value:"J5",label:"J5"},{value:"J6",label:"J6"},{value:"J7",label:"J7"},{value:"J8",label:"J8"},{value:"K1",label:"K1"},{value:"K2",label:"K2"},{value:"K3",label:"K3"},{value:"K4",label:"K4"},{value:"K5",label:"K5"},{value:"K6",label:"K6"},{value:"K7",label:"K7"},{value:"K8",label:"K8"},{value:"L1",label:"L1"},{value:"L2",label:"L2"},{value:"L3",label:"L3"},{value:"L4",label:"L4"},{value:"L5",label:"L5"},{value:"L6",label:"L6"},{value:"L7",label:"L7"},{value:"L8",label:"L8"},{value:"M1",label:"M1"},{value:"M2",label:"M2"},{value:"M3",label:"M3"},{value:"M4",label:"M4"},{value:"M5",label:"M5"},{value:"M6",label:"M6"},{value:"M7",label:"M7"},{value:"M8",label:"M8"},{value:"N1",label:"N1"},{value:"N2",label:"N2"},{value:"N3",label:"N3"},{value:"N4",label:"N4"},{value:"N5",label:"N5"},{value:"N6",label:"N6"},{value:"N7",label:"N7"},{value:"N8",label:"N8"},{value:"O1",label:"O1"},{value:"O2",label:"O2"},{value:"O3",label:"O3"},{value:"O4",label:"O4"},{value:"O5",label:"O5"},{value:"O6",label:"O6"},{value:"O7",label:"O7"},{value:"O8",label:"O8"},{value:"P1",label:"P1"},{value:"P2",label:"P2"},{value:"P3",label:"P3"},{value:"P4",label:"P4"},{value:"P5",label:"P5"},{value:"P6",label:"P6"},{value:"P7",label:"P7"},{value:"P8",label:"P8"},{value:"Q1",label:"Q1"},{value:"Q2",label:"Q2"},{value:"Q3",label:"Q3"},{value:"Q4",label:"Q4"},{value:"Q5",label:"Q5"},{value:"Q6",label:"Q6"},{value:"Q7",label:"Q7"},{value:"Q8",label:"Q8"},{value:"R1",label:"R1"},{value:"R2",label:"R2"},{value:"R3",label:"R3"},{value:"R4",label:"R4"},{value:"R5",label:"R5"},{value:"R6",label:"R6"},{value:"R7",label:"R7"},{value:"R8",label:"R8"},{value:"S1",label:"S1"},{value:"S2",label:"S2"},{value:"S3",label:"S3"},{value:"S4",label:"S4"},{value:"S5",label:"S5"},{value:"S6",label:"S6"},{value:"S7",label:"S7"},{value:"S8",label:"S8"},{value:"T1",label:"T1"},{value:"T2",label:"T2"},{value:"T3",label:"T3"},{value:"T4",label:"T4"},{value:"T5",label:"T5"},{value:"T6",label:"T6"},{value:"T7",label:"T7"},{value:"T8",label:"T8"},{value:"U1",label:"U1"},{value:"U2",label:"U2"},{value:"U3",label:"U3"},{value:"U4",label:"U4"},{value:"U5",label:"U5"},{value:"U6",label:"U6"},{value:"U7",label:"U7"},{value:"U8",label:"U8"},{value:"V1",label:"V1"},{value:"V2",label:"V2"},{value:"V3",label:"V3"},{value:"V4",label:"V4"},{value:"V5",label:"V5"},{value:"V6",label:"V6"},{value:"V7",label:"V7"},{value:"V8",label:"V8"},{value:"W1",label:"W1"},{value:"W2",label:"W2"},{value:"W3",label:"W3"},{value:"W4",label:"W4"},{value:"W5",label:"W5"},{value:"W6",label:"W6"},{value:"W7",label:"W7"},{value:"W8",label:"W8"},{value:"X1",label:"X1"},{value:"X2",label:"X2"},{value:"X3",label:"X3"},{value:"X4",label:"X4"},{value:"X5",label:"X5"},{value:"X6",label:"X6"},{value:"X7",label:"X7"},{value:"X8",label:"X8"},{value:"Y1",label:"Y1"},{value:"Y2",label:"Y2"},{value:"Y3",label:"Y3"},{value:"Y4",label:"Y4"},{value:"Y5",label:"Y5"},{value:"Y6",label:"Y6"},{value:"Y7",label:"Y7"},{value:"Y8",label:"Y8"},{value:"Z1",label:"Z1"},{value:"Z2",label:"Z2"},{value:"Z3",label:"Z3"},{value:"Z4",label:"Z4"},{value:"Z5",label:"Z5"},{value:"Z6",label:"Z6"},{value:"Z7",label:"Z7"},{value:"Z8",label:"Z8"},{value:"Awaiting Location",label:"Awaiting Location"},{value:"Awaiting Locations Sparklin",label:"Awaiting Locations Sparklin"},{value:"Awaiting Locations Aztec",label:"Awaiting Locations Aztec"}],Wye=e=>Rf(e),KS=[{value:"Rayburns Trading",label:"RAYBURNS TRADING"},{value:"Intamarque",label:"INTAMARQUE"},{value:"Sian Wholesale",label:"SIAN WHOLESALE"},{value:"DMG",label:"DMG"},{value:"CVT",label:"CVT"},{value:"Wholesale Trading Supplies",label:"WHOLESALE TRADING SUPPLIES"},{value:"HJA",label:"HJA"},{value:"Price Check",label:"PRICE CHECK"},{value:"other",label:"OTHER"}],Qq=({onSubmit:e,isLoading:t=!1,existingStockItems:r,isSupplyServe:n=!1,onShowProductLocationInfo:a})=>{const{user:i}=ba(),s=()=>{switch(i==null?void 0:i.role){case"fahiz":return"fahiz";case"aphy":return"APHY";case"supply_serve":return"supply & serve";default:return"supply & serve"}},[o,l]=F.useState({name:"",price:"",unit:"",supplier:KS[0].value,asin:"",status:"pending",damagedItems:"0",fulfillmentType:"mf",storeName:s(),selectedAsins:[]}),[c,u]=F.useState([{locationCode:"A1",shelfNumber:"0",quantity:""}]),[d,h]=F.useState({}),[p,g]=F.useState(!1),[m,v]=F.useState(!1),[y,w]=F.useState(""),{isDarkMode:b}=Zr(),[D,P]=F.useState(null),[O,T]=F.useState(!1),[S,_]=F.useState(null),[j,N]=F.useState(!1),[E,k]=F.useState(""),[U,G]=F.useState(!1),[z,X]=F.useState(null),[V,H]=F.useState(null),[re,ee]=F.useState(!1),[I,M]=F.useState(""),[q,K]=F.useState(!1),[J,se]=F.useState(null),[he,ie]=F.useState([]),[ge,xe]=F.useState(!1),[W,Pe]=F.useState(null),[Ce,Te]=F.useState([]),[ce,Fe]=F.useState(!1),[Ge,Le]=F.useState(null),Ye=F.useRef(!1);F.useEffect(()=>{o.storeName==="supply & serve"&&o.fulfillmentType!=="mf"&&l(nt=>({...nt,fulfillmentType:"mf"}))},[o.storeName,o.fulfillmentType]);const _e=nt=>{const{name:st,value:Ct}=nt.target;if(l(Ut=>({...Ut,[st]:Ct})),st==="supplier"&&(N(Ct==="other"),Ct!=="other"&&k("")),d[st]&&h(Ut=>{const Pt={...Ut};return delete Pt[st],Pt}),st==="barcode"&&Ct.length===13&&!O){J&&clearTimeout(J);const Ut=setTimeout(()=>{Ct.length===13&&ht(Ct)},500);se(Ut)}else st==="barcode"&&Ct.length!==13&&J&&(clearTimeout(J),se(null))},$e=(nt,st,Ct)=>{u(Ut=>{const Pt=[...Ut];if(Pt[nt]={...Pt[nt],[st]:Ct},st==="locationCode"&&(Pt[nt].shelfNumber="0"),st==="shelfNumber"){const Dt=Pt[nt].locationCode,Vt=Rf(Dt).length-1;parseInt(Ct)>Vt&&(Pt[nt].shelfNumber="0")}return Pt})},Ne=()=>{u(nt=>[...nt,{locationCode:"A1",shelfNumber:"0",quantity:""}])},Ie=nt=>{u(st=>st.filter((Ct,Ut)=>Ut!==nt))},We=async nt=>{l(Ct=>({...Ct,barcode:nt})),P(null),_(null),T(!0);let st=!1;try{const Ct=ir(vt(Xe,"scannedProducts"),lr("barcode","==",nt)),Ut=await sr(Ct);if(Ut.empty){const Dt=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${nt}`,xr=await(await fetch(Dt)).json();if(xr&&xr.items&&xr.items.length>0){const or=xr.items[0],Tr=or.asin||or.amazon_asin||"";if(Tr&&Tr.includes(" ")){const mr=Tr.split(" ").filter(zt=>zt.trim());if(mr.length>1){ie(mr),Te([]),Pe({name:or.title||"",unit:"",asin:mr[0]}),xe(!0),P("Multiple ASINs detected. Please select one or more."),st=!0;return}}l(mr=>({...mr,name:or.title||mr.name,asin:Tr||mr.asin,selectedAsins:Tr?[Tr]:[]})),P("Product name and ASIN auto-filled from external database."),a&&or.title&&a(or.title,nt),st=!0}else P("No product found for this barcode. Please enter details manually.")}else{const Pt=Ut.docs[0].data(),Dt=Pt.asin||"";if(Dt&&Dt.includes(" ")){const Vt=Dt.split(" ").filter(xr=>xr.trim());if(Vt.length>1){ie(Vt),Te([]),Pe({name:Pt.name||"",unit:Pt.unit||"",asin:Vt[0]}),xe(!0),P("Multiple ASINs detected. Please select one or more."),st=!0;return}}l(Vt=>({...Vt,name:Pt.name||Vt.name,unit:Pt.unit||Vt.unit,asin:Dt||Vt.asin,selectedAsins:Dt?[Dt]:[]})),P("Product name, unit, and ASIN auto-filled from scanned products."),a&&Pt.name&&a(Pt.name,nt),st=!0}}catch{_("Failed to fetch product info."),P("Failed to search for product. Please enter details manually.")}finally{T(!1),!st&&nt.length===13&&setTimeout(()=>{ht(nt)},100)}},it=async nt=>{try{const st=ir(vt(Xe,"inventory"),lr("barcode","==",nt),lr("quantity","==",0)),Ct=await sr(st);if(!Ct.empty){const Ut=Ct.docs[0].data();return Le({hiddenProduct:{...Ut,id:Ct.docs[0].id,lastUpdated:Ut.lastUpdated instanceof Date?Ut.lastUpdated:new Date(Ut.lastUpdated)},newProductName:o.name||"New Product"}),Fe(!0),!0}return!1}catch(st){return console.error("Error checking for hidden products:",st),!1}},ht=async nt=>{const st=nt||o.barcode;if(!(!st||O)){_(null),T(!0);try{const Ct=ir(vt(Xe,"scannedProducts"),lr("barcode","==",st)),Ut=await sr(Ct);if(!Ut.empty){const or=Ut.docs[0].data(),Tr=or.asin||"";if(Tr&&Tr.includes(" ")){const mr=Tr.split(" ").filter(zt=>zt.trim());if(mr.length>1){ie(mr),Te([]),Pe({name:or.name||"",unit:or.unit||"",asin:mr[0]}),xe(!0),P("Multiple ASINs detected. Please select one or more."),T(!1);return}}l(mr=>({...mr,name:or.name||mr.name,unit:or.unit||mr.unit,asin:Tr||mr.asin,selectedAsins:Tr?[Tr]:[]})),P("Product name, unit, and ASIN auto-filled from scanned products."),a&&or.name&&a(or.name,st),T(!1);return}const Dt=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${st}`,xr=await(await fetch(Dt)).json();if(xr&&xr.items&&xr.items.length>0){const or=xr.items[0],Tr=or.asin||or.amazon_asin||"";if(Tr&&Tr.includes(" ")){const mr=Tr.split(" ").filter(zt=>zt.trim());if(mr.length>1){ie(mr),Te([]),Pe({name:or.title||"",unit:"",asin:mr[0]}),xe(!0),P("Multiple ASINs detected. Please select one or more."),T(!1);return}}l(mr=>({...mr,name:or.title||mr.name,asin:Tr||mr.asin,selectedAsins:Tr?[Tr]:[]})),P("Product name and ASIN auto-filled from UPC database."),a&&or.title&&a(or.title,st)}else _("No product info found for this barcode.")}catch{_("Failed to fetch product info.")}finally{T(!1),await it(st)}}},xt=()=>{const nt={};return o.name.trim()||(nt.name="Product name is required"),c.forEach((st,Ct)=>{st.quantity?(isNaN(Number(st.quantity))||Number(st.quantity)<0)&&(nt[`location_${Ct}_quantity`]="Quantity must be a positive number"):nt[`location_${Ct}_quantity`]="Quantity is required"}),h(nt),Object.keys(nt).length===0},St=async nt=>{if(nt.preventDefault(),!(Ye.current||t)&&xt()){const st=o.supplier||KS[0].value,Ct=o.storeName||"supply & serve",Ut=o.selectedAsins.length>0?o.selectedAsins:o.asin?[o.asin]:[],Pt=c.map(Vt=>({name:o.name,quantity:parseInt(Vt.quantity),price:(i==null?void 0:i.role)==="admin"||(i==null?void 0:i.role)==="fahiz"||(i==null?void 0:i.role)==="aphy"||(i==null?void 0:i.role)==="supply_serve"?parseFloat(o.price):0,unit:o.unit||null,supplier:st==="other"?E:st,locationCode:Vt.locationCode,shelfNumber:Vt.shelfNumber,asin:Ut.length>0?Ut.join(", "):null,status:o.status,damagedItems:parseInt(o.damagedItems),barcode:o.barcode||null,fulfillmentType:o.fulfillmentType,lastUpdated:new Date,storeName:Ct==="other"?y:Ct})),Dt=Pt.find(Vt=>r.some(xr=>xr.name.trim().toLowerCase()===Vt.name.trim().toLowerCase()&&(xr.barcode||"")===(Vt.barcode||"")&&xr.locationCode===Vt.locationCode&&xr.shelfNumber===Vt.shelfNumber));if(Dt){H({name:Dt.name,location:`${Dt.locationCode}-${Dt.shelfNumber}`}),X(Pt),G(!0);return}Ye.current=!0;try{await e(Pt)}catch(Vt){console.error("Error adding stock:",Vt)}finally{Ye.current=!1}}},mt=async()=>{if(z&&!Ye.current&&!t){Ye.current=!0;try{await e(z)}catch(nt){console.error("Error adding stock:",nt)}finally{Ye.current=!1,G(!1),X(null),H(null)}}},ut=()=>{G(!1),X(null),H(null)},Xt=()=>{K(!0)},Kt=()=>{M("Product has been successfully added to the database!"),ee(!0)},jr=nt=>{W&&(l(st=>({...st,name:W.name||st.name,unit:W.unit||st.unit,asin:nt.join(", "),selectedAsins:nt})),P(`Product info and ${nt.length} selected ASIN(s) auto-filled.`)),xe(!1),ie([]),Pe(null),Te([])},_r=()=>{xe(!1),ie([]),Pe(null),Te([]),P("ASIN selection cancelled. Please enter details manually.")},Dr=nt=>{Te(st=>st.includes(nt)?st.filter(Ut=>Ut!==nt):[...st,nt])},De=(nt,st)=>{c.length>0&&u(Ct=>{const Ut=[...Ct];return Ut[0]={...Ut[0],locationCode:nt,shelfNumber:st},Ut}),Fe(!1),Le(null)},rt=()=>{Fe(!1),Le(null)};return f.jsxs(f.Fragment,{children:[f.jsxs("form",{onSubmit:St,className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(kt,{label:"Product Name",name:"name",value:o.name,onChange:_e,error:d.name,placeholder:"Enter product name",required:!0,fullWidth:!0}),f.jsx("div",{children:f.jsx(Qr,{label:"Supplier",name:"supplier",value:o.supplier,onChange:_e,options:KS,required:!0,fullWidth:!0})})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[((i==null?void 0:i.role)==="admin"||(i==null?void 0:i.role)==="fahiz"||(i==null?void 0:i.role)==="aphy"||(i==null?void 0:i.role)==="supply_serve")&&f.jsx(kt,{label:"Price",name:"price",type:"number",value:o.price,onChange:_e,placeholder:"Enter price",min:"0",step:"0.01",fullWidth:!0}),!j&&f.jsx(kt,{label:"Unit (Optional)",name:"unit",value:o.unit,onChange:_e,placeholder:"e.g. ML, GM, PC, etc.",fullWidth:!0}),j&&f.jsx(kt,{label:"Other Supplier",value:E,onChange:nt=>k(nt.target.value),placeholder:"Enter supplier name",required:j,fullWidth:!0})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:j&&f.jsx(kt,{label:"Unit (Optional)",name:"unit",value:o.unit,onChange:_e,placeholder:"e.g. ML, GM, PC, etc.",fullWidth:!0})}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h3",{className:"text-lg font-medium",children:"Location Entries"}),f.jsx(tt,{type:"button",onClick:Ne,variant:"primary",icon:f.jsx(mi,{size:18}),children:"Add Location"})]}),c.map((nt,st)=>f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-end",children:[f.jsx(Qr,{label:"Location Code",value:nt.locationCode,onChange:Ct=>$e(st,"locationCode",Ct.target.value),options:qye,required:!0,fullWidth:!0}),f.jsx(Qr,{label:"Shelf Number",value:nt.shelfNumber,onChange:Ct=>$e(st,"shelfNumber",Ct.target.value),options:Wye(nt.locationCode),required:!0,fullWidth:!0}),f.jsx(kt,{label:"Quantity",type:"number",value:nt.quantity,onChange:Ct=>$e(st,"quantity",Ct.target.value),error:d[`location_${st}_quantity`],placeholder:"Enter quantity",min:"0",required:!0,fullWidth:!0}),c.length>1&&f.jsx(tt,{type:"button",onClick:()=>Ie(st),variant:"danger",icon:f.jsx(ki,{size:18}),children:"Remove"})]},st))]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(Qr,{label:"Fulfillment Type",name:"fulfillmentType",value:o.fulfillmentType,onChange:_e,options:o.storeName==="supply & serve"?[{value:"mf",label:"MF"}]:[{value:"fba",label:"FBA"},{value:"mf",label:"MF"}],fullWidth:!0}),f.jsx(Qr,{label:"Status",name:"status",value:o.status,onChange:_e,options:[{value:"pending",label:"Pending"},{value:"active",label:"Active"}],fullWidth:!0,required:!0})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"flex gap-2 relative w-full",children:[f.jsx(kt,{label:"Barcode",name:"barcode",value:o.barcode||"",onChange:_e,placeholder:"Enter barcode manually",fullWidth:!0,style:{paddingRight:44}}),f.jsx("button",{type:"button",onClick:()=>ht(),className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:O,children:O?f.jsxs("svg",{className:"animate-spin text-blue-500",width:"18",height:"18",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):f.jsx(lu,{size:18,className:"text-blue-500"})})]}),f.jsx(kt,{label:"ASIN (separated by commas, if multiple)",name:"asin",value:o.asin,onChange:_e,placeholder:"Enter Amazon ASIN",fullWidth:!0}),S&&f.jsxs("div",{className:"text-red-500 text-sm",children:[S," Please enter details manually."]}),D&&f.jsx("div",{className:"flex items-center text-xs mt-1 text-green-600 dark:text-green-400 pl-1",children:D})]}),!n&&((i==null?void 0:i.role)==="admin"||(i==null?void 0:i.role)==="staff"||(i==null?void 0:i.role)==="manager")&&f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx("div",{children:f.jsx(Qr,{label:"Store Name",value:o.storeName,onChange:nt=>{const st=nt.target.value;l(Ct=>({...Ct,storeName:st,fulfillmentType:st==="supply & serve"?"mf":Ct.fulfillmentType})),v(st==="other"),st!=="other"&&w("")},options:[{value:"supply & serve",label:"SUPPLY & SERVE"},{value:"APHY",label:"APHY"},{value:"AZTEC",label:"AZTEC"},{value:"ZK",label:"ZK"},{value:"Fahiz",label:"FAHIZ"},{value:"other",label:"OTHER"}]})}),m&&f.jsxs("div",{children:[f.jsx("label",{className:`block text-sm font-medium ${b?"text-slate-200":"text-slate-700"} mb-1`,children:"Other Store Name"}),f.jsx(kt,{type:"text",value:y,onChange:nt=>w(nt.target.value),placeholder:"Enter store name",required:m})]})]}),f.jsx("div",{className:"flex items-center justify-end gap-4 pt-2",children:f.jsxs("div",{className:"flex gap-2",children:[f.jsx(tt,{type:"button",onClick:Xt,variant:"primary",icon:f.jsx(mi,{size:18}),children:"Add New Product"}),f.jsx(tt,{type:"submit",isLoading:t,variant:"success",icon:f.jsx(mi,{size:18}),children:"Confirm"})]})})]}),f.jsx(Eh,{isOpen:p,onClose:()=>g(!1),onBarcodeScanned:We}),f.jsx(Vye,{isOpen:q,onClose:()=>K(!1),onSuccess:Kt}),f.jsx(Xq,{isOpen:U,onClose:ut,onConfirm:mt,title:"Duplicate Stock Detected",message:V?`A product with the same name and barcode already exists at location ${V.location}. Do you want to add stock anyway?`:"",isLoading:t,confirmLabel:"Yes",cancelLabel:"No"}),f.jsx(on,{isOpen:re,onClose:()=>ee(!1),title:"Success!",size:"sm",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center gap-3 text-green-600",children:[f.jsx(Sj,{size:24}),f.jsx("p",{className:b?"text-slate-200":"text-slate-700",children:I})]}),f.jsx("div",{className:"flex justify-end pt-4",children:f.jsx(tt,{variant:"primary",onClick:()=>ee(!1),children:"OK"})})]})}),f.jsx(on,{isOpen:ge,onClose:_r,title:"Multiple ASINs Detected",size:"md",children:f.jsxs("div",{className:"space-y-4",children:[f.jsx("p",{className:b?"text-slate-200":"text-slate-700",children:"Multiple ASINs were found for this product. Please select one or more:"}),f.jsx("div",{className:"space-y-3",children:he.map((nt,st)=>f.jsx("div",{className:`p-3 rounded-lg border cursor-pointer transition-colors ${Ce.includes(nt)?b?"border-blue-400 bg-blue-900/20":"border-blue-400 bg-blue-50":b?"border-slate-600 hover:border-blue-400 hover:bg-slate-700":"border-slate-300 hover:border-blue-400 hover:bg-blue-50"}`,onClick:()=>Dr(nt),children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:`font-mono text-sm ${b?"text-slate-200":"text-slate-800"}`,children:nt}),f.jsxs("div",{className:"flex items-center gap-2",children:[Ce.includes(nt)&&f.jsx(Sj,{size:16,className:"text-blue-500"}),f.jsxs("span",{className:`text-xs ${b?"text-slate-400":"text-slate-500"}`,children:["ASIN ",st+1]})]})]})},st))}),f.jsxs("div",{className:"flex justify-between items-center pt-4",children:[f.jsx("div",{className:"text-sm text-slate-500",children:Ce.length>0?`${Ce.length} ASIN(s) selected`:"No ASINs selected"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(tt,{variant:"secondary",onClick:_r,children:"Cancel"}),f.jsx(tt,{variant:"primary",onClick:()=>jr(Ce),disabled:Ce.length===0,children:"Confirm Selection"})]})]})]})}),(Ge==null?void 0:Ge.hiddenProduct)&&f.jsx(zye,{isOpen:ce,onClose:()=>Fe(!1),onUseLocation:De,onManualLocation:rt,hiddenProduct:Ge.hiddenProduct,newProductName:Ge.newProductName||"New Product"})]})},Hye=[{value:"A1",label:"A1"},{value:"A2",label:"A2"},{value:"A3",label:"A3"},{value:"A4",label:"A4"},{value:"A5",label:"A5"},{value:"A6",label:"A6"},{value:"A7",label:"A7"},{value:"A8",label:"A8"},{value:"B1",label:"B1"},{value:"B2",label:"B2"},{value:"B3",label:"B3"},{value:"B4",label:"B4"},{value:"B5",label:"B5"},{value:"B6",label:"B6"},{value:"B7",label:"B7"},{value:"B8",label:"B8"},{value:"C1",label:"C1"},{value:"C2",label:"C2"},{value:"C3",label:"C3"},{value:"C4",label:"C4"},{value:"C5",label:"C5"},{value:"C6",label:"C6"},{value:"C7",label:"C7"},{value:"C8",label:"C8"},{value:"D1",label:"D1"},{value:"D2",label:"D2"},{value:"D3",label:"D3"},{value:"D4",label:"D4"},{value:"D5",label:"D5"},{value:"D6",label:"D6"},{value:"D7",label:"D7"},{value:"D8",label:"D8"},{value:"E1",label:"E1"},{value:"E2",label:"E2"},{value:"E3",label:"E3"},{value:"E4",label:"E4"},{value:"E5",label:"E5"},{value:"E6",label:"E6"},{value:"E7",label:"E7"},{value:"E8",label:"E8"},{value:"F1",label:"F1"},{value:"F2",label:"F2"},{value:"F3",label:"F3"},{value:"F4",label:"F4"},{value:"F5",label:"F5"},{value:"F6",label:"F6"},{value:"F7",label:"F7"},{value:"F8",label:"F8"},{value:"G1",label:"G1"},{value:"G2",label:"G2"},{value:"G3",label:"G3"},{value:"G4",label:"G4"},{value:"G5",label:"G5"},{value:"G6",label:"G6"},{value:"G7",label:"G7"},{value:"G8",label:"G8"},{value:"H1",label:"H1"},{value:"H2",label:"H2"},{value:"H3",label:"H3"},{value:"H4",label:"H4"},{value:"H5",label:"H5"},{value:"H6",label:"H6"},{value:"H7",label:"H7"},{value:"H8",label:"H8"},{value:"I1",label:"I1"},{value:"I2",label:"I2"},{value:"I3",label:"I3"},{value:"I4",label:"I4"},{value:"I5",label:"I5"},{value:"I6",label:"I6"},{value:"I7",label:"I7"},{value:"I8",label:"I8"},{value:"J1",label:"J1"},{value:"J2",label:"J2"},{value:"J3",label:"J3"},{value:"J4",label:"J4"},{value:"J5",label:"J5"},{value:"J6",label:"J6"},{value:"J7",label:"J7"},{value:"J8",label:"J8"},{value:"K1",label:"K1"},{value:"K2",label:"K2"},{value:"K3",label:"K3"},{value:"K4",label:"K4"},{value:"K5",label:"K5"},{value:"K6",label:"K6"},{value:"K7",label:"K7"},{value:"K8",label:"K8"},{value:"L1",label:"L1"},{value:"L2",label:"L2"},{value:"L3",label:"L3"},{value:"L4",label:"L4"},{value:"L5",label:"L5"},{value:"L6",label:"L6"},{value:"L7",label:"L7"},{value:"L8",label:"L8"},{value:"M1",label:"M1"},{value:"M2",label:"M2"},{value:"M3",label:"M3"},{value:"M4",label:"M4"},{value:"M5",label:"M5"},{value:"M6",label:"M6"},{value:"M7",label:"M7"},{value:"M8",label:"M8"},{value:"N1",label:"N1"},{value:"N2",label:"N2"},{value:"N3",label:"N3"},{value:"N4",label:"N4"},{value:"N5",label:"N5"},{value:"N6",label:"N6"},{value:"N7",label:"N7"},{value:"N8",label:"N8"},{value:"O1",label:"O1"},{value:"O2",label:"O2"},{value:"O3",label:"O3"},{value:"O4",label:"O4"},{value:"O5",label:"O5"},{value:"O6",label:"O6"},{value:"O7",label:"O7"},{value:"O8",label:"O8"},{value:"P1",label:"P1"},{value:"P2",label:"P2"},{value:"P3",label:"P3"},{value:"P4",label:"P4"},{value:"P5",label:"P5"},{value:"P6",label:"P6"},{value:"P7",label:"P7"},{value:"P8",label:"P8"},{value:"Q1",label:"Q1"},{value:"Q2",label:"Q2"},{value:"Q3",label:"Q3"},{value:"Q4",label:"Q4"},{value:"Q5",label:"Q5"},{value:"Q6",label:"Q6"},{value:"Q7",label:"Q7"},{value:"Q8",label:"Q8"},{value:"R1",label:"R1"},{value:"R2",label:"R2"},{value:"R3",label:"R3"},{value:"R4",label:"R4"},{value:"R5",label:"R5"},{value:"R6",label:"R6"},{value:"R7",label:"R7"},{value:"R8",label:"R8"},{value:"S1",label:"S1"},{value:"S2",label:"S2"},{value:"S3",label:"S3"},{value:"S4",label:"S4"},{value:"S5",label:"S5"},{value:"S6",label:"S6"},{value:"S7",label:"S7"},{value:"S8",label:"S8"},{value:"T1",label:"T1"},{value:"T2",label:"T2"},{value:"T3",label:"T3"},{value:"T4",label:"T4"},{value:"T5",label:"T5"},{value:"T6",label:"T6"},{value:"T7",label:"T7"},{value:"T8",label:"T8"},{value:"U1",label:"U1"},{value:"U2",label:"U2"},{value:"U3",label:"U3"},{value:"U4",label:"U4"},{value:"U5",label:"U5"},{value:"U6",label:"U6"},{value:"U7",label:"U7"},{value:"U8",label:"U8"},{value:"V1",label:"V1"},{value:"V2",label:"V2"},{value:"V3",label:"V3"},{value:"V4",label:"V4"},{value:"V5",label:"V5"},{value:"V6",label:"V6"},{value:"V7",label:"V7"},{value:"V8",label:"V8"},{value:"W1",label:"W1"},{value:"W2",label:"W2"},{value:"W3",label:"W3"},{value:"W4",label:"W4"},{value:"W5",label:"W5"},{value:"W6",label:"W6"},{value:"W7",label:"W7"},{value:"W8",label:"W8"},{value:"X1",label:"X1"},{value:"X2",label:"X2"},{value:"X3",label:"X3"},{value:"X4",label:"X4"},{value:"X5",label:"X5"},{value:"X6",label:"X6"},{value:"X7",label:"X7"},{value:"X8",label:"X8"},{value:"Y1",label:"Y1"},{value:"Y2",label:"Y2"},{value:"Y3",label:"Y3"},{value:"Y4",label:"Y4"},{value:"Y5",label:"Y5"},{value:"Y6",label:"Y6"},{value:"Y7",label:"Y7"},{value:"Y8",label:"Y8"},{value:"Z1",label:"Z1"},{value:"Z2",label:"Z2"},{value:"Z3",label:"Z3"},{value:"Z4",label:"Z4"},{value:"Z5",label:"Z5"},{value:"Z6",label:"Z6"},{value:"Z7",label:"Z7"},{value:"Z8",label:"Z8"},{value:"Awaiting Location",label:"Awaiting Location"},{value:"Awaiting Locations Sparklin",label:"Awaiting Locations Sparklin"},{value:"Awaiting Locations Aztec",label:"Awaiting Locations Aztec"}],Gye=e=>Rf(e),Kye=["supply & serve","APHY","AZTEC","ZK","Fahiz"],b8=[{value:"Rayburns Trading",label:"RAYBURNS TRADING"},{value:"Intamarque",label:"INTAMARQUE"},{value:"Sian Wholesale",label:"SIAN WHOLESALE"},{value:"DMG",label:"DMG"},{value:"CVT",label:"CVT"},{value:"Wholesale Trading Supplies",label:"WHOLESALE TRADING SUPPLIES"},{value:"HJA",label:"HJA"},{value:"Price Check",label:"PRICE CHECK"},{value:"other",label:"OTHER"}],Jq=({item:e,onSubmit:t,isLoading:r=!1})=>{const{isDarkMode:n}=Zr(),{user:a}=ba(),[i,s]=F.useState(null),o=()=>{switch(a==null?void 0:a.role){case"fahiz":return"fahiz";case"aphy":return"APHY";case"supply_serve":return"supply & serve";default:return e.storeName}},l=(a==null?void 0:a.role)==="admin"?e.storeName:o(),c=l&&!Kye.includes(l),u=b8.some(U=>U.value===(e.supplier||"")),d=u?e.supplier||"":"other",h=u?"":e.supplier||"",[p,g]=F.useState({name:e.name,quantity:e.quantity.toString(),price:e.price.toString(),unit:e.unit||"",supplier:d,locationCode:e.locationCode,shelfNumber:e.shelfNumber,asin:e.asin||"",status:e.status,damagedItems:e.damagedItems.toString(),fulfillmentType:(c?"other":e.storeName||"supply & serve")==="supply & serve"?"mf":e.fulfillmentType,storeName:c?"other":e.storeName||"supply & serve",barcode:e.barcode||""}),[m,v]=F.useState(c),[y,w]=F.useState(c?l:""),[b,D]=F.useState(d==="other"),[P,O]=F.useState(h),[T,S]=F.useState(!1),_=F.useRef(!1);F.useEffect(()=>{p.storeName==="supply & serve"&&p.fulfillmentType!=="mf"&&g(U=>({...U,fulfillmentType:"mf"}))},[p.storeName,p.fulfillmentType]);const j=U=>{const{name:G,value:z}=U.target;if(G==="damagedItems"){const X=Number(z),V=Number(p.quantity);if(X<0){s("Damaged items cannot be negative");return}s(null),g(H=>({...H,damagedItems:z,quantity:(V-(X-Number(H.damagedItems))).toString()}));return}G==="supplier"&&(D(z==="other"),z!=="other"&&O("")),g(X=>({...X,[G]:z}))},N=U=>{g(G=>({...G,barcode:U})),S(!1)},E=async U=>{if(U.preventDefault(),!(_.current||r)&&k()){_.current=!0;try{const G={id:e.id,name:p.name,quantity:parseInt(p.quantity),price:(a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="fahiz"||(a==null?void 0:a.role)==="aphy"||(a==null?void 0:a.role)==="supply_serve"?parseFloat(p.price):e.price,unit:p.unit||null,supplier:p.supplier==="other"?P:p.supplier||null,locationCode:p.locationCode,shelfNumber:p.shelfNumber,asin:p.asin||null,status:(a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="fahiz"||(a==null?void 0:a.role)==="aphy"||(a==null?void 0:a.role)==="supply_serve"?p.status:"pending",damagedItems:parseInt(p.damagedItems),fulfillmentType:p.fulfillmentType,lastUpdated:new Date,storeName:p.storeName==="other"?y:p.storeName,barcode:p.barcode||null};await t(G,e)}catch(G){console.error("Error updating stock:",G),s("Failed to update stock. Please try again.")}finally{_.current=!1}}},k=()=>p.name.trim()?!p.quantity||parseInt(p.quantity)<0?(s("Quantity must be a positive number"),!1):((a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="fahiz"||(a==null?void 0:a.role)==="aphy"||(a==null?void 0:a.role)==="supply_serve")&&(!p.price||parseFloat(p.price)<0)?(s("Price must be a positive number"),!1):!p.locationCode||!p.shelfNumber?(s("Location and shelf number are required"),!1):(s(null),!0):(s("Product name is required"),!1);return f.jsxs("form",{onSubmit:E,className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(kt,{label:"Product Name",name:"name",value:p.name,onChange:j,placeholder:"Enter product name",required:!0,fullWidth:!0}),(a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="fahiz"||(a==null?void 0:a.role)==="aphy"||(a==null?void 0:a.role)==="supply_serve"?f.jsx(Qr,{label:"Status",name:"status",value:p.status,onChange:j,options:[{value:"pending",label:"Pending"},{value:"active",label:"Active"}],fullWidth:!0,required:!0}):f.jsx(kt,{label:"Status",name:"status",value:"pending",disabled:!0,fullWidth:!0})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(kt,{label:"Quantity",name:"quantity",type:"number",value:p.quantity,onChange:j,placeholder:"Enter quantity",min:"0",required:!0,fullWidth:!0}),((a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="fahiz"||(a==null?void 0:a.role)==="aphy"||(a==null?void 0:a.role)==="supply_serve")&&f.jsx(kt,{label:"Price",name:"price",type:"number",value:p.price,onChange:j,placeholder:"Enter price",min:"0",step:"0.01",fullWidth:!0}),f.jsx(kt,{label:"Unit (Optional)",name:"unit",value:p.unit,onChange:j,placeholder:"e.g. ML, GM, PC, etc.",fullWidth:!0}),f.jsx(Qr,{label:"Fulfillment Type",name:"fulfillmentType",value:p.fulfillmentType,onChange:j,options:p.storeName==="supply & serve"?[{value:"mf",label:"MF"}]:[{value:"fba",label:"FBA"},{value:"mf",label:"MF"}],fullWidth:!0})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(Qr,{label:"Location Code",name:"locationCode",value:p.locationCode,onChange:j,options:Hye,required:!0,fullWidth:!0}),f.jsx(Qr,{label:"Shelf Number",name:"shelfNumber",value:p.shelfNumber,onChange:j,options:Gye(p.locationCode),required:!0,fullWidth:!0})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"flex gap-2 relative w-full",children:[f.jsx(kt,{label:"Barcode",name:"barcode",value:p.barcode||"",onChange:j,placeholder:"Enter barcode manually",fullWidth:!0,style:{paddingRight:44}}),f.jsx("button",{type:"button",onClick:()=>S(!0),className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Scan barcode",tabIndex:0,"aria-label":"Scan barcode",children:f.jsx(lu,{size:18,className:"text-blue-500"})})]}),f.jsx(kt,{label:"ASIN",name:"asin",value:p.asin,onChange:j,placeholder:"Enter Amazon ASIN",fullWidth:!0})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx("div",{children:f.jsx(Qr,{label:"Supplier",name:"supplier",value:p.supplier,onChange:j,options:b8,required:!0,fullWidth:!0})}),((a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="staff"||(a==null?void 0:a.role)==="manager")&&f.jsxs("div",{children:[f.jsx("label",{className:`block text-sm font-medium ${n?"text-slate-300":"text-slate-700"} mb-1`,children:"Store Name"}),f.jsx(Qr,{value:p.storeName,onChange:U=>{const G=U.target.value;g(z=>({...z,storeName:G,fulfillmentType:G==="supply & serve"?"mf":z.fulfillmentType})),v(G==="other"),G!=="other"&&w("")},options:[{value:"supply & serve",label:"SUPPLY & SERVE"},{value:"APHY",label:"APHY"},{value:"AZTEC",label:"AZTEC"},{value:"ZK",label:"ZK"},{value:"Fahiz",label:"FAHIZ"},{value:"other",label:"OTHER"}]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b&&f.jsx(kt,{label:"Other Supplier",value:P,onChange:U=>O(U.target.value),placeholder:"Enter supplier name",required:b,fullWidth:!0}),((a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="staff"||(a==null?void 0:a.role)==="manager")&&m&&!b&&f.jsxs("div",{children:[f.jsx("label",{className:`block text-sm font-medium ${n?"text-slate-300":"text-slate-700"} mb-1`,children:"Other Store Name"}),f.jsx(kt,{type:"text",value:y,onChange:U=>w(U.target.value),placeholder:"Enter store name",required:m})]}),((a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="staff"||(a==null?void 0:a.role)==="manager")&&m&&b&&f.jsxs("div",{children:[f.jsx("label",{className:`block text-sm font-medium ${n?"text-slate-300":"text-slate-700"} mb-1`,children:"Other Store Name"}),f.jsx(kt,{type:"text",value:y,onChange:U=>w(U.target.value),placeholder:"Enter store name",required:m})]}),f.jsxs("div",{children:[f.jsx(kt,{label:"Damaged Items",name:"damagedItems",type:"number",value:p.damagedItems,onChange:j,placeholder:"Enter number of damaged items",min:"0",fullWidth:!0,className:i?"border-red-500 focus:border-red-500":""}),i&&f.jsx("p",{className:"mt-1 text-sm text-red-500",children:i})]})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"}),f.jsx("div",{className:"flex justify-end",children:f.jsx(tt,{type:"submit",isLoading:r,icon:f.jsx(mi,{size:18}),children:"Update Product"})}),f.jsx(Eh,{isOpen:T,onClose:()=>S(!1),onBarcodeScanned:N})]})},Yye=[{value:"A1",label:"A1"},{value:"A2",label:"A2"},{value:"A3",label:"A3"},{value:"A4",label:"A4"},{value:"A5",label:"A5"},{value:"A6",label:"A6"},{value:"A7",label:"A7"},{value:"A8",label:"A8"},{value:"B1",label:"B1"},{value:"B2",label:"B2"},{value:"B3",label:"B3"},{value:"B4",label:"B4"},{value:"B5",label:"B5"},{value:"B6",label:"B6"},{value:"B7",label:"B7"},{value:"B8",label:"B8"},{value:"C1",label:"C1"},{value:"C2",label:"C2"},{value:"C3",label:"C3"},{value:"C4",label:"C4"},{value:"C5",label:"C5"},{value:"C6",label:"C6"},{value:"C7",label:"C7"},{value:"C8",label:"C8"},{value:"D1",label:"D1"},{value:"D2",label:"D2"},{value:"D3",label:"D3"},{value:"D4",label:"D4"},{value:"D5",label:"D5"},{value:"D6",label:"D6"},{value:"D7",label:"D7"},{value:"D8",label:"D8"},{value:"E1",label:"E1"},{value:"E2",label:"E2"},{value:"E3",label:"E3"},{value:"E4",label:"E4"},{value:"E5",label:"E5"},{value:"E6",label:"E6"},{value:"E7",label:"E7"},{value:"E8",label:"E8"},{value:"F1",label:"F1"},{value:"F2",label:"F2"},{value:"F3",label:"F3"},{value:"F4",label:"F4"},{value:"F5",label:"F5"},{value:"F6",label:"F6"},{value:"F7",label:"F7"},{value:"F8",label:"F8"},{value:"G1",label:"G1"},{value:"G2",label:"G2"},{value:"G3",label:"G3"},{value:"G4",label:"G4"},{value:"G5",label:"G5"},{value:"G6",label:"G6"},{value:"G7",label:"G7"},{value:"G8",label:"G8"},{value:"H1",label:"H1"},{value:"H2",label:"H2"},{value:"H3",label:"H3"},{value:"H4",label:"H4"},{value:"H5",label:"H5"},{value:"H6",label:"H6"},{value:"H7",label:"H7"},{value:"H8",label:"H8"},{value:"I1",label:"I1"},{value:"I2",label:"I2"},{value:"I3",label:"I3"},{value:"I4",label:"I4"},{value:"I5",label:"I5"},{value:"I6",label:"I6"},{value:"I7",label:"I7"},{value:"I8",label:"I8"},{value:"J1",label:"J1"},{value:"J2",label:"J2"},{value:"J3",label:"J3"},{value:"J4",label:"J4"},{value:"J5",label:"J5"},{value:"J6",label:"J6"},{value:"J7",label:"J7"},{value:"J8",label:"J8"},{value:"K1",label:"K1"},{value:"K2",label:"K2"},{value:"K3",label:"K3"},{value:"K4",label:"K4"},{value:"K5",label:"K5"},{value:"K6",label:"K6"},{value:"K7",label:"K7"},{value:"K8",label:"K8"},{value:"L1",label:"L1"},{value:"L2",label:"L2"},{value:"L3",label:"L3"},{value:"L4",label:"L4"},{value:"L5",label:"L5"},{value:"L6",label:"L6"},{value:"L7",label:"L7"},{value:"L8",label:"L8"},{value:"M1",label:"M1"},{value:"M2",label:"M2"},{value:"M3",label:"M3"},{value:"M4",label:"M4"},{value:"M5",label:"M5"},{value:"M6",label:"M6"},{value:"M7",label:"M7"},{value:"M8",label:"M8"},{value:"N1",label:"N1"},{value:"N2",label:"N2"},{value:"N3",label:"N3"},{value:"N4",label:"N4"},{value:"N5",label:"N5"},{value:"N6",label:"N6"},{value:"N7",label:"N7"},{value:"N8",label:"N8"},{value:"O1",label:"O1"},{value:"O2",label:"O2"},{value:"O3",label:"O3"},{value:"O4",label:"O4"},{value:"O5",label:"O5"},{value:"O6",label:"O6"},{value:"O7",label:"O7"},{value:"O8",label:"O8"},{value:"P1",label:"P1"},{value:"P2",label:"P2"},{value:"P3",label:"P3"},{value:"P4",label:"P4"},{value:"P5",label:"P5"},{value:"P6",label:"P6"},{value:"P7",label:"P7"},{value:"P8",label:"P8"},{value:"Q1",label:"Q1"},{value:"Q2",label:"Q2"},{value:"Q3",label:"Q3"},{value:"Q4",label:"Q4"},{value:"Q5",label:"Q5"},{value:"Q6",label:"Q6"},{value:"Q7",label:"Q7"},{value:"Q8",label:"Q8"},{value:"R1",label:"R1"},{value:"R2",label:"R2"},{value:"R3",label:"R3"},{value:"R4",label:"R4"},{value:"R5",label:"R5"},{value:"R6",label:"R6"},{value:"R7",label:"R7"},{value:"R8",label:"R8"},{value:"S1",label:"S1"},{value:"S2",label:"S2"},{value:"S3",label:"S3"},{value:"S4",label:"S4"},{value:"S5",label:"S5"},{value:"S6",label:"S6"},{value:"S7",label:"S7"},{value:"S8",label:"S8"},{value:"T1",label:"T1"},{value:"T2",label:"T2"},{value:"T3",label:"T3"},{value:"T4",label:"T4"},{value:"T5",label:"T5"},{value:"T6",label:"T6"},{value:"T7",label:"T7"},{value:"T8",label:"T8"},{value:"U1",label:"U1"},{value:"U2",label:"U2"},{value:"U3",label:"U3"},{value:"U4",label:"U4"},{value:"U5",label:"U5"},{value:"U6",label:"U6"},{value:"U7",label:"U7"},{value:"U8",label:"U8"},{value:"V1",label:"V1"},{value:"V2",label:"V2"},{value:"V3",label:"V3"},{value:"V4",label:"V4"},{value:"V5",label:"V5"},{value:"V6",label:"V6"},{value:"V7",label:"V7"},{value:"V8",label:"V8"},{value:"W1",label:"W1"},{value:"W2",label:"W2"},{value:"W3",label:"W3"},{value:"W4",label:"W4"},{value:"W5",label:"W5"},{value:"W6",label:"W6"},{value:"W7",label:"W7"},{value:"W8",label:"W8"},{value:"X1",label:"X1"},{value:"X2",label:"X2"},{value:"X3",label:"X3"},{value:"X4",label:"X4"},{value:"X5",label:"X5"},{value:"X6",label:"X6"},{value:"X7",label:"X7"},{value:"X8",label:"X8"},{value:"Y1",label:"Y1"},{value:"Y2",label:"Y2"},{value:"Y3",label:"Y3"},{value:"Y4",label:"Y4"},{value:"Y5",label:"Y5"},{value:"Y6",label:"Y6"},{value:"Y7",label:"Y7"},{value:"Y8",label:"Y8"},{value:"Z1",label:"Z1"},{value:"Z2",label:"Z2"},{value:"Z3",label:"Z3"},{value:"Z4",label:"Z4"},{value:"Z5",label:"Z5"},{value:"Z6",label:"Z6"},{value:"Z7",label:"Z7"},{value:"Z8",label:"Z8"},{value:"Awaiting Location",label:"Awaiting Location"},{value:"Awaiting Locations Sparklin",label:"Awaiting Locations Sparklin"},{value:"Awaiting Locations Aztec",label:"Awaiting Locations Aztec"}],Zq=({onSubmit:e,onClose:t,isLoading:r=!1})=>{const[n,a]=F.useState([]),[i,s]=F.useState({name:"",locationCode:"A1",shelfNumber:"0",barcode:"",quantity:""}),[o,l]=F.useState({}),[c,u]=F.useState(!1),[d,h]=F.useState(null),[p,g]=F.useState(!1),[m,v]=F.useState(null),y=F.useRef(null),w=F.useRef(!1);F.useEffect(()=>{a(Rf(i.locationCode))},[]),F.useEffect(()=>{a(Rf(i.locationCode));const _=Rf(i.locationCode).length-1;parseInt(i.shelfNumber)>_&&s(j=>({...j,shelfNumber:"0"}))},[i.locationCode]);const b=_=>{const{name:j,value:N}=_.target;s(E=>({...E,[j]:N})),o[j]&&l(E=>{const k={...E};return delete k[j],k}),j==="barcode"&&N.length===13&&!p?(y.current&&clearTimeout(y.current),y.current=setTimeout(()=>{N.length===13&&O(N)},500)):j==="barcode"&&N.length!==13&&y.current&&(clearTimeout(y.current),y.current=null)},D=()=>{u(!0)},P=async _=>{s(N=>({...N,barcode:_})),h(null),v(null),g(!0);let j=!1;try{const N=ir(vt(Xe,"scannedProducts"),lr("barcode","==",_)),E=await sr(N);if(E.empty){const U=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${_}`,z=await(await fetch(U)).json();if(z&&z.items&&z.items.length>0){const X=z.items[0];s(V=>({...V,name:X.title||V.name})),h("Product name auto-filled from external database."),j=!0}else h("No product found for this barcode. Please enter details manually.")}else{const k=E.docs[0].data();s(U=>({...U,name:k.name||U.name})),h("Product name auto-filled from scanned products."),j=!0}}catch{v("Failed to fetch product info."),h("Failed to search for product. Please enter details manually.")}finally{g(!1),!j&&_.length===13&&setTimeout(()=>{O(_)},100)}},O=async _=>{const j=_||i.barcode;if(!(!j||p)){v(null),g(!0);try{const N=ir(vt(Xe,"scannedProducts"),lr("barcode","==",j)),E=await sr(N);if(E.empty){const U=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${j}`,z=await(await fetch(U)).json();if(z&&z.items&&z.items.length>0){const X=z.items[0];s(V=>({...V,name:X.title||V.name})),h("Product name auto-filled from external database.")}else v("No product info found for this barcode.")}else{const k=E.docs[0].data();s(U=>({...U,name:k.name||U.name})),h("Product name auto-filled from scanned products.")}}catch{v("Failed to fetch product info.")}finally{g(!1)}}},T=()=>{const _={};return i.name.trim()||(_.name="Product name is required"),i.locationCode||(_.locationCode="Location is required"),i.shelfNumber||(_.shelfNumber="Shelf number is required"),(!i.quantity||parseInt(i.quantity)<=0)&&(_.quantity="Quantity must be greater than 0"),l(_),Object.keys(_).length===0},S=async _=>{if(_.preventDefault(),w.current||r||!T())return;const j={name:i.name.toUpperCase(),quantity:parseInt(i.quantity),price:0,unit:null,supplier:"not set",lastUpdated:new Date,locationCode:i.locationCode,shelfNumber:i.shelfNumber,barcode:i.barcode||null,asin:null,status:"pending",damagedItems:0,fulfillmentType:"fba",storeName:"not set"};w.current=!0;try{await e([j]),t()}catch(N){console.error("Error adding stock:",N)}finally{w.current=!1}};return f.jsxs(f.Fragment,{children:[f.jsxs("form",{onSubmit:S,className:"space-y-4",children:[f.jsx(kt,{label:"Product Name",name:"name",value:i.name,onChange:b,placeholder:"Enter product name",error:o.name,required:!0,fullWidth:!0}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(Qr,{label:"Location Code",name:"locationCode",value:i.locationCode,onChange:b,options:Yye,error:o.locationCode,required:!0,fullWidth:!0}),f.jsx(Qr,{label:"Shelf Number",name:"shelfNumber",value:i.shelfNumber,onChange:b,options:n,error:o.shelfNumber,required:!0,fullWidth:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex gap-2 relative w-full",children:[f.jsx(kt,{label:"Barcode",name:"barcode",value:i.barcode,onChange:b,placeholder:"Enter barcode",fullWidth:!0,style:{paddingRight:44}}),f.jsx("button",{type:"button",onClick:async()=>{if(i.barcode.trim()&&!p){v(null),g(!0);try{await O()}finally{g(!1)}}},className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:p,children:p?f.jsxs("svg",{className:"animate-spin text-blue-500",width:"18",height:"18",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):f.jsx(lu,{size:18,className:"text-blue-500"})})]}),m&&f.jsxs("div",{className:"text-red-500 text-sm",children:[m," Please enter details manually."]}),d&&f.jsx("div",{className:"flex items-center text-xs mt-1 text-green-600 dark:text-green-400 pl-1",children:d}),p&&f.jsxs("div",{className:"flex items-center gap-2 text-blue-500 text-sm",children:[f.jsxs("svg",{className:"w-4 h-4 animate-spin",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Fetching product info..."]})]}),f.jsx(kt,{label:"Quantity",name:"quantity",type:"number",value:i.quantity,onChange:b,placeholder:"Enter quantity",error:o.quantity,min:"1",required:!0,fullWidth:!0}),f.jsxs("div",{className:"flex items-center justify-end gap-4 pt-2",children:[f.jsx(tt,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(tt,{type:"submit",isLoading:r,icon:f.jsx(mi,{size:18}),children:"Quick Add"}),f.jsx(tt,{type:"button",onClick:D,variant:"primary",icon:f.jsx(lu,{size:18}),className:"whitespace-nowrap",children:"Scan"})]})]})]}),f.jsx(Eh,{isOpen:c,onClose:()=>u(!1),onBarcodeScanned:P})]})},oy=({isOpen:e,onClose:t,item:r})=>{var i,s;const{isDarkMode:n}=Zr(),{user:a}=ba();return r?f.jsx(on,{isOpen:e,onClose:t,title:r.name,size:"xl",children:f.jsxs("div",{className:"space-y-6",children:[f.jsx("div",{className:"flex flex-col md:flex-row gap-6",children:f.jsxs("div",{className:"w-full",children:[f.jsx("div",{className:"mb-4 flex items-center justify-between",children:f.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${r.quantity<10?"bg-red-100 text-red-800 ":r.quantity<=25?"bg-yellow-100 text-yellow-800 ":"bg-green-100 text-green-800 "}`,children:r.quantity<10?"Critical Low Stock":r.quantity<=25?"Low Stock":"In Stock"})}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Quantity"}),f.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.quantity})]}),Us(a)&&f.jsxs("div",{children:[f.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Price"}),f.jsx("p",{className:`mt-1 text-sm ${n?"text-slate-200":"text-slate-900"}`,children:Number(r.price)>0?`${Number(r.price).toFixed(2)}`:"Not set yet"})]}),f.jsxs("div",{children:[f.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Unit"}),f.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.unit||"-"})]}),f.jsxs("div",{children:[f.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Supplier"}),f.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:((i=r.supplier)==null?void 0:i.toUpperCase())||"-"})]}),f.jsxs("div",{children:[f.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Location"}),f.jsxs("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:[r.locationCode," - ",r.shelfNumber]})]}),f.jsxs("div",{children:[f.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"ASIN"}),f.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.asin?r.asin.includes(",")?r.asin.split(",").map((o,l)=>f.jsx("span",{className:"block",children:o.trim()},l)):r.asin:"-"})]}),f.jsxs("div",{children:[f.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Status"}),f.jsx("p",{className:"mt-1",children:f.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:r.status==="active"?"Active":"Pending"})})]}),f.jsxs("div",{children:[f.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Damaged Items"}),f.jsx("p",{className:"mt-1",children:f.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r.damagedItems>0?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:r.damagedItems>0?`${r.damagedItems} Damaged`:"None"})})]}),f.jsxs("div",{children:[f.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Fulfillment Type"}),f.jsx("p",{className:"mt-1",children:f.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r.fulfillmentType==="fba"?"bg-blue-100 text-blue-700":r.fulfillmentType==="mf"?"bg-purple-100 text-purple-700":"bg-indigo-100 text-indigo-700"}`,children:r.fulfillmentType==="fba"?"FBA":r.fulfillmentType==="mf"?"MF":"None"})})]}),f.jsxs("div",{children:[f.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Barcode"}),f.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.barcode||"-"})]}),f.jsxs("div",{children:[f.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Last Updated"}),f.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.lastUpdated&&!isNaN(new Date(r.lastUpdated).getTime())?Wt(new Date(r.lastUpdated),"MMM d, yyyy"):"Unknown"})]}),f.jsxs("div",{children:[f.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Store Name"}),f.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:((s=r.storeName)==null?void 0:s.toUpperCase())||"-"})]})]})]})}),f.jsxs("div",{className:`pt-3 border-t ${n?"border-slate-700":"border-slate-200"}`,children:[f.jsxs("div",{className:"flex justify-between items-center mb-2",children:[f.jsx("span",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-700"}`,children:"Stock Level"}),f.jsxs("span",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:[r.quantity," units"]})]}),f.jsxs("div",{className:`h-2 w-full ${n?"bg-slate-700":"bg-slate-200"} rounded-full overflow-hidden relative`,children:[f.jsx("div",{className:`h-full ${r.quantity<10?"bg-red-500":r.quantity<=25?"bg-orange-500":"bg-green-500"}`,style:{width:`${Math.min(r.quantity/50*100,100)}%`}}),f.jsx("div",{className:`absolute top-0 h-full w-0.5 ${n?"bg-red-400":"bg-red-600"}`,style:{left:`calc(${10/50*100}% - 1px)`},title:"Critical Threshold (10 units)"}),f.jsx("div",{className:`absolute top-0 h-full w-0.5 ${n?"bg-orange-400":"bg-orange-600"}`,style:{left:`calc(${25/50*100}% - 1px)`},title:"Low Stock Threshold (25 units)"})]}),f.jsxs("div",{className:`mt-1 flex justify-between text-xs ${n?"text-slate-400":"text-slate-500"}`,children:[f.jsx("span",{children:"0"}),f.jsx("span",{children:"Critical: <10"}),f.jsx("span",{children:"Low: 10-25"}),f.jsx("span",{children:"25+"})]})]})]})}):null},gh=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,isLoading:i=!1})=>{const{isDarkMode:s}=Zr();return f.jsx(on,{isOpen:e,onClose:t,title:n,size:"md",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center gap-3 text-amber-600",children:[f.jsx(Nv,{size:24}),f.jsx("p",{className:s?"text-slate-200":"text-slate-700",children:a})]}),f.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[f.jsx(tt,{variant:"secondary",onClick:t,disabled:i,className:s?"text-slate-100":"text-slate-700",children:"Cancel"}),f.jsx(tt,{variant:"danger",onClick:r,isLoading:i,children:"Delete"})]})]})})},eW=({isOpen:e,onClose:t,onConfirm:r,onCancel:n,onMerge:a,locationCode:i,shelfNumber:s,existingProducts:o,newProductName:l,newProductBarcode:c})=>{const u=o.filter(m=>m.quantity>0),d=u.length,h=u.reduce((m,v)=>m+v.quantity,0),p=c&&u.some(m=>m.barcode===c),g=p?u.find(m=>m.barcode===c):null;return f.jsx(on,{isOpen:e,onClose:t,title:"Location Already Occupied",size:"md",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx(Nv,{className:"w-6 h-6 text-amber-500 mt-1 flex-shrink-0"}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["The location ",f.jsxs("strong",{children:[i,"-",s]})," already contains products."]}),f.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-3",children:u.length>0?f.jsxs(f.Fragment,{children:[f.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-200 font-medium",children:"Current products in this location:"}),f.jsx("ul",{className:"mt-2 space-y-1",children:u.map((m,v)=>f.jsxs("li",{className:"text-sm text-amber-700 dark:text-amber-300",children:[" ",m.name," (",m.quantity," units)",m.barcode&&f.jsxs("span",{className:"text-xs text-amber-600 dark:text-amber-400 ml-2",children:["Barcode: ",m.barcode]})]},v))}),f.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-200 mt-2",children:["Total: ",d," product",d!==1?"s":""," (",h," units)"]})]}):f.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-200 font-medium",children:"This location appears to be empty (all products have 0 quantity)."})}),p&&g&&f.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:[f.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200 font-medium",children:"Merge Available!"}),f.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1",children:['The product "',l,'" has the same barcode (',c,') as "',g.name,'" which is already in this location. You can merge them to add quantity instead of creating a duplicate entry.']})]}),f.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Do you still want to add ",f.jsx("strong",{children:l})," to this location?"]})]})]}),f.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[f.jsx(tt,{variant:"secondary",onClick:n,children:"Cancel"}),p&&a&&f.jsx(tt,{onClick:a,className:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500",children:"Merge Products"}),f.jsx(tt,{onClick:r,className:"bg-amber-600 hover:bg-amber-700 focus:ring-amber-500",children:"Yes, Add Product"})]})]})})},Xye=({isOpen:e,onClose:t,productName:r,barcode:n,existingLocations:a})=>{const{isDarkMode:i}=Zr();return f.jsx(on,{isOpen:e,onClose:t,title:"Product Location Information",size:"lg",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:`${i?"bg-blue-900/20 border-blue-800":"bg-blue-50 border-blue-200"} border rounded-lg p-4`,children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx(Mo,{className:`w-5 h-5 ${i?"text-blue-400":"text-blue-600"}`}),f.jsx("h3",{className:`font-semibold ${i?"text-blue-200":"text-blue-900"}`,children:"Product Details"})]}),f.jsxs("div",{className:`text-sm ${i?"text-blue-300":"text-blue-800"}`,children:[f.jsxs("p",{children:[f.jsx("strong",{children:"Name:"})," ",r]}),f.jsxs("p",{children:[f.jsx("strong",{children:"Barcode:"})," ",n]})]})]}),f.jsxs("div",{className:`${i?"bg-green-900/20 border-green-800":"bg-green-50 border-green-200"} border rounded-lg p-4`,children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[f.jsx(wE,{className:`w-5 h-5 ${i?"text-green-400":"text-green-600"}`}),f.jsxs("h3",{className:`font-semibold ${i?"text-green-200":"text-green-900"}`,children:["Current Locations (",a.length,")"]})]}),a.length>0?f.jsx("div",{className:"space-y-2",children:a.map((s,o)=>f.jsx("div",{className:`${i?"bg-slate-700 border-slate-600":"bg-white border-slate-200"} rounded-lg p-3 border`,children:f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("p",{className:`font-medium ${i?"text-slate-100":"text-slate-900"}`,children:[s.locationCode," - ",s.shelfNumber]}),f.jsxs("p",{className:`text-sm font-semibold ${i?"text-slate-200":"text-slate-700"}`,children:[s.quantity," units"]})]})},o))}):f.jsx("p",{className:`text-sm ${i?"text-green-300":"text-green-700"}`,children:"This product is not currently in any location."})]}),f.jsx("div",{className:"flex justify-end pt-4",children:f.jsx(tt,{variant:"secondary",onClick:t,className:i?"text-slate-100":"text-slate-700",children:"Close"})})]})})};function Qye(e,t,r,n){const a=e,i=`${r}-${n}`,s=`${r} - ${n}`,o=`from location ${r} shelf ${n}`,l=`at location ${i}`,c=`from location ${i}`,u=a.includes(`"${t}"`),d=a.includes(o)||a.includes(l)||a.includes(c)||a.includes(i)||a.includes(s)||a.includes(r)&&a.includes(n);return u&&d}function Jye(e){const t=e.toLowerCase();return t.includes("added new product")||t.includes("merged ")||t.includes("restored to inventory")?{label:"Addition",variant:"addition"}:t.includes("units deducted from stock")||t.includes("deleted product")||t.includes("deducted from inventory")||t.includes("bulk deleted")?{label:"Deduction",variant:"deduction"}:t.includes("edited product")||t.includes("quantity from")||t.includes("quantity to")?{label:"Edit",variant:"edit"}:t.includes("moved ")&&t.includes(" unit")?{label:"Move",variant:"move"}:{label:"Other",variant:"other"}}const Zye=({isOpen:e,onClose:t,productName:r,locationCode:n,shelfNumber:a})=>{const{isDarkMode:i}=Zr(),[s,o]=F.useState([]),[l,c]=F.useState(!1),[u,d]=F.useState(null),h=F.useCallback(async()=>{if(!(!r||!n||!a)){c(!0),d(null);try{const p=ir(vt(Xe,"activityLogs"),ja("time","desc"),Bd(500)),v=(await sr(p)).docs.map(y=>({id:y.id,...y.data()})).filter(y=>Qye(y.detail,r,n,a));o(v)}catch(p){console.error("Error fetching product location history:",p),d("Failed to load history."),o([])}finally{c(!1)}}},[r,n,a]);return F.useEffect(()=>{e&&h()},[e,h]),f.jsx(on,{isOpen:e,onClose:t,title:`History: ${r} at ${n}-${a}`,size:"xl",children:f.jsx("div",{className:"space-y-4",children:l?f.jsx("div",{className:"flex items-center justify-center py-12",children:f.jsx(es,{className:`w-8 h-8 animate-spin ${i?"text-blue-400":"text-blue-600"}`})}):u?f.jsx("p",{className:`text-center py-8 ${i?"text-red-400":"text-red-600"}`,children:u}):s.length===0?f.jsx("p",{className:`text-center py-8 ${i?"text-slate-400":"text-slate-500"}`,children:"No history found for this product at this location."}):f.jsx("div",{className:"max-h-[60vh] overflow-y-auto space-y-3 pr-2",children:s.map(p=>{const g=Jye(p.detail),m=g.variant==="addition"?"bg-green-100 text-green-800 dark:bg-green-900/40 dark:text-green-300":g.variant==="deduction"?"bg-red-100 text-red-800 dark:bg-red-900/40 dark:text-red-300":g.variant==="edit"?"bg-blue-100 text-blue-800 dark:bg-blue-900/40 dark:text-blue-300":g.variant==="move"?"bg-amber-100 text-amber-800 dark:bg-amber-900/40 dark:text-amber-300":"bg-slate-100 text-slate-800 dark:bg-slate-700 dark:text-slate-300";return f.jsxs("div",{className:`rounded-lg border p-3 ${i?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[f.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[f.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${m}`,children:g.label}),f.jsxs("span",{className:`text-xs ${i?"text-slate-400":"text-slate-500"}`,children:[p.user," (",p.role,")"]}),f.jsx("span",{className:`text-xs ${i?"text-slate-400":"text-slate-500"}`,children:Wt(new Date(p.time),"MMM d, yyyy h:mm a")})]}),f.jsx("p",{className:`text-sm ${i?"text-slate-200":"text-slate-800"}`,children:p.detail})]},p.id)})})})})},exe=()=>{var ve,Ae;const[e,t]=F.useState(""),[r,n]=F.useState(""),[a,i]=F.useState("name"),[s,o]=F.useState(!1),[l,c]=F.useState("date"),[u,d]=F.useState(!1),[h,p]=F.useState(!1),[g,m]=F.useState(!1),[v,y]=F.useState(!1),[w,b]=F.useState(!1),[D,P]=F.useState(null),[O,T]=F.useState([]),[S,_]=F.useState(new Set),[j,N]=F.useState(!1),{showToast:E}=mc(),{isDarkMode:k}=Zr(),{user:U}=ba(),[G,z]=F.useState(!1),[X,V]=F.useState(null),[H,re]=F.useState(!1),[ee,I]=F.useState(!1),[M,q]=F.useState(null),[K,J]=F.useState(null),[se,he]=F.useState(null),[ie,ge]=F.useState(!1),[xe,W]=F.useState("all"),[Pe,Ce]=F.useState(!1),[Te,ce]=F.useState({min:null,max:null}),[Fe,Ge]=F.useState(!1),[Le,Ye]=F.useState(null),[_e,$e]=F.useState(!1),[Ne,Ie]=F.useState(null),[We,it]=F.useState(null),ht=F.useRef(0),xt=F.useRef(!1),St=F.useRef(null),mt=F.useRef(null),ut=F.useRef(!1);F.useEffect(()=>{const Z=setTimeout(()=>{n(e)},300);return()=>{clearTimeout(Z)}},[e]);const Xt=F.useCallback(async()=>{b(!0);try{const Z=ir(vt(Xe,"inventory"),ja("name")),ke=(await sr(Z)).docs.map(je=>{const Be=je.data();return{id:je.id,...Be,lastUpdated:Be.lastUpdated instanceof nr?Be.lastUpdated.toDate():new Date(Be.lastUpdated)}});T(ke)}catch(Z){E("Failed to fetch stock items","error"),console.log(Z)}finally{b(!1)}},[E]),Kt=F.useCallback(async()=>{try{const Z=vt(Xe,"inventory"),be=await dk(Z);Ye(be.data().count)}catch{Ye(null)}},[]);F.useEffect(()=>{Xt(),Kt()},[Xt,Kt]),F.useEffect(()=>{if(xt.current&&!h&&!w&&!G){mt.current&&clearTimeout(mt.current);const Z=()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{const be=setTimeout(()=>{const ke=ht.current;window.scrollTo({top:ke,behavior:"auto"}),ut.current=!0,mt.current=null},50);mt.current=be})})};return mt.current=setTimeout(Z,150),()=>{mt.current&&(clearTimeout(mt.current),mt.current=null)}}},[O,h,w,G]);const jr=F.useRef(null);F.useEffect(()=>(jr.current&&(clearTimeout(jr.current),jr.current=null),xt.current?xt.current&&!h&&!w&&!G&&(jr.current=setTimeout(()=>{xt.current=!1,ut.current=!1,St.current=null,mt.current=null,jr.current=null},3e3)):(ut.current=!1,St.current=null),()=>{jr.current&&(clearTimeout(jr.current),jr.current=null)}),[O,h,w,G]),F.useEffect(()=>{const Z=be=>{const ke=be.target;ke.closest(".store-filter-dropdown")||ge(!1),ke.closest(".status-filter-dropdown")||Ce(!1),ke.closest(".search-type-dropdown")||o(!1),ke.closest(".quantity-filter-dropdown")||Ge(!1)};return(ie||Pe||s||Fe)&&document.addEventListener("mousedown",Z),()=>{document.removeEventListener("mousedown",Z)}},[ie,Pe,s,Fe]);const _r=F.useMemo(()=>{const Z=[{value:"date",label:"Date Updated"},{value:"quantity",label:"Quantity (High-Low)"},{value:"name",label:"Name (A-Z)"}];return Us(U)&&Z.push({value:"price",label:"Price (High-Low)"}),Z},[U]),Dr=F.useMemo(()=>["supply & serve","APHY","AZTEC","ZK","Fahiz"],[]),De=F.useCallback(Z=>({"supply & serve":"bg-blue-100 text-blue-700",APHY:"bg-green-100 text-green-700",AZTEC:"bg-purple-100 text-purple-700",ZK:"bg-orange-100 text-orange-700",Fahiz:"bg-pink-100 text-pink-700"})[Z]||"bg-gray-100 text-gray-700",[]),rt=F.useMemo(()=>{const Z=r.toLowerCase();return O.filter(be=>{if(be.quantity===0)return!1;let ke=!0;if(r!=="")switch(a){case"name":ke=be.name.toLowerCase().includes(Z);break;case"barcode":ke=!!(be.barcode&&be.barcode.toLowerCase().includes(Z));break;case"asin":ke=!!(be.asin&&be.asin.split(",").some(ot=>ot.trim().toLowerCase().includes(Z)));break;case"location":ke=`${be.locationCode}-${be.shelfNumber}`.toLowerCase().includes(Z);break;default:ke=!0}const je=se?se.fulfillmentType==="all"?se.storeName==="other"?!Dr.includes(be.storeName):be.storeName===se.storeName:se.storeName==="other"?!Dr.includes(be.storeName)&&be.fulfillmentType===se.fulfillmentType:be.storeName===se.storeName&&be.fulfillmentType===se.fulfillmentType:!0,Be=xe==="all"||be.status===xe,Ke=!Te.min&&!Te.max?!0:(!Te.min||be.quantity>=Te.min)&&(!Te.max||be.quantity<=Te.max);return ke&&je&&Be&&Ke}).sort((be,ke)=>l==="name"?be.name.localeCompare(ke.name):l==="quantity"?ke.quantity-be.quantity:l==="price"?ke.price-be.price:l==="date"?new Date(ke.lastUpdated).getTime()-new Date(be.lastUpdated).getTime():0)},[O,r,a,se,xe,Te,l,Dr]),nt=F.useCallback((Z,be)=>O.filter(ke=>ke.locationCode===Z&&ke.shelfNumber===be),[O]),st=F.useCallback(Z=>O.filter(be=>be.barcode===Z&&be.quantity>0),[O]),Ct=F.useCallback((Z,be)=>{const ke=st(be);ke.length>0&&(Ie({productName:Z,barcode:be,existingLocations:ke}),$e(!0))},[st]),Ut=F.useCallback(async Z=>{b(!0);try{const be=[];for(const ke of Z)if(ke.barcode){const je=ir(vt(Xe,"inventory"),lr("barcode","==",ke.barcode),lr("quantity","==",0)),Be=await sr(je);if(!Be.empty){const Ke=Be.docs[0];if(await xs(ur(Xe,"inventory",Ke.id)),T(ot=>ot.filter(Tt=>Tt.id!==Ke.id)),U){const ot=Ke.data();await hr(vt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`deleted hidden product "${ot.name}" with barcode ${ke.barcode} from location ${ot.locationCode}-${ot.shelfNumber}`,time:new Date().toISOString()})}}}for(const ke of Z){const je=await hr(vt(Xe,"inventory"),{...ke,lastUpdated:nr.fromDate(new Date)});be.push({...ke,id:je.id,lastUpdated:new Date})}if(U){const ke=Z.reduce((Be,Ke)=>Be+Ke.quantity,0),je=Z.map(Be=>`${Be.quantity} at ${Be.locationCode}-${Be.shelfNumber}`).join(", ");await hr(vt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`added new product "${Z[0].name}" with total quantity ${ke} (${je})`,time:new Date().toISOString()})}T(ke=>[...ke,...be]),d(!1),re(!1),E("Stock items added successfully","success")}catch(be){console.log(be),E("Failed to add stock items","error")}finally{b(!1)}},[U,E]),Pt=F.useCallback(async Z=>{const be=[];for(const ke of Z){const je=nt(ke.locationCode,ke.shelfNumber);je.length>0&&be.push({locationCode:ke.locationCode,shelfNumber:ke.shelfNumber,products:je})}if(be.length>0){const ke=be[0];J({locationCode:ke.locationCode,shelfNumber:ke.shelfNumber,existingProducts:ke.products,newProductName:Z[0].name,newProductBarcode:Z[0].barcode||void 0}),q(Z),I(!0);return}await Ut(Z)},[nt,Ut]),Dt=F.useCallback(async()=>{M&&(await Ut(M),I(!1),q(null),J(null),d(!1),re(!1))},[M,Ut]),Vt=F.useCallback(()=>{I(!1),q(null),J(null),d(!1),re(!1)},[]),xr=F.useCallback(async()=>{if(M&&K)try{b(!0);const Z=K.existingProducts.find(be=>be.barcode===K.newProductBarcode);if(Z){const be=Z.quantity+M[0].quantity,ke=ur(Xe,"inventory",Z.id);await On(ke,{quantity:be,lastUpdated:nr.fromDate(new Date)}),U&&(await hr(vt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`merged ${M[0].quantity} units of "${M[0].name}" with existing stock "${Z.name}" at location ${K.locationCode}-${K.shelfNumber}`,time:new Date().toISOString()}),await hr(vt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`edited product "${Z.name}": quantity from ${Z.quantity} to ${be}`,time:new Date().toISOString()})),await Xt(),E("Products merged successfully","success")}}catch(Z){E("Failed to merge products","error"),console.log(Z)}finally{b(!1),I(!1),q(null),J(null),d(!1),re(!1)}},[M,K,U,Xt,E]),or=F.useCallback(async(Z,be)=>{b(!0);try{const ke=new Date,je={},Be=[];if(Z.name!==be.name&&(je.name=Z.name,Be.push(`name from "${be.name}" to "${Z.name}"`)),Z.price!==be.price){je.price=Z.price;const ot=Number(be.price||0).toFixed(2),Tt=Number(Z.price||0).toFixed(2);Be.push(`price from ${ot} to ${Tt}`)}(Z.locationCode!==be.locationCode||Z.shelfNumber!==be.shelfNumber)&&(je.locationCode=Z.locationCode,je.shelfNumber=Z.shelfNumber,Be.push(`location from ${be.locationCode}-${be.shelfNumber} to ${Z.locationCode}-${Z.shelfNumber}`)),Z.supplier!==be.supplier&&(je.supplier=Z.supplier,Be.push(`supplier from "${be.supplier||"none"}" to "${Z.supplier||"none"}"`)),Z.asin!==be.asin&&(je.asin=Z.asin,Be.push(`ASIN from "${be.asin||"none"}" to "${Z.asin||"none"}"`)),Z.status!==be.status&&(je.status=Z.status,Be.push(`status from "${be.status}" to "${Z.status}"`)),Z.damagedItems!==be.damagedItems&&(je.damagedItems=Z.damagedItems,Be.push(`damaged items from ${be.damagedItems} to ${Z.damagedItems}`)),Z.fulfillmentType!==be.fulfillmentType&&(je.fulfillmentType=Z.fulfillmentType,Be.push(`fulfillment type from "${be.fulfillmentType.toUpperCase()}" to "${Z.fulfillmentType.toUpperCase()}"`)),Z.storeName!==be.storeName&&(je.storeName=Z.storeName,Be.push(`store name from "${be.storeName}" to "${Z.storeName}"`)),Z.unit!==be.unit&&(je.unit=Z.unit,Be.push(`unit from "${be.unit||"none"}" to "${Z.unit||"none"}"`)),Z.barcode!==be.barcode&&(je.barcode=Z.barcode,Be.push(`barcode from "${be.barcode||"none"}" to "${Z.barcode||"none"}"`));const Ke=Z.quantity!==be.quantity;if(Object.keys(je).length>0){const ot=ur(Xe,"inventory",Z.id);await On(ot,{...je,lastUpdated:nr.fromDate(ke)}),U&&Be.length>0&&await hr(vt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`edited product "${Z.name}": ${Be.join(", ")}`,time:ke.toISOString()})}if(Ke)if(Z.quantity>be.quantity)V({itemId:Z.id,newQuantity:Z.quantity}),z(!0),p(!1),Object.keys(je).length>0&&T(ot=>ot.map(Tt=>Tt.id===Z.id?{...Tt,...je,lastUpdated:ke}:Tt));else{const ot=ur(Xe,"inventory",Z.id);await On(ot,{...je,quantity:Z.quantity,lastUpdated:nr.fromDate(ke)}),U&&await hr(vt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`edited product "${Z.name}": quantity from ${be.quantity} to ${Z.quantity}`,time:ke.toISOString()}),T(Tt=>Tt.map(Mt=>Mt.id===Z.id?{...Mt,...je,quantity:Z.quantity,lastUpdated:ke}:Mt)),await Xt(),E("Stock quantity updated","success"),p(!1),P(null)}else Object.keys(je).length>0&&(T(ot=>ot.map(Tt=>Tt.id===Z.id?{...Tt,...je,lastUpdated:ke}:Tt)),E("Stock details updated successfully","success")),p(!1),P(null)}catch(ke){E("Failed to update stock item","error"),console.log(ke)}finally{b(!1)}},[U,E,Xt]),Tr=F.useCallback(async()=>{if(X){b(!0);try{const{itemId:Z,newQuantity:be}=X,ke=new Date,je=O.find(Ke=>Ke.id===Z);if(!je){E("Item not found","error"),z(!1),V(null),b(!1);return}const Be=ur(Xe,"inventory",Z);await On(Be,{quantity:be,lastUpdated:nr.fromDate(ke)}),U&&await hr(vt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`edited product "${je.name}": quantity from ${je.quantity} to ${be}`,time:ke.toISOString()}),T(Ke=>Ke.map(ot=>ot.id===Z?{...ot,quantity:be,lastUpdated:ke}:ot)),await Xt(),E("Stock quantity updated successfully","success"),P(null)}catch(Z){E("Failed to update quantity","error"),console.log(Z)}finally{b(!1),z(!1),V(null)}}},[X,O,U,E,Xt]),mr=F.useCallback(async Z=>{b(!0);try{const be=O.find(ke=>ke.id===Z);await xs(ur(Xe,"inventory",Z)),U&&be&&await hr(vt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`deleted product "${be.name}" (${be.quantity} units) from location ${be.locationCode}-${be.shelfNumber}`,time:new Date().toISOString()}),T(O.filter(ke=>ke.id!==Z)),m(!1),P(null),E("Stock item deleted successfully","success")}catch(be){E("Failed to delete stock item","error"),console.log(be)}finally{b(!1)}},[O,U,E]),zt=F.useCallback(Z=>{P(Z)},[]),da=F.useCallback((Z,be)=>{Z.stopPropagation(),ht.current=window.pageYOffset||document.documentElement.scrollTop,St.current=be.id,xt.current=!0,ut.current=!1,P(be),p(!0)},[]),Bn=F.useCallback((Z,be)=>{Z.stopPropagation(),P(be),m(!0)},[]),Br=F.useCallback(()=>{S.size===rt.length?_(new Set):_(new Set(rt.map(Z=>Z.id)))},[rt,S.size]),An=F.useCallback(Z=>{const be=new Set(S);be.has(Z)?be.delete(Z):be.add(Z),_(be)},[S]),gn=F.useCallback(async()=>{if(S.size!==0){b(!0);try{const Z=O.filter(ke=>S.has(ke.id)),be=Array.from(S).map(ke=>xs(ur(Xe,"inventory",ke)));if(await Promise.all(be),U){const ke=Z.map(je=>`"${je.name}" (${je.quantity} units) from ${je.locationCode}-${je.shelfNumber}`).join(", ");await hr(vt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`Bulk deleted ${S.size} products: ${ke}`,time:new Date().toISOString()})}T(O.filter(ke=>!S.has(ke.id))),_(new Set),N(!1),y(!1),E(`Successfully deleted ${S.size} items`,"success")}catch(Z){E("Failed to delete selected items","error"),console.log(Z)}finally{b(!1)}}},[S,O,U,E]),oe=F.useCallback(async()=>{if(S.size!==0){b(!0);try{const Z=O.filter(ke=>S.has(ke.id)&&ke.status==="pending");if(Z.length===0){E("No pending items selected to activate","error");return}const be=Z.map(ke=>On(ur(Xe,"inventory",ke.id),{status:"active",lastUpdated:nr.fromDate(new Date)}));if(await Promise.all(be),U){const ke=Z.map(je=>`"${je.name}" from ${je.locationCode}-${je.shelfNumber}`).join(", ");await hr(vt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`Bulk activated ${Z.length} pending products: ${ke}`,time:new Date().toISOString()})}T(O.map(ke=>S.has(ke.id)&&ke.status==="pending"?{...ke,status:"active",lastUpdated:new Date}:ke)),_(new Set),N(!1),E(`Successfully activated ${Z.length} items`,"success")}catch(Z){E("Failed to activate selected items","error"),console.log(Z)}finally{b(!1)}}},[S,O,U,E]),ye=F.useCallback(()=>{N(!j),j||_(new Set)},[j]),me=F.useCallback(({item:Z})=>{var be;return f.jsxs("tr",{className:`hover:${k?"bg-slate-700/50":"bg-slate-50"} cursor-pointer`,onClick:()=>zt(Z),children:[j&&f.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"}`,onClick:ke=>ke.stopPropagation(),children:f.jsx("input",{type:"checkbox",checked:S.has(Z.id),onChange:()=>An(Z.id),className:`h-4 w-4 text-blue-600 rounded ${k?"border-slate-600 bg-slate-700":"border-slate-300"} focus:ring-blue-500`})}),f.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-blue-400":"text-blue-700"} font-medium`,children:Z.name}),f.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"}`,children:Z.unit||"-"}),f.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"}`,children:f.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Z.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:Z.status==="active"?"Active":"Pending"})}),f.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"}`,children:Z.storeName&&Z.storeName!=="not set"?f.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full whitespace-nowrap ${De(Z.storeName)}`,children:(be=Z.storeName)==null?void 0:be.toUpperCase()}):f.jsx("span",{className:"text-slate-400",children:"-"})}),f.jsxs("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"}`,children:[Z.locationCode," - ",Z.shelfNumber]}),f.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"}`,children:Z.asin?Z.asin.split(",").length>3?Z.asin.split(",").slice(0,3).map(ke=>ke.trim()).join(", ")+"...":Z.asin.split(",").map(ke=>ke.trim()).join(", "):"-"}),(U==null?void 0:U.role)==="admin"&&f.jsxs(f.Fragment,{children:[f.jsx("td",{className:`px-4 py-3 text-right text-sm ${k?"text-slate-200":"text-slate-900"}`,children:Number(Z.price)>0?`${Number(Z.price).toFixed(2)}`:"(Not set)"}),f.jsx("td",{className:`px-4 py-3 text-right text-sm ${k?"text-slate-200":"text-slate-900"}`,children:Number(Z.quantity*Z.price)>0?`${Number(Z.quantity*Z.price).toFixed(2)}`:"(Not set)"})]}),f.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"} text-right`,children:f.jsxs("div",{className:"flex items-center justify-end gap-2",children:[Z.quantity<=10&&f.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-red-100 text-red-700 text-center",children:"Critical Low"}),Z.quantity>10&&Z.quantity<=25&&f.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-yellow-100 text-yellow-700 text-center",children:"Low Stock"}),f.jsx("span",{children:Z.quantity})]})}),f.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"}`,children:Wt(new Date(Z.lastUpdated),"MMM d, yyyy")}),f.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"} text-right`,children:f.jsxs("div",{className:"flex items-center justify-end gap-2",children:[f.jsx("button",{onClick:ke=>{ke.stopPropagation(),it({productName:Z.name,locationCode:Z.locationCode,shelfNumber:Z.shelfNumber})},className:`p-1 ${k?"text-slate-400 hover:text-slate-300":"text-slate-600 hover:text-slate-700"} transition-colors`,title:"View location history",children:f.jsx(Tj,{size:16})}),f.jsx("button",{onClick:ke=>da(ke,Z),className:`p-1 ${k?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,children:f.jsx(bs,{size:16})}),f.jsx("button",{onClick:ke=>Bn(ke,Z),className:`p-1 ${k?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,children:f.jsx(ki,{size:16})})]})})]},Z.id)},[j,S,k,U,zt,An,da,Bn,De]);return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between py-4",children:[f.jsx("h1",{className:`text-2xl font-bold ${k?"text-white":"text-gray-900"}`,children:"Inbound"}),f.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${k?"bg-slate-800 text-blue-300":"bg-blue-100 text-blue-700"}`,children:["Total Products: ",Le!==null?Le:f.jsx("span",{className:"animate-pulse",children:"..."})]})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-4",children:[f.jsx("div",{children:f.jsx("p",{className:`${k?"text-slate-400":"text-slate-500"} mt-1`,children:"Manage your inbound stock, track quantities, and monitor product status"})}),f.jsx("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:j?f.jsxs(f.Fragment,{children:[xe==="pending"&&f.jsxs(tt,{onClick:oe,variant:"primary",className:"flex items-center gap-2 w-full sm:w-auto",disabled:w||S.size===0,children:[f.jsx(y9,{size:16}),"Go Live (",S.size,")"]}),f.jsxs(tt,{onClick:()=>y(!0),variant:"danger",className:"flex items-center gap-2 w-full sm:w-auto",disabled:w||S.size===0,children:[f.jsx(ki,{size:16}),"Delete Selected (",S.size,")"]}),f.jsx(tt,{onClick:ye,variant:"secondary",className:"flex items-center gap-2 w-full sm:w-auto",children:"Cancel"})]}):f.jsxs(f.Fragment,{children:[f.jsxs(tt,{onClick:ye,variant:"secondary",className:"flex items-center gap-2 w-full sm:w-auto",children:[f.jsx(r2,{size:16}),"Select Items"]}),f.jsxs(tt,{variant:"secondary",onClick:()=>re(!0),className:"flex items-center gap-2 w-full sm:w-auto",children:[f.jsx(mi,{size:16}),"Quick Add"]}),f.jsxs(tt,{variant:"primary",onClick:()=>d(!0),className:"flex items-center gap-2 w-full sm:w-auto",children:[f.jsx(mi,{size:16}),"Add New Stock"]})]})})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[f.jsx("div",{className:"flex-1",children:f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("div",{className:"relative flex-1",children:[f.jsx(Ol,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),f.jsx(kt,{type:"text",placeholder:`Search by ${a}...`,value:e,onChange:Z=>t(Z.target.value),className:"pl-10"})]}),f.jsxs("div",{className:"relative search-type-dropdown",children:[f.jsxs(tt,{variant:"secondary",onClick:()=>o(!s),className:`flex items-center gap-2 ${a!=="name"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[a==="name"?"Name":a==="barcode"?"Barcode":a==="asin"?"ASIN":"Location",f.jsx(Sl,{size:16})]}),s&&f.jsx("div",{className:`absolute top-full left-0 mt-1 w-32 z-50 rounded-lg border ${k?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:f.jsxs("div",{className:"p-2",children:[f.jsx("div",{className:`text-sm font-medium mb-2 ${k?"text-slate-200":"text-slate-700"}`,children:"Search by"}),[{value:"name",label:"Name"},{value:"barcode",label:"Barcode"},{value:"asin",label:"ASIN"},{value:"location",label:"Location"}].map(Z=>f.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${k?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${a===Z.value?k?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{i(Z.value),t(""),o(!1)},children:Z.label},Z.value))]})})]})]})}),f.jsx("div",{className:"w-full sm:w-48",children:f.jsx(Qr,{value:l,onChange:Z=>c(Z.target.value),options:_r})}),f.jsxs("div",{className:"flex flex-row gap-2",children:[f.jsxs("div",{className:"relative status-filter-dropdown",children:[f.jsxs(tt,{variant:"secondary",onClick:()=>Ce(!Pe),className:`flex items-center gap-2 ${xe!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[xe==="all"?"Status Filter":xe==="active"?"Active":"Pending",f.jsx(Sl,{size:16})]}),Pe&&f.jsx("div",{className:`absolute top-full left-0 mt-1 w-32 z-50 rounded-lg border ${k?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:f.jsxs("div",{className:"p-2",children:[f.jsx("div",{className:`text-sm font-medium mb-2 ${k?"text-slate-200":"text-slate-700"}`,children:"Filter by Status"}),f.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${k?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${xe==="all"?k?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{W("all"),Ce(!1)},children:"All"}),f.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${k?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${xe==="active"?k?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{W("active"),Ce(!1)},children:"Active"}),f.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${k?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${xe==="pending"?k?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{W("pending"),Ce(!1)},children:"Pending"}),f.jsx("div",{className:`border-t ${k?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:f.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${k?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{W("all"),Ce(!1)},children:"Clear Filter"})})]})})]}),f.jsxs("div",{className:"relative store-filter-dropdown",children:[f.jsxs(tt,{variant:"secondary",onClick:()=>ge(!ie),className:`flex items-center gap-2 ${se?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[se?`${se.storeName==="other"?"OTHER":(ve=se.storeName)==null?void 0:ve.toUpperCase()}${se.fulfillmentType!=="all"?` - ${se.fulfillmentType.toUpperCase()}`:""}`:"Store Filter",f.jsx(Sl,{size:16})]}),ie&&f.jsx("div",{className:`absolute top-full left-0 mt-1 w-64 z-50 rounded-lg border ${k?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:f.jsxs("div",{className:"p-2",children:[f.jsx("div",{className:`text-sm font-medium mb-2 ${k?"text-slate-200":"text-slate-700"}`,children:"Filter by Store"}),["supply & serve","APHY","AZTEC","ZK","Fahiz","other"].map(Z=>f.jsx("div",{children:f.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${k?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(se==null?void 0:se.storeName)===Z?k?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{he({storeName:Z,fulfillmentType:"all"}),ge(!1)},children:Z.toUpperCase()})},Z)),f.jsx("div",{className:`border-t ${k?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:f.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${k?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{he(null),ge(!1)},children:"Clear Filter"})})]})})]}),f.jsxs("div",{className:"relative quantity-filter-dropdown",children:[f.jsxs(tt,{variant:"secondary",onClick:()=>Ge(!Fe),className:`flex items-center gap-2 ${Te.min!==null||Te.max!==null?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[Te.min!==null||Te.max!==null?`Qty: ${Te.min||0}-${Te.max||""}`:"Quantity Filter",f.jsx(Sl,{size:16})]}),Fe&&f.jsx("div",{className:`absolute top-full left-0 mt-1 w-64 z-50 rounded-lg border ${k?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:f.jsxs("div",{className:"p-4",children:[f.jsx("div",{className:`text-sm font-medium mb-3 ${k?"text-slate-200":"text-slate-700"}`,children:"Filter by Quantity Range"}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:`block text-xs font-medium mb-1 ${k?"text-slate-300":"text-slate-600"}`,children:"Minimum Quantity"}),f.jsx(kt,{type:"number",placeholder:"Min quantity",value:Te.min||"",onChange:Z=>ce(be=>({...be,min:Z.target.value?parseInt(Z.target.value):null})),className:"w-full",min:"0"})]}),f.jsxs("div",{children:[f.jsx("label",{className:`block text-xs font-medium mb-1 ${k?"text-slate-300":"text-slate-600"}`,children:"Maximum Quantity"}),f.jsx(kt,{type:"number",placeholder:"Max quantity",value:Te.max||"",onChange:Z=>ce(be=>({...be,max:Z.target.value?parseInt(Z.target.value):null})),className:"w-full",min:"0"})]})]}),f.jsxs("div",{className:"flex gap-2 mt-4",children:[f.jsx(tt,{variant:"secondary",size:"sm",onClick:()=>{ce({min:null,max:null}),Ge(!1)},className:"flex-1",children:"Clear"}),f.jsx(tt,{variant:"primary",size:"sm",onClick:()=>Ge(!1),className:"flex-1",children:"Apply"})]})]})})]})]}),f.jsx(tt,{variant:"secondary",onClick:Xt,className:`flex items-center gap-2 ${w?"opacity-50 cursor-not-allowed":""}`,disabled:w,children:f.jsx(Ua,{size:16,className:w?"animate-spin":""})})]}),(r||se||xe!=="all"||Te.min!==null||Te.max!==null)&&f.jsx("div",{className:`px-4 py-2 rounded-lg ${k?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border`,children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:`w-2 h-2 rounded-full ${k?"bg-blue-400":"bg-blue-600"}`}),f.jsxs("span",{className:`text-sm font-medium ${k?"text-slate-300":"text-slate-700"}`,children:[rt.length," product",rt.length!==1?"s":""," found"]}),rt.length!==O.length&&f.jsxs("span",{className:`text-xs ${k?"text-slate-400":"text-slate-500"}`,children:["(filtered from ",O.length," total)"]})]}),f.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r&&f.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${k?"bg-blue-900 text-blue-300":"bg-blue-100 text-blue-700"}`,children:['Search: "',r,'"']}),se&&f.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${k?"bg-green-900 text-green-300":"bg-green-100 text-green-700"}`,children:["Store: ",se.storeName==="other"?"OTHER":(Ae=se.storeName)==null?void 0:Ae.toUpperCase()]}),xe!=="all"&&f.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${k?"bg-yellow-900 text-yellow-300":"bg-yellow-100 text-yellow-700"}`,children:["Status: ",xe==="active"?"Active":"Pending"]}),(Te.min!==null||Te.max!==null)&&f.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${k?"bg-purple-900 text-purple-300":"bg-purple-100 text-purple-700"}`,children:["Qty: ",Te.min||0,"-",Te.max||""]}),f.jsx("button",{onClick:()=>{t(""),he(null),W("all"),ce({min:null,max:null})},className:`px-2 py-1 text-xs font-medium rounded transition-colors ${k?"text-red-400 hover:text-red-300 hover:bg-red-900/20":"text-red-600 hover:text-red-700 hover:bg-red-50"}`,children:"Clear All"})]})]})}),w?f.jsx("div",{className:`text-center py-12 ${k?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:f.jsxs("div",{className:"flex flex-col items-center gap-4",children:[f.jsx(es,{className:`w-8 h-8 ${k?"text-blue-400":"text-blue-600"} animate-spin`}),f.jsx("p",{className:k?"text-slate-400":"text-slate-600",children:"Loading stock items..."})]})}):rt.length>0?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"hidden md:block overflow-x-auto overflow-y-hidden",children:f.jsxs("table",{className:`min-w-full divide-y ${k?"divide-slate-700":"divide-slate-200"} ${k?"bg-slate-800":"bg-white"} rounded-lg border ${k?"border-slate-700":"border-slate-200"}`,children:[f.jsx("thead",{className:k?"bg-slate-700/50":"bg-slate-100",children:f.jsxs("tr",{children:[j&&f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("input",{type:"checkbox",checked:S.size===rt.length,onChange:Br,className:`h-4 w-4 text-blue-600 rounded ${k?"border-slate-600 bg-slate-700":"border-slate-300"} focus:ring-blue-500`}),f.jsx("span",{children:"Select"})]})}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Unit"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Status"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Store"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),(U==null?void 0:U.role)==="admin"&&f.jsxs(f.Fragment,{children:[f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Price"}),f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Total Price"})]}),f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Quantity"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Last Updated"}),f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),f.jsx("tbody",{className:`divide-y ${k?"divide-slate-700":"divide-slate-200"}`,children:rt.map((Z,be)=>f.jsx(me,{item:Z,index:be},Z.id))})]})}),f.jsx("div",{className:"block md:hidden space-y-4",children:rt.map(Z=>{var be;return f.jsxs("div",{className:`rounded-lg border ${k?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-4 shadow-sm flex flex-col gap-2`,onClick:()=>zt(Z),children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:`font-semibold ${k?"text-blue-400":"text-blue-700"}`,children:Z.name}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Z.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:Z.status==="active"?"Active":"Pending"}),Z.storeName&&Z.storeName!=="not set"?f.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full whitespace-nowrap ${De(Z.storeName)}`,children:(be=Z.storeName)==null?void 0:be.toUpperCase()}):f.jsx("span",{className:"text-slate-400",children:"-"})]})]}),f.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[f.jsxs("span",{className:k?"text-slate-300":"text-slate-600",children:["Location: ",f.jsxs("span",{className:"font-medium",children:[Z.locationCode," - ",Z.shelfNumber]})]}),f.jsxs("span",{className:k?"text-slate-300":"text-slate-600",children:["Qty: ",f.jsx("span",{className:"font-medium",children:Z.quantity})]}),Z.asin&&f.jsxs("span",{className:k?"text-slate-300":"text-slate-600",children:["ASIN: ",f.jsx("span",{className:"font-medium",children:Z.asin})]}),Us(U)&&f.jsxs(f.Fragment,{children:[f.jsxs("span",{className:k?"text-slate-300":"text-slate-600",children:["Price: ",f.jsx("span",{className:"font-medium",children:Number(Z.price)>0?`${Number(Z.price).toFixed(2)}`:"(Not set)"})]}),f.jsxs("span",{className:k?"text-slate-300":"text-slate-600",children:["Total: ",f.jsx("span",{className:"font-medium",children:Number(Z.quantity*Z.price)>0?`${Number(Z.quantity*Z.price).toFixed(2)}`:"(Not set)"})]})]}),f.jsxs("span",{className:k?"text-slate-300":"text-slate-600",children:["Updated: ",f.jsx("span",{className:"font-medium",children:Wt(new Date(Z.lastUpdated),"MMM d, yyyy")})]})]}),f.jsxs("div",{className:"flex gap-2 mt-2",children:[f.jsxs(tt,{size:"sm",variant:"secondary",onClick:ke=>{ke.stopPropagation(),it({productName:Z.name,locationCode:Z.locationCode,shelfNumber:Z.shelfNumber})},children:[f.jsx(Tj,{size:14})," History"]}),f.jsxs(tt,{size:"sm",variant:"secondary",onClick:ke=>{ke.stopPropagation(),da(ke,Z)},children:[f.jsx(bs,{size:14})," Edit"]}),f.jsxs(tt,{size:"sm",variant:"danger",onClick:ke=>{ke.stopPropagation(),Bn(ke,Z)},children:[f.jsx(ki,{size:14})," Delete"]})]})]},Z.id)})})]}):f.jsx("div",{className:`text-center py-12 ${k?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:f.jsx("p",{className:k?"text-slate-400":"text-slate-500",children:"No stock items found. Try adjusting your search."})}),f.jsx(on,{isOpen:u,onClose:()=>d(!1),title:"Add New Stock Item",size:"xl",children:f.jsx(Qq,{onSubmit:Pt,onCancel:()=>d(!1),isLoading:w,existingStockItems:O,onShowProductLocationInfo:Ct})}),f.jsx(on,{isOpen:H,onClose:()=>re(!1),title:"Quick Add Stock",size:"md",children:f.jsx(Zq,{onSubmit:Pt,onClose:()=>re(!1),isLoading:w})}),f.jsx(on,{isOpen:h,onClose:()=>p(!1),title:"Edit Stock",size:"xl",children:D&&f.jsx(Jq,{item:D,onSubmit:or,onCancel:()=>p(!1),isLoading:w})}),D&&f.jsx(gh,{isOpen:g,onClose:()=>{m(!1),P(null)},onConfirm:()=>mr(D.id),title:"Delete Stock Item",message:`Are you sure you want to delete "${D.name}"? This action cannot be undone.`,isLoading:w}),D&&!h&&!g&&!G&&f.jsx(oy,{isOpen:!!D,onClose:()=>P(null),item:D}),f.jsx(gh,{isOpen:v,onClose:()=>{y(!1),_(new Set)},onConfirm:gn,title:"Delete Selected Items",message:`Are you sure you want to delete ${S.size} selected item${S.size>1?"s":""}? This action cannot be undone.`,isLoading:w}),f.jsx(on,{isOpen:G,onClose:()=>{z(!1),V(null)},title:"Confirm Quantity Update",children:f.jsxs("div",{children:[f.jsx("p",{children:"This product is already in stock in this location. Are you sure you want to add more quantity?"}),f.jsxs("div",{className:"flex justify-end gap-4 mt-4",children:[f.jsx(tt,{variant:"secondary",onClick:()=>{z(!1),V(null)},children:"No"}),f.jsx(tt,{onClick:Tr,isLoading:w,children:"Yes"})]})]})}),K&&f.jsx(eW,{isOpen:ee,onClose:Vt,onConfirm:Dt,onCancel:Vt,onMerge:xr,locationCode:K.locationCode,shelfNumber:K.shelfNumber,existingProducts:K.existingProducts,newProductName:K.newProductName,newProductBarcode:K.newProductBarcode}),Ne&&f.jsx(Xye,{isOpen:_e,onClose:()=>{$e(!1),Ie(null)},productName:Ne.productName,barcode:Ne.barcode,existingLocations:Ne.existingLocations}),We&&f.jsx(Zye,{isOpen:!!We,onClose:()=>it(null),productName:We.productName,locationCode:We.locationCode,shelfNumber:We.shelfNumber})]})},txe=()=>{const{isDarkMode:e}=Zr(),{showToast:t}=mc(),{user:r}=ba();ba();const[n,a]=F.useState(!1),[i,s]=F.useState([]),[o,l]=F.useState(""),[c,u]=F.useState(null),[d,h]=F.useState(""),[p,g]=F.useState(null),[m,v]=F.useState("all"),[y,w]=F.useState("all"),[b,D]=F.useState(!1),[P,O]=F.useState(!1),[T,S]=F.useState(null),_=async ee=>{if(r)try{await hr(vt(Xe,"activityLogs"),{user:r.name,role:r.role,detail:ee,time:new Date().toISOString()})}catch(I){console.error("Failed to log activity:",I)}},j=F.useCallback(async()=>{a(!0);try{const ee=ir(vt(Xe,"inventory"),ja("name")),M=(await sr(ee)).docs.map(q=>{const K=q.data();return{id:q.id,...K,lastUpdated:K.lastUpdated instanceof nr?K.lastUpdated.toDate():new Date(K.lastUpdated)}});s(M)}catch(ee){console.error("Failed to fetch inventory",ee),t("Failed to fetch inventory","error")}finally{a(!1)}},[t]),N=F.useCallback(async()=>{try{const ee=vt(Xe,"inventory"),I=await dk(ee);g(I.data().count)}catch{g(null)}},[]);F.useEffect(()=>{j(),N()},[j,N]),F.useEffect(()=>{const ee=I=>{const M=I.target;M.closest(".damage-filter-dropdown")||D(!1),M.closest(".duplicate-filter-dropdown")||O(!1)};return(b||P)&&document.addEventListener("mousedown",ee),()=>{document.removeEventListener("mousedown",ee)}},[b,P]);const E=F.useMemo(()=>{const ee={};for(const I of i){const M=(I.name||"").trim().toLowerCase();if(!M)continue;const q=`${I.locationCode||""}-${I.shelfNumber||""}`.trim().toLowerCase();ee[M]||(ee[M]=new Set),ee[M].add(q)}return ee},[i]),U=((ee,I)=>{const[M,q]=F.useState(ee);return F.useEffect(()=>{const K=setTimeout(()=>q(ee),I);return()=>clearTimeout(K)},[ee,I]),M})(o,300),G=F.useMemo(()=>{const ee=U.trim().toLowerCase();return i.filter(I=>{var W,Pe;const M=((W=I.name)==null?void 0:W.toLowerCase())||"",q=(I.asin||"").toLowerCase(),K=(I.barcode||"").toLowerCase(),J=ee?M.includes(ee)||q.includes(ee)||K.includes(ee):!0,se=m==="all"?!0:m==="damaged"?(I.damagedItems||0)>0:(I.damagedItems||0)<=0,he=(I.name||"").trim().toLowerCase(),ge=(he&&((Pe=E[he])==null?void 0:Pe.size)||0)>1;return J&&se&&(y==="all"?!0:y==="duplicates"?ge:!ge)})},[i,U,m,y,E]),z=F.useMemo(()=>U.trim()?G.reduce((ee,I)=>ee+(I.quantity||0),0):0,[G,U]),X=F.useMemo(()=>{var ie;const ee=G.length;let I=0,M=0,q=0,K=0,J=0;for(const ge of G){(ge.damagedItems||0)>0&&I++,ge.status==="active"&&M++,ge.status==="pending"&&q++,Number(ge.price)>0&&K++;const xe=(ge.name||"").trim().toLowerCase();(xe&&((ie=E[xe])==null?void 0:ie.size)||0)>1&&J++}const se=ee-J,he=ee-K;return{total:ee,damaged:I,duplicates:J,unique:se,active:M,pending:q,priceSet:K,noPrice:he}},[G,E]),V=ee=>{u(ee.id),h(ee.price!=null?String(ee.price):"")},H=()=>{u(null),h("")},re=async ee=>{const I=Number(d);if(Number.isNaN(I)||I<0){t("Enter a valid non-negative price","error");return}a(!0);try{const M=new Date,q=ur(Xe,"inventory",ee.id);await On(q,{price:I,lastUpdated:nr.fromDate(M)}),await _(`updated price for ${ee.name} (barcode: ${ee.barcode}) from ${ee.price||0} to ${I.toFixed(2)}`),s(K=>K.map(J=>J.id===ee.id?{...J,price:I,lastUpdated:M}:J)),t("Price updated","success"),u(null),h("")}catch(M){console.error("Failed to update price",M),t("Failed to update price","error")}finally{a(!1)}};return f.jsxs("div",{className:"space-y-4 p-2 sm:p-4 md:p-6",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 py-2 sm:py-4",children:[f.jsx("h1",{className:`text-xl sm:text-2xl font-bold ${e?"text-white":"text-gray-900"}`,children:"Inventory"}),f.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[f.jsxs("span",{className:`px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-semibold ${e?"bg-slate-800 text-blue-300":"bg-blue-100 text-blue-700"}`,children:["Total: ",p!==null?p:f.jsx("span",{className:"animate-pulse",children:"..."})]}),f.jsxs(tt,{variant:"secondary",onClick:()=>{j(),N()},className:`flex items-center gap-1 ${n?"opacity-50 cursor-not-allowed":""}`,disabled:n,size:"sm",children:[f.jsx(Ua,{size:14,className:n?"animate-spin":""}),f.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]})]})]}),f.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-4 md:gap-6",children:[U.trim()?f.jsx(Ya,{title:"Total Quantity",value:z,icon:f.jsx(Mo,{size:20,className:"text-blue-600"})}):f.jsx(Ya,{title:"Products",value:X.total,icon:f.jsx(Mo,{size:20,className:"text-blue-600"})}),f.jsx(Ya,{title:"Damaged",value:X.damaged,icon:f.jsx(ch,{size:20,className:"text-blue-600"})}),f.jsx(Ya,{title:"Duplicates",value:X.duplicates,icon:f.jsx(LZ,{size:20,className:"text-blue-600"})}),f.jsx(Ya,{title:"Unique",value:X.unique,icon:f.jsx(D4,{size:20,className:"text-blue-600"})})]}),f.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-4 md:gap-6 mt-2 sm:mt-4",children:[f.jsx(Ya,{title:"Active",value:X.active,icon:f.jsx(D4,{size:20,className:"text-blue-600"})}),f.jsx(Ya,{title:"Pending",value:X.pending,icon:f.jsx(ch,{size:20,className:"text-blue-600"})}),f.jsx(Ya,{title:"With Price",value:X.priceSet,icon:f.jsx(Y2,{size:20,className:"text-blue-600"})}),f.jsx(Ya,{title:"No Price",value:X.noPrice,icon:f.jsx(Y2,{size:20,className:"text-blue-600"})})]}),f.jsxs("div",{className:"flex flex-col gap-2 sm:gap-4",children:[f.jsxs("div",{className:"relative",children:[f.jsx(Ol,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),f.jsx(kt,{type:"text",placeholder:"Search by name, ASIN or barcode",value:o,onChange:ee=>l(ee.target.value),className:"pl-10 text-sm sm:text-base"})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4",children:[f.jsxs("div",{className:"relative damage-filter-dropdown flex-1",children:[f.jsxs(tt,{variant:"secondary",onClick:()=>D(!b),className:`flex items-center justify-between gap-2 w-full ${m!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,size:"sm",children:[f.jsx("span",{className:"truncate",children:m==="all"?"Damage: All":m==="damaged"?"Damage: Damaged":"Damage: Not Damaged"}),f.jsx(Sl,{size:16})]}),b&&f.jsx("div",{className:`absolute top-full left-0 mt-1 w-full z-50 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:f.jsxs("div",{className:"p-2",children:[f.jsx("div",{className:`text-xs sm:text-sm font-medium mb-1 ${e?"text-slate-200":"text-slate-700"}`,children:"Filter by Damage"}),f.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${m==="all"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{v("all"),D(!1)},children:"All"}),f.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${m==="damaged"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{v("damaged"),D(!1)},children:"Damaged"}),f.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${m==="notDamaged"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{v("notDamaged"),D(!1)},children:"Not Damaged"})]})})]}),f.jsxs("div",{className:"relative duplicate-filter-dropdown flex-1",children:[f.jsxs(tt,{variant:"secondary",onClick:()=>O(!P),className:`flex items-center justify-between gap-2 w-full ${y!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,size:"sm",children:[f.jsx("span",{className:"truncate",children:y==="all"?"Duplicates: All":y==="duplicates"?"Duplicates: Duplicates":"Duplicates: Unique"}),f.jsx(Sl,{size:16})]}),P&&f.jsx("div",{className:`absolute top-full left-0 mt-1 w-full z-50 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:f.jsxs("div",{className:"p-2",children:[f.jsx("div",{className:`text-xs sm:text-sm font-medium mb-1 ${e?"text-slate-200":"text-slate-700"}`,children:"Filter by Duplicates"}),f.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${y==="all"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{w("all"),O(!1)},children:"All"}),f.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${y==="duplicates"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{w("duplicates"),O(!1)},children:"Duplicates Only"}),f.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${y==="unique"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{w("unique"),O(!1)},children:"Unique Only"})]})})]})]})]}),n?f.jsx("div",{className:`text-center py-8 sm:py-12 ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:f.jsxs("div",{className:"flex flex-col items-center gap-2 sm:gap-4",children:[f.jsx(es,{className:`w-6 h-6 sm:w-8 sm:h-8 ${e?"text-blue-400":"text-blue-600"} animate-spin`}),f.jsx("p",{className:`text-sm sm:text-base ${e?"text-slate-400":"text-slate-600"}`,children:"Loading inventory..."})]})}):G.length>0?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"hidden md:block overflow-x-auto overflow-y-hidden",children:f.jsxs("table",{className:`min-w-full divide-y ${e?"divide-slate-700":"divide-slate-200"} ${e?"bg-slate-800":"bg-white"} rounded-lg border ${e?"border-slate-700":"border-slate-200"}`,children:[f.jsx("thead",{className:e?"bg-slate-700/50":"bg-slate-100",children:f.jsxs("tr",{children:[f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),Us(r)&&f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Price"}),f.jsx("th",{className:`px-4 py-3 text-center text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Quantity"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Barcode"}),f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"View"})]})}),f.jsx("tbody",{className:`divide-y ${e?"divide-slate-700":"divide-slate-200"}`,children:G.map(ee=>f.jsxs("tr",{className:"transition-all duration-100 hover:bg-opacity-10 hover:bg-blue-500",children:[f.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-blue-400":"text-blue-700"} font-medium`,children:ee.name}),f.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-800"}`,children:ee.asin?ee.asin.split(",").length>3?ee.asin.split(",").slice(0,3).map(I=>I.trim()).join(", ")+"...":ee.asin.split(",").map(I=>I.trim()).join(", "):"-"}),Us(r)&&f.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-900"} text-right`,children:c===ee.id?f.jsxs("div",{className:"flex items-center justify-end gap-2",onClick:I=>I.stopPropagation(),children:[f.jsx(kt,{type:"number",step:"0.01",value:d,onChange:I=>h(I.target.value),className:"w-28 text-right"}),f.jsx(tt,{size:"sm",onClick:()=>re(ee),isLoading:n,children:f.jsx(Aj,{size:14})}),f.jsx(tt,{size:"sm",variant:"secondary",onClick:H,disabled:n,children:f.jsx(hp,{size:14})})]}):f.jsx("button",{onClick:I=>{I.stopPropagation(),V(ee)},className:`${e?"text-slate-200 hover:text-blue-300":"text-slate-900 hover:text-blue-700"} transition-colors`,children:Number(ee.price)>0?`${Number(ee.price).toFixed(2)}`:"(Not set)"})}),f.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-800"} text-center`,children:ee.quantity}),f.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-800"}`,children:ee.barcode||"-"}),f.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-800"} text-right`,children:f.jsx("button",{onClick:()=>S(ee),className:`${e?"text-slate-300 hover:text-blue-300":"text-slate-600 hover:text-blue-700"} p-1`,"aria-label":"View details",children:f.jsx(L4,{size:16})})})]},ee.id))})]})}),f.jsx("div",{className:"block md:hidden space-y-3",children:G.map(ee=>{var I;return f.jsxs("div",{className:`rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-3 shadow-sm flex flex-col gap-2`,children:[f.jsxs("div",{className:"flex justify-between items-start gap-2",children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h3",{className:`font-semibold truncate ${e?"text-blue-400":"text-blue-700"}`,children:ee.name}),f.jsxs("div",{className:"flex flex-wrap gap-x-2 gap-y-1 text-xs mt-1",children:[f.jsxs("span",{className:e?"text-slate-300":"text-slate-600",children:["ASIN: ",f.jsx("span",{className:"font-medium",children:((I=ee.asin)==null?void 0:I.split(",")[0])||"-"})]}),f.jsxs("span",{className:e?"text-slate-300":"text-slate-600",children:["Barcode: ",f.jsx("span",{className:"font-medium",children:ee.barcode||"-"})]}),f.jsxs("span",{className:e?"text-slate-300":"text-slate-600",children:["Quantity: ",f.jsx("span",{className:"font-medium",children:ee.quantity})]})]})]}),f.jsxs("div",{className:"flex flex-col items-end gap-1",children:[Us(r)&&f.jsx("span",{className:`text-sm font-medium ${e?"text-slate-200":"text-slate-800"}`,children:Number(ee.price)>0?`${Number(ee.price).toFixed(2)}`:"No price"}),f.jsxs("div",{className:"flex gap-1",children:[c===ee.id?f.jsxs(f.Fragment,{children:[f.jsx(tt,{size:"sm",onClick:()=>re(ee),isLoading:n,children:f.jsx(Aj,{size:12})}),f.jsx(tt,{size:"sm",variant:"secondary",onClick:M=>{M.stopPropagation(),H()},disabled:n,children:f.jsx(hp,{size:12})})]}):f.jsx(tt,{size:"sm",variant:"secondary",onClick:M=>{M.stopPropagation(),V(ee)},children:f.jsx(bs,{size:12})}),f.jsx(tt,{size:"sm",variant:"secondary",onClick:()=>S(ee),children:f.jsx(L4,{size:12})})]})]})]}),c===ee.id&&f.jsx("div",{className:"mt-1",children:f.jsx(kt,{type:"number",step:"0.01",value:d,onChange:M=>h(M.target.value),placeholder:"Enter new price",className:"w-full text-sm"})})]},ee.id)})})]}):f.jsx("div",{className:`text-center py-8 sm:py-12 ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:f.jsx("p",{className:`text-sm sm:text-base ${e?"text-slate-400":"text-slate-500"}`,children:"No items found. Try adjusting your search."})}),T&&f.jsx(oy,{isOpen:!!T,onClose:()=>S(null),item:T})]})},tW=({startDate:e,endDate:t,onStartDateChange:r,onEndDateChange:n,onClear:a,className:i=""})=>{const{isDarkMode:s}=Zr(),[o,l]=F.useState(!1),c=p=>{const g=p.target.value?new Date(p.target.value):null;r(g)},u=p=>{const g=p.target.value?new Date(p.target.value):null;n(g)},d=()=>{a(),l(!1)},h=()=>!e&&!t?"Select date range":e&&t?`${Wt(e,"MMM d, yyyy")} - ${Wt(t,"MMM d, yyyy")}`:e?`From ${Wt(e,"MMM d, yyyy")}`:t?`To ${Wt(t,"MMM d, yyyy")}`:"Select date range";return f.jsxs("div",{className:`relative ${i}`,children:[f.jsxs("button",{onClick:()=>l(!o),className:`flex items-center justify-between w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600 focus:ring-slate-400":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50 focus:ring-slate-500"}`,children:[f.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[f.jsx(m9,{className:"h-4 w-4 flex-shrink-0"}),f.jsx("span",{className:"whitespace-nowrap overflow-hidden text-ellipsis",children:h()})]}),(e||t)&&f.jsx("span",{onClick:p=>{p.stopPropagation(),d()},className:`ml-3 p-1 rounded-full hover:bg-opacity-80 flex-shrink-0 cursor-pointer ${s?"hover:bg-slate-600":"hover:bg-slate-200"}`,title:"Clear date range",role:"button",tabIndex:0,onKeyDown:p=>{(p.key==="Enter"||p.key===" ")&&(p.preventDefault(),d())},children:f.jsx(hp,{className:"h-3 w-3"})})]}),o&&f.jsx("div",{className:`absolute top-full left-0 right-0 mt-1 z-50 p-4 border rounded-md shadow-lg ${s?"bg-slate-800 border-slate-600 text-white":"bg-white border-slate-200 text-slate-800"}`,children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:`block text-sm font-medium mb-2 ${s?"text-slate-200":"text-slate-700"}`,children:"Start Date"}),f.jsx("input",{type:"date",value:e?Wt(e,"yyyy-MM-dd"):"",onChange:c,className:`w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border-slate-600 text-slate-200 bg-slate-700 focus:ring-slate-400":"border-slate-300 text-slate-700 bg-white focus:ring-slate-500"}`})]}),f.jsxs("div",{children:[f.jsx("label",{className:`block text-sm font-medium mb-2 ${s?"text-slate-200":"text-slate-700"}`,children:"End Date"}),f.jsx("input",{type:"date",value:t?Wt(t,"yyyy-MM-dd"):"",onChange:u,min:e?Wt(e,"yyyy-MM-dd"):void 0,className:`w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border-slate-600 text-slate-200 bg-slate-700 focus:ring-slate-400":"border-slate-300 text-slate-700 bg-white focus:ring-slate-500"}`})]}),f.jsxs("div",{className:"flex gap-2 pt-2 border-t border-slate-200 dark:border-slate-600",children:[f.jsx("button",{onClick:()=>l(!1),className:`flex-1 px-3 py-2 text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600 focus:ring-slate-400":"border border-slate-300 text-slate-700 bg-white hover:bg-slate-50 focus:ring-slate-500"}`,children:"Apply"}),f.jsx("button",{onClick:d,className:`px-3 py-2 text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 ${s?"border border-red-600 text-red-200 bg-red-700 hover:bg-red-600 focus:ring-red-400":"border border-red-300 text-red-700 bg-white hover:bg-red-50 focus:ring-red-500"}`,children:"Clear"})]})]})})]})},rxe=({item:e,onSubmit:t,onCancel:r,isLoading:n})=>{const[a,i]=F.useState(""),[s,o]=F.useState("stock sold"),[l,c]=F.useState(""),[u,d]=F.useState(""),[h,p]=F.useState([]),[g,m]=F.useState(""),[v,y]=F.useState(!1),{isDarkMode:w}=Zr();F.useEffect(()=>{(async()=>{y(!0);try{let _=ir(vt(Xe,"inventory"),lr("barcode","==",e.barcode)),j=await sr(_);if(j.empty&&e.barcode){const k=String(e.barcode).trim();_=ir(vt(Xe,"inventory"),lr("barcode","==",k)),j=await sr(_)}j.empty&&e.name&&(_=ir(vt(Xe,"inventory"),lr("name","==",e.name)),j=await sr(_));const N=[];j.docs.forEach(k=>{const U=k.data();U.locationCode&&U.shelfNumber&&(U.quantity||0)>0&&N.push({id:k.id,locationCode:String(U.locationCode).trim(),shelfNumber:String(U.shelfNumber).trim(),quantity:Number(U.quantity)||0,storeName:(U.storeName?String(U.storeName):"Unknown").trim()})});const E=N.sort((k,U)=>{const G=k.locationCode.localeCompare(U.locationCode);return G!==0?G:String(k.shelfNumber).localeCompare(String(U.shelfNumber))});if(p(E),E.length>0){const k=E[0];m(k.id),d(k.storeName)}}catch(_){console.error("Error fetching locations:",_)}finally{y(!1)}})()},[e.barcode]);const b=S=>{if(m(S),S){const _=h.find(j=>j.id===S);_&&d(_.storeName)}},D=async S=>{S.preventDefault();const _=Number(a);if(!a||_<0)return;const j=P();if(_>j||!g)return;const N=s==="other"?l:s,E=u.trim(),k=h.find(U=>U.id===g);k&&await t({id:k.id,quantity:k.quantity-_,reason:N,storeName:E,locationCode:k.locationCode,shelfNumber:k.shelfNumber})},P=()=>{if(!g)return e.quantity;const S=h.find(_=>_.id===g);return S?S.quantity:e.quantity},T=(()=>{const S=Number(a);if(!a||S<0)return"Quantity to deduct must be 0 or greater";const _=P();return S>_?`Cannot deduct more than current stock at selected location (${_} units)`:s?s==="other"&&!l.trim()?"Please specify the reason":g?null:"Please select a location":"Please select a reason"})();return f.jsxs("form",{onSubmit:D,className:`space-y-6 ${w?"text-white":"text-gray-900"}`,children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:`p-4 rounded-lg ${w?"bg-slate-800":"bg-slate-50"}`,children:[f.jsx("h3",{className:`text-lg font-semibold ${w?"text-white":"text-gray-900"}`,children:e.name}),f.jsx("p",{className:`text-sm ${w?"text-slate-400":"text-slate-500"}`,children:g&&f.jsxs("span",{className:` ${w?"text-slate-300":"text-slate-600"}`,children:["Selected Location: ",P()," units"]})}),f.jsxs("p",{className:`text-sm ${w?"text-slate-400":"text-slate-500"}`,children:["Barcode: ",e.barcode]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{htmlFor:"location",className:`block text-sm font-medium ${w?"text-slate-300":"text-gray-700"}`,children:"Select Location"}),v?f.jsxs("div",{className:`flex items-center gap-2 text-sm ${w?"text-slate-400":"text-slate-500"}`,children:[f.jsx(es,{size:16,className:"animate-spin"}),"Loading locations..."]}):h.length>0?f.jsx(Qr,{id:"location",value:g,onChange:S=>b(S.target.value),required:!0,options:[{value:"",label:"Select a location"},...h.map(S=>{var _;return{value:S.id,label:`${S.locationCode} - Shelf ${S.shelfNumber} (${S.quantity} units) - ${(_=S.storeName)==null?void 0:_.toUpperCase()}`}})],className:`${w?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${T?"border-red-500 focus:border-red-500":""}`}):f.jsx("div",{className:`text-sm ${w?"text-slate-400":"text-slate-500"}`,children:"No locations with available stock found for this product"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{htmlFor:"deductQuantity",className:`block text-sm font-medium ${w?"text-slate-300":"text-gray-700"}`,children:"Quantity to Deduct"}),f.jsx(kt,{id:"deductQuantity",type:"number",min:"0",max:P(),value:a,onChange:S=>i(S.target.value.replace(/^0+(?!$)/,"")),placeholder:"Enter quantity to deduct",required:!0,className:`${w?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${T?"border-red-500 focus:border-red-500":""}`}),g&&f.jsxs("p",{className:`text-xs ${w?"text-slate-400":"text-slate-500"}`,children:["Max available at selected location: ",P()," units"]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{htmlFor:"reason",className:`block text-sm font-medium ${w?"text-slate-300":"text-gray-700"}`,children:"Reason for Deduction"}),f.jsx(Qr,{id:"reason",value:s,onChange:S=>o(S.target.value),required:!0,options:[{value:"",label:"Select a reason"},{value:"stock sold",label:"Stock Sold"},{value:"moved to fba",label:"Moved to FBA"},{value:"moved to mf",label:"Moved to MF"},{value:"damaged",label:"Damaged"},{value:"other",label:"Other"}],className:`${w?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${T?"border-red-500 focus:border-red-500":""}`})]}),s==="other"&&f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{htmlFor:"otherReason",className:`block text-sm font-medium ${w?"text-slate-300":"text-gray-700"}`,children:"Specify Reason"}),f.jsx(kt,{id:"otherReason",type:"text",value:l,onChange:S=>c(S.target.value),placeholder:"Enter the reason",required:!0,className:`${w?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${T?"border-red-500 focus:border-red-500":""}`})]}),g&&u&&f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:`block text-sm font-medium ${w?"text-slate-300":"text-gray-700"}`,children:"Store Name"}),f.jsxs("div",{className:`p-3 rounded-lg ${w?"bg-slate-700 border-slate-600":"bg-slate-100 border-slate-300"} border`,children:[f.jsx("span",{className:`text-sm font-medium ${w?"text-slate-200":"text-slate-800"}`,children:u==null?void 0:u.toUpperCase()}),f.jsx("p",{className:`text-xs ${w?"text-slate-400":"text-slate-500"} mt-1`,children:"Automatically selected based on location"})]})]}),T?f.jsxs("div",{className:`flex items-center space-x-2 text-sm ${w?"text-red-400":"text-red-600"}`,children:[f.jsx(ch,{size:16}),f.jsx("span",{children:T})]}):f.jsx("p",{className:`text-xs ${w?"text-slate-400":"text-gray-500"}`,children:"Enter the quantity to be deducted from current stock"})]}),f.jsxs("div",{className:"flex justify-end space-x-3",children:[f.jsx(tt,{type:"button",variant:"secondary",onClick:r,disabled:n,children:"Cancel"}),f.jsx(tt,{type:"submit",disabled:n||!!T,className:"min-w-[100px]",children:n?f.jsxs(f.Fragment,{children:[f.jsx(es,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):"Update"})]})]})},nxe=({isOpen:e,onClose:t})=>{const[r,n]=F.useState("0"),[a,i]=F.useState(null),[s,o]=F.useState(null),[l,c]=F.useState(!1),u=()=>{n("0"),i(null),o(null),c(!1)},d=y=>{l?(n(y),c(!1)):n(r==="0"?y:r+y)},h=()=>{l?(n("0."),c(!1)):r.indexOf(".")===-1&&n(r+".")},p=y=>{const w=parseFloat(r);if(a===null)i(w);else if(s){const D=g(a||0,w,s);n(String(D)),i(D)}c(!0),o(y)},g=(y,w,b)=>{switch(b){case"+":return y+w;case"-":return y-w;case"":return y*w;case"":return y/w;default:return w}},v=[{label:"C",onClick:u,className:"bg-red-500 hover:bg-red-600 text-white"},{label:"",onClick:()=>n(String(-parseFloat(r))),className:"bg-gray-500 hover:bg-gray-600 text-white"},{label:"%",onClick:()=>n(String(parseFloat(r)/100)),className:"bg-gray-500 hover:bg-gray-600 text-white"},{label:"",onClick:()=>p(""),className:"bg-orange-500 hover:bg-orange-600 text-white"},{label:"7",onClick:()=>d("7"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"8",onClick:()=>d("8"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"9",onClick:()=>d("9"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"",onClick:()=>p(""),className:"bg-orange-500 hover:bg-orange-600 text-white"},{label:"4",onClick:()=>d("4"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"5",onClick:()=>d("5"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"6",onClick:()=>d("6"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"-",onClick:()=>p("-"),className:"bg-orange-500 hover:bg-orange-600 text-white"},{label:"1",onClick:()=>d("1"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"2",onClick:()=>d("2"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"3",onClick:()=>d("3"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"+",onClick:()=>p("+"),className:"bg-orange-500 hover:bg-orange-600 text-white"},{label:"0",onClick:()=>d("0"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white col-span-2"},{label:".",onClick:h,className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"=",onClick:()=>{if(!a||!s)return;const y=parseFloat(r),w=g(a,y,s);n(String(w)),i(null),o(null),c(!1)},className:"bg-orange-500 hover:bg-orange-600 text-white"}];return f.jsx(on,{isOpen:e,onClose:t,title:"Calculator",size:"sm",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg",children:[f.jsx("div",{className:"text-right text-2xl font-mono text-gray-800 dark:text-white",children:r}),s&&f.jsxs("div",{className:"text-right text-sm text-gray-500 dark:text-gray-400",children:[a," ",s]})]}),f.jsx("div",{className:"grid grid-cols-4 gap-2",children:v.map((y,w)=>f.jsx("button",{onClick:y.onClick,className:`p-4 text-lg font-medium rounded-lg transition-colors ${y.className}`,children:y.label},w))}),f.jsx("div",{className:"pt-2",children:f.jsx(tt,{variant:"secondary",onClick:t,className:"w-full",children:"Close"})})]})})};function rW(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=rW(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function dn(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=rW(e))&&(n&&(n+=" "),n+=t);return n}var axe=Array.isArray,Hs=axe,ixe=typeof ug=="object"&&ug&&ug.Object===Object&&ug,nW=ixe,sxe=nW,oxe=typeof self=="object"&&self&&self.Object===Object&&self,lxe=sxe||oxe||Function("return this")(),yc=lxe,cxe=yc,uxe=cxe.Symbol,ly=uxe,w8=ly,aW=Object.prototype,fxe=aW.hasOwnProperty,dxe=aW.toString,Jm=w8?w8.toStringTag:void 0;function hxe(e){var t=fxe.call(e,Jm),r=e[Jm];try{e[Jm]=void 0;var n=!0}catch{}var a=dxe.call(e);return n&&(t?e[Jm]=r:delete e[Jm]),a}var pxe=hxe,mxe=Object.prototype,gxe=mxe.toString;function vxe(e){return gxe.call(e)}var yxe=vxe,_8=ly,xxe=pxe,bxe=yxe,wxe="[object Null]",_xe="[object Undefined]",S8=_8?_8.toStringTag:void 0;function Sxe(e){return e==null?e===void 0?_xe:wxe:S8&&S8 in Object(e)?xxe(e):bxe(e)}var Nu=Sxe;function Axe(e){return e!=null&&typeof e=="object"}var Eu=Axe,Txe=Nu,Nxe=Eu,Exe="[object Symbol]";function kxe(e){return typeof e=="symbol"||Nxe(e)&&Txe(e)==Exe}var pm=kxe,Cxe=Hs,Pxe=pm,jxe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Oxe=/^\w*$/;function Ixe(e,t){if(Cxe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Pxe(e)?!0:Oxe.test(e)||!jxe.test(e)||t!=null&&e in Object(t)}var _C=Ixe;function Dxe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var sd=Dxe;const mm=Dn(sd);var Lxe=Nu,Mxe=sd,Rxe="[object AsyncFunction]",Fxe="[object Function]",$xe="[object GeneratorFunction]",Bxe="[object Proxy]";function Uxe(e){if(!Mxe(e))return!1;var t=Lxe(e);return t==Fxe||t==$xe||t==Rxe||t==Bxe}var SC=Uxe;const Fr=Dn(SC);var Vxe=yc,zxe=Vxe["__core-js_shared__"],qxe=zxe,YS=qxe,A8=function(){var e=/[^.]+$/.exec(YS&&YS.keys&&YS.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Wxe(e){return!!A8&&A8 in e}var Hxe=Wxe,Gxe=Function.prototype,Kxe=Gxe.toString;function Yxe(e){if(e!=null){try{return Kxe.call(e)}catch{}try{return e+""}catch{}}return""}var iW=Yxe,Xxe=SC,Qxe=Hxe,Jxe=sd,Zxe=iW,e2e=/[\\^$.*+?()[\]{}|]/g,t2e=/^\[object .+?Constructor\]$/,r2e=Function.prototype,n2e=Object.prototype,a2e=r2e.toString,i2e=n2e.hasOwnProperty,s2e=RegExp("^"+a2e.call(i2e).replace(e2e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function o2e(e){if(!Jxe(e)||Qxe(e))return!1;var t=Xxe(e)?s2e:t2e;return t.test(Zxe(e))}var l2e=o2e;function c2e(e,t){return e==null?void 0:e[t]}var u2e=c2e,f2e=l2e,d2e=u2e;function h2e(e,t){var r=d2e(e,t);return f2e(r)?r:void 0}var Dh=h2e,p2e=Dh,m2e=p2e(Object,"create"),k5=m2e,T8=k5;function g2e(){this.__data__=T8?T8(null):{},this.size=0}var v2e=g2e;function y2e(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var x2e=y2e,b2e=k5,w2e="__lodash_hash_undefined__",_2e=Object.prototype,S2e=_2e.hasOwnProperty;function A2e(e){var t=this.__data__;if(b2e){var r=t[e];return r===w2e?void 0:r}return S2e.call(t,e)?t[e]:void 0}var T2e=A2e,N2e=k5,E2e=Object.prototype,k2e=E2e.hasOwnProperty;function C2e(e){var t=this.__data__;return N2e?t[e]!==void 0:k2e.call(t,e)}var P2e=C2e,j2e=k5,O2e="__lodash_hash_undefined__";function I2e(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=j2e&&t===void 0?O2e:t,this}var D2e=I2e,L2e=v2e,M2e=x2e,R2e=T2e,F2e=P2e,$2e=D2e;function gm(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}gm.prototype.clear=L2e;gm.prototype.delete=M2e;gm.prototype.get=R2e;gm.prototype.has=F2e;gm.prototype.set=$2e;var B2e=gm;function U2e(){this.__data__=[],this.size=0}var V2e=U2e;function z2e(e,t){return e===t||e!==e&&t!==t}var AC=z2e,q2e=AC;function W2e(e,t){for(var r=e.length;r--;)if(q2e(e[r][0],t))return r;return-1}var C5=W2e,H2e=C5,G2e=Array.prototype,K2e=G2e.splice;function Y2e(e){var t=this.__data__,r=H2e(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():K2e.call(t,r,1),--this.size,!0}var X2e=Y2e,Q2e=C5;function J2e(e){var t=this.__data__,r=Q2e(t,e);return r<0?void 0:t[r][1]}var Z2e=J2e,ebe=C5;function tbe(e){return ebe(this.__data__,e)>-1}var rbe=tbe,nbe=C5;function abe(e,t){var r=this.__data__,n=nbe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var ibe=abe,sbe=V2e,obe=X2e,lbe=Z2e,cbe=rbe,ube=ibe;function vm(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}vm.prototype.clear=sbe;vm.prototype.delete=obe;vm.prototype.get=lbe;vm.prototype.has=cbe;vm.prototype.set=ube;var P5=vm,fbe=Dh,dbe=yc,hbe=fbe(dbe,"Map"),TC=hbe,N8=B2e,pbe=P5,mbe=TC;function gbe(){this.size=0,this.__data__={hash:new N8,map:new(mbe||pbe),string:new N8}}var vbe=gbe;function ybe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var xbe=ybe,bbe=xbe;function wbe(e,t){var r=e.__data__;return bbe(t)?r[typeof t=="string"?"string":"hash"]:r.map}var j5=wbe,_be=j5;function Sbe(e){var t=_be(this,e).delete(e);return this.size-=t?1:0,t}var Abe=Sbe,Tbe=j5;function Nbe(e){return Tbe(this,e).get(e)}var Ebe=Nbe,kbe=j5;function Cbe(e){return kbe(this,e).has(e)}var Pbe=Cbe,jbe=j5;function Obe(e,t){var r=jbe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Ibe=Obe,Dbe=vbe,Lbe=Abe,Mbe=Ebe,Rbe=Pbe,Fbe=Ibe;function ym(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ym.prototype.clear=Dbe;ym.prototype.delete=Lbe;ym.prototype.get=Mbe;ym.prototype.has=Rbe;ym.prototype.set=Fbe;var NC=ym,sW=NC,$be="Expected a function";function EC(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError($be);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var s=e.apply(this,n);return r.cache=i.set(a,s)||i,s};return r.cache=new(EC.Cache||sW),r}EC.Cache=sW;var oW=EC;const Bbe=Dn(oW);var Ube=oW,Vbe=500;function zbe(e){var t=Ube(e,function(n){return r.size===Vbe&&r.clear(),n}),r=t.cache;return t}var qbe=zbe,Wbe=qbe,Hbe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Gbe=/\\(\\)?/g,Kbe=Wbe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Hbe,function(r,n,a,i){t.push(a?i.replace(Gbe,"$1"):n||r)}),t}),Ybe=Kbe;function Xbe(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var kC=Xbe,E8=ly,Qbe=kC,Jbe=Hs,Zbe=pm,ewe=1/0,k8=E8?E8.prototype:void 0,C8=k8?k8.toString:void 0;function lW(e){if(typeof e=="string")return e;if(Jbe(e))return Qbe(e,lW)+"";if(Zbe(e))return C8?C8.call(e):"";var t=e+"";return t=="0"&&1/e==-ewe?"-0":t}var twe=lW,rwe=twe;function nwe(e){return e==null?"":rwe(e)}var cW=nwe,awe=Hs,iwe=_C,swe=Ybe,owe=cW;function lwe(e,t){return awe(e)?e:iwe(e,t)?[e]:swe(owe(e))}var uW=lwe,cwe=pm,uwe=1/0;function fwe(e){if(typeof e=="string"||cwe(e))return e;var t=e+"";return t=="0"&&1/e==-uwe?"-0":t}var O5=fwe,dwe=uW,hwe=O5;function pwe(e,t){t=dwe(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[hwe(t[r++])];return r&&r==n?e:void 0}var CC=pwe,mwe=CC;function gwe(e,t,r){var n=e==null?void 0:mwe(e,t);return n===void 0?r:n}var fW=gwe;const Uo=Dn(fW);function vwe(e){return e==null}var ywe=vwe;const Vr=Dn(ywe);var xwe=Nu,bwe=Hs,wwe=Eu,_we="[object String]";function Swe(e){return typeof e=="string"||!bwe(e)&&wwe(e)&&xwe(e)==_we}var Awe=Swe;const vh=Dn(Awe);var dW={exports:{}},Pn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PC=Symbol.for("react.element"),jC=Symbol.for("react.portal"),I5=Symbol.for("react.fragment"),D5=Symbol.for("react.strict_mode"),L5=Symbol.for("react.profiler"),M5=Symbol.for("react.provider"),R5=Symbol.for("react.context"),Twe=Symbol.for("react.server_context"),F5=Symbol.for("react.forward_ref"),$5=Symbol.for("react.suspense"),B5=Symbol.for("react.suspense_list"),U5=Symbol.for("react.memo"),V5=Symbol.for("react.lazy"),Nwe=Symbol.for("react.offscreen"),hW;hW=Symbol.for("react.module.reference");function Xo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case PC:switch(e=e.type,e){case I5:case L5:case D5:case $5:case B5:return e;default:switch(e=e&&e.$$typeof,e){case Twe:case R5:case F5:case V5:case U5:case M5:return e;default:return t}}case jC:return t}}}Pn.ContextConsumer=R5;Pn.ContextProvider=M5;Pn.Element=PC;Pn.ForwardRef=F5;Pn.Fragment=I5;Pn.Lazy=V5;Pn.Memo=U5;Pn.Portal=jC;Pn.Profiler=L5;Pn.StrictMode=D5;Pn.Suspense=$5;Pn.SuspenseList=B5;Pn.isAsyncMode=function(){return!1};Pn.isConcurrentMode=function(){return!1};Pn.isContextConsumer=function(e){return Xo(e)===R5};Pn.isContextProvider=function(e){return Xo(e)===M5};Pn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===PC};Pn.isForwardRef=function(e){return Xo(e)===F5};Pn.isFragment=function(e){return Xo(e)===I5};Pn.isLazy=function(e){return Xo(e)===V5};Pn.isMemo=function(e){return Xo(e)===U5};Pn.isPortal=function(e){return Xo(e)===jC};Pn.isProfiler=function(e){return Xo(e)===L5};Pn.isStrictMode=function(e){return Xo(e)===D5};Pn.isSuspense=function(e){return Xo(e)===$5};Pn.isSuspenseList=function(e){return Xo(e)===B5};Pn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===I5||e===L5||e===D5||e===$5||e===B5||e===Nwe||typeof e=="object"&&e!==null&&(e.$$typeof===V5||e.$$typeof===U5||e.$$typeof===M5||e.$$typeof===R5||e.$$typeof===F5||e.$$typeof===hW||e.getModuleId!==void 0)};Pn.typeOf=Xo;dW.exports=Pn;var Ewe=dW.exports,kwe=Nu,Cwe=Eu,Pwe="[object Number]";function jwe(e){return typeof e=="number"||Cwe(e)&&kwe(e)==Pwe}var pW=jwe;const Owe=Dn(pW);var Iwe=pW;function Dwe(e){return Iwe(e)&&e!=+e}var Lwe=Dwe;const cy=Dn(Lwe);var Nl=function(t){return t===0?0:t>0?1:-1},qd=function(t){return vh(t)&&t.indexOf("%")===t.length-1},qt=function(t){return Owe(t)&&!cy(t)},Mwe=function(t){return Vr(t)},ei=function(t){return qt(t)||vh(t)},Rwe=0,uy=function(t){var r=++Rwe;return"".concat(t||"").concat(r)},yh=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!qt(t)&&!vh(t))return n;var i;if(qd(t)){var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return cy(i)&&(i=n),a&&i>r&&(i=r),i},hf=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Fwe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},bl=function(t,r){return qt(t)&&qt(r)?function(n){return t+n*(r-t)}:function(){return r}};function Pb(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Uo(n,t))===r})}var $we=function(t,r){return qt(t)&&qt(r)?t-r:vh(t)&&vh(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Y0(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function $3(e){"@babel/helpers - typeof";return $3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$3(e)}var Bwe=["viewBox","children"],Uwe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],P8=["points","pathLength"],XS={svg:Bwe,polygon:P8,polyline:P8},OC=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],jb=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(F.isValidElement(t)&&(n=t.props),!mm(n))return null;var a={};return Object.keys(n).forEach(function(i){OC.includes(i)&&(a[i]=r||function(s){return n[i](n,s)})}),a},Vwe=function(t,r,n){return function(a){return t(r,n,a),null}},Ob=function(t,r,n){if(!mm(t)||$3(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var s=t[i];OC.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=Vwe(s,r,n))}),a},zwe=["children"],qwe=["children"];function j8(e,t){if(e==null)return{};var r=Wwe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Wwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function B3(e){"@babel/helpers - typeof";return B3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B3(e)}var O8={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Jc=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},I8=null,QS=null,IC=function e(t){if(t===I8&&Array.isArray(QS))return QS;var r=[];return F.Children.forEach(t,function(n){Vr(n)||(Ewe.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),QS=r,I8=t,r};function Vo(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Jc(a)}):n=[Jc(t)],IC(e).forEach(function(a){var i=Uo(a,"type.displayName")||Uo(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function ao(e,t){var r=Vo(e,t);return r&&r[0]}var D8=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!qt(n)||n<=0||!qt(a)||a<=0)},Hwe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Gwe=function(t){return t&&t.type&&vh(t.type)&&Hwe.indexOf(t.type)>=0},Kwe=function(t){return t&&B3(t)==="object"&&"clipDot"in t},Ywe=function(t,r,n,a){var i,s=(i=XS==null?void 0:XS[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Fr(t)&&(a&&s.includes(r)||Uwe.includes(r))||n&&OC.includes(r)},Jr=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(F.isValidElement(t)&&(a=t.props),!mm(a))return null;var i={};return Object.keys(a).forEach(function(s){var o;Ywe((o=a)===null||o===void 0?void 0:o[s],s,r,n)&&(i[s]=a[s])}),i},U3=function e(t,r){if(t===r)return!0;var n=F.Children.count(t);if(n!==F.Children.count(r))return!1;if(n===0)return!0;if(n===1)return L8(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],s=r[a];if(Array.isArray(i)||Array.isArray(s)){if(!e(i,s))return!1}else if(!L8(i,s))return!1}return!0},L8=function(t,r){if(Vr(t)&&Vr(r))return!0;if(!Vr(t)&&!Vr(r)){var n=t.props||{},a=n.children,i=j8(n,zwe),s=r.props||{},o=s.children,l=j8(s,qwe);return a&&o?Y0(i,l)&&U3(a,o):!a&&!o?Y0(i,l):!1}return!1},M8=function(t,r){var n=[],a={};return IC(t).forEach(function(i,s){if(Gwe(i))n.push(i);else if(i){var o=Jc(i.type),l=r[o]||{},c=l.handler,u=l.once;if(c&&(!u||!a[o])){var d=c(i,o,s);n.push(d),a[o]=!0}}}),n},Xwe=function(t){var r=t&&t.type;return r&&O8[r]?O8[r]:null},Qwe=function(t,r){return IC(r).indexOf(t)},Jwe=["children","width","height","viewBox","className","style","title","desc"];function V3(){return V3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V3.apply(this,arguments)}function Zwe(e,t){if(e==null)return{};var r=e5e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function e5e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function z3(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,s=e.style,o=e.title,l=e.desc,c=Zwe(e,Jwe),u=a||{width:r,height:n,x:0,y:0},d=dn("recharts-surface",i);return ze.createElement("svg",V3({},Jr(c,!0,"svg"),{className:d,width:r,height:n,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),ze.createElement("title",null,o),ze.createElement("desc",null,l),t)}var t5e=["children","className"];function q3(){return q3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q3.apply(this,arguments)}function r5e(e,t){if(e==null)return{};var r=n5e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function n5e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Pa=ze.forwardRef(function(e,t){var r=e.children,n=e.className,a=r5e(e,t5e),i=dn("recharts-layer",n);return ze.createElement("g",q3({className:i},Jr(a,!0),{ref:t}),r)}),Zc=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function a5e(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var i5e=a5e,s5e=i5e;function o5e(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:s5e(e,t,r)}var l5e=o5e,c5e="\\ud800-\\udfff",u5e="\\u0300-\\u036f",f5e="\\ufe20-\\ufe2f",d5e="\\u20d0-\\u20ff",h5e=u5e+f5e+d5e,p5e="\\ufe0e\\ufe0f",m5e="\\u200d",g5e=RegExp("["+m5e+c5e+h5e+p5e+"]");function v5e(e){return g5e.test(e)}var mW=v5e;function y5e(e){return e.split("")}var x5e=y5e,gW="\\ud800-\\udfff",b5e="\\u0300-\\u036f",w5e="\\ufe20-\\ufe2f",_5e="\\u20d0-\\u20ff",S5e=b5e+w5e+_5e,A5e="\\ufe0e\\ufe0f",T5e="["+gW+"]",W3="["+S5e+"]",H3="\\ud83c[\\udffb-\\udfff]",N5e="(?:"+W3+"|"+H3+")",vW="[^"+gW+"]",yW="(?:\\ud83c[\\udde6-\\uddff]){2}",xW="[\\ud800-\\udbff][\\udc00-\\udfff]",E5e="\\u200d",bW=N5e+"?",wW="["+A5e+"]?",k5e="(?:"+E5e+"(?:"+[vW,yW,xW].join("|")+")"+wW+bW+")*",C5e=wW+bW+k5e,P5e="(?:"+[vW+W3+"?",W3,yW,xW,T5e].join("|")+")",j5e=RegExp(H3+"(?="+H3+")|"+P5e+C5e,"g");function O5e(e){return e.match(j5e)||[]}var I5e=O5e,D5e=x5e,L5e=mW,M5e=I5e;function R5e(e){return L5e(e)?M5e(e):D5e(e)}var F5e=R5e,$5e=l5e,B5e=mW,U5e=F5e,V5e=cW;function z5e(e){return function(t){t=V5e(t);var r=B5e(t)?U5e(t):void 0,n=r?r[0]:t.charAt(0),a=r?$5e(r,1).join(""):t.slice(1);return n[e]()+a}}var q5e=z5e,W5e=q5e,H5e=W5e("toUpperCase"),G5e=H5e;const z5=Dn(G5e);function zn(e){return function(){return e}}const _W=Math.cos,Ib=Math.sin,Ll=Math.sqrt,Db=Math.PI,q5=2*Db,G3=Math.PI,K3=2*G3,Pd=1e-6,K5e=K3-Pd;function SW(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Y5e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return SW;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class X5e{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?SW:Y5e(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,o=this._y1,l=n-t,c=a-r,u=s-t,d=o-r,h=u*u+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Pd)if(!(Math.abs(d*l-c*u)>Pd)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-s,g=a-o,m=l*l+c*c,v=p*p+g*g,y=Math.sqrt(m),w=Math.sqrt(h),b=i*Math.tan((G3-Math.acos((m+h-v)/(2*y*w)))/2),D=b/w,P=b/y;Math.abs(D-1)>Pd&&this._append`L${t+D*u},${r+D*d}`,this._append`A${i},${i},0,0,${+(d*p>u*g)},${this._x1=t+P*l},${this._y1=r+P*c}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),l=n*Math.sin(a),c=t+o,u=r+l,d=1^s,h=s?a-i:i-a;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Pd||Math.abs(this._y1-u)>Pd)&&this._append`L${c},${u}`,n&&(h<0&&(h=h%K3+K3),h>K5e?this._append`A${n},${n},0,1,${d},${t-o},${r-l}A${n},${n},0,1,${d},${this._x1=c},${this._y1=u}`:h>Pd&&this._append`A${n},${n},0,${+(h>=G3)},${d},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function DC(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new X5e(t)}function LC(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function AW(e){this._context=e}AW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function W5(e){return new AW(e)}function TW(e){return e[0]}function NW(e){return e[1]}function EW(e,t){var r=zn(!0),n=null,a=W5,i=null,s=DC(o);e=typeof e=="function"?e:e===void 0?TW:zn(e),t=typeof t=="function"?t:t===void 0?NW:zn(t);function o(l){var c,u=(l=LC(l)).length,d,h=!1,p;for(n==null&&(i=a(p=s())),c=0;c<=u;++c)!(c<u&&r(d=l[c],c,l))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(d,c,l),+t(d,c,l));if(p)return i=null,p+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:zn(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:zn(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:zn(!!l),o):r},o.curve=function(l){return arguments.length?(a=l,n!=null&&(i=a(n)),o):a},o.context=function(l){return arguments.length?(l==null?n=i=null:i=a(n=l),o):n},o}function Tx(e,t,r){var n=null,a=zn(!0),i=null,s=W5,o=null,l=DC(c);e=typeof e=="function"?e:e===void 0?TW:zn(+e),t=typeof t=="function"?t:zn(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?NW:zn(+r);function c(d){var h,p,g,m=(d=LC(d)).length,v,y=!1,w,b=new Array(m),D=new Array(m);for(i==null&&(o=s(w=l())),h=0;h<=m;++h){if(!(h<m&&a(v=d[h],h,d))===y)if(y=!y)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=h-1;g>=p;--g)o.point(b[g],D[g]);o.lineEnd(),o.areaEnd()}y&&(b[h]=+e(v,h,d),D[h]=+t(v,h,d),o.point(n?+n(v,h,d):b[h],r?+r(v,h,d):D[h]))}if(w)return o=null,w+""||null}function u(){return EW().defined(a).curve(s).context(i)}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:zn(+d),n=null,c):e},c.x0=function(d){return arguments.length?(e=typeof d=="function"?d:zn(+d),c):e},c.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:zn(+d),c):n},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:zn(+d),r=null,c):t},c.y0=function(d){return arguments.length?(t=typeof d=="function"?d:zn(+d),c):t},c.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:zn(+d),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(d){return arguments.length?(a=typeof d=="function"?d:zn(!!d),c):a},c.curve=function(d){return arguments.length?(s=d,i!=null&&(o=s(i)),c):s},c.context=function(d){return arguments.length?(d==null?i=o=null:o=s(i=d),c):i},c}class kW{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Q5e(e){return new kW(e,!0)}function J5e(e){return new kW(e,!1)}const MC={draw(e,t){const r=Ll(t/Db);e.moveTo(r,0),e.arc(0,0,r,0,q5)}},Z5e={draw(e,t){const r=Ll(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},CW=Ll(1/3),e_e=CW*2,t_e={draw(e,t){const r=Ll(t/e_e),n=r*CW;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},r_e={draw(e,t){const r=Ll(t),n=-r/2;e.rect(n,n,r,r)}},n_e=.8908130915292852,PW=Ib(Db/10)/Ib(7*Db/10),a_e=Ib(q5/10)*PW,i_e=-_W(q5/10)*PW,s_e={draw(e,t){const r=Ll(t*n_e),n=a_e*r,a=i_e*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const s=q5*i/5,o=_W(s),l=Ib(s);e.lineTo(l*r,-o*r),e.lineTo(o*n-l*a,l*n+o*a)}e.closePath()}},JS=Ll(3),o_e={draw(e,t){const r=-Ll(t/(JS*3));e.moveTo(0,r*2),e.lineTo(-JS*r,-r),e.lineTo(JS*r,-r),e.closePath()}},Eo=-.5,ko=Ll(3)/2,Y3=1/Ll(12),l_e=(Y3/2+1)*3,c_e={draw(e,t){const r=Ll(t/l_e),n=r/2,a=r*Y3,i=n,s=r*Y3+r,o=-i,l=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(o,l),e.lineTo(Eo*n-ko*a,ko*n+Eo*a),e.lineTo(Eo*i-ko*s,ko*i+Eo*s),e.lineTo(Eo*o-ko*l,ko*o+Eo*l),e.lineTo(Eo*n+ko*a,Eo*a-ko*n),e.lineTo(Eo*i+ko*s,Eo*s-ko*i),e.lineTo(Eo*o+ko*l,Eo*l-ko*o),e.closePath()}};function u_e(e,t){let r=null,n=DC(a);e=typeof e=="function"?e:zn(e||MC),t=typeof t=="function"?t:zn(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:zn(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:zn(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Lb(){}function Mb(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function jW(e){this._context=e}jW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Mb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Mb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function f_e(e){return new jW(e)}function OW(e){this._context=e}OW.prototype={areaStart:Lb,areaEnd:Lb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Mb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function d_e(e){return new OW(e)}function IW(e){this._context=e}IW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Mb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function h_e(e){return new IW(e)}function DW(e){this._context=e}DW.prototype={areaStart:Lb,areaEnd:Lb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function p_e(e){return new DW(e)}function R8(e){return e<0?-1:1}function F8(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),o=(i*a+s*n)/(n+a);return(R8(i)+R8(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function $8(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function ZS(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,a+o*t,i-o,s-o*r,i,s)}function Rb(e){this._context=e}Rb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ZS(this,this._t0,$8(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ZS(this,$8(this,r=F8(this,e,t)),r);break;default:ZS(this,this._t0,r=F8(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function LW(e){this._context=new MW(e)}(LW.prototype=Object.create(Rb.prototype)).point=function(e,t){Rb.prototype.point.call(this,t,e)};function MW(e){this._context=e}MW.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function m_e(e){return new Rb(e)}function g_e(e){return new LW(e)}function RW(e){this._context=e}RW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=B8(e),a=B8(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function B8(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function v_e(e){return new RW(e)}function H5(e,t){this._context=e,this._t=t}H5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function y_e(e){return new H5(e,.5)}function x_e(e){return new H5(e,0)}function b_e(e){return new H5(e,1)}function Np(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,o=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function X3(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function w_e(e,t){return e[t]}function __e(e){const t=[];return t.key=e,t}function S_e(){var e=zn([]),t=X3,r=Np,n=w_e;function a(i){var s=Array.from(e.apply(this,arguments),__e),o,l=s.length,c=-1,u;for(const d of i)for(o=0,++c;o<l;++o)(s[o][c]=[0,+n(d,s[o].key,c,i)]).data=d;for(o=0,u=LC(t(s));o<l;++o)s[u[o]].index=o;return r(s,u),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:zn(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:zn(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?X3:typeof i=="function"?i:zn(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Np,a):r},a}function A_e(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}Np(e,t)}}function T_e(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,o=0;s<a;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}Np(e,t)}}function N_e(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var o=0,l=0,c=0;o<s;++o){for(var u=e[t[o]],d=u[n][1]||0,h=u[n-1][1]||0,p=(d-h)/2,g=0;g<o;++g){var m=e[t[g]],v=m[n][1]||0,y=m[n-1][1]||0;p+=v-y}l+=d,c+=p*d}a[n-1][1]+=a[n-1][0]=r,l&&(r-=c/l)}a[n-1][1]+=a[n-1][0]=r,Np(e,t)}}function e1(e){"@babel/helpers - typeof";return e1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e1(e)}var E_e=["type","size","sizeType"];function Q3(){return Q3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q3.apply(this,arguments)}function U8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function V8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U8(Object(r),!0).forEach(function(n){k_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k_e(e,t,r){return t=C_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C_e(e){var t=P_e(e,"string");return e1(t)=="symbol"?t:t+""}function P_e(e,t){if(e1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(e1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function j_e(e,t){if(e==null)return{};var r=O_e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function O_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var FW={symbolCircle:MC,symbolCross:Z5e,symbolDiamond:t_e,symbolSquare:r_e,symbolStar:s_e,symbolTriangle:o_e,symbolWye:c_e},I_e=Math.PI/180,D_e=function(t){var r="symbol".concat(z5(t));return FW[r]||MC},L_e=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*I_e;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},M_e=function(t,r){FW["symbol".concat(z5(t))]=r},RC=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,s=t.sizeType,o=s===void 0?"area":s,l=j_e(t,E_e),c=V8(V8({},l),{},{type:n,size:i,sizeType:o}),u=function(){var v=D_e(n),y=u_e().type(v).size(L_e(i,o,n));return y()},d=c.className,h=c.cx,p=c.cy,g=Jr(c,!0);return h===+h&&p===+p&&i===+i?ze.createElement("path",Q3({},g,{className:dn("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};RC.registerSymbol=M_e;function Ep(e){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ep(e)}function J3(){return J3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},J3.apply(this,arguments)}function z8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function R_e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z8(Object(r),!0).forEach(function(n){t1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $_e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BW(n.key),n)}}function B_e(e,t,r){return t&&$_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function U_e(e,t,r){return t=Fb(t),V_e(e,$W()?Reflect.construct(t,r||[],Fb(e).constructor):t.apply(e,r))}function V_e(e,t){if(t&&(Ep(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z_e(e)}function z_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $W(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($W=function(){return!!e})()}function Fb(e){return Fb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fb(e)}function q_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z3(e,t)}function Z3(e,t){return Z3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Z3(e,t)}function t1(e,t,r){return t=BW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BW(e){var t=W_e(e,"string");return Ep(t)=="symbol"?t:t+""}function W_e(e,t){if(Ep(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ep(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Co=32,FC=function(e){function t(){return F_e(this,t),U_e(this,t,arguments)}return q_e(t,e),B_e(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Co/2,s=Co/6,o=Co/3,l=n.inactive?a:n.color;if(n.type==="plainline")return ze.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Co,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return ze.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(Co,"M").concat(2*o,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return ze.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Co/8,"h").concat(Co,"v").concat(Co*3/4,"h").concat(-Co,"z"),className:"recharts-legend-icon"});if(ze.isValidElement(n.legendIcon)){var c=R_e({},n);return delete c.legendIcon,ze.cloneElement(n.legendIcon,c)}return ze.createElement(RC,{fill:l,cx:i,cy:i,size:Co,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,s=a.iconSize,o=a.layout,l=a.formatter,c=a.inactiveColor,u={x:0,y:0,width:Co,height:Co},d={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,g){var m=p.formatter||l,v=dn(t1(t1({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=Fr(p.value)?null:p.value;Zc(!Fr(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=p.inactive?c:p.color;return ze.createElement("li",J3({className:v,style:d,key:"legend-item-".concat(g)},Ob(n.props,p,g)),ze.createElement(z3,{width:s,height:s,viewBox:u,style:h},n.renderIcon(p)),ze.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},m?m(y,p,g):y))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,s=n.align;if(!a||!a.length)return null;var o={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return ze.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(F.PureComponent);t1(FC,"displayName","Legend");t1(FC,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var H_e=P5;function G_e(){this.__data__=new H_e,this.size=0}var K_e=G_e;function Y_e(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var X_e=Y_e;function Q_e(e){return this.__data__.get(e)}var J_e=Q_e;function Z_e(e){return this.__data__.has(e)}var eSe=Z_e,tSe=P5,rSe=TC,nSe=NC,aSe=200;function iSe(e,t){var r=this.__data__;if(r instanceof tSe){var n=r.__data__;if(!rSe||n.length<aSe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new nSe(n)}return r.set(e,t),this.size=r.size,this}var sSe=iSe,oSe=P5,lSe=K_e,cSe=X_e,uSe=J_e,fSe=eSe,dSe=sSe;function xm(e){var t=this.__data__=new oSe(e);this.size=t.size}xm.prototype.clear=lSe;xm.prototype.delete=cSe;xm.prototype.get=uSe;xm.prototype.has=fSe;xm.prototype.set=dSe;var UW=xm,hSe="__lodash_hash_undefined__";function pSe(e){return this.__data__.set(e,hSe),this}var mSe=pSe;function gSe(e){return this.__data__.has(e)}var vSe=gSe,ySe=NC,xSe=mSe,bSe=vSe;function $b(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new ySe;++t<r;)this.add(e[t])}$b.prototype.add=$b.prototype.push=xSe;$b.prototype.has=bSe;var VW=$b;function wSe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var zW=wSe;function _Se(e,t){return e.has(t)}var qW=_Se,SSe=VW,ASe=zW,TSe=qW,NSe=1,ESe=2;function kSe(e,t,r,n,a,i){var s=r&NSe,o=e.length,l=t.length;if(o!=l&&!(s&&l>o))return!1;var c=i.get(e),u=i.get(t);if(c&&u)return c==t&&u==e;var d=-1,h=!0,p=r&ESe?new SSe:void 0;for(i.set(e,t),i.set(t,e);++d<o;){var g=e[d],m=t[d];if(n)var v=s?n(m,g,d,t,e,i):n(g,m,d,e,t,i);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!ASe(t,function(y,w){if(!TSe(p,w)&&(g===y||a(g,y,r,n,i)))return p.push(w)})){h=!1;break}}else if(!(g===m||a(g,m,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var WW=kSe,CSe=yc,PSe=CSe.Uint8Array,jSe=PSe;function OSe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var ISe=OSe;function DSe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var $C=DSe,q8=ly,W8=jSe,LSe=AC,MSe=WW,RSe=ISe,FSe=$C,$Se=1,BSe=2,USe="[object Boolean]",VSe="[object Date]",zSe="[object Error]",qSe="[object Map]",WSe="[object Number]",HSe="[object RegExp]",GSe="[object Set]",KSe="[object String]",YSe="[object Symbol]",XSe="[object ArrayBuffer]",QSe="[object DataView]",H8=q8?q8.prototype:void 0,eA=H8?H8.valueOf:void 0;function JSe(e,t,r,n,a,i,s){switch(r){case QSe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case XSe:return!(e.byteLength!=t.byteLength||!i(new W8(e),new W8(t)));case USe:case VSe:case WSe:return LSe(+e,+t);case zSe:return e.name==t.name&&e.message==t.message;case HSe:case KSe:return e==t+"";case qSe:var o=RSe;case GSe:var l=n&$Se;if(o||(o=FSe),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;n|=BSe,s.set(e,t);var u=MSe(o(e),o(t),n,a,i,s);return s.delete(e),u;case YSe:if(eA)return eA.call(e)==eA.call(t)}return!1}var ZSe=JSe;function eAe(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var HW=eAe,tAe=HW,rAe=Hs;function nAe(e,t,r){var n=t(e);return rAe(e)?n:tAe(n,r(e))}var aAe=nAe;function iAe(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var s=e[r];t(s,r,e)&&(i[a++]=s)}return i}var sAe=iAe;function oAe(){return[]}var lAe=oAe,cAe=sAe,uAe=lAe,fAe=Object.prototype,dAe=fAe.propertyIsEnumerable,G8=Object.getOwnPropertySymbols,hAe=G8?function(e){return e==null?[]:(e=Object(e),cAe(G8(e),function(t){return dAe.call(e,t)}))}:uAe,pAe=hAe;function mAe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var gAe=mAe,vAe=Nu,yAe=Eu,xAe="[object Arguments]";function bAe(e){return yAe(e)&&vAe(e)==xAe}var wAe=bAe,K8=wAe,_Ae=Eu,GW=Object.prototype,SAe=GW.hasOwnProperty,AAe=GW.propertyIsEnumerable,TAe=K8(function(){return arguments}())?K8:function(e){return _Ae(e)&&SAe.call(e,"callee")&&!AAe.call(e,"callee")},BC=TAe,Bb={exports:{}};function NAe(){return!1}var EAe=NAe;Bb.exports;(function(e,t){var r=yc,n=EAe,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===a,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||n;e.exports=c})(Bb,Bb.exports);var KW=Bb.exports,kAe=9007199254740991,CAe=/^(?:0|[1-9]\d*)$/;function PAe(e,t){var r=typeof e;return t=t??kAe,!!t&&(r=="number"||r!="symbol"&&CAe.test(e))&&e>-1&&e%1==0&&e<t}var UC=PAe,jAe=9007199254740991;function OAe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=jAe}var VC=OAe,IAe=Nu,DAe=VC,LAe=Eu,MAe="[object Arguments]",RAe="[object Array]",FAe="[object Boolean]",$Ae="[object Date]",BAe="[object Error]",UAe="[object Function]",VAe="[object Map]",zAe="[object Number]",qAe="[object Object]",WAe="[object RegExp]",HAe="[object Set]",GAe="[object String]",KAe="[object WeakMap]",YAe="[object ArrayBuffer]",XAe="[object DataView]",QAe="[object Float32Array]",JAe="[object Float64Array]",ZAe="[object Int8Array]",e4e="[object Int16Array]",t4e="[object Int32Array]",r4e="[object Uint8Array]",n4e="[object Uint8ClampedArray]",a4e="[object Uint16Array]",i4e="[object Uint32Array]",Kn={};Kn[QAe]=Kn[JAe]=Kn[ZAe]=Kn[e4e]=Kn[t4e]=Kn[r4e]=Kn[n4e]=Kn[a4e]=Kn[i4e]=!0;Kn[MAe]=Kn[RAe]=Kn[YAe]=Kn[FAe]=Kn[XAe]=Kn[$Ae]=Kn[BAe]=Kn[UAe]=Kn[VAe]=Kn[zAe]=Kn[qAe]=Kn[WAe]=Kn[HAe]=Kn[GAe]=Kn[KAe]=!1;function s4e(e){return LAe(e)&&DAe(e.length)&&!!Kn[IAe(e)]}var o4e=s4e;function l4e(e){return function(t){return e(t)}}var YW=l4e,Ub={exports:{}};Ub.exports;(function(e,t){var r=nW,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,s=i&&r.process,o=function(){try{var l=a&&a.require&&a.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o})(Ub,Ub.exports);var c4e=Ub.exports,u4e=o4e,f4e=YW,Y8=c4e,X8=Y8&&Y8.isTypedArray,d4e=X8?f4e(X8):u4e,XW=d4e,h4e=gAe,p4e=BC,m4e=Hs,g4e=KW,v4e=UC,y4e=XW,x4e=Object.prototype,b4e=x4e.hasOwnProperty;function w4e(e,t){var r=m4e(e),n=!r&&p4e(e),a=!r&&!n&&g4e(e),i=!r&&!n&&!a&&y4e(e),s=r||n||a||i,o=s?h4e(e.length,String):[],l=o.length;for(var c in e)(t||b4e.call(e,c))&&!(s&&(c=="length"||a&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||v4e(c,l)))&&o.push(c);return o}var _4e=w4e,S4e=Object.prototype;function A4e(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||S4e;return e===r}var T4e=A4e;function N4e(e,t){return function(r){return e(t(r))}}var QW=N4e,E4e=QW,k4e=E4e(Object.keys,Object),C4e=k4e,P4e=T4e,j4e=C4e,O4e=Object.prototype,I4e=O4e.hasOwnProperty;function D4e(e){if(!P4e(e))return j4e(e);var t=[];for(var r in Object(e))I4e.call(e,r)&&r!="constructor"&&t.push(r);return t}var L4e=D4e,M4e=SC,R4e=VC;function F4e(e){return e!=null&&R4e(e.length)&&!M4e(e)}var fy=F4e,$4e=_4e,B4e=L4e,U4e=fy;function V4e(e){return U4e(e)?$4e(e):B4e(e)}var G5=V4e,z4e=aAe,q4e=pAe,W4e=G5;function H4e(e){return z4e(e,W4e,q4e)}var G4e=H4e,Q8=G4e,K4e=1,Y4e=Object.prototype,X4e=Y4e.hasOwnProperty;function Q4e(e,t,r,n,a,i){var s=r&K4e,o=Q8(e),l=o.length,c=Q8(t),u=c.length;if(l!=u&&!s)return!1;for(var d=l;d--;){var h=o[d];if(!(s?h in t:X4e.call(t,h)))return!1}var p=i.get(e),g=i.get(t);if(p&&g)return p==t&&g==e;var m=!0;i.set(e,t),i.set(t,e);for(var v=s;++d<l;){h=o[d];var y=e[h],w=t[h];if(n)var b=s?n(w,y,h,t,e,i):n(y,w,h,e,t,i);if(!(b===void 0?y===w||a(y,w,r,n,i):b)){m=!1;break}v||(v=h=="constructor")}if(m&&!v){var D=e.constructor,P=t.constructor;D!=P&&"constructor"in e&&"constructor"in t&&!(typeof D=="function"&&D instanceof D&&typeof P=="function"&&P instanceof P)&&(m=!1)}return i.delete(e),i.delete(t),m}var J4e=Q4e,Z4e=Dh,e3e=yc,t3e=Z4e(e3e,"DataView"),r3e=t3e,n3e=Dh,a3e=yc,i3e=n3e(a3e,"Promise"),s3e=i3e,o3e=Dh,l3e=yc,c3e=o3e(l3e,"Set"),JW=c3e,u3e=Dh,f3e=yc,d3e=u3e(f3e,"WeakMap"),h3e=d3e,eT=r3e,tT=TC,rT=s3e,nT=JW,aT=h3e,ZW=Nu,bm=iW,J8="[object Map]",p3e="[object Object]",Z8="[object Promise]",eL="[object Set]",tL="[object WeakMap]",rL="[object DataView]",m3e=bm(eT),g3e=bm(tT),v3e=bm(rT),y3e=bm(nT),x3e=bm(aT),jd=ZW;(eT&&jd(new eT(new ArrayBuffer(1)))!=rL||tT&&jd(new tT)!=J8||rT&&jd(rT.resolve())!=Z8||nT&&jd(new nT)!=eL||aT&&jd(new aT)!=tL)&&(jd=function(e){var t=ZW(e),r=t==p3e?e.constructor:void 0,n=r?bm(r):"";if(n)switch(n){case m3e:return rL;case g3e:return J8;case v3e:return Z8;case y3e:return eL;case x3e:return tL}return t});var b3e=jd,tA=UW,w3e=WW,_3e=ZSe,S3e=J4e,nL=b3e,aL=Hs,iL=KW,A3e=XW,T3e=1,sL="[object Arguments]",oL="[object Array]",Nx="[object Object]",N3e=Object.prototype,lL=N3e.hasOwnProperty;function E3e(e,t,r,n,a,i){var s=aL(e),o=aL(t),l=s?oL:nL(e),c=o?oL:nL(t);l=l==sL?Nx:l,c=c==sL?Nx:c;var u=l==Nx,d=c==Nx,h=l==c;if(h&&iL(e)){if(!iL(t))return!1;s=!0,u=!1}if(h&&!u)return i||(i=new tA),s||A3e(e)?w3e(e,t,r,n,a,i):_3e(e,t,l,r,n,a,i);if(!(r&T3e)){var p=u&&lL.call(e,"__wrapped__"),g=d&&lL.call(t,"__wrapped__");if(p||g){var m=p?e.value():e,v=g?t.value():t;return i||(i=new tA),a(m,v,r,n,i)}}return h?(i||(i=new tA),S3e(e,t,r,n,a,i)):!1}var k3e=E3e,C3e=k3e,cL=Eu;function eH(e,t,r,n,a){return e===t?!0:e==null||t==null||!cL(e)&&!cL(t)?e!==e&&t!==t:C3e(e,t,r,n,eH,a)}var zC=eH,P3e=UW,j3e=zC,O3e=1,I3e=2;function D3e(e,t,r,n){var a=r.length,i=a,s=!n;if(e==null)return!i;for(e=Object(e);a--;){var o=r[a];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++a<i;){o=r[a];var l=o[0],c=e[l],u=o[1];if(s&&o[2]){if(c===void 0&&!(l in e))return!1}else{var d=new P3e;if(n)var h=n(c,u,l,e,t,d);if(!(h===void 0?j3e(u,c,O3e|I3e,n,d):h))return!1}}return!0}var L3e=D3e,M3e=sd;function R3e(e){return e===e&&!M3e(e)}var tH=R3e,F3e=tH,$3e=G5;function B3e(e){for(var t=$3e(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,F3e(a)]}return t}var U3e=B3e;function V3e(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var rH=V3e,z3e=L3e,q3e=U3e,W3e=rH;function H3e(e){var t=q3e(e);return t.length==1&&t[0][2]?W3e(t[0][0],t[0][1]):function(r){return r===e||z3e(r,e,t)}}var G3e=H3e;function K3e(e,t){return e!=null&&t in Object(e)}var Y3e=K3e,X3e=uW,Q3e=BC,J3e=Hs,Z3e=UC,eTe=VC,tTe=O5;function rTe(e,t,r){t=X3e(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var s=tTe(t[n]);if(!(i=e!=null&&r(e,s)))break;e=e[s]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&eTe(a)&&Z3e(s,a)&&(J3e(e)||Q3e(e)))}var nTe=rTe,aTe=Y3e,iTe=nTe;function sTe(e,t){return e!=null&&iTe(e,t,aTe)}var oTe=sTe,lTe=zC,cTe=fW,uTe=oTe,fTe=_C,dTe=tH,hTe=rH,pTe=O5,mTe=1,gTe=2;function vTe(e,t){return fTe(e)&&dTe(t)?hTe(pTe(e),t):function(r){var n=cTe(r,e);return n===void 0&&n===t?uTe(r,e):lTe(t,n,mTe|gTe)}}var yTe=vTe;function xTe(e){return e}var wm=xTe;function bTe(e){return function(t){return t==null?void 0:t[e]}}var wTe=bTe,_Te=CC;function STe(e){return function(t){return _Te(t,e)}}var ATe=STe,TTe=wTe,NTe=ATe,ETe=_C,kTe=O5;function CTe(e){return ETe(e)?TTe(kTe(e)):NTe(e)}var PTe=CTe,jTe=G3e,OTe=yTe,ITe=wm,DTe=Hs,LTe=PTe;function MTe(e){return typeof e=="function"?e:e==null?ITe:typeof e=="object"?DTe(e)?OTe(e[0],e[1]):jTe(e):LTe(e)}var od=MTe;function RTe(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var nH=RTe;function FTe(e){return e!==e}var $Te=FTe;function BTe(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var UTe=BTe,VTe=nH,zTe=$Te,qTe=UTe;function WTe(e,t,r){return t===t?qTe(e,t,r):VTe(e,zTe,r)}var HTe=WTe,GTe=HTe;function KTe(e,t){var r=e==null?0:e.length;return!!r&&GTe(e,t,0)>-1}var YTe=KTe;function XTe(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var QTe=XTe;function JTe(){}var ZTe=JTe,rA=JW,eNe=ZTe,tNe=$C,rNe=1/0,nNe=rA&&1/tNe(new rA([,-0]))[1]==rNe?function(e){return new rA(e)}:eNe,aNe=nNe,iNe=VW,sNe=YTe,oNe=QTe,lNe=qW,cNe=aNe,uNe=$C,fNe=200;function dNe(e,t,r){var n=-1,a=sNe,i=e.length,s=!0,o=[],l=o;if(r)s=!1,a=oNe;else if(i>=fNe){var c=t?null:cNe(e);if(c)return uNe(c);s=!1,a=lNe,l=new iNe}else l=t?[]:o;e:for(;++n<i;){var u=e[n],d=t?t(u):u;if(u=r||u!==0?u:0,s&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),o.push(u)}else a(l,d,r)||(l!==o&&l.push(d),o.push(u))}return o}var hNe=dNe,pNe=od,mNe=hNe;function gNe(e,t){return e&&e.length?mNe(e,pNe(t)):[]}var vNe=gNe;const uL=Dn(vNe);function aH(e,t,r){return t===!0?uL(e,r):Fr(t)?uL(e,t):e}function kp(e){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kp(e)}var yNe=["ref"];function fL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fL(Object(r),!0).forEach(function(n){K5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sH(n.key),n)}}function bNe(e,t,r){return t&&dL(e.prototype,t),r&&dL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wNe(e,t,r){return t=Vb(t),_Ne(e,iH()?Reflect.construct(t,r||[],Vb(e).constructor):t.apply(e,r))}function _Ne(e,t){if(t&&(kp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SNe(e)}function SNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iH=function(){return!!e})()}function Vb(e){return Vb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vb(e)}function ANe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iT(e,t)}function iT(e,t){return iT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},iT(e,t)}function K5(e,t,r){return t=sH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sH(e){var t=TNe(e,"string");return kp(t)=="symbol"?t:t+""}function TNe(e,t){if(kp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NNe(e,t){if(e==null)return{};var r=ENe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ENe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function kNe(e){return e.value}function CNe(e,t){if(ze.isValidElement(e))return ze.cloneElement(e,t);if(typeof e=="function")return ze.createElement(e,t);t.ref;var r=NNe(t,yNe);return ze.createElement(FC,r)}var hL=1,zo=function(e){function t(){var r;xNe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=wNe(this,t,[].concat(a)),K5(r,"lastBoundingBox",{width:-1,height:-1}),r}return ANe(t,e),bNe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>hL||Math.abs(a.height-this.lastBoundingBox.height)>hL)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Rc({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,s=a.align,o=a.verticalAlign,l=a.margin,c=a.chartWidth,u=a.chartHeight,d,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();d={left:((c||0)-p.width)/2}}else d=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var g=this.getBBoxSnapshot();h={top:((u||0)-g.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Rc(Rc({},d),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,s=a.width,o=a.height,l=a.wrapperStyle,c=a.payloadUniqBy,u=a.payload,d=Rc(Rc({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return ze.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(p){n.wrapperNode=p}},CNe(i,Rc(Rc({},this.props),{},{payload:aH(u,c,kNe)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Rc(Rc({},this.defaultProps),n.props),s=i.layout;return s==="vertical"&&qt(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||a}:null}}])}(F.PureComponent);K5(zo,"displayName","Legend");K5(zo,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var pL=ly,PNe=BC,jNe=Hs,mL=pL?pL.isConcatSpreadable:void 0;function ONe(e){return jNe(e)||PNe(e)||!!(mL&&e&&e[mL])}var INe=ONe,DNe=HW,LNe=INe;function oH(e,t,r,n,a){var i=-1,s=e.length;for(r||(r=LNe),a||(a=[]);++i<s;){var o=e[i];t>0&&r(o)?t>1?oH(o,t-1,r,n,a):DNe(a,o):n||(a[a.length]=o)}return a}var lH=oH;function MNe(e){return function(t,r,n){for(var a=-1,i=Object(t),s=n(t),o=s.length;o--;){var l=s[e?o:++a];if(r(i[l],l,i)===!1)break}return t}}var RNe=MNe,FNe=RNe,$Ne=FNe(),BNe=$Ne,UNe=BNe,VNe=G5;function zNe(e,t){return e&&UNe(e,t,VNe)}var cH=zNe,qNe=fy;function WNe(e,t){return function(r,n){if(r==null)return r;if(!qNe(r))return e(r,n);for(var a=r.length,i=t?a:-1,s=Object(r);(t?i--:++i<a)&&n(s[i],i,s)!==!1;);return r}}var HNe=WNe,GNe=cH,KNe=HNe,YNe=KNe(GNe),qC=YNe,XNe=qC,QNe=fy;function JNe(e,t){var r=-1,n=QNe(e)?Array(e.length):[];return XNe(e,function(a,i,s){n[++r]=t(a,i,s)}),n}var uH=JNe;function ZNe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var eEe=ZNe,gL=pm;function tEe(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=gL(e),s=t!==void 0,o=t===null,l=t===t,c=gL(t);if(!o&&!c&&!i&&e>t||i&&s&&l&&!o&&!c||n&&s&&l||!r&&l||!a)return 1;if(!n&&!i&&!c&&e<t||c&&r&&a&&!n&&!i||o&&r&&a||!s&&a||!l)return-1}return 0}var rEe=tEe,nEe=rEe;function aEe(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,s=a.length,o=r.length;++n<s;){var l=nEe(a[n],i[n]);if(l){if(n>=o)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return e.index-t.index}var iEe=aEe,nA=kC,sEe=CC,oEe=od,lEe=uH,cEe=eEe,uEe=YW,fEe=iEe,dEe=wm,hEe=Hs;function pEe(e,t,r){t.length?t=nA(t,function(i){return hEe(i)?function(s){return sEe(s,i.length===1?i[0]:i)}:i}):t=[dEe];var n=-1;t=nA(t,uEe(oEe));var a=lEe(e,function(i,s,o){var l=nA(t,function(c){return c(i)});return{criteria:l,index:++n,value:i}});return cEe(a,function(i,s){return fEe(i,s,r)})}var mEe=pEe;function gEe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var vEe=gEe,yEe=vEe,vL=Math.max;function xEe(e,t,r){return t=vL(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=vL(n.length-t,0),s=Array(i);++a<i;)s[a]=n[t+a];a=-1;for(var o=Array(t+1);++a<t;)o[a]=n[a];return o[t]=r(s),yEe(e,this,o)}}var bEe=xEe;function wEe(e){return function(){return e}}var _Ee=wEe,SEe=Dh,AEe=function(){try{var e=SEe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),fH=AEe,TEe=_Ee,yL=fH,NEe=wm,EEe=yL?function(e,t){return yL(e,"toString",{configurable:!0,enumerable:!1,value:TEe(t),writable:!0})}:NEe,kEe=EEe,CEe=800,PEe=16,jEe=Date.now;function OEe(e){var t=0,r=0;return function(){var n=jEe(),a=PEe-(n-r);if(r=n,a>0){if(++t>=CEe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var IEe=OEe,DEe=kEe,LEe=IEe,MEe=LEe(DEe),REe=MEe,FEe=wm,$Ee=bEe,BEe=REe;function UEe(e,t){return BEe($Ee(e,t,FEe),e+"")}var VEe=UEe,zEe=AC,qEe=fy,WEe=UC,HEe=sd;function GEe(e,t,r){if(!HEe(r))return!1;var n=typeof t;return(n=="number"?qEe(r)&&WEe(t,r.length):n=="string"&&t in r)?zEe(r[t],e):!1}var Y5=GEe,KEe=lH,YEe=mEe,XEe=VEe,xL=Y5,QEe=XEe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&xL(e,t[0],t[1])?t=[]:r>2&&xL(t[0],t[1],t[2])&&(t=[t[0]]),YEe(e,KEe(t,1),[])}),JEe=QEe;const WC=Dn(JEe);function r1(e){"@babel/helpers - typeof";return r1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r1(e)}function sT(){return sT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sT.apply(this,arguments)}function ZEe(e,t){return nke(e)||rke(e,t)||tke(e,t)||eke()}function eke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tke(e,t){if(e){if(typeof e=="string")return bL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bL(e,t)}}function bL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function nke(e){if(Array.isArray(e))return e}function wL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wL(Object(r),!0).forEach(function(n){ake(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ake(e,t,r){return t=ike(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ike(e){var t=ske(e,"string");return r1(t)=="symbol"?t:t+""}function ske(e,t){if(r1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(r1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oke(e){return Array.isArray(e)&&ei(e[0])&&ei(e[1])?e.join(" ~ "):e}var lke=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,s=t.itemStyle,o=s===void 0?{}:s,l=t.labelStyle,c=l===void 0?{}:l,u=t.payload,d=t.formatter,h=t.itemSorter,p=t.wrapperClassName,g=t.labelClassName,m=t.label,v=t.labelFormatter,y=t.accessibilityLayer,w=y===void 0?!1:y,b=function(){if(u&&u.length){var E={padding:0,margin:0},k=(h?WC(u,h):u).map(function(U,G){if(U.type==="none")return null;var z=aA({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},o),X=U.formatter||d||oke,V=U.value,H=U.name,re=V,ee=H;if(X&&re!=null&&ee!=null){var I=X(V,H,U,G,u);if(Array.isArray(I)){var M=ZEe(I,2);re=M[0],ee=M[1]}else re=I}return ze.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(G),style:z},ei(ee)?ze.createElement("span",{className:"recharts-tooltip-item-name"},ee):null,ei(ee)?ze.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,ze.createElement("span",{className:"recharts-tooltip-item-value"},re),ze.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return ze.createElement("ul",{className:"recharts-tooltip-item-list",style:E},k)}return null},D=aA({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),P=aA({margin:0},c),O=!Vr(m),T=O?m:"",S=dn("recharts-default-tooltip",p),_=dn("recharts-tooltip-label",g);O&&v&&u!==void 0&&u!==null&&(T=v(m,u));var j=w?{role:"status","aria-live":"assertive"}:{};return ze.createElement("div",sT({className:S,style:D},j),ze.createElement("p",{className:_,style:P},ze.isValidElement(T)?T:"".concat(T)),b())};function n1(e){"@babel/helpers - typeof";return n1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n1(e)}function Ex(e,t,r){return t=cke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cke(e){var t=uke(e,"string");return n1(t)=="symbol"?t:t+""}function uke(e,t){if(n1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(n1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zm="recharts-tooltip-wrapper",fke={visibility:"hidden"};function dke(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return dn(Zm,Ex(Ex(Ex(Ex({},"".concat(Zm,"-right"),qt(r)&&t&&qt(t.x)&&r>=t.x),"".concat(Zm,"-left"),qt(r)&&t&&qt(t.x)&&r<t.x),"".concat(Zm,"-bottom"),qt(n)&&t&&qt(t.y)&&n>=t.y),"".concat(Zm,"-top"),qt(n)&&t&&qt(t.y)&&n<t.y))}function _L(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,s=e.reverseDirection,o=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(i&&qt(i[n]))return i[n];var u=r[n]-o-a,d=r[n]+a;if(t[n])return s[n]?u:d;if(s[n]){var h=u,p=l[n];return h<p?Math.max(d,l[n]):Math.max(u,l[n])}var g=d+o,m=l[n]+c;return g>m?Math.max(u,l[n]):Math.max(d,l[n])}function hke(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function pke(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,s=e.tooltipBox,o=e.useTranslate3d,l=e.viewBox,c,u,d;return s.height>0&&s.width>0&&r?(u=_L({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),d=_L({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=hke({translateX:u,translateY:d,useTranslate3d:o})):c=fke,{cssProperties:c,cssClasses:dke({translateX:u,translateY:d,coordinate:r})}}function Cp(e){"@babel/helpers - typeof";return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cp(e)}function SL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function AL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SL(Object(r),!0).forEach(function(n){lT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gke(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hH(n.key),n)}}function vke(e,t,r){return t&&gke(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yke(e,t,r){return t=zb(t),xke(e,dH()?Reflect.construct(t,r||[],zb(e).constructor):t.apply(e,r))}function xke(e,t){if(t&&(Cp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bke(e)}function bke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dH=function(){return!!e})()}function zb(e){return zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zb(e)}function wke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oT(e,t)}function oT(e,t){return oT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},oT(e,t)}function lT(e,t,r){return t=hH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hH(e){var t=_ke(e,"string");return Cp(t)=="symbol"?t:t+""}function _ke(e,t){if(Cp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TL=1,Ske=function(e){function t(){var r;mke(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=yke(this,t,[].concat(a)),lT(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),lT(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,c,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),r}return wke(t,e),vke(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>TL||Math.abs(n.height-this.state.lastBoundingBox.height)>TL)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,l=a.animationEasing,c=a.children,u=a.coordinate,d=a.hasPayload,h=a.isAnimationActive,p=a.offset,g=a.position,m=a.reverseDirection,v=a.useTranslate3d,y=a.viewBox,w=a.wrapperStyle,b=pke({allowEscapeViewBox:s,coordinate:u,offsetTopLeft:p,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:y}),D=b.cssClasses,P=b.cssProperties,O=AL(AL({transition:h&&i?"transform ".concat(o,"ms ").concat(l):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&d?"visible":"hidden",position:"absolute",top:0,left:0},w);return ze.createElement("div",{tabIndex:-1,className:D,style:O,ref:function(S){n.wrapperNode=S}},c)}}])}(F.PureComponent),Ake=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},eu={isSsr:Ake(),get:function(t){return eu[t]},set:function(t,r){if(typeof t=="string")eu[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){eu[a]=t[a]})}}};function Pp(e){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pp(e)}function NL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function EL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NL(Object(r),!0).forEach(function(n){HC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nke(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mH(n.key),n)}}function Eke(e,t,r){return t&&Nke(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function kke(e,t,r){return t=qb(t),Cke(e,pH()?Reflect.construct(t,r||[],qb(e).constructor):t.apply(e,r))}function Cke(e,t){if(t&&(Pp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pke(e)}function Pke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pH=function(){return!!e})()}function qb(e){return qb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qb(e)}function jke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cT(e,t)}function cT(e,t){return cT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},cT(e,t)}function HC(e,t,r){return t=mH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mH(e){var t=Oke(e,"string");return Pp(t)=="symbol"?t:t+""}function Oke(e,t){if(Pp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ike(e){return e.dataKey}function Dke(e,t){return ze.isValidElement(e)?ze.cloneElement(e,t):typeof e=="function"?ze.createElement(e,t):ze.createElement(lke,t)}var vs=function(e){function t(){return Tke(this,t),kke(this,t,arguments)}return jke(t,e),Eke(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,l=a.animationEasing,c=a.content,u=a.coordinate,d=a.filterNull,h=a.isAnimationActive,p=a.offset,g=a.payload,m=a.payloadUniqBy,v=a.position,y=a.reverseDirection,w=a.useTranslate3d,b=a.viewBox,D=a.wrapperStyle,P=g??[];d&&P.length&&(P=aH(g.filter(function(T){return T.value!=null&&(T.hide!==!0||n.props.includeHidden)}),m,Ike));var O=P.length>0;return ze.createElement(Ske,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:h,active:i,coordinate:u,hasPayload:O,offset:p,position:v,reverseDirection:y,useTranslate3d:w,viewBox:b,wrapperStyle:D},Dke(c,EL(EL({},this.props),{},{payload:P})))}}])}(F.PureComponent);HC(vs,"displayName","Tooltip");HC(vs,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!eu.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Lke=yc,Mke=function(){return Lke.Date.now()},Rke=Mke,Fke=/\s/;function $ke(e){for(var t=e.length;t--&&Fke.test(e.charAt(t)););return t}var Bke=$ke,Uke=Bke,Vke=/^\s+/;function zke(e){return e&&e.slice(0,Uke(e)+1).replace(Vke,"")}var qke=zke,Wke=qke,kL=sd,Hke=pm,CL=NaN,Gke=/^[-+]0x[0-9a-f]+$/i,Kke=/^0b[01]+$/i,Yke=/^0o[0-7]+$/i,Xke=parseInt;function Qke(e){if(typeof e=="number")return e;if(Hke(e))return CL;if(kL(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=kL(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Wke(e);var r=Kke.test(e);return r||Yke.test(e)?Xke(e.slice(2),r?2:8):Gke.test(e)?CL:+e}var gH=Qke,Jke=sd,iA=Rke,PL=gH,Zke="Expected a function",eCe=Math.max,tCe=Math.min;function rCe(e,t,r){var n,a,i,s,o,l,c=0,u=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(Zke);t=PL(t)||0,Jke(r)&&(u=!!r.leading,d="maxWait"in r,i=d?eCe(PL(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(O){var T=n,S=a;return n=a=void 0,c=O,s=e.apply(S,T),s}function g(O){return c=O,o=setTimeout(y,t),u?p(O):s}function m(O){var T=O-l,S=O-c,_=t-T;return d?tCe(_,i-S):_}function v(O){var T=O-l,S=O-c;return l===void 0||T>=t||T<0||d&&S>=i}function y(){var O=iA();if(v(O))return w(O);o=setTimeout(y,m(O))}function w(O){return o=void 0,h&&n?p(O):(n=a=void 0,s)}function b(){o!==void 0&&clearTimeout(o),c=0,n=l=a=o=void 0}function D(){return o===void 0?s:w(iA())}function P(){var O=iA(),T=v(O);if(n=arguments,a=this,l=O,T){if(o===void 0)return g(l);if(d)return clearTimeout(o),o=setTimeout(y,t),p(l)}return o===void 0&&(o=setTimeout(y,t)),s}return P.cancel=b,P.flush=D,P}var nCe=rCe,aCe=nCe,iCe=sd,sCe="Expected a function";function oCe(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(sCe);return iCe(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),aCe(e,t,{leading:n,maxWait:t,trailing:a})}var lCe=oCe;const vH=Dn(lCe);function a1(e){"@babel/helpers - typeof";return a1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a1(e)}function jL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jL(Object(r),!0).forEach(function(n){cCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cCe(e,t,r){return t=uCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uCe(e){var t=fCe(e,"string");return a1(t)=="symbol"?t:t+""}function fCe(e,t){if(a1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(a1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dCe(e,t){return gCe(e)||mCe(e,t)||pCe(e,t)||hCe()}function hCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pCe(e,t){if(e){if(typeof e=="string")return OL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OL(e,t)}}function OL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function gCe(e){if(Array.isArray(e))return e}var X0=F.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,s=i===void 0?"100%":i,o=e.height,l=o===void 0?"100%":o,c=e.minWidth,u=c===void 0?0:c,d=e.minHeight,h=e.maxHeight,p=e.children,g=e.debounce,m=g===void 0?0:g,v=e.id,y=e.className,w=e.onResize,b=e.style,D=b===void 0?{}:b,P=F.useRef(null),O=F.useRef();O.current=w,F.useImperativeHandle(t,function(){return Object.defineProperty(P.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),P.current},configurable:!0})});var T=F.useState({containerWidth:a.width,containerHeight:a.height}),S=dCe(T,2),_=S[0],j=S[1],N=F.useCallback(function(k,U){j(function(G){var z=Math.round(k),X=Math.round(U);return G.containerWidth===z&&G.containerHeight===X?G:{containerWidth:z,containerHeight:X}})},[]);F.useEffect(function(){var k=function(H){var re,ee=H[0].contentRect,I=ee.width,M=ee.height;N(I,M),(re=O.current)===null||re===void 0||re.call(O,I,M)};m>0&&(k=vH(k,m,{trailing:!0,leading:!1}));var U=new ResizeObserver(k),G=P.current.getBoundingClientRect(),z=G.width,X=G.height;return N(z,X),U.observe(P.current),function(){U.disconnect()}},[N,m]);var E=F.useMemo(function(){var k=_.containerWidth,U=_.containerHeight;if(k<0||U<0)return null;Zc(qd(s)||qd(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),Zc(!r||r>0,"The aspect(%s) must be greater than zero.",r);var G=qd(s)?k:s,z=qd(l)?U:l;r&&r>0&&(G?z=G/r:z&&(G=z*r),h&&z>h&&(z=h)),Zc(G>0||z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,G,z,s,l,u,d,r);var X=!Array.isArray(p)&&Jc(p.type).endsWith("Chart");return ze.Children.map(p,function(V){return ze.isValidElement(V)?F.cloneElement(V,kx({width:G,height:z},X?{style:kx({height:"100%",width:"100%",maxHeight:z,maxWidth:G},V.props.style)}:{})):V})},[r,p,l,h,d,u,_,s]);return ze.createElement("div",{id:v?"".concat(v):void 0,className:dn("recharts-responsive-container",y),style:kx(kx({},D),{},{width:s,height:l,minWidth:u,minHeight:d,maxHeight:h}),ref:P},E)}),yH=function(t){return null};yH.displayName="Cell";function i1(e){"@babel/helpers - typeof";return i1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i1(e)}function IL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IL(Object(r),!0).forEach(function(n){vCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vCe(e,t,r){return t=yCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yCe(e){var t=xCe(e,"string");return i1(t)=="symbol"?t:t+""}function xCe(e,t){if(i1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(i1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var a0={widthCache:{},cacheCount:0},bCe=2e3,wCe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},DL="recharts_measurement_span";function _Ce(e){var t=uT({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var ev=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||eu.isSsr)return{width:0,height:0};var n=_Ce(r),a=JSON.stringify({text:t,copyStyle:n});if(a0.widthCache[a])return a0.widthCache[a];try{var i=document.getElementById(DL);i||(i=document.createElement("span"),i.setAttribute("id",DL),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=uT(uT({},wCe),n);Object.assign(i.style,s),i.textContent="".concat(t);var o=i.getBoundingClientRect(),l={width:o.width,height:o.height};return a0.widthCache[a]=l,++a0.cacheCount>bCe&&(a0.cacheCount=0,a0.widthCache={}),l}catch{return{width:0,height:0}}},SCe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function s1(e){"@babel/helpers - typeof";return s1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s1(e)}function Wb(e,t){return ECe(e)||NCe(e,t)||TCe(e,t)||ACe()}function ACe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TCe(e,t){if(e){if(typeof e=="string")return LL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LL(e,t)}}function LL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function NCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function ECe(e){if(Array.isArray(e))return e}function kCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ML(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PCe(n.key),n)}}function CCe(e,t,r){return t&&ML(e.prototype,t),r&&ML(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function PCe(e){var t=jCe(e,"string");return s1(t)=="symbol"?t:t+""}function jCe(e,t){if(s1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(s1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var RL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,FL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,OCe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,ICe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,xH={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},DCe=Object.keys(xH),D0="NaN";function LCe(e,t){return e*xH[t]}var Cx=function(){function e(t,r){kCe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!OCe.test(r)&&(this.num=NaN,this.unit=""),DCe.includes(r)&&(this.num=LCe(t,r),this.unit="px")}return CCe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=ICe.exec(r))!==null&&n!==void 0?n:[],i=Wb(a,3),s=i[1],o=i[2];return new e(parseFloat(s),o??"")}}])}();function bH(e){if(e.includes(D0))return D0;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=RL.exec(t))!==null&&r!==void 0?r:[],a=Wb(n,4),i=a[1],s=a[2],o=a[3],l=Cx.parse(i??""),c=Cx.parse(o??""),u=s==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return D0;t=t.replace(RL,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,h=(d=FL.exec(t))!==null&&d!==void 0?d:[],p=Wb(h,4),g=p[1],m=p[2],v=p[3],y=Cx.parse(g??""),w=Cx.parse(v??""),b=m==="+"?y.add(w):y.subtract(w);if(b.isNaN())return D0;t=t.replace(FL,b.toString())}return t}var $L=/\(([^()]*)\)/;function MCe(e){for(var t=e;t.includes("(");){var r=$L.exec(t),n=Wb(r,2),a=n[1];t=t.replace($L,bH(a))}return t}function RCe(e){var t=e.replace(/\s+/g,"");return t=MCe(t),t=bH(t),t}function FCe(e){try{return RCe(e)}catch{return D0}}function sA(e){var t=FCe(e.slice(5,-1));return t===D0?"":t}var $Ce=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],BCe=["dx","dy","angle","className","breakAll"];function fT(){return fT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fT.apply(this,arguments)}function BL(e,t){if(e==null)return{};var r=UCe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function UCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function UL(e,t){return WCe(e)||qCe(e,t)||zCe(e,t)||VCe()}function VCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zCe(e,t){if(e){if(typeof e=="string")return VL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VL(e,t)}}function VL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function WCe(e){if(Array.isArray(e))return e}var wH=/[ \f\n\r\t\v\u2028\u2029]+/,_H=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];Vr(r)||(n?i=r.toString().split(""):i=r.toString().split(wH));var s=i.map(function(l){return{word:l,width:ev(l,a).width}}),o=n?0:ev("",a).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},HCe=function(t,r,n,a,i){var s=t.maxLines,o=t.children,l=t.style,c=t.breakAll,u=qt(s),d=o,h=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return G.reduce(function(z,X){var V=X.word,H=X.width,re=z[z.length-1];if(re&&(a==null||i||re.width+H+n<Number(a)))re.words.push(V),re.width+=H+n;else{var ee={words:[V],width:H};z.push(ee)}return z},[])},p=h(r),g=function(G){return G.reduce(function(z,X){return z.width>X.width?z:X})};if(!u)return p;for(var m="",v=function(G){var z=d.slice(0,G),X=_H({breakAll:c,style:l,children:z+m}).wordsWithComputedWidth,V=h(X),H=V.length>s||g(V).width>Number(a);return[H,V]},y=0,w=d.length-1,b=0,D;y<=w&&b<=d.length-1;){var P=Math.floor((y+w)/2),O=P-1,T=v(O),S=UL(T,2),_=S[0],j=S[1],N=v(P),E=UL(N,1),k=E[0];if(!_&&!k&&(y=P+1),_&&k&&(w=P-1),!_&&k){D=j;break}b++}return D||p},zL=function(t){var r=Vr(t)?[]:t.toString().split(wH);return[{words:r}]},GCe=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,s=t.breakAll,o=t.maxLines;if((r||n)&&!eu.isSsr){var l,c,u=_H({breakAll:s,children:a,style:i});if(u){var d=u.wordsWithComputedWidth,h=u.spaceWidth;l=d,c=h}else return zL(a);return HCe({breakAll:s,children:a,maxLines:o,style:i},l,c,r,n)}return zL(a)},qL="#808080",Hb=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.lineHeight,o=s===void 0?"1em":s,l=t.capHeight,c=l===void 0?"0.71em":l,u=t.scaleToFit,d=u===void 0?!1:u,h=t.textAnchor,p=h===void 0?"start":h,g=t.verticalAnchor,m=g===void 0?"end":g,v=t.fill,y=v===void 0?qL:v,w=BL(t,$Ce),b=F.useMemo(function(){return GCe({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:d,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,d,w.style,w.width]),D=w.dx,P=w.dy,O=w.angle,T=w.className,S=w.breakAll,_=BL(w,BCe);if(!ei(n)||!ei(i))return null;var j=n+(qt(D)?D:0),N=i+(qt(P)?P:0),E;switch(m){case"start":E=sA("calc(".concat(c,")"));break;case"middle":E=sA("calc(".concat((b.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:E=sA("calc(".concat(b.length-1," * -").concat(o,")"));break}var k=[];if(d){var U=b[0].width,G=w.width;k.push("scale(".concat((qt(G)?G/U:1)/U,")"))}return O&&k.push("rotate(".concat(O,", ").concat(j,", ").concat(N,")")),k.length&&(_.transform=k.join(" ")),ze.createElement("text",fT({},Jr(_,!0),{x:j,y:N,className:dn("recharts-text",T),textAnchor:p,fill:y.includes("url")?qL:y}),b.map(function(z,X){var V=z.words.join(S?"":" ");return ze.createElement("tspan",{x:j,dy:X===0?E:o,key:"".concat(V,"-").concat(X)},V)}))};function Ff(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function KCe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function GC(e){let t,r,n;e.length!==2?(t=Ff,r=(o,l)=>Ff(e(o),l),n=(o,l)=>e(o)-l):(t=e===Ff||e===KCe?e:YCe,r=e,n=e);function a(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const d=c+u>>>1;r(o[d],l)<0?c=d+1:u=d}while(c<u)}return c}function i(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const d=c+u>>>1;r(o[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function s(o,l,c=0,u=o.length){const d=a(o,l,c,u-1);return d>c&&n(o[d-1],l)>-n(o[d],l)?d-1:d}return{left:a,center:s,right:i}}function YCe(){return 0}function SH(e){return e===null?NaN:+e}function*XCe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const QCe=GC(Ff),dy=QCe.right;GC(SH).center;class WL extends Map{constructor(t,r=ePe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(HL(this,t))}has(t){return super.has(HL(this,t))}set(t,r){return super.set(JCe(this,t),r)}delete(t){return super.delete(ZCe(this,t))}}function HL({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function JCe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function ZCe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function ePe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function tPe(e=Ff){if(e===Ff)return AH;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function AH(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const rPe=Math.sqrt(50),nPe=Math.sqrt(10),aPe=Math.sqrt(2);function Gb(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=rPe?10:i>=nPe?5:i>=aPe?2:1;let o,l,c;return a<0?(c=Math.pow(10,-a)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=r&&r<2?Gb(e,t,r*2):[o,l,c]}function dT(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?Gb(t,e,r):Gb(e,t,r);if(!(i>=a))return[];const o=i-a+1,l=new Array(o);if(n)if(s<0)for(let c=0;c<o;++c)l[c]=(i-c)/-s;else for(let c=0;c<o;++c)l[c]=(i-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(a+c)/-s;else for(let c=0;c<o;++c)l[c]=(a+c)*s;return l}function hT(e,t,r){return t=+t,e=+e,r=+r,Gb(e,t,r)[2]}function pT(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?hT(t,e,r):hT(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function GL(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function KL(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function TH(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?AH:tPe(a);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,u=Math.log(l),d=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(t-c*d/l+h)),g=Math.min(n,Math.floor(t+(l-c)*d/l+h));TH(e,t,p,g,a)}const i=e[t];let s=r,o=n;for(eg(e,r,t),a(e[n],i)>0&&eg(e,r,n);s<o;){for(eg(e,s,o),++s,--o;a(e[s],i)<0;)++s;for(;a(e[o],i)>0;)--o}a(e[r],i)===0?eg(e,r,o):(++o,eg(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function eg(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function iPe(e,t,r){if(e=Float64Array.from(XCe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return KL(e);if(t>=1)return GL(e);var n,a=(n-1)*t,i=Math.floor(a),s=GL(TH(e,i).subarray(0,i+1)),o=KL(e.subarray(i+1));return s+(o-s)*(a-i)}}function sPe(e,t,r=SH){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),o=+r(e[i+1],i+1,e);return s+(o-s)*(a-i)}}function oPe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Qo(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ku(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const mT=Symbol("implicit");function KC(){var e=new WL,t=[],r=[],n=mT;function a(i){let s=e.get(i);if(s===void 0){if(n!==mT)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new WL;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return KC(t,r).unknown(n)},Qo.apply(a,arguments),a}function o1(){var e=KC().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,o=!1,l=0,c=0,u=.5;delete e.unknown;function d(){var h=t().length,p=a<n,g=p?a:n,m=p?n:a;i=(m-g)/Math.max(1,h-l+c*2),o&&(i=Math.floor(i)),g+=(m-g-i*(h-l))*u,s=i*(1-l),o&&(g=Math.round(g),s=Math.round(s));var v=oPe(h).map(function(y){return g+i*y});return r(p?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,d()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,o=!0,d()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(h){return arguments.length?(o=!!h,d()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),d()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,d()):c},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),d()):u},e.copy=function(){return o1(t(),[n,a]).round(o).paddingInner(l).paddingOuter(c).align(u)},Qo.apply(d(),arguments)}function NH(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return NH(t())},e}function tv(){return NH(o1.apply(null,arguments).paddingInner(1))}function YC(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function EH(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function hy(){}var l1=.7,Kb=1/l1,Q0="\\s*([+-]?\\d+)\\s*",c1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",cc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",lPe=/^#([0-9a-f]{3,8})$/,cPe=new RegExp(`^rgb\\(${Q0},${Q0},${Q0}\\)$`),uPe=new RegExp(`^rgb\\(${cc},${cc},${cc}\\)$`),fPe=new RegExp(`^rgba\\(${Q0},${Q0},${Q0},${c1}\\)$`),dPe=new RegExp(`^rgba\\(${cc},${cc},${cc},${c1}\\)$`),hPe=new RegExp(`^hsl\\(${c1},${cc},${cc}\\)$`),pPe=new RegExp(`^hsla\\(${c1},${cc},${cc},${c1}\\)$`),YL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};YC(hy,u1,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:XL,formatHex:XL,formatHex8:mPe,formatHsl:gPe,formatRgb:QL,toString:QL});function XL(){return this.rgb().formatHex()}function mPe(){return this.rgb().formatHex8()}function gPe(){return kH(this).formatHsl()}function QL(){return this.rgb().formatRgb()}function u1(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=lPe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?JL(t):r===3?new Vs(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Px(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Px(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=cPe.exec(e))?new Vs(t[1],t[2],t[3],1):(t=uPe.exec(e))?new Vs(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=fPe.exec(e))?Px(t[1],t[2],t[3],t[4]):(t=dPe.exec(e))?Px(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=hPe.exec(e))?tM(t[1],t[2]/100,t[3]/100,1):(t=pPe.exec(e))?tM(t[1],t[2]/100,t[3]/100,t[4]):YL.hasOwnProperty(e)?JL(YL[e]):e==="transparent"?new Vs(NaN,NaN,NaN,0):null}function JL(e){return new Vs(e>>16&255,e>>8&255,e&255,1)}function Px(e,t,r,n){return n<=0&&(e=t=r=NaN),new Vs(e,t,r,n)}function vPe(e){return e instanceof hy||(e=u1(e)),e?(e=e.rgb(),new Vs(e.r,e.g,e.b,e.opacity)):new Vs}function gT(e,t,r,n){return arguments.length===1?vPe(e):new Vs(e,t,r,n??1)}function Vs(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}YC(Vs,gT,EH(hy,{brighter(e){return e=e==null?Kb:Math.pow(Kb,e),new Vs(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?l1:Math.pow(l1,e),new Vs(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Vs(eh(this.r),eh(this.g),eh(this.b),Yb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ZL,formatHex:ZL,formatHex8:yPe,formatRgb:eM,toString:eM}));function ZL(){return`#${Wd(this.r)}${Wd(this.g)}${Wd(this.b)}`}function yPe(){return`#${Wd(this.r)}${Wd(this.g)}${Wd(this.b)}${Wd((isNaN(this.opacity)?1:this.opacity)*255)}`}function eM(){const e=Yb(this.opacity);return`${e===1?"rgb(":"rgba("}${eh(this.r)}, ${eh(this.g)}, ${eh(this.b)}${e===1?")":`, ${e})`}`}function Yb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function eh(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Wd(e){return e=eh(e),(e<16?"0":"")+e.toString(16)}function tM(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new _l(e,t,r,n)}function kH(e){if(e instanceof _l)return new _l(e.h,e.s,e.l,e.opacity);if(e instanceof hy||(e=u1(e)),!e)return new _l;if(e instanceof _l)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,o=i-a,l=(i+a)/2;return o?(t===i?s=(r-n)/o+(r<n)*6:r===i?s=(n-t)/o+2:s=(t-r)/o+4,o/=l<.5?i+a:2-i-a,s*=60):o=l>0&&l<1?0:s,new _l(s,o,l,e.opacity)}function xPe(e,t,r,n){return arguments.length===1?kH(e):new _l(e,t,r,n??1)}function _l(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}YC(_l,xPe,EH(hy,{brighter(e){return e=e==null?Kb:Math.pow(Kb,e),new _l(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?l1:Math.pow(l1,e),new _l(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Vs(oA(e>=240?e-240:e+120,a,n),oA(e,a,n),oA(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new _l(rM(this.h),jx(this.s),jx(this.l),Yb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Yb(this.opacity);return`${e===1?"hsl(":"hsla("}${rM(this.h)}, ${jx(this.s)*100}%, ${jx(this.l)*100}%${e===1?")":`, ${e})`}`}}));function rM(e){return e=(e||0)%360,e<0?e+360:e}function jx(e){return Math.max(0,Math.min(1,e||0))}function oA(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const XC=e=>()=>e;function bPe(e,t){return function(r){return e+r*t}}function wPe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function _Pe(e){return(e=+e)==1?CH:function(t,r){return r-t?wPe(t,r,e):XC(isNaN(t)?r:t)}}function CH(e,t){var r=t-e;return r?bPe(e,r):XC(isNaN(e)?t:e)}const nM=function e(t){var r=_Pe(t);function n(a,i){var s=r((a=gT(a)).r,(i=gT(i)).r),o=r(a.g,i.g),l=r(a.b,i.b),c=CH(a.opacity,i.opacity);return function(u){return a.r=s(u),a.g=o(u),a.b=l(u),a.opacity=c(u),a+""}}return n.gamma=e,n}(1);function SPe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function APe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function TPe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=_m(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(o){for(s=0;s<n;++s)i[s]=a[s](o);return i}}function NPe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Xb(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function EPe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=_m(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var vT=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lA=new RegExp(vT.source,"g");function kPe(e){return function(){return e}}function CPe(e){return function(t){return e(t)+""}}function PPe(e,t){var r=vT.lastIndex=lA.lastIndex=0,n,a,i,s=-1,o=[],l=[];for(e=e+"",t=t+"";(n=vT.exec(e))&&(a=lA.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,l.push({i:s,x:Xb(n,a)})),r=lA.lastIndex;return r<t.length&&(i=t.slice(r),o[s]?o[s]+=i:o[++s]=i),o.length<2?l[0]?CPe(l[0].x):kPe(t):(t=l.length,function(c){for(var u=0,d;u<t;++u)o[(d=l[u]).i]=d.x(c);return o.join("")})}function _m(e,t){var r=typeof t,n;return t==null||r==="boolean"?XC(t):(r==="number"?Xb:r==="string"?(n=u1(t))?(t=n,nM):PPe:t instanceof u1?nM:t instanceof Date?NPe:APe(t)?SPe:Array.isArray(t)?TPe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?EPe:Xb)(e,t)}function QC(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function jPe(e,t){t===void 0&&(t=e,e=_m);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[o](s-o)}}function OPe(e){return function(){return e}}function Qb(e){return+e}var aM=[0,1];function Ss(e){return e}function yT(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:OPe(isNaN(t)?NaN:.5)}function IPe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function DPe(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=yT(a,n),i=r(s,i)):(n=yT(n,a),i=r(i,s)),function(o){return i(n(o))}}function LPe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=yT(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(o){var l=dy(e,o,1,n)-1;return i[l](a[l](o))}}function py(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function X5(){var e=aM,t=aM,r=_m,n,a,i,s=Ss,o,l,c;function u(){var h=Math.min(e.length,t.length);return s!==Ss&&(s=IPe(e[0],e[h-1])),o=h>2?LPe:DPe,l=c=null,d}function d(h){return h==null||isNaN(h=+h)?i:(l||(l=o(e.map(n),t,r)))(n(s(h)))}return d.invert=function(h){return s(a((c||(c=o(t,e.map(n),Xb)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,Qb),u()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),r=QC,u()},d.clamp=function(h){return arguments.length?(s=h?!0:Ss,u()):s!==Ss},d.interpolate=function(h){return arguments.length?(r=h,u()):r},d.unknown=function(h){return arguments.length?(i=h,d):i},function(h,p){return n=h,a=p,u()}}function JC(){return X5()(Ss,Ss)}function MPe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Jb(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function jp(e){return e=Jb(Math.abs(e)),e?e[1]:NaN}function RPe(e,t){return function(r,n){for(var a=r.length,i=[],s=0,o=e[0],l=0;a>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),i.push(r.substring(a-=o,a+o)),!((l+=o+1)>n));)o=e[s=(s+1)%e.length];return i.reverse().join(t)}}function FPe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var $Pe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function f1(e){if(!(t=$Pe.exec(e)))throw new Error("invalid format: "+e);var t;return new ZC({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}f1.prototype=ZC.prototype;function ZC(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ZC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function BPe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var PH;function UPe(e,t){var r=Jb(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(PH=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Jb(e,Math.max(0,t+i-1))[0]}function iM(e,t){var r=Jb(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const sM={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:MPe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>iM(e*100,t),r:iM,s:UPe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function oM(e){return e}var lM=Array.prototype.map,cM=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function VPe(e){var t=e.grouping===void 0||e.thousands===void 0?oM:RPe(lM.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?oM:FPe(lM.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(d){d=f1(d);var h=d.fill,p=d.align,g=d.sign,m=d.symbol,v=d.zero,y=d.width,w=d.comma,b=d.precision,D=d.trim,P=d.type;P==="n"?(w=!0,P="g"):sM[P]||(b===void 0&&(b=12),D=!0,P="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var O=m==="$"?r:m==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",T=m==="$"?n:/[%p]/.test(P)?s:"",S=sM[P],_=/[defgprs%]/.test(P);b=b===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function j(N){var E=O,k=T,U,G,z;if(P==="c")k=S(N)+k,N="";else{N=+N;var X=N<0||1/N<0;if(N=isNaN(N)?l:S(Math.abs(N),b),D&&(N=BPe(N)),X&&+N==0&&g!=="+"&&(X=!1),E=(X?g==="("?g:o:g==="-"||g==="("?"":g)+E,k=(P==="s"?cM[8+PH/3]:"")+k+(X&&g==="("?")":""),_){for(U=-1,G=N.length;++U<G;)if(z=N.charCodeAt(U),48>z||z>57){k=(z===46?a+N.slice(U+1):N.slice(U))+k,N=N.slice(0,U);break}}}w&&!v&&(N=t(N,1/0));var V=E.length+N.length+k.length,H=V<y?new Array(y-V+1).join(h):"";switch(w&&v&&(N=t(H+N,H.length?y-k.length:1/0),H=""),p){case"<":N=E+N+k+H;break;case"=":N=E+H+N+k;break;case"^":N=H.slice(0,V=H.length>>1)+E+N+k+H.slice(V);break;default:N=H+E+N+k;break}return i(N)}return j.toString=function(){return d+""},j}function u(d,h){var p=c((d=f1(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(jp(h)/3)))*3,m=Math.pow(10,-g),v=cM[8+g/3];return function(y){return p(m*y)+v}}return{format:c,formatPrefix:u}}var Ox,eP,jH;zPe({thousands:",",grouping:[3],currency:["$",""]});function zPe(e){return Ox=VPe(e),eP=Ox.format,jH=Ox.formatPrefix,Ox}function qPe(e){return Math.max(0,-jp(Math.abs(e)))}function WPe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(jp(t)/3)))*3-jp(Math.abs(e)))}function HPe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,jp(t)-jp(e))+1}function OH(e,t,r,n){var a=pT(e,t,r),i;switch(n=f1(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=WPe(a,s))&&(n.precision=i),jH(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=HPe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=qPe(a))&&(n.precision=i-(n.type==="%")*2);break}}return eP(n)}function ld(e){var t=e.domain;return e.ticks=function(r){var n=t();return dT(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return OH(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],o=n[i],l,c,u=10;for(o<s&&(c=s,s=o,o=c,c=a,a=i,i=c);u-- >0;){if(c=hT(s,o,r),c===l)return n[a]=s,n[i]=o,t(n);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return e},e}function Zb(){var e=JC();return e.copy=function(){return py(e,Zb())},Qo.apply(e,arguments),ld(e)}function IH(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Qb),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return IH(e).unknown(t)},e=arguments.length?Array.from(e,Qb):[0,1],ld(r)}function DH(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function uM(e){return Math.log(e)}function fM(e){return Math.exp(e)}function GPe(e){return-Math.log(-e)}function KPe(e){return-Math.exp(-e)}function YPe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function XPe(e){return e===10?YPe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function QPe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function dM(e){return(t,r)=>-e(-t,r)}function tP(e){const t=e(uM,fM),r=t.domain;let n=10,a,i;function s(){return a=QPe(n),i=XPe(n),r()[0]<0?(a=dM(a),i=dM(i),e(GPe,KPe)):e(uM,fM),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const l=r();let c=l[0],u=l[l.length-1];const d=u<c;d&&([c,u]=[u,c]);let h=a(c),p=a(u),g,m;const v=o==null?10:+o;let y=[];if(!(n%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(g=1;g<n;++g)if(m=h<0?g/i(-h):g*i(h),!(m<c)){if(m>u)break;y.push(m)}}else for(;h<=p;++h)for(g=n-1;g>=1;--g)if(m=h>0?g/i(-h):g*i(h),!(m<c)){if(m>u)break;y.push(m)}y.length*2<v&&(y=dT(c,u,v))}else y=dT(h,p,Math.min(p-h,v)).map(i);return d?y.reverse():y},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=f1(l)).precision==null&&(l.trim=!0),l=eP(l)),o===1/0)return l;const c=Math.max(1,n*o/t.ticks().length);return u=>{let d=u/i(Math.round(a(u)));return d*n<n-.5&&(d*=n),d<=c?l(u):""}},t.nice=()=>r(DH(r(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),t}function LH(){const e=tP(X5()).domain([1,10]);return e.copy=()=>py(e,LH()).base(e.base()),Qo.apply(e,arguments),e}function hM(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function pM(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function rP(e){var t=1,r=e(hM(t),pM(t));return r.constant=function(n){return arguments.length?e(hM(t=+n),pM(t)):t},ld(r)}function MH(){var e=rP(X5());return e.copy=function(){return py(e,MH()).constant(e.constant())},Qo.apply(e,arguments)}function mM(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function JPe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function ZPe(e){return e<0?-e*e:e*e}function nP(e){var t=e(Ss,Ss),r=1;function n(){return r===1?e(Ss,Ss):r===.5?e(JPe,ZPe):e(mM(r),mM(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},ld(t)}function aP(){var e=nP(X5());return e.copy=function(){return py(e,aP()).exponent(e.exponent())},Qo.apply(e,arguments),e}function e6e(){return aP.apply(null,arguments).exponent(.5)}function gM(e){return Math.sign(e)*e*e}function t6e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function RH(){var e=JC(),t=[0,1],r=!1,n;function a(i){var s=t6e(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert(gM(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Qb)).map(gM)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return RH(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Qo.apply(a,arguments),ld(a)}function FH(){var e=[],t=[],r=[],n;function a(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=sPe(e,s/o);return i}function i(s){return s==null||isNaN(s=+s)?n:t[dy(r,s)]}return i.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Ff),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return FH().domain(e).range(t).unknown(n)},Qo.apply(i,arguments)}function $H(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(l){return l!=null&&l<=l?a[dy(n,l,0,r)]:i}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,o()):a.slice()},s.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},s.unknown=function(l){return arguments.length&&(i=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return $H().domain([e,t]).range(a).unknown(i)},Qo.apply(ld(s),arguments)}function BH(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[dy(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return BH().domain(e).range(t).unknown(r)},Qo.apply(a,arguments)}const cA=new Date,uA=new Date;function ni(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),o=a.ceil(i);return i-s<o-i?s:o},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,o)=>{const l=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return l;let c;do l.push(c=new Date(+i)),t(i,o),e(i);while(c<i&&i<s);return l},a.filter=i=>ni(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!i(s););else for(;--o>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(cA.setTime(+i),uA.setTime(+s),e(cA),e(uA),Math.floor(r(cA,uA))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const ew=ni(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ew.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ni(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):ew);ew.range;const Wc=1e3,Fo=Wc*60,Hc=Fo*60,gu=Hc*24,iP=gu*7,vM=gu*30,fA=gu*365,Hd=ni(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Wc)},(e,t)=>(t-e)/Wc,e=>e.getUTCSeconds());Hd.range;const sP=ni(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Wc)},(e,t)=>{e.setTime(+e+t*Fo)},(e,t)=>(t-e)/Fo,e=>e.getMinutes());sP.range;const oP=ni(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Fo)},(e,t)=>(t-e)/Fo,e=>e.getUTCMinutes());oP.range;const lP=ni(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Wc-e.getMinutes()*Fo)},(e,t)=>{e.setTime(+e+t*Hc)},(e,t)=>(t-e)/Hc,e=>e.getHours());lP.range;const cP=ni(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Hc)},(e,t)=>(t-e)/Hc,e=>e.getUTCHours());cP.range;const my=ni(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Fo)/gu,e=>e.getDate()-1);my.range;const Q5=ni(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/gu,e=>e.getUTCDate()-1);Q5.range;const UH=ni(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/gu,e=>Math.floor(e/gu));UH.range;function Lh(e){return ni(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Fo)/iP)}const J5=Lh(0),tw=Lh(1),r6e=Lh(2),n6e=Lh(3),Op=Lh(4),a6e=Lh(5),i6e=Lh(6);J5.range;tw.range;r6e.range;n6e.range;Op.range;a6e.range;i6e.range;function Mh(e){return ni(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/iP)}const Z5=Mh(0),rw=Mh(1),s6e=Mh(2),o6e=Mh(3),Ip=Mh(4),l6e=Mh(5),c6e=Mh(6);Z5.range;rw.range;s6e.range;o6e.range;Ip.range;l6e.range;c6e.range;const uP=ni(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());uP.range;const fP=ni(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());fP.range;const vu=ni(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());vu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ni(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});vu.range;const yu=ni(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());yu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ni(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});yu.range;function VH(e,t,r,n,a,i){const s=[[Hd,1,Wc],[Hd,5,5*Wc],[Hd,15,15*Wc],[Hd,30,30*Wc],[i,1,Fo],[i,5,5*Fo],[i,15,15*Fo],[i,30,30*Fo],[a,1,Hc],[a,3,3*Hc],[a,6,6*Hc],[a,12,12*Hc],[n,1,gu],[n,2,2*gu],[r,1,iP],[t,1,vM],[t,3,3*vM],[e,1,fA]];function o(c,u,d){const h=u<c;h&&([c,u]=[u,c]);const p=d&&typeof d.range=="function"?d:l(c,u,d),g=p?p.range(c,+u+1):[];return h?g.reverse():g}function l(c,u,d){const h=Math.abs(u-c)/d,p=GC(([,,v])=>v).right(s,h);if(p===s.length)return e.every(pT(c/fA,u/fA,d));if(p===0)return ew.every(Math.max(pT(c,u,d),1));const[g,m]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return g.every(m)}return[o,l]}const[u6e,f6e]=VH(yu,fP,Z5,UH,cP,oP),[d6e,h6e]=VH(vu,uP,J5,my,lP,sP);function dA(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function hA(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function tg(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function p6e(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=rg(a),u=ng(a),d=rg(i),h=ng(i),p=rg(s),g=ng(s),m=rg(o),v=ng(o),y=rg(l),w=ng(l),b={a:X,A:V,b:H,B:re,c:null,d:SM,e:SM,f:R6e,g:G6e,G:Y6e,H:D6e,I:L6e,j:M6e,L:zH,m:F6e,M:$6e,p:ee,q:I,Q:NM,s:EM,S:B6e,u:U6e,U:V6e,V:z6e,w:q6e,W:W6e,x:null,X:null,y:H6e,Y:K6e,Z:X6e,"%":TM},D={a:M,A:q,b:K,B:J,c:null,d:AM,e:AM,f:eje,g:uje,G:dje,H:Q6e,I:J6e,j:Z6e,L:WH,m:tje,M:rje,p:se,q:he,Q:NM,s:EM,S:nje,u:aje,U:ije,V:sje,w:oje,W:lje,x:null,X:null,y:cje,Y:fje,Z:hje,"%":TM},P={a:j,A:N,b:E,B:k,c:U,d:wM,e:wM,f:P6e,g:bM,G:xM,H:_M,I:_M,j:N6e,L:C6e,m:T6e,M:E6e,p:_,q:A6e,Q:O6e,s:I6e,S:k6e,u:x6e,U:b6e,V:w6e,w:y6e,W:_6e,x:G,X:z,y:bM,Y:xM,Z:S6e,"%":j6e};b.x=O(r,b),b.X=O(n,b),b.c=O(t,b),D.x=O(r,D),D.X=O(n,D),D.c=O(t,D);function O(ie,ge){return function(xe){var W=[],Pe=-1,Ce=0,Te=ie.length,ce,Fe,Ge;for(xe instanceof Date||(xe=new Date(+xe));++Pe<Te;)ie.charCodeAt(Pe)===37&&(W.push(ie.slice(Ce,Pe)),(Fe=yM[ce=ie.charAt(++Pe)])!=null?ce=ie.charAt(++Pe):Fe=ce==="e"?" ":"0",(Ge=ge[ce])&&(ce=Ge(xe,Fe)),W.push(ce),Ce=Pe+1);return W.push(ie.slice(Ce,Pe)),W.join("")}}function T(ie,ge){return function(xe){var W=tg(1900,void 0,1),Pe=S(W,ie,xe+="",0),Ce,Te;if(Pe!=xe.length)return null;if("Q"in W)return new Date(W.Q);if("s"in W)return new Date(W.s*1e3+("L"in W?W.L:0));if(ge&&!("Z"in W)&&(W.Z=0),"p"in W&&(W.H=W.H%12+W.p*12),W.m===void 0&&(W.m="q"in W?W.q:0),"V"in W){if(W.V<1||W.V>53)return null;"w"in W||(W.w=1),"Z"in W?(Ce=hA(tg(W.y,0,1)),Te=Ce.getUTCDay(),Ce=Te>4||Te===0?rw.ceil(Ce):rw(Ce),Ce=Q5.offset(Ce,(W.V-1)*7),W.y=Ce.getUTCFullYear(),W.m=Ce.getUTCMonth(),W.d=Ce.getUTCDate()+(W.w+6)%7):(Ce=dA(tg(W.y,0,1)),Te=Ce.getDay(),Ce=Te>4||Te===0?tw.ceil(Ce):tw(Ce),Ce=my.offset(Ce,(W.V-1)*7),W.y=Ce.getFullYear(),W.m=Ce.getMonth(),W.d=Ce.getDate()+(W.w+6)%7)}else("W"in W||"U"in W)&&("w"in W||(W.w="u"in W?W.u%7:"W"in W?1:0),Te="Z"in W?hA(tg(W.y,0,1)).getUTCDay():dA(tg(W.y,0,1)).getDay(),W.m=0,W.d="W"in W?(W.w+6)%7+W.W*7-(Te+5)%7:W.w+W.U*7-(Te+6)%7);return"Z"in W?(W.H+=W.Z/100|0,W.M+=W.Z%100,hA(W)):dA(W)}}function S(ie,ge,xe,W){for(var Pe=0,Ce=ge.length,Te=xe.length,ce,Fe;Pe<Ce;){if(W>=Te)return-1;if(ce=ge.charCodeAt(Pe++),ce===37){if(ce=ge.charAt(Pe++),Fe=P[ce in yM?ge.charAt(Pe++):ce],!Fe||(W=Fe(ie,xe,W))<0)return-1}else if(ce!=xe.charCodeAt(W++))return-1}return W}function _(ie,ge,xe){var W=c.exec(ge.slice(xe));return W?(ie.p=u.get(W[0].toLowerCase()),xe+W[0].length):-1}function j(ie,ge,xe){var W=p.exec(ge.slice(xe));return W?(ie.w=g.get(W[0].toLowerCase()),xe+W[0].length):-1}function N(ie,ge,xe){var W=d.exec(ge.slice(xe));return W?(ie.w=h.get(W[0].toLowerCase()),xe+W[0].length):-1}function E(ie,ge,xe){var W=y.exec(ge.slice(xe));return W?(ie.m=w.get(W[0].toLowerCase()),xe+W[0].length):-1}function k(ie,ge,xe){var W=m.exec(ge.slice(xe));return W?(ie.m=v.get(W[0].toLowerCase()),xe+W[0].length):-1}function U(ie,ge,xe){return S(ie,t,ge,xe)}function G(ie,ge,xe){return S(ie,r,ge,xe)}function z(ie,ge,xe){return S(ie,n,ge,xe)}function X(ie){return s[ie.getDay()]}function V(ie){return i[ie.getDay()]}function H(ie){return l[ie.getMonth()]}function re(ie){return o[ie.getMonth()]}function ee(ie){return a[+(ie.getHours()>=12)]}function I(ie){return 1+~~(ie.getMonth()/3)}function M(ie){return s[ie.getUTCDay()]}function q(ie){return i[ie.getUTCDay()]}function K(ie){return l[ie.getUTCMonth()]}function J(ie){return o[ie.getUTCMonth()]}function se(ie){return a[+(ie.getUTCHours()>=12)]}function he(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var ge=O(ie+="",b);return ge.toString=function(){return ie},ge},parse:function(ie){var ge=T(ie+="",!1);return ge.toString=function(){return ie},ge},utcFormat:function(ie){var ge=O(ie+="",D);return ge.toString=function(){return ie},ge},utcParse:function(ie){var ge=T(ie+="",!0);return ge.toString=function(){return ie},ge}}}var yM={"-":"",_:" ",0:"0"},vi=/^\s*\d+/,m6e=/^%/,g6e=/[\\^$*+?|[\]().{}]/g;function mn(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function v6e(e){return e.replace(g6e,"\\$&")}function rg(e){return new RegExp("^(?:"+e.map(v6e).join("|")+")","i")}function ng(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function y6e(e,t,r){var n=vi.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function x6e(e,t,r){var n=vi.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function b6e(e,t,r){var n=vi.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function w6e(e,t,r){var n=vi.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function _6e(e,t,r){var n=vi.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function xM(e,t,r){var n=vi.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function bM(e,t,r){var n=vi.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function S6e(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function A6e(e,t,r){var n=vi.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function T6e(e,t,r){var n=vi.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function wM(e,t,r){var n=vi.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function N6e(e,t,r){var n=vi.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function _M(e,t,r){var n=vi.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function E6e(e,t,r){var n=vi.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function k6e(e,t,r){var n=vi.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function C6e(e,t,r){var n=vi.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function P6e(e,t,r){var n=vi.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function j6e(e,t,r){var n=m6e.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function O6e(e,t,r){var n=vi.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function I6e(e,t,r){var n=vi.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function SM(e,t){return mn(e.getDate(),t,2)}function D6e(e,t){return mn(e.getHours(),t,2)}function L6e(e,t){return mn(e.getHours()%12||12,t,2)}function M6e(e,t){return mn(1+my.count(vu(e),e),t,3)}function zH(e,t){return mn(e.getMilliseconds(),t,3)}function R6e(e,t){return zH(e,t)+"000"}function F6e(e,t){return mn(e.getMonth()+1,t,2)}function $6e(e,t){return mn(e.getMinutes(),t,2)}function B6e(e,t){return mn(e.getSeconds(),t,2)}function U6e(e){var t=e.getDay();return t===0?7:t}function V6e(e,t){return mn(J5.count(vu(e)-1,e),t,2)}function qH(e){var t=e.getDay();return t>=4||t===0?Op(e):Op.ceil(e)}function z6e(e,t){return e=qH(e),mn(Op.count(vu(e),e)+(vu(e).getDay()===4),t,2)}function q6e(e){return e.getDay()}function W6e(e,t){return mn(tw.count(vu(e)-1,e),t,2)}function H6e(e,t){return mn(e.getFullYear()%100,t,2)}function G6e(e,t){return e=qH(e),mn(e.getFullYear()%100,t,2)}function K6e(e,t){return mn(e.getFullYear()%1e4,t,4)}function Y6e(e,t){var r=e.getDay();return e=r>=4||r===0?Op(e):Op.ceil(e),mn(e.getFullYear()%1e4,t,4)}function X6e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+mn(t/60|0,"0",2)+mn(t%60,"0",2)}function AM(e,t){return mn(e.getUTCDate(),t,2)}function Q6e(e,t){return mn(e.getUTCHours(),t,2)}function J6e(e,t){return mn(e.getUTCHours()%12||12,t,2)}function Z6e(e,t){return mn(1+Q5.count(yu(e),e),t,3)}function WH(e,t){return mn(e.getUTCMilliseconds(),t,3)}function eje(e,t){return WH(e,t)+"000"}function tje(e,t){return mn(e.getUTCMonth()+1,t,2)}function rje(e,t){return mn(e.getUTCMinutes(),t,2)}function nje(e,t){return mn(e.getUTCSeconds(),t,2)}function aje(e){var t=e.getUTCDay();return t===0?7:t}function ije(e,t){return mn(Z5.count(yu(e)-1,e),t,2)}function HH(e){var t=e.getUTCDay();return t>=4||t===0?Ip(e):Ip.ceil(e)}function sje(e,t){return e=HH(e),mn(Ip.count(yu(e),e)+(yu(e).getUTCDay()===4),t,2)}function oje(e){return e.getUTCDay()}function lje(e,t){return mn(rw.count(yu(e)-1,e),t,2)}function cje(e,t){return mn(e.getUTCFullYear()%100,t,2)}function uje(e,t){return e=HH(e),mn(e.getUTCFullYear()%100,t,2)}function fje(e,t){return mn(e.getUTCFullYear()%1e4,t,4)}function dje(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ip(e):Ip.ceil(e),mn(e.getUTCFullYear()%1e4,t,4)}function hje(){return"+0000"}function TM(){return"%"}function NM(e){return+e}function EM(e){return Math.floor(+e/1e3)}var i0,GH,KH;pje({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function pje(e){return i0=p6e(e),GH=i0.format,i0.parse,KH=i0.utcFormat,i0.utcParse,i0}function mje(e){return new Date(e)}function gje(e){return e instanceof Date?+e:+new Date(+e)}function dP(e,t,r,n,a,i,s,o,l,c){var u=JC(),d=u.invert,h=u.domain,p=c(".%L"),g=c(":%S"),m=c("%I:%M"),v=c("%I %p"),y=c("%a %d"),w=c("%b %d"),b=c("%B"),D=c("%Y");function P(O){return(l(O)<O?p:o(O)<O?g:s(O)<O?m:i(O)<O?v:n(O)<O?a(O)<O?y:w:r(O)<O?b:D)(O)}return u.invert=function(O){return new Date(d(O))},u.domain=function(O){return arguments.length?h(Array.from(O,gje)):h().map(mje)},u.ticks=function(O){var T=h();return e(T[0],T[T.length-1],O??10)},u.tickFormat=function(O,T){return T==null?P:c(T)},u.nice=function(O){var T=h();return(!O||typeof O.range!="function")&&(O=t(T[0],T[T.length-1],O??10)),O?h(DH(T,O)):u},u.copy=function(){return py(u,dP(e,t,r,n,a,i,s,o,l,c))},u}function vje(){return Qo.apply(dP(d6e,h6e,vu,uP,J5,my,lP,sP,Hd,GH).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function yje(){return Qo.apply(dP(u6e,f6e,yu,fP,Z5,Q5,cP,oP,Hd,KH).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function e_(){var e=0,t=1,r,n,a,i,s=Ss,o=!1,l;function c(d){return d==null||isNaN(d=+d)?l:s(a===0?.5:(d=(i(d)-r)*a,o?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([e,t]=d,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(d){return arguments.length?(o=!!d,c):o},c.interpolator=function(d){return arguments.length?(s=d,c):s};function u(d){return function(h){var p,g;return arguments.length?([p,g]=h,s=d(p,g),c):[s(0),s(1)]}}return c.range=u(_m),c.rangeRound=u(QC),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return i=d,r=d(e),n=d(t),a=r===n?0:1/(n-r),c}}function cd(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function YH(){var e=ld(e_()(Ss));return e.copy=function(){return cd(e,YH())},ku.apply(e,arguments)}function XH(){var e=tP(e_()).domain([1,10]);return e.copy=function(){return cd(e,XH()).base(e.base())},ku.apply(e,arguments)}function QH(){var e=rP(e_());return e.copy=function(){return cd(e,QH()).constant(e.constant())},ku.apply(e,arguments)}function hP(){var e=nP(e_());return e.copy=function(){return cd(e,hP()).exponent(e.exponent())},ku.apply(e,arguments)}function xje(){return hP.apply(null,arguments).exponent(.5)}function JH(){var e=[],t=Ss;function r(n){if(n!=null&&!isNaN(n=+n))return t((dy(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Ff),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>iPe(e,i/n))},r.copy=function(){return JH(t).domain(e)},ku.apply(r,arguments)}function t_(){var e=0,t=.5,r=1,n=1,a,i,s,o,l,c=Ss,u,d=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+u(m))-i)*(n*m<n*i?o:l),c(d?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,a=u(e=+e),i=u(t=+t),s=u(r=+r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(d=!!m,p):d},p.interpolator=function(m){return arguments.length?(c=m,p):c};function g(m){return function(v){var y,w,b;return arguments.length?([y,w,b]=v,c=jPe(m,[y,w,b]),p):[c(0),c(.5),c(1)]}}return p.range=g(_m),p.rangeRound=g(QC),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return u=m,a=m(e),i=m(t),s=m(r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,p}}function ZH(){var e=ld(t_()(Ss));return e.copy=function(){return cd(e,ZH())},ku.apply(e,arguments)}function eG(){var e=tP(t_()).domain([.1,1,10]);return e.copy=function(){return cd(e,eG()).base(e.base())},ku.apply(e,arguments)}function tG(){var e=rP(t_());return e.copy=function(){return cd(e,tG()).constant(e.constant())},ku.apply(e,arguments)}function pP(){var e=nP(t_());return e.copy=function(){return cd(e,pP()).exponent(e.exponent())},ku.apply(e,arguments)}function bje(){return pP.apply(null,arguments).exponent(.5)}const kM=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:o1,scaleDiverging:ZH,scaleDivergingLog:eG,scaleDivergingPow:pP,scaleDivergingSqrt:bje,scaleDivergingSymlog:tG,scaleIdentity:IH,scaleImplicit:mT,scaleLinear:Zb,scaleLog:LH,scaleOrdinal:KC,scalePoint:tv,scalePow:aP,scaleQuantile:FH,scaleQuantize:$H,scaleRadial:RH,scaleSequential:YH,scaleSequentialLog:XH,scaleSequentialPow:hP,scaleSequentialQuantile:JH,scaleSequentialSqrt:xje,scaleSequentialSymlog:QH,scaleSqrt:e6e,scaleSymlog:MH,scaleThreshold:BH,scaleTime:vje,scaleUtc:yje,tickFormat:OH},Symbol.toStringTag,{value:"Module"}));var wje=pm;function _je(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],s=t(i);if(s!=null&&(o===void 0?s===s&&!wje(s):r(s,o)))var o=s,l=i}return l}var rG=_je;function Sje(e,t){return e>t}var Aje=Sje,Tje=rG,Nje=Aje,Eje=wm;function kje(e){return e&&e.length?Tje(e,Eje,Nje):void 0}var Cje=kje;const r_=Dn(Cje);function Pje(e,t){return e<t}var jje=Pje,Oje=rG,Ije=jje,Dje=wm;function Lje(e){return e&&e.length?Oje(e,Dje,Ije):void 0}var Mje=Lje;const n_=Dn(Mje);var Rje=kC,Fje=od,$je=uH,Bje=Hs;function Uje(e,t){var r=Bje(e)?Rje:$je;return r(e,Fje(t))}var Vje=Uje,zje=lH,qje=Vje;function Wje(e,t){return zje(qje(e,t),1)}var Hje=Wje;const Gje=Dn(Hje);var Kje=zC;function Yje(e,t){return Kje(e,t)}var Xje=Yje;const a_=Dn(Xje);var Sm=1e9,Qje={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},gP,na=!0,Ko="[DecimalError] ",th=Ko+"Invalid argument: ",mP=Ko+"Exponent out of range: ",Am=Math.floor,Od=Math.pow,Jje=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,oo,ui=1e7,Yn=7,nG=9007199254740991,nw=Am(nG/Yn),tr={};tr.absoluteValue=tr.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};tr.comparedTo=tr.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};tr.decimalPlaces=tr.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Yn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};tr.dividedBy=tr.div=function(e){return tu(this,new this.constructor(e))};tr.dividedToIntegerBy=tr.idiv=function(e){var t=this,r=t.constructor;return $n(tu(t,new r(e),0,1),r.precision)};tr.equals=tr.eq=function(e){return!this.cmp(e)};tr.exponent=function(){return qa(this)};tr.greaterThan=tr.gt=function(e){return this.cmp(e)>0};tr.greaterThanOrEqualTo=tr.gte=function(e){return this.cmp(e)>=0};tr.isInteger=tr.isint=function(){return this.e>this.d.length-2};tr.isNegative=tr.isneg=function(){return this.s<0};tr.isPositive=tr.ispos=function(){return this.s>0};tr.isZero=function(){return this.s===0};tr.lessThan=tr.lt=function(e){return this.cmp(e)<0};tr.lessThanOrEqualTo=tr.lte=function(e){return this.cmp(e)<1};tr.logarithm=tr.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(oo))throw Error(Ko+"NaN");if(r.s<1)throw Error(Ko+(r.s?"NaN":"-Infinity"));return r.eq(oo)?new n(0):(na=!1,t=tu(d1(r,i),d1(e,i),i),na=!0,$n(t,a))};tr.minus=tr.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?sG(t,e):aG(t,(e.s=-e.s,e))};tr.modulo=tr.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Ko+"NaN");return r.s?(na=!1,t=tu(r,e,0,1).times(e),na=!0,r.minus(t)):$n(new n(r),a)};tr.naturalExponential=tr.exp=function(){return iG(this)};tr.naturalLogarithm=tr.ln=function(){return d1(this)};tr.negated=tr.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};tr.plus=tr.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?aG(t,e):sG(t,(e.s=-e.s,e))};tr.precision=tr.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(th+e);if(t=qa(a)+1,n=a.d.length-1,r=n*Yn+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};tr.squareRoot=tr.sqrt=function(){var e,t,r,n,a,i,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Ko+"NaN")}for(e=qa(o),na=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=Zl(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Am((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=s=r+3;;)if(i=n,n=i.plus(tu(o,i,s+2)).times(.5),Zl(i.d).slice(0,s)===(t=Zl(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if($n(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(t!="9999")break;s+=4}return na=!0,$n(n,r)};tr.times=tr.mul=function(e){var t,r,n,a,i,s,o,l,c,u=this,d=u.constructor,h=u.d,p=(e=new d(e)).d;if(!u.s||!e.s)return new d(0);for(e.s*=u.s,r=u.e+e.e,l=h.length,c=p.length,l<c&&(i=h,h=p,p=i,s=l,l=c,c=s),i=[],s=l+c,n=s;n--;)i.push(0);for(n=c;--n>=0;){for(t=0,a=l+n;a>n;)o=i[a]+p[n]*h[a-n-1]+t,i[a--]=o%ui|0,t=o/ui|0;i[a]=(i[a]+t)%ui|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,na?$n(e,d.precision):e};tr.toDecimalPlaces=tr.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(pc(e,0,Sm),t===void 0?t=n.rounding:pc(t,0,8),$n(r,e+qa(r)+1,t))};tr.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=xh(n,!0):(pc(e,0,Sm),t===void 0?t=a.rounding:pc(t,0,8),n=$n(new a(n),e+1,t),r=xh(n,!0,e+1)),r};tr.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?xh(a):(pc(e,0,Sm),t===void 0?t=i.rounding:pc(t,0,8),n=$n(new i(a),e+qa(a)+1,t),r=xh(n.abs(),!1,e+qa(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};tr.toInteger=tr.toint=function(){var e=this,t=e.constructor;return $n(new t(e),qa(e)+1,t.rounding)};tr.toNumber=function(){return+this};tr.toPower=tr.pow=function(e){var t,r,n,a,i,s,o=this,l=o.constructor,c=12,u=+(e=new l(e));if(!e.s)return new l(oo);if(o=new l(o),!o.s){if(e.s<1)throw Error(Ko+"Infinity");return o}if(o.eq(oo))return o;if(n=l.precision,e.eq(oo))return $n(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=o.s,s){if((r=u<0?-u:u)<=nG){for(a=new l(oo),t=Math.ceil(n/Yn+4),na=!1;r%2&&(a=a.times(o),PM(a.d,t)),r=Am(r/2),r!==0;)o=o.times(o),PM(o.d,t);return na=!0,e.s<0?new l(oo).div(a):$n(a,n)}}else if(i<0)throw Error(Ko+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,na=!1,a=e.times(d1(o,n+c)),na=!0,a=iG(a),a.s=i,a};tr.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=qa(a),n=xh(a,r<=i.toExpNeg||r>=i.toExpPos)):(pc(e,1,Sm),t===void 0?t=i.rounding:pc(t,0,8),a=$n(new i(a),e,t),r=qa(a),n=xh(a,e<=r||r<=i.toExpNeg,e)),n};tr.toSignificantDigits=tr.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(pc(e,1,Sm),t===void 0?t=n.rounding:pc(t,0,8)),$n(new n(r),e,t)};tr.toString=tr.valueOf=tr.val=tr.toJSON=tr[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=qa(e),r=e.constructor;return xh(e,t<=r.toExpNeg||t>=r.toExpPos)};function aG(e,t){var r,n,a,i,s,o,l,c,u=e.constructor,d=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),na?$n(t,d):t;if(l=e.d,c=t.d,s=e.e,a=t.e,l=l.slice(),i=s-a,i){for(i<0?(n=l,i=-i,o=c.length):(n=c,a=s,o=l.length),s=Math.ceil(d/Yn),o=s>o?s+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=l.length,i=c.length,o-i<0&&(i=o,n=c,c=l,l=n),r=0;i;)r=(l[--i]=l[i]+c[i]+r)/ui|0,l[i]%=ui;for(r&&(l.unshift(r),++a),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=a,na?$n(t,d):t}function pc(e,t,r){if(e!==~~e||e<t||e>r)throw Error(th+e)}function Zl(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=Yn-n.length,r&&(i+=of(r)),i+=n;s=e[t],n=s+"",r=Yn-n.length,r&&(i+=of(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var tu=function(){function e(n,a){var i,s=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+s,n[o]=i%ui|0,s=i/ui|0;return s&&n.unshift(s),n}function t(n,a,i,s){var o,l;if(i!=s)l=i>s?1:-1;else for(o=l=0;o<i;o++)if(n[o]!=a[o]){l=n[o]>a[o]?1:-1;break}return l}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*ui+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var o,l,c,u,d,h,p,g,m,v,y,w,b,D,P,O,T,S,_=n.constructor,j=n.s==a.s?1:-1,N=n.d,E=a.d;if(!n.s)return new _(n);if(!a.s)throw Error(Ko+"Division by zero");for(l=n.e-a.e,T=E.length,P=N.length,p=new _(j),g=p.d=[],c=0;E[c]==(N[c]||0);)++c;if(E[c]>(N[c]||0)&&--l,i==null?w=i=_.precision:s?w=i+(qa(n)-qa(a))+1:w=i,w<0)return new _(0);if(w=w/Yn+2|0,c=0,T==1)for(u=0,E=E[0],w++;(c<P||u)&&w--;c++)b=u*ui+(N[c]||0),g[c]=b/E|0,u=b%E|0;else{for(u=ui/(E[0]+1)|0,u>1&&(E=e(E,u),N=e(N,u),T=E.length,P=N.length),D=T,m=N.slice(0,T),v=m.length;v<T;)m[v++]=0;S=E.slice(),S.unshift(0),O=E[0],E[1]>=ui/2&&++O;do u=0,o=t(E,m,T,v),o<0?(y=m[0],T!=v&&(y=y*ui+(m[1]||0)),u=y/O|0,u>1?(u>=ui&&(u=ui-1),d=e(E,u),h=d.length,v=m.length,o=t(d,m,h,v),o==1&&(u--,r(d,T<h?S:E,h))):(u==0&&(o=u=1),d=E.slice()),h=d.length,h<v&&d.unshift(0),r(m,d,v),o==-1&&(v=m.length,o=t(E,m,T,v),o<1&&(u++,r(m,T<v?S:E,v))),v=m.length):o===0&&(u++,m=[0]),g[c++]=u,o&&m[0]?m[v++]=N[D]||0:(m=[N[D]],v=1);while((D++<P||m[0]!==void 0)&&w--)}return g[0]||g.shift(),p.e=l,$n(p,s?i+qa(p)+1:i)}}();function iG(e,t){var r,n,a,i,s,o,l=0,c=0,u=e.constructor,d=u.precision;if(qa(e)>16)throw Error(mP+qa(e));if(!e.s)return new u(oo);for(t==null?(na=!1,o=d):o=t,s=new u(.03125);e.abs().gte(.1);)e=e.times(s),c+=5;for(n=Math.log(Od(2,c))/Math.LN10*2+5|0,o+=n,r=a=i=new u(oo),u.precision=o;;){if(a=$n(a.times(e),o),r=r.times(++l),s=i.plus(tu(a,r,o)),Zl(s.d).slice(0,o)===Zl(i.d).slice(0,o)){for(;c--;)i=$n(i.times(i),o);return u.precision=d,t==null?(na=!0,$n(i,d)):i}i=s}}function qa(e){for(var t=e.e*Yn,r=e.d[0];r>=10;r/=10)t++;return t}function pA(e,t,r){if(t>e.LN10.sd())throw na=!0,r&&(e.precision=r),Error(Ko+"LN10 precision limit exceeded");return $n(new e(e.LN10),t)}function of(e){for(var t="";e--;)t+="0";return t}function d1(e,t){var r,n,a,i,s,o,l,c,u,d=1,h=10,p=e,g=p.d,m=p.constructor,v=m.precision;if(p.s<1)throw Error(Ko+(p.s?"NaN":"-Infinity"));if(p.eq(oo))return new m(0);if(t==null?(na=!1,c=v):c=t,p.eq(10))return t==null&&(na=!0),pA(m,c);if(c+=h,m.precision=c,r=Zl(g),n=r.charAt(0),i=qa(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Zl(p.d),n=r.charAt(0),d++;i=qa(p),n>1?(p=new m("0."+r),i++):p=new m(n+"."+r.slice(1))}else return l=pA(m,c+2,v).times(i+""),p=d1(new m(n+"."+r.slice(1)),c-h).plus(l),m.precision=v,t==null?(na=!0,$n(p,v)):p;for(o=s=p=tu(p.minus(oo),p.plus(oo),c),u=$n(p.times(p),c),a=3;;){if(s=$n(s.times(u),c),l=o.plus(tu(s,new m(a),c)),Zl(l.d).slice(0,c)===Zl(o.d).slice(0,c))return o=o.times(2),i!==0&&(o=o.plus(pA(m,c+2,v).times(i+""))),o=tu(o,new m(d),c),m.precision=v,t==null?(na=!0,$n(o,v)):o;o=l,a+=2}}function CM(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Am(r/Yn),e.d=[],n=(r+1)%Yn,r<0&&(n+=Yn),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Yn;n<a;)e.d.push(+t.slice(n,n+=Yn));t=t.slice(n),n=Yn-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),na&&(e.e>nw||e.e<-nw))throw Error(mP+r)}else e.s=0,e.e=0,e.d=[0];return e}function $n(e,t,r){var n,a,i,s,o,l,c,u,d=e.d;for(s=1,i=d[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=Yn,a=t,c=d[u=0];else{if(u=Math.ceil((n+1)/Yn),i=d.length,u>=i)return e;for(c=i=d[u],s=1;i>=10;i/=10)s++;n%=Yn,a=n-Yn+s}if(r!==void 0&&(i=Od(10,s-a-1),o=c/i%10|0,l=t<0||d[u+1]!==void 0||c%i,l=r<4?(o||l)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?a>0?c/Od(10,s-a):0:d[u-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return l?(i=qa(e),d.length=1,t=t-i-1,d[0]=Od(10,(Yn-t%Yn)%Yn),e.e=Am(-t/Yn)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=u,i=1,u--):(d.length=u+1,i=Od(10,Yn-n),d[u]=a>0?(c/Od(10,s-a)%Od(10,a)|0)*i:0),l)for(;;)if(u==0){(d[0]+=i)==ui&&(d[0]=1,++e.e);break}else{if(d[u]+=i,d[u]!=ui)break;d[u--]=0,i=1}for(n=d.length;d[--n]===0;)d.pop();if(na&&(e.e>nw||e.e<-nw))throw Error(mP+qa(e));return e}function sG(e,t){var r,n,a,i,s,o,l,c,u,d,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),na?$n(t,p):t;if(l=e.d,d=t.d,n=t.e,c=e.e,l=l.slice(),s=c-n,s){for(u=s<0,u?(r=l,s=-s,o=d.length):(r=d,n=c,o=l.length),a=Math.max(Math.ceil(p/Yn),o)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=l.length,o=d.length,u=a<o,u&&(o=a),a=0;a<o;a++)if(l[a]!=d[a]){u=l[a]<d[a];break}s=0}for(u&&(r=l,l=d,d=r,t.s=-t.s),o=l.length,a=d.length-o;a>0;--a)l[o++]=0;for(a=d.length;a>s;){if(l[--a]<d[a]){for(i=a;i&&l[--i]===0;)l[i]=ui-1;--l[i],l[a]+=ui}l[a]-=d[a]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,na?$n(t,p):t):new h(0)}function xh(e,t,r){var n,a=qa(e),i=Zl(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+of(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+of(-a-1)+i,r&&(n=r-s)>0&&(i+=of(n))):a>=s?(i+=of(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+of(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=of(n))),e.s<0?"-"+i:i}function PM(e,t){if(e.length>t)return e.length=t,!0}function oG(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(th+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return CM(s,i.toString())}else if(typeof i!="string")throw Error(th+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,Jje.test(i))CM(s,i);else throw Error(th+i)}if(a.prototype=tr,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=oG,a.config=a.set=Zje,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function Zje(e){if(!e||typeof e!="object")throw Error(Ko+"Object expected");var t,r,n,a=["precision",1,Sm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Am(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(th+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(th+r+": "+n);return this}var gP=oG(Qje);oo=new gP(1);const In=gP;function eOe(e){return aOe(e)||nOe(e)||rOe(e)||tOe()}function tOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rOe(e,t){if(e){if(typeof e=="string")return xT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xT(e,t)}}function nOe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function aOe(e){if(Array.isArray(e))return xT(e)}function xT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var iOe=function(t){return t},lG={"@@functional/placeholder":!0},cG=function(t){return t===lG},jM=function(t){return function r(){return arguments.length===0||arguments.length===1&&cG(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},sOe=function e(t,r){return t===1?r:jM(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.filter(function(o){return o!==lG}).length;return s>=t?r.apply(void 0,a):e(t-s,jM(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=a.map(function(d){return cG(d)?l.shift():d});return r.apply(void 0,eOe(u).concat(l))}))})},i_=function(t){return sOe(t.length,t)},bT=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},oOe=i_(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),lOe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return iOe;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(o,l){return l(o)},i.apply(void 0,arguments))}},wT=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},uG=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r&&i.every(function(o,l){return o===r[l]})||(r=i,n=t.apply(void 0,i)),n}};function cOe(e){var t;return e===0?t=1:t=Math.floor(new In(e).abs().log(10).toNumber())+1,t}function uOe(e,t,r){for(var n=new In(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var fOe=i_(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),dOe=i_(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),hOe=i_(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const s_={rangeStep:uOe,getDigitCount:cOe,interpolateNumber:fOe,uninterpolateNumber:dOe,uninterpolateTruncation:hOe};function _T(e){return gOe(e)||mOe(e)||fG(e)||pOe()}function pOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mOe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function gOe(e){if(Array.isArray(e))return ST(e)}function h1(e,t){return xOe(e)||yOe(e,t)||fG(e,t)||vOe()}function vOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fG(e,t){if(e){if(typeof e=="string")return ST(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ST(e,t)}}function ST(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yOe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var s=e[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(t&&r.length===t));n=!0);}catch(l){a=!0,i=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(a)throw i}}return r}}function xOe(e){if(Array.isArray(e))return e}function dG(e){var t=h1(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function hG(e,t,r){if(e.lte(0))return new In(0);var n=s_.getDigitCount(e.toNumber()),a=new In(10).pow(n),i=e.div(a),s=n!==1?.05:.1,o=new In(Math.ceil(i.div(s).toNumber())).add(r).mul(s),l=o.mul(a);return t?l:new In(Math.ceil(l))}function bOe(e,t,r){var n=1,a=new In(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new In(10).pow(s_.getDigitCount(e)-1),a=new In(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new In(Math.floor(e)))}else e===0?a=new In(Math.floor((t-1)/2)):r||(a=new In(Math.floor(e)));var s=Math.floor((t-1)/2),o=lOe(oOe(function(l){return a.add(new In(l-s).mul(n)).toNumber()}),bT);return o(0,t)}function pG(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new In(0),tickMin:new In(0),tickMax:new In(0)};var i=hG(new In(t).sub(e).div(r-1),n,a),s;e<=0&&t>=0?s=new In(0):(s=new In(e).add(t).div(2),s=s.sub(new In(s).mod(i)));var o=Math.ceil(s.sub(e).div(i).toNumber()),l=Math.ceil(new In(t).sub(s).div(i).toNumber()),c=o+l+1;return c>r?pG(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,o=t>0?o:o+(r-c)),{step:i,tickMin:s.sub(new In(o).mul(i)),tickMax:s.add(new In(l).mul(i))})}function wOe(e){var t=h1(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),o=dG([r,n]),l=h1(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var d=u===1/0?[c].concat(_T(bT(0,a-1).map(function(){return 1/0}))):[].concat(_T(bT(0,a-1).map(function(){return-1/0})),[u]);return r>n?wT(d):d}if(c===u)return bOe(c,a,i);var h=pG(c,u,s,i),p=h.step,g=h.tickMin,m=h.tickMax,v=s_.rangeStep(g,m.add(new In(.1).mul(p)),p);return r>n?wT(v):v}function _Oe(e,t){var r=h1(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=dG([n,a]),o=h1(s,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[n,a];if(l===c)return[l];var u=Math.max(t,2),d=hG(new In(c).sub(l).div(u-1),i,0),h=[].concat(_T(s_.rangeStep(new In(l),new In(c).sub(new In(.99).mul(d)),d)),[c]);return n>a?wT(h):h}var SOe=uG(wOe),AOe=uG(_Oe),TOe="Invariant failed";function bh(e,t){throw new Error(TOe)}var NOe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Dp(e){"@babel/helpers - typeof";return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dp(e)}function aw(){return aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aw.apply(this,arguments)}function EOe(e,t){return jOe(e)||POe(e,t)||COe(e,t)||kOe()}function kOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function COe(e,t){if(e){if(typeof e=="string")return OM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OM(e,t)}}function OM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function POe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function jOe(e){if(Array.isArray(e))return e}function OOe(e,t){if(e==null)return{};var r=IOe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function IOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function DOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LOe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vG(n.key),n)}}function MOe(e,t,r){return t&&LOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ROe(e,t,r){return t=iw(t),FOe(e,mG()?Reflect.construct(t,r||[],iw(e).constructor):t.apply(e,r))}function FOe(e,t){if(t&&(Dp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Oe(e)}function $Oe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mG=function(){return!!e})()}function iw(e){return iw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},iw(e)}function BOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AT(e,t)}function AT(e,t){return AT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},AT(e,t)}function gG(e,t,r){return t=vG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vG(e){var t=UOe(e,"string");return Dp(t)=="symbol"?t:t+""}function UOe(e,t){if(Dp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gy=function(e){function t(){return DOe(this,t),ROe(this,t,arguments)}return BOe(t,e),MOe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,s=n.width,o=n.dataKey,l=n.data,c=n.dataPointFormatter,u=n.xAxis,d=n.yAxis,h=OOe(n,NOe),p=Jr(h,!1);this.props.direction==="x"&&u.type!=="number"&&bh();var g=l.map(function(m){var v=c(m,o),y=v.x,w=v.y,b=v.value,D=v.errorVal;if(!D)return null;var P=[],O,T;if(Array.isArray(D)){var S=EOe(D,2);O=S[0],T=S[1]}else O=T=D;if(i==="vertical"){var _=u.scale,j=w+a,N=j+s,E=j-s,k=_(b-O),U=_(b+T);P.push({x1:U,y1:N,x2:U,y2:E}),P.push({x1:k,y1:j,x2:U,y2:j}),P.push({x1:k,y1:N,x2:k,y2:E})}else if(i==="horizontal"){var G=d.scale,z=y+a,X=z-s,V=z+s,H=G(b-O),re=G(b+T);P.push({x1:X,y1:re,x2:V,y2:re}),P.push({x1:z,y1:H,x2:z,y2:re}),P.push({x1:X,y1:H,x2:V,y2:H})}return ze.createElement(Pa,aw({className:"recharts-errorBar",key:"bar-".concat(P.map(function(ee){return"".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))},p),P.map(function(ee){return ze.createElement("line",aw({},ee,{key:"line-".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))}))});return ze.createElement(Pa,{className:"recharts-errorBars"},g)}}])}(ze.Component);gG(gy,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});gG(gy,"displayName","ErrorBar");function p1(e){"@babel/helpers - typeof";return p1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p1(e)}function IM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ad(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IM(Object(r),!0).forEach(function(n){VOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VOe(e,t,r){return t=zOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zOe(e){var t=qOe(e,"string");return p1(t)=="symbol"?t:t+""}function qOe(e,t){if(p1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(p1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yG=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,s=ao(r,zo);if(!s)return null;var o=zo.defaultProps,l=o!==void 0?Ad(Ad({},o),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:i==="children"?c=(n||[]).reduce(function(u,d){var h=d.item,p=d.props,g=p.sectors||p.data||[];return u.concat(g.map(function(m){return{type:s.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):c=(n||[]).map(function(u){var d=u.item,h=d.type.defaultProps,p=h!==void 0?Ad(Ad({},h),d.props):{},g=p.dataKey,m=p.name,v=p.legendType,y=p.hide;return{inactive:y,dataKey:g,type:l.iconType||v||"square",color:vP(d),value:m||g,payload:p}}),Ad(Ad(Ad({},l),zo.getWithHeight(s,a)),{},{payload:c,item:s})};function m1(e){"@babel/helpers - typeof";return m1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m1(e)}function DM(e){return KOe(e)||GOe(e)||HOe(e)||WOe()}function WOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HOe(e,t){if(e){if(typeof e=="string")return TT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TT(e,t)}}function GOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function KOe(e){if(Array.isArray(e))return TT(e)}function TT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function LM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LM(Object(r),!0).forEach(function(n){J0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J0(e,t,r){return t=YOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YOe(e){var t=XOe(e,"string");return m1(t)=="symbol"?t:t+""}function XOe(e,t){if(m1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(m1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mo(e,t,r){return Vr(e)||Vr(t)?r:ei(t)?Uo(e,t,r):Fr(t)?t(e):r}function rv(e,t,r,n){var a=Gje(e,function(o){return mo(o,t)});if(r==="number"){var i=a.filter(function(o){return qt(o)||parseFloat(o)});return i.length?[n_(i),r_(i)]:[1/0,-1/0]}var s=n?a.filter(function(o){return!Vr(o)}):a;return s.map(function(o){return ei(o)||o instanceof Date?o:""})}var QOe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var l=i.range,c=0;c<o;c++){var u=c>0?a[c-1].coordinate:a[o-1].coordinate,d=a[c].coordinate,h=c>=o-1?a[0].coordinate:a[c+1].coordinate,p=void 0;if(Nl(d-u)!==Nl(h-d)){var g=[];if(Nl(h-d)===Nl(l[1]-l[0])){p=h;var m=d+l[1]-l[0];g[0]=Math.min(m,(m+u)/2),g[1]=Math.max(m,(m+u)/2)}else{p=u;var v=h+l[1]-l[0];g[0]=Math.min(d,(v+d)/2),g[1]=Math.max(d,(v+d)/2)}var y=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(t>y[0]&&t<=y[1]||t>=g[0]&&t<=g[1]){s=a[c].index;break}}else{var w=Math.min(u,h),b=Math.max(u,h);if(t>(w+d)/2&&t<=(b+d)/2){s=a[c].index;break}}}else for(var D=0;D<o;D++)if(D===0&&t<=(n[D].coordinate+n[D+1].coordinate)/2||D>0&&D<o-1&&t>(n[D].coordinate+n[D-1].coordinate)/2&&t<=(n[D].coordinate+n[D+1].coordinate)/2||D===o-1&&t>(n[D].coordinate+n[D-1].coordinate)/2){s=n[D].index;break}return s},vP=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?xa(xa({},t.type.defaultProps),t.props):t.props,s=i.stroke,o=i.fill,l;switch(a){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},JOe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},o=Object.keys(i),l=0,c=o.length;l<c;l++)for(var u=i[o[l]].stackGroups,d=Object.keys(u),h=0,p=d.length;h<p;h++){var g=u[d[h]],m=g.items,v=g.cateAxisId,y=m.filter(function(T){return Jc(T.type).indexOf("Bar")>=0});if(y&&y.length){var w=y[0].type.defaultProps,b=w!==void 0?xa(xa({},w),y[0].props):y[0].props,D=b.barSize,P=b[v];s[P]||(s[P]=[]);var O=Vr(D)?r:D;s[P].push({item:y[0],stackList:y.slice(1),barSize:Vr(O)?void 0:yh(O,n,0)})}}return s},ZOe=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,s=i===void 0?[]:i,o=t.maxBarSize,l=s.length;if(l<1)return null;var c=yh(r,a,0,!0),u,d=[];if(s[0].barSize===+s[0].barSize){var h=!1,p=a/l,g=s.reduce(function(D,P){return D+P.barSize||0},0);g+=(l-1)*c,g>=a&&(g-=(l-1)*c,c=0),g>=a&&p>0&&(h=!0,p*=.9,g=l*p);var m=(a-g)/2>>0,v={offset:m-c,size:0};u=s.reduce(function(D,P){var O={item:P.item,position:{offset:v.offset+v.size+c,size:h?p:P.barSize}},T=[].concat(DM(D),[O]);return v=T[T.length-1].position,P.stackList&&P.stackList.length&&P.stackList.forEach(function(S){T.push({item:S,position:v})}),T},d)}else{var y=yh(n,a,0,!0);a-2*y-(l-1)*c<=0&&(c=0);var w=(a-2*y-(l-1)*c)/l;w>1&&(w>>=0);var b=o===+o?Math.min(w,o):w;u=s.reduce(function(D,P,O){var T=[].concat(DM(D),[{item:P.item,position:{offset:y+(w+c)*O+(w-b)/2,size:b}}]);return P.stackList&&P.stackList.length&&P.stackList.forEach(function(S){T.push({item:S,position:T[T.length-1].position})}),T},d)}return u},eIe=function(t,r,n,a){var i=n.children,s=n.width,o=n.margin,l=s-(o.left||0)-(o.right||0),c=yG({children:i,legendWidth:l});if(c){var u=a||{},d=u.width,h=u.height,p=c.align,g=c.verticalAlign,m=c.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&p!=="center"&&qt(t[p]))return xa(xa({},t),{},J0({},p,t[p]+(d||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&g!=="middle"&&qt(t[g]))return xa(xa({},t),{},J0({},g,t[g]+(h||0)))}return t},tIe=function(t,r,n){return Vr(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},xG=function(t,r,n,a,i){var s=r.props.children,o=Vo(s,gy).filter(function(c){return tIe(a,i,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return t.reduce(function(c,u){var d=mo(u,n);if(Vr(d))return c;var h=Array.isArray(d)?[n_(d),r_(d)]:[d,d],p=l.reduce(function(g,m){var v=mo(u,m,0),y=h[0]-Math.abs(Array.isArray(v)?v[0]:v),w=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(y,g[0]),Math.max(w,g[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},rIe=function(t,r,n,a,i){var s=r.map(function(o){return xG(t,o,n,i,a)}).filter(function(o){return!Vr(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},bG=function(t,r,n,a,i){var s=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&xG(t,l,c,a)||rv(t,c,n,i)});if(n==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,c){for(var u=0,d=c.length;u<d;u++)o[c[u]]||(o[c[u]]=!0,l.push(c[u]));return l},[])},wG=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},_G=function(t,r,n,a){if(a)return t.map(function(l){return l.coordinate});var i,s,o=t.map(function(l){return l.coordinate===r&&(i=!0),l.coordinate===n&&(s=!0),l.coordinate});return i||o.push(r),s||o.push(n),o},Gc=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,s=t.type,o=t.range,l=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,c=(r||n)&&s==="category"&&a.bandwidth?a.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?Nl(o[0]-o[1])*2*c:c,r&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(d){var h=i?i.indexOf(d):d;return{coordinate:a(h)+c,value:d,offset:c}});return u.filter(function(d){return!cy(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,h){return{coordinate:a(d)+c,value:d,index:h,offset:c}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(d){return{coordinate:a(d)+c,value:d,offset:c}}):a.domain().map(function(d,h){return{coordinate:a(d)+c,value:i?i[d]:d,index:h,offset:c}})},mA=new WeakMap,Ix=function(t,r){if(typeof r!="function")return t;mA.has(t)||mA.set(t,new WeakMap);var n=mA.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},nIe=function(t,r,n){var a=t.scale,i=t.type,s=t.layout,o=t.axisType;if(a==="auto")return s==="radial"&&o==="radiusAxis"?{scale:o1(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:Zb(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:tv(),realScaleType:"point"}:i==="category"?{scale:o1(),realScaleType:"band"}:{scale:Zb(),realScaleType:"linear"};if(vh(a)){var l="scale".concat(z5(a));return{scale:(kM[l]||tv)(),realScaleType:kM[l]?l:"point"}}return Fr(a)?{scale:a}:{scale:tv(),realScaleType:"point"}},MM=1e-4,aIe=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-MM,s=Math.max(a[0],a[1])+MM,o=t(r[0]),l=t(r[n-1]);(o<i||o>s||l<i||l>s)&&t.domain([r[0],r[n-1]])}},iIe=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},sIe=function(t,r){if(!r||r.length!==2||!qt(r[0])||!qt(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!qt(t[0])||t[0]<n)&&(i[0]=n),(!qt(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},oIe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0,o=0;o<r;++o){var l=cy(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1])}},lIe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0;s<r;++s){var o=cy(t[s][n][1])?t[s][n][0]:t[s][n][1];o>=0?(t[s][n][0]=i,t[s][n][1]=i+o,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},cIe={sign:oIe,expand:A_e,none:Np,silhouette:T_e,wiggle:N_e,positive:lIe},uIe=function(t,r,n){var a=r.map(function(o){return o.props.dataKey}),i=cIe[n],s=S_e().keys(a).value(function(o,l){return+mo(o,l,0)}).order(X3).offset(i);return s(t)},fIe=function(t,r,n,a,i,s){if(!t)return null;var o=s?r.reverse():r,l={},c=o.reduce(function(d,h){var p,g=(p=h.type)!==null&&p!==void 0&&p.defaultProps?xa(xa({},h.type.defaultProps),h.props):h.props,m=g.stackId,v=g.hide;if(v)return d;var y=g[n],w=d[y]||{hasStack:!1,stackGroups:{}};if(ei(m)){var b=w.stackGroups[m]||{numericAxisId:n,cateAxisId:a,items:[]};b.items.push(h),w.hasStack=!0,w.stackGroups[m]=b}else w.stackGroups[uy("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return xa(xa({},d),{},J0({},y,w))},l),u={};return Object.keys(c).reduce(function(d,h){var p=c[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,v){var y=p.stackGroups[v];return xa(xa({},m),{},J0({},v,{numericAxisId:n,cateAxisId:a,items:y.items,stackedData:uIe(t,y.items,i)}))},g)}return xa(xa({},d),{},J0({},h,p))},u)},dIe=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,s=r.originalDomain,o=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=t.domain();if(!c.length)return null;var u=SOe(c,i,o);return t.domain([n_(u),r_(u)]),{niceTicks:u}}if(i&&a==="number"){var d=t.domain(),h=AOe(d,i,o);return{niceTicks:h}}return null};function RM(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,s=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Vr(a[t.dataKey])){var o=Pb(r,"value",a[t.dataKey]);if(o)return o.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var l=mo(a,Vr(s)?t.dataKey:s);return Vr(l)?null:t.scale(l)}var FM=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,s=t.entry,o=t.index;if(r.type==="category")return n[o]?n[o].coordinate+a:null;var l=mo(s,r.dataKey,r.domain[o]);return Vr(l)?null:r.scale(l)-i/2+a},hIe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},pIe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?xa(xa({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(ei(i)){var s=r[i];if(s){var o=s.items.indexOf(t);return o>=0?s.stackedData[o]:null}}return null},mIe=function(t){return t.reduce(function(r,n){return[n_(n.concat([r[0]]).filter(qt)),r_(n.concat([r[1]]).filter(qt))]},[1/0,-1/0])},SG=function(t,r,n){return Object.keys(t).reduce(function(a,i){var s=t[i],o=s.stackedData,l=o.reduce(function(c,u){var d=mIe(u.slice(r,n+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},$M=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,BM=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,NT=function(t,r,n){if(Fr(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(qt(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if($M.test(t[0])){var i=+$M.exec(t[0])[1];a[0]=r[0]-i}else Fr(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(qt(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(BM.test(t[1])){var s=+BM.exec(t[1])[1];a[1]=r[1]+s}else Fr(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},sw=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=WC(r,function(d){return d.coordinate}),s=1/0,o=1,l=i.length;o<l;o++){var c=i[o],u=i[o-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},UM=function(t,r,n){return!t||!t.length||a_(t,Uo(n,"type.defaultProps.domain"))?r:t},AG=function(t,r){var n=t.type.defaultProps?xa(xa({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,s=n.unit,o=n.formatter,l=n.tooltipType,c=n.chartType,u=n.hide;return xa(xa({},Jr(t,!1)),{},{dataKey:a,unit:s,formatter:o,name:i||a,color:vP(t),value:mo(r,a),type:l,payload:r,chartType:c,hide:u})};function g1(e){"@babel/helpers - typeof";return g1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g1(e)}function VM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VM(Object(r),!0).forEach(function(n){gIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gIe(e,t,r){return t=vIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vIe(e){var t=yIe(e,"string");return g1(t)=="symbol"?t:t+""}function yIe(e,t){if(g1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(g1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ow=Math.PI/180,xIe=function(t){return t*180/Math.PI},Ci=function(t,r,n,a){return{x:t+Math.cos(-ow*a)*n,y:r+Math.sin(-ow*a)*n}},bIe=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-s,2))},wIe=function(t,r){var n=t.x,a=t.y,i=r.cx,s=r.cy,o=bIe({x:n,y:a},{x:i,y:s});if(o<=0)return{radius:o};var l=(n-i)/o,c=Math.acos(l);return a>s&&(c=2*Math.PI-c),{radius:o,angle:xIe(c),angleInRadian:c}},_Ie=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return{startAngle:r-s*360,endAngle:n-s*360}},SIe=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),s=Math.floor(a/360),o=Math.min(i,s);return t+o*360},qM=function(t,r){var n=t.x,a=t.y,i=wIe({x:n,y:a},r),s=i.radius,o=i.angle,l=r.innerRadius,c=r.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var u=_Ie(r),d=u.startAngle,h=u.endAngle,p=o,g;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;g=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=d}return g?zM(zM({},r),{},{radius:s,angle:SIe(p,r)}):null};function v1(e){"@babel/helpers - typeof";return v1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v1(e)}var AIe=["offset"];function TIe(e){return CIe(e)||kIe(e)||EIe(e)||NIe()}function NIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EIe(e,t){if(e){if(typeof e=="string")return ET(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ET(e,t)}}function kIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function CIe(e){if(Array.isArray(e))return ET(e)}function ET(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function PIe(e,t){if(e==null)return{};var r=jIe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jIe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function WM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ka(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WM(Object(r),!0).forEach(function(n){OIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OIe(e,t,r){return t=IIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IIe(e){var t=DIe(e,"string");return v1(t)=="symbol"?t:t+""}function DIe(e,t){if(v1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(v1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function y1(){return y1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y1.apply(this,arguments)}var LIe=function(t){var r=t.value,n=t.formatter,a=Vr(t.children)?r:t.children;return Fr(n)?n(a):a},MIe=function(t,r){var n=Nl(r-t),a=Math.min(Math.abs(r-t),360);return n*a},RIe=function(t,r,n){var a=t.position,i=t.viewBox,s=t.offset,o=t.className,l=i,c=l.cx,u=l.cy,d=l.innerRadius,h=l.outerRadius,p=l.startAngle,g=l.endAngle,m=l.clockWise,v=(d+h)/2,y=MIe(p,g),w=y>=0?1:-1,b,D;a==="insideStart"?(b=p+w*s,D=m):a==="insideEnd"?(b=g-w*s,D=!m):a==="end"&&(b=g+w*s,D=m),D=y<=0?D:!D;var P=Ci(c,u,v,b),O=Ci(c,u,v,b+(D?1:-1)*359),T="M".concat(P.x,",").concat(P.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(D?0:1,`,
    `).concat(O.x,",").concat(O.y),S=Vr(t.id)?uy("recharts-radial-line-"):t.id;return ze.createElement("text",y1({},n,{dominantBaseline:"central",className:dn("recharts-radial-bar-label",o)}),ze.createElement("defs",null,ze.createElement("path",{id:S,d:T})),ze.createElement("textPath",{xlinkHref:"#".concat(S)},r))},FIe=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,s=i.cx,o=i.cy,l=i.innerRadius,c=i.outerRadius,u=i.startAngle,d=i.endAngle,h=(u+d)/2;if(a==="outside"){var p=Ci(s,o,c+n,h),g=p.x,m=p.y;return{x:g,y:m,textAnchor:g>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,y=Ci(s,o,v,h),w=y.x,b=y.y;return{x:w,y:b,textAnchor:"middle",verticalAnchor:"middle"}},$Ie=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,s=r,o=s.x,l=s.y,c=s.width,u=s.height,d=u>=0?1:-1,h=d*a,p=d>0?"end":"start",g=d>0?"start":"end",m=c>=0?1:-1,v=m*a,y=m>0?"end":"start",w=m>0?"start":"end";if(i==="top"){var b={x:o+c/2,y:l-d*a,textAnchor:"middle",verticalAnchor:p};return Ka(Ka({},b),n?{height:Math.max(l-n.y,0),width:c}:{})}if(i==="bottom"){var D={x:o+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:g};return Ka(Ka({},D),n?{height:Math.max(n.y+n.height-(l+u),0),width:c}:{})}if(i==="left"){var P={x:o-v,y:l+u/2,textAnchor:y,verticalAnchor:"middle"};return Ka(Ka({},P),n?{width:Math.max(P.x-n.x,0),height:u}:{})}if(i==="right"){var O={x:o+c+v,y:l+u/2,textAnchor:w,verticalAnchor:"middle"};return Ka(Ka({},O),n?{width:Math.max(n.x+n.width-O.x,0),height:u}:{})}var T=n?{width:c,height:u}:{};return i==="insideLeft"?Ka({x:o+v,y:l+u/2,textAnchor:w,verticalAnchor:"middle"},T):i==="insideRight"?Ka({x:o+c-v,y:l+u/2,textAnchor:y,verticalAnchor:"middle"},T):i==="insideTop"?Ka({x:o+c/2,y:l+h,textAnchor:"middle",verticalAnchor:g},T):i==="insideBottom"?Ka({x:o+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:p},T):i==="insideTopLeft"?Ka({x:o+v,y:l+h,textAnchor:w,verticalAnchor:g},T):i==="insideTopRight"?Ka({x:o+c-v,y:l+h,textAnchor:y,verticalAnchor:g},T):i==="insideBottomLeft"?Ka({x:o+v,y:l+u-h,textAnchor:w,verticalAnchor:p},T):i==="insideBottomRight"?Ka({x:o+c-v,y:l+u-h,textAnchor:y,verticalAnchor:p},T):mm(i)&&(qt(i.x)||qd(i.x))&&(qt(i.y)||qd(i.y))?Ka({x:o+yh(i.x,c),y:l+yh(i.y,u),textAnchor:"end",verticalAnchor:"end"},T):Ka({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},T)},BIe=function(t){return"cx"in t&&qt(t.cx)};function Ji(e){var t=e.offset,r=t===void 0?5:t,n=PIe(e,AIe),a=Ka({offset:r},n),i=a.viewBox,s=a.position,o=a.value,l=a.children,c=a.content,u=a.className,d=u===void 0?"":u,h=a.textBreakAll;if(!i||Vr(o)&&Vr(l)&&!F.isValidElement(c)&&!Fr(c))return null;if(F.isValidElement(c))return F.cloneElement(c,a);var p;if(Fr(c)){if(p=F.createElement(c,a),F.isValidElement(p))return p}else p=LIe(a);var g=BIe(i),m=Jr(a,!0);if(g&&(s==="insideStart"||s==="insideEnd"||s==="end"))return RIe(a,p,m);var v=g?FIe(a):$Ie(a);return ze.createElement(Hb,y1({className:dn("recharts-label",d)},m,v,{breakAll:h}),p)}Ji.displayName="Label";var TG=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,s=t.endAngle,o=t.r,l=t.radius,c=t.innerRadius,u=t.outerRadius,d=t.x,h=t.y,p=t.top,g=t.left,m=t.width,v=t.height,y=t.clockWise,w=t.labelViewBox;if(w)return w;if(qt(m)&&qt(v)){if(qt(d)&&qt(h))return{x:d,y:h,width:m,height:v};if(qt(p)&&qt(g))return{x:p,y:g,width:m,height:v}}return qt(d)&&qt(h)?{x:d,y:h,width:0,height:0}:qt(r)&&qt(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:s||a||0,innerRadius:c||0,outerRadius:u||l||o||0,clockWise:y}:t.viewBox?t.viewBox:{}},UIe=function(t,r){return t?t===!0?ze.createElement(Ji,{key:"label-implicit",viewBox:r}):ei(t)?ze.createElement(Ji,{key:"label-implicit",viewBox:r,value:t}):F.isValidElement(t)?t.type===Ji?F.cloneElement(t,{key:"label-implicit",viewBox:r}):ze.createElement(Ji,{key:"label-implicit",content:t,viewBox:r}):Fr(t)?ze.createElement(Ji,{key:"label-implicit",content:t,viewBox:r}):mm(t)?ze.createElement(Ji,y1({viewBox:r},t,{key:"label-implicit"})):null:null},VIe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=TG(t),s=Vo(a,Ji).map(function(l,c){return F.cloneElement(l,{viewBox:r||i,key:"label-".concat(c)})});if(!n)return s;var o=UIe(t.label,r||i);return[o].concat(TIe(s))};Ji.parseViewBox=TG;Ji.renderCallByParent=VIe;function zIe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var qIe=zIe;const WIe=Dn(qIe);function x1(e){"@babel/helpers - typeof";return x1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x1(e)}var HIe=["valueAccessor"],GIe=["data","dataKey","clockWise","id","textBreakAll"];function KIe(e){return JIe(e)||QIe(e)||XIe(e)||YIe()}function YIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XIe(e,t){if(e){if(typeof e=="string")return kT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kT(e,t)}}function QIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function JIe(e){if(Array.isArray(e))return kT(e)}function kT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lw(){return lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lw.apply(this,arguments)}function HM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function GM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HM(Object(r),!0).forEach(function(n){ZIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZIe(e,t,r){return t=eDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eDe(e){var t=tDe(e,"string");return x1(t)=="symbol"?t:t+""}function tDe(e,t){if(x1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(x1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KM(e,t){if(e==null)return{};var r=rDe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rDe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var nDe=function(t){return Array.isArray(t.value)?WIe(t.value):t.value};function $f(e){var t=e.valueAccessor,r=t===void 0?nDe:t,n=KM(e,HIe),a=n.data,i=n.dataKey,s=n.clockWise,o=n.id,l=n.textBreakAll,c=KM(n,GIe);return!a||!a.length?null:ze.createElement(Pa,{className:"recharts-label-list"},a.map(function(u,d){var h=Vr(i)?r(u,d):mo(u&&u.payload,i),p=Vr(o)?{}:{id:"".concat(o,"-").concat(d)};return ze.createElement(Ji,lw({},Jr(u,!0),c,p,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:Ji.parseViewBox(Vr(s)?u:GM(GM({},u),{},{clockWise:s})),key:"label-".concat(d),index:d}))}))}$f.displayName="LabelList";function aDe(e,t){return e?e===!0?ze.createElement($f,{key:"labelList-implicit",data:t}):ze.isValidElement(e)||Fr(e)?ze.createElement($f,{key:"labelList-implicit",data:t,content:e}):mm(e)?ze.createElement($f,lw({data:t},e,{key:"labelList-implicit"})):null:null}function iDe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Vo(n,$f).map(function(s,o){return F.cloneElement(s,{data:t,key:"labelList-".concat(o)})});if(!r)return a;var i=aDe(e.label,t);return[i].concat(KIe(a))}$f.renderCallByParent=iDe;function b1(e){"@babel/helpers - typeof";return b1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b1(e)}function CT(){return CT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},CT.apply(this,arguments)}function YM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function XM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YM(Object(r),!0).forEach(function(n){sDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sDe(e,t,r){return t=oDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oDe(e){var t=lDe(e,"string");return b1(t)=="symbol"?t:t+""}function lDe(e,t){if(b1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(b1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cDe=function(t,r){var n=Nl(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Dx=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,s=t.sign,o=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,u=l*(o?1:-1)+a,d=Math.asin(l/u)/ow,h=c?i:i+s*d,p=Ci(r,n,u,h),g=Ci(r,n,a,h),m=c?i-s*d:i,v=Ci(r,n,u*Math.cos(d*ow),m);return{center:p,circleTangency:g,lineTangency:v,theta:d}},NG=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.startAngle,o=t.endAngle,l=cDe(s,o),c=s+l,u=Ci(r,n,i,s),d=Ci(r,n,i,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(a>0){var p=Ci(r,n,a,s),g=Ci(r,n,a,c);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},uDe=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.cornerRadius,o=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,u=t.endAngle,d=Nl(u-c),h=Dx({cx:r,cy:n,radius:i,angle:c,sign:d,cornerRadius:s,cornerIsExternal:l}),p=h.circleTangency,g=h.lineTangency,m=h.theta,v=Dx({cx:r,cy:n,radius:i,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:l}),y=v.circleTangency,w=v.lineTangency,b=v.theta,D=l?Math.abs(c-u):Math.abs(c-u)-m-b;if(D<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):NG({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:c,endAngle:u});var P="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(D>180),",").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(w.x,",").concat(w.y,`
  `);if(a>0){var O=Dx({cx:r,cy:n,radius:a,angle:c,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),T=O.circleTangency,S=O.lineTangency,_=O.theta,j=Dx({cx:r,cy:n,radius:a,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),N=j.circleTangency,E=j.lineTangency,k=j.theta,U=l?Math.abs(c-u):Math.abs(c-u)-_-k;if(U<0&&s===0)return"".concat(P,"L").concat(r,",").concat(n,"Z");P+="L".concat(E.x,",").concat(E.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(U>180),",").concat(+(d>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(S.x,",").concat(S.y,"Z")}else P+="L".concat(r,",").concat(n,"Z");return P},fDe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},EG=function(t){var r=XM(XM({},fDe),t),n=r.cx,a=r.cy,i=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,u=r.startAngle,d=r.endAngle,h=r.className;if(s<i||u===d)return null;var p=dn("recharts-sector",h),g=s-i,m=yh(o,g,0,!0),v;return m>0&&Math.abs(u-d)<360?v=uDe({cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(m,g/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):v=NG({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d}),ze.createElement("path",CT({},Jr(r,!0),{className:p,d:v,role:"img"}))};function w1(e){"@babel/helpers - typeof";return w1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w1(e)}function PT(){return PT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},PT.apply(this,arguments)}function QM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function JM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QM(Object(r),!0).forEach(function(n){dDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dDe(e,t,r){return t=hDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hDe(e){var t=pDe(e,"string");return w1(t)=="symbol"?t:t+""}function pDe(e,t){if(w1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(w1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZM={curveBasisClosed:d_e,curveBasisOpen:h_e,curveBasis:f_e,curveBumpX:Q5e,curveBumpY:J5e,curveLinearClosed:p_e,curveLinear:W5,curveMonotoneX:m_e,curveMonotoneY:g_e,curveNatural:v_e,curveStep:y_e,curveStepAfter:b_e,curveStepBefore:x_e},Lx=function(t){return t.x===+t.x&&t.y===+t.y},ag=function(t){return t.x},ig=function(t){return t.y},mDe=function(t,r){if(Fr(t))return t;var n="curve".concat(z5(t));return(n==="curveMonotone"||n==="curveBump")&&r?ZM["".concat(n).concat(r==="vertical"?"Y":"X")]:ZM[n]||W5},gDe=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,s=t.baseLine,o=t.layout,l=t.connectNulls,c=l===void 0?!1:l,u=mDe(n,o),d=c?i.filter(function(m){return Lx(m)}):i,h;if(Array.isArray(s)){var p=c?s.filter(function(m){return Lx(m)}):s,g=d.map(function(m,v){return JM(JM({},m),{},{base:p[v]})});return o==="vertical"?h=Tx().y(ig).x1(ag).x0(function(m){return m.base.x}):h=Tx().x(ag).y1(ig).y0(function(m){return m.base.y}),h.defined(Lx).curve(u),h(g)}return o==="vertical"&&qt(s)?h=Tx().y(ig).x1(ag).x0(s):qt(s)?h=Tx().x(ag).y1(ig).y0(s):h=EW().x(ag).y(ig),h.defined(Lx).curve(u),h(d)},jT=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var s=n&&n.length?gDe(t):a;return F.createElement("path",PT({},Jr(t,!1),jb(t),{className:dn("recharts-curve",r),d:s,ref:i}))},kG={exports:{}},vDe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",yDe=vDe,xDe=yDe;function CG(){}function PG(){}PG.resetWarningCache=CG;var bDe=function(){function e(n,a,i,s,o,l){if(l!==xDe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:PG,resetWarningCache:CG};return r.PropTypes=r,r};kG.exports=bDe();var wDe=kG.exports;const Sn=Dn(wDe);var _De=Object.getOwnPropertyNames,SDe=Object.getOwnPropertySymbols,ADe=Object.prototype.hasOwnProperty;function e7(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function Mx(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,s=i.get(r),o=i.get(n);if(s&&o)return s===n&&o===r;i.set(r,n),i.set(n,r);var l=e(r,n,a);return i.delete(r),i.delete(n),l}}function t7(e){return _De(e).concat(SDe(e))}var TDe=Object.hasOwn||function(e,t){return ADe.call(e,t)};function Rh(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var NDe="__v",EDe="__o",kDe="_owner",r7=Object.getOwnPropertyDescriptor,n7=Object.keys;function CDe(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function PDe(e,t){return Rh(e.getTime(),t.getTime())}function jDe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function ODe(e,t){return e===t}function a7(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),s,o,l=0;(s=i.next())&&!s.done;){for(var c=t.entries(),u=!1,d=0;(o=c.next())&&!o.done;){if(a[d]){d++;continue}var h=s.value,p=o.value;if(r.equals(h[0],p[0],l,d,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1;l++}return!0}var IDe=Rh;function DDe(e,t,r){var n=n7(e),a=n.length;if(n7(t).length!==a)return!1;for(;a-- >0;)if(!jG(e,t,r,n[a]))return!1;return!0}function sg(e,t,r){var n=t7(e),a=n.length;if(t7(t).length!==a)return!1;for(var i,s,o;a-- >0;)if(i=n[a],!jG(e,t,r,i)||(s=r7(e,i),o=r7(t,i),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function LDe(e,t){return Rh(e.valueOf(),t.valueOf())}function MDe(e,t){return e.source===t.source&&e.flags===t.flags}function i7(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),s,o;(s=i.next())&&!s.done;){for(var l=t.values(),c=!1,u=0;(o=l.next())&&!o.done;){if(!a[u]&&r.equals(s.value,o.value,s.value,o.value,e,t,r)){c=a[u]=!0;break}u++}if(!c)return!1}return!0}function RDe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function FDe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function jG(e,t,r,n){return(n===kDe||n===EDe||n===NDe)&&(e.$$typeof||t.$$typeof)?!0:TDe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var $De="[object Arguments]",BDe="[object Boolean]",UDe="[object Date]",VDe="[object Error]",zDe="[object Map]",qDe="[object Number]",WDe="[object Object]",HDe="[object RegExp]",GDe="[object Set]",KDe="[object String]",YDe="[object URL]",XDe=Array.isArray,s7=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,o7=Object.assign,QDe=Object.prototype.toString.call.bind(Object.prototype.toString);function JDe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,s=e.areNumbersEqual,o=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,d=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(g,m,v){if(g===m)return!0;if(g==null||m==null)return!1;var y=typeof g;if(y!==typeof m)return!1;if(y!=="object")return y==="number"?s(g,m,v):y==="function"?a(g,m,v):!1;var w=g.constructor;if(w!==m.constructor)return!1;if(w===Object)return o(g,m,v);if(XDe(g))return t(g,m,v);if(s7!=null&&s7(g))return d(g,m,v);if(w===Date)return r(g,m,v);if(w===RegExp)return c(g,m,v);if(w===Map)return i(g,m,v);if(w===Set)return u(g,m,v);var b=QDe(g);return b===UDe?r(g,m,v):b===HDe?c(g,m,v):b===zDe?i(g,m,v):b===GDe?u(g,m,v):b===WDe?typeof g.then!="function"&&typeof m.then!="function"&&o(g,m,v):b===YDe?h(g,m,v):b===VDe?n(g,m,v):b===$De?o(g,m,v):b===BDe||b===qDe||b===KDe?l(g,m,v):!1}}function ZDe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?sg:CDe,areDatesEqual:PDe,areErrorsEqual:jDe,areFunctionsEqual:ODe,areMapsEqual:n?e7(a7,sg):a7,areNumbersEqual:IDe,areObjectsEqual:n?sg:DDe,arePrimitiveWrappersEqual:LDe,areRegExpsEqual:MDe,areSetsEqual:n?e7(i7,sg):i7,areTypedArraysEqual:n?sg:RDe,areUrlsEqual:FDe};if(r&&(a=o7({},a,r(a))),t){var i=Mx(a.areArraysEqual),s=Mx(a.areMapsEqual),o=Mx(a.areObjectsEqual),l=Mx(a.areSetsEqual);a=o7({},a,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return a}function e8e(e){return function(t,r,n,a,i,s,o){return e(t,r,o)}}function t8e(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(l,c){var u=n(),d=u.cache,h=d===void 0?t?new WeakMap:void 0:d,p=u.meta;return r(l,c,{cache:h,equals:a,meta:p,strict:i})};if(t)return function(l,c){return r(l,c,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var s={cache:void 0,equals:a,meta:void 0,strict:i};return function(l,c){return r(l,c,s)}}var r8e=ud();ud({strict:!0});ud({circular:!0});ud({circular:!0,strict:!0});ud({createInternalComparator:function(){return Rh}});ud({strict:!0,createInternalComparator:function(){return Rh}});ud({circular:!0,createInternalComparator:function(){return Rh}});ud({circular:!0,createInternalComparator:function(){return Rh},strict:!0});function ud(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,s=i===void 0?!1:i,o=ZDe(e),l=JDe(o),c=n?n(l):e8e(l);return t8e({circular:r,comparator:l,createState:a,equals:c,strict:s})}function n8e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function l7(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):n8e(a)};requestAnimationFrame(n)}function OT(e){"@babel/helpers - typeof";return OT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},OT(e)}function a8e(e){return l8e(e)||o8e(e)||s8e(e)||i8e()}function i8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s8e(e,t){if(e){if(typeof e=="string")return c7(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c7(e,t)}}function c7(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function l8e(e){if(Array.isArray(e))return e}function c8e(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var s=i,o=a8e(s),l=o[0],c=o.slice(1);if(typeof l=="number"){l7(a.bind(null,c),l);return}a(l),l7(a.bind(null,c));return}OT(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function _1(e){"@babel/helpers - typeof";return _1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_1(e)}function u7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function f7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u7(Object(r),!0).forEach(function(n){OG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OG(e,t,r){return t=u8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u8e(e){var t=f8e(e,"string");return _1(t)==="symbol"?t:String(t)}function f8e(e,t){if(_1(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_1(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var d8e=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},h8e=function(t){return t},p8e=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},nv=function(t,r){return Object.keys(r).reduce(function(n,a){return f7(f7({},n),{},OG({},a,t(a,r[a])))},{})},d7=function(t,r,n){return t.map(function(a){return"".concat(p8e(a)," ").concat(r,"ms ").concat(n)}).join(",")};function m8e(e,t){return y8e(e)||v8e(e,t)||IG(e,t)||g8e()}function g8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function y8e(e){if(Array.isArray(e))return e}function x8e(e){return _8e(e)||w8e(e)||IG(e)||b8e()}function b8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IG(e,t){if(e){if(typeof e=="string")return IT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IT(e,t)}}function w8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _8e(e){if(Array.isArray(e))return IT(e)}function IT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var cw=1e-4,DG=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},LG=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},h7=function(t,r){return function(n){var a=DG(t,r);return LG(a,n)}},S8e=function(t,r){return function(n){var a=DG(t,r),i=[].concat(x8e(a.map(function(s,o){return s*o}).slice(1)),[0]);return LG(i,n)}},p7=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,s=1,o=1;break;case"ease":a=.25,i=.1,s=.25,o=1;break;case"ease-in":a=.42,i=0,s=1,o=1;break;case"ease-out":a=.42,i=0,s=.58,o=1;break;case"ease-in-out":a=0,i=0,s=.58,o=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),u=m8e(c,4);a=u[0],i=u[1],s=u[2],o=u[3]}}}var d=h7(a,s),h=h7(i,o),p=S8e(a,s),g=function(y){return y>1?1:y<0?0:y},m=function(y){for(var w=y>1?1:y,b=w,D=0;D<8;++D){var P=d(b)-w,O=p(b);if(Math.abs(P-w)<cw||O<cw)return h(b);b=g(b-P/O)}return h(b)};return m.isStepper=!1,m},A8e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,s=t.dt,o=s===void 0?17:s,l=function(u,d,h){var p=-(u-d)*n,g=h*i,m=h+(p-g)*o/1e3,v=h*o/1e3+u;return Math.abs(v-d)<cw&&Math.abs(m)<cw?[d,0]:[v,m]};return l.isStepper=!0,l.dt=o,l},T8e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return p7(a);case"spring":return A8e();default:if(a.split("(")[0]==="cubic-bezier")return p7(a)}return typeof a=="function"?a:null};function S1(e){"@babel/helpers - typeof";return S1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S1(e)}function m7(e){return k8e(e)||E8e(e)||MG(e)||N8e()}function N8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function k8e(e){if(Array.isArray(e))return LT(e)}function g7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _i(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g7(Object(r),!0).forEach(function(n){DT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DT(e,t,r){return t=C8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C8e(e){var t=P8e(e,"string");return S1(t)==="symbol"?t:String(t)}function P8e(e,t){if(S1(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(S1(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function j8e(e,t){return D8e(e)||I8e(e,t)||MG(e,t)||O8e()}function O8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MG(e,t){if(e){if(typeof e=="string")return LT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LT(e,t)}}function LT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function I8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function D8e(e){if(Array.isArray(e))return e}var uw=function(t,r,n){return t+(r-t)*n},MT=function(t){var r=t.from,n=t.to;return r!==n},L8e=function e(t,r,n){var a=nv(function(i,s){if(MT(s)){var o=t(s.from,s.to,s.velocity),l=j8e(o,2),c=l[0],u=l[1];return _i(_i({},s),{},{from:c,velocity:u})}return s},r);return n<1?nv(function(i,s){return MT(s)?_i(_i({},s),{},{velocity:uw(s.velocity,a[i].velocity,n),from:uw(s.from,a[i].from,n)}):s},r):e(t,a,n-1)};const M8e=function(e,t,r,n,a){var i=d8e(e,t),s=i.reduce(function(v,y){return _i(_i({},v),{},DT({},y,[e[y],t[y]]))},{}),o=i.reduce(function(v,y){return _i(_i({},v),{},DT({},y,{from:e[y],velocity:0,to:t[y]}))},{}),l=-1,c,u,d=function(){return null},h=function(){return nv(function(y,w){return w.from},o)},p=function(){return!Object.values(o).filter(MT).length},g=function(y){c||(c=y);var w=y-c,b=w/r.dt;o=L8e(r,o,b),a(_i(_i(_i({},e),t),h())),c=y,p()||(l=requestAnimationFrame(d))},m=function(y){u||(u=y);var w=(y-u)/n,b=nv(function(P,O){return uw.apply(void 0,m7(O).concat([r(w)]))},s);if(a(_i(_i(_i({},e),t),b)),w<1)l=requestAnimationFrame(d);else{var D=nv(function(P,O){return uw.apply(void 0,m7(O).concat([r(1)]))},s);a(_i(_i(_i({},e),t),D))}};return d=r.isStepper?g:m,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function Lp(e){"@babel/helpers - typeof";return Lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lp(e)}var R8e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function F8e(e,t){if(e==null)return{};var r=$8e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $8e(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function gA(e){return z8e(e)||V8e(e)||U8e(e)||B8e()}function B8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U8e(e,t){if(e){if(typeof e=="string")return RT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RT(e,t)}}function V8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function z8e(e){if(Array.isArray(e))return RT(e)}function RT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ul(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v7(Object(r),!0).forEach(function(n){Ag(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ag(e,t,r){return t=RG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W8e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RG(n.key),n)}}function H8e(e,t,r){return t&&W8e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function RG(e){var t=G8e(e,"string");return Lp(t)==="symbol"?t:String(t)}function G8e(e,t){if(Lp(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Lp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function K8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FT(e,t)}function FT(e,t){return FT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},FT(e,t)}function Y8e(e){var t=X8e();return function(){var n=fw(e),a;if(t){var i=fw(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return $T(this,a)}}function $T(e,t){if(t&&(Lp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BT(e)}function BT(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X8e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function fw(e){return fw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fw(e)}var xu=function(e){K8e(r,e);var t=Y8e(r);function r(n,a){var i;q8e(this,r),i=t.call(this,n,a);var s=i.props,o=s.isActive,l=s.attributeName,c=s.from,u=s.to,d=s.steps,h=s.children,p=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind(BT(i)),i.changeStyle=i.changeStyle.bind(BT(i)),!o||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:u}),$T(i);if(d&&d.length)i.state={style:d[0].style};else if(c){if(typeof h=="function")return i.state={style:c},$T(i);i.state={style:l?Ag({},l,c):c}}else i.state={style:{}};return i}return H8e(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,o=i.canBegin,l=i.attributeName,c=i.shouldReAnimate,u=i.to,d=i.from,h=this.state.style;if(o){if(!s){var p={style:l?Ag({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(p);return}if(!(r8e(a.to,u)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||c?d:a.to;if(this.state&&h){var v={style:l?Ag({},l,m):m};(l&&h[l]!==m||!l&&h!==m)&&this.setState(v)}this.runAnimation(ul(ul({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,o=a.to,l=a.duration,c=a.easing,u=a.begin,d=a.onAnimationEnd,h=a.onAnimationStart,p=M8e(s,o,T8e(c),l,this.changeStyle),g=function(){i.stopJSAnimation=p()};this.manager.start([h,u,g,l,d])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,o=a.begin,l=a.onAnimationStart,c=s[0],u=c.style,d=c.duration,h=d===void 0?0:d,p=function(m,v,y){if(y===0)return m;var w=v.duration,b=v.easing,D=b===void 0?"ease":b,P=v.style,O=v.properties,T=v.onAnimationEnd,S=y>0?s[y-1]:v,_=O||Object.keys(P);if(typeof D=="function"||D==="spring")return[].concat(gA(m),[i.runJSAnimation.bind(i,{from:S.style,to:P,duration:w,easing:D}),w]);var j=d7(_,w,D),N=ul(ul(ul({},S.style),P),{},{transition:j});return[].concat(gA(m),[N,w,T]).filter(h8e)};return this.manager.start([l].concat(gA(s.reduce(p,[u,Math.max(h,o)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=c8e());var i=a.begin,s=a.duration,o=a.attributeName,l=a.to,c=a.easing,u=a.onAnimationStart,d=a.onAnimationEnd,h=a.steps,p=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var m=o?Ag({},o,l):l,v=d7(Object.keys(m),s,c);g.start([u,i,ul(ul({},m),{},{transition:v}),s,d])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var o=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=F8e(a,R8e),c=F.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!o||c===0||s<=0)return i;var d=function(p){var g=p.props,m=g.style,v=m===void 0?{}:m,y=g.className,w=F.cloneElement(p,ul(ul({},l),{},{style:ul(ul({},v),u),className:y}));return w};return c===1?d(F.Children.only(i)):ze.createElement("div",null,F.Children.map(i,function(h){return d(h)}))}}]),r}(F.PureComponent);xu.displayName="Animate";xu.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};xu.propTypes={from:Sn.oneOfType([Sn.object,Sn.string]),to:Sn.oneOfType([Sn.object,Sn.string]),attributeName:Sn.string,duration:Sn.number,begin:Sn.number,easing:Sn.oneOfType([Sn.string,Sn.func]),steps:Sn.arrayOf(Sn.shape({duration:Sn.number.isRequired,style:Sn.object.isRequired,easing:Sn.oneOfType([Sn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Sn.func]),properties:Sn.arrayOf("string"),onAnimationEnd:Sn.func})),children:Sn.oneOfType([Sn.node,Sn.func]),isActive:Sn.bool,canBegin:Sn.bool,onAnimationEnd:Sn.func,shouldReAnimate:Sn.bool,onAnimationStart:Sn.func,onAnimationReStart:Sn.func};function A1(e){"@babel/helpers - typeof";return A1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A1(e)}function dw(){return dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dw.apply(this,arguments)}function Q8e(e,t){return tLe(e)||eLe(e,t)||Z8e(e,t)||J8e()}function J8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z8e(e,t){if(e){if(typeof e=="string")return y7(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y7(e,t)}}function y7(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eLe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function tLe(e){if(Array.isArray(e))return e}function x7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function b7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x7(Object(r),!0).forEach(function(n){rLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rLe(e,t,r){return t=nLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nLe(e){var t=aLe(e,"string");return A1(t)=="symbol"?t:t+""}function aLe(e,t){if(A1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(A1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var w7=function(t,r,n,a,i){var s=Math.min(Math.abs(n)/2,Math.abs(a)/2),o=a>=0?1:-1,l=n>=0?1:-1,c=a>=0&&n>=0||a<0&&n<0?1:0,u;if(s>0&&i instanceof Array){for(var d=[0,0,0,0],h=0,p=4;h<p;h++)d[h]=i[h]>s?s:i[h];u="M".concat(t,",").concat(r+o*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(t+l*d[0],",").concat(r)),u+="L ".concat(t+n-l*d[1],",").concat(r),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(r+o*d[1])),u+="L ".concat(t+n,",").concat(r+a-o*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(t+n-l*d[2],",").concat(r+a)),u+="L ".concat(t+l*d[3],",").concat(r+a),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(r+a-o*d[3])),u+="Z"}else if(s>0&&i===+i&&i>0){var g=Math.min(s,i);u="M ".concat(t,",").concat(r+o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+l*g,",").concat(r,`
            L `).concat(t+n-l*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+n,",").concat(r+o*g,`
            L `).concat(t+n,",").concat(r+a-o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+n-l*g,",").concat(r+a,`
            L `).concat(t+l*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t,",").concat(r+a-o*g," Z")}else u="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return u},iLe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,s=r.y,o=r.width,l=r.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(i,i+o),u=Math.max(i,i+o),d=Math.min(s,s+l),h=Math.max(s,s+l);return n>=c&&n<=u&&a>=d&&a<=h}return!1},sLe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},yP=function(t){var r=b7(b7({},sLe),t),n=F.useRef(),a=F.useState(-1),i=Q8e(a,2),s=i[0],o=i[1];F.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var D=n.current.getTotalLength();D&&o(D)}catch{}},[]);var l=r.x,c=r.y,u=r.width,d=r.height,h=r.radius,p=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,y=r.isAnimationActive,w=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||u===0||d===0)return null;var b=dn("recharts-rectangle",p);return w?ze.createElement(xu,{canBegin:s>0,from:{width:u,height:d,x:l,y:c},to:{width:u,height:d,x:l,y:c},duration:m,animationEasing:g,isActive:w},function(D){var P=D.width,O=D.height,T=D.x,S=D.y;return ze.createElement(xu,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,isActive:y,easing:g},ze.createElement("path",dw({},Jr(r,!0),{className:b,d:w7(T,S,P,O,h),ref:n})))}):ze.createElement("path",dw({},Jr(r,!0),{className:b,d:w7(l,c,u,d,h)}))};function UT(){return UT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},UT.apply(this,arguments)}var xP=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,s=dn("recharts-dot",i);return r===+r&&n===+n&&a===+a?F.createElement("circle",UT({},Jr(t,!1),jb(t),{className:s,cx:r,cy:n,r:a})):null};function T1(e){"@babel/helpers - typeof";return T1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T1(e)}var oLe=["x","y","top","left","width","height","className"];function VT(){return VT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},VT.apply(this,arguments)}function _7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lLe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_7(Object(r),!0).forEach(function(n){cLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cLe(e,t,r){return t=uLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uLe(e){var t=fLe(e,"string");return T1(t)=="symbol"?t:t+""}function fLe(e,t){if(T1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(T1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dLe(e,t){if(e==null)return{};var r=hLe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hLe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var pLe=function(t,r,n,a,i,s){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(s,",").concat(r,"h").concat(n)},mLe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.top,o=s===void 0?0:s,l=t.left,c=l===void 0?0:l,u=t.width,d=u===void 0?0:u,h=t.height,p=h===void 0?0:h,g=t.className,m=dLe(t,oLe),v=lLe({x:n,y:i,top:o,left:c,width:d,height:p},m);return!qt(n)||!qt(i)||!qt(d)||!qt(p)||!qt(o)||!qt(c)?null:ze.createElement("path",VT({},Jr(v,!0),{className:dn("recharts-cross",g),d:pLe(n,i,d,p,o,c)}))},gLe=QW,vLe=gLe(Object.getPrototypeOf,Object),yLe=vLe,xLe=Nu,bLe=yLe,wLe=Eu,_Le="[object Object]",SLe=Function.prototype,ALe=Object.prototype,FG=SLe.toString,TLe=ALe.hasOwnProperty,NLe=FG.call(Object);function ELe(e){if(!wLe(e)||xLe(e)!=_Le)return!1;var t=bLe(e);if(t===null)return!0;var r=TLe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&FG.call(r)==NLe}var kLe=ELe;const CLe=Dn(kLe);var PLe=Nu,jLe=Eu,OLe="[object Boolean]";function ILe(e){return e===!0||e===!1||jLe(e)&&PLe(e)==OLe}var DLe=ILe;const LLe=Dn(DLe);function N1(e){"@babel/helpers - typeof";return N1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N1(e)}function hw(){return hw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hw.apply(this,arguments)}function MLe(e,t){return BLe(e)||$Le(e,t)||FLe(e,t)||RLe()}function RLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FLe(e,t){if(e){if(typeof e=="string")return S7(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S7(e,t)}}function S7(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $Le(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function BLe(e){if(Array.isArray(e))return e}function A7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function T7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A7(Object(r),!0).forEach(function(n){ULe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ULe(e,t,r){return t=VLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VLe(e){var t=zLe(e,"string");return N1(t)=="symbol"?t:t+""}function zLe(e,t){if(N1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(N1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var N7=function(t,r,n,a,i){var s=n-a,o;return o="M ".concat(t,",").concat(r),o+="L ".concat(t+n,",").concat(r),o+="L ".concat(t+n-s/2,",").concat(r+i),o+="L ".concat(t+n-s/2-a,",").concat(r+i),o+="L ".concat(t,",").concat(r," Z"),o},qLe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},WLe=function(t){var r=T7(T7({},qLe),t),n=F.useRef(),a=F.useState(-1),i=MLe(a,2),s=i[0],o=i[1];F.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&o(b)}catch{}},[]);var l=r.x,c=r.y,u=r.upperWidth,d=r.lowerWidth,h=r.height,p=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,y=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||h!==+h||u===0&&d===0||h===0)return null;var w=dn("recharts-trapezoid",p);return y?ze.createElement(xu,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:d,height:h,x:l,y:c},duration:m,animationEasing:g,isActive:y},function(b){var D=b.upperWidth,P=b.lowerWidth,O=b.height,T=b.x,S=b.y;return ze.createElement(xu,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,easing:g},ze.createElement("path",hw({},Jr(r,!0),{className:w,d:N7(T,S,D,P,O),ref:n})))}):ze.createElement("g",null,ze.createElement("path",hw({},Jr(r,!0),{className:w,d:N7(l,c,u,d,h)})))},HLe=["option","shapeType","propTransformer","activeClassName","isActive"];function E1(e){"@babel/helpers - typeof";return E1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E1(e)}function GLe(e,t){if(e==null)return{};var r=KLe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function KLe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function E7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E7(Object(r),!0).forEach(function(n){YLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YLe(e,t,r){return t=XLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XLe(e){var t=QLe(e,"string");return E1(t)=="symbol"?t:t+""}function QLe(e,t){if(E1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(E1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JLe(e,t){return pw(pw({},t),e)}function ZLe(e,t){return e==="symbols"}function k7(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return ze.createElement(yP,r);case"trapezoid":return ze.createElement(WLe,r);case"sector":return ze.createElement(EG,r);case"symbols":if(ZLe(t))return ze.createElement(RC,r);break;default:return null}}function eMe(e){return F.isValidElement(e)?e.props:e}function tMe(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?JLe:n,i=e.activeClassName,s=i===void 0?"recharts-active-shape":i,o=e.isActive,l=GLe(e,HLe),c;if(F.isValidElement(t))c=F.cloneElement(t,pw(pw({},l),eMe(t)));else if(Fr(t))c=t(l);else if(CLe(t)&&!LLe(t)){var u=a(t,l);c=ze.createElement(k7,{shapeType:r,elementProps:u})}else{var d=l;c=ze.createElement(k7,{shapeType:r,elementProps:d})}return o?ze.createElement(Pa,{className:s},c):c}function o_(e,t){return t!=null&&"trapezoids"in e.props}function l_(e,t){return t!=null&&"sectors"in e.props}function k1(e,t){return t!=null&&"points"in e.props}function rMe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function nMe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function aMe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function iMe(e,t){var r;return o_(e,t)?r=rMe:l_(e,t)?r=nMe:k1(e,t)&&(r=aMe),r}function sMe(e,t){var r;return o_(e,t)?r="trapezoids":l_(e,t)?r="sectors":k1(e,t)&&(r="points"),r}function oMe(e,t){if(o_(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(l_(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return k1(e,t)?t.payload:{}}function lMe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=sMe(r,t),i=oMe(r,t),s=n.filter(function(l,c){var u=a_(i,l),d=r.props[a].filter(function(g){var m=iMe(r,t);return m(g,t)}),h=r.props[a].indexOf(d[d.length-1]),p=c===h;return u&&p}),o=n.indexOf(s[s.length-1]);return o}var cMe=Math.ceil,uMe=Math.max;function fMe(e,t,r,n){for(var a=-1,i=uMe(cMe((t-e)/(r||1)),0),s=Array(i);i--;)s[n?i:++a]=e,e+=r;return s}var dMe=fMe,hMe=gH,C7=1/0,pMe=17976931348623157e292;function mMe(e){if(!e)return e===0?e:0;if(e=hMe(e),e===C7||e===-C7){var t=e<0?-1:1;return t*pMe}return e===e?e:0}var $G=mMe,gMe=dMe,vMe=Y5,vA=$G;function yMe(e){return function(t,r,n){return n&&typeof n!="number"&&vMe(t,r,n)&&(r=n=void 0),t=vA(t),r===void 0?(r=t,t=0):r=vA(r),n=n===void 0?t<r?1:-1:vA(n),gMe(t,r,n,e)}}var xMe=yMe,bMe=xMe,wMe=bMe(),_Me=wMe;const mw=Dn(_Me);function C1(e){"@babel/helpers - typeof";return C1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C1(e)}function P7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function j7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P7(Object(r),!0).forEach(function(n){BG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BG(e,t,r){return t=SMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SMe(e){var t=AMe(e,"string");return C1(t)=="symbol"?t:t+""}function AMe(e,t){if(C1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(C1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TMe=["Webkit","Moz","O","ms"],NMe=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=TMe.reduce(function(i,s){return j7(j7({},i),{},BG({},s+n,r))},{});return a[t]=r,a};function Mp(e){"@babel/helpers - typeof";return Mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mp(e)}function gw(){return gw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gw.apply(this,arguments)}function O7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O7(Object(r),!0).forEach(function(n){ro(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VG(n.key),n)}}function kMe(e,t,r){return t&&I7(e.prototype,t),r&&I7(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function CMe(e,t,r){return t=vw(t),PMe(e,UG()?Reflect.construct(t,r||[],vw(e).constructor):t.apply(e,r))}function PMe(e,t){if(t&&(Mp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jMe(e)}function jMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UG=function(){return!!e})()}function vw(e){return vw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vw(e)}function OMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zT(e,t)}function zT(e,t){return zT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zT(e,t)}function ro(e,t,r){return t=VG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VG(e){var t=IMe(e,"string");return Mp(t)=="symbol"?t:t+""}function IMe(e,t){if(Mp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Mp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DMe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,s=t.width,o=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=tv().domain(mw(0,l)).range([i,i+s-o]),u=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(a),scale:c,scaleValues:u}},D7=function(t){return t.changedTouches&&!!t.changedTouches.length},Rp=function(e){function t(r){var n;return EMe(this,t),n=CMe(this,t,[r]),ro(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),ro(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),ro(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,s=a.onDragEnd,o=a.startIndex;s==null||s({endIndex:i,startIndex:o})}),n.detachDragEndListener()}),ro(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),ro(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),ro(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),ro(n,"handleSlideDragStart",function(a){var i=D7(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return OMe(t,e),kMe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,s=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,u=c.length-1,d=Math.min(a,i),h=Math.max(a,i),p=t.getIndexInRange(s,d),g=t.getIndexInRange(s,h);return{startIndex:p-p%l,endIndex:g===u?u:g-g%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,s=a.tickFormatter,o=a.dataKey,l=mo(i[n],o,n);return Fr(s)?s(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,s=a.startX,o=a.endX,l=this.props,c=l.x,u=l.width,d=l.travellerWidth,h=l.startIndex,p=l.endIndex,g=l.onChange,m=n.pageX-i;m>0?m=Math.min(m,c+u-d-o,c+u-d-s):m<0&&(m=Math.max(m,c-s,c-o));var v=this.getIndex({startX:s+m,endX:o+m});(v.startIndex!==h||v.endIndex!==p)&&g&&g(v),this.setState({startX:s+m,endX:o+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=D7(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,o=a.endX,l=a.startX,c=this.state[s],u=this.props,d=u.x,h=u.width,p=u.travellerWidth,g=u.onChange,m=u.gap,v=u.data,y={startX:this.state.startX,endX:this.state.endX},w=n.pageX-i;w>0?w=Math.min(w,d+h-p-c):w<0&&(w=Math.max(w,d-c)),y[s]=c+w;var b=this.getIndex(y),D=b.startIndex,P=b.endIndex,O=function(){var S=v.length-1;return s==="startX"&&(o>l?D%m===0:P%m===0)||o<l&&P===S||s==="endX"&&(o>l?P%m===0:D%m===0)||o>l&&P===S};this.setState(ro(ro({},s,c+w),"brushMoveStartX",n.pageX),function(){g&&O()&&g(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,s=this.state,o=s.scaleValues,l=s.startX,c=s.endX,u=this.state[a],d=o.indexOf(u);if(d!==-1){var h=d+n;if(!(h===-1||h>=o.length)){var p=o[h];a==="startX"&&p>=c||a==="endX"&&p<=l||this.setState(ro({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.fill,c=n.stroke;return ze.createElement("rect",{stroke:c,fill:l,x:a,y:i,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.data,c=n.children,u=n.padding,d=F.Children.only(c);return d?ze.cloneElement(d,{x:a,y:i,width:s,height:o,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,s,o=this,l=this.props,c=l.y,u=l.travellerWidth,d=l.height,h=l.traveller,p=l.ariaLabel,g=l.data,m=l.startIndex,v=l.endIndex,y=Math.max(n,this.props.x),w=yA(yA({},Jr(this.props,!1)),{},{x:y,y:c,width:u,height:d}),b=p||"Min value: ".concat((i=g[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=g[v])===null||s===void 0?void 0:s.name);return ze.createElement(Pa,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(P){["ArrowLeft","ArrowRight"].includes(P.key)&&(P.preventDefault(),P.stopPropagation(),o.handleTravellerMoveKeyboard(P.key==="ArrowRight"?1:-1,a))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,w))}},{key:"renderSlide",value:function(n,a){var i=this.props,s=i.y,o=i.height,l=i.stroke,c=i.travellerWidth,u=Math.min(n,a)+c,d=Math.max(Math.abs(a-n)-c,0);return ze.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:s,width:d,height:o})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,s=n.y,o=n.height,l=n.travellerWidth,c=n.stroke,u=this.state,d=u.startX,h=u.endX,p=5,g={pointerEvents:"none",fill:c};return ze.createElement(Pa,{className:"recharts-brush-texts"},ze.createElement(Hb,gw({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-p,y:s+o/2},g),this.getTextOfTick(a)),ze.createElement(Hb,gw({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+p,y:s+o/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,s=n.children,o=n.x,l=n.y,c=n.width,u=n.height,d=n.alwaysShowText,h=this.state,p=h.startX,g=h.endX,m=h.isTextActive,v=h.isSlideMoving,y=h.isTravellerMoving,w=h.isTravellerFocused;if(!a||!a.length||!qt(o)||!qt(l)||!qt(c)||!qt(u)||c<=0||u<=0)return null;var b=dn("recharts-brush",i),D=ze.Children.count(s)===1,P=NMe("userSelect","none");return ze.createElement(Pa,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:P},this.renderBackground(),D&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(m||v||y||w||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,s=n.width,o=n.height,l=n.stroke,c=Math.floor(i+o/2)-1;return ze.createElement(ze.Fragment,null,ze.createElement("rect",{x:a,y:i,width:s,height:o,fill:l,stroke:"none"}),ze.createElement("line",{x1:a+1,y1:c,x2:a+s-1,y2:c,fill:"none",stroke:"#fff"}),ze.createElement("line",{x1:a+1,y1:c+2,x2:a+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return ze.isValidElement(n)?i=ze.cloneElement(n,a):Fr(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,s=n.width,o=n.x,l=n.travellerWidth,c=n.updateId,u=n.startIndex,d=n.endIndex;if(i!==a.prevData||c!==a.prevUpdateId)return yA({prevData:i,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s},i&&i.length?DMe({data:i,width:s,x:o,travellerWidth:l,startIndex:u,endIndex:d}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||o!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([o,o+s-l]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,s=0,o=i-1;o-s>1;){var l=Math.floor((s+o)/2);n[l]>a?o=l:s=l}return a>=n[o]?o:s}}])}(F.PureComponent);ro(Rp,"displayName","Brush");ro(Rp,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var LMe=qC;function MMe(e,t){var r;return LMe(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var RMe=MMe,FMe=zW,$Me=od,BMe=RMe,UMe=Hs,VMe=Y5;function zMe(e,t,r){var n=UMe(e)?FMe:BMe;return r&&VMe(e,t,r)&&(t=void 0),n(e,$Me(t))}var qMe=zMe;const WMe=Dn(qMe);var uc=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},L7=fH;function HMe(e,t,r){t=="__proto__"&&L7?L7(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var GMe=HMe,KMe=GMe,YMe=cH,XMe=od;function QMe(e,t){var r={};return t=XMe(t),YMe(e,function(n,a,i){KMe(r,a,t(n,a,i))}),r}var JMe=QMe;const ZMe=Dn(JMe);function e7e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var t7e=e7e,r7e=qC;function n7e(e,t){var r=!0;return r7e(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var a7e=n7e,i7e=t7e,s7e=a7e,o7e=od,l7e=Hs,c7e=Y5;function u7e(e,t,r){var n=l7e(e)?i7e:s7e;return r&&c7e(e,t,r)&&(t=void 0),n(e,o7e(t))}var f7e=u7e;const zG=Dn(f7e);var d7e=["x","y"];function P1(e){"@babel/helpers - typeof";return P1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P1(e)}function qT(){return qT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qT.apply(this,arguments)}function M7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function og(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M7(Object(r),!0).forEach(function(n){h7e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h7e(e,t,r){return t=p7e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p7e(e){var t=m7e(e,"string");return P1(t)=="symbol"?t:t+""}function m7e(e,t){if(P1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(P1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function g7e(e,t){if(e==null)return{};var r=v7e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function v7e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function y7e(e,t){var r=e.x,n=e.y,a=g7e(e,d7e),i="".concat(r),s=parseInt(i,10),o="".concat(n),l=parseInt(o,10),c="".concat(t.height||a.height),u=parseInt(c,10),d="".concat(t.width||a.width),h=parseInt(d,10);return og(og(og(og(og({},t),a),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function R7(e){return ze.createElement(tMe,qT({shapeType:"rectangle",propTransformer:y7e,activeClassName:"recharts-active-bar"},e))}var x7e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=qt(n)||Mwe(n);return i?t(n,a):(i||bh(),r)}},b7e=["value","background"],qG;function Fp(e){"@babel/helpers - typeof";return Fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fp(e)}function w7e(e,t){if(e==null)return{};var r=_7e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _7e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function yw(){return yw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yw.apply(this,arguments)}function F7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $a(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F7(Object(r),!0).forEach(function(n){wf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HG(n.key),n)}}function A7e(e,t,r){return t&&$7(e.prototype,t),r&&$7(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function T7e(e,t,r){return t=xw(t),N7e(e,WG()?Reflect.construct(t,r||[],xw(e).constructor):t.apply(e,r))}function N7e(e,t){if(t&&(Fp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E7e(e)}function E7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WG=function(){return!!e})()}function xw(e){return xw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xw(e)}function k7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WT(e,t)}function WT(e,t){return WT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},WT(e,t)}function wf(e,t,r){return t=HG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HG(e){var t=C7e(e,"string");return Fp(t)=="symbol"?t:t+""}function C7e(e,t){if(Fp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vy=function(e){function t(){var r;S7e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=T7e(this,t,[].concat(a)),wf(r,"state",{isAnimationFinished:!1}),wf(r,"id",uy("recharts-bar-")),wf(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),wf(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return k7e(t,e),A7e(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,s=i.shape,o=i.dataKey,l=i.activeIndex,c=i.activeBar,u=Jr(this.props,!1);return n&&n.map(function(d,h){var p=h===l,g=p?c:s,m=$a($a($a({},u),d),{},{isActive:p,option:g,index:h,dataKey:o,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return ze.createElement(Pa,yw({className:"recharts-bar-rectangle"},Ob(a.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),ze.createElement(R7,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,s=a.layout,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,h=this.state.prevData;return ze.createElement(xu,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,m=i.map(function(v,y){var w=h&&h[y];if(w){var b=bl(w.x,v.x),D=bl(w.y,v.y),P=bl(w.width,v.width),O=bl(w.height,v.height);return $a($a({},v),{},{x:b(g),y:D(g),width:P(g),height:O(g)})}if(s==="horizontal"){var T=bl(0,v.height),S=T(g);return $a($a({},v),{},{y:v.y+v.height-S,height:S})}var _=bl(0,v.width),j=_(g);return $a($a({},v),{},{width:j})});return ze.createElement(Pa,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,s=this.state.prevData;return i&&a&&a.length&&(!s||!a_(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,s=a.dataKey,o=a.activeIndex,l=Jr(this.props.background,!1);return i.map(function(c,u){c.value;var d=c.background,h=w7e(c,b7e);if(!d)return null;var p=$a($a($a($a($a({},h),{},{fill:"#eee"},d),l),Ob(n.props,c,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:u,className:"recharts-bar-background-rectangle"});return ze.createElement(R7,yw({key:"background-bar-".concat(u),option:n.props.background,isActive:u===o},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.data,o=i.xAxis,l=i.yAxis,c=i.layout,u=i.children,d=Vo(u,gy);if(!d)return null;var h=c==="vertical"?s[0].height/2:s[0].width/2,p=function(v,y){var w=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:w,errorVal:mo(v,y)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return ze.createElement(Pa,g,d.map(function(m){return ze.cloneElement(m,{key:"error-bar-".concat(a,"-").concat(m.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,s=n.className,o=n.xAxis,l=n.yAxis,c=n.left,u=n.top,d=n.width,h=n.height,p=n.isAnimationActive,g=n.background,m=n.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,y=dn("recharts-bar",s),w=o&&o.allowDataOverflow,b=l&&l.allowDataOverflow,D=w||b,P=Vr(m)?this.id:m;return ze.createElement(Pa,{className:y},w||b?ze.createElement("defs",null,ze.createElement("clipPath",{id:"clipPath-".concat(P)},ze.createElement("rect",{x:w?c:c-d/2,y:b?u:u-h/2,width:w?d:d*2,height:b?h:h*2}))):null,ze.createElement(Pa,{className:"recharts-bar-rectangles",clipPath:D?"url(#clipPath-".concat(P,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(D,P),(!p||v)&&$f.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(F.PureComponent);qG=vy;wf(vy,"displayName","Bar");wf(vy,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!eu.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});wf(vy,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,s=e.yAxis,o=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,d=e.displayedData,h=e.offset,p=iIe(n,r);if(!p)return null;var g=t.layout,m=r.type.defaultProps,v=m!==void 0?$a($a({},m),r.props):r.props,y=v.dataKey,w=v.children,b=v.minPointSize,D=g==="horizontal"?s:i,P=c?D.scale.domain():null,O=hIe({numericAxis:D}),T=Vo(w,yH),S=d.map(function(_,j){var N,E,k,U,G,z;c?N=sIe(c[u+j],P):(N=mo(_,y),Array.isArray(N)||(N=[O,N]));var X=x7e(b,qG.defaultProps.minPointSize)(N[1],j);if(g==="horizontal"){var V,H=[s.scale(N[0]),s.scale(N[1])],re=H[0],ee=H[1];E=FM({axis:i,ticks:o,bandSize:a,offset:p.offset,entry:_,index:j}),k=(V=ee??re)!==null&&V!==void 0?V:void 0,U=p.size;var I=re-ee;if(G=Number.isNaN(I)?0:I,z={x:E,y:s.y,width:U,height:s.height},Math.abs(X)>0&&Math.abs(G)<Math.abs(X)){var M=Nl(G||X)*(Math.abs(X)-Math.abs(G));k-=M,G+=M}}else{var q=[i.scale(N[0]),i.scale(N[1])],K=q[0],J=q[1];if(E=K,k=FM({axis:s,ticks:l,bandSize:a,offset:p.offset,entry:_,index:j}),U=J-K,G=p.size,z={x:i.x,y:k,width:i.width,height:G},Math.abs(X)>0&&Math.abs(U)<Math.abs(X)){var se=Nl(U||X)*(Math.abs(X)-Math.abs(U));U+=se}}return $a($a($a({},_),{},{x:E,y:k,width:U,height:G,value:c?N:N[1],payload:_,background:z},T&&T[j]&&T[j].props),{},{tooltipPayload:[AG(r,_)],tooltipPosition:{x:E+U/2,y:k+G/2}})});return $a({data:S,layout:g},h)});function j1(e){"@babel/helpers - typeof";return j1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j1(e)}function P7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GG(n.key),n)}}function j7e(e,t,r){return t&&B7(e.prototype,t),r&&B7(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function U7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U7(Object(r),!0).forEach(function(n){c_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c_(e,t,r){return t=GG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GG(e){var t=O7e(e,"string");return j1(t)=="symbol"?t:t+""}function O7e(e,t){if(j1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(j1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var I7e=function(t,r,n,a,i){var s=t.width,o=t.height,l=t.layout,c=t.children,u=Object.keys(r),d={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},h=!!ao(c,vy);return u.reduce(function(p,g){var m=r[g],v=m.orientation,y=m.domain,w=m.padding,b=w===void 0?{}:w,D=m.mirror,P=m.reversed,O="".concat(v).concat(D?"Mirror":""),T,S,_,j,N;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var E=y[1]-y[0],k=1/0,U=m.categoricalDomain.sort($we);if(U.forEach(function(q,K){K>0&&(k=Math.min((q||0)-(U[K-1]||0),k))}),Number.isFinite(k)){var G=k/E,z=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(T=G*z/2),m.padding==="no-gap"){var X=yh(t.barCategoryGap,G*z),V=G*z/2;T=V-X-(V-X)/z*X}}}a==="xAxis"?S=[n.left+(b.left||0)+(T||0),n.left+n.width-(b.right||0)-(T||0)]:a==="yAxis"?S=l==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(T||0),n.top+n.height-(b.bottom||0)-(T||0)]:S=m.range,P&&(S=[S[1],S[0]]);var H=nIe(m,i,h),re=H.scale,ee=H.realScaleType;re.domain(y).range(S),aIe(re);var I=dIe(re,vl(vl({},m),{},{realScaleType:ee}));a==="xAxis"?(N=v==="top"&&!D||v==="bottom"&&D,_=n.left,j=d[O]-N*m.height):a==="yAxis"&&(N=v==="left"&&!D||v==="right"&&D,_=d[O]-N*m.width,j=n.top);var M=vl(vl(vl({},m),I),{},{realScaleType:ee,x:_,y:j,scale:re,width:a==="xAxis"?n.width:m.width,height:a==="yAxis"?n.height:m.height});return M.bandSize=sw(M,I),!m.hide&&a==="xAxis"?d[O]+=(N?-1:1)*M.height:m.hide||(d[O]+=(N?-1:1)*M.width),vl(vl({},p),{},c_({},g,M))},{})},KG=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return{x:Math.min(n,i),y:Math.min(a,s),width:Math.abs(i-n),height:Math.abs(s-a)}},D7e=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return KG({x:r,y:n},{x:a,y:i})},YG=function(){function e(t){P7e(this,e),this.scale=t}return j7e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();c_(YG,"EPS",1e-4);var bP=function(t){var r=Object.keys(t).reduce(function(n,a){return vl(vl({},n),{},c_({},a,YG.create(t[a])))},{});return vl(vl({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,o=i.position;return ZMe(a,function(l,c){return r[c].apply(l,{bandAware:s,position:o})})},isInRange:function(a){return zG(a,function(i,s){return r[s].isInRange(i)})}})};function L7e(e){return(e%180+180)%180}var M7e=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=L7e(a),s=i*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},R7e=od,F7e=fy,$7e=G5;function B7e(e){return function(t,r,n){var a=Object(t);if(!F7e(t)){var i=R7e(r);t=$7e(t),r=function(o){return i(a[o],o,a)}}var s=e(t,r,n);return s>-1?a[i?t[s]:s]:void 0}}var U7e=B7e,V7e=$G;function z7e(e){var t=V7e(e),r=t%1;return t===t?r?t-r:t:0}var q7e=z7e,W7e=nH,H7e=od,G7e=q7e,K7e=Math.max;function Y7e(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:G7e(r);return a<0&&(a=K7e(n+a,0)),W7e(e,H7e(t),a)}var X7e=Y7e,Q7e=U7e,J7e=X7e,Z7e=Q7e(J7e),eRe=Z7e;const tRe=Dn(eRe);var rRe=Bbe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),wP=F.createContext(void 0),_P=F.createContext(void 0),XG=F.createContext(void 0),QG=F.createContext({}),JG=F.createContext(void 0),ZG=F.createContext(0),eK=F.createContext(0),V7=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,s=t.clipPathId,o=t.children,l=t.width,c=t.height,u=rRe(i);return ze.createElement(wP.Provider,{value:n},ze.createElement(_P.Provider,{value:a},ze.createElement(QG.Provider,{value:i},ze.createElement(XG.Provider,{value:u},ze.createElement(JG.Provider,{value:s},ze.createElement(ZG.Provider,{value:c},ze.createElement(eK.Provider,{value:l},o)))))))},nRe=function(){return F.useContext(JG)},tK=function(t){var r=F.useContext(wP);r==null&&bh();var n=r[t];return n==null&&bh(),n},aRe=function(){var t=F.useContext(wP);return hf(t)},iRe=function(){var t=F.useContext(_P),r=tRe(t,function(n){return zG(n.domain,Number.isFinite)});return r||hf(t)},rK=function(t){var r=F.useContext(_P);r==null&&bh();var n=r[t];return n==null&&bh(),n},sRe=function(){var t=F.useContext(XG);return t},oRe=function(){return F.useContext(QG)},SP=function(){return F.useContext(eK)},AP=function(){return F.useContext(ZG)};function $p(e){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$p(e)}function lRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aK(n.key),n)}}function uRe(e,t,r){return t&&cRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fRe(e,t,r){return t=bw(t),dRe(e,nK()?Reflect.construct(t,r||[],bw(e).constructor):t.apply(e,r))}function dRe(e,t){if(t&&($p(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hRe(e)}function hRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nK=function(){return!!e})()}function bw(e){return bw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bw(e)}function pRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HT(e,t)}function HT(e,t){return HT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},HT(e,t)}function z7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function q7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z7(Object(r),!0).forEach(function(n){TP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TP(e,t,r){return t=aK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aK(e){var t=mRe(e,"string");return $p(t)=="symbol"?t:t+""}function mRe(e,t){if($p(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($p(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gRe(e,t){return bRe(e)||xRe(e,t)||yRe(e,t)||vRe()}function vRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yRe(e,t){if(e){if(typeof e=="string")return W7(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W7(e,t)}}function W7(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xRe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function bRe(e){if(Array.isArray(e))return e}function GT(){return GT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GT.apply(this,arguments)}var wRe=function(t,r){var n;return ze.isValidElement(t)?n=ze.cloneElement(t,r):Fr(t)?n=t(r):n=ze.createElement("line",GT({},r,{className:"recharts-reference-line-line"})),n},_Re=function(t,r,n,a,i,s,o,l,c){var u=i.x,d=i.y,h=i.width,p=i.height;if(n){var g=c.y,m=t.y.apply(g,{position:s});if(uc(c,"discard")&&!t.y.isInRange(m))return null;var v=[{x:u+h,y:m},{x:u,y:m}];return l==="left"?v.reverse():v}if(r){var y=c.x,w=t.x.apply(y,{position:s});if(uc(c,"discard")&&!t.x.isInRange(w))return null;var b=[{x:w,y:d+p},{x:w,y:d}];return o==="top"?b.reverse():b}if(a){var D=c.segment,P=D.map(function(O){return t.apply(O,{position:s})});return uc(c,"discard")&&WMe(P,function(O){return!t.isInRange(O)})?null:P}return null};function SRe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,s=e.shape,o=e.className,l=e.alwaysShow,c=nRe(),u=tK(a),d=rK(i),h=sRe();if(!c||!h)return null;Zc(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=bP({x:u.scale,y:d.scale}),g=ei(t),m=ei(r),v=n&&n.length===2,y=_Re(p,g,m,v,h,e.position,u.orientation,d.orientation,e);if(!y)return null;var w=gRe(y,2),b=w[0],D=b.x,P=b.y,O=w[1],T=O.x,S=O.y,_=uc(e,"hidden")?"url(#".concat(c,")"):void 0,j=q7(q7({clipPath:_},Jr(e,!0)),{},{x1:D,y1:P,x2:T,y2:S});return ze.createElement(Pa,{className:dn("recharts-reference-line",o)},wRe(s,j),Ji.renderCallByParent(e,D7e({x1:D,y1:P,x2:T,y2:S})))}var NP=function(e){function t(){return lRe(this,t),fRe(this,t,arguments)}return pRe(t,e),uRe(t,[{key:"render",value:function(){return ze.createElement(SRe,this.props)}}])}(ze.Component);TP(NP,"displayName","ReferenceLine");TP(NP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function KT(){return KT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},KT.apply(this,arguments)}function Bp(e){"@babel/helpers - typeof";return Bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bp(e)}function H7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function G7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H7(Object(r),!0).forEach(function(n){u_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ARe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sK(n.key),n)}}function NRe(e,t,r){return t&&TRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ERe(e,t,r){return t=ww(t),kRe(e,iK()?Reflect.construct(t,r||[],ww(e).constructor):t.apply(e,r))}function kRe(e,t){if(t&&(Bp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CRe(e)}function CRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iK=function(){return!!e})()}function ww(e){return ww=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ww(e)}function PRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YT(e,t)}function YT(e,t){return YT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},YT(e,t)}function u_(e,t,r){return t=sK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sK(e){var t=jRe(e,"string");return Bp(t)=="symbol"?t:t+""}function jRe(e,t){if(Bp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ORe=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,s=bP({x:a.scale,y:i.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return uc(t,"discard")&&!s.isInRange(o)?null:o},f_=function(e){function t(){return ARe(this,t),ERe(this,t,arguments)}return PRe(t,e),NRe(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,s=n.r,o=n.alwaysShow,l=n.clipPathId,c=ei(a),u=ei(i);if(Zc(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var d=ORe(this.props);if(!d)return null;var h=d.x,p=d.y,g=this.props,m=g.shape,v=g.className,y=uc(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=G7(G7({clipPath:y},Jr(this.props,!0)),{},{cx:h,cy:p});return ze.createElement(Pa,{className:dn("recharts-reference-dot",v)},t.renderDot(m,w),Ji.renderCallByParent(this.props,{x:h-s,y:p-s,width:2*s,height:2*s}))}}])}(ze.Component);u_(f_,"displayName","ReferenceDot");u_(f_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});u_(f_,"renderDot",function(e,t){var r;return ze.isValidElement(e)?r=ze.cloneElement(e,t):Fr(e)?r=e(t):r=ze.createElement(xP,KT({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function XT(){return XT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},XT.apply(this,arguments)}function Up(e){"@babel/helpers - typeof";return Up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Up(e)}function K7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Y7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K7(Object(r),!0).forEach(function(n){d_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lK(n.key),n)}}function LRe(e,t,r){return t&&DRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function MRe(e,t,r){return t=_w(t),RRe(e,oK()?Reflect.construct(t,r||[],_w(e).constructor):t.apply(e,r))}function RRe(e,t){if(t&&(Up(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FRe(e)}function FRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oK=function(){return!!e})()}function _w(e){return _w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_w(e)}function $Re(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&QT(e,t)}function QT(e,t){return QT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},QT(e,t)}function d_(e,t,r){return t=lK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lK(e){var t=BRe(e,"string");return Up(t)=="symbol"?t:t+""}function BRe(e,t){if(Up(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Up(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var URe=function(t,r,n,a,i){var s=i.x1,o=i.x2,l=i.y1,c=i.y2,u=i.xAxis,d=i.yAxis;if(!u||!d)return null;var h=bP({x:u.scale,y:d.scale}),p={x:t?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(c,{position:"end"}):h.y.rangeMax};return uc(i,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:KG(p,g)},h_=function(e){function t(){return IRe(this,t),MRe(this,t,arguments)}return $Re(t,e),LRe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,s=n.y1,o=n.y2,l=n.className,c=n.alwaysShow,u=n.clipPathId;Zc(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=ei(a),h=ei(i),p=ei(s),g=ei(o),m=this.props.shape;if(!d&&!h&&!p&&!g&&!m)return null;var v=URe(d,h,p,g,this.props);if(!v&&!m)return null;var y=uc(this.props,"hidden")?"url(#".concat(u,")"):void 0;return ze.createElement(Pa,{className:dn("recharts-reference-area",l)},t.renderRect(m,Y7(Y7({clipPath:y},Jr(this.props,!0)),v)),Ji.renderCallByParent(this.props,v))}}])}(ze.Component);d_(h_,"displayName","ReferenceArea");d_(h_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});d_(h_,"renderRect",function(e,t){var r;return ze.isValidElement(e)?r=ze.cloneElement(e,t):Fr(e)?r=e(t):r=ze.createElement(yP,XT({},t,{className:"recharts-reference-area-rect"})),r});function cK(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function VRe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return M7e(n,r)}function zRe(e,t,r){var n=r==="width",a=e.x,i=e.y,s=e.width,o=e.height;return t===1?{start:n?a:i,end:n?a+s:i+o}:{start:n?a+s:i+o,end:n?a:i}}function Sw(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function qRe(e,t){return cK(e,t+1)}function WRe(e,t,r,n,a){for(var i=(n||[]).slice(),s=t.start,o=t.end,l=0,c=1,u=s,d=function(){var g=n==null?void 0:n[l];if(g===void 0)return{v:cK(n,c)};var m=l,v,y=function(){return v===void 0&&(v=r(g,m)),v},w=g.coordinate,b=l===0||Sw(e,w,y,u,o);b||(l=0,u=s,c+=1),b&&(u=w+e*(y()/2+a),l+=c)},h;c<=i.length;)if(h=d(),h)return h.v;return[]}function O1(e){"@babel/helpers - typeof";return O1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O1(e)}function X7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X7(Object(r),!0).forEach(function(n){HRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HRe(e,t,r){return t=GRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GRe(e){var t=KRe(e,"string");return O1(t)=="symbol"?t:t+""}function KRe(e,t){if(O1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(O1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YRe(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,o=t.start,l=t.end,c=function(h){var p=i[h],g,m=function(){return g===void 0&&(g=r(p,h)),g};if(h===s-1){var v=e*(p.coordinate+e*m()/2-l);i[h]=p=Gi(Gi({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else i[h]=p=Gi(Gi({},p),{},{tickCoord:p.coordinate});var y=Sw(e,p.tickCoord,m,o,l);y&&(l=p.tickCoord-e*(m()/2+a),i[h]=Gi(Gi({},p),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return i}function XRe(e,t,r,n,a,i){var s=(n||[]).slice(),o=s.length,l=t.start,c=t.end;if(i){var u=n[o-1],d=r(u,o-1),h=e*(u.coordinate+e*d/2-c);s[o-1]=u=Gi(Gi({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate});var p=Sw(e,u.tickCoord,function(){return d},l,c);p&&(c=u.tickCoord-e*(d/2+a),s[o-1]=Gi(Gi({},u),{},{isShow:!0}))}for(var g=i?o-1:o,m=function(w){var b=s[w],D,P=function(){return D===void 0&&(D=r(b,w)),D};if(w===0){var O=e*(b.coordinate-e*P()/2-l);s[w]=b=Gi(Gi({},b),{},{tickCoord:O<0?b.coordinate-O*e:b.coordinate})}else s[w]=b=Gi(Gi({},b),{},{tickCoord:b.coordinate});var T=Sw(e,b.tickCoord,P,l,c);T&&(l=b.tickCoord+e*(P()/2+a),s[w]=Gi(Gi({},b),{},{isShow:!0}))},v=0;v<g;v++)m(v);return s}function EP(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,s=e.minTickGap,o=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,d=e.angle;if(!a||!a.length||!n)return[];if(qt(l)||eu.isSsr)return qRe(a,typeof l=="number"&&qt(l)?l:0);var h=[],p=o==="top"||o==="bottom"?"width":"height",g=u&&p==="width"?ev(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(b,D){var P=Fr(c)?c(b.value,D):b.value;return p==="width"?VRe(ev(P,{fontSize:t,letterSpacing:r}),g,d):ev(P,{fontSize:t,letterSpacing:r})[p]},v=a.length>=2?Nl(a[1].coordinate-a[0].coordinate):1,y=zRe(i,v,p);return l==="equidistantPreserveStart"?WRe(v,y,m,a,s):(l==="preserveStart"||l==="preserveStartEnd"?h=XRe(v,y,m,a,s,l==="preserveStartEnd"):h=YRe(v,y,m,a,s),h.filter(function(w){return w.isShow}))}var QRe=["viewBox"],JRe=["viewBox"],ZRe=["ticks"];function Vp(e){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vp(e)}function L0(){return L0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L0.apply(this,arguments)}function Q7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ga(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q7(Object(r),!0).forEach(function(n){kP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xA(e,t){if(e==null)return{};var r=eFe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function tFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fK(n.key),n)}}function rFe(e,t,r){return t&&J7(e.prototype,t),r&&J7(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function nFe(e,t,r){return t=Aw(t),aFe(e,uK()?Reflect.construct(t,r||[],Aw(e).constructor):t.apply(e,r))}function aFe(e,t){if(t&&(Vp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iFe(e)}function iFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uK=function(){return!!e})()}function Aw(e){return Aw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Aw(e)}function sFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JT(e,t)}function JT(e,t){return JT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},JT(e,t)}function kP(e,t,r){return t=fK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fK(e){var t=oFe(e,"string");return Vp(t)=="symbol"?t:t+""}function oFe(e,t){if(Vp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tm=function(e){function t(r){var n;return tFe(this,t),n=nFe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return sFe(t,e),rFe(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,s=xA(n,QRe),o=this.props,l=o.viewBox,c=xA(o,JRe);return!Y0(i,l)||!Y0(s,c)||!Y0(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,s=a.y,o=a.width,l=a.height,c=a.orientation,u=a.tickSize,d=a.mirror,h=a.tickMargin,p,g,m,v,y,w,b=d?-1:1,D=n.tickSize||u,P=qt(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":p=g=n.coordinate,v=s+ +!d*l,m=v-b*D,w=m-b*h,y=P;break;case"left":m=v=n.coordinate,g=i+ +!d*o,p=g-b*D,y=p-b*h,w=P;break;case"right":m=v=n.coordinate,g=i+ +d*o,p=g+b*D,y=p+b*h,w=P;break;default:p=g=n.coordinate,v=s+ +d*l,m=v+b*D,w=m+b*h,y=P;break}return{line:{x1:p,y1:m,x2:g,y2:v},tick:{x:y,y:w}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s;switch(a){case"left":s=i?"start":"end";break;case"right":s=i?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=i?"start":"end";break;default:s=i?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.orientation,c=n.mirror,u=n.axisLine,d=Ga(Ga(Ga({},Jr(this.props,!1)),Jr(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);d=Ga(Ga({},d),{},{x1:a,y1:i+h*o,x2:a+s,y2:i+h*o})}else{var p=+(l==="left"&&!c||l==="right"&&c);d=Ga(Ga({},d),{},{x1:a+p*s,y1:i,x2:a+p*s,y2:i+o})}return ze.createElement("line",L0({},d,{className:dn("recharts-cartesian-axis-line",Uo(u,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var s=this,o=this.props,l=o.tickLine,c=o.stroke,u=o.tick,d=o.tickFormatter,h=o.unit,p=EP(Ga(Ga({},this.props),{},{ticks:n}),a,i),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),v=Jr(this.props,!1),y=Jr(u,!1),w=Ga(Ga({},v),{},{fill:"none"},Jr(l,!1)),b=p.map(function(D,P){var O=s.getTickLineCoord(D),T=O.line,S=O.tick,_=Ga(Ga(Ga(Ga({textAnchor:g,verticalAnchor:m},v),{},{stroke:"none",fill:c},y),S),{},{index:P,payload:D,visibleTicksCount:p.length,tickFormatter:d});return ze.createElement(Pa,L0({className:"recharts-cartesian-axis-tick",key:"tick-".concat(D.value,"-").concat(D.coordinate,"-").concat(D.tickCoord)},Ob(s.props,D,P)),l&&ze.createElement("line",L0({},w,T,{className:dn("recharts-cartesian-axis-tick-line",Uo(l,"className"))})),u&&t.renderTickItem(u,_,"".concat(Fr(d)?d(D.value,P):D.value).concat(h||"")))});return ze.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,s=a.width,o=a.height,l=a.ticksGenerator,c=a.className,u=a.hide;if(u)return null;var d=this.props,h=d.ticks,p=xA(d,ZRe),g=h;return Fr(l)&&(g=h&&h.length>0?l(this.props):l(p)),s<=0||o<=0||!g||!g.length?null:ze.createElement(Pa,{className:dn("recharts-cartesian-axis",c),ref:function(v){n.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Ji.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var s,o=dn(a.className,"recharts-cartesian-axis-tick-value");return ze.isValidElement(n)?s=ze.cloneElement(n,Ga(Ga({},a),{},{className:o})):Fr(n)?s=n(Ga(Ga({},a),{},{className:o})):s=ze.createElement(Hb,L0({},a,{className:"recharts-cartesian-axis-tick-value"}),i),s}}])}(F.Component);kP(Tm,"displayName","CartesianAxis");kP(Tm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var lFe=["x1","y1","x2","y2","key"],cFe=["offset"];function wh(e){"@babel/helpers - typeof";return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wh(e)}function Z7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z7(Object(r),!0).forEach(function(n){uFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uFe(e,t,r){return t=fFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fFe(e){var t=dFe(e,"string");return wh(t)=="symbol"?t:t+""}function dFe(e,t){if(wh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gd(){return Gd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gd.apply(this,arguments)}function eR(e,t){if(e==null)return{};var r=hFe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var pFe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,s=t.width,o=t.height,l=t.ry;return ze.createElement("rect",{x:a,y:i,ry:l,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function dK(e,t){var r;if(ze.isValidElement(e))r=ze.cloneElement(e,t);else if(Fr(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,s=t.y2,o=t.key,l=eR(t,lFe),c=Jr(l,!1);c.offset;var u=eR(c,cFe);r=ze.createElement("line",Gd({},u,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:o}))}return r}function mFe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,l){var c=Zi(Zi({},e),{},{x1:t,y1:o,x2:t+r,y2:o,key:"line-".concat(l),index:l});return dK(a,c)});return ze.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function gFe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,l){var c=Zi(Zi({},e),{},{x1:o,y1:t,x2:o,y2:t+r,key:"line-".concat(l),index:l});return dK(a,c)});return ze.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function vFe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,s=e.height,o=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var u=o.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==u[0]&&u.unshift(0);var d=u.map(function(h,p){var g=!u[p+1],m=g?a+s-h:u[p+1]-h;if(m<=0)return null;var v=p%t.length;return ze.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return ze.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function yFe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,s=e.y,o=e.width,l=e.height,c=e.verticalPoints;if(!r||!n||!n.length)return null;var u=c.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==u[0]&&u.unshift(0);var d=u.map(function(h,p){var g=!u[p+1],m=g?i+o-h:u[p+1]-h;if(m<=0)return null;var v=p%n.length;return ze.createElement("rect",{key:"react-".concat(p),x:h,y:s,width:m,height:l,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return ze.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var xFe=function(t,r){var n=t.xAxis,a=t.width,i=t.height,s=t.offset;return _G(EP(Zi(Zi(Zi({},Tm.defaultProps),n),{},{ticks:Gc(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.left,s.left+s.width,r)},bFe=function(t,r){var n=t.yAxis,a=t.width,i=t.height,s=t.offset;return _G(EP(Zi(Zi(Zi({},Tm.defaultProps),n),{},{ticks:Gc(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.top,s.top+s.height,r)},s0={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function rh(e){var t,r,n,a,i,s,o=SP(),l=AP(),c=oRe(),u=Zi(Zi({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:s0.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:s0.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:s0.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:s0.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:s0.vertical,verticalFill:(s=e.verticalFill)!==null&&s!==void 0?s:s0.verticalFill,x:qt(e.x)?e.x:c.left,y:qt(e.y)?e.y:c.top,width:qt(e.width)?e.width:c.width,height:qt(e.height)?e.height:c.height}),d=u.x,h=u.y,p=u.width,g=u.height,m=u.syncWithTicks,v=u.horizontalValues,y=u.verticalValues,w=aRe(),b=iRe();if(!qt(p)||p<=0||!qt(g)||g<=0||!qt(d)||d!==+d||!qt(h)||h!==+h)return null;var D=u.verticalCoordinatesGenerator||xFe,P=u.horizontalCoordinatesGenerator||bFe,O=u.horizontalPoints,T=u.verticalPoints;if((!O||!O.length)&&Fr(P)){var S=v&&v.length,_=P({yAxis:b?Zi(Zi({},b),{},{ticks:S?v:b.ticks}):void 0,width:o,height:l,offset:c},S?!0:m);Zc(Array.isArray(_),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(wh(_),"]")),Array.isArray(_)&&(O=_)}if((!T||!T.length)&&Fr(D)){var j=y&&y.length,N=D({xAxis:w?Zi(Zi({},w),{},{ticks:j?y:w.ticks}):void 0,width:o,height:l,offset:c},j?!0:m);Zc(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(wh(N),"]")),Array.isArray(N)&&(T=N)}return ze.createElement("g",{className:"recharts-cartesian-grid"},ze.createElement(pFe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),ze.createElement(mFe,Gd({},u,{offset:c,horizontalPoints:O,xAxis:w,yAxis:b})),ze.createElement(gFe,Gd({},u,{offset:c,verticalPoints:T,xAxis:w,yAxis:b})),ze.createElement(vFe,Gd({},u,{horizontalPoints:O})),ze.createElement(yFe,Gd({},u,{verticalPoints:T})))}rh.displayName="CartesianGrid";var wFe=["type","layout","connectNulls","ref"],_Fe=["key"];function zp(e){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zp(e)}function tR(e,t){if(e==null)return{};var r=SFe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function SFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function av(){return av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},av.apply(this,arguments)}function rR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function to(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rR(Object(r),!0).forEach(function(n){yl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o0(e){return EFe(e)||NFe(e)||TFe(e)||AFe()}function AFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TFe(e,t){if(e){if(typeof e=="string")return ZT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZT(e,t)}}function NFe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function EFe(e){if(Array.isArray(e))return ZT(e)}function ZT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pK(n.key),n)}}function CFe(e,t,r){return t&&nR(e.prototype,t),r&&nR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function PFe(e,t,r){return t=Tw(t),jFe(e,hK()?Reflect.construct(t,r||[],Tw(e).constructor):t.apply(e,r))}function jFe(e,t){if(t&&(zp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OFe(e)}function OFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hK=function(){return!!e})()}function Tw(e){return Tw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tw(e)}function IFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eN(e,t)}function eN(e,t){return eN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},eN(e,t)}function yl(e,t,r){return t=pK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pK(e){var t=DFe(e,"string");return zp(t)=="symbol"?t:t+""}function DFe(e,t){if(zp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ba=function(e){function t(){var r;kFe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=PFe(this,t,[].concat(a)),yl(r,"state",{isAnimationFinished:!0,totalLength:0}),yl(r,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),yl(r,"getStrokeDasharray",function(s,o,l){var c=l.reduce(function(y,w){return y+w});if(!c)return r.generateSimpleStrokeDasharray(o,s);for(var u=Math.floor(s/c),d=s%c,h=o-s,p=[],g=0,m=0;g<l.length;m+=l[g],++g)if(m+l[g]>d){p=[].concat(o0(l.slice(0,g)),[d-m]);break}var v=p.length%2===0?[0,h]:[h];return[].concat(o0(t.repeat(l,u)),o0(p),v).map(function(y){return"".concat(y,"px")}).join(", ")}),yl(r,"id",uy("recharts-line-")),yl(r,"pathRef",function(s){r.mainCurve=s}),yl(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),yl(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return IFe(t,e),CFe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.points,o=i.xAxis,l=i.yAxis,c=i.layout,u=i.children,d=Vo(u,gy);if(!d)return null;var h=function(m,v){return{x:m.x,y:m.y,value:m.value,errorVal:mo(m.payload,v)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return ze.createElement(Pa,p,d.map(function(g){return ze.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,i){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,c=o.points,u=o.dataKey,d=Jr(this.props,!1),h=Jr(l,!0),p=c.map(function(m,v){var y=to(to(to({key:"dot-".concat(v),r:3},d),h),{},{index:v,cx:m.x,cy:m.y,value:m.value,dataKey:u,payload:m.payload,points:c});return t.renderDotItem(l,y)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return ze.createElement(Pa,av({className:"recharts-line-dots",key:"dots"},g),p)}},{key:"renderCurveStatically",value:function(n,a,i,s){var o=this.props,l=o.type,c=o.layout,u=o.connectNulls;o.ref;var d=tR(o,wFe),h=to(to(to({},Jr(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},s),{},{type:l,layout:c,connectNulls:u});return ze.createElement(jT,av({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,s=this.props,o=s.points,l=s.strokeDasharray,c=s.isAnimationActive,u=s.animationBegin,d=s.animationDuration,h=s.animationEasing,p=s.animationId,g=s.animateNewValues,m=s.width,v=s.height,y=this.state,w=y.prevPoints,b=y.totalLength;return ze.createElement(xu,{begin:u,duration:d,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(D){var P=D.t;if(w){var O=w.length/o.length,T=o.map(function(E,k){var U=Math.floor(k*O);if(w[U]){var G=w[U],z=bl(G.x,E.x),X=bl(G.y,E.y);return to(to({},E),{},{x:z(P),y:X(P)})}if(g){var V=bl(m*2,E.x),H=bl(v/2,E.y);return to(to({},E),{},{x:V(P),y:H(P)})}return to(to({},E),{},{x:E.x,y:E.y})});return i.renderCurveStatically(T,n,a)}var S=bl(0,b),_=S(P),j;if(l){var N="".concat(l).split(/[,\s]+/gim).map(function(E){return parseFloat(E)});j=i.getStrokeDasharray(_,b,N)}else j=i.generateSimpleStrokeDasharray(b,_);return i.renderCurveStatically(o,n,a,{strokeDasharray:j})})}},{key:"renderCurve",value:function(n,a){var i=this.props,s=i.points,o=i.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return o&&s&&s.length&&(!c&&u>0||!a_(c,s))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(s,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,s=a.dot,o=a.points,l=a.className,c=a.xAxis,u=a.yAxis,d=a.top,h=a.left,p=a.width,g=a.height,m=a.isAnimationActive,v=a.id;if(i||!o||!o.length)return null;var y=this.state.isAnimationFinished,w=o.length===1,b=dn("recharts-line",l),D=c&&c.allowDataOverflow,P=u&&u.allowDataOverflow,O=D||P,T=Vr(v)?this.id:v,S=(n=Jr(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},_=S.r,j=_===void 0?3:_,N=S.strokeWidth,E=N===void 0?2:N,k=Kwe(s)?s:{},U=k.clipDot,G=U===void 0?!0:U,z=j*2+E;return ze.createElement(Pa,{className:b},D||P?ze.createElement("defs",null,ze.createElement("clipPath",{id:"clipPath-".concat(T)},ze.createElement("rect",{x:D?h:h-p/2,y:P?d:d-g/2,width:D?p:p*2,height:P?g:g*2})),!G&&ze.createElement("clipPath",{id:"clipPath-dots-".concat(T)},ze.createElement("rect",{x:h-z/2,y:d-z/2,width:p+z,height:g+z}))):null,!w&&this.renderCurve(O,T),this.renderErrorBar(O,T),(w||s)&&this.renderDots(O,G,T),(!m||y)&&$f.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(o0(n),[0]):n,s=[],o=0;o<a;++o)s=[].concat(o0(s),o0(i));return s}},{key:"renderDotItem",value:function(n,a){var i;if(ze.isValidElement(n))i=ze.cloneElement(n,a);else if(Fr(n))i=n(a);else{var s=a.key,o=tR(a,_Fe),l=dn("recharts-line-dot",typeof n!="boolean"?n.className:"");i=ze.createElement(xP,av({key:s},o,{className:l}))}return i}}])}(F.PureComponent);yl(Ba,"displayName","Line");yl(Ba,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!eu.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});yl(Ba,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,s=e.dataKey,o=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout,d=l.map(function(h,p){var g=mo(h,s);return u==="horizontal"?{x:RM({axis:r,ticks:a,bandSize:o,entry:h,index:p}),y:Vr(g)?null:n.scale(g),value:g,payload:h}:{x:Vr(g)?null:r.scale(g),y:RM({axis:n,ticks:i,bandSize:o,entry:h,index:p}),value:g,payload:h}});return to({points:d,layout:u},c)});function qp(e){"@babel/helpers - typeof";return qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qp(e)}function LFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vK(n.key),n)}}function RFe(e,t,r){return t&&MFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function FFe(e,t,r){return t=Nw(t),$Fe(e,mK()?Reflect.construct(t,r||[],Nw(e).constructor):t.apply(e,r))}function $Fe(e,t){if(t&&(qp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BFe(e)}function BFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mK=function(){return!!e})()}function Nw(e){return Nw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nw(e)}function UFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tN(e,t)}function tN(e,t){return tN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},tN(e,t)}function gK(e,t,r){return t=vK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vK(e){var t=VFe(e,"string");return qp(t)=="symbol"?t:t+""}function VFe(e,t){if(qp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rN(){return rN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rN.apply(this,arguments)}function zFe(e){var t=e.xAxisId,r=SP(),n=AP(),a=tK(t);return a==null?null:F.createElement(Tm,rN({},a,{className:dn("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return Gc(s,!0)}}))}var ru=function(e){function t(){return LFe(this,t),FFe(this,t,arguments)}return UFe(t,e),RFe(t,[{key:"render",value:function(){return F.createElement(zFe,this.props)}}])}(F.Component);gK(ru,"displayName","XAxis");gK(ru,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Wp(e){"@babel/helpers - typeof";return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wp(e)}function qFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bK(n.key),n)}}function HFe(e,t,r){return t&&WFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function GFe(e,t,r){return t=Ew(t),KFe(e,yK()?Reflect.construct(t,r||[],Ew(e).constructor):t.apply(e,r))}function KFe(e,t){if(t&&(Wp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YFe(e)}function YFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yK=function(){return!!e})()}function Ew(e){return Ew=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ew(e)}function XFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nN(e,t)}function nN(e,t){return nN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},nN(e,t)}function xK(e,t,r){return t=bK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bK(e){var t=QFe(e,"string");return Wp(t)=="symbol"?t:t+""}function QFe(e,t){if(Wp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aN(){return aN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aN.apply(this,arguments)}var JFe=function(t){var r=t.yAxisId,n=SP(),a=AP(),i=rK(r);return i==null?null:F.createElement(Tm,aN({},i,{className:dn("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(o){return Gc(o,!0)}}))},nu=function(e){function t(){return qFe(this,t),GFe(this,t,arguments)}return XFe(t,e),HFe(t,[{key:"render",value:function(){return F.createElement(JFe,this.props)}}])}(F.Component);xK(nu,"displayName","YAxis");xK(nu,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function aR(e){return r$e(e)||t$e(e)||e$e(e)||ZFe()}function ZFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e$e(e,t){if(e){if(typeof e=="string")return iN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iN(e,t)}}function t$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function r$e(e){if(Array.isArray(e))return iN(e)}function iN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var sN=function(t,r,n,a,i){var s=Vo(t,NP),o=Vo(t,f_),l=[].concat(aR(s),aR(o)),c=Vo(t,h_),u="".concat(a,"Id"),d=a[0],h=r;if(l.length&&(h=l.reduce(function(m,v){if(v.props[u]===n&&uc(v.props,"extendDomain")&&qt(v.props[d])){var y=v.props[d];return[Math.min(m[0],y),Math.max(m[1],y)]}return m},h)),c.length){var p="".concat(d,"1"),g="".concat(d,"2");h=c.reduce(function(m,v){if(v.props[u]===n&&uc(v.props,"extendDomain")&&qt(v.props[p])&&qt(v.props[g])){var y=v.props[p],w=v.props[g];return[Math.min(m[0],y,w),Math.max(m[1],y,w)]}return m},h)}return i&&i.length&&(h=i.reduce(function(m,v){return qt(v)?[Math.min(m[0],v),Math.max(m[1],v)]:m},h)),h},wK={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function i(l,c,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new a(u,d||l,h),g=r?r+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)t.call(u,d)&&c.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=r?r+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,g=new Array(p);h<p;h++)g[h]=d[h].fn;return g},o.prototype.listenerCount=function(c){var u=r?r+c:c,d=this._events[u];return d?d.fn?1:d.length:0},o.prototype.emit=function(c,u,d,h,p,g){var m=r?r+c:c;if(!this._events[m])return!1;var v=this._events[m],y=arguments.length,w,b;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,d),!0;case 4:return v.fn.call(v.context,u,d,h),!0;case 5:return v.fn.call(v.context,u,d,h,p),!0;case 6:return v.fn.call(v.context,u,d,h,p,g),!0}for(b=1,w=new Array(y-1);b<y;b++)w[b-1]=arguments[b];v.fn.apply(v.context,w)}else{var D=v.length,P;for(b=0;b<D;b++)switch(v[b].once&&this.removeListener(c,v[b].fn,void 0,!0),y){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,u);break;case 3:v[b].fn.call(v[b].context,u,d);break;case 4:v[b].fn.call(v[b].context,u,d,h);break;default:if(!w)for(P=1,w=new Array(y-1);P<y;P++)w[P-1]=arguments[P];v[b].fn.apply(v[b].context,w)}}return!0},o.prototype.on=function(c,u,d){return i(this,c,u,d,!1)},o.prototype.once=function(c,u,d){return i(this,c,u,d,!0)},o.prototype.removeListener=function(c,u,d,h){var p=r?r+c:c;if(!this._events[p])return this;if(!u)return s(this,p),this;var g=this._events[p];if(g.fn)g.fn===u&&(!h||g.once)&&(!d||g.context===d)&&s(this,p);else{for(var m=0,v=[],y=g.length;m<y;m++)(g[m].fn!==u||h&&!g[m].once||d&&g[m].context!==d)&&v.push(g[m]);v.length?this._events[p]=v.length===1?v[0]:v:s(this,p)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&s(this,u)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(wK);var n$e=wK.exports;const a$e=Dn(n$e);var bA=new a$e,wA="recharts.syncMouseEvents";function I1(e){"@babel/helpers - typeof";return I1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I1(e)}function i$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s$e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_K(n.key),n)}}function o$e(e,t,r){return t&&s$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _A(e,t,r){return t=_K(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _K(e){var t=l$e(e,"string");return I1(t)=="symbol"?t:t+""}function l$e(e,t){if(I1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(I1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var c$e=function(){function e(){i$e(this,e),_A(this,"activeIndex",0),_A(this,"coordinateList",[]),_A(this,"layout","horizontal")}return o$e(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,s=r.container,o=s===void 0?null:s,l=r.layout,c=l===void 0?null:l,u=r.offset,d=u===void 0?null:u,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,o=a.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=i+l+c,h=s+this.offset.top+o/2+u;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function u$e(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&qt(n)&&qt(a))return!0}return!1}function f$e(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function SK(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,s=Ci(t,r,n,a),o=Ci(t,r,n,i);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function d$e(e,t,r){var n,a,i,s;if(e==="horizontal")n=t.x,i=n,a=r.top,s=r.top+r.height;else if(e==="vertical")a=t.y,s=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var o=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.angle,h=Ci(o,l,c,d),p=Ci(o,l,u,d);n=h.x,a=h.y,i=p.x,s=p.y}else return SK(t);return[{x:n,y:a},{x:i,y:s}]}function D1(e){"@babel/helpers - typeof";return D1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D1(e)}function iR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iR(Object(r),!0).forEach(function(n){h$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h$e(e,t,r){return t=p$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p$e(e){var t=m$e(e,"string");return D1(t)=="symbol"?t:t+""}function m$e(e,t){if(D1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(D1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function g$e(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,s=e.activeCoordinate,o=e.activePayload,l=e.offset,c=e.activeTooltipIndex,u=e.tooltipAxisBandSize,d=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!s||h!=="ScatterChart"&&a!=="axis")return null;var g,m=jT;if(h==="ScatterChart")g=s,m=mLe;else if(h==="BarChart")g=f$e(d,s,l,u),m=yP;else if(d==="radial"){var v=SK(s),y=v.cx,w=v.cy,b=v.radius,D=v.startAngle,P=v.endAngle;g={cx:y,cy:w,startAngle:D,endAngle:P,innerRadius:b,outerRadius:b},m=EG}else g={points:d$e(d,s,l)},m=jT;var O=Rx(Rx(Rx(Rx({stroke:"#ccc",pointerEvents:"none"},l),g),Jr(p,!1)),{},{payload:o,payloadIndex:c,className:dn("recharts-tooltip-cursor",p.className)});return F.isValidElement(p)?F.cloneElement(p,O):F.createElement(m,O)}var v$e=["item"],y$e=["children","className","width","height","style","compact","title","desc"];function Hp(e){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hp(e)}function M0(){return M0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M0.apply(this,arguments)}function sR(e,t){return w$e(e)||b$e(e,t)||TK(e,t)||x$e()}function x$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b$e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function w$e(e){if(Array.isArray(e))return e}function oR(e,t){if(e==null)return{};var r=_$e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _$e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function S$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A$e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,NK(n.key),n)}}function T$e(e,t,r){return t&&A$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function N$e(e,t,r){return t=kw(t),E$e(e,AK()?Reflect.construct(t,r||[],kw(e).constructor):t.apply(e,r))}function E$e(e,t){if(t&&(Hp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k$e(e)}function k$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AK=function(){return!!e})()}function kw(e){return kw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kw(e)}function C$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oN(e,t)}function oN(e,t){return oN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},oN(e,t)}function Gp(e){return O$e(e)||j$e(e)||TK(e)||P$e()}function P$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TK(e,t){if(e){if(typeof e=="string")return lN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lN(e,t)}}function j$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function O$e(e){if(Array.isArray(e))return lN(e)}function lN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lR(Object(r),!0).forEach(function(n){pr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pr(e,t,r){return t=NK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NK(e){var t=I$e(e,"string");return Hp(t)=="symbol"?t:t+""}function I$e(e,t){if(Hp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var D$e={xAxis:["bottom","top"],yAxis:["left","right"]},L$e={width:"100%",height:"100%"},EK={x:0,y:0};function Fx(e){return e}var M$e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},R$e=function(t,r,n,a){var i=r.find(function(u){return u&&u.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,o=a.radius;return dt(dt(dt({},a),Ci(a.cx,a.cy,o,s)),{},{angle:s,radius:o})}var l=i.coordinate,c=a.angle;return dt(dt(dt({},a),Ci(a.cx,a.cy,l,c)),{},{angle:c,radius:l})}return EK},p_=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,s=(n??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(Gp(o),Gp(c)):o},[]);return s.length>0?s:t&&t.length&&qt(a)&&qt(i)?t.slice(a,i+1):[]};function kK(e){return e==="number"?[0,"auto"]:void 0}var cN=function(t,r,n,a){var i=t.graphicalItems,s=t.tooltipAxis,o=p_(r,t);return n<0||!i||!i.length||n>=o.length?null:i.reduce(function(l,c){var u,d=(u=c.props.data)!==null&&u!==void 0?u:r;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var p=d===void 0?o:d;h=Pb(p,s.dataKey,a)}else h=d&&d[n]||o[n];return h?[].concat(Gp(l),[AG(c,h)]):l},[])},cR=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},s=M$e(i,n),o=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,u=QOe(s,o,c,l);if(u>=0&&c){var d=c[u]&&c[u].value,h=cN(t,r,u,d),p=R$e(n,o,u,i);return{activeTooltipIndex:u,activeLabel:d,activePayload:h,activeCoordinate:p}}return null},F$e=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,d=t.children,h=t.stackOffset,p=wG(u,i);return n.reduce(function(g,m){var v,y=m.type.defaultProps!==void 0?dt(dt({},m.type.defaultProps),m.props):m.props,w=y.type,b=y.dataKey,D=y.allowDataOverflow,P=y.allowDuplicatedCategory,O=y.scale,T=y.ticks,S=y.includeHidden,_=y[s];if(g[_])return g;var j=p_(t.data,{graphicalItems:a.filter(function(I){var M,q=s in I.props?I.props[s]:(M=I.type.defaultProps)===null||M===void 0?void 0:M[s];return q===_}),dataStartIndex:l,dataEndIndex:c}),N=j.length,E,k,U;u$e(y.domain,D,w)&&(E=NT(y.domain,null,D),p&&(w==="number"||O!=="auto")&&(U=rv(j,b,"category")));var G=kK(w);if(!E||E.length===0){var z,X=(z=y.domain)!==null&&z!==void 0?z:G;if(b){if(E=rv(j,b,w),w==="category"&&p){var V=Fwe(E);P&&V?(k=E,E=mw(0,N)):P||(E=UM(X,E,m).reduce(function(I,M){return I.indexOf(M)>=0?I:[].concat(Gp(I),[M])},[]))}else if(w==="category")P?E=E.filter(function(I){return I!==""&&!Vr(I)}):E=UM(X,E,m).reduce(function(I,M){return I.indexOf(M)>=0||M===""||Vr(M)?I:[].concat(Gp(I),[M])},[]);else if(w==="number"){var H=rIe(j,a.filter(function(I){var M,q,K=s in I.props?I.props[s]:(M=I.type.defaultProps)===null||M===void 0?void 0:M[s],J="hide"in I.props?I.props.hide:(q=I.type.defaultProps)===null||q===void 0?void 0:q.hide;return K===_&&(S||!J)}),b,i,u);H&&(E=H)}p&&(w==="number"||O!=="auto")&&(U=rv(j,b,"category"))}else p?E=mw(0,N):o&&o[_]&&o[_].hasStack&&w==="number"?E=h==="expand"?[0,1]:SG(o[_].stackGroups,l,c):E=bG(j,a.filter(function(I){var M=s in I.props?I.props[s]:I.type.defaultProps[s],q="hide"in I.props?I.props.hide:I.type.defaultProps.hide;return M===_&&(S||!q)}),w,u,!0);if(w==="number")E=sN(d,E,_,i,T),X&&(E=NT(X,E,D));else if(w==="category"&&X){var re=X,ee=E.every(function(I){return re.indexOf(I)>=0});ee&&(E=re)}}return dt(dt({},g),{},pr({},_,dt(dt({},y),{},{axisType:i,domain:E,categoricalDomain:U,duplicateDomain:k,originalDomain:(v=y.domain)!==null&&v!==void 0?v:G,isCategorical:p,layout:u})))},{})},$$e=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,d=t.children,h=p_(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),p=h.length,g=wG(u,i),m=-1;return n.reduce(function(v,y){var w=y.type.defaultProps!==void 0?dt(dt({},y.type.defaultProps),y.props):y.props,b=w[s],D=kK("number");if(!v[b]){m++;var P;return g?P=mw(0,p):o&&o[b]&&o[b].hasStack?(P=SG(o[b].stackGroups,l,c),P=sN(d,P,b,i)):(P=NT(D,bG(h,n.filter(function(O){var T,S,_=s in O.props?O.props[s]:(T=O.type.defaultProps)===null||T===void 0?void 0:T[s],j="hide"in O.props?O.props.hide:(S=O.type.defaultProps)===null||S===void 0?void 0:S.hide;return _===b&&!j}),"number",u),a.defaultProps.allowDataOverflow),P=sN(d,P,b,i)),dt(dt({},v),{},pr({},b,dt(dt({axisType:i},a.defaultProps),{},{hide:!0,orientation:Uo(D$e,"".concat(i,".").concat(m%2),null),domain:P,originalDomain:D,isCategorical:g,layout:u})))}return v},{})},B$e=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.children,d="".concat(a,"Id"),h=Vo(u,i),p={};return h&&h.length?p=F$e(t,{axes:h,graphicalItems:s,axisType:a,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(p=$$e(t,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),p},U$e=function(t){var r=hf(t),n=Gc(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:WC(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:sw(r,n)}},uR=function(t){var r=t.children,n=t.defaultShowTooltip,a=ao(r,Rp),i=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},V$e=function(t){return!t||!t.length?!1:t.some(function(r){var n=Jc(r&&r.type);return n&&n.indexOf("Bar")>=0})},fR=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},z$e=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,s=i===void 0?{}:i,o=t.yAxisMap,l=o===void 0?{}:o,c=n.width,u=n.height,d=n.children,h=n.margin||{},p=ao(d,Rp),g=ao(d,zo),m=Object.keys(l).reduce(function(P,O){var T=l[O],S=T.orientation;return!T.mirror&&!T.hide?dt(dt({},P),{},pr({},S,P[S]+T.width)):P},{left:h.left||0,right:h.right||0}),v=Object.keys(s).reduce(function(P,O){var T=s[O],S=T.orientation;return!T.mirror&&!T.hide?dt(dt({},P),{},pr({},S,Uo(P,"".concat(S))+T.height)):P},{top:h.top||0,bottom:h.bottom||0}),y=dt(dt({},v),m),w=y.bottom;p&&(y.bottom+=p.props.height||Rp.defaultProps.height),g&&r&&(y=eIe(y,a,n,r));var b=c-y.left-y.right,D=u-y.top-y.bottom;return dt(dt({brushBottom:w},y),{},{width:Math.max(b,0),height:Math.max(D,0)})},q$e=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},W$e=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,s=t.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=t.axisComponents,c=t.legendContent,u=t.formatAxisMap,d=t.defaultProps,h=function(y,w){var b=w.graphicalItems,D=w.stackGroups,P=w.offset,O=w.updateId,T=w.dataStartIndex,S=w.dataEndIndex,_=y.barSize,j=y.layout,N=y.barGap,E=y.barCategoryGap,k=y.maxBarSize,U=fR(j),G=U.numericAxisName,z=U.cateAxisName,X=V$e(b),V=[];return b.forEach(function(H,re){var ee=p_(y.data,{graphicalItems:[H],dataStartIndex:T,dataEndIndex:S}),I=H.type.defaultProps!==void 0?dt(dt({},H.type.defaultProps),H.props):H.props,M=I.dataKey,q=I.maxBarSize,K=I["".concat(G,"Id")],J=I["".concat(z,"Id")],se={},he=l.reduce(function(_e,$e){var Ne=w["".concat($e.axisType,"Map")],Ie=I["".concat($e.axisType,"Id")];Ne&&Ne[Ie]||$e.axisType==="zAxis"||bh();var We=Ne[Ie];return dt(dt({},_e),{},pr(pr({},$e.axisType,We),"".concat($e.axisType,"Ticks"),Gc(We)))},se),ie=he[z],ge=he["".concat(z,"Ticks")],xe=D&&D[K]&&D[K].hasStack&&pIe(H,D[K].stackGroups),W=Jc(H.type).indexOf("Bar")>=0,Pe=sw(ie,ge),Ce=[],Te=X&&JOe({barSize:_,stackGroups:D,totalSize:q$e(he,z)});if(W){var ce,Fe,Ge=Vr(q)?k:q,Le=(ce=(Fe=sw(ie,ge,!0))!==null&&Fe!==void 0?Fe:Ge)!==null&&ce!==void 0?ce:0;Ce=ZOe({barGap:N,barCategoryGap:E,bandSize:Le!==Pe?Le:Pe,sizeList:Te[J],maxBarSize:Ge}),Le!==Pe&&(Ce=Ce.map(function(_e){return dt(dt({},_e),{},{position:dt(dt({},_e.position),{},{offset:_e.position.offset-Le/2})})}))}var Ye=H&&H.type&&H.type.getComposedData;Ye&&V.push({props:dt(dt({},Ye(dt(dt({},he),{},{displayedData:ee,props:y,dataKey:M,item:H,bandSize:Pe,barPosition:Ce,offset:P,stackedData:xe,layout:j,dataStartIndex:T,dataEndIndex:S}))),{},pr(pr(pr({key:H.key||"item-".concat(re)},G,he[G]),z,he[z]),"animationId",O)),childIndex:Qwe(H,y.children),item:H})}),V},p=function(y,w){var b=y.props,D=y.dataStartIndex,P=y.dataEndIndex,O=y.updateId;if(!D8({props:b}))return null;var T=b.children,S=b.layout,_=b.stackOffset,j=b.data,N=b.reverseStackOrder,E=fR(S),k=E.numericAxisName,U=E.cateAxisName,G=Vo(T,n),z=fIe(j,G,"".concat(k,"Id"),"".concat(U,"Id"),_,N),X=l.reduce(function(I,M){var q="".concat(M.axisType,"Map");return dt(dt({},I),{},pr({},q,B$e(b,dt(dt({},M),{},{graphicalItems:G,stackGroups:M.axisType===k&&z,dataStartIndex:D,dataEndIndex:P}))))},{}),V=z$e(dt(dt({},X),{},{props:b,graphicalItems:G}),w==null?void 0:w.legendBBox);Object.keys(X).forEach(function(I){X[I]=u(b,X[I],V,I.replace("Map",""),r)});var H=X["".concat(U,"Map")],re=U$e(H),ee=h(b,dt(dt({},X),{},{dataStartIndex:D,dataEndIndex:P,updateId:O,graphicalItems:G,stackGroups:z,offset:V}));return dt(dt({formattedGraphicalItems:ee,graphicalItems:G,offset:V,stackGroups:z},re),X)},g=function(v){function y(w){var b,D,P;return S$e(this,y),P=N$e(this,y,[w]),pr(P,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),pr(P,"accessibilityManager",new c$e),pr(P,"handleLegendBBoxUpdate",function(O){if(O){var T=P.state,S=T.dataStartIndex,_=T.dataEndIndex,j=T.updateId;P.setState(dt({legendBBox:O},p({props:P.props,dataStartIndex:S,dataEndIndex:_,updateId:j},dt(dt({},P.state),{},{legendBBox:O}))))}}),pr(P,"handleReceiveSyncEvent",function(O,T,S){if(P.props.syncId===O){if(S===P.eventEmitterSymbol&&typeof P.props.syncMethod!="function")return;P.applySyncEvent(T)}}),pr(P,"handleBrushChange",function(O){var T=O.startIndex,S=O.endIndex;if(T!==P.state.dataStartIndex||S!==P.state.dataEndIndex){var _=P.state.updateId;P.setState(function(){return dt({dataStartIndex:T,dataEndIndex:S},p({props:P.props,dataStartIndex:T,dataEndIndex:S,updateId:_},P.state))}),P.triggerSyncEvent({dataStartIndex:T,dataEndIndex:S})}}),pr(P,"handleMouseEnter",function(O){var T=P.getMouseInfo(O);if(T){var S=dt(dt({},T),{},{isTooltipActive:!0});P.setState(S),P.triggerSyncEvent(S);var _=P.props.onMouseEnter;Fr(_)&&_(S,O)}}),pr(P,"triggeredAfterMouseMove",function(O){var T=P.getMouseInfo(O),S=T?dt(dt({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};P.setState(S),P.triggerSyncEvent(S);var _=P.props.onMouseMove;Fr(_)&&_(S,O)}),pr(P,"handleItemMouseEnter",function(O){P.setState(function(){return{isTooltipActive:!0,activeItem:O,activePayload:O.tooltipPayload,activeCoordinate:O.tooltipPosition||{x:O.cx,y:O.cy}}})}),pr(P,"handleItemMouseLeave",function(){P.setState(function(){return{isTooltipActive:!1}})}),pr(P,"handleMouseMove",function(O){O.persist(),P.throttleTriggeredAfterMouseMove(O)}),pr(P,"handleMouseLeave",function(O){P.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};P.setState(T),P.triggerSyncEvent(T);var S=P.props.onMouseLeave;Fr(S)&&S(T,O)}),pr(P,"handleOuterEvent",function(O){var T=Xwe(O),S=Uo(P.props,"".concat(T));if(T&&Fr(S)){var _,j;/.*touch.*/i.test(T)?j=P.getMouseInfo(O.changedTouches[0]):j=P.getMouseInfo(O),S((_=j)!==null&&_!==void 0?_:{},O)}}),pr(P,"handleClick",function(O){var T=P.getMouseInfo(O);if(T){var S=dt(dt({},T),{},{isTooltipActive:!0});P.setState(S),P.triggerSyncEvent(S);var _=P.props.onClick;Fr(_)&&_(S,O)}}),pr(P,"handleMouseDown",function(O){var T=P.props.onMouseDown;if(Fr(T)){var S=P.getMouseInfo(O);T(S,O)}}),pr(P,"handleMouseUp",function(O){var T=P.props.onMouseUp;if(Fr(T)){var S=P.getMouseInfo(O);T(S,O)}}),pr(P,"handleTouchMove",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&P.throttleTriggeredAfterMouseMove(O.changedTouches[0])}),pr(P,"handleTouchStart",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&P.handleMouseDown(O.changedTouches[0])}),pr(P,"handleTouchEnd",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&P.handleMouseUp(O.changedTouches[0])}),pr(P,"handleDoubleClick",function(O){var T=P.props.onDoubleClick;if(Fr(T)){var S=P.getMouseInfo(O);T(S,O)}}),pr(P,"handleContextMenu",function(O){var T=P.props.onContextMenu;if(Fr(T)){var S=P.getMouseInfo(O);T(S,O)}}),pr(P,"triggerSyncEvent",function(O){P.props.syncId!==void 0&&bA.emit(wA,P.props.syncId,O,P.eventEmitterSymbol)}),pr(P,"applySyncEvent",function(O){var T=P.props,S=T.layout,_=T.syncMethod,j=P.state.updateId,N=O.dataStartIndex,E=O.dataEndIndex;if(O.dataStartIndex!==void 0||O.dataEndIndex!==void 0)P.setState(dt({dataStartIndex:N,dataEndIndex:E},p({props:P.props,dataStartIndex:N,dataEndIndex:E,updateId:j},P.state)));else if(O.activeTooltipIndex!==void 0){var k=O.chartX,U=O.chartY,G=O.activeTooltipIndex,z=P.state,X=z.offset,V=z.tooltipTicks;if(!X)return;if(typeof _=="function")G=_(V,O);else if(_==="value"){G=-1;for(var H=0;H<V.length;H++)if(V[H].value===O.activeLabel){G=H;break}}var re=dt(dt({},X),{},{x:X.left,y:X.top}),ee=Math.min(k,re.x+re.width),I=Math.min(U,re.y+re.height),M=V[G]&&V[G].value,q=cN(P.state,P.props.data,G),K=V[G]?{x:S==="horizontal"?V[G].coordinate:ee,y:S==="horizontal"?I:V[G].coordinate}:EK;P.setState(dt(dt({},O),{},{activeLabel:M,activeCoordinate:K,activePayload:q,activeTooltipIndex:G}))}else P.setState(O)}),pr(P,"renderCursor",function(O){var T,S=P.state,_=S.isTooltipActive,j=S.activeCoordinate,N=S.activePayload,E=S.offset,k=S.activeTooltipIndex,U=S.tooltipAxisBandSize,G=P.getTooltipEventType(),z=(T=O.props.active)!==null&&T!==void 0?T:_,X=P.props.layout,V=O.key||"_recharts-cursor";return ze.createElement(g$e,{key:V,activeCoordinate:j,activePayload:N,activeTooltipIndex:k,chartName:r,element:O,isActive:z,layout:X,offset:E,tooltipAxisBandSize:U,tooltipEventType:G})}),pr(P,"renderPolarAxis",function(O,T,S){var _=Uo(O,"type.axisType"),j=Uo(P.state,"".concat(_,"Map")),N=O.type.defaultProps,E=N!==void 0?dt(dt({},N),O.props):O.props,k=j&&j[E["".concat(_,"Id")]];return F.cloneElement(O,dt(dt({},k),{},{className:dn(_,k.className),key:O.key||"".concat(T,"-").concat(S),ticks:Gc(k,!0)}))}),pr(P,"renderPolarGrid",function(O){var T=O.props,S=T.radialLines,_=T.polarAngles,j=T.polarRadius,N=P.state,E=N.radiusAxisMap,k=N.angleAxisMap,U=hf(E),G=hf(k),z=G.cx,X=G.cy,V=G.innerRadius,H=G.outerRadius;return F.cloneElement(O,{polarAngles:Array.isArray(_)?_:Gc(G,!0).map(function(re){return re.coordinate}),polarRadius:Array.isArray(j)?j:Gc(U,!0).map(function(re){return re.coordinate}),cx:z,cy:X,innerRadius:V,outerRadius:H,key:O.key||"polar-grid",radialLines:S})}),pr(P,"renderLegend",function(){var O=P.state.formattedGraphicalItems,T=P.props,S=T.children,_=T.width,j=T.height,N=P.props.margin||{},E=_-(N.left||0)-(N.right||0),k=yG({children:S,formattedGraphicalItems:O,legendWidth:E,legendContent:c});if(!k)return null;var U=k.item,G=oR(k,v$e);return F.cloneElement(U,dt(dt({},G),{},{chartWidth:_,chartHeight:j,margin:N,onBBoxUpdate:P.handleLegendBBoxUpdate}))}),pr(P,"renderTooltip",function(){var O,T=P.props,S=T.children,_=T.accessibilityLayer,j=ao(S,vs);if(!j)return null;var N=P.state,E=N.isTooltipActive,k=N.activeCoordinate,U=N.activePayload,G=N.activeLabel,z=N.offset,X=(O=j.props.active)!==null&&O!==void 0?O:E;return F.cloneElement(j,{viewBox:dt(dt({},z),{},{x:z.left,y:z.top}),active:X,label:G,payload:X?U:[],coordinate:k,accessibilityLayer:_})}),pr(P,"renderBrush",function(O){var T=P.props,S=T.margin,_=T.data,j=P.state,N=j.offset,E=j.dataStartIndex,k=j.dataEndIndex,U=j.updateId;return F.cloneElement(O,{key:O.key||"_recharts-brush",onChange:Ix(P.handleBrushChange,O.props.onChange),data:_,x:qt(O.props.x)?O.props.x:N.left,y:qt(O.props.y)?O.props.y:N.top+N.height+N.brushBottom-(S.bottom||0),width:qt(O.props.width)?O.props.width:N.width,startIndex:E,endIndex:k,updateId:"brush-".concat(U)})}),pr(P,"renderReferenceElement",function(O,T,S){if(!O)return null;var _=P,j=_.clipPathId,N=P.state,E=N.xAxisMap,k=N.yAxisMap,U=N.offset,G=O.type.defaultProps||{},z=O.props,X=z.xAxisId,V=X===void 0?G.xAxisId:X,H=z.yAxisId,re=H===void 0?G.yAxisId:H;return F.cloneElement(O,{key:O.key||"".concat(T,"-").concat(S),xAxis:E[V],yAxis:k[re],viewBox:{x:U.left,y:U.top,width:U.width,height:U.height},clipPathId:j})}),pr(P,"renderActivePoints",function(O){var T=O.item,S=O.activePoint,_=O.basePoint,j=O.childIndex,N=O.isRange,E=[],k=T.props.key,U=T.item.type.defaultProps!==void 0?dt(dt({},T.item.type.defaultProps),T.item.props):T.item.props,G=U.activeDot,z=U.dataKey,X=dt(dt({index:j,dataKey:z,cx:S.x,cy:S.y,r:4,fill:vP(T.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value},Jr(G,!1)),jb(G));return E.push(y.renderActiveDot(G,X,"".concat(k,"-activePoint-").concat(j))),_?E.push(y.renderActiveDot(G,dt(dt({},X),{},{cx:_.x,cy:_.y}),"".concat(k,"-basePoint-").concat(j))):N&&E.push(null),E}),pr(P,"renderGraphicChild",function(O,T,S){var _=P.filterFormatItem(O,T,S);if(!_)return null;var j=P.getTooltipEventType(),N=P.state,E=N.isTooltipActive,k=N.tooltipAxis,U=N.activeTooltipIndex,G=N.activeLabel,z=P.props.children,X=ao(z,vs),V=_.props,H=V.points,re=V.isRange,ee=V.baseLine,I=_.item.type.defaultProps!==void 0?dt(dt({},_.item.type.defaultProps),_.item.props):_.item.props,M=I.activeDot,q=I.hide,K=I.activeBar,J=I.activeShape,se=!!(!q&&E&&X&&(M||K||J)),he={};j!=="axis"&&X&&X.props.trigger==="click"?he={onClick:Ix(P.handleItemMouseEnter,O.props.onClick)}:j!=="axis"&&(he={onMouseLeave:Ix(P.handleItemMouseLeave,O.props.onMouseLeave),onMouseEnter:Ix(P.handleItemMouseEnter,O.props.onMouseEnter)});var ie=F.cloneElement(O,dt(dt({},_.props),he));function ge($e){return typeof k.dataKey=="function"?k.dataKey($e.payload):null}if(se)if(U>=0){var xe,W;if(k.dataKey&&!k.allowDuplicatedCategory){var Pe=typeof k.dataKey=="function"?ge:"payload.".concat(k.dataKey.toString());xe=Pb(H,Pe,G),W=re&&ee&&Pb(ee,Pe,G)}else xe=H==null?void 0:H[U],W=re&&ee&&ee[U];if(J||K){var Ce=O.props.activeIndex!==void 0?O.props.activeIndex:U;return[F.cloneElement(O,dt(dt(dt({},_.props),he),{},{activeIndex:Ce})),null,null]}if(!Vr(xe))return[ie].concat(Gp(P.renderActivePoints({item:_,activePoint:xe,basePoint:W,childIndex:U,isRange:re})))}else{var Te,ce=(Te=P.getItemByXY(P.state.activeCoordinate))!==null&&Te!==void 0?Te:{graphicalItem:ie},Fe=ce.graphicalItem,Ge=Fe.item,Le=Ge===void 0?O:Ge,Ye=Fe.childIndex,_e=dt(dt(dt({},_.props),he),{},{activeIndex:Ye});return[F.cloneElement(Le,_e),null,null]}return re?[ie,null,null]:[ie,null]}),pr(P,"renderCustomized",function(O,T,S){return F.cloneElement(O,dt(dt({key:"recharts-customized-".concat(S)},P.props),P.state))}),pr(P,"renderMap",{CartesianGrid:{handler:Fx,once:!0},ReferenceArea:{handler:P.renderReferenceElement},ReferenceLine:{handler:Fx},ReferenceDot:{handler:P.renderReferenceElement},XAxis:{handler:Fx},YAxis:{handler:Fx},Brush:{handler:P.renderBrush,once:!0},Bar:{handler:P.renderGraphicChild},Line:{handler:P.renderGraphicChild},Area:{handler:P.renderGraphicChild},Radar:{handler:P.renderGraphicChild},RadialBar:{handler:P.renderGraphicChild},Scatter:{handler:P.renderGraphicChild},Pie:{handler:P.renderGraphicChild},Funnel:{handler:P.renderGraphicChild},Tooltip:{handler:P.renderCursor,once:!0},PolarGrid:{handler:P.renderPolarGrid,once:!0},PolarAngleAxis:{handler:P.renderPolarAxis},PolarRadiusAxis:{handler:P.renderPolarAxis},Customized:{handler:P.renderCustomized}}),P.clipPathId="".concat((b=w.id)!==null&&b!==void 0?b:uy("recharts"),"-clip"),P.throttleTriggeredAfterMouseMove=vH(P.triggeredAfterMouseMove,(D=w.throttleDelay)!==null&&D!==void 0?D:1e3/60),P.state={},P}return C$e(y,v),T$e(y,[{key:"componentDidMount",value:function(){var b,D;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(D=this.props.margin.top)!==null&&D!==void 0?D:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,D=b.children,P=b.data,O=b.height,T=b.layout,S=ao(D,vs);if(S){var _=S.props.defaultIndex;if(!(typeof _!="number"||_<0||_>this.state.tooltipTicks.length-1)){var j=this.state.tooltipTicks[_]&&this.state.tooltipTicks[_].value,N=cN(this.state,P,_,j),E=this.state.tooltipTicks[_].coordinate,k=(this.state.offset.top+O)/2,U=T==="horizontal",G=U?{x:E,y:k}:{y:E,x:k},z=this.state.formattedGraphicalItems.find(function(V){var H=V.item;return H.type.name==="Scatter"});z&&(G=dt(dt({},G),z.props.points[_].tooltipPosition),N=z.props.points[_].tooltipPayload);var X={activeTooltipIndex:_,isTooltipActive:!0,activeLabel:j,activePayload:N,activeCoordinate:G};this.setState(X),this.renderCursor(S),this.accessibilityManager.setIndex(_)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,D){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==D.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var P,O;this.accessibilityManager.setDetails({offset:{left:(P=this.props.margin.left)!==null&&P!==void 0?P:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0}})}return null}},{key:"componentDidUpdate",value:function(b){U3([ao(b.children,vs)],[ao(this.props.children,vs)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=ao(this.props.children,vs);if(b&&typeof b.props.shared=="boolean"){var D=b.props.shared?"axis":"item";return o.indexOf(D)>=0?D:i}return i}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var D=this.container,P=D.getBoundingClientRect(),O=SCe(P),T={chartX:Math.round(b.pageX-O.left),chartY:Math.round(b.pageY-O.top)},S=P.width/D.offsetWidth||1,_=this.inRange(T.chartX,T.chartY,S);if(!_)return null;var j=this.state,N=j.xAxisMap,E=j.yAxisMap,k=this.getTooltipEventType(),U=cR(this.state,this.props.data,this.props.layout,_);if(k!=="axis"&&N&&E){var G=hf(N).scale,z=hf(E).scale,X=G&&G.invert?G.invert(T.chartX):null,V=z&&z.invert?z.invert(T.chartY):null;return dt(dt({},T),{},{xValue:X,yValue:V},U)}return U?dt(dt({},T),U):null}},{key:"inRange",value:function(b,D){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,O=this.props.layout,T=b/P,S=D/P;if(O==="horizontal"||O==="vertical"){var _=this.state.offset,j=T>=_.left&&T<=_.left+_.width&&S>=_.top&&S<=_.top+_.height;return j?{x:T,y:S}:null}var N=this.state,E=N.angleAxisMap,k=N.radiusAxisMap;if(E&&k){var U=hf(E);return qM({x:T,y:S},U)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,D=this.getTooltipEventType(),P=ao(b,vs),O={};P&&D==="axis"&&(P.props.trigger==="click"?O={onClick:this.handleClick}:O={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=jb(this.props,this.handleOuterEvent);return dt(dt({},T),O)}},{key:"addListener",value:function(){bA.on(wA,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){bA.removeListener(wA,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,D,P){for(var O=this.state.formattedGraphicalItems,T=0,S=O.length;T<S;T++){var _=O[T];if(_.item===b||_.props.key===b.key||D===Jc(_.item.type)&&P===_.childIndex)return _}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,D=this.state.offset,P=D.left,O=D.top,T=D.height,S=D.width;return ze.createElement("defs",null,ze.createElement("clipPath",{id:b},ze.createElement("rect",{x:P,y:O,height:T,width:S})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(D,P){var O=sR(P,2),T=O[0],S=O[1];return dt(dt({},D),{},pr({},T,S.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(D,P){var O=sR(P,2),T=O[0],S=O[1];return dt(dt({},D),{},pr({},T,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var D;return(D=this.state.xAxisMap)===null||D===void 0||(D=D[b])===null||D===void 0?void 0:D.scale}},{key:"getYScaleByAxisId",value:function(b){var D;return(D=this.state.yAxisMap)===null||D===void 0||(D=D[b])===null||D===void 0?void 0:D.scale}},{key:"getItemByXY",value:function(b){var D=this.state,P=D.formattedGraphicalItems,O=D.activeItem;if(P&&P.length)for(var T=0,S=P.length;T<S;T++){var _=P[T],j=_.props,N=_.item,E=N.type.defaultProps!==void 0?dt(dt({},N.type.defaultProps),N.props):N.props,k=Jc(N.type);if(k==="Bar"){var U=(j.data||[]).find(function(V){return iLe(b,V)});if(U)return{graphicalItem:_,payload:U}}else if(k==="RadialBar"){var G=(j.data||[]).find(function(V){return qM(b,V)});if(G)return{graphicalItem:_,payload:G}}else if(o_(_,O)||l_(_,O)||k1(_,O)){var z=lMe({graphicalItem:_,activeTooltipItem:O,itemData:E.data}),X=E.activeIndex===void 0?z:E.activeIndex;return{graphicalItem:dt(dt({},_),{},{childIndex:X}),payload:k1(_,O)?E.data[z]:_.props.data[z]}}}return null}},{key:"render",value:function(){var b=this;if(!D8(this))return null;var D=this.props,P=D.children,O=D.className,T=D.width,S=D.height,_=D.style,j=D.compact,N=D.title,E=D.desc,k=oR(D,y$e),U=Jr(k,!1);if(j)return ze.createElement(V7,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ze.createElement(z3,M0({},U,{width:T,height:S,title:N,desc:E}),this.renderClipPath(),M8(P,this.renderMap)));if(this.props.accessibilityLayer){var G,z;U.tabIndex=(G=this.props.tabIndex)!==null&&G!==void 0?G:0,U.role=(z=this.props.role)!==null&&z!==void 0?z:"application",U.onKeyDown=function(V){b.accessibilityManager.keyboardEvent(V)},U.onFocus=function(){b.accessibilityManager.focus()}}var X=this.parseEventsOfWrapper();return ze.createElement(V7,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ze.createElement("div",M0({className:dn("recharts-wrapper",O),style:dt({position:"relative",cursor:"default",width:T,height:S},_)},X,{ref:function(H){b.container=H}}),ze.createElement(z3,M0({},U,{width:T,height:S,title:N,desc:E,style:L$e}),this.renderClipPath(),M8(P,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(F.Component);pr(g,"displayName",r),pr(g,"defaultProps",dt({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),pr(g,"getDerivedStateFromProps",function(v,y){var w=v.dataKey,b=v.data,D=v.children,P=v.width,O=v.height,T=v.layout,S=v.stackOffset,_=v.margin,j=y.dataStartIndex,N=y.dataEndIndex;if(y.updateId===void 0){var E=uR(v);return dt(dt(dt({},E),{},{updateId:0},p(dt(dt({props:v},E),{},{updateId:0}),y)),{},{prevDataKey:w,prevData:b,prevWidth:P,prevHeight:O,prevLayout:T,prevStackOffset:S,prevMargin:_,prevChildren:D})}if(w!==y.prevDataKey||b!==y.prevData||P!==y.prevWidth||O!==y.prevHeight||T!==y.prevLayout||S!==y.prevStackOffset||!Y0(_,y.prevMargin)){var k=uR(v),U={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},G=dt(dt({},cR(y,b,T)),{},{updateId:y.updateId+1}),z=dt(dt(dt({},k),U),G);return dt(dt(dt({},z),p(dt({props:v},z),y)),{},{prevDataKey:w,prevData:b,prevWidth:P,prevHeight:O,prevLayout:T,prevStackOffset:S,prevMargin:_,prevChildren:D})}if(!U3(D,y.prevChildren)){var X,V,H,re,ee=ao(D,Rp),I=ee&&(X=(V=ee.props)===null||V===void 0?void 0:V.startIndex)!==null&&X!==void 0?X:j,M=ee&&(H=(re=ee.props)===null||re===void 0?void 0:re.endIndex)!==null&&H!==void 0?H:N,q=I!==j||M!==N,K=!Vr(b),J=K&&!q?y.updateId:y.updateId+1;return dt(dt({updateId:J},p(dt(dt({props:v},y),{},{updateId:J,dataStartIndex:I,dataEndIndex:M}),y)),{},{prevChildren:D,dataStartIndex:I,dataEndIndex:M})}return null}),pr(g,"renderActiveDot",function(v,y,w){var b;return F.isValidElement(v)?b=F.cloneElement(v,y):Fr(v)?b=v(y):b=ze.createElement(xP,y),ze.createElement(Pa,{className:"recharts-active-dot",key:w},b)});var m=F.forwardRef(function(y,w){return ze.createElement(g,M0({},y,{ref:w}))});return m.displayName=g.displayName,m},Z0=W$e({chartName:"LineChart",GraphicalChild:Ba,axisComponents:[{axisType:"xAxis",AxisComp:ru},{axisType:"yAxis",AxisComp:nu}],formatAxisMap:I7e});const H$e=()=>{const{isDarkMode:e}=Zr(),{showToast:t}=mc(),{user:r}=ba(),[n,a]=F.useState(!1),[i,s]=F.useState([]),[o,l]=F.useState(!1),[c,u]=F.useState([]),[d,h]=F.useState([]),[p,g]=F.useState(null),[m,v]=F.useState(null),[y,w]=F.useState(null),[b,D]=F.useState(!1),[P,O]=F.useState(null),[T,S]=F.useState(!1),[_,j]=F.useState(!1),[N,E]=F.useState(!1),[k,U]=F.useState(!1),[G,z]=F.useState(!1),[X,V]=F.useState(""),[H,re]=F.useState(!1),[ee,I]=F.useState(null),[M,q]=F.useState(null),[K,J]=F.useState(0),[se,he]=F.useState(new Set),[ie,ge]=F.useState(!1),[xe,W]=F.useState(new Set),[Pe,Ce]=F.useState(!1),[Te,ce]=F.useState(!1),[Fe,Ge]=F.useState(0),[Le,Ye]=F.useState(new Set),[_e,$e]=F.useState(new Set),[Ne,Ie]=F.useState(null),[We,it]=F.useState(null),[ht,xt]=F.useState(0),[St,mt]=F.useState(!1),[ut,Xt]=F.useState(null),[Kt,jr]=F.useState(""),[_r,Dr]=F.useState([]),[De,rt]=F.useState(!1),[nt,st]=F.useState("name"),[Ct,Ut]=F.useState(!1),[Pt,Dt]=F.useState(null),[Vt,xr]=F.useState(null),[or,Tr]=F.useState("all"),[mr,zt]=F.useState(""),[da,Bn]=F.useState([]),[Br,An]=F.useState(()=>{const te=new Date;return te.setHours(0,0,0,0),te}),[gn,oe]=F.useState(""),[ye,me]=F.useState(()=>{const te=new Date,we=new Date;return we.setDate(we.getDate()-6),we.setHours(0,0,0,0),te.setHours(23,59,59,999),{start:we,end:te}}),[ve,Ae]=F.useState({dailyStats:[],userStats:[]}),[Z,be]=F.useState(!1),[ke,je]=F.useState({workerStats:[],hourlyProductivity:[]}),[Be,Ke]=F.useState(!1),[ot,Tt]=F.useState(()=>{const te=new Date,we=te.getFullYear(),Ze=te.getMonth(),Rt=te.getDate();return new Date(we,Ze,Rt)}),Mt=te=>{const we=new Date,Ze=new Date(we.getFullYear(),we.getMonth(),we.getDate());return te.createdAt<Ze&&te.status==="completed"},jt=te=>{if(!Pt&&!Vt)return!0;const we=te.createdAt;return Pt&&Vt?we>=Pt&&we<=Vt:Pt?we>=Pt:Vt?we<=Vt:!0},Ft=()=>{const te=new Set(i.map(we=>we.createdBy));return Array.from(te).sort()},fr=te=>or==="all"?!0:te.createdBy===or,qr=te=>{if(!mr.trim())return!0;const we=mr.toLowerCase().trim();return te.jobId.toLowerCase().includes(we)?!0:te.items.some(Ze=>Ze.name&&Ze.name.toLowerCase().includes(we))},Ur=i.filter(te=>_?Mt(te)&&jt(te)&&fr(te)&&qr(te):T?te.status==="completed"&&!Mt(te):N?te.status==="picking":te.status!=="completed"),hn=()=>{const te=i.filter(Ze=>Ze.status==="picking"),we=da.filter(Ze=>Ze.isActive);return{databaseJobs:te,uiSessions:we,totalCount:te.length+we.length}},ia=F.useCallback(async()=>{try{const te=new Date(Date.now()-36e5),we=ir(vt(Xe,"liveJobSessions"),lr("startTime","<",te)),Ze=await sr(we),Rt=[];if(Ze.forEach(at=>{(at.data().items||[]).length===0&&Rt.push(at.id)}),Rt.length>0){const at=Rt.map(pt=>xs(ur(Xe,"liveJobSessions",pt)));await Promise.all(at)}}catch(te){console.log("error",te)}},[]),Li=F.useCallback(async()=>{console.log("Starting productivity data generation..."),console.log("Selected productivity date:",ot),Ke(!0);try{const te=ot.getFullYear(),we=ot.getMonth(),Ze=ot.getDate(),Rt=new Date(te,we,Ze,0,0,0,0),at=new Date(te,we,Ze,23,59,59,999);console.log("Date range:",{start:Rt.toISOString(),end:at.toISOString()});const pt=i.filter(ft=>{const Bt=ft.createdAt;return Bt>=Rt&&Bt<=at&&ft.status==="completed"});console.log("Jobs in range:",pt.length);const $t=new Map;pt.forEach(ft=>{if(!ft.picker)return;const Bt=ft.picker,Sr=$t.get(Bt)||{totalJobs:0,completedJobs:0,totalPickingTime:0,totalItems:0,pickingTimes:[]};Sr.totalJobs++,ft.status==="completed"&&Sr.completedJobs++,ft.pickingTime&&ft.pickingTime>0&&(Sr.totalPickingTime+=ft.pickingTime,Sr.pickingTimes.push(ft.pickingTime)),Sr.totalItems+=ft.items.reduce((en,Tn)=>en+Tn.quantity,0),$t.set(Bt,Sr)});const Ot=Array.from($t.entries()).map(([ft,Bt])=>{const Sr=Bt.pickingTimes.length>0?Bt.pickingTimes.reduce((Wr,wn)=>Wr+wn,0)/Bt.pickingTimes.length:0,en=Bt.totalPickingTime>0?Bt.totalItems/(Bt.totalPickingTime/60):0;let Tn;return en>=10?Tn="excellent":en>=7?Tn="good":en>=4?Tn="average":Tn="needs_improvement",{name:ft,totalJobs:Bt.totalJobs,completedJobs:Bt.completedJobs,avgPickingTime:Math.round(Sr),totalPickingTime:Bt.totalPickingTime,itemsPicked:Bt.totalItems,efficiency:Math.round(en*100)/100,performance:Tn}}).sort((ft,Bt)=>Bt.efficiency-ft.efficiency),Lt=[];for(let ft=0;ft<24;ft++){const Bt=new Date(ot);Bt.setHours(ft,0,0,0);const Sr=new Date(ot);Sr.setHours(ft,59,59,999);const en=pt.filter(pn=>{const Yr=pn.createdAt;return Yr>=Bt&&Yr<=Sr}),Tn=en.reduce((pn,Yr)=>pn+Yr.items.reduce((Ps,tn)=>Ps+tn.quantity,0),0),Wr=en.filter(pn=>pn.pickingTime&&pn.pickingTime>0).map(pn=>pn.pickingTime),wn=Wr.length>0?Wr.reduce((pn,Yr)=>pn+Yr,0)/Wr.length:0;Lt.push({hour:`${ft.toString().padStart(2,"0")}:00`,totalJobs:en.length,avgPickingTime:Math.round(wn),totalItems:Tn})}je({workerStats:Ot,hourlyProductivity:Lt}),await new Promise(ft=>setTimeout(ft,500)),console.log("Productivity data generation completed")}catch(te){console.error("Error generating productivity data:",te),t("Failed to generate productivity data","error")}finally{Ke(!1)}},[i,ot,t]),ai=F.useCallback(async te=>{console.log("Starting reports generation..."),be(!0);try{const we=new Date(te);we.setHours(0,0,0,0);const Ze=new Date(te);Ze.setHours(23,59,59,999);const Rt=i.filter(Ot=>{const Lt=Ot.createdAt;return Lt>=we&&Lt<=Ze}),at=[];for(let Ot=6;Ot>=0;Ot--){const Lt=new Date(te);Lt.setDate(Lt.getDate()-Ot);const ft=new Date(Lt);ft.setHours(0,0,0,0);const Bt=new Date(Lt);Bt.setHours(23,59,59,999);const Sr=i.filter(Wr=>{const wn=Wr.createdAt;return wn>=ft&&wn<=Bt}),en=Sr.reduce((Wr,wn)=>Wr+wn.items.reduce((pn,Yr)=>pn+Yr.quantity,0),0),Tn=Sr.filter(Wr=>Wr.status==="completed").length;at.push({date:Lt.toLocaleDateString("en-US",{month:"short",day:"numeric"}),itemsPicked:en,jobsCompleted:Tn})}const pt=[],$t=new Set(Rt.map(Ot=>Ot.createdBy));for(const Ot of $t){const Lt=Rt.filter(Wr=>Wr.createdBy===Ot),ft=Lt.filter(Wr=>Wr.status==="completed"),Bt=Lt.reduce((Wr,wn)=>Wr+wn.items.reduce((pn,Yr)=>pn+Yr.quantity,0),0);let Sr=0,en=0;ft.forEach(Wr=>{Wr.pickingTime&&Wr.pickingTime>0&&(Sr+=Wr.pickingTime,en++)});const Tn=en>0?Sr/en:0;pt.push({name:Ot,jobsCreated:Lt.length,jobsCompleted:ft.length,itemsPicked:Bt,avgTimePerJob:Tn,totalTime:Sr})}pt.sort((Ot,Lt)=>Lt.itemsPicked-Ot.itemsPicked),Ae({dailyStats:at,userStats:pt}),await new Promise(Ot=>setTimeout(Ot,500)),console.log("Reports generation completed")}catch(we){console.log("error",we),t("Failed to generate reports","error")}finally{be(!1)}},[i,t]),sa=async te=>{if(r)try{await hr(vt(Xe,"activityLogs"),{user:r.name,role:r.role,detail:te,time:new Date().toISOString()})}catch(we){console.log("error",we)}},Oa=te=>{if(te<60)return`${Math.round(te)}s`;if(te<3600){const we=Math.floor(te/60),Ze=Math.round(te%60);return`${we}m ${Ze}s`}else{const we=Math.floor(te/3600),Ze=Math.floor(te%3600/60),Rt=Math.round(te%60);return`${we}h ${Ze}m ${Rt}s`}},ln=F.useCallback(async()=>{a(!0),S(!1),j(!1),E(!1),U(!1),Dt(null),xr(null),Tr("all"),Ye(new Set);try{const te=ir(vt(Xe,"jobs"),ja("createdAt","desc")),Ze=(await sr(te)).docs.map(Ot=>{const Lt=Ot.data();return{id:Ot.id,jobId:Lt.jobId||"",createdAt:Lt.createdAt instanceof nr?Lt.createdAt.toDate():new Date,createdBy:Lt.createdBy||"Unknown",status:Lt.status||"picking",picker:Lt.picker??null,packer:Lt.packer??null,items:Array.isArray(Lt.items)?Lt.items.map(ft=>({barcode:String(ft.barcode||""),name:ft.name??null,asin:ft.asin??null,quantity:Number(ft.quantity||1),verified:!!ft.verified,locationCode:ft.locationCode,shelfNumber:ft.shelfNumber,reason:ft.reason||"Unknown",storeName:ft.storeName||"Unknown",stockItemId:ft.stockItemId})):[],pickingTime:Lt.pickingTime||0,trolleyNumber:Lt.trolleyNumber??null,verifyingTimeAccumulated:Lt.verifyingTimeAccumulated??0,verifyingTime:Lt.verifyingTime??null}}),Rt=ir(vt(Xe,"inventory")),at=await sr(Rt),pt=new Map;at.docs.forEach(Ot=>{const Lt=Ot.data();Lt.barcode&&pt.set(Lt.barcode,Lt.name||null)});const $t=Ze.map(Ot=>({...Ot,items:Ot.items.map(Lt=>({...Lt,name:Lt.name||pt.get(Lt.barcode)||null}))}));s($t)}catch(te){console.log("error",te),t("Failed to fetch jobs","error")}finally{a(!1)}},[t]);F.useEffect(()=>{ln()},[ln]),F.useEffect(()=>{ia()},[ia]),F.useEffect(()=>{const te=setInterval(()=>{ia()},18e5);return()=>clearInterval(te)},[ia]),F.useEffect(()=>()=>{Ye(new Set),$e(new Set)},[i]),F.useEffect(()=>{_&&!Pt&&!Vt&&Ks()},[_,Pt,Vt]),F.useEffect(()=>{if(!N)return;ia();const te=Hae(vt(Xe,"liveJobSessions"),we=>{const Ze=[];we.forEach(Rt=>{const at=Rt.data();at.isActive&&Ze.push({id:Rt.id,createdBy:at.createdBy||"Unknown",startTime:at.startTime instanceof nr?at.startTime.toDate():new Date(at.startTime),items:at.items||[],isActive:at.isActive||!1})}),Bn(Ze)},we=>{console.log("error",we)});return()=>te()},[N,ia]),F.useEffect(()=>{k&&(console.log("Reports view shown, generating reports for date:",Br),ai(Br))},[k,Br,ai]),F.useEffect(()=>{G&&(console.log("Productivity view shown, generating productivity data"),Li())},[G,Li]),F.useEffect(()=>{k&&An(new Date(ye.end))},[ye,k]),F.useEffect(()=>{if(k&&i.length>0){const te=Array.from(new Set(i.map(we=>we.createdBy)));te.length>0&&!gn&&oe(te[0])}},[k,i,gn]),F.useEffect(()=>{k&&console.log("reportDate",Br)},[Br,k]);const Ln=te=>{if(Ne!==null&&Ne!==te){t("Finish or stop verifying the current job first.","warning");return}if(Ne===te){t("Stop verifying or complete the job to close.","info");return}$e(we=>{if(we.has(te)){const Ze=new Set(we);return Ze.delete(te),Ze}return new Set([te])})},bc=te=>{Ie(te.id),it(Date.now()),xt(0),$e(new Set([te.id]))},wc=async te=>{const we=We?Math.floor((Date.now()-We)/1e3):0;it(null),Ie(null),xt(0);try{const Ze=(te.verifyingTimeAccumulated??0)+we;await On(ur(Xe,"jobs",te.id),{verifyingTimeAccumulated:Ze}),t("Verifying paused. You can resume by clicking Verify Items again.","success"),ln()}catch(Ze){console.error("Stop verification error:",Ze),t("Failed to pause verifying time","error"),ln()}};F.useEffect(()=>{if(!Ne||We===null)return;const te=setInterval(()=>{const we=i.find(at=>at.id===Ne),Ze=(we==null?void 0:we.verifyingTimeAccumulated)??0,Rt=Math.floor((Date.now()-We)/1e3);xt(Ze+Rt)},1e3);return()=>clearInterval(te)},[Ne,We,i]),F.useEffect(()=>{let te;return M&&(te=setInterval(()=>{const Ze=Math.floor((new Date().getTime()-M.getTime())/1e3);J(Ze),Ze>=600&&!Pe&&(Ce(!0),Ge(600)),Ze>=600&&Ze%300===0&&Ze!==Fe&&(Ce(!0),Ge(Ze))},1e3)),()=>{te&&clearInterval(te)}},[M,Pe,Fe]);const _c=te=>{const we=Math.floor(te/60),Ze=te%60;return`${we}:${Ze.toString().padStart(2,"0")}`},Sc=()=>{V(""),u([]),h([]),q(new Date),J(0),Ce(!1),Ge(0),Xt(null),l(!0);const te=`session_${Date.now()}_${(r==null?void 0:r.name)||"Unknown"}`;hr(vt(Xe,"liveJobSessions"),{id:te,createdBy:(r==null?void 0:r.name)||"Unknown",startTime:Uc(),items:[],isActive:!0,createdAt:Uc()}).catch(we=>{console.log("error",we)})},Cu=async te=>{try{const we=ir(vt(Xe,"inventory"),lr("barcode","==",te));return!(await sr(we)).empty}catch(we){return console.log("error",we),!1}},Mi=async te=>{te.preventDefault();const we=X.trim();if(!we)return;if(!await Cu(we)){t(`Product with barcode ${we} does not exist`,"error");return}try{const Rt=ir(vt(Xe,"inventory"),lr("barcode","==",we)),at=await sr(Rt);if(!at.empty){const pt=at.docs[0].data(),$t={...pt,id:at.docs[0].id,lastUpdated:pt.lastUpdated instanceof nr?pt.lastUpdated.toDate():new Date(pt.lastUpdated)};I($t),re(!0),l(!1)}}catch(Rt){console.log("error",Rt),t("Error fetching stock item details","error")}},Fl=async te=>{if(!ee)return;let we=0;try{const at=ur(Xe,"inventory",te.id),pt=await sc(at);if(!pt.exists()){t("Stock item not found","error");return}const $t=pt.data(),Ot=Number($t.quantity)||0,Lt={...ee,id:pt.id,quantity:Ot};if(we=Ot-te.quantity,we>Ot){t(`Cannot deduct ${we} units - only ${Ot} units available at this location`,"error");return}if(we<0){t("Cannot deduct negative quantity","error");return}h(ft=>[...ft,{stockItem:Lt,deductedQuantity:we,reason:te.reason,storeName:te.storeName,locationCode:te.locationCode,shelfNumber:te.shelfNumber}])}catch{t("Error locating stock for this location","error");return}ee.barcode&&u(at=>{const pt=ee.barcode,$t=at.findIndex(Ot=>Ot.stockItemId?Ot.stockItemId===te.id:Ot.barcode===pt&&Ot.locationCode===te.locationCode&&Ot.shelfNumber===te.shelfNumber);if($t>=0){const Ot=[...at];return Ot[$t]={...Ot[$t],quantity:Ot[$t].quantity+we},Ot}else return[...at,{barcode:pt,name:ee.name,quantity:we,verified:!1,locationCode:te.locationCode,shelfNumber:te.shelfNumber,reason:te.reason,storeName:te.storeName,stockItemId:te.id}]}),t("Item added to job","success"),re(!1),I(null),l(!0),V("");const Ze=ir(vt(Xe,"liveJobSessions"),lr("createdBy","==",r==null?void 0:r.name),lr("isActive","==",!0)),Rt=await sr(Ze);if(!Rt.empty){const at=Rt.docs[0],pt=at.data().items||[],$t={barcode:ee.barcode,name:ee.name,quantity:we,verified:!1,locationCode:te.locationCode,shelfNumber:te.shelfNumber,reason:te.reason,storeName:te.storeName,stockItemId:te.id};await On(ur(Xe,"liveJobSessions",at.id),{items:[...pt,$t]})}ii()},Zn=()=>{re(!1),I(null),l(!0),ii()},ii=()=>{jr(""),Dr([]),st("name"),Ut(!1)},Jo=()=>{_?Ks():(Dt(null),xr(null))},Ks=()=>{const te=new Date,we=new Date(te);we.setDate(te.getDate()-1);const Ze=new Date(we.getFullYear(),we.getMonth(),we.getDate()),Rt=new Date(te.getFullYear(),te.getMonth(),te.getDate(),23,59,59,999);Dt(Ze),xr(Rt)},Ac=()=>{_?Ks():(Dt(null),xr(null)),Tr("all"),zt("")},vn=async()=>{if(c.length===0){t("Add at least one item to create a job","error");return}if(ie){t("Job creation is already in progress. Please wait for the current job to be created.","warning");return}ge(!0),a(!0);try{for(const at of d){const pt=ur(Xe,"inventory",at.stockItem.id),$t=at.stockItem.quantity-at.deductedQuantity;if($t<0)throw t(`Error: Cannot deduct ${at.deductedQuantity} units from "${at.stockItem.name}" - only ${at.stockItem.quantity} units available`,"error"),new Error(`Insufficient stock: trying to deduct ${at.deductedQuantity} from ${at.stockItem.quantity} units`);await On(pt,{quantity:$t,lastUpdated:Uc()}),await hr(vt(Xe,"activityLogs"),{detail:`${at.deductedQuantity} units deducted from stock "${at.stockItem.name}" (Reason: ${at.reason}, Store: ${at.storeName}) by ${r==null?void 0:r.role} from location ${at.locationCode} shelf ${at.shelfNumber}  Quantity before: ${at.stockItem.quantity}, Quantity after: ${$t}`,time:new Date().toISOString(),user:r==null?void 0:r.name,role:r==null?void 0:r.role})}const te=Date.now().toString(),we=await hr(vt(Xe,"jobs"),{jobId:te,createdAt:Uc(),createdBy:(r==null?void 0:r.name)||"Unknown",status:"awaiting_pack",picker:(r==null?void 0:r.name)||null,packer:null,items:c,pickingTime:K,trolleyNumber:ut??null});await On(we,{docId:we.id}),await sa(`created new job ${te} with ${c.length} items (${c.reduce((at,pt)=>at+pt.quantity,0)} total units)`),t(`Job ${te} created and awaiting pack`,"success"),l(!1),u([]),h([]),V(""),q(null),J(0),Ce(!1),Ge(0),Xt(null);const Ze=ir(vt(Xe,"liveJobSessions"),lr("createdBy","==",r==null?void 0:r.name),lr("isActive","==",!0)),Rt=await sr(Ze);Rt.empty||await xs(ur(Xe,"liveJobSessions",Rt.docs[0].id)),ln()}catch(te){console.log("error",te),t("Failed to create job","error")}finally{a(!1),ge(!1)}},Zo=async te=>{if(!xe.has(te.id)){W(we=>new Set(we).add(te.id));try{await On(ur(Xe,"jobs",te.id),{status:"awaiting_pack",picker:(r==null?void 0:r.name)||te.picker||null}),await sa(`completed picking for job ${te.jobId} with ${te.items.length} items (${te.items.reduce((we,Ze)=>we+Ze.quantity,0)} total units)`),t(`Job ${te.jobId} completed and awaiting pack`,"success"),ln()}catch(we){t("Failed to update job","error"),console.error("Error completing picking:",we)}finally{W(we=>{const Ze=new Set(we);return Ze.delete(te.id),Ze})}}},el=async(te,we,Ze)=>{const Rt=`${te.id}-${we}`;he(at=>new Set(at).add(Rt));try{if(!te.id||!we){t("Invalid job or barcode","error");return}Ye(Ze?at=>new Set(at).add(Rt):at=>{const pt=new Set(at);return pt.delete(Rt),pt})}catch(at){console.log("error",at),t("Failed to verify item","error")}finally{he(at=>{const pt=new Set(at);return pt.delete(Rt),pt})}},Ys=async te=>{if(!xe.has(te.id)){W(we=>new Set(we).add(te.id));try{const we=Array.from(Le).filter(ft=>ft.startsWith(te.id)).map(ft=>ft.split("-")[1]),Ze=te.items.filter(ft=>ft.verified||we.includes(ft.barcode)).length;if(Ze<te.items.length){t(`Cannot complete job ${te.jobId}. Please verify all items first. (${Ze}/${te.items.length} verified)`,"error"),W(ft=>{const Bt=new Set(ft);return Bt.delete(te.id),Bt});return}const Rt=te.items.map(ft=>{const Bt={barcode:ft.barcode||"",name:ft.name??null,asin:ft.asin??null,quantity:Number(ft.quantity)||1,verified:we.includes(ft.barcode)||ft.verified,reason:ft.reason||"Unknown",storeName:ft.storeName||"Unknown"};return ft.locationCode&&(Bt.locationCode=ft.locationCode),ft.shelfNumber&&(Bt.shelfNumber=ft.shelfNumber),ft.stockItemId&&(Bt.stockItemId=ft.stockItemId),Bt}),at=Rt.filter(ft=>!ft.barcode||!ft.reason||!ft.storeName);if(at.length>0){console.error("Invalid items found:",at),t(`Job ${te.jobId} has ${at.length} item(s) with missing required data (barcode, reason, or storeName). Please check the job items.`,"error");return}const pt=ur(Xe,"jobs",te.id);if(!(await sc(pt)).exists()){t(`Job ${te.jobId} not found in database. It may have been deleted.`,"error"),ln();return}const Ot=We&&Ne===te.id?Math.floor((Date.now()-We)/1e3):0,Lt=(te.verifyingTimeAccumulated??0)+Ot;it(null),Ie(ft=>ft===te.id?null:ft),await On(pt,{status:"completed",packer:(r==null?void 0:r.name)||te.packer||null,items:Rt,verifyingTime:Lt}),await sa(`completed packing for job ${te.jobId} with ${te.items.length} items (${te.items.reduce((ft,Bt)=>ft+Bt.quantity,0)} total units) - ${Ze} items verified (verifying time: ${Lt}s)`),Ye(ft=>{const Bt=new Set(ft);return we.forEach(Sr=>{Bt.delete(`${te.id}-${Sr}`)}),Bt}),t(`Job ${te.jobId} completed successfully with ${Ze}/${te.items.length} items verified`,"success"),ln()}catch(we){console.error("Error completing job:",we);const Ze=we instanceof Error&&we.message?we.message:"Unknown error",Rt=we&&typeof we=="object"&&"code"in we&&typeof we.code=="string"?we.code:"";Rt==="permission-denied"?t(`Permission denied: Unable to complete job ${te.jobId}. Please check your permissions.`,"error"):Rt==="not-found"?(t(`Job ${te.jobId} not found in database. It may have been deleted.`,"error"),ln()):Ze.includes("Invalid data")||Ze.includes("Field value")||Ze.includes("undefined")?t(`Invalid data in job ${te.jobId}: ${Ze}. Please check job items.`,"error"):t(`Failed to complete job ${te.jobId}: ${Ze}`,"error")}finally{W(we=>{const Ze=new Set(we);return Ze.delete(te.id),Ze})}}},fd=te=>{O(te)},Pu=async()=>{if(P)try{await sa(`deleted job ${P.jobId} (status: ${P.status} with ${P.items.length} items (${P.items.reduce((te,we)=>te+we.quantity,0)} total units))`),await xs(ur(Xe,"jobs",P.id)),Ye(te=>{const we=new Set(te);return P.items.forEach(Ze=>{we.delete(`${P.id}-${Ze.barcode}`)}),we}),t("Job deleted","success"),O(null),ln()}catch{t("Failed to delete job","error")}},dd=async(te,we,Ze,Rt)=>{try{const at=[...te.items];at[we]={...at[we],barcode:Ze,quantity:Rt},await On(ur(Xe,"jobs",te.id),{items:at}),await sa(`updated job item in job ${te.jobId}: barcode ${te.items[we].barcode}  ${Ze}, quantity ${te.items[we].quantity}  ${Rt}`),t("Job item updated successfully","success"),v(null),ln()}catch{t("Failed to update job item","error")}},Xs=async()=>{var Rt,at;if(!y||!r)return;const{job:te,itemIndex:we,item:Ze}=y;D(!0);try{let pt=null,$t=0;if(Ze.stockItemId){const ft=ur(Xe,"inventory",Ze.stockItemId),Bt=await sc(ft);Bt.exists()&&(pt=ft,$t=Number(((Rt=Bt.data())==null?void 0:Rt.quantity)??0))}if(!pt){const ft=ir(vt(Xe,"inventory"),lr("barcode","==",Ze.barcode)),Bt=await sr(ft);if(Bt.empty){t(`Stock record not found for barcode ${Ze.barcode}`,"error");return}const en=(Ze.locationCode&&Ze.shelfNumber?Bt.docs.find(Tn=>Tn.data().locationCode===Ze.locationCode&&Tn.data().shelfNumber===Ze.shelfNumber):Bt.docs[0])??Bt.docs[0];pt=ur(Xe,"inventory",en.id),$t=Number(((at=en.data())==null?void 0:at.quantity)??0)}const Ot=$t+Ze.quantity;await On(pt,{quantity:Ot,lastUpdated:Uc()});const Lt=te.items.filter((ft,Bt)=>Bt!==we);Lt.length===0?(await xs(ur(Xe,"jobs",te.id)),await sa(`deleted job ${te.jobId} (empty  last item returned to stock)`),await sa(`added ${Ze.quantity} unit(s) back to stock for "${Ze.name||Ze.barcode}" (barcode: ${Ze.barcode}) from job ${te.jobId}  Reason: ${Ze.reason}, Store: ${Ze.storeName}${Ze.locationCode&&Ze.shelfNumber?`, Location: ${Ze.locationCode}-${Ze.shelfNumber}`:""}  Quantity before: ${$t}, Quantity after: ${Ot}`),Ye(ft=>{const Bt=new Set(ft);return te.items.forEach(Sr=>Bt.delete(`${te.id}-${Sr.barcode}`)),Bt}),Ne===te.id&&(Ie(null),it(null)),t(`${Ze.quantity} unit(s) added back to stock. Job ${te.jobId} deleted (no items left).`,"success")):(await On(ur(Xe,"jobs",te.id),{items:Lt}),await sa(`added ${Ze.quantity} unit(s) back to stock for "${Ze.name||Ze.barcode}" (barcode: ${Ze.barcode}) from job ${te.jobId}  Reason: ${Ze.reason}, Store: ${Ze.storeName}${Ze.locationCode&&Ze.shelfNumber?`, Location: ${Ze.locationCode}-${Ze.shelfNumber}`:""}  Quantity before: ${$t}, Quantity after: ${Ot}`),Ye(ft=>{const Bt=new Set(ft);return Bt.delete(`${te.id}-${Ze.barcode}`),Bt}),t(`${Ze.quantity} unit(s) added back to stock`,"success")),w(null),ln()}catch(pt){console.error("Add back to stock error:",pt),t("Failed to add item back to stock","error")}finally{D(!1)}},tl=async(te,we)=>{if(!te.trim()){Dr([]);return}rt(!0);try{let Ze;switch(we){case"barcode":Ze=ir(vt(Xe,"inventory"),lr("barcode","==",te.trim()));break;case"asin":Ze=ir(vt(Xe,"inventory"),lr("asin","==",te.trim()));break;case"name":default:Ze=ir(vt(Xe,"inventory"),lr("name",">=",te.trim().toUpperCase()),lr("name","<=",te.trim().toUpperCase()+""));break}const at=(await sr(Ze)).docs.map(pt=>{const $t=pt.data();return{id:pt.id,name:$t.name||"",quantity:$t.quantity||0,price:$t.price||0,unit:$t.unit||null,supplier:$t.supplier||null,lastUpdated:$t.lastUpdated instanceof nr?$t.lastUpdated.toDate():new Date,locationCode:$t.locationCode||"",shelfNumber:$t.shelfNumber||"",barcode:$t.barcode||null,asin:$t.asin||null,status:$t.status||"pending",damagedItems:$t.damagedItems||0,fulfillmentType:$t.fulfillmentType||"fba",storeName:$t.storeName||""}});Dr(at)}catch(Ze){console.log("error",Ze),t("Failed to search inventory","error"),Dr([])}finally{rt(!1)}},$l=({job:te})=>{const we=te.status==="awaiting_pack",Ze=te.status==="picking",Rt=te.status==="completed",at=_e.has(te.id);return f.jsxs("div",{className:`${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} rounded-lg shadow-sm border`,children:[f.jsx("div",{className:`p-3 sm:p-4 border-b ${e?"border-slate-700":"border-slate-200"}`,children:f.jsx("div",{className:"flex flex-col gap-3",children:f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-3",children:[f.jsxs("div",{className:"flex items-start gap-3 min-w-0 flex-1",children:[f.jsx("div",{className:`${e?"bg-slate-700":"bg-slate-100"} p-2 rounded-lg flex-shrink-0`,children:f.jsx(fS,{className:`${e?"text-blue-400":"text-blue-600"}`,size:18})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 mb-2",children:[f.jsxs("h3",{className:`text-base sm:text-lg font-semibold ${e?"text-white":"text-slate-800"} break-all`,children:["Job ",te.jobId]}),f.jsx("button",{onClick:()=>Ln(te.id),className:`flex items-center gap-1 px-2 py-1 rounded text-xs font-medium transition-colors flex-shrink-0 ${e?"text-slate-300 hover:text-white hover:bg-slate-700":"text-slate-600 hover:text-slate-800 hover:bg-slate-200"}`,children:at?f.jsxs(f.Fragment,{children:[f.jsx(g9,{size:14}),f.jsx("span",{className:"hidden sm:inline",children:"Hide Items"})," (",te.items.length,")"]}):f.jsxs(f.Fragment,{children:[f.jsx(Sl,{size:14}),f.jsx("span",{className:"hidden sm:inline",children:"Show Items"})," (",te.items.length,")"]})})]}),f.jsxs("p",{className:`${e?"text-slate-400":"text-slate-500"} text-xs leading-relaxed`,children:["Created by ",te.createdBy,"  ",te.createdAt.toLocaleString(),te.pickingTime&&te.pickingTime>0&&f.jsxs("span",{className:`ml-2 ${e?"text-blue-400":"text-blue-600"}`,children:[" Picking: ",Oa(te.pickingTime)]}),te.trolleyNumber&&f.jsxs("span",{className:`ml-2 ${e?"text-purple-400":"text-purple-600"} font-medium`,children:[" Trolley: ",te.trolleyNumber]})]}),(T||_)&&te.packer&&f.jsxs("p",{className:`${e?"text-slate-400":"text-slate-500"} text-xs leading-relaxed`,children:["Verified by ",te.packer,te.verifyingTime!=null&&te.verifyingTime>0&&f.jsxs("span",{className:`ml-2 ${e?"text-emerald-400":"text-emerald-600"}`,children:[" Verifying: ",Oa(te.verifyingTime)]})]}),!at&&te.items.length>0&&f.jsxs("div",{className:`${e?"text-slate-400":"text-slate-500"} text-xs mt-2`,children:[te.items.length," item",te.items.length!==1?"s":"","  Total Qty: ",te.items.reduce((pt,$t)=>pt+$t.quantity,0),we&&f.jsxs("span",{className:"ml-2",children:[" Verified: ",te.items.filter(pt=>pt.verified||Le.has(`${te.id}-${pt.barcode}`)).length,"/",te.items.length]})]})]})]}),f.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0 flex-wrap",children:[f.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Rt?"bg-green-100 text-green-700 dark:bg-green-900/40 dark:text-green-300":we?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/40 dark:text-yellow-300":"bg-blue-100 text-blue-700 dark:bg-blue-900/40 dark:text-blue-300"}`,children:Rt?"Completed":we?"Awaiting Pack":"Picking"}),we&&(Ne===te.id?f.jsxs(f.Fragment,{children:[f.jsxs("span",{className:`text-xs font-medium px-2 py-1 rounded ${e?"text-slate-300 bg-slate-700":"text-slate-700 bg-slate-200"}`,children:["Verifying: ",Oa(ht)]}),f.jsx(tt,{variant:"secondary",size:"sm",onClick:()=>wc(te),className:"h-8 px-2 text-xs",children:"Stop Verifying"})]}):f.jsx(tt,{size:"sm",onClick:()=>bc(te),className:"h-8 px-2 text-xs bg-blue-500 hover:bg-blue-600 text-white",children:"Verify Items"})),f.jsx(tt,{variant:"secondary",onClick:ln,size:"sm",className:"h-8 w-8 p-0",children:f.jsx(Ua,{size:14})}),f.jsx(tt,{variant:"danger",onClick:()=>fd(te),size:"sm",className:"h-8 w-8 p-0",children:f.jsx(ki,{size:14})})]})]})})}),at&&f.jsxs("div",{className:"p-3 sm:p-4 space-y-4",children:[f.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[Ze&&f.jsxs(tt,{onClick:()=>re(!0),className:"flex items-center gap-1",size:"sm",children:[f.jsx(fS,{size:14})," ",f.jsx("span",{className:"hidden sm:inline",children:"Scan"})]}),we&&Ne===te.id&&f.jsxs("div",{className:`text-sm ${e?"text-slate-300":"text-slate-600"} bg-slate-100 dark:bg-slate-700 px-3 py-2 rounded-lg`,children:["Verification Status: ",te.items.filter(pt=>pt.verified||Le.has(`${te.id}-${pt.barcode}`)).length,"/",te.items.length," items verified"]})]}),f.jsxs("div",{className:"space-y-3",children:[te.items.map((pt,$t)=>{var Ot;return f.jsx("div",{className:`p-3 rounded-lg ${e?"bg-slate-700":"bg-slate-100"}`,children:(m==null?void 0:m.jobId)===te.id&&(m==null?void 0:m.itemIndex)===$t?f.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 flex-1",children:[f.jsx(kt,{value:m.barcode,onChange:Lt=>v({...m,barcode:Lt.target.value}),className:"w-full sm:w-32 text-sm",placeholder:"Barcode"}),f.jsx(kt,{type:"number",value:m.quantity.toString(),onChange:Lt=>v({...m,quantity:Number(Lt.target.value)||1}),className:"w-full sm:w-20 text-sm",min:"1",placeholder:"Qty"})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(tt,{size:"sm",onClick:()=>dd(te,$t,m.barcode,m.quantity),className:"h-8 px-3",children:""}),f.jsx(tt,{variant:"secondary",size:"sm",onClick:()=>v(null),className:"h-8 px-3",children:""})]})]}):f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("div",{className:`${e?"text-white":"text-slate-800"} text-sm font-medium break-words`,children:pt.name||pt.barcode}),pt.name&&f.jsxs("div",{className:`${e?"text-slate-400":"text-slate-500"} text-xs mt-1 break-all`,children:["Barcode: ",pt.barcode]})]}),f.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[we&&Ne===te.id&&f.jsx(tt,{variant:pt.verified||Le.has(`${te.id}-${pt.barcode}`)?"success":"primary",size:"sm",onClick:()=>el(te,pt.barcode,!(pt.verified||Le.has(`${te.id}-${pt.barcode}`))),disabled:se.has(`${te.id}-${pt.barcode}`),className:`h-7 px-2 text-xs transition-all duration-200 ${pt.verified||Le.has(`${te.id}-${pt.barcode}`)?"bg-green-500 hover:bg-green-600 text-white":"bg-blue-500 hover:bg-blue-600 text-white"}`,children:se.has(`${te.id}-${pt.barcode}`)?f.jsx(Ua,{size:12,className:"animate-spin"}):f.jsx("span",{className:"hidden sm:inline",children:pt.verified||Le.has(`${te.id}-${pt.barcode}`)?"Verified":"Verify"})}),we&&Ne===te.id&&!m&&f.jsx(tt,{variant:"secondary",size:"sm",onClick:()=>w({job:te,itemIndex:$t,item:pt}),className:"h-8 w-8 p-0 flex items-center justify-center text-white bg-green-500 hover:bg-green-600 dark:bg-green-600 dark:hover:bg-green-500",title:"Add back to stock",children:f.jsx(KZ,{size:16})})]})]}),f.jsxs("div",{className:`${e?"text-slate-400":"text-slate-500"} text-xs space-y-1`,children:[f.jsxs("div",{children:["Qty: ",pt.quantity]}),pt.locationCode&&pt.shelfNumber&&f.jsxs("div",{children:["Location: ",pt.locationCode,"-",pt.shelfNumber]}),pt.reason&&f.jsxs("div",{children:["Reason: ",pt.reason]}),pt.storeName&&f.jsxs("div",{children:["Store: ",(Ot=pt.storeName)==null?void 0:Ot.toUpperCase()]})]})]})},`${pt.barcode}-${$t}-${te.id}`)}),te.items.length===0&&f.jsx("div",{className:`${e?"text-slate-400":"text-slate-500"} text-sm text-center py-4`,children:"No items scanned yet."})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-2 pt-2 border-t border-slate-200 dark:border-slate-700",children:[Ze&&f.jsxs(tt,{onClick:()=>Zo(te),size:"sm",className:"flex items-center gap-1 w-full sm:w-auto",isLoading:xe.has(te.id),disabled:xe.has(te.id),children:[f.jsx(r2,{size:14})," ",f.jsx("span",{className:"hidden sm:inline",children:"Finish Picking"})]}),we&&Ne===te.id&&f.jsxs(tt,{onClick:()=>Ys(te),size:"sm",className:"flex items-center gap-1 w-full sm:w-auto",isLoading:xe.has(te.id),disabled:xe.has(te.id),children:[f.jsx(r2,{size:14})," ",f.jsx("span",{className:"hidden sm:inline",children:"Complete Job"})]})]})]})]})};return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsxs("h1",{className:`text-xl sm:text-2xl font-bold ${e?"text-white":"text-slate-900"}`,children:[_?"Archived":T?"Completed":N?"Live":k?"Reports":G?"Worker Productivity":"Active"," Jobs"]}),N&&f.jsx("p",{className:`text-sm ${e?"text-slate-400":"text-slate-600"}`,children:"Showing jobs currently being created (in progress)"})]}),f.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[f.jsx(tt,{variant:"secondary",onClick:ln,className:`flex items-center gap-1 ${n?"opacity-50 cursor-not-allowed":""}`,disabled:n,size:"sm",children:f.jsx(Ua,{size:16,className:n?"animate-spin":""})}),f.jsxs(tt,{onClick:Sc,className:"flex items-center gap-1",size:"sm",children:[f.jsx(mi,{size:16})," ",f.jsx("span",{className:"sm:inline hidden",children:"New Job"})]}),f.jsx(tt,{variant:!T&&!_&&!N&&!k&&!G?"primary":"secondary",onClick:()=>{S(!1),j(!1),E(!1),U(!1),z(!1)},size:"sm",children:"Active Jobs"}),f.jsx(tt,{variant:T?"primary":"secondary",onClick:()=>{S(!0),j(!1),E(!1),U(!1),z(!1)},size:"sm",children:"Completed Jobs"}),f.jsx(tt,{variant:_?"primary":"secondary",onClick:()=>{S(!1),j(!0),E(!1),U(!1),z(!1),Ks()},size:"sm",children:"Archived Jobs"}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="manager")&&f.jsx(tt,{variant:N?"primary":"secondary",onClick:()=>{S(!1),j(!1),E(!0),U(!1),z(!1)},size:"sm",children:"Live Jobs"}),(r==null?void 0:r.role)!=="staff"&&f.jsx(tt,{variant:k?"primary":"secondary",onClick:()=>{S(!1),j(!1),E(!1),z(!1),U(!0)},size:"sm",children:"Reports"}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="manager")&&f.jsx(tt,{variant:G?"primary":"secondary",onClick:()=>{S(!1),j(!1),E(!1),U(!1),z(!0)},size:"sm",children:"Productivity"})]})]}),f.jsx("div",{className:"flex flex-col gap-4",children:_&&f.jsx("div",{className:"w-full",children:f.jsxs("div",{className:"flex flex-col gap-4 p-4 bg-slate-50 dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("label",{className:`text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Search Jobs:"}),f.jsxs("div",{className:"relative",children:[f.jsx(Ol,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 ${e?"text-slate-400":"text-slate-500"}`}),f.jsx("input",{type:"text",placeholder:"Search by job ID or item name...",value:mr,onChange:te=>zt(te.target.value),className:`pl-10 pr-3 py-2 border rounded-md text-sm w-full ${e?"bg-slate-700 border-slate-600 text-white placeholder-slate-400":"bg-white border-slate-300 text-slate-900 placeholder-slate-500"}`})]})]}),f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("label",{className:`text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Filter by User:"}),f.jsxs("select",{value:or,onChange:te=>Tr(te.target.value),className:`px-3 py-2 border rounded-md text-sm w-full ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`,children:[f.jsx("option",{value:"all",children:"All Users"}),Ft().map(te=>f.jsx("option",{value:te,children:te},te))]})]}),f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("label",{className:`text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Filter by Date Range:"}),f.jsx(tW,{startDate:Pt,endDate:Vt,onStartDateChange:Dt,onEndDateChange:xr,onClear:Jo,className:"w-full"})]})]}),f.jsx("div",{className:"flex justify-end",children:f.jsx(tt,{variant:"secondary",onClick:Ac,size:"sm",className:"w-full sm:w-auto",children:"Clear All Filters"})})]})})})]}),f.jsxs("div",{className:"space-y-4",children:[_&&(Pt||Vt||or!=="all"||mr.trim())&&f.jsx("div",{className:`p-3 rounded-lg border ${e?"bg-slate-800 border-slate-700 text-slate-300":"bg-slate-50 border-slate-200 text-slate-700"}`,children:f.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 text-sm",children:[f.jsx("span",{className:"font-medium",children:"Active Filters:"}),f.jsxs("div",{className:"flex flex-wrap gap-2",children:[mr.trim()&&f.jsxs("span",{className:"px-2 py-1 bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 rounded text-xs",children:['Search: "',mr,'"']}),or!=="all"&&f.jsxs("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded text-xs",children:["User: ",or]}),Pt&&f.jsxs("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded text-xs",children:["From: ",Pt.toLocaleDateString()]}),Vt&&f.jsxs("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded text-xs",children:["To: ",Vt.toLocaleDateString()]}),f.jsxs("span",{className:"px-2 py-1 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 rounded text-xs",children:[Ur.length," jobs found"]})]})]})}),!k&&!G&&Ur.map(te=>f.jsx($l,{job:te},te.id)),N&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("h2",{className:`text-lg font-semibold ${e?"text-white":"text-slate-800"}`,children:"Live Job Sessions"}),f.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-700 dark:bg-orange-900 dark:text-orange-300",children:[hn().totalCount," active"]})]}),f.jsxs(tt,{variant:"secondary",onClick:()=>{ln(),ia()},className:"flex items-center gap-2",size:"sm",children:[f.jsx(Ua,{size:16}),"Refresh Live Jobs"]})]}),hn().uiSessions.map(te=>f.jsx("div",{className:`${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} rounded-lg shadow-sm border border-dashed`,children:f.jsx("div",{className:`p-3 sm:p-4 border-b ${e?"border-slate-700":"border-slate-200"}`,children:f.jsx("div",{className:"flex flex-col gap-3",children:f.jsx("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-3",children:f.jsxs("div",{className:"flex items-start gap-3 min-w-0 flex-1",children:[f.jsx("div",{className:`${e?"bg-orange-700":"bg-orange-100"} p-2 rounded-lg flex-shrink-0`,children:f.jsx(fS,{className:`${e?"text-orange-300":"text-orange-600"}`,size:18})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 mb-2",children:[f.jsx("h3",{className:`text-base sm:text-lg font-semibold ${e?"text-white":"text-slate-800"}`,children:"Creating New Job"}),f.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-700 dark:bg-orange-900 dark:text-orange-300",children:"In Progress"})]}),f.jsxs("p",{className:`${e?"text-slate-400":"text-slate-500"} text-xs leading-relaxed`,children:["Created by ",te.createdBy,"  Started at ",te.startTime.toLocaleString()]}),f.jsxs("div",{className:`${e?"text-slate-400":"text-slate-500"} text-xs mt-2`,children:[te.items.length," item",te.items.length!==1?"s":""," scanned"]})]})]})})})})},te.id))]}),k&&(r==null?void 0:r.role)!=="staff"&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("h2",{className:`text-lg font-semibold ${e?"text-white":"text-slate-800"}`,children:"Warehouse Performance Reports"}),f.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300",children:(()=>{const te=String(Br.getDate()).padStart(2,"0"),we=String(Br.getMonth()+1).padStart(2,"0"),Ze=Br.getFullYear();return`${te}/${we}/${Ze}`})()})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("input",{type:"date",value:(()=>{const te=Br.getFullYear(),we=String(Br.getMonth()+1).padStart(2,"0"),Ze=String(Br.getDate()).padStart(2,"0");return`${te}-${we}-${Ze}`})(),onChange:te=>{const we=new Date(te.target.value);An(we),ai(we)},className:`px-3 py-2 border rounded-md text-sm ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`}),f.jsx(tt,{variant:"secondary",onClick:()=>ai(Br),className:"flex items-center gap-2",size:"sm",disabled:Z,children:f.jsx(Ua,{size:16,className:Z?"animate-spin":""})})]})]}),Z?f.jsx("div",{className:`text-center py-12 ${e?"text-slate-300":"text-slate-600"}`,children:f.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[f.jsx(Ua,{size:32,className:"animate-spin text-blue-500"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("p",{className:"text-lg font-medium",children:"Generating Reports..."}),f.jsx("p",{className:"text-sm opacity-75",children:"Please wait while we analyze the data"})]})]})}):f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[f.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[f.jsx("div",{className:`text-xs sm:text-sm ${e?"text-slate-400":"text-slate-500"} mb-1`,children:"Total Items Picked Today"}),f.jsx("div",{className:`text-xl sm:text-2xl font-bold ${e?"text-blue-400":"text-blue-600"}`,children:ve.userStats.reduce((te,we)=>te+we.itemsPicked,0)})]}),f.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[f.jsx("div",{className:`text-xs sm:text-sm ${e?"text-slate-400":"text-slate-500"} mb-1`,children:"Total Jobs Completed"}),f.jsx("div",{className:`text-xl sm:text-2xl font-bold ${e?"text-green-400":"text-green-600"}`,children:ve.userStats.reduce((te,we)=>te+we.jobsCompleted,0)})]}),f.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} sm:col-span-2 lg:col-span-1`,children:[f.jsx("div",{className:`text-xs sm:text-sm ${e?"text-slate-400":"text-slate-500"} mb-1`,children:"Active Users Today"}),f.jsx("div",{className:`text-xl sm:text-2xl font-bold ${e?"text-purple-400":"text-purple-600"}`,children:ve.userStats.length})]})]}),f.jsxs("div",{className:`p-4 sm:p-6 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[f.jsxs("h3",{className:`text-base sm:text-lg font-semibold mb-3 sm:mb-4 ${e?"text-white":"text-slate-800"}`,children:["User Performance - ",Br.toLocaleDateString()]}),ve.userStats.length>0?f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full min-w-[600px]",children:[f.jsx("thead",{children:f.jsxs("tr",{className:`border-b ${e?"border-slate-700":"border-slate-200"}`,children:[f.jsx("th",{className:`text-left py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"User"}),f.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Jobs Created"}),f.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Jobs Completed"}),f.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Items Picked"}),f.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Avg Time/Job"}),f.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-600"}`,children:"Total Time"})]})}),f.jsx("tbody",{children:ve.userStats.map((te,we)=>f.jsxs("tr",{className:`border-b ${e?"border-slate-700":"border-slate-200"}`,children:[f.jsx("td",{className:`py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-white":"text-slate-800"}`,children:te.name}),f.jsx("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-slate-300":"text-slate-600"}`,children:te.jobsCreated}),f.jsx("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-slate-300":"text-slate-600"}`,children:te.jobsCompleted}),f.jsx("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-blue-400":"text-blue-600"} font-semibold`,children:te.itemsPicked}),f.jsx("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-slate-300":"text-slate-600"}`,children:Oa(te.avgTimePerJob)}),f.jsx("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-slate-300":"text-slate-600"}`,children:Oa(te.totalTime)})]},we))})]})}):f.jsx("div",{className:`text-center py-6 sm:py-8 ${e?"text-slate-400":"text-slate-500"}`,children:"No data available for selected date"})]}),f.jsxs("div",{className:`p-4 sm:p-6 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[f.jsx("h3",{className:`text-base sm:text-lg font-semibold mb-3 sm:mb-4 ${e?"text-white":"text-slate-800"}`,children:"Last 7 Days Performance Overview"}),f.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-7 gap-1 sm:gap-2",children:(()=>{const te=[];for(let we=6;we>=0;we--){const Ze=new Date;Ze.setDate(Ze.getDate()-we);const Rt=new Date(Ze);Rt.setHours(0,0,0,0);const at=new Date(Ze);at.setHours(23,59,59,999);const pt=i.filter(ft=>{const Bt=ft.createdAt;return Bt>=Rt&&Bt<=at}),$t=pt.reduce((ft,Bt)=>ft+Bt.items.reduce((Sr,en)=>Sr+en.quantity,0),0),Ot=pt.filter(ft=>ft.status==="completed").length,Lt=Wt(Ze,"MMM dd");te.push({date:Lt,itemsPicked:$t,jobsCompleted:Ot})}return te})().map((te,we)=>f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:`text-xs ${e?"text-slate-400":"text-slate-500"} mb-1`,children:te.date}),f.jsx("div",{className:`text-lg font-bold ${e?"text-blue-400":"text-blue-600"}`,children:te.itemsPicked}),f.jsxs("div",{className:`text-xs ${e?"text-slate-500":"text-slate-600"}`,children:[te.jobsCompleted," jobs"]})]},we))})]}),f.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[f.jsx("h3",{className:`text-base sm:text-lg font-semibold mb-3 sm:mb-4 ${e?"text-white":"text-slate-800"}`,children:"Chart Date Range"}),f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("label",{className:`block text-xs sm:text-sm font-medium mb-1 ${e?"text-slate-300":"text-slate-700"}`,children:"Start Date"}),f.jsx("input",{type:"date",value:(()=>{const te=ye.start.getFullYear(),we=String(ye.start.getMonth()+1).padStart(2,"0"),Ze=String(ye.start.getDate()).padStart(2,"0");return`${te}-${we}-${Ze}`})(),onChange:te=>{const we=new Date(te.target.value);we.setHours(0,0,0,0),we<=ye.end&&me(Ze=>({...Ze,start:we}))},className:`w-full px-2 sm:px-3 py-2 border rounded-md text-xs sm:text-sm ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`})]}),f.jsxs("div",{className:"flex-1",children:[f.jsx("label",{className:`block text-xs sm:text-sm font-medium mb-1 ${e?"text-slate-300":"text-slate-700"}`,children:"End Date"}),f.jsx("input",{type:"date",value:(()=>{const te=ye.end.getFullYear(),we=String(ye.end.getMonth()+1).padStart(2,"0"),Ze=String(ye.end.getDate()).padStart(2,"0");return`${te}-${we}-${Ze}`})(),onChange:te=>{const we=new Date(te.target.value);we.setHours(23,59,59,999),we>=ye.start&&me(Ze=>({...Ze,end:we}))},className:`w-full px-2 sm:px-3 py-2 border rounded-md text-xs sm:text-sm ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`})]})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[f.jsx("button",{onClick:()=>{const te=new Date,we=new Date;we.setDate(we.getDate()-6),we.setHours(0,0,0,0),te.setHours(23,59,59,999),me({start:we,end:te})},className:`px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-medium transition-all duration-200 ${(()=>{const te=new Date,we=new Date;return we.setDate(we.getDate()-6),we.setHours(0,0,0,0),te.setHours(23,59,59,999),ye.start.getTime()===we.getTime()&&ye.end.getTime()===te.getTime()})()?"bg-blue-600 text-white shadow-lg shadow-blue-600/25":"bg-slate-600 hover:bg-slate-500 text-white hover:shadow-md"}`,children:"Last 7 Days"}),f.jsx("button",{onClick:()=>{const te=new Date,we=new Date;we.setDate(we.getDate()-29),we.setHours(0,0,0,0),te.setHours(23,59,59,999),me({start:we,end:te})},className:`px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-medium transition-all duration-200 ${(()=>{const te=new Date,we=new Date;return we.setDate(we.getDate()-29),we.setHours(0,0,0,0),te.setHours(23,59,59,999),ye.start.getTime()===we.getTime()&&ye.end.getTime()===te.getTime()})()?"bg-blue-600 text-white shadow-lg shadow-blue-600/25":"bg-slate-600 hover:bg-slate-500 text-white hover:shadow-md"}`,children:"Last 30 Days"})]})]})]}),f.jsxs("div",{className:"space-y-3 sm:space-y-4 md:space-y-6",children:[f.jsxs("div",{className:`${e?"bg-slate-800":"bg-white"} p-3 sm:p-4 rounded-lg shadow-sm`,children:[f.jsxs("h3",{className:`text-sm sm:text-base md:text-lg font-medium ${e?"text-white":"text-slate-800"} mb-2 sm:mb-3 md:mb-4`,children:["Jobs Performance - Daily Overview (",ye.start.toLocaleDateString("en-GB")," to ",ye.end.toLocaleDateString("en-GB"),")"]}),f.jsx("div",{className:"h-48 sm:h-64 md:h-80",children:f.jsx(X0,{width:"100%",height:"100%",children:f.jsxs(Z0,{data:(()=>{const te=[],we=new Map,Ze=new Date(ye.start),Rt=new Date(ye.end),at=Math.ceil((Rt.getTime()-Ze.getTime())/(1e3*60*60*24));for(let pt=0;pt<=at;pt++){const $t=new Date(Ze);$t.setDate(Ze.getDate()+pt);const Ot=new Date($t);Ot.setHours(0,0,0,0);const Lt=new Date($t);Lt.setHours(23,59,59,999);const ft=i.filter(Wr=>{const wn=Wr.createdAt;return wn>=Ot&&wn<=Lt}),Bt=ft.reduce((Wr,wn)=>Wr+wn.items.reduce((pn,Yr)=>pn+Yr.quantity,0),0),Sr=ft.filter(Wr=>Wr.status==="completed").length,en=ft.length,Tn=Wt($t,"MMM dd");we.set(Tn,{itemsPicked:Bt,jobsCompleted:Sr,jobsCreated:en})}return we.forEach((pt,$t)=>{te.push({date:$t,itemsPicked:pt.itemsPicked,jobsCompleted:pt.jobsCompleted,jobsCreated:pt.jobsCreated})}),te.sort((pt,$t)=>{const Ot=new Date(pt.date),Lt=new Date($t.date);return Ot.getTime()-Lt.getTime()})})(),children:[f.jsx(rh,{strokeDasharray:"3 3",stroke:e?"#334155":"#e2e8f0"}),f.jsx(ru,{dataKey:"date",stroke:e?"#94a3b8":"#64748b"}),f.jsx(nu,{stroke:e?"#94a3b8":"#64748b"}),f.jsx(vs,{contentStyle:{backgroundColor:e?"#1e293b":"#ffffff",border:e?"1px solid #334155":"1px solid #e2e8f0",color:e?"#e2e8f0":"#1e293b"},formatter:(te,we)=>we==="Items Picked"?[`${te} items`,we]:we==="Jobs Completed"?[`${te} jobs`,we]:we==="Jobs Created"?[`${te} jobs`,we]:[te,we],labelFormatter:te=>`Date: ${te}`}),f.jsx(zo,{}),f.jsx(Ba,{type:"monotone",dataKey:"itemsPicked",stroke:"#10b981",name:"Items Picked",strokeWidth:2}),f.jsx(Ba,{type:"monotone",dataKey:"jobsCompleted",stroke:"#3b82f6",name:"Jobs Completed",strokeWidth:2}),f.jsx(Ba,{type:"monotone",dataKey:"jobsCreated",stroke:"#f59e0b",name:"Jobs Created",strokeWidth:2})]})})})]}),f.jsxs("div",{className:`${e?"bg-slate-800":"bg-white"} p-3 sm:p-4 rounded-lg shadow-sm`,children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2 sm:gap-0 mb-2 sm:mb-3 md:mb-4",children:[f.jsxs("h3",{className:`text-sm sm:text-base md:text-lg font-medium ${e?"text-white":"text-slate-800"}`,children:["User Performance - ",ye.start.toLocaleDateString("en-GB")," to ",ye.end.toLocaleDateString("en-GB")]}),f.jsx("select",{value:gn||(()=>{const te=Array.from(new Set(i.map(we=>we.createdBy)));return te.length>0?te[0]:""})(),onChange:te=>{oe(te.target.value)},className:`px-2 sm:px-3 py-1 border rounded-md text-xs sm:text-sm ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`,children:Array.from(new Set(i.map(we=>we.createdBy))).map(we=>f.jsx("option",{value:we,children:we},we))})]}),f.jsx("div",{className:"h-48 sm:h-64 md:h-80",children:f.jsx(X0,{width:"100%",height:"100%",children:f.jsxs(Z0,{data:(()=>{const te=[],we=new Map,Ze=Array.from(new Set(i.map(Ot=>Ot.createdBy))),Rt=gn||(Ze.length>0?Ze[0]:""),at=new Date(ye.start),pt=new Date(ye.end),$t=Math.ceil((pt.getTime()-at.getTime())/(1e3*60*60*24));for(let Ot=0;Ot<=$t;Ot++){const Lt=new Date(at);Lt.setDate(at.getDate()+Ot);const ft=new Date(Lt);ft.setHours(0,0,0,0);const Bt=new Date(Lt);Bt.setHours(23,59,59,999);const Sr=i.filter(Yr=>{const Ps=Yr.createdAt;return Ps>=ft&&Ps<=Bt&&Yr.createdBy===Rt}),en=Sr.reduce((Yr,Ps)=>Yr+Ps.items.reduce((tn,Tc)=>tn+Tc.quantity,0),0),Tn=Sr.filter(Yr=>Yr.status==="completed").length,Wr=Sr.length;let wn=0;Sr.forEach(Yr=>{Yr.pickingTime&&Yr.pickingTime>0&&(wn+=Yr.pickingTime)});const pn=Wt(Lt,"MMM dd");we.set(pn,{itemsPicked:en,jobsCompleted:Tn,jobsCreated:Wr,totalPickingTime:wn})}return we.forEach((Ot,Lt)=>{te.push({date:Lt,itemsPicked:Ot.itemsPicked,jobsCompleted:Ot.jobsCompleted,jobsCreated:Ot.jobsCreated,totalPickingTime:Ot.totalPickingTime})}),te.sort((Ot,Lt)=>{const ft=new Date(Ot.date),Bt=new Date(Lt.date);return ft.getTime()-Bt.getTime()})})(),children:[f.jsx(rh,{strokeDasharray:"3 3",stroke:e?"#334155":"#e2e8f0"}),f.jsx(ru,{dataKey:"date",stroke:e?"#94a3b8":"#64748b"}),f.jsx(nu,{stroke:e?"#94a3b8":"#64748b"}),f.jsx(vs,{contentStyle:{backgroundColor:e?"#1e293b":"#ffffff",border:e?"1px solid #334155":"1px solid #e2e8f0",color:e?"#e2e8f0":"#1e293b"},formatter:(te,we)=>we==="Items Picked"?[`${te} items`,we]:we==="Jobs Completed"?[`${te} jobs`,we]:we==="Jobs Created"?[`${te} jobs`,we]:we==="Total Picking Time"?[`${Oa(te)}`,we]:[te,we],labelFormatter:te=>`Date: ${te}`}),f.jsx(zo,{}),f.jsx(Ba,{type:"monotone",dataKey:"itemsPicked",stroke:"#10b981",name:"Items Picked",strokeWidth:2}),f.jsx(Ba,{type:"monotone",dataKey:"jobsCompleted",stroke:"#3b82f6",name:"Jobs Completed",strokeWidth:2}),f.jsx(Ba,{type:"monotone",dataKey:"jobsCreated",stroke:"#f59e0b",name:"Jobs Created",strokeWidth:2}),f.jsx(Ba,{type:"monotone",dataKey:"totalPickingTime",stroke:"#8b5cf6",name:"Total Picking Time",strokeWidth:2})]})})})]})]})]})]}),G&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("h2",{className:`text-lg font-semibold ${e?"text-white":"text-slate-800"}`,children:"Productivity Analytics"}),f.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300",children:ot.toLocaleDateString()})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("label",{className:`text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Date:"}),f.jsx("input",{type:"date",value:`${ot.getFullYear()}-${String(ot.getMonth()+1).padStart(2,"0")}-${String(ot.getDate()).padStart(2,"0")}`,onChange:te=>{const we=te.target.value,[Ze,Rt,at]=we.split("-").map(Number),pt=new Date(Ze,Rt-1,at);Tt(pt),Li()},className:`px-3 py-2 border rounded-md text-sm ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`})]}),f.jsx(tt,{variant:"secondary",onClick:Li,className:"flex items-center gap-2",size:"sm",disabled:Be,children:f.jsx(Ua,{size:16,className:Be?"animate-spin":""})})]})]}),Be?f.jsx("div",{className:`text-center py-12 ${e?"text-slate-300":"text-slate-600"}`,children:f.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[f.jsx(Ua,{size:32,className:"animate-spin text-green-500"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("p",{className:"text-lg font-medium",children:"Analyzing Worker Productivity..."}),f.jsx("p",{className:"text-sm opacity-75",children:"Please wait while we calculate performance metrics"})]})]})}):f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[f.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[f.jsx("div",{className:`text-xs sm:text-sm ${e?"text-slate-400":"text-slate-500"} mb-1`,children:"Total Workers"}),f.jsx("div",{className:`text-xl sm:text-2xl font-bold ${e?"text-blue-400":"text-blue-600"}`,children:ke.workerStats.length})]}),f.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[f.jsx("div",{className:`text-xs sm:text-sm ${e?"text-slate-400":"text-slate-500"} mb-1`,children:"Total Jobs Completed"}),f.jsx("div",{className:`text-xl sm:text-2xl font-bold ${e?"text-green-400":"text-green-600"}`,children:ke.workerStats.reduce((te,we)=>te+we.completedJobs,0)})]}),f.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[f.jsx("div",{className:`text-xs sm:text-sm ${e?"text-slate-400":"text-slate-500"} mb-1`,children:"Total Items Picked"}),f.jsx("div",{className:`text-xl sm:text-2xl font-bold ${e?"text-purple-400":"text-purple-600"}`,children:ke.workerStats.reduce((te,we)=>te+we.itemsPicked,0)})]}),f.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[f.jsx("div",{className:`text-xs sm:text-sm ${e?"text-slate-400":"text-slate-500"} mb-1`,children:"Avg Efficiency"}),f.jsxs("div",{className:`text-xl sm:text-2xl font-bold ${e?"text-orange-400":"text-orange-600"}`,children:[ke.workerStats.length>0?(ke.workerStats.reduce((te,we)=>te+we.efficiency,0)/ke.workerStats.length).toFixed(1):"0"," items/min"]})]})]}),f.jsxs("div",{className:`p-4 sm:p-6 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[f.jsx("h3",{className:`text-base sm:text-lg font-semibold mb-3 sm:mb-4 ${e?"text-white":"text-slate-800"}`,children:"Worker Performance Ranking"}),ke.workerStats.length>0?f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full min-w-[700px]",children:[f.jsx("thead",{children:f.jsxs("tr",{className:`border-b ${e?"border-slate-700":"border-slate-200"}`,children:[f.jsx("th",{className:`text-left py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Rank"}),f.jsx("th",{className:`text-left py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Worker"}),f.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Jobs"}),f.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Items"}),f.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Efficiency"}),f.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Avg Time"}),f.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Performance"})]})}),f.jsx("tbody",{children:ke.workerStats.map((te,we)=>f.jsxs("tr",{className:`border-b ${e?"border-slate-700":"border-slate-200"}`,children:[f.jsxs("td",{className:`py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-white":"text-slate-800"}`,children:["#",we+1]}),f.jsx("td",{className:`py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-white":"text-slate-800"}`,children:te.name}),f.jsx("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-slate-300":"text-slate-600"}`,children:te.completedJobs}),f.jsx("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-blue-400":"text-blue-600"} font-semibold`,children:te.itemsPicked}),f.jsxs("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-green-400":"text-green-600"} font-semibold`,children:[te.efficiency," items/min"]}),f.jsxs("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-slate-300":"text-slate-600"}`,children:[Math.round(te.avgPickingTime/60),"m ",te.avgPickingTime%60,"s"]}),f.jsx("td",{className:"text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm",children:f.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${te.performance==="excellent"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":te.performance==="good"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300":te.performance==="average"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"}`,children:te.performance==="needs_improvement"?"Needs Improvement":te.performance.charAt(0).toUpperCase()+te.performance.slice(1)})})]},te.name))})]})}):f.jsx("div",{className:`text-center py-6 sm:py-8 ${e?"text-slate-400":"text-slate-500"}`,children:"No productivity data available for the selected date range"})]}),f.jsxs("div",{className:`p-4 sm:p-6 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[f.jsx("h3",{className:`text-base sm:text-lg font-semibold mb-3 sm:mb-4 ${e?"text-white":"text-slate-800"}`,children:"Hourly Productivity Trends"}),f.jsx("div",{className:"h-80 w-full overflow-x-auto",children:f.jsx(X0,{width:"100%",height:"100%",minWidth:800,children:f.jsxs(Z0,{data:ke.hourlyProductivity,margin:{top:5,right:30,left:20,bottom:5},children:[f.jsx(rh,{strokeDasharray:"3 3",stroke:e?"#334155":"#e2e8f0"}),f.jsx(ru,{dataKey:"hour",stroke:e?"#94a3b8":"#64748b",fontSize:10,interval:1,angle:-45,textAnchor:"end",height:60}),f.jsx(nu,{stroke:e?"#94a3b8":"#64748b",fontSize:12}),f.jsx(vs,{contentStyle:{backgroundColor:e?"#1e293b":"#ffffff",border:e?"1px solid #334155":"1px solid #e2e8f0",color:e?"#e2e8f0":"#1e293b"},formatter:(te,we)=>we==="Total Items"?[`${te} items`,we]:we==="Total Jobs"?[`${te} jobs`,we]:we==="Avg Picking Time"?[`${Math.round(te/60)}m ${te%60}s`,we]:[te,we],labelFormatter:te=>`Hour: ${te}`}),f.jsx(zo,{}),f.jsx(Ba,{type:"monotone",dataKey:"totalJobs",stroke:"#10b981",name:"Total Jobs",strokeWidth:2}),f.jsx(Ba,{type:"monotone",dataKey:"totalItems",stroke:"#3b82f6",name:"Total Items",strokeWidth:2}),f.jsx(Ba,{type:"monotone",dataKey:"avgPickingTime",stroke:"#f59e0b",name:"Avg Picking Time",strokeWidth:2})]})})})]})]})]}),!k&&!G&&Ur.length===0&&hn().uiSessions.length===0&&f.jsx("div",{className:`${e?"text-slate-400":"text-slate-500"} text-center py-8`,children:_?f.jsxs("div",{className:"space-y-2",children:[f.jsx("p",{children:"No archived jobs found."}),(Pt||Vt||or!=="all")&&f.jsx("p",{className:"text-sm",children:"Try adjusting your filters or clearing them to see more results."})]}):T?"No completed jobs found.":N?"No live jobs found.":"No active jobs found."})]}),f.jsx(on,{isOpen:o,onClose:()=>ce(!0),title:Ct?"Search Product from Inventory":"Add Barcode to Job",size:"md",closeOnOutsideClick:!1,children:f.jsxs("div",{className:"space-y-4",children:[!Ct&&f.jsxs("div",{className:"flex justify-between items-center gap-2",children:[f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:()=>Ut(!0),className:"flex items-center gap-2 px-3 py-2 rounded-md transition-colors bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-600",title:"Show search section",children:[f.jsx(Ol,{size:16}),f.jsx("span",{className:"text-sm font-medium",children:"Search Product"})]}),f.jsx(tt,{variant:"secondary",onClick:()=>mt(!0),size:"sm",className:"px-3 py-2",children:f.jsx(_j,{size:16})})]}),f.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-md ${K>=600?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"}`,children:[f.jsx(G2,{size:16}),f.jsx("span",{className:"text-sm font-mono font-medium",children:_c(K)})]})]}),Pe&&f.jsx("div",{className:`p-3 rounded-md border-l-4 ${e?"bg-red-900/20 border-red-500 text-red-200":"bg-red-50 border-red-500 text-red-800"}`,children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"animate-pulse",children:""}),f.jsx("span",{className:"font-medium",children:K>=600&&K<900?"Hurry up! You've been working on this job for 10+ minutes.":`Time Alert: ${Math.floor(K/60)} minutes elapsed. Please complete the job soon.`}),f.jsx("button",{onClick:()=>Ce(!1),className:`ml-auto px-2 py-1 rounded text-xs ${e?"bg-red-800 hover:bg-red-700 text-red-200":"bg-red-200 hover:bg-red-300 text-red-800"}`,children:"Dismiss"})]})}),Ct&&f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between gap-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("button",{onClick:()=>Ut(!1),className:`flex items-center gap-2 px-3 py-2 rounded-md transition-colors ${e?"bg-slate-700 text-slate-300 hover:bg-slate-600 hover:text-white":"bg-slate-200 text-slate-700 hover:bg-slate-300 hover:text-slate-800"}`,title:"Back to Add Barcode",children:[f.jsx(jZ,{size:16}),f.jsx("span",{className:"text-sm font-medium",children:"Back to Add Barcode"})]}),f.jsx(tt,{variant:"secondary",onClick:()=>mt(!0),size:"sm",className:"px-3 py-2",children:f.jsx(_j,{size:16})})]}),f.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-md ${K>=600?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"}`,children:[f.jsx(G2,{size:16}),f.jsx("span",{className:"text-sm font-mono font-medium",children:_c(K)})]})]}),f.jsx("div",{className:"flex gap-2 mb-3",children:["name","barcode","asin"].map(te=>f.jsx("button",{onClick:()=>st(te),className:`px-3 py-1 text-xs rounded-md transition-colors ${nt===te?"bg-blue-500 text-white":e?"bg-slate-700 text-slate-300 hover:bg-slate-600":"bg-slate-200 text-slate-700 hover:bg-slate-300"}`,children:te.charAt(0).toUpperCase()+te.slice(1)},te))}),f.jsxs("div",{className:"flex gap-2 mb-3",children:[f.jsx(kt,{value:Kt,onChange:te=>jr(te.target.value),placeholder:`Search by ${nt}...`,className:"flex-1",onKeyPress:te=>te.key==="Enter"&&tl(Kt,nt)}),f.jsx(tt,{onClick:()=>tl(Kt,nt),disabled:De||!Kt.trim(),size:"sm",className:"px-4",children:De?f.jsx(Ua,{size:14,className:"animate-spin"}):"Search"})]}),_r.length>0&&f.jsxs("div",{className:"space-y-2 max-h-48 overflow-auto",children:[f.jsxs("h5",{className:`text-xs font-medium ${e?"text-slate-400":"text-slate-600"}`,children:["Found ",_r.length," product",_r.length!==1?"s":"",":"]}),_r.map(te=>{var we;return f.jsxs("div",{className:`p-2 rounded text-sm ${e?"bg-slate-700 border border-slate-600":"bg-slate-100 border border-slate-200"}`,children:[f.jsx("div",{className:`font-medium ${e?"text-white":"text-slate-800"}`,children:te.name}),f.jsxs("div",{className:`text-xs ${e?"text-slate-400":"text-slate-600"}`,children:[te.barcode&&f.jsxs("span",{className:"mr-3",children:["Barcode: ",te.barcode]}),te.asin&&f.jsxs("span",{className:"mr-3",children:["ASIN: ",te.asin]}),te.locationCode&&te.shelfNumber&&f.jsxs("span",{className:"mr-3",children:["Location: ",te.locationCode,"-",te.shelfNumber]}),f.jsxs("span",{className:"mr-3",children:["Qty: ",te.quantity]}),f.jsxs("span",{children:["Store: ",(we=te.storeName)==null?void 0:we.toUpperCase()]})]})]},te.id)})]}),Kt&&_r.length===0&&!De&&f.jsxs("div",{className:`text-center text-sm ${e?"text-slate-400":"text-slate-500"}`,children:['No products found for "',Kt,'"']})]}),!Ct&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-200",children:"Barcode"}),f.jsxs("form",{onSubmit:Mi,className:"flex gap-2",children:[f.jsx(kt,{name:"manualBarcode",type:"text",value:X,onChange:te=>V(te.target.value),placeholder:"Enter barcode manually",fullWidth:!0}),f.jsxs(tt,{type:"submit",className:"flex items-center gap-1 whitespace-nowrap",size:"sm",children:[f.jsx(mi,{size:16})," Add"]})]})]}),f.jsx("div",{className:"text-center text-sm text-slate-500 dark:text-slate-400",children:"Enter a barcode to update stock quantity for this job"})]}),!Ct&&c.length>0&&f.jsxs("div",{className:"space-y-2",children:[f.jsx("h4",{className:`text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Current Job Items:"}),f.jsx("div",{className:"max-h-32 overflow-auto space-y-1",children:c.map((te,we)=>{var Ze;return f.jsx("div",{className:`flex items-center justify-between p-2 rounded text-sm ${e?"bg-slate-800":"bg-slate-100"}`,children:(p==null?void 0:p.index)===we?f.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[f.jsx(kt,{value:p.barcode,onChange:Rt=>g({...p,barcode:Rt.target.value}),className:"w-24 text-sm"}),f.jsx(kt,{type:"number",value:p.quantity,onChange:Rt=>g({...p,quantity:Number(Rt.target.value)||1}),className:"w-16 text-sm",min:"1"}),f.jsxs("div",{className:"flex gap-1",children:[f.jsx(tt,{size:"sm",onClick:()=>{const Rt=c[we].quantity,at=Number(p.quantity),pt=at-Rt;u(Ot=>{const Lt=[...Ot];return Lt[we]={...Lt[we],barcode:p.barcode,quantity:at,reason:p.reason||"Unknown",storeName:p.storeName||"Unknown",name:p.name||null},Lt}),h(Ot=>{const Lt=[...Ot],ft=Lt.findIndex(Bt=>Bt.stockItem.barcode===p.barcode&&Bt.locationCode===c[we].locationCode&&Bt.shelfNumber===c[we].shelfNumber);return ft>=0&&(Lt[ft]={...Lt[ft],deductedQuantity:Lt[ft].deductedQuantity+pt}),Lt});const $t=ir(vt(Xe,"liveJobSessions"),lr("createdBy","==",r==null?void 0:r.name),lr("isActive","==",!0));sr($t).then(Ot=>{if(!Ot.empty){const Lt=Ot.docs[0],Bt=(Lt.data().items||[]).map(Sr=>Sr.barcode===c[we].barcode&&Sr.locationCode===c[we].locationCode&&Sr.shelfNumber===c[we].shelfNumber?{...Sr,barcode:p.barcode,quantity:at,reason:p.reason||"Unknown",storeName:p.storeName||"Unknown",name:p.name||null}:Sr);On(ur(Xe,"liveJobSessions",Lt.id),{items:Bt})}}).catch(Ot=>{console.log("error",Ot)}),g(null)},className:"h-6 px-2",children:""}),f.jsx(tt,{variant:"secondary",size:"sm",onClick:()=>g(null),className:"h-6 px-2",children:""})]})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("span",{className:"truncate block font-medium",children:te.name||te.barcode}),te.name&&f.jsxs("span",{className:"text-xs text-slate-500 block",children:["Barcode: ",te.barcode]}),te.locationCode&&te.shelfNumber&&f.jsxs("span",{className:"text-xs text-slate-500 block",children:["Location: ",te.locationCode," - Shelf ",te.shelfNumber]}),te.reason&&f.jsxs("span",{className:"text-xs text-slate-500 block",children:["Reason: ",te.reason]}),te.storeName&&f.jsxs("span",{className:"text-xs text-slate-500 block",children:["Store: ",(Ze=te.storeName)==null?void 0:Ze.toUpperCase()]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("span",{className:"text-xs text-slate-500",children:["Qty: ",te.quantity]}),f.jsx(tt,{variant:"secondary",size:"sm",onClick:()=>g({index:we,barcode:te.barcode,quantity:te.quantity,reason:te.reason,storeName:te.storeName,name:te.name}),className:"h-6 px-2",children:"Edit"}),f.jsx("button",{type:"button",onClick:()=>{u(pt=>pt.filter(($t,Ot)=>Ot!==we));const Rt=c[we];h(pt=>pt.filter($t=>!($t.stockItem.barcode===Rt.barcode&&$t.locationCode===Rt.locationCode&&$t.shelfNumber===Rt.shelfNumber)));const at=ir(vt(Xe,"liveJobSessions"),lr("createdBy","==",r==null?void 0:r.name),lr("isActive","==",!0));sr(at).then(pt=>{if(!pt.empty){const $t=pt.docs[0],Lt=($t.data().items||[]).filter(ft=>!(ft.barcode===Rt.barcode&&ft.locationCode===Rt.locationCode&&ft.shelfNumber===Rt.shelfNumber));On(ur(Xe,"liveJobSessions",$t.id),{items:Lt})}}).catch(pt=>{console.log("error",pt)})},className:"h-6 w-6 rounded flex items-center justify-center text-white bg-red-500 hover:bg-red-600 transition-colors hover:bg-red-600",title:"Remove item",children:""})]})]})},`${te.barcode}-${te.locationCode}-${te.shelfNumber}-${we}`)})})]}),!Ct&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"pt-2 space-y-2",children:[f.jsxs("label",{className:`block text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:["Select Trolley Number ",f.jsx("span",{className:"text-red-500",children:"*"})]}),f.jsx("div",{className:"grid grid-cols-5 sm:grid-cols-10 gap-2",children:Array.from({length:20},(te,we)=>we+1).map(te=>f.jsx("button",{type:"button",onClick:()=>Xt(te),className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${ut===te?"bg-blue-500 text-white hover:bg-blue-600":e?"bg-slate-700 text-slate-300 hover:bg-slate-600":"bg-slate-200 text-slate-700 hover:bg-slate-300"}`,children:te},te))}),!ut&&f.jsx("p",{className:`text-xs ${e?"text-red-400":"text-red-600"}`,children:"Please select a trolley number before finishing picking"})]}),f.jsx("div",{className:"pt-2",children:f.jsxs(tt,{onClick:vn,disabled:c.length===0||ie||!ut,isLoading:ie,className:"w-full flex items-center justify-center gap-2",size:"sm",children:[f.jsx(r2,{size:16}),ie?"Creating Job...":"Finish Picking"]})})]})]})}),f.jsx(gh,{isOpen:!!P,onClose:()=>O(null),onConfirm:Pu,title:"Delete Job",message:P?`Are you sure you want to delete Job ${P.jobId}? This action cannot be undone. Deleting this job will not add the items back to stock.`:"",isLoading:!1}),f.jsx(on,{isOpen:!!y,onClose:()=>!b&&w(null),title:"Add item back to stock",size:"sm",children:y&&f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:`text-sm ${e?"text-slate-300":"text-slate-600"}`,children:[f.jsx("p",{className:"font-medium mb-2",children:y.item.name||y.item.barcode}),f.jsxs("p",{children:["Barcode: ",y.item.barcode]}),f.jsxs("p",{children:["Quantity to return: ",y.item.quantity]}),y.item.locationCode&&y.item.shelfNumber&&f.jsxs("p",{children:["Location: ",y.item.locationCode,"-",y.item.shelfNumber]}),y.item.reason&&f.jsxs("p",{children:["Reason: ",y.item.reason]}),y.item.storeName&&f.jsxs("p",{children:["Store: ",y.item.storeName]})]}),f.jsxs("p",{className:`text-xs ${e?"text-slate-400":"text-slate-500"}`,children:["This will add ",y.item.quantity," unit(s) back to inventory and remove the item from the job. An activity log will be created."]}),f.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[f.jsx(tt,{variant:"secondary",size:"sm",onClick:()=>w(null),disabled:b,children:"Cancel"}),f.jsx(tt,{size:"sm",onClick:Xs,isLoading:b,disabled:b,children:"Add back to stock"})]})]})}),f.jsx(Xq,{isOpen:Te,onClose:()=>ce(!1),onConfirm:()=>{ce(!1),l(!1),q(null),J(0),Ce(!1),Ge(0),Ut(!1),Xt(null);const te=ir(vt(Xe,"liveJobSessions"),lr("createdBy","==",r==null?void 0:r.name),lr("isActive","==",!0));sr(te).then(we=>{we.empty||xs(ur(Xe,"liveJobSessions",we.docs[0].id))}).catch(we=>{console.log("error",we)})},title:"Close without finishing?",message:"Are you sure you want to close? All jobs will be lost.",confirmLabel:"Yes",cancelLabel:"No"}),f.jsx(on,{isOpen:H,onClose:()=>re(!1),title:"Update Stock for Job",size:"lg",closeOnOutsideClick:!1,children:ee&&f.jsx(rxe,{item:ee,onSubmit:Fl,onCancel:Zn,isLoading:!1})}),f.jsx(nxe,{isOpen:St,onClose:()=>mt(!1)})]})},G$e=({children:e,variant:t="primary",size:r="md",className:n=""})=>{const a={primary:"bg-blue-100 text-blue-800",success:"bg-green-100 text-green-800",warning:"bg-amber-100 text-amber-800",danger:"bg-red-100 text-red-800",info:"bg-slate-100 text-slate-800"},i={sm:"text-xs px-2 py-0.5",md:"text-sm px-2.5 py-0.5"};return f.jsx("span",{className:`
        ${a[t]} 
        ${i[r]} 
        inline-flex items-center justify-center font-medium rounded-full
        ${n}
      `,children:e})},CK=({status:e})=>{const t=()=>{switch(e){case"pending":return"info";case"processing":return"primary";case"shipped":return"warning";case"delivered":return"success";case"cancelled":return"danger";case"completed":return"success";default:return"info"}},r=()=>e.charAt(0).toUpperCase()+e.slice(1);return f.jsx(G$e,{variant:t(),children:r()})},K$e=({order:e,onClick:t,editButton:r})=>{const{isDarkMode:n}=Zr();return f.jsx("div",{className:`border ${n?"border-slate-700 bg-slate-800":"border-slate-200 bg-white"} rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-pointer`,onClick:t,children:f.jsxs("div",{className:"p-4",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("h3",{className:`font-medium ${n?"text-white":"text-slate-800"}`,children:e.orderNumber}),f.jsxs("div",{className:"flex items-center gap-2",children:[r,f.jsx(CK,{status:e.status})]})]}),f.jsx("p",{className:`${n?"text-slate-300":"text-slate-700"} mb-2`,children:e.customerName}),f.jsx("div",{className:"space-y-1 mb-3",children:f.jsxs("div",{className:"flex justify-between text-sm",children:[f.jsxs("span",{className:`${n?"text-slate-400":"text-slate-600"}`,children:["Total Products: ",e.items.length]}),f.jsxs("span",{className:`${n?"text-slate-200":"text-slate-800"} font-medium`,children:["Total Quantity: ",e.items.reduce((a,i)=>a+i.quantity,0)]})]})}),f.jsxs("div",{className:`pt-2 border-t ${n?"border-slate-700":"border-slate-200"} flex items-center justify-between`,children:[f.jsx("span",{className:`text-xs ${n?"text-slate-400":"text-slate-500"}`,children:Wt(e.createdAt,"MMM d, yyyy")}),f.jsxs("span",{className:`font-medium ${n?"text-white":"text-slate-900"}`,children:["Total: $",e.totalAmount.toFixed(2)]})]})]})})},Y$e=({isOpen:e,onClose:t,order:r})=>r?f.jsx(on,{isOpen:e,onClose:t,title:`Order ${r.orderNumber}`,size:"xl",children:f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex flex-wrap justify-between gap-4 pb-4 border-b border-slate-200",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Status"}),f.jsx("div",{className:"mt-1",children:f.jsx(CK,{status:r.status})})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Customer"}),f.jsx("p",{className:"text-slate-800 font-medium",children:r.customerName})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Order Date"}),f.jsx("p",{className:"text-slate-800",children:r.createdAt?Wt(r.createdAt,"MMM d, yyyy h:mm a"):"N/A"})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Last Updated"}),f.jsx("p",{className:"text-slate-800",children:r.updatedAt?Wt(r.updatedAt,"MMM d, yyyy h:mm a"):"N/A"})]}),r.status==="shipped"&&r.shippedTime&&f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Shipped Time"}),f.jsx("p",{className:"text-slate-800",children:r.shippedTime?Wt(r.shippedTime,"MMM d, yyyy h:mm a"):"N/A"})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-slate-800 mb-3",children:"Order Items"}),f.jsx("div",{className:"bg-slate-50 rounded-lg border border-slate-200 overflow-hidden",children:f.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[f.jsx("thead",{className:"bg-slate-100",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Product"}),f.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Quantity"}),f.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Unit Price"}),f.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Total"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:r.items.map(n=>f.jsxs("tr",{children:[f.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-800",children:n.productName}),f.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-800 text-right",children:n.quantity}),f.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-800 text-right",children:["$",n.unitPrice.toFixed(2)]}),f.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-slate-900 text-right",children:["$",n.totalPrice.toFixed(2)]})]},n.id))}),f.jsx("tfoot",{className:"bg-slate-50",children:f.jsxs("tr",{children:[f.jsx("td",{colSpan:3,className:"px-4 py-3 text-sm font-medium text-slate-700 text-right",children:"Total"}),f.jsxs("td",{className:"px-4 py-3 text-sm font-bold text-slate-900 text-right",children:["$",r.totalAmount.toFixed(2)]})]})})]})})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Shipping Address"}),f.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200",children:[f.jsx("p",{className:"text-sm text-slate-800",children:r.shippingAddress.street}),f.jsxs("p",{className:"text-sm text-slate-800",children:[r.shippingAddress.city,", ",r.shippingAddress.state," ",r.shippingAddress.zipCode]}),f.jsx("p",{className:"text-sm text-slate-800",children:r.shippingAddress.country})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Billing Address"}),f.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200",children:[f.jsx("p",{className:"text-sm text-slate-800",children:r.billingAddress.street}),f.jsxs("p",{className:"text-sm text-slate-800",children:[r.billingAddress.city,", ",r.billingAddress.state," ",r.billingAddress.zipCode]}),f.jsx("p",{className:"text-sm text-slate-800",children:r.billingAddress.country})]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Payment Method"}),f.jsx("p",{className:"text-slate-700",children:r.paymentMethod})]}),r.notes&&f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Notes"}),f.jsx("p",{className:"text-slate-700",children:r.notes})]})]})]})}):null,Cw=[{id:"stock1",name:"Wireless Earbuds",quantity:150,price:89.99,supplier:"Tech Supplies Inc.",lastUpdated:new Date,locationCode:"A1",shelfNumber:3},{id:"stock2",name:"Premium T-Shirt",quantity:300,price:24.99,supplier:"Fashion Forward",lastUpdated:Lr(new Date,2),locationCode:"A2",shelfNumber:1},{id:"stock3",name:"Office Chair",quantity:45,price:149.99,supplier:"Office Comfort LLC",lastUpdated:Lr(new Date,5),locationCode:"B1",shelfNumber:2},{id:"stock4",name:"Smartphone Case",quantity:200,price:19.99,supplier:"Tech Accessories Co.",lastUpdated:Lr(new Date,1),locationCode:"B2",shelfNumber:4},{id:"stock5",name:"Protein Bars",quantity:500,price:2.99,supplier:"Nutrition Wholesale",lastUpdated:Lr(new Date,3),locationCode:"C1",shelfNumber:2},{id:"stock6",name:"Laptop Backpack",quantity:75,price:59.99,supplier:"Travel Gear Ltd.",lastUpdated:Lr(new Date,7),locationCode:"C2",shelfNumber:3},{id:"stock7",name:"Wireless Mouse",quantity:120,price:29.99,supplier:"Tech Supplies Inc.",lastUpdated:Lr(new Date,4),locationCode:"D1",shelfNumber:2},{id:"stock8",name:"Denim Jeans",quantity:180,price:49.99,supplier:"Fashion Forward",lastUpdated:Lr(new Date,6),locationCode:"D2",shelfNumber:4}],X$e=[{id:"order1",orderNumber:"ORD-2025-001",customerName:"Jane Smith",items:[{id:"item1",productId:"stock1",productName:"Wireless Earbuds",quantity:2,unitPrice:89.99,totalPrice:179.98},{id:"item2",productId:"stock4",productName:"Smartphone Case",quantity:1,unitPrice:19.99,totalPrice:19.99}],status:"pending",createdAt:Lr(new Date,1),updatedAt:Lr(new Date,1),shippingAddress:{street:"123 Main St",city:"Boston",state:"MA",zipCode:"02108",country:"USA"},billingAddress:{street:"123 Main St",city:"Boston",state:"MA",zipCode:"02108",country:"USA"},paymentMethod:"Credit Card",totalAmount:199.97},{id:"order2",orderNumber:"ORD-2025-002",customerName:"John Doe",items:[{id:"item3",productId:"stock3",productName:"Office Chair",quantity:1,unitPrice:149.99,totalPrice:149.99}],status:"processing",createdAt:Lr(new Date,2),updatedAt:Lr(new Date,1),shippingAddress:{street:"456 Park Ave",city:"New York",state:"NY",zipCode:"10022",country:"USA"},billingAddress:{street:"456 Park Ave",city:"New York",state:"NY",zipCode:"10022",country:"USA"},paymentMethod:"PayPal",totalAmount:149.99},{id:"order3",orderNumber:"ORD-2025-003",customerName:"Bob Johnson",items:[{id:"item4",productId:"stock2",productName:"Premium T-Shirt",quantity:3,unitPrice:24.99,totalPrice:74.97},{id:"item5",productId:"stock8",productName:"Denim Jeans",quantity:2,unitPrice:49.99,totalPrice:99.98}],status:"shipped",createdAt:Lr(new Date,5),updatedAt:Lr(new Date,3),shippingAddress:{street:"789 Oak Dr",city:"Chicago",state:"IL",zipCode:"60601",country:"USA"},billingAddress:{street:"789 Oak Dr",city:"Chicago",state:"IL",zipCode:"60601",country:"USA"},paymentMethod:"Credit Card",totalAmount:174.95},{id:"order4",orderNumber:"ORD-2025-004",customerName:"Alice Williams",items:[{id:"item6",productId:"stock5",productName:"Protein Bars",quantity:10,unitPrice:2.99,totalPrice:29.9}],status:"delivered",createdAt:Lr(new Date,10),updatedAt:Lr(new Date,7),shippingAddress:{street:"101 Pine St",city:"San Francisco",state:"CA",zipCode:"94111",country:"USA"},billingAddress:{street:"101 Pine St",city:"San Francisco",state:"CA",zipCode:"94111",country:"USA"},paymentMethod:"Credit Card",totalAmount:29.9},{id:"order5",orderNumber:"ORD-2025-005",customerName:"Thomas Clark",items:[{id:"item7",productId:"stock7",productName:"Wireless Mouse",quantity:1,unitPrice:29.99,totalPrice:29.99},{id:"item8",productId:"stock6",productName:"Laptop Backpack",quantity:1,unitPrice:59.99,totalPrice:59.99}],status:"delivered",createdAt:Lr(new Date,15),updatedAt:Lr(new Date,12),shippingAddress:{street:"202 Maple Rd",city:"Austin",state:"TX",zipCode:"78701",country:"USA"},billingAddress:{street:"202 Maple Rd",city:"Austin",state:"TX",zipCode:"78701",country:"USA"},paymentMethod:"PayPal",totalAmount:89.98}];X$e.filter(e=>e.status==="delivered"||e.status==="cancelled");Array.from({length:30},(e,t)=>{const r=Math.floor(Math.random()*6e3)+2e3;return{date:Wt(Lr(new Date,29-t),"MMM dd"),amount:r}});Lr(new Date,1),Lr(new Date,1),Lr(new Date,3),Lr(new Date,4),Lr(new Date,5);const Q$e=[{value:"pending",label:"Pending"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"},{value:"returned",label:"Returned"}],J$e=[{value:"Credit Card",label:"Credit Card"},{value:"Cash",label:"Cash"}],SA={productId:"",productName:"",quantity:1,unitPrice:0,totalPrice:0},dR={street:"",city:"",state:"",zipCode:"",country:""};function Z$e(){const e=new Date,t=i=>i.toString().padStart(2,"0"),r=`${e.getFullYear()}${t(e.getMonth()+1)}${t(e.getDate())}`,n=`${t(e.getHours())}${t(e.getMinutes())}${t(e.getSeconds())}`,a=Math.floor(Math.random()*1e4).toString().padStart(4,"0");return`ORD-${r}-${n}-${a}`}const e9e=e=>typeof e=="object"&&e!==null&&!Array.isArray(e)&&"street"in e&&"city"in e&&"state"in e&&"zipCode"in e&&"country"in e,hR=e=>e9e(e)?e:{street:"",city:"",state:"",zipCode:"",country:""},t9e=({isOpen:e,onClose:t,onAdd:r,isLoading:n})=>{const[a,i]=F.useState(""),[s,o]=F.useState(""),[l,c]=F.useState("pending"),[u,d]=F.useState(""),[h,p]=F.useState([{...SA}]),[g,m]=F.useState({...dR}),[v,y]=F.useState({...dR}),[w,b]=F.useState("Credit Card"),[D,P]=F.useState(""),[O,T]=F.useState([]),[S,_]=F.useState(!1);F.useEffect(()=>{e&&(i(Z$e()),d(Wt(new Date,"yyyy-MM-dd")),p([{...SA}]),c("pending"))},[e]),F.useEffect(()=>{e&&(async()=>{_(!0);try{const z=ir(vt(Xe,"inventory"),ja("name")),V=(await sr(z)).docs.map(H=>({id:H.id,...H.data()}));T(V.length>0?V:Cw)}catch{T(Cw)}finally{_(!1)}})()},[e]);const j=(G,z,X)=>{p(V=>V.map((H,re)=>{if(re!==G)return H;if(z==="productName"){const ee=O.find(I=>I.name===X);return ee?{...H,productId:ee.id,productName:ee.name,unitPrice:ee.price,quantity:1,totalPrice:ee.price*1}:H}if(z==="quantity"){const ee=Number(X);return{...H,quantity:ee,totalPrice:H.unitPrice*ee}}return{...H,[z]:X}}))},N=()=>{p([...h,{...SA}])},E=G=>{p(z=>z.filter((X,V)=>V!==G))},k=(G,z,X)=>{G==="shipping"?m(V=>({...hR(V),[z]:X})):y(V=>({...hR(V),[z]:X}))},U=G=>{if(G.preventDefault(),h.some(V=>!V.productId||!V.productName)){alert("Please select a product for each order item.");return}const z=new Date,X={orderNumber:a,customerName:s,status:l,createdAt:u?new Date(u):z,updatedAt:z,items:h.map((V,H)=>({...V,id:`item${H+1}`})),shippingAddress:g,billingAddress:v,paymentMethod:w,totalAmount:h.reduce((V,H)=>V+(H.totalPrice||0),0)};D&&(X.notes=D),r(X),t()};return f.jsx(on,{isOpen:e,onClose:t,title:"Add New Order",size:"xl",children:f.jsxs("form",{onSubmit:U,className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(kt,{label:"Order Number",value:a,readOnly:!0,required:!0,fullWidth:!0}),f.jsx(kt,{label:"Customer Name",value:s,onChange:G=>o(G.target.value),required:!0,fullWidth:!0})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(Qr,{label:"Status",value:l,onChange:G=>c(G.target.value),options:Q$e,required:!0,fullWidth:!0,disabled:!0}),f.jsx(Qr,{label:"Payment Method",value:w,onChange:G=>b(G.target.value),options:J$e,required:!0,fullWidth:!0})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:f.jsx(kt,{label:"Order Date",type:"date",value:u,onChange:G=>d(G.target.value),required:!0,fullWidth:!0})}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Order Items"}),h.map((G,z)=>f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-2 mb-2 items-end",children:[f.jsx(Qr,{label:"Product Name",value:G.productName,onChange:X=>j(z,"productName",X.target.value),options:[{value:"",label:"Select product..."},...O.map(X=>({value:X.name,label:X.name}))],required:!0,fullWidth:!0,disabled:S}),f.jsx(kt,{label:"Quantity",type:"number",value:G.quantity,onChange:X=>j(z,"quantity",Number(X.target.value)),min:1,required:!0,fullWidth:!0,disabled:!G.productName}),f.jsx(kt,{label:"Unit Price",type:"number",value:G.unitPrice,disabled:!0,fullWidth:!0}),f.jsx(kt,{label:"Total Price",type:"number",value:G.totalPrice,disabled:!0,fullWidth:!0}),f.jsx(tt,{type:"button",variant:"danger",size:"sm",icon:f.jsx(ki,{size:16}),onClick:()=>E(z),children:"Remove"})]},z)),f.jsx(tt,{type:"button",variant:"primary",icon:f.jsx(mi,{size:16}),onClick:N,disabled:S,children:"Add Item"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Shipping Address"}),f.jsx(kt,{label:"Street",value:g.street,onChange:G=>k("shipping","street",G.target.value),required:!0,fullWidth:!0}),f.jsx(kt,{label:"City",value:g.city,onChange:G=>k("shipping","city",G.target.value),required:!0,fullWidth:!0}),f.jsx(kt,{label:"State",value:g.state,onChange:G=>k("shipping","state",G.target.value),required:!0,fullWidth:!0}),f.jsx(kt,{label:"Zip Code",value:g.zipCode,onChange:G=>k("shipping","zipCode",G.target.value),required:!0,fullWidth:!0}),f.jsx(kt,{label:"Country",value:g.country,onChange:G=>k("shipping","country",G.target.value),required:!0,fullWidth:!0})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Billing Address"}),f.jsx(kt,{label:"Street",value:v.street,onChange:G=>k("billing","street",G.target.value),required:!0,fullWidth:!0}),f.jsx(kt,{label:"City",value:v.city,onChange:G=>k("billing","city",G.target.value),required:!0,fullWidth:!0}),f.jsx(kt,{label:"State",value:v.state,onChange:G=>k("billing","state",G.target.value),required:!0,fullWidth:!0}),f.jsx(kt,{label:"Zip Code",value:v.zipCode,onChange:G=>k("billing","zipCode",G.target.value),required:!0,fullWidth:!0}),f.jsx(kt,{label:"Country",value:v.country,onChange:G=>k("billing","country",G.target.value),required:!0,fullWidth:!0})]})]}),f.jsx(kt,{label:"Notes (optional)",value:D,onChange:G=>P(G.target.value),fullWidth:!0}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx(tt,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),f.jsx(tt,{type:"submit",isLoading:n,variant:"primary",children:"Add Order"})]})]})})},r9e=[{value:"pending",label:"Pending"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"},{value:"returned",label:"Returned"}],n9e=[{value:"Credit Card",label:"Credit Card"},{value:"Cash",label:"Cash"}],pR={productId:"",productName:"",quantity:1,unitPrice:0,totalPrice:0},mR={street:"",city:"",state:"",zipCode:"",country:""},a9e=({isOpen:e,onClose:t,onEdit:r,isLoading:n,order:a})=>{const[i,s]=F.useState(""),[o,l]=F.useState(""),[c,u]=F.useState("pending"),[d,h]=F.useState(""),[p,g]=F.useState(""),[m,v]=F.useState([{...pR}]),[y,w]=F.useState({...mR}),[b,D]=F.useState({...mR}),[P,O]=F.useState("Credit Card"),[T,S]=F.useState(""),[_,j]=F.useState([]),[N,E]=F.useState(!1);F.useEffect(()=>{e&&a&&(s(a.orderNumber),l(a.customerName),u(a.status),h(Wt(a.createdAt,"yyyy-MM-dd")),v(a.items.map(re=>({...re}))),w(a.shippingAddress),D(a.billingAddress),O(a.paymentMethod),S(a.notes||""),a.status==="shipped"&&a.shippedTime?g(Wt(a.shippedTime,"yyyy-MM-dd'T'HH:mm")):g(""))},[e,a]),F.useEffect(()=>{e&&(async()=>{E(!0);try{const ee=ir(vt(Xe,"inventory"),ja("name")),M=(await sr(ee)).docs.map(q=>({id:q.id,...q.data()}));j(M.length>0?M:Cw)}catch{j(Cw)}finally{E(!1)}})()},[e]);const k=(re,ee,I)=>{v(M=>M.map((q,K)=>{if(K!==re)return q;if(ee==="productName"){const J=_.find(se=>se.name===I);return J?{...q,productId:J.id,productName:J.name,unitPrice:J.price,quantity:1,totalPrice:J.price*1}:q}if(ee==="quantity"){const J=Number(I);return{...q,quantity:J,totalPrice:q.unitPrice*J}}return{...q,[ee]:I}}))},U=()=>{v([...m,{...pR}])},G=re=>{v(ee=>ee.filter((I,M)=>M!==re))},z=(re,ee,I)=>{re==="shipping"?w(M=>({...H(M),[ee]:I})):D(M=>({...H(M),[ee]:I}))},X=re=>{if(re.preventDefault(),m.some(M=>!M.productId||!M.productName)){alert("Please select a product for each order item.");return}const ee={orderNumber:i,customerName:o,status:c,items:m.map((M,q)=>{let K;return typeof M.id=="string"&&M.id?K=M.id:K=`item${q+1}`,{...M,id:K}}),shippingAddress:y,billingAddress:b,paymentMethod:P,totalAmount:m.reduce((M,q)=>M+(q.totalPrice||0),0)};T&&(ee.notes=T),c==="shipped"&&p?ee.shippedTime=bfe(p):a!=null&&a.shippedTime&&c!=="shipped"&&(ee.shippedTime=null);const I={id:(a==null?void 0:a.id)||"",createdAt:(a==null?void 0:a.createdAt)||new Date,updatedAt:new Date,...ee};r(I),t()},V=re=>typeof re=="object"&&re!==null&&!Array.isArray(re)&&"street"in re&&"city"in re&&"state"in re&&"zipCode"in re&&"country"in re,H=re=>V(re)?re:{street:"",city:"",state:"",zipCode:"",country:""};return f.jsx(on,{isOpen:e,onClose:t,title:"Edit Order",size:"xl",children:f.jsxs("form",{onSubmit:X,className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(kt,{label:"Order Number",value:i,readOnly:!0,required:!0,fullWidth:!0}),f.jsx(kt,{label:"Customer Name",value:o,onChange:re=>l(re.target.value),required:!0,fullWidth:!0})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(Qr,{label:"Status",value:c,onChange:re=>u(re.target.value),options:r9e,required:!0,fullWidth:!0}),f.jsx(Qr,{label:"Payment Method",value:P,onChange:re=>O(re.target.value),options:n9e,required:!0,fullWidth:!0})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(kt,{label:"Order Date",type:"date",value:d,onChange:re=>h(re.target.value),required:!0,fullWidth:!0}),c==="shipped"&&f.jsx(kt,{label:"Shipped Time",type:"datetime-local",value:p,onChange:re=>g(re.target.value),required:!0,fullWidth:!0})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Order Items"}),m.map((re,ee)=>f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-2 mb-2 items-end",children:[f.jsx(Qr,{label:"Product Name",value:re.productName,onChange:I=>k(ee,"productName",I.target.value),options:[{value:"",label:"Select product..."},..._.map(I=>({value:I.name,label:I.name}))],required:!0,fullWidth:!0,disabled:N}),f.jsx(kt,{label:"Quantity",type:"number",value:re.quantity,onChange:I=>k(ee,"quantity",Number(I.target.value)),min:1,required:!0,fullWidth:!0,disabled:!re.productName}),f.jsx(kt,{label:"Unit Price",type:"number",value:re.unitPrice,disabled:!0,fullWidth:!0}),f.jsx(kt,{label:"Total Price",type:"number",value:re.totalPrice,disabled:!0,fullWidth:!0}),f.jsx(tt,{type:"button",variant:"danger",size:"sm",icon:f.jsx(ki,{size:16}),onClick:()=>G(ee),children:"Remove"})]},ee)),f.jsx(tt,{type:"button",variant:"primary",icon:f.jsx(mi,{size:16}),onClick:U,disabled:N,children:"Add Item"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Shipping Address"}),f.jsx(kt,{label:"Street",value:y.street,onChange:re=>z("shipping","street",re.target.value),required:!0,fullWidth:!0}),f.jsx(kt,{label:"City",value:y.city,onChange:re=>z("shipping","city",re.target.value),required:!0,fullWidth:!0}),f.jsx(kt,{label:"State",value:y.state,onChange:re=>z("shipping","state",re.target.value),required:!0,fullWidth:!0}),f.jsx(kt,{label:"Zip Code",value:y.zipCode,onChange:re=>z("shipping","zipCode",re.target.value),required:!0,fullWidth:!0}),f.jsx(kt,{label:"Country",value:y.country,onChange:re=>z("shipping","country",re.target.value),required:!0,fullWidth:!0})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Billing Address"}),f.jsx(kt,{label:"Street",value:b.street,onChange:re=>z("billing","street",re.target.value),required:!0,fullWidth:!0}),f.jsx(kt,{label:"City",value:b.city,onChange:re=>z("billing","city",re.target.value),required:!0,fullWidth:!0}),f.jsx(kt,{label:"State",value:b.state,onChange:re=>z("billing","state",re.target.value),required:!0,fullWidth:!0}),f.jsx(kt,{label:"Zip Code",value:b.zipCode,onChange:re=>z("billing","zipCode",re.target.value),required:!0,fullWidth:!0}),f.jsx(kt,{label:"Country",value:b.country,onChange:re=>z("billing","country",re.target.value),required:!0,fullWidth:!0})]})]}),f.jsx(kt,{label:"Notes (optional)",value:T,onChange:re=>S(re.target.value),fullWidth:!0}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx(tt,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),f.jsx(tt,{type:"submit",isLoading:n,variant:"primary",children:"Save Changes"})]})]})})},i9e=()=>{const[e,t]=F.useState(""),[r,n]=F.useState("all"),[a,i]=F.useState("date"),[s,o]=F.useState(null),[l,c]=F.useState("grid"),[u,d]=F.useState(!1),[h,p]=F.useState(!1),[g,m]=F.useState([]),[v,y]=F.useState(null),[w,b]=F.useState(!1),{showToast:D}=mc(),{user:P}=ba(),{isDarkMode:O}=Zr(),T=async()=>{p(!0);try{const V=ir(vt(Xe,"orders"),ja("createdAt","desc")),re=(await sr(V)).docs.map(ee=>{const I=ee.data();return{id:ee.id,orderNumber:I.orderNumber||"",customerName:I.customerName||"",items:I.items||[],status:I.status||"pending",createdAt:I.createdAt instanceof nr?I.createdAt.toDate():new Date(I.createdAt),updatedAt:I.updatedAt instanceof nr?I.updatedAt.toDate():new Date(I.updatedAt),shippingAddress:I.shippingAddress||{},billingAddress:I.billingAddress||{},paymentMethod:I.paymentMethod||"",totalAmount:I.totalAmount||0,notes:I.notes||"",shippedTime:I.shippedTime instanceof nr?I.shippedTime.toDate():I.shippedTime?new Date(I.shippedTime):void 0}});m(re)}catch(V){console.error("Error fetching orders:",V),D("Failed to fetch orders","error")}finally{p(!1)}};F.useEffect(()=>{T()},[]);const S=g.filter(V=>{const H=V.orderNumber.toLowerCase().includes(e.toLowerCase())||V.customerName.toLowerCase().includes(e.toLowerCase()),re=r==="all"||V.status===r;return H&&re}).sort((V,H)=>a==="date"?new Date(H.createdAt).getTime()-new Date(V.createdAt).getTime():a==="amount"?H.totalAmount-V.totalAmount:0),_=V=>{o(V)},j=[{value:"all",label:"All Statuses"},{value:"pending",label:"Pending"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"},{value:"returned",label:"Returned"}],N=[{value:"date",label:"Date (Newest First)"},{value:"amount",label:"Amount (Highest First)"}],E=async V=>{p(!0);try{await hr(vt(Xe,"orders"),{...V,createdAt:Uc(),updatedAt:Uc()}),await hr(vt(Xe,"activityLogs"),{user:P==null?void 0:P.name,role:P==null?void 0:P.role,detail:`created new order #${V.orderNumber} for '${V.customerName}' with ${V.items.length} items (${V.items.map(H=>`${H.quantity} ${H.productName}`).join(", ")}) - Total: $${V.totalAmount.toFixed(2)}`,time:new Date().toISOString()}),V.status==="shipped"&&await $x(V.items,!0),await T(),d(!1),D("Order added successfully!","success")}catch(H){console.error("Error in handleAddOrder:",H),alert("Error adding order: "+((H==null?void 0:H.message)||H))}finally{p(!1)}},k=async V=>{p(!0);try{const H=ur(Xe,"orders",V.id),ee=(await sc(H)).data(),I={status:V.status,updatedAt:Uc()},M=[];if((ee==null?void 0:ee.status)!==V.status&&M.push(`status from "${ee==null?void 0:ee.status}" to "${V.status}"`),(ee==null?void 0:ee.customerName)!==V.customerName&&M.push(`customer from "${ee==null?void 0:ee.customerName}" to "${V.customerName}"`),JSON.stringify(ee==null?void 0:ee.items)!==JSON.stringify(V.items)){const K=[];V.items.forEach(J=>{const se=ee==null?void 0:ee.items.find(he=>he.id===J.id);se?se.quantity!==J.quantity&&K.push(`changed ${J.productName} quantity from ${se.quantity} to ${J.quantity}`):K.push(`added ${J.quantity} ${J.productName}`)}),ee==null||ee.items.forEach(J=>{V.items.find(se=>se.id===J.id)||K.push(`removed ${J.quantity} ${J.productName}`)}),K.length>0&&M.push(`items: ${K.join(", ")}`)}(ee==null?void 0:ee.totalAmount)!==V.totalAmount&&M.push(`total amount from $${ee==null?void 0:ee.totalAmount.toFixed(2)} to $${V.totalAmount.toFixed(2)}`),V.status==="shipped"&&(ee==null?void 0:ee.status)!=="shipped"?(await $x(V.items,!0),V.shippedTime?I.shippedTime=nr.fromDate(V.shippedTime):I.shippedTime=Uc()):(ee==null?void 0:ee.status)==="shipped"&&V.status!=="shipped"?(await $x(V.items,!1),I.shippedTime=BO()):(V.status==="cancelled"||V.status==="returned")&&(ee==null?void 0:ee.status)!=="cancelled"&&(ee==null?void 0:ee.status)!=="returned"?(await $x(V.items,!1),I.shippedTime=BO()):ee!=null&&ee.shippedTime&&(I.shippedTime=nr.fromDate(ee.shippedTime));const{...q}=V;Object.assign(I,q),await On(H,I),M.length>0&&await hr(vt(Xe,"activityLogs"),{user:P==null?void 0:P.name,role:P==null?void 0:P.role,detail:`edited order #${V.orderNumber}: ${M.join("; ")}`,time:new Date().toISOString()}),await T(),y(null),D("Order updated successfully!","success")}catch(H){console.error("Error updating order:",H),D("Failed to update order","error")}finally{p(!1)}},U=()=>{y(null)},G=async V=>{p(!0);try{const H=ur(Xe,"orders",V),ee=(await sc(H)).data();ee&&(await hr(vt(Xe,"activityLogs"),{user:P==null?void 0:P.name,role:P==null?void 0:P.role,detail:`deleted order #${ee.orderNumber} for '${ee.customerName}' with ${ee.items.length} items (${ee.items.map(I=>`${I.quantity} ${I.productName}`).join(", ")}) - Total: $${ee.totalAmount.toFixed(2)}`,time:new Date().toISOString()}),await xs(H),await T(),b(!1),o(null),D("Order deleted successfully!","success"))}catch(H){console.error("Error deleting order:",H),D("Failed to delete order","error")}finally{p(!1)}},z=(V,H)=>{V.stopPropagation(),o(H),b(!0)},X=(V,H)=>{V.stopPropagation(),y(H)};return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("h1",{className:`text-2xl font-bold ${O?"text-white":"text-slate-800"}`,children:"Current Orders"}),f.jsx("p",{className:`${O?"text-slate-400":"text-slate-500"} mt-1`,children:"Track and manage your active orders"})]}),f.jsx(tt,{onClick:()=>d(!0),className:"flex items-center gap-2",children:f.jsx("span",{className:"hidden sm:inline",children:"Add New Order"})})]}),f.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[f.jsx("div",{className:"md:flex-1",children:f.jsx(kt,{placeholder:"Search by order number or customer...",value:e,onChange:V=>t(V.target.value),icon:f.jsx(Ol,{size:18}),fullWidth:!0})}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsx(Qr,{options:j,value:r,onChange:V=>n(V.target.value)}),f.jsx(Qr,{options:N,value:a,onChange:V=>i(V.target.value)})]})]}),f.jsx("div",{className:"flex justify-end mb-4",children:f.jsxs("div",{className:"relative inline-block",children:[f.jsxs("button",{className:`px-4 py-2 text-sm font-medium rounded-l-md focus:outline-none transition-colors 
              ${l==="grid"?"bg-blue-600 text-white shadow-sm":O?"bg-slate-800 text-slate-300 hover:bg-slate-700 border border-slate-700":"bg-white text-slate-700 hover:bg-slate-50 border border-slate-300"}`,onClick:()=>c("grid"),children:[f.jsx(BZ,{size:18,className:"inline mr-1"})," Grid"]}),f.jsxs("button",{className:`px-4 py-2 text-sm font-medium rounded-r-md focus:outline-none transition-colors 
              ${l==="table"?"bg-blue-600 text-white shadow-sm":O?"bg-slate-800 text-slate-300 hover:bg-slate-700 border border-slate-700":"bg-white text-slate-700 hover:bg-slate-50 border border-slate-300"}`,onClick:()=>c("table"),children:[f.jsx(GZ,{size:18,className:"inline mr-1"})," Table"]})]})}),h?f.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[f.jsx(es,{className:`w-8 h-8 ${O?"text-blue-400":"text-blue-500"} animate-spin`}),f.jsx("p",{className:`mt-2 ${O?"text-slate-400":"text-slate-600"}`,children:"Loading orders..."})]}):l==="grid"?S.length>0?f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:S.map(V=>f.jsx("div",{className:"flex flex-col",children:f.jsx(K$e,{order:V,onClick:()=>_(V),editButton:f.jsx("button",{onClick:H=>X(H,V),className:`p-2 ${O?"hover:bg-slate-700":"hover:bg-slate-100"} rounded-full transition-colors`,children:f.jsx(bs,{className:`w-4 h-4 ${O?"text-blue-400":"text-blue-500"}`})})})},V.id))}):f.jsx("div",{className:`text-center py-12 ${O?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:f.jsx("p",{className:`${O?"text-slate-400":"text-slate-500"}`,children:"No orders found. Try adjusting your filters."})}):S.length>0?f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:`min-w-full divide-y ${O?"divide-slate-700 bg-slate-800 border-slate-700":"divide-slate-200 bg-white border-slate-200"} rounded-lg border`,children:[f.jsx("thead",{className:O?"bg-slate-900":"bg-slate-100",children:f.jsxs("tr",{children:[f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${O?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Order #"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${O?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Customer"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${O?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Status"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${O?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Date"}),f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${O?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Total"}),f.jsx("th",{className:`px-4 py-3 text-center text-xs font-medium ${O?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),f.jsx("tbody",{className:`${O?"divide-slate-700":"divide-slate-200"}`,children:S.map(V=>f.jsxs("tr",{className:`${O?"hover:bg-slate-700":"hover:bg-slate-50"} cursor-pointer`,onClick:()=>_(V),children:[f.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-blue-400":"text-blue-700"} font-medium`,children:V.orderNumber}),f.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-slate-300":"text-slate-800"}`,children:V.customerName}),f.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-slate-300":"text-slate-800"} capitalize`,children:V.status}),f.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-slate-300":"text-slate-800"}`,children:new Date(V.createdAt).toLocaleDateString()}),f.jsxs("td",{className:`px-4 py-3 text-sm font-bold ${O?"text-slate-200":"text-slate-900"} text-right`,children:["$",V.totalAmount.toFixed(2)]}),f.jsx("td",{className:"px-4 py-3 text-center",children:f.jsxs("div",{className:"flex items-center justify-center gap-2",children:[f.jsx("button",{onClick:H=>{H.stopPropagation(),y(V)},className:`p-1 ${O?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,children:f.jsx(bs,{size:16})}),f.jsx("button",{onClick:H=>z(H,V),className:`p-1 ${O?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,children:f.jsx(ki,{size:16})})]})})]},V.id))})]})}):f.jsx("div",{className:`text-center py-12 ${O?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:f.jsx("p",{className:`${O?"text-slate-400":"text-slate-500"}`,children:"No orders found. Try adjusting your filters."})}),s&&f.jsx(Y$e,{isOpen:!!s,onClose:()=>o(null),order:s}),f.jsx(t9e,{isOpen:u,onClose:()=>d(!1),onAdd:E,isLoading:h}),f.jsx(a9e,{isOpen:!!v,onClose:U,onEdit:k,isLoading:h,order:v}),s&&f.jsx(gh,{isOpen:w,onClose:()=>{b(!1),o(null)},onConfirm:()=>G(s.id),title:"Delete Order",message:`Are you sure you want to delete order "${s.orderNumber}"? This action cannot be undone.`,isLoading:h})]})},$x=async(e,t)=>{const r=Yae(Xe),n=[];for(const a of e){const i=ur(Xe,"inventory",a.productId),s=await sc(i);if(s.exists()){const o=s.data().quantity,l=t?o-a.quantity:o+a.quantity;r.update(i,{quantity:l}),n.push({productName:a.productName,quantity:a.quantity,action:t?"deducted":"restored"})}}if(await r.commit(),n.length>0){const a=t?"deducted from":"restored to",i=n.map(s=>`${s.quantity} units of "${s.productName}"`).join(", ");await hr(vt(Xe,"activityLogs"),{user:user==null?void 0:user.name,role:user==null?void 0:user.role,detail:`${a} inventory: ${i}`,time:new Date().toISOString()})}},s9e="modulepreload",o9e=function(e){return"/"+e},gR={},uN=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=o9e(l),l in gR)return;gR[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":s9e,c||(d.as="script"),d.crossOrigin="",d.href=l,o&&d.setAttribute("nonce",o),document.head.appendChild(d),c)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return a.then(s=>{for(const o of s||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})};var rs=Uint8Array,uo=Uint16Array,CP=Int32Array,m_=new rs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),g_=new rs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),fN=new rs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),PK=function(e,t){for(var r=new uo(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new CP(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},jK=PK(m_,2),OK=jK.b,dN=jK.r;OK[28]=258,dN[258]=28;var IK=PK(g_,0),l9e=IK.b,vR=IK.r,hN=new uo(32768);for(var Qn=0;Qn<32768;++Qn){var ef=(Qn&43690)>>1|(Qn&21845)<<1;ef=(ef&52428)>>2|(ef&13107)<<2,ef=(ef&61680)>>4|(ef&3855)<<4,hN[Qn]=((ef&65280)>>8|(ef&255)<<8)>>1}var fc=function(e,t,r){for(var n=e.length,a=0,i=new uo(t);a<n;++a)e[a]&&++i[e[a]-1];var s=new uo(t);for(a=1;a<t;++a)s[a]=s[a-1]+i[a-1]<<1;var o;if(r){o=new uo(1<<t);var l=15-t;for(a=0;a<n;++a)if(e[a])for(var c=a<<4|e[a],u=t-e[a],d=s[e[a]-1]++<<u,h=d|(1<<u)-1;d<=h;++d)o[hN[d]>>l]=c}else for(o=new uo(n),a=0;a<n;++a)e[a]&&(o[a]=hN[s[e[a]-1]++]>>15-e[a]);return o},Qf=new rs(288);for(var Qn=0;Qn<144;++Qn)Qf[Qn]=8;for(var Qn=144;Qn<256;++Qn)Qf[Qn]=9;for(var Qn=256;Qn<280;++Qn)Qf[Qn]=7;for(var Qn=280;Qn<288;++Qn)Qf[Qn]=8;var L1=new rs(32);for(var Qn=0;Qn<32;++Qn)L1[Qn]=5;var c9e=fc(Qf,9,0),u9e=fc(Qf,9,1),f9e=fc(L1,5,0),d9e=fc(L1,5,1),AA=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},fl=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},TA=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},PP=function(e){return(e+7)/8|0},DK=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new rs(e.subarray(t,r))},h9e=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ml=function(e,t,r){var n=new Error(t||h9e[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,ml),!r)throw n;return n},p9e=function(e,t,r,n){var a=e.length,i=0;if(!a||t.f&&!t.l)return r||new rs(0);var s=!r,o=s||t.i!=2,l=t.i;s&&(r=new rs(a*3));var c=function(xe){var W=r.length;if(xe>W){var Pe=new rs(Math.max(W*2,xe));Pe.set(r),r=Pe}},u=t.f||0,d=t.p||0,h=t.b||0,p=t.l,g=t.d,m=t.m,v=t.n,y=a*8;do{if(!p){u=fl(e,d,1);var w=fl(e,d+1,3);if(d+=3,w)if(w==1)p=u9e,g=d9e,m=9,v=5;else if(w==2){var O=fl(e,d,31)+257,T=fl(e,d+10,15)+4,S=O+fl(e,d+5,31)+1;d+=14;for(var _=new rs(S),j=new rs(19),N=0;N<T;++N)j[fN[N]]=fl(e,d+N*3,7);d+=T*3;for(var E=AA(j),k=(1<<E)-1,U=fc(j,E,1),N=0;N<S;){var G=U[fl(e,d,k)];d+=G&15;var b=G>>4;if(b<16)_[N++]=b;else{var z=0,X=0;for(b==16?(X=3+fl(e,d,3),d+=2,z=_[N-1]):b==17?(X=3+fl(e,d,7),d+=3):b==18&&(X=11+fl(e,d,127),d+=7);X--;)_[N++]=z}}var V=_.subarray(0,O),H=_.subarray(O);m=AA(V),v=AA(H),p=fc(V,m,1),g=fc(H,v,1)}else ml(1);else{var b=PP(d)+4,D=e[b-4]|e[b-3]<<8,P=b+D;if(P>a){l&&ml(0);break}o&&c(h+D),r.set(e.subarray(b,P),h),t.b=h+=D,t.p=d=P*8,t.f=u;continue}if(d>y){l&&ml(0);break}}o&&c(h+131072);for(var re=(1<<m)-1,ee=(1<<v)-1,I=d;;I=d){var z=p[TA(e,d)&re],M=z>>4;if(d+=z&15,d>y){l&&ml(0);break}if(z||ml(2),M<256)r[h++]=M;else if(M==256){I=d,p=null;break}else{var q=M-254;if(M>264){var N=M-257,K=m_[N];q=fl(e,d,(1<<K)-1)+OK[N],d+=K}var J=g[TA(e,d)&ee],se=J>>4;J||ml(3),d+=J&15;var H=l9e[se];if(se>3){var K=g_[se];H+=TA(e,d)&(1<<K)-1,d+=K}if(d>y){l&&ml(0);break}o&&c(h+131072);var he=h+q;if(h<H){var ie=i-H,ge=Math.min(H,he);for(ie+h<0&&ml(3);h<ge;++h)r[h]=n[ie+h]}for(;h<he;++h)r[h]=r[h-H]}}t.l=p,t.p=I,t.b=h,t.f=u,p&&(u=1,t.m=m,t.d=g,t.n=v)}while(!u);return h!=r.length&&s?DK(r,0,h):r.subarray(0,h)},Fc=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},lg=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},NA=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:MK,l:0};if(a==1){var s=new rs(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(P,O){return P.f-O.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],c=0,u=1,d=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=a-1;)o=r[r[c].f<r[d].f?c++:d++],l=r[c!=u&&r[c].f<r[d].f?c++:d++],r[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var h=i[0].s,n=1;n<a;++n)i[n].s>h&&(h=i[n].s);var p=new uo(h+1),g=pN(r[u-1],p,0);if(g>t){var n=0,m=0,v=g-t,y=1<<v;for(i.sort(function(O,T){return p[T.s]-p[O.s]||O.f-T.f});n<a;++n){var w=i[n].s;if(p[w]>t)m+=y-(1<<g-p[w]),p[w]=t;else break}for(m>>=v;m>0;){var b=i[n].s;p[b]<t?m-=1<<t-p[b]++-1:++n}for(;n>=0&&m;--n){var D=i[n].s;p[D]==t&&(--p[D],++m)}g=t}return{t:new rs(p),l:g}},pN=function(e,t,r){return e.s==-1?Math.max(pN(e.l,t,r+1),pN(e.r,t,r+1)):t[e.s]=r},yR=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new uo(++t),n=0,a=e[0],i=1,s=function(l){r[n++]=l},o=1;o<=t;++o)if(e[o]==a&&o!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(a),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(a);i=1,a=e[o]}return{c:r.subarray(0,n),n:t}},cg=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},LK=function(e,t,r){var n=r.length,a=PP(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},xR=function(e,t,r,n,a,i,s,o,l,c,u){Fc(t,u++,r),++a[256];for(var d=NA(a,15),h=d.t,p=d.l,g=NA(i,15),m=g.t,v=g.l,y=yR(h),w=y.c,b=y.n,D=yR(m),P=D.c,O=D.n,T=new uo(19),S=0;S<w.length;++S)++T[w[S]&31];for(var S=0;S<P.length;++S)++T[P[S]&31];for(var _=NA(T,7),j=_.t,N=_.l,E=19;E>4&&!j[fN[E-1]];--E);var k=c+5<<3,U=cg(a,Qf)+cg(i,L1)+s,G=cg(a,h)+cg(i,m)+s+14+3*E+cg(T,j)+2*T[16]+3*T[17]+7*T[18];if(l>=0&&k<=U&&k<=G)return LK(t,u,e.subarray(l,l+c));var z,X,V,H;if(Fc(t,u,1+(G<U)),u+=2,G<U){z=fc(h,p,0),X=h,V=fc(m,v,0),H=m;var re=fc(j,N,0);Fc(t,u,b-257),Fc(t,u+5,O-1),Fc(t,u+10,E-4),u+=14;for(var S=0;S<E;++S)Fc(t,u+3*S,j[fN[S]]);u+=3*E;for(var ee=[w,P],I=0;I<2;++I)for(var M=ee[I],S=0;S<M.length;++S){var q=M[S]&31;Fc(t,u,re[q]),u+=j[q],q>15&&(Fc(t,u,M[S]>>5&127),u+=M[S]>>12)}}else z=c9e,X=Qf,V=f9e,H=L1;for(var S=0;S<o;++S){var K=n[S];if(K>255){var q=K>>18&31;lg(t,u,z[q+257]),u+=X[q+257],q>7&&(Fc(t,u,K>>23&31),u+=m_[q]);var J=K&31;lg(t,u,V[J]),u+=H[J],J>3&&(lg(t,u,K>>5&8191),u+=g_[J])}else lg(t,u,z[K]),u+=X[K]}return lg(t,u,z[256]),u+X[256]},m9e=new CP([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),MK=new rs(0),g9e=function(e,t,r,n,a,i){var s=i.z||e.length,o=new rs(n+s+5*(1+Math.ceil(s/7e3))+a),l=o.subarray(n,o.length-a),c=i.l,u=(i.r||0)&7;if(t){u&&(l[0]=i.r>>3);for(var d=m9e[t-1],h=d>>13,p=d&8191,g=(1<<r)-1,m=i.p||new uo(32768),v=i.h||new uo(g+1),y=Math.ceil(r/3),w=2*y,b=function(Ce){return(e[Ce]^e[Ce+1]<<y^e[Ce+2]<<w)&g},D=new CP(25e3),P=new uo(288),O=new uo(32),T=0,S=0,_=i.i||0,j=0,N=i.w||0,E=0;_+2<s;++_){var k=b(_),U=_&32767,G=v[k];if(m[U]=G,v[k]=U,N<=_){var z=s-_;if((T>7e3||j>24576)&&(z>423||!c)){u=xR(e,l,0,D,P,O,S,j,E,_-E,u),j=T=S=0,E=_;for(var X=0;X<286;++X)P[X]=0;for(var X=0;X<30;++X)O[X]=0}var V=2,H=0,re=p,ee=U-G&32767;if(z>2&&k==b(_-ee))for(var I=Math.min(h,z)-1,M=Math.min(32767,_),q=Math.min(258,z);ee<=M&&--re&&U!=G;){if(e[_+V]==e[_+V-ee]){for(var K=0;K<q&&e[_+K]==e[_+K-ee];++K);if(K>V){if(V=K,H=ee,K>I)break;for(var J=Math.min(ee,K-2),se=0,X=0;X<J;++X){var he=_-ee+X&32767,ie=m[he],ge=he-ie&32767;ge>se&&(se=ge,G=he)}}}U=G,G=m[U],ee+=U-G&32767}if(H){D[j++]=268435456|dN[V]<<18|vR[H];var xe=dN[V]&31,W=vR[H]&31;S+=m_[xe]+g_[W],++P[257+xe],++O[W],N=_+V,++T}else D[j++]=e[_],++P[e[_]]}}for(_=Math.max(_,N);_<s;++_)D[j++]=e[_],++P[e[_]];u=xR(e,l,c,D,P,O,S,j,E,_-E,u),c||(i.r=u&7|l[u/8|0]<<3,u-=7,i.h=v,i.p=m,i.i=_,i.w=N)}else{for(var _=i.w||0;_<s+c;_+=65535){var Pe=_+65535;Pe>=s&&(l[u/8|0]=c,Pe=s),u=LK(l,u+1,e.subarray(_,Pe))}i.i=s}return DK(o,0,n+PP(u)+a)},RK=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length|0,s=0;s!=i;){for(var o=Math.min(s+2655,i);s<o;++s)a+=n+=r[s];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},v9e=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),s=new rs(i.length+e.length);s.set(i),s.set(e,i.length),e=s,a.w=i.length}return g9e(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},FK=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},y9e=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=RK();a.p(t.dictionary),FK(e,2,a.d())}},x9e=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&ml(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&ml(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function mN(e,t){t||(t={});var r=RK();r.p(e);var n=v9e(e,t,t.dictionary?6:2,4);return y9e(n,t),FK(n,n.length-4,r.d()),n}function b9e(e,t){return p9e(e.subarray(x9e(e,t),-4),{i:2},t,t)}var w9e=typeof TextDecoder<"u"&&new TextDecoder,_9e=0;try{w9e.decode(MK,{stream:!0}),_9e=1}catch{}var vr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function EA(){vr.console&&typeof vr.console.log=="function"&&vr.console.log.apply(vr.console,arguments)}var Fn={log:EA,warn:function(e){vr.console&&(typeof vr.console.warn=="function"?vr.console.warn.apply(vr.console,arguments):EA.call(null,arguments))},error:function(e){vr.console&&(typeof vr.console.error=="function"?vr.console.error.apply(vr.console,arguments):EA(e))}};function kA(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Id(n.response,t,r)},n.onerror=function(){Fn.error("could not download file")},n.send()}function bR(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Bx(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var iv,gN,Id=vr.saveAs||((typeof window>"u"?"undefined":xn(window))!=="object"||window!==vr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=vr.URL||vr.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?bR(a.href)?kA(e,t,r):Bx(a,a.target="_blank"):Bx(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){Bx(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(bR(e))kA(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){Bx(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:xn(i)!=="object"&&(Fn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return kA(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(vr.HTMLElement)||vr.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||a&&i)&&(typeof FileReader>"u"?"undefined":xn(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=s?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},o.readAsDataURL(e)}else{var l=vr.URL||vr.webkitURL,c=l.createObjectURL(e);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function $K(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,s=a.exec(e);s&&(t=i(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function CA(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=Vi(r,n,a,i,t[0],7,-680876936),i=Vi(i,r,n,a,t[1],12,-389564586),a=Vi(a,i,r,n,t[2],17,606105819),n=Vi(n,a,i,r,t[3],22,-1044525330),r=Vi(r,n,a,i,t[4],7,-176418897),i=Vi(i,r,n,a,t[5],12,1200080426),a=Vi(a,i,r,n,t[6],17,-1473231341),n=Vi(n,a,i,r,t[7],22,-45705983),r=Vi(r,n,a,i,t[8],7,1770035416),i=Vi(i,r,n,a,t[9],12,-1958414417),a=Vi(a,i,r,n,t[10],17,-42063),n=Vi(n,a,i,r,t[11],22,-1990404162),r=Vi(r,n,a,i,t[12],7,1804603682),i=Vi(i,r,n,a,t[13],12,-40341101),a=Vi(a,i,r,n,t[14],17,-1502002290),r=zi(r,n=Vi(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=zi(i,r,n,a,t[6],9,-1069501632),a=zi(a,i,r,n,t[11],14,643717713),n=zi(n,a,i,r,t[0],20,-373897302),r=zi(r,n,a,i,t[5],5,-701558691),i=zi(i,r,n,a,t[10],9,38016083),a=zi(a,i,r,n,t[15],14,-660478335),n=zi(n,a,i,r,t[4],20,-405537848),r=zi(r,n,a,i,t[9],5,568446438),i=zi(i,r,n,a,t[14],9,-1019803690),a=zi(a,i,r,n,t[3],14,-187363961),n=zi(n,a,i,r,t[8],20,1163531501),r=zi(r,n,a,i,t[13],5,-1444681467),i=zi(i,r,n,a,t[2],9,-51403784),a=zi(a,i,r,n,t[7],14,1735328473),r=qi(r,n=zi(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=qi(i,r,n,a,t[8],11,-2022574463),a=qi(a,i,r,n,t[11],16,1839030562),n=qi(n,a,i,r,t[14],23,-35309556),r=qi(r,n,a,i,t[1],4,-1530992060),i=qi(i,r,n,a,t[4],11,1272893353),a=qi(a,i,r,n,t[7],16,-155497632),n=qi(n,a,i,r,t[10],23,-1094730640),r=qi(r,n,a,i,t[13],4,681279174),i=qi(i,r,n,a,t[0],11,-358537222),a=qi(a,i,r,n,t[3],16,-722521979),n=qi(n,a,i,r,t[6],23,76029189),r=qi(r,n,a,i,t[9],4,-640364487),i=qi(i,r,n,a,t[12],11,-421815835),a=qi(a,i,r,n,t[15],16,530742520),r=Wi(r,n=qi(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=Wi(i,r,n,a,t[7],10,1126891415),a=Wi(a,i,r,n,t[14],15,-1416354905),n=Wi(n,a,i,r,t[5],21,-57434055),r=Wi(r,n,a,i,t[12],6,1700485571),i=Wi(i,r,n,a,t[3],10,-1894986606),a=Wi(a,i,r,n,t[10],15,-1051523),n=Wi(n,a,i,r,t[1],21,-2054922799),r=Wi(r,n,a,i,t[8],6,1873313359),i=Wi(i,r,n,a,t[15],10,-30611744),a=Wi(a,i,r,n,t[6],15,-1560198380),n=Wi(n,a,i,r,t[13],21,1309151649),r=Wi(r,n,a,i,t[4],6,-145523070),i=Wi(i,r,n,a,t[11],10,-1120210379),a=Wi(a,i,r,n,t[2],15,718787259),n=Wi(n,a,i,r,t[9],21,-343485551),e[0]=_f(r,e[0]),e[1]=_f(n,e[1]),e[2]=_f(a,e[2]),e[3]=_f(i,e[3])}function v_(e,t,r,n,a,i){return t=_f(_f(t,e),_f(n,i)),_f(t<<a|t>>>32-a,r)}function Vi(e,t,r,n,a,i,s){return v_(t&r|~t&n,e,t,a,i,s)}function zi(e,t,r,n,a,i,s){return v_(t&n|r&~n,e,t,a,i,s)}function qi(e,t,r,n,a,i,s){return v_(t^r^n,e,t,a,i,s)}function Wi(e,t,r,n,a,i,s){return v_(r^(t|~n),e,t,a,i,s)}function BK(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)CA(n,S9e(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(CA(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,CA(n,a),n}function S9e(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}iv=vr.atob.bind(vr),gN=vr.btoa.bind(vr);var wR="0123456789abcdef".split("");function A9e(e){for(var t="",r=0;r<4;r++)t+=wR[e>>8*r+4&15]+wR[e>>8*r&15];return t}function T9e(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function vN(e){return BK(e).map(T9e).join("")}var N9e=function(e){for(var t=0;t<e.length;t++)e[t]=A9e(e[t]);return e.join("")}(BK("hello"))!="5d41402abc4b2a76b9719d911017c592";function _f(e,t){if(N9e){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function yN(e,t){var r,n,a,i;if(e!==r){for(var s=(a=e,i=1+(256/e.length>>0),new Array(i+1).join(a)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+s.charCodeAt(l))%256,o[l]=o[c],o[c]=u}r=e,n=o}else o=n;var d=t.length,h=0,p=0,g="";for(l=0;l<d;l++)p=(p+(u=o[h=(h+1)%256]))%256,o[h]=o[p],o[p]=u,s=o[(o[h]+o[p])%256],g+=String.fromCharCode(t.charCodeAt(l)^s);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var _R={print:4,modify:8,copy:16,"annot-forms":32};function p0(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(o){if(_R.perm!==void 0)throw new Error("Invalid permission: "+o);a+=_R[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,s),this.P=-(1+(255^a)),this.encryptionKey=vN(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=yN(this.encryptionKey,this.padding)}function m0(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[n]}return t}function SR(e){if(xn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var s=t[r][i];try{s[0].apply(e,n)}catch(o){vr.console&&Fn.error("jsPDF PubSub Error",o.message,o)}s[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Pw(e){if(!(this instanceof Pw))return new Pw(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function UK(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Ld(e,t,r,n,a){if(!(this instanceof Ld))return new Ld(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,UK.call(this,n,a)}function R0(e,t,r,n,a){if(!(this instanceof R0))return new R0(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,UK.call(this,n,a)}function gr(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],s=[],o=1,l=16,c="S",u=null;xn(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),s=e.filters||(i===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var d=e.putOnlyUsedFonts||!1,h={},p={internal:{},__private__:{}};p.__private__.PubSub=SR;var g="1.3",m=p.__private__.getPdfVersion=function(){return g};p.__private__.setPdfVersion=function(L){g=L};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return v};var y=p.__private__.getPageFormat=function(L){return v[L]};a=a||"a4";var w={COMPAT:"compat",ADVANCED:"advanced"},b=w.COMPAT;function D(){this.saveGraphicsState(),ce(new zt(ut,0,0,-ut,0,Ri()*ut).toString()+" cm"),this.setFontSize(this.getFontSize()/ut),c="n",b=w.ADVANCED}function P(){this.restoreGraphicsState(),c="S",b=w.COMPAT}var O=p.__private__.combineFontStyleAndFontWeight=function(L,ne){if(L=="bold"&&ne=="normal"||L=="bold"&&ne==400||L=="normal"&&ne=="italic"||L=="bold"&&ne=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ne&&(L=ne==400||ne==="normal"?L==="italic"?"italic":"normal":ne!=700&&ne!=="bold"||L!=="normal"?(ne==700?"bold":ne)+""+L:"bold"),L};p.advancedAPI=function(L){var ne=b===w.COMPAT;return ne&&D.call(this),typeof L!="function"||(L(this),ne&&P.call(this)),this},p.compatAPI=function(L){var ne=b===w.ADVANCED;return ne&&P.call(this),typeof L!="function"||(L(this),ne&&D.call(this)),this},p.isAdvancedAPI=function(){return b===w.ADVANCED};var T,S=function(L){if(b!==w.ADVANCED)throw new Error(L+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},_=p.roundToPrecision=p.__private__.roundToPrecision=function(L,ne){var Ee=t||ne;if(isNaN(L)||isNaN(Ee))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return L.toFixed(Ee).replace(/0+$/,"")};T=p.hpf=p.__private__.hpf=typeof l=="number"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return _(L,l)}:l==="smart"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return _(L,L>-1&&L<1?16:5)}:function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return _(L,16)};var j=p.f2=p.__private__.f2=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f2");return _(L,2)},N=p.__private__.f3=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f3");return _(L,3)},E=p.scale=p.__private__.scale=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.scale");return b===w.COMPAT?L*ut:b===w.ADVANCED?L:void 0},k=function(L){return b===w.COMPAT?Ri()-L:b===w.ADVANCED?L:void 0},U=function(L){return E(k(L))};p.__private__.setPrecision=p.setPrecision=function(L){typeof parseInt(L,10)=="number"&&(t=parseInt(L,10))};var G,z="00000000000000000000000000000000",X=p.__private__.getFileId=function(){return z},V=p.__private__.setFileId=function(L){return z=L!==void 0&&/^[a-fA-F0-9]{32}$/.test(L)?L.toUpperCase():z.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(we=new p0(u.userPermissions,u.userPassword,u.ownerPassword,z)),z};p.setFileId=function(L){return V(L),this},p.getFileId=function(){return X()};var H=p.__private__.convertDateToPDFDate=function(L){var ne=L.getTimezoneOffset(),Ee=ne<0?"+":"-",Oe=Math.floor(Math.abs(ne/60)),qe=Math.abs(ne%60),ct=[Ee,q(Oe),"'",q(qe),"'"].join("");return["D:",L.getFullYear(),q(L.getMonth()+1),q(L.getDate()),q(L.getHours()),q(L.getMinutes()),q(L.getSeconds()),ct].join("")},re=p.__private__.convertPDFDateToDate=function(L){var ne=parseInt(L.substr(2,4),10),Ee=parseInt(L.substr(6,2),10)-1,Oe=parseInt(L.substr(8,2),10),qe=parseInt(L.substr(10,2),10),ct=parseInt(L.substr(12,2),10),Nt=parseInt(L.substr(14,2),10);return new Date(ne,Ee,Oe,qe,ct,Nt,0)},ee=p.__private__.setCreationDate=function(L){var ne;if(L===void 0&&(L=new Date),L instanceof Date)ne=H(L);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(L))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ne=L}return G=ne},I=p.__private__.getCreationDate=function(L){var ne=G;return L==="jsDate"&&(ne=re(G)),ne};p.setCreationDate=function(L){return ee(L),this},p.getCreationDate=function(L){return I(L)};var M,q=p.__private__.padd2=function(L){return("0"+parseInt(L)).slice(-2)},K=p.__private__.padd2Hex=function(L){return("00"+(L=L.toString())).substr(L.length)},J=0,se=[],he=[],ie=0,ge=[],xe=[],W=!1,Pe=he,Ce=function(){J=0,ie=0,he=[],se=[],ge=[],me=gn(),ve=gn()};p.__private__.setCustomOutputDestination=function(L){W=!0,Pe=L};var Te=function(L){W||(Pe=L)};p.__private__.resetCustomOutputDestination=function(){W=!1,Pe=he};var ce=p.__private__.out=function(L){return L=L.toString(),ie+=L.length+1,Pe.push(L),Pe},Fe=p.__private__.write=function(L){return ce(arguments.length===1?L.toString():Array.prototype.join.call(arguments," "))},Ge=p.__private__.getArrayBuffer=function(L){for(var ne=L.length,Ee=new ArrayBuffer(ne),Oe=new Uint8Array(Ee);ne--;)Oe[ne]=L.charCodeAt(ne);return Ee},Le=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Le};var Ye=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(L){return Ye=b===w.ADVANCED?L/ut:L,this};var _e,$e=p.__private__.getFontSize=p.getFontSize=function(){return b===w.COMPAT?Ye:Ye*ut},Ne=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(L){return Ne=L,this},p.__private__.getR2L=p.getR2L=function(){return Ne};var Ie,We=p.__private__.setZoomMode=function(L){var ne=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(L))_e=L;else if(isNaN(L)){if(ne.indexOf(L)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+L+'" is not recognized.');_e=L}else _e=parseInt(L,10)};p.__private__.getZoomMode=function(){return _e};var it,ht=p.__private__.setPageMode=function(L){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(L)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+L+'" is not recognized.');Ie=L};p.__private__.getPageMode=function(){return Ie};var xt=p.__private__.setLayoutMode=function(L){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(L)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+L+'" is not recognized.');it=L};p.__private__.getLayoutMode=function(){return it},p.__private__.setDisplayMode=p.setDisplayMode=function(L,ne,Ee){return We(L),xt(ne),ht(Ee),this};var St={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(L){if(Object.keys(St).indexOf(L)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return St[L]},p.__private__.getDocumentProperties=function(){return St},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(L){for(var ne in St)St.hasOwnProperty(ne)&&L[ne]&&(St[ne]=L[ne]);return this},p.__private__.setDocumentProperty=function(L,ne){if(Object.keys(St).indexOf(L)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return St[L]=ne};var mt,ut,Xt,Kt,jr,_r={},Dr={},De=[],rt={},nt={},st={},Ct={},Ut=null,Pt=0,Dt=[],Vt=new SR(p),xr=e.hotfixes||[],or={},Tr={},mr=[],zt=function L(ne,Ee,Oe,qe,ct,Nt){if(!(this instanceof L))return new L(ne,Ee,Oe,qe,ct,Nt);isNaN(ne)&&(ne=1),isNaN(Ee)&&(Ee=0),isNaN(Oe)&&(Oe=0),isNaN(qe)&&(qe=1),isNaN(ct)&&(ct=0),isNaN(Nt)&&(Nt=0),this._matrix=[ne,Ee,Oe,qe,ct,Nt]};Object.defineProperty(zt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(zt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(zt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(zt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(zt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(zt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(zt.prototype,"a",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(zt.prototype,"b",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(zt.prototype,"c",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(zt.prototype,"d",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(zt.prototype,"e",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(zt.prototype,"f",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(zt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(zt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(zt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(zt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),zt.prototype.join=function(L){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(T).join(L)},zt.prototype.multiply=function(L){var ne=L.sx*this.sx+L.shy*this.shx,Ee=L.sx*this.shy+L.shy*this.sy,Oe=L.shx*this.sx+L.sy*this.shx,qe=L.shx*this.shy+L.sy*this.sy,ct=L.tx*this.sx+L.ty*this.shx+this.tx,Nt=L.tx*this.shy+L.ty*this.sy+this.ty;return new zt(ne,Ee,Oe,qe,ct,Nt)},zt.prototype.decompose=function(){var L=this.sx,ne=this.shy,Ee=this.shx,Oe=this.sy,qe=this.tx,ct=this.ty,Nt=Math.sqrt(L*L+ne*ne),Gt=(L/=Nt)*Ee+(ne/=Nt)*Oe;Ee-=L*Gt,Oe-=ne*Gt;var A=Math.sqrt(Ee*Ee+Oe*Oe);return Gt/=A,L*(Oe/=A)<ne*(Ee/=A)&&(L=-L,ne=-ne,Gt=-Gt,Nt=-Nt),{scale:new zt(Nt,0,0,A,0,0),translate:new zt(1,0,0,1,qe,ct),rotate:new zt(L,ne,-ne,L,0,0),skew:new zt(1,0,Gt,1,0,0)}},zt.prototype.toString=function(L){return this.join(" ")},zt.prototype.inversed=function(){var L=this.sx,ne=this.shy,Ee=this.shx,Oe=this.sy,qe=this.tx,ct=this.ty,Nt=1/(L*Oe-ne*Ee),Gt=Oe*Nt,A=-ne*Nt,B=-Ee*Nt,Q=L*Nt;return new zt(Gt,A,B,Q,-Gt*qe-B*ct,-A*qe-Q*ct)},zt.prototype.applyToPoint=function(L){var ne=L.x*this.sx+L.y*this.shx+this.tx,Ee=L.x*this.shy+L.y*this.sy+this.ty;return new kc(ne,Ee)},zt.prototype.applyToRectangle=function(L){var ne=this.applyToPoint(L),Ee=this.applyToPoint(new kc(L.x+L.w,L.y+L.h));return new Mu(ne.x,ne.y,Ee.x-ne.x,Ee.y-ne.y)},zt.prototype.clone=function(){var L=this.sx,ne=this.shy,Ee=this.shx,Oe=this.sy,qe=this.tx,ct=this.ty;return new zt(L,ne,Ee,Oe,qe,ct)},p.Matrix=zt;var da=p.matrixMult=function(L,ne){return ne.multiply(L)},Bn=new zt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Bn;var Br=function(L,ne){if(!nt[L]){var Ee=(ne instanceof Ld?"Sh":"P")+(Object.keys(rt).length+1).toString(10);ne.id=Ee,nt[L]=Ee,rt[Ee]=ne,Vt.publish("addPattern",ne)}};p.ShadingPattern=Ld,p.TilingPattern=R0,p.addShadingPattern=function(L,ne){return S("addShadingPattern()"),Br(L,ne),this},p.beginTilingPattern=function(L){S("beginTilingPattern()"),Ru(L.boundingBox[0],L.boundingBox[1],L.boundingBox[2]-L.boundingBox[0],L.boundingBox[3]-L.boundingBox[1],L.matrix)},p.endTilingPattern=function(L,ne){S("endTilingPattern()"),ne.stream=xe[M].join(`
`),Br(L,ne),Vt.publish("endTilingPattern",ne),mr.pop().restore()};var An=p.__private__.newObject=function(){var L=gn();return oe(L,!0),L},gn=p.__private__.newObjectDeferred=function(){return J++,se[J]=function(){return ie},J},oe=function(L,ne){return ne=typeof ne=="boolean"&&ne,se[L]=ie,ne&&ce(L+" 0 obj"),L},ye=p.__private__.newAdditionalObject=function(){var L={objId:gn(),content:""};return ge.push(L),L},me=gn(),ve=gn(),Ae=p.__private__.decodeColorString=function(L){var ne=L.split(" ");if(ne.length!==2||ne[1]!=="g"&&ne[1]!=="G")ne.length===5&&(ne[4]==="k"||ne[4]==="K")&&(ne=[(1-ne[0])*(1-ne[3]),(1-ne[1])*(1-ne[3]),(1-ne[2])*(1-ne[3]),"r"]);else{var Ee=parseFloat(ne[0]);ne=[Ee,Ee,Ee,"r"]}for(var Oe="#",qe=0;qe<3;qe++)Oe+=("0"+Math.floor(255*parseFloat(ne[qe])).toString(16)).slice(-2);return Oe},Z=p.__private__.encodeColorString=function(L){var ne;typeof L=="string"&&(L={ch1:L});var Ee=L.ch1,Oe=L.ch2,qe=L.ch3,ct=L.ch4,Nt=L.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ee=="string"&&Ee.charAt(0)!=="#"){var Gt=new $K(Ee);if(Gt.ok)Ee=Gt.toHex();else if(!/^\d*\.?\d*$/.test(Ee))throw new Error('Invalid color "'+Ee+'" passed to jsPDF.encodeColorString.')}if(typeof Ee=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ee)&&(Ee="#"+Ee[1]+Ee[1]+Ee[2]+Ee[2]+Ee[3]+Ee[3]),typeof Ee=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ee)){var A=parseInt(Ee.substr(1),16);Ee=A>>16&255,Oe=A>>8&255,qe=255&A}if(Oe===void 0||ct===void 0&&Ee===Oe&&Oe===qe)if(typeof Ee=="string")ne=Ee+" "+Nt[0];else switch(L.precision){case 2:ne=j(Ee/255)+" "+Nt[0];break;case 3:default:ne=N(Ee/255)+" "+Nt[0]}else if(ct===void 0||xn(ct)==="object"){if(ct&&!isNaN(ct.a)&&ct.a===0)return ne=["1.","1.","1.",Nt[1]].join(" ");if(typeof Ee=="string")ne=[Ee,Oe,qe,Nt[1]].join(" ");else switch(L.precision){case 2:ne=[j(Ee/255),j(Oe/255),j(qe/255),Nt[1]].join(" ");break;default:case 3:ne=[N(Ee/255),N(Oe/255),N(qe/255),Nt[1]].join(" ")}}else if(typeof Ee=="string")ne=[Ee,Oe,qe,ct,Nt[2]].join(" ");else switch(L.precision){case 2:ne=[j(Ee),j(Oe),j(qe),j(ct),Nt[2]].join(" ");break;case 3:default:ne=[N(Ee),N(Oe),N(qe),N(ct),Nt[2]].join(" ")}return ne},be=p.__private__.getFilters=function(){return s},ke=p.__private__.putStream=function(L){var ne=(L=L||{}).data||"",Ee=L.filters||be(),Oe=L.alreadyAppliedFilters||[],qe=L.addLength1||!1,ct=ne.length,Nt=L.objectId,Gt=function(Er){return Er};if(u!==null&&Nt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Gt=we.encryptor(Nt,0));var A={};Ee===!0&&(Ee=["FlateEncode"]);var B=L.additionalKeyValues||[],Q=(A=gr.API.processDataByFilters!==void 0?gr.API.processDataByFilters(ne,Ee):{data:ne,reverseChain:[]}).reverseChain+(Array.isArray(Oe)?Oe.join(" "):Oe.toString());if(A.data.length!==0&&(B.push({key:"Length",value:A.data.length}),qe===!0&&B.push({key:"Length1",value:ct})),Q.length!=0)if(Q.split("/").length-1==1)B.push({key:"Filter",value:Q});else{B.push({key:"Filter",value:"["+Q+"]"});for(var fe=0;fe<B.length;fe+=1)if(B[fe].key==="DecodeParms"){for(var Ve=[],et=0;et<A.reverseChain.split("/").length-1;et+=1)Ve.push("null");Ve.push(B[fe].value),B[fe].value="["+Ve.join(" ")+"]"}}ce("<<");for(var Et=0;Et<B.length;Et++)ce("/"+B[Et].key+" "+B[Et].value);ce(">>"),A.data.length!==0&&(ce("stream"),ce(Gt(A.data)),ce("endstream"))},je=p.__private__.putPage=function(L){var ne=L.number,Ee=L.data,Oe=L.objId,qe=L.contentsObjId;oe(Oe,!0),ce("<</Type /Page"),ce("/Parent "+L.rootDictionaryObjId+" 0 R"),ce("/Resources "+L.resourceDictionaryObjId+" 0 R"),ce("/MediaBox ["+parseFloat(T(L.mediaBox.bottomLeftX))+" "+parseFloat(T(L.mediaBox.bottomLeftY))+" "+T(L.mediaBox.topRightX)+" "+T(L.mediaBox.topRightY)+"]"),L.cropBox!==null&&ce("/CropBox ["+T(L.cropBox.bottomLeftX)+" "+T(L.cropBox.bottomLeftY)+" "+T(L.cropBox.topRightX)+" "+T(L.cropBox.topRightY)+"]"),L.bleedBox!==null&&ce("/BleedBox ["+T(L.bleedBox.bottomLeftX)+" "+T(L.bleedBox.bottomLeftY)+" "+T(L.bleedBox.topRightX)+" "+T(L.bleedBox.topRightY)+"]"),L.trimBox!==null&&ce("/TrimBox ["+T(L.trimBox.bottomLeftX)+" "+T(L.trimBox.bottomLeftY)+" "+T(L.trimBox.topRightX)+" "+T(L.trimBox.topRightY)+"]"),L.artBox!==null&&ce("/ArtBox ["+T(L.artBox.bottomLeftX)+" "+T(L.artBox.bottomLeftY)+" "+T(L.artBox.topRightX)+" "+T(L.artBox.topRightY)+"]"),typeof L.userUnit=="number"&&L.userUnit!==1&&ce("/UserUnit "+L.userUnit),Vt.publish("putPage",{objId:Oe,pageContext:Dt[ne],pageNumber:ne,page:Ee}),ce("/Contents "+qe+" 0 R"),ce(">>"),ce("endobj");var ct=Ee.join(`
`);return b===w.ADVANCED&&(ct+=`
Q`),oe(qe,!0),ke({data:ct,filters:be(),objectId:qe}),ce("endobj"),Oe},Be=p.__private__.putPages=function(){var L,ne,Ee=[];for(L=1;L<=Pt;L++)Dt[L].objId=gn(),Dt[L].contentsObjId=gn();for(L=1;L<=Pt;L++)Ee.push(je({number:L,data:xe[L],objId:Dt[L].objId,contentsObjId:Dt[L].contentsObjId,mediaBox:Dt[L].mediaBox,cropBox:Dt[L].cropBox,bleedBox:Dt[L].bleedBox,trimBox:Dt[L].trimBox,artBox:Dt[L].artBox,userUnit:Dt[L].userUnit,rootDictionaryObjId:me,resourceDictionaryObjId:ve}));oe(me,!0),ce("<</Type /Pages");var Oe="/Kids [";for(ne=0;ne<Pt;ne++)Oe+=Ee[ne]+" 0 R ";ce(Oe+"]"),ce("/Count "+Pt),ce(">>"),ce("endobj"),Vt.publish("postPutPages")},Ke=function(L){Vt.publish("putFont",{font:L,out:ce,newObject:An,putStream:ke}),L.isAlreadyPutted!==!0&&(L.objectNumber=An(),ce("<<"),ce("/Type /Font"),ce("/BaseFont /"+m0(L.postScriptName)),ce("/Subtype /Type1"),typeof L.encoding=="string"&&ce("/Encoding /"+L.encoding),ce("/FirstChar 32"),ce("/LastChar 255"),ce(">>"),ce("endobj"))},ot=function(){for(var L in _r)_r.hasOwnProperty(L)&&(d===!1||d===!0&&h.hasOwnProperty(L))&&Ke(_r[L])},Tt=function(L){L.objectNumber=An();var ne=[];ne.push({key:"Type",value:"/XObject"}),ne.push({key:"Subtype",value:"/Form"}),ne.push({key:"BBox",value:"["+[T(L.x),T(L.y),T(L.x+L.width),T(L.y+L.height)].join(" ")+"]"}),ne.push({key:"Matrix",value:"["+L.matrix.toString()+"]"});var Ee=L.pages[1].join(`
`);ke({data:Ee,additionalKeyValues:ne,objectId:L.objectNumber}),ce("endobj")},Mt=function(){for(var L in or)or.hasOwnProperty(L)&&Tt(or[L])},jt=function(L,ne){var Ee,Oe=[],qe=1/(ne-1);for(Ee=0;Ee<1;Ee+=qe)Oe.push(Ee);if(Oe.push(1),L[0].offset!=0){var ct={offset:0,color:L[0].color};L.unshift(ct)}if(L[L.length-1].offset!=1){var Nt={offset:1,color:L[L.length-1].color};L.push(Nt)}for(var Gt="",A=0,B=0;B<Oe.length;B++){for(Ee=Oe[B];Ee>L[A+1].offset;)A++;var Q=L[A].offset,fe=(Ee-Q)/(L[A+1].offset-Q),Ve=L[A].color,et=L[A+1].color;Gt+=K(Math.round((1-fe)*Ve[0]+fe*et[0]).toString(16))+K(Math.round((1-fe)*Ve[1]+fe*et[1]).toString(16))+K(Math.round((1-fe)*Ve[2]+fe*et[2]).toString(16))}return Gt.trim()},Ft=function(L,ne){ne||(ne=21);var Ee=An(),Oe=jt(L.colors,ne),qe=[];qe.push({key:"FunctionType",value:"0"}),qe.push({key:"Domain",value:"[0.0 1.0]"}),qe.push({key:"Size",value:"["+ne+"]"}),qe.push({key:"BitsPerSample",value:"8"}),qe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),qe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ke({data:Oe,additionalKeyValues:qe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ee}),ce("endobj"),L.objectNumber=An(),ce("<< /ShadingType "+L.type),ce("/ColorSpace /DeviceRGB");var ct="/Coords ["+T(parseFloat(L.coords[0]))+" "+T(parseFloat(L.coords[1]))+" ";L.type===2?ct+=T(parseFloat(L.coords[2]))+" "+T(parseFloat(L.coords[3])):ct+=T(parseFloat(L.coords[2]))+" "+T(parseFloat(L.coords[3]))+" "+T(parseFloat(L.coords[4]))+" "+T(parseFloat(L.coords[5])),ce(ct+="]"),L.matrix&&ce("/Matrix ["+L.matrix.toString()+"]"),ce("/Function "+Ee+" 0 R"),ce("/Extend [true true]"),ce(">>"),ce("endobj")},fr=function(L,ne){var Ee=gn(),Oe=An();ne.push({resourcesOid:Ee,objectOid:Oe}),L.objectNumber=Oe;var qe=[];qe.push({key:"Type",value:"/Pattern"}),qe.push({key:"PatternType",value:"1"}),qe.push({key:"PaintType",value:"1"}),qe.push({key:"TilingType",value:"1"}),qe.push({key:"BBox",value:"["+L.boundingBox.map(T).join(" ")+"]"}),qe.push({key:"XStep",value:T(L.xStep)}),qe.push({key:"YStep",value:T(L.yStep)}),qe.push({key:"Resources",value:Ee+" 0 R"}),L.matrix&&qe.push({key:"Matrix",value:"["+L.matrix.toString()+"]"}),ke({data:L.stream,additionalKeyValues:qe,objectId:L.objectNumber}),ce("endobj")},qr=function(L){var ne;for(ne in rt)rt.hasOwnProperty(ne)&&(rt[ne]instanceof Ld?Ft(rt[ne]):rt[ne]instanceof R0&&fr(rt[ne],L))},Ur=function(L){for(var ne in L.objectNumber=An(),ce("<<"),L)switch(ne){case"opacity":ce("/ca "+j(L[ne]));break;case"stroke-opacity":ce("/CA "+j(L[ne]))}ce(">>"),ce("endobj")},hn=function(){var L;for(L in st)st.hasOwnProperty(L)&&Ur(st[L])},ia=function(){for(var L in ce("/XObject <<"),or)or.hasOwnProperty(L)&&or[L].objectNumber>=0&&ce("/"+L+" "+or[L].objectNumber+" 0 R");Vt.publish("putXobjectDict"),ce(">>")},Li=function(){we.oid=An(),ce("<<"),ce("/Filter /Standard"),ce("/V "+we.v),ce("/R "+we.r),ce("/U <"+we.toHexString(we.U)+">"),ce("/O <"+we.toHexString(we.O)+">"),ce("/P "+we.P),ce(">>"),ce("endobj")},ai=function(){for(var L in ce("/Font <<"),_r)_r.hasOwnProperty(L)&&(d===!1||d===!0&&h.hasOwnProperty(L))&&ce("/"+L+" "+_r[L].objectNumber+" 0 R");ce(">>")},sa=function(){if(Object.keys(rt).length>0){for(var L in ce("/Shading <<"),rt)rt.hasOwnProperty(L)&&rt[L]instanceof Ld&&rt[L].objectNumber>=0&&ce("/"+L+" "+rt[L].objectNumber+" 0 R");Vt.publish("putShadingPatternDict"),ce(">>")}},Oa=function(L){if(Object.keys(rt).length>0){for(var ne in ce("/Pattern <<"),rt)rt.hasOwnProperty(ne)&&rt[ne]instanceof p.TilingPattern&&rt[ne].objectNumber>=0&&rt[ne].objectNumber<L&&ce("/"+ne+" "+rt[ne].objectNumber+" 0 R");Vt.publish("putTilingPatternDict"),ce(">>")}},ln=function(){if(Object.keys(st).length>0){var L;for(L in ce("/ExtGState <<"),st)st.hasOwnProperty(L)&&st[L].objectNumber>=0&&ce("/"+L+" "+st[L].objectNumber+" 0 R");Vt.publish("putGStateDict"),ce(">>")}},Ln=function(L){oe(L.resourcesOid,!0),ce("<<"),ce("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),ai(),sa(),Oa(L.objectOid),ln(),ia(),ce(">>"),ce("endobj")},bc=function(){var L=[];ot(),hn(),Mt(),qr(L),Vt.publish("putResources"),L.forEach(Ln),Ln({resourcesOid:ve,objectOid:Number.MAX_SAFE_INTEGER}),Vt.publish("postPutResources")},wc=function(){Vt.publish("putAdditionalObjects");for(var L=0;L<ge.length;L++){var ne=ge[L];oe(ne.objId,!0),ce(ne.content),ce("endobj")}Vt.publish("postPutAdditionalObjects")},_c=function(L){Dr[L.fontName]=Dr[L.fontName]||{},Dr[L.fontName][L.fontStyle]=L.id},Sc=function(L,ne,Ee,Oe,qe){var ct={id:"F"+(Object.keys(_r).length+1).toString(10),postScriptName:L,fontName:ne,fontStyle:Ee,encoding:Oe,isStandardFont:qe||!1,metadata:{}};return Vt.publish("addFont",{font:ct,instance:this}),_r[ct.id]=ct,_c(ct),ct.id},Cu=function(L){for(var ne=0,Ee=Le.length;ne<Ee;ne++){var Oe=Sc.call(this,L[ne][0],L[ne][1],L[ne][2],Le[ne][3],!0);d===!1&&(h[Oe]=!0);var qe=L[ne][0].split("-");_c({id:Oe,fontName:qe[0],fontStyle:qe[1]||""})}Vt.publish("addFonts",{fonts:_r,dictionary:Dr})},Mi=function(L){return L.foo=function(){try{return L.apply(this,arguments)}catch(Oe){var ne=Oe.stack||"";~ne.indexOf(" at ")&&(ne=ne.split(" at ")[1]);var Ee="Error in function "+ne.split(`
`)[0].split("<")[0]+": "+Oe.message;if(!vr.console)throw new Error(Ee);vr.console.error(Ee,Oe),vr.alert&&alert(Ee)}},L.foo.bar=L,L.foo},Fl=function(L,ne){var Ee,Oe,qe,ct,Nt,Gt,A,B,Q;if(qe=(ne=ne||{}).sourceEncoding||"Unicode",Nt=ne.outputEncoding,(ne.autoencode||Nt)&&_r[mt].metadata&&_r[mt].metadata[qe]&&_r[mt].metadata[qe].encoding&&(ct=_r[mt].metadata[qe].encoding,!Nt&&_r[mt].encoding&&(Nt=_r[mt].encoding),!Nt&&ct.codePages&&(Nt=ct.codePages[0]),typeof Nt=="string"&&(Nt=ct[Nt]),Nt)){for(A=!1,Gt=[],Ee=0,Oe=L.length;Ee<Oe;Ee++)(B=Nt[L.charCodeAt(Ee)])?Gt.push(String.fromCharCode(B)):Gt.push(L[Ee]),Gt[Ee].charCodeAt(0)>>8&&(A=!0);L=Gt.join("")}for(Ee=L.length;A===void 0&&Ee!==0;)L.charCodeAt(Ee-1)>>8&&(A=!0),Ee--;if(!A)return L;for(Gt=ne.noBOM?[]:[254,255],Ee=0,Oe=L.length;Ee<Oe;Ee++){if((Q=(B=L.charCodeAt(Ee))>>8)>>8)throw new Error("Character at position "+Ee+" of string '"+L+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Gt.push(Q),Gt.push(B-(Q<<8))}return String.fromCharCode.apply(void 0,Gt)},Zn=p.__private__.pdfEscape=p.pdfEscape=function(L,ne){return Fl(L,ne).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ii=p.__private__.beginPage=function(L){xe[++Pt]=[],Dt[Pt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(L[0]),topRightY:Number(L[1])}},Ac(Pt),Te(xe[M])},Jo=function(L,ne){var Ee,Oe,qe;switch(r=ne||r,typeof L=="string"&&(Ee=y(L.toLowerCase()),Array.isArray(Ee)&&(Oe=Ee[0],qe=Ee[1])),Array.isArray(L)&&(Oe=L[0]*ut,qe=L[1]*ut),isNaN(Oe)&&(Oe=a[0],qe=a[1]),(Oe>14400||qe>14400)&&(Fn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Oe=Math.min(14400,Oe),qe=Math.min(14400,qe)),a=[Oe,qe],r.substr(0,1)){case"l":qe>Oe&&(a=[qe,Oe]);break;case"p":Oe>qe&&(a=[qe,Oe])}ii(a),hd(Tc),ce(yi),gd!==0&&ce(gd+" J"),Lu!==0&&ce(Lu+" j"),Vt.publish("addPage",{pageNumber:Pt})},Ks=function(L){L>0&&L<=Pt&&(xe.splice(L,1),Dt.splice(L,1),Pt--,M>Pt&&(M=Pt),this.setPage(M))},Ac=function(L){L>0&&L<=Pt&&(M=L)},vn=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return xe.length-1},Zo=function(L,ne,Ee){var Oe,qe=void 0;return Ee=Ee||{},L=L!==void 0?L:_r[mt].fontName,ne=ne!==void 0?ne:_r[mt].fontStyle,Oe=L.toLowerCase(),Dr[Oe]!==void 0&&Dr[Oe][ne]!==void 0?qe=Dr[Oe][ne]:Dr[L]!==void 0&&Dr[L][ne]!==void 0?qe=Dr[L][ne]:Ee.disableWarning===!1&&Fn.warn("Unable to look up font label for font '"+L+"', '"+ne+"'. Refer to getFontList() for available fonts."),qe||Ee.noFallback||(qe=Dr.times[ne])==null&&(qe=Dr.times.normal),qe},el=p.__private__.putInfo=function(){var L=An(),ne=function(Oe){return Oe};for(var Ee in u!==null&&(ne=we.encryptor(L,0)),ce("<<"),ce("/Producer ("+Zn(ne("jsPDF "+gr.version))+")"),St)St.hasOwnProperty(Ee)&&St[Ee]&&ce("/"+Ee.substr(0,1).toUpperCase()+Ee.substr(1)+" ("+Zn(ne(St[Ee]))+")");ce("/CreationDate ("+Zn(ne(G))+")"),ce(">>"),ce("endobj")},Ys=p.__private__.putCatalog=function(L){var ne=(L=L||{}).rootDictionaryObjId||me;switch(An(),ce("<<"),ce("/Type /Catalog"),ce("/Pages "+ne+" 0 R"),_e||(_e="fullwidth"),_e){case"fullwidth":ce("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ce("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ce("/OpenAction [3 0 R /Fit]");break;case"original":ce("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ee=""+_e;Ee.substr(Ee.length-1)==="%"&&(_e=parseInt(_e)/100),typeof _e=="number"&&ce("/OpenAction [3 0 R /XYZ null null "+j(_e)+"]")}switch(it||(it="continuous"),it){case"continuous":ce("/PageLayout /OneColumn");break;case"single":ce("/PageLayout /SinglePage");break;case"two":case"twoleft":ce("/PageLayout /TwoColumnLeft");break;case"tworight":ce("/PageLayout /TwoColumnRight")}Ie&&ce("/PageMode /"+Ie),Vt.publish("putCatalog"),ce(">>"),ce("endobj")},fd=p.__private__.putTrailer=function(){ce("trailer"),ce("<<"),ce("/Size "+(J+1)),ce("/Root "+J+" 0 R"),ce("/Info "+(J-1)+" 0 R"),u!==null&&ce("/Encrypt "+we.oid+" 0 R"),ce("/ID [ <"+z+"> <"+z+"> ]"),ce(">>")},Pu=p.__private__.putHeader=function(){ce("%PDF-"+g),ce("%")},dd=p.__private__.putXRef=function(){var L="0000000000";ce("xref"),ce("0 "+(J+1)),ce("0000000000 65535 f ");for(var ne=1;ne<=J;ne++)typeof se[ne]=="function"?ce((L+se[ne]()).slice(-10)+" 00000 n "):se[ne]!==void 0?ce((L+se[ne]).slice(-10)+" 00000 n "):ce("0000000000 00000 n ")},Xs=p.__private__.buildDocument=function(){Ce(),Te(he),Vt.publish("buildDocument"),Pu(),Be(),wc(),bc(),u!==null&&Li(),el(),Ys();var L=ie;return dd(),fd(),ce("startxref"),ce(""+L),ce("%%EOF"),Te(xe[M]),he.join(`
`)},tl=p.__private__.getBlob=function(L){return new Blob([Ge(L)],{type:"application/pdf"})},$l=p.output=p.__private__.output=Mi(function(L,ne){switch(typeof(ne=ne||{})=="string"?ne={filename:ne}:ne.filename=ne.filename||"generated.pdf",L){case void 0:return Xs();case"save":p.save(ne.filename);break;case"arraybuffer":return Ge(Xs());case"blob":return tl(Xs());case"bloburi":case"bloburl":if(vr.URL!==void 0&&typeof vr.URL.createObjectURL=="function")return vr.URL&&vr.URL.createObjectURL(tl(Xs()))||void 0;Fn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ee="",Oe=Xs();try{Ee=gN(Oe)}catch{Ee=gN(unescape(encodeURIComponent(Oe)))}return"data:application/pdf;filename="+ne.filename+";base64,"+Ee;case"pdfobjectnewwindow":if(Object.prototype.toString.call(vr)==="[object Window]"){var qe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ct=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ne.pdfObjectUrl&&(qe=ne.pdfObjectUrl,ct="");var Nt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+qe+'"'+ct+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ne)+");<\/script></body></html>",Gt=vr.open();return Gt!==null&&Gt.document.write(Nt),Gt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(vr)==="[object Window]"){var A='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ne.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ne.filename+'" width="500px" height="400px" /></body></html>',B=vr.open();if(B!==null){B.document.write(A);var Q=this;B.document.documentElement.querySelector("#pdfViewer").onload=function(){B.document.title=ne.filename,B.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Q.output("bloburl"))}}return B}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(vr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var fe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ne)+'"></iframe></body></html>',Ve=vr.open();if(Ve!==null&&(Ve.document.write(fe),Ve.document.title=ne.filename),Ve||typeof safari>"u")return Ve;break;case"datauri":case"dataurl":return vr.document.location.href=this.output("datauristring",ne);default:return null}}),te=function(L){return Array.isArray(xr)===!0&&xr.indexOf(L)>-1};switch(n){case"pt":ut=1;break;case"mm":ut=72/25.4;break;case"cm":ut=72/2.54;break;case"in":ut=72;break;case"px":ut=te("px_scaling")==1?.75:96/72;break;case"pc":case"em":ut=12;break;case"ex":ut=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);ut=n}var we=null;ee(),V();var Ze=function(L){return u!==null?we.encryptor(L,0):function(ne){return ne}},Rt=p.__private__.getPageInfo=p.getPageInfo=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Dt[L].objId,pageNumber:L,pageContext:Dt[L]}},at=p.__private__.getPageInfoByObjId=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ne in Dt)if(Dt[ne].objId===L)break;return Rt(ne)},pt=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Dt[M].objId,pageNumber:M,pageContext:Dt[M]}};p.addPage=function(){return Jo.apply(this,arguments),this},p.setPage=function(){return Ac.apply(this,arguments),Te.call(this,xe[M]),this},p.insertPage=function(L){return this.addPage(),this.movePage(M,L),this},p.movePage=function(L,ne){var Ee,Oe;if(L>ne){Ee=xe[L],Oe=Dt[L];for(var qe=L;qe>ne;qe--)xe[qe]=xe[qe-1],Dt[qe]=Dt[qe-1];xe[ne]=Ee,Dt[ne]=Oe,this.setPage(ne)}else if(L<ne){Ee=xe[L],Oe=Dt[L];for(var ct=L;ct<ne;ct++)xe[ct]=xe[ct+1],Dt[ct]=Dt[ct+1];xe[ne]=Ee,Dt[ne]=Oe,this.setPage(ne)}return this},p.deletePage=function(){return Ks.apply(this,arguments),this},p.__private__.text=p.text=function(L,ne,Ee,Oe,qe){var ct,Nt,Gt,A,B,Q,fe,Ve,et,Et=(Oe=Oe||{}).scope||this;if(typeof L=="number"&&typeof ne=="number"&&(typeof Ee=="string"||Array.isArray(Ee))){var Er=Ee;Ee=ne,ne=L,L=Er}if(arguments[3]instanceof zt?(S("The transform parameter of text() with a Matrix value"),et=qe):(Gt=arguments[4],A=arguments[5],xn(fe=arguments[3])==="object"&&fe!==null||(typeof Gt=="string"&&(A=Gt,Gt=null),typeof fe=="string"&&(A=fe,fe=null),typeof fe=="number"&&(Gt=fe,fe=null),Oe={flags:fe,angle:Gt,align:A})),isNaN(ne)||isNaN(Ee)||L==null)throw new Error("Invalid arguments passed to jsPDF.text");if(L.length===0)return Et;var Hr="",kr=!1,_n=typeof Oe.lineHeightFactor=="number"?Oe.lineHeightFactor:tn,Mn=Et.internal.scaleFactor;function al(Un){return Un=Un.split("	").join(Array(Oe.TabLen||9).join(" ")),Zn(Un,fe)}function xi(Un){for(var Vn,Sa=Un.concat(),Ha=[],Ic=Sa.length;Ic--;)typeof(Vn=Sa.shift())=="string"?Ha.push(Vn):Array.isArray(Un)&&(Vn.length===1||Vn[1]===void 0&&Vn[2]===void 0)?Ha.push(Vn[0]):Ha.push([Vn[0],Vn[1],Vn[2]]);return Ha}function zl(Un,Vn){var Sa;if(typeof Un=="string")Sa=Vn(Un)[0];else if(Array.isArray(Un)){for(var Ha,Ic,Im=Un.concat(),Yh=[],_y=Im.length;_y--;)typeof(Ha=Im.shift())=="string"?Yh.push(Vn(Ha)[0]):Array.isArray(Ha)&&typeof Ha[0]=="string"&&(Ic=Vn(Ha[0],Ha[1],Ha[2]),Yh.push([Ic[0],Ic[1],Ic[2]]));Sa=Yh}return Sa}var ql=!1,Nm=!0;if(typeof L=="string")ql=!0;else if(Array.isArray(L)){var Em=L.concat();Nt=[];for(var Uh,bi=Em.length;bi--;)(typeof(Uh=Em.shift())!="string"||Array.isArray(Uh)&&typeof Uh[0]!="string")&&(Nm=!1);ql=Nm}if(ql===!1)throw new Error('Type of text must be string or Array. "'+L+'" is not recognized.');typeof L=="string"&&(L=L.match(/[\r?\n]/)?L.split(/\r\n|\r|\n/g):[L]);var Vh=Ye/Et.internal.scaleFactor,zh=Vh*(_n-1);switch(Oe.baseline){case"bottom":Ee-=zh;break;case"top":Ee+=Vh-zh;break;case"hanging":Ee+=Vh-2*zh;break;case"middle":Ee+=Vh/2-zh}if((Q=Oe.maxWidth||0)>0&&(typeof L=="string"?L=Et.splitTextToSize(L,Q):Object.prototype.toString.call(L)==="[object Array]"&&(L=L.reduce(function(Un,Vn){return Un.concat(Et.splitTextToSize(Vn,Q))},[]))),ct={text:L,x:ne,y:Ee,options:Oe,mutex:{pdfEscape:Zn,activeFontKey:mt,fonts:_r,activeFontSize:Ye}},Vt.publish("preProcessText",ct),L=ct.text,Gt=(Oe=ct.options).angle,!(et instanceof zt)&&Gt&&typeof Gt=="number"){Gt*=Math.PI/180,Oe.rotationDirection===0&&(Gt=-Gt),b===w.ADVANCED&&(Gt=-Gt);var qh=Math.cos(Gt),km=Math.sin(Gt);et=new zt(qh,km,-km,qh,0,0)}else Gt&&Gt instanceof zt&&(et=Gt);b!==w.ADVANCED||et||(et=Bn),(B=Oe.charSpace||Ec)!==void 0&&(Hr+=T(E(B))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ve=Oe.horizontalScale)!==void 0&&(Hr+=T(100*Ve)+` Tz
`),Oe.lang;var js=-1,x_=Oe.renderingMode!==void 0?Oe.renderingMode:Oe.stroke,Cm=Et.internal.getCurrentPageInfo().pageContext;switch(x_){case 0:case!1:case"fill":js=0;break;case 1:case!0:case"stroke":js=1;break;case 2:case"fillThenStroke":js=2;break;case 3:case"invisible":js=3;break;case 4:case"fillAndAddForClipping":js=4;break;case 5:case"strokeAndAddPathForClipping":js=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":js=6;break;case 7:case"addToPathForClipping":js=7}var yy=Cm.usedRenderingMode!==void 0?Cm.usedRenderingMode:-1;js!==-1?Hr+=js+` Tr
`:yy!==-1&&(Hr+=`0 Tr
`),js!==-1&&(Cm.usedRenderingMode=js),A=Oe.align||"left";var yo,Wh=Ye*_n,xy=Et.internal.pageSize.getWidth(),by=_r[mt];B=Oe.charSpace||Ec,Q=Oe.maxWidth||0,fe=Object.assign({autoencode:!0,noBOM:!0},Oe.flags);var Bu=[],vd=function(Un){return Et.getStringUnitWidth(Un,{font:by,charSpace:B,fontSize:Ye,doKerning:!1})*Ye/Mn};if(Object.prototype.toString.call(L)==="[object Array]"){var Os;Nt=xi(L),A!=="left"&&(yo=Nt.map(vd));var fs,Uu=0;if(A==="right"){ne-=yo[0],L=[],bi=Nt.length;for(var Pc=0;Pc<bi;Pc++)Pc===0?(fs=Qs(ne),Os=Wa(Ee)):(fs=E(Uu-yo[Pc]),Os=-Wh),L.push([Nt[Pc],fs,Os]),Uu=yo[Pc]}else if(A==="center"){ne-=yo[0]/2,L=[],bi=Nt.length;for(var jc=0;jc<bi;jc++)jc===0?(fs=Qs(ne),Os=Wa(Ee)):(fs=E((Uu-yo[jc])/2),Os=-Wh),L.push([Nt[jc],fs,Os]),Uu=yo[jc]}else if(A==="left"){L=[],bi=Nt.length;for(var Hh=0;Hh<bi;Hh++)L.push(Nt[Hh])}else if(A==="justify"&&by.encoding==="Identity-H"){L=[],bi=Nt.length,Q=Q!==0?Q:xy;for(var Oc=0,_a=0;_a<bi;_a++)if(Os=_a===0?Wa(Ee):-Wh,fs=_a===0?Qs(ne):Oc,_a<bi-1){var Pm=E((Q-yo[_a])/(Nt[_a].split(" ").length-1)),ds=Nt[_a].split(" ");L.push([ds[0]+" ",fs,Os]),Oc=0;for(var xo=1;xo<ds.length;xo++){var Gh=(vd(ds[xo-1]+" "+ds[xo])-vd(ds[xo]))*Mn+Pm;xo==ds.length-1?L.push([ds[xo],Gh,0]):L.push([ds[xo]+" ",Gh,0]),Oc-=Gh}}else L.push([Nt[_a],fs,Os]);L.push(["",Oc,0])}else{if(A!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(L=[],bi=Nt.length,Q=Q!==0?Q:xy,_a=0;_a<bi;_a++)Os=_a===0?Wa(Ee):-Wh,fs=_a===0?Qs(ne):0,_a<bi-1?Bu.push(T(E((Q-yo[_a])/(Nt[_a].split(" ").length-1)))):Bu.push(0),L.push([Nt[_a],fs,Os])}}var wy=typeof Oe.R2L=="boolean"?Oe.R2L:Ne;wy===!0&&(L=zl(L,function(Un,Vn,Sa){return[Un.split("").reverse().join(""),Vn,Sa]})),ct={text:L,x:ne,y:Ee,options:Oe,mutex:{pdfEscape:Zn,activeFontKey:mt,fonts:_r,activeFontSize:Ye}},Vt.publish("postProcessText",ct),L=ct.text,kr=ct.mutex.isHex||!1;var jm=_r[mt].encoding;jm!=="WinAnsiEncoding"&&jm!=="StandardEncoding"||(L=zl(L,function(Un,Vn,Sa){return[al(Un),Vn,Sa]})),Nt=xi(L),L=[];for(var yd,xd,Vu,bd=0,Kh=1,wd=Array.isArray(Nt[0])?Kh:bd,zu="",Om=function(Un,Vn,Sa){var Ha="";return Sa instanceof zt?(Sa=typeof Oe.angle=="number"?da(Sa,new zt(1,0,0,1,Un,Vn)):da(new zt(1,0,0,1,Un,Vn),Sa),b===w.ADVANCED&&(Sa=da(new zt(1,0,0,-1,0,0),Sa)),Ha=Sa.join(" ")+` Tm
`):Ha=T(Un)+" "+T(Vn)+` Td
`,Ha},bo=0;bo<Nt.length;bo++){switch(zu="",wd){case Kh:Vu=(kr?"<":"(")+Nt[bo][0]+(kr?">":")"),yd=parseFloat(Nt[bo][1]),xd=parseFloat(Nt[bo][2]);break;case bd:Vu=(kr?"<":"(")+Nt[bo]+(kr?">":")"),yd=Qs(ne),xd=Wa(Ee)}Bu!==void 0&&Bu[bo]!==void 0&&(zu=Bu[bo]+` Tw
`),bo===0?L.push(zu+Om(yd,xd,et)+Vu):wd===bd?L.push(zu+Vu):wd===Kh&&L.push(zu+Om(yd,xd,et)+Vu)}L=wd===bd?L.join(` Tj
T* `):L.join(` Tj
`),L+=` Tj
`;var wo=`BT
/`;return wo+=mt+" "+Ye+` Tf
`,wo+=T(Ye*_n)+` TL
`,wo+=rl+`
`,wo+=Hr,wo+=L,ce(wo+="ET"),h[mt]=!0,Et};var $t=p.__private__.clip=p.clip=function(L){return ce(L==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return $t("evenodd")},p.__private__.discardPath=p.discardPath=function(){return ce("n"),this};var Ot=p.__private__.isValidStyle=function(L){var ne=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(L)!==-1&&(ne=!0),ne};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(L){return Ot(L)&&(c=L),this};var Lt=p.__private__.getStyle=p.getStyle=function(L){var ne=c;switch(L){case"D":case"S":ne="S";break;case"F":ne="f";break;case"FD":case"DF":ne="B";break;case"f":case"f*":case"B":case"B*":ne=L}return ne},ft=p.close=function(){return ce("h"),this};p.stroke=function(){return ce("S"),this},p.fill=function(L){return Bt("f",L),this},p.fillEvenOdd=function(L){return Bt("f*",L),this},p.fillStroke=function(L){return Bt("B",L),this},p.fillStrokeEvenOdd=function(L){return Bt("B*",L),this};var Bt=function(L,ne){xn(ne)==="object"?Tn(ne,L):ce(L)},Sr=function(L){L===null||b===w.ADVANCED&&L===void 0||(L=Lt(L),ce(L))};function en(L,ne,Ee,Oe,qe){var ct=new R0(ne||this.boundingBox,Ee||this.xStep,Oe||this.yStep,this.gState,qe||this.matrix);ct.stream=this.stream;var Nt=L+"$$"+this.cloneIndex+++"$$";return Br(Nt,ct),ct}var Tn=function(L,ne){var Ee=nt[L.key],Oe=rt[Ee];if(Oe instanceof Ld)ce("q"),ce(Wr(ne)),Oe.gState&&p.setGState(Oe.gState),ce(L.matrix.toString()+" cm"),ce("/"+Ee+" sh"),ce("Q");else if(Oe instanceof R0){var qe=new zt(1,0,0,-1,0,Ri());L.matrix&&(qe=qe.multiply(L.matrix||Bn),Ee=en.call(Oe,L.key,L.boundingBox,L.xStep,L.yStep,qe).id),ce("q"),ce("/Pattern cs"),ce("/"+Ee+" scn"),Oe.gState&&p.setGState(Oe.gState),ce(ne),ce("Q")}},Wr=function(L){switch(L){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},wn=p.moveTo=function(L,ne){return ce(T(E(L))+" "+T(U(ne))+" m"),this},pn=p.lineTo=function(L,ne){return ce(T(E(L))+" "+T(U(ne))+" l"),this},Yr=p.curveTo=function(L,ne,Ee,Oe,qe,ct){return ce([T(E(L)),T(U(ne)),T(E(Ee)),T(U(Oe)),T(E(qe)),T(U(ct)),"c"].join(" ")),this};p.__private__.line=p.line=function(L,ne,Ee,Oe,qe){if(isNaN(L)||isNaN(ne)||isNaN(Ee)||isNaN(Oe)||!Ot(qe))throw new Error("Invalid arguments passed to jsPDF.line");return b===w.COMPAT?this.lines([[Ee-L,Oe-ne]],L,ne,[1,1],qe||"S"):this.lines([[Ee-L,Oe-ne]],L,ne,[1,1]).stroke()},p.__private__.lines=p.lines=function(L,ne,Ee,Oe,qe,ct){var Nt,Gt,A,B,Q,fe,Ve,et,Et,Er,Hr,kr;if(typeof L=="number"&&(kr=Ee,Ee=ne,ne=L,L=kr),Oe=Oe||[1,1],ct=ct||!1,isNaN(ne)||isNaN(Ee)||!Array.isArray(L)||!Array.isArray(Oe)||!Ot(qe)||typeof ct!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(wn(ne,Ee),Nt=Oe[0],Gt=Oe[1],B=L.length,Er=ne,Hr=Ee,A=0;A<B;A++)(Q=L[A]).length===2?(Er=Q[0]*Nt+Er,Hr=Q[1]*Gt+Hr,pn(Er,Hr)):(fe=Q[0]*Nt+Er,Ve=Q[1]*Gt+Hr,et=Q[2]*Nt+Er,Et=Q[3]*Gt+Hr,Er=Q[4]*Nt+Er,Hr=Q[5]*Gt+Hr,Yr(fe,Ve,et,Et,Er,Hr));return ct&&ft(),Sr(qe),this},p.path=function(L){for(var ne=0;ne<L.length;ne++){var Ee=L[ne],Oe=Ee.c;switch(Ee.op){case"m":wn(Oe[0],Oe[1]);break;case"l":pn(Oe[0],Oe[1]);break;case"c":Yr.apply(this,Oe);break;case"h":ft()}}return this},p.__private__.rect=p.rect=function(L,ne,Ee,Oe,qe){if(isNaN(L)||isNaN(ne)||isNaN(Ee)||isNaN(Oe)||!Ot(qe))throw new Error("Invalid arguments passed to jsPDF.rect");return b===w.COMPAT&&(Oe=-Oe),ce([T(E(L)),T(U(ne)),T(E(Ee)),T(E(Oe)),"re"].join(" ")),Sr(qe),this},p.__private__.triangle=p.triangle=function(L,ne,Ee,Oe,qe,ct,Nt){if(isNaN(L)||isNaN(ne)||isNaN(Ee)||isNaN(Oe)||isNaN(qe)||isNaN(ct)||!Ot(Nt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ee-L,Oe-ne],[qe-Ee,ct-Oe],[L-qe,ne-ct]],L,ne,[1,1],Nt,!0),this},p.__private__.roundedRect=p.roundedRect=function(L,ne,Ee,Oe,qe,ct,Nt){if(isNaN(L)||isNaN(ne)||isNaN(Ee)||isNaN(Oe)||isNaN(qe)||isNaN(ct)||!Ot(Nt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Gt=4/3*(Math.SQRT2-1);return qe=Math.min(qe,.5*Ee),ct=Math.min(ct,.5*Oe),this.lines([[Ee-2*qe,0],[qe*Gt,0,qe,ct-ct*Gt,qe,ct],[0,Oe-2*ct],[0,ct*Gt,-qe*Gt,ct,-qe,ct],[2*qe-Ee,0],[-qe*Gt,0,-qe,-ct*Gt,-qe,-ct],[0,2*ct-Oe],[0,-ct*Gt,qe*Gt,-ct,qe,-ct]],L+qe,ne,[1,1],Nt,!0),this},p.__private__.ellipse=p.ellipse=function(L,ne,Ee,Oe,qe){if(isNaN(L)||isNaN(ne)||isNaN(Ee)||isNaN(Oe)||!Ot(qe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ct=4/3*(Math.SQRT2-1)*Ee,Nt=4/3*(Math.SQRT2-1)*Oe;return wn(L+Ee,ne),Yr(L+Ee,ne-Nt,L+ct,ne-Oe,L,ne-Oe),Yr(L-ct,ne-Oe,L-Ee,ne-Nt,L-Ee,ne),Yr(L-Ee,ne+Nt,L-ct,ne+Oe,L,ne+Oe),Yr(L+ct,ne+Oe,L+Ee,ne+Nt,L+Ee,ne),Sr(qe),this},p.__private__.circle=p.circle=function(L,ne,Ee,Oe){if(isNaN(L)||isNaN(ne)||isNaN(Ee)||!Ot(Oe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(L,ne,Ee,Ee,Oe)},p.setFont=function(L,ne,Ee){return Ee&&(ne=O(ne,Ee)),mt=Zo(L,ne,{disableWarning:!1}),this};var Ps=p.__private__.getFont=p.getFont=function(){return _r[Zo.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var L,ne,Ee={};for(L in Dr)if(Dr.hasOwnProperty(L))for(ne in Ee[L]=[],Dr[L])Dr[L].hasOwnProperty(ne)&&Ee[L].push(ne);return Ee},p.addFont=function(L,ne,Ee,Oe,qe){var ct=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ct.indexOf(arguments[3])!==-1?qe=arguments[3]:arguments[3]&&ct.indexOf(arguments[3])==-1&&(Ee=O(Ee,Oe)),qe=qe||"Identity-H",Sc.call(this,L,ne,Ee,qe)};var tn,Tc=e.lineWidth||.200025,ju=p.__private__.getLineWidth=p.getLineWidth=function(){return Tc},hd=p.__private__.setLineWidth=p.setLineWidth=function(L){return Tc=L,ce(T(E(L))+" w"),this};p.__private__.setLineDash=gr.API.setLineDash=gr.API.setLineDashPattern=function(L,ne){if(L=L||[],ne=ne||0,isNaN(ne)||!Array.isArray(L))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return L=L.map(function(Ee){return T(E(Ee))}).join(" "),ne=T(E(ne)),ce("["+L+"] "+ne+" d"),this};var pd=p.__private__.getLineHeight=p.getLineHeight=function(){return Ye*tn};p.__private__.getLineHeight=p.getLineHeight=function(){return Ye*tn};var md=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(L){return typeof(L=L||1.15)=="number"&&(tn=L),this},Nc=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return tn};md(e.lineHeight);var Qs=p.__private__.getHorizontalCoordinate=function(L){return E(L)},Wa=p.__private__.getVerticalCoordinate=function(L){return b===w.ADVANCED?L:Dt[M].mediaBox.topRightY-Dt[M].mediaBox.bottomLeftY-E(L)},$h=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(L){return T(Qs(L))},Bl=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(L){return T(Wa(L))},yi=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Ae(yi)},p.__private__.setStrokeColor=p.setDrawColor=function(L,ne,Ee,Oe){return yi=Z({ch1:L,ch2:ne,ch3:Ee,ch4:Oe,pdfColorType:"draw",precision:2}),ce(yi),this};var Ou=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Ae(Ou)},p.__private__.setFillColor=p.setFillColor=function(L,ne,Ee,Oe){return Ou=Z({ch1:L,ch2:ne,ch3:Ee,ch4:Oe,pdfColorType:"fill",precision:2}),ce(Ou),this};var rl=e.textColor||"0 g",Iu=p.__private__.getTextColor=p.getTextColor=function(){return Ae(rl)};p.__private__.setTextColor=p.setTextColor=function(L,ne,Ee,Oe){return rl=Z({ch1:L,ch2:ne,ch3:Ee,ch4:Oe,pdfColorType:"text",precision:3}),this};var Ec=e.charSpace,Du=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Ec||0)};p.__private__.setCharSpace=p.setCharSpace=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ec=L,this};var gd=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(L){var ne=p.CapJoinStyles[L];if(ne===void 0)throw new Error("Line cap style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return gd=ne,ce(ne+" J"),this};var Lu=0;p.__private__.setLineJoin=p.setLineJoin=function(L){var ne=p.CapJoinStyles[L];if(ne===void 0)throw new Error("Line join style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Lu=ne,ce(ne+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(L){if(L=L||0,isNaN(L))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ce(T(E(L))+" M"),this},p.GState=Pw,p.setGState=function(L){(L=typeof L=="string"?st[Ct[L]]:Ul(null,L)).equals(Ut)||(ce("/"+L.id+" gs"),Ut=L)};var Ul=function(L,ne){if(!L||!Ct[L]){var Ee=!1;for(var Oe in st)if(st.hasOwnProperty(Oe)&&st[Oe].equals(ne)){Ee=!0;break}if(Ee)ne=st[Oe];else{var qe="GS"+(Object.keys(st).length+1).toString(10);st[qe]=ne,ne.id=qe}return L&&(Ct[L]=ne.id),Vt.publish("addGState",ne),ne}};p.addGState=function(L,ne){return Ul(L,ne),this},p.saveGraphicsState=function(){return ce("q"),De.push({key:mt,size:Ye,color:rl}),this},p.restoreGraphicsState=function(){ce("Q");var L=De.pop();return mt=L.key,Ye=L.size,rl=L.color,Ut=null,this},p.setCurrentTransformationMatrix=function(L){return ce(L.toString()+" cm"),this},p.comment=function(L){return ce("#"+L),this};var kc=function(L,ne){var Ee=L||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ee},set:function(ct){isNaN(ct)||(Ee=parseFloat(ct))}});var Oe=ne||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Oe},set:function(ct){isNaN(ct)||(Oe=parseFloat(ct))}});var qe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return qe},set:function(ct){qe=ct.toString()}}),this},Mu=function(L,ne,Ee,Oe){kc.call(this,L,ne),this.type="rect";var qe=Ee||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return qe},set:function(Nt){isNaN(Nt)||(qe=parseFloat(Nt))}});var ct=Oe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ct},set:function(Nt){isNaN(Nt)||(ct=parseFloat(Nt))}}),this},Cc=function(){this.page=Pt,this.currentPage=M,this.pages=xe.slice(0),this.pagesContext=Dt.slice(0),this.x=Xt,this.y=Kt,this.matrix=jr,this.width=Vl(M),this.height=Ri(M),this.outputDestination=Pe,this.id="",this.objectNumber=-1};Cc.prototype.restore=function(){Pt=this.page,M=this.currentPage,Dt=this.pagesContext,xe=this.pages,Xt=this.x,Kt=this.y,jr=this.matrix,Fu(M,this.width),$u(M,this.height),Pe=this.outputDestination};var Ru=function(L,ne,Ee,Oe,qe){mr.push(new Cc),Pt=M=0,xe=[],Xt=L,Kt=ne,jr=qe,ii([Ee,Oe])},Bh=function(L){if(Tr[L])mr.pop().restore();else{var ne=new Cc,Ee="Xo"+(Object.keys(or).length+1).toString(10);ne.id=Ee,Tr[L]=Ee,or[Ee]=ne,Vt.publish("addFormObject",ne),mr.pop().restore()}};for(var nl in p.beginFormObject=function(L,ne,Ee,Oe,qe){return Ru(L,ne,Ee,Oe,qe),this},p.endFormObject=function(L){return Bh(L),this},p.doFormObject=function(L,ne){var Ee=or[Tr[L]];return ce("q"),ce(ne.toString()+" cm"),ce("/"+Ee.id+" Do"),ce("Q"),this},p.getFormObject=function(L){var ne=or[Tr[L]];return{x:ne.x,y:ne.y,width:ne.width,height:ne.height,matrix:ne.matrix}},p.save=function(L,ne){return L=L||"generated.pdf",(ne=ne||{}).returnPromise=ne.returnPromise||!1,ne.returnPromise===!1?(Id(tl(Xs()),L),typeof Id.unload=="function"&&vr.setTimeout&&setTimeout(Id.unload,911),this):new Promise(function(Ee,Oe){try{var qe=Id(tl(Xs()),L);typeof Id.unload=="function"&&vr.setTimeout&&setTimeout(Id.unload,911),Ee(qe)}catch(ct){Oe(ct.message)}})},gr.API)gr.API.hasOwnProperty(nl)&&(nl==="events"&&gr.API.events.length?function(L,ne){var Ee,Oe,qe;for(qe=ne.length-1;qe!==-1;qe--)Ee=ne[qe][0],Oe=ne[qe][1],L.subscribe.apply(L,[Ee].concat(typeof Oe=="function"?[Oe]:Oe))}(Vt,gr.API.events):p[nl]=gr.API[nl]);var Vl=p.getPageWidth=function(L){return(Dt[L=L||M].mediaBox.topRightX-Dt[L].mediaBox.bottomLeftX)/ut},Fu=p.setPageWidth=function(L,ne){Dt[L].mediaBox.topRightX=ne*ut+Dt[L].mediaBox.bottomLeftX},Ri=p.getPageHeight=function(L){return(Dt[L=L||M].mediaBox.topRightY-Dt[L].mediaBox.bottomLeftY)/ut},$u=p.setPageHeight=function(L,ne){Dt[L].mediaBox.topRightY=ne*ut+Dt[L].mediaBox.bottomLeftY};return p.internal={pdfEscape:Zn,getStyle:Lt,getFont:Ps,getFontSize:$e,getCharSpace:Du,getTextColor:Iu,getLineHeight:pd,getLineHeightFactor:Nc,getLineWidth:ju,write:Fe,getHorizontalCoordinate:Qs,getVerticalCoordinate:Wa,getCoordinateString:$h,getVerticalCoordinateString:Bl,collections:{},newObject:An,newAdditionalObject:ye,newObjectDeferred:gn,newObjectDeferredBegin:oe,getFilters:be,putStream:ke,events:Vt,scaleFactor:ut,pageSize:{getWidth:function(){return Vl(M)},setWidth:function(L){Fu(M,L)},getHeight:function(){return Ri(M)},setHeight:function(L){$u(M,L)}},encryptionOptions:u,encryption:we,getEncryptor:Ze,output:$l,getNumberOfPages:vn,pages:xe,out:ce,f2:j,f3:N,getPageInfo:Rt,getPageInfoByObjId:at,getCurrentPageInfo:pt,getPDFVersion:m,Point:kc,Rectangle:Mu,Matrix:zt,hasHotfix:te},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Vl(M)},set:function(L){Fu(M,L)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Ri(M)},set:function(L){$u(M,L)},enumerable:!0,configurable:!0}),Cu.call(p,Le),mt="F1",Jo(a,r),Vt.publish("initialized"),p}p0.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},p0.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},p0.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},p0.prototype.processOwnerPassword=function(e,t){return yN(vN(t).substr(0,5),e)},p0.prototype.encryptor=function(e,t){var r=vN(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return yN(r,n)}},Pw.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||xn(e)!==xn(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},gr.API={events:[]},gr.version="3.0.1";var ma=gr.API,jP=1,Fh=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},l0=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Cr=function(e){return e.toFixed(2)},tf=function(e){return e.toFixed(5)};ma.__acroform__={};var Gs=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},AR=function(e){return e*jP},Yl=function(e){var t=new zK,r=rr.internal.getHeight(e)||0,n=rr.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Cr(n)),Number(Cr(r))],t},E9e=ma.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},k9e=ma.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},C9e=ma.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Ea=ma.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return C9e(e,t-1)},ka=ma.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return E9e(e,t-1)},Ca=ma.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return k9e(e,t-1)},P9e=ma.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],s=e[2],o=e[3],l={};return l.lowerLeft_X=r(a)||0,l.lowerLeft_Y=n(i+o)||0,l.upperRight_X=r(a+s)||0,l.upperRight_Y=n(i)||0,[Number(Cr(l.lowerLeft_X)),Number(Cr(l.lowerLeft_Y)),Number(Cr(l.upperRight_X)),Number(Cr(l.upperRight_Y))]},j9e=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=xN(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+Cr(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Yl(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},xN=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(N){return N.split(`
`)}):a.map(function(N){return[N]});var i=r,s=rr.internal.getHeight(e)||0;s=s<0?-s:s;var o=rr.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(N,E,k){if(N+1<a.length){var U=E+" "+a[N+1][0];return Ux(U,e,k).width<=o-4}return!1};i++;e:for(;i>0;){t="",i--;var c,u,d=Ux("3",e,i).height,h=e.multiline?s-i:(s-d)/2,p=h+=2,g=0,m=0,v=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+Ux(t,e,i=12).width+", FieldWidth:"+o+`
`;break}for(var y="",w=0,b=0;b<a.length;b++)if(a.hasOwnProperty(b)){var D=!1;if(a[b].length!==1&&v!==a[b].length-1){if((d+2)*(w+2)+2>s)continue e;y+=a[b][v],D=!0,m=b,b--}else{y=(y+=a[b][v]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var P=parseInt(b),O=l(P,y,i),T=b>=a.length-1;if(O&&!T){y+=" ",v=0;continue}if(O||T){if(T)m=P;else if(e.multiline&&(d+2)*(w+2)+2>s)continue e}else{if(!e.multiline||(d+2)*(w+2)+2>s)continue e;m=P}}for(var S="",_=g;_<=m;_++){var j=a[_];if(e.multiline){if(_===m){S+=j[v]+" ",v=(v+1)%j.length;continue}if(_===g){S+=j[j.length-1]+" ";continue}}S+=j[0]+" "}switch(S=S.substr(S.length-1)==" "?S.substr(0,S.length-1):S,u=Ux(S,e,i).width,e.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;case"left":default:c=2}t+=Cr(c)+" "+Cr(p)+` Td
`,t+="("+Fh(S)+`) Tj
`,t+=-Cr(c)+` 0 Td
`,p=-(i+2),u=0,g=D?m:m+1,w++,y=""}break}return n.text=t,n.fontSize=i,n},Ux=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},O9e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},I9e=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},D9e=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,a=e[r];t.internal.newObjectDeferredBegin(a.objId,!0),xn(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[n]}},L9e=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Ml.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(O9e)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");jP=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new qK,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&I9e(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var s in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],l=[],c=o.Rect;if(o.Rect&&(o.Rect=P9e(o.Rect,a)),a.internal.newObjectDeferredBegin(o.objId,!0),o.DA=rr.createDefaultAppearanceStream(o),xn(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=j9e(o);l.push({key:"AP",value:"<</N "+u+">>"}),a.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var d="";for(var h in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(h)){var p=o.appearanceStreamContent[h];if(d+="/"+h+" ",d+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var s in p)if(p.hasOwnProperty(s)){var g=p[s];typeof g=="function"&&(g=g.call(a,o)),d+="/"+s+" "+g+" ",a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g)}}else typeof(g=p)=="function"&&(g=g.call(a,o)),d+="/"+s+" "+g,a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}a.internal.putStream({additionalKeyValues:l,objectId:o.objId}),a.internal.out("endobj")}i&&D9e(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},VK=ma.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(s){return s};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),xn(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+Fh(n(e[i].toString()))+")"):a+=e[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},PA=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Fh(n(e))+")"},ec=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ec.prototype.toString=function(){return this.objId+" 0 R"},ec.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},ec.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:VK(a,this.objId,this.scope)}):a instanceof ec?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var zK=function(){ec.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Gs(zK,ec);var qK=function(){ec.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Fh(r(e))+")"}},set:function(r){e=r}})};Gs(qK,ec);var Ml=function e(){ec.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');t=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ea(t,3)},set:function(y){y?this.F=ka(t,3):this.F=Ca(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');r=y}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(y){n=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(y){n[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(y){n[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(y){n[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(y){n[3]=y}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof jw)return;i="FieldObject"+e.FieldNum++}var y=function(w){return w};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+Fh(y(i))+")"},set:function(y){i=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(y){i=y}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(y){s=y}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/jP:c},set:function(y){c=y}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(y){u=y}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof jw||this instanceof nh))return PA(d,this.objId,this.scope)},set:function(y){y=y.toString(),d=y}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof di?h:PA(h,this.objId,this.scope)},set:function(y){y=y.toString(),h=this instanceof di?y:y.substr(0,1)==="("?l0(y.substr(1,y.length-2)):l0(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof di?l0(h.substr(1,h.length-1)):h},set:function(y){y=y.toString(),h=this instanceof di?"/"+y:y}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof di?p:PA(p,this.objId,this.scope)},set:function(y){y=y.toString(),p=this instanceof di?y:y.substr(0,1)==="("?l0(y.substr(1,y.length-2)):l0(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof di?l0(p.substr(1,p.length-1)):p},set:function(y){y=y.toString(),p=this instanceof di?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(y){y=!!y,m=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(y){g=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ea(this.Ff,1)},set:function(y){y?this.Ff=ka(this.Ff,1):this.Ff=Ca(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ea(this.Ff,2)},set:function(y){y?this.Ff=ka(this.Ff,2):this.Ff=Ca(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ea(this.Ff,3)},set:function(y){y?this.Ff=ka(this.Ff,3):this.Ff=Ca(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');v=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(v){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:v=2;break;case"center":case 1:v=1;break;case"left":case 0:default:v=0}}})};Gs(Ml,ec);var ep=function(){Ml.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return VK(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,s,o){o||(o=1);for(var l,c=[];l=s.exec(i);)c.push(l[o]);return c}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ea(this.Ff,18)},set:function(r){r?this.Ff=ka(this.Ff,18):this.Ff=Ca(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ea(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=ka(this.Ff,19):this.Ff=Ca(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ea(this.Ff,20)},set:function(r){r?(this.Ff=ka(this.Ff,20),t.sort()):this.Ff=Ca(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ea(this.Ff,22)},set:function(r){r?this.Ff=ka(this.Ff,22):this.Ff=Ca(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ea(this.Ff,23)},set:function(r){r?this.Ff=ka(this.Ff,23):this.Ff=Ca(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ea(this.Ff,27)},set:function(r){r?this.Ff=ka(this.Ff,27):this.Ff=Ca(this.Ff,27)}}),this.hasAppearanceStream=!1};Gs(ep,Ml);var tp=function(){ep.call(this),this.fontName="helvetica",this.combo=!1};Gs(tp,ep);var rp=function(){tp.call(this),this.combo=!0};Gs(rp,tp);var m2=function(){rp.call(this),this.edit=!0};Gs(m2,rp);var di=function(){Ml.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ea(this.Ff,15)},set:function(r){r?this.Ff=ka(this.Ff,15):this.Ff=Ca(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ea(this.Ff,16)},set:function(r){r?this.Ff=ka(this.Ff,16):this.Ff=Ca(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ea(this.Ff,17)},set:function(r){r?this.Ff=ka(this.Ff,17):this.Ff=Ca(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ea(this.Ff,26)},set:function(r){r?this.Ff=ka(this.Ff,26):this.Ff=Ca(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+Fh(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){xn(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Gs(di,Ml);var g2=function(){di.call(this),this.pushButton=!0};Gs(g2,di);var np=function(){di.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Gs(np,di);var jw=function(){var e,t;Ml.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(o){return o};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,s=[];for(i in s.push("<<"),n)s.push("/"+i+" ("+Fh(a(n[i]))+")");return s.push(">>"),s.join(`
`)},set:function(a){xn(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=rr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Gs(jw,Ml),np.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},np.prototype.createOption=function(e){var t=new jw;return t.Parent=this,t.optionName=e,this.Kids.push(t),M9e.call(this.scope,t),t};var v2=function(){di.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=rr.CheckBox.createAppearanceStream()};Gs(v2,di);var nh=function(){Ml.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ea(this.Ff,13)},set:function(t){t?this.Ff=ka(this.Ff,13):this.Ff=Ca(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ea(this.Ff,21)},set:function(t){t?this.Ff=ka(this.Ff,21):this.Ff=Ca(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ea(this.Ff,23)},set:function(t){t?this.Ff=ka(this.Ff,23):this.Ff=Ca(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ea(this.Ff,24)},set:function(t){t?this.Ff=ka(this.Ff,24):this.Ff=Ca(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ea(this.Ff,25)},set:function(t){t?this.Ff=ka(this.Ff,25):this.Ff=Ca(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ea(this.Ff,26)},set:function(t){t?this.Ff=ka(this.Ff,26):this.Ff=Ca(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Gs(nh,Ml);var y2=function(){nh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ea(this.Ff,14)},set:function(e){e?this.Ff=ka(this.Ff,14):this.Ff=Ca(this.Ff,14)}}),this.password=!0};Gs(y2,nh);var rr={CheckBox:{createAppearanceStream:function(){return{N:{On:rr.CheckBox.YesNormal},D:{On:rr.CheckBox.YesPushDown,Off:rr.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Yl(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=xN(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Cr(rr.internal.getWidth(e))+" "+Cr(rr.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Cr(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Yl(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=rr.internal.getHeight(e),s=rr.internal.getWidth(e),o=xN(e,e.caption);return a.push("1 g"),a.push("0 0 "+Cr(s)+" "+Cr(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Cr(s-1)+" "+Cr(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+Cr(o.fontSize)+" Tf "+n),a.push(o.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=Yl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Cr(rr.internal.getWidth(e))+" "+Cr(rr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:rr.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=rr.RadioButton.Circle.YesNormal,t.D[e]=rr.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Yl(e);t.scope=e.scope;var r=[],n=rr.internal.getWidth(e)<=rr.internal.getHeight(e)?rr.internal.getWidth(e)/4:rr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=rr.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+tf(rr.internal.getWidth(e)/2)+" "+tf(rr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Yl(e);t.scope=e.scope;var r=[],n=rr.internal.getWidth(e)<=rr.internal.getHeight(e)?rr.internal.getWidth(e)/4:rr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*rr.internal.Bezier_C).toFixed(5)),s=Number((n*rr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+tf(rr.internal.getWidth(e)/2)+" "+tf(rr.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+tf(rr.internal.getWidth(e)/2)+" "+tf(rr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Yl(e);t.scope=e.scope;var r=[],n=rr.internal.getWidth(e)<=rr.internal.getHeight(e)?rr.internal.getWidth(e)/4:rr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*rr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+tf(rr.internal.getWidth(e)/2)+" "+tf(rr.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:rr.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=rr.RadioButton.Cross.YesNormal,t.D[e]=rr.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Yl(e);t.scope=e.scope;var r=[],n=rr.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Cr(rr.internal.getWidth(e)-2)+" "+Cr(rr.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Cr(n.x1.x)+" "+Cr(n.x1.y)+" m"),r.push(Cr(n.x2.x)+" "+Cr(n.x2.y)+" l"),r.push(Cr(n.x4.x)+" "+Cr(n.x4.y)+" m"),r.push(Cr(n.x3.x)+" "+Cr(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Yl(e);t.scope=e.scope;var r=rr.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Cr(rr.internal.getWidth(e))+" "+Cr(rr.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Cr(rr.internal.getWidth(e)-2)+" "+Cr(rr.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Cr(r.x1.x)+" "+Cr(r.x1.y)+" m"),n.push(Cr(r.x2.x)+" "+Cr(r.x2.y)+" l"),n.push(Cr(r.x4.x)+" "+Cr(r.x4.y)+" m"),n.push(Cr(r.x3.x)+" "+Cr(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Yl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Cr(rr.internal.getWidth(e))+" "+Cr(rr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};rr.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=rr.internal.getWidth(e),r=rr.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},rr.internal.getWidth=function(e){var t=0;return xn(e)==="object"&&(t=AR(e.Rect[2])),t},rr.internal.getHeight=function(e){var t=0;return xn(e)==="object"&&(t=AR(e.Rect[3])),t};var M9e=ma.addField=function(e){if(L9e(this,e),!(e instanceof Ml))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};ma.AcroFormChoiceField=ep,ma.AcroFormListBox=tp,ma.AcroFormComboBox=rp,ma.AcroFormEditBox=m2,ma.AcroFormButton=di,ma.AcroFormPushButton=g2,ma.AcroFormRadioButton=np,ma.AcroFormCheckBox=v2,ma.AcroFormTextField=nh,ma.AcroFormPasswordField=y2,ma.AcroFormAppearance=rr,ma.AcroForm={ChoiceField:ep,ListBox:tp,ComboBox:rp,EditBox:m2,Button:di,PushButton:g2,RadioButton:np,CheckBox:v2,TextField:nh,PasswordField:y2,Appearance:rr},gr.AcroForm={ChoiceField:ep,ListBox:tp,ComboBox:rp,EditBox:m2,Button:di,PushButton:g2,RadioButton:np,CheckBox:v2,TextField:nh,PasswordField:y2,Appearance:rr};function WK(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(N,E){var k,U,G,z,X,V=t;if((E=E||t)==="RGBA"||N.data!==void 0&&N.data instanceof Uint8ClampedArray&&"height"in N&&"width"in N)return"RGBA";if(O(N))for(X in r)for(G=r[X],k=0;k<G.length;k+=1){for(z=!0,U=0;U<G[k].length;U+=1)if(G[k][U]!==void 0&&G[k][U]!==N[U]){z=!1;break}if(z===!0){V=X;break}}else for(X in r)for(G=r[X],k=0;k<G.length;k+=1){for(z=!0,U=0;U<G[k].length;U+=1)if(G[k][U]!==void 0&&G[k][U]!==N.charCodeAt(U)){z=!1;break}if(z===!0){V=X;break}}return V===t&&E!==t&&(V=E),V},a=function N(E){for(var k=this.internal.write,U=this.internal.putStream,G=(0,this.internal.getFilters)();G.indexOf("FlateEncode")!==-1;)G.splice(G.indexOf("FlateEncode"),1);E.objectId=this.internal.newObject();var z=[];if(z.push({key:"Type",value:"/XObject"}),z.push({key:"Subtype",value:"/Image"}),z.push({key:"Width",value:E.width}),z.push({key:"Height",value:E.height}),E.colorSpace===v.INDEXED?z.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(E.palette.length/3-1)+" "+("sMask"in E&&E.sMask!==void 0?E.objectId+2:E.objectId+1)+" 0 R]"}):(z.push({key:"ColorSpace",value:"/"+E.colorSpace}),E.colorSpace===v.DEVICE_CMYK&&z.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),z.push({key:"BitsPerComponent",value:E.bitsPerComponent}),"decodeParameters"in E&&E.decodeParameters!==void 0&&z.push({key:"DecodeParms",value:"<<"+E.decodeParameters+">>"}),"transparency"in E&&Array.isArray(E.transparency)){for(var X="",V=0,H=E.transparency.length;V<H;V++)X+=E.transparency[V]+" "+E.transparency[V]+" ";z.push({key:"Mask",value:"["+X+"]"})}E.sMask!==void 0&&z.push({key:"SMask",value:E.objectId+1+" 0 R"});var re=E.filter!==void 0?["/"+E.filter]:void 0;if(U({data:E.data,additionalKeyValues:z,alreadyAppliedFilters:re,objectId:E.objectId}),k("endobj"),"sMask"in E&&E.sMask!==void 0){var ee="/Predictor "+E.predictor+" /Colors 1 /BitsPerComponent "+E.bitsPerComponent+" /Columns "+E.width,I={width:E.width,height:E.height,colorSpace:"DeviceGray",bitsPerComponent:E.bitsPerComponent,decodeParameters:ee,data:E.sMask};"filter"in E&&(I.filter=E.filter),N.call(this,I)}if(E.colorSpace===v.INDEXED){var M=this.internal.newObject();U({data:S(new Uint8Array(E.palette)),objectId:M}),k("endobj")}},i=function(){var N=this.internal.collections.addImage_images;for(var E in N)a.call(this,N[E])},s=function(){var N,E=this.internal.collections.addImage_images,k=this.internal.write;for(var U in E)k("/I"+(N=E[U]).index,N.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",s))},l=function(){var N=this.internal.collections.addImage_images;return o.call(this),N},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(N){return typeof e["process"+N.toUpperCase()]=="function"},d=function(N){return xn(N)==="object"&&N.nodeType===1},h=function(N,E){if(N.nodeName==="IMG"&&N.hasAttribute("src")){var k=""+N.getAttribute("src");if(k.indexOf("data:image/")===0)return iv(unescape(k).split("base64,").pop());var U=e.loadFile(k,!0);if(U!==void 0)return U}if(N.nodeName==="CANVAS"){if(N.width===0||N.height===0)throw new Error("Given canvas must have data. Canvas width: "+N.width+", height: "+N.height);var G;switch(E){case"PNG":G="image/png";break;case"WEBP":G="image/webp";break;case"JPEG":case"JPG":default:G="image/jpeg"}return iv(N.toDataURL(G,1).split("base64,").pop())}},p=function(N){var E=this.internal.collections.addImage_images;if(E){for(var k in E)if(N===E[k].alias)return E[k]}},g=function(N,E,k){return N||E||(N=-96,E=-96),N<0&&(N=-1*k.width*72/N/this.internal.scaleFactor),E<0&&(E=-1*k.height*72/E/this.internal.scaleFactor),N===0&&(N=E*k.width/k.height),E===0&&(E=N*k.height/k.width),[N,E]},m=function(N,E,k,U,G,z){var X=g.call(this,k,U,G),V=this.internal.getCoordinateString,H=this.internal.getVerticalCoordinateString,re=l.call(this);if(k=X[0],U=X[1],re[G.index]=G,z){z*=Math.PI/180;var ee=Math.cos(z),I=Math.sin(z),M=function(K){return K.toFixed(4)},q=[M(ee),M(I),M(-1*I),M(ee),0,0,"cm"]}this.internal.write("q"),z?(this.internal.write([1,"0","0",1,V(N),H(E+U),"cm"].join(" ")),this.internal.write(q.join(" ")),this.internal.write([V(k),"0","0",V(U),"0","0","cm"].join(" "))):this.internal.write([V(k),"0","0",V(U),V(N),H(E+U),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+G.index+" Do"),this.internal.write("Q")},v=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=e.__addimage__.sHashCode=function(N){var E,k,U=0;if(typeof N=="string")for(k=N.length,E=0;E<k;E++)U=(U<<5)-U+N.charCodeAt(E),U|=0;else if(O(N))for(k=N.byteLength/2,E=0;E<k;E++)U=(U<<5)-U+N[E],U|=0;return U},b=e.__addimage__.validateStringAsBase64=function(N){(N=N||"").toString().trim();var E=!0;return N.length===0&&(E=!1),N.length%4!=0&&(E=!1),/^[A-Za-z0-9+/]+$/.test(N.substr(0,N.length-2))===!1&&(E=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(N.substr(-2))===!1&&(E=!1),E},D=e.__addimage__.extractImageFromDataUrl=function(N){if(N==null||!(N=N.trim()).startsWith("data:"))return null;var E=N.indexOf(",");return E<0?null:N.substring(0,E).trim().endsWith("base64")?N.substring(E+1):null},P=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(N){return P()&&N instanceof ArrayBuffer};var O=e.__addimage__.isArrayBufferView=function(N){return P()&&typeof Uint32Array<"u"&&(N instanceof Int8Array||N instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&N instanceof Uint8ClampedArray||N instanceof Int16Array||N instanceof Uint16Array||N instanceof Int32Array||N instanceof Uint32Array||N instanceof Float32Array||N instanceof Float64Array)},T=e.__addimage__.binaryStringToUint8Array=function(N){for(var E=N.length,k=new Uint8Array(E),U=0;U<E;U++)k[U]=N.charCodeAt(U);return k},S=e.__addimage__.arrayBufferToBinaryString=function(N){for(var E="",k=O(N)?N:new Uint8Array(N),U=0;U<k.length;U+=8192)E+=String.fromCharCode.apply(null,k.subarray(U,U+8192));return E};e.addImage=function(){var N,E,k,U,G,z,X,V,H;if(typeof arguments[1]=="number"?(E=t,k=arguments[1],U=arguments[2],G=arguments[3],z=arguments[4],X=arguments[5],V=arguments[6],H=arguments[7]):(E=arguments[1],k=arguments[2],U=arguments[3],G=arguments[4],z=arguments[5],X=arguments[6],V=arguments[7],H=arguments[8]),xn(N=arguments[0])==="object"&&!d(N)&&"imageData"in N){var re=N;N=re.imageData,E=re.format||E||t,k=re.x||k||0,U=re.y||U||0,G=re.w||re.width||G,z=re.h||re.height||z,X=re.alias||X,V=re.compression||V,H=re.rotation||re.angle||H}var ee=this.internal.getFilters();if(V===void 0&&ee.indexOf("FlateEncode")!==-1&&(V="SLOW"),isNaN(k)||isNaN(U))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var I=_.call(this,N,E,X,V);return m.call(this,k,U,G,z,I,H),this};var _=function(N,E,k,U){var G,z,X;if(typeof N=="string"&&n(N)===t){N=unescape(N);var V=j(N,!1);(V!==""||(V=e.loadFile(N,!0))!==void 0)&&(N=V)}if(d(N)&&(N=h(N,E)),E=n(N,E),!u(E))throw new Error("addImage does not support files of type '"+E+"', please ensure that a plugin for '"+E+"' support is added.");if(((X=k)==null||X.length===0)&&(k=function(H){return typeof H=="string"||O(H)?w(H):O(H.data)?w(H.data):null}(N)),(G=p.call(this,k))||(P()&&(N instanceof Uint8Array||E==="RGBA"||(z=N,N=T(N))),G=this["process"+E.toUpperCase()](N,c.call(this),k,function(H){return H&&typeof H=="string"&&(H=H.toUpperCase()),H in e.image_compression?H:y.NONE}(U),z)),!G)throw new Error("An unknown error occurred whilst processing the image.");return G},j=e.__addimage__.convertBase64ToBinaryString=function(N,E){E=typeof E!="boolean"||E;var k,U="";if(typeof N=="string"){var G;k=(G=D(N))!==null&&G!==void 0?G:N;try{U=iv(k)}catch(z){if(E)throw b(k)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+z.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return U};e.getImageProperties=function(N){var E,k,U="";if(d(N)&&(N=h(N)),typeof N=="string"&&n(N)===t&&((U=j(N,!1))===""&&(U=e.loadFile(N)||""),N=U),k=n(N),!u(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if(!P()||N instanceof Uint8Array||(N=T(N)),!(E=this["process"+k.toUpperCase()](N)))throw new Error("An unknown error occurred whilst processing the image");return E.fileType=k,E}})(gr.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};gr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,u=!1,d=0;d<c.length&&!u;d++)switch((n=c[d]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var h=0;h<c.length;h++){n=c[h];var p=this.internal.pdfEscape,g=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(m.objId),w=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+p(y(n.contents))+")",i+=" /Popup "+v.objId+" 0 R",i+=" /P "+l.objId+" 0 R",i+=" /T ("+p(y(w))+") >>",m.content=i;var b=m.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+b,n.open&&(i+=" /Open true"),i+=" >>",v.content=i,this.internal.write(m.objId,"0 R",v.objId,"0 R");break;case"freetext":a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var D=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+p(g(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+D+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var P=this.annotations._nameMap[n.options.name];n.options.pageNumber=P.page,n.options.top=P.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+p(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var O=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+O+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,s){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+a),h:c(n+i)},options:s,type:"link"})},e.textWithLink=function(r,n,a,i){var s,o,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var u=this.splitTextToSize(r,o).length;s=Math.ceil(c*u)}else o=l,s=c;return this.text(r,n,a,i),a+=.2*c,i.align==="center"&&(n-=l/2),i.align==="right"&&(n-=l),this.link(n,a-c,o,s,i),l},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(gr.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(m){return t[m.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},o=e.__arabicParser__.isArabicEndLetter=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(m){return s(m)&&a.indexOf(m.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length==4},d=e.__arabicParser__.resolveLigatures=function(m){var v=0,y=r,w="",b=0;for(v=0;v<m.length;v+=1)y[m.charCodeAt(v)]!==void 0?(b++,typeof(y=y[m.charCodeAt(v)])=="number"&&(w+=String.fromCharCode(y),y=r,b=0),v===m.length-1&&(y=r,w+=m.charAt(v-(b-1)),v-=b-1,b=0)):(y=r,w+=m.charAt(v-b),v-=b,b=0);return w};e.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&n[m.charCodeAt(0)]!==void 0};var h=e.__arabicParser__.getCorrectForm=function(m,v,y){return s(m)?i(m)===!1?-1:!c(m)||!s(v)&&!s(y)||!s(y)&&o(v)||o(m)&&!s(v)||o(m)&&l(v)||o(m)&&o(v)?0:u(m)&&s(v)&&!o(v)&&s(y)&&c(y)?3:o(m)||!s(y)?1:2:-1},p=function(m){var v=0,y=0,w=0,b="",D="",P="",O=(m=m||"").split("\\s+"),T=[];for(v=0;v<O.length;v+=1){for(T.push(""),y=0;y<O[v].length;y+=1)b=O[v][y],D=O[v][y-1],P=O[v][y+1],s(b)?(w=h(b,D,P),T[v]+=w!==-1?String.fromCharCode(t[b.charCodeAt(0)][w]):b):T[v]+=b;T[v]=d(T[v])}return T.join(" ")},g=e.__arabicParser__.processArabic=e.processArabic=function(){var m,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(v)){var w=0;for(y=[],w=0;w<v.length;w+=1)Array.isArray(v[w])?y.push([p(v[w][0]),v[w][1],v[w][2]]):y.push([p(v[w])]);m=y}else m=p(v);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};e.events.push(["preProcessText",g])}(gr.API),gr.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(o){a=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(gr.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(m){l=m}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(m){c=m}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(m){d=m}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(m){p=m}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(m){g=m}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,c){n.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),d=c.font||this.getFont(),h=c.scaleFactor||this.internal.scaleFactor,p=0,g=0,m=0,v=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var y=c.maxWidth;y>0?typeof l=="string"?l=this.splitTextToSize(l,y):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(b,D){return b.concat(v.splitTextToSize(D,y))},[])):l=Array.isArray(l)?l:[l];for(var w=0;w<l.length;w++)p<(m=this.getStringUnitWidth(l[w],{font:d})*u)&&(p=m);return p!==0&&(g=l.length),{w:p/=h,h:Math.max((g*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/h,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var l;l=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,d=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,p&&h&&(this.printHeaderRow(l.lineNumber,!0),l.y+=h[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};e.table=function(l,c,u,d,h){if(n.call(this),!u)throw new Error("No data for PDF table.");var p,g,m,v,y=[],w=[],b=[],D={},P={},O=[],T=[],S=(h=h||{}).autoSize||!1,_=h.printHeaders!==!1,j=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,N=h.margins||Object.assign({width:this.getPageWidth()},t),E=typeof h.padding=="number"?h.padding:3,k=h.headerBackgroundColor||"#c8c8c8",U=h.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=_,this.internal.__cell__.margins=N,this.internal.__cell__.table_font_size=j,this.internal.__cell__.padding=E,this.internal.__cell__.headerBackgroundColor=k,this.internal.__cell__.headerTextColor=U,this.setFontSize(j),d==null)w=y=Object.keys(u[0]),b=y.map(function(){return"left"});else if(Array.isArray(d)&&xn(d[0])==="object")for(y=d.map(function(re){return re.name}),w=d.map(function(re){return re.prompt||re.name||""}),b=d.map(function(re){return re.align||"left"}),p=0;p<d.length;p+=1)P[d[p].name]=d[p].width*(19.049976/25.4);else Array.isArray(d)&&typeof d[0]=="string"&&(w=y=d,b=y.map(function(){return"left"}));if(S||Array.isArray(d)&&typeof d[0]=="string")for(p=0;p<y.length;p+=1){for(D[v=y[p]]=u.map(function(re){return re[v]}),this.setFont(void 0,"bold"),O.push(this.getTextDimensions(w[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=D[v],this.setFont(void 0,"normal"),m=0;m<g.length;m+=1)O.push(this.getTextDimensions(g[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);P[v]=Math.max.apply(null,O)+E+E,O=[]}if(_){var G={};for(p=0;p<y.length;p+=1)G[y[p]]={},G[y[p]].text=w[p],G[y[p]].align=b[p];var z=o.call(this,G,P);T=y.map(function(re){return new i(l,c,P[re],z,G[re].text,void 0,G[re].align)}),this.setTableHeaderRow(T),this.printHeaderRow(1,!1)}var X=d.reduce(function(re,ee){return re[ee.name]=ee.align,re},{});for(p=0;p<u.length;p+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:p,data:u[p]},this);var V=o.call(this,u[p],P);for(m=0;m<y.length;m+=1){var H=u[p][y[m]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:p,col:m,data:H},this),s.call(this,new i(l,c,P[y[m]],V,H,p+2,X[y[m]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(l).map(function(p){var g=l[p];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,c[p]-u-u)},this).map(function(p){return this.getLineHeightFactor()*p.length*d/h+u+u},this).reduce(function(p,g){return Math.max(p,g)},0)};e.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){u=this.internal.__cell__.tableHeaderRow[p].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,h.push(u)),u.lineNumber=l;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,u),this.setTextColor(g)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}}(gr.API);var HK={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},GK=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],bN=WK(GK),KK=[100,200,300,400,500,600,700,800,900],R9e=WK(KK);function wN(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return HK[i=i||"normal"]?i:"normal"}(e.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(i){return typeof bN[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function TR(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var F9e={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},NR={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function ER(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function $9e(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},F9e,r.genericFontFamilies||{}),i=null,s=null,o=0;o<t.length;++o)if(a[(i=wN(t[o])).family]&&(i.family=a[i.family]),e.hasOwnProperty(i.family)){s=e[i.family];break}if(!(s=s||e[n]))throw new Error("Could not find a font-family for the rule '"+ER(i)+"' and default family '"+n+"'.");if(s=function(l,c){if(c[l])return c[l];var u=bN[l],d=u<=bN.normal?-1:1,h=TR(c,GK,u,d);if(!h)throw new Error("Could not find a matching font-stretch value for "+l);return h}(i.stretch,s),s=function(l,c){if(c[l])return c[l];for(var u=HK[l],d=0;d<u.length;++d)if(c[u[d]])return c[u[d]];throw new Error("Could not find a matching font-style for "+l)}(i.style,s),!(s=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var u=R9e[l],d=TR(c,KK,u,l<400?-1:1);if(!d)throw new Error("Could not find a matching font-weight for value "+l);return d}(i.weight,s)))throw new Error("Failed to resolve a font for the rule '"+ER(i)+"'.");return s}function kR(e){return e.trimLeft()}function B9e(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function U9e(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Vx,CR,PR,jA=["times"];(function(e){var t,r,n,a,i,s,o,l,c,u=function(I){return I=I||{},this.isStrokeTransparent=I.isStrokeTransparent||!1,this.strokeOpacity=I.strokeOpacity||1,this.strokeStyle=I.strokeStyle||"#000000",this.fillStyle=I.fillStyle||"#000000",this.isFillTransparent=I.isFillTransparent||!1,this.fillOpacity=I.fillOpacity||1,this.font=I.font||"10px sans-serif",this.textBaseline=I.textBaseline||"alphabetic",this.textAlign=I.textAlign||"left",this.lineWidth=I.lineWidth||1,this.lineJoin=I.lineJoin||"miter",this.lineCap=I.lineCap||"butt",this.path=I.path||[],this.transform=I.transform!==void 0?I.transform.clone():new l,this.globalCompositeOperation=I.globalCompositeOperation||"normal",this.globalAlpha=I.globalAlpha||1,this.clip_path=I.clip_path||[],this.currentPoint=I.currentPoint||new s,this.miterLimit=I.miterLimit||10,this.lastPoint=I.lastPoint||new s,this.lineDashOffset=I.lineDashOffset||0,this.lineDash=I.lineDash||[],this.margin=I.margin||[0,0,0,0],this.prevPageLastElemOffset=I.prevPageLastElemOffset||0,this.ignoreClearRect=typeof I.ignoreClearRect!="boolean"||I.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new d(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var d=function(I){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var M=I;Object.defineProperty(this,"pdf",{get:function(){return M}});var q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return q},set:function(Te){q=!!Te}});var K=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return K},set:function(Te){K=!!Te}});var J=0;Object.defineProperty(this,"posX",{get:function(){return J},set:function(Te){isNaN(Te)||(J=Te)}});var se=0;Object.defineProperty(this,"posY",{get:function(){return se},set:function(Te){isNaN(Te)||(se=Te)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(Te){var ce;typeof Te=="number"?ce=[Te,Te,Te,Te]:((ce=new Array(4))[0]=Te[0],ce[1]=Te.length>=2?Te[1]:ce[0],ce[2]=Te.length>=3?Te[2]:ce[0],ce[3]=Te.length>=4?Te[3]:ce[1]),c.margin=ce}});var he=!1;Object.defineProperty(this,"autoPaging",{get:function(){return he},set:function(Te){he=Te}});var ie=0;Object.defineProperty(this,"lastBreak",{get:function(){return ie},set:function(Te){ie=Te}});var ge=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ge},set:function(Te){ge=Te}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(Te){Te instanceof u&&(c=Te)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(Te){c.path=Te}});var xe=[];Object.defineProperty(this,"ctxStack",{get:function(){return xe},set:function(Te){xe=Te}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Te){var ce;ce=h(Te),this.ctx.fillStyle=ce.style,this.ctx.isFillTransparent=ce.a===0,this.ctx.fillOpacity=ce.a,this.pdf.setFillColor(ce.r,ce.g,ce.b,{a:ce.a}),this.pdf.setTextColor(ce.r,ce.g,ce.b,{a:ce.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Te){var ce=h(Te);this.ctx.strokeStyle=ce.style,this.ctx.isStrokeTransparent=ce.a===0,this.ctx.strokeOpacity=ce.a,ce.a===0?this.pdf.setDrawColor(255,255,255):(ce.a,this.pdf.setDrawColor(ce.r,ce.g,ce.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Te){["butt","round","square"].indexOf(Te)!==-1&&(this.ctx.lineCap=Te,this.pdf.setLineCap(Te))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Te){isNaN(Te)||(this.ctx.lineWidth=Te,this.pdf.setLineWidth(Te))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Te){["bevel","round","miter"].indexOf(Te)!==-1&&(this.ctx.lineJoin=Te,this.pdf.setLineJoin(Te))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Te){isNaN(Te)||(this.ctx.miterLimit=Te,this.pdf.setMiterLimit(Te))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Te){this.ctx.textBaseline=Te}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Te){["right","end","center","left","start"].indexOf(Te)!==-1&&(this.ctx.textAlign=Te)}});var W=null;function Pe(Te,ce){if(W===null){var Fe=function(Ge){var Le=[];return Object.keys(Ge).forEach(function(Ye){Ge[Ye].forEach(function(_e){var $e=null;switch(_e){case"bold":$e={family:Ye,weight:"bold"};break;case"italic":$e={family:Ye,style:"italic"};break;case"bolditalic":$e={family:Ye,weight:"bold",style:"italic"};break;case"":case"normal":$e={family:Ye}}$e!==null&&($e.ref={name:Ye,style:_e},Le.push($e))})}),Le}(Te.getFontList());W=function(Ge){for(var Le={},Ye=0;Ye<Ge.length;++Ye){var _e=wN(Ge[Ye]),$e=_e.family,Ne=_e.stretch,Ie=_e.style,We=_e.weight;Le[$e]=Le[$e]||{},Le[$e][Ne]=Le[$e][Ne]||{},Le[$e][Ne][Ie]=Le[$e][Ne][Ie]||{},Le[$e][Ne][Ie][We]=_e}return Le}(Fe.concat(ce))}return W}var Ce=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ce},set:function(Te){W=null,Ce=Te}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Te){var ce;if(this.ctx.font=Te,(ce=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Te))!==null){var Fe=ce[1];ce[2];var Ge=ce[3],Le=ce[4];ce[5];var Ye=ce[6],_e=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Le)[2];Le=Math.floor(_e==="px"?parseFloat(Le)*this.pdf.internal.scaleFactor:_e==="em"?parseFloat(Le)*this.pdf.getFontSize():parseFloat(Le)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Le);var $e=function(St){var mt,ut,Xt=[],Kt=St.trim();if(Kt==="")return jA;if(Kt in NR)return[NR[Kt]];for(;Kt!=="";){switch(ut=null,mt=(Kt=kR(Kt)).charAt(0)){case'"':case"'":ut=B9e(Kt.substring(1),mt);break;default:ut=U9e(Kt)}if(ut===null||(Xt.push(ut[0]),(Kt=kR(ut[1]))!==""&&Kt.charAt(0)!==","))return jA;Kt=Kt.replace(/^,/,"")}return Xt}(Ye);if(this.fontFaces){var Ne=$9e(Pe(this.pdf,this.fontFaces),$e.map(function(St){return{family:St,stretch:"normal",weight:Ge,style:Fe}}));this.pdf.setFont(Ne.ref.name,Ne.ref.style)}else{var Ie="";(Ge==="bold"||parseInt(Ge,10)>=700||Fe==="bold")&&(Ie="bold"),Fe==="italic"&&(Ie+="italic"),Ie.length===0&&(Ie="normal");for(var We="",it={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ht=0;ht<$e.length;ht++){if(this.pdf.internal.getFont($e[ht],Ie,{noFallback:!0,disableWarning:!0})!==void 0){We=$e[ht];break}if(Ie==="bolditalic"&&this.pdf.internal.getFont($e[ht],"bold",{noFallback:!0,disableWarning:!0})!==void 0)We=$e[ht],Ie="bold";else if(this.pdf.internal.getFont($e[ht],"normal",{noFallback:!0,disableWarning:!0})!==void 0){We=$e[ht],Ie="normal";break}}if(We===""){for(var xt=0;xt<$e.length;xt++)if(it[$e[xt]]){We=it[$e[xt]];break}}We=We===""?"Times":We,this.pdf.setFont(We,Ie)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Te){this.ctx.globalCompositeOperation=Te}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Te){this.ctx.globalAlpha=Te}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Te){this.ctx.lineDashOffset=Te,ee.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Te){this.ctx.lineDash=Te,ee.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Te){this.ctx.ignoreClearRect=!!Te}})};d.prototype.setLineDash=function(I){this.lineDash=I},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){D.call(this,"fill",!1)},d.prototype.stroke=function(){D.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(I,M){if(isNaN(I)||isNaN(M))throw Fn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var q=this.ctx.transform.applyToPoint(new s(I,M));this.path.push({type:"mt",x:q.x,y:q.y}),this.ctx.lastPoint=new s(I,M)},d.prototype.closePath=function(){var I=new s(0,0),M=0;for(M=this.path.length-1;M!==-1;M--)if(this.path[M].type==="begin"&&xn(this.path[M+1])==="object"&&typeof this.path[M+1].x=="number"){I=new s(this.path[M+1].x,this.path[M+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(I.x,I.y)},d.prototype.lineTo=function(I,M){if(isNaN(I)||isNaN(M))throw Fn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var q=this.ctx.transform.applyToPoint(new s(I,M));this.path.push({type:"lt",x:q.x,y:q.y}),this.ctx.lastPoint=new s(q.x,q.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),D.call(this,null,!0)},d.prototype.quadraticCurveTo=function(I,M,q,K){if(isNaN(q)||isNaN(K)||isNaN(I)||isNaN(M))throw Fn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var J=this.ctx.transform.applyToPoint(new s(q,K)),se=this.ctx.transform.applyToPoint(new s(I,M));this.path.push({type:"qct",x1:se.x,y1:se.y,x:J.x,y:J.y}),this.ctx.lastPoint=new s(J.x,J.y)},d.prototype.bezierCurveTo=function(I,M,q,K,J,se){if(isNaN(J)||isNaN(se)||isNaN(I)||isNaN(M)||isNaN(q)||isNaN(K))throw Fn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var he=this.ctx.transform.applyToPoint(new s(J,se)),ie=this.ctx.transform.applyToPoint(new s(I,M)),ge=this.ctx.transform.applyToPoint(new s(q,K));this.path.push({type:"bct",x1:ie.x,y1:ie.y,x2:ge.x,y2:ge.y,x:he.x,y:he.y}),this.ctx.lastPoint=new s(he.x,he.y)},d.prototype.arc=function(I,M,q,K,J,se){if(isNaN(I)||isNaN(M)||isNaN(q)||isNaN(K)||isNaN(J))throw Fn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(se=!!se,!this.ctx.transform.isIdentity){var he=this.ctx.transform.applyToPoint(new s(I,M));I=he.x,M=he.y;var ie=this.ctx.transform.applyToPoint(new s(0,q)),ge=this.ctx.transform.applyToPoint(new s(0,0));q=Math.sqrt(Math.pow(ie.x-ge.x,2)+Math.pow(ie.y-ge.y,2))}Math.abs(J-K)>=2*Math.PI&&(K=0,J=2*Math.PI),this.path.push({type:"arc",x:I,y:M,radius:q,startAngle:K,endAngle:J,counterclockwise:se})},d.prototype.arcTo=function(I,M,q,K,J){throw new Error("arcTo not implemented.")},d.prototype.rect=function(I,M,q,K){if(isNaN(I)||isNaN(M)||isNaN(q)||isNaN(K))throw Fn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(I,M),this.lineTo(I+q,M),this.lineTo(I+q,M+K),this.lineTo(I,M+K),this.lineTo(I,M),this.lineTo(I+q,M),this.lineTo(I,M)},d.prototype.fillRect=function(I,M,q,K){if(isNaN(I)||isNaN(M)||isNaN(q)||isNaN(K))throw Fn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var J={};this.lineCap!=="butt"&&(J.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(J.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(I,M,q,K),this.fill(),J.hasOwnProperty("lineCap")&&(this.lineCap=J.lineCap),J.hasOwnProperty("lineJoin")&&(this.lineJoin=J.lineJoin)}},d.prototype.strokeRect=function(I,M,q,K){if(isNaN(I)||isNaN(M)||isNaN(q)||isNaN(K))throw Fn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(I,M,q,K),this.stroke())},d.prototype.clearRect=function(I,M,q,K){if(isNaN(I)||isNaN(M)||isNaN(q)||isNaN(K))throw Fn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(I,M,q,K))},d.prototype.save=function(I){I=typeof I!="boolean"||I;for(var M=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("q");if(this.pdf.setPage(M),I){this.ctx.fontSize=this.pdf.internal.getFontSize();var K=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=K}},d.prototype.restore=function(I){I=typeof I!="boolean"||I;for(var M=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("Q");this.pdf.setPage(M),I&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(I){var M,q,K,J;if(I.isCanvasGradient===!0&&(I=I.getColor()),!I)return{r:0,g:0,b:0,a:0,style:I};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(I))M=0,q=0,K=0,J=0;else{var se=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(I);if(se!==null)M=parseInt(se[1]),q=parseInt(se[2]),K=parseInt(se[3]),J=1;else if((se=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(I))!==null)M=parseInt(se[1]),q=parseInt(se[2]),K=parseInt(se[3]),J=parseFloat(se[4]);else{if(J=1,typeof I=="string"&&I.charAt(0)!=="#"){var he=new $K(I);I=he.ok?he.toHex():"#000000"}I.length===4?(M=I.substring(1,2),M+=M,q=I.substring(2,3),q+=q,K=I.substring(3,4),K+=K):(M=I.substring(1,3),q=I.substring(3,5),K=I.substring(5,7)),M=parseInt(M,16),q=parseInt(q,16),K=parseInt(K,16)}}return{r:M,g:q,b:K,a:J,style:I}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(I,M,q,K){if(isNaN(M)||isNaN(q)||typeof I!="string")throw Fn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(K=isNaN(K)?void 0:K,!p.call(this)){var J=V(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;E.call(this,{text:I,x:M,y:q,scale:se,angle:J,align:this.textAlign,maxWidth:K})}},d.prototype.strokeText=function(I,M,q,K){if(isNaN(M)||isNaN(q)||typeof I!="string")throw Fn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){K=isNaN(K)?void 0:K;var J=V(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;E.call(this,{text:I,x:M,y:q,scale:se,renderingMode:"stroke",angle:J,align:this.textAlign,maxWidth:K})}},d.prototype.measureText=function(I){if(typeof I!="string")throw Fn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var M=this.pdf,q=this.pdf.internal.scaleFactor,K=M.internal.getFontSize(),J=M.getStringUnitWidth(I)*K/M.internal.scaleFactor,se=function(he){var ie=(he=he||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ie}}),this};return new se({width:J*=Math.round(96*q/72*1e4)/1e4})},d.prototype.scale=function(I,M){if(isNaN(I)||isNaN(M))throw Fn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var q=new l(I,0,0,M,0,0);this.ctx.transform=this.ctx.transform.multiply(q)},d.prototype.rotate=function(I){if(isNaN(I))throw Fn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var M=new l(Math.cos(I),Math.sin(I),-Math.sin(I),Math.cos(I),0,0);this.ctx.transform=this.ctx.transform.multiply(M)},d.prototype.translate=function(I,M){if(isNaN(I)||isNaN(M))throw Fn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var q=new l(1,0,0,1,I,M);this.ctx.transform=this.ctx.transform.multiply(q)},d.prototype.transform=function(I,M,q,K,J,se){if(isNaN(I)||isNaN(M)||isNaN(q)||isNaN(K)||isNaN(J)||isNaN(se))throw Fn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var he=new l(I,M,q,K,J,se);this.ctx.transform=this.ctx.transform.multiply(he)},d.prototype.setTransform=function(I,M,q,K,J,se){I=isNaN(I)?1:I,M=isNaN(M)?0:M,q=isNaN(q)?0:q,K=isNaN(K)?1:K,J=isNaN(J)?0:J,se=isNaN(se)?0:se,this.ctx.transform=new l(I,M,q,K,J,se)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(I,M,q,K,J,se,he,ie,ge){var xe=this.pdf.getImageProperties(I),W=1,Pe=1,Ce=1,Te=1;K!==void 0&&ie!==void 0&&(Ce=ie/K,Te=ge/J,W=xe.width/K*ie/K,Pe=xe.height/J*ge/J),se===void 0&&(se=M,he=q,M=0,q=0),K!==void 0&&ie===void 0&&(ie=K,ge=J),K===void 0&&ie===void 0&&(ie=xe.width,ge=xe.height);for(var ce,Fe=this.ctx.transform.decompose(),Ge=V(Fe.rotate.shx),Le=new l,Ye=(Le=(Le=(Le=Le.multiply(Fe.translate)).multiply(Fe.skew)).multiply(Fe.scale)).applyToRectangle(new o(se-M*Ce,he-q*Te,K*W,J*Pe)),_e=v.call(this,Ye),$e=[],Ne=0;Ne<_e.length;Ne+=1)$e.indexOf(_e[Ne])===-1&&$e.push(_e[Ne]);if(b($e),this.autoPaging)for(var Ie=$e[0],We=$e[$e.length-1],it=Ie;it<We+1;it++){this.pdf.setPage(it);var ht=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],xt=it===1?this.posY+this.margin[0]:this.margin[0],St=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],mt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ut=it===1?0:St+(it-2)*mt;if(this.ctx.clip_path.length!==0){var Xt=this.path;ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(ce,this.posX+this.margin[3],-ut+xt+this.ctx.prevPageLastElemOffset),P.call(this,"fill",!0),this.path=Xt}var Kt=JSON.parse(JSON.stringify(Ye));Kt=w([Kt],this.posX+this.margin[3],-ut+xt+this.ctx.prevPageLastElemOffset)[0];var jr=(it>Ie||it<We)&&m.call(this);jr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ht,mt,null).clip().discardPath()),this.pdf.addImage(I,"JPEG",Kt.x,Kt.y,Kt.w,Kt.h,null,null,Ge),jr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(I,"JPEG",Ye.x,Ye.y,Ye.w,Ye.h,null,null,Ge)};var v=function(I,M,q){var K=[];M=M||this.pdf.internal.pageSize.width,q=q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var J=this.posY+this.ctx.prevPageLastElemOffset;switch(I.type){default:case"mt":case"lt":K.push(Math.floor((I.y+J)/q)+1);break;case"arc":K.push(Math.floor((I.y+J-I.radius)/q)+1),K.push(Math.floor((I.y+J+I.radius)/q)+1);break;case"qct":var se=H(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x,I.y);K.push(Math.floor((se.y+J)/q)+1),K.push(Math.floor((se.y+se.h+J)/q)+1);break;case"bct":var he=re(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x2,I.y2,I.x,I.y);K.push(Math.floor((he.y+J)/q)+1),K.push(Math.floor((he.y+he.h+J)/q)+1);break;case"rect":K.push(Math.floor((I.y+J)/q)+1),K.push(Math.floor((I.y+I.h+J)/q)+1)}for(var ie=0;ie<K.length;ie+=1)for(;this.pdf.internal.getNumberOfPages()<K[ie];)y.call(this);return K},y=function(){var I=this.fillStyle,M=this.strokeStyle,q=this.font,K=this.lineCap,J=this.lineWidth,se=this.lineJoin;this.pdf.addPage(),this.fillStyle=I,this.strokeStyle=M,this.font=q,this.lineCap=K,this.lineWidth=J,this.lineJoin=se},w=function(I,M,q){for(var K=0;K<I.length;K++)switch(I[K].type){case"bct":I[K].x2+=M,I[K].y2+=q;case"qct":I[K].x1+=M,I[K].y1+=q;case"mt":case"lt":case"arc":default:I[K].x+=M,I[K].y+=q}return I},b=function(I){return I.sort(function(M,q){return M-q})},D=function(I,M){for(var q,K,J=this.fillStyle,se=this.strokeStyle,he=this.lineCap,ie=this.lineWidth,ge=Math.abs(ie*this.ctx.transform.scaleX),xe=this.lineJoin,W=JSON.parse(JSON.stringify(this.path)),Pe=JSON.parse(JSON.stringify(this.path)),Ce=[],Te=0;Te<Pe.length;Te++)if(Pe[Te].x!==void 0)for(var ce=v.call(this,Pe[Te]),Fe=0;Fe<ce.length;Fe+=1)Ce.indexOf(ce[Fe])===-1&&Ce.push(ce[Fe]);for(var Ge=0;Ge<Ce.length;Ge++)for(;this.pdf.internal.getNumberOfPages()<Ce[Ge];)y.call(this);if(b(Ce),this.autoPaging)for(var Le=Ce[0],Ye=Ce[Ce.length-1],_e=Le;_e<Ye+1;_e++){this.pdf.setPage(_e),this.fillStyle=J,this.strokeStyle=se,this.lineCap=he,this.lineWidth=ge,this.lineJoin=xe;var $e=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ne=_e===1?this.posY+this.margin[0]:this.margin[0],Ie=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],We=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],it=_e===1?0:Ie+(_e-2)*We;if(this.ctx.clip_path.length!==0){var ht=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(q,this.posX+this.margin[3],-it+Ne+this.ctx.prevPageLastElemOffset),P.call(this,I,!0),this.path=ht}if(K=JSON.parse(JSON.stringify(W)),this.path=w(K,this.posX+this.margin[3],-it+Ne+this.ctx.prevPageLastElemOffset),M===!1||_e===0){var xt=(_e>Le||_e<Ye)&&m.call(this);xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$e,We,null).clip().discardPath()),P.call(this,I,M),xt&&this.pdf.restoreGraphicsState()}this.lineWidth=ie}else this.lineWidth=ge,P.call(this,I,M),this.lineWidth=ie;this.path=W},P=function(I,M){if((I!=="stroke"||M||!g.call(this))&&(I==="stroke"||M||!p.call(this))){for(var q,K,J=[],se=this.path,he=0;he<se.length;he++){var ie=se[he];switch(ie.type){case"begin":J.push({begin:!0});break;case"close":J.push({close:!0});break;case"mt":J.push({start:ie,deltas:[],abs:[]});break;case"lt":var ge=J.length;if(se[he-1]&&!isNaN(se[he-1].x)&&(q=[ie.x-se[he-1].x,ie.y-se[he-1].y],ge>0)){for(;ge>=0;ge--)if(J[ge-1].close!==!0&&J[ge-1].begin!==!0){J[ge-1].deltas.push(q),J[ge-1].abs.push(ie);break}}break;case"bct":q=[ie.x1-se[he-1].x,ie.y1-se[he-1].y,ie.x2-se[he-1].x,ie.y2-se[he-1].y,ie.x-se[he-1].x,ie.y-se[he-1].y],J[J.length-1].deltas.push(q);break;case"qct":var xe=se[he-1].x+2/3*(ie.x1-se[he-1].x),W=se[he-1].y+2/3*(ie.y1-se[he-1].y),Pe=ie.x+2/3*(ie.x1-ie.x),Ce=ie.y+2/3*(ie.y1-ie.y),Te=ie.x,ce=ie.y;q=[xe-se[he-1].x,W-se[he-1].y,Pe-se[he-1].x,Ce-se[he-1].y,Te-se[he-1].x,ce-se[he-1].y],J[J.length-1].deltas.push(q);break;case"arc":J.push({deltas:[],abs:[],arc:!0}),Array.isArray(J[J.length-1].abs)&&J[J.length-1].abs.push(ie)}}K=M?null:I==="stroke"?"stroke":"fill";for(var Fe=!1,Ge=0;Ge<J.length;Ge++)if(J[Ge].arc)for(var Le=J[Ge].abs,Ye=0;Ye<Le.length;Ye++){var _e=Le[Ye];_e.type==="arc"?S.call(this,_e.x,_e.y,_e.radius,_e.startAngle,_e.endAngle,_e.counterclockwise,void 0,M,!Fe):k.call(this,_e.x,_e.y),Fe=!0}else if(J[Ge].close===!0)this.pdf.internal.out("h"),Fe=!1;else if(J[Ge].begin!==!0){var $e=J[Ge].start.x,Ne=J[Ge].start.y;U.call(this,J[Ge].deltas,$e,Ne),Fe=!0}K&&_.call(this,K),M&&j.call(this)}},O=function(I){var M=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,q=M*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return I-q;case"top":return I+M-q;case"hanging":return I+M-2*q;case"middle":return I+M/2-q;case"ideographic":return I;case"alphabetic":default:return I}},T=function(I){return I+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var I=function(){};return I.colorStops=[],I.addColorStop=function(M,q){this.colorStops.push([M,q])},I.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},I.isCanvasGradient=!0,I},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var S=function(I,M,q,K,J,se,he,ie,ge){for(var xe=z.call(this,q,K,J,se),W=0;W<xe.length;W++){var Pe=xe[W];W===0&&(ge?N.call(this,Pe.x1+I,Pe.y1+M):k.call(this,Pe.x1+I,Pe.y1+M)),G.call(this,I,M,Pe.x2,Pe.y2,Pe.x3,Pe.y3,Pe.x4,Pe.y4)}ie?j.call(this):_.call(this,he)},_=function(I){switch(I){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},j=function(){this.pdf.clip(),this.pdf.discardPath()},N=function(I,M){this.pdf.internal.out(r(I)+" "+n(M)+" m")},E=function(I){var M;switch(I.align){case"right":case"end":M="right";break;case"center":M="center";break;case"left":case"start":default:M="left"}var q=this.pdf.getTextDimensions(I.text),K=O.call(this,I.y),J=T.call(this,K)-q.h,se=this.ctx.transform.applyToPoint(new s(I.x,K)),he=this.ctx.transform.decompose(),ie=new l;ie=(ie=(ie=ie.multiply(he.translate)).multiply(he.skew)).multiply(he.scale);for(var ge,xe,W,Pe=this.ctx.transform.applyToRectangle(new o(I.x,K,q.w,q.h)),Ce=ie.applyToRectangle(new o(I.x,J,q.w,q.h)),Te=v.call(this,Ce),ce=[],Fe=0;Fe<Te.length;Fe+=1)ce.indexOf(Te[Fe])===-1&&ce.push(Te[Fe]);if(b(ce),this.autoPaging)for(var Ge=ce[0],Le=ce[ce.length-1],Ye=Ge;Ye<Le+1;Ye++){this.pdf.setPage(Ye);var _e=Ye===1?this.posY+this.margin[0]:this.margin[0],$e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ne=this.pdf.internal.pageSize.height-this.margin[2],Ie=Ne-this.margin[0],We=this.pdf.internal.pageSize.width-this.margin[1],it=We-this.margin[3],ht=Ye===1?0:$e+(Ye-2)*Ie;if(this.ctx.clip_path.length!==0){var xt=this.path;ge=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(ge,this.posX+this.margin[3],-1*ht+_e),P.call(this,"fill",!0),this.path=xt}var St=w([JSON.parse(JSON.stringify(Ce))],this.posX+this.margin[3],-ht+_e+this.ctx.prevPageLastElemOffset)[0];I.scale>=.01&&(xe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(xe*I.scale),W=this.lineWidth,this.lineWidth=W*I.scale);var mt=this.autoPaging!=="text";if(mt||St.y+St.h<=Ne){if(mt||St.y>=_e&&St.x<=We){var ut=mt?I.text:this.pdf.splitTextToSize(I.text,I.maxWidth||We-St.x)[0],Xt=w([JSON.parse(JSON.stringify(Pe))],this.posX+this.margin[3],-ht+_e+this.ctx.prevPageLastElemOffset)[0],Kt=mt&&(Ye>Ge||Ye<Le)&&m.call(this);Kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],it,Ie,null).clip().discardPath()),this.pdf.text(ut,Xt.x,Xt.y,{angle:I.angle,align:M,renderingMode:I.renderingMode}),Kt&&this.pdf.restoreGraphicsState()}}else St.y<Ne&&(this.ctx.prevPageLastElemOffset+=Ne-St.y);I.scale>=.01&&(this.pdf.setFontSize(xe),this.lineWidth=W)}else I.scale>=.01&&(xe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(xe*I.scale),W=this.lineWidth,this.lineWidth=W*I.scale),this.pdf.text(I.text,se.x+this.posX,se.y+this.posY,{angle:I.angle,align:M,renderingMode:I.renderingMode,maxWidth:I.maxWidth}),I.scale>=.01&&(this.pdf.setFontSize(xe),this.lineWidth=W)},k=function(I,M,q,K){q=q||0,K=K||0,this.pdf.internal.out(r(I+q)+" "+n(M+K)+" l")},U=function(I,M,q){return this.pdf.lines(I,M,q,null,null)},G=function(I,M,q,K,J,se,he,ie){this.pdf.internal.out([t(a(q+I)),t(i(K+M)),t(a(J+I)),t(i(se+M)),t(a(he+I)),t(i(ie+M)),"c"].join(" "))},z=function(I,M,q,K){for(var J=2*Math.PI,se=Math.PI/2;M>q;)M-=J;var he=Math.abs(q-M);he<J&&K&&(he=J-he);for(var ie=[],ge=K?-1:1,xe=M;he>1e-5;){var W=xe+ge*Math.min(he,se);ie.push(X.call(this,I,xe,W)),he-=Math.abs(W-xe),xe=W}return ie},X=function(I,M,q){var K=(q-M)/2,J=I*Math.cos(K),se=I*Math.sin(K),he=J,ie=-se,ge=he*he+ie*ie,xe=ge+he*J+ie*se,W=4/3*(Math.sqrt(2*ge*xe)-xe)/(he*se-ie*J),Pe=he-W*ie,Ce=ie+W*he,Te=Pe,ce=-Ce,Fe=K+M,Ge=Math.cos(Fe),Le=Math.sin(Fe);return{x1:I*Math.cos(M),y1:I*Math.sin(M),x2:Pe*Ge-Ce*Le,y2:Pe*Le+Ce*Ge,x3:Te*Ge-ce*Le,y3:Te*Le+ce*Ge,x4:I*Math.cos(q),y4:I*Math.sin(q)}},V=function(I){return 180*I/Math.PI},H=function(I,M,q,K,J,se){var he=I+.5*(q-I),ie=M+.5*(K-M),ge=J+.5*(q-J),xe=se+.5*(K-se),W=Math.min(I,J,he,ge),Pe=Math.max(I,J,he,ge),Ce=Math.min(M,se,ie,xe),Te=Math.max(M,se,ie,xe);return new o(W,Ce,Pe-W,Te-Ce)},re=function(I,M,q,K,J,se,he,ie){var ge,xe,W,Pe,Ce,Te,ce,Fe,Ge,Le,Ye,_e,$e,Ne,Ie=q-I,We=K-M,it=J-q,ht=se-K,xt=he-J,St=ie-se;for(xe=0;xe<41;xe++)Ge=(ce=(W=I+(ge=xe/40)*Ie)+ge*((Ce=q+ge*it)-W))+ge*(Ce+ge*(J+ge*xt-Ce)-ce),Le=(Fe=(Pe=M+ge*We)+ge*((Te=K+ge*ht)-Pe))+ge*(Te+ge*(se+ge*St-Te)-Fe),xe==0?(Ye=Ge,_e=Le,$e=Ge,Ne=Le):(Ye=Math.min(Ye,Ge),_e=Math.min(_e,Le),$e=Math.max($e,Ge),Ne=Math.max(Ne,Le));return new o(Math.round(Ye),Math.round(_e),Math.round($e-Ye),Math.round(Ne-_e))},ee=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var I,M,q=(I=this.ctx.lineDash,M=this.ctx.lineDashOffset,JSON.stringify({lineDash:I,lineDashOffset:M}));this.prevLineDash!==q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=q)}}})(gr.API),function(e){var t=function(i){var s,o,l,c,u,d,h,p,g,m;for(o=[],l=0,c=(i+=s="\0\0\0\0".slice(i.length%4||4)).length;c>l;l+=4)(u=(i.charCodeAt(l)<<24)+(i.charCodeAt(l+1)<<16)+(i.charCodeAt(l+2)<<8)+i.charCodeAt(l+3))!==0?(d=(u=((u=((u=((u=(u-(m=u%85))/85)-(g=u%85))/85)-(p=u%85))/85)-(h=u%85))/85)%85,o.push(d+33,h+33,p+33,g+33,m+33)):o.push(122);return function(v,y){for(var w=y;w>0;w--)v.pop()}(o,s.length),String.fromCharCode.apply(String,o)+"~>"},r=function(i){var s,o,l,c,u,d=String,h="length",p=255,g="charCodeAt",m="slice",v="replace";for(i[m](-2),i=i[m](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),l=[],c=0,u=(i+=s="uuuuu"[m](i[h]%5||5))[h];u>c;c+=5)o=52200625*(i[g](c)-33)+614125*(i[g](c+1)-33)+7225*(i[g](c+2)-33)+85*(i[g](c+3)-33)+(i[g](c+4)-33),l.push(p&o>>24,p&o>>16,p&o>>8,p&o);return function(y,w){for(var b=w;b>0;b--)y.pop()}(l,s[h]),d.fromCharCode.apply(d,l)},n=function(i){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),s.test(i)===!1)return"";for(var o="",l=0;l<i.length;l+=2)o+=String.fromCharCode("0x"+(i[l]+i[l+1]));return o},a=function(i){for(var s=new Uint8Array(i.length),o=i.length;o--;)s[o]=i.charCodeAt(o);return i=(s=mN(s)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};e.processDataByFilters=function(i,s){var o=0,l=i||"",c=[];for(typeof(s=s||[])=="string"&&(s=[s]),o=0;o<s.length;o+=1)switch(s[o]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=a(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[o]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(gr.API),function(e){e.loadFile=function(t,r,n){return function(a,i,s){i=i!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(l,c,u){var d=new XMLHttpRequest,h=0,p=function(g){var m=g.length,v=[],y=String.fromCharCode;for(h=0;h<m;h+=1)v.push(y(255&g.charCodeAt(h)));return v.join("")};if(d.open("GET",l,!c),d.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(d.onload=function(){d.status===200?u(p(this.responseText)):u(void 0)}),d.send(null),c&&d.status===200)return p(d.responseText)}(a,i,s)}catch{}return o}(t,r,n)},e.loadImageFile=e.loadFile}(gr.API),function(e){function t(){return(vr.html2canvas?Promise.resolve(vr.html2canvas):uN(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function r(){return(vr.DOMPurify?Promise.resolve(vr.DOMPurify):uN(()=>import("./purify.es-BFmuJLeH.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var n=function(s){var o=xn(s);return o==="undefined"?"undefined":o==="string"||s instanceof String?"string":o==="number"||s instanceof Number?"number":o==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":o==="object"?"object":"unknown"},a=function(s,o){var l=document.createElement(s);for(var c in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[c]=o.style[c];return l},i=function s(o){var l=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),c=s.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,s,1,[s])).set(o)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(s,o){return s.__proto__=o||i.prototype,s},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(s,o){return this.then(function(){switch(o=o||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(r).then(function(l){return this.set({src:a("div",{innerHTML:s,dompurify:l})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},i.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),h=c.firstChild;h;h=h.nextSibling)u!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||d.appendChild(l(h,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(o){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var h=0;h<c.length;++h){var p=c[h],g=p.src.find(function(m){return m.format==="truetype"});g&&l.addFont(g.url,p.ref.name,p.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,l.context2d.save(!0),o(this.prop.container,d)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(s,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(s,o):this.outputPdf(s,o)},i.prototype.outputPdf=function(s,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,o)})},i.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},i.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(s){if(n(s)!=="object")return this;var o=Object.keys(s||{}).map(function(l){if(l in i.template.prop)return function(){this.prop[l]=s[l]};switch(l){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[l]=s[l]}}},this);return this.then(function(){return this.thenList(o)})},i.prototype.get=function(s,o){return this.then(function(){var l=s in i.template.prop?this.prop[s]:this.opt[s];return o?o(l):l})},i.prototype.setMargin=function(s){return this.then(function(){switch(n(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},i.prototype.setPageSize=function(s){function o(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(s=s||gr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:o(s.inner.width,s.k),height:o(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},i.prototype.setProgress=function(s,o,l,c){return s!=null&&(this.progress.val=s),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(s,o,l,c){return this.setProgress(s?this.progress.val+s:null,o||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},i.prototype.then=function(s,o){var l=this;return this.thenCore(s,o,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(d){return l.updateProgress(null,c),d}).then(c,u).then(function(d){return l.updateProgress(1),d})})},i.prototype.thenCore=function(s,o,l){l=l||Promise.prototype.then,s&&(s=s.bind(this)),o&&(o=o.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),u=l.call(c,s,o);return i.convert(u,this.__proto__)},i.prototype.thenExternal=function(s,o){return Promise.prototype.then.call(this,s,o)},i.prototype.thenList=function(s){var o=this;return s.forEach(function(l){o=o.thenCore(l)}),o},i.prototype.catch=function(s){s&&(s=s.bind(this));var o=Promise.prototype.catch.call(this,s);return i.convert(o,this)},i.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},i.prototype.error=function(s){return this.then(function(){throw new Error(s)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,gr.getPageSize=function(s,o,l){if(xn(s)==="object"){var c=s;s=c.orientation,o=c.unit||o,l=c.format||l}o=o||"mm",l=l||"a4",s=(""+(s||"P")).toLowerCase();var u,d=(""+l).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+o}var p,g=0,m=0;if(h.hasOwnProperty(d))g=h[d][1]/u,m=h[d][0]/u;else try{g=l[1],m=l[0]}catch{throw new Error("Invalid format: "+l)}if(s==="p"||s==="portrait")s="p",m>g&&(p=m,m=g,g=p);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",g>m&&(p=m,m=g,g=p)}return{width:m,height:g,unit:o,k:u,orientation:s}},e.html=function(s,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(wN):null;var l=new i(o);return o.worker?l:l.from(s).doCallback()}}(gr.API),gr.API.addJS=function(e){return PR=e,this.internal.events.subscribe("postPutResources",function(){Vx=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Vx+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),CR=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+PR+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Vx!==void 0&&CR!==void 0&&this.internal.out("/Names <</JavaScript "+Vx+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var s=a[i],o=n.exec(s);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(i=0;i<c;i++){var d=r.internal.newObject();u.push(d);var h=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<u.length;i++)r.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var s={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var s=n.children[i];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var l=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(gr.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,s,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=function(d){for(var h,p=256*d.charCodeAt(4)+d.charCodeAt(5),g=d.length,m={width:0,height:0,numcomponents:1},v=4;v<g;v+=2){if(v+=p,t.indexOf(d.charCodeAt(v+1))!==-1){h=256*d.charCodeAt(v+5)+d.charCodeAt(v+6),m={width:256*d.charCodeAt(v+7)+d.charCodeAt(v+8),height:h,numcomponents:d.charCodeAt(v+9)};break}p=256*d.charCodeAt(v+2)+d.charCodeAt(v+3)}return m}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:n,alias:a}}return u}}(gr.API);var c0,zx,jR,OR,IR,V9e=function(){var e,t,r;function n(i){var s,o,l,c,u,d,h,p,g,m,v,y,w,b;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},d=null;;){switch(s=this.readUInt32(),g=(function(){var D,P;for(P=[],D=0;D<4;++D)P.push(String.fromCharCode(this.data[this.pos++]));return P}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":d&&this.animation.frames.push(d),this.pos+=4,d={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,d.delay=1e3*u/c,d.disposeOp=this.data[this.pos++],d.blendOp=this.data[this.pos++],d.data=[];break;case"IDAT":case"fdAT":for(g==="fdAT"&&(this.pos+=4,s-=4),i=(d!=null?d.data:void 0)||this.imgData,y=0;0<=s?y<s:y>s;0<=s?++y:--y)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((m=l-this.transparency.indexed.length)>0)for(w=0;0<=m?w<m:w>m;0<=m?++w:--w)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":h=(v=this.read(s)).indexOf(0),p=String.fromCharCode.apply(String,v.slice(0,h)),this.text[p]=String.fromCharCode.apply(String,v.slice(h+1));break;case"IEND":return d&&this.animation.frames.push(d),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(b=this.colorType)===4||b===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var s,o;for(o=[],s=0;0<=i?s<i:s>i;0<=i?++s:--s)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var s=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*s),l=0,c=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function u(d,h,p,g){var m,v,y,w,b,D,P,O,T,S,_,j,N,E,k,U,G,z,X,V,H,re=Math.ceil((c.width-d)/p),ee=Math.ceil((c.height-h)/g),I=c.width==re&&c.height==ee;for(E=s*re,j=I?o:new Uint8Array(E*ee),D=i.length,N=0,v=0;N<ee&&l<D;){switch(i[l++]){case 0:for(w=G=0;G<E;w=G+=1)j[v++]=i[l++];break;case 1:for(w=z=0;z<E;w=z+=1)m=i[l++],b=w<s?0:j[v-s],j[v++]=(m+b)%256;break;case 2:for(w=X=0;X<E;w=X+=1)m=i[l++],y=(w-w%s)/s,k=N&&j[(N-1)*E+y*s+w%s],j[v++]=(k+m)%256;break;case 3:for(w=V=0;V<E;w=V+=1)m=i[l++],y=(w-w%s)/s,b=w<s?0:j[v-s],k=N&&j[(N-1)*E+y*s+w%s],j[v++]=(m+Math.floor((b+k)/2))%256;break;case 4:for(w=H=0;H<E;w=H+=1)m=i[l++],y=(w-w%s)/s,b=w<s?0:j[v-s],N===0?k=U=0:(k=j[(N-1)*E+y*s+w%s],U=y&&j[(N-1)*E+(y-1)*s+w%s]),P=b+k-U,O=Math.abs(P-b),S=Math.abs(P-k),_=Math.abs(P-U),T=O<=S&&O<=_?b:S<=_?k:U,j[v++]=(m+T)%256;break;default:throw new Error("Invalid filter algorithm: "+i[l-1])}if(!I){var M=((h+N*g)*c.width+d)*s,q=N*E;for(w=0;w<re;w+=1){for(var K=0;K<s;K+=1)o[M++]=j[q++];M+=(p-1)*s}}N++}}return i=b9e(i),c.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),o},n.prototype.decodePalette=function(){var i,s,o,l,c,u,d,h,p;for(o=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+o.length),l=0,i=0,s=d=0,h=o.length;d<h;s=d+=3)c[l++]=o[s],c[l++]=o[s+1],c[l++]=o[s+2],c[l++]=(p=u[i++])!=null?p:255;return c},n.prototype.copyToImageData=function(i,s){var o,l,c,u,d,h,p,g,m,v,y;if(l=this.colors,m=null,o=this.hasAlphaChannel,this.palette.length&&(m=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),l=4,o=!0),g=(c=i.data||i).length,d=m||s,u=h=0,l===1)for(;u<g;)p=m?4*s[u/4]:h,v=d[p++],c[u++]=v,c[u++]=v,c[u++]=v,c[u++]=o?d[p++]:255,h=p;else for(;u<g;)p=m?4*s[u/4]:h,c[u++]=d[p++],c[u++]=d[p++],c[u++]=d[p++],c[u++]=o?d[p++]:255,h=p},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(vr)==="[object Window]"){try{t=vr.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(i){var s;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(s=new Image).src=t.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var s,o,l,c,u,d,h,p;if(this.animation){for(p=[],o=u=0,d=(h=this.animation.frames).length;u<d;o=++u)s=h[o],l=i.createImageData(s.width,s.height),c=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(l,c),s.imageData=l,p.push(s.image=e(l));return p}},n.prototype.renderFrame=function(i,s){var o,l,c;return o=(l=this.animation.frames)[s],c=l[s-1],s===0&&i.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?i.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&i.putImageData(c.imageData,c.xOffset,c.yOffset),o.blendOp===0&&i.clearRect(o.xOffset,o.yOffset,o.width,o.height),i.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(i){var s,o,l,c,u,d,h=this;return o=0,d=this.animation,c=d.numFrames,l=d.frames,u=d.numPlays,(s=function(){var p,g;if(p=o++%c,g=l[p],h.renderFrame(i,p),c>1&&o/c<u)return h.animation._timeout=setTimeout(s,g.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var s,o;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,s=i.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(o=s.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),s.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function z9e(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,s=1<<(7&a)+1;e[t++],e[t++];var o=null,l=null;i&&(o=t,l=s,t+=3*s);var c=!0,u=[],d=0,h=null,p=0,g=null;for(this.width=r,this.height=n;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,g=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((N=e[t++])>=0))throw Error("Invalid block size");if(N===0)break;t+=N}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var m=e[t++];d=e[t++]|e[t++]<<8,h=e[t++],!(1&m)&&(h=null),p=m>>2&7,t++;break;case 254:for(;;){if(!((N=e[t++])>=0))throw Error("Invalid block size");if(N===0)break;t+=N}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var v=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,D=e[t++],P=D>>6&1,O=1<<(7&D)+1,T=o,S=l,_=!1;D>>7&&(_=!0,T=t,S=O,t+=3*O);var j=t;for(t++;;){var N;if(!((N=e[t++])>=0))throw Error("Invalid block size");if(N===0)break;t+=N}u.push({x:v,y,width:w,height:b,has_local_palette:_,palette_offset:T,palette_size:S,data_offset:j,data_length:t-j,transparent_index:h,interlaced:!!P,delay:d,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return g},this.frameInfo=function(E){if(E<0||E>=u.length)throw new Error("Frame index out of range.");return u[E]},this.decodeAndBlitFrameBGRA=function(E,k){var U=this.frameInfo(E),G=U.width*U.height,z=new Uint8Array(G);DR(e,U.data_offset,z,G);var X=U.palette_offset,V=U.transparent_index;V===null&&(V=256);var H=U.width,re=r-H,ee=H,I=4*(U.y*r+U.x),M=4*((U.y+U.height)*r+U.x),q=I,K=4*re;U.interlaced===!0&&(K+=4*r*7);for(var J=8,se=0,he=z.length;se<he;++se){var ie=z[se];if(ee===0&&(ee=H,(q+=K)>=M&&(K=4*re+4*r*(J-1),q=I+(H+re)*(J<<1),J>>=1)),ie===V)q+=4;else{var ge=e[X+3*ie],xe=e[X+3*ie+1],W=e[X+3*ie+2];k[q++]=W,k[q++]=xe,k[q++]=ge,k[q++]=255}--ee}},this.decodeAndBlitFrameRGBA=function(E,k){var U=this.frameInfo(E),G=U.width*U.height,z=new Uint8Array(G);DR(e,U.data_offset,z,G);var X=U.palette_offset,V=U.transparent_index;V===null&&(V=256);var H=U.width,re=r-H,ee=H,I=4*(U.y*r+U.x),M=4*((U.y+U.height)*r+U.x),q=I,K=4*re;U.interlaced===!0&&(K+=4*r*7);for(var J=8,se=0,he=z.length;se<he;++se){var ie=z[se];if(ee===0&&(ee=H,(q+=K)>=M&&(K=4*re+4*r*(J-1),q=I+(H+re)*(J<<1),J>>=1)),ie===V)q+=4;else{var ge=e[X+3*ie],xe=e[X+3*ie+1],W=e[X+3*ie+2];k[q++]=ge,k[q++]=xe,k[q++]=W,k[q++]=255}--ee}}}function DR(e,t,r,n){for(var a=e[t++],i=1<<a,s=i+1,o=s+1,l=a+1,c=(1<<l)-1,u=0,d=0,h=0,p=e[t++],g=new Int32Array(4096),m=null;;){for(;u<16&&p!==0;)d|=e[t++]<<u,u+=8,p===1?p=e[t++]:--p;if(u<l)break;var v=d&c;if(d>>=l,u-=l,v!==i){if(v===s)break;for(var y=v<o?v:m,w=0,b=y;b>i;)b=g[b]>>8,++w;var D=b;if(h+w+(y!==v?1:0)>n)return void Fn.log("Warning, gif stream longer than expected.");r[h++]=D;var P=h+=w;for(y!==v&&(r[h++]=D),b=y;w--;)b=g[b],r[--P]=255&b,b>>=8;m!==null&&o<4096&&(g[o++]=m<<8|D,o>=c+1&&l<12&&(++l,c=c<<1|1)),m=v}else o=s+1,c=(1<<(l=a+1))-1,m=null}return h!==n&&Fn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function OA(e){var t,r,n,a,i,s=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(65535),h=new Array(65535),p=new Array(64),g=new Array(64),m=[],v=0,y=7,w=new Array(64),b=new Array(64),D=new Array(64),P=new Array(256),O=new Array(2048),T=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],S=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],_=[0,1,2,3,4,5,6,7,8,9,10,11],j=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],N=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],E=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],G=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function z(I,M){for(var q=0,K=0,J=new Array,se=1;se<=16;se++){for(var he=1;he<=I[se];he++)J[M[K]]=[],J[M[K]][0]=q,J[M[K]][1]=se,K++,q++;q*=2}return J}function X(I){for(var M=I[0],q=I[1]-1;q>=0;)M&1<<q&&(v|=1<<y),q--,--y<0&&(v==255?(V(255),V(0)):V(v),y=7,v=0)}function V(I){m.push(I)}function H(I){V(I>>8&255),V(255&I)}function re(I,M,q,K,J){for(var se,he=J[0],ie=J[240],ge=function(Le,Ye){var _e,$e,Ne,Ie,We,it,ht,xt,St,mt,ut=0;for(St=0;St<8;++St){_e=Le[ut],$e=Le[ut+1],Ne=Le[ut+2],Ie=Le[ut+3],We=Le[ut+4],it=Le[ut+5],ht=Le[ut+6];var Xt=_e+(xt=Le[ut+7]),Kt=_e-xt,jr=$e+ht,_r=$e-ht,Dr=Ne+it,De=Ne-it,rt=Ie+We,nt=Ie-We,st=Xt+rt,Ct=Xt-rt,Ut=jr+Dr,Pt=jr-Dr;Le[ut]=st+Ut,Le[ut+4]=st-Ut;var Dt=.707106781*(Pt+Ct);Le[ut+2]=Ct+Dt,Le[ut+6]=Ct-Dt;var Vt=.382683433*((st=nt+De)-(Pt=_r+Kt)),xr=.5411961*st+Vt,or=1.306562965*Pt+Vt,Tr=.707106781*(Ut=De+_r),mr=Kt+Tr,zt=Kt-Tr;Le[ut+5]=zt+xr,Le[ut+3]=zt-xr,Le[ut+1]=mr+or,Le[ut+7]=mr-or,ut+=8}for(ut=0,St=0;St<8;++St){_e=Le[ut],$e=Le[ut+8],Ne=Le[ut+16],Ie=Le[ut+24],We=Le[ut+32],it=Le[ut+40],ht=Le[ut+48];var da=_e+(xt=Le[ut+56]),Bn=_e-xt,Br=$e+ht,An=$e-ht,gn=Ne+it,oe=Ne-it,ye=Ie+We,me=Ie-We,ve=da+ye,Ae=da-ye,Z=Br+gn,be=Br-gn;Le[ut]=ve+Z,Le[ut+32]=ve-Z;var ke=.707106781*(be+Ae);Le[ut+16]=Ae+ke,Le[ut+48]=Ae-ke;var je=.382683433*((ve=me+oe)-(be=An+Bn)),Be=.5411961*ve+je,Ke=1.306562965*be+je,ot=.707106781*(Z=oe+An),Tt=Bn+ot,Mt=Bn-ot;Le[ut+40]=Mt+Be,Le[ut+24]=Mt-Be,Le[ut+8]=Tt+Ke,Le[ut+56]=Tt-Ke,ut++}for(St=0;St<64;++St)mt=Le[St]*Ye[St],p[St]=mt>0?mt+.5|0:mt-.5|0;return p}(I,M),xe=0;xe<64;++xe)g[T[xe]]=ge[xe];var W=g[0]-q;q=g[0],W==0?X(K[0]):(X(K[h[se=32767+W]]),X(d[se]));for(var Pe=63;Pe>0&&g[Pe]==0;)Pe--;if(Pe==0)return X(he),q;for(var Ce,Te=1;Te<=Pe;){for(var ce=Te;g[Te]==0&&Te<=Pe;)++Te;var Fe=Te-ce;if(Fe>=16){Ce=Fe>>4;for(var Ge=1;Ge<=Ce;++Ge)X(ie);Fe&=15}se=32767+g[Te],X(J[(Fe<<4)+h[se]]),X(d[se]),Te++}return Pe!=63&&X(he),q}function ee(I){I=Math.min(Math.max(I,1),100),i!=I&&(function(M){for(var q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],K=0;K<64;K++){var J=s((q[K]*M+50)/100);J=Math.min(Math.max(J,1),255),o[T[K]]=J}for(var se=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],he=0;he<64;he++){var ie=s((se[he]*M+50)/100);ie=Math.min(Math.max(ie,1),255),l[T[he]]=ie}for(var ge=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],xe=0,W=0;W<8;W++)for(var Pe=0;Pe<8;Pe++)c[xe]=1/(o[T[xe]]*ge[W]*ge[Pe]*8),u[xe]=1/(l[T[xe]]*ge[W]*ge[Pe]*8),xe++}(I<50?Math.floor(5e3/I):Math.floor(200-2*I)),i=I)}this.encode=function(I,M){M&&ee(M),m=new Array,v=0,y=7,H(65496),H(65504),H(16),V(74),V(70),V(73),V(70),V(0),V(1),V(1),V(0),H(1),H(1),V(0),V(0),function(){H(65499),H(132),V(0);for(var $e=0;$e<64;$e++)V(o[$e]);V(1);for(var Ne=0;Ne<64;Ne++)V(l[Ne])}(),function($e,Ne){H(65472),H(17),V(8),H(Ne),H($e),V(3),V(1),V(17),V(0),V(2),V(17),V(1),V(3),V(17),V(1)}(I.width,I.height),function(){H(65476),H(418),V(0);for(var $e=0;$e<16;$e++)V(S[$e+1]);for(var Ne=0;Ne<=11;Ne++)V(_[Ne]);V(16);for(var Ie=0;Ie<16;Ie++)V(j[Ie+1]);for(var We=0;We<=161;We++)V(N[We]);V(1);for(var it=0;it<16;it++)V(E[it+1]);for(var ht=0;ht<=11;ht++)V(k[ht]);V(17);for(var xt=0;xt<16;xt++)V(U[xt+1]);for(var St=0;St<=161;St++)V(G[St])}(),H(65498),H(12),V(3),V(1),V(0),V(2),V(17),V(3),V(17),V(0),V(63),V(0);var q=0,K=0,J=0;v=0,y=7,this.encode.displayName="_encode_";for(var se,he,ie,ge,xe,W,Pe,Ce,Te,ce=I.data,Fe=I.width,Ge=I.height,Le=4*Fe,Ye=0;Ye<Ge;){for(se=0;se<Le;){for(xe=Le*Ye+se,Pe=-1,Ce=0,Te=0;Te<64;Te++)W=xe+(Ce=Te>>3)*Le+(Pe=4*(7&Te)),Ye+Ce>=Ge&&(W-=Le*(Ye+1+Ce-Ge)),se+Pe>=Le&&(W-=se+Pe-Le+4),he=ce[W++],ie=ce[W++],ge=ce[W++],w[Te]=(O[he]+O[ie+256>>0]+O[ge+512>>0]>>16)-128,b[Te]=(O[he+768>>0]+O[ie+1024>>0]+O[ge+1280>>0]>>16)-128,D[Te]=(O[he+1280>>0]+O[ie+1536>>0]+O[ge+1792>>0]>>16)-128;q=re(w,c,q,t,n),K=re(b,u,K,r,a),J=re(D,u,J,r,a),se+=32}Ye+=8}if(y>=0){var _e=[];_e[1]=y+1,_e[0]=(1<<y+1)-1,X(_e)}return H(65497),new Uint8Array(m)},e=e||50,function(){for(var I=String.fromCharCode,M=0;M<256;M++)P[M]=I(M)}(),t=z(S,_),r=z(E,k),n=z(j,N),a=z(U,G),function(){for(var I=1,M=2,q=1;q<=15;q++){for(var K=I;K<M;K++)h[32767+K]=q,d[32767+K]=[],d[32767+K][1]=q,d[32767+K][0]=K;for(var J=-(M-1);J<=-I;J++)h[32767+J]=q,d[32767+J]=[],d[32767+J][1]=q,d[32767+J][0]=M-1+J;I<<=1,M<<=1}}(),function(){for(var I=0;I<256;I++)O[I]=19595*I,O[I+256>>0]=38470*I,O[I+512>>0]=7471*I+32768,O[I+768>>0]=-11059*I,O[I+1024>>0]=-21709*I,O[I+1280>>0]=32768*I+8421375,O[I+1536>>0]=-27439*I,O[I+1792>>0]=-5329*I}(),ee(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function dl(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function LR(e){function t(S){if(!S)throw Error("assert :P")}function r(S,_,j){for(var N=0;4>N;N++)if(S[_+N]!=j.charCodeAt(N))return!0;return!1}function n(S,_,j,N,E){for(var k=0;k<E;k++)S[_+k]=j[N+k]}function a(S,_,j,N){for(var E=0;E<N;E++)S[_+E]=j}function i(S){return new Int32Array(S)}function s(S,_){for(var j=[],N=0;N<S;N++)j.push(new _);return j}function o(S,_){var j=[];return function N(E,k,U){for(var G=U[k],z=0;z<G&&(E.push(U.length>k+1?[]:new _),!(U.length<k+1));z++)N(E[z],k+1,U)}(j,0,S),j}var l=function(){var S=this;function _(x,C){for(var R=1<<C-1>>>0;x&R;)R>>>=1;return R?(x&R-1)+R:x}function j(x,C,R,Y,ae){t(!(Y%R));do x[C+(Y-=R)]=ae;while(0<Y)}function N(x,C,R,Y,ae){if(t(2328>=ae),512>=ae)var le=i(512);else if((le=i(ae))==null)return 0;return function(ue,de,pe,Se,Me,Qe){var Je,He,wt=de,lt=1<<pe,Re=i(16),Ue=i(16);for(t(Me!=0),t(Se!=null),t(ue!=null),t(0<pe),He=0;He<Me;++He){if(15<Se[He])return 0;++Re[Se[He]]}if(Re[0]==Me)return 0;for(Ue[1]=0,Je=1;15>Je;++Je){if(Re[Je]>1<<Je)return 0;Ue[Je+1]=Ue[Je]+Re[Je]}for(He=0;He<Me;++He)Je=Se[He],0<Se[He]&&(Qe[Ue[Je]++]=He);if(Ue[15]==1)return(Se=new E).g=0,Se.value=Qe[0],j(ue,wt,1,lt,Se),lt;var gt,At=-1,bt=lt-1,Jt=0,Ht=1,dr=1,Yt=1<<pe;for(He=0,Je=1,Me=2;Je<=pe;++Je,Me<<=1){if(Ht+=dr<<=1,0>(dr-=Re[Je]))return 0;for(;0<Re[Je];--Re[Je])(Se=new E).g=Je,Se.value=Qe[He++],j(ue,wt+Jt,Me,Yt,Se),Jt=_(Jt,Je)}for(Je=pe+1,Me=2;15>=Je;++Je,Me<<=1){if(Ht+=dr<<=1,0>(dr-=Re[Je]))return 0;for(;0<Re[Je];--Re[Je]){if(Se=new E,(Jt&bt)!=At){for(wt+=Yt,gt=1<<(At=Je)-pe;15>At&&!(0>=(gt-=Re[At]));)++At,gt<<=1;lt+=Yt=1<<(gt=At-pe),ue[de+(At=Jt&bt)].g=gt+pe,ue[de+At].value=wt-de-At}Se.g=Je-pe,Se.value=Qe[He++],j(ue,wt+(Jt>>pe),Me,Yt,Se),Jt=_(Jt,Je)}}return Ht!=2*Ue[15]-1?0:lt}(x,C,R,Y,ae,le)}function E(){this.value=this.g=0}function k(){this.value=this.g=0}function U(){this.G=s(5,E),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(bi,k)}function G(x,C,R,Y){t(x!=null),t(C!=null),t(2147483648>Y),x.Ca=254,x.I=0,x.b=-8,x.Ka=0,x.oa=C,x.pa=R,x.Jd=C,x.Yc=R+Y,x.Zc=4<=Y?R+Y-4+1:R,se(x)}function z(x,C){for(var R=0;0<C--;)R|=ie(x,128)<<C;return R}function X(x,C){var R=z(x,C);return he(x)?-R:R}function V(x,C,R,Y){var ae,le=0;for(t(x!=null),t(C!=null),t(4294967288>Y),x.Sb=Y,x.Ra=0,x.u=0,x.h=0,4<Y&&(Y=4),ae=0;ae<Y;++ae)le+=C[R+ae]<<8*ae;x.Ra=le,x.bb=Y,x.oa=C,x.pa=R}function H(x){for(;8<=x.u&&x.bb<x.Sb;)x.Ra>>>=8,x.Ra+=x.oa[x.pa+x.bb]<<qh-8>>>0,++x.bb,x.u-=8;q(x)&&(x.h=1,x.u=0)}function re(x,C){if(t(0<=C),!x.h&&C<=zh){var R=M(x)&Vh[C];return x.u+=C,H(x),R}return x.h=1,x.u=0}function ee(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function I(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function M(x){return x.Ra>>>(x.u&qh-1)>>>0}function q(x){return t(x.bb<=x.Sb),x.h||x.bb==x.Sb&&x.u>qh}function K(x,C){x.u=C,x.h=q(x)}function J(x){x.u>=km&&(t(x.u>=km),H(x))}function se(x){t(x!=null&&x.oa!=null),x.pa<x.Zc?(x.I=(x.oa[x.pa++]|x.I<<8)>>>0,x.b+=8):(t(x!=null&&x.oa!=null),x.pa<x.Yc?(x.b+=8,x.I=x.oa[x.pa++]|x.I<<8):x.Ka?x.b=0:(x.I<<=8,x.b+=8,x.Ka=1))}function he(x){return z(x,1)}function ie(x,C){var R=x.Ca;0>x.b&&se(x);var Y=x.b,ae=R*C>>>8,le=(x.I>>>Y>ae)+0;for(le?(R-=ae,x.I-=ae+1<<Y>>>0):R=ae+1,Y=R,ae=0;256<=Y;)ae+=8,Y>>=8;return Y=7^ae+js[Y],x.b-=Y,x.Ca=(R<<Y)-1,le}function ge(x,C,R){x[C+0]=R>>24&255,x[C+1]=R>>16&255,x[C+2]=R>>8&255,x[C+3]=R>>0&255}function xe(x,C){return x[C+0]<<0|x[C+1]<<8}function W(x,C){return xe(x,C)|x[C+2]<<16}function Pe(x,C){return xe(x,C)|xe(x,C+2)<<16}function Ce(x,C){var R=1<<C;return t(x!=null),t(0<C),x.X=i(R),x.X==null?0:(x.Mb=32-C,x.Xa=C,1)}function Te(x,C){t(x!=null),t(C!=null),t(x.Xa==C.Xa),n(C.X,0,x.X,0,1<<C.Xa)}function ce(){this.X=[],this.Xa=this.Mb=0}function Fe(x,C,R,Y){t(R!=null),t(Y!=null);var ae=R[0],le=Y[0];return ae==0&&(ae=(x*le+C/2)/C),le==0&&(le=(C*ae+x/2)/x),0>=ae||0>=le?0:(R[0]=ae,Y[0]=le,1)}function Ge(x,C){return x+(1<<C)-1>>>C}function Le(x,C){return((4278255360&x)+(4278255360&C)>>>0&4278255360)+((16711935&x)+(16711935&C)>>>0&16711935)>>>0}function Ye(x,C){S[C]=function(R,Y,ae,le,ue,de,pe){var Se;for(Se=0;Se<ue;++Se){var Me=S[x](de[pe+Se-1],ae,le+Se);de[pe+Se]=Le(R[Y+Se],Me)}}}function _e(){this.ud=this.hd=this.jd=0}function $e(x,C){return((4278124286&(x^C))>>>1)+(x&C)>>>0}function Ne(x){return 0<=x&&256>x?x:0>x?0:255<x?255:void 0}function Ie(x,C){return Ne(x+(x-C+.5>>1))}function We(x,C,R){return Math.abs(C-R)-Math.abs(x-R)}function it(x,C,R,Y,ae,le,ue){for(Y=le[ue-1],R=0;R<ae;++R)le[ue+R]=Y=Le(x[C+R],Y)}function ht(x,C,R,Y,ae){var le;for(le=0;le<R;++le){var ue=x[C+le],de=ue>>8&255,pe=16711935&(pe=(pe=16711935&ue)+((de<<16)+de));Y[ae+le]=(4278255360&ue)+pe>>>0}}function xt(x,C){C.jd=x>>0&255,C.hd=x>>8&255,C.ud=x>>16&255}function St(x,C,R,Y,ae,le){var ue;for(ue=0;ue<Y;++ue){var de=C[R+ue],pe=de>>>8,Se=de,Me=255&(Me=(Me=de>>>16)+((x.jd<<24>>24)*(pe<<24>>24)>>>5));Se=255&(Se=(Se=Se+((x.hd<<24>>24)*(pe<<24>>24)>>>5))+((x.ud<<24>>24)*(Me<<24>>24)>>>5)),ae[le+ue]=(4278255360&de)+(Me<<16)+Se}}function mt(x,C,R,Y,ae){S[C]=function(le,ue,de,pe,Se,Me,Qe,Je,He){for(pe=Qe;pe<Je;++pe)for(Qe=0;Qe<He;++Qe)Se[Me++]=ae(de[Y(le[ue++])])},S[x]=function(le,ue,de,pe,Se,Me,Qe){var Je=8>>le.b,He=le.Ea,wt=le.K[0],lt=le.w;if(8>Je)for(le=(1<<le.b)-1,lt=(1<<Je)-1;ue<de;++ue){var Re,Ue=0;for(Re=0;Re<He;++Re)Re&le||(Ue=Y(pe[Se++])),Me[Qe++]=ae(wt[Ue&lt]),Ue>>=Je}else S["VP8LMapColor"+R](pe,Se,wt,lt,Me,Qe,ue,de,He)}}function ut(x,C,R,Y,ae){for(R=C+R;C<R;){var le=x[C++];Y[ae++]=le>>16&255,Y[ae++]=le>>8&255,Y[ae++]=le>>0&255}}function Xt(x,C,R,Y,ae){for(R=C+R;C<R;){var le=x[C++];Y[ae++]=le>>16&255,Y[ae++]=le>>8&255,Y[ae++]=le>>0&255,Y[ae++]=le>>24&255}}function Kt(x,C,R,Y,ae){for(R=C+R;C<R;){var le=(ue=x[C++])>>16&240|ue>>12&15,ue=ue>>0&240|ue>>28&15;Y[ae++]=le,Y[ae++]=ue}}function jr(x,C,R,Y,ae){for(R=C+R;C<R;){var le=(ue=x[C++])>>16&248|ue>>13&7,ue=ue>>5&224|ue>>3&31;Y[ae++]=le,Y[ae++]=ue}}function _r(x,C,R,Y,ae){for(R=C+R;C<R;){var le=x[C++];Y[ae++]=le>>0&255,Y[ae++]=le>>8&255,Y[ae++]=le>>16&255}}function Dr(x,C,R,Y,ae,le){if(le==0)for(R=C+R;C<R;)ge(Y,((le=x[C++])[0]>>24|le[1]>>8&65280|le[2]<<8&16711680|le[3]<<24)>>>0),ae+=32;else n(Y,ae,x,C,R)}function De(x,C){S[C][0]=S[x+"0"],S[C][1]=S[x+"1"],S[C][2]=S[x+"2"],S[C][3]=S[x+"3"],S[C][4]=S[x+"4"],S[C][5]=S[x+"5"],S[C][6]=S[x+"6"],S[C][7]=S[x+"7"],S[C][8]=S[x+"8"],S[C][9]=S[x+"9"],S[C][10]=S[x+"10"],S[C][11]=S[x+"11"],S[C][12]=S[x+"12"],S[C][13]=S[x+"13"],S[C][14]=S[x+"0"],S[C][15]=S[x+"0"]}function rt(x){return x==__||x==S_||x==ky||x==A_}function nt(){this.eb=[],this.size=this.A=this.fb=0}function st(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ct(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new nt,this.f.kb=new st,this.sd=null}function Ut(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Pt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Dt(x){return alert("todo:WebPSamplerProcessPlane"),x.T}function Vt(x,C){var R=x.T,Y=C.ba.f.RGBA,ae=Y.eb,le=Y.fb+x.ka*Y.A,ue=So[C.ba.S],de=x.y,pe=x.O,Se=x.f,Me=x.N,Qe=x.ea,Je=x.W,He=C.cc,wt=C.dc,lt=C.Mc,Re=C.Nc,Ue=x.ka,gt=x.ka+x.T,At=x.U,bt=At+1>>1;for(Ue==0?ue(de,pe,null,null,Se,Me,Qe,Je,Se,Me,Qe,Je,ae,le,null,null,At):(ue(C.ec,C.fc,de,pe,He,wt,lt,Re,Se,Me,Qe,Je,ae,le-Y.A,ae,le,At),++R);Ue+2<gt;Ue+=2)He=Se,wt=Me,lt=Qe,Re=Je,Me+=x.Rc,Je+=x.Rc,le+=2*Y.A,ue(de,(pe+=2*x.fa)-x.fa,de,pe,He,wt,lt,Re,Se,Me,Qe,Je,ae,le-Y.A,ae,le,At);return pe+=x.fa,x.j+gt<x.o?(n(C.ec,C.fc,de,pe,At),n(C.cc,C.dc,Se,Me,bt),n(C.Mc,C.Nc,Qe,Je,bt),R--):1&gt||ue(de,pe,null,null,Se,Me,Qe,Je,Se,Me,Qe,Je,ae,le+Y.A,null,null,At),R}function xr(x,C,R){var Y=x.F,ae=[x.J];if(Y!=null){var le=x.U,ue=C.ba.S,de=ue==Ey||ue==ky;C=C.ba.f.RGBA;var pe=[0],Se=x.ka;pe[0]=x.T,x.Kb&&(Se==0?--pe[0]:(--Se,ae[0]-=x.width),x.j+x.ka+x.T==x.o&&(pe[0]=x.o-x.j-Se));var Me=C.eb;Se=C.fb+Se*C.A,x=Vn(Y,ae[0],x.width,le,pe,Me,Se+(de?0:3),C.A),t(R==pe),x&&rt(ue)&&wo(Me,Se,de,le,pe,C.A)}return 0}function or(x){var C=x.ma,R=C.ba.S,Y=11>R,ae=R==Ty||R==Ny||R==Ey||R==w_||R==12||rt(R);if(C.memory=null,C.Ib=null,C.Jb=null,C.Nd=null,!Nm(C.Oa,x,ae?11:12))return 0;if(ae&&rt(R)&&Nt(),x.da)alert("todo:use_scaling");else{if(Y){if(C.Ib=Dt,x.Kb){if(R=x.U+1>>1,C.memory=i(x.U+2*R),C.memory==null)return 0;C.ec=C.memory,C.fc=0,C.cc=C.ec,C.dc=C.fc+x.U,C.Mc=C.cc,C.Nc=C.dc+R,C.Ib=Vt,Nt()}}else alert("todo:EmitYUV");ae&&(C.Jb=xr,Y&&qe())}if(Y&&!VP){for(x=0;256>x;++x)PY[x]=89858*(x-128)+Py>>Cy,IY[x]=-22014*(x-128)+Py,OY[x]=-45773*(x-128),jY[x]=113618*(x-128)+Py>>Cy;for(x=Lm;x<E_;++x)C=76283*(x-16)+Py>>Cy,DY[x-Lm]=_n(C,255),LY[x-Lm]=_n(C+8>>4,15);VP=1}return 1}function Tr(x){var C=x.ma,R=x.U,Y=x.T;return t(!(1&x.ka)),0>=R||0>=Y?0:(R=C.Ib(x,C),C.Jb!=null&&C.Jb(x,C,R),C.Dc+=R,1)}function mr(x){x.ma.memory=null}function zt(x,C,R,Y){return re(x,8)!=47?0:(C[0]=re(x,14)+1,R[0]=re(x,14)+1,Y[0]=re(x,1),re(x,3)!=0?0:!x.h)}function da(x,C){if(4>x)return x+1;var R=x-2>>1;return(2+(1&x)<<R)+re(C,R)+1}function Bn(x,C){return 120<C?C-120:1<=(R=((R=gY[C-1])>>4)*x+(8-(15&R)))?R:1;var R}function Br(x,C,R){var Y=M(R),ae=x[C+=255&Y].g-8;return 0<ae&&(K(R,R.u+8),Y=M(R),C+=x[C].value,C+=Y&(1<<ae)-1),K(R,R.u+x[C].g),x[C].value}function An(x,C,R){return R.g+=x.g,R.value+=x.value<<C>>>0,t(8>=R.g),x.g}function gn(x,C,R){var Y=x.xc;return t((C=Y==0?0:x.vc[x.md*(R>>Y)+(C>>Y)])<x.Wb),x.Ya[C]}function oe(x,C,R,Y){var ae=x.ab,le=x.c*C,ue=x.C;C=ue+C;var de=R,pe=Y;for(Y=x.Ta,R=x.Ua;0<ae--;){var Se=x.gc[ae],Me=ue,Qe=C,Je=de,He=pe,wt=(pe=Y,de=R,Se.Ea);switch(t(Me<Qe),t(Qe<=Se.nc),Se.hc){case 2:yy(Je,He,(Qe-Me)*wt,pe,de);break;case 0:var lt=Me,Re=Qe,Ue=pe,gt=de,At=(Yt=Se).Ea;lt==0&&(x_(Je,He,null,null,1,Ue,gt),it(Je,He+1,0,0,At-1,Ue,gt+1),He+=At,gt+=At,++lt);for(var bt=1<<Yt.b,Jt=bt-1,Ht=Ge(At,Yt.b),dr=Yt.K,Yt=Yt.w+(lt>>Yt.b)*Ht;lt<Re;){var yn=dr,Nn=Yt,cn=1;for(Cm(Je,He,Ue,gt-At,1,Ue,gt);cn<At;){var Gr=(cn&~Jt)+bt;Gr>At&&(Gr=At),(0,Bu[yn[Nn++]>>8&15])(Je,He+ +cn,Ue,gt+cn-At,Gr-cn,Ue,gt+cn),cn=Gr}He+=At,gt+=At,++lt&Jt||(Yt+=Ht)}Qe!=Se.nc&&n(pe,de-wt,pe,de+(Qe-Me-1)*wt,wt);break;case 1:for(wt=Je,Re=He,At=(Je=Se.Ea)-(gt=Je&~(Ue=(He=1<<Se.b)-1)),lt=Ge(Je,Se.b),bt=Se.K,Se=Se.w+(Me>>Se.b)*lt;Me<Qe;){for(Jt=bt,Ht=Se,dr=new _e,Yt=Re+gt,yn=Re+Je;Re<Yt;)xt(Jt[Ht++],dr),vd(dr,wt,Re,He,pe,de),Re+=He,de+=He;Re<yn&&(xt(Jt[Ht++],dr),vd(dr,wt,Re,At,pe,de),Re+=At,de+=At),++Me&Ue||(Se+=lt)}break;case 3:if(Je==pe&&He==de&&0<Se.b){for(Re=pe,Je=wt=de+(Qe-Me)*wt-(gt=(Qe-Me)*Ge(Se.Ea,Se.b)),He=pe,Ue=de,lt=[],gt=(At=gt)-1;0<=gt;--gt)lt[gt]=He[Ue+gt];for(gt=At-1;0<=gt;--gt)Re[Je+gt]=lt[gt];yo(Se,Me,Qe,pe,wt,pe,de)}else yo(Se,Me,Qe,Je,He,pe,de)}de=Y,pe=R}pe!=R&&n(Y,R,de,pe,le)}function ye(x,C){var R=x.V,Y=x.Ba+x.c*x.C,ae=C-x.C;if(t(C<=x.l.o),t(16>=ae),0<ae){var le=x.l,ue=x.Ta,de=x.Ua,pe=le.width;if(oe(x,ae,R,Y),ae=de=[de],t((R=x.C)<(Y=C)),t(le.v<le.va),Y>le.o&&(Y=le.o),R<le.j){var Se=le.j-R;R=le.j,ae[0]+=Se*pe}if(R>=Y?R=0:(ae[0]+=4*le.v,le.ka=R-le.j,le.U=le.va-le.v,le.T=Y-R,R=1),R){if(de=de[0],11>(R=x.ca).S){var Me=R.f.RGBA,Qe=(Y=R.S,ae=le.U,le=le.T,Se=Me.eb,Me.A),Je=le;for(Me=Me.fb+x.Ma*Me.A;0<Je--;){var He=ue,wt=de,lt=ae,Re=Se,Ue=Me;switch(Y){case Ay:Os(He,wt,lt,Re,Ue);break;case Ty:fs(He,wt,lt,Re,Ue);break;case __:fs(He,wt,lt,Re,Ue),wo(Re,Ue,0,lt,1,0);break;case OP:jc(He,wt,lt,Re,Ue);break;case Ny:Dr(He,wt,lt,Re,Ue,1);break;case S_:Dr(He,wt,lt,Re,Ue,1),wo(Re,Ue,0,lt,1,0);break;case Ey:Dr(He,wt,lt,Re,Ue,0);break;case ky:Dr(He,wt,lt,Re,Ue,0),wo(Re,Ue,1,lt,1,0);break;case w_:Uu(He,wt,lt,Re,Ue);break;case A_:Uu(He,wt,lt,Re,Ue),Un(Re,Ue,lt,1,0);break;case IP:Pc(He,wt,lt,Re,Ue);break;default:t(0)}de+=pe,Me+=Qe}x.Ma+=le}else alert("todo:EmitRescaledRowsYUVA");t(x.Ma<=R.height)}}x.C=C,t(x.C<=x.i)}function me(x){var C;if(0<x.ua)return 0;for(C=0;C<x.Wb;++C){var R=x.Ya[C].G,Y=x.Ya[C].H;if(0<R[1][Y[1]+0].g||0<R[2][Y[2]+0].g||0<R[3][Y[3]+0].g)return 0}return 1}function ve(x,C,R,Y,ae,le){if(x.Z!=0){var ue=x.qd,de=x.rd;for(t(Wu[x.Z]!=null);C<R;++C)Wu[x.Z](ue,de,Y,ae,Y,ae,le),ue=Y,de=ae,ae+=le;x.qd=ue,x.rd=de}}function Ae(x,C){var R=x.l.ma,Y=R.Z==0||R.Z==1?x.l.j:x.C;if(Y=x.C<Y?Y:x.C,t(C<=x.l.o),C>Y){var ae=x.l.width,le=R.ca,ue=R.tb+ae*Y,de=x.V,pe=x.Ba+x.c*Y,Se=x.gc;t(x.ab==1),t(Se[0].hc==3),xy(Se[0],Y,C,de,pe,le,ue),ve(R,Y,C,le,ue,ae)}x.C=x.Ma=C}function Z(x,C,R,Y,ae,le,ue){var de=x.$/Y,pe=x.$%Y,Se=x.m,Me=x.s,Qe=R+x.$,Je=Qe;ae=R+Y*ae;var He=R+Y*le,wt=280+Me.ua,lt=x.Pb?de:16777216,Re=0<Me.ua?Me.Wa:null,Ue=Me.wc,gt=Qe<He?gn(Me,pe,de):null;t(x.C<le),t(He<=ae);var At=!1;e:for(;;){for(;At||Qe<He;){var bt=0;if(de>=lt){var Jt=Qe-R;t((lt=x).Pb),lt.wd=lt.m,lt.xd=Jt,0<lt.s.ua&&Te(lt.s.Wa,lt.s.vb),lt=de+yY}if(pe&Ue||(gt=gn(Me,pe,de)),t(gt!=null),gt.Qb&&(C[Qe]=gt.qb,At=!0),!At)if(J(Se),gt.jc){bt=Se,Jt=C;var Ht=Qe,dr=gt.pd[M(bt)&bi-1];t(gt.jc),256>dr.g?(K(bt,bt.u+dr.g),Jt[Ht]=dr.value,bt=0):(K(bt,bt.u+dr.g-256),t(256<=dr.value),bt=dr.value),bt==0&&(At=!0)}else bt=Br(gt.G[0],gt.H[0],Se);if(Se.h)break;if(At||256>bt){if(!At)if(gt.nd)C[Qe]=(gt.qb|bt<<8)>>>0;else{if(J(Se),At=Br(gt.G[1],gt.H[1],Se),J(Se),Jt=Br(gt.G[2],gt.H[2],Se),Ht=Br(gt.G[3],gt.H[3],Se),Se.h)break;C[Qe]=(Ht<<24|At<<16|bt<<8|Jt)>>>0}if(At=!1,++Qe,++pe>=Y&&(pe=0,++de,ue!=null&&de<=le&&!(de%16)&&ue(x,de),Re!=null))for(;Je<Qe;)bt=C[Je++],Re.X[(506832829*bt&4294967295)>>>Re.Mb]=bt}else if(280>bt){if(bt=da(bt-256,Se),Jt=Br(gt.G[4],gt.H[4],Se),J(Se),Jt=Bn(Y,Jt=da(Jt,Se)),Se.h)break;if(Qe-R<Jt||ae-Qe<bt)break e;for(Ht=0;Ht<bt;++Ht)C[Qe+Ht]=C[Qe+Ht-Jt];for(Qe+=bt,pe+=bt;pe>=Y;)pe-=Y,++de,ue!=null&&de<=le&&!(de%16)&&ue(x,de);if(t(Qe<=ae),pe&Ue&&(gt=gn(Me,pe,de)),Re!=null)for(;Je<Qe;)bt=C[Je++],Re.X[(506832829*bt&4294967295)>>>Re.Mb]=bt}else{if(!(bt<wt))break e;for(At=bt-280,t(Re!=null);Je<Qe;)bt=C[Je++],Re.X[(506832829*bt&4294967295)>>>Re.Mb]=bt;bt=Qe,t(!(At>>>(Jt=Re).Xa)),C[bt]=Jt.X[At],At=!0}At||t(Se.h==q(Se))}if(x.Pb&&Se.h&&Qe<ae)t(x.m.h),x.a=5,x.m=x.wd,x.$=x.xd,0<x.s.ua&&Te(x.s.vb,x.s.Wa);else{if(Se.h)break e;ue!=null&&ue(x,de>le?le:de),x.a=0,x.$=Qe-R}return 1}return x.a=3,0}function be(x){t(x!=null),x.vc=null,x.yc=null,x.Ya=null;var C=x.Wa;C!=null&&(C.X=null),x.vb=null,t(x!=null)}function ke(){var x=new Bh;return x==null?null:(x.a=0,x.xb=MP,De("Predictor","VP8LPredictors"),De("Predictor","VP8LPredictors_C"),De("PredictorAdd","VP8LPredictorsAdd"),De("PredictorAdd","VP8LPredictorsAdd_C"),yy=ht,vd=St,Os=ut,fs=Xt,Uu=Kt,Pc=jr,jc=_r,S.VP8LMapColor32b=Wh,S.VP8LMapColor8b=by,x)}function je(x,C,R,Y,ae){var le=1,ue=[x],de=[C],pe=Y.m,Se=Y.s,Me=null,Qe=0;e:for(;;){if(R)for(;le&&re(pe,1);){var Je=ue,He=de,wt=Y,lt=1,Re=wt.m,Ue=wt.gc[wt.ab],gt=re(Re,2);if(wt.Oc&1<<gt)le=0;else{switch(wt.Oc|=1<<gt,Ue.hc=gt,Ue.Ea=Je[0],Ue.nc=He[0],Ue.K=[null],++wt.ab,t(4>=wt.ab),gt){case 0:case 1:Ue.b=re(Re,3)+2,lt=je(Ge(Ue.Ea,Ue.b),Ge(Ue.nc,Ue.b),0,wt,Ue.K),Ue.K=Ue.K[0];break;case 3:var At,bt=re(Re,8)+1,Jt=16<bt?0:4<bt?1:2<bt?2:3;if(Je[0]=Ge(Ue.Ea,Jt),Ue.b=Jt,At=lt=je(bt,1,0,wt,Ue.K)){var Ht,dr=bt,Yt=Ue,yn=1<<(8>>Yt.b),Nn=i(yn);if(Nn==null)At=0;else{var cn=Yt.K[0],Gr=Yt.w;for(Nn[0]=Yt.K[0][0],Ht=1;Ht<1*dr;++Ht)Nn[Ht]=Le(cn[Gr+Ht],Nn[Ht-1]);for(;Ht<4*yn;++Ht)Nn[Ht]=0;Yt.K[0]=null,Yt.K[0]=Nn,At=1}}lt=At;break;case 2:break;default:t(0)}le=lt}}if(ue=ue[0],de=de[0],le&&re(pe,1)&&!(le=1<=(Qe=re(pe,4))&&11>=Qe)){Y.a=3;break e}var Rn;if(Rn=le)t:{var jn,Or,Ia,Is=Y,Da=ue,Ds=de,En=Qe,Zs=R,eo=Is.m,si=Is.s,wi=[null],hs=1,Ao=0,Wl=vY[En];r:for(;;){if(Zs&&re(eo,1)){var oi=re(eo,3)+2,Lc=Ge(Da,oi),_d=Ge(Ds,oi),Xh=Lc*_d;if(!je(Lc,_d,0,Is,wi))break r;for(wi=wi[0],si.xc=oi,jn=0;jn<Xh;++jn){var Hu=wi[jn]>>8&65535;wi[jn]=Hu,Hu>=hs&&(hs=Hu+1)}}if(eo.h)break r;for(Or=0;5>Or;++Or){var ha=DP[Or];!Or&&0<En&&(ha+=1<<En),Ao<ha&&(Ao=ha)}var k_=s(hs*Wl,E),WP=hs,HP=s(WP,U);if(HP==null)var Oy=null;else t(65536>=WP),Oy=HP;var Mm=i(Ao);if(Oy==null||Mm==null||k_==null){Is.a=1;break r}var Iy=k_;for(jn=Ia=0;jn<hs;++jn){var sl=Oy[jn],Qh=sl.G,Jh=sl.H,GP=0,Dy=1,KP=0;for(Or=0;5>Or;++Or){ha=DP[Or],Qh[Or]=Iy,Jh[Or]=Ia,!Or&&0<En&&(ha+=1<<En);a:{var Ly,C_=ha,My=Is,Rm=Mm,FY=Iy,$Y=Ia,P_=0,Gu=My.m,BY=re(Gu,1);if(a(Rm,0,0,C_),BY){var UY=re(Gu,1)+1,VY=re(Gu,1),YP=re(Gu,VY==0?1:8);Rm[YP]=1,UY==2&&(Rm[YP=re(Gu,8)]=1);var Ry=1}else{var XP=i(19),QP=re(Gu,4)+4;if(19<QP){My.a=3;var Fy=0;break a}for(Ly=0;Ly<QP;++Ly)XP[mY[Ly]]=re(Gu,3);var j_=void 0,Fm=void 0,JP=My,zY=XP,$y=C_,ZP=Rm,O_=0,Ku=JP.m,e6=8,t6=s(128,E);n:for(;N(t6,0,7,zY,19);){if(re(Ku,1)){var qY=2+2*re(Ku,3);if((j_=2+re(Ku,qY))>$y)break n}else j_=$y;for(Fm=0;Fm<$y&&j_--;){J(Ku);var r6=t6[0+(127&M(Ku))];K(Ku,Ku.u+r6.g);var Zh=r6.value;if(16>Zh)ZP[Fm++]=Zh,Zh!=0&&(e6=Zh);else{var WY=Zh==16,n6=Zh-16,HY=hY[n6],a6=re(Ku,dY[n6])+HY;if(Fm+a6>$y)break n;for(var GY=WY?e6:0;0<a6--;)ZP[Fm++]=GY}}O_=1;break n}O_||(JP.a=3),Ry=O_}(Ry=Ry&&!Gu.h)&&(P_=N(FY,$Y,8,Rm,C_)),Ry&&P_!=0?Fy=P_:(My.a=3,Fy=0)}if(Fy==0)break r;if(Dy&&pY[Or]==1&&(Dy=Iy[Ia].g==0),GP+=Iy[Ia].g,Ia+=Fy,3>=Or){var $m,I_=Mm[0];for($m=1;$m<ha;++$m)Mm[$m]>I_&&(I_=Mm[$m]);KP+=I_}}if(sl.nd=Dy,sl.Qb=0,Dy&&(sl.qb=(Qh[3][Jh[3]+0].value<<24|Qh[1][Jh[1]+0].value<<16|Qh[2][Jh[2]+0].value)>>>0,GP==0&&256>Qh[0][Jh[0]+0].value&&(sl.Qb=1,sl.qb+=Qh[0][Jh[0]+0].value<<8)),sl.jc=!sl.Qb&&6>KP,sl.jc){var By,Mc=sl;for(By=0;By<bi;++By){var Yu=By,Xu=Mc.pd[Yu],Uy=Mc.G[0][Mc.H[0]+Yu];256<=Uy.value?(Xu.g=Uy.g+256,Xu.value=Uy.value):(Xu.g=0,Xu.value=0,Yu>>=An(Uy,8,Xu),Yu>>=An(Mc.G[1][Mc.H[1]+Yu],16,Xu),Yu>>=An(Mc.G[2][Mc.H[2]+Yu],0,Xu),An(Mc.G[3][Mc.H[3]+Yu],24,Xu))}}}si.vc=wi,si.Wb=hs,si.Ya=Oy,si.yc=k_,Rn=1;break t}Rn=0}if(!(le=Rn)){Y.a=3;break e}if(0<Qe){if(Se.ua=1<<Qe,!Ce(Se.Wa,Qe)){Y.a=1,le=0;break e}}else Se.ua=0;var D_=Y,i6=ue,KY=de,L_=D_.s,M_=L_.xc;if(D_.c=i6,D_.i=KY,L_.md=Ge(i6,M_),L_.wc=M_==0?-1:(1<<M_)-1,R){Y.xb=TY;break e}if((Me=i(ue*de))==null){Y.a=1,le=0;break e}le=(le=Z(Y,Me,0,ue,de,de,null))&&!pe.h;break e}return le?(ae!=null?ae[0]=Me:(t(Me==null),t(R)),Y.$=0,R||be(Se)):be(Se),le}function Be(x,C){var R=x.c*x.i,Y=R+C+16*C;return t(x.c<=C),x.V=i(Y),x.V==null?(x.Ta=null,x.Ua=0,x.a=1,0):(x.Ta=x.V,x.Ua=x.Ba+R+C,1)}function Ke(x,C){var R=x.C,Y=C-R,ae=x.V,le=x.Ba+x.c*R;for(t(C<=x.l.o);0<Y;){var ue=16<Y?16:Y,de=x.l.ma,pe=x.l.width,Se=pe*ue,Me=de.ca,Qe=de.tb+pe*R,Je=x.Ta,He=x.Ua;oe(x,ue,ae,le),Sa(Je,He,Me,Qe,Se),ve(de,R,R+ue,Me,Qe,pe),Y-=ue,ae+=ue*x.c,R+=ue}t(R==C),x.C=x.Ma=C}function ot(){this.ub=this.yd=this.td=this.Rb=0}function Tt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Mt(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function jt(){this.Yb=function(){var x=[];return function C(R,Y,ae){for(var le=ae[Y],ue=0;ue<le&&(R.push(ae.length>Y+1?[]:0),!(ae.length<Y+1));ue++)C(R[ue],Y+1,ae)}(x,0,[3,11]),x}()}function Ft(){this.jb=i(3),this.Wc=o([4,8],jt),this.Xc=o([4,17],jt)}function fr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function qr(){this.ld=this.La=this.dd=this.tc=0}function Ur(){this.Na=this.la=0}function hn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ia(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Li(){this.uc=this.M=this.Nb=0,this.wa=Array(new qr),this.Y=0,this.ya=Array(new ia),this.aa=0,this.l=new Oa}function ai(){this.y=i(16),this.f=i(8),this.ea=i(8)}function sa(){this.cb=this.a=0,this.sc="",this.m=new ee,this.Od=new ot,this.Kc=new Tt,this.ed=new fr,this.Qa=new Mt,this.Ic=this.$c=this.Aa=0,this.D=new Li,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,ee),this.ia=0,this.pb=s(4,hn),this.Pa=new Ft,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ai),this.Hd=0,this.rb=Array(new Ur),this.sb=0,this.wa=Array(new qr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ia),this.L=this.aa=0,this.gd=o([4,2],qr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Oa(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ln(){var x=new sa;return x!=null&&(x.a=0,x.sc="OK",x.cb=0,x.Xb=0,Dm||(Dm=_c)),x}function Ln(x,C,R){return x.a==0&&(x.a=C,x.sc=R,x.cb=0),0}function bc(x,C,R){return 3<=R&&x[C+0]==157&&x[C+1]==1&&x[C+2]==42}function wc(x,C){if(x==null)return 0;if(x.a=0,x.sc="OK",C==null)return Ln(x,2,"null VP8Io passed to VP8GetHeaders()");var R=C.data,Y=C.w,ae=C.ha;if(4>ae)return Ln(x,7,"Truncated header.");var le=R[Y+0]|R[Y+1]<<8|R[Y+2]<<16,ue=x.Od;if(ue.Rb=!(1&le),ue.td=le>>1&7,ue.yd=le>>4&1,ue.ub=le>>5,3<ue.td)return Ln(x,3,"Incorrect keyframe parameters.");if(!ue.yd)return Ln(x,4,"Frame not displayable.");Y+=3,ae-=3;var de=x.Kc;if(ue.Rb){if(7>ae)return Ln(x,7,"cannot parse picture header");if(!bc(R,Y,ae))return Ln(x,3,"Bad code word");de.c=16383&(R[Y+4]<<8|R[Y+3]),de.Td=R[Y+4]>>6,de.i=16383&(R[Y+6]<<8|R[Y+5]),de.Ud=R[Y+6]>>6,Y+=7,ae-=7,x.za=de.c+15>>4,x.Ub=de.i+15>>4,C.width=de.c,C.height=de.i,C.Da=0,C.j=0,C.v=0,C.va=C.width,C.o=C.height,C.da=0,C.ib=C.width,C.hb=C.height,C.U=C.width,C.T=C.height,a((le=x.Pa).jb,0,255,le.jb.length),t((le=x.Qa)!=null),le.Cb=0,le.Bb=0,le.Fb=1,a(le.Zb,0,0,le.Zb.length),a(le.Lb,0,0,le.Lb)}if(ue.ub>ae)return Ln(x,7,"bad partition length");G(le=x.m,R,Y,ue.ub),Y+=ue.ub,ae-=ue.ub,ue.Rb&&(de.Ld=he(le),de.Kd=he(le)),de=x.Qa;var pe,Se=x.Pa;if(t(le!=null),t(de!=null),de.Cb=he(le),de.Cb){if(de.Bb=he(le),he(le)){for(de.Fb=he(le),pe=0;4>pe;++pe)de.Zb[pe]=he(le)?X(le,7):0;for(pe=0;4>pe;++pe)de.Lb[pe]=he(le)?X(le,6):0}if(de.Bb)for(pe=0;3>pe;++pe)Se.jb[pe]=he(le)?z(le,8):255}else de.Bb=0;if(le.Ka)return Ln(x,3,"cannot parse segment header");if((de=x.ed).zd=he(le),de.Tb=z(le,6),de.wb=z(le,3),de.Pc=he(le),de.Pc&&he(le)){for(Se=0;4>Se;++Se)he(le)&&(de.vd[Se]=X(le,6));for(Se=0;4>Se;++Se)he(le)&&(de.od[Se]=X(le,6))}if(x.L=de.Tb==0?0:de.zd?1:2,le.Ka)return Ln(x,3,"cannot parse filter header");var Me=ae;if(ae=pe=Y,Y=pe+Me,de=Me,x.Xb=(1<<z(x.m,2))-1,Me<3*(Se=x.Xb))R=7;else{for(pe+=3*Se,de-=3*Se,Me=0;Me<Se;++Me){var Qe=R[ae+0]|R[ae+1]<<8|R[ae+2]<<16;Qe>de&&(Qe=de),G(x.Jc[+Me],R,pe,Qe),pe+=Qe,de-=Qe,ae+=3}G(x.Jc[+Se],R,pe,de),R=pe<Y?0:5}if(R!=0)return Ln(x,R,"cannot parse partitions");for(R=z(pe=x.m,7),ae=he(pe)?X(pe,4):0,Y=he(pe)?X(pe,4):0,de=he(pe)?X(pe,4):0,Se=he(pe)?X(pe,4):0,pe=he(pe)?X(pe,4):0,Me=x.Qa,Qe=0;4>Qe;++Qe){if(Me.Cb){var Je=Me.Zb[Qe];Me.Fb||(Je+=R)}else{if(0<Qe){x.pb[Qe]=x.pb[0];continue}Je=R}var He=x.pb[Qe];He.Sc[0]=T_[_n(Je+ae,127)],He.Sc[1]=N_[_n(Je+0,127)],He.Eb[0]=2*T_[_n(Je+Y,127)],He.Eb[1]=101581*N_[_n(Je+de,127)]>>16,8>He.Eb[1]&&(He.Eb[1]=8),He.Qc[0]=T_[_n(Je+Se,117)],He.Qc[1]=N_[_n(Je+pe,127)],He.lc=Je+pe}if(!ue.Rb)return Ln(x,4,"Not a key frame.");for(he(le),ue=x.Pa,R=0;4>R;++R){for(ae=0;8>ae;++ae)for(Y=0;3>Y;++Y)for(de=0;11>de;++de)Se=ie(le,SY[R][ae][Y][de])?z(le,8):wY[R][ae][Y][de],ue.Wc[R][ae].Yb[Y][de]=Se;for(ae=0;17>ae;++ae)ue.Xc[R][ae]=ue.Wc[R][AY[ae]]}return x.kc=he(le),x.kc&&(x.Bd=z(le,8)),x.cb=1}function _c(x,C,R,Y,ae,le,ue){var de=C[ae].Yb[R];for(R=0;16>ae;++ae){if(!ie(x,de[R+0]))return ae;for(;!ie(x,de[R+1]);)if(de=C[++ae].Yb[0],R=0,ae==16)return 16;var pe=C[ae+1].Yb;if(ie(x,de[R+2])){var Se=x,Me=0;if(ie(Se,(Je=de)[(Qe=R)+3]))if(ie(Se,Je[Qe+6])){for(de=0,Qe=2*(Me=ie(Se,Je[Qe+8]))+(Je=ie(Se,Je[Qe+9+Me])),Me=0,Je=xY[Qe];Je[de];++de)Me+=Me+ie(Se,Je[de]);Me+=3+(8<<Qe)}else ie(Se,Je[Qe+7])?(Me=7+2*ie(Se,165),Me+=ie(Se,145)):Me=5+ie(Se,159);else Me=ie(Se,Je[Qe+4])?3+ie(Se,Je[Qe+5]):2;de=pe[2]}else Me=1,de=pe[1];pe=ue+bY[ae],0>(Se=x).b&&se(Se);var Qe,Je=Se.b,He=(Qe=Se.Ca>>1)-(Se.I>>Je)>>31;--Se.b,Se.Ca+=He,Se.Ca|=1,Se.I-=(Qe+1&He)<<Je,le[pe]=((Me^He)-He)*Y[(0<ae)+0]}return 16}function Sc(x){var C=x.rb[x.sb-1];C.la=0,C.Na=0,a(x.zc,0,0,x.zc.length),x.ja=0}function Cu(x,C){if(x==null)return 0;if(C==null)return Ln(x,2,"NULL VP8Io parameter in VP8Decode().");if(!x.cb&&!wc(x,C))return 0;if(t(x.cb),C.ac==null||C.ac(C)){C.ob&&(x.L=0);var R=jy[x.L];if(x.L==2?(x.yb=0,x.zb=0):(x.yb=C.v-R>>4,x.zb=C.j-R>>4,0>x.yb&&(x.yb=0),0>x.zb&&(x.zb=0)),x.Va=C.o+15+R>>4,x.Hb=C.va+15+R>>4,x.Hb>x.za&&(x.Hb=x.za),x.Va>x.Ub&&(x.Va=x.Ub),0<x.L){var Y=x.ed;for(R=0;4>R;++R){var ae;if(x.Qa.Cb){var le=x.Qa.Lb[R];x.Qa.Fb||(le+=Y.Tb)}else le=Y.Tb;for(ae=0;1>=ae;++ae){var ue=x.gd[R][ae],de=le;if(Y.Pc&&(de+=Y.vd[0],ae&&(de+=Y.od[0])),0<(de=0>de?0:63<de?63:de)){var pe=de;0<Y.wb&&(pe=4<Y.wb?pe>>2:pe>>1)>9-Y.wb&&(pe=9-Y.wb),1>pe&&(pe=1),ue.dd=pe,ue.tc=2*de+pe,ue.ld=40<=de?2:15<=de?1:0}else ue.tc=0;ue.La=ae}}}R=0}else Ln(x,6,"Frame setup failed"),R=x.a;if(R=R==0){if(R){x.$c=0,0<x.Aa||(x.Ic=RY);e:{R=x.Ic,Y=4*(pe=x.za);var Se=32*pe,Me=pe+1,Qe=0<x.L?pe*(0<x.Aa?2:1):0,Je=(x.Aa==2?2:1)*pe;if((ue=Y+832+(ae=3*(16*R+jy[x.L])/2*Se)+(le=x.Fa!=null&&0<x.Fa.length?x.Kc.c*x.Kc.i:0))!=ue)R=0;else{if(ue>x.Vb){if(x.Vb=0,x.Ec=i(ue),x.Fc=0,x.Ec==null){R=Ln(x,1,"no memory during frame initialization.");break e}x.Vb=ue}ue=x.Ec,de=x.Fc,x.Ac=ue,x.Bc=de,de+=Y,x.Gd=s(Se,ai),x.Hd=0,x.rb=s(Me+1,Ur),x.sb=1,x.wa=Qe?s(Qe,qr):null,x.Y=0,x.D.Nb=0,x.D.wa=x.wa,x.D.Y=x.Y,0<x.Aa&&(x.D.Y+=pe),t(!0),x.oc=ue,x.pc=de,de+=832,x.ya=s(Je,ia),x.aa=0,x.D.ya=x.ya,x.D.aa=x.aa,x.Aa==2&&(x.D.aa+=pe),x.R=16*pe,x.B=8*pe,pe=(Se=jy[x.L])*x.R,Se=Se/2*x.B,x.sa=ue,x.ta=de+pe,x.qa=x.sa,x.ra=x.ta+16*R*x.R+Se,x.Ha=x.qa,x.Ia=x.ra+8*R*x.B+Se,x.$c=0,de+=ae,x.mb=le?ue:null,x.nb=le?de:null,t(de+le<=x.Fc+x.Vb),Sc(x),a(x.Ac,x.Bc,0,Y),R=1}}if(R){if(C.ka=0,C.y=x.sa,C.O=x.ta,C.f=x.qa,C.N=x.ra,C.ea=x.Ha,C.Vd=x.Ia,C.fa=x.R,C.Rc=x.B,C.F=null,C.J=0,!_y){for(R=-255;255>=R;++R)Ha[255+R]=0>R?-R:R;for(R=-1020;1020>=R;++R)Ic[1020+R]=-128>R?-128:127<R?127:R;for(R=-112;112>=R;++R)Im[112+R]=-16>R?-16:15<R?15:R;for(R=-255;510>=R;++R)Yh[255+R]=0>R?0:255<R?255:R;_y=1}Hh=el,Oc=Ks,Pm=Ac,ds=vn,xo=Zo,_a=Jo,Gh=Ou,wy=rl,jm=Du,yd=gd,xd=Iu,Vu=Ec,bd=Lu,Kh=Ul,wd=Nc,zu=Qs,Om=Wa,bo=$h,il[0]=Ot,il[1]=fd,il[2]=pt,il[3]=$t,il[4]=Lt,il[5]=Bt,il[6]=ft,il[7]=Sr,il[8]=Tn,il[9]=en,qu[0]=te,qu[1]=dd,qu[2]=Xs,qu[3]=tl,qu[4]=we,qu[5]=Ze,qu[6]=Rt,Dc[0]=Yr,Dc[1]=Pu,Dc[2]=Wr,Dc[3]=wn,Dc[4]=tn,Dc[5]=Ps,Dc[6]=Tc,R=1}else R=0}R&&(R=function(He,wt){for(He.M=0;He.M<He.Va;++He.M){var lt,Re=He.Jc[He.M&He.Xb],Ue=He.m,gt=He;for(lt=0;lt<gt.za;++lt){var At=Ue,bt=gt,Jt=bt.Ac,Ht=bt.Bc+4*lt,dr=bt.zc,Yt=bt.ya[bt.aa+lt];if(bt.Qa.Bb?Yt.$b=ie(At,bt.Pa.jb[0])?2+ie(At,bt.Pa.jb[2]):ie(At,bt.Pa.jb[1]):Yt.$b=0,bt.kc&&(Yt.Ad=ie(At,bt.Bd)),Yt.Za=!ie(At,145)+0,Yt.Za){var yn=Yt.Ob,Nn=0;for(bt=0;4>bt;++bt){var cn,Gr=dr[0+bt];for(cn=0;4>cn;++cn){Gr=_Y[Jt[Ht+cn]][Gr];for(var Rn=LP[ie(At,Gr[0])];0<Rn;)Rn=LP[2*Rn+ie(At,Gr[Rn])];Gr=-Rn,Jt[Ht+cn]=Gr}n(yn,Nn,Jt,Ht,4),Nn+=4,dr[0+bt]=Gr}}else Gr=ie(At,156)?ie(At,128)?1:3:ie(At,163)?2:0,Yt.Ob[0]=Gr,a(Jt,Ht,Gr,4),a(dr,0,Gr,4);Yt.Dd=ie(At,142)?ie(At,114)?ie(At,183)?1:3:2:0}if(gt.m.Ka)return Ln(He,7,"Premature end-of-partition0 encountered.");for(;He.ja<He.za;++He.ja){if(gt=Re,At=(Ue=He).rb[Ue.sb-1],Jt=Ue.rb[Ue.sb+Ue.ja],lt=Ue.ya[Ue.aa+Ue.ja],Ht=Ue.kc?lt.Ad:0)At.la=Jt.la=0,lt.Za||(At.Na=Jt.Na=0),lt.Hc=0,lt.Gc=0,lt.ia=0;else{var jn,Or;if(At=Jt,Jt=gt,Ht=Ue.Pa.Xc,dr=Ue.ya[Ue.aa+Ue.ja],Yt=Ue.pb[dr.$b],bt=dr.ad,yn=0,Nn=Ue.rb[Ue.sb-1],Gr=cn=0,a(bt,yn,0,384),dr.Za)var Ia=0,Is=Ht[3];else{Rn=i(16);var Da=At.Na+Nn.Na;if(Da=Dm(Jt,Ht[1],Da,Yt.Eb,0,Rn,0),At.Na=Nn.Na=(0<Da)+0,1<Da)Hh(Rn,0,bt,yn);else{var Ds=Rn[0]+3>>3;for(Rn=0;256>Rn;Rn+=16)bt[yn+Rn]=Ds}Ia=1,Is=Ht[0]}var En=15&At.la,Zs=15&Nn.la;for(Rn=0;4>Rn;++Rn){var eo=1&Zs;for(Ds=Or=0;4>Ds;++Ds)En=En>>1|(eo=(Da=Dm(Jt,Is,Da=eo+(1&En),Yt.Sc,Ia,bt,yn))>Ia)<<7,Or=Or<<2|(3<Da?3:1<Da?2:bt[yn+0]!=0),yn+=16;En>>=4,Zs=Zs>>1|eo<<7,cn=(cn<<8|Or)>>>0}for(Is=En,Ia=Zs>>4,jn=0;4>jn;jn+=2){for(Or=0,En=At.la>>4+jn,Zs=Nn.la>>4+jn,Rn=0;2>Rn;++Rn){for(eo=1&Zs,Ds=0;2>Ds;++Ds)Da=eo+(1&En),En=En>>1|(eo=0<(Da=Dm(Jt,Ht[2],Da,Yt.Qc,0,bt,yn)))<<3,Or=Or<<2|(3<Da?3:1<Da?2:bt[yn+0]!=0),yn+=16;En>>=2,Zs=Zs>>1|eo<<5}Gr|=Or<<4*jn,Is|=En<<4<<jn,Ia|=(240&Zs)<<jn}At.la=Is,Nn.la=Ia,dr.Hc=cn,dr.Gc=Gr,dr.ia=43690&Gr?0:Yt.ia,Ht=!(cn|Gr)}if(0<Ue.L&&(Ue.wa[Ue.Y+Ue.ja]=Ue.gd[lt.$b][lt.Za],Ue.wa[Ue.Y+Ue.ja].La|=!Ht),gt.Ka)return Ln(He,7,"Premature end-of-file encountered.")}if(Sc(He),Ue=wt,gt=1,lt=(Re=He).D,At=0<Re.L&&Re.M>=Re.zb&&Re.M<=Re.Va,Re.Aa==0)e:{if(lt.M=Re.M,lt.uc=At,zl(Re,lt),gt=1,lt=(Or=Re.D).Nb,At=(Gr=jy[Re.L])*Re.R,Jt=Gr/2*Re.B,Rn=16*lt*Re.R,Ds=8*lt*Re.B,Ht=Re.sa,dr=Re.ta-At+Rn,Yt=Re.qa,bt=Re.ra-Jt+Ds,yn=Re.Ha,Nn=Re.Ia-Jt+Ds,Zs=(En=Or.M)==0,cn=En>=Re.Va-1,Re.Aa==2&&zl(Re,Or),Or.uc)for(eo=(Da=Re).D.M,t(Da.D.uc),Or=Da.yb;Or<Da.Hb;++Or){Ia=Or,Is=eo;var si=(wi=(ha=Da).D).Nb;jn=ha.R;var wi=wi.wa[wi.Y+Ia],hs=ha.sa,Ao=ha.ta+16*si*jn+16*Ia,Wl=wi.dd,oi=wi.tc;if(oi!=0)if(t(3<=oi),ha.L==1)0<Ia&&zu(hs,Ao,jn,oi+4),wi.La&&bo(hs,Ao,jn,oi),0<Is&&wd(hs,Ao,jn,oi+4),wi.La&&Om(hs,Ao,jn,oi);else{var Lc=ha.B,_d=ha.qa,Xh=ha.ra+8*si*Lc+8*Ia,Hu=ha.Ha,ha=ha.Ia+8*si*Lc+8*Ia;si=wi.ld,0<Ia&&(wy(hs,Ao,jn,oi+4,Wl,si),yd(_d,Xh,Hu,ha,Lc,oi+4,Wl,si)),wi.La&&(Vu(hs,Ao,jn,oi,Wl,si),Kh(_d,Xh,Hu,ha,Lc,oi,Wl,si)),0<Is&&(Gh(hs,Ao,jn,oi+4,Wl,si),jm(_d,Xh,Hu,ha,Lc,oi+4,Wl,si)),wi.La&&(xd(hs,Ao,jn,oi,Wl,si),bd(_d,Xh,Hu,ha,Lc,oi,Wl,si))}}if(Re.ia&&alert("todo:DitherRow"),Ue.put!=null){if(Or=16*En,En=16*(En+1),Zs?(Ue.y=Re.sa,Ue.O=Re.ta+Rn,Ue.f=Re.qa,Ue.N=Re.ra+Ds,Ue.ea=Re.Ha,Ue.W=Re.Ia+Ds):(Or-=Gr,Ue.y=Ht,Ue.O=dr,Ue.f=Yt,Ue.N=bt,Ue.ea=yn,Ue.W=Nn),cn||(En-=Gr),En>Ue.o&&(En=Ue.o),Ue.F=null,Ue.J=null,Re.Fa!=null&&0<Re.Fa.length&&Or<En&&(Ue.J=$u(Re,Ue,Or,En-Or),Ue.F=Re.mb,Ue.F==null&&Ue.F.length==0)){gt=Ln(Re,3,"Could not decode alpha data.");break e}Or<Ue.j&&(Gr=Ue.j-Or,Or=Ue.j,t(!(1&Gr)),Ue.O+=Re.R*Gr,Ue.N+=Re.B*(Gr>>1),Ue.W+=Re.B*(Gr>>1),Ue.F!=null&&(Ue.J+=Ue.width*Gr)),Or<En&&(Ue.O+=Ue.v,Ue.N+=Ue.v>>1,Ue.W+=Ue.v>>1,Ue.F!=null&&(Ue.J+=Ue.v),Ue.ka=Or-Ue.j,Ue.U=Ue.va-Ue.v,Ue.T=En-Or,gt=Ue.put(Ue))}lt+1!=Re.Ic||cn||(n(Re.sa,Re.ta-At,Ht,dr+16*Re.R,At),n(Re.qa,Re.ra-Jt,Yt,bt+8*Re.B,Jt),n(Re.Ha,Re.Ia-Jt,yn,Nn+8*Re.B,Jt))}if(!gt)return Ln(He,6,"Output aborted.")}return 1}(x,C)),C.bc!=null&&C.bc(C),R&=1}return R?(x.cb=0,R):0}function Mi(x,C,R,Y,ae){ae=x[C+R+32*Y]+(ae>>3),x[C+R+32*Y]=-256&ae?0>ae?0:255:ae}function Fl(x,C,R,Y,ae,le){Mi(x,C,0,R,Y+ae),Mi(x,C,1,R,Y+le),Mi(x,C,2,R,Y-le),Mi(x,C,3,R,Y-ae)}function Zn(x){return(20091*x>>16)+x}function ii(x,C,R,Y){var ae,le=0,ue=i(16);for(ae=0;4>ae;++ae){var de=x[C+0]+x[C+8],pe=x[C+0]-x[C+8],Se=(35468*x[C+4]>>16)-Zn(x[C+12]),Me=Zn(x[C+4])+(35468*x[C+12]>>16);ue[le+0]=de+Me,ue[le+1]=pe+Se,ue[le+2]=pe-Se,ue[le+3]=de-Me,le+=4,C++}for(ae=le=0;4>ae;++ae)de=(x=ue[le+0]+4)+ue[le+8],pe=x-ue[le+8],Se=(35468*ue[le+4]>>16)-Zn(ue[le+12]),Mi(R,Y,0,0,de+(Me=Zn(ue[le+4])+(35468*ue[le+12]>>16))),Mi(R,Y,1,0,pe+Se),Mi(R,Y,2,0,pe-Se),Mi(R,Y,3,0,de-Me),le++,Y+=32}function Jo(x,C,R,Y){var ae=x[C+0]+4,le=35468*x[C+4]>>16,ue=Zn(x[C+4]),de=35468*x[C+1]>>16;Fl(R,Y,0,ae+ue,x=Zn(x[C+1]),de),Fl(R,Y,1,ae+le,x,de),Fl(R,Y,2,ae-le,x,de),Fl(R,Y,3,ae-ue,x,de)}function Ks(x,C,R,Y,ae){ii(x,C,R,Y),ae&&ii(x,C+16,R,Y+4)}function Ac(x,C,R,Y){Oc(x,C+0,R,Y,1),Oc(x,C+32,R,Y+128,1)}function vn(x,C,R,Y){var ae;for(x=x[C+0]+4,ae=0;4>ae;++ae)for(C=0;4>C;++C)Mi(R,Y,C,ae,x)}function Zo(x,C,R,Y){x[C+0]&&ds(x,C+0,R,Y),x[C+16]&&ds(x,C+16,R,Y+4),x[C+32]&&ds(x,C+32,R,Y+128),x[C+48]&&ds(x,C+48,R,Y+128+4)}function el(x,C,R,Y){var ae,le=i(16);for(ae=0;4>ae;++ae){var ue=x[C+0+ae]+x[C+12+ae],de=x[C+4+ae]+x[C+8+ae],pe=x[C+4+ae]-x[C+8+ae],Se=x[C+0+ae]-x[C+12+ae];le[0+ae]=ue+de,le[8+ae]=ue-de,le[4+ae]=Se+pe,le[12+ae]=Se-pe}for(ae=0;4>ae;++ae)ue=(x=le[0+4*ae]+3)+le[3+4*ae],de=le[1+4*ae]+le[2+4*ae],pe=le[1+4*ae]-le[2+4*ae],Se=x-le[3+4*ae],R[Y+0]=ue+de>>3,R[Y+16]=Se+pe>>3,R[Y+32]=ue-de>>3,R[Y+48]=Se-pe>>3,Y+=64}function Ys(x,C,R){var Y,ae=C-32,le=Js,ue=255-x[ae-1];for(Y=0;Y<R;++Y){var de,pe=le,Se=ue+x[C-1];for(de=0;de<R;++de)x[C+de]=pe[Se+x[ae+de]];C+=32}}function fd(x,C){Ys(x,C,4)}function Pu(x,C){Ys(x,C,8)}function dd(x,C){Ys(x,C,16)}function Xs(x,C){var R;for(R=0;16>R;++R)n(x,C+32*R,x,C-32,16)}function tl(x,C){var R;for(R=16;0<R;--R)a(x,C,x[C-1],16),C+=32}function $l(x,C,R){var Y;for(Y=0;16>Y;++Y)a(C,R+32*Y,x,16)}function te(x,C){var R,Y=16;for(R=0;16>R;++R)Y+=x[C-1+32*R]+x[C+R-32];$l(Y>>5,x,C)}function we(x,C){var R,Y=8;for(R=0;16>R;++R)Y+=x[C-1+32*R];$l(Y>>4,x,C)}function Ze(x,C){var R,Y=8;for(R=0;16>R;++R)Y+=x[C+R-32];$l(Y>>4,x,C)}function Rt(x,C){$l(128,x,C)}function at(x,C,R){return x+2*C+R+2>>2}function pt(x,C){var R,Y=C-32;for(Y=new Uint8Array([at(x[Y-1],x[Y+0],x[Y+1]),at(x[Y+0],x[Y+1],x[Y+2]),at(x[Y+1],x[Y+2],x[Y+3]),at(x[Y+2],x[Y+3],x[Y+4])]),R=0;4>R;++R)n(x,C+32*R,Y,0,Y.length)}function $t(x,C){var R=x[C-1],Y=x[C-1+32],ae=x[C-1+64],le=x[C-1+96];ge(x,C+0,16843009*at(x[C-1-32],R,Y)),ge(x,C+32,16843009*at(R,Y,ae)),ge(x,C+64,16843009*at(Y,ae,le)),ge(x,C+96,16843009*at(ae,le,le))}function Ot(x,C){var R,Y=4;for(R=0;4>R;++R)Y+=x[C+R-32]+x[C-1+32*R];for(Y>>=3,R=0;4>R;++R)a(x,C+32*R,Y,4)}function Lt(x,C){var R=x[C-1+0],Y=x[C-1+32],ae=x[C-1+64],le=x[C-1-32],ue=x[C+0-32],de=x[C+1-32],pe=x[C+2-32],Se=x[C+3-32];x[C+0+96]=at(Y,ae,x[C-1+96]),x[C+1+96]=x[C+0+64]=at(R,Y,ae),x[C+2+96]=x[C+1+64]=x[C+0+32]=at(le,R,Y),x[C+3+96]=x[C+2+64]=x[C+1+32]=x[C+0+0]=at(ue,le,R),x[C+3+64]=x[C+2+32]=x[C+1+0]=at(de,ue,le),x[C+3+32]=x[C+2+0]=at(pe,de,ue),x[C+3+0]=at(Se,pe,de)}function ft(x,C){var R=x[C+1-32],Y=x[C+2-32],ae=x[C+3-32],le=x[C+4-32],ue=x[C+5-32],de=x[C+6-32],pe=x[C+7-32];x[C+0+0]=at(x[C+0-32],R,Y),x[C+1+0]=x[C+0+32]=at(R,Y,ae),x[C+2+0]=x[C+1+32]=x[C+0+64]=at(Y,ae,le),x[C+3+0]=x[C+2+32]=x[C+1+64]=x[C+0+96]=at(ae,le,ue),x[C+3+32]=x[C+2+64]=x[C+1+96]=at(le,ue,de),x[C+3+64]=x[C+2+96]=at(ue,de,pe),x[C+3+96]=at(de,pe,pe)}function Bt(x,C){var R=x[C-1+0],Y=x[C-1+32],ae=x[C-1+64],le=x[C-1-32],ue=x[C+0-32],de=x[C+1-32],pe=x[C+2-32],Se=x[C+3-32];x[C+0+0]=x[C+1+64]=le+ue+1>>1,x[C+1+0]=x[C+2+64]=ue+de+1>>1,x[C+2+0]=x[C+3+64]=de+pe+1>>1,x[C+3+0]=pe+Se+1>>1,x[C+0+96]=at(ae,Y,R),x[C+0+64]=at(Y,R,le),x[C+0+32]=x[C+1+96]=at(R,le,ue),x[C+1+32]=x[C+2+96]=at(le,ue,de),x[C+2+32]=x[C+3+96]=at(ue,de,pe),x[C+3+32]=at(de,pe,Se)}function Sr(x,C){var R=x[C+0-32],Y=x[C+1-32],ae=x[C+2-32],le=x[C+3-32],ue=x[C+4-32],de=x[C+5-32],pe=x[C+6-32],Se=x[C+7-32];x[C+0+0]=R+Y+1>>1,x[C+1+0]=x[C+0+64]=Y+ae+1>>1,x[C+2+0]=x[C+1+64]=ae+le+1>>1,x[C+3+0]=x[C+2+64]=le+ue+1>>1,x[C+0+32]=at(R,Y,ae),x[C+1+32]=x[C+0+96]=at(Y,ae,le),x[C+2+32]=x[C+1+96]=at(ae,le,ue),x[C+3+32]=x[C+2+96]=at(le,ue,de),x[C+3+64]=at(ue,de,pe),x[C+3+96]=at(de,pe,Se)}function en(x,C){var R=x[C-1+0],Y=x[C-1+32],ae=x[C-1+64],le=x[C-1+96];x[C+0+0]=R+Y+1>>1,x[C+2+0]=x[C+0+32]=Y+ae+1>>1,x[C+2+32]=x[C+0+64]=ae+le+1>>1,x[C+1+0]=at(R,Y,ae),x[C+3+0]=x[C+1+32]=at(Y,ae,le),x[C+3+32]=x[C+1+64]=at(ae,le,le),x[C+3+64]=x[C+2+64]=x[C+0+96]=x[C+1+96]=x[C+2+96]=x[C+3+96]=le}function Tn(x,C){var R=x[C-1+0],Y=x[C-1+32],ae=x[C-1+64],le=x[C-1+96],ue=x[C-1-32],de=x[C+0-32],pe=x[C+1-32],Se=x[C+2-32];x[C+0+0]=x[C+2+32]=R+ue+1>>1,x[C+0+32]=x[C+2+64]=Y+R+1>>1,x[C+0+64]=x[C+2+96]=ae+Y+1>>1,x[C+0+96]=le+ae+1>>1,x[C+3+0]=at(de,pe,Se),x[C+2+0]=at(ue,de,pe),x[C+1+0]=x[C+3+32]=at(R,ue,de),x[C+1+32]=x[C+3+64]=at(Y,R,ue),x[C+1+64]=x[C+3+96]=at(ae,Y,R),x[C+1+96]=at(le,ae,Y)}function Wr(x,C){var R;for(R=0;8>R;++R)n(x,C+32*R,x,C-32,8)}function wn(x,C){var R;for(R=0;8>R;++R)a(x,C,x[C-1],8),C+=32}function pn(x,C,R){var Y;for(Y=0;8>Y;++Y)a(C,R+32*Y,x,8)}function Yr(x,C){var R,Y=8;for(R=0;8>R;++R)Y+=x[C+R-32]+x[C-1+32*R];pn(Y>>4,x,C)}function Ps(x,C){var R,Y=4;for(R=0;8>R;++R)Y+=x[C+R-32];pn(Y>>3,x,C)}function tn(x,C){var R,Y=4;for(R=0;8>R;++R)Y+=x[C-1+32*R];pn(Y>>3,x,C)}function Tc(x,C){pn(128,x,C)}function ju(x,C,R){var Y=x[C-R],ae=x[C+0],le=3*(ae-Y)+b_[1020+x[C-2*R]-x[C+R]],ue=Sy[112+(le+4>>3)];x[C-R]=Js[255+Y+Sy[112+(le+3>>3)]],x[C+0]=Js[255+ae-ue]}function hd(x,C,R,Y){var ae=x[C+0],le=x[C+R];return _o[255+x[C-2*R]-x[C-R]]>Y||_o[255+le-ae]>Y}function pd(x,C,R,Y){return 4*_o[255+x[C-R]-x[C+0]]+_o[255+x[C-2*R]-x[C+R]]<=Y}function md(x,C,R,Y,ae){var le=x[C-3*R],ue=x[C-2*R],de=x[C-R],pe=x[C+0],Se=x[C+R],Me=x[C+2*R],Qe=x[C+3*R];return 4*_o[255+de-pe]+_o[255+ue-Se]>Y?0:_o[255+x[C-4*R]-le]<=ae&&_o[255+le-ue]<=ae&&_o[255+ue-de]<=ae&&_o[255+Qe-Me]<=ae&&_o[255+Me-Se]<=ae&&_o[255+Se-pe]<=ae}function Nc(x,C,R,Y){var ae=2*Y+1;for(Y=0;16>Y;++Y)pd(x,C+Y,R,ae)&&ju(x,C+Y,R)}function Qs(x,C,R,Y){var ae=2*Y+1;for(Y=0;16>Y;++Y)pd(x,C+Y*R,1,ae)&&ju(x,C+Y*R,1)}function Wa(x,C,R,Y){var ae;for(ae=3;0<ae;--ae)Nc(x,C+=4*R,R,Y)}function $h(x,C,R,Y){var ae;for(ae=3;0<ae;--ae)Qs(x,C+=4,R,Y)}function Bl(x,C,R,Y,ae,le,ue,de){for(le=2*le+1;0<ae--;){if(md(x,C,R,le,ue))if(hd(x,C,R,de))ju(x,C,R);else{var pe=x,Se=C,Me=R,Qe=pe[Se-2*Me],Je=pe[Se-Me],He=pe[Se+0],wt=pe[Se+Me],lt=pe[Se+2*Me],Re=27*(gt=b_[1020+3*(He-Je)+b_[1020+Qe-wt]])+63>>7,Ue=18*gt+63>>7,gt=9*gt+63>>7;pe[Se-3*Me]=Js[255+pe[Se-3*Me]+gt],pe[Se-2*Me]=Js[255+Qe+Ue],pe[Se-Me]=Js[255+Je+Re],pe[Se+0]=Js[255+He-Re],pe[Se+Me]=Js[255+wt-Ue],pe[Se+2*Me]=Js[255+lt-gt]}C+=Y}}function yi(x,C,R,Y,ae,le,ue,de){for(le=2*le+1;0<ae--;){if(md(x,C,R,le,ue))if(hd(x,C,R,de))ju(x,C,R);else{var pe=x,Se=C,Me=R,Qe=pe[Se-Me],Je=pe[Se+0],He=pe[Se+Me],wt=Sy[112+((lt=3*(Je-Qe))+4>>3)],lt=Sy[112+(lt+3>>3)],Re=wt+1>>1;pe[Se-2*Me]=Js[255+pe[Se-2*Me]+Re],pe[Se-Me]=Js[255+Qe+lt],pe[Se+0]=Js[255+Je-wt],pe[Se+Me]=Js[255+He-Re]}C+=Y}}function Ou(x,C,R,Y,ae,le){Bl(x,C,R,1,16,Y,ae,le)}function rl(x,C,R,Y,ae,le){Bl(x,C,1,R,16,Y,ae,le)}function Iu(x,C,R,Y,ae,le){var ue;for(ue=3;0<ue;--ue)yi(x,C+=4*R,R,1,16,Y,ae,le)}function Ec(x,C,R,Y,ae,le){var ue;for(ue=3;0<ue;--ue)yi(x,C+=4,1,R,16,Y,ae,le)}function Du(x,C,R,Y,ae,le,ue,de){Bl(x,C,ae,1,8,le,ue,de),Bl(R,Y,ae,1,8,le,ue,de)}function gd(x,C,R,Y,ae,le,ue,de){Bl(x,C,1,ae,8,le,ue,de),Bl(R,Y,1,ae,8,le,ue,de)}function Lu(x,C,R,Y,ae,le,ue,de){yi(x,C+4*ae,ae,1,8,le,ue,de),yi(R,Y+4*ae,ae,1,8,le,ue,de)}function Ul(x,C,R,Y,ae,le,ue,de){yi(x,C+4,1,ae,8,le,ue,de),yi(R,Y+4,1,ae,8,le,ue,de)}function kc(){this.ba=new Ct,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Pt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Mu(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Cc(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ru(){this.ua=0,this.Wa=new ce,this.vb=new ce,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new U,this.yc=new E}function Bh(){this.xb=this.a=0,this.l=new Oa,this.ca=new Ct,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new I,this.Pb=0,this.wd=new I,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ru,this.ab=0,this.gc=s(4,Cc),this.Oc=0}function nl(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Oa,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Vl(x,C,R,Y,ae,le,ue){for(x=x==null?0:x[C+0],C=0;C<ue;++C)ae[le+C]=x+R[Y+C]&255,x=ae[le+C]}function Fu(x,C,R,Y,ae,le,ue){var de;if(x==null)Vl(null,null,R,Y,ae,le,ue);else for(de=0;de<ue;++de)ae[le+de]=x[C+de]+R[Y+de]&255}function Ri(x,C,R,Y,ae,le,ue){if(x==null)Vl(null,null,R,Y,ae,le,ue);else{var de,pe=x[C+0],Se=pe,Me=pe;for(de=0;de<ue;++de)Se=Me+(pe=x[C+de])-Se,Me=R[Y+de]+(-256&Se?0>Se?0:255:Se)&255,Se=pe,ae[le+de]=Me}}function $u(x,C,R,Y){var ae=C.width,le=C.o;if(t(x!=null&&C!=null),0>R||0>=Y||R+Y>le)return null;if(!x.Cc){if(x.ga==null){var ue;if(x.ga=new nl,(ue=x.ga==null)||(ue=C.width*C.o,t(x.Gb.length==0),x.Gb=i(ue),x.Uc=0,x.Gb==null?ue=0:(x.mb=x.Gb,x.nb=x.Uc,x.rc=null,ue=1),ue=!ue),!ue){ue=x.ga;var de=x.Fa,pe=x.P,Se=x.qc,Me=x.mb,Qe=x.nb,Je=pe+1,He=Se-1,wt=ue.l;if(t(de!=null&&Me!=null&&C!=null),Wu[0]=null,Wu[1]=Vl,Wu[2]=Fu,Wu[3]=Ri,ue.ca=Me,ue.tb=Qe,ue.c=C.width,ue.i=C.height,t(0<ue.c&&0<ue.i),1>=Se)C=0;else if(ue.$a=de[pe+0]>>0&3,ue.Z=de[pe+0]>>2&3,ue.Lc=de[pe+0]>>4&3,pe=de[pe+0]>>6&3,0>ue.$a||1<ue.$a||4<=ue.Z||1<ue.Lc||pe)C=0;else if(wt.put=Tr,wt.ac=or,wt.bc=mr,wt.ma=ue,wt.width=C.width,wt.height=C.height,wt.Da=C.Da,wt.v=C.v,wt.va=C.va,wt.j=C.j,wt.o=C.o,ue.$a)e:{t(ue.$a==1),C=ke();t:for(;;){if(C==null){C=0;break e}if(t(ue!=null),ue.mc=C,C.c=ue.c,C.i=ue.i,C.l=ue.l,C.l.ma=ue,C.l.width=ue.c,C.l.height=ue.i,C.a=0,V(C.m,de,Je,He),!je(ue.c,ue.i,1,C,null)||(C.ab==1&&C.gc[0].hc==3&&me(C.s)?(ue.ic=1,de=C.c*C.i,C.Ta=null,C.Ua=0,C.V=i(de),C.Ba=0,C.V==null?(C.a=1,C=0):C=1):(ue.ic=0,C=Be(C,ue.c)),!C))break t;C=1;break e}ue.mc=null,C=0}else C=He>=ue.c*ue.i;ue=!C}if(ue)return null;x.ga.Lc!=1?x.Ga=0:Y=le-R}t(x.ga!=null),t(R+Y<=le);e:{if(C=(de=x.ga).c,le=de.l.o,de.$a==0){if(Je=x.rc,He=x.Vc,wt=x.Fa,pe=x.P+1+R*C,Se=x.mb,Me=x.nb+R*C,t(pe<=x.P+x.qc),de.Z!=0)for(t(Wu[de.Z]!=null),ue=0;ue<Y;++ue)Wu[de.Z](Je,He,wt,pe,Se,Me,C),Je=Se,He=Me,Me+=C,pe+=C;else for(ue=0;ue<Y;++ue)n(Se,Me,wt,pe,C),Je=Se,He=Me,Me+=C,pe+=C;x.rc=Je,x.Vc=He}else{if(t(de.mc!=null),C=R+Y,t((ue=de.mc)!=null),t(C<=ue.i),ue.C>=C)C=1;else if(de.ic||qe(),de.ic){de=ue.V,Je=ue.Ba,He=ue.c;var lt=ue.i,Re=(wt=1,pe=ue.$/He,Se=ue.$%He,Me=ue.m,Qe=ue.s,ue.$),Ue=He*lt,gt=He*C,At=Qe.wc,bt=Re<gt?gn(Qe,Se,pe):null;t(Re<=Ue),t(C<=lt),t(me(Qe));t:for(;;){for(;!Me.h&&Re<gt;){if(Se&At||(bt=gn(Qe,Se,pe)),t(bt!=null),J(Me),256>(lt=Br(bt.G[0],bt.H[0],Me)))de[Je+Re]=lt,++Re,++Se>=He&&(Se=0,++pe<=C&&!(pe%16)&&Ae(ue,pe));else{if(!(280>lt)){wt=0;break t}lt=da(lt-256,Me);var Jt,Ht=Br(bt.G[4],bt.H[4],Me);if(J(Me),!(Re>=(Ht=Bn(He,Ht=da(Ht,Me)))&&Ue-Re>=lt)){wt=0;break t}for(Jt=0;Jt<lt;++Jt)de[Je+Re+Jt]=de[Je+Re+Jt-Ht];for(Re+=lt,Se+=lt;Se>=He;)Se-=He,++pe<=C&&!(pe%16)&&Ae(ue,pe);Re<gt&&Se&At&&(bt=gn(Qe,Se,pe))}t(Me.h==q(Me))}Ae(ue,pe>C?C:pe);break t}!wt||Me.h&&Re<Ue?(wt=0,ue.a=Me.h?5:3):ue.$=Re,C=wt}else C=Z(ue,ue.V,ue.Ba,ue.c,ue.i,C,Ke);if(!C){Y=0;break e}}R+Y>=le&&(x.Cc=1),Y=1}if(!Y)return null;if(x.Cc&&((Y=x.ga)!=null&&(Y.mc=null),x.ga=null,0<x.Ga))return alert("todo:WebPDequantizeLevels"),null}return x.nb+R*ae}function L(x,C,R,Y,ae,le){for(;0<ae--;){var ue,de=x,pe=C+(R?1:0),Se=x,Me=C+(R?0:3);for(ue=0;ue<Y;++ue){var Qe=Se[Me+4*ue];Qe!=255&&(Qe*=32897,de[pe+4*ue+0]=de[pe+4*ue+0]*Qe>>23,de[pe+4*ue+1]=de[pe+4*ue+1]*Qe>>23,de[pe+4*ue+2]=de[pe+4*ue+2]*Qe>>23)}C+=le}}function ne(x,C,R,Y,ae){for(;0<Y--;){var le;for(le=0;le<R;++le){var ue=x[C+2*le+0],de=15&(Se=x[C+2*le+1]),pe=4369*de,Se=(240&Se|Se>>4)*pe>>16;x[C+2*le+0]=(240&ue|ue>>4)*pe>>16&240|(15&ue|ue<<4)*pe>>16>>4&15,x[C+2*le+1]=240&Se|de}C+=ae}}function Ee(x,C,R,Y,ae,le,ue,de){var pe,Se,Me=255;for(Se=0;Se<ae;++Se){for(pe=0;pe<Y;++pe){var Qe=x[C+pe];le[ue+4*pe]=Qe,Me&=Qe}C+=R,ue+=de}return Me!=255}function Oe(x,C,R,Y,ae){var le;for(le=0;le<ae;++le)R[Y+le]=x[C+le]>>8}function qe(){wo=L,Un=ne,Vn=Ee,Sa=Oe}function ct(x,C,R){S[x]=function(Y,ae,le,ue,de,pe,Se,Me,Qe,Je,He,wt,lt,Re,Ue,gt,At){var bt,Jt=At-1>>1,Ht=de[pe+0]|Se[Me+0]<<16,dr=Qe[Je+0]|He[wt+0]<<16;t(Y!=null);var Yt=3*Ht+dr+131074>>2;for(C(Y[ae+0],255&Yt,Yt>>16,lt,Re),le!=null&&(Yt=3*dr+Ht+131074>>2,C(le[ue+0],255&Yt,Yt>>16,Ue,gt)),bt=1;bt<=Jt;++bt){var yn=de[pe+bt]|Se[Me+bt]<<16,Nn=Qe[Je+bt]|He[wt+bt]<<16,cn=Ht+yn+dr+Nn+524296,Gr=cn+2*(yn+dr)>>3;Yt=Gr+Ht>>1,Ht=(cn=cn+2*(Ht+Nn)>>3)+yn>>1,C(Y[ae+2*bt-1],255&Yt,Yt>>16,lt,Re+(2*bt-1)*R),C(Y[ae+2*bt-0],255&Ht,Ht>>16,lt,Re+(2*bt-0)*R),le!=null&&(Yt=cn+dr>>1,Ht=Gr+Nn>>1,C(le[ue+2*bt-1],255&Yt,Yt>>16,Ue,gt+(2*bt-1)*R),C(le[ue+2*bt+0],255&Ht,Ht>>16,Ue,gt+(2*bt+0)*R)),Ht=yn,dr=Nn}1&At||(Yt=3*Ht+dr+131074>>2,C(Y[ae+At-1],255&Yt,Yt>>16,lt,Re+(At-1)*R),le!=null&&(Yt=3*dr+Ht+131074>>2,C(le[ue+At-1],255&Yt,Yt>>16,Ue,gt+(At-1)*R)))}}function Nt(){So[Ay]=NY,So[Ty]=RP,So[OP]=EY,So[Ny]=FP,So[Ey]=$P,So[w_]=BP,So[IP]=kY,So[__]=RP,So[S_]=FP,So[ky]=$P,So[A_]=BP}function Gt(x){return x&~CY?0>x?0:255:x>>UP}function A(x,C){return Gt((19077*x>>8)+(26149*C>>8)-14234)}function B(x,C,R){return Gt((19077*x>>8)-(6419*C>>8)-(13320*R>>8)+8708)}function Q(x,C){return Gt((19077*x>>8)+(33050*C>>8)-17685)}function fe(x,C,R,Y,ae){Y[ae+0]=A(x,R),Y[ae+1]=B(x,C,R),Y[ae+2]=Q(x,C)}function Ve(x,C,R,Y,ae){Y[ae+0]=Q(x,C),Y[ae+1]=B(x,C,R),Y[ae+2]=A(x,R)}function et(x,C,R,Y,ae){var le=B(x,C,R);C=le<<3&224|Q(x,C)>>3,Y[ae+0]=248&A(x,R)|le>>5,Y[ae+1]=C}function Et(x,C,R,Y,ae){var le=240&Q(x,C)|15;Y[ae+0]=240&A(x,R)|B(x,C,R)>>4,Y[ae+1]=le}function Er(x,C,R,Y,ae){Y[ae+0]=255,fe(x,C,R,Y,ae+1)}function Hr(x,C,R,Y,ae){Ve(x,C,R,Y,ae),Y[ae+3]=255}function kr(x,C,R,Y,ae){fe(x,C,R,Y,ae),Y[ae+3]=255}function _n(x,C){return 0>x?0:x>C?C:x}function Mn(x,C,R){S[x]=function(Y,ae,le,ue,de,pe,Se,Me,Qe){for(var Je=Me+(-2&Qe)*R;Me!=Je;)C(Y[ae+0],le[ue+0],de[pe+0],Se,Me),C(Y[ae+1],le[ue+0],de[pe+0],Se,Me+R),ae+=2,++ue,++pe,Me+=2*R;1&Qe&&C(Y[ae+0],le[ue+0],de[pe+0],Se,Me)}}function al(x,C,R){return R==0?x==0?C==0?6:5:C==0?4:0:R}function xi(x,C,R,Y,ae){switch(x>>>30){case 3:Oc(C,R,Y,ae,0);break;case 2:_a(C,R,Y,ae);break;case 1:ds(C,R,Y,ae)}}function zl(x,C){var R,Y,ae=C.M,le=C.Nb,ue=x.oc,de=x.pc+40,pe=x.oc,Se=x.pc+584,Me=x.oc,Qe=x.pc+600;for(R=0;16>R;++R)ue[de+32*R-1]=129;for(R=0;8>R;++R)pe[Se+32*R-1]=129,Me[Qe+32*R-1]=129;for(0<ae?ue[de-1-32]=pe[Se-1-32]=Me[Qe-1-32]=129:(a(ue,de-32-1,127,21),a(pe,Se-32-1,127,9),a(Me,Qe-32-1,127,9)),Y=0;Y<x.za;++Y){var Je=C.ya[C.aa+Y];if(0<Y){for(R=-1;16>R;++R)n(ue,de+32*R-4,ue,de+32*R+12,4);for(R=-1;8>R;++R)n(pe,Se+32*R-4,pe,Se+32*R+4,4),n(Me,Qe+32*R-4,Me,Qe+32*R+4,4)}var He=x.Gd,wt=x.Hd+Y,lt=Je.ad,Re=Je.Hc;if(0<ae&&(n(ue,de-32,He[wt].y,0,16),n(pe,Se-32,He[wt].f,0,8),n(Me,Qe-32,He[wt].ea,0,8)),Je.Za){var Ue=ue,gt=de-32+16;for(0<ae&&(Y>=x.za-1?a(Ue,gt,He[wt].y[15],4):n(Ue,gt,He[wt+1].y,0,4)),R=0;4>R;R++)Ue[gt+128+R]=Ue[gt+256+R]=Ue[gt+384+R]=Ue[gt+0+R];for(R=0;16>R;++R,Re<<=2)Ue=ue,gt=de+zP[R],il[Je.Ob[R]](Ue,gt),xi(Re,lt,16*+R,Ue,gt)}else if(Ue=al(Y,ae,Je.Ob[0]),qu[Ue](ue,de),Re!=0)for(R=0;16>R;++R,Re<<=2)xi(Re,lt,16*+R,ue,de+zP[R]);for(R=Je.Gc,Ue=al(Y,ae,Je.Dd),Dc[Ue](pe,Se),Dc[Ue](Me,Qe),Re=lt,Ue=pe,gt=Se,255&(Je=R>>0)&&(170&Je?Pm(Re,256,Ue,gt):xo(Re,256,Ue,gt)),Je=Me,Re=Qe,255&(R>>=8)&&(170&R?Pm(lt,320,Je,Re):xo(lt,320,Je,Re)),ae<x.Ub-1&&(n(He[wt].y,0,ue,de+480,16),n(He[wt].f,0,pe,Se+224,8),n(He[wt].ea,0,Me,Qe+224,8)),R=8*le*x.B,He=x.sa,wt=x.ta+16*Y+16*le*x.R,lt=x.qa,Je=x.ra+8*Y+R,Re=x.Ha,Ue=x.Ia+8*Y+R,R=0;16>R;++R)n(He,wt+R*x.R,ue,de+32*R,16);for(R=0;8>R;++R)n(lt,Je+R*x.B,pe,Se+32*R,8),n(Re,Ue+R*x.B,Me,Qe+32*R,8)}}function ql(x,C,R,Y,ae,le,ue,de,pe){var Se=[0],Me=[0],Qe=0,Je=pe!=null?pe.kd:0,He=pe??new Mu;if(x==null||12>R)return 7;He.data=x,He.w=C,He.ha=R,C=[C],R=[R],He.gb=[He.gb];e:{var wt=C,lt=R,Re=He.gb;if(t(x!=null),t(lt!=null),t(Re!=null),Re[0]=0,12<=lt[0]&&!r(x,wt[0],"RIFF")){if(r(x,wt[0]+8,"WEBP")){Re=3;break e}var Ue=Pe(x,wt[0]+4);if(12>Ue||4294967286<Ue){Re=3;break e}if(Je&&Ue>lt[0]-8){Re=7;break e}Re[0]=Ue,wt[0]+=12,lt[0]-=12}Re=0}if(Re!=0)return Re;for(Ue=0<He.gb[0],R=R[0];;){e:{var gt=x;lt=C,Re=R;var At=Se,bt=Me,Jt=wt=[0];if((Yt=Qe=[Qe])[0]=0,8>Re[0])Re=7;else{if(!r(gt,lt[0],"VP8X")){if(Pe(gt,lt[0]+4)!=10){Re=3;break e}if(18>Re[0]){Re=7;break e}var Ht=Pe(gt,lt[0]+8),dr=1+W(gt,lt[0]+12);if(2147483648<=dr*(gt=1+W(gt,lt[0]+15))){Re=3;break e}Jt!=null&&(Jt[0]=Ht),At!=null&&(At[0]=dr),bt!=null&&(bt[0]=gt),lt[0]+=18,Re[0]-=18,Yt[0]=1}Re=0}}if(Qe=Qe[0],wt=wt[0],Re!=0)return Re;if(lt=!!(2&wt),!Ue&&Qe)return 3;if(le!=null&&(le[0]=!!(16&wt)),ue!=null&&(ue[0]=lt),de!=null&&(de[0]=0),ue=Se[0],wt=Me[0],Qe&&lt&&pe==null){Re=0;break}if(4>R){Re=7;break}if(Ue&&Qe||!Ue&&!Qe&&!r(x,C[0],"ALPH")){R=[R],He.na=[He.na],He.P=[He.P],He.Sa=[He.Sa];e:{Ht=x,Re=C,Ue=R;var Yt=He.gb;At=He.na,bt=He.P,Jt=He.Sa,dr=22,t(Ht!=null),t(Ue!=null),gt=Re[0];var yn=Ue[0];for(t(At!=null),t(Jt!=null),At[0]=null,bt[0]=null,Jt[0]=0;;){if(Re[0]=gt,Ue[0]=yn,8>yn){Re=7;break e}var Nn=Pe(Ht,gt+4);if(4294967286<Nn){Re=3;break e}var cn=8+Nn+1&-2;if(dr+=cn,0<Yt&&dr>Yt){Re=3;break e}if(!r(Ht,gt,"VP8 ")||!r(Ht,gt,"VP8L")){Re=0;break e}if(yn[0]<cn){Re=7;break e}r(Ht,gt,"ALPH")||(At[0]=Ht,bt[0]=gt+8,Jt[0]=Nn),gt+=cn,yn-=cn}}if(R=R[0],He.na=He.na[0],He.P=He.P[0],He.Sa=He.Sa[0],Re!=0)break}R=[R],He.Ja=[He.Ja],He.xa=[He.xa];e:if(Yt=x,Re=C,Ue=R,At=He.gb[0],bt=He.Ja,Jt=He.xa,Ht=Re[0],gt=!r(Yt,Ht,"VP8 "),dr=!r(Yt,Ht,"VP8L"),t(Yt!=null),t(Ue!=null),t(bt!=null),t(Jt!=null),8>Ue[0])Re=7;else{if(gt||dr){if(Yt=Pe(Yt,Ht+4),12<=At&&Yt>At-12){Re=3;break e}if(Je&&Yt>Ue[0]-8){Re=7;break e}bt[0]=Yt,Re[0]+=8,Ue[0]-=8,Jt[0]=dr}else Jt[0]=5<=Ue[0]&&Yt[Ht+0]==47&&!(Yt[Ht+4]>>5),bt[0]=Ue[0];Re=0}if(R=R[0],He.Ja=He.Ja[0],He.xa=He.xa[0],C=C[0],Re!=0)break;if(4294967286<He.Ja)return 3;if(de==null||lt||(de[0]=He.xa?2:1),ue=[ue],wt=[wt],He.xa){if(5>R){Re=7;break}de=ue,Je=wt,lt=le,x==null||5>R?x=0:5<=R&&x[C+0]==47&&!(x[C+4]>>5)?(Ue=[0],Yt=[0],At=[0],V(bt=new I,x,C,R),zt(bt,Ue,Yt,At)?(de!=null&&(de[0]=Ue[0]),Je!=null&&(Je[0]=Yt[0]),lt!=null&&(lt[0]=At[0]),x=1):x=0):x=0}else{if(10>R){Re=7;break}de=wt,x==null||10>R||!bc(x,C+3,R-3)?x=0:(Je=x[C+0]|x[C+1]<<8|x[C+2]<<16,lt=16383&(x[C+7]<<8|x[C+6]),x=16383&(x[C+9]<<8|x[C+8]),1&Je||3<(Je>>1&7)||!(Je>>4&1)||Je>>5>=He.Ja||!lt||!x?x=0:(ue&&(ue[0]=lt),de&&(de[0]=x),x=1))}if(!x||(ue=ue[0],wt=wt[0],Qe&&(Se[0]!=ue||Me[0]!=wt)))return 3;pe!=null&&(pe[0]=He,pe.offset=C-pe.w,t(4294967286>C-pe.w),t(pe.offset==pe.ha-R));break}return Re==0||Re==7&&Qe&&pe==null?(le!=null&&(le[0]|=He.na!=null&&0<He.na.length),Y!=null&&(Y[0]=ue),ae!=null&&(ae[0]=wt),0):Re}function Nm(x,C,R){var Y=C.width,ae=C.height,le=0,ue=0,de=Y,pe=ae;if(C.Da=x!=null&&0<x.Da,C.Da&&(de=x.cd,pe=x.bd,le=x.v,ue=x.j,11>R||(le&=-2,ue&=-2),0>le||0>ue||0>=de||0>=pe||le+de>Y||ue+pe>ae))return 0;if(C.v=le,C.j=ue,C.va=le+de,C.o=ue+pe,C.U=de,C.T=pe,C.da=x!=null&&0<x.da,C.da){if(!Fe(de,pe,R=[x.ib],le=[x.hb]))return 0;C.ib=R[0],C.hb=le[0]}return C.ob=x!=null&&x.ob,C.Kb=x==null||!x.Sd,C.da&&(C.ob=C.ib<3*Y/4&&C.hb<3*ae/4,C.Kb=0),1}function Em(x){if(x==null)return 2;if(11>x.S){var C=x.f.RGBA;C.fb+=(x.height-1)*C.A,C.A=-C.A}else C=x.f.kb,x=x.height,C.O+=(x-1)*C.fa,C.fa=-C.fa,C.N+=(x-1>>1)*C.Ab,C.Ab=-C.Ab,C.W+=(x-1>>1)*C.Db,C.Db=-C.Db,C.F!=null&&(C.J+=(x-1)*C.lb,C.lb=-C.lb);return 0}function Uh(x,C,R,Y){if(Y==null||0>=x||0>=C)return 2;if(R!=null){if(R.Da){var ae=R.cd,le=R.bd,ue=-2&R.v,de=-2&R.j;if(0>ue||0>de||0>=ae||0>=le||ue+ae>x||de+le>C)return 2;x=ae,C=le}if(R.da){if(!Fe(x,C,ae=[R.ib],le=[R.hb]))return 2;x=ae[0],C=le[0]}}Y.width=x,Y.height=C;e:{var pe=Y.width,Se=Y.height;if(x=Y.S,0>=pe||0>=Se||!(x>=Ay&&13>x))x=2;else{if(0>=Y.Rd&&Y.sd==null){ue=le=ae=C=0;var Me=(de=pe*qP[x])*Se;if(11>x||(le=(Se+1)/2*(C=(pe+1)/2),x==12&&(ue=(ae=pe)*Se)),(Se=i(Me+2*le+ue))==null){x=1;break e}Y.sd=Se,11>x?((pe=Y.f.RGBA).eb=Se,pe.fb=0,pe.A=de,pe.size=Me):((pe=Y.f.kb).y=Se,pe.O=0,pe.fa=de,pe.Fd=Me,pe.f=Se,pe.N=0+Me,pe.Ab=C,pe.Cd=le,pe.ea=Se,pe.W=0+Me+le,pe.Db=C,pe.Ed=le,x==12&&(pe.F=Se,pe.J=0+Me+2*le),pe.Tc=ue,pe.lb=ae)}if(C=1,ae=Y.S,le=Y.width,ue=Y.height,ae>=Ay&&13>ae)if(11>ae)x=Y.f.RGBA,C&=(de=Math.abs(x.A))*(ue-1)+le<=x.size,C&=de>=le*qP[ae],C&=x.eb!=null;else{x=Y.f.kb,de=(le+1)/2,Me=(ue+1)/2,pe=Math.abs(x.fa),Se=Math.abs(x.Ab);var Qe=Math.abs(x.Db),Je=Math.abs(x.lb),He=Je*(ue-1)+le;C&=pe*(ue-1)+le<=x.Fd,C&=Se*(Me-1)+de<=x.Cd,C=(C&=Qe*(Me-1)+de<=x.Ed)&pe>=le&Se>=de&Qe>=de,C&=x.y!=null,C&=x.f!=null,C&=x.ea!=null,ae==12&&(C&=Je>=le,C&=He<=x.Tc,C&=x.F!=null)}else C=0;x=C?0:2}}return x!=0||R!=null&&R.fd&&(x=Em(Y)),x}var bi=64,Vh=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],zh=24,qh=32,km=8,js=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ye("Predictor0","PredictorAdd0"),S.Predictor0=function(){return 4278190080},S.Predictor1=function(x){return x},S.Predictor2=function(x,C,R){return C[R+0]},S.Predictor3=function(x,C,R){return C[R+1]},S.Predictor4=function(x,C,R){return C[R-1]},S.Predictor5=function(x,C,R){return $e($e(x,C[R+1]),C[R+0])},S.Predictor6=function(x,C,R){return $e(x,C[R-1])},S.Predictor7=function(x,C,R){return $e(x,C[R+0])},S.Predictor8=function(x,C,R){return $e(C[R-1],C[R+0])},S.Predictor9=function(x,C,R){return $e(C[R+0],C[R+1])},S.Predictor10=function(x,C,R){return $e($e(x,C[R-1]),$e(C[R+0],C[R+1]))},S.Predictor11=function(x,C,R){var Y=C[R+0];return 0>=We(Y>>24&255,x>>24&255,(C=C[R-1])>>24&255)+We(Y>>16&255,x>>16&255,C>>16&255)+We(Y>>8&255,x>>8&255,C>>8&255)+We(255&Y,255&x,255&C)?Y:x},S.Predictor12=function(x,C,R){var Y=C[R+0];return(Ne((x>>24&255)+(Y>>24&255)-((C=C[R-1])>>24&255))<<24|Ne((x>>16&255)+(Y>>16&255)-(C>>16&255))<<16|Ne((x>>8&255)+(Y>>8&255)-(C>>8&255))<<8|Ne((255&x)+(255&Y)-(255&C)))>>>0},S.Predictor13=function(x,C,R){var Y=C[R-1];return(Ie((x=$e(x,C[R+0]))>>24&255,Y>>24&255)<<24|Ie(x>>16&255,Y>>16&255)<<16|Ie(x>>8&255,Y>>8&255)<<8|Ie(x>>0&255,Y>>0&255))>>>0};var x_=S.PredictorAdd0;S.PredictorAdd1=it,Ye("Predictor2","PredictorAdd2"),Ye("Predictor3","PredictorAdd3"),Ye("Predictor4","PredictorAdd4"),Ye("Predictor5","PredictorAdd5"),Ye("Predictor6","PredictorAdd6"),Ye("Predictor7","PredictorAdd7"),Ye("Predictor8","PredictorAdd8"),Ye("Predictor9","PredictorAdd9"),Ye("Predictor10","PredictorAdd10"),Ye("Predictor11","PredictorAdd11"),Ye("Predictor12","PredictorAdd12"),Ye("Predictor13","PredictorAdd13");var Cm=S.PredictorAdd2;mt("ColorIndexInverseTransform","MapARGB","32b",function(x){return x>>8&255},function(x){return x}),mt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(x){return x},function(x){return x>>8&255});var yy,yo=S.ColorIndexInverseTransform,Wh=S.MapARGB,xy=S.VP8LColorIndexInverseTransformAlpha,by=S.MapAlpha,Bu=S.VP8LPredictorsAdd=[];Bu.length=16,(S.VP8LPredictors=[]).length=16,(S.VP8LPredictorsAdd_C=[]).length=16,(S.VP8LPredictors_C=[]).length=16;var vd,Os,fs,Uu,Pc,jc,Hh,Oc,_a,Pm,ds,xo,Gh,wy,jm,yd,xd,Vu,bd,Kh,wd,zu,Om,bo,wo,Un,Vn,Sa,Ha=i(511),Ic=i(2041),Im=i(225),Yh=i(767),_y=0,b_=Ic,Sy=Im,Js=Yh,_o=Ha,Ay=0,Ty=1,OP=2,Ny=3,Ey=4,w_=5,IP=6,__=7,S_=8,ky=9,A_=10,dY=[2,3,7],hY=[3,3,11],DP=[280,256,256,256,40],pY=[0,1,1,1,0],mY=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],gY=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],vY=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],yY=8,T_=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],N_=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Dm=null,xY=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],bY=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],LP=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],wY=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],_Y=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],SY=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],AY=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],qu=[],il=[],Dc=[],TY=1,MP=2,Wu=[],So=[];ct("UpsampleRgbLinePair",fe,3),ct("UpsampleBgrLinePair",Ve,3),ct("UpsampleRgbaLinePair",kr,4),ct("UpsampleBgraLinePair",Hr,4),ct("UpsampleArgbLinePair",Er,4),ct("UpsampleRgba4444LinePair",Et,2),ct("UpsampleRgb565LinePair",et,2);var NY=S.UpsampleRgbLinePair,EY=S.UpsampleBgrLinePair,RP=S.UpsampleRgbaLinePair,FP=S.UpsampleBgraLinePair,$P=S.UpsampleArgbLinePair,BP=S.UpsampleRgba4444LinePair,kY=S.UpsampleRgb565LinePair,Cy=16,Py=1<<Cy-1,Lm=-227,E_=482,UP=6,CY=(256<<UP)-1,VP=0,PY=i(256),jY=i(256),OY=i(256),IY=i(256),DY=i(E_-Lm),LY=i(E_-Lm);Mn("YuvToRgbRow",fe,3),Mn("YuvToBgrRow",Ve,3),Mn("YuvToRgbaRow",kr,4),Mn("YuvToBgraRow",Hr,4),Mn("YuvToArgbRow",Er,4),Mn("YuvToRgba4444Row",Et,2),Mn("YuvToRgb565Row",et,2);var zP=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],jy=[0,2,8],MY=[8,7,6,4,4,2,2,2,1,1,1,1],RY=1;this.WebPDecodeRGBA=function(x,C,R,Y,ae){var le=Ty,ue=new kc,de=new Ct;ue.ba=de,de.S=le,de.width=[de.width],de.height=[de.height];var pe=de.width,Se=de.height,Me=new Ut;if(Me==null||x==null)var Qe=2;else t(Me!=null),Qe=ql(x,C,R,Me.width,Me.height,Me.Pd,Me.Qd,Me.format,null);if(Qe!=0?pe=0:(pe!=null&&(pe[0]=Me.width[0]),Se!=null&&(Se[0]=Me.height[0]),pe=1),pe){de.width=de.width[0],de.height=de.height[0],Y!=null&&(Y[0]=de.width),ae!=null&&(ae[0]=de.height);e:{if(Y=new Oa,(ae=new Mu).data=x,ae.w=C,ae.ha=R,ae.kd=1,C=[0],t(ae!=null),((x=ql(ae.data,ae.w,ae.ha,null,null,null,C,null,ae))==0||x==7)&&C[0]&&(x=4),(C=x)==0){if(t(ue!=null),Y.data=ae.data,Y.w=ae.w+ae.offset,Y.ha=ae.ha-ae.offset,Y.put=Tr,Y.ac=or,Y.bc=mr,Y.ma=ue,ae.xa){if((x=ke())==null){ue=1;break e}if(function(Je,He){var wt=[0],lt=[0],Re=[0];t:for(;;){if(Je==null)return 0;if(He==null)return Je.a=2,0;if(Je.l=He,Je.a=0,V(Je.m,He.data,He.w,He.ha),!zt(Je.m,wt,lt,Re)){Je.a=3;break t}if(Je.xb=MP,He.width=wt[0],He.height=lt[0],!je(wt[0],lt[0],1,Je,null))break t;return 1}return t(Je.a!=0),0}(x,Y)){if(Y=(C=Uh(Y.width,Y.height,ue.Oa,ue.ba))==0){t:{Y=x;r:for(;;){if(Y==null){Y=0;break t}if(t(Y.s.yc!=null),t(Y.s.Ya!=null),t(0<Y.s.Wb),t((R=Y.l)!=null),t((ae=R.ma)!=null),Y.xb!=0){if(Y.ca=ae.ba,Y.tb=ae.tb,t(Y.ca!=null),!Nm(ae.Oa,R,Ny)){Y.a=2;break r}if(!Be(Y,R.width)||R.da)break r;if((R.da||rt(Y.ca.S))&&qe(),11>Y.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Y.ca.f.kb.F!=null&&qe()),Y.Pb&&0<Y.s.ua&&Y.s.vb.X==null&&!Ce(Y.s.vb,Y.s.Wa.Xa)){Y.a=1;break r}Y.xb=0}if(!Z(Y,Y.V,Y.Ba,Y.c,Y.i,R.o,ye))break r;ae.Dc=Y.Ma,Y=1;break t}t(Y.a!=0),Y=0}Y=!Y}Y&&(C=x.a)}else C=x.a}else{if((x=new ln)==null){ue=1;break e}if(x.Fa=ae.na,x.P=ae.P,x.qc=ae.Sa,wc(x,Y)){if((C=Uh(Y.width,Y.height,ue.Oa,ue.ba))==0){if(x.Aa=0,R=ue.Oa,t((ae=x)!=null),R!=null){if(0<(pe=0>(pe=R.Md)?0:100<pe?255:255*pe/100)){for(Se=Me=0;4>Se;++Se)12>(Qe=ae.pb[Se]).lc&&(Qe.ia=pe*MY[0>Qe.lc?0:Qe.lc]>>3),Me|=Qe.ia;Me&&(alert("todo:VP8InitRandom"),ae.ia=1)}ae.Ga=R.Id,100<ae.Ga?ae.Ga=100:0>ae.Ga&&(ae.Ga=0)}Cu(x,Y)||(C=x.a)}}else C=x.a}C==0&&ue.Oa!=null&&ue.Oa.fd&&(C=Em(ue.ba))}ue=C}le=ue!=0?null:11>le?de.f.RGBA.eb:de.f.kb.y}else le=null;return le};var qP=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(S,_){for(var j="",N=0;N<4;N++)j+=String.fromCharCode(S[_++]);return j}function u(S,_){return(S[_+0]<<0|S[_+1]<<8|S[_+2]<<16)>>>0}function d(S,_){return(S[_+0]<<0|S[_+1]<<8|S[_+2]<<16|S[_+3]<<24)>>>0}new l;var h=[0],p=[0],g=[],m=new l,v=e,y=function(S,_){var j={},N=0,E=!1,k=0,U=0;if(j.frames=[],!function(M,q,K,J){for(var se=0;se<J;se++)if(M[q+se]!=K.charCodeAt(se))return!0;return!1}(S,_,"RIFF",4)){for(d(S,_+=4),_+=8;_<S.length;){var G=c(S,_),z=d(S,_+=4);_+=4;var X=z+(1&z);switch(G){case"VP8 ":case"VP8L":j.frames[N]===void 0&&(j.frames[N]={}),(re=j.frames[N]).src_off=E?U:_-8,re.src_size=k+z+8,N++,E&&(E=!1,k=0,U=0);break;case"VP8X":(re=j.header={}).feature_flags=S[_];var V=_+4;re.canvas_width=1+u(S,V),V+=3,re.canvas_height=1+u(S,V),V+=3;break;case"ALPH":E=!0,k=X+8,U=_-8;break;case"ANIM":(re=j.header).bgcolor=d(S,_),V=_+4,re.loop_count=(ee=S)[(I=V)+0]<<0|ee[I+1]<<8,V+=2;break;case"ANMF":var H,re;(re=j.frames[N]={}).offset_x=2*u(S,_),_+=3,re.offset_y=2*u(S,_),_+=3,re.width=1+u(S,_),_+=3,re.height=1+u(S,_),_+=3,re.duration=u(S,_),_+=3,H=S[_++],re.dispose=1&H,re.blend=H>>1&1}G!="ANMF"&&(_+=X)}var ee,I;return j}}(v,0);y.response=v,y.rgbaoutput=!0,y.dataurl=!1;var w=y.header?y.header:null,b=y.frames?y.frames:null;if(w){w.loop_counter=w.loop_count,h=[w.canvas_height],p=[w.canvas_width];for(var D=0;D<b.length&&b[D].blend!=0;D++);}var P=b[0],O=m.WebPDecodeRGBA(v,P.src_off,P.src_size,p,h);P.rgba=O,P.imgwidth=p[0],P.imgheight=h[0];for(var T=0;T<p[0]*h[0]*4;T++)g[T]=O[T];return this.width=p,this.height=h,this.data=g,this}(function(e){var t=function(){return typeof mN=="function"},r=function(h,p,g,m){var v=4,y=s;switch(m){case e.image_compression.FAST:v=1,y=i;break;case e.image_compression.MEDIUM:v=6,y=o;break;case e.image_compression.SLOW:v=9,y=l}h=n(h,p,g,y);var w=mN(h,{level:v});return e.__addimage__.arrayBufferToBinaryString(w)},n=function(h,p,g,m){for(var v,y,w,b=h.length/p,D=new Uint8Array(h.length+b),P=u(),O=0;O<b;O+=1){if(w=O*p,v=h.subarray(w,w+p),m)D.set(m(v,g,y),w+O);else{for(var T,S=P.length,_=[];T<S;T+=1)_[T]=P[T](v,g,y);var j=d(_.concat());D.set(_[j],w+O)}y=v}return D},a=function(h){var p=Array.apply([],h);return p.unshift(0),p},i=function(h,p){var g,m=[],v=h.length;m[0]=1;for(var y=0;y<v;y+=1)g=h[y-p]||0,m[y+1]=h[y]-g+256&255;return m},s=function(h,p,g){var m,v=[],y=h.length;v[0]=2;for(var w=0;w<y;w+=1)m=g&&g[w]||0,v[w+1]=h[w]-m+256&255;return v},o=function(h,p,g){var m,v,y=[],w=h.length;y[0]=3;for(var b=0;b<w;b+=1)m=h[b-p]||0,v=g&&g[b]||0,y[b+1]=h[b]+256-(m+v>>>1)&255;return y},l=function(h,p,g){var m,v,y,w,b=[],D=h.length;b[0]=4;for(var P=0;P<D;P+=1)m=h[P-p]||0,v=g&&g[P]||0,y=g&&g[P-p]||0,w=c(m,v,y),b[P+1]=h[P]-w+256&255;return b},c=function(h,p,g){if(h===p&&p===g)return h;var m=Math.abs(p-g),v=Math.abs(h-g),y=Math.abs(h+p-g-g);return m<=v&&m<=y?h:v<=y?p:g},u=function(){return[a,i,s,o,l]},d=function(h){var p=h.map(function(g){return g.reduce(function(m,v){return m+Math.abs(v)},0)});return p.indexOf(Math.min.apply(null,p))};e.processPNG=function(h,p,g,m){var v,y,w,b,D,P,O,T,S,_,j,N,E,k,U,G=this.decode.FLATE_DECODE,z="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(w=new V9e(h)).imgData,y=w.bits,v=w.colorSpace,D=w.colors,[4,6].indexOf(w.colorType)!==-1){if(w.bits===8){S=(T=w.pixelBitlength==32?new Uint32Array(w.decodePixels().buffer):w.pixelBitlength==16?new Uint16Array(w.decodePixels().buffer):new Uint8Array(w.decodePixels().buffer)).length,j=new Uint8Array(S*w.colors),_=new Uint8Array(S);var X,V=w.pixelBitlength-w.bits;for(k=0,U=0;k<S;k++){for(E=T[k],X=0;X<V;)j[U++]=E>>>X&255,X+=w.bits;_[k]=E>>>X&255}}if(w.bits===16){S=(T=new Uint32Array(w.decodePixels().buffer)).length,j=new Uint8Array(S*(32/w.pixelBitlength)*w.colors),_=new Uint8Array(S*(32/w.pixelBitlength)),N=w.colors>1,k=0,U=0;for(var H=0;k<S;)E=T[k++],j[U++]=E>>>0&255,N&&(j[U++]=E>>>16&255,E=T[k++],j[U++]=E>>>0&255),_[H++]=E>>>16&255;y=8}m!==e.image_compression.NONE&&t()?(h=r(j,w.width*w.colors,w.colors,m),O=r(_,w.width,1,m)):(h=j,O=_,G=void 0)}if(w.colorType===3&&(v=this.color_spaces.INDEXED,P=w.palette,w.transparency.indexed)){var re=w.transparency.indexed,ee=0;for(k=0,S=re.length;k<S;++k)ee+=re[k];if((ee/=255)===S-1&&re.indexOf(0)!==-1)b=[re.indexOf(0)];else if(ee!==S){for(T=w.decodePixels(),_=new Uint8Array(T.length),k=0,S=T.length;k<S;k++)_[k]=re[T[k]];O=r(_,w.width,1)}}var I=function(M){var q;switch(M){case e.image_compression.FAST:q=11;break;case e.image_compression.MEDIUM:q=13;break;case e.image_compression.SLOW:q=14;break;default:q=12}return q}(m);return G===this.decode.FLATE_DECODE&&(z="/Predictor "+I+" "),z+="/Colors "+D+" /BitsPerComponent "+y+" /Columns "+w.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(O&&this.__addimage__.isArrayBuffer(O)||this.__addimage__.isArrayBufferView(O))&&(O=this.__addimage__.arrayBufferToBinaryString(O)),{alias:g,data:h,index:p,filter:G,decodeParameters:z,transparency:b,palette:P,sMask:O,predictor:I,width:w.width,height:w.height,bitsPerComponent:y,colorSpace:v}}}})(gr.API),function(e){e.processGIF89A=function(t,r,n,a){var i=new z9e(t),s=i.width,o=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:o},u=new OA(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)},e.processGIF87A=e.processGIF89A}(gr.API),dl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},dl.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Fn.log("bit decode error:"+r)}},dl.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var l=this.palette[i>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},dl.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*a*4,o=i>>4,l=15&i,c=this.palette[o];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*a+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},dl.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var s=this.palette[a];this.data[i]=s.red,this.data[i+1]=s.green,this.data[i+2]=s.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},dl.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(i&t)/t*255|0,o=(i>>5&t)/t*255|0,l=(i>>10&t)/t*255|0,c=i>>15?255:0,u=n*this.width*4+4*a;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=s,this.data[u+3]=c}this.pos+=e}},dl.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,l=(s>>5&r)/r*255|0,c=(s>>11)/t*255|0,u=a*this.width*4+4*i;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=e}},dl.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},dl.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=s}},dl.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var i=new dl(t,!1),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},c=new OA(100).encode(l,100);return e.processJPEG.call(this,c,r,n,a)}}(gr.API),LR.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var i=new LR(t),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},c=new OA(100).encode(l,100);return e.processJPEG.call(this,c,r,n,a)}}(gr.API),gr.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),s=new Uint8Array(a/4),o=0,l=0,c=0;c<a;c+=4){var u=n[c],d=n[c+1],h=n[c+2],p=n[c+3];i[o++]=u,i[o++]=d,i[o++]=h,s[l++]=p}var g=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:g,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},gr.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},c0=gr.API,zx=c0.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:a.metadata.Unicode.widths,l=o.fof?o.fof:1,c=t.kerning?t.kerning:a.metadata.Unicode.kerning,u=c.fof?c.fof:1,d=t.doKerning!==!1,h=0,p=e.length,g=0,m=o[0]||l,v=[];for(r=0;r<p;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?v.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+s*(1e3/i)||0)/1e3):(h=d&&xn(c[n])==="object"&&!isNaN(parseInt(c[n][g],10))?c[n][g]/u:0,v.push((o[n]||m)/l+h)),g=n;return v},jR=c0.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return c0.processArabic&&(e=c0.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:zx.apply(this,arguments).reduce(function(i,s){return i+s},0)},OR=function(e,t,r,n){for(var a=[],i=0,s=e.length,o=0;i!==s&&o+t[i]<r;)o+=t[i],i++;a.push(e.slice(0,i));var l=i;for(o=0;i!==s;)o+t[i]>n&&(a.push(e.slice(l,i)),o=0,l=i),o+=t[i],i++;return l!==i&&a.push(e.slice(l,i)),a},IR=function(e,t,r){r||(r={});var n,a,i,s,o,l,c,u=[],d=[u],h=r.textIndent||0,p=0,g=0,m=e.split(" "),v=zx.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?m[0].length+2:r.lineIndent||0){var y=Array(l).join(" "),w=[];m.map(function(D){(D=D.split(/\s*\n/)).length>1?w=w.concat(D.map(function(P,O){return(O&&P.length?`
`:"")+P})):w.push(D[0])}),m=w,l=jR.apply(this,[y,r])}for(i=0,s=m.length;i<s;i++){var b=0;if(n=m[i],l&&n[0]==`
`&&(n=n.substr(1),b=1),h+p+(g=(a=zx.apply(this,[n,r])).reduce(function(D,P){return D+P},0))>t||b){if(g>t){for(o=OR.apply(this,[n,a,t-(h+p),t]),u.push(o.shift()),u=[o.pop()];o.length;)d.push([o.shift()]);g=a.slice(n.length-(u[0]?u[0].length:0)).reduce(function(D,P){return D+P},0)}else u=[n];d.push(u),h=g+l,p=v}else u.push(n),h+=p+g,p=v}return c=l?function(D,P){return(P?y:"")+D.join(" ")}:function(D){return D.join(" ")},d.map(c)},c0.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var d=this.internal.getFont(u.fontName,u.fontStyle);return d.metadata.Unicode?{widths:d.metadata.Unicode.widths||{0:1},kerning:d.metadata.Unicode.kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var o,l,c=[];for(o=0,l=n.length;o<l;o++)c=c.concat(IR.apply(this,[n[o],s,i]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},a=0;a<t.length;a++)r[t[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=t[a];var i=function(d){return"0x"+parseInt(d,10).toString(16)},s=e.__fontmetrics__.compress=function(d){var h,p,g,m,v=["{"];for(var y in d){if(h=d[y],isNaN(parseInt(y,10))?p="'"+y+"'":(y=parseInt(y,10),p=(p=i(y).slice(2)).slice(0,-1)+n[p.slice(-1)]),typeof h=="number")h<0?(g=i(h).slice(3),m="-"):(g=i(h).slice(2),m=""),g=m+g.slice(0,-1)+n[g.slice(-1)];else{if(xn(h)!=="object")throw new Error("Don't know what to do with value type "+xn(h)+".");g=s(h)}v.push(p+g)}return v.push("}"),v.join("")},o=e.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,p,g,m,v={},y=1,w=v,b=[],D="",P="",O=d.length-1,T=1;T<O;T+=1)(m=d[T])=="'"?h?(g=h.join(""),h=void 0):h=[]:h?h.push(m):m=="{"?(b.push([w,g]),w={},g=void 0):m=="}"?((p=b.pop())[0][p[1]]=w,g=void 0,w=p[0]):m=="-"?y=-1:g===void 0?r.hasOwnProperty(m)?(D+=r[m],g=parseInt(D,16)*y,y=1,D=""):D+=m:r.hasOwnProperty(m)?(P+=r[m],w[g]=parseInt(P,16)*y,y=1,g=void 0,P=""):P+=m;return v},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(d){var h=d.font,p=u.Unicode[h.postScriptName];p&&(h.metadata.Unicode={},h.metadata.Unicode.widths=p.widths,h.metadata.Unicode.kerning=p.kerning);var g=c.Unicode[h.postScriptName];g&&(h.metadata.Unicode.encoding=g,h.encoding=g.codePages[0])}])}(gr.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(iv(o)),s.metadata=e.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(a,n)}}])}(gr),function(e){function t(){return(vr.canvg?Promise.resolve(vr.canvg):uN(()=>import("./index.es-CIo-__T3.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}gr.API.addSvgAsImage=function(r,n,a,i,s,o,l,c){if(isNaN(n)||isNaN(a))throw Fn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(s))throw Fn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=i,u.height=s;var d=u.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,u.width,u.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return t().then(function(g){return g.fromString(d,r,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(h)}).then(function(){p.addImage(u.toDataURL("image/jpeg",1),n,a,i,s,l,c)})}}(),gr.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},gr.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],c=0,u=0,d=0;function h(g,m){var v,y=!1;for(v=0;v<g.length;v+=1)g[v]===m&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var p=o.length;for(d=0;d<p;d+=1)r[o[d]].value=r[o[d]].defaultValue,r[o[d]].explicitSet=!1}if(xn(e)==="object"){for(a in e)if(i=e[a],h(o,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&h(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(c=0;c<i.length;c+=1)if(n=!0,i[c].length===1&&typeof i[c][0]=="number")l.push(String(i[c]-1));else if(i[c].length>1){for(u=0;u<i[c].length;u+=1)typeof i[c][u]!="number"&&(n=!1);n===!0&&l.push([i[c][0]-1,i[c][1]-1].join(" "))}r[a].value="["+l.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,m=[];for(g in r)r[g].explicitSet===!0&&(r[g].type==="name"?m.push("/"+g+" /"+r[g].value):m.push("/"+g+" "+r[g].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=i.length+s.length+o.length+a.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(a+i+s+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(gr.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,s){for(var o,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],d=0,h=i.length;d<h;++d){if(o=s.metadata.characterToGlyph(i.charCodeAt(d)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=i.charCodeAt(d),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},n=function(i){var s,o,l,c,u,d,h;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,h=(o=Object.keys(i).sort(function(p,g){return p-g})).length;d<h;d++)s=o[d],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),i[s]!==void 0&&i[s]!==null&&typeof i[s].toString=="function"&&(c=("0000"+i[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var d=o.metadata.Unicode.widths,h=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),p="",g=0;g<h.length;g++)p+=String.fromCharCode(h[g]);var m=c();u({data:p,addLength1:!0,objectId:m}),l("endobj");var v=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var y=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+m0(o.fontName)),l("/FontFile2 "+m+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var w=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+m0(o.fontName)),l("/FontDescriptor "+y+" 0 R"),l("/W "+e.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+v+" 0 R"),l("/BaseFont /"+m0(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+w+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var d=o.metadata.rawData,h="",p=0;p<d.length;p++)h+=String.fromCharCode(d[p]);var g=c();u({data:h,addLength1:!0,objectId:g}),l("endobj");var m=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:m}),l("endobj");var v=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+g+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+m0(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var y=0;y<o.metadata.hmtx.widths.length;y++)o.metadata.hmtx.widths[y]=parseInt(o.metadata.hmtx.widths[y]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+m0(o.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]);var a=function(i){var s,o=i.text||"",l=i.x,c=i.y,u=i.options||{},d=i.mutex||{},h=d.pdfEscape,p=d.activeFontKey,g=d.fonts,m=p,v="",y=0,w="",b=g[m].encoding;if(g[m].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:d};for(w=o,m=p,Array.isArray(o)&&(w=o[0]),y=0;y<w.length;y+=1)g[m].metadata.hasOwnProperty("cmap")&&(s=g[m].metadata.cmap.unicode.codeMap[w[y].charCodeAt(0)]),s||w[y].charCodeAt(0)<256&&g[m].metadata.hasOwnProperty("Unicode")?v+=w[y]:v+="";var D="";return parseInt(m.slice(1))<14||b==="WinAnsiEncoding"?D=h(v,m).split("").map(function(P){return P.charCodeAt(0).toString(16)}).join(""):b==="Identity-H"&&(D=r(v,g[m])),d.isHex=!0,{text:D,x:l,y:c,options:u,mutex:d}};t.events.push(["postProcessText",function(i){var s=i.text||"",o=[],l={text:s,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?o.push([a(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):o.push(a(Object.assign({},l,{text:s[c]})).text);i.text=o}else i.text=a(Object.assign({},l,{text:s})).text}])}(gr),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(gr.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,s,o,l,c,u,d=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,b=0;this.__bidiEngine__={};var D=function(N){var E=N.charCodeAt(),k=E>>8,U=m[k];return U!==void 0?d[256*U+(255&E)]:k===252||k===253?"AL":y.test(k)?"L":k===8?"R":"N"},P=function(N){for(var E,k=0;k<N.length;k++){if((E=D(N.charAt(k)))==="L")return!1;if(E==="R")return!0}return!1},O=function(N,E,k,U){var G,z,X,V,H=E[U];switch(H){case"L":case"R":w=!1;break;case"N":case"AN":break;case"EN":w&&(H="AN");break;case"AL":w=!0,H="R";break;case"WS":H="N";break;case"CS":U<1||U+1>=E.length||(G=k[U-1])!=="EN"&&G!=="AN"||(z=E[U+1])!=="EN"&&z!=="AN"?H="N":w&&(z="AN"),H=z===G?z:"N";break;case"ES":H=(G=U>0?k[U-1]:"B")==="EN"&&U+1<E.length&&E[U+1]==="EN"?"EN":"N";break;case"ET":if(U>0&&k[U-1]==="EN"){H="EN";break}if(w){H="N";break}for(X=U+1,V=E.length;X<V&&E[X]==="ET";)X++;H=X<V&&E[X]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(V=E.length,X=U+1;X<V&&E[X]==="NSM";)X++;if(X<V){var re=N[U],ee=re>=1425&&re<=2303||re===64286;if(G=E[X],ee&&(G==="R"||G==="AL")){H="R";break}}}H=U<1||(G=E[U-1])==="B"?"N":k[U-1];break;case"B":w=!1,a=!0,H=b;break;case"S":i=!0,H="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"BN":H="N"}return H},T=function(N,E,k){var U=N.split("");return k&&S(U,k,{hiLevel:b}),U.reverse(),E&&E.reverse(),U.join("")},S=function(N,E,k){var U,G,z,X,V,H=-1,re=N.length,ee=0,I=[],M=b?p:h,q=[];for(w=!1,a=!1,i=!1,G=0;G<re;G++)q[G]=D(N[G]);for(z=0;z<re;z++){if(V=ee,I[z]=O(N,q,I,z),U=240&(ee=M[V][g[I[z]]]),ee&=15,E[z]=X=M[ee][5],U>0)if(U===16){for(G=H;G<z;G++)E[G]=1;H=-1}else H=-1;if(M[ee][6])H===-1&&(H=z);else if(H>-1){for(G=H;G<z;G++)E[G]=X;H=-1}q[z]==="B"&&(E[z]=0),k.hiLevel|=X}i&&function(K,J,se){for(var he=0;he<se;he++)if(K[he]==="S"){J[he]=b;for(var ie=he-1;ie>=0&&K[ie]==="WS";ie--)J[ie]=b}}(q,E,re)},_=function(N,E,k,U,G){if(!(G.hiLevel<N)){if(N===1&&b===1&&!a)return E.reverse(),void(k&&k.reverse());for(var z,X,V,H,re=E.length,ee=0;ee<re;){if(U[ee]>=N){for(V=ee+1;V<re&&U[V]>=N;)V++;for(H=ee,X=V-1;H<X;H++,X--)z=E[H],E[H]=E[X],E[X]=z,k&&(z=k[H],k[H]=k[X],k[X]=z);ee=V}ee++}}},j=function(N,E,k){var U=N.split(""),G={hiLevel:b};return k||(k=[]),S(U,k,G),function(z,X,V){if(V.hiLevel!==0&&u)for(var H,re=0;re<z.length;re++)X[re]===1&&(H=v.indexOf(z[re]))>=0&&(z[re]=v[H+1])}(U,k,G),_(2,U,E,k,G),_(1,U,E,k,G),U.join("")};return this.__bidiEngine__.doBidiReorder=function(N,E,k){if(function(G,z){if(z)for(var X=0;X<G.length;X++)z[X]=X;o===void 0&&(o=P(G)),c===void 0&&(c=P(G))}(N,E),s||!l||c)if(s&&l&&o^c)b=o?1:0,N=T(N,E,k);else if(!s&&l&&c)b=o?1:0,N=j(N,E,k),N=T(N,E);else if(!s||o||l||c){if(s&&!l&&o^c)N=T(N,E),o?(b=0,N=j(N,E,k)):(b=1,N=j(N,E,k),N=T(N,E));else if(s&&o&&!l&&c)b=1,N=j(N,E,k),N=T(N,E);else if(!s&&!l&&o^c){var U=u;o?(b=1,N=j(N,E,k),b=0,u=!1,N=j(N,E,k),u=U):(b=0,N=j(N,E,k),N=T(N,E),b=1,u=!1,N=j(N,E,k),u=U,N=T(N,E))}}else b=0,N=j(N,E,k);else b=o?1:0,N=j(N,E,k);return N},this.__bidiEngine__.setOptions=function(N){N&&(s=N.isInputVisual,l=N.isOutputVisual,o=N.isInputRtl,c=N.isOutputRtl,u=N.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var s=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var o=0;for(s=[],o=0;o<a.length;o+=1)Object.prototype.toString.call(a[o])==="[object Array]"?s.push([r.doBidiReorder(a[o][0]),a[o][1],a[o][2]]):s.push([r.doBidiReorder(a[o])]);n.text=s}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(gr),gr.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Jf(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new aBe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new q9e(this.contents),this.head=new H9e(this),this.name=new Q9e(this),this.cmap=new YK(this),this.toUnicode={},this.hhea=new G9e(this),this.maxp=new J9e(this),this.hmtx=new Z9e(this),this.post=new Y9e(this),this.os2=new K9e(this),this.loca=new nBe(this),this.glyf=new eBe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,l,c;for(c=[],s=0,o=(l=this.bbox).length;s<o;s++)t=l[s],c.push(Math.round(t*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,s,o;for(s=0,i=0,o=(t=""+t).length;0<=o?i<o:i>o;i=0<=o?++i:--i)a=t.charCodeAt(i),s+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return s*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var Rl,Jf=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,s,o,l;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^s)+256*(255^o)+(255^l)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*s+256*o+l},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),q9e=function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,s,o,l,c,u,d,h,p,g,m;for(m in p=Object.keys(r).length,l=Math.log(2),d=16*Math.floor(Math.log(p)/l),s=Math.floor(d/l),u=16*p-d,(a=new Jf).writeInt(this.scalarType),a.writeShort(p),a.writeShort(d),a.writeShort(s),a.writeShort(u),i=16*p,c=a.pos+i,o=null,g=[],r)for(h=r[m],a.writeString(m),a.writeInt(e(h)),a.writeInt(c),a.writeInt(h.length),g=g.concat(h),m==="head"&&(o=c),c+=h.length;c%4;)g.push(0),c++;return a.write(g),n=2981146554-e(a.data),a.pos=o+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,s;for(r=XK.call(r);r.length%4;)r.push(0);for(i=new Jf(r),a=0,n=0,s=r.length;n<s;n=n+=4)a+=i.readUInt32();return 4294967295&a},t}(),W9e={}.hasOwnProperty,xc=function(e,t){for(var r in t)W9e.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Rl=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var H9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xc(t,Rl),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new Jf).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),MR=function(){function e(t,r){var n,a,i,s,o,l,c,u,d,h,p,g,m,v,y,w,b;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),d=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(p=t.readUInt16(),h=p/2,t.pos+=6,i=function(){var D,P;for(P=[],l=D=0;0<=h?D<h:D>h;l=0<=h?++D:--D)P.push(t.readUInt16());return P}(),t.pos+=2,m=function(){var D,P;for(P=[],l=D=0;0<=h?D<h:D>h;l=0<=h?++D:--D)P.push(t.readUInt16());return P}(),c=function(){var D,P;for(P=[],l=D=0;0<=h?D<h:D>h;l=0<=h?++D:--D)P.push(t.readUInt16());return P}(),u=function(){var D,P;for(P=[],l=D=0;0<=h?D<h:D>h;l=0<=h?++D:--D)P.push(t.readUInt16());return P}(),a=(this.length-t.pos+this.offset)/2,o=function(){var D,P;for(P=[],l=D=0;0<=a?D<a:D>a;l=0<=a?++D:--D)P.push(t.readUInt16());return P}(),l=y=0,b=i.length;y<b;l=++y)for(v=i[l],n=w=g=m[l];g<=v?w<=v:w>=v;n=g<=v?++w:--w)u[l]===0?s=n+c[l]:(s=o[u[l]/2+(n-g)-(h-l)]||0)!==0&&(s+=c[l]),this.codeMap[n]=65535&s}t.pos=d}return e.encode=function(t,r){var n,a,i,s,o,l,c,u,d,h,p,g,m,v,y,w,b,D,P,O,T,S,_,j,N,E,k,U,G,z,X,V,H,re,ee,I,M,q,K,J,se,he,ie,ge,xe,W;switch(U=new Jf,s=Object.keys(t).sort(function(Pe,Ce){return Pe-Ce}),r){case"macroman":for(m=0,v=function(){var Pe=[];for(g=0;g<256;++g)Pe.push(0);return Pe}(),w={0:0},i={},G=0,H=s.length;G<H;G++)w[ie=t[a=s[G]]]==null&&(w[ie]=++m),i[a]={old:t[a],new:w[t[a]]},v[a]=w[t[a]];return U.writeUInt16(1),U.writeUInt16(0),U.writeUInt32(12),U.writeUInt16(0),U.writeUInt16(262),U.writeUInt16(0),U.write(v),{charMap:i,subtable:U.data,maxGlyphID:m+1};case"unicode":for(E=[],d=[],b=0,w={},n={},y=c=null,z=0,re=s.length;z<re;z++)w[P=t[a=s[z]]]==null&&(w[P]=++b),n[a]={old:P,new:w[P]},o=w[P]-a,y!=null&&o===c||(y&&d.push(y),E.push(a),c=o),y=a;for(y&&d.push(y),d.push(65535),E.push(65535),j=2*(_=E.length),S=2*Math.pow(Math.log(_)/Math.LN2,2),h=Math.log(S/2)/Math.LN2,T=2*_-S,l=[],O=[],p=[],g=X=0,ee=E.length;X<ee;g=++X){if(N=E[g],u=d[g],N===65535){l.push(0),O.push(0);break}if(N-(k=n[N].new)>=32768)for(l.push(0),O.push(2*(p.length+_-g)),a=V=N;N<=u?V<=u:V>=u;a=N<=u?++V:--V)p.push(n[a].new);else l.push(k-N),O.push(0)}for(U.writeUInt16(3),U.writeUInt16(1),U.writeUInt32(12),U.writeUInt16(4),U.writeUInt16(16+8*_+2*p.length),U.writeUInt16(0),U.writeUInt16(j),U.writeUInt16(S),U.writeUInt16(h),U.writeUInt16(T),se=0,I=d.length;se<I;se++)a=d[se],U.writeUInt16(a);for(U.writeUInt16(0),he=0,M=E.length;he<M;he++)a=E[he],U.writeUInt16(a);for(ge=0,q=l.length;ge<q;ge++)o=l[ge],U.writeUInt16(o);for(xe=0,K=O.length;xe<K;xe++)D=O[xe],U.writeUInt16(D);for(W=0,J=p.length;W<J;W++)m=p[W],U.writeUInt16(m);return{charMap:n,subtable:U.data,maxGlyphID:b+1}}},e}(),YK=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xc(t,Rl),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new MR(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var a,i;return n==null&&(n="macroman"),a=MR.encode(r,n),(i=new Jf).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},t}(),G9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xc(t,Rl),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),K9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xc(t,Rl),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),Y9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xc(t,Rl),t.prototype.tag="post",t.prototype.parse=function(r){var n,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var s;for(a=r.readUInt16(),this.glyphNameIndex=[],s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var o,l,c;for(c=[],s=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;s=0<=l?++o:--o)c.push(r.readUInt32());return c}).call(this)}},t}(),X9e=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Q9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xc(t,Rl),t.prototype.tag="name",t.prototype.parse=function(r){var n,a,i,s,o,l,c,u,d,h,p;for(r.pos=this.offset,r.readShort(),n=r.readShort(),l=r.readShort(),a=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(c={},s=d=0,h=a.length;d<h;s=++d)i=a[s],r.pos=i.offset,u=r.readString(i.length),o=new X9e(u,i),c[p=i.nameID]==null&&(c[p]=[]),c[i.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t}(),J9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xc(t,Rl),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),Z9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xc(t,Rl),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,a,i,s,o,l,c;for(r.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)d.push(r.readInt16());return d}(),this.widths=(function(){var u,d,h,p;for(p=[],u=0,d=(h=this.metrics).length;u<d;u++)s=h[u],p.push(s.advance);return p}).call(this),a=this.widths[this.widths.length-1],c=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)c.push(this.widths.push(a));return c},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),XK=[].slice,eBe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xc(t,Rl),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,a,i,s,o,l,c,u,d,h;return r in this.cache?this.cache[r]:(s=this.file.loca,n=this.file.contents,a=s.indexOf(r),(i=s.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,o=(l=new Jf(n.read(i))).readShort(),u=l.readShort(),h=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[r]=o===-1?new rBe(l,u,h,c,d):new tBe(l,o,u,h,c,d),this.cache[r]))},t.prototype.encode=function(r,n,a){var i,s,o,l,c;for(o=[],s=[],l=0,c=n.length;l<c;l++)i=r[n[l]],s.push(o.length),i&&(o=o.concat(i.encode(a)));return s.push(o.length),{table:o,offsets:s}},t}(),tBe=function(){function e(t,r,n,a,i,s){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),rBe=function(){function e(t,r,n,a,i){var s,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Jf(XK.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),nBe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xc(t,Rl),t.prototype.tag="loca",t.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=2)s.push(2*r.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=4)s.push(r.readUInt32());return s}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<a.length;++o)if(a[o]=i,s<n.length&&n[s]==o){++s,a[o]=i;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(i+=c)}for(var u=new Array(4*a.length),d=0;d<a.length;++d)u[4*d+3]=255&a[d],u[4*d+2]=(65280&a[d])>>8,u[4*d+1]=(16711680&a[d])>>16,u[4*d]=(4278190080&a[d])>>24;return u},t}(),aBe=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,s,o,l;for(a={},s=0,o=t.length;s<o;s++)a[i=t[s]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in l=this.glyphsFor(r))n=l[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,s,o,l,c,u,d,h,p,g,m,v,y;for(a in n=YK.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),p={0:0},y=n.charMap)p[(l=y[a]).old]=l.new;for(g in h=n.maxGlyphID,s)g in p||(p[g]=h++);return u=function(w){var b,D;for(b in D={},w)D[w[b]]=b;return D}(p),d=Object.keys(u).sort(function(w,b){return w-b}),m=function(){var w,b,D;for(D=[],w=0,b=d.length;w<b;w++)o=d[w],D.push(u[o]);return D}(),i=this.font.glyf.encode(s,m,p),c=this.font.loca.encode(i.offsets,m),v={cmap:this.font.cmap.raw(),glyf:i.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},e}();gr.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,s;if(Array.isArray(r))return"["+function(){var o,l,c;for(c=[],o=0,l=r.length;o<l;o++)n=r[o],c.push(t.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)s=r[a],i.push("/"+a+" "+t.convert(s));return i.push(">>"),i.join(`
`)}return""+r},t}();function QK(e,t,r,n,a){n=n||{};var i=1.15,s=a.internal.scaleFactor,o=a.internal.getFontSize()/s,l=a.getLineHeightFactor?a.getLineHeightFactor():i,c=o*l,u=/\r\n|\r|\n/g,d="",h=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(d=typeof e=="string"?e.split(u):e,h=d.length||1),r+=o*(2-i),n.valign==="middle"?r-=h/2*c:n.valign==="bottom"&&(r-=h*c),n.halign==="center"||n.halign==="right"){var p=o;if(n.halign==="center"&&(p*=.5),d&&h>=1){for(var g=0;g<d.length;g++)a.text(d[g],t-a.getStringUnitWidth(d[g])*p,r),r+=c;return a}t-=a.getStringUnitWidth(e)*p}return n.halign==="justify"?a.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(e,t,r),a}var RR={},ap=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:RR=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,a,i;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var s=this.jsPDFDocument.internal.getFont(),o=s.fontStyle,l=s.fontName;if(t.font&&(l=t.font),t.fontStyle){o=t.fontStyle;var c=this.getFontList()[l];c&&c.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),o=c[0])}if(this.jsPDFDocument.setFont(l,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var u=e.unifyColor(t.fillColor);u&&(n=this.jsPDFDocument).setFillColor.apply(n,u),u=e.unifyColor(t.textColor),u&&(a=this.jsPDFDocument).setTextColor.apply(a,u),u=e.unifyColor(t.lineColor),u&&(i=this.jsPDFDocument).setDrawColor.apply(i,u),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,a,i){return this.jsPDFDocument.rect(t,r,n,a,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return RR||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),_N=function(e,t){return _N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},_N(e,t)};function JK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");_N(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var ZK=function(e){JK(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t}(Array);function iBe(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function sBe(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function Ow(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],a=n.map(function(i){return r.getTextWidth(i)}).reduce(function(i,s){return Math.max(i,s)},0);return a}function eY(e,t,r,n){var a=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:a,lineColor:i});var s=tY(a,!1);s&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,s)}function tY(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function y_(e,t){var r,n,a,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(a=e.right)!==null&&a!==void 0?a:t,bottom:(i=e.bottom)!==null&&i!==void 0?i:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function rY(e,t){var r=y_(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function oBe(e,t,r,n,a){var i={},s=1.3333333333333333,o=IA(t,function(b){return a.getComputedStyle(b).backgroundColor});o!=null&&(i.fillColor=o);var l=IA(t,function(b){return a.getComputedStyle(b).color});l!=null&&(i.textColor=l);var c=cBe(n,r);c&&(i.cellPadding=c);var u="borderTopColor",d=s*r,h=n.borderTopWidth;if(n.borderBottomWidth===h&&n.borderRightWidth===h&&n.borderLeftWidth===h){var p=(parseFloat(h)||0)/d;p&&(i.lineWidth=p)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/d,right:(parseFloat(n.borderRightWidth)||0)/d,bottom:(parseFloat(n.borderBottomWidth)||0)/d,left:(parseFloat(n.borderLeftWidth)||0)/d},i.lineWidth.top||(i.lineWidth.right?u="borderRightColor":i.lineWidth.bottom?u="borderBottomColor":i.lineWidth.left&&(u="borderLeftColor"));var g=IA(t,function(b){return a.getComputedStyle(b)[u]});g!=null&&(i.lineColor=g);var m=["left","right","center","justify"];m.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),m=["middle","bottom","top"],m.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var v=parseInt(n.fontSize||"");isNaN(v)||(i.fontSize=v/s);var y=lBe(n);y&&(i.fontStyle=y);var w=(n.fontFamily||"").toLowerCase();return e.indexOf(w)!==-1&&(i.font=w),i}function lBe(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function IA(e,t){var r=nY(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function nY(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:nY(e.parentElement,t):r}function cBe(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),a=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=r.map(function(o){return parseInt(o||"0")/n}),s=y_(i,0);return a>s.top&&(s.top=a),a>s.bottom&&(s.bottom=a),s}function aY(e,t,r,n,a){var i,s;n===void 0&&(n=!1),a===void 0&&(a=!1);var o;typeof t=="string"?o=r.document.querySelector(t):o=t;var l=Object.keys(e.getFontList()),c=e.scaleFactor(),u=[],d=[],h=[];if(!o)return console.error("Html table could not be found with input: ",t),{head:u,body:d,foot:h};for(var p=0;p<o.rows.length;p++){var g=o.rows[p],m=(s=(i=g==null?void 0:g.parentElement)===null||i===void 0?void 0:i.tagName)===null||s===void 0?void 0:s.toLowerCase(),v=uBe(l,c,r,g,n,a);v&&(m==="thead"?u.push(v):m==="tfoot"?h.push(v):d.push(v))}return{head:u,body:d,foot:h}}function uBe(e,t,r,n,a,i){for(var s=new ZK(n),o=0;o<n.cells.length;o++){var l=n.cells[o],c=r.getComputedStyle(l);if(a||c.display!=="none"){var u=void 0;i&&(u=oBe(e,l,t,c,r)),s.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:u,_element:l,content:fBe(l)})}}var d=r.getComputedStyle(n);if(s.length>0&&(a||d.display!=="none"))return s}function fBe(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function dBe(e,t,r){for(var n=0,a=[e,t,r];n<a.length;n++){var i=a[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function Kc(e,t,r,n,a){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),s=1;s<arguments.length;s++){var o=arguments[s];if(o!=null)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(i[l]=o[l])}return i}function iY(e,t){var r=new ap(e),n=r.getDocumentOptions(),a=r.getGlobalOptions();dBe(a,n,t);var i=Kc({},a,n,t),s;typeof window<"u"&&(s=window);var o=hBe(a,n,t),l=pBe(a,n,t),c=mBe(r,i),u=vBe(r,i,s);return{id:t.tableId,content:u,hooks:l,styles:o,settings:c}}function hBe(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(l){if(l==="columnStyles"){var c=e[l],u=t[l],d=r[l];n.columnStyles=Kc({},c,u,d)}else{var h=[e,t,r],p=h.map(function(g){return g[l]||{}});n[l]=Kc({},p[0],p[1],p[2])}},i=0,s=Object.keys(n);i<s.length;i++){var o=s[i];a(o)}return n}function pBe(e,t,r){for(var n=[e,t,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,s=n;i<s.length;i++){var o=s[i];o.didParseCell&&a.didParseCell.push(o.didParseCell),o.willDrawCell&&a.willDrawCell.push(o.willDrawCell),o.didDrawCell&&a.didDrawCell.push(o.didDrawCell),o.willDrawPage&&a.willDrawPage.push(o.willDrawPage),o.didDrawPage&&a.didDrawPage.push(o.didDrawPage)}return a}function mBe(e,t){var r,n,a,i,s,o,l,c,u,d,h,p,g=y_(t.margin,40/e.scaleFactor()),m=(r=gBe(e,t.startY))!==null&&r!==void 0?r:g.top,v;t.showFoot===!0?v="everyPage":t.showFoot===!1?v="never":v=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var y;t.showHead===!0?y="everyPage":t.showHead===!1?y="never":y=(a=t.showHead)!==null&&a!==void 0?a:"everyPage";var w=(i=t.useCss)!==null&&i!==void 0?i:!1,b=t.theme||(w?"plain":"striped"),D=!!t.horizontalPageBreak,P=(s=t.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(o=t.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:w,theme:b,startY:m,margin:g,pageBreak:(l=t.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(c=t.rowPageBreak)!==null&&c!==void 0?c:"auto",tableWidth:(u=t.tableWidth)!==null&&u!==void 0?u:"auto",showHead:y,showFoot:v,tableLineWidth:(d=t.tableLineWidth)!==null&&d!==void 0?d:0,tableLineColor:(h=t.tableLineColor)!==null&&h!==void 0?h:200,horizontalPageBreak:D,horizontalPageBreakRepeat:P,horizontalPageBreakBehaviour:(p=t.horizontalPageBreakBehaviour)!==null&&p!==void 0?p:"afterAllRows"}}function gBe(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),a=e.pageNumber(),i=!1;if(r&&r.startPageNumber){var s=r.startPageNumber+r.pageNumber-1;i=s===a}return typeof t=="number"?t:(t==null||t===!1)&&i&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function vBe(e,t,r){var n=t.head||[],a=t.body||[],i=t.foot||[];if(t.html){var s=t.includeHiddenHtml;if(r){var o=aY(e,t.html,r,s,t.useCss)||{};n=o.head||n,a=o.body||n,i=o.foot||n}else console.error("Cannot parse html in non browser environment")}var l=t.columns||yBe(n,a,i);return{columns:l,head:n,body:a,foot:i}}function yBe(e,t,r){var n=e[0]||t[0]||r[0]||[],a=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var s=1,o;Array.isArray(n)?o=n[parseInt(i)]:o=n[i],typeof o=="object"&&!Array.isArray(o)&&(s=(o==null?void 0:o.colSpan)||1);for(var l=0;l<s;l++){var c=void 0;Array.isArray(n)?c=a.length:c=i+(l>0?"_".concat(l):"");var u={dataKey:c};a.push(u)}}),a}var SN=function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e}(),xBe=function(e){JK(t,e);function t(r,n,a,i,s,o){var l=e.call(this,r,n,o)||this;return l.cell=a,l.row=i,l.column=s,l.section=i.section,l}return t}(SN),bBe=function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,a,i,s){for(var o=0,l=r;o<l.length;o++){var c=l[o],u=new xBe(t,this,n,a,i,s),d=c(u)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],d)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var i=a[n];i(new SN(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var i=a[n];i(new SN(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,i){return a+i.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e}(),sY=function(){function e(t,r,n,a,i){i===void 0&&(i=!1),this.height=0,this.raw=t,t instanceof ZK&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,a){var i;return Math.max(n,((i=r.cells[a.index])===null||i===void 0?void 0:i.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(a,i){var s=n.cells[i.index];if(!s)return 0;var o=r.getLineHeight(s.styles.fontSize),l=s.padding("vertical"),c=l+o;return c>a?c:a},0)},e}(),oY=function(){function e(t,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var i=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=(a=t.content)!==null&&a!==void 0?a:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var s=i!=null?""+i:"",o=/\r\n|\r|\n/g;this.text=s.split(o)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/t*r,i=n*a+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=y_(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e}(),wBe=function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,a=t.allRows();n<a.length;n++){var i=a[n],s=i.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(r=Math.max(r,s.styles.cellWidth))}return r},e}();function _Be(e,t){SBe(e,t);var r=[],n=0;t.columns.forEach(function(i){var s=i.getMaxCustomCellWidth(t);s?i.width=s:(i.width=i.wrappedWidth,r.push(i)),n+=i.width});var a=t.getWidth(e.pageSize().width)-n;a&&(a=AN(r,a,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),a&&(a=AN(r,a,function(i){return i.minWidth})),a=Math.abs(a),!t.settings.horizontalPageBreak&&a>.1/e.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),TBe(t),NBe(t,e),ABe(t)}function SBe(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,a=rY(e,t);t.allRows().forEach(function(i){for(var s=0,o=t.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c){var u=t.hooks.didParseCell;t.callCellHooks(e,u,c,i,l,null);var d=c.padding("horizontal");c.contentWidth=Ow(c.text,c.styles,e)+d;var h=Ow(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,e);if(c.minReadableWidth=h+c.padding("horizontal"),typeof c.styles.cellWidth=="number")c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if(c.styles.cellWidth==="wrap"||n===!0)c.contentWidth>a?(c.minWidth=a,c.wrappedWidth=a):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var p=10/r;c.minWidth=c.styles.minCellWidth||p,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}}),t.allRows().forEach(function(i){for(var s=0,o=t.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c&&c.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,c.wrappedWidth),l.minWidth=Math.max(l.minWidth,c.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,c.minReadableWidth);else{var u=t.styles.columnStyles[l.dataKey]||t.styles.columnStyles[l.index]||{},d=u.cellWidth||u.minCellWidth;d&&typeof d=="number"&&(l.minWidth=d,l.wrappedWidth=d)}c&&(c.colSpan>1&&!l.minWidth&&(l.minWidth=c.minWidth),c.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=c.minWidth))}})}function AN(e,t,r){for(var n=t,a=e.reduce(function(p,g){return p+g.wrappedWidth},0),i=0;i<e.length;i++){var s=e[i],o=s.wrappedWidth/a,l=n*o,c=s.width+l,u=r(s),d=c<u?u:c;t-=d-s.width,s.width=d}if(t=Math.round(t*1e10)/1e10,t){var h=e.filter(function(p){return t<0?p.width>r(p):!0});h.length&&(t=AN(h,t,r))}return t}function ABe(e){for(var t={},r=1,n=e.allRows(),a=0;a<n.length;a++)for(var i=n[a],s=0,o=e.columns;s<o.length;s++){var l=o[s],c=t[l.index];if(r>1)r--,delete i.cells[l.index];else if(c)c.cell.height+=i.height,r=c.cell.colSpan,delete i.cells[l.index],c.left--,c.left<=1&&delete t[l.index];else{var u=i.cells[l.index];if(!u)continue;if(u.height=i.height,u.rowSpan>1){var d=n.length-a,h=u.rowSpan>d?d:u.rowSpan;t[l.index]={cell:u,left:h,row:i}}}}}function TBe(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],a=null,i=0,s=0,o=0;o<e.columns.length;o++){var l=e.columns[o];if(s-=1,s>1&&e.columns[o+1])i+=l.width,delete n.cells[l.index];else if(a){var c=a;delete n.cells[l.index],a=null,c.width=l.width+i}else{var c=n.cells[l.index];if(!c)continue;if(s=c.colSpan,i=0,c.colSpan>1){a=c,i+=l.width;continue}c.width=l.width+i}}}function NBe(e,t){for(var r={count:0,height:0},n=0,a=e.allRows();n<a.length;n++){for(var i=a[n],s=0,o=e.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c){t.applyStyles(c.styles,!0);var u=c.width-c.padding("horizontal");if(c.styles.overflow==="linebreak")c.text=t.splitTextToSize(c.text,u+1/t.scaleFactor(),{fontSize:c.styles.fontSize});else if(c.styles.overflow==="ellipsize")c.text=FR(c.text,u,c.styles,t,"...");else if(c.styles.overflow==="hidden")c.text=FR(c.text,u,c.styles,t,"");else if(typeof c.styles.overflow=="function"){var d=c.styles.overflow(c.text,u);typeof d=="string"?c.text=[d]:c.text=d}c.contentHeight=c.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var h=c.contentHeight/c.rowSpan;c.rowSpan>1&&r.count*r.height<h*c.rowSpan?r={height:h,count:c.rowSpan}:r&&r.count>0&&r.height>h&&(h=r.height),h>i.height&&(i.height=h)}}r.count--}}function FR(e,t,r,n,a){return e.map(function(i){return EBe(i,t,r,n,a)})}function EBe(e,t,r,n,a){var i=1e4*n.scaleFactor();if(t=Math.ceil(t*i)/i,t>=Ow(e,r,n))return e;for(;t<Ow(e+a,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+a}function lY(e,t){var r=new ap(e),n=kBe(t,r.scaleFactor()),a=new bBe(t,n);return _Be(r,a),r.applyStyles(r.userStyles),a}function kBe(e,t){var r=e.content,n=PBe(r.columns);if(r.head.length===0){var a=$R(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=$R(n,"foot");a&&r.foot.push(a)}var i=e.settings.theme,s=e.styles;return{columns:n,head:DA("head",r.head,n,s,i,t),body:DA("body",r.body,n,s,i,t),foot:DA("foot",r.foot,n,s,i,t)}}function DA(e,t,r,n,a,i){var s={},o=t.map(function(l,c){for(var u=0,d={},h=0,p=0,g=0,m=r;g<m.length;g++){var v=m[g];if(s[v.index]==null||s[v.index].left===0)if(p===0){var y=void 0;Array.isArray(l)?y=l[v.index-h-u]:y=l[v.dataKey];var w={};typeof y=="object"&&!Array.isArray(y)&&(w=(y==null?void 0:y.styles)||{});var b=jBe(e,v,c,a,n,i,w),D=new oY(y,b,e);d[v.dataKey]=D,d[v.index]=D,p=D.colSpan-1,s[v.index]={left:D.rowSpan-1,times:p}}else p--,h++;else s[v.index].left--,p=s[v.index].times,u++}return new sY(l,c,e,d)});return o}function $R(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var a=CBe(t,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function CBe(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function PBe(e){return e.map(function(t,r){var n,a;return typeof t=="object"?a=(n=t.dataKey)!==null&&n!==void 0?n:r:a=r,new wBe(a,t,r)})}function jBe(e,t,r,n,a,i,s){var o=sBe(n),l;e==="head"?l=a.headStyles:e==="body"?l=a.bodyStyles:e==="foot"&&(l=a.footStyles);var c=Kc({},o.table,o[e],a.styles,l),u=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},d=e==="body"?u:{},h=e==="body"&&r%2===0?Kc({},o.alternateRow,a.alternateRowStyles):{},p=iBe(i),g=Kc({},p,c,h,d);return Kc(g,s)}function OBe(e,t,r){var n;r===void 0&&(r={});var a=rY(e,t),i=new Map,s=[],o=[],l=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?l=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(l=[t.settings.horizontalPageBreakRepeat]),l.forEach(function(h){var p=t.columns.find(function(g){return g.dataKey===h||g.index===h});p&&!i.has(p.index)&&(i.set(p.index,!0),s.push(p.index),o.push(t.columns[p.index]),a-=p.wrappedWidth)});for(var c=!0,u=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;u<t.columns.length;){if(i.has(u)){u++;continue}var d=t.columns[u].wrappedWidth;if(c||a>=d)c=!1,s.push(u),o.push(t.columns[u]),a-=d;else break;u++}return{colIndexes:s,columns:o,lastIndex:u-1}}function IBe(e,t){for(var r=[],n=0;n<t.columns.length;n++){var a=OBe(e,t,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function cY(e,t){var r=t.settings,n=r.startY,a=r.margin,i={x:a.left,y:n},s=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),o=n+a.bottom+s;if(r.pageBreak==="avoid"){var l=t.body,c=l.reduce(function(h,p){return h+p.height},0);o+=c}var u=new ap(e);(r.pageBreak==="always"||r.startY!=null&&o>u.pageSize().height)&&(fY(u),i.y=a.top),t.callWillDrawPageHooks(u,i);var d=Kc({},i);t.startPageNumber=u.pageNumber(),r.horizontalPageBreak?DBe(u,t,d,i):(u.applyStyles(u.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(h){return bu(u,t,h,i,t.columns)}),u.applyStyles(u.userStyles),t.body.forEach(function(h,p){var g=p===t.body.length-1;Iw(u,t,h,g,d,i,t.columns)}),u.applyStyles(u.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(h){return bu(u,t,h,i,t.columns)})),eY(u,t,d,i),t.callEndPageHooks(u,i),t.finalY=i.y,e.lastAutoTable=t,u.applyStyles(u.userStyles)}function DBe(e,t,r,n){var a=IBe(e,t),i=t.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(c,u){e.applyStyles(e.userStyles),u>0?sv(e,t,r,n,c.columns,!0):BR(e,t,n,c.columns),LBe(e,t,r,n,c.columns),LA(e,t,n,c.columns)});else for(var s=-1,o=a[0],l=function(){var c=s;if(o){e.applyStyles(e.userStyles);var u=o.columns;s>=0?sv(e,t,r,n,u,!0):BR(e,t,n,u),c=UR(e,t,s+1,n,u),LA(e,t,n,u)}var d=c-s;a.slice(1).forEach(function(h){e.applyStyles(e.userStyles),sv(e,t,r,n,h.columns,!0),UR(e,t,s+1,n,h.columns,d),LA(e,t,n,h.columns)}),s=c};s<t.body.length-1;)l()}function BR(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&t.head.forEach(function(i){return bu(e,t,i,r,n)})}function LBe(e,t,r,n,a){e.applyStyles(e.userStyles),t.body.forEach(function(i,s){var o=s===t.body.length-1;Iw(e,t,i,o,r,n,a)})}function UR(e,t,r,n,a,i){e.applyStyles(e.userStyles),i=i??t.body.length;var s=Math.min(r+i,t.body.length),o=-1;return t.body.slice(r,s).forEach(function(l,c){var u=r+c===t.body.length-1,d=uY(e,t,u,n);l.canEntireRowFit(d,a)&&(bu(e,t,l,n,a),o=r+c)}),o}function LA(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&t.foot.forEach(function(i){return bu(e,t,i,r,n)})}function MBe(e,t,r){var n=r.getLineHeight(e.styles.fontSize),a=e.padding("vertical"),i=Math.floor((t-a)/n);return Math.max(0,i)}function RBe(e,t,r,n){var a={};e.spansMultiplePages=!0,e.height=0;for(var i=0,s=0,o=r.columns;s<o.length;s++){var l=o[s],c=e.cells[l.index];if(c){Array.isArray(c.text)||(c.text=[c.text]);var u=new oY(c.raw,c.styles,c.section);u=Kc(u,c),u.text=[];var d=MBe(c,t,n);c.text.length>d&&(u.text=c.text.splice(d,c.text.length));var h=n.scaleFactor(),p=n.getLineHeightFactor();c.contentHeight=c.getContentHeight(h,p),c.contentHeight>=t&&(c.contentHeight=t,u.styles.minCellHeight-=t),c.contentHeight>e.height&&(e.height=c.contentHeight),u.contentHeight=u.getContentHeight(h,p),u.contentHeight>i&&(i=u.contentHeight),a[l.index]=u}}var g=new sY(e.raw,-1,e.section,a,!0);g.height=i;for(var m=0,v=r.columns;m<v.length;m++){var l=v[m],u=g.cells[l.index];u&&(u.height=g.height);var c=e.cells[l.index];c&&(c.height=e.height)}return g}function FBe(e,t,r,n){var a=e.pageSize().height,i=n.settings.margin,s=i.top+i.bottom,o=a-s;t.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var l=t.getMinimumRowHeight(n.columns,e),c=l<r;if(l>o)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!c)return!1;var u=t.hasRowSpan(n.columns),d=t.getMaxCellHeight(n.columns)>o;return d?(u&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||n.settings.rowPageBreak==="avoid")}function Iw(e,t,r,n,a,i,s){var o=uY(e,t,n,i);if(r.canEntireRowFit(o,s))bu(e,t,r,i,s);else if(FBe(e,r,o,t)){var l=RBe(r,o,t,e);bu(e,t,r,i,s),sv(e,t,a,i,s),Iw(e,t,l,n,a,i,s)}else sv(e,t,a,i,s),Iw(e,t,r,n,a,i,s)}function bu(e,t,r,n,a){n.x=t.settings.margin.left;for(var i=0,s=a;i<s.length;i++){var o=s[i],l=r.cells[o.index];if(!l){n.x+=o.width;continue}e.applyStyles(l.styles),l.x=n.x,l.y=n.y;var c=t.callCellHooks(e,t.hooks.willDrawCell,l,r,o,n);if(c===!1){n.x+=o.width;continue}$Be(e,l,n);var u=l.getTextPos();QK(l.text,u.x,u.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,l,r,o,n),n.x+=o.width}n.y+=r.height}function $Be(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=tY(n.lineWidth,n.fillColor);a&&e.rect(t.x,r.y,t.width,t.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),BBe(e,t,r,n.lineWidth))}function BBe(e,t,r,n){var a,i,s,o;n.top&&(a=r.x,i=r.y,s=r.x+t.width,o=r.y,n.right&&(s+=.5*n.right),n.left&&(a-=.5*n.left),l(n.top,a,i,s,o)),n.bottom&&(a=r.x,i=r.y+t.height,s=r.x+t.width,o=r.y+t.height,n.right&&(s+=.5*n.right),n.left&&(a-=.5*n.left),l(n.bottom,a,i,s,o)),n.left&&(a=r.x,i=r.y,s=r.x,o=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.left,a,i,s,o)),n.right&&(a=r.x+t.width,i=r.y,s=r.x+t.width,o=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.right,a,i,s,o));function l(c,u,d,h,p){e.getDocument().setLineWidth(c),e.getDocument().line(u,d,h,p,"S")}}function uY(e,t,r,n){var a=t.settings.margin.bottom,i=t.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(a+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-a}function sv(e,t,r,n,a,i){a===void 0&&(a=[]),i===void 0&&(i=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!i&&t.foot.forEach(function(o){return bu(e,t,o,n,a)}),t.callEndPageHooks(e,n);var s=t.settings.margin;eY(e,t,r,n),fY(e),t.pageNumber++,n.x=s.left,n.y=s.top,r.y=s.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(o){return bu(e,t,o,n,a)}),e.applyStyles(e.userStyles))}function fY(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function UBe(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],a=iY(this,n),i=lY(this,a);return cY(this,i),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,a){QK(t,r,n,a,this)},e.API.autoTableSetDefaults=function(t){return ap.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){ap.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new ap(this),i=aY(a,t,window,r,!1),s=i.head,o=i.body,l=((n=s[0])===null||n===void 0?void 0:n.map(function(c){return c.content}))||[];return{columns:l,rows:o,data:o}}}var MA;function VBe(e,t){var r=iY(e,t),n=lY(e,r);cY(e,n)}try{if(typeof window<"u"&&window){var VR=window,zR=VR.jsPDF||((MA=VR.jspdf)===null||MA===void 0?void 0:MA.jsPDF);zR&&UBe(zR)}}catch(e){console.error("Could not apply autoTable plugin",e)}const zBe=()=>{const[e,t]=F.useState([]),[r,n]=F.useState(!0),[a,i]=F.useState(new Date),[s,o]=F.useState(new Date),[l,c]=F.useState("all"),[u,d]=F.useState("all"),[h,p]=F.useState("all"),[g,m]=F.useState(""),[v,y]=F.useState([]),{showToast:w}=mc(),{isDarkMode:b}=Zr(),{user:D}=ba(),P=async()=>{try{const U=(await sr(vt(Xe,"users"))).docs.map(G=>({id:G.id,...G.data()}));y(U)}catch(k){console.error("Error fetching users:",k),w("Failed to fetch users","error")}},O=async()=>{n(!0);try{let k=ir(vt(Xe,"activityLogs"),ja("time","desc"));a&&s?k=ir(vt(Xe,"activityLogs"),lr("time",">=",Sp(a).toISOString()),lr("time","<=",Wv(s).toISOString()),ja("time","desc")):a?k=ir(vt(Xe,"activityLogs"),lr("time",">=",Sp(a).toISOString()),ja("time","desc")):s&&(k=ir(vt(Xe,"activityLogs"),lr("time","<=",Wv(s).toISOString()),ja("time","desc")));let G=(await sr(k)).docs.map(z=>({id:z.id,user:z.data().user,role:z.data().role,detail:z.data().detail,time:z.data().time}));if(D&&D.role==="staff"&&(G=G.filter(z=>z.role!=="admin")),l!=="all"&&(G=G.filter(z=>z.user===l)),u!=="all"&&(G=G.filter(z=>{const X=z.detail.toLowerCase();return u==="inbound"?X.includes("added new product")||X.includes("edited product")||X.includes("quantity from")||X.includes("quantity to"):u==="outbound"?X.includes("units deducted from stock")||X.includes("deducted from stock"):!0})),h!=="all"&&(G=G.filter(z=>{const X=z.detail.toLowerCase();switch(h){case"add_product":return X.includes("added new product")||X.includes("added product");case"edit_product":return X.includes("edited product")||X.includes("updated product");case"delete_product":return X.includes("deleted product")||X.includes("removed product");case"stock_increase":return X.includes("quantity from")&&X.includes("quantity to")&&X.includes("increased")||X.includes("added to stock");case"stock_decrease":return X.includes("units deducted from stock")||X.includes("deducted from stock")||X.includes("decreased");case"move_product":return X.includes("moved")||X.includes("relocated");case"user_management":return X.includes("added new user")||X.includes("updated user")||X.includes("deleted user")||X.includes("changed username")||X.includes("changed email")||X.includes("changed password");case"profile_update":return X.includes("changed username")||X.includes("changed email")||X.includes("changed full name")||X.includes("changed their password");case"job_operations":return X.includes("job")||X.includes("task")||X.includes("work");case"location_operations":return X.includes("location")||X.includes("shelf")||X.includes("moved to");default:return!0}})),g.trim()){const z=g.toLowerCase();G=G.filter(X=>{const V=X.detail.toLowerCase(),H=X.user.toLowerCase(),re=X.role.toLowerCase(),ee=V.match(/"([^"]+)"/),I=ee?ee[1].toLowerCase():"";return V.includes(z)||H.includes(z)||re.includes(z)||I.includes(z)})}t(G)}catch(k){console.error("Error fetching activity logs:",k),w("Failed to fetch activity logs","error")}finally{n(!1)}};F.useEffect(()=>{P()},[]),F.useEffect(()=>{O()},[a,s,l,u,h,g,D]);const T=()=>{let k=v;return D&&D.role==="staff"&&(k=v.filter(U=>U.role!=="admin")),[{value:"all",label:"All Users"},...k.map(U=>({value:U.name,label:U.name}))]},S=[{value:"all",label:"All Activities"},{value:"inbound",label:"Inbound"},{value:"outbound",label:"Outbound"}],_=[{value:"all",label:"All Actions"},{value:"add_product",label:"Add Product"},{value:"edit_product",label:"Edit Product"},{value:"delete_product",label:"Delete Product"},{value:"stock_increase",label:"Stock Increase"},{value:"stock_decrease",label:"Stock Decrease"},{value:"move_product",label:"Move Product"},{value:"user_management",label:"User Management"},{value:"profile_update",label:"Profile Update"},{value:"job_operations",label:"Job Operations"},{value:"location_operations",label:"Location Operations"}],j=()=>{i(null),o(null)},N=()=>{try{const U=[["User","Role","Activity","Time"].join(","),...e.map(V=>[V.user,V.role,`"${V.detail.replace(/"/g,'""')}"`,Wt(new Date(V.time),"MMM d, yyyy h:mm a")].join(","))].join(`
`),G=new Blob([U],{type:"text/csv;charset=utf-8;"}),z=document.createElement("a"),X=URL.createObjectURL(G);z.setAttribute("href",X),z.setAttribute("download",`activity_logs_${Wt(new Date,"yyyy-MM-dd")}.csv`),z.style.visibility="hidden",document.body.appendChild(z),z.click(),document.body.removeChild(z)}catch(k){console.error("Error exporting to CSV:",k),w("Failed to export to CSV","error")}},E=()=>{var k,U,G;try{const z=new gr;z.setFontSize(16),z.text("Activity Logs Report",14,15),z.setFontSize(10);const X=a&&s?`${Wt(a,"MMM d, yyyy")} - ${Wt(s,"MMM d, yyyy")}`:a?`From ${Wt(a,"MMM d, yyyy")}`:s?`To ${Wt(s,"MMM d, yyyy")}`:"All Time";z.text(`Date Range: ${X}`,14,25),z.text(`User Filter: ${(k=T().find(V=>V.value===l))==null?void 0:k.label}`,14,30),z.text(`Activity Filter: ${(U=S.find(V=>V.value===u))==null?void 0:U.label}`,14,35),z.text(`Action Type Filter: ${(G=_.find(V=>V.value===h))==null?void 0:G.label}`,14,40),VBe(z,{startY:45,head:[["User","Role","Activity","Time"]],body:e.map(V=>[V.user,V.role,V.detail,Wt(new Date(V.time),"MMM d, yyyy h:mm a")]),styles:{fontSize:8},headStyles:{fillColor:[51,65,85]}}),z.save(`activity_logs_${Wt(new Date,"yyyy-MM-dd")}.pdf`)}catch(z){console.error("Error exporting to PDF:",z),w("Failed to export to PDF","error")}};return f.jsx("div",{className:`space-y-6 ${b?"bg-slate-900 text-white":"bg-white text-slate-800"}`,children:f.jsxs("div",{className:`rounded-lg shadow-sm border ${b?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[f.jsx("div",{className:`p-4 sm:p-6 border-b ${b?"border-slate-700":"border-slate-200"}`,children:f.jsxs("div",{className:"flex flex-col xs:flex-row xs:justify-between xs:items-center gap-4",children:[f.jsx("h2",{className:`text-xl font-semibold ${b?"text-white":"text-slate-800"}`,children:"Activity Logs"}),f.jsxs("div",{className:"flex flex-col xs:flex-row gap-2 w-full xs:w-auto",children:[f.jsxs("button",{onClick:N,className:`inline-flex items-center justify-center px-4 py-2 border shadow-sm text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 w-full xs:w-auto ${b?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,children:[f.jsx(K2,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),f.jsxs("button",{onClick:E,className:`inline-flex items-center justify-center px-4 py-2 border shadow-sm text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 w-full xs:w-auto ${b?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,children:[f.jsx(K2,{className:"h-4 w-4 mr-2"}),"Export PDF"]})]})]})}),f.jsxs("div",{className:`p-4 sm:p-6 border-b ${b?"border-slate-700":"border-slate-200"}`,children:[f.jsx("div",{className:"mb-4",children:f.jsx(kt,{type:"text",placeholder:"Search activities, product names, users...",value:g,onChange:k=>m(k.target.value),className:"w-full",icon:f.jsx(Ol,{size:16})})}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex flex-col xs:flex-row gap-2",children:[f.jsx("div",{className:"flex-1 min-w-0",children:f.jsx(Qr,{value:l,onChange:k=>c(k.target.value),options:T(),className:"w-full"})}),f.jsx("div",{className:"flex-1 min-w-0",children:f.jsx(Qr,{value:u,onChange:k=>d(k.target.value),options:S,className:"w-full"})}),f.jsx("div",{className:"flex-1 min-w-0",children:f.jsx(Qr,{value:h,onChange:k=>p(k.target.value),options:_,className:"w-full"})})]}),f.jsxs("div",{className:"flex flex-col xs:flex-row gap-2 items-stretch xs:items-center",children:[f.jsx("div",{className:"flex-1 min-w-0",children:f.jsx(tW,{startDate:a,endDate:s,onStartDateChange:i,onEndDateChange:o,onClear:j,className:"w-full"})}),f.jsxs(tt,{variant:"secondary",onClick:O,className:"flex items-center justify-center gap-2 px-4 py-2 min-w-[44px]",children:[f.jsx(Ua,{size:16}),f.jsx("span",{className:"hidden xs:inline",children:"Refresh"})]})]})]})]}),r?f.jsx("div",{className:"flex justify-center items-center h-32",children:f.jsx("div",{className:`animate-spin rounded-full h-8 w-8 border-b-2 ${b?"border-white":"border-slate-800"}`})}):e.length>0?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"hidden lg:block overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{children:f.jsxs("tr",{className:`${b?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${b?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"User"}),f.jsx("th",{className:`px-2 py-3 text-left text-xs font-medium ${b?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Role"}),f.jsx("th",{className:`px-2 py-3 text-left text-xs font-medium ${b?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Activity"}),f.jsx("th",{className:`px-2 py-3 text-left text-xs font-medium ${b?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Time"})]})}),f.jsx("tbody",{className:`divide-y ${b?"divide-slate-700":"divide-slate-200"}`,children:f.jsx(f2,{children:e.map(k=>f.jsxs(Gn.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:`${b?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[f.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${b?"text-slate-200":"text-slate-800"}`,children:k.user}),f.jsx("td",{className:`px-2 py-4 whitespace-nowrap text-sm ${b?"text-slate-200":"text-slate-800"}`,children:k.role}),f.jsx("td",{className:`px-2 py-4 text-sm ${b?"text-slate-200":"text-slate-800"}`,children:k.detail}),f.jsx("td",{className:`px-2 py-4 whitespace-nowrap text-sm ${b?"text-slate-200":"text-slate-800"}`,children:Wt(new Date(k.time),"MMM d, yyyy h:mm:ss a")})]},k.id))})})]})}),f.jsx("div",{className:"hidden md:block lg:hidden overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{children:f.jsxs("tr",{className:`${b?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[f.jsx("th",{className:`px-3 py-3 text-left text-xs font-medium ${b?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"User"}),f.jsx("th",{className:`px-2 py-3 text-left text-xs font-medium ${b?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Activity"}),f.jsx("th",{className:`px-2 py-3 text-left text-xs font-medium ${b?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Time"})]})}),f.jsx("tbody",{className:`divide-y ${b?"divide-slate-700":"divide-slate-200"}`,children:f.jsx(f2,{children:e.map(k=>f.jsxs(Gn.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:`${b?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[f.jsx("td",{className:`px-3 py-4 whitespace-nowrap text-sm ${b?"text-slate-200":"text-slate-800"}`,children:f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"font-medium",children:k.user}),f.jsx("span",{className:`text-xs ${b?"text-slate-400":"text-slate-500"}`,children:k.role})]})}),f.jsx("td",{className:`px-2 py-4 text-sm ${b?"text-slate-200":"text-slate-800"}`,children:f.jsx("div",{className:"max-w-xs truncate",title:k.detail,children:k.detail})}),f.jsx("td",{className:`px-2 py-4 whitespace-nowrap text-sm ${b?"text-slate-200":"text-slate-800"}`,children:Wt(new Date(k.time),"MMM d, h:mm a")})]},k.id))})})]})}),f.jsx("div",{className:"block md:hidden space-y-3 p-4",children:f.jsx(f2,{children:e.map(k=>f.jsxs(Gn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:`rounded-lg border ${b?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-4 shadow-sm`,children:[f.jsxs("div",{className:"flex justify-between items-start mb-3",children:[f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:`font-semibold text-sm ${b?"text-blue-400":"text-blue-700"}`,children:k.user}),f.jsx("span",{className:`text-xs ${b?"text-slate-400":"text-slate-500"}`,children:k.role})]}),f.jsx("span",{className:`text-xs ${b?"text-slate-400":"text-slate-500"}`,children:Wt(new Date(k.time),"h:mm a")})]}),f.jsx("div",{className:`text-sm leading-relaxed ${b?"text-slate-200":"text-slate-800"}`,children:k.detail}),f.jsx("div",{className:"mt-2 text-xs",children:f.jsx("span",{className:b?"text-slate-400":"text-slate-600",children:Wt(new Date(k.time),"MMM d, yyyy")})})]},k.id))})})]}):f.jsx("div",{className:`text-center py-8 ${b?"text-slate-400":"text-slate-500"}`,children:"No activity logs found"})]})})},qBe=({startDate:e,endDate:t,onStartDateChange:r,onEndDateChange:n,onClear:a,className:i=""})=>{const{isDarkMode:s}=Zr(),[o,l]=F.useState(!1),[c,u]=F.useState(new Date),[d,h]=F.useState(null);F.useEffect(()=>{const j=N=>{N.target.closest(".calendar-date-range-picker")||l(!1)};return o&&document.addEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)}},[o]);const p=j=>{!e||e&&t?(r(j),n(null)):e&&!t&&(j<e?(n(e),r(j)):n(j))},g=()=>{a(),l(!1)},m=()=>!e&&!t?"Select date range":e&&t?`${Wt(e,"MMM d, yyyy")} - ${Wt(t,"MMM d, yyyy")}`:e?`From ${Wt(e,"MMM d, yyyy")}`:t?`To ${Wt(t,"MMM d, yyyy")}`:"Select date range",v=j=>!e||!t?!1:pD(j,{start:e,end:t}),y=j=>e&&sD(j,e)||t&&sD(j,t),w=j=>!d||!e||t?!1:pD(j,{start:e<d?e:d,end:e<d?d:e}),b=j=>{const N="w-8 h-8 flex items-center justify-center text-sm rounded-full cursor-pointer transition-colors",E=hD(j,c),k=y(j),U=v(j),G=w(j);return E?k?`${N} bg-blue-600 text-white font-semibold`:U?`${N} bg-blue-100 text-blue-900`:G?`${N} ${s?"bg-slate-600 text-white":"bg-slate-200 text-slate-800"}`:`${N} ${s?"text-slate-200 hover:bg-slate-600":"text-slate-700 hover:bg-slate-100"}`:`${N} ${s?"text-slate-500":"text-slate-300"}`},D=hue(c),P=oz(c),O=rue(D),T=pue(P),S=due({start:O,end:T}),_=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return f.jsxs("div",{className:`relative calendar-date-range-picker ${i}`,children:[f.jsxs("button",{onClick:()=>l(!o),className:`flex items-center justify-between w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600 focus:ring-slate-400":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50 focus:ring-slate-500"}`,children:[f.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[f.jsx(m9,{className:"h-4 w-4 flex-shrink-0"}),f.jsx("span",{className:"whitespace-nowrap overflow-hidden text-ellipsis",children:m()})]}),(e||t)&&f.jsx("span",{onClick:j=>{j.stopPropagation(),g()},className:`ml-3 p-1 rounded-full hover:bg-opacity-80 flex-shrink-0 cursor-pointer ${s?"hover:bg-slate-600":"hover:bg-slate-200"}`,title:"Clear date range",role:"button",tabIndex:0,onKeyDown:j=>{(j.key==="Enter"||j.key===" ")&&(j.preventDefault(),g())},children:f.jsx(hp,{className:"h-3 w-3"})})]}),o&&f.jsx("div",{className:`absolute top-full left-0 mt-1 z-50 p-4 border rounded-lg shadow-lg w-80 ${s?"bg-slate-800 border-slate-600 text-white":"bg-white border-slate-200 text-slate-800"}`,children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("button",{onClick:()=>u(Mfe(c,1)),className:`p-1 rounded-md hover:bg-opacity-80 ${s?"hover:bg-slate-600":"hover:bg-slate-100"}`,children:f.jsx(IZ,{className:"h-4 w-4"})}),f.jsx("h3",{className:`text-lg font-semibold ${s?"text-white":"text-slate-800"}`,children:Wt(c,"MMMM yyyy")}),f.jsx("button",{onClick:()=>u(nz(c,1)),className:`p-1 rounded-md hover:bg-opacity-80 ${s?"hover:bg-slate-600":"hover:bg-slate-100"}`,children:f.jsx(DZ,{className:"h-4 w-4"})})]}),f.jsx("div",{className:"grid grid-cols-7 gap-1",children:_.map(j=>f.jsx("div",{className:`text-center text-xs font-medium py-2 ${s?"text-slate-400":"text-slate-500"}`,children:j},j))}),f.jsx("div",{className:"grid grid-cols-7 gap-1",children:S.map(j=>f.jsx("button",{onClick:()=>p(j),onMouseEnter:()=>h(j),onMouseLeave:()=>h(null),className:b(j),disabled:!hD(j,c),children:Wt(j,"d")},j.toISOString()))}),f.jsxs("div",{className:"flex gap-2 pt-2 border-t border-slate-200 dark:border-slate-600",children:[f.jsx("button",{onClick:()=>l(!1),className:`flex-1 px-3 py-2 text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600 focus:ring-slate-400":"border border-slate-300 text-slate-700 bg-white hover:bg-slate-50 focus:ring-slate-500"}`,children:"Apply"}),f.jsx("button",{onClick:g,className:`px-3 py-2 text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 ${s?"border border-red-600 text-red-200 bg-red-700 hover:bg-red-600 focus:ring-red-400":"border border-red-300 text-red-700 bg-white hover:bg-red-50 focus:ring-red-500"}`,children:"Clear"})]})]})})]})},WBe=()=>{const[e,t]=F.useState("daily"),[r,n]=F.useState(Lr(new Date,7)),[a,i]=F.useState(new Date),[s,o]=F.useState([]),[l,c]=F.useState([]),[u,d]=F.useState([]),[h,p]=F.useState({totalOrders:0,totalStock:0,totalInventoryValue:0,totalDamagedProducts:0,yesterdayOrders:0,yesterdayStockChange:0,yesterdayRevenue:0,totalDeductions:0,previousDeductions:0,todayStockAdditions:0,todayInventoryValueAdditions:0}),[g,m]=F.useState(!0),{isDarkMode:v}=Zr(),{user:y}=ba(),w=F.useCallback(async()=>{m(!0);try{const _=a||new Date,j=r||Lr(_,7),N=ir(vt(Xe,"orders"),lr("createdAt",">=",nr.fromDate(j)),lr("createdAt","<=",nr.fromDate(_))),k=(await sr(N)).docs.map(Ne=>{var Ie,We,it;return{id:Ne.id,...Ne.data(),createdAt:(Ie=Ne.data().createdAt)==null?void 0:Ie.toDate(),updatedAt:(We=Ne.data().updatedAt)==null?void 0:We.toDate(),shippedTime:(it=Ne.data().shippedTime)==null?void 0:it.toDate()}}),U=ir(vt(Xe,"inventory")),z=(await sr(U)).docs.map(Ne=>({id:Ne.id,...Ne.data(),lastUpdated:Ne.data().lastUpdated instanceof nr?Ne.data().lastUpdated.toDate():new Date(Ne.data().lastUpdated)})),X=ir(vt(Xe,"activityLogs"),lr("time",">=",j.toISOString()),lr("time","<=",_.toISOString()),ja("time","desc"),Bd(500)),H=(await sr(X)).docs.map(Ne=>({id:Ne.id,...Ne.data()}));d(H),o(z),c(k);const re=z.reduce((Ne,Ie)=>Ne+(Ie.quantity||0),0),ee=z.reduce((Ne,Ie)=>Ne+(Ie.quantity||0)*(Ie.price||0),0),I=k.length,M=Lr(new Date,1),q=new Date,K=k.filter(Ne=>{const Ie=Ne.createdAt;return Ie>=M&&Ie<=q}),J=K.length,se=K.reduce((Ne,Ie)=>Ne+(Ie.totalAmount||0),0),he=a||new Date,ie=r||Lr(he,7),xe=H.filter(Ne=>{const Ie=new Date(Ne.time);return Ie>=ie&&Ie<=he}).filter(Ne=>{const Ie=Ne.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(Ie){const[,xt]=Ie;return z.some(St=>St.name===xt)}const We=Ne.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(We){const[,xt]=We;return z.some(St=>St.name===xt)}return Ne.detail.match(/(\d+) units deducted from stock/)||[/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(xt=>xt.test(Ne.detail)),!0}),W=he.getTime()-ie.getTime(),Pe=new Date(ie.getTime()-W),Ce=new Date(ie.getTime()),ce=H.filter(Ne=>{const Ie=new Date(Ne.time);return Ie>=Pe&&Ie<=Ce}).filter(Ne=>{const Ie=Ne.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(Ie){const[,xt]=Ie;return z.some(St=>St.name===xt)}const We=Ne.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(We){const[,xt]=We;return z.some(St=>St.name===xt)}return Ne.detail.match(/(\d+) units deducted from stock/)||[/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(xt=>xt.test(Ne.detail)),!0}),Fe=xe.reduce((Ne,Ie)=>{const We=Ie.detail.match(/(\d+) units deducted/);return Ne+(We?parseInt(We[1]):0)},0),Ge=ce.reduce((Ne,Ie)=>{const We=Ie.detail.match(/(\d+) units deducted/);return Ne+(We?parseInt(We[1]):0)},0),Le=xe.reduce((Ne,Ie)=>{const We=Ie.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(We){const[,ht,xt]=We;if(z.find(mt=>mt.name===ht))return Ne+parseInt(xt)}const it=Ie.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(it){const[,ht,xt,St]=it;if(z.find(ut=>ut.name===ht)){const ut=parseInt(St)-parseInt(xt);if(ut>0)return Ne+ut}}return Ne},0),Ye=xe.reduce((Ne,Ie)=>{const We=Ie.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(We){const[,ht,xt]=We,St=z.find(mt=>mt.name===ht);if(St){const mt=St.price||0;return Ne+parseInt(xt)*mt}}const it=Ie.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(it){const[,ht,xt,St]=it,mt=z.find(ut=>ut.name===ht);if(mt){const ut=parseInt(St)-parseInt(xt);if(ut>0){const Xt=mt.price||0;return Ne+ut*Xt}}}return Ne},0),$e=xe.reduce((Ne,Ie)=>{if([/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(ht=>ht.test(Ie.detail))){let ht=0;const xt=/(\d+)\s+units?\s+deducted\s+from\s+stock.*Reason:\s*damaged/i,St=Ie.detail.match(xt);if(St)ht=parseInt(St[1]);else{const mt=[/damaged\s+items\s+from\s+(\d+)\s+to\s+(\d+)/i,/(\d+)\s+damaged\s+items?/i,/damaged\s+(\d+)\s+items?/i,/damagedItems?:\s*(\d+)/i,/(\d+)\s+units?\s+damaged/i,/damaged\s+(\d+)\s+units?/i];for(const ut of mt){const Xt=Ie.detail.match(ut);if(Xt){if(Xt.length===3){const Kt=parseInt(Xt[1]),jr=parseInt(Xt[2]);ht=Math.abs(Kt-jr)}else ht=parseInt(Xt[1]);break}}}return{incidents:Ne.incidents+1,units:Ne.units+(ht>0?ht:1)}}return Ne},{incidents:0,units:0}).incidents;p({totalOrders:I,totalStock:re,totalInventoryValue:ee,totalDamagedProducts:$e,yesterdayOrders:J,yesterdayStockChange:0,yesterdayRevenue:se,totalDeductions:Fe,previousDeductions:Ge,todayStockAdditions:Le,todayInventoryValueAdditions:Ye})}catch(_){console.error("Error fetching data:",_)}finally{m(!1)}},[r,a]),b=()=>{n(null),i(null)};if(F.useEffect(()=>{w()},[w]),F.useEffect(()=>{},[e]),!y||y.role!=="admin"&&y.role!=="staff"&&y.role!=="manager")return f.jsx(j4,{to:"/",replace:!0});const D=()=>{const _=[],j=new Map,N=new Date;let E;switch(e){case"hourly":E=mD(N,24);break;case"daily":E=Lr(N,7);break;case"weekly":E=Lr(N,30);break;case"monthly":E=Lr(N,90);break;default:E=Lr(N,7)}return u.filter(G=>{const z=new Date(G.time);return z>=E&&z<=N}).filter(G=>{const z=G.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(z){const[,V]=z;return s.some(H=>H.name===V)}const X=G.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(X){const[,V]=X;return s.some(H=>H.name===V)}return!0}).forEach(G=>{let z=0,X=!1,V="";const H=G.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(H){const[,ee,I]=H;s.find(q=>q.name===ee)&&(z=parseInt(I),V=ee,X=!0)}const re=G.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(re){const[,ee,I,M]=re;if(s.find(K=>K.name===ee)){const K=parseInt(M)-parseInt(I);K>0&&(z=K,V=ee,X=!0)}}if(X){const ee=new Date(G.time);let I;switch(e){case"hourly":I=Wt(ee,"HH:mm");break;case"daily":I=Wt(ee,"MMM dd");break;case"weekly":I=Wt(ee,"'Week' w");break;case"monthly":I=Wt(ee,"MMM yyyy");break;default:I=Wt(ee,"MMM dd")}const M=j.get(I)||{activities:0,units:0,uniqueProducts:new Set};M.uniqueProducts.add(V),j.set(I,{activities:M.activities+1,units:M.units+z,uniqueProducts:M.uniqueProducts})}}),j.forEach((G,z)=>{_.push({date:z,activities:G.activities,units:G.units,uniqueProducts:G.uniqueProducts.size})}),_.sort((G,z)=>{const X=new Date(G.date),V=new Date(z.date);return X.getTime()-V.getTime()})},P=()=>{const _=[],j=new Map,N=new Date;let E;switch(e){case"hourly":E=mD(N,24);break;case"daily":E=Lr(N,7);break;case"weekly":E=Lr(N,30);break;case"monthly":E=Lr(N,90);break;default:E=Lr(N,7)}return u.filter(G=>{const z=new Date(G.time);return z>=E&&z<=N}).filter(G=>(G.detail.match(/(\d+) units deducted from stock/),!0)).forEach(G=>{const z=G.detail.match(/(\d+) units deducted from stock/);if(z){const X=new Date(G.time);let V;switch(e){case"hourly":V=Wt(X,"HH:mm");break;case"daily":V=Wt(X,"MMM dd");break;case"weekly":V=Wt(X,"'Week' w");break;case"monthly":V=Wt(X,"MMM yyyy");break;default:V=Wt(X,"MMM dd")}const H=j.get(V)||0;j.set(V,H+parseInt(z[1]))}}),j.forEach((G,z)=>{_.push({date:z,products:G})}),_.sort((G,z)=>{const X=new Date(G.date),V=new Date(z.date);return X.getTime()-V.getTime()})},O=()=>{const _=[],j=new Map,N=[],E=a||new Date,k=r||Lr(E,7);u.filter(X=>{const V=new Date(X.time);return V>=k&&V<=E}).filter(X=>([/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(H=>H.test(X.detail)),!0)).forEach(X=>{if([/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(re=>re.test(X.detail))){const re=new Date(X.time);let ee;switch(e){case"hourly":ee=Wt(re,"HH:mm");break;case"daily":ee=Wt(re,"MMM dd");break;case"weekly":ee=Wt(re,"'Week' w");break;case"monthly":ee=Wt(re,"MMM yyyy");break;default:ee=Wt(re,"MMM dd")}let I=0;const M=/(\d+)\s+units?\s+deducted\s+from\s+stock.*Reason:\s*damaged/i,q=X.detail.match(M);if(q)I=parseInt(q[1]);else{const he=[/damaged\s+items\s+from\s+(\d+)\s+to\s+(\d+)/i,/(\d+)\s+damaged\s+items?/i,/damaged\s+(\d+)\s+items?/i,/damagedItems?:\s*(\d+)/i,/(\d+)\s+units?\s+damaged/i,/damaged\s+(\d+)\s+units?/i];for(const ie of he){const ge=X.detail.match(ie);if(ge){if(ge.length===3){const xe=parseInt(ge[1]),W=parseInt(ge[2]);I=Math.abs(xe-W)}else I=parseInt(ge[1]);break}}}let K="Unknown Product";const J=X.detail.match(/"([^"]+)"/);J&&(K=J[1]),N.push({date:ee,time:Wt(re,"HH:mm"),user:X.user,productName:K,units:I>0?I:1,detail:X.detail}),j.has(ee)||j.set(ee,{incidents:0,units:0,productNames:new Set});const se=j.get(ee);se.incidents+=1,se.units+=I>0?I:1,se.productNames.add(K)}}),j.forEach((X,V)=>{_.push({date:V,products:X.incidents,units:X.units,productNames:Array.from(X.productNames)})});const z=_.sort((X,V)=>new Date(X.date).getTime()-new Date(V.date).getTime());return z.detailedIncidents=N.sort((X,V)=>{const H=new Date(X.date+" "+X.time);return new Date(V.date+" "+V.time).getTime()-H.getTime()}),z},T=()=>{try{const _=Wt(new Date,"yyyy-MM-dd-HH-mm"),j=e==="hourly"?"Last 24 Hours":e==="daily"?"Last 7 Days":e==="weekly"?"Last Month":e==="monthly"?"Last 3 Months":"Last 6 Months",N=s.map(ee=>[ee.name,ee.quantity,ee.price,`${ee.locationCode}-${ee.shelfNumber}`,ee.status,ee.damagedItems]),E=D(),k=P(),U=O(),G=Math.max(E.length,k.length,U.length,N.length),z=[];z.push(`Warehouse Analytics Report - ${j} - Time Range: ${e.charAt(0).toUpperCase()+e.slice(1)} - Generated: ${Wt(new Date,"yyyy-MM-dd HH:mm:ss")}`),z.push(""),z.push("SUMMARY STATISTICS");const X=`Total Stock Added (${j}),${h.todayStockAdditions},Total Units Deducted (${j}),${h.totalDeductions},Total Damaged Products (${j}),${h.totalDamagedProducts}${Us(y)?`,Total Inventory Value,${h.totalInventoryValue.toLocaleString("en-GB")}`:`,Total Products,${s.length}`}`;z.push(X),z.push(""),z.push("INBOUND DATA,,,OUTBOUND DATA,,DAMAGED DATA,,,INVENTORY DATA,,,,,"),z.push("Date,Activities,Units Added,Affected Products,Date,Units Deducted,Date,Incidents,Units Damaged,Product Name,Quantity,Price,Location,Status,Damaged Items");for(let ee=0;ee<G;ee++){const I=[];if(ee<E.length){const M=E[ee];I.push(M.date,M.activities,M.units,M.uniqueProducts)}else I.push("","","","");if(ee<k.length){const M=k[ee];I.push(M.date,M.products)}else I.push("","");if(ee<U.length){const M=U[ee];I.push(M.date,M.products,M.units)}else I.push("","","");if(ee<N.length){const M=N[ee];I.push(...M)}else I.push("","","","","","");z.push(I.join(","))}z.push(""),z.push("DETAILED DAMAGED PRODUCTS INCIDENTS"),z.push("Date,Time,User,Product Name,Units Damaged,Details"),U.detailedIncidents&&U.detailedIncidents.length>0?U.detailedIncidents.forEach(ee=>{z.push(`${ee.date},${ee.time},${ee.user},${ee.productName},${ee.units},"${ee.detail.replace(/"/g,'""')}"`)}):z.push("No detailed incidents available,,,,,");const V=z.join(`
`),H=new Blob([V],{type:"text/csv;charset=utf-8;"}),re=document.createElement("a");re.href=URL.createObjectURL(H),re.download=`warehouse-report-${j}-${_}.csv`,re.click(),URL.revokeObjectURL(re.href)}catch(_){console.error("Error exporting CSV:",_),alert("Failed to export CSV. Please try again.")}},S=()=>{try{const _=e==="hourly"?"Last 24 Hours":e==="daily"?"Last 7 Days":e==="weekly"?"Last Month":e==="monthly"?"Last 3 Months":"Last 6 Months",j=D(),N=P(),E=O(),k=E.detailedIncidents||[];(!k||k.length===0)&&console.log("No detailed incidents found, generating on the fly...");const U=`
        <html>
          <head>
            <title>Warehouse Analytics Report - ${_}</title>
            <style>
              body { font-family: Arial, sans-serif; margin: 20px; color: #333; }
              .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #2563eb; padding-bottom: 20px; }
              .section { margin-bottom: 30px; page-break-inside: avoid; }
              .section h2 { color: #2563eb; border-bottom: 1px solid #2563eb; padding-bottom: 5px; margin-bottom: 15px; }
              table { width: 100%; border-collapse: collapse; margin-top: 10px; font-size: 12px; }
              th, td { border: 1px solid #ddd; padding: 6px; text-align: left; }
              th { background-color: #f8fafc; font-weight: bold; }
              .detailed-table th, .detailed-table td { font-size: 10px; padding: 4px; }
              .detailed-table td { max-width: 150px; word-wrap: break-word; }
              .stats-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin-bottom: 30px; }
              .stat-card { border: 1px solid #e2e8f0; padding: 15px; text-align: center; border-radius: 8px; }
              .stat-value { font-size: 24px; font-weight: bold; color: #2563eb; margin-bottom: 5px; }
              .stat-title { font-size: 14px; color: #64748b; }
              .chart-summary { background-color: #f8fafc; padding: 15px; border-radius: 8px; margin-bottom: 15px; }
              @media print { 
                body { margin: 0; } 
                .section { page-break-inside: avoid; }
              }
            </style>
          </head>
          <body>
            <div class="header">
              <h1>Warehouse Analytics Report</h1>
              <p><strong>Time Period:</strong> ${_}</p>
              <p><strong>Time Range:</strong> ${e.charAt(0).toUpperCase()+e.slice(1)} View</p>
              <p><strong>Generated:</strong> ${Wt(new Date,"yyyy-MM-dd HH:mm:ss")}</p>
            </div>
            
            <div class="stats-grid">
              <div class="stat-card">
                <div class="stat-value">${h.todayStockAdditions}</div>
                <div class="stat-title">Total Stock Added<br/>(${_})</div>
              </div>
              <div class="stat-card">
                <div class="stat-value">${h.totalDeductions}</div>
                <div class="stat-title">Total Units Deducted<br/>(${_})</div>
              </div>
              <div class="stat-card">
                <div class="stat-value">${h.totalDamagedProducts}</div>
                <div class="stat-title">Total Damaged Products<br/>(${_})</div>
              </div>
              ${Us(y)?`
              <div class="stat-card">
                <div class="stat-value">${h.totalInventoryValue.toLocaleString("en-GB")}</div>
                <div class="stat-title">Total Inventory Value</div>
              </div>
              `:`
              <div class="stat-card">
                <div class="stat-value">${s.length}</div>
                <div class="stat-title">Total Products</div>
              </div>
              `}
            </div>
            
            <div class="section">
              <h2>Inbound Products Analysis (${e.charAt(0).toUpperCase()+e.slice(1)} View)</h2>
              <div class="chart-summary">
                <p><strong>Total Data Points:</strong> ${j.length}</p>
                <p><strong>Total Activities:</strong> ${j.reduce((z,X)=>z+X.activities,0)}</p>
                <p><strong>Total Units Added:</strong> ${j.reduce((z,X)=>z+X.units,0)}</p>
                <p><strong>Total Products Affected:</strong> ${j.reduce((z,X)=>z+X.uniqueProducts,0)}</p>
              </div>
              <table>
                <thead>
                  <tr>
                    <th>Date</th>
                    <th>Activities</th>
                    <th>Units Added</th>
                    <th>Affected Products</th>
                  </tr>
                </thead>
                <tbody>
                  ${j.slice(0,15).map(z=>`
                    <tr>
                      <td>${z.date}</td>
                      <td>${z.activities}</td>
                      <td>${z.units}</td>
                      <td>${z.uniqueProducts}</td>
                    </tr>
                  `).join("")}
                  ${j.length>15?`<tr><td colspan="4"><em>... and ${j.length-15} more entries</em></td></tr>`:""}
                </tbody>
              </table>
            </div>
            
            <div class="section">
              <h2>Outbound Products Analysis (${e.charAt(0).toUpperCase()+e.slice(1)} View)</h2>
              <div class="chart-summary">
                <p><strong>Total Data Points:</strong> ${N.length}</p>
                <p><strong>Total Units Deducted:</strong> ${N.reduce((z,X)=>z+X.products,0)}</p>
              </div>
              <table>
                <thead>
                  <tr>
                    <th>Date</th>
                    <th>Units Deducted</th>
                  </tr>
                </thead>
                <tbody>
                  ${N.slice(0,15).map(z=>`
                    <tr>
                      <td>${z.date}</td>
                      <td>${z.products}</td>
                    </tr>
                  `).join("")}
                  ${N.length>15?`<tr><td colspan="2"><em>... and ${N.length-15} more entries</em></td></tr>`:""}
                </tbody>
              </table>
            </div>
            
            <div class="section">
              <h2>Damaged Products Analysis (${e.charAt(0).toUpperCase()+e.slice(1)} View)</h2>
              <div class="chart-summary">
                <p><strong>Total Data Points:</strong> ${E.length}</p>
                <p><strong>Total Incidents:</strong> ${E.reduce((z,X)=>z+X.products,0)}</p>
                <p><strong>Total Units Damaged:</strong> ${E.reduce((z,X)=>z+X.units,0)}</p>
                <p><strong>Detailed Incidents Available:</strong> ${k.length}</p>
                <p><strong>Note:</strong> Detailed incident breakdown with user information is shown below.</p>
              </div>
              
              <h3>Summary by Date</h3>
              <table>
                <thead>
                  <tr>
                    <th>Date</th>
                    <th>Incidents</th>
                    <th>Units Damaged</th>
                    <th>Product Names</th>
                  </tr>
                </thead>
                <tbody>
                  ${E.slice(0,15).map(z=>`
                    <tr>
                      <td>${z.date}</td>
                      <td>${z.products}</td>
                      <td>${z.units}</td>
                      <td>${z.productNames?z.productNames.join(", "):"N/A"}</td>
                    </tr>
                  `).join("")}
                  ${E.length>15?`<tr><td colspan="4"><em>... and ${E.length-15} more entries</em></td></tr>`:""}
                </tbody>
              </table>
              
              <h3>Detailed Incidents by Entry</h3>
              <table class="detailed-table">
                <thead>
                  <tr>
                    <th>Date & Time</th>
                    <th>User</th>
                    <th>Product</th>
                    <th>Units Damaged</th>
                    <th>Details</th>
                  </tr>
                </thead>
                <tbody>
                  ${k.length>0?k.slice(0,50).map(z=>`
                    <tr>
                      <td>${z.date} ${z.time}</td>
                      <td>${z.user}</td>
                      <td>${z.productName}</td>
                      <td>${z.units}</td>
                      <td style="max-width: 200px; word-wrap: break-word;">${z.detail}</td>
                    </tr>
                  `).join(""):'<tr><td colspan="5">No detailed incidents available</td></tr>'}
                  ${k.length>50?`<tr><td colspan="5"><em>... and ${k.length-50} more incidents</em></td></tr>`:""}
                </tbody>
              </table>
            </div>
            
            <div class="section">
              <h2>Inventory Summary (${s.length} items)</h2>
              <div class="chart-summary">
                <p><strong>Total Products:</strong> ${s.length}</p>
                <p><strong>Active Products:</strong> ${s.filter(z=>z.status==="active").length}</p>
                <p><strong>Pending Products:</strong> ${s.filter(z=>z.status==="pending").length}</p>
                <p><strong>Total Quantity:</strong> ${s.reduce((z,X)=>z+(X.quantity||0),0)}</p>
              </div>
              <table>
                <thead>
                  <tr>
                    <th>Product</th>
                    <th>Quantity</th>
                    <th>Price</th>
                    <th>Location</th>
                    <th>Status</th>
                  </tr>
                </thead>
                <tbody>
                  ${s.map(z=>`
                    <tr>
                      <td>${z.name}</td>
                      <td>${z.quantity}</td>
                      <td>${z.price&&!isNaN(z.price)?`${z.price.toFixed(2)}`:"Not set"}</td>
                      <td>${z.locationCode}-${z.shelfNumber}</td>
                      <td>${z.status}</td>
                    </tr>
                  `).join("")}
                </tbody>
              </table>
            </div>
          </body>
        </html>
      `,G=window.open("","_blank");G?(G.document.write(U),G.document.close(),G.focus(),setTimeout(()=>{G.print()},500)):alert("Please allow pop-ups to export PDF")}catch(_){console.error("Error exporting PDF:",_),alert("Failed to export PDF. Please try again.")}};return f.jsxs("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6",children:[f.jsx("style",{children:`
          @keyframes fadeInUp {
            from {
              opacity: 0;
              transform: translateY(1rem);
            }
            to {
              opacity: 1;
              transform: translateY(0);
            }
          }
          .animate-fade-in-up {
            animation: fadeInUp 0.5s ease-out forwards;
          }
        `}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"text-center md:text-left",children:[f.jsx("h1",{className:`text-xl md:text-2xl font-semibold ${v?"text-white":"text-slate-800"}`,children:"Reports and Analytics"}),f.jsx("p",{className:`${v?"text-slate-400":"text-slate-500"} mt-1 text-sm md:text-base`,children:"Admin Dashboard - Comprehensive warehouse insights"})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-between items-start sm:items-center",children:[f.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[f.jsxs("button",{onClick:T,className:`flex-1 sm:flex-none inline-flex items-center justify-center px-3 py-2 border shadow-sm text-sm leading-4 font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 animate-fade-in-up ${v?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,style:{animationDelay:"200ms"},children:[f.jsx(K2,{className:"h-4 w-4 mr-2"}),f.jsx("span",{className:"hidden xs:inline",children:"Export "}),"CSV"]}),f.jsxs("button",{onClick:S,className:`flex-1 sm:flex-none inline-flex items-center justify-center px-3 py-2 border shadow-sm text-sm leading-4 font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 animate-fade-in-up ${v?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,style:{animationDelay:"400ms"},children:[f.jsx(K2,{className:"h-4 w-4 mr-2"}),f.jsx("span",{className:"hidden xs:inline",children:"Export "}),"PDF"]})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[f.jsx("div",{className:"w-full sm:w-auto",children:f.jsx(Qr,{value:e,onChange:_=>t(_.target.value),options:[{value:"hourly",label:"Hourly"},{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"}],className:"animate-fade-in-up text-sm w-full sm:w-auto",style:{animationDelay:"100ms"}})}),f.jsx("div",{className:"w-full sm:w-auto",children:f.jsx(qBe,{startDate:r,endDate:a,onStartDateChange:n,onEndDateChange:i,onClear:b,className:"animate-fade-in-up text-sm w-full sm:w-auto"})}),f.jsx(tt,{variant:"secondary",onClick:w,className:`flex items-center justify-center gap-2 w-full sm:w-auto ${g?"opacity-50 cursor-not-allowed":""}`,disabled:g,children:f.jsx(Ua,{size:16,className:g?"animate-spin":""})})]})]})]}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:g?f.jsxs(f.Fragment,{children:[f.jsx(yf,{}),f.jsx(yf,{}),f.jsx(yf,{}),f.jsx(yf,{})]}):f.jsxs(f.Fragment,{children:[f.jsx(Ya,{title:`Total Stock Added (${r&&a?`${Wt(r,"MMM d")} - ${Wt(a,"MMM d, yyyy")}`:r?`From ${Wt(r,"MMM d, yyyy")}`:a?`To ${Wt(a,"MMM d, yyyy")}`:"Last 7 Days"})`,value:h.todayStockAdditions,icon:f.jsx(Mo,{size:24,className:"text-blue-600"})}),f.jsx(Ya,{title:`Total Units Deducted (${r&&a?`${Wt(r,"MMM d")} - ${Wt(a,"MMM d, yyyy")}`:r?`From ${Wt(r,"MMM d, yyyy")}`:a?`To ${Wt(a,"MMM d, yyyy")}`:"Last 7 Days"})`,value:h.totalDeductions,icon:f.jsx(b9,{size:24,className:"text-blue-600"})}),f.jsx(Ya,{title:`Total Damaged Products (${r&&a?`${Wt(r,"MMM d")} - ${Wt(a,"MMM d, yyyy")}`:r?`From ${Wt(r,"MMM d, yyyy")}`:a?`To ${Wt(a,"MMM d, yyyy")}`:"Last 7 Days"})`,value:h.totalDamagedProducts,icon:f.jsx(ch,{size:24,className:"text-blue-600"})}),Us(y)?f.jsx(Ya,{title:"Total Inventory Value",value:`${h.totalInventoryValue.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:f.jsx(Y2,{size:24,className:"text-blue-600"})}):f.jsx(Ya,{title:"Total Products",value:s.length,icon:f.jsx(Mo,{size:24,className:"text-purple-600"})})]})}),g?f.jsx("div",{className:"flex justify-center items-center h-64",children:f.jsx("div",{className:`animate-spin rounded-full h-8 w-8 border-b-2 ${v?"border-white":"border-slate-800"}`})}):f.jsx(f.Fragment,{children:f.jsxs("div",{className:"space-y-4 md:space-y-6",children:[f.jsxs("div",{className:`${v?"bg-slate-800":"bg-white"} p-3 md:p-4 rounded-lg shadow-sm`,children:[f.jsx("h3",{className:`text-base md:text-lg font-medium ${v?"text-white":"text-slate-800"} mb-3 md:mb-4`,children:"Inbound Products - Daily Additions & Units"}),f.jsx("div",{className:"h-64 md:h-80",children:f.jsx(X0,{width:"100%",height:"100%",children:f.jsxs(Z0,{data:D(),children:[f.jsx(rh,{strokeDasharray:"3 3",stroke:v?"#334155":"#e2e8f0"}),f.jsx(ru,{dataKey:"date",stroke:v?"#94a3b8":"#64748b"}),f.jsx(nu,{stroke:v?"#94a3b8":"#64748b"}),f.jsx(vs,{contentStyle:{backgroundColor:v?"#1e293b":"#ffffff",border:v?"1px solid #334155":"1px solid #e2e8f0",color:v?"#e2e8f0":"#1e293b"},formatter:(_,j)=>j==="Inbound Activities"?[`${_} activities`,j]:j==="Units Added"?[`${_} units`,j]:j==="Affected Products"?[`${_} products`,j]:[_,j],labelFormatter:_=>`Date: ${_}`}),f.jsx(zo,{}),f.jsx(Ba,{type:"monotone",dataKey:"activities",stroke:"#8884d8",name:"Inbound Activities",strokeWidth:2}),f.jsx(Ba,{type:"monotone",dataKey:"units",stroke:"#82ca9d",name:"Units Added",strokeWidth:2}),f.jsx(Ba,{type:"monotone",dataKey:"uniqueProducts",stroke:"#ffc658",name:"Affected Products",strokeWidth:2})]})})})]}),f.jsxs("div",{className:`${v?"bg-slate-800":"bg-white"} p-3 md:p-4 rounded-lg shadow-sm`,children:[f.jsx("h3",{className:`text-base md:text-lg font-medium ${v?"text-white":"text-slate-800"} mb-3 md:mb-4`,children:"Outbound Products - Daily Deductions"}),f.jsx("div",{className:"h-64 md:h-80",children:f.jsx(X0,{width:"100%",height:"100%",children:f.jsxs(Z0,{data:P(),children:[f.jsx(rh,{strokeDasharray:"3 3",stroke:v?"#334155":"#e2e8f0"}),f.jsx(ru,{dataKey:"date",stroke:v?"#94a3b8":"#64748b"}),f.jsx(nu,{stroke:v?"#94a3b8":"#64748b"}),f.jsx(vs,{contentStyle:{backgroundColor:v?"#1e293b":"#ffffff",border:v?"1px solid #334155":"1px solid #e2e8f0",color:v?"#e2e8f0":"#1e293b"}}),f.jsx(zo,{}),f.jsx(Ba,{type:"monotone",dataKey:"products",stroke:"#ff6b6b",name:"Units Deducted",strokeWidth:2})]})})})]}),f.jsxs("div",{className:`${v?"bg-slate-800":"bg-white"} p-3 md:p-4 rounded-lg shadow-sm`,children:[f.jsx("h3",{className:`text-base md:text-lg font-medium ${v?"text-white":"text-slate-800"} mb-3 md:mb-4`,children:"Damaged Products - Daily Incidents & Units"}),f.jsx("div",{className:"h-64 md:h-80",children:f.jsx(X0,{width:"100%",height:"100%",children:f.jsxs(Z0,{data:O(),children:[f.jsx(rh,{strokeDasharray:"3 3",stroke:v?"#334155":"#e2e8f0"}),f.jsx(ru,{dataKey:"date",stroke:v?"#94a3b8":"#64748b"}),f.jsx(nu,{stroke:v?"#94a3b8":"#64748b"}),f.jsx(vs,{contentStyle:{backgroundColor:v?"#1e293b":"#ffffff",border:v?"1px solid #334155":"1px solid #e2e8f0",color:v?"#e2e8f0":"#1e293b"},formatter:(_,j)=>j==="Damaged Incidents"?[`${_} incidents`,j]:j==="Units Damaged"?[`${_} units`,j]:[_,j],labelFormatter:_=>`Date: ${_}`}),f.jsx(zo,{}),f.jsx(Ba,{type:"monotone",dataKey:"products",stroke:"#ffa726",name:"Damaged Incidents",strokeWidth:2}),f.jsx(Ba,{type:"monotone",dataKey:"units",stroke:"#ef5350",name:"Units Damaged",strokeWidth:2})]})})})]})]})})]})},HBe=()=>{const{user:e,setUser:t}=ba(),{showToast:r}=mc(),{isDarkMode:n,toggleDarkMode:a}=Zr(),[i,s]=F.useState(!1),[o,l]=F.useState({}),[c,u]=F.useState([]),[d,h]=F.useState(null),[p,g]=F.useState(!1),[m,v]=F.useState({username:"",email:"",name:"",password:"",confirmPassword:"",role:"staff"}),[y,w]=F.useState({}),[b,D]=F.useState({}),[P,O]=F.useState(!1),[T,S]=F.useState(null),[_,j]=F.useState({username:(e==null?void 0:e.username)||"",email:(e==null?void 0:e.email)||"",name:(e==null?void 0:e.name)||"",currentPassword:"",newPassword:"",confirmPassword:""}),[N,E]=F.useState({username:"",email:"",name:"",newPassword:"",confirmPassword:""}),k=F.useCallback(async()=>{if(RS(e)){s(!0);try{const se=(await sr(vt(Xe,"users"))).docs.map(he=>({id:he.id,...he.data()}));u(se)}catch(J){console.error("Error fetching users:",J),r("Error fetching users","error")}finally{s(!1)}}},[e==null?void 0:e.role,r]);F.useEffect(()=>{k()},[e==null?void 0:e.role,r,k]);const U=J=>J.split(" ").map(se=>se[0]).join("").toUpperCase().slice(0,2),G=J=>{const{name:se,value:he}=J.target;j(ie=>({...ie,[se]:he})),o[se]&&l(ie=>{const ge={...ie};return delete ge[se],ge})},z=()=>{const J={};return _.username.trim()||(J.username="Username is required"),_.email.trim()&&!/\S+@\S+\.\S+/.test(_.email)&&(J.email="Invalid email format"),_.name.trim()||(J.name="Name is required"),(_.currentPassword||_.newPassword||_.confirmPassword)&&(_.currentPassword?_.currentPassword!==(e==null?void 0:e.password)&&(J.currentPassword="Current password is incorrect"):J.currentPassword="Current password is required",_.newPassword?_.newPassword.length<6&&(J.newPassword="Password must be at least 6 characters"):J.newPassword="New password is required",_.newPassword!==_.confirmPassword&&(J.confirmPassword="Passwords do not match")),l(J),Object.keys(J).length===0},X=async J=>{if(J.preventDefault(),!!e&&z()){s(!0);try{const se={username:_.username,email:_.email,name:_.name,password:_.currentPassword!=""&&_.confirmPassword!=""&&_.newPassword!=""?_.newPassword:e.password},he=[];e.username!==_.username&&he.push(`changed username from "${e.username}" to "${_.username}"`),e.email!==_.email&&he.push(`changed email from "${e.email}" to "${_.email}"`),e.name!==_.name&&he.push(`changed full name from "${e.name}" to "${_.name}"`),_.currentPassword&&_.newPassword&&he.push("changed their password");const ie=ur(Xe,"users",e.id);await On(ie,se),he.length>0&&await hr(vt(Xe,"activityLogs"),{user:e.name,role:e.role,detail:he.length===1?he[0]:`made multiple profile changes: ${he.join("; ")}`,time:new Date().toISOString()}),t({...e,username:_.username,email:_.email,name:_.name,password:_.newPassword||e.password}),j(ge=>({...ge,currentPassword:"",newPassword:"",confirmPassword:""})),r("Profile updated successfully!","success")}catch(se){console.error("Error updating profile:",se),l({submit:"Failed to update profile. Please try again."}),r("Failed to update profile. Please try again.","error")}finally{s(!1)}}},V=J=>{h(J),D({}),E({username:J.username,email:J.email,name:J.name,newPassword:"",confirmPassword:""})},H=J=>{const{name:se,value:he}=J.target;E(ie=>({...ie,[se]:he})),b[se]&&D(ie=>{const ge={...ie};return delete ge[se],ge})},re=async()=>{if(d)try{if(s(!0),D({}),!N.username.trim()){D({username:"Username is required"});return}if(!N.name.trim()){D({name:"Name is required"});return}if(N.newPassword||N.confirmPassword){if(N.newPassword!==N.confirmPassword){D({confirmPassword:"Passwords do not match"});return}if(N.newPassword.length<6){D({newPassword:"Password must be at least 6 characters"});return}}const J=ur(Xe,"users",d.id),se={username:N.username,email:N.email,name:N.name,role:d.role};N.newPassword&&(se.password=N.newPassword),console.log("Attempting to update document with data:",se);try{await On(J,se),console.log("User updated successfully in Firestore")}catch(he){console.error("Failed to update by ID, trying to find by username:",he);const ie=ir(vt(Xe,"users"),lr("username","==",d.username)),ge=await sr(ie);if(ge.empty)throw new Error("User not found by username either");{const xe=ge.docs[0],W=ur(Xe,"users",xe.id);await On(W,se),console.log("User updated successfully using fallback method"),u(Pe=>Pe.map(Ce=>Ce.username===d.username?{...Ce,id:xe.id,...se}:Ce))}}await hr(vt(Xe,"activityLogs"),{user:e==null?void 0:e.name,role:e==null?void 0:e.role,detail:`updated user "${d.name}" (username: ${N.username})`,time:new Date().toISOString()}),u(he=>he.map(ie=>ie.id===d.id?{...ie,...se}:ie)),r("User updated successfully","success"),h(null)}catch(J){console.error("Error updating user:",J),r("Failed to update user","error")}finally{s(!1)}},ee=J=>{const{name:se,value:he}=J.target;v(ie=>({...ie,[se]:he})),y[se]&&w(ie=>{const ge={...ie};return delete ge[se],ge})},I=()=>{const J={};return m.username.trim()||(J.username="Username is required"),m.email.trim()&&!/\S+@\S+\.\S+/.test(m.email)&&(J.email="Invalid email format"),m.name.trim()||(J.name="Name is required"),m.password?m.password.length<6&&(J.password="Password must be at least 6 characters"):J.password="Password is required",m.password!==m.confirmPassword&&(J.confirmPassword="Passwords do not match"),w(J),Object.keys(J).length===0},M=async J=>{if(J.preventDefault(),!!I()){s(!0);try{const he=(await sr(vt(Xe,"users"))).docs.map(ge=>ge.data());if(he.some(ge=>ge.username===m.username)){w({username:"Username already exists"});return}if(m.email.trim()&&he.some(ge=>ge.email===m.email)){w({email:"Email already exists"});return}const ie=await hr(vt(Xe,"users"),{username:m.username,email:m.email,name:m.name,password:m.password,role:m.role});await hr(vt(Xe,"activityLogs"),{user:e==null?void 0:e.name,role:e==null?void 0:e.role,detail:`added new user "${m.name}" with role "${m.role}"`,time:new Date().toISOString()}),u(ge=>[...ge,{id:ie.id,username:m.username,email:m.email,name:m.name,role:m.role,password:m.password}]),v({username:"",email:"",name:"",password:"",confirmPassword:"",role:"staff"}),g(!1),r("User added successfully!","success")}catch(se){console.error("Error adding user:",se),r("Failed to add user. Please try again.","error")}finally{s(!1)}}},q=async(J,se)=>{S({username:se,name:J}),O(!0)},K=async()=>{if(T)try{s(!0);const J=vt(Xe,"users"),se=ir(J,lr("username","==",T.username)),he=await sr(se);if(he.empty){r("User not found.","error");return}const ie=he.docs[0],ge=ur(Xe,"users",ie.id);await xs(ge),await hr(vt(Xe,"activityLogs"),{user:e==null?void 0:e.name,role:e==null?void 0:e.role,detail:`deleted user "${T.name}" (username: ${T.username})`,time:new Date().toISOString()}),u(xe=>xe.filter(W=>W.username!==T.username)),r("User deleted successfully!","success")}catch(J){console.error("Error deleting user:",J),r("Failed to delete user. Please try again.","error")}finally{s(!1),O(!1),S(null)}};return f.jsxs("div",{className:"max-w-4xl mx-auto",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsxs("div",{children:[f.jsx("h1",{className:`text-2xl font-bold ${n?"text-slate-200":"text-slate-800"}`,children:"Settings"}),f.jsx("p",{className:`${n?"text-slate-400":"text-slate-500"} mt-1`,children:"Update your profile information"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[RS(e)&&f.jsx(tt,{variant:"secondary",onClick:k,className:`flex items-center gap-2 ${i?"opacity-50 cursor-not-allowed":""}`,disabled:i,children:f.jsx(Ua,{size:16,className:i?"animate-spin":""})}),f.jsx("button",{onClick:a,className:`p-2 rounded-lg transition-colors ${n?"text-yellow-400 hover:bg-slate-700":"text-slate-600 hover:bg-slate-100"}`,"aria-label":n?"Switch to light mode":"Switch to dark mode",children:n?f.jsx(x9,{size:20}):f.jsx(v9,{size:20})})]})]}),d&&f.jsxs(on,{isOpen:!!d,onClose:()=>{h(null),D({})},title:"Edit User",size:"md",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsx(kt,{label:"Username",name:"username",value:N.username,onChange:H,error:b.username}),f.jsx(kt,{label:"Email",name:"email",type:"email",value:N.email,onChange:H,error:b.email}),f.jsx(kt,{label:"Name",name:"name",value:N.name,onChange:H,error:b.name}),f.jsx(nf,{label:"New Password",name:"newPassword",value:N.newPassword,onChange:H,error:b.newPassword}),f.jsx(nf,{label:"Confirm Password",name:"confirmPassword",value:N.confirmPassword,onChange:H,error:b.confirmPassword})]}),f.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[f.jsx(tt,{variant:"secondary",onClick:()=>{h(null),D({})},disabled:i,children:"Cancel"}),f.jsx(tt,{onClick:re,disabled:i,children:i?"Updating...":"Update User"})]})]}),f.jsxs(on,{isOpen:P,onClose:()=>O(!1),title:"Confirm Deletion",size:"sm",children:[f.jsxs("p",{className:`${n?"text-slate-300":"text-slate-700"} mb-6`,children:['Are you sure you want to delete user "',T==null?void 0:T.name,'" (username: ',T==null?void 0:T.username,")? This action cannot be undone."]}),f.jsxs("div",{className:"flex justify-end gap-3",children:[f.jsx(tt,{variant:"secondary",onClick:()=>O(!1),disabled:i,children:"Cancel"}),f.jsx(tt,{variant:"danger",onClick:K,isLoading:i,disabled:i,children:i?"Deleting...":"Delete"})]})]}),f.jsxs("form",{onSubmit:X,className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center gap-6",children:[f.jsx("div",{className:"relative",children:f.jsx("div",{className:`h-24 w-24 rounded-full overflow-hidden ${n?"bg-blue-900/30":"bg-blue-100"} flex items-center justify-center`,children:f.jsx("span",{className:`text-2xl font-semibold ${n?"text-blue-400":"text-blue-600"}`,children:U((e==null?void 0:e.name)||"")})})}),f.jsxs("div",{children:[f.jsx("h2",{className:`text-lg font-medium ${n?"text-slate-200":"text-slate-800"}`,children:_.name}),f.jsx("p",{className:n?"text-slate-400":"text-slate-500",children:e==null?void 0:e.email})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:`text-lg font-medium ${n?"text-slate-200":"text-slate-800"}`,children:"Basic Information"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(kt,{label:"Username",name:"username",value:_.username,onChange:G,error:o.username,placeholder:e==null?void 0:e.username,required:!0,fullWidth:!0,darkMode:n}),f.jsx(kt,{label:"Email",name:"email",type:"email",value:_.email,onChange:G,error:o.email,placeholder:(e==null?void 0:e.email)||"Enter email (optional)",fullWidth:!0,darkMode:n})]}),f.jsx(kt,{label:"Full Name",name:"name",value:_.name,onChange:G,error:o.name,placeholder:e==null?void 0:e.username,required:!0,fullWidth:!0,darkMode:n})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:`text-lg font-medium ${n?"text-slate-200":"text-slate-800"}`,children:"Change Password"}),f.jsx(nf,{label:"Current Password",name:"currentPassword",value:_.currentPassword,onChange:G,error:o.currentPassword,placeholder:"Enter current password",fullWidth:!0,darkMode:n}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(nf,{label:"New Password",name:"newPassword",value:_.newPassword,onChange:G,error:o.newPassword,placeholder:"Enter new password",fullWidth:!0,darkMode:n}),f.jsx(nf,{label:"Confirm Password",name:"confirmPassword",value:_.confirmPassword,onChange:G,error:o.confirmPassword,placeholder:"Confirm new password",fullWidth:!0,darkMode:n})]})]}),o.submit&&f.jsx("div",{className:"text-red-500 text-sm",children:o.submit}),f.jsx("div",{className:"flex justify-end",children:f.jsx(tt,{type:"submit",isLoading:i,icon:f.jsx(R4,{size:18}),children:"Save Changes"})})]}),RS(e)&&f.jsxs("div",{className:`mt-8 p-6 rounded-lg ${n?"bg-slate-1000":"bg-white"}`,children:[f.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2 mb-4",children:[f.jsx("h2",{className:`text-xl font-semibold ${n?"text-white":"text-gray-900"} text-center md:text-left`,children:"User Management"}),f.jsxs(tt,{onClick:()=>g(!0),className:"flex items-center gap-2 self-center md:self-auto",children:[f.jsx(R4,{size:16}),"Add New User"]})]}),f.jsxs("div",{className:`rounded-lg shadow overflow-hidden ${n?"bg-slate-700":"bg-gray-50"}`,children:[f.jsx("div",{className:"hidden md:block overflow-x-auto",children:f.jsxs("table",{className:`min-w-full divide-y ${n?"divide-slate-700":"divide-gray-200"}`,children:[f.jsx("thead",{className:n?"bg-slate-700":"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Username"}),f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Email"}),f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Name"}),f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Role"}),f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Actions"})]})}),f.jsx("tbody",{className:`divide-y ${n?"divide-slate-700 bg-slate-800":"divide-gray-200 bg-white"}`,children:c.filter(J=>J.id!==(e==null?void 0:e.id)).map(J=>f.jsxs("tr",{className:n?"hover:bg-slate-700":"hover:bg-gray-50",children:[f.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:J.username}),f.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:J.email||"-"}),f.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:J.name}),f.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:J.role==="admin"?"Admin":J.role==="manager"?"Manager":J.role==="staff"?"Staff":J.role==="supply_serve"?"Supply & Serve":J.role==="fahiz"?"Fahiz":J.role==="aphy"?"APHY":J.role}),f.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(tt,{variant:"ghost",size:"sm",onClick:()=>V(J),className:`${n?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:f.jsx(bs,{size:16})}),f.jsx(tt,{variant:"ghost",size:"sm",onClick:()=>q(J.name,J.username),className:`${n?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,children:f.jsx(ki,{size:16})})]})})]},J.id))})]})}),f.jsx("div",{className:"md:hidden flex flex-col gap-4 p-2",children:c.filter(J=>J.id!==(e==null?void 0:e.id)).map(J=>f.jsxs("div",{className:`rounded-lg shadow p-4 flex flex-col gap-2 ${n?"bg-slate-800":"bg-white"}`,children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("div",{className:`font-semibold ${n?"text-slate-200":"text-gray-900"}`,children:J.name}),f.jsx("div",{className:`text-xs ${n?"text-slate-400":"text-gray-500"}`,children:J.username})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(tt,{variant:"ghost",size:"sm",onClick:()=>V(J),className:`${n?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:f.jsx(bs,{size:16})}),f.jsx(tt,{variant:"ghost",size:"sm",onClick:()=>q(J.name,J.username),className:`${n?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,children:f.jsx(ki,{size:16})})]})]}),f.jsx("div",{className:`text-sm ${n?"text-slate-300":"text-gray-700"}`,children:J.email||"-"}),f.jsx("div",{className:`text-xs font-medium ${n?"text-blue-300":"text-blue-700"}`,children:J.role==="admin"?"Admin":J.role==="manager"?"Manager":J.role==="staff"?"Staff":J.role==="supply_serve"?"Supply & Serve":J.role==="fahiz"?"Fahiz":J.role==="aphy"?"APHY":J.role})]},J.id))})]}),f.jsx(on,{isOpen:p,onClose:()=>g(!1),title:"Add New User",size:"xl",children:f.jsxs("form",{onSubmit:M,className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(kt,{label:"Username",name:"username",value:m.username,onChange:ee,error:y.username,required:!0,fullWidth:!0,placeholder:"Enter username (e.g., john.doe)"}),f.jsx(kt,{label:"Email",name:"email",type:"email",value:m.email,onChange:ee,error:y.email,fullWidth:!0,placeholder:"Enter email address (optional)"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(kt,{label:"Full Name",name:"name",value:m.name,onChange:ee,error:y.name,required:!0,fullWidth:!0,placeholder:"Enter full name (e.g., John Doe)"}),f.jsx(Qr,{label:"Role",name:"role",value:m.role,onChange:ee,options:[{value:"admin",label:"Admin"},{value:"manager",label:"Manager"},{value:"staff",label:"Staff"},{value:"supply_serve",label:"Supply & Serve"},{value:"fahiz",label:"Fahiz"},{value:"aphy",label:"APHY"}],fullWidth:!0})]}),f.jsx(nf,{label:"Password",name:"password",value:m.password,onChange:ee,error:y.password,required:!0,fullWidth:!0,placeholder:"Enter password (min. 6 characters)"}),f.jsx(nf,{label:"Confirm Password",name:"confirmPassword",value:m.confirmPassword,onChange:ee,error:y.confirmPassword,required:!0,fullWidth:!0,placeholder:"Confirm your password"}),f.jsx("div",{className:"flex justify-end",children:f.jsx(tt,{type:"submit",isLoading:i,disabled:i,children:"Add User"})})]})})]})]})},RA=["supply & serve","APHY","AZTEC","ZK","Fahiz"],GBe=({item:e,onSubmit:t,isLoading:r})=>{const[n,a]=F.useState(""),[i,s]=F.useState("stock sold"),[o,l]=F.useState(""),c=RA.includes(e.storeName)?RA:[e.storeName,...RA],u=[...c,"other"],[d,h]=F.useState(e.storeName||c[0]||""),[p,g]=F.useState(""),{isDarkMode:m}=Zr(),v=async b=>{b.preventDefault();const D=Number(n);if(!n||D<=0||D>e.quantity)return;const P=i==="other"?o:i,O=d==="other"?p.trim():d.trim();await t({id:e.id,quantity:e.quantity-D,reason:P,storeName:O})},w=(()=>{const b=Number(n);return!n||b<=0?"Quantity to deduct must be greater than 0":b>e.quantity?`Cannot deduct more than current stock (${e.quantity} units)`:i?i==="other"&&!o.trim()?"Please specify the reason":!d.trim()||d==="other"&&!p.trim()?"Please select or enter the store name":null:"Please select a reason"})();return f.jsxs("form",{onSubmit:v,className:`space-y-6 ${m?"text-white":"text-gray-900"}`,children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:`p-4 rounded-lg ${m?"bg-slate-800":"bg-slate-50"}`,children:[f.jsx("h3",{className:`text-lg font-semibold ${m?"text-white":"text-gray-900"}`,children:e.name}),f.jsxs("p",{className:`text-sm ${m?"text-slate-400":"text-slate-500"}`,children:["Current Stock: ",e.quantity," units"]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{htmlFor:"deductQuantity",className:`block text-sm font-medium ${m?"text-slate-300":"text-gray-700"}`,children:"Quantity to Deduct"}),f.jsx(kt,{id:"deductQuantity",type:"number",min:"1",max:e.quantity,value:n,onChange:b=>a(b.target.value.replace(/^0+(?!$)/,"")),placeholder:"Enter quantity to deduct",required:!0,className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${w?"border-red-500 focus:border-red-500":""}`})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{htmlFor:"reason",className:`block text-sm font-medium ${m?"text-slate-300":"text-gray-700"}`,children:"Reason for Deduction"}),f.jsx(Qr,{id:"reason",value:i,onChange:b=>s(b.target.value),required:!0,options:[{value:"",label:"Select a reason"},{value:"stock sold",label:"Stock Sold"},{value:"moved to fba",label:"Moved to FBA"},{value:"moved to mf",label:"Moved to MF"},{value:"damaged",label:"Damaged"},{value:"other",label:"Other"}],className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${w?"border-red-500 focus:border-red-500":""}`})]}),i==="other"&&f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{htmlFor:"otherReason",className:`block text-sm font-medium ${m?"text-slate-300":"text-gray-700"}`,children:"Specify Reason"}),f.jsx(kt,{id:"otherReason",type:"text",value:o,onChange:b=>l(b.target.value),placeholder:"Enter the reason",required:!0,className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${w?"border-red-500 focus:border-red-500":""}`})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{htmlFor:"storeName",className:`block text-sm font-medium ${m?"text-slate-300":"text-gray-700"}`,children:"Store Name"}),f.jsx(Qr,{id:"storeName",value:d,onChange:b=>h(b.target.value),options:u.map(b=>({value:b,label:b==="other"?"OTHER":b==null?void 0:b.toUpperCase()})),required:!0,className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${w?"border-red-500 focus:border-red-500":""}`}),d==="other"&&f.jsx(kt,{id:"otherStoreName",type:"text",value:p,onChange:b=>g(b.target.value),placeholder:"Enter store name",required:!0,className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${w?"border-red-500 focus:border-red-500":""}`})]}),w?f.jsxs("div",{className:`flex items-center space-x-2 text-sm ${m?"text-red-400":"text-red-600"}`,children:[f.jsx(ch,{size:16}),f.jsx("span",{children:w})]}):f.jsx("p",{className:`text-xs ${m?"text-slate-400":"text-gray-500"}`,children:"Enter the quantity to be deducted from current stock"})]}),f.jsx("div",{className:"flex justify-end space-x-3",children:f.jsx(tt,{type:"submit",disabled:r||!!w,className:"min-w-[100px]",children:r?f.jsxs(f.Fragment,{children:[f.jsx(es,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):"Update"})})]})},KBe=()=>{var I;const[e,t]=F.useState(""),[r,n]=F.useState("name"),[a,i]=F.useState(!1),[s,o]=F.useState(!1),[l,c]=F.useState(null),[u,d]=F.useState([]),[h,p]=F.useState(!1),[g,m]=F.useState(new Set),[v,y]=F.useState(null),[w,b]=F.useState(!1),[D,P]=F.useState("all"),[O,T]=F.useState(!1),{showToast:S}=mc(),{isDarkMode:_}=Zr(),{user:j}=ba(),N=F.useMemo(()=>{const M=[{value:"name",label:"Sort by Name"},{value:"quantity",label:"Sort by Quantity"},{value:"date",label:"Sort by Date"}];return Us(j)&&M.splice(2,0,{value:"price",label:"Sort by Price"}),M},[j]),E=["supply & serve","APHY","AZTEC","ZK","Fahiz"],k=async()=>{o(!0);try{const M=ir(vt(Xe,"inventory"),ja("name")),K=(await sr(M)).docs.map(J=>{const se=J.data();return{id:J.id,...se,lastUpdated:se.lastUpdated instanceof nr?se.lastUpdated.toDate():new Date(se.lastUpdated)}});d(K)}catch(M){console.error("Error fetching stock items:",M),S("Failed to fetch stock items","error")}finally{o(!1)}},U=async()=>{try{const M=Lr(new Date,90),q=ir(vt(Xe,"activityLogs"),lr("time",">=",M.toISOString()),ja("time","desc")),J=(await sr(q)).docs.map(xe=>({id:xe.id,...xe.data()})),se=Lr(new Date,10),he=new Set,ie=new Map;J.forEach(xe=>{if(xe.detail.includes("added new product")){const W=xe.detail.match(/added new product "([^"]+)"/);if(W){const Pe=W[1],Ce=new Date(xe.time);(!ie.has(Pe)||Ce<ie.get(Pe))&&ie.set(Pe,Ce)}}if(xe.detail.includes("units deducted from stock")){const W=xe.detail.match(/units deducted from stock "([^"]+)"/);if(W){const Pe=W[1];new Date(xe.time)>=se&&he.add(Pe)}}});const ge=new Set;u.forEach(xe=>{const W=xe.name,Pe=ie.get(W);Pe&&Pe<se&&!he.has(W)&&ge.add(W)}),m(ge)}catch(M){console.error("Error fetching activity logs:",M)}};F.useEffect(()=>{k()},[S]),F.useEffect(()=>{u.length>0&&U()},[u]),F.useEffect(()=>{const M=q=>{if(w||O){const K=q.target;!K.closest(".store-filter-dropdown")&&!K.closest(".status-filter-dropdown")&&(b(!1),T(!1))}};return document.addEventListener("mousedown",M),()=>{document.removeEventListener("mousedown",M)}},[w,O]);const G=()=>{y(null),P("all"),b(!1),T(!1)},z=u.filter(M=>M.quantity>0).filter(M=>{const q=e.toLowerCase(),K=M.name.toLowerCase().includes(q),J=`${M.locationCode} - ${M.shelfNumber}`.toLowerCase().includes(q),se=M.asin?M.asin.split(",").some(xe=>xe.trim().toLowerCase().includes(q)):!1,he=M.barcode?M.barcode.toLowerCase().includes(q):!1,ie=v?v.storeName==="other"?!E.includes(M.storeName)&&M.fulfillmentType===v.fulfillmentType:M.storeName===v.storeName&&M.fulfillmentType===v.fulfillmentType:!0,ge=D==="all"||M.status===D;return(K||J||se||he)&&ie&&ge}).sort((M,q)=>r==="name"?M.name.localeCompare(q.name):r==="quantity"?q.quantity-M.quantity:r==="price"?q.price-M.price:r==="date"?new Date(q.lastUpdated).getTime()-new Date(M.lastUpdated).getTime():0),X=async M=>{var q;o(!0);try{const K=ur(Xe,"inventory",M.id),J=await sc(K);if(!J.exists())throw new Error("Stock item not found");const se=J.data();if(!j)throw new Error("User not authenticated");const he=M.reason==="damaged"?se.damagedItems+(se.quantity-M.quantity):se.damagedItems,ie=new Date;await On(K,{quantity:M.quantity,damagedItems:he,lastUpdated:nr.fromDate(ie)});const ge=se.quantity-M.quantity;await hr(vt(Xe,"activityLogs"),{detail:`${ge} units deducted from stock "${se.name}" (Reason: ${M.reason}, Store: ${(q=M.storeName)==null?void 0:q.toUpperCase()}) by ${j.role} from location ${se.locationCode} shelf ${se.shelfNumber}  Quantity before: ${se.quantity}, Quantity after: ${M.quantity}`,time:new Date().toISOString(),user:j.name,role:j.role});const xe=u.map(W=>W.id===M.id?{...W,quantity:M.quantity,damagedItems:he}:W);d(xe),c(null),i(!1),S("Stock quantity updated successfully","success")}catch(K){console.error("Error updating stock:",K),S("Failed to update stock quantity","error")}finally{o(!1)}},V=M=>{a||c(M)},H=(M,q)=>{M.stopPropagation(),c(q),i(!0)},re=()=>{p(!0)},ee=M=>{t(M),p(!1)};return f.jsxs("div",{className:"container mx-auto px-4 py-8",children:[f.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-4",children:f.jsxs("div",{children:[f.jsx("h1",{className:`text-2xl font-bold ${_?"text-white":"text-gray-900"}`,children:"Outbound Inventory"}),f.jsx("p",{className:`${_?"text-slate-400":"text-slate-500"} mt-1`,children:"Manage and track inventory deductions"})]})}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[f.jsx("div",{className:"flex-1",children:f.jsxs("div",{className:"relative",children:[f.jsx(kt,{type:"text",placeholder:"Search by name, location, ASIN or barcode...",value:e,onChange:M=>t(M.target.value),icon:f.jsx(Ol,{size:16}),style:{paddingRight:48}}),f.jsx("button",{type:"button",onClick:re,className:"absolute right-1.5 top-1/2 -translate-y-1/2 flex items-center justify-center w-7 h-7 rounded-md transition-colors bg-blue-500 hover:bg-blue-600 focus:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 border-none p-0",style:{zIndex:2},title:"Scan barcode",tabIndex:0,"aria-label":"Scan barcode",children:f.jsx(lu,{size:16,className:"text-white"})})]})}),f.jsx("div",{className:"w-full sm:w-48",children:f.jsx(Qr,{value:r,onChange:M=>n(M.target.value),options:N})}),f.jsxs("div",{className:"flex flex-row gap-2",children:[f.jsxs("div",{className:"relative status-filter-dropdown",children:[f.jsxs(tt,{variant:"secondary",onClick:()=>T(!O),className:`flex items-center gap-2 ${D!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[D==="all"?"Status Filter":D==="active"?"Active":"Pending",f.jsx(Sl,{size:16})]}),O&&f.jsx("div",{className:`absolute top-full left-0 mt-1 w-32 z-50 rounded-lg border ${_?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:f.jsxs("div",{className:"p-2",children:[f.jsx("div",{className:`text-sm font-medium mb-2 ${_?"text-slate-200":"text-slate-700"}`,children:"Filter by Status"}),f.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${_?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${D==="all"?_?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{P("all"),T(!1)},children:"All"}),f.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${_?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${D==="active"?_?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{P("active"),T(!1)},children:"Active"}),f.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${_?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${D==="pending"?_?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{P("pending"),T(!1)},children:"Pending"}),f.jsx("div",{className:`border-t ${_?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:f.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${_?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{P("all"),T(!1)},children:"Clear Filter"})})]})})]}),f.jsxs("div",{className:"relative store-filter-dropdown",children:[f.jsxs(tt,{variant:"secondary",onClick:()=>b(!w),className:`flex items-center gap-2 ${v?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[v?`${v.storeName==="other"?"OTHER":(I=v.storeName)==null?void 0:I.toUpperCase()} - ${v.fulfillmentType.toUpperCase()}`:"Store Filter",f.jsx(Sl,{size:16})]}),w&&f.jsx("div",{className:`absolute top-full left-0 mt-1 w-64 z-50 rounded-lg border ${_?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:f.jsxs("div",{className:"p-2",children:[f.jsx("div",{className:`text-sm font-medium mb-2 ${_?"text-slate-200":"text-slate-700"}`,children:"Filter by Store & Type"}),["supply & serve","APHY","AZTEC","ZK","Fahiz","other"].map(M=>f.jsxs("div",{className:"group relative",children:[f.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${_?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(v==null?void 0:v.storeName)===M?_?"bg-slate-700":"bg-slate-100":""}`,children:M==null?void 0:M.toUpperCase()}),f.jsxs("div",{className:`absolute right-full top-0 mr-1 hidden group-hover:block w-24 ${_?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} border rounded-lg shadow-lg`,children:[f.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer transition-colors ${_?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(v==null?void 0:v.storeName)===M&&(v==null?void 0:v.fulfillmentType)==="fba"?_?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{y({storeName:M,fulfillmentType:"fba"}),b(!1)},children:"FBA"}),f.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer transition-colors ${_?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(v==null?void 0:v.storeName)===M&&(v==null?void 0:v.fulfillmentType)==="mf"?_?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{y({storeName:M,fulfillmentType:"mf"}),b(!1)},children:"MF"})]})]},M)),f.jsx("div",{className:`border-t ${_?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:f.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${_?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{y(null),b(!1)},children:"Clear Filter"})})]})})]})]}),f.jsx(tt,{variant:"secondary",onClick:()=>{k(),G()},className:`flex items-center gap-2 ${s?"opacity-50 cursor-not-allowed":""}`,disabled:s,children:f.jsx(Ua,{size:16,className:s?"animate-spin":""})}),(v||D!=="all")&&f.jsx(tt,{variant:"secondary",onClick:G,className:"flex items-center gap-2",children:"Clear Filters"})]}),s?f.jsx("div",{className:`text-center py-12 ${_?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:f.jsxs("div",{className:"flex flex-col items-center gap-4",children:[f.jsx(es,{className:`w-8 h-8 ${_?"text-blue-400":"text-blue-600"} animate-spin`}),f.jsx("p",{className:_?"text-slate-400":"text-slate-600",children:"Loading stock items..."})]})}):z.length>0?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"hidden md:block rounded-lg overflow-hidden border ${isDarkMode ? 'border-slate-700' : 'border-slate-200'}",children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{className:`${_?"bg-slate-800":"bg-slate-50"}`,children:f.jsxs("tr",{children:[f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${_?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${_?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Unit"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${_?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Status"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${_?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${_?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${_?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Quantity"}),(j==null?void 0:j.role)==="admin"&&f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${_?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Price"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${_?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Last Updated"}),f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${_?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),f.jsx("tbody",{className:`divide-y ${_?"divide-slate-700":"divide-slate-200"}`,children:z.map(M=>f.jsxs("tr",{className:`${_?"hover:bg-slate-800":"hover:bg-slate-50"} cursor-pointer`,onClick:()=>V(M),children:[f.jsx("td",{className:`px-4 py-3 text-sm ${_?"text-blue-400":"text-blue-700"} font-medium`,children:f.jsxs("div",{className:"flex items-center gap-2",children:[M.name,g.has(M.name)&&f.jsxs("div",{className:"relative group",children:[f.jsx(Nv,{className:"h-4 w-4 text-red-500 flex-shrink-0"}),f.jsxs("div",{className:`absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 text-xs rounded-lg shadow-lg z-50 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity ${_?"bg-slate-800 text-red-300 border border-red-500":"bg-white text-red-700 border border-red-300"}`,children:["This product has not been deducted for 10+ days",f.jsx("div",{className:`absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent ${_?"border-t-slate-800":"border-t-white"}`})]})]})]})}),f.jsx("td",{className:`px-4 py-3 text-sm ${_?"text-slate-200":"text-slate-800"}`,children:M.unit||"-"}),f.jsx("td",{className:`px-4 py-3 text-sm ${_?"text-slate-200":"text-slate-800"}`,children:f.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${M.status==="active"?"bg-green-100 text-green-700 ":"bg-yellow-100 text-yellow-700 "}`,children:M.status==="active"?"Active":"Pending"})}),f.jsxs("td",{className:`px-4 py-3 text-sm ${_?"text-slate-200":"text-slate-800"}`,children:[M.locationCode," - ",M.shelfNumber]}),f.jsx("td",{className:`px-4 py-3 text-sm ${_?"text-slate-200":"text-slate-800"}`,children:M.asin?M.asin.split(",").length>3?M.asin.split(",").slice(0,3).map(q=>q.trim()).join(", ")+"...":M.asin.split(",").map(q=>q.trim()).join(", "):"-"}),f.jsx("td",{className:`px-4 py-3 text-sm ${_?"text-slate-200":"text-slate-800"} text-right`,children:f.jsxs("div",{className:"flex items-center justify-end gap-2",children:[M.quantity<=10&&f.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-red-100 text-red-700 text-center ",children:"Critical Low"}),M.quantity>10&&M.quantity<=25&&f.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-yellow-100 text-yellow-700 text-center ",children:"Low Stock"}),f.jsx("span",{children:M.quantity})]})}),(j==null?void 0:j.role)==="admin"&&f.jsx("td",{className:`px-4 py-3 text-right text-sm ${_?"text-slate-200":"text-slate-900"}`,children:Number(M.price)>0?`${Number(M.price).toFixed(2)}`:"(Not set)"}),f.jsx("td",{className:`px-4 py-3 text-sm ${_?"text-slate-200":"text-slate-800"}`,children:Wt(new Date(M.lastUpdated),"MMM d, yyyy")}),f.jsx("td",{className:"px-4 py-3 text-right text-sm",children:f.jsx("div",{className:"flex items-center justify-end gap-2",children:f.jsx(tt,{variant:"secondary",size:"sm",onClick:q=>H(q,M),className:`p-1 ${_?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-300"} transition-colors`,children:f.jsx(bs,{size:16})})})})]},M.id))})]})})}),f.jsx("div",{className:"block md:hidden space-y-4",children:z.map(M=>f.jsxs("div",{className:`rounded-lg border ${_?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-4 shadow-sm flex flex-col gap-2`,onClick:()=>V(M),children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:`font-semibold ${_?"text-blue-400":"text-blue-700"}`,children:M.name}),f.jsxs("div",{className:"flex items-center gap-2",children:[g.has(M.name)&&f.jsxs("div",{className:"relative group",children:[f.jsx(Nv,{className:"h-4 w-4 text-red-500 flex-shrink-0"}),f.jsxs("div",{className:`absolute bottom-full right-0 mb-2 px-3 py-2 text-xs rounded-lg shadow-lg z-50 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity ${_?"bg-slate-800 text-red-300 border border-red-500":"bg-white text-red-700 border border-red-300"}`,children:["This product has not been deducted for 10+ days",f.jsx("div",{className:`absolute top-full right-4 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent ${_?"border-t-slate-800":"border-t-white"}`})]})]}),f.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${M.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:M.status==="active"?"Active":"Pending"})]})]}),f.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[f.jsxs("span",{className:_?"text-slate-300":"text-slate-600",children:["Location: ",f.jsxs("span",{className:"font-medium",children:[M.locationCode," - ",M.shelfNumber]})]}),f.jsxs("span",{className:_?"text-slate-300":"text-slate-600",children:["Qty: ",f.jsx("span",{className:"font-medium",children:M.quantity})]}),M.asin&&f.jsxs("span",{className:_?"text-slate-300":"text-slate-600",children:["ASIN: ",f.jsx("span",{className:"font-medium",children:M.asin})]}),(j==null?void 0:j.role)==="admin"&&f.jsxs("span",{className:_?"text-slate-300":"text-slate-600",children:["Price: ",f.jsx("span",{className:"font-medium",children:Number(M.price)>0?`${Number(M.price).toFixed(2)}`:"(Not set)"})]}),f.jsxs("span",{className:_?"text-slate-300":"text-slate-600",children:["Updated: ",f.jsx("span",{className:"font-medium",children:Wt(new Date(M.lastUpdated),"MMM d, yyyy")})]})]}),f.jsx("div",{className:"flex gap-2 mt-2",children:f.jsxs(tt,{size:"sm",variant:"secondary",onClick:q=>{q.stopPropagation(),H(q,M)},children:[f.jsx(bs,{size:14})," Edit"]})})]},M.id))})]}):f.jsx("div",{className:`text-center py-12 ${_?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:f.jsx("p",{className:_?"text-slate-400":"text-slate-500",children:"No stock items found. Try adjusting your search."})}),f.jsx(on,{isOpen:a,onClose:()=>{i(!1),c(null)},title:"Update Stock Quantity",children:l&&f.jsx(GBe,{item:l,onSubmit:X,isLoading:s})}),l&&!a&&f.jsx(oy,{isOpen:!0,onClose:()=>c(null),item:l}),f.jsx(Eh,{isOpen:h,onClose:()=>p(!1),onBarcodeScanned:ee})]})},YBe=()=>{const[e,t]=F.useState(!0),[r,n]=F.useState([]),[a,i]=F.useState(new Set),[s,o]=F.useState(""),[l,c]=F.useState(""),[u,d]=F.useState("locationCode"),[h,p]=F.useState({}),{showToast:g}=mc(),{isDarkMode:m}=Zr(),[v,y]=F.useState(!1),[w,b]=F.useState(null),[D,P]=F.useState(1),[O,T]=F.useState("A1"),[S,_]=F.useState("0"),[j,N]=F.useState(!1),[E,k]=F.useState(!1),[U,G]=F.useState(""),[z,X]=F.useState(Rf("A1")),[V,H]=F.useState(null),[re,ee]=F.useState(!1),[I,M]=F.useState(null),[q,K]=F.useState(!1),{user:J}=ba(),se=_e=>{T(_e);const $e=Rf(_e);X($e),parseInt(S)>=$e.length&&_("0")},he=async()=>{t(!0);try{const _e=ir(vt(Xe,"inventory"),ja("locationCode")),Ne=(await sr(_e)).docs.map(Ie=>{const We=Ie.data();return{id:Ie.id,name:We.name||"",quantity:We.quantity||0,price:We.price||0,unit:We.unit||null,supplier:We.supplier??null,lastUpdated:We.lastUpdated instanceof nr?We.lastUpdated.toDate():new Date,locationCode:We.locationCode||"",shelfNumber:We.shelfNumber||"",barcode:We.barcode??null,asin:We.asin??null,status:We.status||"pending",damagedItems:We.damagedItems||0,fulfillmentType:We.fulfillmentType||"fba",storeName:We.storeName||""}});n(Ne)}catch(_e){console.error("Error fetching locations:",_e),g("Failed to fetch locations. Please try again.","error")}finally{t(!1)}},ie=async()=>{try{const _e=ir(vt(Xe,"locations")),$e=await sr(_e),Ne={};$e.forEach(Ie=>{Ne[Ie.id]=Ie.data().isAvailable!==!1}),p(Ne)}catch(_e){console.error("Error fetching location availability:",_e)}};F.useEffect(()=>{t(!0),Promise.all([he(),ie()]).finally(()=>t(!1))},[]);const ge=["A1","A2","A3","A4","A5","A6","A7","A8","B1","B2","B3","B4","B5","B6","B7","B8","C1","C2","C3","C4","C5","C6","C7","C8","D1","D2","D3","D4","D5","D6","D7","D8","E1","E2","E3","E4","E5","E6","E7","E8","F1","F2","F3","F4","F5","F6","F7","F8","G1","G2","G3","G4","G5","G6","G7","G8","H1","H2","H3","H4","H5","H6","H7","H8","I1","I2","I3","I4","I5","I6","I7","I8","J1","J2","J3","J4","J5","J6","J7","J8","K1","K2","K3","K4","K5","K6","K7","K8","L1","L2","L3","L4","L5","L6","L7","L8","M1","M2","M3","M4","M5","M6","M7","M8","N1","N2","N3","N4","N5","N6","N7","N8","O1","O2","O3","O4","O5","O6","O7","O8","P1","P2","P3","P4","P5","P6","P7","P8","Q1","Q2","Q3","Q4","Q5","Q6","Q7","Q8","R1","R2","R3","R4","R5","R6","R7","R8","S1","S2","S3","S4","S5","S6","S7","S8","T1","T2","T3","T4","T5","T6","T7","T8","U1","U2","U3","U4","U5","U6","U7","U8","V1","V2","V3","V4","V5","V6","V7","V8","W1","W2","W3","W4","W5","W6","W7","W8","X1","X2","X3","X4","X5","X6","X7","X8","Y1","Y2","Y3","Y4","Y5","Y6","Y7","Y8","Z1","Z2","Z3","Z4","Z5","Z6","Z7","Z8","Awaiting Location","Awaiting Locations Sparklin","Awaiting Locations Aztec"],xe=ge.reduce((_e,$e)=>{const Ie=r.filter(We=>We.locationCode===$e).reduce((We,it)=>{const ht=We.findIndex(xt=>xt.name===it.name&&Ge(xt.asin)===Ge(it.asin)&&Ge(xt.barcode)===Ge(it.barcode)&&xt.locationCode===it.locationCode&&xt.shelfNumber===it.shelfNumber);return ht>=0?We[ht]={...We[ht],quantity:We[ht].quantity+it.quantity,lastUpdated:We[ht].lastUpdated>it.lastUpdated?We[ht].lastUpdated:it.lastUpdated}:We.push(it),We},[]);return _e[$e]={locationCode:$e,totalStock:Ie.reduce((We,it)=>We+it.quantity,0),products:Ie},_e},{}),W=Object.values(xe).filter(_e=>{const $e=s.toLowerCase(),Ne=l.toLowerCase(),Ie=Ne===""||_e.locationCode.toLowerCase().includes(Ne),We=$e===""||_e.products.some(it=>it.name.toLowerCase().includes($e)||it.asin&&it.asin.split(",").some(ht=>ht.trim().toLowerCase().includes($e))||it.barcode&&it.barcode.toLowerCase().includes($e));return Ie&&We}).sort((_e,$e)=>{if(u==="totalStock")return $e.totalStock-_e.totalStock;if(u==="locationCode")return _e.locationCode==="Awaiting Location"?-1:$e.locationCode==="Awaiting Location"?1:_e.locationCode==="Awaiting Locations Sparklin"?-1:$e.locationCode==="Awaiting Locations Sparklin"?1:_e.locationCode==="Awaiting Locations Aztec"?-1:$e.locationCode==="Awaiting Locations Aztec"?1:_e.locationCode.localeCompare($e.locationCode);if(u==="availability"){const Ne=h[_e.locationCode]!==!1,Ie=h[$e.locationCode]!==!1;return Ne===Ie?_e.locationCode==="Awaiting Location"?-1:$e.locationCode==="Awaiting Location"?1:_e.locationCode==="Awaiting Locations Sparklin"?-1:$e.locationCode==="Awaiting Locations Sparklin"?1:_e.locationCode==="Awaiting Locations Aztec"?-1:$e.locationCode==="Awaiting Locations Aztec"?1:_e.locationCode.localeCompare($e.locationCode):Ne?-1:1}return 0});F.useEffect(()=>{if(s.trim()&&s!==U){const _e=W.filter($e=>{const Ne=s.toLowerCase();return $e.products.some(Ie=>Ie.quantity>0&&(Ie.name.toLowerCase().includes(Ne)||Ie.asin&&Ie.asin.split(",").some(We=>We.trim().toLowerCase().includes(Ne))||Ie.barcode&&Ie.barcode.toLowerCase().includes(Ne)))});if(_e.length>0){const $e=_e.flatMap(Ie=>Ie.products.filter(We=>{if(We.quantity===0)return!1;const it=s.toLowerCase();return We.name.toLowerCase().includes(it)||We.asin&&We.asin.split(",").some(ht=>ht.trim().toLowerCase().includes(it))||We.barcode&&We.barcode.toLowerCase().includes(it)})),Ne=[...new Set($e.map(Ie=>`${Ie.locationCode}-${Ie.shelfNumber}`))];g(`Product found! Located at: ${Ne.join(", ")}`,"success"),G(s)}else s.trim()&&s!==U&&(g("Product not found in any location","error"),G(s))}else!s.trim()&&U&&G("")},[W,s,g,U]);const Pe=_e=>{i($e=>{const Ne=new Set($e);return Ne.has(_e)?Ne.delete(_e):Ne.add(_e),Ne})},Ce=()=>{k(!0)},Te=_e=>{o(_e),k(!1)},ce=async _e=>{const $e=!(h[_e]??!0);p(Ne=>({...Ne,[_e]:$e}));try{await ux(ur(Xe,"locations",_e),{isAvailable:$e},{merge:!0})}catch(Ne){g("Failed to update availability","error"),p(Ie=>({...Ie,[_e]:!$e})),console.log(Ne)}};function Fe(_e){const $e={..._e};return Object.keys($e).forEach(Ne=>{$e[Ne]===void 0&&($e[Ne]=null)}),$e}function Ge(_e){return _e??""}const Le=async()=>{if(w&&!(D<1||D>w.quantity)){N(!0);try{const _e=ir(vt(Xe,"inventory")),$e=await sr(_e);let Ne=null;if($e.forEach(Ie=>{const We=Ie.data();We.name===w.name&&We.locationCode===O&&We.shelfNumber===S&&Ge(We.asin)===Ge(w.asin)&&Ge(We.barcode)===Ge(w.barcode)&&(Ne={...We,id:Ie.id})}),D===w.quantity)await ux(ur(Xe,"inventory",w.id),Fe({...w,locationCode:O,shelfNumber:S,lastUpdated:new Date}),{merge:!0});else if(await ux(ur(Xe,"inventory",w.id),Fe({...w,quantity:w.quantity-D,lastUpdated:new Date}),{merge:!0}),Ne)await ux(ur(Xe,"inventory",Ne.id),Fe({...Ne,quantity:Ne.quantity+D,lastUpdated:new Date}),{merge:!0});else{const{id:Ie,...We}=w;await hr(vt(Xe,"inventory"),Fe({...We,quantity:D,locationCode:O,shelfNumber:S,lastUpdated:new Date}))}await hr(vt(Xe,"activityLogs"),{user:(J==null?void 0:J.name)||"Unknown",role:(J==null?void 0:J.role)||"Unknown",detail:`Moved ${D} unit(s) of "${w.name}" from ${w.locationCode}-${w.shelfNumber} to ${O}-${S}`,time:new Date().toISOString()}),g("Stock moved successfully","success"),y(!1),b(null),he()}catch(_e){g("Failed to move stock","error"),console.log(_e)}finally{N(!1)}}},Ye=async()=>{if(V){ee(!0);try{await xs(ur(Xe,"inventory",V.id)),await hr(vt(Xe,"activityLogs"),{user:(J==null?void 0:J.name)||"Unknown",role:(J==null?void 0:J.role)||"Unknown",detail:`deleted product "${V.name}" (${V.quantity} units) from location ${V.locationCode}-${V.shelfNumber}`,time:new Date().toISOString()}),g("Product deleted successfully","success"),H(null),he()}catch(_e){g("Failed to delete product","error"),console.error("Error deleting product:",_e)}finally{ee(!1)}}};return f.jsxs("div",{className:`space-y-6 ${m?"bg-slate-900 text-white":"bg-slate-50 text-slate-800"}`,children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsx("h1",{className:`text-2xl font-bold ${m?"text-white":"text-slate-800"}`,children:"Warehouse Locations"}),f.jsx("p",{className:`${m?"text-slate-400":"text-slate-500"} mt-1`,children:"View and manage your warehouse storage locations"})]}),f.jsxs(tt,{variant:"primary",onClick:()=>K(!0),className:"flex items-center gap-2",children:[f.jsx(UZ,{size:16}),"Visual Map"]})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[f.jsx("div",{className:"flex-1",children:f.jsxs("div",{className:"relative",children:[f.jsx(kt,{type:"text",placeholder:"Search by product name, ASIN or barcode...",value:s,onChange:_e=>o(_e.target.value),icon:f.jsx(Ol,{size:16}),style:{paddingRight:48}}),f.jsx("button",{type:"button",onClick:Ce,className:"absolute right-1.5 top-1/2 -translate-y-1/2 flex items-center justify-center w-7 h-7 rounded-md transition-colors bg-blue-500 hover:bg-blue-600 focus:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 border-none p-0",style:{zIndex:2},title:"Scan barcode",tabIndex:0,"aria-label":"Scan barcode",children:f.jsx(lu,{size:16,className:"text-white"})})]})}),f.jsx("div",{className:"flex-1",children:f.jsx(kt,{type:"text",placeholder:"Search by location code...",value:l,onChange:_e=>c(_e.target.value),icon:f.jsx(Ol,{size:16})})}),f.jsx("div",{className:"w-full sm:w-48",children:f.jsx(Qr,{value:u,onChange:_e=>d(_e.target.value),options:[{value:"locationCode",label:"Sort by Location"},{value:"totalStock",label:"Sort by Total Stock"},{value:"availability",label:"Sort by Availability"}]})}),f.jsx(tt,{variant:"secondary",onClick:he,className:`flex items-center gap-2 ${e?"opacity-50 cursor-not-allowed":""}`,disabled:e,children:f.jsx(Ua,{size:16,className:e?"animate-spin":""})})]}),e?f.jsx("div",{className:"flex justify-center items-center h-64",children:f.jsx("div",{className:`animate-spin rounded-full h-12 w-12 border-b-2 ${m?"border-white":"border-slate-800"}`})}):W.length===0?f.jsxs("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:[f.jsx(Mo,{className:`w-12 h-12 ${m?"text-slate-600":"text-slate-400"}`}),f.jsx("p",{className:`text-lg font-medium ${m?"text-slate-400":"text-slate-600"}`,children:"No products found in any location"}),f.jsx("p",{className:"text-sm text-slate-500",children:"Add products to locations to see them here"})]}):f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.values(W).map(_e=>{const $e=a.has(_e.locationCode);return f.jsxs("div",{"data-location":_e.locationCode,className:`${m?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} 
                  rounded-lg shadow-sm border transition-all duration-200 ease-in-out
                  hover:shadow-md ${$e?"ring-2 ring-blue-500":""}`,children:[f.jsxs("div",{className:`p-4 border-b ${m?"border-slate-700 hover:bg-slate-700/50":"border-slate-200 hover:bg-slate-100"} 
                    cursor-pointer transition-colors duration-200`,onClick:()=>Pe(_e.locationCode),children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:`p-2 rounded-lg ${m?"bg-slate-700":"bg-slate-100"}`,children:f.jsx(Mo,{className:`w-5 h-5 ${m?"text-blue-400":"text-blue-600"}`})}),f.jsx("h3",{className:`text-lg font-medium ${m?"text-white":"text-slate-800"}`,children:_e.locationCode==="Awaiting Location"?"Awaiting Location":_e.locationCode==="Awaiting Locations Sparklin"?"Awaiting Locations Sparklin":_e.locationCode==="Awaiting Locations Aztec"?"Awaiting Locations Aztec":`Location ${_e.locationCode}`})]}),f.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[f.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:h[_e.locationCode]!==!1,onChange:Ne=>{Ne.stopPropagation(),ce(_e.locationCode)},className:"sr-only peer"}),f.jsx("div",{className:`w-11 h-6 rounded-full transition-colors duration-200
                            ${h[_e.locationCode]!==!1?"bg-green-500":"bg-red-500"}
                            peer-focus:ring-2 peer-focus:ring-blue-500
                          `}),f.jsx("div",{className:`absolute left-0.5 top-0.5 w-5 h-5 bg-white rounded-full shadow-md transition-transform duration-200
                            ${h[_e.locationCode]!==!1?"translate-x-5":""}
                          `})]}),f.jsx("span",{className:`text-xs font-semibold ml-2 ${h[_e.locationCode]!==!1?"text-green-500":"text-red-500"}`,children:h[_e.locationCode]!==!1?"Available":"Not Available"}),f.jsx("button",{className:"ml-2 p-1 rounded hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",onClick:Ne=>{Ne.stopPropagation(),Pe(_e.locationCode)},"aria-label":$e?"Collapse":"Expand",children:$e?f.jsx(g9,{className:`w-5 h-5 ${m?"text-blue-400":"text-blue-600"}`}):f.jsx(Sl,{className:`w-5 h-5 ${m?"text-blue-400":"text-blue-600"}`})})]})]}),f.jsxs("div",{className:"flex justify-between items-end mt-2",children:[f.jsxs("div",{children:[f.jsx("p",{className:`text-sm ${m?"text-slate-400":"text-slate-500"}`,children:"Total Stock"}),f.jsxs("p",{className:`font-bold text-2xl ${m?"text-white":"text-slate-800"}`,children:[_e.totalStock," units"]})]}),f.jsxs("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:[s.trim()?_e.products.filter(Ne=>{if(Ne.quantity===0)return!1;const Ie=s.toLowerCase();return Ne.name.toLowerCase().includes(Ie)||Ne.asin&&Ne.asin.split(",").some(We=>We.trim().toLowerCase().includes(Ie))||Ne.barcode&&Ne.barcode.toLowerCase().includes(Ie)}).length:_e.products.filter(Ne=>Ne.quantity>0).length," product",(s.trim()?_e.products.filter(Ne=>{if(Ne.quantity===0)return!1;const Ie=s.toLowerCase();return Ne.name.toLowerCase().includes(Ie)||Ne.asin&&Ne.asin.split(",").some(We=>We.trim().toLowerCase().includes(Ie))||Ne.barcode&&Ne.barcode.toLowerCase().includes(Ie)}).length:_e.products.filter(Ne=>Ne.quantity>0).length)!==1?"s":""]})]})]}),$e&&f.jsxs("div",{className:"p-4 space-y-4 overflow-hidden transition-all duration-300 ease-in-out",children:[f.jsx("h4",{className:`font-medium ${m?"text-slate-300":"text-slate-700"}`,children:s.trim()?_e.products.filter(Ne=>{if(Ne.quantity===0)return!1;const Ie=s.toLowerCase();return Ne.name.toLowerCase().includes(Ie)||Ne.asin&&Ne.asin.split(",").some(We=>We.trim().toLowerCase().includes(Ie))||Ne.barcode&&Ne.barcode.toLowerCase().includes(Ie)}).length===0:_e.products.filter(Ne=>Ne.quantity>0).length===0?"No products in this location":s.trim()?"Matching products in this location:":"Products in this location:"}),f.jsx("div",{className:"space-y-4",children:_e.products.filter(Ne=>{if(Ne.quantity===0)return!1;if(s.trim()){const Ie=s.toLowerCase();return Ne.name.toLowerCase().includes(Ie)||Ne.asin&&Ne.asin.split(",").some(We=>We.trim().toLowerCase().includes(Ie))||Ne.barcode&&Ne.barcode.toLowerCase().includes(Ie)}return!0}).map(Ne=>{const Ie=_e.totalStock===0?0:Ne.quantity/_e.totalStock*100,We=s.toLowerCase(),it=Ne.name.toLowerCase().includes(We)||Ne.asin&&Ne.asin.split(",").some(ht=>ht.trim().toLowerCase().includes(We))||Ne.barcode&&Ne.barcode.toLowerCase().includes(We);return f.jsxs("div",{className:`space-y-2 p-2 rounded-md transition-colors cursor-pointer hover:bg-opacity-80 ${it?m?"bg-blue-900/30 border border-blue-500/50":"bg-blue-50 border border-blue-200":m?"hover:bg-slate-700":"hover:bg-slate-100"}`,onClick:async()=>{var xt;const ht=await sc(ur(Xe,"inventory",Ne.id));if(ht.exists()){const St=ht.data(),mt={...St,id:Ne.id,lastUpdated:(xt=St.lastUpdated)!=null&&xt.toDate?St.lastUpdated.toDate():new Date(St.lastUpdated)};M(mt)}else g("Failed to fetch product details","error")},children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsx("h4",{className:`font-medium ${it?"text-blue-600":m?"text-white":"text-slate-800"}`,children:Ne.name}),f.jsxs("p",{className:`text-sm ${m?"text-slate-400":"text-slate-500"}`,children:["Shelf ",Ne.shelfNumber]})]}),f.jsxs("div",{className:"text-right flex flex-col items-end gap-2",children:[f.jsxs("p",{className:`font-medium ${m?"text-white":"text-slate-800"}`,children:[Ne.quantity," units"]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{className:"px-2 py-1 bg-blue-500 text-white rounded text-xs hover:bg-blue-600 flex items-center gap-1",onClick:async ht=>{ht.stopPropagation();const xt=await sc(ur(Xe,"inventory",Ne.id));if(xt.exists()){const St=xt.data();b({...St,id:Ne.id}),P(1),T(Ne.locationCode),_(Ne.shelfNumber),y(!0)}else g("Failed to fetch product details","error")},children:"Move"}),f.jsxs("button",{className:"px-2 py-1 bg-red-500 text-white rounded text-xs hover:bg-red-600 flex items-center gap-1",onClick:async ht=>{ht.stopPropagation();const xt=await sc(ur(Xe,"inventory",Ne.id));if(xt.exists()){const St=xt.data();H({...St,id:Ne.id})}else g("Failed to fetch product details","error")},children:[f.jsx(ki,{size:12}),"Delete"]})]})]})]}),f.jsx("div",{className:`w-full ${m?"bg-slate-700":"bg-slate-200"} rounded-full h-2`,children:f.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ease-in-out
                                  ${Ie>75?"bg-green-500":Ie>25?"bg-blue-500":"bg-orange-500"}`,style:{width:`${Ie}%`},title:`${Ne.quantity} out of ${_e.totalStock} units (${Ie.toFixed(1)}%)`})})]},Ne.id)})})]})]},_e.locationCode)})}),f.jsx(on,{isOpen:v,onClose:()=>y(!1),title:"Move Stock",children:w&&f.jsxs("form",{onSubmit:_e=>{_e.preventDefault(),Le()},className:`space-y-4 ${m?"bg-slate-800 text-white":"bg-white text-slate-800"} p-4 rounded-lg`,children:[f.jsxs("div",{children:[f.jsx("label",{className:`block text-sm font-medium mb-1 ${m?"text-slate-200":"text-slate-700"}`,children:"How many units to move?"}),f.jsx("input",{type:"number",min:1,max:w.quantity,value:D,onChange:_e=>P(Number(_e.target.value)),className:`w-full rounded border px-2 py-1 ${m?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-800"}`,required:!0}),f.jsxs("div",{className:`text-xs mt-1 ${m?"text-slate-400":"text-slate-500"}`,children:["Available: ",w.quantity]})]}),f.jsxs("div",{children:[f.jsx("label",{className:`block text-sm font-medium mb-1 ${m?"text-slate-200":"text-slate-700"}`,children:"New Location"}),f.jsx("select",{value:O,onChange:_e=>se(_e.target.value),className:`w-full rounded border px-2 py-1 ${m?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-800"}`,required:!0,children:ge.map(_e=>f.jsx("option",{value:_e,children:_e},_e))})]}),f.jsxs("div",{children:[f.jsx("label",{className:`block text-sm font-medium mb-1 ${m?"text-slate-200":"text-slate-700"}`,children:"Shelf Number"}),f.jsx("select",{value:S,onChange:_e=>_(_e.target.value),className:`w-full rounded border px-2 py-1 ${m?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-800"}`,required:!0,children:z.map(_e=>f.jsx("option",{value:_e.value,children:_e.label},_e.value))})]}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx("button",{type:"button",className:`px-3 py-1 rounded ${m?"bg-slate-600 text-white":"bg-slate-200 text-slate-800"}`,onClick:()=>y(!1),children:"Cancel"}),f.jsx("button",{type:"submit",className:`px-3 py-1 rounded ${m?"bg-blue-700 text-white":"bg-blue-600 text-white"}`,disabled:j,children:j?"Moving...":"Move"})]})]})}),f.jsx(Eh,{isOpen:E,onClose:()=>k(!1),onBarcodeScanned:Te}),f.jsx(gh,{isOpen:!!V,onClose:()=>H(null),onConfirm:Ye,title:"Delete Product",message:V?`Are you sure you want to delete "${V.name}" (${V.quantity} units) from location ${V.locationCode}-${V.shelfNumber}? This action cannot be undone.`:"",isLoading:re}),I&&f.jsx(oy,{isOpen:!!I,onClose:()=>M(null),item:I}),q&&f.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[f.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>K(!1)}),f.jsxs("div",{className:`relative w-full h-full max-w-none max-h-none m-0 rounded-none ${m?"bg-slate-900":"bg-white"} flex flex-col`,children:[f.jsxs("div",{className:`flex items-center justify-between p-6 border-b ${m?"border-slate-700":"border-slate-200"}`,children:[f.jsx("div",{children:f.jsx("h2",{className:`text-2xl font-bold ${m?"text-white":"text-slate-800"}`,children:"Warehouse Visual Map"})}),f.jsx("button",{onClick:()=>K(!1),className:`p-2 rounded-lg ${m?"hover:bg-slate-700":"hover:bg-slate-100"} transition-colors`,children:f.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsx("div",{className:"flex-1 overflow-hidden p-6",children:f.jsxs("div",{className:`space-y-6 h-full flex flex-col ${m?"border-slate-800":"bg-white"}`,children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-4 h-4 bg-green-500 rounded"}),f.jsx("span",{className:`text-sm ${m?"text-slate-300":"text-slate-600"}`,children:"High Stock (50+)"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-4 h-4 bg-yellow-500 rounded"}),f.jsx("span",{className:`text-sm ${m?"text-slate-300":"text-slate-600"}`,children:"Medium Stock (10-49)"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-4 h-4 bg-red-500 rounded"}),f.jsx("span",{className:`text-sm ${m?"text-slate-300":"text-slate-600"}`,children:"Low Stock (1-9)"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-4 h-4 bg-gray-300 rounded"}),f.jsx("span",{className:`text-sm ${m?"text-slate-300":"text-slate-600"}`,children:"Empty"})]})]}),f.jsx("div",{})]}),f.jsx("div",{className:"flex-1 overflow-auto",children:f.jsx("div",{className:"grid grid-cols-12 gap-2 min-w-max h-full",children:ge.map(_e=>{const $e=xe[_e],Ne=($e==null?void 0:$e.totalStock)||0,Ie=($e==null?void 0:$e.products.filter(St=>St.quantity>0).length)||0,We=h[_e]!==!1;let it="bg-gray-300",ht="text-gray-600";Ne>=50?(it="bg-green-500",ht="text-white"):Ne>=10?(it="bg-yellow-500",ht="text-white"):Ne>=1&&(it="bg-red-500",ht="text-white");const xt=We?"":"border-2 border-red-400";return f.jsxs("div",{className:`
                            ${it} ${ht} ${xt}
                            p-4 rounded-lg text-center text-sm font-medium
                            hover:opacity-80 transition-all duration-200 cursor-pointer
                            hover:scale-105 hover:shadow-lg
                            min-w-[70px] min-h-[50px] flex flex-col justify-center items-center
                          `,title:`${_e}: ${Ne} units, ${Ie} products${We?"":" (Unavailable)"}`,onClick:()=>{const St=document.querySelector(`[data-location="${_e}"]`);St&&(St.scrollIntoView({behavior:"smooth",block:"center"}),K(!1))},children:[f.jsx("div",{className:"font-bold",children:_e}),f.jsxs("div",{className:"text-xs opacity-90",children:[Ne," - ",Ie,"p"]})]},_e)})})}),f.jsxs("div",{className:`p-4 rounded-lg ${m?"bg-slate-700":"bg-slate-100"}`,children:[f.jsx("h4",{className:`font-semibold mb-2 ${m?"text-white":"text-slate-800"}`,children:"Summary"}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[f.jsxs("div",{children:[f.jsx("span",{className:`${m?"text-slate-300":"text-slate-600"}`,children:"Total Locations:"}),f.jsx("span",{className:`ml-2 font-semibold ${m?"text-white":"text-slate-800"}`,children:ge.length})]}),f.jsxs("div",{children:[f.jsx("span",{className:`${m?"text-slate-300":"text-slate-600"}`,children:"Occupied:"}),f.jsx("span",{className:`ml-2 font-semibold ${m?"text-white":"text-slate-800"}`,children:Object.values(xe).filter(_e=>_e.totalStock>0).length})]}),f.jsxs("div",{children:[f.jsx("span",{className:`${m?"text-slate-300":"text-slate-600"}`,children:"Total Stock:"}),f.jsx("span",{className:`ml-2 font-semibold ${m?"text-white":"text-slate-800"}`,children:Object.values(xe).reduce((_e,$e)=>_e+$e.totalStock,0)})]}),f.jsxs("div",{children:[f.jsx("span",{className:`${m?"text-slate-300":"text-slate-600"}`,children:"Unavailable:"}),f.jsx("span",{className:`ml-2 font-semibold ${m?"text-white":"text-slate-800"}`,children:Object.keys(h).filter(_e=>h[_e]===!1).length})]})]})]})]})})]})]})]})},XBe=()=>{const[e,t]=F.useState(""),[r,n]=F.useState(""),[a,i]=F.useState(""),[s,o]=F.useState(""),[l,c]=F.useState("name"),[u,d]=F.useState(!1),[h,p]=F.useState(!1),[g,m]=F.useState(!1),[v,y]=F.useState(!1),[w,b]=F.useState(!1),[D,P]=F.useState(null),[O,T]=F.useState([]),[S,_]=F.useState(new Set),[j,N]=F.useState(!1),{showToast:E}=mc(),{isDarkMode:k}=Zr(),{user:U}=ba(),z=F.useCallback(()=>{switch(U==null?void 0:U.role){case"fahiz":return{title:"Fahiz Stock",storeName:"Fahiz",storeNameDisplay:"FAHIZ"};case"aphy":return{title:"APHY Stock",storeName:"APHY",storeNameDisplay:"APHY"};case"supply_serve":default:return{title:"Supply & Serve Stock",storeName:"supply & serve",storeNameDisplay:"SUPPLY & SERVE"}}},[U==null?void 0:U.role])(),[X,V]=F.useState(!1),[H,re]=F.useState(null),[ee,I]=F.useState(!1),[M,q]=F.useState(!1),[K,J]=F.useState(null),[se,he]=F.useState(null),[ie,ge]=F.useState(!1),[xe,W]=F.useState("all"),[Pe,Ce]=F.useState(!1);F.useEffect(()=>{const De=setTimeout(()=>{n(e)},300);return()=>{clearTimeout(De)}},[e]),F.useEffect(()=>{const De=setTimeout(()=>{o(a)},300);return()=>{clearTimeout(De)}},[a]);const Te=F.useCallback(async()=>{b(!0);try{const De=ir(vt(Xe,"inventory"),ja("name")),nt=(await sr(De)).docs.map(st=>{const Ct=st.data();return{id:st.id,...Ct,lastUpdated:Ct.lastUpdated instanceof nr?Ct.lastUpdated.toDate():new Date(Ct.lastUpdated)}});T(nt)}catch(De){console.error("Error fetching stock items:",De),E("Failed to fetch stock items","error")}finally{b(!1)}},[E]);F.useEffect(()=>{Te()},[Te]),F.useEffect(()=>{const De=rt=>{const nt=rt.target;nt.closest(".store-filter-dropdown")||ge(!1),nt.closest(".status-filter-dropdown")||Ce(!1)};return(ie||Pe)&&document.addEventListener("mousedown",De),()=>{document.removeEventListener("mousedown",De)}},[ie,Pe]);const ce=F.useMemo(()=>[{value:"name",label:"Name (A-Z)"},{value:"quantity",label:"Quantity (High-Low)"},{value:"price",label:"Price (High-Low)"},{value:"date",label:"Date Updated"}],[]),Fe=F.useMemo(()=>{const De=r.toLowerCase(),rt=s.toLowerCase(),nt=z.storeName;return O.filter(st=>{if(st.quantity===0||st.storeName!==nt)return!1;const Ct=r===""||st.name.toLowerCase().startsWith(De),Ut=s===""||st.barcode&&st.barcode.toLowerCase().includes(rt)||st.asin&&st.asin.split(",").some(Dt=>Dt.trim().toLowerCase().includes(rt)),Pt=xe==="all"||st.status===xe;return Ct&&Ut&&Pt}).sort((st,Ct)=>l==="name"?st.name.localeCompare(Ct.name):l==="quantity"?Ct.quantity-st.quantity:l==="price"?Ct.price-st.price:l==="date"?new Date(Ct.lastUpdated).getTime()-new Date(st.lastUpdated).getTime():0)},[O,r,s,xe,l,z]),Ge=F.useMemo(()=>O.filter(De=>De.quantity>0&&De.storeName===z.storeName).length,[O,z]),Le=F.useCallback((De,rt)=>O.filter(nt=>nt.locationCode===De&&nt.shelfNumber===rt),[O]),Ye=F.useCallback(async De=>{b(!0);try{const rt=[];for(const nt of De)if(nt.barcode){const st=ir(vt(Xe,"inventory"),lr("barcode","==",nt.barcode),lr("quantity","==",0)),Ct=await sr(st);if(!Ct.empty){const Ut=Ct.docs[0];if(await xs(ur(Xe,"inventory",Ut.id)),T(Pt=>Pt.filter(Dt=>Dt.id!==Ut.id)),U){const Pt=Ut.data();await hr(vt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`deleted hidden product "${Pt.name}" with barcode ${nt.barcode} from location ${Pt.locationCode}-${Pt.shelfNumber}`,time:new Date().toISOString()})}}}for(const nt of De){const st=await hr(vt(Xe,"inventory"),{...nt,lastUpdated:nr.fromDate(new Date)});rt.push({...nt,id:st.id,lastUpdated:new Date})}if(U){const nt=De.reduce((Ct,Ut)=>Ct+Ut.quantity,0),st=De.map(Ct=>`${Ct.quantity} at ${Ct.locationCode}-${Ct.shelfNumber}`).join(", ");await hr(vt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`added new product "${De[0].name}" with total quantity ${nt} (${st})`,time:new Date().toISOString()})}T(nt=>[...nt,...rt]),d(!1),I(!1),E("Stock items added successfully","success")}catch(rt){console.error("Error adding stock:",rt),E("Failed to add stock items","error")}finally{b(!1)}},[U,E]),_e=F.useCallback(async De=>{const rt=[];for(const nt of De){const st=Le(nt.locationCode,nt.shelfNumber);st.length>0&&rt.push({locationCode:nt.locationCode,shelfNumber:nt.shelfNumber,products:st})}if(rt.length>0){const nt=rt[0];he({locationCode:nt.locationCode,shelfNumber:nt.shelfNumber,existingProducts:nt.products,newProductName:De[0].name,newProductBarcode:De[0].barcode||void 0}),J(De),q(!0);return}await Ye(De)},[Le,Ye]),$e=F.useCallback(async()=>{K&&(await Ye(K),q(!1),J(null),he(null),d(!1),I(!1))},[K,Ye]),Ne=F.useCallback(()=>{q(!1),J(null),he(null),d(!1),I(!1)},[]),Ie=F.useCallback(async()=>{if(K&&se)try{b(!0);const De=se.existingProducts.find(rt=>rt.barcode===se.newProductBarcode);if(De){const rt=De.quantity+K[0].quantity,nt=ur(Xe,"inventory",De.id);await On(nt,{quantity:rt,lastUpdated:nr.fromDate(new Date)}),U&&(await hr(vt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`merged ${K[0].quantity} units of "${K[0].name}" with existing stock "${De.name}" at location ${se.locationCode}-${se.shelfNumber}`,time:new Date().toISOString()}),await hr(vt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`edited product "${De.name}": quantity from ${De.quantity} to ${rt}  Quantity before: ${De.quantity}, Quantity after: ${rt}`,time:new Date().toISOString()})),await Te(),E("Products merged successfully","success")}}catch(De){console.error("Error merging products:",De),E("Failed to merge products","error")}finally{b(!1),q(!1),J(null),he(null),d(!1),I(!1)}},[K,se,U,Te,E]),We=F.useCallback(async(De,rt)=>{var nt,st;b(!0);try{const Ct=new Date,Ut={},Pt=[];if(De.name!==rt.name&&(Ut.name=De.name,Pt.push(`name from "${rt.name}" to "${De.name}"`)),De.price!==rt.price){Ut.price=De.price;const Dt=Number(rt.price||0).toFixed(2),Vt=Number(De.price||0).toFixed(2);Pt.push(`price from ${Dt} to ${Vt}`)}if((De.locationCode!==rt.locationCode||De.shelfNumber!==rt.shelfNumber)&&(Ut.locationCode=De.locationCode,Ut.shelfNumber=De.shelfNumber,Pt.push(`location from ${rt.locationCode}-${rt.shelfNumber} to ${De.locationCode}-${De.shelfNumber}`)),De.supplier!==rt.supplier&&(Ut.supplier=De.supplier,Pt.push(`supplier from "${rt.supplier||"none"}" to "${De.supplier||"none"}"`)),De.asin!==rt.asin&&(Ut.asin=De.asin,Pt.push(`ASIN from "${rt.asin||"none"}" to "${De.asin||"none"}"`)),De.status!==rt.status&&(Ut.status=De.status,Pt.push(`status from "${rt.status}" to "${De.status}"`)),De.damagedItems!==rt.damagedItems&&(Ut.damagedItems=De.damagedItems,Pt.push(`damaged items from ${rt.damagedItems} to ${De.damagedItems}`)),De.fulfillmentType!==rt.fulfillmentType&&(Ut.fulfillmentType=De.fulfillmentType,Pt.push(`fulfillment type from "${rt.fulfillmentType.toUpperCase()}" to "${De.fulfillmentType.toUpperCase()}"`)),De.storeName!==rt.storeName&&(Ut.storeName=De.storeName,Pt.push(`store name from "${(nt=rt.storeName)==null?void 0:nt.toUpperCase()}" to "${(st=De.storeName)==null?void 0:st.toUpperCase()}"`)),De.unit!==rt.unit&&(Ut.unit=De.unit,Pt.push(`unit from "${rt.unit||"none"}" to "${De.unit||"none"}"`)),De.barcode!==rt.barcode&&(Ut.barcode=De.barcode,Pt.push(`barcode from "${rt.barcode||"none"}" to "${De.barcode||"none"}"`)),Object.keys(Ut).length>0){const Dt=ur(Xe,"inventory",De.id);await On(Dt,{...Ut,lastUpdated:nr.fromDate(Ct)}),U&&Pt.length>0&&await hr(vt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`edited product "${De.name}": ${Pt.join(", ")}`,time:Ct.toISOString()});const Vt=O.map(xr=>xr.id===De.id?{...xr,...Ut,lastUpdated:Ct}:xr);T(Vt),E("Stock details updated successfully","success"),p(!1),P(null)}if(De.quantity>rt.quantity)re({itemId:De.id,newQuantity:De.quantity}),V(!0),p(!1);else if(De.quantity!==rt.quantity){const Dt=ur(Xe,"inventory",De.id);await On(Dt,{quantity:De.quantity,lastUpdated:nr.fromDate(Ct)}),U&&await hr(vt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`edited product "${De.name}": quantity from ${rt.quantity} to ${De.quantity}`,time:Ct.toISOString()});const Vt=O.map(xr=>xr.id===De.id?{...xr,quantity:De.quantity,lastUpdated:Ct}:xr);T(Vt),E("Stock quantity updated","success"),p(!1),P(null)}else p(!1),P(null)}catch(Ct){console.error("Error updating stock:",Ct),E("Failed to update stock item","error")}finally{b(!1)}},[O,U,E]),it=F.useCallback(async()=>{if(H){b(!0);try{const{itemId:De,newQuantity:rt}=H,nt=new Date,st=O.find(Pt=>Pt.id===De),Ct=ur(Xe,"inventory",De);await On(Ct,{quantity:rt,lastUpdated:nr.fromDate(nt)}),U&&st&&await hr(vt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`edited product "${st.name}": quantity from ${st.quantity} to ${rt}`,time:nt.toISOString()});const Ut=O.map(Pt=>Pt.id===De?{...Pt,quantity:rt,lastUpdated:nt}:Pt);T(Ut),E("Stock quantity updated successfully","success"),P(null)}catch(De){console.error("Error updating quantity:",De),E("Failed to update quantity","error")}finally{b(!1),V(!1),re(null)}}},[H,O,U,E]),ht=F.useCallback(async De=>{b(!0);try{const rt=O.find(nt=>nt.id===De);await xs(ur(Xe,"inventory",De)),U&&rt&&await hr(vt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`deleted product "${rt.name}" (${rt.quantity} units) from location ${rt.locationCode}-${rt.shelfNumber}`,time:new Date().toISOString()}),T(O.filter(nt=>nt.id!==De)),m(!1),P(null),E("Stock item deleted successfully","success")}catch(rt){console.error("Error deleting stock:",rt),E("Failed to delete stock item","error")}finally{b(!1)}},[O,U,E]),xt=F.useCallback(De=>{P(De)},[]),St=F.useCallback((De,rt)=>{De.stopPropagation(),P(rt),p(!0)},[]),mt=F.useCallback((De,rt)=>{De.stopPropagation(),P(rt),m(!0)},[]),ut=F.useCallback(()=>{S.size===Fe.length?_(new Set):_(new Set(Fe.map(De=>De.id)))},[Fe,S.size]),Xt=F.useCallback(De=>{const rt=new Set(S);rt.has(De)?rt.delete(De):rt.add(De),_(rt)},[S]),Kt=F.useCallback(async()=>{if(S.size!==0){b(!0);try{const De=O.filter(nt=>S.has(nt.id)),rt=Array.from(S).map(nt=>xs(ur(Xe,"inventory",nt)));if(await Promise.all(rt),U){const nt=De.map(st=>`"${st.name}" (${st.quantity} units) from ${st.locationCode}-${st.shelfNumber}`).join(", ");await hr(vt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`Bulk deleted ${S.size} products: ${nt}`,time:new Date().toISOString()})}T(O.filter(nt=>!S.has(nt.id))),_(new Set),N(!1),y(!1),E(`Successfully deleted ${S.size} items`,"success")}catch(De){console.error("Error deleting items:",De),E("Failed to delete selected items","error")}finally{b(!1)}}},[S,O,U,E]),jr=F.useCallback(async()=>{if(S.size!==0){b(!0);try{const De=O.filter(nt=>S.has(nt.id)&&nt.status==="pending");if(De.length===0){E("No pending items selected to activate","error");return}const rt=De.map(nt=>On(ur(Xe,"inventory",nt.id),{status:"active",lastUpdated:nr.fromDate(new Date)}));if(await Promise.all(rt),U){const nt=De.map(st=>`"${st.name}" from ${st.locationCode}-${st.shelfNumber}`).join(", ");await hr(vt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`Bulk activated ${De.length} pending products: ${nt}`,time:new Date().toISOString()})}T(O.map(nt=>S.has(nt.id)&&nt.status==="pending"?{...nt,status:"active",lastUpdated:new Date}:nt)),_(new Set),N(!1),E(`Successfully activated ${De.length} items`,"success")}catch(De){console.error("Error activating items:",De),E("Failed to activate selected items","error")}finally{b(!1)}}},[S,O,U,E]),_r=F.useCallback(()=>{N(!j),j||_(new Set)},[j]),Dr=F.useCallback(({item:De})=>f.jsxs("tr",{className:`hover:${k?"bg-slate-700/50":"bg-slate-50"} cursor-pointer`,onClick:()=>xt(De),children:[j&&f.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"}`,onClick:rt=>rt.stopPropagation(),children:f.jsx("input",{type:"checkbox",checked:S.has(De.id),onChange:()=>Xt(De.id),className:`h-4 w-4 text-blue-600 rounded ${k?"border-slate-600 bg-slate-700":"border-slate-300"} focus:ring-blue-500`})}),f.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-blue-400":"text-blue-700"} font-medium`,children:De.name}),f.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"}`,children:De.unit||"-"}),f.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"}`,children:f.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${De.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:De.status==="active"?"Active":"Pending"})}),f.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"}`,children:f.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${De.fulfillmentType==="fba"?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:De.fulfillmentType.toUpperCase()})}),f.jsxs("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"}`,children:[De.locationCode," - ",De.shelfNumber]}),f.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"}`,children:De.asin?De.asin.split(",").length>3?De.asin.split(",").slice(0,3).map(rt=>rt.trim()).join(", ")+"...":De.asin.split(",").map(rt=>rt.trim()).join(", "):"-"}),f.jsx("td",{className:`px-4 py-3 text-right text-sm ${k?"text-slate-200":"text-slate-900"}`,children:Number(De.price)>0?`${Number(De.price).toFixed(2)}`:"(Not set)"}),f.jsx("td",{className:`px-4 py-3 text-right text-sm ${k?"text-slate-200":"text-slate-900"}`,children:Number(De.quantity*De.price)>0?`${Number(De.quantity*De.price).toFixed(2)}`:"(Not set)"}),f.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"} text-right`,children:f.jsxs("div",{className:"flex items-center justify-end gap-2",children:[De.quantity<=10&&f.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-red-100 text-red-700 text-center",children:"Critical Low"}),De.quantity>10&&De.quantity<=25&&f.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-yellow-100 text-yellow-700 text-center",children:"Low Stock"}),f.jsx("span",{children:De.quantity})]})}),f.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"}`,children:Wt(new Date(De.lastUpdated),"MMM d, yyyy")}),f.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"} text-right`,children:f.jsxs("div",{className:"flex items-center justify-end gap-2",children:[f.jsx("button",{onClick:rt=>St(rt,De),className:`p-1 ${k?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,title:"Edit",children:f.jsx(bs,{size:16})}),f.jsx("button",{onClick:rt=>mt(rt,De),className:`p-1 ${k?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,title:"Delete",children:f.jsx(ki,{size:16})})]})})]},De.id),[j,S,k,xt,Xt,St,mt]);return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between py-4",children:[f.jsx("h1",{className:`text-2xl font-bold ${k?"text-white":"text-gray-900"}`,children:z.title}),f.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${k?"bg-slate-800 text-blue-300":"bg-blue-100 text-blue-700"}`,children:[z.storeNameDisplay," Products: ",Ge]})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-4",children:[f.jsx("div",{children:f.jsxs("p",{className:`${k?"text-slate-400":"text-slate-500"} mt-1`,children:["Manage your ",z.storeNameDisplay.toLowerCase()," stock, track quantities, and monitor product status"]})}),f.jsx("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:j?f.jsxs(f.Fragment,{children:[xe==="pending"&&f.jsxs(tt,{onClick:jr,variant:"primary",className:"flex items-center gap-2 w-full sm:w-auto",disabled:w||S.size===0,children:[f.jsx(y9,{size:16}),"Go Live (",S.size,")"]}),f.jsx(tt,{onClick:_r,variant:"secondary",className:"flex items-center gap-2 w-full sm:w-auto",children:"Cancel"})]}):f.jsxs(f.Fragment,{children:[f.jsxs(tt,{variant:"secondary",onClick:()=>I(!0),className:"flex items-center gap-2 w-full sm:w-auto",children:[f.jsx(mi,{size:16}),"Quick Add"]}),f.jsxs(tt,{variant:"primary",onClick:()=>d(!0),className:"flex items-center gap-2 w-full sm:w-auto",children:[f.jsx(mi,{size:16}),"Add New Stock"]})]})})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[f.jsx("div",{className:"flex-1",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"relative",children:[f.jsx(Ol,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),f.jsx(kt,{type:"text",placeholder:"Search by product name",value:e,onChange:De=>t(De.target.value),className:"pl-10"})]}),f.jsxs("div",{className:"relative",children:[f.jsx(Ol,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),f.jsx(kt,{type:"text",placeholder:"Search by barcode or ASIN",value:a,onChange:De=>i(De.target.value),className:"pl-10"})]})]})}),f.jsx("div",{className:"w-full sm:w-48",children:f.jsx(Qr,{value:l,onChange:De=>c(De.target.value),options:ce})}),f.jsx("div",{className:"flex flex-row gap-2",children:f.jsxs("div",{className:"relative status-filter-dropdown",children:[f.jsxs(tt,{variant:"secondary",onClick:()=>Ce(!Pe),className:`flex items-center gap-2 ${xe!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[xe==="all"?"Status Filter":xe==="active"?"Active":"Pending",f.jsx(Sl,{size:16})]}),Pe&&f.jsx("div",{className:`absolute top-full left-0 mt-1 w-32 z-50 rounded-lg border ${k?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:f.jsxs("div",{className:"p-2",children:[f.jsx("div",{className:`text-sm font-medium mb-2 ${k?"text-slate-200":"text-slate-700"}`,children:"Filter by Status"}),f.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${k?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${xe==="all"?k?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{W("all"),Ce(!1)},children:"All"}),f.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${k?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${xe==="active"?k?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{W("active"),Ce(!1)},children:"Active"}),f.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${k?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${xe==="pending"?k?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{W("pending"),Ce(!1)},children:"Pending"}),f.jsx("div",{className:`border-t ${k?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:f.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${k?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{W("all"),Ce(!1)},children:"Clear Filter"})})]})})]})}),f.jsx(tt,{variant:"secondary",onClick:Te,className:`flex items-center gap-2 ${w?"opacity-50 cursor-not-allowed":""}`,disabled:w,children:f.jsx(Ua,{size:16,className:w?"animate-spin":""})})]}),w?f.jsx("div",{className:`text-center py-12 ${k?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:f.jsxs("div",{className:"flex flex-col items-center gap-4",children:[f.jsx(es,{className:`w-8 h-8 ${k?"text-blue-400":"text-blue-600"} animate-spin`}),f.jsx("p",{className:k?"text-slate-400":"text-slate-600",children:"Loading stock items..."})]})}):Fe.length>0?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"hidden md:block overflow-x-auto overflow-y-hidden",children:f.jsxs("table",{className:`min-w-full divide-y ${k?"divide-slate-700":"divide-slate-200"} ${k?"bg-slate-800":"bg-white"} rounded-lg border ${k?"border-slate-700":"border-slate-200"}`,children:[f.jsx("thead",{className:k?"bg-slate-700/50":"bg-slate-100",children:f.jsxs("tr",{children:[j&&f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("input",{type:"checkbox",checked:S.size===Fe.length,onChange:ut,className:`h-4 w-4 text-blue-600 rounded ${k?"border-slate-600 bg-slate-700":"border-slate-300"} focus:ring-blue-500`}),f.jsx("span",{children:"Select"})]})}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Unit"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Status"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"FT"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Price"}),f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Total Price"}),f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Quantity"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Last Updated"}),f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),f.jsx("tbody",{className:`divide-y ${k?"divide-slate-700":"divide-slate-200"}`,children:Fe.map((De,rt)=>f.jsx(Dr,{item:De,index:rt},De.id))})]})}),f.jsx("div",{className:"block md:hidden space-y-4",children:Fe.map(De=>f.jsxs("div",{className:`rounded-lg border ${k?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-4 shadow-sm flex flex-col gap-2`,onClick:()=>xt(De),children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:`font-semibold ${k?"text-blue-400":"text-blue-700"}`,children:De.name}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${De.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:De.status==="active"?"Active":"Pending"}),f.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${De.fulfillmentType==="fba"?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:De.fulfillmentType.toUpperCase()})]})]}),f.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[f.jsxs("span",{className:k?"text-slate-300":"text-slate-600",children:["Location: ",f.jsxs("span",{className:"font-medium",children:[De.locationCode," - ",De.shelfNumber]})]}),f.jsxs("span",{className:k?"text-slate-300":"text-slate-600",children:["Qty: ",f.jsx("span",{className:"font-medium",children:De.quantity})]}),De.asin&&f.jsxs("span",{className:k?"text-slate-300":"text-slate-600",children:["ASIN: ",f.jsx("span",{className:"font-medium",children:De.asin})]}),f.jsxs("span",{className:k?"text-slate-300":"text-slate-600",children:["Price: ",f.jsx("span",{className:"font-medium",children:Number(De.price)>0?`${Number(De.price).toFixed(2)}`:"(Not set)"})]}),f.jsxs("span",{className:k?"text-slate-300":"text-slate-600",children:["Total: ",f.jsx("span",{className:"font-medium",children:Number(De.quantity*De.price)>0?`${Number(De.quantity*De.price).toFixed(2)}`:"(Not set)"})]}),f.jsxs("span",{className:k?"text-slate-300":"text-slate-600",children:["Updated: ",f.jsx("span",{className:"font-medium",children:Wt(new Date(De.lastUpdated),"MMM d, yyyy")})]})]}),f.jsxs("div",{className:"flex gap-2 mt-2",children:[f.jsxs(tt,{size:"sm",variant:"secondary",onClick:rt=>{rt.stopPropagation(),St(rt,De)},children:[f.jsx(bs,{size:14})," Edit"]}),f.jsxs(tt,{size:"sm",variant:"danger",onClick:rt=>{rt.stopPropagation(),mt(rt,De)},children:[f.jsx(ki,{size:14})," Delete"]})]})]},De.id))})]}):f.jsx("div",{className:`text-center py-12 ${k?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:f.jsx("p",{className:k?"text-slate-400":"text-slate-500",children:"No stock items found. Try adjusting your search."})}),f.jsx(on,{isOpen:u,onClose:()=>d(!1),title:`Add New ${z.storeNameDisplay} Stock Item`,size:"xl",children:f.jsx(Qq,{onSubmit:_e,onCancel:()=>d(!1),isLoading:w,existingStockItems:O})}),f.jsx(on,{isOpen:ee,onClose:()=>I(!1),title:`Quick Add ${z.storeNameDisplay} Stock`,size:"md",children:f.jsx(Zq,{onSubmit:_e,onClose:()=>I(!1),isLoading:w})}),f.jsx(on,{isOpen:h,onClose:()=>p(!1),title:`Edit ${z.storeNameDisplay} Stock`,size:"xl",children:D&&f.jsx(Jq,{item:D,onSubmit:We,onCancel:()=>p(!1),isLoading:w})}),D&&f.jsx(gh,{isOpen:g,onClose:()=>{m(!1),P(null)},onConfirm:()=>ht(D.id),title:"Delete Stock Item",message:`Are you sure you want to delete "${D.name}"? This action cannot be undone.`,isLoading:w}),D&&!h&&!g&&!X&&f.jsx(oy,{isOpen:!!D,onClose:()=>P(null),item:D}),f.jsx(gh,{isOpen:v,onClose:()=>{y(!1),_(new Set)},onConfirm:Kt,title:"Delete Selected Items",message:`Are you sure you want to delete ${S.size} selected item${S.size>1?"s":""}? This action cannot be undone.`,isLoading:w}),f.jsx(on,{isOpen:X,onClose:()=>{V(!1),re(null)},title:"Confirm Quantity Update",children:f.jsxs("div",{children:[f.jsx("p",{children:"This product is already in stock in this location. Are you sure you want to add more quantity?"}),f.jsxs("div",{className:"flex justify-end gap-4 mt-4",children:[f.jsx(tt,{variant:"secondary",onClick:()=>{V(!1),re(null)},children:"No"}),f.jsx(tt,{onClick:it,isLoading:w,children:"Yes"})]})]})}),se&&f.jsx(eW,{isOpen:M,onClose:Ne,onConfirm:$e,onCancel:Ne,onMerge:Ie,locationCode:se.locationCode,shelfNumber:se.shelfNumber,existingProducts:se.existingProducts,newProductName:se.newProductName,newProductBarcode:se.newProductBarcode})]})},Po=({children:e,allowedRoles:t})=>{const{user:r}=ba();return r?t.includes(r.role)?f.jsx(f.Fragment,{children:e}):f.jsx(j4,{to:"/",replace:!0}):f.jsx(j4,{to:"/login",replace:!0})};function QBe(){return f.jsxs(hZ,{children:[f.jsx(ps,{path:"/login",element:f.jsx(Qce,{})}),f.jsxs(ps,{path:"/",element:f.jsx(Yce,{}),children:[f.jsx(ps,{index:!0,element:f.jsx(Po,{allowedRoles:["admin","manager","staff"],children:f.jsx(Uye,{})})}),f.jsx(ps,{path:"stock",element:f.jsx(Po,{allowedRoles:["admin","manager","staff"],children:f.jsx(exe,{})})}),f.jsx(ps,{path:"jobs",element:f.jsx(Po,{allowedRoles:["admin","manager","staff"],children:f.jsx(H$e,{})})}),f.jsx(ps,{path:"inventory",element:f.jsx(Po,{allowedRoles:["admin","manager"],children:f.jsx(txe,{})})}),f.jsx(ps,{path:"orders",element:f.jsx(Po,{allowedRoles:[""],children:f.jsx(i9e,{})})}),f.jsx(ps,{path:"outbound-stock",element:f.jsx(Po,{allowedRoles:["admin","manager","staff"],children:f.jsx(KBe,{})})}),f.jsx(ps,{path:"warehouse-locations",element:f.jsx(Po,{allowedRoles:["admin","manager","staff"],children:f.jsx(YBe,{})})}),f.jsx(ps,{path:"warehouse-operations",element:f.jsx(Po,{allowedRoles:["admin","manager","staff"],children:f.jsx(zBe,{})})}),f.jsx(ps,{path:"reports-analytics",element:f.jsx(Po,{allowedRoles:["admin","manager","staff"],children:f.jsx(WBe,{})})}),f.jsx(ps,{path:"settings",element:f.jsx(Po,{allowedRoles:["admin","manager","staff"],children:f.jsx(HBe,{})})}),f.jsx(ps,{path:"add",element:f.jsx(Po,{allowedRoles:["admin","manager","staff"],children:f.jsx(Yq,{})})}),f.jsx(ps,{path:"supply-serve",element:f.jsx(Po,{allowedRoles:["supply_serve","fahiz","aphy"],children:f.jsx(XBe,{})})})]})]})}r9(document.getElementById("root")).render(f.jsx(F.StrictMode,{children:f.jsx(wZ,{basename:"/",children:f.jsx(Zae,{children:f.jsx(Jae,{children:f.jsx(Xce,{children:f.jsx(QBe,{})})})})})}));export{xn as _,ug as c,Dn as g};
