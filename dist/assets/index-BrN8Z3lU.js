function qJ(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Bg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var a9={exports:{}},F5={},i9={exports:{}},Kr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey=Symbol.for("react.element"),WJ=Symbol.for("react.portal"),HJ=Symbol.for("react.fragment"),GJ=Symbol.for("react.strict_mode"),KJ=Symbol.for("react.profiler"),YJ=Symbol.for("react.provider"),XJ=Symbol.for("react.context"),QJ=Symbol.for("react.forward_ref"),JJ=Symbol.for("react.suspense"),ZJ=Symbol.for("react.memo"),eZ=Symbol.for("react.lazy"),Yj=Symbol.iterator;function tZ(e){return e===null||typeof e!="object"?null:(e=Yj&&e[Yj]||e["@@iterator"],typeof e=="function"?e:null)}var s9={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},o9=Object.assign,l9={};function vm(e,t,r){this.props=e,this.context=t,this.refs=l9,this.updater=r||s9}vm.prototype.isReactComponent={};vm.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};vm.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function c9(){}c9.prototype=vm.prototype;function tk(e,t,r){this.props=e,this.context=t,this.refs=l9,this.updater=r||s9}var rk=tk.prototype=new c9;rk.constructor=tk;o9(rk,vm.prototype);rk.isPureReactComponent=!0;var Xj=Array.isArray,u9=Object.prototype.hasOwnProperty,nk={current:null},f9={key:!0,ref:!0,__self:!0,__source:!0};function d9(e,t,r){var n,a={},i=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)u9.call(t,n)&&!f9.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:Ey,type:e,key:i,ref:s,props:a,_owner:nk.current}}function rZ(e,t){return{$$typeof:Ey,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ak(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ey}function nZ(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Qj=/\/+/g;function XS(e,t){return typeof e=="object"&&e!==null&&e.key!=null?nZ(""+e.key):t.toString(36)}function $2(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Ey:case WJ:s=!0}}if(s)return s=e,a=a(s),e=n===""?"."+XS(s,0):n,Xj(a)?(r="",e!=null&&(r=e.replace(Qj,"$&/")+"/"),$2(a,t,r,"",function(c){return c})):a!=null&&(ak(a)&&(a=rZ(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(Qj,"$&/")+"/")+e)),t.push(a)),1;if(s=0,n=n===""?".":n+":",Xj(e))for(var o=0;o<e.length;o++){i=e[o];var l=n+XS(i,o);s+=$2(i,t,r,l,a)}else if(l=tZ(e),typeof l=="function")for(e=l.call(e),o=0;!(i=e.next()).done;)i=i.value,l=n+XS(i,o++),s+=$2(i,t,r,l,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Dx(e,t,r){if(e==null)return e;var n=[],a=0;return $2(e,n,"","",function(i){return t.call(r,i,a++)}),n}function aZ(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ks={current:null},B2={transition:null},iZ={ReactCurrentDispatcher:ks,ReactCurrentBatchConfig:B2,ReactCurrentOwner:nk};function h9(){throw Error("act(...) is not supported in production builds of React.")}Kr.Children={map:Dx,forEach:function(e,t,r){Dx(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Dx(e,function(){t++}),t},toArray:function(e){return Dx(e,function(t){return t})||[]},only:function(e){if(!ak(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Kr.Component=vm;Kr.Fragment=HJ;Kr.Profiler=KJ;Kr.PureComponent=tk;Kr.StrictMode=GJ;Kr.Suspense=JJ;Kr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iZ;Kr.act=h9;Kr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=o9({},e.props),a=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=nk.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)u9.call(t,l)&&!f9.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:Ey,type:e.type,key:a,ref:i,props:n,_owner:s}};Kr.createContext=function(e){return e={$$typeof:XJ,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:YJ,_context:e},e.Consumer=e};Kr.createElement=d9;Kr.createFactory=function(e){var t=d9.bind(null,e);return t.type=e,t};Kr.createRef=function(){return{current:null}};Kr.forwardRef=function(e){return{$$typeof:QJ,render:e}};Kr.isValidElement=ak;Kr.lazy=function(e){return{$$typeof:eZ,_payload:{_status:-1,_result:e},_init:aZ}};Kr.memo=function(e,t){return{$$typeof:ZJ,type:e,compare:t===void 0?null:t}};Kr.startTransition=function(e){var t=B2.transition;B2.transition={};try{e()}finally{B2.transition=t}};Kr.unstable_act=h9;Kr.useCallback=function(e,t){return ks.current.useCallback(e,t)};Kr.useContext=function(e){return ks.current.useContext(e)};Kr.useDebugValue=function(){};Kr.useDeferredValue=function(e){return ks.current.useDeferredValue(e)};Kr.useEffect=function(e,t){return ks.current.useEffect(e,t)};Kr.useId=function(){return ks.current.useId()};Kr.useImperativeHandle=function(e,t,r){return ks.current.useImperativeHandle(e,t,r)};Kr.useInsertionEffect=function(e,t){return ks.current.useInsertionEffect(e,t)};Kr.useLayoutEffect=function(e,t){return ks.current.useLayoutEffect(e,t)};Kr.useMemo=function(e,t){return ks.current.useMemo(e,t)};Kr.useReducer=function(e,t,r){return ks.current.useReducer(e,t,r)};Kr.useRef=function(e){return ks.current.useRef(e)};Kr.useState=function(e){return ks.current.useState(e)};Kr.useSyncExternalStore=function(e,t,r){return ks.current.useSyncExternalStore(e,t,r)};Kr.useTransition=function(){return ks.current.useTransition()};Kr.version="18.3.1";i9.exports=Kr;var F=i9.exports;const Be=Dn(F),sZ=qJ({__proto__:null,default:Be},[F]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oZ=F,lZ=Symbol.for("react.element"),cZ=Symbol.for("react.fragment"),uZ=Object.prototype.hasOwnProperty,fZ=oZ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dZ={key:!0,ref:!0,__self:!0,__source:!0};function p9(e,t,r){var n,a={},i=null,s=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)uZ.call(t,n)&&!dZ.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:lZ,type:e,key:i,ref:s,props:a,_owner:fZ.current}}F5.Fragment=cZ;F5.jsx=p9;F5.jsxs=p9;a9.exports=F5;var f=a9.exports,m9={exports:{}},yo={},g9={exports:{}},v9={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(q,U){var ee=q.length;q.push(U);e:for(;0<ee;){var Z=ee-1>>>1,I=q[Z];if(0<a(I,U))q[Z]=U,q[ee]=I,ee=Z;else break e}}function r(q){return q.length===0?null:q[0]}function n(q){if(q.length===0)return null;var U=q[0],ee=q.pop();if(ee!==U){q[0]=ee;e:for(var Z=0,I=q.length,M=I>>>1;Z<M;){var z=2*(Z+1)-1,K=q[z],X=z+1,ae=q[X];if(0>a(K,ee))X<I&&0>a(ae,K)?(q[Z]=ae,q[X]=ee,Z=X):(q[Z]=K,q[z]=ee,Z=z);else if(X<I&&0>a(ae,ee))q[Z]=ae,q[X]=ee,Z=X;else break e}}return U}function a(q,U){var ee=q.sortIndex-U.sortIndex;return ee!==0?ee:q.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,d=null,h=3,p=!1,g=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(q){for(var U=r(c);U!==null;){if(U.callback===null)n(c);else if(U.startTime<=q)n(c),U.sortIndex=U.expirationTime,t(l,U);else break;U=r(c)}}function O(q){if(m=!1,x(q),!g)if(r(l)!==null)g=!0,W(P);else{var U=r(c);U!==null&&G(O,U.startTime-q)}}function P(q,U){g=!1,m&&(m=!1,y(S),S=-1),p=!0;var ee=h;try{for(x(U),d=r(l);d!==null&&(!(d.expirationTime>U)||q&&!E());){var Z=d.callback;if(typeof Z=="function"){d.callback=null,h=d.priorityLevel;var I=Z(d.expirationTime<=U);U=e.unstable_now(),typeof I=="function"?d.callback=I:d===r(l)&&n(l),x(U)}else n(l);d=r(l)}if(d!==null)var M=!0;else{var z=r(c);z!==null&&G(O,z.startTime-U),M=!1}return M}finally{d=null,h=ee,p=!1}}var j=!1,T=null,S=-1,_=5,D=-1;function E(){return!(e.unstable_now()-D<_)}function N(){if(T!==null){var q=e.unstable_now();D=q;var U=!0;try{U=T(!0,q)}finally{U?k():(j=!1,T=null)}}else j=!1}var k;if(typeof b=="function")k=function(){b(N)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Q=V.port2;V.port1.onmessage=N,k=function(){Q.postMessage(null)}}else k=function(){v(N,0)};function W(q){T=q,j||(j=!0,k())}function G(q,U){S=v(function(){q(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,W(P))},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(q){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var ee=h;h=U;try{return q()}finally{h=ee}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(q,U){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ee=h;h=q;try{return U()}finally{h=ee}},e.unstable_scheduleCallback=function(q,U,ee){var Z=e.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?Z+ee:Z):ee=Z,q){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=ee+I,q={id:u++,callback:U,priorityLevel:q,startTime:ee,expirationTime:I,sortIndex:-1},ee>Z?(q.sortIndex=ee,t(c,q),r(l)===null&&q===r(c)&&(m?(y(S),S=-1):m=!0,G(O,ee-Z))):(q.sortIndex=I,t(l,q),g||p||(g=!0,W(P))),q},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(q){var U=h;return function(){var ee=h;h=U;try{return q.apply(this,arguments)}finally{h=ee}}}})(v9);g9.exports=v9;var hZ=g9.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pZ=F,mo=hZ;function Lt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y9=new Set,zv={};function Fh(e,t){Np(e,t),Np(e+"Capture",t)}function Np(e,t){for(zv[e]=t,e=0;e<t.length;e++)y9.add(t[e])}var uu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),a3=Object.prototype.hasOwnProperty,mZ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jj={},Zj={};function gZ(e){return a3.call(Zj,e)?!0:a3.call(Jj,e)?!1:mZ.test(e)?Zj[e]=!0:(Jj[e]=!0,!1)}function vZ(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function yZ(e,t,r,n){if(t===null||typeof t>"u"||vZ(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Cs(e,t,r,n,a,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var ji={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ji[e]=new Cs(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ji[t]=new Cs(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ji[e]=new Cs(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ji[e]=new Cs(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ji[e]=new Cs(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ji[e]=new Cs(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ji[e]=new Cs(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ji[e]=new Cs(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ji[e]=new Cs(e,5,!1,e.toLowerCase(),null,!1,!1)});var ik=/[\-:]([a-z])/g;function sk(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ik,sk);ji[t]=new Cs(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ik,sk);ji[t]=new Cs(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ik,sk);ji[t]=new Cs(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ji[e]=new Cs(e,1,!1,e.toLowerCase(),null,!1,!1)});ji.xlinkHref=new Cs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ji[e]=new Cs(e,1,!1,e.toLowerCase(),null,!0,!0)});function ok(e,t,r,n){var a=ji.hasOwnProperty(t)?ji[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(yZ(t,r,a,n)&&(r=null),n||a===null?gZ(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Nu=pZ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Lx=Symbol.for("react.element"),M0=Symbol.for("react.portal"),R0=Symbol.for("react.fragment"),lk=Symbol.for("react.strict_mode"),i3=Symbol.for("react.profiler"),x9=Symbol.for("react.provider"),b9=Symbol.for("react.context"),ck=Symbol.for("react.forward_ref"),s3=Symbol.for("react.suspense"),o3=Symbol.for("react.suspense_list"),uk=Symbol.for("react.memo"),pf=Symbol.for("react.lazy"),w9=Symbol.for("react.offscreen"),eO=Symbol.iterator;function fg(e){return e===null||typeof e!="object"?null:(e=eO&&e[eO]||e["@@iterator"],typeof e=="function"?e:null)}var ua=Object.assign,QS;function Ug(e){if(QS===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);QS=t&&t[1]||""}return`
`+QS+e}var JS=!1;function ZS(e,t){if(!e||JS)return"";JS=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),i=n.stack.split(`
`),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(s!==1||o!==1)do if(s--,o--,0>o||a[s]!==i[o]){var l=`
`+a[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{JS=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ug(e):""}function xZ(e){switch(e.tag){case 5:return Ug(e.type);case 16:return Ug("Lazy");case 13:return Ug("Suspense");case 19:return Ug("SuspenseList");case 0:case 2:case 15:return e=ZS(e.type,!1),e;case 11:return e=ZS(e.type.render,!1),e;case 1:return e=ZS(e.type,!0),e;default:return""}}function l3(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case R0:return"Fragment";case M0:return"Portal";case i3:return"Profiler";case lk:return"StrictMode";case s3:return"Suspense";case o3:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case b9:return(e.displayName||"Context")+".Consumer";case x9:return(e._context.displayName||"Context")+".Provider";case ck:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case uk:return t=e.displayName||null,t!==null?t:l3(e.type)||"Memo";case pf:t=e._payload,e=e._init;try{return l3(e(t))}catch{}}return null}function bZ(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return l3(t);case 8:return t===lk?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Zf(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _9(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function wZ(e){var t=_9(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Mx(e){e._valueTracker||(e._valueTracker=wZ(e))}function S9(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=_9(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function yb(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function c3(e,t){var r=t.checked;return ua({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function tO(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Zf(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function A9(e,t){t=t.checked,t!=null&&ok(e,"checked",t,!1)}function u3(e,t){A9(e,t);var r=Zf(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?f3(e,t.type,r):t.hasOwnProperty("defaultValue")&&f3(e,t.type,Zf(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function rO(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function f3(e,t,r){(t!=="number"||yb(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Vg=Array.isArray;function ap(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Zf(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function d3(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Lt(91));return ua({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function nO(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Lt(92));if(Vg(r)){if(1<r.length)throw Error(Lt(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Zf(r)}}function T9(e,t){var r=Zf(t.value),n=Zf(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function aO(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function E9(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function h3(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?E9(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Rx,N9=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Rx=Rx||document.createElement("div"),Rx.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Rx.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function qv(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var nv={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_Z=["Webkit","ms","Moz","O"];Object.keys(nv).forEach(function(e){_Z.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),nv[t]=nv[e]})});function k9(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||nv.hasOwnProperty(e)&&nv[e]?(""+t).trim():t+"px"}function C9(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=k9(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var SZ=ua({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function p3(e,t){if(t){if(SZ[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Lt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Lt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Lt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Lt(62))}}function m3(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var g3=null;function fk(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var v3=null,ip=null,sp=null;function iO(e){if(e=Cy(e)){if(typeof v3!="function")throw Error(Lt(280));var t=e.stateNode;t&&(t=z5(t),v3(e.stateNode,e.type,t))}}function P9(e){ip?sp?sp.push(e):sp=[e]:ip=e}function j9(){if(ip){var e=ip,t=sp;if(sp=ip=null,iO(e),t)for(e=0;e<t.length;e++)iO(t[e])}}function O9(e,t){return e(t)}function I9(){}var eA=!1;function D9(e,t,r){if(eA)return e(t,r);eA=!0;try{return O9(e,t,r)}finally{eA=!1,(ip!==null||sp!==null)&&(I9(),j9())}}function Wv(e,t){var r=e.stateNode;if(r===null)return null;var n=z5(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Lt(231,t,typeof r));return r}var y3=!1;if(uu)try{var dg={};Object.defineProperty(dg,"passive",{get:function(){y3=!0}}),window.addEventListener("test",dg,dg),window.removeEventListener("test",dg,dg)}catch{y3=!1}function AZ(e,t,r,n,a,i,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var av=!1,xb=null,bb=!1,x3=null,TZ={onError:function(e){av=!0,xb=e}};function EZ(e,t,r,n,a,i,s,o,l){av=!1,xb=null,AZ.apply(TZ,arguments)}function NZ(e,t,r,n,a,i,s,o,l){if(EZ.apply(this,arguments),av){if(av){var c=xb;av=!1,xb=null}else throw Error(Lt(198));bb||(bb=!0,x3=c)}}function $h(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function L9(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function sO(e){if($h(e)!==e)throw Error(Lt(188))}function kZ(e){var t=e.alternate;if(!t){if(t=$h(e),t===null)throw Error(Lt(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return sO(a),e;if(i===n)return sO(a),t;i=i.sibling}throw Error(Lt(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s){for(o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s)throw Error(Lt(189))}}if(r.alternate!==n)throw Error(Lt(190))}if(r.tag!==3)throw Error(Lt(188));return r.stateNode.current===r?e:t}function M9(e){return e=kZ(e),e!==null?R9(e):null}function R9(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=R9(e);if(t!==null)return t;e=e.sibling}return null}var F9=mo.unstable_scheduleCallback,oO=mo.unstable_cancelCallback,CZ=mo.unstable_shouldYield,PZ=mo.unstable_requestPaint,Ta=mo.unstable_now,jZ=mo.unstable_getCurrentPriorityLevel,dk=mo.unstable_ImmediatePriority,$9=mo.unstable_UserBlockingPriority,wb=mo.unstable_NormalPriority,OZ=mo.unstable_LowPriority,B9=mo.unstable_IdlePriority,$5=null,lc=null;function IZ(e){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot($5,e,void 0,(e.current.flags&128)===128)}catch{}}var Il=Math.clz32?Math.clz32:MZ,DZ=Math.log,LZ=Math.LN2;function MZ(e){return e>>>=0,e===0?32:31-(DZ(e)/LZ|0)|0}var Fx=64,$x=4194304;function zg(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function _b(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~a;o!==0?n=zg(o):(i&=s,i!==0&&(n=zg(i)))}else s=r&~a,s!==0?n=zg(s):i!==0&&(n=zg(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Il(t),a=1<<r,n|=e[r],t&=~a;return n}function RZ(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function FZ(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-Il(i),o=1<<s,l=a[s];l===-1?(!(o&r)||o&n)&&(a[s]=RZ(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}function b3(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function U9(){var e=Fx;return Fx<<=1,!(Fx&4194240)&&(Fx=64),e}function tA(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ny(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Il(t),e[t]=r}function $Z(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Il(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function hk(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Il(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Pn=0;function V9(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var z9,pk,q9,W9,H9,w3=!1,Bx=[],Lf=null,Mf=null,Rf=null,Hv=new Map,Gv=new Map,vf=[],BZ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lO(e,t){switch(e){case"focusin":case"focusout":Lf=null;break;case"dragenter":case"dragleave":Mf=null;break;case"mouseover":case"mouseout":Rf=null;break;case"pointerover":case"pointerout":Hv.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gv.delete(t.pointerId)}}function hg(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Cy(t),t!==null&&pk(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function UZ(e,t,r,n,a){switch(t){case"focusin":return Lf=hg(Lf,e,t,r,n,a),!0;case"dragenter":return Mf=hg(Mf,e,t,r,n,a),!0;case"mouseover":return Rf=hg(Rf,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Hv.set(i,hg(Hv.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Gv.set(i,hg(Gv.get(i)||null,e,t,r,n,a)),!0}return!1}function G9(e){var t=Qd(e.target);if(t!==null){var r=$h(t);if(r!==null){if(t=r.tag,t===13){if(t=L9(r),t!==null){e.blockedOn=t,H9(e.priority,function(){q9(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function U2(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=_3(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);g3=n,r.target.dispatchEvent(n),g3=null}else return t=Cy(r),t!==null&&pk(t),e.blockedOn=r,!1;t.shift()}return!0}function cO(e,t,r){U2(e)&&r.delete(t)}function VZ(){w3=!1,Lf!==null&&U2(Lf)&&(Lf=null),Mf!==null&&U2(Mf)&&(Mf=null),Rf!==null&&U2(Rf)&&(Rf=null),Hv.forEach(cO),Gv.forEach(cO)}function pg(e,t){e.blockedOn===t&&(e.blockedOn=null,w3||(w3=!0,mo.unstable_scheduleCallback(mo.unstable_NormalPriority,VZ)))}function Kv(e){function t(a){return pg(a,e)}if(0<Bx.length){pg(Bx[0],e);for(var r=1;r<Bx.length;r++){var n=Bx[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Lf!==null&&pg(Lf,e),Mf!==null&&pg(Mf,e),Rf!==null&&pg(Rf,e),Hv.forEach(t),Gv.forEach(t),r=0;r<vf.length;r++)n=vf[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<vf.length&&(r=vf[0],r.blockedOn===null);)G9(r),r.blockedOn===null&&vf.shift()}var op=Nu.ReactCurrentBatchConfig,Sb=!0;function zZ(e,t,r,n){var a=Pn,i=op.transition;op.transition=null;try{Pn=1,mk(e,t,r,n)}finally{Pn=a,op.transition=i}}function qZ(e,t,r,n){var a=Pn,i=op.transition;op.transition=null;try{Pn=4,mk(e,t,r,n)}finally{Pn=a,op.transition=i}}function mk(e,t,r,n){if(Sb){var a=_3(e,t,r,n);if(a===null)fA(e,t,n,Ab,r),lO(e,n);else if(UZ(a,e,t,r,n))n.stopPropagation();else if(lO(e,n),t&4&&-1<BZ.indexOf(e)){for(;a!==null;){var i=Cy(a);if(i!==null&&z9(i),i=_3(e,t,r,n),i===null&&fA(e,t,n,Ab,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else fA(e,t,n,null,r)}}var Ab=null;function _3(e,t,r,n){if(Ab=null,e=fk(n),e=Qd(e),e!==null)if(t=$h(e),t===null)e=null;else if(r=t.tag,r===13){if(e=L9(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ab=e,null}function K9(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jZ()){case dk:return 1;case $9:return 4;case wb:case OZ:return 16;case B9:return 536870912;default:return 16}default:return 16}}var Sf=null,gk=null,V2=null;function Y9(){if(V2)return V2;var e,t=gk,r=t.length,n,a="value"in Sf?Sf.value:Sf.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===a[i-n];n++);return V2=a.slice(e,1<n?1-n:void 0)}function z2(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ux(){return!0}function uO(){return!1}function xo(e){function t(r,n,a,i,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ux:uO,this.isPropagationStopped=uO,this}return ua(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ux)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ux)},persist:function(){},isPersistent:Ux}),t}var ym={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vk=xo(ym),ky=ua({},ym,{view:0,detail:0}),WZ=xo(ky),rA,nA,mg,B5=ua({},ky,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yk,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mg&&(mg&&e.type==="mousemove"?(rA=e.screenX-mg.screenX,nA=e.screenY-mg.screenY):nA=rA=0,mg=e),rA)},movementY:function(e){return"movementY"in e?e.movementY:nA}}),fO=xo(B5),HZ=ua({},B5,{dataTransfer:0}),GZ=xo(HZ),KZ=ua({},ky,{relatedTarget:0}),aA=xo(KZ),YZ=ua({},ym,{animationName:0,elapsedTime:0,pseudoElement:0}),XZ=xo(YZ),QZ=ua({},ym,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),JZ=xo(QZ),ZZ=ua({},ym,{data:0}),dO=xo(ZZ),eee={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tee={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ree={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nee(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ree[e])?!!t[e]:!1}function yk(){return nee}var aee=ua({},ky,{key:function(e){if(e.key){var t=eee[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=z2(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?tee[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yk,charCode:function(e){return e.type==="keypress"?z2(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?z2(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),iee=xo(aee),see=ua({},B5,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hO=xo(see),oee=ua({},ky,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yk}),lee=xo(oee),cee=ua({},ym,{propertyName:0,elapsedTime:0,pseudoElement:0}),uee=xo(cee),fee=ua({},B5,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),dee=xo(fee),hee=[9,13,27,32],xk=uu&&"CompositionEvent"in window,iv=null;uu&&"documentMode"in document&&(iv=document.documentMode);var pee=uu&&"TextEvent"in window&&!iv,X9=uu&&(!xk||iv&&8<iv&&11>=iv),pO=" ",mO=!1;function Q9(e,t){switch(e){case"keyup":return hee.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function J9(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var F0=!1;function mee(e,t){switch(e){case"compositionend":return J9(t);case"keypress":return t.which!==32?null:(mO=!0,pO);case"textInput":return e=t.data,e===pO&&mO?null:e;default:return null}}function gee(e,t){if(F0)return e==="compositionend"||!xk&&Q9(e,t)?(e=Y9(),V2=gk=Sf=null,F0=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return X9&&t.locale!=="ko"?null:t.data;default:return null}}var vee={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gO(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!vee[e.type]:t==="textarea"}function Z9(e,t,r,n){P9(n),t=Tb(t,"onChange"),0<t.length&&(r=new vk("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var sv=null,Yv=null;function yee(e){uB(e,0)}function U5(e){var t=U0(e);if(S9(t))return e}function xee(e,t){if(e==="change")return t}var eB=!1;if(uu){var iA;if(uu){var sA="oninput"in document;if(!sA){var vO=document.createElement("div");vO.setAttribute("oninput","return;"),sA=typeof vO.oninput=="function"}iA=sA}else iA=!1;eB=iA&&(!document.documentMode||9<document.documentMode)}function yO(){sv&&(sv.detachEvent("onpropertychange",tB),Yv=sv=null)}function tB(e){if(e.propertyName==="value"&&U5(Yv)){var t=[];Z9(t,Yv,e,fk(e)),D9(yee,t)}}function bee(e,t,r){e==="focusin"?(yO(),sv=t,Yv=r,sv.attachEvent("onpropertychange",tB)):e==="focusout"&&yO()}function wee(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return U5(Yv)}function _ee(e,t){if(e==="click")return U5(t)}function See(e,t){if(e==="input"||e==="change")return U5(t)}function Aee(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rl=typeof Object.is=="function"?Object.is:Aee;function Xv(e,t){if(Rl(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!a3.call(t,a)||!Rl(e[a],t[a]))return!1}return!0}function xO(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bO(e,t){var r=xO(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=xO(r)}}function rB(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?rB(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function nB(){for(var e=window,t=yb();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=yb(e.document)}return t}function bk(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Tee(e){var t=nB(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&rB(r.ownerDocument.documentElement,r)){if(n!==null&&bk(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=bO(r,i);var s=bO(r,n);a&&s&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Eee=uu&&"documentMode"in document&&11>=document.documentMode,$0=null,S3=null,ov=null,A3=!1;function wO(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;A3||$0==null||$0!==yb(n)||(n=$0,"selectionStart"in n&&bk(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ov&&Xv(ov,n)||(ov=n,n=Tb(S3,"onSelect"),0<n.length&&(t=new vk("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=$0)))}function Vx(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var B0={animationend:Vx("Animation","AnimationEnd"),animationiteration:Vx("Animation","AnimationIteration"),animationstart:Vx("Animation","AnimationStart"),transitionend:Vx("Transition","TransitionEnd")},oA={},aB={};uu&&(aB=document.createElement("div").style,"AnimationEvent"in window||(delete B0.animationend.animation,delete B0.animationiteration.animation,delete B0.animationstart.animation),"TransitionEvent"in window||delete B0.transitionend.transition);function V5(e){if(oA[e])return oA[e];if(!B0[e])return e;var t=B0[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in aB)return oA[e]=t[r];return e}var iB=V5("animationend"),sB=V5("animationiteration"),oB=V5("animationstart"),lB=V5("transitionend"),cB=new Map,_O="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function dd(e,t){cB.set(e,t),Fh(t,[e])}for(var lA=0;lA<_O.length;lA++){var cA=_O[lA],Nee=cA.toLowerCase(),kee=cA[0].toUpperCase()+cA.slice(1);dd(Nee,"on"+kee)}dd(iB,"onAnimationEnd");dd(sB,"onAnimationIteration");dd(oB,"onAnimationStart");dd("dblclick","onDoubleClick");dd("focusin","onFocus");dd("focusout","onBlur");dd(lB,"onTransitionEnd");Np("onMouseEnter",["mouseout","mouseover"]);Np("onMouseLeave",["mouseout","mouseover"]);Np("onPointerEnter",["pointerout","pointerover"]);Np("onPointerLeave",["pointerout","pointerover"]);Fh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fh("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cee=new Set("cancel close invalid load scroll toggle".split(" ").concat(qg));function SO(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,NZ(n,t,void 0,e),e.currentTarget=null}function uB(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;SO(a,o,c),i=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;SO(a,o,c),i=l}}}if(bb)throw e=x3,bb=!1,x3=null,e}function Kn(e,t){var r=t[C3];r===void 0&&(r=t[C3]=new Set);var n=e+"__bubble";r.has(n)||(fB(t,e,2,!1),r.add(n))}function uA(e,t,r){var n=0;t&&(n|=4),fB(r,e,n,t)}var zx="_reactListening"+Math.random().toString(36).slice(2);function Qv(e){if(!e[zx]){e[zx]=!0,y9.forEach(function(r){r!=="selectionchange"&&(Cee.has(r)||uA(r,!1,e),uA(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[zx]||(t[zx]=!0,uA("selectionchange",!1,t))}}function fB(e,t,r,n){switch(K9(t)){case 1:var a=zZ;break;case 4:a=qZ;break;default:a=mk}r=a.bind(null,t,r,e),a=void 0,!y3||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function fA(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;s=s.return}for(;o!==null;){if(s=Qd(o),s===null)return;if(l=s.tag,l===5||l===6){n=i=s;continue e}o=o.parentNode}}n=n.return}D9(function(){var c=i,u=fk(r),d=[];e:{var h=cB.get(e);if(h!==void 0){var p=vk,g=e;switch(e){case"keypress":if(z2(r)===0)break e;case"keydown":case"keyup":p=iee;break;case"focusin":g="focus",p=aA;break;case"focusout":g="blur",p=aA;break;case"beforeblur":case"afterblur":p=aA;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=fO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=GZ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=lee;break;case iB:case sB:case oB:p=XZ;break;case lB:p=uee;break;case"scroll":p=WZ;break;case"wheel":p=dee;break;case"copy":case"cut":case"paste":p=JZ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=hO}var m=(t&4)!==0,v=!m&&e==="scroll",y=m?h!==null?h+"Capture":null:h;m=[];for(var b=c,x;b!==null;){x=b;var O=x.stateNode;if(x.tag===5&&O!==null&&(x=O,y!==null&&(O=Wv(b,y),O!=null&&m.push(Jv(b,O,x)))),v)break;b=b.return}0<m.length&&(h=new p(h,g,null,r,u),d.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==g3&&(g=r.relatedTarget||r.fromElement)&&(Qd(g)||g[fu]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=c,g=g?Qd(g):null,g!==null&&(v=$h(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(m=fO,O="onMouseLeave",y="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(m=hO,O="onPointerLeave",y="onPointerEnter",b="pointer"),v=p==null?h:U0(p),x=g==null?h:U0(g),h=new m(O,b+"leave",p,r,u),h.target=v,h.relatedTarget=x,O=null,Qd(u)===c&&(m=new m(y,b+"enter",g,r,u),m.target=x,m.relatedTarget=v,O=m),v=O,p&&g)t:{for(m=p,y=g,b=0,x=m;x;x=y0(x))b++;for(x=0,O=y;O;O=y0(O))x++;for(;0<b-x;)m=y0(m),b--;for(;0<x-b;)y=y0(y),x--;for(;b--;){if(m===y||y!==null&&m===y.alternate)break t;m=y0(m),y=y0(y)}m=null}else m=null;p!==null&&AO(d,h,p,m,!1),g!==null&&v!==null&&AO(d,v,g,m,!0)}}e:{if(h=c?U0(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var P=xee;else if(gO(h))if(eB)P=See;else{P=wee;var j=bee}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(P=_ee);if(P&&(P=P(e,c))){Z9(d,P,r,u);break e}j&&j(e,h,c),e==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&f3(h,"number",h.value)}switch(j=c?U0(c):window,e){case"focusin":(gO(j)||j.contentEditable==="true")&&($0=j,S3=c,ov=null);break;case"focusout":ov=S3=$0=null;break;case"mousedown":A3=!0;break;case"contextmenu":case"mouseup":case"dragend":A3=!1,wO(d,r,u);break;case"selectionchange":if(Eee)break;case"keydown":case"keyup":wO(d,r,u)}var T;if(xk)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else F0?Q9(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(X9&&r.locale!=="ko"&&(F0||S!=="onCompositionStart"?S==="onCompositionEnd"&&F0&&(T=Y9()):(Sf=u,gk="value"in Sf?Sf.value:Sf.textContent,F0=!0)),j=Tb(c,S),0<j.length&&(S=new dO(S,e,null,r,u),d.push({event:S,listeners:j}),T?S.data=T:(T=J9(r),T!==null&&(S.data=T)))),(T=pee?mee(e,r):gee(e,r))&&(c=Tb(c,"onBeforeInput"),0<c.length&&(u=new dO("onBeforeInput","beforeinput",null,r,u),d.push({event:u,listeners:c}),u.data=T))}uB(d,t)})}function Jv(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Tb(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Wv(e,r),i!=null&&n.unshift(Jv(e,i,a)),i=Wv(e,t),i!=null&&n.push(Jv(e,i,a))),e=e.return}return n}function y0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function AO(e,t,r,n,a){for(var i=t._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,a?(l=Wv(r,i),l!=null&&s.unshift(Jv(r,l,o))):a||(l=Wv(r,i),l!=null&&s.push(Jv(r,l,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var Pee=/\r\n?/g,jee=/\u0000|\uFFFD/g;function TO(e){return(typeof e=="string"?e:""+e).replace(Pee,`
`).replace(jee,"")}function qx(e,t,r){if(t=TO(t),TO(e)!==t&&r)throw Error(Lt(425))}function Eb(){}var T3=null,E3=null;function N3(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var k3=typeof setTimeout=="function"?setTimeout:void 0,Oee=typeof clearTimeout=="function"?clearTimeout:void 0,EO=typeof Promise=="function"?Promise:void 0,Iee=typeof queueMicrotask=="function"?queueMicrotask:typeof EO<"u"?function(e){return EO.resolve(null).then(e).catch(Dee)}:k3;function Dee(e){setTimeout(function(){throw e})}function dA(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Kv(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Kv(t)}function Ff(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function NO(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var xm=Math.random().toString(36).slice(2),ic="__reactFiber$"+xm,Zv="__reactProps$"+xm,fu="__reactContainer$"+xm,C3="__reactEvents$"+xm,Lee="__reactListeners$"+xm,Mee="__reactHandles$"+xm;function Qd(e){var t=e[ic];if(t)return t;for(var r=e.parentNode;r;){if(t=r[fu]||r[ic]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=NO(e);e!==null;){if(r=e[ic])return r;e=NO(e)}return t}e=r,r=e.parentNode}return null}function Cy(e){return e=e[ic]||e[fu],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function U0(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Lt(33))}function z5(e){return e[Zv]||null}var P3=[],V0=-1;function hd(e){return{current:e}}function ea(e){0>V0||(e.current=P3[V0],P3[V0]=null,V0--)}function Hn(e,t){V0++,P3[V0]=e.current,e.current=t}var ed={},is=hd(ed),qs=hd(!1),xh=ed;function kp(e,t){var r=e.type.contextTypes;if(!r)return ed;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ws(e){return e=e.childContextTypes,e!=null}function Nb(){ea(qs),ea(is)}function kO(e,t,r){if(is.current!==ed)throw Error(Lt(168));Hn(is,t),Hn(qs,r)}function dB(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(Lt(108,bZ(e)||"Unknown",a));return ua({},r,n)}function kb(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ed,xh=is.current,Hn(is,e),Hn(qs,qs.current),!0}function CO(e,t,r){var n=e.stateNode;if(!n)throw Error(Lt(169));r?(e=dB(e,t,xh),n.__reactInternalMemoizedMergedChildContext=e,ea(qs),ea(is),Hn(is,e)):ea(qs),Hn(qs,r)}var Gc=null,q5=!1,hA=!1;function hB(e){Gc===null?Gc=[e]:Gc.push(e)}function Ree(e){q5=!0,hB(e)}function pd(){if(!hA&&Gc!==null){hA=!0;var e=0,t=Pn;try{var r=Gc;for(Pn=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Gc=null,q5=!1}catch(a){throw Gc!==null&&(Gc=Gc.slice(e+1)),F9(dk,pd),a}finally{Pn=t,hA=!1}}return null}var z0=[],q0=0,Cb=null,Pb=0,Ro=[],Fo=0,bh=null,Kc=1,Yc="";function $d(e,t){z0[q0++]=Pb,z0[q0++]=Cb,Cb=e,Pb=t}function pB(e,t,r){Ro[Fo++]=Kc,Ro[Fo++]=Yc,Ro[Fo++]=bh,bh=e;var n=Kc;e=Yc;var a=32-Il(n)-1;n&=~(1<<a),r+=1;var i=32-Il(t)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,Kc=1<<32-Il(t)+a|r<<a|n,Yc=i+e}else Kc=1<<i|r<<a|n,Yc=e}function wk(e){e.return!==null&&($d(e,1),pB(e,1,0))}function _k(e){for(;e===Cb;)Cb=z0[--q0],z0[q0]=null,Pb=z0[--q0],z0[q0]=null;for(;e===bh;)bh=Ro[--Fo],Ro[Fo]=null,Yc=Ro[--Fo],Ro[Fo]=null,Kc=Ro[--Fo],Ro[Fo]=null}var po=null,co=null,ra=!1,Sl=null;function mB(e,t){var r=Vo(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function PO(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,po=e,co=Ff(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,po=e,co=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=bh!==null?{id:Kc,overflow:Yc}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Vo(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,po=e,co=null,!0):!1;default:return!1}}function j3(e){return(e.mode&1)!==0&&(e.flags&128)===0}function O3(e){if(ra){var t=co;if(t){var r=t;if(!PO(e,t)){if(j3(e))throw Error(Lt(418));t=Ff(r.nextSibling);var n=po;t&&PO(e,t)?mB(n,r):(e.flags=e.flags&-4097|2,ra=!1,po=e)}}else{if(j3(e))throw Error(Lt(418));e.flags=e.flags&-4097|2,ra=!1,po=e}}}function jO(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;po=e}function Wx(e){if(e!==po)return!1;if(!ra)return jO(e),ra=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!N3(e.type,e.memoizedProps)),t&&(t=co)){if(j3(e))throw gB(),Error(Lt(418));for(;t;)mB(e,t),t=Ff(t.nextSibling)}if(jO(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Lt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){co=Ff(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}co=null}}else co=po?Ff(e.stateNode.nextSibling):null;return!0}function gB(){for(var e=co;e;)e=Ff(e.nextSibling)}function Cp(){co=po=null,ra=!1}function Sk(e){Sl===null?Sl=[e]:Sl.push(e)}var Fee=Nu.ReactCurrentBatchConfig;function gg(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Lt(309));var n=r.stateNode}if(!n)throw Error(Lt(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var o=a.refs;s===null?delete o[i]:o[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(Lt(284));if(!r._owner)throw Error(Lt(290,e))}return e}function Hx(e,t){throw e=Object.prototype.toString.call(t),Error(Lt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function OO(e){var t=e._init;return t(e._payload)}function vB(e){function t(y,b){if(e){var x=y.deletions;x===null?(y.deletions=[b],y.flags|=16):x.push(b)}}function r(y,b){if(!e)return null;for(;b!==null;)t(y,b),b=b.sibling;return null}function n(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function a(y,b){return y=Vf(y,b),y.index=0,y.sibling=null,y}function i(y,b,x){return y.index=x,e?(x=y.alternate,x!==null?(x=x.index,x<b?(y.flags|=2,b):x):(y.flags|=2,b)):(y.flags|=1048576,b)}function s(y){return e&&y.alternate===null&&(y.flags|=2),y}function o(y,b,x,O){return b===null||b.tag!==6?(b=bA(x,y.mode,O),b.return=y,b):(b=a(b,x),b.return=y,b)}function l(y,b,x,O){var P=x.type;return P===R0?u(y,b,x.props.children,O,x.key):b!==null&&(b.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===pf&&OO(P)===b.type)?(O=a(b,x.props),O.ref=gg(y,b,x),O.return=y,O):(O=X2(x.type,x.key,x.props,null,y.mode,O),O.ref=gg(y,b,x),O.return=y,O)}function c(y,b,x,O){return b===null||b.tag!==4||b.stateNode.containerInfo!==x.containerInfo||b.stateNode.implementation!==x.implementation?(b=wA(x,y.mode,O),b.return=y,b):(b=a(b,x.children||[]),b.return=y,b)}function u(y,b,x,O,P){return b===null||b.tag!==7?(b=ch(x,y.mode,O,P),b.return=y,b):(b=a(b,x),b.return=y,b)}function d(y,b,x){if(typeof b=="string"&&b!==""||typeof b=="number")return b=bA(""+b,y.mode,x),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Lx:return x=X2(b.type,b.key,b.props,null,y.mode,x),x.ref=gg(y,null,b),x.return=y,x;case M0:return b=wA(b,y.mode,x),b.return=y,b;case pf:var O=b._init;return d(y,O(b._payload),x)}if(Vg(b)||fg(b))return b=ch(b,y.mode,x,null),b.return=y,b;Hx(y,b)}return null}function h(y,b,x,O){var P=b!==null?b.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return P!==null?null:o(y,b,""+x,O);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Lx:return x.key===P?l(y,b,x,O):null;case M0:return x.key===P?c(y,b,x,O):null;case pf:return P=x._init,h(y,b,P(x._payload),O)}if(Vg(x)||fg(x))return P!==null?null:u(y,b,x,O,null);Hx(y,x)}return null}function p(y,b,x,O,P){if(typeof O=="string"&&O!==""||typeof O=="number")return y=y.get(x)||null,o(b,y,""+O,P);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Lx:return y=y.get(O.key===null?x:O.key)||null,l(b,y,O,P);case M0:return y=y.get(O.key===null?x:O.key)||null,c(b,y,O,P);case pf:var j=O._init;return p(y,b,x,j(O._payload),P)}if(Vg(O)||fg(O))return y=y.get(x)||null,u(b,y,O,P,null);Hx(b,O)}return null}function g(y,b,x,O){for(var P=null,j=null,T=b,S=b=0,_=null;T!==null&&S<x.length;S++){T.index>S?(_=T,T=null):_=T.sibling;var D=h(y,T,x[S],O);if(D===null){T===null&&(T=_);break}e&&T&&D.alternate===null&&t(y,T),b=i(D,b,S),j===null?P=D:j.sibling=D,j=D,T=_}if(S===x.length)return r(y,T),ra&&$d(y,S),P;if(T===null){for(;S<x.length;S++)T=d(y,x[S],O),T!==null&&(b=i(T,b,S),j===null?P=T:j.sibling=T,j=T);return ra&&$d(y,S),P}for(T=n(y,T);S<x.length;S++)_=p(T,y,S,x[S],O),_!==null&&(e&&_.alternate!==null&&T.delete(_.key===null?S:_.key),b=i(_,b,S),j===null?P=_:j.sibling=_,j=_);return e&&T.forEach(function(E){return t(y,E)}),ra&&$d(y,S),P}function m(y,b,x,O){var P=fg(x);if(typeof P!="function")throw Error(Lt(150));if(x=P.call(x),x==null)throw Error(Lt(151));for(var j=P=null,T=b,S=b=0,_=null,D=x.next();T!==null&&!D.done;S++,D=x.next()){T.index>S?(_=T,T=null):_=T.sibling;var E=h(y,T,D.value,O);if(E===null){T===null&&(T=_);break}e&&T&&E.alternate===null&&t(y,T),b=i(E,b,S),j===null?P=E:j.sibling=E,j=E,T=_}if(D.done)return r(y,T),ra&&$d(y,S),P;if(T===null){for(;!D.done;S++,D=x.next())D=d(y,D.value,O),D!==null&&(b=i(D,b,S),j===null?P=D:j.sibling=D,j=D);return ra&&$d(y,S),P}for(T=n(y,T);!D.done;S++,D=x.next())D=p(T,y,S,D.value,O),D!==null&&(e&&D.alternate!==null&&T.delete(D.key===null?S:D.key),b=i(D,b,S),j===null?P=D:j.sibling=D,j=D);return e&&T.forEach(function(N){return t(y,N)}),ra&&$d(y,S),P}function v(y,b,x,O){if(typeof x=="object"&&x!==null&&x.type===R0&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Lx:e:{for(var P=x.key,j=b;j!==null;){if(j.key===P){if(P=x.type,P===R0){if(j.tag===7){r(y,j.sibling),b=a(j,x.props.children),b.return=y,y=b;break e}}else if(j.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===pf&&OO(P)===j.type){r(y,j.sibling),b=a(j,x.props),b.ref=gg(y,j,x),b.return=y,y=b;break e}r(y,j);break}else t(y,j);j=j.sibling}x.type===R0?(b=ch(x.props.children,y.mode,O,x.key),b.return=y,y=b):(O=X2(x.type,x.key,x.props,null,y.mode,O),O.ref=gg(y,b,x),O.return=y,y=O)}return s(y);case M0:e:{for(j=x.key;b!==null;){if(b.key===j)if(b.tag===4&&b.stateNode.containerInfo===x.containerInfo&&b.stateNode.implementation===x.implementation){r(y,b.sibling),b=a(b,x.children||[]),b.return=y,y=b;break e}else{r(y,b);break}else t(y,b);b=b.sibling}b=wA(x,y.mode,O),b.return=y,y=b}return s(y);case pf:return j=x._init,v(y,b,j(x._payload),O)}if(Vg(x))return g(y,b,x,O);if(fg(x))return m(y,b,x,O);Hx(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,b!==null&&b.tag===6?(r(y,b.sibling),b=a(b,x),b.return=y,y=b):(r(y,b),b=bA(x,y.mode,O),b.return=y,y=b),s(y)):r(y,b)}return v}var Pp=vB(!0),yB=vB(!1),jb=hd(null),Ob=null,W0=null,Ak=null;function Tk(){Ak=W0=Ob=null}function Ek(e){var t=jb.current;ea(jb),e._currentValue=t}function I3(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function lp(e,t){Ob=e,Ak=W0=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&($s=!0),e.firstContext=null)}function Yo(e){var t=e._currentValue;if(Ak!==e)if(e={context:e,memoizedValue:t,next:null},W0===null){if(Ob===null)throw Error(Lt(308));W0=e,Ob.dependencies={lanes:0,firstContext:e}}else W0=W0.next=e;return t}var Jd=null;function Nk(e){Jd===null?Jd=[e]:Jd.push(e)}function xB(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Nk(t)):(r.next=a.next,a.next=r),t.interleaved=r,du(e,n)}function du(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var mf=!1;function kk(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bB(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function tu(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $f(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,hn&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,du(e,r)}return a=n.interleaved,a===null?(t.next=t,Nk(n)):(t.next=a.next,a.next=t),n.interleaved=t,du(e,r)}function q2(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,hk(e,r)}}function IO(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ib(e,t,r,n){var a=e.updateQueue;mf=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?i=c:s.next=c,s=l;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=a.baseState;s=0,u=c=l=null,o=i;do{var h=o.lane,p=o.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,m=o;switch(h=t,p=r,m.tag){case 1:if(g=m.payload,typeof g=="function"){d=g.call(p,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,d,h):g,h==null)break e;d=ua({},d,h);break e;case 2:mf=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,s|=h;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;h=o,o=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(u===null&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do s|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);_h|=s,e.lanes=s,e.memoizedState=d}}function DO(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(Lt(191,a));a.call(n)}}}var Py={},cc=hd(Py),e1=hd(Py),t1=hd(Py);function Zd(e){if(e===Py)throw Error(Lt(174));return e}function Ck(e,t){switch(Hn(t1,t),Hn(e1,e),Hn(cc,Py),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:h3(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=h3(t,e)}ea(cc),Hn(cc,t)}function jp(){ea(cc),ea(e1),ea(t1)}function wB(e){Zd(t1.current);var t=Zd(cc.current),r=h3(t,e.type);t!==r&&(Hn(e1,e),Hn(cc,r))}function Pk(e){e1.current===e&&(ea(cc),ea(e1))}var oa=hd(0);function Db(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var pA=[];function jk(){for(var e=0;e<pA.length;e++)pA[e]._workInProgressVersionPrimary=null;pA.length=0}var W2=Nu.ReactCurrentDispatcher,mA=Nu.ReactCurrentBatchConfig,wh=0,la=null,Xa=null,li=null,Lb=!1,lv=!1,r1=0,$ee=0;function Ri(){throw Error(Lt(321))}function Ok(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Rl(e[r],t[r]))return!1;return!0}function Ik(e,t,r,n,a,i){if(wh=i,la=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,W2.current=e===null||e.memoizedState===null?zee:qee,e=r(n,a),lv){i=0;do{if(lv=!1,r1=0,25<=i)throw Error(Lt(301));i+=1,li=Xa=null,t.updateQueue=null,W2.current=Wee,e=r(n,a)}while(lv)}if(W2.current=Mb,t=Xa!==null&&Xa.next!==null,wh=0,li=Xa=la=null,Lb=!1,t)throw Error(Lt(300));return e}function Dk(){var e=r1!==0;return r1=0,e}function rc(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return li===null?la.memoizedState=li=e:li=li.next=e,li}function Xo(){if(Xa===null){var e=la.alternate;e=e!==null?e.memoizedState:null}else e=Xa.next;var t=li===null?la.memoizedState:li.next;if(t!==null)li=t,Xa=e;else{if(e===null)throw Error(Lt(310));Xa=e,e={memoizedState:Xa.memoizedState,baseState:Xa.baseState,baseQueue:Xa.baseQueue,queue:Xa.queue,next:null},li===null?la.memoizedState=li=e:li=li.next=e}return li}function n1(e,t){return typeof t=="function"?t(e):t}function gA(e){var t=Xo(),r=t.queue;if(r===null)throw Error(Lt(311));r.lastRenderedReducer=e;var n=Xa,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=s=null,l=null,c=i;do{var u=c.lane;if((wh&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=d,s=n):l=l.next=d,la.lanes|=u,_h|=u}c=c.next}while(c!==null&&c!==i);l===null?s=n:l.next=o,Rl(n,t.memoizedState)||($s=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,la.lanes|=i,_h|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function vA(e){var t=Xo(),r=t.queue;if(r===null)throw Error(Lt(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do i=e(i,s.action),s=s.next;while(s!==a);Rl(i,t.memoizedState)||($s=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function _B(){}function SB(e,t){var r=la,n=Xo(),a=t(),i=!Rl(n.memoizedState,a);if(i&&(n.memoizedState=a,$s=!0),n=n.queue,Lk(EB.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||li!==null&&li.memoizedState.tag&1){if(r.flags|=2048,a1(9,TB.bind(null,r,n,a,t),void 0,null),di===null)throw Error(Lt(349));wh&30||AB(r,t,a)}return a}function AB(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=la.updateQueue,t===null?(t={lastEffect:null,stores:null},la.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function TB(e,t,r,n){t.value=r,t.getSnapshot=n,NB(t)&&kB(e)}function EB(e,t,r){return r(function(){NB(t)&&kB(e)})}function NB(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Rl(e,r)}catch{return!0}}function kB(e){var t=du(e,1);t!==null&&Dl(t,e,1,-1)}function LO(e){var t=rc();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n1,lastRenderedState:e},t.queue=e,e=e.dispatch=Vee.bind(null,la,e),[t.memoizedState,e]}function a1(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=la.updateQueue,t===null?(t={lastEffect:null,stores:null},la.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function CB(){return Xo().memoizedState}function H2(e,t,r,n){var a=rc();la.flags|=e,a.memoizedState=a1(1|t,r,void 0,n===void 0?null:n)}function W5(e,t,r,n){var a=Xo();n=n===void 0?null:n;var i=void 0;if(Xa!==null){var s=Xa.memoizedState;if(i=s.destroy,n!==null&&Ok(n,s.deps)){a.memoizedState=a1(t,r,i,n);return}}la.flags|=e,a.memoizedState=a1(1|t,r,i,n)}function MO(e,t){return H2(8390656,8,e,t)}function Lk(e,t){return W5(2048,8,e,t)}function PB(e,t){return W5(4,2,e,t)}function jB(e,t){return W5(4,4,e,t)}function OB(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function IB(e,t,r){return r=r!=null?r.concat([e]):null,W5(4,4,OB.bind(null,t,e),r)}function Mk(){}function DB(e,t){var r=Xo();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ok(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function LB(e,t){var r=Xo();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ok(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function MB(e,t,r){return wh&21?(Rl(r,t)||(r=U9(),la.lanes|=r,_h|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,$s=!0),e.memoizedState=r)}function Bee(e,t){var r=Pn;Pn=r!==0&&4>r?r:4,e(!0);var n=mA.transition;mA.transition={};try{e(!1),t()}finally{Pn=r,mA.transition=n}}function RB(){return Xo().memoizedState}function Uee(e,t,r){var n=Uf(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},FB(e))$B(t,r);else if(r=xB(e,t,r,n),r!==null){var a=As();Dl(r,e,n,a),BB(r,t,n)}}function Vee(e,t,r){var n=Uf(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(FB(e))$B(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,o=i(s,r);if(a.hasEagerState=!0,a.eagerState=o,Rl(o,s)){var l=t.interleaved;l===null?(a.next=a,Nk(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=xB(e,t,a,n),r!==null&&(a=As(),Dl(r,e,n,a),BB(r,t,n))}}function FB(e){var t=e.alternate;return e===la||t!==null&&t===la}function $B(e,t){lv=Lb=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function BB(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,hk(e,r)}}var Mb={readContext:Yo,useCallback:Ri,useContext:Ri,useEffect:Ri,useImperativeHandle:Ri,useInsertionEffect:Ri,useLayoutEffect:Ri,useMemo:Ri,useReducer:Ri,useRef:Ri,useState:Ri,useDebugValue:Ri,useDeferredValue:Ri,useTransition:Ri,useMutableSource:Ri,useSyncExternalStore:Ri,useId:Ri,unstable_isNewReconciler:!1},zee={readContext:Yo,useCallback:function(e,t){return rc().memoizedState=[e,t===void 0?null:t],e},useContext:Yo,useEffect:MO,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,H2(4194308,4,OB.bind(null,t,e),r)},useLayoutEffect:function(e,t){return H2(4194308,4,e,t)},useInsertionEffect:function(e,t){return H2(4,2,e,t)},useMemo:function(e,t){var r=rc();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=rc();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Uee.bind(null,la,e),[n.memoizedState,e]},useRef:function(e){var t=rc();return e={current:e},t.memoizedState=e},useState:LO,useDebugValue:Mk,useDeferredValue:function(e){return rc().memoizedState=e},useTransition:function(){var e=LO(!1),t=e[0];return e=Bee.bind(null,e[1]),rc().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=la,a=rc();if(ra){if(r===void 0)throw Error(Lt(407));r=r()}else{if(r=t(),di===null)throw Error(Lt(349));wh&30||AB(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,MO(EB.bind(null,n,i,e),[e]),n.flags|=2048,a1(9,TB.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=rc(),t=di.identifierPrefix;if(ra){var r=Yc,n=Kc;r=(n&~(1<<32-Il(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=r1++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=$ee++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},qee={readContext:Yo,useCallback:DB,useContext:Yo,useEffect:Lk,useImperativeHandle:IB,useInsertionEffect:PB,useLayoutEffect:jB,useMemo:LB,useReducer:gA,useRef:CB,useState:function(){return gA(n1)},useDebugValue:Mk,useDeferredValue:function(e){var t=Xo();return MB(t,Xa.memoizedState,e)},useTransition:function(){var e=gA(n1)[0],t=Xo().memoizedState;return[e,t]},useMutableSource:_B,useSyncExternalStore:SB,useId:RB,unstable_isNewReconciler:!1},Wee={readContext:Yo,useCallback:DB,useContext:Yo,useEffect:Lk,useImperativeHandle:IB,useInsertionEffect:PB,useLayoutEffect:jB,useMemo:LB,useReducer:vA,useRef:CB,useState:function(){return vA(n1)},useDebugValue:Mk,useDeferredValue:function(e){var t=Xo();return Xa===null?t.memoizedState=e:MB(t,Xa.memoizedState,e)},useTransition:function(){var e=vA(n1)[0],t=Xo().memoizedState;return[e,t]},useMutableSource:_B,useSyncExternalStore:SB,useId:RB,unstable_isNewReconciler:!1};function yl(e,t){if(e&&e.defaultProps){t=ua({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function D3(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ua({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var H5={isMounted:function(e){return(e=e._reactInternals)?$h(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=As(),a=Uf(e),i=tu(n,a);i.payload=t,r!=null&&(i.callback=r),t=$f(e,i,a),t!==null&&(Dl(t,e,a,n),q2(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=As(),a=Uf(e),i=tu(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=$f(e,i,a),t!==null&&(Dl(t,e,a,n),q2(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=As(),n=Uf(e),a=tu(r,n);a.tag=2,t!=null&&(a.callback=t),t=$f(e,a,n),t!==null&&(Dl(t,e,n,r),q2(t,e,n))}};function RO(e,t,r,n,a,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,s):t.prototype&&t.prototype.isPureReactComponent?!Xv(r,n)||!Xv(a,i):!0}function UB(e,t,r){var n=!1,a=ed,i=t.contextType;return typeof i=="object"&&i!==null?i=Yo(i):(a=Ws(t)?xh:is.current,n=t.contextTypes,i=(n=n!=null)?kp(e,a):ed),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=H5,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function FO(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&H5.enqueueReplaceState(t,t.state,null)}function L3(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},kk(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Yo(i):(i=Ws(t)?xh:is.current,a.context=kp(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(D3(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&H5.enqueueReplaceState(a,a.state,null),Ib(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Op(e,t){try{var r="",n=t;do r+=xZ(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function yA(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function M3(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Hee=typeof WeakMap=="function"?WeakMap:Map;function VB(e,t,r){r=tu(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Fb||(Fb=!0,H3=n),M3(e,t)},r}function zB(e,t,r){r=tu(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){M3(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){M3(e,t),typeof n!="function"&&(Bf===null?Bf=new Set([this]):Bf.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function $O(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Hee;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=ste.bind(null,e,t,r),t.then(e,e))}function BO(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function UO(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=tu(-1,1),t.tag=2,$f(r,t,1))),r.lanes|=1),e)}var Gee=Nu.ReactCurrentOwner,$s=!1;function ms(e,t,r,n){t.child=e===null?yB(t,null,r,n):Pp(t,e.child,r,n)}function VO(e,t,r,n,a){r=r.render;var i=t.ref;return lp(t,a),n=Ik(e,t,r,n,i,a),r=Dk(),e!==null&&!$s?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,hu(e,t,a)):(ra&&r&&wk(t),t.flags|=1,ms(e,t,n,a),t.child)}function zO(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!qk(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,qB(e,t,i,n,a)):(e=X2(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:Xv,r(s,n)&&e.ref===t.ref)return hu(e,t,a)}return t.flags|=1,e=Vf(i,n),e.ref=t.ref,e.return=t,t.child=e}function qB(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Xv(i,n)&&e.ref===t.ref)if($s=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&($s=!0);else return t.lanes=e.lanes,hu(e,t,a)}return R3(e,t,r,n,a)}function WB(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Hn(G0,ao),ao|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Hn(G0,ao),ao|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Hn(G0,ao),ao|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Hn(G0,ao),ao|=n;return ms(e,t,a,r),t.child}function HB(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function R3(e,t,r,n,a){var i=Ws(r)?xh:is.current;return i=kp(t,i),lp(t,a),r=Ik(e,t,r,n,i,a),n=Dk(),e!==null&&!$s?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,hu(e,t,a)):(ra&&n&&wk(t),t.flags|=1,ms(e,t,r,a),t.child)}function qO(e,t,r,n,a){if(Ws(r)){var i=!0;kb(t)}else i=!1;if(lp(t,a),t.stateNode===null)G2(e,t),UB(t,r,n),L3(t,r,n,a),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=r.contextType;typeof c=="object"&&c!==null?c=Yo(c):(c=Ws(r)?xh:is.current,c=kp(t,c));var u=r.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==c)&&FO(t,s,n,c),mf=!1;var h=t.memoizedState;s.state=h,Ib(t,n,s,a),l=t.memoizedState,o!==n||h!==l||qs.current||mf?(typeof u=="function"&&(D3(t,r,u,n),l=t.memoizedState),(o=mf||RO(t,r,o,n,h,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=c,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,bB(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:yl(t.type,o),s.props=c,d=t.pendingProps,h=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=Yo(l):(l=Ws(r)?xh:is.current,l=kp(t,l));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==d||h!==l)&&FO(t,s,n,l),mf=!1,h=t.memoizedState,s.state=h,Ib(t,n,s,a);var g=t.memoizedState;o!==d||h!==g||qs.current||mf?(typeof p=="function"&&(D3(t,r,p,n),g=t.memoizedState),(c=mf||RO(t,r,c,n,h,g,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,g,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),s.props=n,s.state=g,s.context=l,n=c):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return F3(e,t,r,n,i,a)}function F3(e,t,r,n,a,i){HB(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return a&&CO(t,r,!1),hu(e,t,i);n=t.stateNode,Gee.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=Pp(t,e.child,null,i),t.child=Pp(t,null,o,i)):ms(e,t,o,i),t.memoizedState=n.state,a&&CO(t,r,!0),t.child}function GB(e){var t=e.stateNode;t.pendingContext?kO(e,t.pendingContext,t.pendingContext!==t.context):t.context&&kO(e,t.context,!1),Ck(e,t.containerInfo)}function WO(e,t,r,n,a){return Cp(),Sk(a),t.flags|=256,ms(e,t,r,n),t.child}var $3={dehydrated:null,treeContext:null,retryLane:0};function B3(e){return{baseLanes:e,cachePool:null,transitions:null}}function KB(e,t,r){var n=t.pendingProps,a=oa.current,i=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Hn(oa,a&1),e===null)return O3(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,i?(n=t.mode,i=t.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Y5(s,n,0,null),e=ch(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=B3(r),t.memoizedState=$3,e):Rk(t,s));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return Kee(e,t,s,n,o,a,r);if(i){i=n.fallback,s=t.mode,a=e.child,o=a.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Vf(a,l),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=Vf(o,i):(i=ch(i,s,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,s=e.child.memoizedState,s=s===null?B3(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~r,t.memoizedState=$3,n}return i=e.child,e=i.sibling,n=Vf(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Rk(e,t){return t=Y5({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Gx(e,t,r,n){return n!==null&&Sk(n),Pp(t,e.child,null,r),e=Rk(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Kee(e,t,r,n,a,i,s){if(r)return t.flags&256?(t.flags&=-257,n=yA(Error(Lt(422))),Gx(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Y5({mode:"visible",children:n.children},a,0,null),i=ch(i,a,s,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Pp(t,e.child,null,s),t.child.memoizedState=B3(s),t.memoizedState=$3,i);if(!(t.mode&1))return Gx(e,t,s,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(Lt(419)),n=yA(i,n,void 0),Gx(e,t,s,n)}if(o=(s&e.childLanes)!==0,$s||o){if(n=di,n!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,du(e,a),Dl(n,e,a,-1))}return zk(),n=yA(Error(Lt(421))),Gx(e,t,s,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=ote.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,co=Ff(a.nextSibling),po=t,ra=!0,Sl=null,e!==null&&(Ro[Fo++]=Kc,Ro[Fo++]=Yc,Ro[Fo++]=bh,Kc=e.id,Yc=e.overflow,bh=t),t=Rk(t,n.children),t.flags|=4096,t)}function HO(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),I3(e.return,t,r)}function xA(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function YB(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(ms(e,t,n.children,r),n=oa.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&HO(e,r,t);else if(e.tag===19)HO(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Hn(oa,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Db(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),xA(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Db(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}xA(t,!0,r,null,i);break;case"together":xA(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function G2(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function hu(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),_h|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Lt(153));if(t.child!==null){for(e=t.child,r=Vf(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Vf(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Yee(e,t,r){switch(t.tag){case 3:GB(t),Cp();break;case 5:wB(t);break;case 1:Ws(t.type)&&kb(t);break;case 4:Ck(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Hn(jb,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Hn(oa,oa.current&1),t.flags|=128,null):r&t.child.childLanes?KB(e,t,r):(Hn(oa,oa.current&1),e=hu(e,t,r),e!==null?e.sibling:null);Hn(oa,oa.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return YB(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Hn(oa,oa.current),n)break;return null;case 22:case 23:return t.lanes=0,WB(e,t,r)}return hu(e,t,r)}var XB,U3,QB,JB;XB=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};U3=function(){};QB=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Zd(cc.current);var i=null;switch(r){case"input":a=c3(e,a),n=c3(e,n),i=[];break;case"select":a=ua({},a,{value:void 0}),n=ua({},n,{value:void 0}),i=[];break;case"textarea":a=d3(e,a),n=d3(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Eb)}p3(r,n);var s;r=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var o=a[c];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(zv.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(o=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(zv.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Kn("scroll",e),i||o===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};JB=function(e,t,r,n){r!==n&&(t.flags|=4)};function vg(e,t){if(!ra)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Fi(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Xee(e,t,r){var n=t.pendingProps;switch(_k(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fi(t),null;case 1:return Ws(t.type)&&Nb(),Fi(t),null;case 3:return n=t.stateNode,jp(),ea(qs),ea(is),jk(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Wx(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Sl!==null&&(Y3(Sl),Sl=null))),U3(e,t),Fi(t),null;case 5:Pk(t);var a=Zd(t1.current);if(r=t.type,e!==null&&t.stateNode!=null)QB(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Lt(166));return Fi(t),null}if(e=Zd(cc.current),Wx(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[ic]=t,n[Zv]=i,e=(t.mode&1)!==0,r){case"dialog":Kn("cancel",n),Kn("close",n);break;case"iframe":case"object":case"embed":Kn("load",n);break;case"video":case"audio":for(a=0;a<qg.length;a++)Kn(qg[a],n);break;case"source":Kn("error",n);break;case"img":case"image":case"link":Kn("error",n),Kn("load",n);break;case"details":Kn("toggle",n);break;case"input":tO(n,i),Kn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Kn("invalid",n);break;case"textarea":nO(n,i),Kn("invalid",n)}p3(r,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];s==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&qx(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&qx(n.textContent,o,e),a=["children",""+o]):zv.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Kn("scroll",n)}switch(r){case"input":Mx(n),rO(n,i,!0);break;case"textarea":Mx(n),aO(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Eb)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=E9(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[ic]=t,e[Zv]=n,XB(e,t,!1,!1),t.stateNode=e;e:{switch(s=m3(r,n),r){case"dialog":Kn("cancel",e),Kn("close",e),a=n;break;case"iframe":case"object":case"embed":Kn("load",e),a=n;break;case"video":case"audio":for(a=0;a<qg.length;a++)Kn(qg[a],e);a=n;break;case"source":Kn("error",e),a=n;break;case"img":case"image":case"link":Kn("error",e),Kn("load",e),a=n;break;case"details":Kn("toggle",e),a=n;break;case"input":tO(e,n),a=c3(e,n),Kn("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=ua({},n,{value:void 0}),Kn("invalid",e);break;case"textarea":nO(e,n),a=d3(e,n),Kn("invalid",e);break;default:a=n}p3(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?C9(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&N9(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&qv(e,l):typeof l=="number"&&qv(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(zv.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Kn("scroll",e):l!=null&&ok(e,i,l,s))}switch(r){case"input":Mx(e),rO(e,n,!1);break;case"textarea":Mx(e),aO(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Zf(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?ap(e,!!n.multiple,i,!1):n.defaultValue!=null&&ap(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Eb)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Fi(t),null;case 6:if(e&&t.stateNode!=null)JB(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Lt(166));if(r=Zd(t1.current),Zd(cc.current),Wx(t)){if(n=t.stateNode,r=t.memoizedProps,n[ic]=t,(i=n.nodeValue!==r)&&(e=po,e!==null))switch(e.tag){case 3:qx(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&qx(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ic]=t,t.stateNode=n}return Fi(t),null;case 13:if(ea(oa),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ra&&co!==null&&t.mode&1&&!(t.flags&128))gB(),Cp(),t.flags|=98560,i=!1;else if(i=Wx(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(Lt(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Lt(317));i[ic]=t}else Cp(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Fi(t),i=!1}else Sl!==null&&(Y3(Sl),Sl=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||oa.current&1?Qa===0&&(Qa=3):zk())),t.updateQueue!==null&&(t.flags|=4),Fi(t),null);case 4:return jp(),U3(e,t),e===null&&Qv(t.stateNode.containerInfo),Fi(t),null;case 10:return Ek(t.type._context),Fi(t),null;case 17:return Ws(t.type)&&Nb(),Fi(t),null;case 19:if(ea(oa),i=t.memoizedState,i===null)return Fi(t),null;if(n=(t.flags&128)!==0,s=i.rendering,s===null)if(n)vg(i,!1);else{if(Qa!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Db(e),s!==null){for(t.flags|=128,vg(i,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Hn(oa,oa.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ta()>Ip&&(t.flags|=128,n=!0,vg(i,!1),t.lanes=4194304)}else{if(!n)if(e=Db(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),vg(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!ra)return Fi(t),null}else 2*Ta()-i.renderingStartTime>Ip&&r!==1073741824&&(t.flags|=128,n=!0,vg(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(r=i.last,r!==null?r.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ta(),t.sibling=null,r=oa.current,Hn(oa,n?r&1|2:r&1),t):(Fi(t),null);case 22:case 23:return Vk(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ao&1073741824&&(Fi(t),t.subtreeFlags&6&&(t.flags|=8192)):Fi(t),null;case 24:return null;case 25:return null}throw Error(Lt(156,t.tag))}function Qee(e,t){switch(_k(t),t.tag){case 1:return Ws(t.type)&&Nb(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return jp(),ea(qs),ea(is),jk(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Pk(t),null;case 13:if(ea(oa),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Lt(340));Cp()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ea(oa),null;case 4:return jp(),null;case 10:return Ek(t.type._context),null;case 22:case 23:return Vk(),null;case 24:return null;default:return null}}var Kx=!1,Yi=!1,Jee=typeof WeakSet=="function"?WeakSet:Set,nr=null;function H0(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ga(e,t,n)}else r.current=null}function V3(e,t,r){try{r()}catch(n){ga(e,t,n)}}var GO=!1;function Zee(e,t){if(T3=Sb,e=nB(),bk(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,c=0,u=0,d=e,h=null;t:for(;;){for(var p;d!==r||a!==0&&d.nodeType!==3||(o=s+a),d!==i||n!==0&&d.nodeType!==3||(l=s+n),d.nodeType===3&&(s+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===r&&++c===a&&(o=s),h===i&&++u===n&&(l=s),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(E3={focusedElem:e,selectionRange:r},Sb=!1,nr=t;nr!==null;)if(t=nr,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,nr=e;else for(;nr!==null;){t=nr;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,v=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:yl(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Lt(163))}}catch(O){ga(t,t.return,O)}if(e=t.sibling,e!==null){e.return=t.return,nr=e;break}nr=t.return}return g=GO,GO=!1,g}function cv(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&V3(t,r,i)}a=a.next}while(a!==n)}}function G5(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function z3(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function ZB(e){var t=e.alternate;t!==null&&(e.alternate=null,ZB(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ic],delete t[Zv],delete t[C3],delete t[Lee],delete t[Mee])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function eU(e){return e.tag===5||e.tag===3||e.tag===4}function KO(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||eU(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function q3(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Eb));else if(n!==4&&(e=e.child,e!==null))for(q3(e,t,r),e=e.sibling;e!==null;)q3(e,t,r),e=e.sibling}function W3(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(W3(e,t,r),e=e.sibling;e!==null;)W3(e,t,r),e=e.sibling}var _i=null,bl=!1;function sf(e,t,r){for(r=r.child;r!==null;)tU(e,t,r),r=r.sibling}function tU(e,t,r){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount($5,r)}catch{}switch(r.tag){case 5:Yi||H0(r,t);case 6:var n=_i,a=bl;_i=null,sf(e,t,r),_i=n,bl=a,_i!==null&&(bl?(e=_i,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):_i.removeChild(r.stateNode));break;case 18:_i!==null&&(bl?(e=_i,r=r.stateNode,e.nodeType===8?dA(e.parentNode,r):e.nodeType===1&&dA(e,r),Kv(e)):dA(_i,r.stateNode));break;case 4:n=_i,a=bl,_i=r.stateNode.containerInfo,bl=!0,sf(e,t,r),_i=n,bl=a;break;case 0:case 11:case 14:case 15:if(!Yi&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&V3(r,t,s),a=a.next}while(a!==n)}sf(e,t,r);break;case 1:if(!Yi&&(H0(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){ga(r,t,o)}sf(e,t,r);break;case 21:sf(e,t,r);break;case 22:r.mode&1?(Yi=(n=Yi)||r.memoizedState!==null,sf(e,t,r),Yi=n):sf(e,t,r);break;default:sf(e,t,r)}}function YO(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Jee),t.forEach(function(n){var a=lte.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function fl(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:_i=o.stateNode,bl=!1;break e;case 3:_i=o.stateNode.containerInfo,bl=!0;break e;case 4:_i=o.stateNode.containerInfo,bl=!0;break e}o=o.return}if(_i===null)throw Error(Lt(160));tU(i,s,a),_i=null,bl=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(c){ga(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)rU(t,e),t=t.sibling}function rU(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fl(t,e),Jl(e),n&4){try{cv(3,e,e.return),G5(3,e)}catch(m){ga(e,e.return,m)}try{cv(5,e,e.return)}catch(m){ga(e,e.return,m)}}break;case 1:fl(t,e),Jl(e),n&512&&r!==null&&H0(r,r.return);break;case 5:if(fl(t,e),Jl(e),n&512&&r!==null&&H0(r,r.return),e.flags&32){var a=e.stateNode;try{qv(a,"")}catch(m){ga(e,e.return,m)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,s=r!==null?r.memoizedProps:i,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&A9(a,i),m3(o,s);var c=m3(o,i);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?C9(a,d):u==="dangerouslySetInnerHTML"?N9(a,d):u==="children"?qv(a,d):ok(a,u,d,c)}switch(o){case"input":u3(a,i);break;case"textarea":T9(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?ap(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?ap(a,!!i.multiple,i.defaultValue,!0):ap(a,!!i.multiple,i.multiple?[]:"",!1))}a[Zv]=i}catch(m){ga(e,e.return,m)}}break;case 6:if(fl(t,e),Jl(e),n&4){if(e.stateNode===null)throw Error(Lt(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(m){ga(e,e.return,m)}}break;case 3:if(fl(t,e),Jl(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Kv(t.containerInfo)}catch(m){ga(e,e.return,m)}break;case 4:fl(t,e),Jl(e);break;case 13:fl(t,e),Jl(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Bk=Ta())),n&4&&YO(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Yi=(c=Yi)||u,fl(t,e),Yi=c):fl(t,e),Jl(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(nr=e,u=e.child;u!==null;){for(d=nr=u;nr!==null;){switch(h=nr,p=h.child,h.tag){case 0:case 11:case 14:case 15:cv(4,h,h.return);break;case 1:H0(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){ga(n,r,m)}}break;case 5:H0(h,h.return);break;case 22:if(h.memoizedState!==null){QO(d);continue}}p!==null?(p.return=h,nr=p):QO(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{a=d.stateNode,c?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=k9("display",s))}catch(m){ga(e,e.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){ga(e,e.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:fl(t,e),Jl(e),n&4&&YO(e);break;case 21:break;default:fl(t,e),Jl(e)}}function Jl(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(eU(r)){var n=r;break e}r=r.return}throw Error(Lt(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(qv(a,""),n.flags&=-33);var i=KO(e);W3(e,i,a);break;case 3:case 4:var s=n.stateNode.containerInfo,o=KO(e);q3(e,o,s);break;default:throw Error(Lt(161))}}catch(l){ga(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ete(e,t,r){nr=e,nU(e)}function nU(e,t,r){for(var n=(e.mode&1)!==0;nr!==null;){var a=nr,i=a.child;if(a.tag===22&&n){var s=a.memoizedState!==null||Kx;if(!s){var o=a.alternate,l=o!==null&&o.memoizedState!==null||Yi;o=Kx;var c=Yi;if(Kx=s,(Yi=l)&&!c)for(nr=a;nr!==null;)s=nr,l=s.child,s.tag===22&&s.memoizedState!==null?JO(a):l!==null?(l.return=s,nr=l):JO(a);for(;i!==null;)nr=i,nU(i),i=i.sibling;nr=a,Kx=o,Yi=c}XO(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,nr=i):XO(e)}}function XO(e){for(;nr!==null;){var t=nr;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Yi||G5(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Yi)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:yl(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&DO(t,i,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}DO(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Kv(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Lt(163))}Yi||t.flags&512&&z3(t)}catch(h){ga(t,t.return,h)}}if(t===e){nr=null;break}if(r=t.sibling,r!==null){r.return=t.return,nr=r;break}nr=t.return}}function QO(e){for(;nr!==null;){var t=nr;if(t===e){nr=null;break}var r=t.sibling;if(r!==null){r.return=t.return,nr=r;break}nr=t.return}}function JO(e){for(;nr!==null;){var t=nr;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{G5(4,t)}catch(l){ga(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){ga(t,a,l)}}var i=t.return;try{z3(t)}catch(l){ga(t,i,l)}break;case 5:var s=t.return;try{z3(t)}catch(l){ga(t,s,l)}}}catch(l){ga(t,t.return,l)}if(t===e){nr=null;break}var o=t.sibling;if(o!==null){o.return=t.return,nr=o;break}nr=t.return}}var tte=Math.ceil,Rb=Nu.ReactCurrentDispatcher,Fk=Nu.ReactCurrentOwner,qo=Nu.ReactCurrentBatchConfig,hn=0,di=null,$a=null,ki=0,ao=0,G0=hd(0),Qa=0,i1=null,_h=0,K5=0,$k=0,uv=null,Rs=null,Bk=0,Ip=1/0,Wc=null,Fb=!1,H3=null,Bf=null,Yx=!1,Af=null,$b=0,fv=0,G3=null,K2=-1,Y2=0;function As(){return hn&6?Ta():K2!==-1?K2:K2=Ta()}function Uf(e){return e.mode&1?hn&2&&ki!==0?ki&-ki:Fee.transition!==null?(Y2===0&&(Y2=U9()),Y2):(e=Pn,e!==0||(e=window.event,e=e===void 0?16:K9(e.type)),e):1}function Dl(e,t,r,n){if(50<fv)throw fv=0,G3=null,Error(Lt(185));Ny(e,r,n),(!(hn&2)||e!==di)&&(e===di&&(!(hn&2)&&(K5|=r),Qa===4&&yf(e,ki)),Hs(e,n),r===1&&hn===0&&!(t.mode&1)&&(Ip=Ta()+500,q5&&pd()))}function Hs(e,t){var r=e.callbackNode;FZ(e,t);var n=_b(e,e===di?ki:0);if(n===0)r!==null&&oO(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&oO(r),t===1)e.tag===0?Ree(ZO.bind(null,e)):hB(ZO.bind(null,e)),Iee(function(){!(hn&6)&&pd()}),r=null;else{switch(V9(n)){case 1:r=dk;break;case 4:r=$9;break;case 16:r=wb;break;case 536870912:r=B9;break;default:r=wb}r=fU(r,aU.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function aU(e,t){if(K2=-1,Y2=0,hn&6)throw Error(Lt(327));var r=e.callbackNode;if(cp()&&e.callbackNode!==r)return null;var n=_b(e,e===di?ki:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Bb(e,n);else{t=n;var a=hn;hn|=2;var i=sU();(di!==e||ki!==t)&&(Wc=null,Ip=Ta()+500,lh(e,t));do try{ate();break}catch(o){iU(e,o)}while(!0);Tk(),Rb.current=i,hn=a,$a!==null?t=0:(di=null,ki=0,t=Qa)}if(t!==0){if(t===2&&(a=b3(e),a!==0&&(n=a,t=K3(e,a))),t===1)throw r=i1,lh(e,0),yf(e,n),Hs(e,Ta()),r;if(t===6)yf(e,n);else{if(a=e.current.alternate,!(n&30)&&!rte(a)&&(t=Bb(e,n),t===2&&(i=b3(e),i!==0&&(n=i,t=K3(e,i))),t===1))throw r=i1,lh(e,0),yf(e,n),Hs(e,Ta()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(Lt(345));case 2:Bd(e,Rs,Wc);break;case 3:if(yf(e,n),(n&130023424)===n&&(t=Bk+500-Ta(),10<t)){if(_b(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){As(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=k3(Bd.bind(null,e,Rs,Wc),t);break}Bd(e,Rs,Wc);break;case 4:if(yf(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var s=31-Il(n);i=1<<s,s=t[s],s>a&&(a=s),n&=~i}if(n=a,n=Ta()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*tte(n/1960))-n,10<n){e.timeoutHandle=k3(Bd.bind(null,e,Rs,Wc),n);break}Bd(e,Rs,Wc);break;case 5:Bd(e,Rs,Wc);break;default:throw Error(Lt(329))}}}return Hs(e,Ta()),e.callbackNode===r?aU.bind(null,e):null}function K3(e,t){var r=uv;return e.current.memoizedState.isDehydrated&&(lh(e,t).flags|=256),e=Bb(e,t),e!==2&&(t=Rs,Rs=r,t!==null&&Y3(t)),e}function Y3(e){Rs===null?Rs=e:Rs.push.apply(Rs,e)}function rte(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Rl(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function yf(e,t){for(t&=~$k,t&=~K5,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Il(t),n=1<<r;e[r]=-1,t&=~n}}function ZO(e){if(hn&6)throw Error(Lt(327));cp();var t=_b(e,0);if(!(t&1))return Hs(e,Ta()),null;var r=Bb(e,t);if(e.tag!==0&&r===2){var n=b3(e);n!==0&&(t=n,r=K3(e,n))}if(r===1)throw r=i1,lh(e,0),yf(e,t),Hs(e,Ta()),r;if(r===6)throw Error(Lt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Bd(e,Rs,Wc),Hs(e,Ta()),null}function Uk(e,t){var r=hn;hn|=1;try{return e(t)}finally{hn=r,hn===0&&(Ip=Ta()+500,q5&&pd())}}function Sh(e){Af!==null&&Af.tag===0&&!(hn&6)&&cp();var t=hn;hn|=1;var r=qo.transition,n=Pn;try{if(qo.transition=null,Pn=1,e)return e()}finally{Pn=n,qo.transition=r,hn=t,!(hn&6)&&pd()}}function Vk(){ao=G0.current,ea(G0)}function lh(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Oee(r)),$a!==null)for(r=$a.return;r!==null;){var n=r;switch(_k(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Nb();break;case 3:jp(),ea(qs),ea(is),jk();break;case 5:Pk(n);break;case 4:jp();break;case 13:ea(oa);break;case 19:ea(oa);break;case 10:Ek(n.type._context);break;case 22:case 23:Vk()}r=r.return}if(di=e,$a=e=Vf(e.current,null),ki=ao=t,Qa=0,i1=null,$k=K5=_h=0,Rs=uv=null,Jd!==null){for(t=0;t<Jd.length;t++)if(r=Jd[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=a,n.next=s}r.pending=n}Jd=null}return e}function iU(e,t){do{var r=$a;try{if(Tk(),W2.current=Mb,Lb){for(var n=la.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Lb=!1}if(wh=0,li=Xa=la=null,lv=!1,r1=0,Fk.current=null,r===null||r.return===null){Qa=1,i1=t,$a=null;break}e:{var i=e,s=r.return,o=r,l=t;if(t=ki,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=BO(s);if(p!==null){p.flags&=-257,UO(p,s,o,i,t),p.mode&1&&$O(i,c,t),t=p,l=c;var g=t.updateQueue;if(g===null){var m=new Set;m.add(l),t.updateQueue=m}else g.add(l);break e}else{if(!(t&1)){$O(i,c,t),zk();break e}l=Error(Lt(426))}}else if(ra&&o.mode&1){var v=BO(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),UO(v,s,o,i,t),Sk(Op(l,o));break e}}i=l=Op(l,o),Qa!==4&&(Qa=2),uv===null?uv=[i]:uv.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=VB(i,l,t);IO(i,y);break e;case 1:o=l;var b=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Bf===null||!Bf.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var O=zB(i,o,t);IO(i,O);break e}}i=i.return}while(i!==null)}lU(r)}catch(P){t=P,$a===r&&r!==null&&($a=r=r.return);continue}break}while(!0)}function sU(){var e=Rb.current;return Rb.current=Mb,e===null?Mb:e}function zk(){(Qa===0||Qa===3||Qa===2)&&(Qa=4),di===null||!(_h&268435455)&&!(K5&268435455)||yf(di,ki)}function Bb(e,t){var r=hn;hn|=2;var n=sU();(di!==e||ki!==t)&&(Wc=null,lh(e,t));do try{nte();break}catch(a){iU(e,a)}while(!0);if(Tk(),hn=r,Rb.current=n,$a!==null)throw Error(Lt(261));return di=null,ki=0,Qa}function nte(){for(;$a!==null;)oU($a)}function ate(){for(;$a!==null&&!CZ();)oU($a)}function oU(e){var t=uU(e.alternate,e,ao);e.memoizedProps=e.pendingProps,t===null?lU(e):$a=t,Fk.current=null}function lU(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Qee(r,t),r!==null){r.flags&=32767,$a=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Qa=6,$a=null;return}}else if(r=Xee(r,t,ao),r!==null){$a=r;return}if(t=t.sibling,t!==null){$a=t;return}$a=t=e}while(t!==null);Qa===0&&(Qa=5)}function Bd(e,t,r){var n=Pn,a=qo.transition;try{qo.transition=null,Pn=1,ite(e,t,r,n)}finally{qo.transition=a,Pn=n}return null}function ite(e,t,r,n){do cp();while(Af!==null);if(hn&6)throw Error(Lt(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Lt(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if($Z(e,i),e===di&&($a=di=null,ki=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Yx||(Yx=!0,fU(wb,function(){return cp(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=qo.transition,qo.transition=null;var s=Pn;Pn=1;var o=hn;hn|=4,Fk.current=null,Zee(e,r),rU(r,e),Tee(E3),Sb=!!T3,E3=T3=null,e.current=r,ete(r),PZ(),hn=o,Pn=s,qo.transition=i}else e.current=r;if(Yx&&(Yx=!1,Af=e,$b=a),i=e.pendingLanes,i===0&&(Bf=null),IZ(r.stateNode),Hs(e,Ta()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Fb)throw Fb=!1,e=H3,H3=null,e;return $b&1&&e.tag!==0&&cp(),i=e.pendingLanes,i&1?e===G3?fv++:(fv=0,G3=e):fv=0,pd(),null}function cp(){if(Af!==null){var e=V9($b),t=qo.transition,r=Pn;try{if(qo.transition=null,Pn=16>e?16:e,Af===null)var n=!1;else{if(e=Af,Af=null,$b=0,hn&6)throw Error(Lt(331));var a=hn;for(hn|=4,nr=e.current;nr!==null;){var i=nr,s=i.child;if(nr.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(nr=c;nr!==null;){var u=nr;switch(u.tag){case 0:case 11:case 15:cv(8,u,i)}var d=u.child;if(d!==null)d.return=u,nr=d;else for(;nr!==null;){u=nr;var h=u.sibling,p=u.return;if(ZB(u),u===c){nr=null;break}if(h!==null){h.return=p,nr=h;break}nr=p}}}var g=i.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}nr=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,nr=s;else e:for(;nr!==null;){if(i=nr,i.flags&2048)switch(i.tag){case 0:case 11:case 15:cv(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,nr=y;break e}nr=i.return}}var b=e.current;for(nr=b;nr!==null;){s=nr;var x=s.child;if(s.subtreeFlags&2064&&x!==null)x.return=s,nr=x;else e:for(s=b;nr!==null;){if(o=nr,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:G5(9,o)}}catch(P){ga(o,o.return,P)}if(o===s){nr=null;break e}var O=o.sibling;if(O!==null){O.return=o.return,nr=O;break e}nr=o.return}}if(hn=a,pd(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot($5,e)}catch{}n=!0}return n}finally{Pn=r,qo.transition=t}}return!1}function eI(e,t,r){t=Op(r,t),t=VB(e,t,1),e=$f(e,t,1),t=As(),e!==null&&(Ny(e,1,t),Hs(e,t))}function ga(e,t,r){if(e.tag===3)eI(e,e,r);else for(;t!==null;){if(t.tag===3){eI(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Bf===null||!Bf.has(n))){e=Op(r,e),e=zB(t,e,1),t=$f(t,e,1),e=As(),t!==null&&(Ny(t,1,e),Hs(t,e));break}}t=t.return}}function ste(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=As(),e.pingedLanes|=e.suspendedLanes&r,di===e&&(ki&r)===r&&(Qa===4||Qa===3&&(ki&130023424)===ki&&500>Ta()-Bk?lh(e,0):$k|=r),Hs(e,t)}function cU(e,t){t===0&&(e.mode&1?(t=$x,$x<<=1,!($x&130023424)&&($x=4194304)):t=1);var r=As();e=du(e,t),e!==null&&(Ny(e,t,r),Hs(e,r))}function ote(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),cU(e,r)}function lte(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Lt(314))}n!==null&&n.delete(t),cU(e,r)}var uU;uU=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||qs.current)$s=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return $s=!1,Yee(e,t,r);$s=!!(e.flags&131072)}else $s=!1,ra&&t.flags&1048576&&pB(t,Pb,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;G2(e,t),e=t.pendingProps;var a=kp(t,is.current);lp(t,r),a=Ik(null,t,n,e,a,r);var i=Dk();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ws(n)?(i=!0,kb(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,kk(t),a.updater=H5,t.stateNode=a,a._reactInternals=t,L3(t,n,e,r),t=F3(null,t,n,!0,i,r)):(t.tag=0,ra&&i&&wk(t),ms(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(G2(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=ute(n),e=yl(n,e),a){case 0:t=R3(null,t,n,e,r);break e;case 1:t=qO(null,t,n,e,r);break e;case 11:t=VO(null,t,n,e,r);break e;case 14:t=zO(null,t,n,yl(n.type,e),r);break e}throw Error(Lt(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:yl(n,a),R3(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:yl(n,a),qO(e,t,n,a,r);case 3:e:{if(GB(t),e===null)throw Error(Lt(387));n=t.pendingProps,i=t.memoizedState,a=i.element,bB(e,t),Ib(t,n,null,r);var s=t.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Op(Error(Lt(423)),t),t=WO(e,t,n,r,a);break e}else if(n!==a){a=Op(Error(Lt(424)),t),t=WO(e,t,n,r,a);break e}else for(co=Ff(t.stateNode.containerInfo.firstChild),po=t,ra=!0,Sl=null,r=yB(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Cp(),n===a){t=hu(e,t,r);break e}ms(e,t,n,r)}t=t.child}return t;case 5:return wB(t),e===null&&O3(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,s=a.children,N3(n,a)?s=null:i!==null&&N3(n,i)&&(t.flags|=32),HB(e,t),ms(e,t,s,r),t.child;case 6:return e===null&&O3(t),null;case 13:return KB(e,t,r);case 4:return Ck(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Pp(t,null,n,r):ms(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:yl(n,a),VO(e,t,n,a,r);case 7:return ms(e,t,t.pendingProps,r),t.child;case 8:return ms(e,t,t.pendingProps.children,r),t.child;case 12:return ms(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,Hn(jb,n._currentValue),n._currentValue=s,i!==null)if(Rl(i.value,s)){if(i.children===a.children&&!qs.current){t=hu(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){s=i.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=tu(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),I3(i.return,r,t),o.lanes|=r;break}l=l.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(Lt(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),I3(s,r,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}ms(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,lp(t,r),a=Yo(a),n=n(a),t.flags|=1,ms(e,t,n,r),t.child;case 14:return n=t.type,a=yl(n,t.pendingProps),a=yl(n.type,a),zO(e,t,n,a,r);case 15:return qB(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:yl(n,a),G2(e,t),t.tag=1,Ws(n)?(e=!0,kb(t)):e=!1,lp(t,r),UB(t,n,a),L3(t,n,a,r),F3(null,t,n,!0,e,r);case 19:return YB(e,t,r);case 22:return WB(e,t,r)}throw Error(Lt(156,t.tag))};function fU(e,t){return F9(e,t)}function cte(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vo(e,t,r,n){return new cte(e,t,r,n)}function qk(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ute(e){if(typeof e=="function")return qk(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ck)return 11;if(e===uk)return 14}return 2}function Vf(e,t){var r=e.alternate;return r===null?(r=Vo(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function X2(e,t,r,n,a,i){var s=2;if(n=e,typeof e=="function")qk(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case R0:return ch(r.children,a,i,t);case lk:s=8,a|=8;break;case i3:return e=Vo(12,r,t,a|2),e.elementType=i3,e.lanes=i,e;case s3:return e=Vo(13,r,t,a),e.elementType=s3,e.lanes=i,e;case o3:return e=Vo(19,r,t,a),e.elementType=o3,e.lanes=i,e;case w9:return Y5(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case x9:s=10;break e;case b9:s=9;break e;case ck:s=11;break e;case uk:s=14;break e;case pf:s=16,n=null;break e}throw Error(Lt(130,e==null?e:typeof e,""))}return t=Vo(s,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function ch(e,t,r,n){return e=Vo(7,e,n,t),e.lanes=r,e}function Y5(e,t,r,n){return e=Vo(22,e,n,t),e.elementType=w9,e.lanes=r,e.stateNode={isHidden:!1},e}function bA(e,t,r){return e=Vo(6,e,null,t),e.lanes=r,e}function wA(e,t,r){return t=Vo(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function fte(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tA(0),this.expirationTimes=tA(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tA(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Wk(e,t,r,n,a,i,s,o,l){return e=new fte(e,t,r,o,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Vo(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},kk(i),e}function dte(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M0,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function dU(e){if(!e)return ed;e=e._reactInternals;e:{if($h(e)!==e||e.tag!==1)throw Error(Lt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ws(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Lt(171))}if(e.tag===1){var r=e.type;if(Ws(r))return dB(e,r,t)}return t}function hU(e,t,r,n,a,i,s,o,l){return e=Wk(r,n,!0,e,a,i,s,o,l),e.context=dU(null),r=e.current,n=As(),a=Uf(r),i=tu(n,a),i.callback=t??null,$f(r,i,a),e.current.lanes=a,Ny(e,a,n),Hs(e,n),e}function X5(e,t,r,n){var a=t.current,i=As(),s=Uf(a);return r=dU(r),t.context===null?t.context=r:t.pendingContext=r,t=tu(i,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=$f(a,t,s),e!==null&&(Dl(e,a,s,i),q2(e,a,s)),s}function Ub(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function tI(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Hk(e,t){tI(e,t),(e=e.alternate)&&tI(e,t)}function hte(){return null}var pU=typeof reportError=="function"?reportError:function(e){console.error(e)};function Gk(e){this._internalRoot=e}Q5.prototype.render=Gk.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Lt(409));X5(e,t,null,null)};Q5.prototype.unmount=Gk.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Sh(function(){X5(null,e,null,null)}),t[fu]=null}};function Q5(e){this._internalRoot=e}Q5.prototype.unstable_scheduleHydration=function(e){if(e){var t=W9();e={blockedOn:null,target:e,priority:t};for(var r=0;r<vf.length&&t!==0&&t<vf[r].priority;r++);vf.splice(r,0,e),r===0&&G9(e)}};function Kk(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function J5(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function rI(){}function pte(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var c=Ub(s);i.call(c)}}var s=hU(t,n,e,0,null,!1,!1,"",rI);return e._reactRootContainer=s,e[fu]=s.current,Qv(e.nodeType===8?e.parentNode:e),Sh(),s}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var c=Ub(l);o.call(c)}}var l=Wk(e,0,!1,null,null,!1,!1,"",rI);return e._reactRootContainer=l,e[fu]=l.current,Qv(e.nodeType===8?e.parentNode:e),Sh(function(){X5(t,l,r,n)}),l}function Z5(e,t,r,n,a){var i=r._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var o=a;a=function(){var l=Ub(s);o.call(l)}}X5(t,s,e,a)}else s=pte(r,t,e,a,n);return Ub(s)}z9=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=zg(t.pendingLanes);r!==0&&(hk(t,r|1),Hs(t,Ta()),!(hn&6)&&(Ip=Ta()+500,pd()))}break;case 13:Sh(function(){var n=du(e,1);if(n!==null){var a=As();Dl(n,e,1,a)}}),Hk(e,1)}};pk=function(e){if(e.tag===13){var t=du(e,134217728);if(t!==null){var r=As();Dl(t,e,134217728,r)}Hk(e,134217728)}};q9=function(e){if(e.tag===13){var t=Uf(e),r=du(e,t);if(r!==null){var n=As();Dl(r,e,t,n)}Hk(e,t)}};W9=function(){return Pn};H9=function(e,t){var r=Pn;try{return Pn=e,t()}finally{Pn=r}};v3=function(e,t,r){switch(t){case"input":if(u3(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=z5(n);if(!a)throw Error(Lt(90));S9(n),u3(n,a)}}}break;case"textarea":T9(e,r);break;case"select":t=r.value,t!=null&&ap(e,!!r.multiple,t,!1)}};O9=Uk;I9=Sh;var mte={usingClientEntryPoint:!1,Events:[Cy,U0,z5,P9,j9,Uk]},yg={findFiberByHostInstance:Qd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gte={bundleType:yg.bundleType,version:yg.version,rendererPackageName:yg.rendererPackageName,rendererConfig:yg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nu.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=M9(e),e===null?null:e.stateNode},findFiberByHostInstance:yg.findFiberByHostInstance||hte,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xx.isDisabled&&Xx.supportsFiber)try{$5=Xx.inject(gte),lc=Xx}catch{}}yo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mte;yo.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kk(t))throw Error(Lt(200));return dte(e,t,null,r)};yo.createRoot=function(e,t){if(!Kk(e))throw Error(Lt(299));var r=!1,n="",a=pU;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Wk(e,1,!1,null,null,r,!1,n,a),e[fu]=t.current,Qv(e.nodeType===8?e.parentNode:e),new Gk(t)};yo.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Lt(188)):(e=Object.keys(e).join(","),Error(Lt(268,e)));return e=M9(t),e=e===null?null:e.stateNode,e};yo.flushSync=function(e){return Sh(e)};yo.hydrate=function(e,t,r){if(!J5(t))throw Error(Lt(200));return Z5(null,e,t,!0,r)};yo.hydrateRoot=function(e,t,r){if(!Kk(e))throw Error(Lt(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",s=pU;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=hU(t,null,e,1,r??null,a,!1,i,s),e[fu]=t.current,Qv(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Q5(t)};yo.render=function(e,t,r){if(!J5(t))throw Error(Lt(200));return Z5(null,e,t,!1,r)};yo.unmountComponentAtNode=function(e){if(!J5(e))throw Error(Lt(40));return e._reactRootContainer?(Sh(function(){Z5(null,null,e,!1,function(){e._reactRootContainer=null,e[fu]=null})}),!0):!1};yo.unstable_batchedUpdates=Uk;yo.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!J5(r))throw Error(Lt(200));if(e==null||e._reactInternals===void 0)throw Error(Lt(38));return Z5(e,t,r,!1,n)};yo.version="18.3.1-next-f1338f8080-20240426";function mU(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mU)}catch(e){console.error(e)}}mU(),m9.exports=yo;var gU=m9.exports,vU,nI=gU;vU=nI.createRoot,nI.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function s1(){return s1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s1.apply(this,arguments)}var Tf;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Tf||(Tf={}));const aI="popstate";function vte(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:s,hash:o}=n.location;return X3("",{pathname:i,search:s,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Vb(a)}return xte(t,r,null,e)}function ca(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function yU(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function yte(){return Math.random().toString(36).substr(2,8)}function iI(e,t){return{usr:e.state,key:e.key,idx:t}}function X3(e,t,r,n){return r===void 0&&(r=null),s1({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?bm(t):t,{state:r,key:t&&t.key||n||yte()})}function Vb(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function bm(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function xte(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,o=Tf.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(s1({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function d(){o=Tf.Pop;let v=u(),y=v==null?null:v-c;c=v,l&&l({action:o,location:m.location,delta:y})}function h(v,y){o=Tf.Push;let b=X3(m.location,v,y);c=u()+1;let x=iI(b,c),O=m.createHref(b);try{s.pushState(x,"",O)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;a.location.assign(O)}i&&l&&l({action:o,location:m.location,delta:1})}function p(v,y){o=Tf.Replace;let b=X3(m.location,v,y);c=u();let x=iI(b,c),O=m.createHref(b);s.replaceState(x,"",O),i&&l&&l({action:o,location:m.location,delta:0})}function g(v){let y=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof v=="string"?v:Vb(v);return b=b.replace(/ $/,"%20"),ca(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let m={get action(){return o},get location(){return e(a,s)},listen(v){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(aI,d),l=v,()=>{a.removeEventListener(aI,d),l=null}},createHref(v){return t(a,v)},createURL:g,encodeLocation(v){let y=g(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(v){return s.go(v)}};return m}var sI;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(sI||(sI={}));function bte(e,t,r){return r===void 0&&(r="/"),wte(e,t,r,!1)}function wte(e,t,r,n){let a=typeof t=="string"?bm(t):t,i=Dp(a.pathname||"/",r);if(i==null)return null;let s=xU(e);_te(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=Ite(i);o=jte(s[l],c,n)}return o}function xU(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,s,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};l.relativePath.startsWith("/")&&(ca(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=zf([n,l.relativePath]),u=r.concat(l);i.children&&i.children.length>0&&(ca(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),xU(i.children,t,u,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:Cte(c,i.index),routesMeta:u})};return e.forEach((i,s)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,s);else for(let l of bU(i.path))a(i,s,l)}),t}function bU(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=bU(n.join("/")),o=[];return o.push(...s.map(l=>l===""?i:[i,l].join("/"))),a&&o.push(...s),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function _te(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Pte(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Ste=/^:[\w-]+$/,Ate=3,Tte=2,Ete=1,Nte=10,kte=-2,oI=e=>e==="*";function Cte(e,t){let r=e.split("/"),n=r.length;return r.some(oI)&&(n+=kte),t&&(n+=Tte),r.filter(a=>!oI(a)).reduce((a,i)=>a+(Ste.test(i)?Ate:i===""?Ete:Nte),n)}function Pte(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function jte(e,t,r){let{routesMeta:n}=e,a={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",d=zb({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d&&c&&r&&!n[n.length-1].route.index&&(d=zb({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(a,d.params),s.push({params:a,pathname:zf([i,d.pathname]),pathnameBase:Rte(zf([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=zf([i,d.pathnameBase]))}return s}function zb(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Ote(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((c,u,d)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let m=o[d]||"";s=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const g=o[d];return p&&!g?c[h]=void 0:c[h]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:s,pattern:e}}function Ote(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),yU(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function Ite(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return yU(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Dp(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Dte(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?bm(e):e;return{pathname:r?r.startsWith("/")?r:Lte(r,t):t,search:Fte(n),hash:$te(a)}}function Lte(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function _A(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Mte(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Yk(e,t){let r=Mte(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Xk(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=bm(e):(a=s1({},e),ca(!a.pathname||!a.pathname.includes("?"),_A("?","pathname","search",a)),ca(!a.pathname||!a.pathname.includes("#"),_A("#","pathname","hash",a)),ca(!a.search||!a.search.includes("#"),_A("#","search","hash",a)));let i=e===""||a.pathname==="",s=i?"/":a.pathname,o;if(s==null)o=r;else{let d=t.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),d-=1;a.pathname=h.join("/")}o=d>=0?t[d]:"/"}let l=Dte(a,o),c=s&&s!=="/"&&s.endsWith("/"),u=(i||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const zf=e=>e.join("/").replace(/\/\/+/g,"/"),Rte=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Fte=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,$te=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Bte(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const wU=["post","put","patch","delete"];new Set(wU);const Ute=["get",...wU];new Set(Ute);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function o1(){return o1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o1.apply(this,arguments)}const e_=F.createContext(null),_U=F.createContext(null),ku=F.createContext(null),t_=F.createContext(null),Cu=F.createContext({outlet:null,matches:[],isDataRoute:!1}),SU=F.createContext(null);function Vte(e,t){let{relative:r}=t===void 0?{}:t;wm()||ca(!1);let{basename:n,navigator:a}=F.useContext(ku),{hash:i,pathname:s,search:o}=r_(e,{relative:r}),l=s;return n!=="/"&&(l=s==="/"?n:zf([n,s])),a.createHref({pathname:l,search:o,hash:i})}function wm(){return F.useContext(t_)!=null}function _m(){return wm()||ca(!1),F.useContext(t_).location}function AU(e){F.useContext(ku).static||F.useLayoutEffect(e)}function Sm(){let{isDataRoute:e}=F.useContext(Cu);return e?nre():zte()}function zte(){wm()||ca(!1);let e=F.useContext(e_),{basename:t,future:r,navigator:n}=F.useContext(ku),{matches:a}=F.useContext(Cu),{pathname:i}=_m(),s=JSON.stringify(Yk(a,r.v7_relativeSplatPath)),o=F.useRef(!1);return AU(()=>{o.current=!0}),F.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let d=Xk(c,JSON.parse(s),i,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:zf([t,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[t,n,s,i,e])}const qte=F.createContext(null);function Wte(e){let t=F.useContext(Cu).outlet;return t&&F.createElement(qte.Provider,{value:e},t)}function r_(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=F.useContext(ku),{matches:a}=F.useContext(Cu),{pathname:i}=_m(),s=JSON.stringify(Yk(a,n.v7_relativeSplatPath));return F.useMemo(()=>Xk(e,JSON.parse(s),i,r==="path"),[e,s,i,r])}function Hte(e,t){return Gte(e,t)}function Gte(e,t,r,n){wm()||ca(!1);let{navigator:a,static:i}=F.useContext(ku),{matches:s}=F.useContext(Cu),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=_m(),d;if(t){var h;let y=typeof t=="string"?bm(t):t;c==="/"||(h=y.pathname)!=null&&h.startsWith(c)||ca(!1),d=y}else d=u;let p=d.pathname||"/",g=p;if(c!=="/"){let y=c.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=!i&&r&&r.matches&&r.matches.length>0?r.matches:bte(e,{pathname:g}),v=Jte(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:zf([c,a.encodeLocation?a.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:zf([c,a.encodeLocation?a.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,r,n);return t&&v?F.createElement(t_.Provider,{value:{location:o1({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Tf.Pop}},v):v}function Kte(){let e=rre(),t=Bte(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},t),r?F.createElement("pre",{style:a},r):null,null)}const Yte=F.createElement(Kte,null);class Xte extends F.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?F.createElement(Cu.Provider,{value:this.props.routeContext},F.createElement(SU.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Qte(e){let{routeContext:t,match:r,children:n}=e,a=F.useContext(e_);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),F.createElement(Cu.Provider,{value:t},n)}function Jte(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,o=(a=r)==null?void 0:a.errors;if(o!=null){let u=s.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);u>=0||ca(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<s.length;u++){let d=s[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:p}=r,g=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,d,h)=>{let p,g=!1,m=null,v=null;r&&(p=o&&d.route.id?o[d.route.id]:void 0,m=d.route.errorElement||Yte,l&&(c<0&&h===0?(g=!0,v=null):c===h&&(g=!0,v=d.route.hydrateFallbackElement||null)));let y=t.concat(s.slice(0,h+1)),b=()=>{let x;return p?x=m:g?x=v:d.route.Component?x=F.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=u,F.createElement(Qte,{match:d,routeContext:{outlet:u,matches:y,isDataRoute:r!=null},children:x})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?F.createElement(Xte,{location:r.location,revalidation:r.revalidation,component:m,error:p,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var TU=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(TU||{}),qb=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(qb||{});function Zte(e){let t=F.useContext(e_);return t||ca(!1),t}function ere(e){let t=F.useContext(_U);return t||ca(!1),t}function tre(e){let t=F.useContext(Cu);return t||ca(!1),t}function EU(e){let t=tre(),r=t.matches[t.matches.length-1];return r.route.id||ca(!1),r.route.id}function rre(){var e;let t=F.useContext(SU),r=ere(qb.UseRouteError),n=EU(qb.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function nre(){let{router:e}=Zte(TU.UseNavigateStable),t=EU(qb.UseNavigateStable),r=F.useRef(!1);return AU(()=>{r.current=!0}),F.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,o1({fromRouteId:t},i)))},[e,t])}function are(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Q3(e){let{to:t,replace:r,state:n,relative:a}=e;wm()||ca(!1);let{future:i,static:s}=F.useContext(ku),{matches:o}=F.useContext(Cu),{pathname:l}=_m(),c=Sm(),u=Xk(t,Yk(o,i.v7_relativeSplatPath),l,a==="path"),d=JSON.stringify(u);return F.useEffect(()=>c(JSON.parse(d),{replace:r,state:n,relative:a}),[c,d,a,r,n]),null}function ire(e){return Wte(e.context)}function ps(e){ca(!1)}function sre(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Tf.Pop,navigator:i,static:s=!1,future:o}=e;wm()&&ca(!1);let l=t.replace(/^\/*/,"/"),c=F.useMemo(()=>({basename:l,navigator:i,static:s,future:o1({v7_relativeSplatPath:!1},o)}),[l,o,i,s]);typeof n=="string"&&(n=bm(n));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:g="default"}=n,m=F.useMemo(()=>{let v=Dp(u,l);return v==null?null:{location:{pathname:v,search:d,hash:h,state:p,key:g},navigationType:a}},[l,u,d,h,p,g,a]);return m==null?null:F.createElement(ku.Provider,{value:c},F.createElement(t_.Provider,{children:r,value:m}))}function ore(e){let{children:t,location:r}=e;return Hte(J3(t),r)}new Promise(()=>{});function J3(e,t){t===void 0&&(t=[]);let r=[];return F.Children.forEach(e,(n,a)=>{if(!F.isValidElement(n))return;let i=[...t,a];if(n.type===F.Fragment){r.push.apply(r,J3(n.props.children,i));return}n.type!==ps&&ca(!1),!n.props.index||!n.props.children||ca(!1);let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=J3(n.props.children,i)),r.push(s)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wb(){return Wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wb.apply(this,arguments)}function NU(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function lre(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function cre(e,t){return e.button===0&&(!t||t==="_self")&&!lre(e)}const ure=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],fre=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],dre="6";try{window.__reactRouterVersion=dre}catch{}const hre=F.createContext({isTransitioning:!1}),pre="startTransition",lI=sZ[pre];function mre(e){let{basename:t,children:r,future:n,window:a}=e,i=F.useRef();i.current==null&&(i.current=vte({window:a,v5Compat:!0}));let s=i.current,[o,l]=F.useState({action:s.action,location:s.location}),{v7_startTransition:c}=n||{},u=F.useCallback(d=>{c&&lI?lI(()=>l(d)):l(d)},[l,c]);return F.useLayoutEffect(()=>s.listen(u),[s,u]),F.useEffect(()=>are(n),[n]),F.createElement(sre,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const gre=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vre=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yre=F.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:s,state:o,target:l,to:c,preventScrollReset:u,viewTransition:d}=t,h=NU(t,ure),{basename:p}=F.useContext(ku),g,m=!1;if(typeof c=="string"&&vre.test(c)&&(g=c,gre))try{let x=new URL(window.location.href),O=c.startsWith("//")?new URL(x.protocol+c):new URL(c),P=Dp(O.pathname,p);O.origin===x.origin&&P!=null?c=P+O.search+O.hash:m=!0}catch{}let v=Vte(c,{relative:a}),y=bre(c,{replace:s,state:o,target:l,preventScrollReset:u,relative:a,viewTransition:d});function b(x){n&&n(x),x.defaultPrevented||y(x)}return F.createElement("a",Wb({},h,{href:g||v,onClick:m||i?n:b,ref:r,target:l}))}),SA=F.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:i="",end:s=!1,style:o,to:l,viewTransition:c,children:u}=t,d=NU(t,fre),h=r_(l,{relative:d.relative}),p=_m(),g=F.useContext(_U),{navigator:m,basename:v}=F.useContext(ku),y=g!=null&&wre(h)&&c===!0,b=m.encodeLocation?m.encodeLocation(h).pathname:h.pathname,x=p.pathname,O=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;a||(x=x.toLowerCase(),O=O?O.toLowerCase():null,b=b.toLowerCase()),O&&v&&(O=Dp(O,v)||O);const P=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let j=x===b||!s&&x.startsWith(b)&&x.charAt(P)==="/",T=O!=null&&(O===b||!s&&O.startsWith(b)&&O.charAt(b.length)==="/"),S={isActive:j,isPending:T,isTransitioning:y},_=j?n:void 0,D;typeof i=="function"?D=i(S):D=[i,j?"active":null,T?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let E=typeof o=="function"?o(S):o;return F.createElement(yre,Wb({},d,{"aria-current":_,className:D,ref:r,style:E,to:l,viewTransition:c}),typeof u=="function"?u(S):u)});var Z3;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Z3||(Z3={}));var cI;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(cI||(cI={}));function xre(e){let t=F.useContext(e_);return t||ca(!1),t}function bre(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:s,viewTransition:o}=t===void 0?{}:t,l=Sm(),c=_m(),u=r_(e,{relative:s});return F.useCallback(d=>{if(cre(d,r)){d.preventDefault();let h=n!==void 0?n:Vb(c)===Vb(u);l(e,{replace:h,state:a,preventScrollReset:i,relative:s,viewTransition:o})}},[c,l,u,n,a,r,e,i,s,o])}function wre(e,t){t===void 0&&(t={});let r=F.useContext(hre);r==null&&ca(!1);let{basename:n}=xre(Z3.useViewTransitionState),a=r_(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=Dp(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=Dp(r.nextLocation.pathname,n)||r.nextLocation.pathname;return zb(a.pathname,s)!=null||zb(a.pathname,i)!=null}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _re={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sre=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),cr=(e,t)=>{const r=F.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:l,...c},u)=>F.createElement("svg",{ref:u,..._re,width:a,height:a,stroke:n,strokeWidth:s?Number(i)*24/Number(a):i,className:["lucide",`lucide-${Sre(e)}`,o].join(" "),...c},[...t.map(([d,h])=>F.createElement(d,h)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Are=cr("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ah=cr("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=cr("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tre=cr("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=cr("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kU=cr("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=cr("Barcode",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ere=cr("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CU=cr("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=cr("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=cr("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=cr("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=cr("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=cr("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=cr("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=cr("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nre=cr("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kre=cr("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=cr("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=cr("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=cr("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cre=cr("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=cr("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pre=cr("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jre=cr("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=cr("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ore=cr("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ire=cr("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dre=cr("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=cr("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=cr("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=cr("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lre=cr("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mre=cr("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=cr("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rre=cr("PackageMinus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fre=cr("PackageOpen",[["path",{d:"M12 22v-9",key:"x3hkom"}],["path",{d:"M15.17 2.21a1.67 1.67 0 0 1 1.63 0L21 4.57a1.93 1.93 0 0 1 0 3.36L8.82 14.79a1.655 1.655 0 0 1-1.64 0L3 12.43a1.93 1.93 0 0 1 0-3.36z",key:"2ntwy6"}],["path",{d:"M20 13v3.87a2.06 2.06 0 0 1-1.11 1.83l-6 3.08a1.93 1.93 0 0 1-1.78 0l-6-3.08A2.06 2.06 0 0 1 4 16.87V13",key:"1pmm1c"}],["path",{d:"M21 12.43a1.93 1.93 0 0 0 0-3.36L8.83 2.2a1.64 1.64 0 0 0-1.63 0L3 4.57a1.93 1.93 0 0 0 0 3.36l12.18 6.86a1.636 1.636 0 0 0 1.63 0z",key:"12ttoo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=cr("PackagePlus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=cr("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=cr("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IU=cr("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=cr("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=cr("PoundSterling",[["path",{d:"M18 7c0-5.333-8-5.333-8 0",key:"1prm2n"}],["path",{d:"M10 7v14",key:"18tmcs"}],["path",{d:"M6 21h12",key:"4dkmi1"}],["path",{d:"M6 13h10",key:"ybwr4a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=cr("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=cr("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $re=cr("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bre=cr("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=cr("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ure=cr("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=cr("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=cr("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vre=cr("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=cr("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=cr("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lp=cr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),zre=()=>{};var gI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MU=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let a=e.charCodeAt(n);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):(a&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},qre=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const a=e[r++];if(a<128)t[n++]=String.fromCharCode(a);else if(a>191&&a<224){const i=e[r++];t[n++]=String.fromCharCode((a&31)<<6|i&63)}else if(a>239&&a<365){const i=e[r++],s=e[r++],o=e[r++],l=((a&7)<<18|(i&63)<<12|(s&63)<<6|o&63)-65536;t[n++]=String.fromCharCode(55296+(l>>10)),t[n++]=String.fromCharCode(56320+(l&1023))}else{const i=e[r++],s=e[r++];t[n++]=String.fromCharCode((a&15)<<12|(i&63)<<6|s&63)}}return t.join("")},RU={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<e.length;a+=3){const i=e[a],s=a+1<e.length,o=s?e[a+1]:0,l=a+2<e.length,c=l?e[a+2]:0,u=i>>2,d=(i&3)<<4|o>>4;let h=(o&15)<<2|c>>6,p=c&63;l||(p=64,s||(h=64)),n.push(r[u],r[d],r[h],r[p])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(MU(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):qre(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<e.length;){const i=r[e.charAt(a++)],o=a<e.length?r[e.charAt(a)]:0;++a;const c=a<e.length?r[e.charAt(a)]:64;++a;const d=a<e.length?r[e.charAt(a)]:64;if(++a,i==null||o==null||c==null||d==null)throw new Wre;const h=i<<2|o>>4;if(n.push(h),c!==64){const p=o<<4&240|c>>2;if(n.push(p),d!==64){const g=c<<6&192|d;n.push(g)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Wre extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Hre=function(e){const t=MU(e);return RU.encodeByteArray(t,!0)},Yb=function(e){return Hre(e).replace(/\./g,"")},Gre=function(e){try{return RU.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kre(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yre=()=>Kre().__FIREBASE_DEFAULTS__,Xre=()=>{if(typeof process>"u"||typeof gI>"u")return;const e=gI.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Qre=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Gre(e[1]);return t&&JSON.parse(t)},Jk=()=>{try{return zre()||Yre()||Xre()||Qre()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Jre=e=>{var t,r;return(r=(t=Jk())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[e]},Zre=e=>{const t=Jre(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),n]:[t.substring(0,r),n]},FU=()=>{var e;return(e=Jk())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ene{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zk(e){return e.endsWith(".cloudworkstations.dev")}async function tne(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rne(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=t||"demo-project",a=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:a,exp:a+3600,auth_time:a,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Yb(JSON.stringify(r)),Yb(JSON.stringify(s)),""].join(".")}const dv={};function nne(){const e={prod:[],emulator:[]};for(const t of Object.keys(dv))dv[t]?e.emulator.push(t):e.prod.push(t);return e}function ane(e){let t=document.getElementById(e),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),r=!0),{created:r,element:t}}let vI=!1;function $U(e,t){if(typeof window>"u"||typeof document>"u"||!Zk(window.location.host)||dv[e]===t||dv[e]||vI)return;dv[e]=t;function r(h){return`__firebase__banner__${h}`}const n="__firebase__banner",i=nne().prod.length>0;function s(){const h=document.getElementById(n);h&&h.remove()}function o(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{vI=!0,s()},h}function u(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function d(){const h=ane(n),p=r("text"),g=document.getElementById(p)||document.createElement("span"),m=r("learnmore"),v=document.getElementById(m)||document.createElement("a"),y=r("preprendIcon"),b=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const x=h.element;o(x),u(v,m);const O=c();l(b,y),x.append(b,g,v,O),document.body.appendChild(x)}i?(g.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ine(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sne(){var e;const t=(e=Jk())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function one(){return!sne()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lne(){try{return typeof indexedDB=="object"}catch{return!1}}function cne(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var i;t(((i=a.error)===null||i===void 0?void 0:i.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const une="FirebaseError";class Am extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=une,Object.setPrototypeOf(this,Am.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,BU.prototype.create)}}class BU{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},a=`${this.service}/${t}`,i=this.errors[t],s=i?fne(i,n):"Error",o=`${this.serviceName}: ${s} (${a}).`;return new Am(a,o,n)}}function fne(e,t){return e.replace(dne,(r,n)=>{const a=t[n];return a!=null?String(a):`<${n}?>`})}const dne=/\{\$([^}]+)}/g;function Xb(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const a of r){if(!n.includes(a))return!1;const i=e[a],s=t[a];if(yI(i)&&yI(s)){if(!Xb(i,s))return!1}else if(i!==s)return!1}for(const a of n)if(!r.includes(a))return!1;return!0}function yI(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(e){return e&&e._delegate?e._delegate:e}class c1{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hne{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new ene;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(a)return null;throw i}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(mne(t))try{this.getOrInitializeService({instanceIdentifier:Ud})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:a});n.resolve(i)}catch{}}}}clearInstance(t=Ud){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ud){return this.instances.has(t)}getOptions(t=Ud){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);n===o&&s.resolve(a)}return a}onInit(t,r){var n;const a=this.normalizeInstanceIdentifier(r),i=(n=this.onInitCallbacks.get(a))!==null&&n!==void 0?n:new Set;i.add(t),this.onInitCallbacks.set(a,i);const s=this.instances.get(a);return s&&t(s,a),()=>{i.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const a of n)try{a(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:pne(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=Ud){return this.component?this.component.multipleInstances?t:Ud:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pne(e){return e===Ud?void 0:e}function mne(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gne{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new hne(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var on;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(on||(on={}));const vne={debug:on.DEBUG,verbose:on.VERBOSE,info:on.INFO,warn:on.WARN,error:on.ERROR,silent:on.SILENT},yne=on.INFO,xne={[on.DEBUG]:"log",[on.VERBOSE]:"log",[on.INFO]:"info",[on.WARN]:"warn",[on.ERROR]:"error"},bne=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),a=xne[t];if(a)console[a](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class UU{constructor(t){this.name=t,this._logLevel=yne,this._logHandler=bne,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in on))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?vne[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,on.DEBUG,...t),this._logHandler(this,on.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,on.VERBOSE,...t),this._logHandler(this,on.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,on.INFO,...t),this._logHandler(this,on.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,on.WARN,...t),this._logHandler(this,on.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,on.ERROR,...t),this._logHandler(this,on.ERROR,...t)}}const wne=(e,t)=>t.some(r=>e instanceof r);let xI,bI;function _ne(){return xI||(xI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Sne(){return bI||(bI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const VU=new WeakMap,aT=new WeakMap,zU=new WeakMap,TA=new WeakMap,eC=new WeakMap;function Ane(e){const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{r(qf(e.result)),a()},s=()=>{n(e.error),a()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(r=>{r instanceof IDBCursor&&VU.set(r,e)}).catch(()=>{}),eC.set(t,e),t}function Tne(e){if(aT.has(e))return;const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{r(),a()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});aT.set(e,t)}let iT={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return aT.get(e);if(t==="objectStoreNames")return e.objectStoreNames||zU.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return qf(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Ene(e){iT=e(iT)}function Nne(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(EA(this),t,...r);return zU.set(n,t.sort?t.sort():[t]),qf(n)}:Sne().includes(e)?function(...t){return e.apply(EA(this),t),qf(VU.get(this))}:function(...t){return qf(e.apply(EA(this),t))}}function kne(e){return typeof e=="function"?Nne(e):(e instanceof IDBTransaction&&Tne(e),wne(e,_ne())?new Proxy(e,iT):e)}function qf(e){if(e instanceof IDBRequest)return Ane(e);if(TA.has(e))return TA.get(e);const t=kne(e);return t!==e&&(TA.set(e,t),eC.set(t,e)),t}const EA=e=>eC.get(e);function Cne(e,t,{blocked:r,upgrade:n,blocking:a,terminated:i}={}){const s=indexedDB.open(e,t),o=qf(s);return n&&s.addEventListener("upgradeneeded",l=>{n(qf(s.result),l.oldVersion,l.newVersion,qf(s.transaction),l)}),r&&s.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{i&&l.addEventListener("close",()=>i()),a&&l.addEventListener("versionchange",c=>a(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const Pne=["get","getKey","getAll","getAllKeys","count"],jne=["put","add","delete","clear"],NA=new Map;function wI(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(NA.get(t))return NA.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,a=jne.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||Pne.includes(r)))return;const i=async function(s,...o){const l=this.transaction(s,a?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(o.shift())),(await Promise.all([c[r](...o),a&&l.done]))[0]};return NA.set(t,i),i}Ene(e=>({...e,get:(t,r,n)=>wI(t,r)||e.get(t,r,n),has:(t,r)=>!!wI(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class One{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Ine(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function Ine(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const sT="@firebase/app",_I="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu=new UU("@firebase/app"),Dne="@firebase/app-compat",Lne="@firebase/analytics-compat",Mne="@firebase/analytics",Rne="@firebase/app-check-compat",Fne="@firebase/app-check",$ne="@firebase/auth",Bne="@firebase/auth-compat",Une="@firebase/database",Vne="@firebase/data-connect",zne="@firebase/database-compat",qne="@firebase/functions",Wne="@firebase/functions-compat",Hne="@firebase/installations",Gne="@firebase/installations-compat",Kne="@firebase/messaging",Yne="@firebase/messaging-compat",Xne="@firebase/performance",Qne="@firebase/performance-compat",Jne="@firebase/remote-config",Zne="@firebase/remote-config-compat",eae="@firebase/storage",tae="@firebase/storage-compat",rae="@firebase/firestore",nae="@firebase/vertexai",aae="@firebase/firestore-compat",iae="firebase",sae="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="[DEFAULT]",oae={[sT]:"fire-core",[Dne]:"fire-core-compat",[Mne]:"fire-analytics",[Lne]:"fire-analytics-compat",[Fne]:"fire-app-check",[Rne]:"fire-app-check-compat",[$ne]:"fire-auth",[Bne]:"fire-auth-compat",[Une]:"fire-rtdb",[Vne]:"fire-data-connect",[zne]:"fire-rtdb-compat",[qne]:"fire-fn",[Wne]:"fire-fn-compat",[Hne]:"fire-iid",[Gne]:"fire-iid-compat",[Kne]:"fire-fcm",[Yne]:"fire-fcm-compat",[Xne]:"fire-perf",[Qne]:"fire-perf-compat",[Jne]:"fire-rc",[Zne]:"fire-rc-compat",[eae]:"fire-gcs",[tae]:"fire-gcs-compat",[rae]:"fire-fst",[aae]:"fire-fst-compat",[nae]:"fire-vertex","fire-js":"fire-js",[iae]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb=new Map,lae=new Map,lT=new Map;function SI(e,t){try{e.container.addComponent(t)}catch(r){mu.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function Jb(e){const t=e.name;if(lT.has(t))return mu.debug(`There were multiple attempts to register component ${t}.`),!1;lT.set(t,e);for(const r of Qb.values())SI(r,e);for(const r of lae.values())SI(r,e);return!0}function cae(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function uae(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fae={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wf=new BU("app","Firebase",fae);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dae{constructor(t,r,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new c1("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Wf.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hae=sae;function qU(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n=Object.assign({name:oT,automaticDataCollectionEnabled:!1},t),a=n.name;if(typeof a!="string"||!a)throw Wf.create("bad-app-name",{appName:String(a)});if(r||(r=FU()),!r)throw Wf.create("no-options");const i=Qb.get(a);if(i){if(Xb(r,i.options)&&Xb(n,i.config))return i;throw Wf.create("duplicate-app",{appName:a})}const s=new gne(a);for(const l of lT.values())s.addComponent(l);const o=new dae(r,n,s);return Qb.set(a,o),o}function pae(e=oT){const t=Qb.get(e);if(!t&&e===oT&&FU())return qU();if(!t)throw Wf.create("no-app",{appName:e});return t}function up(e,t,r){var n;let a=(n=oae[e])!==null&&n!==void 0?n:e;r&&(a+=`-${r}`);const i=a.match(/\s|\//),s=t.match(/\s|\//);if(i||s){const o=[`Unable to register library "${a}" with version "${t}":`];i&&o.push(`library name "${a}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),mu.warn(o.join(" "));return}Jb(new c1(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mae="firebase-heartbeat-database",gae=1,u1="firebase-heartbeat-store";let kA=null;function WU(){return kA||(kA=Cne(mae,gae,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(u1)}catch(r){console.warn(r)}}}}).catch(e=>{throw Wf.create("idb-open",{originalErrorMessage:e.message})})),kA}async function vae(e){try{const r=(await WU()).transaction(u1),n=await r.objectStore(u1).get(HU(e));return await r.done,n}catch(t){if(t instanceof Am)mu.warn(t.message);else{const r=Wf.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});mu.warn(r.message)}}}async function AI(e,t){try{const n=(await WU()).transaction(u1,"readwrite");await n.objectStore(u1).put(t,HU(e)),await n.done}catch(r){if(r instanceof Am)mu.warn(r.message);else{const n=Wf.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});mu.warn(n.message)}}}function HU(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yae=1024,xae=30;class bae{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new _ae(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=TI();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:a}),this._heartbeatsCache.heartbeats.length>xae){const s=Sae(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){mu.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=TI(),{heartbeatsToSend:n,unsentEntries:a}=wae(this._heartbeatsCache.heartbeats),i=Yb(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return mu.warn(r),""}}}function TI(){return new Date().toISOString().substring(0,10)}function wae(e,t=yae){const r=[];let n=e.slice();for(const a of e){const i=r.find(s=>s.agent===a.agent);if(i){if(i.dates.push(a.date),EI(r)>t){i.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),EI(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class _ae{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lne()?cne().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await vae(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return AI(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return AI(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function EI(e){return Yb(JSON.stringify({version:2,heartbeats:e})).length}function Sae(e){if(e.length===0)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aae(e){Jb(new c1("platform-logger",t=>new One(t),"PRIVATE")),Jb(new c1("heartbeat",t=>new bae(t),"PRIVATE")),up(sT,_I,e),up(sT,_I,"esm2017"),up("fire-js","")}Aae("");var Tae="firebase",Eae="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */up(Tae,Eae,"app");var NI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hf,GU;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(T,S){function _(){}_.prototype=S.prototype,T.D=S.prototype,T.prototype=new _,T.prototype.constructor=T,T.C=function(D,E,N){for(var k=Array(arguments.length-2),V=2;V<arguments.length;V++)k[V-2]=arguments[V];return S.prototype[E].apply(D,k)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(T,S,_){_||(_=0);var D=Array(16);if(typeof S=="string")for(var E=0;16>E;++E)D[E]=S.charCodeAt(_++)|S.charCodeAt(_++)<<8|S.charCodeAt(_++)<<16|S.charCodeAt(_++)<<24;else for(E=0;16>E;++E)D[E]=S[_++]|S[_++]<<8|S[_++]<<16|S[_++]<<24;S=T.g[0],_=T.g[1],E=T.g[2];var N=T.g[3],k=S+(N^_&(E^N))+D[0]+3614090360&4294967295;S=_+(k<<7&4294967295|k>>>25),k=N+(E^S&(_^E))+D[1]+3905402710&4294967295,N=S+(k<<12&4294967295|k>>>20),k=E+(_^N&(S^_))+D[2]+606105819&4294967295,E=N+(k<<17&4294967295|k>>>15),k=_+(S^E&(N^S))+D[3]+3250441966&4294967295,_=E+(k<<22&4294967295|k>>>10),k=S+(N^_&(E^N))+D[4]+4118548399&4294967295,S=_+(k<<7&4294967295|k>>>25),k=N+(E^S&(_^E))+D[5]+1200080426&4294967295,N=S+(k<<12&4294967295|k>>>20),k=E+(_^N&(S^_))+D[6]+2821735955&4294967295,E=N+(k<<17&4294967295|k>>>15),k=_+(S^E&(N^S))+D[7]+4249261313&4294967295,_=E+(k<<22&4294967295|k>>>10),k=S+(N^_&(E^N))+D[8]+1770035416&4294967295,S=_+(k<<7&4294967295|k>>>25),k=N+(E^S&(_^E))+D[9]+2336552879&4294967295,N=S+(k<<12&4294967295|k>>>20),k=E+(_^N&(S^_))+D[10]+4294925233&4294967295,E=N+(k<<17&4294967295|k>>>15),k=_+(S^E&(N^S))+D[11]+2304563134&4294967295,_=E+(k<<22&4294967295|k>>>10),k=S+(N^_&(E^N))+D[12]+1804603682&4294967295,S=_+(k<<7&4294967295|k>>>25),k=N+(E^S&(_^E))+D[13]+4254626195&4294967295,N=S+(k<<12&4294967295|k>>>20),k=E+(_^N&(S^_))+D[14]+2792965006&4294967295,E=N+(k<<17&4294967295|k>>>15),k=_+(S^E&(N^S))+D[15]+1236535329&4294967295,_=E+(k<<22&4294967295|k>>>10),k=S+(E^N&(_^E))+D[1]+4129170786&4294967295,S=_+(k<<5&4294967295|k>>>27),k=N+(_^E&(S^_))+D[6]+3225465664&4294967295,N=S+(k<<9&4294967295|k>>>23),k=E+(S^_&(N^S))+D[11]+643717713&4294967295,E=N+(k<<14&4294967295|k>>>18),k=_+(N^S&(E^N))+D[0]+3921069994&4294967295,_=E+(k<<20&4294967295|k>>>12),k=S+(E^N&(_^E))+D[5]+3593408605&4294967295,S=_+(k<<5&4294967295|k>>>27),k=N+(_^E&(S^_))+D[10]+38016083&4294967295,N=S+(k<<9&4294967295|k>>>23),k=E+(S^_&(N^S))+D[15]+3634488961&4294967295,E=N+(k<<14&4294967295|k>>>18),k=_+(N^S&(E^N))+D[4]+3889429448&4294967295,_=E+(k<<20&4294967295|k>>>12),k=S+(E^N&(_^E))+D[9]+568446438&4294967295,S=_+(k<<5&4294967295|k>>>27),k=N+(_^E&(S^_))+D[14]+3275163606&4294967295,N=S+(k<<9&4294967295|k>>>23),k=E+(S^_&(N^S))+D[3]+4107603335&4294967295,E=N+(k<<14&4294967295|k>>>18),k=_+(N^S&(E^N))+D[8]+1163531501&4294967295,_=E+(k<<20&4294967295|k>>>12),k=S+(E^N&(_^E))+D[13]+2850285829&4294967295,S=_+(k<<5&4294967295|k>>>27),k=N+(_^E&(S^_))+D[2]+4243563512&4294967295,N=S+(k<<9&4294967295|k>>>23),k=E+(S^_&(N^S))+D[7]+1735328473&4294967295,E=N+(k<<14&4294967295|k>>>18),k=_+(N^S&(E^N))+D[12]+2368359562&4294967295,_=E+(k<<20&4294967295|k>>>12),k=S+(_^E^N)+D[5]+4294588738&4294967295,S=_+(k<<4&4294967295|k>>>28),k=N+(S^_^E)+D[8]+2272392833&4294967295,N=S+(k<<11&4294967295|k>>>21),k=E+(N^S^_)+D[11]+1839030562&4294967295,E=N+(k<<16&4294967295|k>>>16),k=_+(E^N^S)+D[14]+4259657740&4294967295,_=E+(k<<23&4294967295|k>>>9),k=S+(_^E^N)+D[1]+2763975236&4294967295,S=_+(k<<4&4294967295|k>>>28),k=N+(S^_^E)+D[4]+1272893353&4294967295,N=S+(k<<11&4294967295|k>>>21),k=E+(N^S^_)+D[7]+4139469664&4294967295,E=N+(k<<16&4294967295|k>>>16),k=_+(E^N^S)+D[10]+3200236656&4294967295,_=E+(k<<23&4294967295|k>>>9),k=S+(_^E^N)+D[13]+681279174&4294967295,S=_+(k<<4&4294967295|k>>>28),k=N+(S^_^E)+D[0]+3936430074&4294967295,N=S+(k<<11&4294967295|k>>>21),k=E+(N^S^_)+D[3]+3572445317&4294967295,E=N+(k<<16&4294967295|k>>>16),k=_+(E^N^S)+D[6]+76029189&4294967295,_=E+(k<<23&4294967295|k>>>9),k=S+(_^E^N)+D[9]+3654602809&4294967295,S=_+(k<<4&4294967295|k>>>28),k=N+(S^_^E)+D[12]+3873151461&4294967295,N=S+(k<<11&4294967295|k>>>21),k=E+(N^S^_)+D[15]+530742520&4294967295,E=N+(k<<16&4294967295|k>>>16),k=_+(E^N^S)+D[2]+3299628645&4294967295,_=E+(k<<23&4294967295|k>>>9),k=S+(E^(_|~N))+D[0]+4096336452&4294967295,S=_+(k<<6&4294967295|k>>>26),k=N+(_^(S|~E))+D[7]+1126891415&4294967295,N=S+(k<<10&4294967295|k>>>22),k=E+(S^(N|~_))+D[14]+2878612391&4294967295,E=N+(k<<15&4294967295|k>>>17),k=_+(N^(E|~S))+D[5]+4237533241&4294967295,_=E+(k<<21&4294967295|k>>>11),k=S+(E^(_|~N))+D[12]+1700485571&4294967295,S=_+(k<<6&4294967295|k>>>26),k=N+(_^(S|~E))+D[3]+2399980690&4294967295,N=S+(k<<10&4294967295|k>>>22),k=E+(S^(N|~_))+D[10]+4293915773&4294967295,E=N+(k<<15&4294967295|k>>>17),k=_+(N^(E|~S))+D[1]+2240044497&4294967295,_=E+(k<<21&4294967295|k>>>11),k=S+(E^(_|~N))+D[8]+1873313359&4294967295,S=_+(k<<6&4294967295|k>>>26),k=N+(_^(S|~E))+D[15]+4264355552&4294967295,N=S+(k<<10&4294967295|k>>>22),k=E+(S^(N|~_))+D[6]+2734768916&4294967295,E=N+(k<<15&4294967295|k>>>17),k=_+(N^(E|~S))+D[13]+1309151649&4294967295,_=E+(k<<21&4294967295|k>>>11),k=S+(E^(_|~N))+D[4]+4149444226&4294967295,S=_+(k<<6&4294967295|k>>>26),k=N+(_^(S|~E))+D[11]+3174756917&4294967295,N=S+(k<<10&4294967295|k>>>22),k=E+(S^(N|~_))+D[2]+718787259&4294967295,E=N+(k<<15&4294967295|k>>>17),k=_+(N^(E|~S))+D[9]+3951481745&4294967295,T.g[0]=T.g[0]+S&4294967295,T.g[1]=T.g[1]+(E+(k<<21&4294967295|k>>>11))&4294967295,T.g[2]=T.g[2]+E&4294967295,T.g[3]=T.g[3]+N&4294967295}n.prototype.u=function(T,S){S===void 0&&(S=T.length);for(var _=S-this.blockSize,D=this.B,E=this.h,N=0;N<S;){if(E==0)for(;N<=_;)a(this,T,N),N+=this.blockSize;if(typeof T=="string"){for(;N<S;)if(D[E++]=T.charCodeAt(N++),E==this.blockSize){a(this,D),E=0;break}}else for(;N<S;)if(D[E++]=T[N++],E==this.blockSize){a(this,D),E=0;break}}this.h=E,this.o+=S},n.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var S=1;S<T.length-8;++S)T[S]=0;var _=8*this.o;for(S=T.length-8;S<T.length;++S)T[S]=_&255,_/=256;for(this.u(T),T=Array(16),S=_=0;4>S;++S)for(var D=0;32>D;D+=8)T[_++]=this.g[S]>>>D&255;return T};function i(T,S){var _=o;return Object.prototype.hasOwnProperty.call(_,T)?_[T]:_[T]=S(T)}function s(T,S){this.h=S;for(var _=[],D=!0,E=T.length-1;0<=E;E--){var N=T[E]|0;D&&N==S||(_[E]=N,D=!1)}this.g=_}var o={};function l(T){return-128<=T&&128>T?i(T,function(S){return new s([S|0],0>S?-1:0)}):new s([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return d;if(0>T)return v(c(-T));for(var S=[],_=1,D=0;T>=_;D++)S[D]=T/_|0,_*=4294967296;return new s(S,0)}function u(T,S){if(T.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(T.charAt(0)=="-")return v(u(T.substring(1),S));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=c(Math.pow(S,8)),D=d,E=0;E<T.length;E+=8){var N=Math.min(8,T.length-E),k=parseInt(T.substring(E,E+N),S);8>N?(N=c(Math.pow(S,N)),D=D.j(N).add(c(k))):(D=D.j(_),D=D.add(c(k)))}return D}var d=l(0),h=l(1),p=l(16777216);e=s.prototype,e.m=function(){if(m(this))return-v(this).m();for(var T=0,S=1,_=0;_<this.g.length;_++){var D=this.i(_);T+=(0<=D?D:4294967296+D)*S,S*=4294967296}return T},e.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(g(this))return"0";if(m(this))return"-"+v(this).toString(T);for(var S=c(Math.pow(T,6)),_=this,D="";;){var E=O(_,S).g;_=y(_,E.j(S));var N=((0<_.g.length?_.g[0]:_.h)>>>0).toString(T);if(_=E,g(_))return N+D;for(;6>N.length;)N="0"+N;D=N+D}},e.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function g(T){if(T.h!=0)return!1;for(var S=0;S<T.g.length;S++)if(T.g[S]!=0)return!1;return!0}function m(T){return T.h==-1}e.l=function(T){return T=y(this,T),m(T)?-1:g(T)?0:1};function v(T){for(var S=T.g.length,_=[],D=0;D<S;D++)_[D]=~T.g[D];return new s(_,~T.h).add(h)}e.abs=function(){return m(this)?v(this):this},e.add=function(T){for(var S=Math.max(this.g.length,T.g.length),_=[],D=0,E=0;E<=S;E++){var N=D+(this.i(E)&65535)+(T.i(E)&65535),k=(N>>>16)+(this.i(E)>>>16)+(T.i(E)>>>16);D=k>>>16,N&=65535,k&=65535,_[E]=k<<16|N}return new s(_,_[_.length-1]&-2147483648?-1:0)};function y(T,S){return T.add(v(S))}e.j=function(T){if(g(this)||g(T))return d;if(m(this))return m(T)?v(this).j(v(T)):v(v(this).j(T));if(m(T))return v(this.j(v(T)));if(0>this.l(p)&&0>T.l(p))return c(this.m()*T.m());for(var S=this.g.length+T.g.length,_=[],D=0;D<2*S;D++)_[D]=0;for(D=0;D<this.g.length;D++)for(var E=0;E<T.g.length;E++){var N=this.i(D)>>>16,k=this.i(D)&65535,V=T.i(E)>>>16,Q=T.i(E)&65535;_[2*D+2*E]+=k*Q,b(_,2*D+2*E),_[2*D+2*E+1]+=N*Q,b(_,2*D+2*E+1),_[2*D+2*E+1]+=k*V,b(_,2*D+2*E+1),_[2*D+2*E+2]+=N*V,b(_,2*D+2*E+2)}for(D=0;D<S;D++)_[D]=_[2*D+1]<<16|_[2*D];for(D=S;D<2*S;D++)_[D]=0;return new s(_,0)};function b(T,S){for(;(T[S]&65535)!=T[S];)T[S+1]+=T[S]>>>16,T[S]&=65535,S++}function x(T,S){this.g=T,this.h=S}function O(T,S){if(g(S))throw Error("division by zero");if(g(T))return new x(d,d);if(m(T))return S=O(v(T),S),new x(v(S.g),v(S.h));if(m(S))return S=O(T,v(S)),new x(v(S.g),S.h);if(30<T.g.length){if(m(T)||m(S))throw Error("slowDivide_ only works with positive integers.");for(var _=h,D=S;0>=D.l(T);)_=P(_),D=P(D);var E=j(_,1),N=j(D,1);for(D=j(D,2),_=j(_,2);!g(D);){var k=N.add(D);0>=k.l(T)&&(E=E.add(_),N=k),D=j(D,1),_=j(_,1)}return S=y(T,E.j(S)),new x(E,S)}for(E=d;0<=T.l(S);){for(_=Math.max(1,Math.floor(T.m()/S.m())),D=Math.ceil(Math.log(_)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),N=c(_),k=N.j(S);m(k)||0<k.l(T);)_-=D,N=c(_),k=N.j(S);g(N)&&(N=h),E=E.add(N),T=y(T,k)}return new x(E,T)}e.A=function(T){return O(this,T).h},e.and=function(T){for(var S=Math.max(this.g.length,T.g.length),_=[],D=0;D<S;D++)_[D]=this.i(D)&T.i(D);return new s(_,this.h&T.h)},e.or=function(T){for(var S=Math.max(this.g.length,T.g.length),_=[],D=0;D<S;D++)_[D]=this.i(D)|T.i(D);return new s(_,this.h|T.h)},e.xor=function(T){for(var S=Math.max(this.g.length,T.g.length),_=[],D=0;D<S;D++)_[D]=this.i(D)^T.i(D);return new s(_,this.h^T.h)};function P(T){for(var S=T.g.length+1,_=[],D=0;D<S;D++)_[D]=T.i(D)<<1|T.i(D-1)>>>31;return new s(_,T.h)}function j(T,S){var _=S>>5;S%=32;for(var D=T.g.length-_,E=[],N=0;N<D;N++)E[N]=0<S?T.i(N+_)>>>S|T.i(N+_+1)<<32-S:T.i(N+_);return new s(E,T.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,GU=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,Hf=s}).apply(typeof NI<"u"?NI:typeof self<"u"?self:typeof window<"u"?window:{});var Qx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var KU,Wg,YU,J2,cT,XU,QU,JU;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(A,B,J){return A==Array.prototype||A==Object.prototype||(A[B]=J.value),A};function r(A){A=[typeof globalThis=="object"&&globalThis,A,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qx=="object"&&Qx];for(var B=0;B<A.length;++B){var J=A[B];if(J&&J.Math==Math)return J}throw Error("Cannot find global object")}var n=r(this);function a(A,B){if(B)e:{var J=n;A=A.split(".");for(var fe=0;fe<A.length-1;fe++){var $e=A[fe];if(!($e in J))break e;J=J[$e]}A=A[A.length-1],fe=J[A],B=B(fe),B!=fe&&B!=null&&t(J,A,{configurable:!0,writable:!0,value:B})}}function i(A,B){A instanceof String&&(A+="");var J=0,fe=!1,$e={next:function(){if(!fe&&J<A.length){var et=J++;return{value:B(et,A[et]),done:!1}}return fe=!0,{done:!0,value:void 0}}};return $e[Symbol.iterator]=function(){return $e},$e}a("Array.prototype.values",function(A){return A||function(){return i(this,function(B,J){return J})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function l(A){var B=typeof A;return B=B!="object"?B:A?Array.isArray(A)?"array":B:"null",B=="array"||B=="object"&&typeof A.length=="number"}function c(A){var B=typeof A;return B=="object"&&A!=null||B=="function"}function u(A,B,J){return A.call.apply(A.bind,arguments)}function d(A,B,J){if(!A)throw Error();if(2<arguments.length){var fe=Array.prototype.slice.call(arguments,2);return function(){var $e=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($e,fe),A.apply(B,$e)}}return function(){return A.apply(B,arguments)}}function h(A,B,J){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:d,h.apply(null,arguments)}function p(A,B){var J=Array.prototype.slice.call(arguments,1);return function(){var fe=J.slice();return fe.push.apply(fe,arguments),A.apply(this,fe)}}function g(A,B){function J(){}J.prototype=B.prototype,A.aa=B.prototype,A.prototype=new J,A.prototype.constructor=A,A.Qb=function(fe,$e,et){for(var jt=Array(arguments.length-2),Lr=2;Lr<arguments.length;Lr++)jt[Lr-2]=arguments[Lr];return B.prototype[$e].apply(fe,jt)}}function m(A){const B=A.length;if(0<B){const J=Array(B);for(let fe=0;fe<B;fe++)J[fe]=A[fe];return J}return[]}function v(A,B){for(let J=1;J<arguments.length;J++){const fe=arguments[J];if(l(fe)){const $e=A.length||0,et=fe.length||0;A.length=$e+et;for(let jt=0;jt<et;jt++)A[$e+jt]=fe[jt]}else A.push(fe)}}class y{constructor(B,J){this.i=B,this.j=J,this.h=0,this.g=null}get(){let B;return 0<this.h?(this.h--,B=this.g,this.g=B.next,B.next=null):B=this.i(),B}}function b(A){return/^[\s\xa0]*$/.test(A)}function x(){var A=o.navigator;return A&&(A=A.userAgent)?A:""}function O(A){return O[" "](A),A}O[" "]=function(){};var P=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function j(A,B,J){for(const fe in A)B.call(J,A[fe],fe,A)}function T(A,B){for(const J in A)B.call(void 0,A[J],J,A)}function S(A){const B={};for(const J in A)B[J]=A[J];return B}const _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(A,B){let J,fe;for(let $e=1;$e<arguments.length;$e++){fe=arguments[$e];for(J in fe)A[J]=fe[J];for(let et=0;et<_.length;et++)J=_[et],Object.prototype.hasOwnProperty.call(fe,J)&&(A[J]=fe[J])}}function E(A){var B=1;A=A.split(":");const J=[];for(;0<B&&A.length;)J.push(A.shift()),B--;return A.length&&J.push(A.join(":")),J}function N(A){o.setTimeout(()=>{throw A},0)}function k(){var A=U;let B=null;return A.g&&(B=A.g,A.g=A.g.next,A.g||(A.h=null),B.next=null),B}class V{constructor(){this.h=this.g=null}add(B,J){const fe=Q.get();fe.set(B,J),this.h?this.h.next=fe:this.g=fe,this.h=fe}}var Q=new y(()=>new W,A=>A.reset());class W{constructor(){this.next=this.g=this.h=null}set(B,J){this.h=B,this.g=J,this.next=null}reset(){this.next=this.g=this.h=null}}let G,q=!1,U=new V,ee=()=>{const A=o.Promise.resolve(void 0);G=()=>{A.then(Z)}};var Z=()=>{for(var A;A=k();){try{A.h.call(A.g)}catch(J){N(J)}var B=Q;B.j(A),100>B.h&&(B.h++,A.next=B.g,B.g=A)}q=!1};function I(){this.s=this.s,this.C=this.C}I.prototype.s=!1,I.prototype.ma=function(){this.s||(this.s=!0,this.N())},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(A,B){this.type=A,this.g=this.target=B,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var z=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var A=!1,B=Object.defineProperty({},"passive",{get:function(){A=!0}});try{const J=()=>{};o.addEventListener("test",J,B),o.removeEventListener("test",J,B)}catch{}return A}();function K(A,B){if(M.call(this,A?A.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,A){var J=this.type=A.type,fe=A.changedTouches&&A.changedTouches.length?A.changedTouches[0]:null;if(this.target=A.target||A.srcElement,this.g=B,B=A.relatedTarget){if(P){e:{try{O(B.nodeName);var $e=!0;break e}catch{}$e=!1}$e||(B=null)}}else J=="mouseover"?B=A.fromElement:J=="mouseout"&&(B=A.toElement);this.relatedTarget=B,fe?(this.clientX=fe.clientX!==void 0?fe.clientX:fe.pageX,this.clientY=fe.clientY!==void 0?fe.clientY:fe.pageY,this.screenX=fe.screenX||0,this.screenY=fe.screenY||0):(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0),this.button=A.button,this.key=A.key||"",this.ctrlKey=A.ctrlKey,this.altKey=A.altKey,this.shiftKey=A.shiftKey,this.metaKey=A.metaKey,this.pointerId=A.pointerId||0,this.pointerType=typeof A.pointerType=="string"?A.pointerType:X[A.pointerType]||"",this.state=A.state,this.i=A,A.defaultPrevented&&K.aa.h.call(this)}}g(K,M);var X={2:"touch",3:"pen",4:"mouse"};K.prototype.h=function(){K.aa.h.call(this);var A=this.i;A.preventDefault?A.preventDefault():A.returnValue=!1};var ae="closure_listenable_"+(1e6*Math.random()|0),ue=0;function ie(A,B,J,fe,$e){this.listener=A,this.proxy=null,this.src=B,this.type=J,this.capture=!!fe,this.ha=$e,this.key=++ue,this.da=this.fa=!1}function ge(A){A.da=!0,A.listener=null,A.proxy=null,A.src=null,A.ha=null}function ye(A){this.src=A,this.g={},this.h=0}ye.prototype.add=function(A,B,J,fe,$e){var et=A.toString();A=this.g[et],A||(A=this.g[et]=[],this.h++);var jt=ke(A,B,fe,$e);return-1<jt?(B=A[jt],J||(B.fa=!1)):(B=new ie(B,this.src,et,!!fe,$e),B.fa=J,A.push(B)),B};function H(A,B){var J=B.type;if(J in A.g){var fe=A.g[J],$e=Array.prototype.indexOf.call(fe,B,void 0),et;(et=0<=$e)&&Array.prototype.splice.call(fe,$e,1),et&&(ge(B),A.g[J].length==0&&(delete A.g[J],A.h--))}}function ke(A,B,J,fe){for(var $e=0;$e<A.length;++$e){var et=A[$e];if(!et.da&&et.listener==B&&et.capture==!!J&&et.ha==fe)return $e}return-1}var Ce="closure_lm_"+(1e6*Math.random()|0),_e={};function le(A,B,J,fe,$e){if(Array.isArray(B)){for(var et=0;et<B.length;et++)le(A,B[et],J,fe,$e);return null}return J=We(J),A&&A[ae]?A.K(B,J,c(fe)?!!fe.capture:!!fe,$e):Le(A,B,J,!1,fe,$e)}function Le(A,B,J,fe,$e,et){if(!B)throw Error("Invalid event type");var jt=c($e)?!!$e.capture:!!$e,Lr=Te(A);if(Lr||(A[Ce]=Lr=new ye(A)),J=Lr.add(B,J,fe,jt,et),J.proxy)return J;if(fe=qe(),J.proxy=fe,fe.src=A,fe.listener=J,A.addEventListener)z||($e=jt),$e===void 0&&($e=!1),A.addEventListener(B.toString(),fe,$e);else if(A.attachEvent)A.attachEvent(Ee(B.toString()),fe);else if(A.addListener&&A.removeListener)A.addListener(fe);else throw Error("addEventListener and attachEvent are unavailable.");return J}function qe(){function A(J){return B.call(A.src,A.listener,J)}const B=Re;return A}function Ke(A,B,J,fe,$e){if(Array.isArray(B))for(var et=0;et<B.length;et++)Ke(A,B[et],J,fe,$e);else fe=c(fe)?!!fe.capture:!!fe,J=We(J),A&&A[ae]?(A=A.i,B=String(B).toString(),B in A.g&&(et=A.g[B],J=ke(et,J,fe,$e),-1<J&&(ge(et[J]),Array.prototype.splice.call(et,J,1),et.length==0&&(delete A.g[B],A.h--)))):A&&(A=Te(A))&&(B=A.g[B.toString()],A=-1,B&&(A=ke(B,J,fe,$e)),(J=-1<A?B[A]:null)&&rt(J))}function rt(A){if(typeof A!="number"&&A&&!A.da){var B=A.src;if(B&&B[ae])H(B.i,A);else{var J=A.type,fe=A.proxy;B.removeEventListener?B.removeEventListener(J,fe,A.capture):B.detachEvent?B.detachEvent(Ee(J),fe):B.addListener&&B.removeListener&&B.removeListener(fe),(J=Te(B))?(H(J,A),J.h==0&&(J.src=null,B[Ce]=null)):ge(A)}}}function Ee(A){return A in _e?_e[A]:_e[A]="on"+A}function Re(A,B){if(A.da)A=!0;else{B=new K(B,this);var J=A.listener,fe=A.ha||A.src;A.fa&&rt(A),A=J.call(fe,B)}return A}function Te(A){return A=A[Ce],A instanceof ye?A:null}var Me="__closure_events_fn_"+(1e9*Math.random()>>>0);function We(A){return typeof A=="function"?A:(A[Me]||(A[Me]=function(B){return A.handleEvent(B)}),A[Me])}function st(){I.call(this),this.i=new ye(this),this.M=this,this.F=null}g(st,I),st.prototype[ae]=!0,st.prototype.removeEventListener=function(A,B,J,fe){Ke(this,A,B,J,fe)};function ct(A,B){var J,fe=A.F;if(fe)for(J=[];fe;fe=fe.F)J.push(fe);if(A=A.M,fe=B.type||B,typeof B=="string")B=new M(B,A);else if(B instanceof M)B.target=B.target||A;else{var $e=B;B=new M(fe,A),D(B,$e)}if($e=!0,J)for(var et=J.length-1;0<=et;et--){var jt=B.g=J[et];$e=xt(jt,fe,!0,B)&&$e}if(jt=B.g=A,$e=xt(jt,fe,!0,B)&&$e,$e=xt(jt,fe,!1,B)&&$e,J)for(et=0;et<J.length;et++)jt=B.g=J[et],$e=xt(jt,fe,!1,B)&&$e}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var A=this.i,B;for(B in A.g){for(var J=A.g[B],fe=0;fe<J.length;fe++)ge(J[fe]);delete A.g[B],A.h--}}this.F=null},st.prototype.K=function(A,B,J,fe){return this.i.add(String(A),B,!1,J,fe)},st.prototype.L=function(A,B,J,fe){return this.i.add(String(A),B,!0,J,fe)};function xt(A,B,J,fe){if(B=A.i.g[String(B)],!B)return!0;B=B.concat();for(var $e=!0,et=0;et<B.length;++et){var jt=B[et];if(jt&&!jt.da&&jt.capture==J){var Lr=jt.listener,Qr=jt.ha||jt.src;jt.fa&&H(A.i,jt),$e=Lr.call(Qr,fe)!==!1&&$e}}return $e&&!fe.defaultPrevented}function ht(A,B,J){if(typeof A=="function")J&&(A=h(A,J));else if(A&&typeof A.handleEvent=="function")A=h(A.handleEvent,A);else throw Error("Invalid listener argument");return 2147483647<Number(B)?-1:o.setTimeout(A,B||0)}function pt(A){A.g=ht(()=>{A.g=null,A.i&&(A.i=!1,pt(A))},A.l);const B=A.h;A.h=null,A.m.apply(null,B)}class He extends I{constructor(B,J){super(),this.m=B,this.l=J,this.h=null,this.i=!1,this.g=null}j(B){this.h=arguments,this.g?this.i=!0:pt(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ft(A){I.call(this),this.h=A,this.g={}}g(Ft,I);var Nt=[];function Pr(A){j(A.g,function(B,J){this.g.hasOwnProperty(J)&&rt(B)},A),A.g={}}Ft.prototype.N=function(){Ft.aa.N.call(this),Pr(this)},Ft.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ur=o.JSON.stringify,pr=o.JSON.parse,je=class{stringify(A){return o.JSON.stringify(A,void 0)}parse(A){return o.JSON.parse(A,void 0)}};function De(){}De.prototype.h=null;function tt(A){return A.h||(A.h=A.i())}function bt(){}var Rt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yt(){M.call(this,"d")}g(Yt,M);function Ct(){M.call(this,"c")}g(Ct,M);var It={},rr=null;function br(){return rr=rr||new st}It.La="serverreachability";function wr(A){M.call(this,It.La,A)}g(wr,M);function Er(A){const B=br();ct(B,new wr(B))}It.STAT_EVENT="statevent";function an(A,B){M.call(this,It.STAT_EVENT,A),this.stat=B}g(an,M);function Xt(A){const B=br();ct(B,new an(B,A))}It.Ma="timingevent";function sa(A,B){M.call(this,It.Ma,A),this.size=B}g(sa,M);function Un(A,B){if(typeof A!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){A()},B)}function Ne(){this.g=!0}Ne.prototype.xa=function(){this.g=!1};function it(A,B,J,fe,$e,et){A.info(function(){if(A.g)if(et)for(var jt="",Lr=et.split("&"),Qr=0;Qr<Lr.length;Qr++){var Mr=Lr[Qr].split("=");if(1<Mr.length){var Sn=Mr[0];Mr=Mr[1];var Rn=Sn.split("_");jt=2<=Rn.length&&Rn[1]=="type"?jt+(Sn+"="+Mr+"&"):jt+(Sn+"=redacted&")}}else jt=null;else jt=et;return"XMLHTTP REQ ("+fe+") [attempt "+$e+"]: "+B+`
`+J+`
`+jt})}function ut(A,B,J,fe,$e,et,jt){A.info(function(){return"XMLHTTP RESP ("+fe+") [ attempt "+$e+"]: "+B+`
`+J+`
`+et+" "+jt})}function te(A,B,J,fe){A.info(function(){return"XMLHTTP TEXT ("+B+"): "+he(A,J)+(fe?" "+fe:"")})}function ve(A,B){A.info(function(){return"TIMEOUT: "+B})}Ne.prototype.info=function(){};function he(A,B){if(!A.g)return B;if(!B)return null;try{var J=JSON.parse(B);if(J){for(A=0;A<J.length;A++)if(Array.isArray(J[A])){var fe=J[A];if(!(2>fe.length)){var $e=fe[1];if(Array.isArray($e)&&!(1>$e.length)){var et=$e[0];if(et!="noop"&&et!="stop"&&et!="close")for(var jt=1;jt<$e.length;jt++)$e[jt]=""}}}}return ur(J)}catch{return B}}var me={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},we;function ze(){}g(ze,De),ze.prototype.g=function(){return new XMLHttpRequest},ze.prototype.i=function(){return{}},we=new ze;function nt(A,B,J,fe){this.j=A,this.i=B,this.l=J,this.R=fe||1,this.U=new Ft(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ge}function Ge(){this.i=null,this.g="",this.h=!1}var Ye={},Qe={};function vt(A,B,J){A.L=1,A.v=Gt(mt(B)),A.m=J,A.P=!0,Mt(A,null)}function Mt(A,B){A.F=Date.now(),Bt(A),A.A=mt(A.v);var J=A.A,fe=A.R;Array.isArray(fe)||(fe=[String(fe)]),yr(J.i,"t",fe),A.C=0,J=A.j.J,A.h=new Ge,A.g=re(A.j,J?B:null,!A.m),0<A.O&&(A.M=new He(h(A.Y,A,A.g),A.O)),B=A.U,J=A.g,fe=A.ca;var $e="readystatechange";Array.isArray($e)||($e&&(Nt[0]=$e.toString()),$e=Nt);for(var et=0;et<$e.length;et++){var jt=le(J,$e[et],fe||B.handleEvent,!1,B.h||B);if(!jt)break;B.g[jt.key]=jt}B=A.H?S(A.H):{},A.m?(A.u||(A.u="POST"),B["Content-Type"]="application/x-www-form-urlencoded",A.g.ea(A.A,A.u,A.m,B)):(A.u="GET",A.g.ea(A.A,A.u,null,B)),Er(),it(A.i,A.u,A.A,A.l,A.R,A.m)}nt.prototype.ca=function(A){A=A.target;const B=this.M;B&&qa(A)==3?B.j():this.Y(A)},nt.prototype.Y=function(A){try{if(A==this.g)e:{const Rn=qa(this.g);var B=this.g.Ba();const ll=this.g.Z();if(!(3>Rn)&&(Rn!=3||this.g&&(this.h.h||this.g.oa()||n0(this.g)))){this.J||Rn!=4||B==7||(B==8||0>=ll?Er(3):Er(2)),Yr(this);var J=this.g.Z();this.X=J;t:if(Vt(this)){var fe=n0(this.g);A="";var $e=fe.length,et=qa(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yn(this),Xr(this);var jt="";break t}this.h.i=new o.TextDecoder}for(B=0;B<$e;B++)this.h.h=!0,A+=this.h.i.decode(fe[B],{stream:!(et&&B==$e-1)});fe.length=0,this.h.g+=A,this.C=0,jt=this.h.g}else jt=this.g.oa();if(this.o=J==200,ut(this.i,this.u,this.A,this.l,this.R,Rn,J),this.o){if(this.T&&!this.K){t:{if(this.g){var Lr,Qr=this.g;if((Lr=Qr.g?Qr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(Lr)){var Mr=Lr;break t}}Mr=null}if(J=Mr)te(this.i,this.l,J,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gi(this,J);else{this.o=!1,this.s=3,Xt(12),yn(this),Xr(this);break e}}if(this.P){J=!0;let yi;for(;!this.J&&this.C<jt.length;)if(yi=Dt(this,jt),yi==Qe){Rn==4&&(this.s=4,Xt(14),J=!1),te(this.i,this.l,null,"[Incomplete Response]");break}else if(yi==Ye){this.s=4,Xt(15),te(this.i,this.l,jt,"[Invalid Chunk]"),J=!1;break}else te(this.i,this.l,yi,null),gi(this,yi);if(Vt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rn!=4||jt.length!=0||this.h.h||(this.s=1,Xt(16),J=!1),this.o=this.o&&J,!J)te(this.i,this.l,jt,"[Invalid Chunked Response]"),yn(this),Xr(this);else if(0<jt.length&&!this.W){this.W=!0;var Sn=this.j;Sn.g==this&&Sn.ba&&!Sn.M&&(Sn.j.info("Great, no buffering proxy detected. Bytes received: "+jt.length),Wu(Sn),Sn.M=!0,Xt(11))}}else te(this.i,this.l,jt,null),gi(this,jt);Rn==4&&yn(this),this.o&&!this.J&&(Rn==4?Kl(this.j,this):(this.o=!1,Bt(this)))}else Hl(this.g),J==400&&0<jt.indexOf("Unknown SID")?(this.s=3,Xt(12)):(this.s=0,Xt(13)),yn(this),Xr(this)}}}catch{}finally{}};function Vt(A){return A.g?A.u=="GET"&&A.L!=2&&A.j.Ca:!1}function Dt(A,B){var J=A.C,fe=B.indexOf(`
`,J);return fe==-1?Qe:(J=Number(B.substring(J,fe)),isNaN(J)?Ye:(fe+=1,fe+J>B.length?Qe:(B=B.slice(fe,fe+J),A.C=fe+J,B)))}nt.prototype.cancel=function(){this.J=!0,yn(this)};function Bt(A){A.S=Date.now()+A.I,mr(A,A.I)}function mr(A,B){if(A.B!=null)throw Error("WatchDog timer not null");A.B=Un(h(A.ba,A),B)}function Yr(A){A.B&&(o.clearTimeout(A.B),A.B=null)}nt.prototype.ba=function(){this.B=null;const A=Date.now();0<=A-this.S?(ve(this.i,this.A),this.L!=2&&(Er(),Xt(17)),yn(this),this.s=2,Xr(this)):mr(this,this.S-A)};function Xr(A){A.j.G==0||A.J||Kl(A.j,A)}function yn(A){Yr(A);var B=A.M;B&&typeof B.ma=="function"&&B.ma(),A.M=null,Pr(A.U),A.g&&(B=A.g,A.g=null,B.abort(),B.ma())}function gi(A,B){try{var J=A.j;if(J.G!=0&&(J.g==A||za(J.h,A))){if(!A.K&&za(J.h,A)&&J.G==3){try{var fe=J.Da.g.parse(B)}catch{fe=null}if(Array.isArray(fe)&&fe.length==3){var $e=fe;if($e[0]==0){e:if(!J.u){if(J.g)if(J.g.F+3e3<A.F)ol(J),Uu(J);else break e;Dc(J),Xt(18)}}else J.za=$e[1],0<J.za-J.T&&37500>$e[2]&&J.F&&J.v==0&&!J.C&&(J.C=Un(h(J.Za,J),6e3));if(1>=us(J.h)&&J.ca){try{J.ca()}catch{}J.ca=void 0}}else Mi(J,11)}else if((A.K||J.g==A)&&ol(J),!b(B))for($e=J.Da.g.parse(B),B=0;B<$e.length;B++){let Mr=$e[B];if(J.T=Mr[0],Mr=Mr[1],J.G==2)if(Mr[0]=="c"){J.K=Mr[1],J.ia=Mr[2];const Sn=Mr[3];Sn!=null&&(J.la=Sn,J.j.info("VER="+J.la));const Rn=Mr[4];Rn!=null&&(J.Aa=Rn,J.j.info("SVER="+J.Aa));const ll=Mr[5];ll!=null&&typeof ll=="number"&&0<ll&&(fe=1.5*ll,J.L=fe,J.j.info("backChannelRequestTimeoutMs_="+fe)),fe=J;const yi=A.g;if(yi){const Yl=yi.g?yi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yl){var et=fe.h;et.g||Yl.indexOf("spdy")==-1&&Yl.indexOf("quic")==-1&&Yl.indexOf("h2")==-1||(et.j=et.l,et.g=new Set,et.h&&(Ln(et,et.h),et.h=null))}if(fe.D){const Xl=yi.g?yi.g.getResponseHeader("X-HTTP-Session-Id"):null;Xl&&(fe.ya=Xl,wt(fe.I,fe.D,Xl))}}J.G=3,J.l&&J.l.ua(),J.ba&&(J.R=Date.now()-A.F,J.j.info("Handshake RTT: "+J.R+"ms")),fe=J;var jt=A;if(fe.qa=L(fe,fe.J?fe.ia:null,fe.W),jt.K){Nc(fe.h,jt);var Lr=jt,Qr=fe.L;Qr&&(Lr.I=Qr),Lr.B&&(Yr(Lr),Bt(Lr)),fe.g=jt}else qu(fe);0<J.i.length&&Vu(J)}else Mr[0]!="stop"&&Mr[0]!="close"||Mi(J,7);else J.G==3&&(Mr[0]=="stop"||Mr[0]=="close"?Mr[0]=="stop"?Mi(J,7):sl(J):Mr[0]!="noop"&&J.l&&J.l.ta(Mr),J.v=0)}}Er(4)}catch{}}var Ii=class{constructor(A,B){this.g=A,this.map=B}};function cs(A){this.l=A||10,o.PerformanceNavigationTiming?(A=o.performance.getEntriesByType("navigation"),A=0<A.length&&(A[0].nextHopProtocol=="hq"||A[0].nextHopProtocol=="h2")):A=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=A?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Di(A){return A.h?!0:A.g?A.g.size>=A.j:!1}function us(A){return A.h?1:A.g?A.g.size:0}function za(A,B){return A.h?A.h==B:A.g?A.g.has(B):!1}function Ln(A,B){A.g?A.g.add(B):A.h=B}function Nc(A,B){A.h&&A.h==B?A.h=null:A.g&&A.g.has(B)&&A.g.delete(B)}cs.prototype.cancel=function(){if(this.i=kc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const A of this.g.values())A.cancel();this.g.clear()}};function kc(A){if(A.h!=null)return A.i.concat(A.h.D);if(A.g!=null&&A.g.size!==0){let B=A.i;for(const J of A.g.values())B=B.concat(J.D);return B}return m(A.i)}function Lu(A){if(A.V&&typeof A.V=="function")return A.V();if(typeof Map<"u"&&A instanceof Map||typeof Set<"u"&&A instanceof Set)return Array.from(A.values());if(typeof A=="string")return A.split("");if(l(A)){for(var B=[],J=A.length,fe=0;fe<J;fe++)B.push(A[fe]);return B}B=[],J=0;for(fe in A)B[J++]=A[fe];return B}function Cc(A){if(A.na&&typeof A.na=="function")return A.na();if(!A.V||typeof A.V!="function"){if(typeof Map<"u"&&A instanceof Map)return Array.from(A.keys());if(!(typeof Set<"u"&&A instanceof Set)){if(l(A)||typeof A=="string"){var B=[];A=A.length;for(var J=0;J<A;J++)B.push(J);return B}B=[],J=0;for(const fe in A)B[J++]=fe;return B}}}function Pc(A,B){if(A.forEach&&typeof A.forEach=="function")A.forEach(B,void 0);else if(l(A)||typeof A=="string")Array.prototype.forEach.call(A,B,void 0);else for(var J=Cc(A),fe=Lu(A),$e=fe.length,et=0;et<$e;et++)B.call(void 0,fe[et],J&&J[et],A)}var Li=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function se(A,B){if(A){A=A.split("&");for(var J=0;J<A.length;J++){var fe=A[J].indexOf("="),$e=null;if(0<=fe){var et=A[J].substring(0,fe);$e=A[J].substring(fe+1)}else et=A[J];B(et,$e?decodeURIComponent($e.replace(/\+/g," ")):"")}}}function Ae(A){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,A instanceof Ae){this.h=A.h,Ht(this,A.j),this.o=A.o,this.g=A.g,gt(this,A.s),this.l=A.l;var B=A.i,J=new En;J.i=B.i,B.g&&(J.g=new Map(B.g),J.h=B.h),dt(this,J),this.m=A.m}else A&&(B=String(A).match(Li))?(this.h=!1,Ht(this,B[1]||"",!0),this.o=er(B[2]||""),this.g=er(B[3]||"",!0),gt(this,B[4]),this.l=er(B[5]||"",!0),dt(this,B[6]||"",!0),this.m=er(B[7]||"")):(this.h=!1,this.i=new En(null,this.h))}Ae.prototype.toString=function(){var A=[],B=this.j;B&&A.push(Qt(B,jr,!0),":");var J=this.g;return(J||B=="file")&&(A.push("//"),(B=this.o)&&A.push(Qt(B,jr,!0),"@"),A.push(encodeURIComponent(String(J)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),J=this.s,J!=null&&A.push(":",String(J))),(J=this.l)&&(this.g&&J.charAt(0)!="/"&&A.push("/"),A.push(Qt(J,J.charAt(0)=="/"?Tn:fn,!0))),(J=this.i.toString())&&A.push("?",J),(J=this.m)&&A.push("#",Qt(J,Mn)),A.join("")};function mt(A){return new Ae(A)}function Ht(A,B,J){A.j=J?er(B,!0):B,A.j&&(A.j=A.j.replace(/:$/,""))}function gt(A,B){if(B){if(B=Number(B),isNaN(B)||0>B)throw Error("Bad port number "+B);A.s=B}else A.s=null}function dt(A,B,J){B instanceof En?(A.i=B,Xm(A.i,A.h)):(J||(B=Qt(B,Hr)),A.i=new En(B,A.h))}function wt(A,B,J){A.i.set(B,J)}function Gt(A){return wt(A,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),A}function er(A,B){return A?B?decodeURI(A.replace(/%25/g,"%2525")):decodeURIComponent(A):""}function Qt(A,B,J){return typeof A=="string"?(A=encodeURI(A).replace(B,fr),J&&(A=A.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A):null}function fr(A){return A=A.charCodeAt(0),"%"+(A>>4&15).toString(16)+(A&15).toString(16)}var jr=/[#\/\?@]/g,fn=/[#\?:]/g,Tn=/[#\?]/g,Hr=/[#\?@]/g,Mn=/#/g;function En(A,B){this.h=this.g=null,this.i=A||null,this.j=!!B}function _r(A){A.g||(A.g=new Map,A.h=0,A.i&&se(A.i,function(B,J){A.add(decodeURIComponent(B.replace(/\+/g," ")),J)}))}e=En.prototype,e.add=function(A,B){_r(this),this.i=null,A=Wl(this,A);var J=this.g.get(A);return J||this.g.set(A,J=[]),J.push(B),this.h+=1,this};function Ys(A,B){_r(A),B=Wl(A,B),A.g.has(B)&&(A.i=null,A.h-=A.g.get(B).length,A.g.delete(B))}function nl(A,B){return _r(A),B=Wl(A,B),A.g.has(B)}e.forEach=function(A,B){_r(this),this.g.forEach(function(J,fe){J.forEach(function($e){A.call(B,$e,fe,this)},this)},this)},e.na=function(){_r(this);const A=Array.from(this.g.values()),B=Array.from(this.g.keys()),J=[];for(let fe=0;fe<B.length;fe++){const $e=A[fe];for(let et=0;et<$e.length;et++)J.push(B[fe])}return J},e.V=function(A){_r(this);let B=[];if(typeof A=="string")nl(this,A)&&(B=B.concat(this.g.get(Wl(this,A))));else{A=Array.from(this.g.values());for(let J=0;J<A.length;J++)B=B.concat(A[J])}return B},e.set=function(A,B){return _r(this),this.i=null,A=Wl(this,A),nl(this,A)&&(this.h-=this.g.get(A).length),this.g.set(A,[B]),this.h+=1,this},e.get=function(A,B){return A?(A=this.V(A),0<A.length?String(A[0]):B):B};function yr(A,B,J){Ys(A,B),0<J.length&&(A.i=null,A.g.set(Wl(A,B),m(J)),A.h+=J.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const A=[],B=Array.from(this.g.keys());for(var J=0;J<B.length;J++){var fe=B[J];const et=encodeURIComponent(String(fe)),jt=this.V(fe);for(fe=0;fe<jt.length;fe++){var $e=et;jt[fe]!==""&&($e+="="+encodeURIComponent(String(jt[fe]))),A.push($e)}}return this.i=A.join("&")};function Wl(A,B){return B=String(B),A.j&&(B=B.toLowerCase()),B}function Xm(A,B){B&&!A.j&&(_r(A),A.i=null,A.g.forEach(function(J,fe){var $e=fe.toLowerCase();fe!=$e&&(Ys(this,fe),yr(this,$e,J))},A)),A.j=B}function bo(A,B){const J=new Ne;if(o.Image){const fe=new Image;fe.onload=p(Xs,J,"TestLoadImage: loaded",!0,B,fe),fe.onerror=p(Xs,J,"TestLoadImage: error",!1,B,fe),fe.onabort=p(Xs,J,"TestLoadImage: abort",!1,B,fe),fe.ontimeout=p(Xs,J,"TestLoadImage: timeout",!1,B,fe),o.setTimeout(function(){fe.ontimeout&&fe.ontimeout()},1e4),fe.src=A}else B(!1)}function t0(A,B){const J=new Ne,fe=new AbortController,$e=setTimeout(()=>{fe.abort(),Xs(J,"TestPingServer: timeout",!1,B)},1e4);fetch(A,{signal:fe.signal}).then(et=>{clearTimeout($e),et.ok?Xs(J,"TestPingServer: ok",!0,B):Xs(J,"TestPingServer: server error",!1,B)}).catch(()=>{clearTimeout($e),Xs(J,"TestPingServer: error",!1,B)})}function Xs(A,B,J,fe,$e){try{$e&&($e.onload=null,$e.onerror=null,$e.onabort=null,$e.ontimeout=null),fe(J)}catch{}}function Mu(){this.g=new je}function Ad(A,B,J){const fe=J||"";try{Pc(A,function($e,et){let jt=$e;c($e)&&(jt=ur($e)),B.push(fe+et+"="+encodeURIComponent(jt))})}catch($e){throw B.push(fe+"type="+encodeURIComponent("_badmap")),$e}}function Ru(A){this.l=A.Ub||null,this.j=A.eb||!1}g(Ru,De),Ru.prototype.g=function(){return new Fu(this.l,this.j)},Ru.prototype.i=function(A){return function(){return A}}({});function Fu(A,B){st.call(this),this.D=A,this.o=B,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(Fu,st),e=Fu.prototype,e.open=function(A,B){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=A,this.A=B,this.readyState=1,Qs(this)},e.send=function(A){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const B={headers:this.u,method:this.B,credentials:this.m,cache:void 0};A&&(B.body=A),(this.D||o).fetch(new Request(this.A,B)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,al(this)),this.readyState=0},e.Sa=function(A){if(this.g&&(this.l=A,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=A.headers,this.readyState=2,Qs(this)),this.g&&(this.readyState=3,Qs(this),this.g)))if(this.responseType==="arraybuffer")A.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in A){if(this.j=A.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;r0(this)}else A.text().then(this.Ra.bind(this),this.ga.bind(this))};function r0(A){A.j.read().then(A.Pa.bind(A)).catch(A.ga.bind(A))}e.Pa=function(A){if(this.g){if(this.o&&A.value)this.response.push(A.value);else if(!this.o){var B=A.value?A.value:new Uint8Array(0);(B=this.v.decode(B,{stream:!A.done}))&&(this.response=this.responseText+=B)}A.done?al(this):Qs(this),this.readyState==3&&r0(this)}},e.Ra=function(A){this.g&&(this.response=this.responseText=A,al(this))},e.Qa=function(A){this.g&&(this.response=A,al(this))},e.ga=function(){this.g&&al(this)};function al(A){A.readyState=4,A.l=null,A.j=null,A.v=null,Qs(A)}e.setRequestHeader=function(A,B){this.u.append(A,B)},e.getResponseHeader=function(A){return this.h&&this.h.get(A.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const A=[],B=this.h.entries();for(var J=B.next();!J.done;)J=J.value,A.push(J[0]+": "+J[1]),J=B.next();return A.join(`\r
`)};function Qs(A){A.onreadystatechange&&A.onreadystatechange.call(A)}Object.defineProperty(Fu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(A){this.m=A?"include":"same-origin"}});function il(A){let B="";return j(A,function(J,fe){B+=fe,B+=":",B+=J,B+=`\r
`}),B}function Td(A,B,J){e:{for(fe in J){var fe=!1;break e}fe=!0}fe||(J=il(J),typeof A=="string"?J!=null&&encodeURIComponent(String(J)):wt(A,B,J))}function _n(A){st.call(this),this.headers=new Map,this.o=A||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(_n,st);var Ed=/^https?$/i,$u=["POST","PUT"];e=_n.prototype,e.Ha=function(A){this.J=A},e.ea=function(A,B,J,fe){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+A);B=B?B.toUpperCase():"GET",this.D=A,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():we.g(),this.v=this.o?tt(this.o):tt(we),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(B,String(A),!0),this.B=!1}catch(et){Nd(this,et);return}if(A=J||"",J=new Map(this.headers),fe)if(Object.getPrototypeOf(fe)===Object.prototype)for(var $e in fe)J.set($e,fe[$e]);else if(typeof fe.keys=="function"&&typeof fe.get=="function")for(const et of fe.keys())J.set(et,fe.get(et));else throw Error("Unknown input type for opt_headers: "+String(fe));fe=Array.from(J.keys()).find(et=>et.toLowerCase()=="content-type"),$e=o.FormData&&A instanceof o.FormData,!(0<=Array.prototype.indexOf.call($u,B,void 0))||fe||$e||J.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[et,jt]of J)this.g.setRequestHeader(et,jt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Js(this),this.u=!0,this.g.send(A),this.u=!1}catch(et){Nd(this,et)}};function Nd(A,B){A.h=!1,A.g&&(A.j=!0,A.g.abort(),A.j=!1),A.l=B,A.m=5,kd(A),jc(A)}function kd(A){A.A||(A.A=!0,ct(A,"complete"),ct(A,"error"))}e.abort=function(A){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=A||7,ct(this,"complete"),ct(this,"abort"),jc(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jc(this,!0)),_n.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Cd(this):this.bb())},e.bb=function(){Cd(this)};function Cd(A){if(A.h&&typeof s<"u"&&(!A.v[1]||qa(A)!=4||A.Z()!=2)){if(A.u&&qa(A)==4)ht(A.Ea,0,A);else if(ct(A,"readystatechange"),qa(A)==4){A.h=!1;try{const jt=A.Z();e:switch(jt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var B=!0;break e;default:B=!1}var J;if(!(J=B)){var fe;if(fe=jt===0){var $e=String(A.D).match(Li)[1]||null;!$e&&o.self&&o.self.location&&($e=o.self.location.protocol.slice(0,-1)),fe=!Ed.test($e?$e.toLowerCase():"")}J=fe}if(J)ct(A,"complete"),ct(A,"success");else{A.m=6;try{var et=2<qa(A)?A.g.statusText:""}catch{et=""}A.l=et+" ["+A.Z()+"]",kd(A)}}finally{jc(A)}}}}function jc(A,B){if(A.g){Js(A);const J=A.g,fe=A.v[0]?()=>{}:null;A.g=null,A.v=null,B||ct(A,"ready");try{J.onreadystatechange=fe}catch{}}}function Js(A){A.I&&(o.clearTimeout(A.I),A.I=null)}e.isActive=function(){return!!this.g};function qa(A){return A.g?A.g.readyState:0}e.Z=function(){try{return 2<qa(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(A){if(this.g){var B=this.g.responseText;return A&&B.indexOf(A)==0&&(B=B.substring(A.length)),pr(B)}};function n0(A){try{if(!A.g)return null;if("response"in A.g)return A.g.response;switch(A.H){case"":case"text":return A.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in A.g)return A.g.mozResponseArrayBuffer}return null}catch{return null}}function Hl(A){const B={};A=(A.g&&2<=qa(A)&&A.g.getAllResponseHeaders()||"").split(`\r
`);for(let fe=0;fe<A.length;fe++){if(b(A[fe]))continue;var J=E(A[fe]);const $e=J[0];if(J=J[1],typeof J!="string")continue;J=J.trim();const et=B[$e]||[];B[$e]=et,et.push(J)}T(B,function(fe){return fe.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function vi(A,B,J){return J&&J.internalChannelParams&&J.internalChannelParams[A]||B}function Bu(A){this.Aa=0,this.i=[],this.j=new Ne,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vi("failFast",!1,A),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vi("baseRetryDelayMs",5e3,A),this.cb=vi("retryDelaySeedMs",1e4,A),this.Wa=vi("forwardChannelMaxRetries",2,A),this.wa=vi("forwardChannelRequestTimeoutMs",2e4,A),this.pa=A&&A.xmlHttpFactory||void 0,this.Xa=A&&A.Tb||void 0,this.Ca=A&&A.useFetchStreams||!1,this.L=void 0,this.J=A&&A.supportsCrossDomainXhr||!1,this.K="",this.h=new cs(A&&A.concurrentRequestLimit),this.Da=new Mu,this.P=A&&A.fastHandshake||!1,this.O=A&&A.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=A&&A.Rb||!1,A&&A.xa&&this.j.xa(),A&&A.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&A&&A.detectBufferingProxy||!1,this.ja=void 0,A&&A.longPollingTimeout&&0<A.longPollingTimeout&&(this.ja=A.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Bu.prototype,e.la=8,e.G=1,e.connect=function(A,B,J,fe){Xt(0),this.W=A,this.H=B||{},J&&fe!==void 0&&(this.H.OSID=J,this.H.OAID=fe),this.F=this.X,this.I=L(this,null,this.W),Vu(this)};function sl(A){if(Oc(A),A.G==3){var B=A.U++,J=mt(A.I);if(wt(J,"SID",A.K),wt(J,"RID",B),wt(J,"TYPE","terminate"),Gl(A,J),B=new nt(A,A.j,B),B.L=2,B.v=Gt(mt(J)),J=!1,o.navigator&&o.navigator.sendBeacon)try{J=o.navigator.sendBeacon(B.v.toString(),"")}catch{}!J&&o.Image&&(new Image().src=B.v,J=!0),J||(B.g=re(B.j,null),B.g.ea(B.v)),B.F=Date.now(),Bt(B)}Gu(A)}function Uu(A){A.g&&(Wu(A),A.g.cancel(),A.g=null)}function Oc(A){Uu(A),A.u&&(o.clearTimeout(A.u),A.u=null),ol(A),A.h.cancel(),A.s&&(typeof A.s=="number"&&o.clearTimeout(A.s),A.s=null)}function Vu(A){if(!Di(A.h)&&!A.s){A.s=!0;var B=A.Ga;G||ee(),q||(G(),q=!0),U.add(B,A),A.B=0}}function Pd(A,B){return us(A.h)>=A.h.j-(A.s?1:0)?!1:A.s?(A.i=B.D.concat(A.i),!0):A.G==1||A.G==2||A.B>=(A.Va?0:A.Wa)?!1:(A.s=Un(h(A.Ga,A,B),Hu(A,A.B)),A.B++,!0)}e.Ga=function(A){if(this.s)if(this.s=null,this.G==1){if(!A){this.U=Math.floor(1e5*Math.random()),A=this.U++;const $e=new nt(this,this.j,A);let et=this.o;if(this.S&&(et?(et=S(et),D(et,this.S)):et=this.S),this.m!==null||this.O||($e.H=et,et=null),this.P)e:{for(var B=0,J=0;J<this.i.length;J++){t:{var fe=this.i[J];if("__data__"in fe.map&&(fe=fe.map.__data__,typeof fe=="string")){fe=fe.length;break t}fe=void 0}if(fe===void 0)break;if(B+=fe,4096<B){B=J;break e}if(B===4096||J===this.i.length-1){B=J+1;break e}}B=1e3}else B=1e3;B=Ic(this,$e,B),J=mt(this.I),wt(J,"RID",A),wt(J,"CVER",22),this.D&&wt(J,"X-HTTP-Session-Id",this.D),Gl(this,J),et&&(this.O?B="headers="+encodeURIComponent(String(il(et)))+"&"+B:this.m&&Td(J,this.m,et)),Ln(this.h,$e),this.Ua&&wt(J,"TYPE","init"),this.P?(wt(J,"$req",B),wt(J,"SID","null"),$e.T=!0,vt($e,J,null)):vt($e,J,B),this.G=2}}else this.G==3&&(A?zu(this,A):this.i.length==0||Di(this.h)||zu(this))};function zu(A,B){var J;B?J=B.l:J=A.U++;const fe=mt(A.I);wt(fe,"SID",A.K),wt(fe,"RID",J),wt(fe,"AID",A.T),Gl(A,fe),A.m&&A.o&&Td(fe,A.m,A.o),J=new nt(A,A.j,J,A.B+1),A.m===null&&(J.H=A.o),B&&(A.i=B.D.concat(A.i)),B=Ic(A,J,1e3),J.I=Math.round(.5*A.wa)+Math.round(.5*A.wa*Math.random()),Ln(A.h,J),vt(J,fe,B)}function Gl(A,B){A.H&&j(A.H,function(J,fe){wt(B,fe,J)}),A.l&&Pc({},function(J,fe){wt(B,fe,J)})}function Ic(A,B,J){J=Math.min(A.i.length,J);var fe=A.l?h(A.l.Na,A.l,A):null;e:{var $e=A.i;let et=-1;for(;;){const jt=["count="+J];et==-1?0<J?(et=$e[0].g,jt.push("ofs="+et)):et=0:jt.push("ofs="+et);let Lr=!0;for(let Qr=0;Qr<J;Qr++){let Mr=$e[Qr].g;const Sn=$e[Qr].map;if(Mr-=et,0>Mr)et=Math.max(0,$e[Qr].g-100),Lr=!1;else try{Ad(Sn,jt,"req"+Mr+"_")}catch{fe&&fe(Sn)}}if(Lr){fe=jt.join("&");break e}}}return A=A.i.splice(0,J),B.D=A,fe}function qu(A){if(!A.g&&!A.u){A.Y=1;var B=A.Fa;G||ee(),q||(G(),q=!0),U.add(B,A),A.v=0}}function Dc(A){return A.g||A.u||3<=A.v?!1:(A.Y++,A.u=Un(h(A.Fa,A),Hu(A,A.v)),A.v++,!0)}e.Fa=function(){if(this.u=null,a0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var A=2*this.R;this.j.info("BP detection timer enabled: "+A),this.A=Un(h(this.ab,this),A)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Xt(10),Uu(this),a0(this))};function Wu(A){A.A!=null&&(o.clearTimeout(A.A),A.A=null)}function a0(A){A.g=new nt(A,A.j,"rpc",A.Y),A.m===null&&(A.g.H=A.o),A.g.O=0;var B=mt(A.qa);wt(B,"RID","rpc"),wt(B,"SID",A.K),wt(B,"AID",A.T),wt(B,"CI",A.F?"0":"1"),!A.F&&A.ja&&wt(B,"TO",A.ja),wt(B,"TYPE","xmlhttp"),Gl(A,B),A.m&&A.o&&Td(B,A.m,A.o),A.L&&(A.g.I=A.L);var J=A.g;A=A.ia,J.L=1,J.v=Gt(mt(B)),J.m=null,J.P=!0,Mt(J,A)}e.Za=function(){this.C!=null&&(this.C=null,Uu(this),Dc(this),Xt(19))};function ol(A){A.C!=null&&(o.clearTimeout(A.C),A.C=null)}function Kl(A,B){var J=null;if(A.g==B){ol(A),Wu(A),A.g=null;var fe=2}else if(za(A.h,B))J=B.D,Nc(A.h,B),fe=1;else return;if(A.G!=0){if(B.o)if(fe==1){J=B.m?B.m.length:0,B=Date.now()-B.F;var $e=A.B;fe=br(),ct(fe,new sa(fe,J)),Vu(A)}else qu(A);else if($e=B.s,$e==3||$e==0&&0<B.X||!(fe==1&&Pd(A,B)||fe==2&&Dc(A)))switch(J&&0<J.length&&(B=A.h,B.i=B.i.concat(J)),$e){case 1:Mi(A,5);break;case 4:Mi(A,10);break;case 3:Mi(A,6);break;default:Mi(A,2)}}}function Hu(A,B){let J=A.Ta+Math.floor(Math.random()*A.cb);return A.isActive()||(J*=2),J*B}function Mi(A,B){if(A.j.info("Error code "+B),B==2){var J=h(A.fb,A),fe=A.Xa;const $e=!fe;fe=new Ae(fe||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Ht(fe,"https"),Gt(fe),$e?bo(fe.toString(),J):t0(fe.toString(),J)}else Xt(2);A.G=0,A.l&&A.l.sa(B),Gu(A),Oc(A)}e.fb=function(A){A?(this.j.info("Successfully pinged google.com"),Xt(2)):(this.j.info("Failed to ping google.com"),Xt(1))};function Gu(A){if(A.G=0,A.ka=[],A.l){const B=kc(A.h);(B.length!=0||A.i.length!=0)&&(v(A.ka,B),v(A.ka,A.i),A.h.i.length=0,m(A.i),A.i.length=0),A.l.ra()}}function L(A,B,J){var fe=J instanceof Ae?mt(J):new Ae(J);if(fe.g!="")B&&(fe.g=B+"."+fe.g),gt(fe,fe.s);else{var $e=o.location;fe=$e.protocol,B=B?B+"."+$e.hostname:$e.hostname,$e=+$e.port;var et=new Ae(null);fe&&Ht(et,fe),B&&(et.g=B),$e&&gt(et,$e),J&&(et.l=J),fe=et}return J=A.D,B=A.ya,J&&B&&wt(fe,J,B),wt(fe,"VER",A.la),Gl(A,fe),fe}function re(A,B,J){if(B&&!A.J)throw Error("Can't create secondary domain capable XhrIo object.");return B=A.Ca&&!A.pa?new _n(new Ru({eb:J})):new _n(A.pa),B.Ha(A.J),B}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Se(){}e=Se.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Pe(){}Pe.prototype.g=function(A,B){return new Ue(A,B)};function Ue(A,B){st.call(this),this.g=new Bu(B),this.l=A,this.h=B&&B.messageUrlParams||null,A=B&&B.messageHeaders||null,B&&B.clientProtocolHeaderRequired&&(A?A["X-Client-Protocol"]="webchannel":A={"X-Client-Protocol":"webchannel"}),this.g.o=A,A=B&&B.initMessageHeaders||null,B&&B.messageContentType&&(A?A["X-WebChannel-Content-Type"]=B.messageContentType:A={"X-WebChannel-Content-Type":B.messageContentType}),B&&B.va&&(A?A["X-WebChannel-Client-Profile"]=B.va:A={"X-WebChannel-Client-Profile":B.va}),this.g.S=A,(A=B&&B.Sb)&&!b(A)&&(this.g.m=A),this.v=B&&B.supportsCrossDomainXhr||!1,this.u=B&&B.sendRawJson||!1,(B=B&&B.httpSessionIdParam)&&!b(B)&&(this.g.D=B,A=this.h,A!==null&&B in A&&(A=this.h,B in A&&delete A[B])),this.j=new Wt(this)}g(Ue,st),Ue.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ue.prototype.close=function(){sl(this.g)},Ue.prototype.o=function(A){var B=this.g;if(typeof A=="string"){var J={};J.__data__=A,A=J}else this.u&&(J={},J.__data__=ur(A),A=J);B.i.push(new Ii(B.Ya++,A)),B.G==3&&Vu(B)},Ue.prototype.N=function(){this.g.l=null,delete this.j,sl(this.g),delete this.g,Ue.aa.N.call(this)};function lt(A){Yt.call(this),A.__headers__&&(this.headers=A.__headers__,this.statusCode=A.__status__,delete A.__headers__,delete A.__status__);var B=A.__sm__;if(B){e:{for(const J in B){A=J;break e}A=void 0}(this.i=A)&&(A=this.i,B=B!==null&&A in B?B[A]:void 0),this.data=B}else this.data=A}g(lt,Yt);function Pt(){Ct.call(this),this.status=1}g(Pt,Ct);function Wt(A){this.g=A}g(Wt,Se),Wt.prototype.ua=function(){ct(this.g,"a")},Wt.prototype.ta=function(A){ct(this.g,new lt(A))},Wt.prototype.sa=function(A){ct(this.g,new Pt)},Wt.prototype.ra=function(){ct(this.g,"b")},Pe.prototype.createWebChannel=Pe.prototype.g,Ue.prototype.send=Ue.prototype.o,Ue.prototype.open=Ue.prototype.m,Ue.prototype.close=Ue.prototype.close,JU=function(){return new Pe},QU=function(){return br()},XU=It,cT={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},me.NO_ERROR=0,me.TIMEOUT=8,me.HTTP_ERROR=6,J2=me,xe.COMPLETE="complete",YU=xe,bt.EventType=Rt,Rt.OPEN="a",Rt.CLOSE="b",Rt.ERROR="c",Rt.MESSAGE="d",st.prototype.listen=st.prototype.K,Wg=bt,_n.prototype.listenOnce=_n.prototype.L,_n.prototype.getLastError=_n.prototype.Ka,_n.prototype.getLastErrorCode=_n.prototype.Ba,_n.prototype.getStatus=_n.prototype.Z,_n.prototype.getResponseJson=_n.prototype.Oa,_n.prototype.getResponseText=_n.prototype.oa,_n.prototype.send=_n.prototype.ea,_n.prototype.setWithCredentials=_n.prototype.Ha,KU=_n}).apply(typeof Qx<"u"?Qx:typeof self<"u"?self:typeof window<"u"?window:{});const kI="@firebase/firestore",CI="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Gi.UNAUTHENTICATED=new Gi(null),Gi.GOOGLE_CREDENTIALS=new Gi("google-credentials-uid"),Gi.FIRST_PARTY=new Gi("first-party-uid"),Gi.MOCK_USER=new Gi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tm="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th=new UU("@firebase/firestore");function P0(){return Th.logLevel}function tr(e,...t){if(Th.logLevel<=on.DEBUG){const r=t.map(tC);Th.debug(`Firestore (${Tm}): ${e}`,...r)}}function gu(e,...t){if(Th.logLevel<=on.ERROR){const r=t.map(tC);Th.error(`Firestore (${Tm}): ${e}`,...r)}}function Mp(e,...t){if(Th.logLevel<=on.WARN){const r=t.map(tC);Th.warn(`Firestore (${Tm}): ${e}`,...r)}}function tC(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(e,t,r){let n="Unexpected state";typeof t=="string"?n=t:r=t,ZU(e,n,r)}function ZU(e,t,r){let n=`FIRESTORE (${Tm}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw gu(n),new Error(n)}function wn(e,t,r,n){let a="Unexpected state";typeof r=="string"?a=r:n=r,e||ZU(t,a,n)}function Or(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _t={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Jt extends Am{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Nae{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(Gi.UNAUTHENTICATED))}shutdown(){}}class kae{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Cae{constructor(t){this.t=t,this.currentUser=Gi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){wn(this.o===void 0,42304);let n=this.i;const a=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let i=new uc;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new uc,t.enqueueRetryable(()=>a(this.currentUser))};const s=()=>{const l=i;t.enqueueRetryable(async()=>{await l.promise,await a(this.currentUser)})},o=l=>{tr("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(tr("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new uc)}},0),s()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==t?(tr("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(wn(typeof n.accessToken=="string",31837,{l:n}),new eV(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return wn(t===null||typeof t=="string",2055,{h:t}),new Gi(t)}}class Pae{constructor(t,r,n){this.P=t,this.T=r,this.I=n,this.type="FirstParty",this.user=Gi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class jae{constructor(t,r,n){this.P=t,this.T=r,this.I=n}getToken(){return Promise.resolve(new Pae(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable(()=>r(Gi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class PI{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Oae{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,uae(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){wn(this.o===void 0,3512);const n=i=>{i.error!=null&&tr("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const s=i.token!==this.m;return this.m=i.token,tr("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable(()=>n(i))};const a=i=>{tr("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>a(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?a(i):tr("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new PI(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(wn(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new PI(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iae(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let n=0;n<e;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tV(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const a=Iae(40);for(let i=0;i<a.length;++i)n.length<20&&a[i]<r&&(n+=t.charAt(a[i]%62))}return n}}function Wr(e,t){return e<t?-1:e>t?1:0}function uT(e,t){let r=0;for(;r<e.length&&r<t.length;){const n=e.codePointAt(r),a=t.codePointAt(r);if(n!==a){if(n<128&&a<128)return Wr(n,a);{const i=tV(),s=Dae(i.encode(jI(e,r)),i.encode(jI(t,r)));return s!==0?s:Wr(n,a)}}r+=n>65535?2:1}return Wr(e.length,t.length)}function jI(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function Dae(e,t){for(let r=0;r<e.length&&r<t.length;++r)if(e[r]!==t[r])return Wr(e[r],t[r]);return Wr(e.length,t.length)}function Rp(e,t,r){return e.length===t.length&&e.every((n,a)=>r(n,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI=-62135596800,II=1e6;class sr{static now(){return sr.fromMillis(Date.now())}static fromDate(t){return sr.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),n=Math.floor((t-1e3*r)*II);return new sr(r,n)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new Jt(_t.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Jt(_t.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<OI)throw new Jt(_t.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Jt(_t.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/II}_compareTo(t){return this.seconds===t.seconds?Wr(this.nanoseconds,t.nanoseconds):Wr(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-OI;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{static fromTimestamp(t){return new Ir(t)}static min(){return new Ir(new sr(0,0))}static max(){return new Ir(new sr(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI="__name__";class nc{constructor(t,r,n){r===void 0?r=0:r>t.length&&Tr(637,{offset:r,range:t.length}),n===void 0?n=t.length-r:n>t.length-r&&Tr(1746,{length:n,range:t.length-r}),this.segments=t,this.offset=r,this.len=n}get length(){return this.len}isEqual(t){return nc.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof nc?t.forEach(n=>{r.push(n)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,n=this.limit();r<n;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const n=Math.min(t.length,r.length);for(let a=0;a<n;a++){const i=nc.compareSegments(t.get(a),r.get(a));if(i!==0)return i}return Wr(t.length,r.length)}static compareSegments(t,r){const n=nc.isNumericId(t),a=nc.isNumericId(r);return n&&!a?-1:!n&&a?1:n&&a?nc.extractNumericId(t).compare(nc.extractNumericId(r)):uT(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Hf.fromString(t.substring(4,t.length-2))}}class Jn extends nc{construct(t,r,n){return new Jn(t,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const n of t){if(n.indexOf("//")>=0)throw new Jt(_t.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(a=>a.length>0))}return new Jn(r)}static emptyPath(){return new Jn([])}}const Lae=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ei extends nc{construct(t,r,n){return new Ei(t,r,n)}static isValidIdentifier(t){return Lae.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ei.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===DI}static keyField(){return new Ei([DI])}static fromServerFormat(t){const r=[];let n="",a=0;const i=()=>{if(n.length===0)throw new Jt(_t.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;a<t.length;){const o=t[a];if(o==="\\"){if(a+1===t.length)throw new Jt(_t.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[a+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Jt(_t.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=l,a+=2}else o==="`"?(s=!s,a++):o!=="."||s?(n+=o,a++):(i(),a++)}if(i(),s)throw new Jt(_t.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ei(r)}static emptyPath(){return new Ei([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(t){this.path=t}static fromPath(t){return new hr(Jn.fromString(t))}static fromName(t){return new hr(Jn.fromString(t).popFirst(5))}static empty(){return new hr(Jn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Jn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return Jn.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new hr(new Jn(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1=-1;function Mae(e,t){const r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,a=Ir.fromTimestamp(n===1e9?new sr(r+1,0):new sr(r,n));return new td(a,hr.empty(),t)}function Rae(e){return new td(e.readTime,e.key,f1)}class td{constructor(t,r,n){this.readTime=t,this.documentKey=r,this.largestBatchId=n}static min(){return new td(Ir.min(),hr.empty(),f1)}static max(){return new td(Ir.max(),hr.empty(),f1)}}function Fae(e,t){let r=e.readTime.compareTo(t.readTime);return r!==0?r:(r=hr.comparator(e.documentKey,t.documentKey),r!==0?r:Wr(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ae="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Bae{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Em(e){if(e.code!==_t.FAILED_PRECONDITION||e.message!==$ae)throw e;tr("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&Tr(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new Et((n,a)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(n,a)},this.catchCallback=i=>{this.wrapFailure(r,i).next(n,a)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof Et?r:Et.resolve(r)}catch(r){return Et.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):Et.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):Et.reject(r)}static resolve(t){return new Et((r,n)=>{r(t)})}static reject(t){return new Et((r,n)=>{n(t)})}static waitFor(t){return new Et((r,n)=>{let a=0,i=0,s=!1;t.forEach(o=>{++a,o.next(()=>{++i,s&&i===a&&r()},l=>n(l))}),s=!0,i===a&&r()})}static or(t){let r=Et.resolve(!1);for(const n of t)r=r.next(a=>a?Et.resolve(a):n());return r}static forEach(t,r){const n=[];return t.forEach((a,i)=>{n.push(r.call(this,a,i))}),this.waitFor(n)}static mapArray(t,r){return new Et((n,a)=>{const i=t.length,s=new Array(i);let o=0;for(let l=0;l<i;l++){const c=l;r(t[c]).next(u=>{s[c]=u,++o,o===i&&n(s)},u=>a(u))}})}static doWhile(t,r){return new Et((n,a)=>{const i=()=>{t()===!0?r().next(()=>{i()},a):n()};i()})}}function Uae(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Nm(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=n=>this.ue(n),this.ce=n=>r.writeSequenceNumber(n))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}n_.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=-1;function a_(e){return e==null}function Zb(e){return e===0&&1/e==-1/0}function Vae(e){return typeof e=="number"&&Number.isInteger(e)&&!Zb(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nV="";function zae(e){let t="";for(let r=0;r<e.length;r++)t.length>0&&(t=LI(t)),t=qae(e.get(r),t);return LI(t)}function qae(e,t){let r=t;const n=e.length;for(let a=0;a<n;a++){const i=e.charAt(a);switch(i){case"\0":r+="";break;case nV:r+="";break;default:r+=i}}return r}function LI(e){return e+nV+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function md(e,t){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function Wae(e,t){const r=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.push(t(e[n],n,e));return r}function aV(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(t,r){this.comparator=t,this.root=r||Ai.EMPTY}insert(t,r){return new fa(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,Ai.BLACK,null,null))}remove(t){return new fa(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ai.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(t,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(t){let r=0,n=this.root;for(;!n.isEmpty();){const a=this.comparator(t,n.key);if(a===0)return r+n.left.size;a<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,n)=>(t(r,n),!1))}toString(){const t=[];return this.inorderTraversal((r,n)=>(t.push(`${r}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Jx(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Jx(this.root,t,this.comparator,!1)}getReverseIterator(){return new Jx(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Jx(this.root,t,this.comparator,!0)}}class Jx{constructor(t,r,n,a){this.isReverse=a,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=r?n(t.key,r):1,r&&a&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ai{constructor(t,r,n,a,i){this.key=t,this.value=r,this.color=n??Ai.RED,this.left=a??Ai.EMPTY,this.right=i??Ai.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,n,a,i){return new Ai(t??this.key,r??this.value,n??this.color,a??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,n){let a=this;const i=n(t,a.key);return a=i<0?a.copy(null,null,null,a.left.insert(t,r,n),null):i===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(t,r,n)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ai.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let n,a=this;if(r(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(t,a.key)===0){if(a.right.isEmpty())return Ai.EMPTY;n=a.right.min(),a=a.copy(n.key,n.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ai.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ai.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tr(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tr(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Tr(27949);return t+(this.isRed()?0:1)}}Ai.EMPTY=null,Ai.RED=!0,Ai.BLACK=!1;Ai.EMPTY=new class{constructor(){this.size=0}get key(){throw Tr(57766)}get value(){throw Tr(16141)}get color(){throw Tr(16727)}get left(){throw Tr(29726)}get right(){throw Tr(36894)}copy(t,r,n,a,i){return this}insert(t,r,n){return new Ai(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(t){this.comparator=t,this.data=new fa(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,n)=>(t(r),!1))}forEachInRange(t,r){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const a=n.getNext();if(this.comparator(a.key,t[1])>=0)return;r(a.key)}}forEachWhile(t,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new RI(this.data.getIterator())}getIteratorFrom(t){return new RI(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(n=>{r=r.add(n)}),r}isEqual(t){if(!(t instanceof ei)||this.size!==t.size)return!1;const r=this.data.getIterator(),n=t.data.getIterator();for(;r.hasNext();){const a=r.getNext().key,i=n.getNext().key;if(this.comparator(a,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new ei(this.comparator);return r.data=t,r}}class RI{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(t){this.fields=t,t.sort(Ei.comparator)}static empty(){return new uo([])}unionWith(t){let r=new ei(Ei.comparator);for(const n of this.fields)r=r.add(n);for(const n of t)r=r.add(n);return new uo(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return Rp(this.fields,t.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(a){try{return atob(a)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new iV("Invalid base64 string: "+i):i}}(t);return new Oi(r)}static fromUint8Array(t){const r=function(a){let i="";for(let s=0;s<a.length;++s)i+=String.fromCharCode(a[s]);return i}(t);return new Oi(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Wr(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Oi.EMPTY_BYTE_STRING=new Oi("");const Hae=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rd(e){if(wn(!!e,39018),typeof e=="string"){let t=0;const r=Hae.exec(e);if(wn(!!r,46558,{timestamp:e}),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),t=Number(a)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:Aa(e.seconds),nanos:Aa(e.nanos)}}function Aa(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function nd(e){return typeof e=="string"?Oi.fromBase64String(e):Oi.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV="server_timestamp",oV="__type__",lV="__previous_value__",cV="__local_write_time__";function nC(e){var t,r;return((r=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[oV])===null||r===void 0?void 0:r.stringValue)===sV}function i_(e){const t=e.mapValue.fields[lV];return nC(t)?i_(t):t}function d1(e){const t=rd(e.mapValue.fields[cV].timestampValue);return new sr(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gae{constructor(t,r,n,a,i,s,o,l,c,u){this.databaseId=t,this.appId=r,this.persistenceKey=n,this.host=a,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const ew="(default)";class h1{constructor(t,r){this.projectId=t,this.database=r||ew}static empty(){return new h1("","")}get isDefaultDatabase(){return this.database===ew}isEqual(t){return t instanceof h1&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV="__type__",fV="__max__",Zx={mapValue:{fields:{__type__:{stringValue:fV}}}},dV="__vector__",tw="value";function ad(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?nC(e)?4:Yae(e)?9007199254740991:Kae(e)?10:11:Tr(28295,{value:e})}function yc(e,t){if(e===t)return!0;const r=ad(e);if(r!==ad(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return d1(e).isEqual(d1(t));case 3:return function(a,i){if(typeof a.timestampValue=="string"&&typeof i.timestampValue=="string"&&a.timestampValue.length===i.timestampValue.length)return a.timestampValue===i.timestampValue;const s=rd(a.timestampValue),o=rd(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(a,i){return nd(a.bytesValue).isEqual(nd(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(a,i){return Aa(a.geoPointValue.latitude)===Aa(i.geoPointValue.latitude)&&Aa(a.geoPointValue.longitude)===Aa(i.geoPointValue.longitude)}(e,t);case 2:return function(a,i){if("integerValue"in a&&"integerValue"in i)return Aa(a.integerValue)===Aa(i.integerValue);if("doubleValue"in a&&"doubleValue"in i){const s=Aa(a.doubleValue),o=Aa(i.doubleValue);return s===o?Zb(s)===Zb(o):isNaN(s)&&isNaN(o)}return!1}(e,t);case 9:return Rp(e.arrayValue.values||[],t.arrayValue.values||[],yc);case 10:case 11:return function(a,i){const s=a.mapValue.fields||{},o=i.mapValue.fields||{};if(MI(s)!==MI(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!yc(s[l],o[l])))return!1;return!0}(e,t);default:return Tr(52216,{left:e})}}function p1(e,t){return(e.values||[]).find(r=>yc(r,t))!==void 0}function Fp(e,t){if(e===t)return 0;const r=ad(e),n=ad(t);if(r!==n)return Wr(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Wr(e.booleanValue,t.booleanValue);case 2:return function(i,s){const o=Aa(i.integerValue||i.doubleValue),l=Aa(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(e,t);case 3:return FI(e.timestampValue,t.timestampValue);case 4:return FI(d1(e),d1(t));case 5:return uT(e.stringValue,t.stringValue);case 6:return function(i,s){const o=nd(i),l=nd(s);return o.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){const o=i.split("/"),l=s.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=Wr(o[c],l[c]);if(u!==0)return u}return Wr(o.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){const o=Wr(Aa(i.latitude),Aa(s.latitude));return o!==0?o:Wr(Aa(i.longitude),Aa(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return $I(e.arrayValue,t.arrayValue);case 10:return function(i,s){var o,l,c,u;const d=i.fields||{},h=s.fields||{},p=(o=d[tw])===null||o===void 0?void 0:o.arrayValue,g=(l=h[tw])===null||l===void 0?void 0:l.arrayValue,m=Wr(((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0,((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0);return m!==0?m:$I(p,g)}(e.mapValue,t.mapValue);case 11:return function(i,s){if(i===Zx.mapValue&&s===Zx.mapValue)return 0;if(i===Zx.mapValue)return 1;if(s===Zx.mapValue)return-1;const o=i.fields||{},l=Object.keys(o),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=uT(l[d],u[d]);if(h!==0)return h;const p=Fp(o[l[d]],c[u[d]]);if(p!==0)return p}return Wr(l.length,u.length)}(e.mapValue,t.mapValue);default:throw Tr(23264,{Pe:r})}}function FI(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Wr(e,t);const r=rd(e),n=rd(t),a=Wr(r.seconds,n.seconds);return a!==0?a:Wr(r.nanos,n.nanos)}function $I(e,t){const r=e.values||[],n=t.values||[];for(let a=0;a<r.length&&a<n.length;++a){const i=Fp(r[a],n[a]);if(i)return i}return Wr(r.length,n.length)}function $p(e){return fT(e)}function fT(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const n=rd(r);return`time(${n.seconds},${n.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(r){return nd(r).toBase64()}(e.bytesValue):"referenceValue"in e?function(r){return hr.fromName(r).toString()}(e.referenceValue):"geoPointValue"in e?function(r){return`geo(${r.latitude},${r.longitude})`}(e.geoPointValue):"arrayValue"in e?function(r){let n="[",a=!0;for(const i of r.values||[])a?a=!1:n+=",",n+=fT(i);return n+"]"}(e.arrayValue):"mapValue"in e?function(r){const n=Object.keys(r.fields||{}).sort();let a="{",i=!0;for(const s of n)i?i=!1:a+=",",a+=`${s}:${fT(r.fields[s])}`;return a+"}"}(e.mapValue):Tr(61005,{value:e})}function Z2(e){switch(ad(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=i_(e);return t?16+Z2(t):16;case 5:return 2*e.stringValue.length;case 6:return nd(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((a,i)=>a+Z2(i),0)}(e.arrayValue);case 10:case 11:return function(n){let a=0;return md(n.fields,(i,s)=>{a+=i.length+Z2(s)}),a}(e.mapValue);default:throw Tr(13486,{value:e})}}function BI(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function dT(e){return!!e&&"integerValue"in e}function aC(e){return!!e&&"arrayValue"in e}function UI(e){return!!e&&"nullValue"in e}function VI(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function eb(e){return!!e&&"mapValue"in e}function Kae(e){var t,r;return((r=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[uV])===null||r===void 0?void 0:r.stringValue)===dV}function hv(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return md(e.mapValue.fields,(r,n)=>t.mapValue.fields[r]=hv(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=hv(e.arrayValue.values[r]);return t}return Object.assign({},e)}function Yae(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===fV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(t){this.value=t}static empty(){return new Fs({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let n=0;n<t.length-1;++n)if(r=(r.mapValue.fields||{})[t.get(n)],!eb(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=hv(r)}setAll(t){let r=Ei.emptyPath(),n={},a=[];t.forEach((s,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,a),n={},a=[],r=o.popLast()}s?n[o.lastSegment()]=hv(s):a.push(o.lastSegment())});const i=this.getFieldsMap(r);this.applyChanges(i,n,a)}delete(t){const r=this.field(t.popLast());eb(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return yc(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<t.length;++n){let a=r.mapValue.fields[t.get(n)];eb(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[t.get(n)]=a),r=a}return r.mapValue.fields}applyChanges(t,r,n){md(r,(a,i)=>t[a]=i);for(const a of n)delete t[a]}clone(){return new Fs(hv(this.value))}}function hV(e){const t=[];return md(e.fields,(r,n)=>{const a=new Ei([r]);if(eb(n)){const i=hV(n.mapValue).fields;if(i.length===0)t.push(a);else for(const s of i)t.push(a.child(s))}else t.push(a)}),new uo(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(t,r,n,a,i,s,o){this.key=t,this.documentType=r,this.version=n,this.readTime=a,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(t){return new Xi(t,0,Ir.min(),Ir.min(),Ir.min(),Fs.empty(),0)}static newFoundDocument(t,r,n,a){return new Xi(t,1,r,Ir.min(),n,a,0)}static newNoDocument(t,r){return new Xi(t,2,r,Ir.min(),Ir.min(),Fs.empty(),0)}static newUnknownDocument(t,r){return new Xi(t,3,r,Ir.min(),Ir.min(),Fs.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(Ir.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Fs.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Fs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ir.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Xi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Xi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(t,r){this.position=t,this.inclusive=r}}function zI(e,t,r){let n=0;for(let a=0;a<e.position.length;a++){const i=t[a],s=e.position[a];if(i.field.isKeyField()?n=hr.comparator(hr.fromName(s.referenceValue),r.key):n=Fp(s,r.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function qI(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!yc(e.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(t,r="asc"){this.field=t,this.dir=r}}function Xae(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{}class Ba extends pV{constructor(t,r,n){super(),this.field=t,this.op=r,this.value=n}static create(t,r,n){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,n):new Jae(t,r,n):r==="array-contains"?new tie(t,n):r==="in"?new rie(t,n):r==="not-in"?new nie(t,n):r==="array-contains-any"?new aie(t,n):new Ba(t,r,n)}static createKeyFieldInFilter(t,r,n){return r==="in"?new Zae(t,n):new eie(t,n)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Fp(r,this.value)):r!==null&&ad(this.value)===ad(r)&&this.matchesComparison(Fp(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tr(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $l extends pV{constructor(t,r){super(),this.filters=t,this.op=r,this.Te=null}static create(t,r){return new $l(t,r)}matches(t){return mV(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function mV(e){return e.op==="and"}function gV(e){return Qae(e)&&mV(e)}function Qae(e){for(const t of e.filters)if(t instanceof $l)return!1;return!0}function hT(e){if(e instanceof Ba)return e.field.canonicalString()+e.op.toString()+$p(e.value);if(gV(e))return e.filters.map(t=>hT(t)).join(",");{const t=e.filters.map(r=>hT(r)).join(",");return`${e.op}(${t})`}}function vV(e,t){return e instanceof Ba?function(n,a){return a instanceof Ba&&n.op===a.op&&n.field.isEqual(a.field)&&yc(n.value,a.value)}(e,t):e instanceof $l?function(n,a){return a instanceof $l&&n.op===a.op&&n.filters.length===a.filters.length?n.filters.reduce((i,s,o)=>i&&vV(s,a.filters[o]),!0):!1}(e,t):void Tr(19439)}function yV(e){return e instanceof Ba?function(r){return`${r.field.canonicalString()} ${r.op} ${$p(r.value)}`}(e):e instanceof $l?function(r){return r.op.toString()+" {"+r.getFilters().map(yV).join(" ,")+"}"}(e):"Filter"}class Jae extends Ba{constructor(t,r,n){super(t,r,n),this.key=hr.fromName(n.referenceValue)}matches(t){const r=hr.comparator(t.key,this.key);return this.matchesComparison(r)}}class Zae extends Ba{constructor(t,r){super(t,"in",r),this.keys=xV("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class eie extends Ba{constructor(t,r){super(t,"not-in",r),this.keys=xV("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function xV(e,t){var r;return(((r=t.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>hr.fromName(n.referenceValue))}class tie extends Ba{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return aC(r)&&p1(r.arrayValue,this.value)}}class rie extends Ba{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&p1(this.value.arrayValue,r)}}class nie extends Ba{constructor(t,r){super(t,"not-in",r)}matches(t){if(p1(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&r.nullValue===void 0&&!p1(this.value.arrayValue,r)}}class aie extends Ba{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!aC(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>p1(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iie{constructor(t,r=null,n=[],a=[],i=null,s=null,o=null){this.path=t,this.collectionGroup=r,this.orderBy=n,this.filters=a,this.limit=i,this.startAt=s,this.endAt=o,this.Ie=null}}function WI(e,t=null,r=[],n=[],a=null,i=null,s=null){return new iie(e,t,r,n,a,i,s)}function iC(e){const t=Or(e);if(t.Ie===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(n=>hT(n)).join(","),r+="|ob:",r+=t.orderBy.map(n=>function(i){return i.field.canonicalString()+i.dir}(n)).join(","),a_(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(n=>$p(n)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(n=>$p(n)).join(",")),t.Ie=r}return t.Ie}function sC(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!Xae(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!vV(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!qI(e.startAt,t.startAt)&&qI(e.endAt,t.endAt)}function pT(e){return hr.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(t,r=null,n=[],a=[],i=null,s="F",o=null,l=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=a,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function sie(e,t,r,n,a,i,s,o){return new km(e,t,r,n,a,i,s,o)}function s_(e){return new km(e)}function HI(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function bV(e){return e.collectionGroup!==null}function pv(e){const t=Or(e);if(t.Ee===null){t.Ee=[];const r=new Set;for(const i of t.explicitOrderBy)t.Ee.push(i),r.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new ei(Ei.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(t).forEach(i=>{r.has(i.canonicalString())||i.isKeyField()||t.Ee.push(new m1(i,n))}),r.has(Ei.keyField().canonicalString())||t.Ee.push(new m1(Ei.keyField(),n))}return t.Ee}function fc(e){const t=Or(e);return t.de||(t.de=wV(t,pv(e))),t.de}function oie(e){const t=Or(e);return t.Ae||(t.Ae=wV(t,e.explicitOrderBy)),t.Ae}function wV(e,t){if(e.limitType==="F")return WI(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(a=>{const i=a.dir==="desc"?"asc":"desc";return new m1(a.field,i)});const r=e.endAt?new rw(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new rw(e.startAt.position,e.startAt.inclusive):null;return WI(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}function mT(e,t){const r=e.filters.concat([t]);return new km(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function nw(e,t,r){return new km(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function o_(e,t){return sC(fc(e),fc(t))&&e.limitType===t.limitType}function _V(e){return`${iC(fc(e))}|lt:${e.limitType}`}function j0(e){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(a=>yV(a)).join(", ")}]`),a_(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(a=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(a)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(a=>$p(a)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(a=>$p(a)).join(",")),`Target(${n})`}(fc(e))}; limitType=${e.limitType})`}function l_(e,t){return t.isFoundDocument()&&function(n,a){const i=a.key.path;return n.collectionGroup!==null?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):hr.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,a){for(const i of pv(n))if(!i.field.isKeyField()&&a.data.field(i.field)===null)return!1;return!0}(e,t)&&function(n,a){for(const i of n.filters)if(!i.matches(a))return!1;return!0}(e,t)&&function(n,a){return!(n.startAt&&!function(s,o,l){const c=zI(s,o,l);return s.inclusive?c<=0:c<0}(n.startAt,pv(n),a)||n.endAt&&!function(s,o,l){const c=zI(s,o,l);return s.inclusive?c>=0:c>0}(n.endAt,pv(n),a))}(e,t)}function lie(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function SV(e){return(t,r)=>{let n=!1;for(const a of pv(e)){const i=cie(a,t,r);if(i!==0)return i;n=n||a.field.isKeyField()}return 0}}function cie(e,t,r){const n=e.field.isKeyField()?hr.comparator(t.key,r.key):function(i,s,o){const l=s.data.field(i),c=o.data.field(i);return l!==null&&c!==null?Fp(l,c):Tr(42886)}(e.field,t,r);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return Tr(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n!==void 0){for(const[a,i]of n)if(this.equalsFn(a,t))return i}}has(t){return this.get(t)!==void 0}set(t,r){const n=this.mapKeyFn(t),a=this.inner[n];if(a===void 0)return this.inner[n]=[[t,r]],void this.innerSize++;for(let i=0;i<a.length;i++)if(this.equalsFn(a[i][0],t))return void(a[i]=[t,r]);a.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n===void 0)return!1;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],t))return n.length===1?delete this.inner[r]:n.splice(a,1),this.innerSize--,!0;return!1}forEach(t){md(this.inner,(r,n)=>{for(const[a,i]of n)t(a,i)})}isEmpty(){return aV(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uie=new fa(hr.comparator);function vu(){return uie}const AV=new fa(hr.comparator);function Hg(...e){let t=AV;for(const r of e)t=t.insert(r.key,r);return t}function TV(e){let t=AV;return e.forEach((r,n)=>t=t.insert(r,n.overlayedDocument)),t}function eh(){return mv()}function EV(){return mv()}function mv(){return new Bh(e=>e.toString(),(e,t)=>e.isEqual(t))}const fie=new fa(hr.comparator),die=new ei(hr.comparator);function en(...e){let t=die;for(const r of e)t=t.add(r);return t}const hie=new ei(Wr);function pie(){return hie}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zb(t)?"-0":t}}function NV(e){return{integerValue:""+e}}function mie(e,t){return Vae(t)?NV(t):oC(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(){this._=void 0}}function gie(e,t,r){return e instanceof g1?function(a,i){const s={fields:{[oV]:{stringValue:sV},[cV]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return i&&nC(i)&&(i=i_(i)),i&&(s.fields[lV]=i),{mapValue:s}}(r,t):e instanceof v1?CV(e,t):e instanceof y1?PV(e,t):function(a,i){const s=kV(a,i),o=GI(s)+GI(a.Re);return dT(s)&&dT(a.Re)?NV(o):oC(a.serializer,o)}(e,t)}function vie(e,t,r){return e instanceof v1?CV(e,t):e instanceof y1?PV(e,t):r}function kV(e,t){return e instanceof aw?function(n){return dT(n)||function(i){return!!i&&"doubleValue"in i}(n)}(t)?t:{integerValue:0}:null}class g1 extends c_{}class v1 extends c_{constructor(t){super(),this.elements=t}}function CV(e,t){const r=jV(t);for(const n of e.elements)r.some(a=>yc(a,n))||r.push(n);return{arrayValue:{values:r}}}class y1 extends c_{constructor(t){super(),this.elements=t}}function PV(e,t){let r=jV(t);for(const n of e.elements)r=r.filter(a=>!yc(a,n));return{arrayValue:{values:r}}}class aw extends c_{constructor(t,r){super(),this.serializer=t,this.Re=r}}function GI(e){return Aa(e.integerValue||e.doubleValue)}function jV(e){return aC(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yie{constructor(t,r){this.field=t,this.transform=r}}function xie(e,t){return e.field.isEqual(t.field)&&function(n,a){return n instanceof v1&&a instanceof v1||n instanceof y1&&a instanceof y1?Rp(n.elements,a.elements,yc):n instanceof aw&&a instanceof aw?yc(n.Re,a.Re):n instanceof g1&&a instanceof g1}(e.transform,t.transform)}class bie{constructor(t,r){this.version=t,this.transformResults=r}}class Ts{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new Ts}static exists(t){return new Ts(void 0,t)}static updateTime(t){return new Ts(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function tb(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class u_{}function OV(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new f_(e.key,Ts.none()):new jy(e.key,e.data,Ts.none());{const r=e.data,n=Fs.empty();let a=new ei(Ei.comparator);for(let i of t.fields)if(!a.has(i)){let s=r.field(i);s===null&&i.length>1&&(i=i.popLast(),s=r.field(i)),s===null?n.delete(i):n.set(i,s),a=a.add(i)}return new gd(e.key,n,new uo(a.toArray()),Ts.none())}}function wie(e,t,r){e instanceof jy?function(a,i,s){const o=a.value.clone(),l=YI(a.fieldTransforms,i,s.transformResults);o.setAll(l),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,r):e instanceof gd?function(a,i,s){if(!tb(a.precondition,i))return void i.convertToUnknownDocument(s.version);const o=YI(a.fieldTransforms,i,s.transformResults),l=i.data;l.setAll(IV(a)),l.setAll(o),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,r):function(a,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,r)}function gv(e,t,r,n){return e instanceof jy?function(i,s,o,l){if(!tb(i.precondition,s))return o;const c=i.value.clone(),u=XI(i.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(e,t,r,n):e instanceof gd?function(i,s,o,l){if(!tb(i.precondition,s))return o;const c=XI(i.fieldTransforms,l,s),u=s.data;return u.setAll(IV(i)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(d=>d.field))}(e,t,r,n):function(i,s,o){return tb(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(e,t,r)}function _ie(e,t){let r=null;for(const n of e.fieldTransforms){const a=t.data.field(n.field),i=kV(n.transform,a||null);i!=null&&(r===null&&(r=Fs.empty()),r.set(n.field,i))}return r||null}function KI(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,a){return n===void 0&&a===void 0||!(!n||!a)&&Rp(n,a,(i,s)=>xie(i,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class jy extends u_{constructor(t,r,n,a=[]){super(),this.key=t,this.value=r,this.precondition=n,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class gd extends u_{constructor(t,r,n,a,i=[]){super(),this.key=t,this.data=r,this.fieldMask=n,this.precondition=a,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function IV(e){const t=new Map;return e.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=e.data.field(r);t.set(r,n)}}),t}function YI(e,t,r){const n=new Map;wn(e.length===r.length,32656,{Ve:r.length,me:e.length});for(let a=0;a<r.length;a++){const i=e[a],s=i.transform,o=t.data.field(i.field);n.set(i.field,vie(s,o,r[a]))}return n}function XI(e,t,r){const n=new Map;for(const a of e){const i=a.transform,s=r.data.field(a.field);n.set(a.field,gie(i,s,t))}return n}class f_ extends u_{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Sie extends u_{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aie{constructor(t,r,n,a){this.batchId=t,this.localWriteTime=r,this.baseMutations=n,this.mutations=a}applyToRemoteDocument(t,r){const n=r.mutationResults;for(let a=0;a<this.mutations.length;a++){const i=this.mutations[a];i.key.isEqual(t.key)&&wie(i,t,n[a])}}applyToLocalView(t,r){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(r=gv(n,t,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(r=gv(n,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const n=EV();return this.mutations.forEach(a=>{const i=t.get(a.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=r.has(a.key)?null:o;const l=OV(s,o);l!==null&&n.set(a.key,l),s.isValidDocument()||s.convertToNoDocument(Ir.min())}),n}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),en())}isEqual(t){return this.batchId===t.batchId&&Rp(this.mutations,t.mutations,(r,n)=>KI(r,n))&&Rp(this.baseMutations,t.baseMutations,(r,n)=>KI(r,n))}}class lC{constructor(t,r,n,a){this.batch=t,this.commitVersion=r,this.mutationResults=n,this.docVersions=a}static from(t,r,n){wn(t.mutations.length===n.length,58842,{fe:t.mutations.length,ge:n.length});let a=function(){return fie}();const i=t.mutations;for(let s=0;s<i.length;s++)a=a.insert(i[s].key,n[s].version);return new lC(t,r,n,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tie{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eie{constructor(t,r,n){this.alias=t,this.aggregateType=r,this.fieldPath=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nie{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ia,sn;function kie(e){switch(e){case _t.OK:return Tr(64938);case _t.CANCELLED:case _t.UNKNOWN:case _t.DEADLINE_EXCEEDED:case _t.RESOURCE_EXHAUSTED:case _t.INTERNAL:case _t.UNAVAILABLE:case _t.UNAUTHENTICATED:return!1;case _t.INVALID_ARGUMENT:case _t.NOT_FOUND:case _t.ALREADY_EXISTS:case _t.PERMISSION_DENIED:case _t.FAILED_PRECONDITION:case _t.ABORTED:case _t.OUT_OF_RANGE:case _t.UNIMPLEMENTED:case _t.DATA_LOSS:return!0;default:return Tr(15467,{code:e})}}function DV(e){if(e===void 0)return gu("GRPC error has no .code"),_t.UNKNOWN;switch(e){case Ia.OK:return _t.OK;case Ia.CANCELLED:return _t.CANCELLED;case Ia.UNKNOWN:return _t.UNKNOWN;case Ia.DEADLINE_EXCEEDED:return _t.DEADLINE_EXCEEDED;case Ia.RESOURCE_EXHAUSTED:return _t.RESOURCE_EXHAUSTED;case Ia.INTERNAL:return _t.INTERNAL;case Ia.UNAVAILABLE:return _t.UNAVAILABLE;case Ia.UNAUTHENTICATED:return _t.UNAUTHENTICATED;case Ia.INVALID_ARGUMENT:return _t.INVALID_ARGUMENT;case Ia.NOT_FOUND:return _t.NOT_FOUND;case Ia.ALREADY_EXISTS:return _t.ALREADY_EXISTS;case Ia.PERMISSION_DENIED:return _t.PERMISSION_DENIED;case Ia.FAILED_PRECONDITION:return _t.FAILED_PRECONDITION;case Ia.ABORTED:return _t.ABORTED;case Ia.OUT_OF_RANGE:return _t.OUT_OF_RANGE;case Ia.UNIMPLEMENTED:return _t.UNIMPLEMENTED;case Ia.DATA_LOSS:return _t.DATA_LOSS;default:return Tr(39323,{code:e})}}(sn=Ia||(Ia={}))[sn.OK=0]="OK",sn[sn.CANCELLED=1]="CANCELLED",sn[sn.UNKNOWN=2]="UNKNOWN",sn[sn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",sn[sn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",sn[sn.NOT_FOUND=5]="NOT_FOUND",sn[sn.ALREADY_EXISTS=6]="ALREADY_EXISTS",sn[sn.PERMISSION_DENIED=7]="PERMISSION_DENIED",sn[sn.UNAUTHENTICATED=16]="UNAUTHENTICATED",sn[sn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",sn[sn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",sn[sn.ABORTED=10]="ABORTED",sn[sn.OUT_OF_RANGE=11]="OUT_OF_RANGE",sn[sn.UNIMPLEMENTED=12]="UNIMPLEMENTED",sn[sn.INTERNAL=13]="INTERNAL",sn[sn.UNAVAILABLE=14]="UNAVAILABLE",sn[sn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cie=new Hf([4294967295,4294967295],0);function QI(e){const t=tV().encode(e),r=new GU;return r.update(t),new Uint8Array(r.digest())}function JI(e){const t=new DataView(e.buffer),r=t.getUint32(0,!0),n=t.getUint32(4,!0),a=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new Hf([r,n],0),new Hf([a,i],0)]}class cC{constructor(t,r,n){if(this.bitmap=t,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Gg(`Invalid padding: ${r}`);if(n<0)throw new Gg(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new Gg(`Invalid hash count: ${n}`);if(t.length===0&&r!==0)throw new Gg(`Invalid padding when bitmap length is 0: ${r}`);this.pe=8*t.length-r,this.ye=Hf.fromNumber(this.pe)}we(t,r,n){let a=t.add(r.multiply(Hf.fromNumber(n)));return a.compare(Cie)===1&&(a=new Hf([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const r=QI(t),[n,a]=JI(r);for(let i=0;i<this.hashCount;i++){const s=this.we(n,a,i);if(!this.be(s))return!1}return!0}static create(t,r,n){const a=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),s=new cC(i,a,r);return n.forEach(o=>s.insert(o)),s}insert(t){if(this.pe===0)return;const r=QI(t),[n,a]=JI(r);for(let i=0;i<this.hashCount;i++){const s=this.we(n,a,i);this.Se(s)}}Se(t){const r=Math.floor(t/8),n=t%8;this.bitmap[r]|=1<<n}}class Gg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(t,r,n,a,i){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=a,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,r,n){const a=new Map;return a.set(t,Oy.createSynthesizedTargetChangeForCurrentChange(t,r,n)),new d_(Ir.min(),a,new fa(Wr),vu(),en())}}class Oy{constructor(t,r,n,a,i){this.resumeToken=t,this.current=r,this.addedDocuments=n,this.modifiedDocuments=a,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,r,n){return new Oy(n,r,en(),en(),en())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(t,r,n,a){this.De=t,this.removedTargetIds=r,this.key=n,this.ve=a}}class LV{constructor(t,r){this.targetId=t,this.Ce=r}}class MV{constructor(t,r,n=Oi.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=r,this.resumeToken=n,this.cause=a}}class ZI{constructor(){this.Fe=0,this.Me=e8(),this.xe=Oi.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=en(),r=en(),n=en();return this.Me.forEach((a,i)=>{switch(i){case 0:t=t.add(a);break;case 2:r=r.add(a);break;case 1:n=n.add(a);break;default:Tr(38017,{changeType:i})}}),new Oy(this.xe,this.Oe,t,r,n)}Qe(){this.Ne=!1,this.Me=e8()}$e(t,r){this.Ne=!0,this.Me=this.Me.insert(t,r)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,wn(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Pie{constructor(t){this.ze=t,this.je=new Map,this.He=vu(),this.Je=e2(),this.Ye=e2(),this.Ze=new fa(Wr)}Xe(t){for(const r of t.De)t.ve&&t.ve.isFoundDocument()?this.et(r,t.ve):this.tt(r,t.key,t.ve);for(const r of t.removedTargetIds)this.tt(r,t.key,t.ve)}nt(t){this.forEachTarget(t,r=>{const n=this.rt(r);switch(t.state){case 0:this.it(r)&&n.ke(t.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(t.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(r);break;case 3:this.it(r)&&(n.Ge(),n.ke(t.resumeToken));break;case 4:this.it(r)&&(this.st(r),n.ke(t.resumeToken));break;default:Tr(56790,{state:t.state})}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.je.forEach((n,a)=>{this.it(a)&&r(a)})}ot(t){const r=t.targetId,n=t.Ce.count,a=this._t(r);if(a){const i=a.target;if(pT(i))if(n===0){const s=new hr(i.path);this.tt(r,s,Xi.newNoDocument(s,Ir.min()))}else wn(n===1,20013,{expectedCount:n});else{const s=this.ut(r);if(s!==n){const o=this.ct(t),l=o?this.lt(o,t,s):1;if(l!==0){this.st(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(r,c)}}}}}ct(t){const r=t.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:a=0},hashCount:i=0}=r;let s,o;try{s=nd(n).toUint8Array()}catch(l){if(l instanceof iV)return Mp("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new cC(s,a,i)}catch(l){return Mp(l instanceof Gg?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.pe===0?null:o}lt(t,r,n){return r.Ce.count===n-this.Tt(t,r.targetId)?0:2}Tt(t,r){const n=this.ze.getRemoteKeysForTarget(r);let a=0;return n.forEach(i=>{const s=this.ze.Pt(),o=`projects/${s.projectId}/databases/${s.database}/documents/${i.path.canonicalString()}`;t.mightContain(o)||(this.tt(r,i,null),a++)}),a}It(t){const r=new Map;this.je.forEach((i,s)=>{const o=this._t(s);if(o){if(i.current&&pT(o.target)){const l=new hr(o.target.path);this.Et(l).has(s)||this.dt(s,l)||this.tt(s,l,Xi.newNoDocument(l,t))}i.Le&&(r.set(s,i.qe()),i.Qe())}});let n=en();this.Ye.forEach((i,s)=>{let o=!0;s.forEachWhile(l=>{const c=this._t(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(i))}),this.He.forEach((i,s)=>s.setReadTime(t));const a=new d_(t,r,this.Ze,this.He,n);return this.He=vu(),this.Je=e2(),this.Ye=e2(),this.Ze=new fa(Wr),a}et(t,r){if(!this.it(t))return;const n=this.dt(t,r.key)?2:0;this.rt(t).$e(r.key,n),this.He=this.He.insert(r.key,r),this.Je=this.Je.insert(r.key,this.Et(r.key).add(t)),this.Ye=this.Ye.insert(r.key,this.At(r.key).add(t))}tt(t,r,n){if(!this.it(t))return;const a=this.rt(t);this.dt(t,r)?a.$e(r,1):a.Ue(r),this.Ye=this.Ye.insert(r,this.At(r).delete(t)),this.Ye=this.Ye.insert(r,this.At(r).add(t)),n&&(this.He=this.He.insert(r,n))}removeTarget(t){this.je.delete(t)}ut(t){const r=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let r=this.je.get(t);return r||(r=new ZI,this.je.set(t,r)),r}At(t){let r=this.Ye.get(t);return r||(r=new ei(Wr),this.Ye=this.Ye.insert(t,r)),r}Et(t){let r=this.Je.get(t);return r||(r=new ei(Wr),this.Je=this.Je.insert(t,r)),r}it(t){const r=this._t(t)!==null;return r||tr("WatchChangeAggregator","Detected inactive target",t),r}_t(t){const r=this.je.get(t);return r&&r.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new ZI),this.ze.getRemoteKeysForTarget(t).forEach(r=>{this.tt(t,r,null)})}dt(t,r){return this.ze.getRemoteKeysForTarget(t).has(r)}}function e2(){return new fa(hr.comparator)}function e8(){return new fa(hr.comparator)}const jie={asc:"ASCENDING",desc:"DESCENDING"},Oie={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Iie={and:"AND",or:"OR"};class Die{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function gT(e,t){return e.useProto3Json||a_(t)?t:{value:t}}function iw(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function RV(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Lie(e,t){return iw(e,t.toTimestamp())}function dc(e){return wn(!!e,49232),Ir.fromTimestamp(function(r){const n=rd(r);return new sr(n.seconds,n.nanos)}(e))}function uC(e,t){return vT(e,t).canonicalString()}function vT(e,t){const r=function(a){return new Jn(["projects",a.projectId,"databases",a.database])}(e).child("documents");return t===void 0?r:r.child(t)}function FV(e){const t=Jn.fromString(e);return wn(qV(t),10190,{key:t.toString()}),t}function yT(e,t){return uC(e.databaseId,t.path)}function CA(e,t){const r=FV(t);if(r.get(1)!==e.databaseId.projectId)throw new Jt(_t.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new Jt(_t.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new hr(BV(r))}function $V(e,t){return uC(e.databaseId,t)}function Mie(e){const t=FV(e);return t.length===4?Jn.emptyPath():BV(t)}function xT(e){return new Jn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function BV(e){return wn(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function t8(e,t,r){return{name:yT(e,t),fields:r.value.mapValue.fields}}function Rie(e,t){let r;if("targetChange"in t){t.targetChange;const n=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Tr(39313,{state:c})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(wn(u===void 0||typeof u=="string",58123),Oi.fromBase64String(u||"")):(wn(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),Oi.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(c){const u=c.code===void 0?_t.UNKNOWN:DV(c.code);return new Jt(u,c.message||"")}(s);r=new MV(n,a,i,o||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const a=CA(e,n.document.name),i=dc(n.document.updateTime),s=n.document.createTime?dc(n.document.createTime):Ir.min(),o=new Fs({mapValue:{fields:n.document.fields}}),l=Xi.newFoundDocument(a,i,s,o),c=n.targetIds||[],u=n.removedTargetIds||[];r=new rb(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const a=CA(e,n.document),i=n.readTime?dc(n.readTime):Ir.min(),s=Xi.newNoDocument(a,i),o=n.removedTargetIds||[];r=new rb([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const a=CA(e,n.document),i=n.removedTargetIds||[];r=new rb([],i,a,null)}else{if(!("filter"in t))return Tr(11601,{Vt:t});{t.filter;const n=t.filter;n.targetId;const{count:a=0,unchangedNames:i}=n,s=new Nie(a,i),o=n.targetId;r=new LV(o,s)}}return r}function Fie(e,t){let r;if(t instanceof jy)r={update:t8(e,t.key,t.value)};else if(t instanceof f_)r={delete:yT(e,t.key)};else if(t instanceof gd)r={update:t8(e,t.key,t.data),updateMask:Gie(t.fieldMask)};else{if(!(t instanceof Sie))return Tr(16599,{ft:t.type});r={verify:yT(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(n=>function(i,s){const o=s.transform;if(o instanceof g1)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof v1)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof y1)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof aw)return{fieldPath:s.field.canonicalString(),increment:o.Re};throw Tr(20930,{transform:s.transform})}(0,n))),t.precondition.isNone||(r.currentDocument=function(a,i){return i.updateTime!==void 0?{updateTime:Lie(a,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Tr(27497)}(e,t.precondition)),r}function $ie(e,t){return e&&e.length>0?(wn(t!==void 0,14353),e.map(r=>function(a,i){let s=a.updateTime?dc(a.updateTime):dc(i);return s.isEqual(Ir.min())&&(s=dc(i)),new bie(s,a.transformResults||[])}(r,t))):[]}function Bie(e,t){return{documents:[$V(e,t.path)]}}function UV(e,t){const r={structuredQuery:{}},n=t.path;let a;t.collectionGroup!==null?(a=n,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=$V(e,a);const i=function(c){if(c.length!==0)return zV($l.create(c,"and"))}(t.filters);i&&(r.structuredQuery.where=i);const s=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:xf(h.field),direction:qie(h.dir)}}(u))}(t.orderBy);s&&(r.structuredQuery.orderBy=s);const o=gT(e,t.limit);return o!==null&&(r.structuredQuery.limit=o),t.startAt&&(r.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{gt:r,parent:a}}function Uie(e,t,r,n){const{gt:a,parent:i}=UV(e,t),s={},o=[];let l=0;return r.forEach(c=>{const u="aggregate_"+l++;s[u]=c.alias,c.aggregateType==="count"?o.push({alias:u,count:{}}):c.aggregateType==="avg"?o.push({alias:u,avg:{field:xf(c.fieldPath)}}):c.aggregateType==="sum"&&o.push({alias:u,sum:{field:xf(c.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:o,structuredQuery:a.structuredQuery},parent:a.parent},yt:s,parent:i}}function Vie(e){let t=Mie(e.parent);const r=e.structuredQuery,n=r.from?r.from.length:0;let a=null;if(n>0){wn(n===1,65062);const u=r.from[0];u.allDescendants?a=u.collectionId:t=t.child(u.collectionId)}let i=[];r.where&&(i=function(d){const h=VV(d);return h instanceof $l&&gV(h)?h.getFilters():[h]}(r.where));let s=[];r.orderBy&&(s=function(d){return d.map(h=>function(g){return new m1(O0(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(r.orderBy));let o=null;r.limit&&(o=function(d){let h;return h=typeof d=="object"?d.value:d,a_(h)?null:h}(r.limit));let l=null;r.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new rw(p,h)}(r.startAt));let c=null;return r.endAt&&(c=function(d){const h=!d.before,p=d.values||[];return new rw(p,h)}(r.endAt)),sie(t,a,s,i,o,"F",l,c)}function zie(e,t){const r=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tr(28987,{purpose:a})}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function VV(e){return e.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=O0(r.unaryFilter.field);return Ba.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=O0(r.unaryFilter.field);return Ba.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=O0(r.unaryFilter.field);return Ba.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=O0(r.unaryFilter.field);return Ba.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tr(61313);default:return Tr(60726)}}(e):e.fieldFilter!==void 0?function(r){return Ba.create(O0(r.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tr(58110);default:return Tr(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(r){return $l.create(r.compositeFilter.filters.map(n=>VV(n)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Tr(1026)}}(r.compositeFilter.op))}(e):Tr(30097,{filter:e})}function qie(e){return jie[e]}function Wie(e){return Oie[e]}function Hie(e){return Iie[e]}function xf(e){return{fieldPath:e.canonicalString()}}function O0(e){return Ei.fromServerFormat(e.fieldPath)}function zV(e){return e instanceof Ba?function(r){if(r.op==="=="){if(VI(r.value))return{unaryFilter:{field:xf(r.field),op:"IS_NAN"}};if(UI(r.value))return{unaryFilter:{field:xf(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(VI(r.value))return{unaryFilter:{field:xf(r.field),op:"IS_NOT_NAN"}};if(UI(r.value))return{unaryFilter:{field:xf(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xf(r.field),op:Wie(r.op),value:r.value}}}(e):e instanceof $l?function(r){const n=r.getFilters().map(a=>zV(a));return n.length===1?n[0]:{compositeFilter:{op:Hie(r.op),filters:n}}}(e):Tr(54877,{filter:e})}function Gie(e){const t=[];return e.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function qV(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(t,r,n,a,i=Ir.min(),s=Ir.min(),o=Oi.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=r,this.purpose=n,this.sequenceNumber=a,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(t){return new Ef(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new Ef(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ef(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ef(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kie{constructor(t){this.wt=t}}function Yie(e){const t=Vie({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?nw(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xie{constructor(){this.yn=new Qie}addToCollectionParentIndex(t,r){return this.yn.add(r),Et.resolve()}getCollectionParents(t,r){return Et.resolve(this.yn.getEntries(r))}addFieldIndex(t,r){return Et.resolve()}deleteFieldIndex(t,r){return Et.resolve()}deleteAllFieldIndexes(t){return Et.resolve()}createTargetIndexes(t,r){return Et.resolve()}getDocumentsMatchingTarget(t,r){return Et.resolve(null)}getIndexType(t,r){return Et.resolve(0)}getFieldIndexes(t,r){return Et.resolve([])}getNextCollectionGroupToUpdate(t){return Et.resolve(null)}getMinOffset(t,r){return Et.resolve(td.min())}getMinOffsetFromCollectionGroup(t,r){return Et.resolve(td.min())}updateCollectionGroup(t,r,n){return Et.resolve()}updateIndexEntries(t,r){return Et.resolve()}}class Qie{constructor(){this.index={}}add(t){const r=t.lastSegment(),n=t.popLast(),a=this.index[r]||new ei(Jn.comparator),i=!a.has(n);return this.index[r]=a.add(n),i}has(t){const r=t.lastSegment(),n=t.popLast(),a=this.index[r];return a&&a.has(n)}getEntries(t){return(this.index[t]||new ei(Jn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r8={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},WV=41943040;class Ls{static withCacheSize(t){return new Ls(t,Ls.DEFAULT_COLLECTION_PERCENTILE,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ls.DEFAULT_COLLECTION_PERCENTILE=10,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ls.DEFAULT=new Ls(WV,Ls.DEFAULT_COLLECTION_PERCENTILE,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ls.DISABLED=new Ls(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(t){this.nr=t}next(){return this.nr+=2,this.nr}static rr(){return new Bp(0)}static ir(){return new Bp(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n8="LruGarbageCollector",Jie=1048576;function a8([e,t],[r,n]){const a=Wr(e,r);return a===0?Wr(t,n):a}class Zie{constructor(t){this.cr=t,this.buffer=new ei(a8),this.lr=0}hr(){return++this.lr}Pr(t){const r=[t,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();a8(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class ese{constructor(t,r,n){this.garbageCollector=t,this.asyncQueue=r,this.localStore=n,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(t){tr(n8,`Garbage collection scheduled in ${t}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Nm(r)?tr(n8,"Ignoring IndexedDB error during garbage collection: ",r):await Em(r)}await this.Ir(3e5)})}}class tse{constructor(t,r){this.Er=t,this.params=r}calculateTargetCount(t,r){return this.Er.dr(t).next(n=>Math.floor(r/100*n))}nthSequenceNumber(t,r){if(r===0)return Et.resolve(n_.le);const n=new Zie(r);return this.Er.forEachTarget(t,a=>n.Pr(a.sequenceNumber)).next(()=>this.Er.Ar(t,a=>n.Pr(a))).next(()=>n.maxValue)}removeTargets(t,r,n){return this.Er.removeTargets(t,r,n)}removeOrphanedDocuments(t,r){return this.Er.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(tr("LruGarbageCollector","Garbage collection skipped; disabled"),Et.resolve(r8)):this.getCacheSize(t).next(n=>n<this.params.cacheSizeCollectionThreshold?(tr("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),r8):this.Rr(t,r))}getCacheSize(t){return this.Er.getCacheSize(t)}Rr(t,r){let n,a,i,s,o,l,c;const u=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(tr("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),a=this.params.maximumSequenceNumbersToCollect):a=d,s=Date.now(),this.nthSequenceNumber(t,a))).next(d=>(n=d,o=Date.now(),this.removeTargets(t,n,r))).next(d=>(i=d,l=Date.now(),this.removeOrphanedDocuments(t,n))).next(d=>(c=Date.now(),P0()<=on.DEBUG&&tr("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${a} in `+(o-s)+`ms
	Removed ${i} targets in `+(l-o)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),Et.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:i,documentsRemoved:d})))}}function rse(e,t){return new tse(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nse{constructor(){this.changes=new Bh(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,Xi.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?Et.resolve(n):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ase{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ise{constructor(t,r,n,a){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=a}getDocument(t,r){let n=null;return this.documentOverlayCache.getOverlay(t,r).next(a=>(n=a,this.remoteDocumentCache.getEntry(t,r))).next(a=>(n!==null&&gv(n.mutation,a,uo.empty(),sr.now()),a))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.getLocalViewOfDocuments(t,n,en()).next(()=>n))}getLocalViewOfDocuments(t,r,n=en()){const a=eh();return this.populateOverlays(t,a,r).next(()=>this.computeViews(t,r,a,n).next(i=>{let s=Hg();return i.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,r){const n=eh();return this.populateOverlays(t,n,r).next(()=>this.computeViews(t,r,n,en()))}populateOverlays(t,r,n){const a=[];return n.forEach(i=>{r.has(i)||a.push(i)}),this.documentOverlayCache.getOverlays(t,a).next(i=>{i.forEach((s,o)=>{r.set(s,o)})})}computeViews(t,r,n,a){let i=vu();const s=mv(),o=function(){return mv()}();return r.forEach((l,c)=>{const u=n.get(c.key);a.has(c.key)&&(u===void 0||u.mutation instanceof gd)?i=i.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),gv(u.mutation,c,u.mutation.getFieldMask(),sr.now())):s.set(c.key,uo.empty())}),this.recalculateAndSaveOverlays(t,i).next(l=>(l.forEach((c,u)=>s.set(c,u)),r.forEach((c,u)=>{var d;return o.set(c,new ase(u,(d=s.get(c))!==null&&d!==void 0?d:null))}),o))}recalculateAndSaveOverlays(t,r){const n=mv();let a=new fa((s,o)=>s-o),i=en();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(s=>{for(const o of s)o.keys().forEach(l=>{const c=r.get(l);if(c===null)return;let u=n.get(l)||uo.empty();u=o.applyToLocalView(c,u),n.set(l,u);const d=(a.get(o.batchId)||en()).add(l);a=a.insert(o.batchId,d)})}).next(()=>{const s=[],o=a.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,d=EV();u.forEach(h=>{if(!i.has(h)){const p=OV(r.get(h),n.get(h));p!==null&&d.set(h,p),i=i.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(t,c,d))}return Et.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,r,n,a){return function(s){return hr.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):bV(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,n,a):this.getDocumentsMatchingCollectionQuery(t,r,n,a)}getNextDocuments(t,r,n,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,n,a).next(i=>{const s=a-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,n.largestBatchId,a-i.size):Et.resolve(eh());let o=f1,l=i;return s.next(c=>Et.forEach(c,(u,d)=>(o<d.largestBatchId&&(o=d.largestBatchId),i.get(u)?Et.resolve():this.remoteDocumentCache.getEntry(t,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(t,c,i)).next(()=>this.computeViews(t,l,c,en())).next(u=>({batchId:o,changes:TV(u)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new hr(r)).next(n=>{let a=Hg();return n.isFoundDocument()&&(a=a.insert(n.key,n)),a})}getDocumentsMatchingCollectionGroupQuery(t,r,n,a){const i=r.collectionGroup;let s=Hg();return this.indexManager.getCollectionParents(t,i).next(o=>Et.forEach(o,l=>{const c=function(d,h){return new km(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(r,l.child(i));return this.getDocumentsMatchingCollectionQuery(t,c,n,a).next(u=>{u.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,r,n,a){let i;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,n,i,a))).next(s=>{i.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,Xi.newInvalidDocument(u)))});let o=Hg();return s.forEach((l,c)=>{const u=i.get(l);u!==void 0&&gv(u.mutation,c,uo.empty(),sr.now()),l_(r,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sse{constructor(t){this.serializer=t,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(t,r){return Et.resolve(this.Fr.get(r))}saveBundleMetadata(t,r){return this.Fr.set(r.id,function(a){return{id:a.id,version:a.version,createTime:dc(a.createTime)}}(r)),Et.resolve()}getNamedQuery(t,r){return Et.resolve(this.Mr.get(r))}saveNamedQuery(t,r){return this.Mr.set(r.name,function(a){return{name:a.name,query:Yie(a.bundledQuery),readTime:dc(a.readTime)}}(r)),Et.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ose{constructor(){this.overlays=new fa(hr.comparator),this.Or=new Map}getOverlay(t,r){return Et.resolve(this.overlays.get(r))}getOverlays(t,r){const n=eh();return Et.forEach(r,a=>this.getOverlay(t,a).next(i=>{i!==null&&n.set(a,i)})).next(()=>n)}saveOverlays(t,r,n){return n.forEach((a,i)=>{this.St(t,r,i)}),Et.resolve()}removeOverlaysForBatchId(t,r,n){const a=this.Or.get(n);return a!==void 0&&(a.forEach(i=>this.overlays=this.overlays.remove(i)),this.Or.delete(n)),Et.resolve()}getOverlaysForCollection(t,r,n){const a=eh(),i=r.length+1,s=new hr(r.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>n&&a.set(l.getKey(),l)}return Et.resolve(a)}getOverlaysForCollectionGroup(t,r,n,a){let i=new fa((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===r&&c.largestBatchId>n){let u=i.get(c.largestBatchId);u===null&&(u=eh(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=eh(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>o.set(c,u)),!(o.size()>=a)););return Et.resolve(o)}St(t,r,n){const a=this.overlays.get(n.key);if(a!==null){const s=this.Or.get(a.largestBatchId).delete(n.key);this.Or.set(a.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new Tie(r,n));let i=this.Or.get(r);i===void 0&&(i=en(),this.Or.set(r,i)),this.Or.set(r,i.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lse{constructor(){this.sessionToken=Oi.EMPTY_BYTE_STRING}getSessionToken(t){return Et.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,Et.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(){this.Nr=new ei(ii.Br),this.Lr=new ei(ii.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(t,r){const n=new ii(t,r);this.Nr=this.Nr.add(n),this.Lr=this.Lr.add(n)}qr(t,r){t.forEach(n=>this.addReference(n,r))}removeReference(t,r){this.Qr(new ii(t,r))}$r(t,r){t.forEach(n=>this.removeReference(n,r))}Ur(t){const r=new hr(new Jn([])),n=new ii(r,t),a=new ii(r,t+1),i=[];return this.Lr.forEachInRange([n,a],s=>{this.Qr(s),i.push(s.key)}),i}Kr(){this.Nr.forEach(t=>this.Qr(t))}Qr(t){this.Nr=this.Nr.delete(t),this.Lr=this.Lr.delete(t)}Wr(t){const r=new hr(new Jn([])),n=new ii(r,t),a=new ii(r,t+1);let i=en();return this.Lr.forEachInRange([n,a],s=>{i=i.add(s.key)}),i}containsKey(t){const r=new ii(t,0),n=this.Nr.firstAfterOrEqual(r);return n!==null&&t.isEqual(n.key)}}class ii{constructor(t,r){this.key=t,this.Gr=r}static Br(t,r){return hr.comparator(t.key,r.key)||Wr(t.Gr,r.Gr)}static kr(t,r){return Wr(t.Gr,r.Gr)||hr.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cse{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.Jn=1,this.zr=new ei(ii.Br)}checkEmpty(t){return Et.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,n,a){const i=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Aie(i,r,n,a);this.mutationQueue.push(s);for(const o of a)this.zr=this.zr.add(new ii(o.key,i)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return Et.resolve(s)}lookupMutationBatch(t,r){return Et.resolve(this.jr(r))}getNextMutationBatchAfterBatchId(t,r){const n=r+1,a=this.Hr(n),i=a<0?0:a;return Et.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Et.resolve(this.mutationQueue.length===0?rC:this.Jn-1)}getAllMutationBatches(t){return Et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const n=new ii(r,0),a=new ii(r,Number.POSITIVE_INFINITY),i=[];return this.zr.forEachInRange([n,a],s=>{const o=this.jr(s.Gr);i.push(o)}),Et.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,r){let n=new ei(Wr);return r.forEach(a=>{const i=new ii(a,0),s=new ii(a,Number.POSITIVE_INFINITY);this.zr.forEachInRange([i,s],o=>{n=n.add(o.Gr)})}),Et.resolve(this.Jr(n))}getAllMutationBatchesAffectingQuery(t,r){const n=r.path,a=n.length+1;let i=n;hr.isDocumentKey(i)||(i=i.child(""));const s=new ii(new hr(i),0);let o=new ei(Wr);return this.zr.forEachWhile(l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===a&&(o=o.add(l.Gr)),!0)},s),Et.resolve(this.Jr(o))}Jr(t){const r=[];return t.forEach(n=>{const a=this.jr(n);a!==null&&r.push(a)}),r}removeMutationBatch(t,r){wn(this.Yr(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.zr;return Et.forEach(r.mutations,a=>{const i=new ii(a.key,r.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.zr=n})}Xn(t){}containsKey(t,r){const n=new ii(r,0),a=this.zr.firstAfterOrEqual(n);return Et.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,Et.resolve()}Yr(t,r){return this.Hr(t)}Hr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}jr(t){const r=this.Hr(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class use{constructor(t){this.Zr=t,this.docs=function(){return new fa(hr.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const n=r.key,a=this.docs.get(n),i=a?a.size:0,s=this.Zr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const n=this.docs.get(r);return Et.resolve(n?n.document.mutableCopy():Xi.newInvalidDocument(r))}getEntries(t,r){let n=vu();return r.forEach(a=>{const i=this.docs.get(a);n=n.insert(a,i?i.document.mutableCopy():Xi.newInvalidDocument(a))}),Et.resolve(n)}getDocumentsMatchingQuery(t,r,n,a){let i=vu();const s=r.path,o=new hr(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||Fae(Rae(u),n)<=0||(a.has(u.key)||l_(r,u))&&(i=i.insert(u.key,u.mutableCopy()))}return Et.resolve(i)}getAllFromCollectionGroup(t,r,n,a){Tr(9500)}Xr(t,r){return Et.forEach(this.docs,n=>r(n))}newChangeBuffer(t){return new fse(this)}getSize(t){return Et.resolve(this.size)}}class fse extends nse{constructor(t){super(),this.vr=t}applyChanges(t){const r=[];return this.changes.forEach((n,a)=>{a.isValidDocument()?r.push(this.vr.addEntry(t,a)):this.vr.removeEntry(n)}),Et.waitFor(r)}getFromCache(t,r){return this.vr.getEntry(t,r)}getAllFromCache(t,r){return this.vr.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dse{constructor(t){this.persistence=t,this.ei=new Bh(r=>iC(r),sC),this.lastRemoteSnapshotVersion=Ir.min(),this.highestTargetId=0,this.ti=0,this.ni=new fC,this.targetCount=0,this.ri=Bp.rr()}forEachTarget(t,r){return this.ei.forEach((n,a)=>r(a)),Et.resolve()}getLastRemoteSnapshotVersion(t){return Et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Et.resolve(this.ti)}allocateTargetId(t){return this.highestTargetId=this.ri.next(),Et.resolve(this.highestTargetId)}setTargetsMetadata(t,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.ti&&(this.ti=r),Et.resolve()}ar(t){this.ei.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.ri=new Bp(r),this.highestTargetId=r),t.sequenceNumber>this.ti&&(this.ti=t.sequenceNumber)}addTargetData(t,r){return this.ar(r),this.targetCount+=1,Et.resolve()}updateTargetData(t,r){return this.ar(r),Et.resolve()}removeTargetData(t,r){return this.ei.delete(r.target),this.ni.Ur(r.targetId),this.targetCount-=1,Et.resolve()}removeTargets(t,r,n){let a=0;const i=[];return this.ei.forEach((s,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.ei.delete(s),i.push(this.removeMatchingKeysForTargetId(t,o.targetId)),a++)}),Et.waitFor(i).next(()=>a)}getTargetCount(t){return Et.resolve(this.targetCount)}getTargetData(t,r){const n=this.ei.get(r)||null;return Et.resolve(n)}addMatchingKeys(t,r,n){return this.ni.qr(r,n),Et.resolve()}removeMatchingKeys(t,r,n){this.ni.$r(r,n);const a=this.persistence.referenceDelegate,i=[];return a&&r.forEach(s=>{i.push(a.markPotentiallyOrphaned(t,s))}),Et.waitFor(i)}removeMatchingKeysForTargetId(t,r){return this.ni.Ur(r),Et.resolve()}getMatchingKeysForTargetId(t,r){const n=this.ni.Wr(r);return Et.resolve(n)}containsKey(t,r){return Et.resolve(this.ni.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(t,r){this.ii={},this.overlays={},this.si=new n_(0),this.oi=!1,this.oi=!0,this._i=new lse,this.referenceDelegate=t(this),this.ai=new dse(this),this.indexManager=new Xie,this.remoteDocumentCache=function(a){return new use(a)}(n=>this.referenceDelegate.ui(n)),this.serializer=new Kie(r),this.ci=new sse(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new ose,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let n=this.ii[t.toKey()];return n||(n=new cse(r,this.referenceDelegate),this.ii[t.toKey()]=n),n}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(t,r,n){tr("MemoryPersistence","Starting transaction:",t);const a=new hse(this.si.next());return this.referenceDelegate.li(),n(a).next(i=>this.referenceDelegate.hi(a).next(()=>i)).toPromise().then(i=>(a.raiseOnCommittedEvent(),i))}Pi(t,r){return Et.or(Object.values(this.ii).map(n=>()=>n.containsKey(t,r)))}}class hse extends Bae{constructor(t){super(),this.currentSequenceNumber=t}}class dC{constructor(t){this.persistence=t,this.Ti=new fC,this.Ii=null}static Ei(t){return new dC(t)}get di(){if(this.Ii)return this.Ii;throw Tr(60996)}addReference(t,r,n){return this.Ti.addReference(n,r),this.di.delete(n.toString()),Et.resolve()}removeReference(t,r,n){return this.Ti.removeReference(n,r),this.di.add(n.toString()),Et.resolve()}markPotentiallyOrphaned(t,r){return this.di.add(r.toString()),Et.resolve()}removeTarget(t,r){this.Ti.Ur(r.targetId).forEach(a=>this.di.add(a.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,r.targetId).next(a=>{a.forEach(i=>this.di.add(i.toString()))}).next(()=>n.removeTargetData(t,r))}li(){this.Ii=new Set}hi(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Et.forEach(this.di,n=>{const a=hr.fromPath(n);return this.Ai(t,a).next(i=>{i||r.removeEntry(a,Ir.min())})}).next(()=>(this.Ii=null,r.apply(t)))}updateLimboDocument(t,r){return this.Ai(t,r).next(n=>{n?this.di.delete(r.toString()):this.di.add(r.toString())})}ui(t){return 0}Ai(t,r){return Et.or([()=>Et.resolve(this.Ti.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Pi(t,r)])}}class sw{constructor(t,r){this.persistence=t,this.Ri=new Bh(n=>zae(n.path),(n,a)=>n.isEqual(a)),this.garbageCollector=rse(this,r)}static Ei(t,r){return new sw(t,r)}li(){}hi(t){return Et.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}dr(t){const r=this.Vr(t);return this.persistence.getTargetCache().getTargetCount(t).next(n=>r.next(a=>n+a))}Vr(t){let r=0;return this.Ar(t,n=>{r++}).next(()=>r)}Ar(t,r){return Et.forEach(this.Ri,(n,a)=>this.gr(t,n,a).next(i=>i?Et.resolve():r(a)))}removeTargets(t,r,n){return this.persistence.getTargetCache().removeTargets(t,r,n)}removeOrphanedDocuments(t,r){let n=0;const a=this.persistence.getRemoteDocumentCache(),i=a.newChangeBuffer();return a.Xr(t,s=>this.gr(t,s,r).next(o=>{o||(n++,i.removeEntry(s,Ir.min()))})).next(()=>i.apply(t)).next(()=>n)}markPotentiallyOrphaned(t,r){return this.Ri.set(r,t.currentSequenceNumber),Et.resolve()}removeTarget(t,r){const n=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,r,n){return this.Ri.set(n,t.currentSequenceNumber),Et.resolve()}removeReference(t,r,n){return this.Ri.set(n,t.currentSequenceNumber),Et.resolve()}updateLimboDocument(t,r){return this.Ri.set(r,t.currentSequenceNumber),Et.resolve()}ui(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=Z2(t.data.value)),r}gr(t,r,n){return Et.or([()=>this.persistence.Pi(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const a=this.Ri.get(r);return Et.resolve(a!==void 0&&a>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(t,r,n,a){this.targetId=t,this.fromCache=r,this.ls=n,this.hs=a}static Ps(t,r){let n=en(),a=en();for(const i of r.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:a=a.add(i.doc.key)}return new hC(t,r.fromCache,n,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pse{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mse{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return one()?8:Uae(ine())>0?6:4}()}initialize(t,r){this.As=t,this.indexManager=r,this.Ts=!0}getDocumentsMatchingQuery(t,r,n,a){const i={result:null};return this.Rs(t,r).next(s=>{i.result=s}).next(()=>{if(!i.result)return this.Vs(t,r,a,n).next(s=>{i.result=s})}).next(()=>{if(i.result)return;const s=new pse;return this.fs(t,r,s).next(o=>{if(i.result=o,this.Is)return this.gs(t,r,s,o.size)})}).next(()=>i.result)}gs(t,r,n,a){return n.documentReadCount<this.Es?(P0()<=on.DEBUG&&tr("QueryEngine","SDK will not create cache indexes for query:",j0(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),Et.resolve()):(P0()<=on.DEBUG&&tr("QueryEngine","Query:",j0(r),"scans",n.documentReadCount,"local documents and returns",a,"documents as results."),n.documentReadCount>this.ds*a?(P0()<=on.DEBUG&&tr("QueryEngine","The SDK decides to create cache indexes for query:",j0(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,fc(r))):Et.resolve())}Rs(t,r){if(HI(r))return Et.resolve(null);let n=fc(r);return this.indexManager.getIndexType(t,n).next(a=>a===0?null:(r.limit!==null&&a===1&&(r=nw(r,null,"F"),n=fc(r)),this.indexManager.getDocumentsMatchingTarget(t,n).next(i=>{const s=en(...i);return this.As.getDocuments(t,s).next(o=>this.indexManager.getMinOffset(t,n).next(l=>{const c=this.ps(r,o);return this.ys(r,c,s,l.readTime)?this.Rs(t,nw(r,null,"F")):this.ws(t,c,r,l)}))})))}Vs(t,r,n,a){return HI(r)||a.isEqual(Ir.min())?Et.resolve(null):this.As.getDocuments(t,n).next(i=>{const s=this.ps(r,i);return this.ys(r,s,n,a)?Et.resolve(null):(P0()<=on.DEBUG&&tr("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),j0(r)),this.ws(t,s,r,Mae(a,f1)).next(o=>o))})}ps(t,r){let n=new ei(SV(t));return r.forEach((a,i)=>{l_(t,i)&&(n=n.add(i))}),n}ys(t,r,n,a){if(t.limit===null)return!1;if(n.size!==r.size)return!0;const i=t.limitType==="F"?r.last():r.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(a)>0)}fs(t,r,n){return P0()<=on.DEBUG&&tr("QueryEngine","Using full collection scan to execute query:",j0(r)),this.As.getDocumentsMatchingQuery(t,r,td.min(),n)}ws(t,r,n,a){return this.As.getDocumentsMatchingQuery(t,n,a).next(i=>(r.forEach(s=>{i=i.insert(s.key,s)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC="LocalStore",gse=3e8;class vse{constructor(t,r,n,a){this.persistence=t,this.bs=r,this.serializer=a,this.Ss=new fa(Wr),this.Ds=new Bh(i=>iC(i),sC),this.vs=new Map,this.Cs=t.getRemoteDocumentCache(),this.ai=t.getTargetCache(),this.ci=t.getBundleCache(),this.Fs(n)}Fs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new ise(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.Ss))}}function yse(e,t,r,n){return new vse(e,t,r,n)}async function GV(e,t){const r=Or(e);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let a;return r.mutationQueue.getAllMutationBatches(n).next(i=>(a=i,r.Fs(t),r.mutationQueue.getAllMutationBatches(n))).next(i=>{const s=[],o=[];let l=en();for(const c of a){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return r.localDocuments.getDocuments(n,l).next(c=>({Ms:c,removedBatchIds:s,addedBatchIds:o}))})})}function xse(e,t){const r=Or(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const a=t.batch.keys(),i=r.Cs.newChangeBuffer({trackRemovals:!0});return function(o,l,c,u){const d=c.batch,h=d.keys();let p=Et.resolve();return h.forEach(g=>{p=p.next(()=>u.getEntry(l,g)).next(m=>{const v=c.docVersions.get(g);wn(v!==null,48541),m.version.compareTo(v)<0&&(d.applyToRemoteDocument(m,c),m.isValidDocument()&&(m.setReadTime(c.commitVersion),u.addEntry(m)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(l,d))}(r,n,t,i).next(()=>i.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,a,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let l=en();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(t))).next(()=>r.localDocuments.getDocuments(n,a))})}function KV(e){const t=Or(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.ai.getLastRemoteSnapshotVersion(r))}function bse(e,t){const r=Or(e),n=t.snapshotVersion;let a=r.Ss;return r.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const s=r.Cs.newChangeBuffer({trackRemovals:!0});a=r.Ss;const o=[];t.targetChanges.forEach((u,d)=>{const h=a.get(d);if(!h)return;o.push(r.ai.removeMatchingKeys(i,u.removedDocuments,d).next(()=>r.ai.addMatchingKeys(i,u.addedDocuments,d)));let p=h.withSequenceNumber(i.currentSequenceNumber);t.targetMismatches.get(d)!==null?p=p.withResumeToken(Oi.EMPTY_BYTE_STRING,Ir.min()).withLastLimboFreeSnapshotVersion(Ir.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,n)),a=a.insert(d,p),function(m,v,y){return m.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=gse?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,p,u)&&o.push(r.ai.updateTargetData(i,p))});let l=vu(),c=en();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(i,u))}),o.push(wse(i,s,t.documentUpdates).next(u=>{l=u.xs,c=u.Os})),!n.isEqual(Ir.min())){const u=r.ai.getLastRemoteSnapshotVersion(i).next(d=>r.ai.setTargetsMetadata(i,i.currentSequenceNumber,n));o.push(u)}return Et.waitFor(o).next(()=>s.apply(i)).next(()=>r.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(r.Ss=a,i))}function wse(e,t,r){let n=en(),a=en();return r.forEach(i=>n=n.add(i)),t.getEntries(e,n).next(i=>{let s=vu();return r.forEach((o,l)=>{const c=i.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(a=a.add(o)),l.isNoDocument()&&l.version.isEqual(Ir.min())?(t.removeEntry(o,l.readTime),s=s.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l),s=s.insert(o,l)):tr(pC,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{xs:s,Os:a}})}function _se(e,t){const r=Or(e);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(t===void 0&&(t=rC),r.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}function Sse(e,t){const r=Or(e);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let a;return r.ai.getTargetData(n,t).next(i=>i?(a=i,Et.resolve(a)):r.ai.allocateTargetId(n).next(s=>(a=new Ef(t,s,"TargetPurposeListen",n.currentSequenceNumber),r.ai.addTargetData(n,a).next(()=>a))))}).then(n=>{const a=r.Ss.get(n.targetId);return(a===null||n.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(r.Ss=r.Ss.insert(n.targetId,n),r.Ds.set(t,n.targetId)),n})}async function bT(e,t,r){const n=Or(e),a=n.Ss.get(t),i=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",i,s=>n.persistence.referenceDelegate.removeTarget(s,a))}catch(s){if(!Nm(s))throw s;tr(pC,`Failed to update sequence numbers for target ${t}: ${s}`)}n.Ss=n.Ss.remove(t),n.Ds.delete(a.target)}function i8(e,t,r){const n=Or(e);let a=Ir.min(),i=en();return n.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const d=Or(l),h=d.Ds.get(u);return h!==void 0?Et.resolve(d.Ss.get(h)):d.ai.getTargetData(c,u)}(n,s,fc(t)).next(o=>{if(o)return a=o.lastLimboFreeSnapshotVersion,n.ai.getMatchingKeysForTargetId(s,o.targetId).next(l=>{i=l})}).next(()=>n.bs.getDocumentsMatchingQuery(s,t,r?a:Ir.min(),r?i:en())).next(o=>(Ase(n,lie(t),o),{documents:o,Ns:i})))}function Ase(e,t,r){let n=e.vs.get(t)||Ir.min();r.forEach((a,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)}),e.vs.set(t,n)}class s8{constructor(){this.activeTargetIds=pie()}$s(t){this.activeTargetIds=this.activeTargetIds.add(t)}Us(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Qs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Tse{constructor(){this.So=new s8,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,n){}addLocalQueryTarget(t,r=!0){return r&&this.So.$s(t),this.Do[t]||"not-current"}updateQueryState(t,r,n){this.Do[t]=r}removeLocalQueryTarget(t){this.So.Us(t)}isLocalQueryTarget(t){return this.So.activeTargetIds.has(t)}clearQueryState(t){delete this.Do[t]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(t){return this.So.activeTargetIds.has(t)}start(){return this.So=new s8,Promise.resolve()}handleUserChange(t,r,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ese{vo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o8="ConnectivityMonitor";class l8{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(t){this.Oo.push(t)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){tr(o8,"Network connectivity changed: AVAILABLE");for(const t of this.Oo)t(0)}xo(){tr(o8,"Network connectivity changed: UNAVAILABLE");for(const t of this.Oo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let t2=null;function wT(){return t2===null?t2=function(){return 268435456+Math.round(2147483648*Math.random())}():t2++,"0x"+t2.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA="RestConnection",Nse={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kse{get Bo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Lo=r+"://"+t.host,this.ko=`projects/${n}/databases/${a}`,this.qo=this.databaseId.database===ew?`project_id=${n}`:`project_id=${n}&database_id=${a}`}Qo(t,r,n,a,i){const s=wT(),o=this.$o(t,r.toUriEncodedString());tr(PA,`Sending RPC '${t}' ${s}:`,o,n);const l={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(l,a,i);const{host:c}=new URL(o),u=Zk(c);return this.Ko(t,o,l,n,u).then(d=>(tr(PA,`Received RPC '${t}' ${s}: `,d),d),d=>{throw Mp(PA,`RPC '${t}' ${s} failed with error: `,d,"url: ",o,"request:",n),d})}Wo(t,r,n,a,i,s){return this.Qo(t,r,n,a,i)}Uo(t,r,n){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Tm}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,i)=>t[i]=a),n&&n.headers.forEach((a,i)=>t[i]=a)}$o(t,r){const n=Nse[t];return`${this.Lo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cse{constructor(t){this.Go=t.Go,this.zo=t.zo}jo(t){this.Ho=t}Jo(t){this.Yo=t}Zo(t){this.Xo=t}onMessage(t){this.e_=t}close(){this.zo()}send(t){this.Go(t)}t_(){this.Ho()}n_(){this.Yo()}r_(t){this.Xo(t)}i_(t){this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i="WebChannelConnection";class Pse extends kse{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ko(t,r,n,a,i){const s=wT();return new Promise((o,l)=>{const c=new KU;c.setWithCredentials(!0),c.listenOnce(YU.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case J2.NO_ERROR:const d=c.getResponseJson();tr($i,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(d)),o(d);break;case J2.TIMEOUT:tr($i,`RPC '${t}' ${s} timed out`),l(new Jt(_t.DEADLINE_EXCEEDED,"Request time out"));break;case J2.HTTP_ERROR:const h=c.getStatus();if(tr($i,`RPC '${t}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const m=function(y){const b=y.toLowerCase().replace(/_/g,"-");return Object.values(_t).indexOf(b)>=0?b:_t.UNKNOWN}(g.status);l(new Jt(m,g.message))}else l(new Jt(_t.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Jt(_t.UNAVAILABLE,"Connection failed."));break;default:Tr(9055,{s_:t,streamId:s,o_:c.getLastErrorCode(),__:c.getLastError()})}}finally{tr($i,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(a);tr($i,`RPC '${t}' ${s} sending request:`,a),c.send(r,"POST",u,n,15)})}a_(t,r,n){const a=wT(),i=[this.Lo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=JU(),o=QU(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Uo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const u=i.join("");tr($i,`Creating RPC '${t}' stream ${a}: ${u}`,l);const d=s.createWebChannel(u,l);let h=!1,p=!1;const g=new Cse({Go:v=>{p?tr($i,`Not sending because RPC '${t}' stream ${a} is closed:`,v):(h||(tr($i,`Opening RPC '${t}' stream ${a} transport.`),d.open(),h=!0),tr($i,`RPC '${t}' stream ${a} sending:`,v),d.send(v))},zo:()=>d.close()}),m=(v,y,b)=>{v.listen(y,x=>{try{b(x)}catch(O){setTimeout(()=>{throw O},0)}})};return m(d,Wg.EventType.OPEN,()=>{p||(tr($i,`RPC '${t}' stream ${a} transport opened.`),g.t_())}),m(d,Wg.EventType.CLOSE,()=>{p||(p=!0,tr($i,`RPC '${t}' stream ${a} transport closed`),g.r_())}),m(d,Wg.EventType.ERROR,v=>{p||(p=!0,Mp($i,`RPC '${t}' stream ${a} transport errored. Name:`,v.name,"Message:",v.message),g.r_(new Jt(_t.UNAVAILABLE,"The operation could not be completed")))}),m(d,Wg.EventType.MESSAGE,v=>{var y;if(!p){const b=v.data[0];wn(!!b,16349);const x=b,O=(x==null?void 0:x.error)||((y=x[0])===null||y===void 0?void 0:y.error);if(O){tr($i,`RPC '${t}' stream ${a} received error:`,O);const P=O.status;let j=function(_){const D=Ia[_];if(D!==void 0)return DV(D)}(P),T=O.message;j===void 0&&(j=_t.INTERNAL,T="Unknown error status: "+P+" with message "+O.message),p=!0,g.r_(new Jt(j,T)),d.close()}else tr($i,`RPC '${t}' stream ${a} received:`,b),g.i_(b)}}),m(o,XU.STAT_EVENT,v=>{v.stat===cT.PROXY?tr($i,`RPC '${t}' stream ${a} detected buffering proxy`):v.stat===cT.NOPROXY&&tr($i,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{g.n_()},0),g}}function jA(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(e){return new Die(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(t,r,n=1e3,a=1.5,i=6e4){this.bi=t,this.timerId=r,this.u_=n,this.c_=a,this.l_=i,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const r=Math.floor(this.h_+this.d_()),n=Math.max(0,Date.now()-this.T_),a=Math.max(0,r-n);a>0&&tr("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.h_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,a,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c8="PersistentStream";class XV{constructor(t,r,n,a,i,s,o,l){this.bi=t,this.R_=n,this.V_=a,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new YV(t,r)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(t){this.M_(),this.stream.send(t)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(t,r){this.M_(),this.x_(),this.y_.cancel(),this.m_++,t!==4?this.y_.reset():r&&r.code===_t.RESOURCE_EXHAUSTED?(gu(r.toString()),gu("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):r&&r.code===_t.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zo(r)}O_(){}auth(){this.state=1;const t=this.N_(this.m_),r=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,a])=>{this.m_===r&&this.B_(n,a)},n=>{t(()=>{const a=new Jt(_t.UNKNOWN,"Fetching auth token failed: "+n.message);return this.L_(a)})})}B_(t,r){const n=this.N_(this.m_);this.stream=this.k_(t,r),this.stream.jo(()=>{n(()=>this.listener.jo())}),this.stream.Jo(()=>{n(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(a=>{n(()=>this.L_(a))}),this.stream.onMessage(a=>{n(()=>++this.p_==1?this.q_(a):this.onNext(a))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(t){return tr(c8,`close with error: ${t}`),this.stream=null,this.close(4,t)}N_(t){return r=>{this.bi.enqueueAndForget(()=>this.m_===t?r():(tr(c8,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jse extends XV{constructor(t,r,n,a,i,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,a,s),this.serializer=i}k_(t,r){return this.connection.a_("Listen",t,r)}q_(t){return this.onNext(t)}onNext(t){this.y_.reset();const r=Rie(this.serializer,t),n=function(i){if(!("targetChange"in i))return Ir.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?Ir.min():s.readTime?dc(s.readTime):Ir.min()}(t);return this.listener.Q_(r,n)}U_(t){const r={};r.database=xT(this.serializer),r.addTarget=function(i,s){let o;const l=s.target;if(o=pT(l)?{documents:Bie(i,l)}:{query:UV(i,l).gt},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=RV(i,s.resumeToken);const c=gT(i,s.expectedCount);c!==null&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(Ir.min())>0){o.readTime=iw(i,s.snapshotVersion.toTimestamp());const c=gT(i,s.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,t);const n=zie(this.serializer,t);n&&(r.labels=n),this.F_(r)}K_(t){const r={};r.database=xT(this.serializer),r.removeTarget=t,this.F_(r)}}class Ose extends XV{constructor(t,r,n,a,i,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,a,s),this.serializer=i}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(t,r){return this.connection.a_("Write",t,r)}q_(t){return wn(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,wn(!t.writeResults||t.writeResults.length===0,55816),this.listener.z_()}onNext(t){wn(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.y_.reset();const r=$ie(t.writeResults,t.commitTime),n=dc(t.commitTime);return this.listener.j_(n,r)}H_(){const t={};t.database=xT(this.serializer),this.F_(t)}G_(t){const r={streamToken:this.lastStreamToken,writes:t.map(n=>Fie(this.serializer,n))};this.F_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ise{}class Dse extends Ise{constructor(t,r,n,a){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=n,this.serializer=a,this.J_=!1}Y_(){if(this.J_)throw new Jt(_t.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(t,r,n,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Qo(t,vT(r,n),a,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===_t.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Jt(_t.UNKNOWN,i.toString())})}Wo(t,r,n,a,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Wo(t,vT(r,n),a,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===_t.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Jt(_t.UNKNOWN,s.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class Lse{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(t){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.na("Offline")))}set(t){this.sa(),this.Z_=0,t==="Online"&&(this.ea=!1),this.na(t)}na(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(gu(r),this.ea=!1):tr("OnlineStateTracker",r)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh="RemoteStore";class Mse{constructor(t,r,n,a,i){this.localStore=t,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=i,this.ca.vo(s=>{n.enqueueAndForget(async()=>{Uh(this)&&(tr(Eh,"Restarting streams for network reachability change."),await async function(l){const c=Or(l);c.aa.add(4),await Iy(c),c.la.set("Unknown"),c.aa.delete(4),await p_(c)}(this))})}),this.la=new Lse(n,a)}}async function p_(e){if(Uh(e))for(const t of e.ua)await t(!0)}async function Iy(e){for(const t of e.ua)await t(!1)}function QV(e,t){const r=Or(e);r._a.has(t.targetId)||(r._a.set(t.targetId,t),yC(r)?vC(r):Cm(r).b_()&&gC(r,t))}function mC(e,t){const r=Or(e),n=Cm(r);r._a.delete(t),n.b_()&&JV(r,t),r._a.size===0&&(n.b_()?n.v_():Uh(r)&&r.la.set("Unknown"))}function gC(e,t){if(e.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ir.min())>0){const r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}Cm(e).U_(t)}function JV(e,t){e.ha.Ke(t),Cm(e).K_(t)}function vC(e){e.ha=new Pie({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e._a.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),Cm(e).start(),e.la.ta()}function yC(e){return Uh(e)&&!Cm(e).w_()&&e._a.size>0}function Uh(e){return Or(e).aa.size===0}function ZV(e){e.ha=void 0}async function Rse(e){e.la.set("Online")}async function Fse(e){e._a.forEach((t,r)=>{gC(e,t)})}async function $se(e,t){ZV(e),yC(e)?(e.la.ia(t),vC(e)):e.la.set("Unknown")}async function Bse(e,t,r){if(e.la.set("Online"),t instanceof MV&&t.state===2&&t.cause)try{await async function(a,i){const s=i.cause;for(const o of i.targetIds)a._a.has(o)&&(await a.remoteSyncer.rejectListen(o,s),a._a.delete(o),a.ha.removeTarget(o))}(e,t)}catch(n){tr(Eh,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await ow(e,n)}else if(t instanceof rb?e.ha.Xe(t):t instanceof LV?e.ha.ot(t):e.ha.nt(t),!r.isEqual(Ir.min()))try{const n=await KV(e.localStore);r.compareTo(n)>=0&&await function(i,s){const o=i.ha.It(s);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i._a.get(c);u&&i._a.set(c,u.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,c)=>{const u=i._a.get(l);if(!u)return;i._a.set(l,u.withResumeToken(Oi.EMPTY_BYTE_STRING,u.snapshotVersion)),JV(i,l);const d=new Ef(u.target,l,c,u.sequenceNumber);gC(i,d)}),i.remoteSyncer.applyRemoteEvent(o)}(e,r)}catch(n){tr(Eh,"Failed to raise snapshot:",n),await ow(e,n)}}async function ow(e,t,r){if(!Nm(t))throw t;e.aa.add(1),await Iy(e),e.la.set("Offline"),r||(r=()=>KV(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{tr(Eh,"Retrying IndexedDB access"),await r(),e.aa.delete(1),await p_(e)})}function ez(e,t){return t().catch(r=>ow(e,r,t))}async function m_(e){const t=Or(e),r=id(t);let n=t.oa.length>0?t.oa[t.oa.length-1].batchId:rC;for(;Use(t);)try{const a=await _se(t.localStore,n);if(a===null){t.oa.length===0&&r.v_();break}n=a.batchId,Vse(t,a)}catch(a){await ow(t,a)}tz(t)&&rz(t)}function Use(e){return Uh(e)&&e.oa.length<10}function Vse(e,t){e.oa.push(t);const r=id(e);r.b_()&&r.W_&&r.G_(t.mutations)}function tz(e){return Uh(e)&&!id(e).w_()&&e.oa.length>0}function rz(e){id(e).start()}async function zse(e){id(e).H_()}async function qse(e){const t=id(e);for(const r of e.oa)t.G_(r.mutations)}async function Wse(e,t,r){const n=e.oa.shift(),a=lC.from(n,t,r);await ez(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await m_(e)}async function Hse(e,t){t&&id(e).W_&&await async function(n,a){if(function(s){return kie(s)&&s!==_t.ABORTED}(a.code)){const i=n.oa.shift();id(n).D_(),await ez(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,a)),await m_(n)}}(e,t),tz(e)&&rz(e)}async function u8(e,t){const r=Or(e);r.asyncQueue.verifyOperationInProgress(),tr(Eh,"RemoteStore received new credentials");const n=Uh(r);r.aa.add(3),await Iy(r),n&&r.la.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.aa.delete(3),await p_(r)}async function Gse(e,t){const r=Or(e);t?(r.aa.delete(2),await p_(r)):t||(r.aa.add(2),await Iy(r),r.la.set("Unknown"))}function Cm(e){return e.Pa||(e.Pa=function(r,n,a){const i=Or(r);return i.Y_(),new jse(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(e.datastore,e.asyncQueue,{jo:Rse.bind(null,e),Jo:Fse.bind(null,e),Zo:$se.bind(null,e),Q_:Bse.bind(null,e)}),e.ua.push(async t=>{t?(e.Pa.D_(),yC(e)?vC(e):e.la.set("Unknown")):(await e.Pa.stop(),ZV(e))})),e.Pa}function id(e){return e.Ta||(e.Ta=function(r,n,a){const i=Or(r);return i.Y_(),new Ose(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(e.datastore,e.asyncQueue,{jo:()=>Promise.resolve(),Jo:zse.bind(null,e),Zo:Hse.bind(null,e),z_:qse.bind(null,e),j_:Wse.bind(null,e)}),e.ua.push(async t=>{t?(e.Ta.D_(),await m_(e)):(await e.Ta.stop(),e.oa.length>0&&(tr(Eh,`Stopping write stream with ${e.oa.length} pending writes`),e.oa=[]))})),e.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(t,r,n,a,i){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=n,this.op=a,this.removalCallback=i,this.deferred=new uc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,n,a,i){const s=Date.now()+n,o=new xC(t,r,s,a,i);return o.start(n),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Jt(_t.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bC(e,t){if(gu("AsyncQueue",`${t}: ${e}`),Nm(e))return new Jt(_t.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{static emptySet(t){return new fp(t.comparator)}constructor(t){this.comparator=t?(r,n)=>t(r,n)||hr.comparator(r.key,n.key):(r,n)=>hr.comparator(r.key,n.key),this.keyedMap=Hg(),this.sortedSet=new fa(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,n)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof fp)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;r.hasNext();){const a=r.getNext().key,i=n.getNext().key;if(!a.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const n=new fp;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f8{constructor(){this.Ia=new fa(hr.comparator)}track(t){const r=t.doc.key,n=this.Ia.get(r);n?t.type!==0&&n.type===3?this.Ia=this.Ia.insert(r,t):t.type===3&&n.type!==1?this.Ia=this.Ia.insert(r,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.Ia=this.Ia.insert(r,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.Ia=this.Ia.insert(r,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.Ia=this.Ia.remove(r):t.type===1&&n.type===2?this.Ia=this.Ia.insert(r,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.Ia=this.Ia.insert(r,{type:2,doc:t.doc}):Tr(63341,{Vt:t,Ea:n}):this.Ia=this.Ia.insert(r,t)}da(){const t=[];return this.Ia.inorderTraversal((r,n)=>{t.push(n)}),t}}class Up{constructor(t,r,n,a,i,s,o,l,c){this.query=t,this.docs=r,this.oldDocs=n,this.docChanges=a,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,r,n,a,i){const s=[];return r.forEach(o=>{s.push({type:0,doc:o})}),new Up(t,r,fp.emptySet(r),s,n,a,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&o_(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,n=t.docChanges;if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(r[a].type!==n[a].type||!r[a].doc.isEqual(n[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kse{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(t=>t.ma())}}class Yse{constructor(){this.queries=d8(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(r,n){const a=Or(r),i=a.queries;a.queries=d8(),i.forEach((s,o)=>{for(const l of o.Ra)l.onError(n)})})(this,new Jt(_t.ABORTED,"Firestore shutting down"))}}function d8(){return new Bh(e=>_V(e),o_)}async function wC(e,t){const r=Or(e);let n=3;const a=t.query;let i=r.queries.get(a);i?!i.Va()&&t.ma()&&(n=2):(i=new Kse,n=t.ma()?0:1);try{switch(n){case 0:i.Aa=await r.onListen(a,!0);break;case 1:i.Aa=await r.onListen(a,!1);break;case 2:await r.onFirstRemoteStoreListen(a)}}catch(s){const o=bC(s,`Initialization of query '${j0(t.query)}' failed`);return void t.onError(o)}r.queries.set(a,i),i.Ra.push(t),t.ga(r.onlineState),i.Aa&&t.pa(i.Aa)&&SC(r)}async function _C(e,t){const r=Or(e),n=t.query;let a=3;const i=r.queries.get(n);if(i){const s=i.Ra.indexOf(t);s>=0&&(i.Ra.splice(s,1),i.Ra.length===0?a=t.ma()?0:1:!i.Va()&&t.ma()&&(a=2))}switch(a){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function Xse(e,t){const r=Or(e);let n=!1;for(const a of t){const i=a.query,s=r.queries.get(i);if(s){for(const o of s.Ra)o.pa(a)&&(n=!0);s.Aa=a}}n&&SC(r)}function Qse(e,t,r){const n=Or(e),a=n.queries.get(t);if(a)for(const i of a.Ra)i.onError(r);n.queries.delete(t)}function SC(e){e.fa.forEach(t=>{t.next()})}var _T,h8;(h8=_T||(_T={})).ya="default",h8.Cache="cache";class AC{constructor(t,r,n){this.query=t,this.wa=r,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=n||{}}pa(t){if(!this.options.includeMetadataChanges){const n=[];for(const a of t.docChanges)a.type!==3&&n.push(a);t=new Up(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.ba?this.Da(t)&&(this.wa.next(t),r=!0):this.va(t,this.onlineState)&&(this.Ca(t),r=!0),this.Sa=t,r}onError(t){this.wa.error(t)}ga(t){this.onlineState=t;let r=!1;return this.Sa&&!this.ba&&this.va(this.Sa,t)&&(this.Ca(this.Sa),r=!0),r}va(t,r){if(!t.fromCache||!this.ma())return!0;const n=r!=="Offline";return(!this.options.Fa||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}Da(t){if(t.docChanges.length>0)return!0;const r=this.Sa&&this.Sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Ca(t){t=Up.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ba=!0,this.wa.next(t)}ma(){return this.options.source!==_T.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nz{constructor(t){this.key=t}}class az{constructor(t){this.key=t}}class Jse{constructor(t,r){this.query=t,this.qa=r,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=en(),this.mutatedKeys=en(),this.Ua=SV(t),this.Ka=new fp(this.Ua)}get Wa(){return this.qa}Ga(t,r){const n=r?r.za:new f8,a=r?r.Ka:this.Ka;let i=r?r.mutatedKeys:this.mutatedKeys,s=a,o=!1;const l=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,c=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((u,d)=>{const h=a.get(u),p=l_(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),m=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;h&&p?h.data.isEqual(p.data)?g!==m&&(n.track({type:3,doc:p}),v=!0):this.ja(h,p)||(n.track({type:2,doc:p}),v=!0,(l&&this.Ua(p,l)>0||c&&this.Ua(p,c)<0)&&(o=!0)):!h&&p?(n.track({type:0,doc:p}),v=!0):h&&!p&&(n.track({type:1,doc:h}),v=!0,(l||c)&&(o=!0)),v&&(p?(s=s.add(p),i=m?i.add(u):i.delete(u)):(s=s.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),i=i.delete(u.key),n.track({type:1,doc:u})}return{Ka:s,za:n,ys:o,mutatedKeys:i}}ja(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,n,a){const i=this.Ka;this.Ka=t.Ka,this.mutatedKeys=t.mutatedKeys;const s=t.za.da();s.sort((u,d)=>function(p,g){const m=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tr(20277,{Vt:v})}};return m(p)-m(g)}(u.type,d.type)||this.Ua(u.doc,d.doc)),this.Ha(n),a=a!=null&&a;const o=r&&!a?this.Ja():[],l=this.$a.size===0&&this.current&&!a?1:0,c=l!==this.Qa;return this.Qa=l,s.length!==0||c?{snapshot:new Up(this.query,t.Ka,i,s,t.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ya:o}:{Ya:o}}ga(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new f8,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(t){return!this.qa.has(t)&&!!this.Ka.has(t)&&!this.Ka.get(t).hasLocalMutations}Ha(t){t&&(t.addedDocuments.forEach(r=>this.qa=this.qa.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.qa=this.qa.delete(r)),this.current=t.current)}Ja(){if(!this.current)return[];const t=this.$a;this.$a=en(),this.Ka.forEach(n=>{this.Za(n.key)&&(this.$a=this.$a.add(n.key))});const r=[];return t.forEach(n=>{this.$a.has(n)||r.push(new az(n))}),this.$a.forEach(n=>{t.has(n)||r.push(new nz(n))}),r}Xa(t){this.qa=t.Ns,this.$a=en();const r=this.Ga(t.documents);return this.applyChanges(r,!0)}eu(){return Up.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const TC="SyncEngine";class Zse{constructor(t,r,n){this.query=t,this.targetId=r,this.view=n}}class eoe{constructor(t){this.key=t,this.tu=!1}}class toe{constructor(t,r,n,a,i,s){this.localStore=t,this.remoteStore=r,this.eventManager=n,this.sharedClientState=a,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.nu={},this.ru=new Bh(o=>_V(o),o_),this.iu=new Map,this.su=new Set,this.ou=new fa(hr.comparator),this._u=new Map,this.au=new fC,this.uu={},this.cu=new Map,this.lu=Bp.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function roe(e,t,r=!0){const n=uz(e);let a;const i=n.ru.get(t);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),a=i.view.eu()):a=await iz(n,t,r,!0),a}async function noe(e,t){const r=uz(e);await iz(r,t,!0,!1)}async function iz(e,t,r,n){const a=await Sse(e.localStore,fc(t)),i=a.targetId,s=e.sharedClientState.addLocalQueryTarget(i,r);let o;return n&&(o=await aoe(e,t,i,s==="current",a.resumeToken)),e.isPrimaryClient&&r&&QV(e.remoteStore,a),o}async function aoe(e,t,r,n,a){e.Pu=(d,h,p)=>async function(m,v,y,b){let x=v.view.Ga(y);x.ys&&(x=await i8(m.localStore,v.query,!1).then(({documents:T})=>v.view.Ga(T,x)));const O=b&&b.targetChanges.get(v.targetId),P=b&&b.targetMismatches.get(v.targetId)!=null,j=v.view.applyChanges(x,m.isPrimaryClient,O,P);return m8(m,v.targetId,j.Ya),j.snapshot}(e,d,h,p);const i=await i8(e.localStore,t,!0),s=new Jse(t,i.Ns),o=s.Ga(i.documents),l=Oy.createSynthesizedTargetChangeForCurrentChange(r,n&&e.onlineState!=="Offline",a),c=s.applyChanges(o,e.isPrimaryClient,l);m8(e,r,c.Ya);const u=new Zse(t,r,s);return e.ru.set(t,u),e.iu.has(r)?e.iu.get(r).push(t):e.iu.set(r,[t]),c.snapshot}async function ioe(e,t,r){const n=Or(e),a=n.ru.get(t),i=n.iu.get(a.targetId);if(i.length>1)return n.iu.set(a.targetId,i.filter(s=>!o_(s,t))),void n.ru.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(a.targetId),n.sharedClientState.isActiveQueryTarget(a.targetId)||await bT(n.localStore,a.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(a.targetId),r&&mC(n.remoteStore,a.targetId),ST(n,a.targetId)}).catch(Em)):(ST(n,a.targetId),await bT(n.localStore,a.targetId,!0))}async function soe(e,t){const r=Or(e),n=r.ru.get(t),a=r.iu.get(n.targetId);r.isPrimaryClient&&a.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),mC(r.remoteStore,n.targetId))}async function ooe(e,t,r){const n=poe(e);try{const a=await function(s,o){const l=Or(s),c=sr.now(),u=o.reduce((p,g)=>p.add(g.key),en());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=vu(),m=en();return l.Cs.getEntries(p,u).next(v=>{g=v,g.forEach((y,b)=>{b.isValidDocument()||(m=m.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(v=>{d=v;const y=[];for(const b of o){const x=_ie(b,d.get(b.key).overlayedDocument);x!=null&&y.push(new gd(b.key,x,hV(x.value.mapValue),Ts.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,y,o)}).next(v=>{h=v;const y=v.applyToLocalDocumentSet(d,m);return l.documentOverlayCache.saveOverlays(p,v.batchId,y)})}).then(()=>({batchId:h.batchId,changes:TV(d)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(a.batchId),function(s,o,l){let c=s.uu[s.currentUser.toKey()];c||(c=new fa(Wr)),c=c.insert(o,l),s.uu[s.currentUser.toKey()]=c}(n,a.batchId,r),await Dy(n,a.changes),await m_(n.remoteStore)}catch(a){const i=bC(a,"Failed to persist write");r.reject(i)}}async function sz(e,t){const r=Or(e);try{const n=await bse(r.localStore,t);t.targetChanges.forEach((a,i)=>{const s=r._u.get(i);s&&(wn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?s.tu=!0:a.modifiedDocuments.size>0?wn(s.tu,14607):a.removedDocuments.size>0&&(wn(s.tu,42227),s.tu=!1))}),await Dy(r,n,t)}catch(n){await Em(n)}}function p8(e,t,r){const n=Or(e);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const a=[];n.ru.forEach((i,s)=>{const o=s.view.ga(t);o.snapshot&&a.push(o.snapshot)}),function(s,o){const l=Or(s);l.onlineState=o;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.Ra)h.ga(o)&&(c=!0)}),c&&SC(l)}(n.eventManager,t),a.length&&n.nu.Q_(a),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function loe(e,t,r){const n=Or(e);n.sharedClientState.updateQueryState(t,"rejected",r);const a=n._u.get(t),i=a&&a.key;if(i){let s=new fa(hr.comparator);s=s.insert(i,Xi.newNoDocument(i,Ir.min()));const o=en().add(i),l=new d_(Ir.min(),new Map,new fa(Wr),s,o);await sz(n,l),n.ou=n.ou.remove(i),n._u.delete(t),EC(n)}else await bT(n.localStore,t,!1).then(()=>ST(n,t,r)).catch(Em)}async function coe(e,t){const r=Or(e),n=t.batch.batchId;try{const a=await xse(r.localStore,t);lz(r,n,null),oz(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Dy(r,a)}catch(a){await Em(a)}}async function uoe(e,t,r){const n=Or(e);try{const a=await function(s,o){const l=Or(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next(d=>(wn(d!==null,37113),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(n.localStore,t);lz(n,t,r),oz(n,t),n.sharedClientState.updateMutationState(t,"rejected",r),await Dy(n,a)}catch(a){await Em(a)}}function oz(e,t){(e.cu.get(t)||[]).forEach(r=>{r.resolve()}),e.cu.delete(t)}function lz(e,t,r){const n=Or(e);let a=n.uu[n.currentUser.toKey()];if(a){const i=a.get(t);i&&(r?i.reject(r):i.resolve(),a=a.remove(t)),n.uu[n.currentUser.toKey()]=a}}function ST(e,t,r=null){e.sharedClientState.removeLocalQueryTarget(t);for(const n of e.iu.get(t))e.ru.delete(n),r&&e.nu.Tu(n,r);e.iu.delete(t),e.isPrimaryClient&&e.au.Ur(t).forEach(n=>{e.au.containsKey(n)||cz(e,n)})}function cz(e,t){e.su.delete(t.path.canonicalString());const r=e.ou.get(t);r!==null&&(mC(e.remoteStore,r),e.ou=e.ou.remove(t),e._u.delete(r),EC(e))}function m8(e,t,r){for(const n of r)n instanceof nz?(e.au.addReference(n.key,t),foe(e,n)):n instanceof az?(tr(TC,"Document no longer in limbo: "+n.key),e.au.removeReference(n.key,t),e.au.containsKey(n.key)||cz(e,n.key)):Tr(19791,{Iu:n})}function foe(e,t){const r=t.key,n=r.path.canonicalString();e.ou.get(r)||e.su.has(n)||(tr(TC,"New document in limbo: "+r),e.su.add(n),EC(e))}function EC(e){for(;e.su.size>0&&e.ou.size<e.maxConcurrentLimboResolutions;){const t=e.su.values().next().value;e.su.delete(t);const r=new hr(Jn.fromString(t)),n=e.lu.next();e._u.set(n,new eoe(r)),e.ou=e.ou.insert(r,n),QV(e.remoteStore,new Ef(fc(s_(r.path)),n,"TargetPurposeLimboResolution",n_.le))}}async function Dy(e,t,r){const n=Or(e),a=[],i=[],s=[];n.ru.isEmpty()||(n.ru.forEach((o,l)=>{s.push(n.Pu(l,t,r).then(c=>{var u;if((c||r)&&n.isPrimaryClient){const d=c?!c.fromCache:(u=r==null?void 0:r.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;n.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){a.push(c);const d=hC.Ps(l.targetId,c);i.push(d)}}))}),await Promise.all(s),n.nu.Q_(a),await async function(l,c){const u=Or(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>Et.forEach(c,h=>Et.forEach(h.ls,p=>u.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>Et.forEach(h.hs,p=>u.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!Nm(d))throw d;tr(pC,"Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const p=u.Ss.get(h),g=p.snapshotVersion,m=p.withLastLimboFreeSnapshotVersion(g);u.Ss=u.Ss.insert(h,m)}}}(n.localStore,i))}async function doe(e,t){const r=Or(e);if(!r.currentUser.isEqual(t)){tr(TC,"User change. New user:",t.toKey());const n=await GV(r.localStore,t);r.currentUser=t,function(i,s){i.cu.forEach(o=>{o.forEach(l=>{l.reject(new Jt(_t.CANCELLED,s))})}),i.cu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await Dy(r,n.Ms)}}function hoe(e,t){const r=Or(e),n=r._u.get(t);if(n&&n.tu)return en().add(n.key);{let a=en();const i=r.iu.get(t);if(!i)return a;for(const s of i){const o=r.ru.get(s);a=a.unionWith(o.view.Wa)}return a}}function uz(e){const t=Or(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=sz.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=hoe.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=loe.bind(null,t),t.nu.Q_=Xse.bind(null,t.eventManager),t.nu.Tu=Qse.bind(null,t.eventManager),t}function poe(e){const t=Or(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=coe.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=uoe.bind(null,t),t}class lw{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=h_(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),await this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)}mu(t,r){return null}fu(t,r){return null}Vu(t){return yse(this.persistence,new mse,t.initialUser,this.serializer)}Ru(t){return new HV(dC.Ei,this.serializer)}Au(t){return new Tse}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lw.provider={build:()=>new lw};class moe extends lw{constructor(t){super(),this.cacheSizeBytes=t}mu(t,r){wn(this.persistence.referenceDelegate instanceof sw,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new ese(n,t.asyncQueue,r)}Ru(t){const r=this.cacheSizeBytes!==void 0?Ls.withCacheSize(this.cacheSizeBytes):Ls.DEFAULT;return new HV(n=>sw.Ei(n,r),this.serializer)}}class AT{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>p8(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=doe.bind(null,this.syncEngine),await Gse(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Yse}()}createDatastore(t){const r=h_(t.databaseInfo.databaseId),n=function(i){return new Pse(i)}(t.databaseInfo);return function(i,s,o,l){return new Dse(i,s,o,l)}(t.authCredentials,t.appCheckCredentials,n,r)}createRemoteStore(t){return function(n,a,i,s,o){return new Mse(n,a,i,s,o)}(this.localStore,this.datastore,t.asyncQueue,r=>p8(this.syncEngine,r,0),function(){return l8.C()?new l8:new Ese}())}createSyncEngine(t,r){return function(a,i,s,o,l,c,u){const d=new toe(a,i,s,o,l,c);return u&&(d.hu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(a){const i=Or(a);tr(Eh,"RemoteStore shutting down."),i.aa.add(5),await Iy(i),i.ca.shutdown(),i.la.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}AT.provider={build:()=>new AT};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.pu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.pu(this.observer.error,t):gu("Uncaught Error in snapshot listener:",t.toString()))}yu(){this.muted=!0}pu(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd="FirestoreClient";class goe{constructor(t,r,n,a,i){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=a,this.user=Gi.UNAUTHENTICATED,this.clientId=rV.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async s=>{tr(sd,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(tr(sd,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new uc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const n=bC(r,"Failed to shutdown persistence");t.reject(n)}}),t.promise}}async function OA(e,t){e.asyncQueue.verifyOperationInProgress(),tr(sd,"Initializing OfflineComponentProvider");const r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener(async a=>{n.isEqual(a)||(await GV(t.localStore,a),n=a)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function g8(e,t){e.asyncQueue.verifyOperationInProgress();const r=await voe(e);tr(sd,"Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener(n=>u8(t.remoteStore,n)),e.setAppCheckTokenChangeListener((n,a)=>u8(t.remoteStore,a)),e._onlineComponents=t}async function voe(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){tr(sd,"Using user provided OfflineComponentProvider");try{await OA(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(a){return a.name==="FirebaseError"?a.code===_t.FAILED_PRECONDITION||a.code===_t.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(r))throw r;Mp("Error using user provided cache. Falling back to memory cache: "+r),await OA(e,new lw)}}else tr(sd,"Using default OfflineComponentProvider"),await OA(e,new moe(void 0));return e._offlineComponents}async function kC(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(tr(sd,"Using user provided OnlineComponentProvider"),await g8(e,e._uninitializedComponentsProvider._online)):(tr(sd,"Using default OnlineComponentProvider"),await g8(e,new AT))),e._onlineComponents}function yoe(e){return kC(e).then(t=>t.syncEngine)}function xoe(e){return kC(e).then(t=>t.datastore)}async function cw(e){const t=await kC(e),r=t.eventManager;return r.onListen=roe.bind(null,t.syncEngine),r.onUnlisten=ioe.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=noe.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=soe.bind(null,t.syncEngine),r}function boe(e,t,r={}){const n=new uc;return e.asyncQueue.enqueueAndForget(async()=>function(i,s,o,l,c){const u=new NC({next:h=>{u.yu(),s.enqueueAndForget(()=>_C(i,d));const p=h.docs.has(o);!p&&h.fromCache?c.reject(new Jt(_t.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?c.reject(new Jt(_t.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new AC(s_(o.path),u,{includeMetadataChanges:!0,Fa:!0});return wC(i,d)}(await cw(e),e.asyncQueue,t,r,n)),n.promise}function woe(e,t,r={}){const n=new uc;return e.asyncQueue.enqueueAndForget(async()=>function(i,s,o,l,c){const u=new NC({next:h=>{u.yu(),s.enqueueAndForget(()=>_C(i,d)),h.fromCache&&l.source==="server"?c.reject(new Jt(_t.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new AC(o,u,{includeMetadataChanges:!0,Fa:!0});return wC(i,d)}(await cw(e),e.asyncQueue,t,r,n)),n.promise}function _oe(e,t,r){const n=new uc;return e.asyncQueue.enqueueAndForget(async()=>{try{const a=await xoe(e);n.resolve(async function(s,o,l){var c;const u=Or(s),{request:d,yt:h,parent:p}=Uie(u.serializer,oie(o),l);u.connection.Bo||delete d.parent;const g=(await u.Wo("RunAggregationQuery",u.serializer.databaseId,p,d,1)).filter(v=>!!v.result);wn(g.length===1,64727);const m=(c=g[0].result)===null||c===void 0?void 0:c.aggregateFields;return Object.keys(m).reduce((v,y)=>(v[h[y]]=m[y],v),{})}(a,t,r))}catch(a){n.reject(a)}}),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fz(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v8=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dz(e,t,r){if(!r)throw new Jt(_t.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Soe(e,t,r,n){if(t===!0&&n===!0)throw new Jt(_t.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)}function y8(e){if(!hr.isDocumentKey(e))throw new Jt(_t.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function x8(e){if(hr.isDocumentKey(e))throw new Jt(_t.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function g_(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Tr(12329,{type:typeof e})}function rs(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Jt(_t.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=g_(e);throw new Jt(_t.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}function Aoe(e,t){if(t<=0)throw new Jt(_t.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hz="firestore.googleapis.com",b8=!0;class w8{constructor(t){var r,n;if(t.host===void 0){if(t.ssl!==void 0)throw new Jt(_t.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=hz,this.ssl=b8}else this.host=t.host,this.ssl=(r=t.ssl)!==null&&r!==void 0?r:b8;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=WV;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Jie)throw new Jt(_t.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Soe("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fz((n=t.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Jt(_t.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Jt(_t.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Jt(_t.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,a){return n.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class v_{constructor(t,r,n,a){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=n,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new w8({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Jt(_t.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Jt(_t.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new w8(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Nae;switch(n.type){case"firstParty":return new jae(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Jt(_t.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,$U("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=v8.get(r);n&&(tr("ComponentProvider","Removing Datastore"),v8.delete(r),n.terminate())}(this),Promise.resolve()}}function Toe(e,t,r,n={}){var a;e=rs(e,v_);const i=Zk(t),s=e._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:e._getEmulatorOptions()}),l=`${t}:${r}`;s.host!==hz&&s.host!==l&&Mp("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},s),{host:l,ssl:i,emulatorOptions:n});if(!Xb(c,o)&&(e._setSettings(c),i&&(tne(`https://${l}`),$U("Firestore",!0)),n.mockUserToken)){let u,d;if(typeof n.mockUserToken=="string")u=n.mockUserToken,d=Gi.MOCK_USER;else{u=rne(n.mockUserToken,(a=e._app)===null||a===void 0?void 0:a.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new Jt(_t.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Gi(h)}e._authCredentials=new kae(new eV(u,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(t,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new Pu(this.firestore,t,this._query)}}class ns{constructor(t,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gf(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ns(this.firestore,t,this._key)}}class Gf extends Pu{constructor(t,r,n){super(t,r,s_(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ns(this.firestore,null,new hr(t))}withConverter(t){return new Gf(this.firestore,t,this._path)}}function At(e,t,...r){if(e=Qo(e),dz("collection","path",t),e instanceof v_){const n=Jn.fromString(t,...r);return x8(n),new Gf(e,null,n)}{if(!(e instanceof ns||e instanceof Gf))throw new Jt(_t.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Jn.fromString(t,...r));return x8(n),new Gf(e.firestore,null,n)}}function kr(e,t,...r){if(e=Qo(e),arguments.length===1&&(t=rV.newId()),dz("doc","path",t),e instanceof v_){const n=Jn.fromString(t,...r);return y8(n),new ns(e,null,new hr(n))}{if(!(e instanceof ns||e instanceof Gf))throw new Jt(_t.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Jn.fromString(t,...r));return y8(n),new ns(e.firestore,e instanceof Gf?e.converter:null,new hr(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _8="AsyncQueue";class S8{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new YV(this,"async_queue_retry"),this.ju=()=>{const n=jA();n&&tr(_8,"Visibility state changed to "+n.visibilityState),this.y_.A_()},this.Hu=t;const r=jA();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const r=jA();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const r=new uc;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!Nm(t))throw t;tr(_8,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const r=this.Hu.then(()=>(this.Wu=!0,t().catch(n=>{throw this.Ku=n,this.Wu=!1,gu("INTERNAL UNHANDLED ERROR: ",A8(n)),n}).then(n=>(this.Wu=!1,n))));return this.Hu=r,r}enqueueAfterDelay(t,r,n){this.Ju(),this.zu.indexOf(t)>-1&&(r=0);const a=xC.createAndSchedule(this,t,r,n,i=>this.Xu(i));return this.Uu.push(a),a}Ju(){this.Ku&&Tr(47125,{ec:A8(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const r of this.Uu)if(r.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Uu)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const r=this.Uu.indexOf(t);this.Uu.splice(r,1)}}function A8(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T8(e){return function(r,n){if(typeof r!="object"||r===null)return!1;const a=r;for(const i of n)if(i in a&&typeof a[i]=="function")return!0;return!1}(e,["next","error","complete"])}class Bl extends v_{constructor(t,r,n,a){super(t,r,n,a),this.type="firestore",this._queue=new S8,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new S8(t),this._firestoreClient=void 0,await t}}}function Eoe(e,t){const r=typeof e=="object"?e:pae(),n=typeof e=="string"?e:ew,a=cae(r,"firestore").getImmediate({identifier:n});if(!a._initialized){const i=Zre("firestore");i&&Toe(a,...i)}return a}function Pm(e){if(e._terminated)throw new Jt(_t.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Noe(e),e._firestoreClient}function Noe(e){var t,r,n;const a=e._freezeSettings(),i=function(o,l,c,u){return new Gae(o,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,fz(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,a);e._componentsProvider||!((r=a.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=a.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(e._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),e._firestoreClient=new goe(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class koe{constructor(t="count",r){this._internalFieldPath=r,this.type="AggregateField",this.aggregateType=t}}class Coe{constructor(t,r,n){this._userDataWriter=r,this._data=n,this.type="AggregateQuerySnapshot",this.query=t}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Vp(Oi.fromBase64String(t))}catch(r){throw new Jt(_t.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new Vp(Oi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new Jt(_t.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ei(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new Jt(_t.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new Jt(_t.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Wr(this._lat,t._lat)||Wr(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(n,a){if(n.length!==a.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==a[i])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Poe=/^__.*__$/;class joe{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return this.fieldMask!==null?new gd(t,this.data,this.fieldMask,r,this.fieldTransforms):new jy(t,this.data,r,this.fieldTransforms)}}class pz{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return new gd(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function mz(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tr(40011,{oc:e})}}class jC{constructor(t,r,n,a,i,s){this.settings=t,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=a,i===void 0&&this._c(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(t){return new jC(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(t){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(t),a=this.ac({path:n,cc:!1});return a.lc(t),a}hc(t){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(t),a=this.ac({path:n,cc:!1});return a._c(),a}Pc(t){return this.ac({path:void 0,cc:!0})}Tc(t){return uw(t,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}_c(){if(this.path)for(let t=0;t<this.path.length;t++)this.lc(this.path.get(t))}lc(t){if(t.length===0)throw this.Tc("Document fields must not be empty");if(mz(this.oc)&&Poe.test(t))throw this.Tc('Document fields cannot begin and end with "__"')}}class Ooe{constructor(t,r,n){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=n||h_(t)}dc(t,r,n,a=!1){return new jC({oc:t,methodName:r,Ec:n,path:Ei.emptyPath(),cc:!1,Ic:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function My(e){const t=e._freezeSettings(),r=h_(e._databaseId);return new Ooe(e._databaseId,!!t.ignoreUndefinedProperties,r)}function OC(e,t,r,n,a,i={}){const s=e.dc(i.merge||i.mergeFields?2:0,t,r,a);DC("Data must be an object, but it was:",s,n);const o=yz(n,s);let l,c;if(i.merge)l=new uo(s.fieldMask),c=s.fieldTransforms;else if(i.mergeFields){const u=[];for(const d of i.mergeFields){const h=TT(t,d,r);if(!s.contains(h))throw new Jt(_t.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);bz(u,h)||u.push(h)}l=new uo(u),c=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=s.fieldTransforms;return new joe(new Fs(o),l,c)}class Ry extends y_{_toFieldTransform(t){if(t.oc!==2)throw t.oc===1?t.Tc(`${this._methodName}() can only appear at the top level of your update data`):t.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ry}}class IC extends y_{_toFieldTransform(t){return new yie(t.path,new g1)}isEqual(t){return t instanceof IC}}function gz(e,t,r,n){const a=e.dc(1,t,r);DC("Data must be an object, but it was:",a,n);const i=[],s=Fs.empty();md(n,(l,c)=>{const u=LC(t,l,r);c=Qo(c);const d=a.hc(u);if(c instanceof Ry)i.push(u);else{const h=Fy(c,d);h!=null&&(i.push(u),s.set(u,h))}});const o=new uo(i);return new pz(s,o,a.fieldTransforms)}function vz(e,t,r,n,a,i){const s=e.dc(1,t,r),o=[TT(t,n,r)],l=[a];if(i.length%2!=0)throw new Jt(_t.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)o.push(TT(t,i[h])),l.push(i[h+1]);const c=[],u=Fs.empty();for(let h=o.length-1;h>=0;--h)if(!bz(c,o[h])){const p=o[h];let g=l[h];g=Qo(g);const m=s.hc(p);if(g instanceof Ry)c.push(p);else{const v=Fy(g,m);v!=null&&(c.push(p),u.set(p,v))}}const d=new uo(c);return new pz(u,d,s.fieldTransforms)}function Ioe(e,t,r,n=!1){return Fy(r,e.dc(n?4:3,t))}function Fy(e,t){if(xz(e=Qo(e)))return DC("Unsupported field value:",t,e),yz(e,t);if(e instanceof y_)return function(n,a){if(!mz(a.oc))throw a.Tc(`${n._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Tc(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(a);i&&a.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.cc&&t.oc!==4)throw t.Tc("Nested arrays are not supported");return function(n,a){const i=[];let s=0;for(const o of n){let l=Fy(o,a.Pc(s));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,a){if((n=Qo(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return mie(a.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=sr.fromDate(n);return{timestampValue:iw(a.serializer,i)}}if(n instanceof sr){const i=new sr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:iw(a.serializer,i)}}if(n instanceof CC)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Vp)return{bytesValue:RV(a.serializer,n._byteString)};if(n instanceof ns){const i=a.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw a.Tc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:uC(n.firestore._databaseId||a.databaseId,n._key.path)}}if(n instanceof PC)return function(s,o){return{mapValue:{fields:{[uV]:{stringValue:dV},[tw]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw o.Tc("VectorValues must only contain numeric values.");return oC(o.serializer,c)})}}}}}}(n,a);throw a.Tc(`Unsupported field value: ${g_(n)}`)}(e,t)}function yz(e,t){const r={};return aV(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):md(e,(n,a)=>{const i=Fy(a,t.uc(n));i!=null&&(r[n]=i)}),{mapValue:{fields:r}}}function xz(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof sr||e instanceof CC||e instanceof Vp||e instanceof ns||e instanceof y_||e instanceof PC)}function DC(e,t,r){if(!xz(r)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(r)){const n=g_(r);throw n==="an object"?t.Tc(e+" a custom object"):t.Tc(e+" "+n)}}function TT(e,t,r){if((t=Qo(t))instanceof Ly)return t._internalPath;if(typeof t=="string")return LC(e,t);throw uw("Field path arguments must be of type string or ",e,!1,void 0,r)}const Doe=new RegExp("[~\\*/\\[\\]]");function LC(e,t,r){if(t.search(Doe)>=0)throw uw(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new Ly(...t.split("."))._internalPath}catch{throw uw(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function uw(e,t,r,n,a){const i=n&&!n.isEmpty(),s=a!==void 0;let o=`Function ${t}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||s)&&(l+=" (found",i&&(l+=` in field ${n}`),s&&(l+=` in document ${a}`),l+=")"),new Jt(_t.INVALID_ARGUMENT,o+e+l)}function bz(e,t){return e.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wz{constructor(t,r,n,a,i){this._firestore=t,this._userDataWriter=r,this._key=n,this._document=a,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new ns(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Loe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(x_("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class Loe extends wz{data(){return super.data()}}function x_(e,t){return typeof t=="string"?LC(e,t):t instanceof Ly?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _z(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Jt(_t.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class MC{}class RC extends MC{}function lr(e,t,...r){let n=[];t instanceof MC&&n.push(t),n=n.concat(r),function(i){const s=i.filter(l=>l instanceof FC).length,o=i.filter(l=>l instanceof b_).length;if(s>1||s>0&&o>0)throw new Jt(_t.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class b_ extends RC{constructor(t,r,n){super(),this._field=t,this._op=r,this._value=n,this.type="where"}static _create(t,r,n){return new b_(t,r,n)}_apply(t){const r=this._parse(t);return Sz(t._query,r),new Pu(t.firestore,t.converter,mT(t._query,r))}_parse(t){const r=My(t.firestore);return function(i,s,o,l,c,u,d){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Jt(_t.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){N8(d,u);const g=[];for(const m of d)g.push(E8(l,i,m));h={arrayValue:{values:g}}}else h=E8(l,i,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||N8(d,u),h=Ioe(o,s,d,u==="in"||u==="not-in");return Ba.create(c,u,h)}(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}function or(e,t,r){const n=t,a=x_("where",e);return b_._create(a,n,r)}class FC extends MC{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new FC(t,r)}_parse(t){const r=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:$l.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:(function(a,i){let s=a;const o=i.getFlattenedFilters();for(const l of o)Sz(s,l),s=mT(s,l)}(t._query,r),new Pu(t.firestore,t.converter,mT(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class $C extends RC{constructor(t,r){super(),this._field=t,this._direction=r,this.type="orderBy"}static _create(t,r){return new $C(t,r)}_apply(t){const r=function(a,i,s){if(a.startAt!==null)throw new Jt(_t.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Jt(_t.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new m1(i,s)}(t._query,this._field,this._direction);return new Pu(t.firestore,t.converter,function(a,i){const s=a.explicitOrderBy.concat([i]);return new km(a.path,a.collectionGroup,s,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(t._query,r))}}function Ua(e,t="asc"){const r=t,n=x_("orderBy",e);return $C._create(n,r)}class BC extends RC{constructor(t,r,n){super(),this.type=t,this._limit=r,this._limitType=n}static _create(t,r,n){return new BC(t,r,n)}_apply(t){return new Pu(t.firestore,t.converter,nw(t._query,this._limit,this._limitType))}}function Kg(e){return Aoe("limit",e),BC._create("limit",e,"F")}function E8(e,t,r){if(typeof(r=Qo(r))=="string"){if(r==="")throw new Jt(_t.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bV(t)&&r.indexOf("/")!==-1)throw new Jt(_t.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=t.path.child(Jn.fromString(r));if(!hr.isDocumentKey(n))throw new Jt(_t.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return BI(e,new hr(n))}if(r instanceof ns)return BI(e,r._key);throw new Jt(_t.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${g_(r)}.`)}function N8(e,t){if(!Array.isArray(e)||e.length===0)throw new Jt(_t.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Sz(e,t){const r=function(a,i){for(const s of a)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(e.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(r!==null)throw r===t.op?new Jt(_t.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Jt(_t.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class Moe{convertValue(t,r="none"){switch(ad(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Aa(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(nd(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw Tr(62114,{value:t})}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const n={};return md(t,(a,i)=>{n[a]=this.convertValue(i,r)}),n}convertVectorValue(t){var r,n,a;const i=(a=(n=(r=t.fields)===null||r===void 0?void 0:r[tw].arrayValue)===null||n===void 0?void 0:n.values)===null||a===void 0?void 0:a.map(s=>Aa(s.doubleValue));return new PC(i)}convertGeoPoint(t){return new CC(Aa(t.latitude),Aa(t.longitude))}convertArray(t,r){return(t.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(t,r){switch(r){case"previous":const n=i_(t);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(d1(t));default:return null}}convertTimestamp(t){const r=rd(t);return new sr(r.seconds,r.nanos)}convertDocumentKey(t,r){const n=Jn.fromString(t);wn(qV(n),9688,{name:t});const a=new h1(n.get(1),n.get(3)),i=new hr(n.popFirst(5));return a.isEqual(r)||gu(`Document ${i} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(e,t,r){let n;return n=e?r&&(r.merge||r.mergeFields)?e.toFirestore(t,r):e.toFirestore(t):t,n}function Roe(){return new koe("count")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Az extends wz{constructor(t,r,n,a,i,s){super(t,r,n,a,s),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new nb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const n=this._document.data.field(x_("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class nb extends Az{data(t={}){return super.data(t)}}class Tz{constructor(t,r,n,a){this._firestore=t,this._userDataWriter=r,this._snapshot=a,this.metadata=new Yg(a.hasPendingWrites,a.fromCache),this.query=n}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(n=>{t.call(r,new nb(this._firestore,this._userDataWriter,n.key,n,new Yg(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Jt(_t.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(a,i){if(a._snapshot.oldDocs.isEmpty()){let s=0;return a._snapshot.docChanges.map(o=>{const l=new nb(a._firestore,a._userDataWriter,o.doc.key,o.doc,new Yg(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const l=new nb(a._firestore,a._userDataWriter,o.doc.key,o.doc,new Yg(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);let c=-1,u=-1;return o.type!==0&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:Foe(o.type),doc:l,oldIndex:c,newIndex:u}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Foe(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tr(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(e){e=rs(e,ns);const t=rs(e.firestore,Bl);return boe(Pm(t),e._key).then(r=>Ez(t,e,r))}class w_ extends Moe{constructor(t){super(),this.firestore=t}convertBytes(t){return new Vp(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new ns(this.firestore,null,r)}}function dr(e){e=rs(e,Pu);const t=rs(e.firestore,Bl),r=Pm(t),n=new w_(t);return _z(e._query),woe(r,e._query).then(a=>new Tz(t,n,e,a))}function r2(e,t,r){e=rs(e,ns);const n=rs(e.firestore,Bl),a=UC(e.converter,t,r);return $y(n,[OC(My(n),"setDoc",e._key,a,e.converter!==null,r).toMutation(e._key,Ts.none())])}function Wn(e,t,r,...n){e=rs(e,ns);const a=rs(e.firestore,Bl),i=My(a);let s;return s=typeof(t=Qo(t))=="string"||t instanceof Ly?vz(i,"updateDoc",e._key,t,r,n):gz(i,"updateDoc",e._key,t),$y(a,[s.toMutation(e._key,Ts.exists(!0))])}function Bs(e){return $y(rs(e.firestore,Bl),[new f_(e._key,Ts.none())])}function vr(e,t){const r=rs(e.firestore,Bl),n=kr(e),a=UC(e.converter,t);return $y(r,[OC(My(e.firestore),"addDoc",n._key,a,e.converter!==null,{}).toMutation(n._key,Ts.exists(!1))]).then(()=>n)}function $oe(e,...t){var r,n,a;e=Qo(e);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||T8(t[s])||(i=t[s],s++);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(T8(t[s])){const d=t[s];t[s]=(r=d.next)===null||r===void 0?void 0:r.bind(d),t[s+1]=(n=d.error)===null||n===void 0?void 0:n.bind(d),t[s+2]=(a=d.complete)===null||a===void 0?void 0:a.bind(d)}let l,c,u;if(e instanceof ns)c=rs(e.firestore,Bl),u=s_(e._key.path),l={next:d=>{t[s]&&t[s](Ez(c,e,d))},error:t[s+1],complete:t[s+2]};else{const d=rs(e,Pu);c=rs(d.firestore,Bl),u=d._query;const h=new w_(c);l={next:p=>{t[s]&&t[s](new Tz(c,h,d,p))},error:t[s+1],complete:t[s+2]},_z(e._query)}return function(h,p,g,m){const v=new NC(m),y=new AC(p,v,g);return h.asyncQueue.enqueueAndForget(async()=>wC(await cw(h),y)),()=>{v.yu(),h.asyncQueue.enqueueAndForget(async()=>_C(await cw(h),y))}}(Pm(c),u,o,l)}function $y(e,t){return function(n,a){const i=new uc;return n.asyncQueue.enqueueAndForget(async()=>ooe(await yoe(n),a,i)),i.promise}(Pm(e),t)}function Ez(e,t,r){const n=r.docs.get(t._key),a=new w_(e);return new Az(e,a,t._key,n,new Yg(r.hasPendingWrites,r.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(e){return Boe(e,{count:Roe()})}function Boe(e,t){const r=rs(e.firestore,Bl),n=Pm(r),a=Wae(t,(i,s)=>new Eie(s,i.aggregateType,i._internalFieldPath));return _oe(n,e._query,a).then(i=>function(o,l,c){const u=new w_(o);return new Coe(l,u,c)}(r,e,i))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uoe{constructor(t,r){this._firestore=t,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=My(t)}set(t,r,n){this._verifyNotCommitted();const a=IA(t,this._firestore),i=UC(a.converter,r,n),s=OC(this._dataReader,"WriteBatch.set",a._key,i,a.converter!==null,n);return this._mutations.push(s.toMutation(a._key,Ts.none())),this}update(t,r,n,...a){this._verifyNotCommitted();const i=IA(t,this._firestore);let s;return s=typeof(r=Qo(r))=="string"||r instanceof Ly?vz(this._dataReader,"WriteBatch.update",i._key,r,n,a):gz(this._dataReader,"WriteBatch.update",i._key,r),this._mutations.push(s.toMutation(i._key,Ts.exists(!0))),this}delete(t){this._verifyNotCommitted();const r=IA(t,this._firestore);return this._mutations=this._mutations.concat(new f_(r._key,Ts.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Jt(_t.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function IA(e,t){if((e=Qo(e)).firestore!==t)throw new Jt(_t.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k8(){return new Ry("deleteField")}function Nf(){return new IC("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Voe(e){return Pm(e=rs(e,Bl)),new Uoe(e,t=>$y(e,t))}(function(t,r=!0){(function(a){Tm=a})(hae),Jb(new c1("firestore",(n,{instanceIdentifier:a,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Bl(new Cae(n.getProvider("auth-internal")),new Oae(s,n.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Jt(_t.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new h1(c.options.projectId,u)}(s,a),s);return i=Object.assign({useFetchStreams:r},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),up(kI,CI,t),up(kI,CI,"esm2017")})();const zoe={apiKey:"AIzaSyBrPAITwnh9vpsoS6W5hmuLLWPQzANOHfQ",authDomain:"aztec-warehouse.firebaseapp.com",projectId:"aztec-warehouse",storageBucket:"aztec-warehouse.firebasestorage.app",messagingSenderId:"587188643888",appId:"1:587188643888:web:2f5d9bb858e6e4bb3565f5",measurementId:"G-59VTWPJ775"},qoe=qU(zoe),Xe=Eoe(qoe),Nz=F.createContext(void 0),xa=()=>{const e=F.useContext(Nz);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Woe=({children:e})=>{const[t,r]=F.useState(()=>{const l=localStorage.getItem("user");return l?JSON.parse(l):null}),[n,a]=F.useState(!1),o={user:t,isAuthenticated:!!t,login:async(l,c)=>{a(!0);try{const u=await dr(At(Xe,"users"));for(const d of u.docs){const h=d.data();if(h.username===l&&h.password===c){const p={id:d.id,username:h.username,email:h.email,name:h.name,role:h.role,password:h.password};r(p),localStorage.setItem("user",JSON.stringify(p));try{await vr(At(Xe,"activityLogs"),{user:p.name,role:p.role,detail:"logged in",time:new Date().toISOString()})}catch(g){console.error("Error logging activity:",g)}return!0}}return!1}catch(u){return console.error("Login error:",u),!1}finally{a(!1)}},logout:()=>{if(t){const l={...t};r(null),localStorage.removeItem("user"),vr(At(Xe,"activityLogs"),{user:l.name,role:l.role,detail:"logged out",time:new Date().toISOString()}).catch(c=>{console.error("Error logging activity:",c)})}},isLoading:n,setUser:r};return f.jsx(Nz.Provider,{value:o,children:e})},kz=F.createContext(void 0),Hoe=({children:e})=>{const[t,r]=F.useState(!0),n=()=>{r(!t)};return f.jsx(kz.Provider,{value:{isDarkMode:t,toggleDarkMode:n},children:e})},un=()=>{const e=F.useContext(kz);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},zC=F.createContext({});function By(e){const t=F.useRef(null);return t.current===null&&(t.current=e()),t.current}const qC=typeof window<"u",WC=qC?F.useLayoutEffect:F.useEffect,__=F.createContext(null);function HC(e,t){e.indexOf(t)===-1&&e.push(t)}function S_(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const yu=(e,t,r)=>r>t?t:r<e?e:r;let fw=()=>{};const xu={},Cz=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Pz(e){return typeof e=="object"&&e!==null}const jz=e=>/^0[^.\s]+$/u.test(e);function GC(e){let t;return()=>(t===void 0&&(t=e()),t)}const Wo=e=>e,Goe=(e,t)=>r=>t(e(r)),Uy=(...e)=>e.reduce(Goe),zp=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class KC{constructor(){this.subscriptions=[]}add(t){return HC(this.subscriptions,t),()=>S_(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let i=0;i<a;i++){const s=this.subscriptions[i];s&&s(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ll=e=>e*1e3,hc=e=>e/1e3;function Oz(e,t){return t?e*(1e3/t):0}const Koe=(e,t,r)=>{const n=t-e;return((r-e)%n+n)%n+e},Iz=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,Yoe=1e-7,Xoe=12;function Qoe(e,t,r,n,a){let i,s,o=0;do s=t+(r-t)/2,i=Iz(s,n,a)-e,i>0?r=s:t=s;while(Math.abs(i)>Yoe&&++o<Xoe);return s}function Vy(e,t,r,n){if(e===t&&r===n)return Wo;const a=i=>Qoe(i,0,1,e,r);return i=>i===0||i===1?i:Iz(a(i),t,n)}const Dz=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Lz=e=>t=>1-e(1-t),Mz=Vy(.33,1.53,.69,.99),YC=Lz(Mz),Rz=Dz(YC),Fz=e=>(e*=2)<1?.5*YC(e):.5*(2-Math.pow(2,-10*(e-1))),XC=e=>1-Math.sin(Math.acos(e)),$z=Lz(XC),Bz=Dz(XC),Joe=Vy(.42,0,1,1),Zoe=Vy(0,0,.58,1),Uz=Vy(.42,0,.58,1),Vz=e=>Array.isArray(e)&&typeof e[0]!="number";function zz(e,t){return Vz(e)?e[Koe(0,e.length,t)]:e}const qz=e=>Array.isArray(e)&&typeof e[0]=="number",C8={linear:Wo,easeIn:Joe,easeInOut:Uz,easeOut:Zoe,circIn:XC,circInOut:Bz,circOut:$z,backIn:YC,backInOut:Rz,backOut:Mz,anticipate:Fz},ele=e=>typeof e=="string",P8=e=>{if(qz(e)){fw(e.length===4);const[t,r,n,a]=e;return Vy(t,r,n,a)}else if(ele(e))return fw(C8[e]!==void 0),C8[e];return e},n2=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],j8={value:null,addProjectionMetrics:null};function tle(e,t){let r=new Set,n=new Set,a=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},l=0;function c(d){s.has(d)&&(u.schedule(d),e()),l++,d(o)}const u={schedule:(d,h=!1,p=!1)=>{const m=p&&a?r:n;return h&&s.add(d),m.has(d)||m.add(d),d},cancel:d=>{n.delete(d),s.delete(d)},process:d=>{if(o=d,a){i=!0;return}a=!0,[r,n]=[n,r],r.forEach(c),t&&j8.value&&j8.value.frameloop[t].push(l),l=0,r.clear(),a=!1,i&&(i=!1,u.process(d))}};return u}const rle=40;function Wz(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,s=n2.reduce((x,O)=>(x[O]=tle(i,t?O:void 0),x),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:u,update:d,preRender:h,render:p,postRender:g}=s,m=()=>{const x=xu.useManualTiming?a.timestamp:performance.now();r=!1,xu.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(x-a.timestamp,rle),1)),a.timestamp=x,a.isProcessing=!0,o.process(a),l.process(a),c.process(a),u.process(a),d.process(a),h.process(a),p.process(a),g.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(m))},v=()=>{r=!0,n=!0,a.isProcessing||e(m)};return{schedule:n2.reduce((x,O)=>{const P=s[O];return x[O]=(j,T=!1,S=!1)=>(r||v(),P.schedule(j,T,S)),x},{}),cancel:x=>{for(let O=0;O<n2.length;O++)s[n2[O]].cancel(x)},state:a,steps:s}}const{schedule:ia,cancel:bu,state:Si,steps:DA}=Wz(typeof requestAnimationFrame<"u"?requestAnimationFrame:Wo,!0);let ab;function nle(){ab=void 0}const Us={now:()=>(ab===void 0&&Us.set(Si.isProcessing||xu.useManualTiming?Si.timestamp:performance.now()),ab),set:e=>{ab=e,queueMicrotask(nle)}},Hz=e=>t=>typeof t=="string"&&t.startsWith(e),QC=Hz("--"),ale=Hz("var(--"),JC=e=>ale(e)?ile.test(e.split("/*")[0].trim()):!1,ile=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,jm={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},x1={...jm,transform:e=>yu(0,1,e)},a2={...jm,default:1},vv=e=>Math.round(e*1e5)/1e5,ZC=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function sle(e){return e==null}const ole=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,eP=(e,t)=>r=>!!(typeof r=="string"&&ole.test(r)&&r.startsWith(e)||t&&!sle(r)&&Object.prototype.hasOwnProperty.call(r,t)),Gz=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,i,s,o]=n.match(ZC);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},lle=e=>yu(0,255,e),LA={...jm,transform:e=>Math.round(lle(e))},th={test:eP("rgb","red"),parse:Gz("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+LA.transform(e)+", "+LA.transform(t)+", "+LA.transform(r)+", "+vv(x1.transform(n))+")"};function cle(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const ET={test:eP("#"),parse:cle,transform:th.transform},zy=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),df=zy("deg"),pc=zy("%"),Nr=zy("px"),ule=zy("vh"),fle=zy("vw"),O8={...pc,parse:e=>pc.parse(e)/100,transform:e=>pc.transform(e*100)},K0={test:eP("hsl","hue"),parse:Gz("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+pc.transform(vv(t))+", "+pc.transform(vv(r))+", "+vv(x1.transform(n))+")"},Wi={test:e=>th.test(e)||ET.test(e)||K0.test(e),parse:e=>th.test(e)?th.parse(e):K0.test(e)?K0.parse(e):ET.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?th.transform(e):K0.transform(e)},dle=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function hle(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(ZC))==null?void 0:t.length)||0)+(((r=e.match(dle))==null?void 0:r.length)||0)>0}const Kz="number",Yz="color",ple="var",mle="var(",I8="${}",gle=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function b1(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const o=t.replace(gle,l=>(Wi.test(l)?(n.color.push(i),a.push(Yz),r.push(Wi.parse(l))):l.startsWith(mle)?(n.var.push(i),a.push(ple),r.push(l)):(n.number.push(i),a.push(Kz),r.push(parseFloat(l))),++i,I8)).split(I8);return{values:r,split:o,indexes:n,types:a}}function Xz(e){return b1(e).values}function Qz(e){const{split:t,types:r}=b1(e),n=t.length;return a=>{let i="";for(let s=0;s<n;s++)if(i+=t[s],a[s]!==void 0){const o=r[s];o===Kz?i+=vv(a[s]):o===Yz?i+=Wi.transform(a[s]):i+=a[s]}return i}}const vle=e=>typeof e=="number"?0:e;function yle(e){const t=Xz(e);return Qz(e)(t.map(vle))}const od={test:hle,parse:Xz,createTransformer:Qz,getAnimatableNone:yle};function MA(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function xle({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,i=0,s=0;if(!t)a=i=s=r;else{const o=r<.5?r*(1+t):r+t-r*t,l=2*r-o;a=MA(l,o,e+1/3),i=MA(l,o,e),s=MA(l,o,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:n}}function dw(e,t){return r=>r>0?t:e}const na=(e,t,r)=>e+(t-e)*r,RA=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},ble=[ET,th,K0],wle=e=>ble.find(t=>t.test(e));function D8(e){const t=wle(e);if(!t)return!1;let r=t.parse(e);return t===K0&&(r=xle(r)),r}const L8=(e,t)=>{const r=D8(e),n=D8(t);if(!r||!n)return dw(e,t);const a={...r};return i=>(a.red=RA(r.red,n.red,i),a.green=RA(r.green,n.green,i),a.blue=RA(r.blue,n.blue,i),a.alpha=na(r.alpha,n.alpha,i),th.transform(a))},NT=new Set(["none","hidden"]);function _le(e,t){return NT.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function Sle(e,t){return r=>na(e,t,r)}function tP(e){return typeof e=="number"?Sle:typeof e=="string"?JC(e)?dw:Wi.test(e)?L8:Ele:Array.isArray(e)?Jz:typeof e=="object"?Wi.test(e)?L8:Ale:dw}function Jz(e,t){const r=[...e],n=r.length,a=e.map((i,s)=>tP(i)(i,t[s]));return i=>{for(let s=0;s<n;s++)r[s]=a[s](i);return r}}function Ale(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=tP(e[a])(e[a],t[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function Tle(e,t){const r=[],n={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],s=e.indexes[i][n[i]],o=e.values[s]??0;r[a]=o,n[i]++}return r}const Ele=(e,t)=>{const r=od.createTransformer(t),n=b1(e),a=b1(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?NT.has(e)&&!a.values.length||NT.has(t)&&!n.values.length?_le(e,t):Uy(Jz(Tle(n,a),a.values),r):dw(e,t)};function Zz(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?na(e,t,r):tP(e)(e,t)}const Nle=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>ia.update(t,r),stop:()=>bu(t),now:()=>Si.isProcessing?Si.timestamp:Us.now()}},eq=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let i=0;i<a;i++)n+=e(i/(a-1))+", ";return`linear(${n.substring(0,n.length-2)})`},hw=2e4;function rP(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<hw;)t+=r,n=e.next(t);return t>=hw?1/0:t}function tq(e,t=100,r){const n=r({...e,keyframes:[0,t]}),a=Math.min(rP(n),hw);return{type:"keyframes",ease:i=>n.next(a*i).value/t,duration:hc(a)}}const kle=5;function rq(e,t,r){const n=Math.max(t-kle,0);return Oz(r-e(n),t-n)}const ma={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},FA=.001;function Cle({duration:e=ma.duration,bounce:t=ma.bounce,velocity:r=ma.velocity,mass:n=ma.mass}){let a,i,s=1-t;s=yu(ma.minDamping,ma.maxDamping,s),e=yu(ma.minDuration,ma.maxDuration,hc(e)),s<1?(a=c=>{const u=c*s,d=u*e,h=u-r,p=kT(c,s),g=Math.exp(-d);return FA-h/p*g},i=c=>{const d=c*s*e,h=d*r+r,p=Math.pow(s,2)*Math.pow(c,2)*e,g=Math.exp(-d),m=kT(Math.pow(c,2),s);return(-a(c)+FA>0?-1:1)*((h-p)*g)/m}):(a=c=>{const u=Math.exp(-c*e),d=(c-r)*e+1;return-FA+u*d},i=c=>{const u=Math.exp(-c*e),d=(r-c)*(e*e);return u*d});const o=5/e,l=jle(a,i,o);if(e=Ll(e),isNaN(l))return{stiffness:ma.stiffness,damping:ma.damping,duration:e};{const c=Math.pow(l,2)*n;return{stiffness:c,damping:s*2*Math.sqrt(n*c),duration:e}}}const Ple=12;function jle(e,t,r){let n=r;for(let a=1;a<Ple;a++)n=n-e(n)/t(n);return n}function kT(e,t){return e*Math.sqrt(1-t*t)}const Ole=["duration","bounce"],Ile=["stiffness","damping","mass"];function M8(e,t){return t.some(r=>e[r]!==void 0)}function Dle(e){let t={velocity:ma.velocity,stiffness:ma.stiffness,damping:ma.damping,mass:ma.mass,isResolvedFromDuration:!1,...e};if(!M8(e,Ile)&&M8(e,Ole))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,i=2*yu(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:ma.mass,stiffness:a,damping:i}}else{const r=Cle(e);t={...t,...r,mass:ma.mass},t.isResolvedFromDuration=!0}return t}function w1(e=ma.visualDuration,t=ma.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const i=r.keyframes[0],s=r.keyframes[r.keyframes.length-1],o={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:p}=Dle({...r,velocity:-hc(r.velocity||0)}),g=h||0,m=c/(2*Math.sqrt(l*u)),v=s-i,y=hc(Math.sqrt(l/u)),b=Math.abs(v)<5;n||(n=b?ma.restSpeed.granular:ma.restSpeed.default),a||(a=b?ma.restDelta.granular:ma.restDelta.default);let x;if(m<1){const P=kT(y,m);x=j=>{const T=Math.exp(-m*y*j);return s-T*((g+m*y*v)/P*Math.sin(P*j)+v*Math.cos(P*j))}}else if(m===1)x=P=>s-Math.exp(-y*P)*(v+(g+y*v)*P);else{const P=y*Math.sqrt(m*m-1);x=j=>{const T=Math.exp(-m*y*j),S=Math.min(P*j,300);return s-T*((g+m*y*v)*Math.sinh(S)+P*v*Math.cosh(S))/P}}const O={calculatedDuration:p&&d||null,next:P=>{const j=x(P);if(p)o.done=P>=d;else{let T=P===0?g:0;m<1&&(T=P===0?Ll(g):rq(x,P,j));const S=Math.abs(T)<=n,_=Math.abs(s-j)<=a;o.done=S&&_}return o.value=o.done?s:j,o},toString:()=>{const P=Math.min(rP(O),hw),j=eq(T=>O.next(P*T).value,P,30);return P+"ms "+j},toTransition:()=>{}};return O}w1.applyToOptions=e=>{const t=tq(e,100,w1);return e.ease=t.ease,e.duration=Ll(t.duration),e.type="keyframes",e};function CT({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:s,min:o,max:l,restDelta:c=.5,restSpeed:u}){const d=e[0],h={done:!1,value:d},p=S=>o!==void 0&&S<o||l!==void 0&&S>l,g=S=>o===void 0?l:l===void 0||Math.abs(o-S)<Math.abs(l-S)?o:l;let m=r*t;const v=d+m,y=s===void 0?v:s(v);y!==v&&(m=y-d);const b=S=>-m*Math.exp(-S/n),x=S=>y+b(S),O=S=>{const _=b(S),D=x(S);h.done=Math.abs(_)<=c,h.value=h.done?y:D};let P,j;const T=S=>{p(h.value)&&(P=S,j=w1({keyframes:[h.value,g(h.value)],velocity:rq(x,S,h.value),damping:a,stiffness:i,restDelta:c,restSpeed:u}))};return T(0),{calculatedDuration:null,next:S=>{let _=!1;return!j&&P===void 0&&(_=!0,O(S),T(S)),P!==void 0&&S>=P?j.next(S-P):(!_&&O(S),h)}}}function Lle(e,t,r){const n=[],a=r||xu.mix||Zz,i=e.length-1;for(let s=0;s<i;s++){let o=a(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||Wo:t;o=Uy(l,o)}n.push(o)}return n}function nq(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const i=e.length;if(fw(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=Lle(t,n,a),l=o.length,c=u=>{if(s&&u<e[0])return t[0];let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const h=zp(e[d],e[d+1],u);return o[d](h)};return r?u=>c(yu(e[0],e[i-1],u)):c}function aq(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=zp(0,t,n);e.push(na(r,1,a))}}function iq(e){const t=[0];return aq(t,e.length-1),t}function Mle(e,t){return e.map(r=>r*t)}function Rle(e,t){return e.map(()=>t||Uz).splice(0,e.length-1)}function yv({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=Vz(n)?n.map(P8):P8(n),i={done:!1,value:t[0]},s=Mle(r&&r.length===t.length?r:iq(t),e),o=nq(s,t,{ease:Array.isArray(a)?a:Rle(t,a)});return{calculatedDuration:e,next:l=>(i.value=o(l),i.done=l>=e,i)}}const Fle=e=>e!==null;function nP(e,{repeat:t,repeatType:r="loop"},n,a=1){const i=e.filter(Fle),o=a<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!o||n===void 0?i[o]:n}const $le={decay:CT,inertia:CT,tween:yv,keyframes:yv,spring:w1};function sq(e){typeof e.type=="string"&&(e.type=$le[e.type])}class aP{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const Ble=e=>e/100;class iP extends aP{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(r=!0)=>{var n,a;if(r){const{motionValue:i}=this.options;i&&i.updatedAt!==Us.now()&&this.tick(Us.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(n=this.options).onStop)==null||a.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;sq(t);const{type:r=yv,repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:s=0}=t;let{keyframes:o}=t;const l=r||yv;l!==yv&&typeof o[0]!="number"&&(this.mixKeyframes=Uy(Ble,Zz(o[0],o[1])),o=[0,100]);const c=l({...t,keyframes:o});i==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...o].reverse(),velocity:-s})),c.calculatedDuration===null&&(c.calculatedDuration=rP(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=c}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:a,mixKeyframes:i,mirroredGenerator:s,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return n.next(0);const{delay:c=0,keyframes:u,repeat:d,repeatType:h,repeatDelay:p,type:g,onUpdate:m,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const y=this.currentTime-c*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?y<0:y>a;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let x=this.currentTime,O=n;if(d){const S=Math.min(this.currentTime,a)/o;let _=Math.floor(S),D=S%1;!D&&S>=1&&(D=1),D===1&&_--,_=Math.min(_,d+1),!!(_%2)&&(h==="reverse"?(D=1-D,p&&(D-=p/o)):h==="mirror"&&(O=s)),x=yu(0,1,D)*o}const P=b?{done:!1,value:u[0]}:O.next(x);i&&(P.value=i(P.value));let{done:j}=P;!b&&l!==null&&(j=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return T&&g!==CT&&(P.value=nP(u,this.options,v,this.speed)),m&&m(P.value),T&&this.finish(),P}then(t,r){return this.finished.then(t,r)}get duration(){return hc(this.calculatedDuration)}get time(){return hc(this.currentTime)}set time(t){var r;t=Ll(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Us.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=hc(this.currentTime))}play(){var a,i;if(this.isStopped)return;const{driver:t=Nle,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),(i=(a=this.options).onPlay)==null||i.call(a);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Us.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function Ule(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const rh=e=>e*180/Math.PI,PT=e=>{const t=rh(Math.atan2(e[1],e[0]));return jT(t)},Vle={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:PT,rotateZ:PT,skewX:e=>rh(Math.atan(e[1])),skewY:e=>rh(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},jT=e=>(e=e%360,e<0&&(e+=360),e),R8=PT,F8=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),$8=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),zle={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:F8,scaleY:$8,scale:e=>(F8(e)+$8(e))/2,rotateX:e=>jT(rh(Math.atan2(e[6],e[5]))),rotateY:e=>jT(rh(Math.atan2(-e[2],e[0]))),rotateZ:R8,rotate:R8,skewX:e=>rh(Math.atan(e[4])),skewY:e=>rh(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function OT(e){return e.includes("scale")?1:0}function IT(e,t){if(!e||e==="none")return OT(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=zle,a=r;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Vle,a=o}if(!a)return OT(t);const i=n[t],s=a[1].split(",").map(Wle);return typeof i=="function"?i(s):s[i]}const qle=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return IT(r,t)};function Wle(e){return parseFloat(e.trim())}const Om=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Im=new Set(Om),B8=e=>e===jm||e===Nr,Hle=new Set(["x","y","z"]),Gle=Om.filter(e=>!Hle.has(e));function Kle(e){const t=[];return Gle.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const fh={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>IT(t,"x"),y:(e,{transform:t})=>IT(t,"y")};fh.translateX=fh.x;fh.translateY=fh.y;const dh=new Set;let DT=!1,LT=!1,MT=!1;function oq(){if(LT){const e=Array.from(dh).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=Kle(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,s])=>{var o;(o=n.getValue(i))==null||o.set(s)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}LT=!1,DT=!1,dh.forEach(e=>e.complete(MT)),dh.clear()}function lq(){dh.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(LT=!0)})}function Yle(){MT=!0,lq(),oq(),MT=!1}class sP{constructor(t,r,n,a,i,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(dh.add(this),DT||(DT=!0,ia.read(lq),ia.resolveKeyframes(oq))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;if(t[0]===null){const i=a==null?void 0:a.get(),s=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){const o=n.readValue(r,s);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=s),a&&i===void 0&&a.set(t[0])}Ule(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),dh.delete(this)}cancel(){this.state==="scheduled"&&(dh.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Xle=e=>e.startsWith("--");function Qle(e,t,r){Xle(t)?e.style.setProperty(t,r):e.style[t]=r}const Jle=GC(()=>window.ScrollTimeline!==void 0),Zle={};function ece(e,t){const r=GC(e);return()=>Zle[t]??r()}const cq=ece(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Xg=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,U8={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Xg([0,.65,.55,1]),circOut:Xg([.55,0,1,.45]),backIn:Xg([.31,.01,.66,-.59]),backOut:Xg([.33,1.53,.69,.99])};function uq(e,t){if(e)return typeof e=="function"?cq()?eq(e,t):"ease-out":qz(e)?Xg(e):Array.isArray(e)?e.map(r=>uq(r,t)||U8.easeOut):U8[e]}function tce(e,t,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:s="loop",ease:o="easeOut",times:l}={},c=void 0){const u={[t]:r};l&&(u.offset=l);const d=uq(o,a);Array.isArray(d)&&(u.easing=d);const h={delay:n,duration:a,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"};return c&&(h.pseudoElement=c),e.animate(u,h)}function oP(e){return typeof e=="function"&&"applyToOptions"in e}function rce({type:e,...t}){return oP(e)&&cq()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class nce extends aP{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:a,pseudoElement:i,allowFlatten:s=!1,finalKeyframe:o,onComplete:l}=t;this.isPseudoElement=!!i,this.allowFlatten=s,this.options=t,fw(typeof t.type!="string");const c=rce(t);this.animation=tce(r,n,a,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=nP(a,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(u):Qle(r,n,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return hc(Number(t))}get time(){return hc(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Ll(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Jle()?(this.animation.timeline=t,Wo):r(this)}}const fq={anticipate:Fz,backInOut:Rz,circInOut:Bz};function ace(e){return e in fq}function ice(e){typeof e.ease=="string"&&ace(e.ease)&&(e.ease=fq[e.ease])}const V8=10;class sce extends nce{constructor(t){ice(t),sq(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:a,element:i,...s}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const o=new iP({...s,autoplay:!1}),l=Ll(this.finishedTime??this.time);r.setWithVelocity(o.sample(l-V8).value,o.sample(l).value,V8),o.stop()}}const z8=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(od.test(e)||e==="0")&&!e.startsWith("url("));function oce(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function lce(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],s=z8(a,t),o=z8(i,t);return!s||!o?!1:oce(e)||(r==="spring"||oP(r))&&n}function lP(e){return Pz(e)&&"offsetHeight"in e}const cce=new Set(["opacity","clipPath","filter","transform"]),uce=GC(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function fce(e){var c;const{motionValue:t,name:r,repeatDelay:n,repeatType:a,damping:i,type:s}=e;if(!lP((c=t==null?void 0:t.owner)==null?void 0:c.current))return!1;const{onUpdate:o,transformTemplate:l}=t.owner.getProps();return uce()&&r&&cce.has(r)&&(r!=="transform"||!l)&&!o&&!n&&a!=="mirror"&&i!==0&&s!=="inertia"}const dce=40;class hce extends aP{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:s="loop",keyframes:o,name:l,motionValue:c,element:u,...d}){var g;super(),this.stop=()=>{var m,v;this._animation&&(this._animation.stop(),(m=this.stopTimeline)==null||m.call(this)),(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=Us.now();const h={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:s,name:l,motionValue:c,element:u,...d},p=(u==null?void 0:u.KeyframeResolver)||sP;this.keyframeResolver=new p(o,(m,v,y)=>this.onKeyframesResolved(m,v,h,!y),l,c,u),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(t,r,n,a){this.keyframeResolver=void 0;const{name:i,type:s,velocity:o,delay:l,isHandoff:c,onUpdate:u}=n;this.resolvedAt=Us.now(),lce(t,i,s,o)||((xu.instantAnimations||!l)&&(u==null||u(nP(t,n,r))),t[0]=t[t.length-1],n.duration=0,n.repeat=0);const h={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>dce?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},p=!c&&fce(h)?new sce({...h,element:h.motionValue.owner.current}):new iP(h);p.finished.then(()=>this.notifyFinished()).catch(Wo),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Yle()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}class pce{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t){const r=this.animations.map(n=>n.attachTimeline(t));return()=>{r.forEach((n,a)=>{n&&n(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class mce extends pce{then(t,r){return this.finished.finally(t).then(()=>{})}}const gce=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function vce(e){const t=gce.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function dq(e,t,r=1){const[n,a]=vce(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const s=i.trim();return Cz(s)?parseFloat(s):s}return JC(a)?dq(a,t,r+1):a}function cP(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const hq=new Set(["width","height","top","left","right","bottom",...Om]),yce={test:e=>e==="auto",parse:e=>e},pq=e=>t=>t.test(e),mq=[jm,Nr,pc,df,fle,ule,yce],q8=e=>mq.find(pq(e));function xce(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||jz(e):!0}const bce=new Set(["brightness","contrast","saturate","opacity"]);function wce(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(ZC)||[];if(!n)return e;const a=r.replace(n,"");let i=bce.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+a+")"}const _ce=/\b([a-z-]*)\(.*?\)/gu,RT={...od,getAnimatableNone:e=>{const t=e.match(_ce);return t?t.map(wce).join(" "):e}},W8={...jm,transform:Math.round},Sce={rotate:df,rotateX:df,rotateY:df,rotateZ:df,scale:a2,scaleX:a2,scaleY:a2,scaleZ:a2,skew:df,skewX:df,skewY:df,distance:Nr,translateX:Nr,translateY:Nr,translateZ:Nr,x:Nr,y:Nr,z:Nr,perspective:Nr,transformPerspective:Nr,opacity:x1,originX:O8,originY:O8,originZ:Nr},uP={borderWidth:Nr,borderTopWidth:Nr,borderRightWidth:Nr,borderBottomWidth:Nr,borderLeftWidth:Nr,borderRadius:Nr,radius:Nr,borderTopLeftRadius:Nr,borderTopRightRadius:Nr,borderBottomRightRadius:Nr,borderBottomLeftRadius:Nr,width:Nr,maxWidth:Nr,height:Nr,maxHeight:Nr,top:Nr,right:Nr,bottom:Nr,left:Nr,padding:Nr,paddingTop:Nr,paddingRight:Nr,paddingBottom:Nr,paddingLeft:Nr,margin:Nr,marginTop:Nr,marginRight:Nr,marginBottom:Nr,marginLeft:Nr,backgroundPositionX:Nr,backgroundPositionY:Nr,...Sce,zIndex:W8,fillOpacity:x1,strokeOpacity:x1,numOctaves:W8},Ace={...uP,color:Wi,backgroundColor:Wi,outlineColor:Wi,fill:Wi,stroke:Wi,borderColor:Wi,borderTopColor:Wi,borderRightColor:Wi,borderBottomColor:Wi,borderLeftColor:Wi,filter:RT,WebkitFilter:RT},gq=e=>Ace[e];function vq(e,t){let r=gq(e);return r!==RT&&(r=od),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const Tce=new Set(["auto","none","0"]);function Ece(e,t,r){let n=0,a;for(;n<e.length&&!a;){const i=e[n];typeof i=="string"&&!Tce.has(i)&&b1(i).values.length&&(a=e[n]),n++}if(a&&r)for(const i of t)e[i]=vq(r,a)}class Nce extends sP{constructor(t,r,n,a,i){super(t,r,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),JC(c))){const u=dq(c,r.current);u!==void 0&&(t[l]=u),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!hq.has(n)||t.length!==2)return;const[a,i]=t,s=q8(a),o=q8(i);if(s!==o)if(B8(s)&&B8(o))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else fh[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)(t[a]===null||xce(t[a]))&&n.push(a);n.length&&Ece(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=fh[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){var o;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=n.length-1,s=n[i];n[i]=fh[r](t.measureViewportBox(),window.getComputedStyle(t.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function yq(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const a=(r==null?void 0:r[e])??n.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const H8=30,kce=e=>!isNaN(parseFloat(e)),xv={current:void 0};class Cce{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,a=!0)=>{var s,o;const i=Us.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();a&&((o=this.events.renderRequest)==null||o.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Us.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=kce(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new KC);const n=this.events[t].add(r);return t==="change"?()=>{n(),ia.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return xv.current&&xv.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=Us.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>H8)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,H8);return Oz(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Nh(e,t){return new Cce(e,t)}const xq=(e,t)=>t&&typeof e=="number"?t.transform(e):e,{schedule:fP,cancel:wWe}=Wz(queueMicrotask,!1),vl={x:!1,y:!1};function bq(){return vl.x||vl.y}function Pce(e){return e==="x"||e==="y"?vl[e]?null:(vl[e]=!0,()=>{vl[e]=!1}):vl.x||vl.y?null:(vl.x=vl.y=!0,()=>{vl.x=vl.y=!1})}function wq(e,t){const r=yq(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function G8(e){return!(e.pointerType==="touch"||bq())}function jce(e,t,r={}){const[n,a,i]=wq(e,r),s=o=>{if(!G8(o))return;const{target:l}=o,c=t(l,o);if(typeof c!="function"||!l)return;const u=d=>{G8(d)&&(c(d),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,a)};return n.forEach(o=>{o.addEventListener("pointerenter",s,a)}),i}const _q=(e,t)=>t?e===t?!0:_q(e,t.parentElement):!1,dP=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Oce=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Ice(e){return Oce.has(e.tagName)||e.tabIndex!==-1}const ib=new WeakSet;function K8(e){return t=>{t.key==="Enter"&&e(t)}}function $A(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Dce=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=K8(()=>{if(ib.has(r))return;$A(r,"down");const a=K8(()=>{$A(r,"up")}),i=()=>$A(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function Y8(e){return dP(e)&&!bq()}function Lce(e,t,r={}){const[n,a,i]=wq(e,r),s=o=>{const l=o.currentTarget;if(!Y8(o))return;ib.add(l);const c=t(l,o),u=(p,g)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",h),ib.has(l)&&ib.delete(l),Y8(p)&&typeof c=="function"&&c(p,{success:g})},d=p=>{u(p,l===window||l===document||r.useGlobalTarget||_q(l,p.target))},h=p=>{u(p,!1)};window.addEventListener("pointerup",d,a),window.addEventListener("pointercancel",h,a)};return n.forEach(o=>{(r.useGlobalTarget?window:o).addEventListener("pointerdown",s,a),lP(o)&&(o.addEventListener("focus",c=>Dce(c,a)),!Ice(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),i}function hP(e){return Pz(e)&&"ownerSVGElement"in e}function Sq(e){return hP(e)&&e.tagName==="svg"}function Mce(...e){const t=!Array.isArray(e[0]),r=t?0:-1,n=e[0+r],a=e[1+r],i=e[2+r],s=e[3+r],o=nq(a,i,s);return t?o(n):o}const fi=e=>!!(e&&e.getVelocity),Rce=[...mq,Wi,od],Fce=e=>Rce.find(pq(e)),A_=F.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class $ce extends F.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=lP(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Bce({children:e,isPresent:t,anchorX:r}){const n=F.useId(),a=F.useRef(null),i=F.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:s}=F.useContext(A_);return F.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u,right:d}=i.current;if(t||!a.current||!o||!l)return;const h=r==="left"?`left: ${u}`:`right: ${d}`;a.current.dataset.motionPopId=n;const p=document.createElement("style");return s&&(p.nonce=s),document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            ${h}px !important;
            top: ${c}px !important;
          }
        `),()=>{document.head.contains(p)&&document.head.removeChild(p)}},[t]),f.jsx($ce,{isPresent:t,childRef:a,sizeRef:i,children:F.cloneElement(e,{ref:a})})}const Uce=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:s,anchorX:o})=>{const l=By(Vce),c=F.useId();let u=!0,d=F.useMemo(()=>(u=!1,{id:c,initial:t,isPresent:r,custom:a,onExitComplete:h=>{l.set(h,!0);for(const p of l.values())if(!p)return;n&&n()},register:h=>(l.set(h,!1),()=>l.delete(h))}),[r,l,n]);return i&&u&&(d={...d}),F.useMemo(()=>{l.forEach((h,p)=>l.set(p,!1))},[r]),F.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),s==="popLayout"&&(e=f.jsx(Bce,{isPresent:r,anchorX:o,children:e})),f.jsx(__.Provider,{value:d,children:e})};function Vce(){return new Map}function Aq(e=!0){const t=F.useContext(__);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=t,i=F.useId();F.useEffect(()=>{if(e)return a(i)},[e]);const s=F.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,s]:[!0]}const i2=e=>e.key||"";function X8(e){const t=[];return F.Children.forEach(e,r=>{F.isValidElement(r)&&t.push(r)}),t}const sb=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:i="sync",propagate:s=!1,anchorX:o="left"})=>{const[l,c]=Aq(s),u=F.useMemo(()=>X8(e),[e]),d=s&&!l?[]:u.map(i2),h=F.useRef(!0),p=F.useRef(u),g=By(()=>new Map),[m,v]=F.useState(u),[y,b]=F.useState(u);WC(()=>{h.current=!1,p.current=u;for(let P=0;P<y.length;P++){const j=i2(y[P]);d.includes(j)?g.delete(j):g.get(j)!==!0&&g.set(j,!1)}},[y,d.length,d.join("-")]);const x=[];if(u!==m){let P=[...u];for(let j=0;j<y.length;j++){const T=y[j],S=i2(T);d.includes(S)||(P.splice(j,0,T),x.push(T))}return i==="wait"&&x.length&&(P=x),b(X8(P)),v(u),null}const{forceRender:O}=F.useContext(zC);return f.jsx(f.Fragment,{children:y.map(P=>{const j=i2(P),T=s&&!l?!1:u===y||d.includes(j),S=()=>{if(g.has(j))g.set(j,!0);else return;let _=!0;g.forEach(D=>{D||(_=!1)}),_&&(O==null||O(),b(p.current),s&&(c==null||c()),n&&n())};return f.jsx(Uce,{isPresent:T,initial:!h.current||r?void 0:!1,custom:t,presenceAffectsLayout:a,mode:i,onExitComplete:T?void 0:S,anchorX:o,children:P},j)})})},Tq=F.createContext({strict:!1}),Q8={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},qp={};for(const e in Q8)qp[e]={isEnabled:t=>Q8[e].some(r=>!!t[r])};function zce(e){for(const t in e)qp[t]={...qp[t],...e[t]}}const qce=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function pw(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||qce.has(e)}let Eq=e=>!pw(e);function Wce(e){e&&(Eq=t=>t.startsWith("on")?!pw(t):e(t))}try{Wce(require("@emotion/is-prop-valid").default)}catch{}function Hce(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(Eq(a)||r===!0&&pw(a)||!t&&!pw(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}function Gce(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const T_=F.createContext({});function E_(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function _1(e){return typeof e=="string"||Array.isArray(e)}const pP=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],mP=["initial",...pP];function N_(e){return E_(e.animate)||mP.some(t=>_1(e[t]))}function Nq(e){return!!(N_(e)||e.variants)}function Kce(e,t){if(N_(e)){const{initial:r,animate:n}=e;return{initial:r===!1||_1(r)?r:void 0,animate:_1(n)?n:void 0}}return e.inherit!==!1?t:{}}function Yce(e){const{initial:t,animate:r}=Kce(e,F.useContext(T_));return F.useMemo(()=>({initial:t,animate:r}),[J8(t),J8(r)])}function J8(e){return Array.isArray(e)?e.join(" "):e}const Xce=Symbol.for("motionComponentSymbol");function Y0(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Qce(e,t,r){return F.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Y0(r)&&(r.current=n))},[t])}const gP=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Jce="framerAppearId",kq="data-"+gP(Jce),Cq=F.createContext({});function Zce(e,t,r,n,a){var m,v;const{visualElement:i}=F.useContext(T_),s=F.useContext(Tq),o=F.useContext(__),l=F.useContext(A_).reducedMotion,c=F.useRef(null);n=n||s.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:i,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,d=F.useContext(Cq);u&&!u.projection&&a&&(u.type==="html"||u.type==="svg")&&eue(c.current,r,a,d);const h=F.useRef(!1);F.useInsertionEffect(()=>{u&&h.current&&u.update(r,o)});const p=r[kq],g=F.useRef(!!p&&!((m=window.MotionHandoffIsComplete)!=null&&m.call(window,p))&&((v=window.MotionHasOptimisedAnimation)==null?void 0:v.call(window,p)));return WC(()=>{u&&(h.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),fP.render(u.render),g.current&&u.animationState&&u.animationState.animateChanges())}),F.useEffect(()=>{u&&(!g.current&&u.animationState&&u.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,p)}),g.current=!1))}),u}function eue(e,t,r,n){const{layoutId:a,layout:i,drag:s,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:Pq(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!s||o&&Y0(o),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:u,layoutScroll:l,layoutRoot:c})}function Pq(e){if(e)return e.options.allowProjection!==!1?e.projection:Pq(e.parent)}function tue({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:a}){e&&zce(e);function i(o,l){let c;const u={...F.useContext(A_),...o,layoutId:rue(o)},{isStatic:d}=u,h=Yce(o),p=n(o,d);if(!d&&qC){nue();const g=aue(u);c=g.MeasureLayout,h.visualElement=Zce(a,p,u,t,g.ProjectionNode)}return f.jsxs(T_.Provider,{value:h,children:[c&&h.visualElement?f.jsx(c,{visualElement:h.visualElement,...u}):null,r(a,o,Qce(p,h.visualElement,l),p,d,h.visualElement)]})}i.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const s=F.forwardRef(i);return s[Xce]=a,s}function rue({layoutId:e}){const t=F.useContext(zC).id;return t&&e!==void 0?t+"-"+e:e}function nue(e,t){F.useContext(Tq).strict}function aue(e){const{drag:t,layout:r}=qp;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const S1={};function iue(e){for(const t in e)S1[t]=e[t],QC(t)&&(S1[t].isCSSVariable=!0)}function jq(e,{layout:t,layoutId:r}){return Im.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!S1[e]||e==="opacity")}const sue={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},oue=Om.length;function lue(e,t,r){let n="",a=!0;for(let i=0;i<oue;i++){const s=Om[i],o=e[s];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(s.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||r){const c=xq(o,uP[s]);if(!l){a=!1;const u=sue[s]||s;n+=`${u}(${c}) `}r&&(t[s]=c)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function vP(e,t,r){const{style:n,vars:a,transformOrigin:i}=e;let s=!1,o=!1;for(const l in t){const c=t[l];if(Im.has(l)){s=!0;continue}else if(QC(l)){a[l]=c;continue}else{const u=xq(c,uP[l]);l.startsWith("origin")?(o=!0,i[l]=u):n[l]=u}}if(t.transform||(s||r?n.transform=lue(t,e.transform,r):n.transform&&(n.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:u=0}=i;n.transformOrigin=`${l} ${c} ${u}`}}const yP=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Oq(e,t,r){for(const n in t)!fi(t[n])&&!jq(n,r)&&(e[n]=t[n])}function cue({transformTemplate:e},t){return F.useMemo(()=>{const r=yP();return vP(r,t,e),Object.assign({},r.vars,r.style)},[t])}function uue(e,t){const r=e.style||{},n={};return Oq(n,r,e),Object.assign(n,cue(e,t)),n}function fue(e,t){const r={},n=uue(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const due={offset:"stroke-dashoffset",array:"stroke-dasharray"},hue={offset:"strokeDashoffset",array:"strokeDasharray"};function pue(e,t,r=1,n=0,a=!0){e.pathLength=1;const i=a?due:hue;e[i.offset]=Nr.transform(-n);const s=Nr.transform(t),o=Nr.transform(r);e[i.array]=`${s} ${o}`}function Iq(e,{attrX:t,attrY:r,attrScale:n,pathLength:a,pathSpacing:i=1,pathOffset:s=0,...o},l,c,u){if(vP(e,o,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:d,style:h}=e;d.transform&&(h.transform=d.transform,delete d.transform),(h.transform||d.transformOrigin)&&(h.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),h.transform&&(h.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete d.transformBox),t!==void 0&&(d.x=t),r!==void 0&&(d.y=r),n!==void 0&&(d.scale=n),a!==void 0&&pue(d,a,i,s,!1)}const Dq=()=>({...yP(),attrs:{}}),Lq=e=>typeof e=="string"&&e.toLowerCase()==="svg";function mue(e,t,r,n){const a=F.useMemo(()=>{const i=Dq();return Iq(i,t,Lq(n),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Oq(i,e.style,e),a.style={...i,...a.style}}return a}const gue=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function xP(e){return typeof e!="string"||e.includes("-")?!1:!!(gue.indexOf(e)>-1||/[A-Z]/u.test(e))}function vue(e=!1){return(r,n,a,{latestValues:i},s)=>{const l=(xP(r)?mue:fue)(n,i,s,r),c=Hce(n,typeof r=="string",e),u=r!==F.Fragment?{...c,...l,ref:a}:{},{children:d}=n,h=F.useMemo(()=>fi(d)?d.get():d,[d]);return F.createElement(r,{...u,children:h})}}function Z8(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function bP(e,t,r,n){if(typeof t=="function"){const[a,i]=Z8(n);t=t(r!==void 0?r:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=Z8(n);t=t(r!==void 0?r:e.custom,a,i)}return t}function ob(e){return fi(e)?e.get():e}function yue({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,a){return{latestValues:xue(r,n,a,e),renderState:t()}}const Mq=e=>(t,r)=>{const n=F.useContext(T_),a=F.useContext(__),i=()=>yue(e,t,n,a);return r?i():By(i)};function xue(e,t,r,n){const a={},i=n(e,{});for(const h in i)a[h]=ob(i[h]);let{initial:s,animate:o}=e;const l=N_(e),c=Nq(e);t&&c&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),o===void 0&&(o=t.animate));let u=r?r.initial===!1:!1;u=u||s===!1;const d=u?o:s;if(d&&typeof d!="boolean"&&!E_(d)){const h=Array.isArray(d)?d:[d];for(let p=0;p<h.length;p++){const g=bP(e,h[p]);if(g){const{transitionEnd:m,transition:v,...y}=g;for(const b in y){let x=y[b];if(Array.isArray(x)){const O=u?x.length-1:0;x=x[O]}x!==null&&(a[b]=x)}for(const b in m)a[b]=m[b]}}}return a}function wP(e,t,r){var i;const{style:n}=e,a={};for(const s in n)(fi(n[s])||t.style&&fi(t.style[s])||jq(s,e)||((i=r==null?void 0:r.getValue(s))==null?void 0:i.liveStyle)!==void 0)&&(a[s]=n[s]);return a}const bue={useVisualState:Mq({scrapeMotionValuesFromProps:wP,createRenderState:yP})};function Rq(e,t,r){const n=wP(e,t,r);for(const a in e)if(fi(e[a])||fi(t[a])){const i=Om.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=e[a]}return n}const wue={useVisualState:Mq({scrapeMotionValuesFromProps:Rq,createRenderState:Dq})};function _ue(e,t){return function(n,{forwardMotionProps:a}={forwardMotionProps:!1}){const s={...xP(n)?wue:bue,preloadedFeatures:e,useRender:vue(a),createVisualElement:t,Component:n};return tue(s)}}function A1(e,t,r){const n=e.getProps();return bP(n,t,r!==void 0?r:n.custom,e)}const FT=e=>Array.isArray(e);function Sue(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Nh(r))}function Aue(e){return FT(e)?e[e.length-1]||0:e}function Tue(e,t){const r=A1(e,t);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const s in i){const o=Aue(i[s]);Sue(e,s,o)}}function Eue(e){return!!(fi(e)&&e.add)}function $T(e,t){const r=e.getValue("willChange");if(Eue(r))return r.add(t);if(!r&&xu.WillChange){const n=new xu.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function Fq(e){return e.props[kq]}const Nue=e=>e!==null;function kue(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(Nue),i=t&&r!=="loop"&&t%2===1?0:a.length-1;return!i||n===void 0?a[i]:n}const Cue={type:"spring",stiffness:500,damping:25,restSpeed:10},Pue=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),jue={type:"keyframes",duration:.8},Oue={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Iue=(e,{keyframes:t})=>t.length>2?jue:Im.has(e)?e.startsWith("scale")?Pue(t[1]):Cue:Oue;function Due({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:s,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const _P=(e,t,r,n={},a,i)=>s=>{const o=cP(n,e)||{},l=o.delay||n.delay||0;let{elapsed:c=0}=n;c=c-Ll(l);const u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:h=>{t.set(h),o.onUpdate&&o.onUpdate(h)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:i?void 0:a};Due(o)||Object.assign(u,Iue(e,u)),u.duration&&(u.duration=Ll(u.duration)),u.repeatDelay&&(u.repeatDelay=Ll(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(d=!0)),(xu.instantAnimations||xu.skipAnimations)&&(d=!0,u.duration=0,u.delay=0),u.allowFlatten=!o.type&&!o.ease,d&&!i&&t.get()!==void 0){const h=kue(u.keyframes,o);if(h!==void 0){ia.update(()=>{u.onUpdate(h),u.onComplete()});return}}return o.isSync?new iP(u):new hce(u)};function Lue({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function SP(e,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:s,...o}=t;n&&(i=n);const l=[],c=a&&e.animationState&&e.animationState.getState()[a];for(const u in o){const d=e.getValue(u,e.latestValues[u]??null),h=o[u];if(h===void 0||c&&Lue(c,u))continue;const p={delay:r,...cP(i||{},u)},g=d.get();if(g!==void 0&&!d.isAnimating&&!Array.isArray(h)&&h===g&&!p.velocity)continue;let m=!1;if(window.MotionHandoffAnimation){const y=Fq(e);if(y){const b=window.MotionHandoffAnimation(y,u,ia);b!==null&&(p.startTime=b,m=!0)}}$T(e,u),d.start(_P(u,d,h,e.shouldReduceMotion&&hq.has(u)?{type:!1}:p,e,m));const v=d.animation;v&&l.push(v)}return s&&Promise.all(l).then(()=>{ia.update(()=>{s&&Tue(e,s)})}),l}function BT(e,t,r={}){var l;const n=A1(e,t,r.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const i=n?()=>Promise.all(SP(e,n,r)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=a;return Mue(e,t,u+c,d,h,r)}:()=>Promise.resolve(),{when:o}=a;if(o){const[c,u]=o==="beforeChildren"?[i,s]:[s,i];return c().then(()=>u())}else return Promise.all([i(),s(r.delay)])}function Mue(e,t,r=0,n=0,a=1,i){const s=[],o=(e.variantChildren.size-1)*n,l=a===1?(c=0)=>c*n:(c=0)=>o-c*n;return Array.from(e.variantChildren).sort(Rue).forEach((c,u)=>{c.notify("AnimationStart",t),s.push(BT(c,t,{...i,delay:r+l(u)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(s)}function Rue(e,t){return e.sortNodePosition(t)}function Fue(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(i=>BT(e,i,r));n=Promise.all(a)}else if(typeof t=="string")n=BT(e,t,r);else{const a=typeof t=="function"?A1(e,t,r.custom):t;n=Promise.all(SP(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function $q(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const $ue=mP.length;function Bq(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?Bq(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<$ue;r++){const n=mP[r],a=e.props[n];(_1(a)||a===!1)&&(t[n]=a)}return t}const Bue=[...pP].reverse(),Uue=pP.length;function Vue(e){return t=>Promise.all(t.map(({animation:r,options:n})=>Fue(e,r,n)))}function zue(e){let t=Vue(e),r=eD(),n=!0;const a=l=>(c,u)=>{var h;const d=A1(e,u,l==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(d){const{transition:p,transitionEnd:g,...m}=d;c={...c,...m,...g}}return c};function i(l){t=l(e)}function s(l){const{props:c}=e,u=Bq(e.parent)||{},d=[],h=new Set;let p={},g=1/0;for(let v=0;v<Uue;v++){const y=Bue[v],b=r[y],x=c[y]!==void 0?c[y]:u[y],O=_1(x),P=y===l?b.isActive:null;P===!1&&(g=v);let j=x===u[y]&&x!==c[y]&&O;if(j&&n&&e.manuallyAnimateOnMount&&(j=!1),b.protectedKeys={...p},!b.isActive&&P===null||!x&&!b.prevProp||E_(x)||typeof x=="boolean")continue;const T=que(b.prevProp,x);let S=T||y===l&&b.isActive&&!j&&O||v>g&&O,_=!1;const D=Array.isArray(x)?x:[x];let E=D.reduce(a(y),{});P===!1&&(E={});const{prevResolvedValues:N={}}=b,k={...N,...E},V=G=>{S=!0,h.has(G)&&(_=!0,h.delete(G)),b.needsAnimating[G]=!0;const q=e.getValue(G);q&&(q.liveStyle=!1)};for(const G in k){const q=E[G],U=N[G];if(p.hasOwnProperty(G))continue;let ee=!1;FT(q)&&FT(U)?ee=!$q(q,U):ee=q!==U,ee?q!=null?V(G):h.add(G):q!==void 0&&h.has(G)?V(G):b.protectedKeys[G]=!0}b.prevProp=x,b.prevResolvedValues=E,b.isActive&&(p={...p,...E}),n&&e.blockInitialAnimation&&(S=!1),S&&(!(j&&T)||_)&&d.push(...D.map(G=>({animation:G,options:{type:y}})))}if(h.size){const v={};if(typeof c.initial!="boolean"){const y=A1(e,Array.isArray(c.initial)?c.initial[0]:c.initial);y&&y.transition&&(v.transition=y.transition)}h.forEach(y=>{const b=e.getBaseTarget(y),x=e.getValue(y);x&&(x.liveStyle=!0),v[y]=b??null}),d.push({animation:v})}let m=!!d.length;return n&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(m=!1),n=!1,m?t(d):Promise.resolve()}function o(l,c){var d;if(r[l].isActive===c)return Promise.resolve();(d=e.variantChildren)==null||d.forEach(h=>{var p;return(p=h.animationState)==null?void 0:p.setActive(l,c)}),r[l].isActive=c;const u=s(l);for(const h in r)r[h].protectedKeys={};return u}return{animateChanges:s,setActive:o,setAnimateFunction:i,getState:()=>r,reset:()=>{r=eD(),n=!0}}}function que(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!$q(t,e):!1}function Rd(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function eD(){return{animate:Rd(!0),whileInView:Rd(),whileHover:Rd(),whileTap:Rd(),whileDrag:Rd(),whileFocus:Rd(),exit:Rd()}}class vd{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Wue extends vd{constructor(t){super(t),t.animationState||(t.animationState=zue(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();E_(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let Hue=0;class Gue extends vd{constructor(){super(...arguments),this.id=Hue++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Kue={animation:{Feature:Wue},exit:{Feature:Gue}};function T1(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function qy(e){return{point:{x:e.pageX,y:e.pageY}}}const Yue=e=>t=>dP(t)&&e(t,qy(t));function bv(e,t,r,n){return T1(e,t,Yue(r),n)}function Uq({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function Xue({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Que(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}const Vq=1e-4,Jue=1-Vq,Zue=1+Vq,zq=.01,efe=0-zq,tfe=0+zq;function ws(e){return e.max-e.min}function rfe(e,t,r){return Math.abs(e-t)<=r}function tD(e,t,r,n=.5){e.origin=n,e.originPoint=na(t.min,t.max,e.origin),e.scale=ws(r)/ws(t),e.translate=na(r.min,r.max,e.origin)-e.originPoint,(e.scale>=Jue&&e.scale<=Zue||isNaN(e.scale))&&(e.scale=1),(e.translate>=efe&&e.translate<=tfe||isNaN(e.translate))&&(e.translate=0)}function wv(e,t,r,n){tD(e.x,t.x,r.x,n?n.originX:void 0),tD(e.y,t.y,r.y,n?n.originY:void 0)}function rD(e,t,r){e.min=r.min+t.min,e.max=e.min+ws(t)}function nfe(e,t,r){rD(e.x,t.x,r.x),rD(e.y,t.y,r.y)}function nD(e,t,r){e.min=t.min-r.min,e.max=e.min+ws(t)}function _v(e,t,r){nD(e.x,t.x,r.x),nD(e.y,t.y,r.y)}const aD=()=>({translate:0,scale:1,origin:0,originPoint:0}),X0=()=>({x:aD(),y:aD()}),iD=()=>({min:0,max:0}),ha=()=>({x:iD(),y:iD()});function Lo(e){return[e("x"),e("y")]}function BA(e){return e===void 0||e===1}function UT({scale:e,scaleX:t,scaleY:r}){return!BA(e)||!BA(t)||!BA(r)}function Vd(e){return UT(e)||qq(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function qq(e){return sD(e.x)||sD(e.y)}function sD(e){return e&&e!=="0%"}function mw(e,t,r){const n=e-r,a=t*n;return r+a}function oD(e,t,r,n,a){return a!==void 0&&(e=mw(e,a,n)),mw(e,r,n)+t}function VT(e,t=0,r=1,n,a){e.min=oD(e.min,t,r,n,a),e.max=oD(e.max,t,r,n,a)}function Wq(e,{x:t,y:r}){VT(e.x,t.translate,t.scale,t.originPoint),VT(e.y,r.translate,r.scale,r.originPoint)}const lD=.999999999999,cD=1.0000000000001;function afe(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,s;for(let o=0;o<a;o++){i=r[o],s=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&J0(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,Wq(e,s)),n&&Vd(i.latestValues)&&J0(e,i.latestValues))}t.x<cD&&t.x>lD&&(t.x=1),t.y<cD&&t.y>lD&&(t.y=1)}function Q0(e,t){e.min=e.min+t,e.max=e.max+t}function uD(e,t,r,n,a=.5){const i=na(e.min,e.max,a);VT(e,t,r,i,n)}function J0(e,t){uD(e.x,t.x,t.scaleX,t.scale,t.originX),uD(e.y,t.y,t.scaleY,t.scale,t.originY)}function Hq(e,t){return Uq(Que(e.getBoundingClientRect(),t))}function ife(e,t,r){const n=Hq(e,r),{scroll:a}=t;return a&&(Q0(n.x,a.offset.x),Q0(n.y,a.offset.y)),n}const Gq=({current:e})=>e?e.ownerDocument.defaultView:null,fD=(e,t)=>Math.abs(e-t);function sfe(e,t){const r=fD(e.x,t.x),n=fD(e.y,t.y);return Math.sqrt(r**2+n**2)}class Kq{constructor(t,r,{transformPagePoint:n,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=VA(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=sfe(d.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:g}=d,{timestamp:m}=Si;this.history.push({...g,timestamp:m});const{onStart:v,onMove:y}=this.handlers;h||(v&&v(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,d)},this.handlePointerMove=(d,h)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=UA(h,this.transformPagePoint),ia.update(this.updatePoint,!0)},this.handlePointerUp=(d,h)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=VA(d.type==="pointercancel"?this.lastMoveEventInfo:UA(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(d,v),g&&g(d,v)},!dP(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=a||window;const s=qy(t),o=UA(s,this.transformPagePoint),{point:l}=o,{timestamp:c}=Si;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=r;u&&u(t,VA(o,this.history)),this.removeListeners=Uy(bv(this.contextWindow,"pointermove",this.handlePointerMove),bv(this.contextWindow,"pointerup",this.handlePointerUp),bv(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),bu(this.updatePoint)}}function UA(e,t){return t?{point:t(e.point)}:e}function dD(e,t){return{x:e.x-t.x,y:e.y-t.y}}function VA({point:e},t){return{point:e,delta:dD(e,Yq(t)),offset:dD(e,ofe(t)),velocity:lfe(t,.1)}}function ofe(e){return e[0]}function Yq(e){return e[e.length-1]}function lfe(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=Yq(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>Ll(t)));)r--;if(!n)return{x:0,y:0};const i=hc(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const s={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function cfe(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?na(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?na(r,e,n.max):Math.min(e,r)),e}function hD(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function ufe(e,{top:t,left:r,bottom:n,right:a}){return{x:hD(e.x,r,a),y:hD(e.y,t,n)}}function pD(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function ffe(e,t){return{x:pD(e.x,t.x),y:pD(e.y,t.y)}}function dfe(e,t){let r=.5;const n=ws(e),a=ws(t);return a>n?r=zp(t.min,t.max-n,e.min):n>a&&(r=zp(e.min,e.max-a,t.min)),yu(0,1,r)}function hfe(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const zT=.35;function pfe(e=zT){return e===!1?e=0:e===!0&&(e=zT),{x:mD(e,"left","right"),y:mD(e,"top","bottom")}}function mD(e,t,r){return{min:gD(e,t),max:gD(e,r)}}function gD(e,t){return typeof e=="number"?e:e[t]||0}const mfe=new WeakMap;class gfe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ha(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(qy(u).point)},i=(u,d)=>{const{drag:h,dragPropagation:p,onDragStart:g}=this.getProps();if(h&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Pce(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Lo(v=>{let y=this.getAxisMotionValue(v).get()||0;if(pc.test(y)){const{projection:b}=this.visualElement;if(b&&b.layout){const x=b.layout.layoutBox[v];x&&(y=ws(x)*(parseFloat(y)/100))}}this.originPoint[v]=y}),g&&ia.postRender(()=>g(u,d)),$T(this.visualElement,"transform");const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},s=(u,d)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:g,onDrag:m}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:v}=d;if(p&&this.currentDirection===null){this.currentDirection=vfe(v),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",d.point,v),this.updateAxis("y",d.point,v),this.visualElement.render(),m&&m(u,d)},o=(u,d)=>this.stop(u,d),l=()=>Lo(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)==null?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new Kq(t,{onSessionStart:a,onStart:i,onMove:s,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:Gq(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&ia.postRender(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!s2(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let s=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(s=cfe(s,this.constraints[t],this.elastic[t])),i.set(s)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,a=this.constraints;t&&Y0(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=ufe(n.layoutBox,t):this.constraints=!1,this.elastic=pfe(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Lo(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=hfe(n.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Y0(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=ife(n,a.root,this.visualElement.getTransformPagePoint());let s=ffe(a.layout.layoutBox,i);if(r){const o=r(Xue(s));this.hasMutatedConstraints=!!o,o&&(s=Uq(o))}return s}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=Lo(u=>{if(!s2(u,r,this.currentDirection))return;let d=l&&l[u]||{};s&&(d={min:0,max:0});const h=a?200:1e6,p=a?40:1e7,g={type:"inertia",velocity:n?t[u]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(u,g)});return Promise.all(c).then(o)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return $T(this.visualElement,t),n.start(_P(t,n,0,r,this.visualElement,!1))}stopAnimation(){Lo(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Lo(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Lo(r=>{const{drag:n}=this.getProps();if(!s2(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:s,max:o}=a.layout.layoutBox[r];i.set(t[r]-na(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Y0(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Lo(s=>{const o=this.getAxisMotionValue(s);if(o&&this.constraints!==!1){const l=o.get();a[s]=dfe({min:l,max:l},this.constraints[s])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Lo(s=>{if(!s2(s,t,null))return;const o=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];o.set(na(l,c,a[s]))})}addListeners(){if(!this.visualElement.current)return;mfe.set(this.visualElement,this);const t=this.visualElement.current,r=bv(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();Y0(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ia.read(n);const s=T1(window,"resize",()=>this.scalePositionWithinConstraints()),o=a.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Lo(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{s(),r(),i(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:s=zT,dragMomentum:o=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:s,dragMomentum:o}}}function s2(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function vfe(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class yfe extends vd{constructor(t){super(t),this.removeGroupControls=Wo,this.removeListeners=Wo,this.controls=new gfe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Wo}unmount(){this.removeGroupControls(),this.removeListeners()}}const vD=e=>(t,r)=>{e&&ia.postRender(()=>e(t,r))};class xfe extends vd{constructor(){super(...arguments),this.removePointerDownListener=Wo}onPointerDown(t){this.session=new Kq(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Gq(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:vD(t),onStart:vD(r),onMove:n,onEnd:(i,s)=>{delete this.session,a&&ia.postRender(()=>a(i,s))}}}mount(){this.removePointerDownListener=bv(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const lb={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function yD(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const xg={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Nr.test(e))e=parseFloat(e);else return e;const r=yD(e,t.target.x),n=yD(e,t.target.y);return`${r}% ${n}%`}},bfe={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=od.parse(e);if(a.length>5)return n;const i=od.createTransformer(e),s=typeof a[0]!="number"?1:0,o=r.x.scale*t.x,l=r.y.scale*t.y;a[0+s]/=o,a[1+s]/=l;const c=na(o,l,.5);return typeof a[2+s]=="number"&&(a[2+s]/=c),typeof a[3+s]=="number"&&(a[3+s]/=c),i(a)}};class wfe extends F.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=t;iue(_fe),i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),lb.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,{projection:s}=n;return s&&(s.isPresent=i,a||t.layoutDependency!==r||r===void 0||t.isPresent!==i?s.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?s.promote():s.relegate()||ia.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),fP.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Xq(e){const[t,r]=Aq(),n=F.useContext(zC);return f.jsx(wfe,{...e,layoutGroup:n,switchLayoutGroup:F.useContext(Cq),isPresent:t,safeToRemove:r})}const _fe={borderRadius:{...xg,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:xg,borderTopRightRadius:xg,borderBottomLeftRadius:xg,borderBottomRightRadius:xg,boxShadow:bfe};function Qq(e,t,r){const n=fi(e)?e:Nh(e);return n.start(_P("",n,t,r)),n.animation}const Sfe=(e,t)=>e.depth-t.depth;class Afe{constructor(){this.children=[],this.isDirty=!1}add(t){HC(this.children,t),this.isDirty=!0}remove(t){S_(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Sfe),this.isDirty=!1,this.children.forEach(t)}}function Tfe(e,t){const r=Us.now(),n=({timestamp:a})=>{const i=a-r;i>=t&&(bu(n),e(i-t))};return ia.setup(n,!0),()=>bu(n)}const Jq=["TopLeft","TopRight","BottomLeft","BottomRight"],Efe=Jq.length,xD=e=>typeof e=="string"?parseFloat(e):e,bD=e=>typeof e=="number"||Nr.test(e);function Nfe(e,t,r,n,a,i){a?(e.opacity=na(0,r.opacity??1,kfe(n)),e.opacityExit=na(t.opacity??1,0,Cfe(n))):i&&(e.opacity=na(t.opacity??1,r.opacity??1,n));for(let s=0;s<Efe;s++){const o=`border${Jq[s]}Radius`;let l=wD(t,o),c=wD(r,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||bD(l)===bD(c)?(e[o]=Math.max(na(xD(l),xD(c),n),0),(pc.test(c)||pc.test(l))&&(e[o]+="%")):e[o]=c}(t.rotate||r.rotate)&&(e.rotate=na(t.rotate||0,r.rotate||0,n))}function wD(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const kfe=Zq(0,.5,$z),Cfe=Zq(.5,.95,Wo);function Zq(e,t,r){return n=>n<e?0:n>t?1:r(zp(e,t,n))}function _D(e,t){e.min=t.min,e.max=t.max}function ko(e,t){_D(e.x,t.x),_D(e.y,t.y)}function SD(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function AD(e,t,r,n,a){return e-=t,e=mw(e,1/r,n),a!==void 0&&(e=mw(e,1/a,n)),e}function Pfe(e,t=0,r=1,n=.5,a,i=e,s=e){if(pc.test(t)&&(t=parseFloat(t),t=na(s.min,s.max,t/100)-s.min),typeof t!="number")return;let o=na(i.min,i.max,n);e===i&&(o-=t),e.min=AD(e.min,t,r,o,a),e.max=AD(e.max,t,r,o,a)}function TD(e,t,[r,n,a],i,s){Pfe(e,t[r],t[n],t[a],t.scale,i,s)}const jfe=["x","scaleX","originX"],Ofe=["y","scaleY","originY"];function ED(e,t,r,n){TD(e.x,t,jfe,r?r.x:void 0,n?n.x:void 0),TD(e.y,t,Ofe,r?r.y:void 0,n?n.y:void 0)}function ND(e){return e.translate===0&&e.scale===1}function eW(e){return ND(e.x)&&ND(e.y)}function kD(e,t){return e.min===t.min&&e.max===t.max}function Ife(e,t){return kD(e.x,t.x)&&kD(e.y,t.y)}function CD(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function tW(e,t){return CD(e.x,t.x)&&CD(e.y,t.y)}function PD(e){return ws(e.x)/ws(e.y)}function jD(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Dfe{constructor(){this.members=[]}add(t){HC(this.members,t),t.scheduleRender()}remove(t){if(S_(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Lfe(e,t,r){let n="";const a=e.x.translate/t.x,i=e.y.translate/t.y,s=(r==null?void 0:r.z)||0;if((a||i||s)&&(n=`translate3d(${a}px, ${i}px, ${s}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:h,skewX:p,skewY:g}=r;c&&(n=`perspective(${c}px) ${n}`),u&&(n+=`rotate(${u}deg) `),d&&(n+=`rotateX(${d}deg) `),h&&(n+=`rotateY(${h}deg) `),p&&(n+=`skewX(${p}deg) `),g&&(n+=`skewY(${g}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const zA=["","X","Y","Z"],Mfe={visibility:"hidden"},Rfe=1e3;let Ffe=0;function qA(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function rW(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=Fq(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",ia,!(a||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&rW(n)}function nW({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(s={},o=t==null?void 0:t()){this.id=Ffe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Ufe),this.nodes.forEach(Hfe),this.nodes.forEach(Gfe),this.nodes.forEach(Vfe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Afe)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new KC),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l&&l.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=hP(s)&&!Sq(s),this.instance=s;const{layoutId:o,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),e){let u;const d=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=Tfe(d,250),lb.hasAnimatedSinceResize&&(lb.hasAnimatedSinceResize=!1,this.nodes.forEach(ID))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||c.getDefaultTransition()||Jfe,{onLayoutAnimationStart:m,onLayoutAnimationComplete:v}=c.getProps(),y=!this.targetLayout||!tW(this.targetLayout,p),b=!d&&h;if(this.options.layoutRoot||this.resumeFrom||b||d&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(u,b);const x={...cP(g,"layout"),onPlay:m,onComplete:v};(c.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x)}else d||ID(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),bu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Kfe),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&rW(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(OD);return}this.isUpdating||this.nodes.forEach(qfe),this.isUpdating=!1,this.nodes.forEach(Wfe),this.nodes.forEach($fe),this.nodes.forEach(Bfe),this.clearAllSnapshots();const o=Us.now();Si.delta=yu(0,1e3/60,o-Si.timestamp),Si.timestamp=o,Si.isProcessing=!0,DA.update.process(Si),DA.preRender.process(Si),DA.render.process(Si),Si.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,fP.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(zfe),this.sharedNodes.forEach(Yfe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ia.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ia.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ws(this.snapshot.measuredBox.x)&&!ws(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ha(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&this.instance){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!a)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!eW(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;s&&this.instance&&(o||Vd(this.latestValues)||u)&&(a(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),Zfe(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:s}=this.options;if(!s)return ha();const o=s.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(ede))){const{scroll:u}=this.root;u&&(Q0(o.x,u.offset.x),Q0(o.y,u.offset.y))}return o}removeElementScroll(s){var l;const o=ha();if(ko(o,s),(l=this.scroll)!=null&&l.wasRoot)return o;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:h}=u;u!==this.root&&d&&h.layoutScroll&&(d.wasRoot&&ko(o,s),Q0(o.x,d.offset.x),Q0(o.y,d.offset.y))}return o}applyTransform(s,o=!1){const l=ha();ko(l,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&J0(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Vd(u.latestValues)&&J0(l,u.latestValues)}return Vd(this.latestValues)&&J0(l,this.latestValues),l}removeTransform(s){const o=ha();ko(o,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Vd(c.latestValues))continue;UT(c.latestValues)&&c.updateSnapshot();const u=ha(),d=c.measurePageBox();ko(u,d),ED(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Vd(this.latestValues)&&ED(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Si.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var h;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(s||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:d}=this.options;if(!(!this.layout||!(u||d))){if(this.resolvedRelativeTargetAt=Si.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ha(),this.relativeTargetOrigin=ha(),_v(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),ko(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ha(),this.targetWithTransforms=ha()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),nfe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ko(this.target,this.layout.layoutBox),Wq(this.target,this.targetDelta)):ko(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ha(),this.relativeTargetOrigin=ha(),_v(this.relativeTargetOrigin,this.target,p.target),ko(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||UT(this.parent.latestValues)||qq(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var g;const s=this.getLead(),o=!!this.resumingFrom||this!==s;let l=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Si.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;ko(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,h=this.treeScale.y;afe(this.layoutCorrected,this.treeScale,this.path,o),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=ha());const{target:p}=s;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(SD(this.prevProjectionDelta.x,this.projectionDelta.x),SD(this.prevProjectionDelta.y,this.projectionDelta.y)),wv(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==h||!jD(this.projectionDelta.x,this.prevProjectionDelta.x)||!jD(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=X0(),this.projectionDelta=X0(),this.projectionDeltaWithTransform=X0()}setAnimationOrigin(s,o=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=X0();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=ha(),p=l?l.source:void 0,g=this.layout?this.layout.source:void 0,m=p!==g,v=this.getStack(),y=!v||v.members.length<=1,b=!!(m&&!y&&this.options.crossfade===!0&&!this.path.some(Qfe));this.animationProgress=0;let x;this.mixTargetDelta=O=>{const P=O/1e3;DD(d.x,s.x,P),DD(d.y,s.y,P),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(_v(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Xfe(this.relativeTarget,this.relativeTargetOrigin,h,P),x&&Ife(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=ha()),ko(x,this.relativeTarget)),m&&(this.animationValues=u,Nfe(u,c,this.latestValues,P,b,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){var o,l,c;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(!1),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(!1),this.pendingAnimation&&(bu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ia.update(()=>{lb.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Nh(0)),this.currentAnimation=Qq(this.motionValue,[0,1e3],{...s,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),s.onUpdate&&s.onUpdate(u)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Rfe),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:u}=s;if(!(!o||!l||!c)){if(this!==s&&this.layout&&c&&aW(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||ha();const d=ws(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+d;const h=ws(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}ko(o,l),J0(o,u),wv(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new Dfe),this.sharedNodes.get(s).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var o;const{layoutId:s}=this.options;return s?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:s}=this.options;return s?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&qA("z",s,c,this.animationValues);for(let u=0;u<zA.length;u++)qA(`rotate${zA[u]}`,s,c,this.animationValues),qA(`skew${zA[u]}`,s,c,this.animationValues);s.render();for(const u in c)s.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);s.scheduleRender()}getProjectionStyles(s){if(!this.instance||this.isSVG)return;if(!this.isVisible)return Mfe;const o={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,o.opacity="",o.pointerEvents=ob(s==null?void 0:s.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none",o;const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){const p={};return this.options.layoutId&&(p.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,p.pointerEvents=ob(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!Vd(this.latestValues)&&(p.transform=l?l({},""):"none",this.hasProjected=!1),p}const u=c.animationValues||c.latestValues;this.applyTransformsToTarget(),o.transform=Lfe(this.projectionDeltaWithTransform,this.treeScale,u),l&&(o.transform=l(u,o.transform));const{x:d,y:h}=this.projectionDelta;o.transformOrigin=`${d.origin*100}% ${h.origin*100}% 0`,c.animationValues?o.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const p in S1){if(u[p]===void 0)continue;const{correct:g,applyTo:m,isCSSVariable:v}=S1[p],y=o.transform==="none"?u[p]:g(u[p],c);if(m){const b=m.length;for(let x=0;x<b;x++)o[m[x]]=y}else v?this.options.visualElement.renderState.vars[p]=y:o[p]=y}return this.options.layoutId&&(o.pointerEvents=c===this?ob(s==null?void 0:s.pointerEvents)||"":"none"),o}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)==null?void 0:o.stop(!1)}),this.root.nodes.forEach(OD),this.root.sharedNodes.clear()}}}function $fe(e){e.updateLayout()}function Bfe(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:i}=e.options,s=t.source!==e.layout.source;i==="size"?Lo(d=>{const h=s?t.measuredBox[d]:t.layoutBox[d],p=ws(h);h.min=n[d].min,h.max=h.min+p}):aW(i,t.layoutBox,n)&&Lo(d=>{const h=s?t.measuredBox[d]:t.layoutBox[d],p=ws(n[d]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+p)});const o=X0();wv(o,n,t.layoutBox);const l=X0();s?wv(l,e.applyTransform(a,!0),t.measuredBox):wv(l,n,t.layoutBox);const c=!eW(o);let u=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:p}=d;if(h&&p){const g=ha();_v(g,t.layoutBox,h.layoutBox);const m=ha();_v(m,n,p.layoutBox),tW(g,m)||(u=!0),d.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=g,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function Ufe(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Vfe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function zfe(e){e.clearSnapshot()}function OD(e){e.clearMeasurements()}function qfe(e){e.isLayoutDirty=!1}function Wfe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ID(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Hfe(e){e.resolveTargetDelta()}function Gfe(e){e.calcProjection()}function Kfe(e){e.resetSkewAndRotation()}function Yfe(e){e.removeLeadSnapshot()}function DD(e,t,r){e.translate=na(t.translate,0,r),e.scale=na(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function LD(e,t,r,n){e.min=na(t.min,r.min,n),e.max=na(t.max,r.max,n)}function Xfe(e,t,r,n){LD(e.x,t.x,r.x,n),LD(e.y,t.y,r.y,n)}function Qfe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Jfe={duration:.45,ease:[.4,0,.1,1]},MD=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),RD=MD("applewebkit/")&&!MD("chrome/")?Math.round:Wo;function FD(e){e.min=RD(e.min),e.max=RD(e.max)}function Zfe(e){FD(e.x),FD(e.y)}function aW(e,t,r){return e==="position"||e==="preserve-aspect"&&!rfe(PD(t),PD(r),.2)}function ede(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const tde=nW({attachResizeListener:(e,t)=>T1(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),WA={current:void 0},iW=nW({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!WA.current){const e=new tde({});e.mount(window),e.setOptions({layoutScroll:!0}),WA.current=e}return WA.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),rde={pan:{Feature:xfe},drag:{Feature:yfe,ProjectionNode:iW,MeasureLayout:Xq}};function $D(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=n[a];i&&ia.postRender(()=>i(t,qy(t)))}class nde extends vd{mount(){const{current:t}=this.node;t&&(this.unmount=jce(t,(r,n)=>($D(this.node,n,"Start"),a=>$D(this.node,a,"End"))))}unmount(){}}class ade extends vd{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Uy(T1(this.node.current,"focus",()=>this.onFocus()),T1(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function BD(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=n[a];i&&ia.postRender(()=>i(t,qy(t)))}class ide extends vd{mount(){const{current:t}=this.node;t&&(this.unmount=Lce(t,(r,n)=>(BD(this.node,n,"Start"),(a,{success:i})=>BD(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const qT=new WeakMap,HA=new WeakMap,sde=e=>{const t=qT.get(e.target);t&&t(e)},ode=e=>{e.forEach(sde)};function lde({root:e,...t}){const r=e||document;HA.has(r)||HA.set(r,{});const n=HA.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(ode,{root:e,...t})),n[a]}function cde(e,t,r){const n=lde(t);return qT.set(e,r),n.observe(e),()=>{qT.delete(e),n.unobserve(e)}}const ude={some:0,all:1};class fde extends vd{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=t,s={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:ude[a]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),h=c?u:d;h&&h(l)};return cde(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(dde(t,r))&&this.startObserver()}unmount(){}}function dde({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const hde={inView:{Feature:fde},tap:{Feature:ide},focus:{Feature:ade},hover:{Feature:nde}},pde={layout:{ProjectionNode:iW,MeasureLayout:Xq}},WT={current:null},sW={current:!1};function mde(){if(sW.current=!0,!!qC)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>WT.current=e.matches;e.addListener(t),t()}else WT.current=!1}const E1=new WeakMap;function gde(e,t,r){for(const n in t){const a=t[n],i=r[n];if(fi(a))e.addValue(n,a);else if(fi(i))e.addValue(n,Nh(a,{owner:e}));else if(i!==a)if(e.hasValue(n)){const s=e.getValue(n);s.liveStyle===!0?s.jump(a):s.hasAnimated||s.set(a)}else{const s=e.getStaticValue(n);e.addValue(n,Nh(s!==void 0?s:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const UD=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class oW{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=sP,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Us.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,ia.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=N_(r),this.isVariantNode=Nq(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in d){const p=d[h];l[h]!==void 0&&fi(p)&&p.set(l[h],!1)}}mount(t){this.current=t,E1.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),sW.current||mde(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:WT.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),bu(this.notifyUpdate),bu(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Im.has(t);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&ia.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),i(),s&&s(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in qp){const r=qp[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ha()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<UD.length;n++){const a=UD[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,s=t[i];s&&(this.propEventSubscriptions[a]=this.on(a,s))}this.prevMotionValues=gde(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Nh(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(Cz(n)||jz(n))?n=parseFloat(n):!Fce(n)&&od.test(r)&&(n=vq(t,r)),this.setBaseTarget(t,fi(n)?n.get():n)),fi(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const s=bP(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);s&&(n=s[t])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!fi(a)?a:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new KC),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class lW extends oW{constructor(){super(...arguments),this.KeyframeResolver=Nce}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;fi(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function cW(e,{style:t,vars:r},n,a){Object.assign(e.style,t,a&&a.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}function vde(e){return window.getComputedStyle(e)}class uW extends lW{constructor(){super(...arguments),this.type="html",this.renderInstance=cW}readValueFromInstance(t,r){var n;if(Im.has(r))return(n=this.projection)!=null&&n.isProjecting?OT(r):qle(t,r);{const a=vde(t),i=(QC(r)?a.getPropertyValue(r):a[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return Hq(t,r)}build(t,r,n){vP(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return wP(t,r,n)}}const fW=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function yde(e,t,r,n){cW(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(fW.has(a)?a:gP(a),t.attrs[a])}class dW extends lW{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ha}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Im.has(r)){const n=gq(r);return n&&n.default||0}return r=fW.has(r)?r:gP(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return Rq(t,r,n)}build(t,r,n){Iq(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,a){yde(t,r,n,a)}mount(t){this.isSVGTag=Lq(t.tagName),super.mount(t)}}const xde=(e,t)=>xP(e)?new dW(t):new uW(t,{allowProjection:e!==F.Fragment}),bde=_ue({...Kue,...hde,...rde,...pde},xde),Yn=Gce(bde);function HT(e){const t=By(()=>Nh(e)),{isStatic:r}=F.useContext(A_);if(r){const[,n]=F.useState(e);F.useEffect(()=>t.on("change",n),[])}return t}function hW(e,t){const r=HT(t()),n=()=>r.set(t());return n(),WC(()=>{const a=()=>ia.preRender(n,!1,!0),i=e.map(s=>s.on("change",a));return()=>{i.forEach(s=>s()),bu(n)}}),r}function wde(e){xv.current=[],e();const t=hW(xv.current,e);return xv.current=void 0,t}function VD(e,t,r,n){if(typeof e=="function")return wde(e);const a=typeof t=="function"?t:Mce(t,r,n);return Array.isArray(e)?zD(e,a):zD([e],([i])=>a(i))}function zD(e,t){const r=By(()=>[]);return hW(e,()=>{r.length=0;const n=e.length;for(let a=0;a<n;a++)r[a]=e[a].get();return t(r)})}function AP(e){return typeof e=="object"&&!Array.isArray(e)}function pW(e,t,r,n){return typeof e=="string"&&AP(t)?yq(e,r,n):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function _de(e,t,r){return e*(t+1)}function qD(e,t,r,n){return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?r:n.get(t)??e}function Sde(e,t,r){for(let n=0;n<e.length;n++){const a=e[n];a.at>t&&a.at<r&&(S_(e,a),n--)}}function Ade(e,t,r,n,a,i){Sde(e,a,i);for(let s=0;s<t.length;s++)e.push({value:t[s],at:na(a,i,n[s]),easing:zz(r,s)})}function Tde(e,t){for(let r=0;r<e.length;r++)e[r]=e[r]/(t+1)}function Ede(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const Nde="easeInOut";function kde(e,{defaultTransition:t={},...r}={},n,a){const i=t.duration||.3,s=new Map,o=new Map,l={},c=new Map;let u=0,d=0,h=0;for(let p=0;p<e.length;p++){const g=e[p];if(typeof g=="string"){c.set(g,d);continue}else if(!Array.isArray(g)){c.set(g.name,qD(d,g.at,u,c));continue}let[m,v,y={}]=g;y.at!==void 0&&(d=qD(d,y.at,u,c));let b=0;const x=(O,P,j,T=0,S=0)=>{const _=Cde(O),{delay:D=0,times:E=iq(_),type:N="keyframes",repeat:k,repeatType:V,repeatDelay:Q=0,...W}=P;let{ease:G=t.ease||"easeOut",duration:q}=P;const U=typeof D=="function"?D(T,S):D,ee=_.length,Z=oP(N)?N:a==null?void 0:a[N];if(ee<=2&&Z){let K=100;if(ee===2&&Ode(_)){const ue=_[1]-_[0];K=Math.abs(ue)}const X={...W};q!==void 0&&(X.duration=Ll(q));const ae=tq(X,K,Z);G=ae.ease,q=ae.duration}q??(q=i);const I=d+U;E.length===1&&E[0]===0&&(E[1]=1);const M=E.length-_.length;if(M>0&&aq(E,M),_.length===1&&_.unshift(null),k){q=_de(q,k);const K=[..._],X=[...E];G=Array.isArray(G)?[...G]:[G];const ae=[...G];for(let ue=0;ue<k;ue++){_.push(...K);for(let ie=0;ie<K.length;ie++)E.push(X[ie]+(ue+1)),G.push(ie===0?"linear":zz(ae,ie-1))}Tde(E,k)}const z=I+q;Ade(j,_,G,E,I,z),b=Math.max(U+q,b),h=Math.max(z,h)};if(fi(m)){const O=WD(m,o);x(v,y,HD("default",O))}else{const O=pW(m,v,n,l),P=O.length;for(let j=0;j<P;j++){v=v,y=y;const T=O[j],S=WD(T,o);for(const _ in v)x(v[_],Pde(y,_),HD(_,S),j,P)}}u=d,d+=b}return o.forEach((p,g)=>{for(const m in p){const v=p[m];v.sort(Ede);const y=[],b=[],x=[];for(let P=0;P<v.length;P++){const{at:j,value:T,easing:S}=v[P];y.push(T),b.push(zp(0,h,j)),x.push(S||"easeOut")}b[0]!==0&&(b.unshift(0),y.unshift(y[0]),x.unshift(Nde)),b[b.length-1]!==1&&(b.push(1),y.push(null)),s.has(g)||s.set(g,{keyframes:{},transition:{}});const O=s.get(g);O.keyframes[m]=y,O.transition[m]={...t,duration:h,ease:x,times:b,...r}}}),s}function WD(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function HD(e,t){return t[e]||(t[e]=[]),t[e]}function Cde(e){return Array.isArray(e)?e:[e]}function Pde(e,t){return e&&e[t]?{...e,...e[t]}:{...e}}const jde=e=>typeof e=="number",Ode=e=>e.every(jde);function Ide(e,t){return e in t}class Dde extends oW{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,r){if(Ide(r,t)){const n=t[r];if(typeof n=="string"||typeof n=="number")return n}}getBaseTargetFromProps(){}removeValueFromRenderState(t,r){delete r.output[t]}measureInstanceViewportBox(){return ha()}build(t,r){Object.assign(t.output,r)}renderInstance(t,{output:r}){Object.assign(t,r)}sortInstanceNodePosition(){return 0}}function Lde(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},r=hP(e)&&!Sq(e)?new dW(t):new uW(t);r.mount(e),E1.set(e,r)}function Mde(e){const t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},r=new Dde(t);r.mount(e),E1.set(e,r)}function Rde(e,t){return fi(e)||typeof e=="number"||typeof e=="string"&&!AP(t)}function mW(e,t,r,n){const a=[];if(Rde(e,t))a.push(Qq(e,AP(t)&&t.default||t,r&&(r.default||r)));else{const i=pW(e,t,n),s=i.length;for(let o=0;o<s;o++){const l=i[o],c=l instanceof Element?Lde:Mde;E1.has(l)||c(l);const u=E1.get(l),d={...r};"delay"in d&&typeof d.delay=="function"&&(d.delay=d.delay(o,s)),a.push(...SP(u,{...t,transition:d},{}))}}return a}function Fde(e,t,r){const n=[];return kde(e,t,r,{spring:w1}).forEach(({keyframes:i,transition:s},o)=>{n.push(...mW(o,i,s))}),n}function $de(e){return Array.isArray(e)&&e.some(Array.isArray)}function Bde(e){function t(r,n,a){let i=[];return $de(r)?i=Fde(r,n,e):i=mW(r,n,a,e),new mce(i)}return t}const GD=Bde(),Ude=()=>{const{user:e,logout:t}=xa(),r=Sm(),{isDarkMode:n}=un(),[a,i]=F.useState(!1),s=p=>p.split(" ").map(g=>g[0]).join("").toUpperCase().slice(0,2),o=async()=>{r("/login"),t()},l=()=>{i(!a)},c=()=>{i(!1)},u=()=>{switch(e==null?void 0:e.role){case"fahiz":return"Fahiz Stock";case"aphy":return"APHY Stock";case"supply_serve":default:return"Supply & Serve"}},d=[{to:"/",icon:f.jsx(Ire,{size:20}),label:"Dashboard",roles:["admin","manager"]},{to:"/add",icon:f.jsx(hi,{size:20}),label:"Add",roles:["admin","manager","staff"]},{to:"/stock",icon:f.jsx(rT,{size:20}),label:"Inbound",roles:["admin","manager","staff"]},{to:"/outbound-stock",icon:f.jsx(Rre,{size:20}),label:"Outbound",roles:["admin","manager","staff"]},{to:"/inventory",icon:f.jsx(Ere,{size:20}),label:"Inventory",roles:["admin","manager"]},{to:"/jobs",icon:f.jsx(CU,{size:20}),label:"Jobs",roles:["admin","manager","staff"]},{to:"/warehouse-locations",icon:f.jsx(Qk,{size:20}),label:"Locations",roles:["admin","manager","staff"]},{to:"/orders",icon:f.jsx(Bre,{size:20}),label:"Orders",roles:[""]},{to:"/reports-analytics",icon:f.jsx(kU,{size:20}),label:"Reports",roles:["admin","manager","staff"]},{to:"/warehouse-operations",icon:f.jsx(Are,{size:20}),label:"Logs",roles:["admin","manager","staff"]},{to:"/settings",icon:f.jsx($re,{size:20}),label:"Settings",roles:["admin","manager","staff"]},{to:"/supply-serve",icon:f.jsx(rT,{size:20}),label:u(),roles:["supply_serve","fahiz","aphy"]}],h=e?d.filter(p=>p.roles.includes(e.role)):[];return f.jsxs(Yn.header,{initial:{y:-100},animate:{y:0},transition:{type:"spring",stiffness:100},className:`${n?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} border-b sticky top-0 z-10`,children:[f.jsx("div",{className:"container mx-auto px-4 md:px-6 lg:px-8",children:f.jsxs("div",{className:"flex items-center justify-between h-16",children:[f.jsx(Yn.div,{className:"flex items-center",whileHover:{scale:1.02},transition:{type:"spring",stiffness:400,damping:10},children:f.jsx(SA,{to:"/",className:"flex items-center gap-2 font-semibold text-lg",children:f.jsx(Yn.span,{className:`font-bold ${n?"text-blue-400":"text-blue-600"}`,whileHover:{scale:1.05},transition:{type:"spring",stiffness:400,damping:10},children:"AZTEC"})})}),f.jsx("nav",{className:"hidden md:flex items-center justify-center flex-1 space-x-1",children:h.map((p,g)=>f.jsx(Yn.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:g*.1},children:f.jsx("div",{className:"group relative",children:f.jsx(SA,{to:p.to,className:({isActive:m})=>`flex items-center h-10 rounded-lg transition-all duration-300 overflow-hidden ${m?`px-3 ${n?"bg-slate-700 text-white":"bg-blue-100 text-blue-700"}`:`group-hover:px-3 ${n?"text-slate-300 hover:bg-slate-700 hover:text-white":"text-slate-700 hover:bg-slate-100"}`}`,...p.to==="/"?{end:!0}:{},children:({isActive:m})=>f.jsxs(f.Fragment,{children:[f.jsx(Yn.div,{className:"flex items-center justify-center w-10 h-10 flex-shrink-0",whileHover:{scale:1.05},whileTap:{scale:.95},children:p.icon}),f.jsx("span",{className:`text-sm font-medium whitespace-nowrap transition-all duration-300 overflow-hidden ${m?"opacity-100 w-auto ml-1":"opacity-0 w-0 group-hover:opacity-100 group-hover:w-auto group-hover:ml-1"}`,children:p.label})]})})})},p.to))}),f.jsxs("div",{className:"flex items-center gap-4",children:[e&&f.jsxs(Yn.div,{className:"hidden md:flex items-center gap-3",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},children:[f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:`text-sm font-medium ${n?"text-white":"text-slate-700"}`,children:e.name}),f.jsx("p",{className:`text-xs ${n?"text-slate-400":"text-slate-500"} capitalize`,children:e.role})]}),f.jsx(Yn.div,{className:`h-8 w-8 rounded-full overflow-hidden ${n?"bg-blue-900/50":"bg-blue-100"} flex items-center justify-center`,whileHover:{scale:1.1},whileTap:{scale:.9},children:f.jsx("span",{className:`text-sm font-semibold ${n?"text-blue-400":"text-blue-600"}`,children:s(e.name)})}),f.jsx(Yn.button,{onClick:o,className:`p-2 ${n?"text-slate-300 hover:text-red-400 hover:bg-slate-700":"text-slate-600 hover:text-red-600 hover:bg-slate-100"} rounded-full transition-colors`,"aria-label":"Logout",whileHover:{scale:1.1},whileTap:{scale:.9},children:f.jsx(pI,{size:20})})]}),f.jsx(Yn.button,{onClick:l,className:`md:hidden p-2 ${n?"text-slate-300 hover:bg-slate-700":"text-slate-600 hover:bg-slate-100"} rounded-lg`,"aria-label":a?"Close menu":"Open menu",whileHover:{scale:1.1},whileTap:{scale:.9},children:a?f.jsx(Lp,{size:24}):f.jsx(Mre,{size:24})})]})]})}),f.jsx(sb,{children:a&&f.jsx(Yn.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:`md:hidden ${n?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} border-t`,children:f.jsxs("div",{className:"container mx-auto px-4 py-3 space-y-1",children:[h.map((p,g)=>f.jsx(Yn.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:g*.1},children:f.jsx(SA,{to:p.to,className:({isActive:m})=>`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${m?n?"bg-slate-700 text-white":"bg-blue-100 text-blue-700":n?"text-slate-300 hover:bg-slate-700 hover:text-white":"text-slate-700 hover:bg-slate-100"}`,onClick:c,...p.to==="/"?{end:!0}:{},children:f.jsxs(Yn.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-3",children:[p.icon,f.jsx("span",{className:"text-sm font-medium",children:p.label})]})})},p.to)),f.jsx(Yn.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:`border-t ${n?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:e&&f.jsxs("div",{className:"flex items-center justify-between py-2",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Yn.div,{className:`h-8 w-8 rounded-full overflow-hidden ${n?"bg-blue-900/50":"bg-blue-100"} flex items-center justify-center`,whileHover:{scale:1.1},whileTap:{scale:.9},children:f.jsx("span",{className:`text-sm font-semibold ${n?"text-blue-400":"text-blue-600"}`,children:s(e.name)})}),f.jsxs("div",{children:[f.jsx("p",{className:`text-sm font-medium ${n?"text-white":"text-slate-700"}`,children:e.name}),f.jsx("p",{className:`text-xs ${n?"text-slate-400":"text-slate-500"} capitalize`,children:e.role})]})]}),f.jsxs(Yn.button,{onClick:o,className:`flex items-center gap-2 px-3 py-2 ${n?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-red-50"} rounded-lg transition-colors`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[f.jsx(pI,{size:18}),f.jsx("span",{children:"Logout"})]})]})})]})})})]})},Vde=()=>{const{isAuthenticated:e}=xa(),t=Sm(),{isDarkMode:r}=un();return Be.useEffect(()=>{e||t("/login")},[e,t]),e?f.jsxs("div",{className:`flex flex-col min-h-screen ${r?"bg-slate-900":"bg-slate-50"}`,children:[f.jsx(Ude,{}),f.jsx("main",{className:"flex-grow container mx-auto px-4 py-6 md:px-6 lg:px-8",children:f.jsx(ire,{})})]}):null},gW=({message:e,type:t,onClose:r,duration:n=3e3})=>{const[a,i]=F.useState(!1),[s,o]=F.useState(!1);F.useEffect(()=>{requestAnimationFrame(()=>{o(!0)});const d=setTimeout(()=>{i(!0),setTimeout(r,300)},n);return()=>clearTimeout(d)},[n,r]);const l={success:f.jsx(eT,{className:"text-green-500",size:20}),error:f.jsx(mI,{className:"text-red-500",size:20}),warning:f.jsx(Ah,{className:"text-yellow-500",size:20}),info:f.jsx(Ore,{className:"text-blue-500",size:20})},c={success:"bg-green-50 border-green-200",error:"bg-red-50 border-red-200",warning:"bg-yellow-50 border-yellow-200",info:"bg-blue-50 border-blue-200"},u={success:"text-green-800",error:"text-red-800",warning:"text-yellow-800",info:"text-blue-800"};return f.jsx("div",{className:"fixed top-4 right-4 z-50",children:f.jsxs("div",{className:`transform transition-all duration-300 ease-in-out
          ${a?"translate-x-full opacity-0":s?"translate-x-0 opacity-100":"translate-x-full opacity-0"}
          flex items-center gap-3 px-4 py-3 rounded-lg border ${c[t]} ${u[t]} shadow-lg`,children:[l[t],f.jsx("p",{className:"text-sm font-medium",children:e}),f.jsx("button",{onClick:()=>{i(!0),setTimeout(r,300)},className:"ml-2 text-slate-400 hover:text-slate-600 transition-colors",children:f.jsx(mI,{size:18})})]})})},vW=F.createContext(void 0),_c=()=>{const e=F.useContext(vW);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},zde=({children:e})=>{const[t,r]=F.useState(null),n=(i,s)=>{r({message:i,type:s})},a=()=>{r(null)};return f.jsxs(vW.Provider,{value:{showToast:n},children:[e,t&&f.jsx(gW,{message:t.message,type:t.type,onClose:a})]})},Ot=({label:e,error:t,icon:r,fullWidth:n=!1,className:a="",darkMode:i,...s})=>{const{isDarkMode:o}=un(),l=i??o;return f.jsxs("div",{className:`${n?"w-full":""} ${a}`,children:[e&&f.jsx("label",{className:`block text-sm font-medium ${l?"text-slate-200":"text-slate-700"} mb-1`,children:e}),f.jsxs("div",{className:"relative",children:[r&&f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:Be.cloneElement(r,{size:20,className:l?"text-white":"text-slate-400"})}),f.jsx("input",{...s,className:`
            block w-full rounded-lg border px-3 py-2
            ${l?"bg-slate-800 border-slate-700 text-slate-200 placeholder-slate-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-700/50 disabled:text-slate-400":"bg-white border-slate-300 text-slate-900 placeholder-slate-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-50 disabled:text-slate-500"}
            ${t?"border-red-500 focus:border-red-500 focus:ring-red-500":""}
            ${r?"pl-10":""}
          `})]}),t&&f.jsx("p",{className:"mt-1 text-sm text-red-500",children:t})]})},hf=({label:e,error:t,fullWidth:r=!1,className:n="",darkMode:a,...i})=>{const[s,o]=F.useState(!1),{isDarkMode:l}=un(),c=a??l,u=()=>{o(!s)};return f.jsxs("div",{className:"relative",children:[f.jsx(Ot,{label:e,type:s?"text":"password",error:t,fullWidth:r,className:n,darkMode:c,...i}),f.jsx("button",{type:"button",onClick:u,className:`absolute right-3 top-[38px] ${c?"text-slate-400 hover:text-slate-300":"text-slate-500 hover:text-slate-700"}`,children:s?f.jsx(jre,{size:18}):f.jsx(tT,{size:18})})]})},at=({children:e,variant:t="primary",size:r="md",isLoading:n=!1,icon:a,className:i="",...s})=>{const o={primary:"bg-blue-700 hover:bg-blue-800 text-white",secondary:"bg-slate-100 hover:bg-slate-200 text-slate-700 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-200",outline:"bg-white border border-slate-300 hover:bg-slate-50 text-slate-700 dark:bg-transparent dark:border-slate-600 dark:hover:bg-slate-700 dark:text-slate-200",danger:"bg-red-600 hover:bg-red-700 text-white",ghost:"bg-transparent hover:bg-slate-100 text-slate-500 dark:hover:bg-slate-700/50 dark:text-slate-400",success:"bg-green-600 hover:bg-green-700 text-white"},l={sm:"text-sm px-3 py-1.5",md:"px-4 py-2",lg:"text-lg px-5 py-2.5"};return f.jsxs("button",{className:`
        ${o[t]} 
        ${l[r]} 
        rounded-lg font-medium transition-colors 
        flex items-center justify-center gap-2
        focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-blue-500
        disabled:opacity-60 disabled:cursor-not-allowed
        ${i}
      `,disabled:n||s.disabled,...s,children:[n&&f.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),!n&&a,e]})},qde=()=>{const[e,t]=F.useState(""),[r,n]=F.useState(""),[a,i]=F.useState(""),{login:s,isAuthenticated:o,isLoading:l,user:c}=xa(),{showToast:u}=_c(),{isDarkMode:d,toggleDarkMode:h}=un(),p=Sm();F.useEffect(()=>{o&&c&&(u(`Welcome back, ${c.name}!`,"success"),c.role==="staff"&&p("/add"),c.role==="supply_serve"||c.role==="fahiz"||c.role==="aphy"?p("/supply-serve"):p("/"))},[o,c,p,u]);const g=async m=>{if(m.preventDefault(),i(""),!e||!r){i("Please enter both username and password");return}await s(e,r)||(i("Invalid username or password"),u("Invalid username or password","error"))};return f.jsxs("div",{className:`min-h-screen flex overflow-hidden ${d?"bg-slate-900":"bg-slate-100"}`,children:[f.jsx(Yn.div,{className:"hidden lg:flex lg:w-1/2 bg-blue-700 text-white items-center justify-center",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8,ease:"easeOut"},children:f.jsxs("div",{className:"max-w-md p-8 text-center",children:[f.jsx("h1",{className:"text-4xl font-bold mb-4",children:"AZTEC"}),f.jsx("p",{className:"text-xl text-blue-100",children:"Warehouse Management System"})]})}),f.jsx(Yn.div,{className:"w-full lg:w-1/2 flex items-center justify-center p-4 sm:p-6 lg:p-8",initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.8,ease:"easeOut"},children:f.jsxs("div",{className:"w-full max-w-md",children:[f.jsxs("div",{className:"lg:hidden text-center mb-6 space-y-2",children:[f.jsx(Fre,{size:48,className:"mx-auto text-blue-600"}),f.jsx("h1",{className:`text-2xl font-bold ${d?"text-white":"text-slate-800"}`,children:"AZTEC"}),f.jsx("p",{className:d?"text-slate-400":"text-slate-600",children:"Warehouse Management System"})]}),f.jsxs("div",{className:`${d?"bg-slate-800 border-slate-700 shadow-xl":"bg-white border-slate-200 shadow-lg"} rounded-xl p-6 sm:p-8 border`,children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:`text-2xl font-bold ${d?"text-white":"text-slate-800"}`,children:"Welcome back"}),f.jsx("button",{onClick:h,className:`p-2 rounded-lg transition-colors ${d?"text-yellow-400 hover:bg-slate-700":"text-slate-600 hover:bg-slate-100"}`,"aria-label":d?"Switch to light mode":"Switch to dark mode",children:d?f.jsx(DU,{size:20}):f.jsx(OU,{size:20})})]}),a&&f.jsx(Yn.div,{className:`${d?"bg-red-900/50 text-red-200":"bg-red-50 text-red-700"} p-4 rounded-lg mb-6 text-sm`,initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},children:a}),f.jsxs("form",{onSubmit:g,className:"space-y-6",children:[f.jsx(Ot,{label:"Username",type:"text",id:"username",value:e,onChange:m=>t(m.target.value),icon:f.jsx(nT,{size:20}),placeholder:"Enter your username",autoComplete:"username",fullWidth:!0,darkMode:d}),f.jsx(hf,{label:"Password",name:"password",value:r,onChange:m=>n(m.target.value),placeholder:"Enter your password",autoComplete:"current-password",fullWidth:!0,darkMode:d}),f.jsx(at,{type:"submit",isLoading:l,className:"w-full",size:"lg",children:"Sign In"})]})]})]})})]})},Ka=({title:e,value:t,icon:r,change:n})=>{const{isDarkMode:a}=un(),i=HT(0),s=HT(0),o=VD(i,Math.round),l=VD(s,Math.round);return Be.useEffect(()=>{if(typeof t=="number"){const c=GD(i,t,{duration:1});if(n){const u=GD(s,n.value,{duration:1});return()=>{c.stop(),u.stop()}}return()=>c.stop()}},[t,n]),f.jsx("div",{className:`p-6 rounded-lg shadow-sm border ${a?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:`text-sm font-medium ${a?"text-slate-400":"text-slate-500"}`,children:e}),f.jsx("h3",{className:`text-2xl font-semibold ${a?"text-white":"text-slate-800"} mt-1`,children:typeof t=="number"?f.jsx(Yn.span,{children:o}):t}),n&&f.jsxs("div",{className:"flex items-center mt-2",children:[n.customIcon||f.jsx("span",{className:`text-sm ${n.isPositive?"text-green-500":"text-red-500"}`,children:n.isPositive?"":""}),f.jsx(Yn.span,{className:`text-sm font-medium ${n.isPositive?"text-green-500":"text-red-500"}`,children:l}),n.label&&f.jsx("span",{className:`text-xs ${a?"text-slate-400":"text-slate-500"} ml-1`,children:n.label})]})]}),f.jsx("div",{className:`p-3 rounded-full ${a?"bg-slate-700":"bg-slate-100"}`,children:r})]})})},kf=()=>{const{isDarkMode:e}=un();return f.jsxs("div",{className:`p-6 rounded-lg shadow-sm border ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:`h-4 w-24 rounded ${e?"bg-slate-700":"bg-slate-200"}`}),f.jsx("div",{className:`h-8 w-16 rounded ${e?"bg-slate-700":"bg-slate-200"}`})]}),f.jsx("div",{className:`p-3 rounded-full ${e?"bg-slate-700":"bg-slate-100"}`,children:f.jsx("div",{className:`h-6 w-6 rounded ${e?"bg-slate-600":"bg-slate-200"}`})})]}),f.jsx("div",{className:"mt-4",children:f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("div",{className:`h-4 w-12 rounded ${e?"bg-slate-700":"bg-slate-200"}`}),f.jsx("div",{className:`h-4 w-24 rounded ${e?"bg-slate-700":"bg-slate-200"}`})]})})]})},x0=({title:e,children:t,className:r=""})=>{const{isDarkMode:n}=un();return f.jsxs("div",{className:`rounded-lg shadow-sm border ${n?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} ${r}`,children:[e&&f.jsx("div",{className:`px-6 py-4 border-b ${n?"border-slate-700":"border-slate-200"}`,children:f.jsx("h3",{className:`text-lg font-medium ${n?"text-white":"text-slate-800"}`,children:e})}),f.jsx("div",{className:"p-6",children:t})]})};function bn(e){"@babel/helpers - typeof";return bn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bn(e)}function ss(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function zr(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Vr(e){zr(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||bn(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Wde(e,t){zr(2,arguments);var r=Vr(e),n=ss(t);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function yW(e,t){zr(2,arguments);var r=Vr(e),n=ss(t);if(isNaN(n))return new Date(NaN);if(!n)return r;var a=r.getDate(),i=new Date(r.getTime());i.setMonth(r.getMonth()+n+1,0);var s=i.getDate();return a>=s?i:(r.setFullYear(i.getFullYear(),i.getMonth(),a),r)}function xW(e,t){zr(2,arguments);var r=Vr(e).getTime(),n=ss(t);return new Date(r+n)}var Hde=36e5;function Gde(e,t){zr(2,arguments);var r=ss(t);return xW(e,r*Hde)}var Kde={};function Vh(){return Kde}function Yde(e,t){var r,n,a,i,s,o;zr(1,arguments);var l=Vh(),c=ss((r=(n=(a=(i=void 0)!==null&&i!==void 0?i:void 0)!==null&&a!==void 0?a:l.weekStartsOn)!==null&&n!==void 0?n:(s=l.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&r!==void 0?r:0);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=Vr(e),d=u.getDay(),h=(d<c?7:0)+d-c;return u.setDate(u.getDate()-h),u.setHours(0,0,0,0),u}function GT(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Wp(e){zr(1,arguments);var t=Vr(e);return t.setHours(0,0,0,0),t}function cb(e,t){zr(2,arguments);var r=Vr(e),n=Vr(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}var bW=6e4,wW=36e5;function KD(e,t){zr(2,arguments);var r=Wp(e),n=Wp(t);return r.getTime()===n.getTime()}function Xde(e){return zr(1,arguments),e instanceof Date||bn(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Qde(e){if(zr(1,arguments),!Xde(e)&&typeof e!="number")return!1;var t=Vr(e);return!isNaN(Number(t))}function Jde(e,t){zr(2,arguments);var r=Vr(e),n=Vr(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function Zde(e,t){return zr(2,arguments),Vr(e).getTime()-Vr(t).getTime()}var YD={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},ehe="trunc";function the(e){return e?YD[e]:YD[ehe]}function N1(e){zr(1,arguments);var t=Vr(e);return t.setHours(23,59,59,999),t}function _W(e){zr(1,arguments);var t=Vr(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function rhe(e){zr(1,arguments);var t=Vr(e);return N1(t).getTime()===_W(t).getTime()}function nhe(e,t){zr(2,arguments);var r=Vr(e),n=Vr(t),a=cb(r,n),i=Math.abs(Jde(r,n)),s;if(i<1)s=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);var o=cb(r,n)===-a;rhe(Vr(e))&&i===1&&cb(e,n)===1&&(o=!1),s=a*(i-Number(o))}return s===0?0:s}function ahe(e,t,r){zr(2,arguments);var n=Zde(e,t)/1e3;return the(void 0)(n)}function ihe(e,t){var r;zr(1,arguments);var n=e||{},a=Vr(n.start),i=Vr(n.end),s=i.getTime();if(!(a.getTime()<=s))throw new RangeError("Invalid interval");var o=[],l=a;l.setHours(0,0,0,0);var c=Number((r=void 0)!==null&&r!==void 0?r:1);if(c<1||isNaN(c))throw new RangeError("`options.step` must be a number greater than 1");for(;l.getTime()<=s;)o.push(Vr(l)),l.setDate(l.getDate()+c),l.setHours(0,0,0,0);return o}function she(e){zr(1,arguments);var t=Vr(e);return t.setDate(1),t.setHours(0,0,0,0),t}function ohe(e,t){var r,n,a,i,s,o;zr(1,arguments);var l=Vh(),c=ss((r=(n=(a=(i=void 0)!==null&&i!==void 0?i:void 0)!==null&&a!==void 0?a:l.weekStartsOn)!==null&&n!==void 0?n:(s=l.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&r!==void 0?r:0);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=Vr(e),d=u.getDay(),h=(d<c?-7:0)+6-(d-c);return u.setDate(u.getDate()+h),u.setHours(23,59,59,999),u}function lhe(e,t){zr(2,arguments);var r=ss(t);return xW(e,-r)}var che=864e5;function uhe(e){zr(1,arguments);var t=Vr(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),a=r-n;return Math.floor(a/che)+1}function gw(e){zr(1,arguments);var t=1,r=Vr(e),n=r.getUTCDay(),a=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-a),r.setUTCHours(0,0,0,0),r}function SW(e){zr(1,arguments);var t=Vr(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var a=gw(n),i=new Date(0);i.setUTCFullYear(r,0,4),i.setUTCHours(0,0,0,0);var s=gw(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=s.getTime()?r:r-1}function fhe(e){zr(1,arguments);var t=SW(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=gw(r);return n}var dhe=6048e5;function hhe(e){zr(1,arguments);var t=Vr(e),r=gw(t).getTime()-fhe(t).getTime();return Math.round(r/dhe)+1}function vw(e,t){var r,n,a,i,s,o,l,c;zr(1,arguments);var u=Vh(),d=ss((r=(n=(a=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&a!==void 0?a:u.weekStartsOn)!==null&&n!==void 0?n:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Vr(e),p=h.getUTCDay(),g=(p<d?7:0)+p-d;return h.setUTCDate(h.getUTCDate()-g),h.setUTCHours(0,0,0,0),h}function AW(e,t){var r,n,a,i,s,o,l,c;zr(1,arguments);var u=Vr(e),d=u.getUTCFullYear(),h=Vh(),p=ss((r=(n=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&a!==void 0?a:h.firstWeekContainsDate)!==null&&n!==void 0?n:(l=h.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(d+1,0,p),g.setUTCHours(0,0,0,0);var m=vw(g,t),v=new Date(0);v.setUTCFullYear(d,0,p),v.setUTCHours(0,0,0,0);var y=vw(v,t);return u.getTime()>=m.getTime()?d+1:u.getTime()>=y.getTime()?d:d-1}function phe(e,t){var r,n,a,i,s,o,l,c;zr(1,arguments);var u=Vh(),d=ss((r=(n=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&a!==void 0?a:u.firstWeekContainsDate)!==null&&n!==void 0?n:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1),h=AW(e,t),p=new Date(0);p.setUTCFullYear(h,0,d),p.setUTCHours(0,0,0,0);var g=vw(p,t);return g}var mhe=6048e5;function ghe(e,t){zr(1,arguments);var r=Vr(e),n=vw(r,t).getTime()-phe(r,t).getTime();return Math.round(n/mhe)+1}function Cn(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var of={y:function(t,r){var n=t.getUTCFullYear(),a=n>0?n:1-n;return Cn(r==="yy"?a%100:a,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):Cn(n+1,2)},d:function(t,r){return Cn(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return Cn(t.getUTCHours()%12||12,r.length)},H:function(t,r){return Cn(t.getUTCHours(),r.length)},m:function(t,r){return Cn(t.getUTCMinutes(),r.length)},s:function(t,r){return Cn(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,a=t.getUTCMilliseconds(),i=Math.floor(a*Math.pow(10,n-3));return Cn(i,r.length)}},b0={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},vhe={G:function(t,r,n){var a=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var a=t.getUTCFullYear(),i=a>0?a:1-a;return n.ordinalNumber(i,{unit:"year"})}return of.y(t,r)},Y:function(t,r,n,a){var i=AW(t,a),s=i>0?i:1-i;if(r==="YY"){var o=s%100;return Cn(o,2)}return r==="Yo"?n.ordinalNumber(s,{unit:"year"}):Cn(s,r.length)},R:function(t,r){var n=SW(t);return Cn(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return Cn(n,r.length)},Q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return Cn(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return Cn(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,r,n){var a=t.getUTCMonth();switch(r){case"M":case"MM":return of.M(t,r);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(t,r,n){var a=t.getUTCMonth();switch(r){case"L":return String(a+1);case"LL":return Cn(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(t,r,n,a){var i=ghe(t,a);return r==="wo"?n.ordinalNumber(i,{unit:"week"}):Cn(i,r.length)},I:function(t,r,n){var a=hhe(t);return r==="Io"?n.ordinalNumber(a,{unit:"week"}):Cn(a,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):of.d(t,r)},D:function(t,r,n){var a=uhe(t);return r==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):Cn(a,r.length)},E:function(t,r,n){var a=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(t,r,n,a){var i=t.getUTCDay(),s=(i-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(s);case"ee":return Cn(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,r,n,a){var i=t.getUTCDay(),s=(i-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(s);case"cc":return Cn(s,r.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,r,n){var a=t.getUTCDay(),i=a===0?7:a;switch(r){case"i":return String(i);case"ii":return Cn(i,r.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(t,r,n){var a=t.getUTCHours(),i=a/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,r,n){var a=t.getUTCHours(),i;switch(a===12?i=b0.noon:a===0?i=b0.midnight:i=a/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,r,n){var a=t.getUTCHours(),i;switch(a>=17?i=b0.evening:a>=12?i=b0.afternoon:a>=4?i=b0.morning:i=b0.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return of.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):of.H(t,r)},K:function(t,r,n){var a=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(a,{unit:"hour"}):Cn(a,r.length)},k:function(t,r,n){var a=t.getUTCHours();return a===0&&(a=24),r==="ko"?n.ordinalNumber(a,{unit:"hour"}):Cn(a,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):of.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):of.s(t,r)},S:function(t,r){return of.S(t,r)},X:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();if(s===0)return"Z";switch(r){case"X":return QD(s);case"XXXX":case"XX":return zd(s);case"XXXXX":case"XXX":default:return zd(s,":")}},x:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();switch(r){case"x":return QD(s);case"xxxx":case"xx":return zd(s);case"xxxxx":case"xxx":default:return zd(s,":")}},O:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+XD(s,":");case"OOOO":default:return"GMT"+zd(s,":")}},z:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+XD(s,":");case"zzzz":default:return"GMT"+zd(s,":")}},t:function(t,r,n,a){var i=a._originalDate||t,s=Math.floor(i.getTime()/1e3);return Cn(s,r.length)},T:function(t,r,n,a){var i=a._originalDate||t,s=i.getTime();return Cn(s,r.length)}};function XD(e,t){var r=e>0?"-":"+",n=Math.abs(e),a=Math.floor(n/60),i=n%60;if(i===0)return r+String(a);var s=t;return r+String(a)+s+Cn(i,2)}function QD(e,t){if(e%60===0){var r=e>0?"-":"+";return r+Cn(Math.abs(e)/60,2)}return zd(e,t)}function zd(e,t){var r=t||"",n=e>0?"-":"+",a=Math.abs(e),i=Cn(Math.floor(a/60),2),s=Cn(a%60,2);return n+i+r+s}var JD=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},TW=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},yhe=function(t,r){var n=t.match(/(P+)(p+)?/)||[],a=n[1],i=n[2];if(!i)return JD(t,r);var s;switch(a){case"P":s=r.dateTime({width:"short"});break;case"PP":s=r.dateTime({width:"medium"});break;case"PPP":s=r.dateTime({width:"long"});break;case"PPPP":default:s=r.dateTime({width:"full"});break}return s.replace("{{date}}",JD(a,r)).replace("{{time}}",TW(i,r))},xhe={p:TW,P:yhe},bhe=["D","DD"],whe=["YY","YYYY"];function _he(e){return bhe.indexOf(e)!==-1}function She(e){return whe.indexOf(e)!==-1}function ZD(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Ahe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},The=function(t,r,n){var a,i=Ahe[t];return typeof i=="string"?a=i:r===1?a=i.one:a=i.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function GA(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var Ehe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Nhe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},khe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Che={date:GA({formats:Ehe,defaultWidth:"full"}),time:GA({formats:Nhe,defaultWidth:"full"}),dateTime:GA({formats:khe,defaultWidth:"full"})},Phe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},jhe=function(t,r,n,a){return Phe[t]};function bg(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",a;if(n==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,s=r!=null&&r.width?String(r.width):i;a=e.formattingValues[s]||e.formattingValues[i]}else{var o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}var c=e.argumentCallback?e.argumentCallback(t):t;return a[c]}}var Ohe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ihe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Dhe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Lhe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Mhe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Rhe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Fhe=function(t,r){var n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},$he={ordinalNumber:Fhe,era:bg({values:Ohe,defaultWidth:"wide"}),quarter:bg({values:Ihe,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:bg({values:Dhe,defaultWidth:"wide"}),day:bg({values:Lhe,defaultWidth:"wide"}),dayPeriod:bg({values:Mhe,defaultWidth:"wide",formattingValues:Rhe,defaultFormattingWidth:"wide"})};function wg(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;var s=i[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?Uhe(o,function(d){return d.test(s)}):Bhe(o,function(d){return d.test(s)}),c;c=e.valueCallback?e.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;var u=t.slice(s.length);return{value:c,rest:u}}}function Bhe(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function Uhe(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function Vhe(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var a=n[0],i=t.match(e.parsePattern);if(!i)return null;var s=e.valueCallback?e.valueCallback(i[0]):i[0];s=r.valueCallback?r.valueCallback(s):s;var o=t.slice(a.length);return{value:s,rest:o}}}var zhe=/^(\d+)(th|st|nd|rd)?/i,qhe=/\d+/i,Whe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Hhe={any:[/^b/i,/^(a|c)/i]},Ghe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Khe={any:[/1/i,/2/i,/3/i,/4/i]},Yhe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Xhe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Qhe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Jhe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Zhe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},e0e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},t0e={ordinalNumber:Vhe({matchPattern:zhe,parsePattern:qhe,valueCallback:function(t){return parseInt(t,10)}}),era:wg({matchPatterns:Whe,defaultMatchWidth:"wide",parsePatterns:Hhe,defaultParseWidth:"any"}),quarter:wg({matchPatterns:Ghe,defaultMatchWidth:"wide",parsePatterns:Khe,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:wg({matchPatterns:Yhe,defaultMatchWidth:"wide",parsePatterns:Xhe,defaultParseWidth:"any"}),day:wg({matchPatterns:Qhe,defaultMatchWidth:"wide",parsePatterns:Jhe,defaultParseWidth:"any"}),dayPeriod:wg({matchPatterns:Zhe,defaultMatchWidth:"any",parsePatterns:e0e,defaultParseWidth:"any"})},EW={code:"en-US",formatDistance:The,formatLong:Che,formatRelative:jhe,localize:$he,match:t0e,options:{weekStartsOn:0,firstWeekContainsDate:1}},r0e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,n0e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,a0e=/^'([^]*?)'?$/,i0e=/''/g,s0e=/[a-zA-Z]/;function qt(e,t,r){var n,a,i,s,o,l,c,u,d,h,p,g,m,v;zr(2,arguments);var y=String(t),b=Vh(),x=(n=(a=void 0)!==null&&a!==void 0?a:b.locale)!==null&&n!==void 0?n:EW,O=ss((i=(s=(o=(l=void 0)!==null&&l!==void 0?l:void 0)!==null&&o!==void 0?o:b.firstWeekContainsDate)!==null&&s!==void 0?s:(c=b.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(O>=1&&O<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var P=ss((d=(h=(p=(g=void 0)!==null&&g!==void 0?g:void 0)!==null&&p!==void 0?p:b.weekStartsOn)!==null&&h!==void 0?h:(m=b.locale)===null||m===void 0||(v=m.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&d!==void 0?d:0);if(!(P>=0&&P<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!x.localize)throw new RangeError("locale must contain localize property");if(!x.formatLong)throw new RangeError("locale must contain formatLong property");var j=Vr(e);if(!Qde(j))throw new RangeError("Invalid time value");var T=GT(j),S=lhe(j,T),_={firstWeekContainsDate:O,weekStartsOn:P,locale:x,_originalDate:j},D=y.match(n0e).map(function(E){var N=E[0];if(N==="p"||N==="P"){var k=xhe[N];return k(E,x.formatLong)}return E}).join("").match(r0e).map(function(E){if(E==="''")return"'";var N=E[0];if(N==="'")return o0e(E);var k=vhe[N];if(k)return She(E)&&ZD(E,t,String(e)),_he(E)&&ZD(E,t,String(e)),k(S,E,x.localize,_);if(N.match(s0e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return E}).join("");return D}function o0e(e){var t=e.match(a0e);return t?t[1].replace(i0e,"'"):e}function NW(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function l0e(e){return NW({},e)}var eL=1440,c0e=2520,KA=43200,u0e=86400;function f0e(e,t,r){var n,a;zr(2,arguments);var i=Vh(),s=(n=(a=r==null?void 0:r.locale)!==null&&a!==void 0?a:i.locale)!==null&&n!==void 0?n:EW;if(!s.formatDistance)throw new RangeError("locale must contain formatDistance property");var o=cb(e,t);if(isNaN(o))throw new RangeError("Invalid time value");var l=NW(l0e(r),{addSuffix:!!(r!=null&&r.addSuffix),comparison:o}),c,u;o>0?(c=Vr(t),u=Vr(e)):(c=Vr(e),u=Vr(t));var d=ahe(u,c),h=(GT(u)-GT(c))/1e3,p=Math.round((d-h)/60),g;if(p<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):p===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",p,l);if(p<45)return s.formatDistance("xMinutes",p,l);if(p<90)return s.formatDistance("aboutXHours",1,l);if(p<eL){var m=Math.round(p/60);return s.formatDistance("aboutXHours",m,l)}else{if(p<c0e)return s.formatDistance("xDays",1,l);if(p<KA){var v=Math.round(p/eL);return s.formatDistance("xDays",v,l)}else if(p<u0e)return g=Math.round(p/KA),s.formatDistance("aboutXMonths",g,l)}if(g=nhe(u,c),g<12){var y=Math.round(p/KA);return s.formatDistance("xMonths",y,l)}else{var b=g%12,x=Math.floor(g/12);return b<3?s.formatDistance("aboutXYears",x,l):b<9?s.formatDistance("overXYears",x,l):s.formatDistance("almostXYears",x+1,l)}}function d0e(e,t){return zr(1,arguments),f0e(e,Date.now(),t)}function tL(e,t){zr(2,arguments);var r=Vr(e),n=Vr(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function rL(e,t){zr(2,arguments);var r=Vr(e).getTime(),n=Vr(t.start).getTime(),a=Vr(t.end).getTime();if(!(n<=a))throw new RangeError("Invalid interval");return r>=n&&r<=a}function Ur(e,t){zr(2,arguments);var r=ss(t);return Wde(e,-r)}function h0e(e,t){var r;zr(1,arguments);var n=ss((r=void 0)!==null&&r!==void 0?r:2);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var a=v0e(e),i;if(a.date){var s=y0e(a.date,n);i=x0e(s.restDateString,s.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var o=i.getTime(),l=0,c;if(a.time&&(l=b0e(a.time),isNaN(l)))return new Date(NaN);if(a.timezone){if(c=w0e(a.timezone),isNaN(c))return new Date(NaN)}else{var u=new Date(o+l),d=new Date(0);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return new Date(o+l+c)}var o2={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},p0e=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,m0e=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,g0e=/^([+-])(\d{2})(?::?(\d{2}))?$/;function v0e(e){var t={},r=e.split(o2.dateTimeDelimiter),n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],o2.timeZoneDelimiter.test(t.date)&&(t.date=e.split(o2.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){var a=o2.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function y0e(e,t){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};var a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function x0e(e,t){if(t===null)return new Date(NaN);var r=e.match(p0e);if(!r)return new Date(NaN);var n=!!r[4],a=_g(r[1]),i=_g(r[2])-1,s=_g(r[3]),o=_g(r[4]),l=_g(r[5])-1;if(n)return E0e(t,o,l)?_0e(t,o,l):new Date(NaN);var c=new Date(0);return!A0e(t,i,s)||!T0e(t,a)?new Date(NaN):(c.setUTCFullYear(t,i,Math.max(a,s)),c)}function _g(e){return e?parseInt(e):1}function b0e(e){var t=e.match(m0e);if(!t)return NaN;var r=YA(t[1]),n=YA(t[2]),a=YA(t[3]);return N0e(r,n,a)?r*wW+n*bW+a*1e3:NaN}function YA(e){return e&&parseFloat(e.replace(",","."))||0}function w0e(e){if(e==="Z")return 0;var t=e.match(g0e);if(!t)return 0;var r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return k0e(n,a)?r*(n*wW+a*bW):NaN}function _0e(e,t,r){var n=new Date(0);n.setUTCFullYear(e,0,4);var a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}var S0e=[31,null,31,30,31,30,31,31,30,31,30,31];function kW(e){return e%400===0||e%4===0&&e%100!==0}function A0e(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(S0e[t]||(kW(e)?29:28))}function T0e(e,t){return t>=1&&t<=(kW(e)?366:365)}function E0e(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function N0e(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function k0e(e,t){return t>=0&&t<=59}function C0e(e,t){zr(2,arguments);var r=ss(t);return yW(e,-r)}function nL(e,t){zr(2,arguments);var r=ss(t);return Gde(e,-r)}var TP=Hy(),Dr=e=>Wy(e,TP),EP=Hy();Dr.write=e=>Wy(e,EP);var k_=Hy();Dr.onStart=e=>Wy(e,k_);var NP=Hy();Dr.onFrame=e=>Wy(e,NP);var kP=Hy();Dr.onFinish=e=>Wy(e,kP);var dp=[];Dr.setTimeout=(e,t)=>{const r=Dr.now()+t,n=()=>{const i=dp.findIndex(s=>s.cancel==n);~i&&dp.splice(i,1),Pf-=~i?1:0},a={time:r,handler:e,cancel:n};return dp.splice(CW(r),0,a),Pf+=1,PW(),a};var CW=e=>~(~dp.findIndex(t=>t.time>e)||~dp.length);Dr.cancel=e=>{k_.delete(e),NP.delete(e),kP.delete(e),TP.delete(e),EP.delete(e)};Dr.sync=e=>{KT=!0,Dr.batchedUpdates(e),KT=!1};Dr.throttle=e=>{let t;function r(){try{e(...t)}finally{t=null}}function n(...a){t=a,Dr.onStart(r)}return n.handler=e,n.cancel=()=>{k_.delete(r),t=null},n};var CP=typeof window<"u"?window.requestAnimationFrame:()=>{};Dr.use=e=>CP=e;Dr.now=typeof performance<"u"?()=>performance.now():Date.now;Dr.batchedUpdates=e=>e();Dr.catch=console.error;Dr.frameLoop="always";Dr.advance=()=>{Dr.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):OW()};var Cf=-1,Pf=0,KT=!1;function Wy(e,t){KT?(t.delete(e),e(0)):(t.add(e),PW())}function PW(){Cf<0&&(Cf=0,Dr.frameLoop!=="demand"&&CP(jW))}function P0e(){Cf=-1}function jW(){~Cf&&(CP(jW),Dr.batchedUpdates(OW))}function OW(){const e=Cf;Cf=Dr.now();const t=CW(Cf);if(t&&(IW(dp.splice(0,t),r=>r.handler()),Pf-=t),!Pf){P0e();return}k_.flush(),TP.flush(e?Math.min(64,Cf-e):16.667),NP.flush(),EP.flush(),kP.flush()}function Hy(){let e=new Set,t=e;return{add(r){Pf+=t==e&&!e.has(r)?1:0,e.add(r)},delete(r){return Pf-=t==e&&e.has(r)?1:0,e.delete(r)},flush(r){t.size&&(e=new Set,Pf-=t.size,IW(t,n=>n(r)&&e.add(n)),Pf+=e.size,t=e)}}}function IW(e,t){e.forEach(r=>{try{t(r)}catch(n){Dr.catch(n)}})}var j0e=Object.defineProperty,O0e=(e,t)=>{for(var r in t)j0e(e,r,{get:t[r],enumerable:!0})},Ul={};O0e(Ul,{assign:()=>D0e,colors:()=>Kf,createStringInterpolator:()=>jP,skipAnimation:()=>LW,to:()=>DW,willAdvance:()=>OP});function YT(){}var I0e=(e,t,r)=>Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0}),$t={arr:Array.isArray,obj:e=>!!e&&e.constructor.name==="Object",fun:e=>typeof e=="function",str:e=>typeof e=="string",num:e=>typeof e=="number",und:e=>e===void 0};function Hc(e,t){if($t.arr(e)){if(!$t.arr(t)||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return e===t}var Zr=(e,t)=>e.forEach(t);function xc(e,t,r){if($t.arr(e)){for(let n=0;n<e.length;n++)t.call(r,e[n],`${n}`);return}for(const n in e)e.hasOwnProperty(n)&&t.call(r,e[n],n)}var fo=e=>$t.und(e)?[]:$t.arr(e)?e:[e];function Sv(e,t){if(e.size){const r=Array.from(e);e.clear(),Zr(r,t)}}var Qg=(e,...t)=>Sv(e,r=>r(...t)),PP=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),jP,DW,Kf=null,LW=!1,OP=YT,D0e=e=>{e.to&&(DW=e.to),e.now&&(Dr.now=e.now),e.colors!==void 0&&(Kf=e.colors),e.skipAnimation!=null&&(LW=e.skipAnimation),e.createStringInterpolator&&(jP=e.createStringInterpolator),e.requestAnimationFrame&&Dr.use(e.requestAnimationFrame),e.batchedUpdates&&(Dr.batchedUpdates=e.batchedUpdates),e.willAdvance&&(OP=e.willAdvance),e.frameLoop&&(Dr.frameLoop=e.frameLoop)},Av=new Set,Uo=[],XA=[],yw=0,C_={get idle(){return!Av.size&&!Uo.length},start(e){yw>e.priority?(Av.add(e),Dr.onStart(L0e)):(MW(e),Dr(XT))},advance:XT,sort(e){if(yw)Dr.onFrame(()=>C_.sort(e));else{const t=Uo.indexOf(e);~t&&(Uo.splice(t,1),RW(e))}},clear(){Uo=[],Av.clear()}};function L0e(){Av.forEach(MW),Av.clear(),Dr(XT)}function MW(e){Uo.includes(e)||RW(e)}function RW(e){Uo.splice(M0e(Uo,t=>t.priority>e.priority),0,e)}function XT(e){const t=XA;for(let r=0;r<Uo.length;r++){const n=Uo[r];yw=n.priority,n.idle||(OP(n),n.advance(e),n.idle||t.push(n))}return yw=0,XA=Uo,XA.length=0,Uo=t,Uo.length>0}function M0e(e,t){const r=e.findIndex(t);return r<0?e.length:r}var R0e=(e,t,r)=>Math.min(Math.max(r,e),t),F0e={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},Cl="[-+]?\\d*\\.?\\d+",xw=Cl+"%";function P_(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var $0e=new RegExp("rgb"+P_(Cl,Cl,Cl)),B0e=new RegExp("rgba"+P_(Cl,Cl,Cl,Cl)),U0e=new RegExp("hsl"+P_(Cl,xw,xw)),V0e=new RegExp("hsla"+P_(Cl,xw,xw,Cl)),z0e=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,q0e=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,W0e=/^#([0-9a-fA-F]{6})$/,H0e=/^#([0-9a-fA-F]{8})$/;function G0e(e){let t;return typeof e=="number"?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=W0e.exec(e))?parseInt(t[1]+"ff",16)>>>0:Kf&&Kf[e]!==void 0?Kf[e]:(t=$0e.exec(e))?(w0(t[1])<<24|w0(t[2])<<16|w0(t[3])<<8|255)>>>0:(t=B0e.exec(e))?(w0(t[1])<<24|w0(t[2])<<16|w0(t[3])<<8|sL(t[4]))>>>0:(t=z0e.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=H0e.exec(e))?parseInt(t[1],16)>>>0:(t=q0e.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=U0e.exec(e))?(aL(iL(t[1]),l2(t[2]),l2(t[3]))|255)>>>0:(t=V0e.exec(e))?(aL(iL(t[1]),l2(t[2]),l2(t[3]))|sL(t[4]))>>>0:null}function QA(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function aL(e,t,r){const n=r<.5?r*(1+t):r+t-r*t,a=2*r-n,i=QA(a,n,e+1/3),s=QA(a,n,e),o=QA(a,n,e-1/3);return Math.round(i*255)<<24|Math.round(s*255)<<16|Math.round(o*255)<<8}function w0(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function iL(e){return(parseFloat(e)%360+360)%360/360}function sL(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(t*255)}function l2(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function oL(e){let t=G0e(e);if(t===null)return e;t=t||0;const r=(t&4278190080)>>>24,n=(t&16711680)>>>16,a=(t&65280)>>>8,i=(t&255)/255;return`rgba(${r}, ${n}, ${a}, ${i})`}var k1=(e,t,r)=>{if($t.fun(e))return e;if($t.arr(e))return k1({range:e,output:t,extrapolate:r});if($t.str(e.output[0]))return jP(e);const n=e,a=n.output,i=n.range||[0,1],s=n.extrapolateLeft||n.extrapolate||"extend",o=n.extrapolateRight||n.extrapolate||"extend",l=n.easing||(c=>c);return c=>{const u=Y0e(c,i);return K0e(c,i[u],i[u+1],a[u],a[u+1],l,s,o,n.map)}};function K0e(e,t,r,n,a,i,s,o,l){let c=l?l(e):e;if(c<t){if(s==="identity")return c;s==="clamp"&&(c=t)}if(c>r){if(o==="identity")return c;o==="clamp"&&(c=r)}return n===a?n:t===r?e<=t?n:a:(t===-1/0?c=-c:r===1/0?c=c-t:c=(c-t)/(r-t),c=i(c),n===-1/0?c=-c:a===1/0?c=c+n:c=c*(a-n)+n,c)}function Y0e(e,t){for(var r=1;r<t.length-1&&!(t[r]>=e);++r);return r-1}var X0e=(e,t="end")=>r=>{r=t==="end"?Math.min(r,.999):Math.max(r,.001);const n=r*e,a=t==="end"?Math.floor(n):Math.ceil(n);return R0e(0,1,a/e)},bw=1.70158,c2=bw*1.525,lL=bw+1,cL=2*Math.PI/3,uL=2*Math.PI/4.5,u2=e=>e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,Q0e={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>1-(1-e)*(1-e),easeInOutQuad:e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2,easeInCubic:e=>e*e*e,easeOutCubic:e=>1-Math.pow(1-e,3),easeInOutCubic:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1-Math.pow(1-e,4),easeInOutQuart:e=>e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1-Math.pow(1-e,5),easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>e===0?0:Math.pow(2,10*e-10),easeOutExpo:e=>e===1?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,easeInCirc:e=>1-Math.sqrt(1-Math.pow(e,2)),easeOutCirc:e=>Math.sqrt(1-Math.pow(e-1,2)),easeInOutCirc:e=>e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2,easeInBack:e=>lL*e*e*e-bw*e*e,easeOutBack:e=>1+lL*Math.pow(e-1,3)+bw*Math.pow(e-1,2),easeInOutBack:e=>e<.5?Math.pow(2*e,2)*((c2+1)*2*e-c2)/2:(Math.pow(2*e-2,2)*((c2+1)*(e*2-2)+c2)+2)/2,easeInElastic:e=>e===0?0:e===1?1:-Math.pow(2,10*e-10)*Math.sin((e*10-10.75)*cL),easeOutElastic:e=>e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e*10-.75)*cL)+1,easeInOutElastic:e=>e===0?0:e===1?1:e<.5?-(Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*uL))/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*uL)/2+1,easeInBounce:e=>1-u2(1-e),easeOutBounce:u2,easeInOutBounce:e=>e<.5?(1-u2(1-2*e))/2:(1+u2(2*e-1))/2,steps:X0e},C1=Symbol.for("FluidValue.get"),Hp=Symbol.for("FluidValue.observers"),$o=e=>!!(e&&e[C1]),Ms=e=>e&&e[C1]?e[C1]():e,fL=e=>e[Hp]||null;function J0e(e,t){e.eventObserved?e.eventObserved(t):e(t)}function P1(e,t){const r=e[Hp];r&&r.forEach(n=>{J0e(n,t)})}var FW=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");Z0e(this,e)}},Z0e=(e,t)=>$W(e,C1,t);function Dm(e,t){if(e[C1]){let r=e[Hp];r||$W(e,Hp,r=new Set),r.has(t)||(r.add(t),e.observerAdded&&e.observerAdded(r.size,t))}return t}function j1(e,t){const r=e[Hp];if(r&&r.has(t)){const n=r.size-1;n?r.delete(t):e[Hp]=null,e.observerRemoved&&e.observerRemoved(n,t)}}var $W=(e,t,r)=>Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0}),ub=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,epe=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,dL=new RegExp(`(${ub.source})(%|[a-z]+)`,"i"),tpe=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,j_=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,BW=e=>{const[t,r]=rpe(e);if(!t||PP())return e;const n=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(n)return n.trim();if(r&&r.startsWith("--")){const a=window.getComputedStyle(document.documentElement).getPropertyValue(r);return a||e}else{if(r&&j_.test(r))return BW(r);if(r)return r}return e},rpe=e=>{const t=j_.exec(e);if(!t)return[,];const[,r,n]=t;return[r,n]},JA,npe=(e,t,r,n,a)=>`rgba(${Math.round(t)}, ${Math.round(r)}, ${Math.round(n)}, ${a})`,UW=e=>{JA||(JA=Kf?new RegExp(`(${Object.keys(Kf).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map(i=>Ms(i).replace(j_,BW).replace(epe,oL).replace(JA,oL)),r=t.map(i=>i.match(ub).map(Number)),a=r[0].map((i,s)=>r.map(o=>{if(!(s in o))throw Error('The arity of each "output" value must be equal');return o[s]})).map(i=>k1({...e,output:i}));return i=>{var l;const s=!dL.test(t[0])&&((l=t.find(c=>dL.test(c)))==null?void 0:l.replace(ub,""));let o=0;return t[0].replace(ub,()=>`${a[o++](i)}${s||""}`).replace(tpe,npe)}},IP="react-spring: ",VW=e=>{const t=e;let r=!1;if(typeof t!="function")throw new TypeError(`${IP}once requires a function parameter`);return(...n)=>{r||(t(...n),r=!0)}},ape=VW(console.warn);function ipe(){ape(`${IP}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var spe=VW(console.warn);function ope(){spe(`${IP}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function O_(e){return $t.str(e)&&(e[0]=="#"||/\d/.test(e)||!PP()&&j_.test(e)||e in(Kf||{}))}var _0,fb=new WeakMap,lpe=e=>e.forEach(({target:t,contentRect:r})=>{var n;return(n=fb.get(t))==null?void 0:n.forEach(a=>a(r))});function cpe(e,t){_0||typeof ResizeObserver<"u"&&(_0=new ResizeObserver(lpe));let r=fb.get(t);return r||(r=new Set,fb.set(t,r)),r.add(e),_0&&_0.observe(t),()=>{const n=fb.get(t);n&&(n.delete(e),!n.size&&_0&&_0.unobserve(t))}}var db=new Set,Sg,upe=()=>{const e=()=>{db.forEach(t=>t({width:window.innerWidth,height:window.innerHeight}))};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},fpe=e=>(db.add(e),Sg||(Sg=upe()),()=>{db.delete(e),!db.size&&Sg&&(Sg(),Sg=void 0)}),dpe=(e,{container:t=document.documentElement}={})=>t===document.documentElement?fpe(e):cpe(e,t),hpe=(e,t,r)=>t-e===0?1:(r-e)/(t-e),ppe={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}},mpe=class{constructor(e,t){this.createAxis=()=>({current:0,progress:0,scrollLength:0}),this.updateAxis=r=>{const n=this.info[r],{length:a,position:i}=ppe[r];n.current=this.container[`scroll${i}`],n.scrollLength=this.container[`scroll${a}`]-this.container[`client${a}`],n.progress=hpe(0,n.scrollLength,n.current)},this.update=()=>{this.updateAxis("x"),this.updateAxis("y")},this.sendEvent=()=>{this.callback(this.info)},this.advance=()=>{this.update(),this.sendEvent()},this.callback=e,this.container=t,this.info={time:0,x:this.createAxis(),y:this.createAxis()}}},Ag=new WeakMap,hL=new WeakMap,ZA=new WeakMap,pL=e=>e===document.documentElement?window:e,gpe=(e,{container:t=document.documentElement}={})=>{let r=ZA.get(t);r||(r=new Set,ZA.set(t,r));const n=new mpe(e,t);if(r.add(n),!Ag.has(t)){const i=()=>(r==null||r.forEach(o=>o.advance()),!0);Ag.set(t,i);const s=pL(t);window.addEventListener("resize",i,{passive:!0}),t!==document.documentElement&&hL.set(t,dpe(i,{container:t})),s.addEventListener("scroll",i,{passive:!0})}const a=Ag.get(t);return Dr(a),()=>{var o;Dr.cancel(a);const i=ZA.get(t);if(!i||(i.delete(n),i.size))return;const s=Ag.get(t);Ag.delete(t),s&&(pL(t).removeEventListener("scroll",s),window.removeEventListener("resize",s),(o=hL.get(t))==null||o())}},I_=PP()?F.useEffect:F.useLayoutEffect,vpe=()=>{const e=F.useRef(!1);return I_(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function zW(){const e=F.useState()[1],t=vpe();return()=>{t.current&&e(Math.random())}}var qW=e=>F.useEffect(e,ype),ype=[];function mL(e){const t=F.useRef(void 0);return F.useEffect(()=>{t.current=e}),t.current}var O1=Symbol.for("Animated:node"),xpe=e=>!!e&&e[O1]===e,ac=e=>e&&e[O1],DP=(e,t)=>I0e(e,O1,t),D_=e=>e&&e[O1]&&e[O1].getPayload(),WW=class{constructor(){DP(this,this)}getPayload(){return this.payload||[]}},L_=class HW extends WW{constructor(t){super(),this._value=t,this.done=!0,this.durationProgress=0,$t.num(this._value)&&(this.lastPosition=this._value)}static create(t){return new HW(t)}getPayload(){return[this]}getValue(){return this._value}setValue(t,r){return $t.num(t)&&(this.lastPosition=t,r&&(t=Math.round(t/r)*r,this.done&&(this.lastPosition=t))),this._value===t?!1:(this._value=t,!0)}reset(){const{done:t}=this;this.done=!1,$t.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,t&&(this.lastVelocity=null),this.v0=null)}},ww=class GW extends L_{constructor(t){super(0),this._string=null,this._toString=k1({output:[t,t]})}static create(t){return new GW(t)}getValue(){const t=this._string;return t??(this._string=this._toString(this._value))}setValue(t){if($t.str(t)){if(t==this._string)return!1;this._string=t,this._value=1}else if(super.setValue(t))this._string=null;else return!1;return!0}reset(t){t&&(this._toString=k1({output:[this.getValue(),t]})),this._value=0,super.reset()}},_w={dependencies:null},M_=class extends WW{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return xc(this.source,(r,n)=>{xpe(r)?t[n]=r.getValue(e):$o(r)?t[n]=Ms(r):e||(t[n]=r)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&Zr(this.payload,e=>e.reset())}_makePayload(e){if(e){const t=new Set;return xc(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){_w.dependencies&&$o(e)&&_w.dependencies.add(e);const t=D_(e);t&&Zr(t,r=>this.add(r))}},bpe=class KW extends M_{constructor(t){super(t)}static create(t){return new KW(t)}getValue(){return this.source.map(t=>t.getValue())}setValue(t){const r=this.getPayload();return t.length==r.length?r.map((n,a)=>n.setValue(t[a])).some(Boolean):(super.setValue(t.map(wpe)),!0)}};function wpe(e){return(O_(e)?ww:L_).create(e)}function QT(e){const t=ac(e);return t?t.constructor:$t.arr(e)?bpe:O_(e)?ww:L_}var gL=(e,t)=>{const r=!$t.fun(e)||e.prototype&&e.prototype.isReactComponent;return F.forwardRef((n,a)=>{const i=F.useRef(null),s=r&&F.useCallback(g=>{i.current=Ape(a,g)},[a]),[o,l]=Spe(n,t),c=zW(),u=()=>{const g=i.current;if(r&&!g)return;(g?t.applyAnimatedValues(g,o.getValue(!0)):!1)===!1&&c()},d=new _pe(u,l),h=F.useRef(void 0);I_(()=>(h.current=d,Zr(l,g=>Dm(g,d)),()=>{h.current&&(Zr(h.current.deps,g=>j1(g,h.current)),Dr.cancel(h.current.update))})),F.useEffect(u,[]),qW(()=>()=>{const g=h.current;Zr(g.deps,m=>j1(m,g))});const p=t.getComponentProps(o.getValue());return F.createElement(e,{...p,ref:s})})},_pe=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){e.type=="change"&&Dr.write(this.update)}};function Spe(e,t){const r=new Set;return _w.dependencies=r,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)}),e=new M_(e),_w.dependencies=null,[e,r]}function Ape(e,t){return e&&($t.fun(e)?e(t):e.current=t),t}var vL=Symbol.for("AnimatedComponent"),Tpe=(e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:r=a=>new M_(a),getComponentProps:n=a=>a}={})=>{const a={applyAnimatedValues:t,createAnimatedStyle:r,getComponentProps:n},i=s=>{const o=yL(s)||"Anonymous";return $t.str(s)?s=i[s]||(i[s]=gL(s,a)):s=s[vL]||(s[vL]=gL(s,a)),s.displayName=`Animated(${o})`,s};return xc(e,(s,o)=>{$t.arr(e)&&(o=yL(s)),i[o]=i(s)}),{animated:i}},yL=e=>$t.str(e)?e:e&&$t.str(e.displayName)?e.displayName:$t.fun(e)&&e.name||null;function Kd(e,...t){return $t.fun(e)?e(...t):e}var Tv=(e,t)=>e===!0||!!(t&&e&&($t.fun(e)?e(t):fo(e).includes(t))),YW=(e,t)=>$t.obj(e)?t&&e[t]:e,XW=(e,t)=>e.default===!0?e[t]:e.default?e.default[t]:void 0,Epe=e=>e,LP=(e,t=Epe)=>{let r=Npe;e.default&&e.default!==!0&&(e=e.default,r=Object.keys(e));const n={};for(const a of r){const i=t(e[a],a);$t.und(i)||(n[a]=i)}return n},Npe=["config","onProps","onStart","onChange","onPause","onResume","onRest"],kpe={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function Cpe(e){const t={};let r=0;if(xc(e,(n,a)=>{kpe[a]||(t[a]=n,r++)}),r)return t}function QW(e){const t=Cpe(e);if(t){const r={to:t};return xc(e,(n,a)=>a in t||(r[a]=n)),r}return{...e}}function I1(e){return e=Ms(e),$t.arr(e)?e.map(I1):O_(e)?Ul.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function Ppe(e){for(const t in e)return!0;return!1}function JT(e){return $t.fun(e)||$t.arr(e)&&$t.obj(e[0])}function jpe(e,t){var r;(r=e.ref)==null||r.delete(e),t==null||t.delete(e)}function Ope(e,t){var r;t&&e.ref!==t&&((r=e.ref)==null||r.delete(e),t.add(e),e.ref=t)}var Ipe={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},ZT={...Ipe.default,mass:1,damping:1,easing:Q0e.linear,clamp:!1},Dpe=class{constructor(){this.velocity=0,Object.assign(this,ZT)}};function Lpe(e,t,r){r&&(r={...r},xL(r,t),t={...r,...t}),xL(e,t),Object.assign(e,t);for(const s in ZT)e[s]==null&&(e[s]=ZT[s]);let{frequency:n,damping:a}=e;const{mass:i}=e;return $t.und(n)||(n<.01&&(n=.01),a<0&&(a=0),e.tension=Math.pow(2*Math.PI/n,2)*i,e.friction=4*Math.PI*a*i/n),e}function xL(e,t){if(!$t.und(t.decay))e.duration=void 0;else{const r=!$t.und(t.tension)||!$t.und(t.friction);(r||!$t.und(t.frequency)||!$t.und(t.damping)||!$t.und(t.mass))&&(e.duration=void 0,e.decay=void 0),r&&(e.frequency=void 0)}}var bL=[],Mpe=class{constructor(){this.changed=!1,this.values=bL,this.toValues=null,this.fromValues=bL,this.config=new Dpe,this.immediate=!1}};function JW(e,{key:t,props:r,defaultProps:n,state:a,actions:i}){return new Promise((s,o)=>{let l,c,u=Tv(r.cancel??(n==null?void 0:n.cancel),t);if(u)p();else{$t.und(r.pause)||(a.paused=Tv(r.pause,t));let g=n==null?void 0:n.pause;g!==!0&&(g=a.paused||Tv(g,t)),l=Kd(r.delay||0,t),g?(a.resumeQueue.add(h),i.pause()):(i.resume(),h())}function d(){a.resumeQueue.add(h),a.timeouts.delete(c),c.cancel(),l=c.time-Dr.now()}function h(){l>0&&!Ul.skipAnimation?(a.delayed=!0,c=Dr.setTimeout(p,l),a.pauseQueue.add(d),a.timeouts.add(c)):p()}function p(){a.delayed&&(a.delayed=!1),a.pauseQueue.delete(d),a.timeouts.delete(c),e<=(a.cancelId||0)&&(u=!0);try{i.start({...r,callId:e,cancel:u},s)}catch(g){o(g)}}})}var MP=(e,t)=>t.length==1?t[0]:t.some(r=>r.cancelled)?hp(e.get()):t.every(r=>r.noop)?ZW(e.get()):Al(e.get(),t.every(r=>r.finished)),ZW=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),Al=(e,t,r=!1)=>({value:e,finished:t,cancelled:r}),hp=e=>({value:e,cancelled:!0,finished:!1});function eH(e,t,r,n){const{callId:a,parentId:i,onRest:s}=t,{asyncTo:o,promise:l}=r;return!i&&e===o&&!t.reset?l:r.promise=(async()=>{r.asyncId=a,r.asyncTo=e;const c=LP(t,(v,y)=>y==="onRest"?void 0:v);let u,d;const h=new Promise((v,y)=>(u=v,d=y)),p=v=>{const y=a<=(r.cancelId||0)&&hp(n)||a!==r.asyncId&&Al(n,!1);if(y)throw v.result=y,d(v),v},g=(v,y)=>{const b=new wL,x=new _L;return(async()=>{if(Ul.skipAnimation)throw D1(r),x.result=Al(n,!1),d(x),x;p(b);const O=$t.obj(v)?{...v}:{...y,to:v};O.parentId=a,xc(c,(j,T)=>{$t.und(O[T])&&(O[T]=j)});const P=await n.start(O);return p(b),r.paused&&await new Promise(j=>{r.resumeQueue.add(j)}),P})()};let m;if(Ul.skipAnimation)return D1(r),Al(n,!1);try{let v;$t.arr(e)?v=(async y=>{for(const b of y)await g(b)})(e):v=Promise.resolve(e(g,n.stop.bind(n))),await Promise.all([v.then(u),h]),m=Al(n.get(),!0,!1)}catch(v){if(v instanceof wL)m=v.result;else if(v instanceof _L)m=v.result;else throw v}finally{a==r.asyncId&&(r.asyncId=i,r.asyncTo=i?o:void 0,r.promise=i?l:void 0)}return $t.fun(s)&&Dr.batchedUpdates(()=>{s(m,n,n.item)}),m})()}function D1(e,t){Sv(e.timeouts,r=>r.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var wL=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},_L=class extends Error{constructor(){super("SkipAnimationSignal")}},eE=e=>e instanceof RP,Rpe=1,RP=class extends FW{constructor(){super(...arguments),this.id=Rpe++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=ac(this);return e&&e.getValue()}to(...e){return Ul.to(this,e)}interpolate(...e){return ipe(),Ul.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){P1(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||C_.sort(this),P1(this,{type:"priority",parent:this,priority:e})}},kh=Symbol.for("SpringPhase"),tH=1,tE=2,rE=4,e4=e=>(e[kh]&tH)>0,lf=e=>(e[kh]&tE)>0,Tg=e=>(e[kh]&rE)>0,SL=(e,t)=>t?e[kh]|=tE|tH:e[kh]&=~tE,AL=(e,t)=>t?e[kh]|=rE:e[kh]&=~rE,Fpe=class extends RP{constructor(e,t){if(super(),this.animation=new Mpe,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!$t.und(e)||!$t.und(t)){const r=$t.obj(e)?{...e}:{...t,from:e};$t.und(r.default)&&(r.default=!0),this.start(r)}}get idle(){return!(lf(this)||this._state.asyncTo)||Tg(this)}get goal(){return Ms(this.animation.to)}get velocity(){const e=ac(this);return e instanceof L_?e.lastVelocity||0:e.getPayload().map(t=>t.lastVelocity||0)}get hasAnimated(){return e4(this)}get isAnimating(){return lf(this)}get isPaused(){return Tg(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,r=!1;const n=this.animation;let{toValues:a}=n;const{config:i}=n,s=D_(n.to);!s&&$o(n.to)&&(a=fo(Ms(n.to))),n.values.forEach((c,u)=>{if(c.done)return;const d=c.constructor==ww?1:s?s[u].lastPosition:a[u];let h=n.immediate,p=d;if(!h){if(p=c.lastPosition,i.tension<=0){c.done=!0;return}let g=c.elapsedTime+=e;const m=n.fromValues[u],v=c.v0!=null?c.v0:c.v0=$t.arr(i.velocity)?i.velocity[u]:i.velocity;let y;const b=i.precision||(m==d?.005:Math.min(1,Math.abs(d-m)*.001));if($t.und(i.duration))if(i.decay){const x=i.decay===!0?.998:i.decay,O=Math.exp(-(1-x)*g);p=m+v/(1-x)*(1-O),h=Math.abs(c.lastPosition-p)<=b,y=v*O}else{y=c.lastVelocity==null?v:c.lastVelocity;const x=i.restVelocity||b/10,O=i.clamp?0:i.bounce,P=!$t.und(O),j=m==d?c.v0>0:m<d;let T,S=!1;const _=1,D=Math.ceil(e/_);for(let E=0;E<D&&(T=Math.abs(y)>x,!(!T&&(h=Math.abs(d-p)<=b,h)));++E){P&&(S=p==d||p>d==j,S&&(y=-y*O,p=d));const N=-i.tension*1e-6*(p-d),k=-i.friction*.001*y,V=(N+k)/i.mass;y=y+V*_,p=p+y*_}}else{let x=1;i.duration>0&&(this._memoizedDuration!==i.duration&&(this._memoizedDuration=i.duration,c.durationProgress>0&&(c.elapsedTime=i.duration*c.durationProgress,g=c.elapsedTime+=e)),x=(i.progress||0)+g/this._memoizedDuration,x=x>1?1:x<0?0:x,c.durationProgress=x),p=m+i.easing(x)*(d-m),y=(p-c.lastPosition)/e,h=x==1}c.lastVelocity=y,Number.isNaN(p)&&(console.warn("Got NaN while animating:",this),h=!0)}s&&!s[u].done&&(h=!1),h?c.done=!0:t=!1,c.setValue(p,i.round)&&(r=!0)});const o=ac(this),l=o.getValue();if(t){const c=Ms(n.to);(l!==c||r)&&!i.decay?(o.setValue(c),this._onChange(c)):r&&i.decay&&this._onChange(l),this._stop()}else r&&this._onChange(l)}set(e){return Dr.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(lf(this)){const{to:e,config:t}=this.animation;Dr.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let r;return $t.und(e)?(r=this.queue||[],this.queue=[]):r=[$t.obj(e)?e:{...t,to:e}],Promise.all(r.map(n=>this._update(n))).then(n=>MP(this,n))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),D1(this._state,e&&this._lastCallId),Dr.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:r,from:n}=e;r=$t.obj(r)?r[t]:r,(r==null||JT(r))&&(r=void 0),n=$t.obj(n)?n[t]:n,n==null&&(n=void 0);const a={to:r,from:n};return e4(this)||(e.reverse&&([r,n]=[n,r]),n=Ms(n),$t.und(n)?ac(this)||this._set(r):this._set(n)),a}_update({...e},t){const{key:r,defaultProps:n}=this;e.default&&Object.assign(n,LP(e,(s,o)=>/^on/.test(o)?YW(s,r):s)),EL(this,e,"onProps"),Ng(this,"onProps",e,this);const a=this._prepareNode(e);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const i=this._state;return JW(++this._lastCallId,{key:r,props:e,defaultProps:n,state:i,actions:{pause:()=>{Tg(this)||(AL(this,!0),Qg(i.pauseQueue),Ng(this,"onPause",Al(this,Eg(this,this.animation.to)),this))},resume:()=>{Tg(this)&&(AL(this,!1),lf(this)&&this._resume(),Qg(i.resumeQueue),Ng(this,"onResume",Al(this,Eg(this,this.animation.to)),this))},start:this._merge.bind(this,a)}}).then(s=>{if(e.loop&&s.finished&&!(t&&s.noop)){const o=rH(e);if(o)return this._update(o,!0)}return s})}_merge(e,t,r){if(t.cancel)return this.stop(!0),r(hp(this));const n=!$t.und(e.to),a=!$t.und(e.from);if(n||a)if(t.callId>this._lastToId)this._lastToId=t.callId;else return r(hp(this));const{key:i,defaultProps:s,animation:o}=this,{to:l,from:c}=o;let{to:u=l,from:d=c}=e;a&&!n&&(!t.default||$t.und(u))&&(u=d),t.reverse&&([u,d]=[d,u]);const h=!Hc(d,c);h&&(o.from=d),d=Ms(d);const p=!Hc(u,l);p&&this._focus(u);const g=JT(t.to),{config:m}=o,{decay:v,velocity:y}=m;(n||a)&&(m.velocity=0),t.config&&!g&&Lpe(m,Kd(t.config,i),t.config!==s.config?Kd(s.config,i):void 0);let b=ac(this);if(!b||$t.und(u))return r(Al(this,!0));const x=$t.und(t.reset)?a&&!t.default:!$t.und(d)&&Tv(t.reset,i),O=x?d:this.get(),P=I1(u),j=$t.num(P)||$t.arr(P)||O_(P),T=!g&&(!j||Tv(s.immediate||t.immediate,i));if(p){const E=QT(u);if(E!==b.constructor)if(T)b=this._set(P);else throw Error(`Cannot animate between ${b.constructor.name} and ${E.name}, as the "to" prop suggests`)}const S=b.constructor;let _=$o(u),D=!1;if(!_){const E=x||!e4(this)&&h;(p||E)&&(D=Hc(I1(O),P),_=!D),(!Hc(o.immediate,T)&&!T||!Hc(m.decay,v)||!Hc(m.velocity,y))&&(_=!0)}if(D&&lf(this)&&(o.changed&&!x?_=!0:_||this._stop(l)),!g&&((_||$o(l))&&(o.values=b.getPayload(),o.toValues=$o(u)?null:S==ww?[1]:fo(P)),o.immediate!=T&&(o.immediate=T,!T&&!x&&this._set(l)),_)){const{onRest:E}=o;Zr(Bpe,k=>EL(this,t,k));const N=Al(this,Eg(this,l));Qg(this._pendingCalls,N),this._pendingCalls.add(r),o.changed&&Dr.batchedUpdates(()=>{var k;o.changed=!x,E==null||E(N,this),x?Kd(s.onRest,N):(k=o.onStart)==null||k.call(o,N,this)})}x&&this._set(O),g?r(eH(t.to,t,this._state,this)):_?this._start():lf(this)&&!p?this._pendingCalls.add(r):r(ZW(O))}_focus(e){const t=this.animation;e!==t.to&&(fL(this)&&this._detach(),t.to=e,fL(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;$o(t)&&(Dm(t,this),eE(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;$o(e)&&j1(e,this)}_set(e,t=!0){const r=Ms(e);if(!$t.und(r)){const n=ac(this);if(!n||!Hc(r,n.getValue())){const a=QT(r);!n||n.constructor!=a?DP(this,a.create(r)):n.setValue(r),n&&Dr.batchedUpdates(()=>{this._onChange(r,t)})}}return ac(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,Ng(this,"onStart",Al(this,Eg(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),Kd(this.animation.onChange,e,this)),Kd(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;ac(this).reset(Ms(e.to)),e.immediate||(e.fromValues=e.values.map(t=>t.lastPosition)),lf(this)||(SL(this,!0),Tg(this)||this._resume())}_resume(){Ul.skipAnimation?this.finish():C_.start(this)}_stop(e,t){if(lf(this)){SL(this,!1);const r=this.animation;Zr(r.values,a=>{a.done=!0}),r.toValues&&(r.onChange=r.onPause=r.onResume=void 0),P1(this,{type:"idle",parent:this});const n=t?hp(this.get()):Al(this.get(),Eg(this,e??r.to));Qg(this._pendingCalls,n),r.changed&&(r.changed=!1,Ng(this,"onRest",n,this))}}};function Eg(e,t){const r=I1(t),n=I1(e.get());return Hc(n,r)}function rH(e,t=e.loop,r=e.to){const n=Kd(t);if(n){const a=n!==!0&&QW(n),i=(a||e).reverse,s=!a||a.reset;return L1({...e,loop:t,default:!1,pause:void 0,to:!i||JT(r)?r:void 0,from:s?e.from:void 0,reset:s,...a})}}function L1(e){const{to:t,from:r}=e=QW(e),n=new Set;return $t.obj(t)&&TL(t,n),$t.obj(r)&&TL(r,n),e.keys=n.size?Array.from(n):null,e}function $pe(e){const t=L1(e);return $t.und(t.default)&&(t.default=LP(t)),t}function TL(e,t){xc(e,(r,n)=>r!=null&&t.add(n))}var Bpe=["onStart","onRest","onChange","onPause","onResume"];function EL(e,t,r){e.animation[r]=t[r]!==XW(t,r)?YW(t[r],e.key):void 0}function Ng(e,t,...r){var n,a,i,s;(a=(n=e.animation)[t])==null||a.call(n,...r),(s=(i=e.defaultProps)[t])==null||s.call(i,...r)}var Upe=["onStart","onChange","onRest"],Vpe=1,zpe=class{constructor(e,t){this.id=Vpe++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each((t,r)=>e[r]=t.get()),e}set(e){for(const t in e){const r=e[t];$t.und(r)||this.springs[t].set(r)}}update(e){return e&&this.queue.push(L1(e)),this}start(e){let{queue:t}=this;return e?t=fo(e).map(L1):this.queue=[],this._flush?this._flush(this,t):(oH(this,t),nE(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const r=this.springs;Zr(fo(t),n=>r[n].stop(!!e))}else D1(this._state,this._lastAsyncId),this.each(r=>r.stop(!!e));return this}pause(e){if($t.und(e))this.start({pause:!0});else{const t=this.springs;Zr(fo(e),r=>t[r].pause())}return this}resume(e){if($t.und(e))this.start({pause:!1});else{const t=this.springs;Zr(fo(e),r=>t[r].resume())}return this}each(e){xc(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:r}=this._events,n=this._active.size>0,a=this._changed.size>0;(n&&!this._started||a&&!this._started)&&(this._started=!0,Sv(e,([o,l])=>{l.value=this.get(),o(l,this,this._item)}));const i=!n&&this._started,s=a||i&&r.size?this.get():null;a&&t.size&&Sv(t,([o,l])=>{l.value=s,o(l,this,this._item)}),i&&(this._started=!1,Sv(r,([o,l])=>{l.value=s,o(l,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;Dr.onFrame(this._onFrame)}};function nE(e,t){return Promise.all(t.map(r=>nH(e,r))).then(r=>MP(e,r))}async function nH(e,t,r){const{keys:n,to:a,from:i,loop:s,onRest:o,onResolve:l}=t,c=$t.obj(t.default)&&t.default;s&&(t.loop=!1),a===!1&&(t.to=null),i===!1&&(t.from=null);const u=$t.arr(a)||$t.fun(a)?a:void 0;u?(t.to=void 0,t.onRest=void 0,c&&(c.onRest=void 0)):Zr(Upe,m=>{const v=t[m];if($t.fun(v)){const y=e._events[m];t[m]=({finished:b,cancelled:x})=>{const O=y.get(v);O?(b||(O.finished=!1),x&&(O.cancelled=!0)):y.set(v,{value:null,finished:b||!1,cancelled:x||!1})},c&&(c[m]=t[m])}});const d=e._state;t.pause===!d.paused?(d.paused=t.pause,Qg(t.pause?d.pauseQueue:d.resumeQueue)):d.paused&&(t.pause=!0);const h=(n||Object.keys(e.springs)).map(m=>e.springs[m].start(t)),p=t.cancel===!0||XW(t,"cancel")===!0;(u||p&&d.asyncId)&&h.push(JW(++e._lastAsyncId,{props:t,state:d,actions:{pause:YT,resume:YT,start(m,v){p?(D1(d,e._lastAsyncId),v(hp(e))):(m.onRest=o,v(eH(u,m,d,e)))}}})),d.paused&&await new Promise(m=>{d.resumeQueue.add(m)});const g=MP(e,await Promise.all(h));if(s&&g.finished&&!(r&&g.noop)){const m=rH(t,s,a);if(m)return oH(e,[m]),nH(e,m,!0)}return l&&Dr.batchedUpdates(()=>l(g,e,e.item)),g}function NL(e,t){const r={...e.springs};return t&&Zr(fo(t),n=>{$t.und(n.keys)&&(n=L1(n)),$t.obj(n.to)||(n={...n,to:void 0}),sH(r,n,a=>iH(a))}),aH(e,r),r}function aH(e,t){xc(t,(r,n)=>{e.springs[n]||(e.springs[n]=r,Dm(r,e))})}function iH(e,t){const r=new Fpe;return r.key=e,t&&Dm(r,t),r}function sH(e,t,r){t.keys&&Zr(t.keys,n=>{(e[n]||(e[n]=r(n)))._prepareNode(t)})}function oH(e,t){Zr(t,r=>{sH(e.springs,r,n=>iH(n,e))})}var qpe=F.createContext({pause:!1,immediate:!1}),Wpe=()=>{const e=[],t=function(n){ope();const a=[];return Zr(e,(i,s)=>{if($t.und(n))a.push(i.start());else{const o=r(n,i,s);o&&a.push(i.start(o))}}),a};t.current=e,t.add=function(n){e.includes(n)||e.push(n)},t.delete=function(n){const a=e.indexOf(n);~a&&e.splice(a,1)},t.pause=function(){return Zr(e,n=>n.pause(...arguments)),this},t.resume=function(){return Zr(e,n=>n.resume(...arguments)),this},t.set=function(n){Zr(e,(a,i)=>{const s=$t.fun(n)?n(i,a):n;s&&a.set(s)})},t.start=function(n){const a=[];return Zr(e,(i,s)=>{if($t.und(n))a.push(i.start());else{const o=this._getProps(n,i,s);o&&a.push(i.start(o))}}),a},t.stop=function(){return Zr(e,n=>n.stop(...arguments)),this},t.update=function(n){return Zr(e,(a,i)=>a.update(this._getProps(n,a,i))),this};const r=function(n,a,i){return $t.fun(n)?n(i,a):n};return t._getProps=r,t};function Hpe(e,t,r){const n=$t.fun(t)&&t;n&&!r&&(r=[]);const a=F.useMemo(()=>n||arguments.length==3?Wpe():void 0,[]),i=F.useRef(0),s=zW(),o=F.useMemo(()=>({ctrls:[],queue:[],flush(y,b){const x=NL(y,b);return i.current>0&&!o.queue.length&&!Object.keys(x).some(P=>!y.springs[P])?nE(y,b):new Promise(P=>{aH(y,x),o.queue.push(()=>{P(nE(y,b))}),s()})}}),[]),l=F.useRef([...o.ctrls]),c=F.useRef([]),u=mL(e)||0;F.useMemo(()=>{Zr(l.current.slice(e,u),y=>{jpe(y,a),y.stop(!0)}),l.current.length=e,d(u,e)},[e]),F.useMemo(()=>{d(0,Math.min(u,e))},r);function d(y,b){for(let x=y;x<b;x++){const O=l.current[x]||(l.current[x]=new zpe(null,o.flush)),P=n?n(x,O):t[x];P&&(c.current[x]=$pe(P))}}const h=l.current.map((y,b)=>NL(y,c.current[b])),p=F.useContext(qpe),g=mL(p),m=p!==g&&Ppe(p);I_(()=>{i.current++,o.ctrls=l.current;const{queue:y}=o;y.length&&(o.queue=[],Zr(y,b=>b())),Zr(l.current,(b,x)=>{a==null||a.add(b),m&&b.start({default:p});const O=c.current[x];O&&(Ope(b,O.ref),b.ref?b.queue.push(O):b.start(O))})}),qW(()=>()=>{Zr(o.ctrls,y=>y.stop(!0))});const v=h.map(y=>({...y}));return a?[v,a]:v}function Gpe(e,t){const r=$t.fun(e),[[n],a]=Hpe(1,r?e:[e],r?t||[]:t);return r||arguments.length==2?[n,a]:n}var Kpe=({container:e,...t}={})=>{const[r,n]=Gpe(()=>({scrollX:0,scrollY:0,scrollXProgress:0,scrollYProgress:0,...t}),[]);return I_(()=>{const a=gpe(({x:i,y:s})=>{n.start({scrollX:i.current,scrollXProgress:i.progress,scrollY:s.current,scrollYProgress:s.progress})},{container:(e==null?void 0:e.current)||void 0});return()=>{Zr(Object.values(r),i=>i.stop()),a()}},[]),r},Ype=class extends RP{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=k1(...t);const r=this._get(),n=QT(r);DP(this,n.create(r))}advance(e){const t=this._get(),r=this.get();Hc(t,r)||(ac(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&kL(this._active)&&t4(this)}_get(){const e=$t.arr(this.source)?this.source.map(Ms):fo(Ms(this.source));return this.calc(...e)}_start(){this.idle&&!kL(this._active)&&(this.idle=!1,Zr(D_(this),e=>{e.done=!1}),Ul.skipAnimation?(Dr.batchedUpdates(()=>this.advance()),t4(this)):C_.start(this))}_attach(){let e=1;Zr(fo(this.source),t=>{$o(t)&&Dm(t,this),eE(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){Zr(fo(this.source),e=>{$o(e)&&j1(e,this)}),this._active.clear(),t4(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=fo(this.source).reduce((t,r)=>Math.max(t,(eE(r)?r.priority:0)+1),0))}};function Xpe(e){return e.idle!==!1}function kL(e){return!e.size||Array.from(e).every(Xpe)}function t4(e){e.idle||(e.idle=!0,Zr(D_(e),t=>{t.done=!0}),P1(e,{type:"idle",parent:e}))}Ul.assign({createStringInterpolator:UW,to:(e,t)=>new Ype(e,t)});var lH=/^--/;function Qpe(e,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!lH.test(e)&&!(Ev.hasOwnProperty(e)&&Ev[e])?t+"px":(""+t).trim()}var CL={};function Jpe(e,t){if(!e.nodeType||!e.setAttribute)return!1;const r=e.nodeName==="filter"||e.parentNode&&e.parentNode.nodeName==="filter",{className:n,style:a,children:i,scrollTop:s,scrollLeft:o,viewBox:l,...c}=t,u=Object.values(c),d=Object.keys(c).map(h=>r||e.hasAttribute(h)?h:CL[h]||(CL[h]=h.replace(/([A-Z])/g,p=>"-"+p.toLowerCase())));i!==void 0&&(e.textContent=i);for(const h in a)if(a.hasOwnProperty(h)){const p=Qpe(h,a[h]);lH.test(h)?e.style.setProperty(h,p):e.style[h]=p}d.forEach((h,p)=>{e.setAttribute(h,u[p])}),n!==void 0&&(e.className=n),s!==void 0&&(e.scrollTop=s),o!==void 0&&(e.scrollLeft=o),l!==void 0&&e.setAttribute("viewBox",l)}var Ev={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zpe=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1),eme=["Webkit","Ms","Moz","O"];Ev=Object.keys(Ev).reduce((e,t)=>(eme.forEach(r=>e[Zpe(r,t)]=e[t]),e),Ev);var tme=/^(matrix|translate|scale|rotate|skew)/,rme=/^(translate)/,nme=/^(rotate|skew)/,r4=(e,t)=>$t.num(e)&&e!==0?e+t:e,hb=(e,t)=>$t.arr(e)?e.every(r=>hb(r,t)):$t.num(e)?e===t:parseFloat(e)===t,ame=class extends M_{constructor({x:e,y:t,z:r,...n}){const a=[],i=[];(e||t||r)&&(a.push([e||0,t||0,r||0]),i.push(s=>[`translate3d(${s.map(o=>r4(o,"px")).join(",")})`,hb(s,0)])),xc(n,(s,o)=>{if(o==="transform")a.push([s||""]),i.push(l=>[l,l===""]);else if(tme.test(o)){if(delete n[o],$t.und(s))return;const l=rme.test(o)?"px":nme.test(o)?"deg":"";a.push(fo(s)),i.push(o==="rotate3d"?([c,u,d,h])=>[`rotate3d(${c},${u},${d},${r4(h,l)})`,hb(h,0)]:c=>[`${o}(${c.map(u=>r4(u,l)).join(",")})`,hb(c,o.startsWith("scale")?1:0)])}}),a.length&&(n.transform=new ime(a,i)),super(n)}},ime=class extends FW{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return Zr(this.inputs,(r,n)=>{const a=Ms(r[0]),[i,s]=this.transforms[n]($t.arr(a)?a:r.map(Ms));e+=" "+i,t=t&&s}),t?"none":e}observerAdded(e){e==1&&Zr(this.inputs,t=>Zr(t,r=>$o(r)&&Dm(r,this)))}observerRemoved(e){e==0&&Zr(this.inputs,t=>Zr(t,r=>$o(r)&&j1(r,this)))}eventObserved(e){e.type=="change"&&(this._value=null),P1(this,e)}},sme=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];Ul.assign({batchedUpdates:gU.unstable_batchedUpdates,createStringInterpolator:UW,colors:F0e});var ome=Tpe(sme,{applyAnimatedValues:Jpe,createAnimatedStyle:e=>new ame(e),getComponentProps:({scrollTop:e,scrollLeft:t,...r})=>r}),Vc=ome.animated;const Vs=e=>(e==null?void 0:e.role)==="admin",n4=e=>(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="manager",PL=()=>{const[e,t]=F.useState(!0),[r,n]=F.useState([]),[a,i]=F.useState([]),[s,o]=F.useState([]),[l,c]=F.useState({time:new Date().toLocaleTimeString(),date:new Date().toLocaleDateString()}),[u,d]=F.useState({stockByLocation:[],stockByStore:[]}),[h,p]=F.useState({totalOrders:0,totalStock:0,totalInventoryValue:0,todayDamagedProducts:0,yesterdayDamagedProducts:0,yesterdayOrders:0,yesterdayStockChange:0,yesterdayRevenue:0,totalDeductions:0,yesterdayDeductions:0,todayStockAdditions:0,todayInventoryValueAdditions:0}),{isDarkMode:g}=un(),{user:m}=xa(),v=Sm(),y=F.useRef(null),b=F.useRef(null),x=F.useRef(null),{scrollYProgress:O}=Kpe({target:y}),P=O.to(U=>`translate3d(0, ${U*-100}%, 0)`),j=O.to([0,.3],[1,0]),T=O.to([.1,.3],[.8,1]),S=O.to([.1,.3],[0,1]),_=O.to([.2,1],[50,0]),D=O.to([.2,.5],[0,1]),E=O.to([.3,.6],[30,0]),N=O.to([.25,.55],[20,0]),k=async()=>{t(!0);try{const U=new Date,ee=Ur(U,1),Z=U,I=lr(At(Xe,"inventory")),M=lr(At(Xe,"inventory"),or("lastUpdated",">=",sr.fromDate(ee)),or("lastUpdated","<=",sr.fromDate(Z))),[z,K]=await Promise.all([dr(I),dr(M)]),X=z.docs.reduce((He,Ft)=>{const Nt=Ft.data();return He+(Nt.quantity||0)},0),ae=K.docs.reduce((He,Ft)=>{const Nt=Ft.data();return He+(Nt.quantityChange||0)},0),ue=z.docs.reduce((He,Ft)=>{const Nt=Ft.data();return He+(Nt.quantity||0)*(Nt.price||0)},0),ie=lr(At(Xe,"inventory")),ye=(await dr(ie)).docs.map(He=>({id:He.id,...He.data()})),H=ye.filter(He=>He.quantity<=10),ke=ye.filter(He=>He.quantity>10&&He.quantity<=25);i(H),o(ke);const Ce=new Date,_e=Wp(Ce),le=N1(Ce),Le=Wp(Ur(Ce,1)),qe=N1(Ur(Ce,1)),Ke=lr(At(Xe,"activityLogs"),or("time",">=",_e.toISOString()),or("time","<=",le.toISOString())),rt=lr(At(Xe,"activityLogs"),or("time",">=",Le.toISOString()),or("time","<=",qe.toISOString())),[Ee,Re]=await Promise.all([dr(Ke),dr(rt)]),Te=Ee.docs.map(He=>He.data()),Me=Re.docs.map(He=>He.data()),We=Te.reduce((He,Ft)=>{const Nt=Ft.detail.match(/(\d+) units deducted/);return He+(Nt?parseInt(Nt[1]):0)},0),st=Me.reduce((He,Ft)=>{const Nt=Ft.detail.match(/(\d+) units deducted/);return He+(Nt?parseInt(Nt[1]):0)},0),ct=Te.reduce((He,Ft)=>{const Nt=Ft.detail.match(/added new product "[^"]+" with total quantity (\d+)/);return He+(Nt?parseInt(Nt[1]):0)},0),xt=Te.reduce((He,Ft)=>{const Nt=Ft.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(Nt){const[,Pr,ur]=Nt,pr=z.docs.find(je=>je.data().name===Pr);if(pr){const je=pr.data().price||0;return He+parseInt(ur)*je}}return He},0),ht=Te.reduce((He,Ft)=>{const Nt=Ft.detail.toLowerCase();if(/reason:\s*damaged/i.test(Nt)||/damaged/i.test(Nt)||/damageditems/i.test(Nt)||/damaged items/i.test(Nt)){const Pr=[/(\d+)\s*units?\s*damaged/i,/damageditems?:\s*(\d+)/i,/quantity:\s*(\d+)/i,/edited product "[^"]+": quantity from (\d+) to (\d+)/i];for(const ur of Pr){const pr=Nt.match(ur);if(pr)if(pr.length===3){const je=parseInt(pr[1]),De=parseInt(pr[2]);return He+Math.abs(je-De)}else return He+parseInt(pr[1])}return He+1}return He},0),pt=Me.reduce((He,Ft)=>{const Nt=Ft.detail.toLowerCase();if(/reason:\s*damaged/i.test(Nt)||/damaged/i.test(Nt)||/damageditems/i.test(Nt)||/damaged items/i.test(Nt)){const Pr=[/(\d+)\s*units?\s*damaged/i,/damageditems?:\s*(\d+)/i,/quantity:\s*(\d+)/i,/edited product "[^"]+": quantity from (\d+) to (\d+)/i];for(const ur of Pr){const pr=Nt.match(ur);if(pr)if(pr.length===3){const je=parseInt(pr[1]),De=parseInt(pr[2]);return He+Math.abs(je-De)}else return He+parseInt(pr[1])}return He+1}return He},0);p({totalOrders:0,totalStock:X,totalInventoryValue:ue,todayDamagedProducts:ht,yesterdayDamagedProducts:pt,yesterdayOrders:0,yesterdayStockChange:ae,yesterdayRevenue:0,totalDeductions:We,yesterdayDeductions:st,todayStockAdditions:ct,todayInventoryValueAdditions:xt})}catch(U){console.error("Error fetching stats:",U)}finally{t(!1)}},V=async()=>{try{const U=lr(At(Xe,"activityLogs"),Ua("time","desc"),Kg(5)),Z=(await dr(U)).docs.map(I=>({id:I.id,...I.data()}));n(Z)}catch(U){console.error("Error fetching recent activities:",U)}},Q=()=>{const U=new Date;c({time:U.toLocaleTimeString(),date:U.toLocaleDateString()})},W=async()=>{try{const U=lr(At(Xe,"inventory")),Z=(await dr(U)).docs.map(X=>({id:X.id,...X.data()})),I=new Map;Z.forEach(X=>{const ae=X.locationCode||"Unknown",ue=X.quantity||0,ie=ue*(X.price||0);if(I.has(ae)){const ge=I.get(ae);I.set(ae,{quantity:ge.quantity+ue,value:ge.value+ie})}else I.set(ae,{quantity:ue,value:ie})});const M=Array.from(I.entries()).map(([X,ae])=>({location:X,quantity:ae.quantity,value:ae.value})).sort((X,ae)=>ae.quantity-X.quantity),z=new Map;Z.forEach(X=>{const ae=X.storeName||"Unknown",ue=X.quantity||0,ie=ue*(X.price||0);if(z.has(ae)){const ge=z.get(ae);z.set(ae,{quantity:ge.quantity+ue,value:ge.value+ie})}else z.set(ae,{quantity:ue,value:ie})});const K=Array.from(z.entries()).map(([X,ae])=>({store:X,quantity:ae.quantity,value:ae.value})).sort((X,ae)=>ae.value-X.value);d({stockByLocation:M,stockByStore:K})}catch(U){console.error("Error fetching inventory data:",U)}},G=async()=>{await Promise.all([k(),V(),W()])};F.useEffect(()=>{G();const U=setInterval(Q,1e3);return()=>clearInterval(U)},[]);const q=()=>{const{isDarkMode:U}=un();return f.jsxs("div",{className:"animate-pulse",children:[f.jsx("div",{className:`h-10 ${U?"bg-slate-700":"bg-slate-200"} rounded mb-4`}),[...Array(5)].map((ee,Z)=>f.jsx("div",{className:`h-16 ${U?"bg-slate-700":"bg-slate-200"} rounded mb-2`},Z))]})};return f.jsxs("div",{ref:y,className:`${g?"bg-slate-900 text-white":"bg-slate-50 text-slate-800"}`,children:[f.jsxs(Vc.div,{ref:b,style:{transform:P,opacity:j},className:`relative h-screen flex items-center justify-center ${g?"bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900":"bg-gradient-to-br from-slate-50 via-white to-slate-50"}`,children:[f.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[f.jsx("div",{className:`absolute -top-40 -right-40 w-80 h-80 rounded-full blur-3xl ${g?"bg-blue-600 opacity-20":"bg-blue-300 opacity-30"}`}),f.jsx("div",{className:`absolute bottom-0 left-0 w-96 h-96 rounded-full blur-3xl ${g?"bg-purple-600 opacity-20":"bg-purple-300 opacity-30"}`})]}),f.jsxs("div",{className:"relative z-10 text-center px-6 max-w-4xl",children:[f.jsx("h1",{className:`text-5xl md:text-6xl font-bold mb-4 ${g?"text-white":"text-slate-800"} animate-fade-in`,children:"Admin Dashboard"}),f.jsx("p",{className:`text-xl md:text-2xl mb-8 ${g?"text-slate-300":"text-slate-600"}`,children:"View your warehouse performance at a glance"}),f.jsxs("div",{className:"flex items-center justify-center gap-4",children:[f.jsxs(Vc.div,{className:`flex items-center gap-2 px-4 py-3 rounded-lg backdrop-blur-sm ${g?"bg-slate-800/80 border border-slate-700":"bg-white/80 border border-slate-200"}`,children:[f.jsx(Hb,{size:24,className:"text-blue-500"}),f.jsxs("div",{children:[f.jsx("p",{className:`text-lg font-medium ${g?"text-white":"text-slate-800"}`,children:l.time}),f.jsx("p",{className:`text-sm ${g?"text-slate-400":"text-slate-500"}`,children:l.date})]})]}),f.jsxs(at,{variant:"secondary",onClick:G,className:`flex items-center gap-2 px-6 ${e?"opacity-50 cursor-not-allowed":""}`,disabled:e,children:[f.jsx(Fa,{size:18,className:e?"animate-spin":""}),f.jsx("span",{children:"Refresh"})]})]})]})]}),f.jsxs("div",{className:"relative z-10 space-y-8 p-6 md:p-8",children:[f.jsx(Vc.div,{style:{transform:N.to(U=>`translateY(${U}px)`)},children:f.jsx(x0,{title:"Quick Actions",className:`${g?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[f.jsxs(at,{variant:"outline",onClick:()=>v("/add"),className:`flex flex-col items-center gap-2 p-4 h-20 ${g?"hover:bg-slate-700 border-slate-600":"hover:bg-slate-100 border-slate-300"}`,children:[f.jsx(rT,{size:24,className:"text-blue-600"}),f.jsx("span",{className:"text-sm font-medium",children:"Add Product"})]}),f.jsxs(at,{variant:"outline",onClick:()=>v("/jobs"),className:`flex flex-col items-center gap-2 p-4 h-20 ${g?"hover:bg-slate-700 border-slate-600":"hover:bg-slate-100 border-slate-300"}`,children:[f.jsx(CU,{size:24,className:"text-green-600"}),f.jsx("span",{className:"text-sm font-medium",children:"Manage Jobs"})]}),f.jsxs(at,{variant:"outline",onClick:()=>v("/stock"),className:`flex flex-col items-center gap-2 p-4 h-20 ${g?"hover:bg-slate-700 border-slate-600":"hover:bg-slate-100 border-slate-300"}`,children:[f.jsx(Bo,{size:24,className:"text-purple-600"}),f.jsx("span",{className:"text-sm font-medium",children:"Manage Stock"})]}),f.jsxs(at,{variant:"outline",onClick:()=>v("/reports-analytics"),className:`flex flex-col items-center gap-2 p-4 h-20 ${g?"hover:bg-slate-700 border-slate-600":"hover:bg-slate-100 border-slate-300"}`,children:[f.jsx(kU,{size:24,className:"text-orange-600"}),f.jsx("span",{className:"text-sm font-medium",children:"View Reports"})]}),f.jsxs(at,{variant:"outline",onClick:()=>v("/warehouse-locations"),className:`flex flex-col items-center gap-2 p-4 h-20 ${g?"hover:bg-slate-700 border-slate-600":"hover:bg-slate-100 border-slate-300"}`,children:[f.jsx(Pre,{size:24,className:"text-indigo-600"}),f.jsx("span",{className:"text-sm font-medium",children:"Locations"})]}),f.jsxs(at,{variant:"outline",onClick:()=>v("/warehouse-operations"),className:`flex flex-col items-center gap-2 p-4 h-20 ${g?"hover:bg-slate-700 border-slate-600":"hover:bg-slate-100 border-slate-300"}`,children:[f.jsx(Hb,{size:24,className:"text-teal-600"}),f.jsx("span",{className:"text-sm font-medium",children:"Activity Logs"})]})]})})}),f.jsx(Vc.div,{ref:x,style:{transform:T,opacity:S},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e?f.jsxs(f.Fragment,{children:[f.jsx(kf,{}),f.jsx(kf,{}),f.jsx(kf,{}),f.jsx(kf,{})]}):f.jsxs(f.Fragment,{children:[f.jsx(Ka,{title:"Total Stock",value:h.totalStock,icon:f.jsx(Bo,{size:24,className:"text-blue-600"}),change:{value:h.todayStockAdditions,isPositive:!0,customIcon:f.jsx(hi,{size:16,className:"text-green-500 mr-1"}),label:h.todayStockAdditions===0?"no additions today":h.todayStockAdditions===1?"unit added today":"units added today"}}),f.jsx(Ka,{title:"Total Units Deducted Today",value:h.totalDeductions,icon:f.jsx(LU,{size:24,className:"text-blue-600"}),change:{value:h.yesterdayDeductions,isPositive:h.totalDeductions>=h.yesterdayDeductions,label:h.yesterdayDeductions===1?"unit deducted yesterday":"units deducted yesterday"}}),f.jsx(Ka,{title:"Damaged Products Today",value:h.todayDamagedProducts,icon:f.jsx(Ah,{size:24,className:"text-red-600"}),change:{value:h.yesterdayDamagedProducts,isPositive:h.todayDamagedProducts<=h.yesterdayDamagedProducts,label:h.yesterdayDamagedProducts===0?"no damage yesterday":h.yesterdayDamagedProducts===1?"unit damaged yesterday":"units damaged yesterday"}}),Vs(m)?f.jsx(Ka,{title:"Total Inventory Value",value:h.totalInventoryValue,icon:f.jsx(Kb,{size:24,className:"text-blue-600"}),formatValue:U=>`${U.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})}`,change:{value:h.todayInventoryValueAdditions,isPositive:!0,customIcon:f.jsx(hi,{size:16,className:"text-green-500 mr-1"}),label:h.todayInventoryValueAdditions===0?"no value added today":" added today"}}):f.jsx(Ka,{title:"Total Products",value:u.stockByLocation.length,icon:f.jsx(Bo,{size:24,className:"text-purple-600"}),change:{value:h.todayStockAdditions,isPositive:!0,customIcon:f.jsx(hi,{size:16,className:"text-green-500 mr-1"}),label:h.todayStockAdditions===0?"no additions today":h.todayStockAdditions===1?"addition today":"additions today"}})]})}),f.jsx(Vc.div,{style:{transform:E.to(U=>`translateY(${U}px)`)},children:f.jsx(x0,{title:"Stock Value by Store",className:`${g?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:e?f.jsxs("div",{className:"animate-pulse space-y-4",children:[f.jsx("div",{className:`h-4 ${g?"bg-slate-700":"bg-slate-200"} rounded w-3/4`}),f.jsx("div",{className:`h-32 ${g?"bg-slate-700":"bg-slate-200"} rounded`})]}):u.stockByStore.length>0?f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx(uI,{size:20,className:"text-blue-500"}),f.jsx("span",{className:`text-sm font-medium ${g?"text-slate-300":"text-slate-700"}`,children:Vs(m)?f.jsxs(f.Fragment,{children:["Total Value: ",u.stockByStore.reduce((U,ee)=>U+ee.value,0).toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})," across ",u.stockByStore.length," stores"]}):f.jsxs(f.Fragment,{children:["Total Quantity: ",u.stockByStore.reduce((U,ee)=>U+ee.quantity,0)," units across ",u.stockByStore.length," stores"]})})]}),f.jsx("div",{className:"space-y-3",children:u.stockByStore.slice(0,5).map((U,ee)=>{const Z=Math.max(...u.stockByStore.slice(0,5).map(z=>z.value)),I=Z>0?U.value/Z*100:0,M=["bg-blue-500","bg-green-500","bg-purple-500","bg-orange-500","bg-pink-500"];return f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:`text-sm font-medium ${g?"text-slate-300":"text-slate-700"}`,children:U.store.toUpperCase()}),f.jsxs("div",{className:"text-right",children:[f.jsxs("span",{className:`text-sm font-bold ${g?"text-white":"text-slate-900"}`,children:[U.quantity.toLocaleString()," units"]}),Vs(m)&&f.jsxs("p",{className:`text-xs ${g?"text-slate-400":"text-slate-500"}`,children:["",U.value.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),f.jsx("div",{className:`w-full ${g?"bg-slate-700":"bg-slate-200"} rounded-full h-3`,children:f.jsx("div",{className:`h-3 rounded-full transition-all duration-700 ease-out ${M[ee%M.length]}`,style:{width:`${I}%`}})})]},ee)})})]}):f.jsxs("div",{className:`text-center py-8 ${g?"text-slate-400":"text-slate-500"}`,children:[f.jsx(Bo,{size:48,className:"mx-auto mb-4 opacity-50"}),f.jsx("p",{children:"No store data available"})]})})}),f.jsx(Vc.div,{style:{transform:E.to(U=>`translateY(${U}px)`)},children:f.jsx(x0,{title:"Stock Distribution by Location",className:`${g?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:e?f.jsxs("div",{className:"animate-pulse space-y-4",children:[f.jsx("div",{className:`h-4 ${g?"bg-slate-700":"bg-slate-200"} rounded w-3/4`}),f.jsx("div",{className:`h-32 ${g?"bg-slate-700":"bg-slate-200"} rounded`})]}):u.stockByLocation.length>0?f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx(uI,{size:20,className:"text-blue-500"}),f.jsxs("span",{className:`text-sm font-medium ${g?"text-slate-300":"text-slate-700"}`,children:["Total: ",u.stockByLocation.reduce((U,ee)=>U+ee.quantity,0)," units across ",u.stockByLocation.length," locations"]})]}),f.jsx("div",{className:"space-y-3",children:u.stockByLocation.slice(0,5).map((U,ee)=>{const Z=Math.max(...u.stockByLocation.slice(0,5).map(z=>z.quantity)),I=Z>0?U.quantity/Z*100:0,M=["bg-blue-500","bg-green-500","bg-purple-500","bg-orange-500","bg-pink-500"];return f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("span",{className:`text-sm font-medium ${g?"text-slate-300":"text-slate-700"}`,children:["Location ",U.location]}),f.jsxs("div",{className:"text-right",children:[f.jsxs("span",{className:`text-sm font-bold ${g?"text-white":"text-slate-900"}`,children:[U.quantity," units"]}),Vs(m)&&f.jsxs("p",{className:`text-xs ${g?"text-slate-400":"text-slate-500"}`,children:["",U.value.toFixed(2)]})]})]}),f.jsx("div",{className:`w-full ${g?"bg-slate-700":"bg-slate-200"} rounded-full h-3`,children:f.jsx("div",{className:`h-3 rounded-full transition-all duration-700 ease-out ${M[ee%M.length]}`,style:{width:`${I}%`}})})]},ee)})})]}):f.jsxs("div",{className:`text-center py-8 ${g?"text-slate-400":"text-slate-500"}`,children:[f.jsx(Bo,{size:48,className:"mx-auto mb-4 opacity-50"}),f.jsx("p",{children:"No inventory data available"})]})})}),f.jsx(Vc.div,{style:{transform:_.to(U=>`translateY(${U}px)`),opacity:D},children:f.jsx(x0,{title:"Recent Activity",className:`${g?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:e?f.jsx(q,{}):r.length>0?f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{children:f.jsxs("tr",{className:`${g?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${g?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"User"}),f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${g?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Role"}),f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${g?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Activity"}),f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${g?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Time"})]})}),f.jsx("tbody",{className:`divide-y ${g?"divide-slate-700":"divide-slate-200"}`,children:r.slice(0,5).map(U=>f.jsxs("tr",{className:`${g?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[f.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm font-medium ${g?"text-white":"text-slate-900"}`,children:U.user}),f.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${g?"text-slate-400":"text-slate-500"}`,children:U.role}),f.jsx("td",{className:`px-6 py-4 text-sm ${g?"text-slate-400":"text-slate-500"}`,children:f.jsx("div",{className:"max-w-xs truncate",title:U.detail,children:U.detail})}),f.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${g?"text-slate-400":"text-slate-500"}`,children:d0e(new Date(U.time),{addSuffix:!0})})]},U.id))})]})}):f.jsx("div",{className:`text-center py-8 ${g?"text-slate-400":"text-slate-500"}`,children:"No recent activities found"})})}),f.jsx(Vc.div,{style:{transform:_.to(U=>`translateY(${U}px)`),opacity:D},children:f.jsx(x0,{title:"Low Stock Items",className:`${g?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:e?f.jsx(q,{}):s.length>0?f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{children:f.jsxs("tr",{className:`${g?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${g?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Product"}),f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${g?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${g?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Current Stock"}),f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${g?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Status"})]})}),f.jsx("tbody",{className:`divide-y ${g?"divide-slate-700":"divide-slate-200"}`,children:s.slice(0,5).map(U=>f.jsxs("tr",{className:`${g?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[f.jsx("td",{className:`px-6 py-4 text-sm font-medium ${g?"text-white":"text-slate-900"}`,children:f.jsx("div",{className:"max-w-xs truncate",title:U.name,children:U.name})}),f.jsxs("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${g?"text-slate-400":"text-slate-500"}`,children:[U.locationCode,"-",U.shelfNumber]}),f.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${g?"text-slate-400":"text-slate-500"}`,children:U.quantity}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-amber-100 text-amber-800",children:"Low"})})]},U.id))})]})}):f.jsx("div",{className:`text-center py-8 ${g?"text-slate-400":"text-slate-500"}`,children:"No low stock items found"})})}),f.jsx(Vc.div,{style:{transform:_.to(U=>`translateY(${U}px)`),opacity:D},children:f.jsx(x0,{title:"Critical Stock Items",className:`${g?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:e?f.jsx(q,{}):a.length>0?f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{children:f.jsxs("tr",{className:`${g?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${g?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Product"}),f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${g?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${g?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Current Stock"}),f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${g?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Status"})]})}),f.jsx("tbody",{className:`divide-y ${g?"divide-slate-700":"divide-slate-200"}`,children:a.slice(0,5).map(U=>f.jsxs("tr",{className:`${g?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[f.jsx("td",{className:`px-6 py-4 text-sm font-medium ${g?"text-white":"text-slate-900"}`,children:f.jsx("div",{className:"max-w-xs truncate",title:U.name,children:U.name})}),f.jsxs("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${g?"text-slate-400":"text-slate-500"}`,children:[U.locationCode,"-",U.shelfNumber]}),f.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${g?"text-slate-400":"text-slate-500"}`,children:U.quantity}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"Critical"})})]},U.id))})]})}):f.jsx("div",{className:`text-center py-8 ${g?"text-slate-400":"text-slate-500"}`,children:"No critical stock items found"})})})]})]})},gn=({isOpen:e,onClose:t,title:r,children:n,size:a="md",closeOnOutsideClick:i=!0})=>{const{isDarkMode:s}=un(),o=F.useRef(null);if(F.useEffect(()=>{const c=u=>{u.key==="Escape"&&t()};return e&&window.addEventListener("keydown",c),()=>{window.removeEventListener("keydown",c)}},[e,t]),F.useEffect(()=>{const c=u=>{i&&o.current&&!o.current.contains(u.target)&&t()};return e&&document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[e,t,i]),!e)return null;const l={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-2xl"};return f.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:f.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4 text-center",children:[f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:i?t:void 0}),f.jsxs("div",{className:`relative transform overflow-hidden rounded-lg ${l[a]} w-full ${s?"bg-slate-800":"bg-white"} p-6 text-left shadow-xl transition-all`,children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h3",{className:`text-lg font-medium ${s?"text-white":"text-slate-900"}`,children:r}),f.jsx("button",{onClick:t,className:`rounded-md p-1.5 ${s?"text-slate-400 hover:text-slate-300 hover:bg-slate-700":"text-slate-500 hover:text-slate-700 hover:bg-slate-100"} transition-colors`,children:f.jsx(Lp,{size:20})})]}),f.jsx("div",{className:`${s?"text-slate-200":"text-slate-700"}`,children:n})]})]})})},zh=({isOpen:e,onClose:t,onBarcodeScanned:r})=>{const[n,a]=F.useState(!1),i=F.useRef(null);return F.useEffect(()=>{let s="",o=Date.now();const l=c=>{if(!e||!n)return;const u=Date.now();u-o>2e3&&(s=""),o=u,c.key==="Enter"&&s.length>0?(c.preventDefault(),r(s),s="",t()):c.key.length===1&&(s+=c.key)};return e?(a(!0),document.addEventListener("keydown",l),setTimeout(()=>{i.current&&i.current.focus()},100)):a(!1),()=>{document.removeEventListener("keydown",l)}},[e,n,r,t]),f.jsx(gn,{isOpen:e,onClose:t,title:"Scan Barcode",size:"sm",children:f.jsxs("div",{ref:i,className:"flex flex-col items-center justify-center p-6 space-y-4",tabIndex:-1,onKeyDown:s=>{s.preventDefault()},children:[f.jsx("div",{className:"w-16 h-16 bg-blue-50 rounded-full flex items-center justify-center",children:f.jsx(pu,{size:32,className:"text-blue-500"})}),f.jsx("p",{className:"text-center text-slate-600",children:n?"Please scan the barcode now...":"Ready to scan..."}),f.jsxs("div",{className:"text-center text-sm text-slate-500",children:[f.jsx("p",{children:"Point your barcode scanner at the product"}),f.jsx("p",{children:"and scan the barcode"})]})]})})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var cH=1252,lme=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],FP={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},$P=function(e){lme.indexOf(e)!=-1&&(cH=FP[0]=e)};function cme(){$P(1252)}var Pl=function(e){$P(e)};function uH(){Pl(1200),cme()}function jL(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function ume(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function fH(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var Jg=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?ume(e.slice(2)):t==254&&r==255?fH(e.slice(2)):t==65279?e.slice(1):e},f2=function(t){return String.fromCharCode(t)},OL=function(t){return String.fromCharCode(t)},bf,jf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function IL(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0,l=0,c=0;c<e.length;)r=e.charCodeAt(c++),i=r>>2,n=e.charCodeAt(c++),s=(r&3)<<4|n>>4,a=e.charCodeAt(c++),o=(n&15)<<2|a>>6,l=a&63,isNaN(n)?o=l=64:isNaN(a)&&(l=64),t+=jf.charAt(i)+jf.charAt(s)+jf.charAt(o)+jf.charAt(l);return t}function go(e){var t="",r=0,n=0,a=0,i=0,s=0,o=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<e.length;)i=jf.indexOf(e.charAt(c++)),s=jf.indexOf(e.charAt(c++)),r=i<<2|s>>4,t+=String.fromCharCode(r),o=jf.indexOf(e.charAt(c++)),n=(s&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),l=jf.indexOf(e.charAt(c++)),a=(o&3)<<6|l,l!==64&&(t+=String.fromCharCode(a));return t}var tn=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),qh=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function ld(e){return tn?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function DL(e){return tn?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var El=function(t){return tn?qh(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Wh(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function BP(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return BP(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var wf=tn?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:qh(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function fme(e){for(var t=[],r=0,n=e.length+250,a=ld(e.length+255),i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s<128)a[r++]=s;else if(s<2048)a[r++]=192|s>>6&31,a[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=e.charCodeAt(++i)&1023;a[r++]=240|s>>8&7,a[r++]=128|s>>2&63,a[r++]=128|o>>6&15|(s&3)<<4,a[r++]=128|o&63}else a[r++]=224|s>>12&15,a[r++]=128|s>>6&63,a[r++]=128|s&63;r>n&&(t.push(a.slice(0,r)),r=0,a=ld(65535),n=65530)}return t.push(a.slice(0,r)),wf(t)}var Es=/\u0000/g,Zg=/[\u0001-\u0006]/g;function pp(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function jl(e,t){var r=""+e;return r.length>=t?r:va("0",t-r.length)+r}function UP(e,t){var r=""+e;return r.length>=t?r:va(" ",t-r.length)+r}function Sw(e,t){var r=""+e;return r.length>=t?r:r+va(" ",t-r.length)}function dme(e,t){var r=""+Math.round(e);return r.length>=t?r:va("0",t-r.length)+r}function hme(e,t){var r=""+e;return r.length>=t?r:va("0",t-r.length)+r}var LL=Math.pow(2,32);function S0(e,t){if(e>LL||e<-LL)return dme(e,t);var r=Math.round(e);return hme(r,t)}function Aw(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var ML=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],a4=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function pme(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Br={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},RL={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},mme={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Tw(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,s=1,o=0,l=1,c=0,u=0,d=Math.floor(a);c<t&&(d=Math.floor(a),o=d*s+i,u=d*c+l,!(a-d<5e-8));)a=1/(a-d),i=s,s=o,l=c,c=u;if(u>t&&(c>t?(u=l,o=i):(u=c,o=s)),!r)return[0,n*o,u];var h=Math.floor(n*o/u);return[h,n*o-h*u,u]}function nh(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,s=[],o={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)s=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],i=l.getDay(),n<60&&(i=(i+6)%7),r&&(i=wme(l,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=i,o}var dH=new Date(1899,11,31,0,0,0),gme=dH.getTime(),vme=new Date(1900,2,1,0,0,0);function hH(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=vme&&(r+=24*60*60*1e3),(r-(gme+(e.getTimezoneOffset()-dH.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function VP(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function yme(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function xme(e){var t=e<0?12:11,r=VP(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function bme(e){var t=VP(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function M1(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=xme(e):t===10?r=e.toFixed(10).substr(0,12):r=bme(e),VP(yme(r.toUpperCase()))}function Ch(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):M1(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Jo(14,hH(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function wme(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function _me(e,t,r,n){var a="",i=0,s=0,o=r.y,l,c=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(t.length){case 1:case 2:l=r.m,c=t.length;break;case 3:return a4[r.m-1][1];case 5:return a4[r.m-1][0];default:return a4[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=r.d,c=t.length;break;case 3:return ML[r.q][0];default:return ML[r.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(r.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=r.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=r.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?jl(r.S,t.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,i=Math.round(s*(r.S+r.u)),i>=60*s&&(i=0),t==="s"?i===0?"0":""+i/s:(a=jl(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}c=t.length===3?1:2;break;case 101:l=o,c=1;break}var u=c>0?jl(l,c):"";return u}function Of(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var pH=/%/g;function Sme(e,t,r){var n=t.replace(pH,""),a=t.length-n.length;return ru(e,n,r*Math.pow(10,2*a))+va("%",a)}function Ame(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return ru(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function mH(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+mH(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var gH=/# (\?+)( ?)\/( ?)(\d+)/;function Tme(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),s=a-i*n,o=n;return r+(i===0?"":""+i)+" "+(s===0?va(" ",e[1].length+1+e[4].length):UP(s,e[1].length)+e[2]+"/"+e[3]+jl(o,e[4].length))}function Eme(e,t,r){return r+(t===0?"":""+t)+va(" ",e[1].length+2+e[4].length)}var vH=/^#*0*\.([0#]+)/,yH=/\).*[0#]/,xH=/\(###\) ###\\?-####/;function gs(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function FL(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function $L(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function Nme(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function kme(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Do(e,t,r){if(e.charCodeAt(0)===40&&!t.match(yH)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Do("n",n,r):"("+Do("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Ame(e,t,r);if(t.indexOf("%")!==-1)return Sme(e,t,r);if(t.indexOf("E")!==-1)return mH(t,r);if(t.charCodeAt(0)===36)return"$"+Do(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+S0(l,t.length);if(t.match(/^[#?]+$/))return a=S0(r,0),a==="0"&&(a=""),a.length>t.length?a:gs(t.substr(0,t.length-a.length))+a;if(i=t.match(gH))return Tme(i,l,c);if(t.match(/^#+0+$/))return c+S0(l,t.length-t.indexOf("0"));if(i=t.match(vH))return a=FL(r,i[1].length).replace(/^([^\.]+)$/,"$1."+gs(i[1])).replace(/\.$/,"."+gs(i[1])).replace(/\.(\d*)$/,function(g,m){return"."+m+va("0",gs(i[1]).length-m.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+FL(l,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+Of(S0(l,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Do(e,t,-r):Of(""+(Math.floor(r)+Nme(r,i[1].length)))+"."+jl($L(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return Do(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=pp(Do(e,t.replace(/[\\-]/g,""),r)),s=0,pp(pp(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return s<a.length?a.charAt(s++):g==="0"?"0":""}));if(t.match(xH))return a=Do(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=Tw(l,Math.pow(10,s)-1,!1),a=""+c,u=ru("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=Sw(o[2],s),u.length<i[4].length&&(u=gs(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=Tw(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?UP(o[1],s)+i[2]+"/"+i[3]+Sw(o[2],s):va(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=S0(r,0),t.length<=a.length?a:gs(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var d=t.indexOf(".")-s,h=t.length-a.length-d;return gs(t.substr(0,d)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return s=$L(r,i[1].length),r<0?"-"+Do(e,t,-r):Of(kme(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?jl(0,3-g.length):"")+g})+"."+jl(s,i[1].length);switch(t){case"###,##0.00":return Do(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=Of(S0(l,0));return p!=="0"?c+p:"";case"###,###.00":return Do(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Do(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Cme(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return ru(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function Pme(e,t,r){var n=t.replace(pH,""),a=t.length-n.length;return ru(e,n,r*Math.pow(10,2*a))+va("%",a)}function bH(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+bH(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function ec(e,t,r){if(e.charCodeAt(0)===40&&!t.match(yH)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ec("n",n,r):"("+ec("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Cme(e,t,r);if(t.indexOf("%")!==-1)return Pme(e,t,r);if(t.indexOf("E")!==-1)return bH(t,r);if(t.charCodeAt(0)===36)return"$"+ec(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+jl(l,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:gs(t.substr(0,t.length-a.length))+a;if(i=t.match(gH))return Eme(i,l,c);if(t.match(/^#+0+$/))return c+jl(l,t.length-t.indexOf("0"));if(i=t.match(vH))return a=(""+r).replace(/^([^\.]+)$/,"$1."+gs(i[1])).replace(/\.$/,"."+gs(i[1])),a=a.replace(/\.(\d*)$/,function(g,m){return"."+m+va("0",gs(i[1]).length-m.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+Of(""+l);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ec(e,t,-r):Of(""+r)+"."+va("0",i[1].length);if(i=t.match(/^#,#*,#0/))return ec(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=pp(ec(e,t.replace(/[\\-]/g,""),r)),s=0,pp(pp(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return s<a.length?a.charAt(s++):g==="0"?"0":""}));if(t.match(xH))return a=ec(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=Tw(l,Math.pow(10,s)-1,!1),a=""+c,u=ru("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=Sw(o[2],s),u.length<i[4].length&&(u=gs(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=Tw(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?UP(o[1],s)+i[2]+"/"+i[3]+Sw(o[2],s):va(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:gs(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var d=t.indexOf(".")-s,h=t.length-a.length-d;return gs(t.substr(0,d)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+ec(e,t,-r):Of(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?jl(0,3-g.length):"")+g})+"."+jl(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=Of(""+l);return p!=="0"?c+p:"";default:if(t.match(/\.[0#?]*$/))return ec(e,t.slice(0,t.lastIndexOf(".")),r)+gs(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function ru(e,t,r){return(r|0)===r?ec(e,t,r):Do(e,t,r)}function jme(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var wH=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Lm(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":Aw(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(wH))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function Ome(e,t,r,n){for(var a=[],i="",s=0,o="",l="t",c,u,d,h="H";s<e.length;)switch(o=e.charAt(s)){case"G":if(!Aw(e,s))throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"G",v:"General"},s+=7;break;case'"':for(i="";(d=e.charCodeAt(++s))!==34&&s<e.length;)i+=String.fromCharCode(d);a[a.length]={t:"t",v:i},++s;break;case"\\":var p=e.charAt(++s),g=p==="("||p===")"?p:"t";a[a.length]={t:g,v:p},++s;break;case"_":a[a.length]={t:"t",v:" "},s+=2;break;case"@":a[a.length]={t:"T",v:t},++s;break;case"B":case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2"){if(c==null&&(c=nh(t,r,e.charAt(s+1)==="2"),c==null))return"";a[a.length]={t:"X",v:e.substr(s,2)},l=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||c==null&&(c=nh(t,r),c==null))return"";for(i=o;++s<e.length&&e.charAt(s).toLowerCase()===o;)i+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),a[a.length]={t:o,v:i},l=o;break;case"A":case"a":case"":var m={t:o,v:o};if(c==null&&(c=nh(t,r)),e.substr(s,3).toUpperCase()==="A/P"?(c!=null&&(m.v=c.H>=12?"P":"A"),m.t="T",h="h",s+=3):e.substr(s,5).toUpperCase()==="AM/PM"?(c!=null&&(m.v=c.H>=12?"PM":"AM"),m.t="T",s+=5,h="h"):e.substr(s,5).toUpperCase()==="/"?(c!=null&&(m.v=c.H>=12?"":""),m.t="T",s+=5,h="h"):(m.t="t",++s),c==null&&m.t==="T")return"";a[a.length]=m,l=o;break;case"[":for(i=o;e.charAt(s++)!=="]"&&s<e.length;)i+=e.charAt(s);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(wH)){if(c==null&&(c=nh(t,r),c==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},l=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",Lm(e)||(a[a.length]={t:"t",v:i}));break;case".":if(c!=null){for(i=o;++s<e.length&&(o=e.charAt(s))==="0";)i+=o;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++s<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(s))>-1;)i+=o;a[a.length]={t:"n",v:i};break;case"?":for(i=o;e.charAt(++s)===o;)i+=o;a[a.length]={t:o,v:i},l=o;break;case"*":++s,(e.charAt(s)==" "||e.charAt(s)=="*")&&++s;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1;)i+=e.charAt(s);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:o,v:o},++s;break;case"$":a[a.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"t",v:o},++s;break}var v=0,y=0,b;for(s=a.length-1,l="t";s>=0;--s)switch(a[s].t){case"h":case"H":a[s].t=h,l="h",v<1&&(v=1);break;case"s":(b=a[s].v.match(/\.0+$/))&&(y=Math.max(y,b[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":l=a[s].t;break;case"m":l==="s"&&(a[s].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&a[s].v.match(/[Hh]/)&&(v=1),v<2&&a[s].v.match(/[Mm]/)&&(v=2),v<3&&a[s].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var x="",O;for(s=0;s<a.length;++s)switch(a[s].t){case"t":case"T":case" ":case"D":break;case"X":a[s].v="",a[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[s].v=_me(a[s].t.charCodeAt(0),a[s].v,c,y),a[s].t="t";break;case"n":case"?":for(O=s+1;a[O]!=null&&((o=a[O].t)==="?"||o==="D"||(o===" "||o==="t")&&a[O+1]!=null&&(a[O+1].t==="?"||a[O+1].t==="t"&&a[O+1].v==="/")||a[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[O].v==="/"||a[O].v===" "&&a[O+1]!=null&&a[O+1].t=="?"));)a[s].v+=a[O].v,a[O]={v:"",t:";"},++O;x+=a[s].v,s=O-1;break;case"G":a[s].t="t",a[s].v=Ch(t,r);break}var P="",j,T;if(x.length>0){x.charCodeAt(0)==40?(j=t<0&&x.charCodeAt(0)===45?-t:t,T=ru("n",x,j)):(j=t<0&&n>1?-t:t,T=ru("n",x,j),j<0&&a[0]&&a[0].t=="t"&&(T=T.substr(1),a[0].v="-"+a[0].v)),O=T.length-1;var S=a.length;for(s=0;s<a.length;++s)if(a[s]!=null&&a[s].t!="t"&&a[s].v.indexOf(".")>-1){S=s;break}var _=a.length;if(S===a.length&&T.indexOf("E")===-1){for(s=a.length-1;s>=0;--s)a[s]==null||"n?".indexOf(a[s].t)===-1||(O>=a[s].v.length-1?(O-=a[s].v.length,a[s].v=T.substr(O+1,a[s].v.length)):O<0?a[s].v="":(a[s].v=T.substr(0,O+1),O=-1),a[s].t="t",_=s);O>=0&&_<a.length&&(a[_].v=T.substr(0,O+1)+a[_].v)}else if(S!==a.length&&T.indexOf("E")===-1){for(O=T.indexOf(".")-1,s=S;s>=0;--s)if(!(a[s]==null||"n?".indexOf(a[s].t)===-1)){for(u=a[s].v.indexOf(".")>-1&&s===S?a[s].v.indexOf(".")-1:a[s].v.length-1,P=a[s].v.substr(u+1);u>=0;--u)O>=0&&(a[s].v.charAt(u)==="0"||a[s].v.charAt(u)==="#")&&(P=T.charAt(O--)+P);a[s].v=P,a[s].t="t",_=s}for(O>=0&&_<a.length&&(a[_].v=T.substr(0,O+1)+a[_].v),O=T.indexOf(".")+1,s=S;s<a.length;++s)if(!(a[s]==null||"n?(".indexOf(a[s].t)===-1&&s!==S)){for(u=a[s].v.indexOf(".")>-1&&s===S?a[s].v.indexOf(".")+1:0,P=a[s].v.substr(0,u);u<a[s].v.length;++u)O<T.length&&(P+=T.charAt(O++));a[s].v=P,a[s].t="t",_=s}}}for(s=0;s<a.length;++s)a[s]!=null&&"n?".indexOf(a[s].t)>-1&&(j=n>1&&t<0&&s>0&&a[s-1].v==="-"?-t:t,a[s].v=ru(a[s].t,a[s].v,j),a[s].t="t");var D="";for(s=0;s!==a.length;++s)a[s]!=null&&(D+=a[s].v);return D}var BL=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function UL(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function Ime(e,t){var r=jme(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(BL),o=r[1].match(BL);return UL(t,s)?[n,r[0]]:UL(t,o)?[n,r[1]]:[n,r[s!=null&&o!=null?2:1]]}return[n,i]}function Jo(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Br)[e],n==null&&(n=r.table&&r.table[RL[e]]||Br[RL[e]]),n==null&&(n=mme[e]||"General");break}if(Aw(n,0))return Ch(t,r);t instanceof Date&&(t=hH(t,r.date1904));var a=Ime(n,t);if(Aw(a[1]))return Ch(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return Ome(a[1],t,r,a[0])}function hh(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Br[r]==null){t<0&&(t=r);continue}if(Br[r]==e){t=r;break}}t<0&&(t=391)}return Br[t]=e,t}function _H(){Br=pme()}var Dme={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},SH=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Lme(e){var t=typeof e=="number"?Br[e]:e;return t=t.replace(SH,"(\\d+)"),new RegExp("^"+t+"$")}function Mme(e,t,r){var n=-1,a=-1,i=-1,s=-1,o=-1,l=-1;(t.match(SH)||[]).forEach(function(d,h){var p=parseInt(r[h+1],10);switch(d.toLowerCase().charAt(0)){case"y":n=p;break;case"d":i=p;break;case"h":s=p;break;case"s":l=p;break;case"m":s>=0?o=p:a=p;break}}),l>=0&&o==-1&&a>=0&&(o=a,a=-1);var c=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return s==-1&&o==-1&&l==-1?c:n==-1&&a==-1&&i==-1?u:c+"T"+u}var Rme=function(){var e={};e.version="1.2.0";function t(){for(var T=0,S=new Array(256),_=0;_!=256;++_)T=_,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,S[_]=T;return typeof Int32Array<"u"?new Int32Array(S):S}var r=t();function n(T){var S=0,_=0,D=0,E=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(D=0;D!=256;++D)E[D]=T[D];for(D=0;D!=256;++D)for(_=T[D],S=256+D;S<4096;S+=256)_=E[S]=_>>>8^T[_&255];var N=[];for(D=1;D!=16;++D)N[D-1]=typeof Int32Array<"u"?E.subarray(D*256,D*256+256):E.slice(D*256,D*256+256);return N}var a=n(r),i=a[0],s=a[1],o=a[2],l=a[3],c=a[4],u=a[5],d=a[6],h=a[7],p=a[8],g=a[9],m=a[10],v=a[11],y=a[12],b=a[13],x=a[14];function O(T,S){for(var _=S^-1,D=0,E=T.length;D<E;)_=_>>>8^r[(_^T.charCodeAt(D++))&255];return~_}function P(T,S){for(var _=S^-1,D=T.length-15,E=0;E<D;)_=x[T[E++]^_&255]^b[T[E++]^_>>8&255]^y[T[E++]^_>>16&255]^v[T[E++]^_>>>24]^m[T[E++]]^g[T[E++]]^p[T[E++]]^h[T[E++]]^d[T[E++]]^u[T[E++]]^c[T[E++]]^l[T[E++]]^o[T[E++]]^s[T[E++]]^i[T[E++]]^r[T[E++]];for(D+=15;E<D;)_=_>>>8^r[(_^T[E++])&255];return~_}function j(T,S){for(var _=S^-1,D=0,E=T.length,N=0,k=0;D<E;)N=T.charCodeAt(D++),N<128?_=_>>>8^r[(_^N)&255]:N<2048?(_=_>>>8^r[(_^(192|N>>6&31))&255],_=_>>>8^r[(_^(128|N&63))&255]):N>=55296&&N<57344?(N=(N&1023)+64,k=T.charCodeAt(D++)&1023,_=_>>>8^r[(_^(240|N>>8&7))&255],_=_>>>8^r[(_^(128|N>>2&63))&255],_=_>>>8^r[(_^(128|k>>6&15|(N&3)<<4))&255],_=_>>>8^r[(_^(128|k&63))&255]):(_=_>>>8^r[(_^(224|N>>12&15))&255],_=_>>>8^r[(_^(128|N>>6&63))&255],_=_>>>8^r[(_^(128|N&63))&255]);return~_}return e.table=r,e.bstr=O,e.buf=P,e.str=j,e}(),ln=function(){var t={};t.version="1.2.1";function r(te,ve){for(var he=te.split("/"),me=ve.split("/"),xe=0,we=0,ze=Math.min(he.length,me.length);xe<ze;++xe){if(we=he[xe].length-me[xe].length)return we;if(he[xe]!=me[xe])return he[xe]<me[xe]?-1:1}return he.length-me.length}function n(te){if(te.charAt(te.length-1)=="/")return te.slice(0,-1).indexOf("/")===-1?te:n(te.slice(0,-1));var ve=te.lastIndexOf("/");return ve===-1?te:te.slice(0,ve+1)}function a(te){if(te.charAt(te.length-1)=="/")return a(te.slice(0,-1));var ve=te.lastIndexOf("/");return ve===-1?te:te.slice(ve+1)}function i(te,ve){typeof ve=="string"&&(ve=new Date(ve));var he=ve.getHours();he=he<<6|ve.getMinutes(),he=he<<5|ve.getSeconds()>>>1,te.write_shift(2,he);var me=ve.getFullYear()-1980;me=me<<4|ve.getMonth()+1,me=me<<5|ve.getDate(),te.write_shift(2,me)}function s(te){var ve=te.read_shift(2)&65535,he=te.read_shift(2)&65535,me=new Date,xe=he&31;he>>>=5;var we=he&15;he>>>=4,me.setMilliseconds(0),me.setFullYear(he+1980),me.setMonth(we-1),me.setDate(xe);var ze=ve&31;ve>>>=5;var nt=ve&63;return ve>>>=6,me.setHours(ve),me.setMinutes(nt),me.setSeconds(ze<<1),me}function o(te){Ti(te,0);for(var ve={},he=0;te.l<=te.length-4;){var me=te.read_shift(2),xe=te.read_shift(2),we=te.l+xe,ze={};switch(me){case 21589:he=te.read_shift(1),he&1&&(ze.mtime=te.read_shift(4)),xe>5&&(he&2&&(ze.atime=te.read_shift(4)),he&4&&(ze.ctime=te.read_shift(4))),ze.mtime&&(ze.mt=new Date(ze.mtime*1e3));break}te.l=we,ve[me]=ze}return ve}var l;function c(){return l||(l={})}function u(te,ve){if(te[0]==80&&te[1]==75)return bt(te,ve);if((te[0]|32)==109&&(te[1]|32)==105)return an(te,ve);if(te.length<512)throw new Error("CFB file size "+te.length+" < 512");var he=3,me=512,xe=0,we=0,ze=0,nt=0,Ge=0,Ye=[],Qe=te.slice(0,512);Ti(Qe,0);var vt=d(Qe);switch(he=vt[0],he){case 3:me=512;break;case 4:me=4096;break;case 0:if(vt[1]==0)return bt(te,ve);default:throw new Error("Major Version: Expected 3 or 4 saw "+he)}me!==512&&(Qe=te.slice(0,me),Ti(Qe,28));var Mt=te.slice(0,me);h(Qe,he);var Vt=Qe.read_shift(4,"i");if(he===3&&Vt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Vt);Qe.l+=4,ze=Qe.read_shift(4,"i"),Qe.l+=4,Qe.chk("00100000","Mini Stream Cutoff Size: "),nt=Qe.read_shift(4,"i"),xe=Qe.read_shift(4,"i"),Ge=Qe.read_shift(4,"i"),we=Qe.read_shift(4,"i");for(var Dt=-1,Bt=0;Bt<109&&(Dt=Qe.read_shift(4,"i"),!(Dt<0));++Bt)Ye[Bt]=Dt;var mr=p(te,me);v(Ge,we,mr,me,Ye);var Yr=b(mr,ze,Ye,me);Yr[ze].name="!Directory",xe>0&&nt!==k&&(Yr[nt].name="!MiniFAT"),Yr[Ye[0]].name="!FAT",Yr.fat_addrs=Ye,Yr.ssz=me;var Xr={},yn=[],gi=[],Ii=[];x(ze,Yr,mr,yn,xe,Xr,gi,nt),g(gi,Ii,yn),yn.shift();var cs={FileIndex:gi,FullPaths:Ii};return ve&&ve.raw&&(cs.raw={header:Mt,sectors:mr}),cs}function d(te){if(te[te.l]==80&&te[te.l+1]==75)return[0,0];te.chk(V,"Header Signature: "),te.l+=16;var ve=te.read_shift(2,"u");return[te.read_shift(2,"u"),ve]}function h(te,ve){var he=9;switch(te.l+=2,he=te.read_shift(2)){case 9:if(ve!=3)throw new Error("Sector Shift: Expected 9 saw "+he);break;case 12:if(ve!=4)throw new Error("Sector Shift: Expected 12 saw "+he);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+he)}te.chk("0600","Mini Sector Shift: "),te.chk("000000000000","Reserved: ")}function p(te,ve){for(var he=Math.ceil(te.length/ve)-1,me=[],xe=1;xe<he;++xe)me[xe-1]=te.slice(xe*ve,(xe+1)*ve);return me[he-1]=te.slice(he*ve),me}function g(te,ve,he){for(var me=0,xe=0,we=0,ze=0,nt=0,Ge=he.length,Ye=[],Qe=[];me<Ge;++me)Ye[me]=Qe[me]=me,ve[me]=he[me];for(;nt<Qe.length;++nt)me=Qe[nt],xe=te[me].L,we=te[me].R,ze=te[me].C,Ye[me]===me&&(xe!==-1&&Ye[xe]!==xe&&(Ye[me]=Ye[xe]),we!==-1&&Ye[we]!==we&&(Ye[me]=Ye[we])),ze!==-1&&(Ye[ze]=me),xe!==-1&&me!=Ye[me]&&(Ye[xe]=Ye[me],Qe.lastIndexOf(xe)<nt&&Qe.push(xe)),we!==-1&&me!=Ye[me]&&(Ye[we]=Ye[me],Qe.lastIndexOf(we)<nt&&Qe.push(we));for(me=1;me<Ge;++me)Ye[me]===me&&(we!==-1&&Ye[we]!==we?Ye[me]=Ye[we]:xe!==-1&&Ye[xe]!==xe&&(Ye[me]=Ye[xe]));for(me=1;me<Ge;++me)if(te[me].type!==0){if(nt=me,nt!=Ye[nt])do nt=Ye[nt],ve[me]=ve[nt]+"/"+ve[me];while(nt!==0&&Ye[nt]!==-1&&nt!=Ye[nt]);Ye[me]=-1}for(ve[0]+="/",me=1;me<Ge;++me)te[me].type!==2&&(ve[me]+="/")}function m(te,ve,he){for(var me=te.start,xe=te.size,we=[],ze=me;he&&xe>0&&ze>=0;)we.push(ve.slice(ze*N,ze*N+N)),xe-=N,ze=Yd(he,ze*4);return we.length===0?Ya(0):wf(we).slice(0,te.size)}function v(te,ve,he,me,xe){var we=k;if(te===k){if(ve!==0)throw new Error("DIFAT chain shorter than expected")}else if(te!==-1){var ze=he[te],nt=(me>>>2)-1;if(!ze)return;for(var Ge=0;Ge<nt&&(we=Yd(ze,Ge*4))!==k;++Ge)xe.push(we);v(Yd(ze,me-4),ve-1,he,me,xe)}}function y(te,ve,he,me,xe){var we=[],ze=[];xe||(xe=[]);var nt=me-1,Ge=0,Ye=0;for(Ge=ve;Ge>=0;){xe[Ge]=!0,we[we.length]=Ge,ze.push(te[Ge]);var Qe=he[Math.floor(Ge*4/me)];if(Ye=Ge*4&nt,me<4+Ye)throw new Error("FAT boundary crossed: "+Ge+" 4 "+me);if(!te[Qe])break;Ge=Yd(te[Qe],Ye)}return{nodes:we,data:QL([ze])}}function b(te,ve,he,me){var xe=te.length,we=[],ze=[],nt=[],Ge=[],Ye=me-1,Qe=0,vt=0,Mt=0,Vt=0;for(Qe=0;Qe<xe;++Qe)if(nt=[],Mt=Qe+ve,Mt>=xe&&(Mt-=xe),!ze[Mt]){Ge=[];var Dt=[];for(vt=Mt;vt>=0;){Dt[vt]=!0,ze[vt]=!0,nt[nt.length]=vt,Ge.push(te[vt]);var Bt=he[Math.floor(vt*4/me)];if(Vt=vt*4&Ye,me<4+Vt)throw new Error("FAT boundary crossed: "+vt+" 4 "+me);if(!te[Bt]||(vt=Yd(te[Bt],Vt),Dt[vt]))break}we[Mt]={nodes:nt,data:QL([Ge])}}return we}function x(te,ve,he,me,xe,we,ze,nt){for(var Ge=0,Ye=me.length?2:0,Qe=ve[te].data,vt=0,Mt=0,Vt;vt<Qe.length;vt+=128){var Dt=Qe.slice(vt,vt+128);Ti(Dt,64),Mt=Dt.read_shift(2),Vt=GP(Dt,0,Mt-Ye),me.push(Vt);var Bt={name:Vt,type:Dt.read_shift(1),color:Dt.read_shift(1),L:Dt.read_shift(4,"i"),R:Dt.read_shift(4,"i"),C:Dt.read_shift(4,"i"),clsid:Dt.read_shift(16),state:Dt.read_shift(4,"i"),start:0,size:0},mr=Dt.read_shift(2)+Dt.read_shift(2)+Dt.read_shift(2)+Dt.read_shift(2);mr!==0&&(Bt.ct=O(Dt,Dt.l-8));var Yr=Dt.read_shift(2)+Dt.read_shift(2)+Dt.read_shift(2)+Dt.read_shift(2);Yr!==0&&(Bt.mt=O(Dt,Dt.l-8)),Bt.start=Dt.read_shift(4,"i"),Bt.size=Dt.read_shift(4,"i"),Bt.size<0&&Bt.start<0&&(Bt.size=Bt.type=0,Bt.start=k,Bt.name=""),Bt.type===5?(Ge=Bt.start,xe>0&&Ge!==k&&(ve[Ge].name="!StreamData")):Bt.size>=4096?(Bt.storage="fat",ve[Bt.start]===void 0&&(ve[Bt.start]=y(he,Bt.start,ve.fat_addrs,ve.ssz)),ve[Bt.start].name=Bt.name,Bt.content=ve[Bt.start].data.slice(0,Bt.size)):(Bt.storage="minifat",Bt.size<0?Bt.size=0:Ge!==k&&Bt.start!==k&&ve[Ge]&&(Bt.content=m(Bt,ve[Ge].data,(ve[nt]||{}).data))),Bt.content&&Ti(Bt.content,0),we[Vt]=Bt,ze.push(Bt)}}function O(te,ve){return new Date((so(te,ve+4)/1e7*Math.pow(2,32)+so(te,ve)/1e7-11644473600)*1e3)}function P(te,ve){return c(),u(l.readFileSync(te),ve)}function j(te,ve){var he=ve&&ve.type;switch(he||tn&&Buffer.isBuffer(te)&&(he="buffer"),he||"base64"){case"file":return P(te,ve);case"base64":return u(El(go(te)),ve);case"binary":return u(El(te),ve)}return u(te,ve)}function T(te,ve){var he=ve||{},me=he.root||"Root Entry";if(te.FullPaths||(te.FullPaths=[]),te.FileIndex||(te.FileIndex=[]),te.FullPaths.length!==te.FileIndex.length)throw new Error("inconsistent CFB structure");te.FullPaths.length===0&&(te.FullPaths[0]=me+"/",te.FileIndex[0]={name:me,type:5}),he.CLSID&&(te.FileIndex[0].clsid=he.CLSID),S(te)}function S(te){var ve="Sh33tJ5";if(!ln.find(te,"/"+ve)){var he=Ya(4);he[0]=55,he[1]=he[3]=50,he[2]=54,te.FileIndex.push({name:ve,type:2,content:he,size:4,L:69,R:69,C:69}),te.FullPaths.push(te.FullPaths[0]+ve),_(te)}}function _(te,ve){T(te);for(var he=!1,me=!1,xe=te.FullPaths.length-1;xe>=0;--xe){var we=te.FileIndex[xe];switch(we.type){case 0:me?he=!0:(te.FileIndex.pop(),te.FullPaths.pop());break;case 1:case 2:case 5:me=!0,isNaN(we.R*we.L*we.C)&&(he=!0),we.R>-1&&we.L>-1&&we.R==we.L&&(he=!0);break;default:he=!0;break}}if(!(!he&&!ve)){var ze=new Date(1987,1,19),nt=0,Ge=Object.create?Object.create(null):{},Ye=[];for(xe=0;xe<te.FullPaths.length;++xe)Ge[te.FullPaths[xe]]=!0,te.FileIndex[xe].type!==0&&Ye.push([te.FullPaths[xe],te.FileIndex[xe]]);for(xe=0;xe<Ye.length;++xe){var Qe=n(Ye[xe][0]);me=Ge[Qe],me||(Ye.push([Qe,{name:a(Qe).replace("/",""),type:1,clsid:W,ct:ze,mt:ze,content:null}]),Ge[Qe]=!0)}for(Ye.sort(function(Vt,Dt){return r(Vt[0],Dt[0])}),te.FullPaths=[],te.FileIndex=[],xe=0;xe<Ye.length;++xe)te.FullPaths[xe]=Ye[xe][0],te.FileIndex[xe]=Ye[xe][1];for(xe=0;xe<Ye.length;++xe){var vt=te.FileIndex[xe],Mt=te.FullPaths[xe];if(vt.name=a(Mt).replace("/",""),vt.L=vt.R=vt.C=-(vt.color=1),vt.size=vt.content?vt.content.length:0,vt.start=0,vt.clsid=vt.clsid||W,xe===0)vt.C=Ye.length>1?1:-1,vt.size=0,vt.type=5;else if(Mt.slice(-1)=="/"){for(nt=xe+1;nt<Ye.length&&n(te.FullPaths[nt])!=Mt;++nt);for(vt.C=nt>=Ye.length?-1:nt,nt=xe+1;nt<Ye.length&&n(te.FullPaths[nt])!=n(Mt);++nt);vt.R=nt>=Ye.length?-1:nt,vt.type=1}else n(te.FullPaths[xe+1]||"")==n(Mt)&&(vt.R=xe+1),vt.type=2}}}function D(te,ve){var he=ve||{};if(he.fileType=="mad")return Xt(te,he);switch(_(te),he.fileType){case"zip":return Yt(te,he)}var me=function(Vt){for(var Dt=0,Bt=0,mr=0;mr<Vt.FileIndex.length;++mr){var Yr=Vt.FileIndex[mr];if(Yr.content){var Xr=Yr.content.length;Xr>0&&(Xr<4096?Dt+=Xr+63>>6:Bt+=Xr+511>>9)}}for(var yn=Vt.FullPaths.length+3>>2,gi=Dt+7>>3,Ii=Dt+127>>7,cs=gi+Bt+yn+Ii,Di=cs+127>>7,us=Di<=109?0:Math.ceil((Di-109)/127);cs+Di+us+127>>7>Di;)us=++Di<=109?0:Math.ceil((Di-109)/127);var za=[1,us,Di,Ii,yn,Bt,Dt,0];return Vt.FileIndex[0].size=Dt<<6,za[7]=(Vt.FileIndex[0].start=za[0]+za[1]+za[2]+za[3]+za[4]+za[5])+(za[6]+7>>3),za}(te),xe=Ya(me[7]<<9),we=0,ze=0;{for(we=0;we<8;++we)xe.write_shift(1,Q[we]);for(we=0;we<8;++we)xe.write_shift(2,0);for(xe.write_shift(2,62),xe.write_shift(2,3),xe.write_shift(2,65534),xe.write_shift(2,9),xe.write_shift(2,6),we=0;we<3;++we)xe.write_shift(2,0);for(xe.write_shift(4,0),xe.write_shift(4,me[2]),xe.write_shift(4,me[0]+me[1]+me[2]+me[3]-1),xe.write_shift(4,0),xe.write_shift(4,4096),xe.write_shift(4,me[3]?me[0]+me[1]+me[2]-1:k),xe.write_shift(4,me[3]),xe.write_shift(-4,me[1]?me[0]-1:k),xe.write_shift(4,me[1]),we=0;we<109;++we)xe.write_shift(-4,we<me[2]?me[1]+we:-1)}if(me[1])for(ze=0;ze<me[1];++ze){for(;we<236+ze*127;++we)xe.write_shift(-4,we<me[2]?me[1]+we:-1);xe.write_shift(-4,ze===me[1]-1?k:ze+1)}var nt=function(Vt){for(ze+=Vt;we<ze-1;++we)xe.write_shift(-4,we+1);Vt&&(++we,xe.write_shift(-4,k))};for(ze=we=0,ze+=me[1];we<ze;++we)xe.write_shift(-4,G.DIFSECT);for(ze+=me[2];we<ze;++we)xe.write_shift(-4,G.FATSECT);nt(me[3]),nt(me[4]);for(var Ge=0,Ye=0,Qe=te.FileIndex[0];Ge<te.FileIndex.length;++Ge)Qe=te.FileIndex[Ge],Qe.content&&(Ye=Qe.content.length,!(Ye<4096)&&(Qe.start=ze,nt(Ye+511>>9)));for(nt(me[6]+7>>3);xe.l&511;)xe.write_shift(-4,G.ENDOFCHAIN);for(ze=we=0,Ge=0;Ge<te.FileIndex.length;++Ge)Qe=te.FileIndex[Ge],Qe.content&&(Ye=Qe.content.length,!(!Ye||Ye>=4096)&&(Qe.start=ze,nt(Ye+63>>6)));for(;xe.l&511;)xe.write_shift(-4,G.ENDOFCHAIN);for(we=0;we<me[4]<<2;++we){var vt=te.FullPaths[we];if(!vt||vt.length===0){for(Ge=0;Ge<17;++Ge)xe.write_shift(4,0);for(Ge=0;Ge<3;++Ge)xe.write_shift(4,-1);for(Ge=0;Ge<12;++Ge)xe.write_shift(4,0);continue}Qe=te.FileIndex[we],we===0&&(Qe.start=Qe.size?Qe.start-1:k);var Mt=we===0&&he.root||Qe.name;if(Ye=2*(Mt.length+1),xe.write_shift(64,Mt,"utf16le"),xe.write_shift(2,Ye),xe.write_shift(1,Qe.type),xe.write_shift(1,Qe.color),xe.write_shift(-4,Qe.L),xe.write_shift(-4,Qe.R),xe.write_shift(-4,Qe.C),Qe.clsid)xe.write_shift(16,Qe.clsid,"hex");else for(Ge=0;Ge<4;++Ge)xe.write_shift(4,0);xe.write_shift(4,Qe.state||0),xe.write_shift(4,0),xe.write_shift(4,0),xe.write_shift(4,0),xe.write_shift(4,0),xe.write_shift(4,Qe.start),xe.write_shift(4,Qe.size),xe.write_shift(4,0)}for(we=1;we<te.FileIndex.length;++we)if(Qe=te.FileIndex[we],Qe.size>=4096)if(xe.l=Qe.start+1<<9,tn&&Buffer.isBuffer(Qe.content))Qe.content.copy(xe,xe.l,0,Qe.size),xe.l+=Qe.size+511&-512;else{for(Ge=0;Ge<Qe.size;++Ge)xe.write_shift(1,Qe.content[Ge]);for(;Ge&511;++Ge)xe.write_shift(1,0)}for(we=1;we<te.FileIndex.length;++we)if(Qe=te.FileIndex[we],Qe.size>0&&Qe.size<4096)if(tn&&Buffer.isBuffer(Qe.content))Qe.content.copy(xe,xe.l,0,Qe.size),xe.l+=Qe.size+63&-64;else{for(Ge=0;Ge<Qe.size;++Ge)xe.write_shift(1,Qe.content[Ge]);for(;Ge&63;++Ge)xe.write_shift(1,0)}if(tn)xe.l=xe.length;else for(;xe.l<xe.length;)xe.write_shift(1,0);return xe}function E(te,ve){var he=te.FullPaths.map(function(Ge){return Ge.toUpperCase()}),me=he.map(function(Ge){var Ye=Ge.split("/");return Ye[Ye.length-(Ge.slice(-1)=="/"?2:1)]}),xe=!1;ve.charCodeAt(0)===47?(xe=!0,ve=he[0].slice(0,-1)+ve):xe=ve.indexOf("/")!==-1;var we=ve.toUpperCase(),ze=xe===!0?he.indexOf(we):me.indexOf(we);if(ze!==-1)return te.FileIndex[ze];var nt=!we.match(Zg);for(we=we.replace(Es,""),nt&&(we=we.replace(Zg,"!")),ze=0;ze<he.length;++ze)if((nt?he[ze].replace(Zg,"!"):he[ze]).replace(Es,"")==we||(nt?me[ze].replace(Zg,"!"):me[ze]).replace(Es,"")==we)return te.FileIndex[ze];return null}var N=64,k=-2,V="d0cf11e0a1b11ae1",Q=[208,207,17,224,161,177,26,225],W="00000000000000000000000000000000",G={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:k,FREESECT:-1,HEADER_SIGNATURE:V,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:W,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function q(te,ve,he){c();var me=D(te,he);l.writeFileSync(ve,me)}function U(te){for(var ve=new Array(te.length),he=0;he<te.length;++he)ve[he]=String.fromCharCode(te[he]);return ve.join("")}function ee(te,ve){var he=D(te,ve);switch(ve&&ve.type||"buffer"){case"file":return c(),l.writeFileSync(ve.filename,he),he;case"binary":return typeof he=="string"?he:U(he);case"base64":return IL(typeof he=="string"?he:U(he));case"buffer":if(tn)return Buffer.isBuffer(he)?he:qh(he);case"array":return typeof he=="string"?El(he):he}return he}var Z;function I(te){try{var ve=te.InflateRaw,he=new ve;if(he._processChunk(new Uint8Array([3,0]),he._finishFlushFlag),he.bytesRead)Z=te;else throw new Error("zlib does not expose bytesRead")}catch(me){console.error("cannot use native zlib: "+(me.message||me))}}function M(te,ve){if(!Z)return De(te,ve);var he=Z.InflateRaw,me=new he,xe=me._processChunk(te.slice(te.l),me._finishFlushFlag);return te.l+=me.bytesRead,xe}function z(te){return Z?Z.deflateRawSync(te):pt(te)}var K=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],X=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ae=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ue(te){var ve=(te<<1|te<<11)&139536|(te<<5|te<<15)&558144;return(ve>>16|ve>>8|ve)&255}for(var ie=typeof Uint8Array<"u",ge=ie?new Uint8Array(256):[],ye=0;ye<256;++ye)ge[ye]=ue(ye);function H(te,ve){var he=ge[te&255];return ve<=8?he>>>8-ve:(he=he<<8|ge[te>>8&255],ve<=16?he>>>16-ve:(he=he<<8|ge[te>>16&255],he>>>24-ve))}function ke(te,ve){var he=ve&7,me=ve>>>3;return(te[me]|(he<=6?0:te[me+1]<<8))>>>he&3}function Ce(te,ve){var he=ve&7,me=ve>>>3;return(te[me]|(he<=5?0:te[me+1]<<8))>>>he&7}function _e(te,ve){var he=ve&7,me=ve>>>3;return(te[me]|(he<=4?0:te[me+1]<<8))>>>he&15}function le(te,ve){var he=ve&7,me=ve>>>3;return(te[me]|(he<=3?0:te[me+1]<<8))>>>he&31}function Le(te,ve){var he=ve&7,me=ve>>>3;return(te[me]|(he<=1?0:te[me+1]<<8))>>>he&127}function qe(te,ve,he){var me=ve&7,xe=ve>>>3,we=(1<<he)-1,ze=te[xe]>>>me;return he<8-me||(ze|=te[xe+1]<<8-me,he<16-me)||(ze|=te[xe+2]<<16-me,he<24-me)||(ze|=te[xe+3]<<24-me),ze&we}function Ke(te,ve,he){var me=ve&7,xe=ve>>>3;return me<=5?te[xe]|=(he&7)<<me:(te[xe]|=he<<me&255,te[xe+1]=(he&7)>>8-me),ve+3}function rt(te,ve,he){var me=ve&7,xe=ve>>>3;return he=(he&1)<<me,te[xe]|=he,ve+1}function Ee(te,ve,he){var me=ve&7,xe=ve>>>3;return he<<=me,te[xe]|=he&255,he>>>=8,te[xe+1]=he,ve+8}function Re(te,ve,he){var me=ve&7,xe=ve>>>3;return he<<=me,te[xe]|=he&255,he>>>=8,te[xe+1]=he&255,te[xe+2]=he>>>8,ve+16}function Te(te,ve){var he=te.length,me=2*he>ve?2*he:ve+5,xe=0;if(he>=ve)return te;if(tn){var we=DL(me);if(te.copy)te.copy(we);else for(;xe<te.length;++xe)we[xe]=te[xe];return we}else if(ie){var ze=new Uint8Array(me);if(ze.set)ze.set(te);else for(;xe<he;++xe)ze[xe]=te[xe];return ze}return te.length=me,te}function Me(te){for(var ve=new Array(te),he=0;he<te;++he)ve[he]=0;return ve}function We(te,ve,he){var me=1,xe=0,we=0,ze=0,nt=0,Ge=te.length,Ye=ie?new Uint16Array(32):Me(32);for(we=0;we<32;++we)Ye[we]=0;for(we=Ge;we<he;++we)te[we]=0;Ge=te.length;var Qe=ie?new Uint16Array(Ge):Me(Ge);for(we=0;we<Ge;++we)Ye[xe=te[we]]++,me<xe&&(me=xe),Qe[we]=0;for(Ye[0]=0,we=1;we<=me;++we)Ye[we+16]=nt=nt+Ye[we-1]<<1;for(we=0;we<Ge;++we)nt=te[we],nt!=0&&(Qe[we]=Ye[nt+16]++);var vt=0;for(we=0;we<Ge;++we)if(vt=te[we],vt!=0)for(nt=H(Qe[we],me)>>me-vt,ze=(1<<me+4-vt)-1;ze>=0;--ze)ve[nt|ze<<vt]=vt&15|we<<4;return me}var st=ie?new Uint16Array(512):Me(512),ct=ie?new Uint16Array(32):Me(32);if(!ie){for(var xt=0;xt<512;++xt)st[xt]=0;for(xt=0;xt<32;++xt)ct[xt]=0}(function(){for(var te=[],ve=0;ve<32;ve++)te.push(5);We(te,ct,32);var he=[];for(ve=0;ve<=143;ve++)he.push(8);for(;ve<=255;ve++)he.push(9);for(;ve<=279;ve++)he.push(7);for(;ve<=287;ve++)he.push(8);We(he,st,288)})();var ht=function(){for(var ve=ie?new Uint8Array(32768):[],he=0,me=0;he<ae.length-1;++he)for(;me<ae[he+1];++me)ve[me]=he;for(;me<32768;++me)ve[me]=29;var xe=ie?new Uint8Array(259):[];for(he=0,me=0;he<X.length-1;++he)for(;me<X[he+1];++me)xe[me]=he;function we(nt,Ge){for(var Ye=0;Ye<nt.length;){var Qe=Math.min(65535,nt.length-Ye),vt=Ye+Qe==nt.length;for(Ge.write_shift(1,+vt),Ge.write_shift(2,Qe),Ge.write_shift(2,~Qe&65535);Qe-- >0;)Ge[Ge.l++]=nt[Ye++]}return Ge.l}function ze(nt,Ge){for(var Ye=0,Qe=0,vt=ie?new Uint16Array(32768):[];Qe<nt.length;){var Mt=Math.min(65535,nt.length-Qe);if(Mt<10){for(Ye=Ke(Ge,Ye,+(Qe+Mt==nt.length)),Ye&7&&(Ye+=8-(Ye&7)),Ge.l=Ye/8|0,Ge.write_shift(2,Mt),Ge.write_shift(2,~Mt&65535);Mt-- >0;)Ge[Ge.l++]=nt[Qe++];Ye=Ge.l*8;continue}Ye=Ke(Ge,Ye,+(Qe+Mt==nt.length)+2);for(var Vt=0;Mt-- >0;){var Dt=nt[Qe];Vt=(Vt<<5^Dt)&32767;var Bt=-1,mr=0;if((Bt=vt[Vt])&&(Bt|=Qe&-32768,Bt>Qe&&(Bt-=32768),Bt<Qe))for(;nt[Bt+mr]==nt[Qe+mr]&&mr<250;)++mr;if(mr>2){Dt=xe[mr],Dt<=22?Ye=Ee(Ge,Ye,ge[Dt+1]>>1)-1:(Ee(Ge,Ye,3),Ye+=5,Ee(Ge,Ye,ge[Dt-23]>>5),Ye+=3);var Yr=Dt<8?0:Dt-4>>2;Yr>0&&(Re(Ge,Ye,mr-X[Dt]),Ye+=Yr),Dt=ve[Qe-Bt],Ye=Ee(Ge,Ye,ge[Dt]>>3),Ye-=3;var Xr=Dt<4?0:Dt-2>>1;Xr>0&&(Re(Ge,Ye,Qe-Bt-ae[Dt]),Ye+=Xr);for(var yn=0;yn<mr;++yn)vt[Vt]=Qe&32767,Vt=(Vt<<5^nt[Qe])&32767,++Qe;Mt-=mr-1}else Dt<=143?Dt=Dt+48:Ye=rt(Ge,Ye,1),Ye=Ee(Ge,Ye,ge[Dt]),vt[Vt]=Qe&32767,++Qe}Ye=Ee(Ge,Ye,0)-1}return Ge.l=(Ye+7)/8|0,Ge.l}return function(Ge,Ye){return Ge.length<8?we(Ge,Ye):ze(Ge,Ye)}}();function pt(te){var ve=Ya(50+Math.floor(te.length*1.1)),he=ht(te,ve);return ve.slice(0,he)}var He=ie?new Uint16Array(32768):Me(32768),Ft=ie?new Uint16Array(32768):Me(32768),Nt=ie?new Uint16Array(128):Me(128),Pr=1,ur=1;function pr(te,ve){var he=le(te,ve)+257;ve+=5;var me=le(te,ve)+1;ve+=5;var xe=_e(te,ve)+4;ve+=4;for(var we=0,ze=ie?new Uint8Array(19):Me(19),nt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ge=1,Ye=ie?new Uint8Array(8):Me(8),Qe=ie?new Uint8Array(8):Me(8),vt=ze.length,Mt=0;Mt<xe;++Mt)ze[K[Mt]]=we=Ce(te,ve),Ge<we&&(Ge=we),Ye[we]++,ve+=3;var Vt=0;for(Ye[0]=0,Mt=1;Mt<=Ge;++Mt)Qe[Mt]=Vt=Vt+Ye[Mt-1]<<1;for(Mt=0;Mt<vt;++Mt)(Vt=ze[Mt])!=0&&(nt[Mt]=Qe[Vt]++);var Dt=0;for(Mt=0;Mt<vt;++Mt)if(Dt=ze[Mt],Dt!=0){Vt=ge[nt[Mt]]>>8-Dt;for(var Bt=(1<<7-Dt)-1;Bt>=0;--Bt)Nt[Vt|Bt<<Dt]=Dt&7|Mt<<3}var mr=[];for(Ge=1;mr.length<he+me;)switch(Vt=Nt[Le(te,ve)],ve+=Vt&7,Vt>>>=3){case 16:for(we=3+ke(te,ve),ve+=2,Vt=mr[mr.length-1];we-- >0;)mr.push(Vt);break;case 17:for(we=3+Ce(te,ve),ve+=3;we-- >0;)mr.push(0);break;case 18:for(we=11+Le(te,ve),ve+=7;we-- >0;)mr.push(0);break;default:mr.push(Vt),Ge<Vt&&(Ge=Vt);break}var Yr=mr.slice(0,he),Xr=mr.slice(he);for(Mt=he;Mt<286;++Mt)Yr[Mt]=0;for(Mt=me;Mt<30;++Mt)Xr[Mt]=0;return Pr=We(Yr,He,286),ur=We(Xr,Ft,30),ve}function je(te,ve){if(te[0]==3&&!(te[1]&3))return[ld(ve),2];for(var he=0,me=0,xe=DL(ve||1<<18),we=0,ze=xe.length>>>0,nt=0,Ge=0;!(me&1);){if(me=Ce(te,he),he+=3,me>>>1)me>>1==1?(nt=9,Ge=5):(he=pr(te,he),nt=Pr,Ge=ur);else{he&7&&(he+=8-(he&7));var Ye=te[he>>>3]|te[(he>>>3)+1]<<8;if(he+=32,Ye>0)for(!ve&&ze<we+Ye&&(xe=Te(xe,we+Ye),ze=xe.length);Ye-- >0;)xe[we++]=te[he>>>3],he+=8;continue}for(;;){!ve&&ze<we+32767&&(xe=Te(xe,we+32767),ze=xe.length);var Qe=qe(te,he,nt),vt=me>>>1==1?st[Qe]:He[Qe];if(he+=vt&15,vt>>>=4,!(vt>>>8&255))xe[we++]=vt;else{if(vt==256)break;vt-=257;var Mt=vt<8?0:vt-4>>2;Mt>5&&(Mt=0);var Vt=we+X[vt];Mt>0&&(Vt+=qe(te,he,Mt),he+=Mt),Qe=qe(te,he,Ge),vt=me>>>1==1?ct[Qe]:Ft[Qe],he+=vt&15,vt>>>=4;var Dt=vt<4?0:vt-2>>1,Bt=ae[vt];for(Dt>0&&(Bt+=qe(te,he,Dt),he+=Dt),!ve&&ze<Vt&&(xe=Te(xe,Vt+100),ze=xe.length);we<Vt;)xe[we]=xe[we-Bt],++we}}}return ve?[xe,he+7>>>3]:[xe.slice(0,we),he+7>>>3]}function De(te,ve){var he=te.slice(te.l||0),me=je(he,ve);return te.l+=me[1],me[0]}function tt(te,ve){if(te)typeof console<"u"&&console.error(ve);else throw new Error(ve)}function bt(te,ve){var he=te;Ti(he,0);var me=[],xe=[],we={FileIndex:me,FullPaths:xe};T(we,{root:ve.root});for(var ze=he.length-4;(he[ze]!=80||he[ze+1]!=75||he[ze+2]!=5||he[ze+3]!=6)&&ze>=0;)--ze;he.l=ze+4,he.l+=4;var nt=he.read_shift(2);he.l+=6;var Ge=he.read_shift(4);for(he.l=Ge,ze=0;ze<nt;++ze){he.l+=20;var Ye=he.read_shift(4),Qe=he.read_shift(4),vt=he.read_shift(2),Mt=he.read_shift(2),Vt=he.read_shift(2);he.l+=8;var Dt=he.read_shift(4),Bt=o(he.slice(he.l+vt,he.l+vt+Mt));he.l+=vt+Mt+Vt;var mr=he.l;he.l=Dt+4,Rt(he,Ye,Qe,we,Bt),he.l=mr}return we}function Rt(te,ve,he,me,xe){te.l+=2;var we=te.read_shift(2),ze=te.read_shift(2),nt=s(te);if(we&8257)throw new Error("Unsupported ZIP encryption");for(var Ge=te.read_shift(4),Ye=te.read_shift(4),Qe=te.read_shift(4),vt=te.read_shift(2),Mt=te.read_shift(2),Vt="",Dt=0;Dt<vt;++Dt)Vt+=String.fromCharCode(te[te.l++]);if(Mt){var Bt=o(te.slice(te.l,te.l+Mt));(Bt[21589]||{}).mt&&(nt=Bt[21589].mt),((xe||{})[21589]||{}).mt&&(nt=xe[21589].mt)}te.l+=Mt;var mr=te.slice(te.l,te.l+Ye);switch(ze){case 8:mr=M(te,Qe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ze)}var Yr=!1;we&8&&(Ge=te.read_shift(4),Ge==134695760&&(Ge=te.read_shift(4),Yr=!0),Ye=te.read_shift(4),Qe=te.read_shift(4)),Ye!=ve&&tt(Yr,"Bad compressed size: "+ve+" != "+Ye),Qe!=he&&tt(Yr,"Bad uncompressed size: "+he+" != "+Qe),Un(me,Vt,mr,{unsafe:!0,mt:nt})}function Yt(te,ve){var he=ve||{},me=[],xe=[],we=Ya(1),ze=he.compression?8:0,nt=0,Ge=0,Ye=0,Qe=0,vt=0,Mt=te.FullPaths[0],Vt=Mt,Dt=te.FileIndex[0],Bt=[],mr=0;for(Ge=1;Ge<te.FullPaths.length;++Ge)if(Vt=te.FullPaths[Ge].slice(Mt.length),Dt=te.FileIndex[Ge],!(!Dt.size||!Dt.content||Vt=="Sh33tJ5")){var Yr=Qe,Xr=Ya(Vt.length);for(Ye=0;Ye<Vt.length;++Ye)Xr.write_shift(1,Vt.charCodeAt(Ye)&127);Xr=Xr.slice(0,Xr.l),Bt[vt]=Rme.buf(Dt.content,0);var yn=Dt.content;ze==8&&(yn=z(yn)),we=Ya(30),we.write_shift(4,67324752),we.write_shift(2,20),we.write_shift(2,nt),we.write_shift(2,ze),Dt.mt?i(we,Dt.mt):we.write_shift(4,0),we.write_shift(-4,Bt[vt]),we.write_shift(4,yn.length),we.write_shift(4,Dt.content.length),we.write_shift(2,Xr.length),we.write_shift(2,0),Qe+=we.length,me.push(we),Qe+=Xr.length,me.push(Xr),Qe+=yn.length,me.push(yn),we=Ya(46),we.write_shift(4,33639248),we.write_shift(2,0),we.write_shift(2,20),we.write_shift(2,nt),we.write_shift(2,ze),we.write_shift(4,0),we.write_shift(-4,Bt[vt]),we.write_shift(4,yn.length),we.write_shift(4,Dt.content.length),we.write_shift(2,Xr.length),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(4,0),we.write_shift(4,Yr),mr+=we.l,xe.push(we),mr+=Xr.length,xe.push(Xr),++vt}return we=Ya(22),we.write_shift(4,101010256),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(2,vt),we.write_shift(2,vt),we.write_shift(4,mr),we.write_shift(4,Qe),we.write_shift(2,0),wf([wf(me),wf(xe),we])}var Ct={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function It(te,ve){if(te.ctype)return te.ctype;var he=te.name||"",me=he.match(/\.([^\.]+)$/);return me&&Ct[me[1]]||ve&&(me=(he=ve).match(/[\.\\]([^\.\\])+$/),me&&Ct[me[1]])?Ct[me[1]]:"application/octet-stream"}function rr(te){for(var ve=IL(te),he=[],me=0;me<ve.length;me+=76)he.push(ve.slice(me,me+76));return he.join(`\r
`)+`\r
`}function br(te){var ve=te.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ye){var Qe=Ye.charCodeAt(0).toString(16).toUpperCase();return"="+(Qe.length==1?"0"+Qe:Qe)});ve=ve.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ve.charAt(0)==`
`&&(ve="=0D"+ve.slice(1)),ve=ve.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var he=[],me=ve.split(`\r
`),xe=0;xe<me.length;++xe){var we=me[xe];if(we.length==0){he.push("");continue}for(var ze=0;ze<we.length;){var nt=76,Ge=we.slice(ze,ze+nt);Ge.charAt(nt-1)=="="?nt--:Ge.charAt(nt-2)=="="?nt-=2:Ge.charAt(nt-3)=="="&&(nt-=3),Ge=we.slice(ze,ze+nt),ze+=nt,ze<we.length&&(Ge+="="),he.push(Ge)}}return he.join(`\r
`)}function wr(te){for(var ve=[],he=0;he<te.length;++he){for(var me=te[he];he<=te.length&&me.charAt(me.length-1)=="=";)me=me.slice(0,me.length-1)+te[++he];ve.push(me)}for(var xe=0;xe<ve.length;++xe)ve[xe]=ve[xe].replace(/[=][0-9A-Fa-f]{2}/g,function(we){return String.fromCharCode(parseInt(we.slice(1),16))});return El(ve.join(`\r
`))}function Er(te,ve,he){for(var me="",xe="",we="",ze,nt=0;nt<10;++nt){var Ge=ve[nt];if(!Ge||Ge.match(/^\s*$/))break;var Ye=Ge.match(/^(.*?):\s*([^\s].*)$/);if(Ye)switch(Ye[1].toLowerCase()){case"content-location":me=Ye[2].trim();break;case"content-type":we=Ye[2].trim();break;case"content-transfer-encoding":xe=Ye[2].trim();break}}switch(++nt,xe.toLowerCase()){case"base64":ze=El(go(ve.slice(nt).join("")));break;case"quoted-printable":ze=wr(ve.slice(nt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+xe)}var Qe=Un(te,me.slice(he.length),ze,{unsafe:!0});we&&(Qe.ctype=we)}function an(te,ve){if(U(te.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var he=ve&&ve.root||"",me=(tn&&Buffer.isBuffer(te)?te.toString("binary"):U(te)).split(`\r
`),xe=0,we="";for(xe=0;xe<me.length;++xe)if(we=me[xe],!!/^Content-Location:/i.test(we)&&(we=we.slice(we.indexOf("file")),he||(he=we.slice(0,we.lastIndexOf("/")+1)),we.slice(0,he.length)!=he))for(;he.length>0&&(he=he.slice(0,he.length-1),he=he.slice(0,he.lastIndexOf("/")+1),we.slice(0,he.length)!=he););var ze=(me[1]||"").match(/boundary="(.*?)"/);if(!ze)throw new Error("MAD cannot find boundary");var nt="--"+(ze[1]||""),Ge=[],Ye=[],Qe={FileIndex:Ge,FullPaths:Ye};T(Qe);var vt,Mt=0;for(xe=0;xe<me.length;++xe){var Vt=me[xe];Vt!==nt&&Vt!==nt+"--"||(Mt++&&Er(Qe,me.slice(vt,xe),he),vt=xe)}return Qe}function Xt(te,ve){var he=ve||{},me=he.boundary||"SheetJS";me="------="+me;for(var xe=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+me.slice(2)+'"',"","",""],we=te.FullPaths[0],ze=we,nt=te.FileIndex[0],Ge=1;Ge<te.FullPaths.length;++Ge)if(ze=te.FullPaths[Ge].slice(we.length),nt=te.FileIndex[Ge],!(!nt.size||!nt.content||ze=="Sh33tJ5")){ze=ze.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(mr){return"_x"+mr.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(mr){return"_u"+mr.charCodeAt(0).toString(16)+"_"});for(var Ye=nt.content,Qe=tn&&Buffer.isBuffer(Ye)?Ye.toString("binary"):U(Ye),vt=0,Mt=Math.min(1024,Qe.length),Vt=0,Dt=0;Dt<=Mt;++Dt)(Vt=Qe.charCodeAt(Dt))>=32&&Vt<128&&++vt;var Bt=vt>=Mt*4/5;xe.push(me),xe.push("Content-Location: "+(he.root||"file:///C:/SheetJS/")+ze),xe.push("Content-Transfer-Encoding: "+(Bt?"quoted-printable":"base64")),xe.push("Content-Type: "+It(nt,ze)),xe.push(""),xe.push(Bt?br(Qe):rr(Qe))}return xe.push(me+`--\r
`),xe.join(`\r
`)}function sa(te){var ve={};return T(ve,te),ve}function Un(te,ve,he,me){var xe=me&&me.unsafe;xe||T(te);var we=!xe&&ln.find(te,ve);if(!we){var ze=te.FullPaths[0];ve.slice(0,ze.length)==ze?ze=ve:(ze.slice(-1)!="/"&&(ze+="/"),ze=(ze+ve).replace("//","/")),we={name:a(ve),type:2},te.FileIndex.push(we),te.FullPaths.push(ze),xe||ln.utils.cfb_gc(te)}return we.content=he,we.size=he?he.length:0,me&&(me.CLSID&&(we.clsid=me.CLSID),me.mt&&(we.mt=me.mt),me.ct&&(we.ct=me.ct)),we}function Ne(te,ve){T(te);var he=ln.find(te,ve);if(he){for(var me=0;me<te.FileIndex.length;++me)if(te.FileIndex[me]==he)return te.FileIndex.splice(me,1),te.FullPaths.splice(me,1),!0}return!1}function it(te,ve,he){T(te);var me=ln.find(te,ve);if(me){for(var xe=0;xe<te.FileIndex.length;++xe)if(te.FileIndex[xe]==me)return te.FileIndex[xe].name=a(he),te.FullPaths[xe]=he,!0}return!1}function ut(te){_(te,!0)}return t.find=E,t.read=j,t.parse=u,t.write=ee,t.writeFile=q,t.utils={cfb_new:sa,cfb_add:Un,cfb_del:Ne,cfb_mov:it,cfb_gc:ut,ReadShift:Nv,CheckField:WH,prep_blob:Ti,bconcat:wf,use_zlib:I,_deflateRaw:pt,_inflateRaw:De,consts:G},t}();function Fme(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function bc(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function zP(e){for(var t=[],r=bc(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}var Ew=new Date(1899,11,30,0,0,0);function Ns(e,t){var r=e.getTime(),n=Ew.getTime()+(e.getTimezoneOffset()-Ew.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var AH=new Date,$me=Ew.getTime()+(AH.getTimezoneOffset()-Ew.getTimezoneOffset())*6e4,VL=AH.getTimezoneOffset();function R_(e){var t=new Date;return t.setTime(e*24*60*60*1e3+$me),t.getTimezoneOffset()!==VL&&t.setTime(t.getTime()+(t.getTimezoneOffset()-VL)*6e4),t}function Bme(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(r=1,i>3&&(n=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[i],10)}return t}var zL=new Date("2017-02-19T19:06:09.000Z"),TH=isNaN(zL.getFullYear())?new Date("2/19/17"):zL,Ume=TH.getFullYear()==2017;function pi(e,t){var r=new Date(e);if(Ume)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(TH.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function Ph(e,t){if(tn&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return tv(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return tv(fH(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return tv(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return tv(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function Ci(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Ci(e[r]));return t}function va(e,t){for(var r="";r.length<t;)r+=e;return r}function Ml(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var Vme=["january","february","march","april","may","june","july","august","september","october","november","december"];function Gp(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&Vme.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var zme=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var i=r.split(n),s=[i[0]],o=1;o<i.length;++o)s.push(a),s.push(i[o]);return s}}();function EH(e){return e?e.content&&e.type?Ph(e.content,!0):e.data?Jg(e.data):e.asNodeBuffer&&tn?Jg(e.asNodeBuffer().toString("binary")):e.asBinary?Jg(e.asBinary()):e._data&&e._data.getContent?Jg(Ph(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function NH(e){if(!e)return null;if(e.data)return jL(e.data);if(e.asNodeBuffer&&tn)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?jL(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function qme(e){return e&&e.name.slice(-4)===".bin"?NH(e):EH(e)}function Mo(e,t){for(var r=e.FullPaths||bc(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),i=0;i<r.length;++i){var s=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==s||a==s)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function qP(e,t){var r=Mo(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function Da(e,t,r){if(!r)return qme(qP(e,t));if(!t)return null;try{return Da(e,t)}catch{return null}}function oo(e,t,r){if(!r)return EH(qP(e,t));if(!t)return null;try{return oo(e,t)}catch{return null}}function Wme(e,t,r){return NH(qP(e,t))}function qL(e){for(var t=e.FullPaths||bc(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function Hme(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return tn?n=qh(r):n=fme(r),ln.utils.cfb_add(e,t,n)}ln.utils.cfb_add(e,t,r)}else e.file(t,r)}function kH(e,t){switch(t.type){case"base64":return ln.read(e,{type:"base64"});case"binary":return ln.read(e,{type:"binary"});case"buffer":case"array":return ln.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function ev(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var CH=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Gme=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,WL=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,Kme=/<[^>]*>/g,ls=CH.match(WL)?WL:Kme,Yme=/<\w*:/,Xme=/<(\/?)\w+:/;function Cr(e,t,r){for(var n={},a=0,i=0;a!==e.length&&!((i=e.charCodeAt(a))===32||i===10||i===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var s=e.match(Gme),o=0,l="",c=0,u="",d="",h=1;if(s)for(c=0;c!=s.length;++c){for(d=s[c],i=0;i!=d.length&&d.charCodeAt(i)!==61;++i);for(u=d.slice(0,i).trim();d.charCodeAt(i+1)==32;)++i;for(h=(a=d.charCodeAt(i+1))==34||a==39?1:0,l=d.slice(i+1+h,d.length-h),o=0;o!=u.length&&u.charCodeAt(o)!==58;++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),n[u]=l,n[u.toLowerCase()]=l;else{var p=(o===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(o+1);if(n[p]&&u.slice(o-3,o)=="ext")continue;n[p]=l,n[p.toLowerCase()]=l}}return n}function Sc(e){return e.replace(Xme,"<$1")}var PH={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Qme=zP(PH),pn=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(e,function(o,l){return PH[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,l){return String.fromCharCode(parseInt(l,16))});var s=a.indexOf("]]>");return r(a.slice(0,i))+a.slice(i+9,s)+r(a.slice(s+3))}}(),Jme=/[&<>'"]/g,Zme=/[\u0000-\u001f]/g;function WP(e){var t=e+"";return t.replace(Jme,function(r){return Qme[r]}).replace(/\n/g,"<br/>").replace(Zme,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var HL=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function ta(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function i4(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=a&63,t+=String.fromCharCode(s);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}s=e.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(i&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function GL(e){var t=ld(2*e.length),r,n,a=1,i=0,s=0,o;for(n=0;n<e.length;n+=a)a=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(t[i++]=s&255,t[i++]=s>>>8,s=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function KL(e){return qh(e,"binary").toString("utf8")}var d2="foo bar baz",Gn=tn&&(KL(d2)==i4(d2)&&KL||GL(d2)==i4(d2)&&GL)||i4,tv=tn?function(e){return qh(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},R1=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),jH=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),ege=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),tge=/<\/?(?:vt:)?variant>/g,rge=/<(?:vt:)([^>]*)>([\s\S]*)</;function YL(e,t){var r=Cr(e),n=e.match(ege(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(i){var s=i.replace(tge,"").match(rge);s&&a.push({v:Gn(s[2]),t:s[1]})}),a}var nge=/(^\s|\s$|\n)/;function age(e){return bc(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function ige(e,t,r){return"<"+e+(r!=null?age(r):"")+(t!=null?(t.match(nge)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function HP(e){if(tn&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Gn(Wh(BP(e)));throw new Error("Bad input format: expected Buffer or string")}var F1=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,sge={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},oge=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function lge(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function cge(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,s=n?-t:t;isFinite(s)?s==0?a=i=0:(a=Math.floor(Math.log(s)/Math.LN2),i=s*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var o=0;o<=5;++o,i/=256)e[r+o]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var XL=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},QL=tn?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:qh(t)})):XL(e)}:XL,JL=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(Xc(e,a)));return n.join("").replace(Es,"")},GP=tn?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Es,""):JL(e,t,r)}:JL,ZL=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},OH=tn?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):ZL(e,t,r)}:ZL,eM=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(I0(e,a)));return n.join("")},Gy=tn?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):eM(t,r,n)}:eM,IH=function(e,t){var r=so(e,t);return r>0?Gy(e,t+4,t+4+r-1):""},DH=IH,LH=function(e,t){var r=so(e,t);return r>0?Gy(e,t+4,t+4+r-1):""},MH=LH,RH=function(e,t){var r=2*so(e,t);return r>0?Gy(e,t+4,t+4+r-1):""},FH=RH,$H=function(t,r){var n=so(t,r);return n>0?GP(t,r+4,r+4+n):""},BH=$H,UH=function(e,t){var r=so(e,t);return r>0?Gy(e,t+4,t+4+r):""},VH=UH,zH=function(e,t){return lge(e,t)},Nw=zH,qH=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};tn&&(DH=function(t,r){if(!Buffer.isBuffer(t))return IH(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},MH=function(t,r){if(!Buffer.isBuffer(t))return LH(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},FH=function(t,r){if(!Buffer.isBuffer(t))return RH(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},BH=function(t,r){if(!Buffer.isBuffer(t))return $H(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},VH=function(t,r){if(!Buffer.isBuffer(t))return UH(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},Nw=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):zH(t,r)},qH=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var I0=function(e,t){return e[t]},Xc=function(e,t){return e[t+1]*256+e[t]},uge=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},so=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Yd=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},fge=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Nv(e,t){var r="",n,a,i=[],s,o,l,c;switch(t){case"dbcs":if(c=this.l,tn&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)r+=String.fromCharCode(Xc(this,c)),c+=2;e*=2;break;case"utf8":r=Gy(this,this.l,this.l+e);break;case"utf16le":e*=2,r=GP(this,this.l,this.l+e);break;case"wstr":return Nv.call(this,e,"dbcs");case"lpstr-ansi":r=DH(this,this.l),e=4+so(this,this.l);break;case"lpstr-cp":r=MH(this,this.l),e=4+so(this,this.l);break;case"lpwstr":r=FH(this,this.l),e=4+2*so(this,this.l);break;case"lpp4":e=4+so(this,this.l),r=BH(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+so(this,this.l),r=VH(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(s=I0(this,this.l+e++))!==0;)i.push(f2(s));r=i.join("");break;case"_wstr":for(e=0,r="";(s=Xc(this,this.l+e))!==0;)i.push(f2(s)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",c=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=I0(this,c),this.l=c+1,o=Nv.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(f2(Xc(this,c))),c+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",c=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=I0(this,c),this.l=c+1,o=Nv.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(f2(I0(this,c))),c+=1}r=i.join("");break;default:switch(e){case 1:return n=I0(this,this.l),this.l++,n;case 2:return n=(t==="i"?uge:Xc)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?Yd:fge)(this,this.l),this.l+=4,n):(a=so(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=Nw(this,this.l):a=Nw([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=OH(this,this.l,e);break}}return this.l+=e,r}var dge=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},hge=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},pge=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function mge(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)pge(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var s=t.charCodeAt(a);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,dge(this,t,this.l);break;case 8:if(n=8,r==="f"){cge(this,t,this.l);break}case 16:break;case-4:n=4,hge(this,t,this.l);break}return this.l+=n,this}function WH(e,t){var r=OH(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Ti(e,t){e.l=t,e.read_shift=Nv,e.chk=WH,e.write_shift=mge}function os(e,t){e.l+=t}function Ya(e){var t=ld(e);return Ti(t,0),t}function ju(e,t,r){if(e){var n,a,i;Ti(e,e.l||0);for(var s=e.length,o=0,l=0;e.l<s;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var c=Iw[o]||Iw[65535];for(n=e.read_shift(1),i=n&127,a=1;a<4&&n&128;++a)i+=((n=e.read_shift(1))&127)<<7*a;l=e.l+i;var u=c.f&&c.f(e,i,r);if(e.l=l,t(u,c,o))return}}}function aE(){var e=[],t=tn?256:2048,r=function(c){var u=Ya(c);return Ti(u,0),u},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(c){return n&&c<n.length-n.l?n:(a(),n=r(Math.max(c+1,t)))},s=function(){return a(),wf(e)},o=function(c){a(),n=c,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:o,end:s,_bufs:e}}function kv(e,t,r){var n=Ci(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function tM(e,t,r){var n=Ci(e);return n.s=kv(n.s,t.s,r),n.e=kv(n.e,t.s,r),n}function Cv(e,t){if(e.cRel&&e.c<0)for(e=Ci(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Ci(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Fr(e);return!e.cRel&&e.cRel!=null&&(r=yge(r)),!e.rRel&&e.rRel!=null&&(r=gge(r)),r}function s4(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Ja(e.s.c)+":"+(e.e.cRel?"":"$")+Ja(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Pi(e.s.r)+":"+(e.e.rRel?"":"$")+Pi(e.e.r):Cv(e.s,t.biff)+":"+Cv(e.e,t.biff)}function KP(e){return parseInt(vge(e),10)-1}function Pi(e){return""+(e+1)}function gge(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function vge(e){return e.replace(/\$(\d+)$/,"$1")}function YP(e){for(var t=xge(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Ja(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function yge(e){return e.replace(/^([A-Z])/,"$$$1")}function xge(e){return e.replace(/^\$([A-Z])/,"$1")}function bge(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function _s(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function Fr(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Mm(e){var t=e.indexOf(":");return t==-1?{s:_s(e),e:_s(e)}:{s:_s(e.slice(0,t)),e:_s(e.slice(t+1))}}function cn(e,t){return typeof t>"u"||typeof t=="number"?cn(e.s,e.e):(typeof e!="string"&&(e=Fr(e)),typeof t!="string"&&(t=Fr(t)),e==t?e:e+":"+t)}function ba(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function rM(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Jo(e.z,r?Ns(t):t)}catch{}try{return e.w=Jo((e.XF||{}).numFmtId||(r?14:0),r?Ns(t):t)}catch{return""+t}}function wu(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Kh[e.v]||e.v:t==null?rM(e,e.v):rM(e,t))}function yd(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function HH(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),s=0,o=0;if(i&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?_s(n.origin):n.origin;s=l.r,o=l.c}i["!ref"]||(i["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=ba(i["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),s==-1&&(c.e.r=s=u.e.r+1)}for(var d=0;d!=t.length;++d)if(t[d]){if(!Array.isArray(t[d]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[d].length;++h)if(!(typeof t[d][h]>"u")){var p={v:t[d][h]},g=s+d,m=o+h;if(c.s.r>g&&(c.s.r=g),c.s.c>m&&(c.s.c=m),c.e.r<g&&(c.e.r=g),c.e.c<m&&(c.e.c=m),t[d][h]&&typeof t[d][h]=="object"&&!Array.isArray(t[d][h])&&!(t[d][h]instanceof Date))p=t[d][h];else if(Array.isArray(p.v)&&(p.f=t[d][h][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(n.nullError)p.t="e",p.v=0;else if(n.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=n.dateNF||Br[14],n.cellDates?(p.t="d",p.w=Jo(p.z,Ns(p.v))):(p.t="n",p.v=Ns(p.v),p.w=Jo(p.z,p.v))):p.t="s";if(a)i[g]||(i[g]=[]),i[g][m]&&i[g][m].z&&(p.z=i[g][m].z),i[g][m]=p;else{var v=Fr({c:m,r:g});i[v]&&i[v].z&&(p.z=i[v].z),i[v]=p}}}return c.s.c<1e7&&(i["!ref"]=cn(c)),i}function Rm(e,t){return HH(null,e,t)}function wge(e){return e.read_shift(4,"i")}function as(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function _ge(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function XP(e,t){var r=e.l,n=e.read_shift(1),a=as(e),i=[],s={t:a,h:a};if(n&1){for(var o=e.read_shift(4),l=0;l!=o;++l)i.push(_ge(e));s.r=i}else s.r=[{ich:0,ifnt:0}];return e.l=r+t,s}var Sge=XP;function el(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Hh(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var Age=as;function QP(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var Tge=as,iE=QP;function JP(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?Nw([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Yd(t,0)>>2;return r?a/100:a}function GH(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var Gh=GH;function Zi(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Ege(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),s=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var c=ph[a];c&&(t.rgb=B1(c));break;case 2:t.rgb=B1([s,o,l]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function Nge(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function KH(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function kge(e){return KH(e,1)}function Cge(e){return KH(e,2)}var ZP=2,Ds=3,h2=11,nM=12,kw=19,p2=64,Pge=65,jge=71,Oge=4108,Ige=4126,si=80,YH=81,Dge=[si,YH],Lge={1:{n:"CodePage",t:ZP},2:{n:"Category",t:si},3:{n:"PresentationFormat",t:si},4:{n:"ByteCount",t:Ds},5:{n:"LineCount",t:Ds},6:{n:"ParagraphCount",t:Ds},7:{n:"SlideCount",t:Ds},8:{n:"NoteCount",t:Ds},9:{n:"HiddenCount",t:Ds},10:{n:"MultimediaClipCount",t:Ds},11:{n:"ScaleCrop",t:h2},12:{n:"HeadingPairs",t:Oge},13:{n:"TitlesOfParts",t:Ige},14:{n:"Manager",t:si},15:{n:"Company",t:si},16:{n:"LinksUpToDate",t:h2},17:{n:"CharacterCount",t:Ds},19:{n:"SharedDoc",t:h2},22:{n:"HyperlinksChanged",t:h2},23:{n:"AppVersion",t:Ds,p:"version"},24:{n:"DigSig",t:Pge},26:{n:"ContentType",t:si},27:{n:"ContentStatus",t:si},28:{n:"Language",t:si},29:{n:"Version",t:si},255:{},2147483648:{n:"Locale",t:kw},2147483651:{n:"Behavior",t:kw},1919054434:{}},Mge={1:{n:"CodePage",t:ZP},2:{n:"Title",t:si},3:{n:"Subject",t:si},4:{n:"Author",t:si},5:{n:"Keywords",t:si},6:{n:"Comments",t:si},7:{n:"Template",t:si},8:{n:"LastAuthor",t:si},9:{n:"RevNumber",t:si},10:{n:"EditTime",t:p2},11:{n:"LastPrinted",t:p2},12:{n:"CreatedDate",t:p2},13:{n:"ModifiedDate",t:p2},14:{n:"PageCount",t:Ds},15:{n:"WordCount",t:Ds},16:{n:"CharCount",t:Ds},17:{n:"Thumbnail",t:jge},18:{n:"Application",t:si},19:{n:"DocSecurity",t:Ds},255:{},2147483648:{n:"Locale",t:kw},2147483651:{n:"Behavior",t:kw},1919054434:{}},aM={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},Rge=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function Fge(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var $ge=Fge([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),ph=Ci($ge),Kh={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},XH={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},iM={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function Bge(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Uge(e){var t=Bge();if(!e||!e.match)return t;var r={};if((e.match(ls)||[]).forEach(function(n){var a=Cr(n);switch(a[0].replace(Yme,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[iM[a.ContentType]]!==void 0&&t[iM[a.ContentType]].push(a.PartName);break}}),t.xmlns!==sge.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var Z0={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function sE(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Pv(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(ls)||[]).forEach(function(a){var i=Cr(a);if(i[0]==="<Relationship"){var s={};s.Type=i.Type,s.Target=i.Target,s.Id=i.Id,i.TargetMode&&(s.TargetMode=i.TargetMode);var o=i.TargetMode==="External"?i.Target:ev(i.Target,t);r[o]=s,n[i.Id]=s}}),r["!id"]=n,r}var Vge="application/vnd.oasis.opendocument.spreadsheet";function zge(e,t){for(var r=HP(e),n,a;n=F1.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=Cr(n[0],!1),a.path=="/"&&a.type!==Vge)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var jv=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],qge=function(){for(var e=new Array(jv.length),t=0;t<jv.length;++t){var r=jv[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function QH(e){var t={};e=Gn(e);for(var r=0;r<jv.length;++r){var n=jv[r],a=e.match(qge[r]);a!=null&&a.length>0&&(t[n[1]]=pn(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=pi(t[n[1]]))}return t}var Wge=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function JH(e,t,r,n){var a=[];if(typeof e=="string")a=YL(e,n);else for(var i=0;i<e.length;++i)a=a.concat(e[i].map(function(u){return{v:u}}));var s=typeof t=="string"?YL(t,n).map(function(u){return u.v}):t,o=0,l=0;if(s.length>0)for(var c=0;c!==a.length;c+=2){switch(l=+a[c+1].v,a[c].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=l,r.SheetNames=s.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=l,r.DefinedNames=s.slice(o,o+l);break;case"Charts":case"Diagramme":r.Chartsheets=l,r.ChartNames=s.slice(o,o+l);break}o+=l}}function Hge(e,t,r){var n={};return t||(t={}),e=Gn(e),Wge.forEach(function(a){var i=(e.match(R1(a[0]))||[])[1];switch(a[2]){case"string":i&&(t[a[1]]=pn(i));break;case"bool":t[a[1]]=i==="true";break;case"raw":var s=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));s&&s.length>0&&(n[a[1]]=s[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&JH(n.HeadingPairs,n.TitlesOfParts,t,r),t}var Gge=/<[^>]+>[^<]*/g;function Kge(e,t){var r={},n="",a=e.match(Gge);if(a)for(var i=0;i!=a.length;++i){var s=a[i],o=Cr(s);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=pn(o.name);break;case"</property>":n=null;break;default:if(s.indexOf("<vt:")===0){var l=s.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":r[n]=pn(u);break;case"bool":r[n]=ta(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(u,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(u);break;case"filetime":case"date":r[n]=pi(u);break;case"cy":case"error":r[n]=pn(u);break;default:if(c.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",s,c,l)}}else if(s.slice(0,2)!=="</"){if(t.WTF)throw new Error(s)}}}return r}var Yge={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},o4;function Xge(e,t,r){o4||(o4=zP(Yge)),t=o4[t]||t,e[t]=r}function e6(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function ZH(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function eG(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function tG(e,t,r){return t===31?eG(e):ZH(e,t,r)}function oE(e,t,r){return tG(e,t,r===!1?0:4)}function Qge(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return tG(e,t,0)}function Jge(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(Es,""),e.l-a&2&&(e.l+=2)}return r}function Zge(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(Es,"");return r}function eve(e){var t=e.l,r=Cw(e,YH);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=Cw(e,Ds);return[r,n]}function tve(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(eve(e));return r}function sM(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var i=e.read_shift(4),s=e.read_shift(4);n[i]=e.read_shift(s,t===1200?"utf16le":"utf8").replace(Es,"").replace(Zg,"!"),t===1200&&s%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function rG(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function rve(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function Cw(e,t,r){var n=e.read_shift(2),a,i=r||{};if(e.l+=2,t!==nM&&n!==t&&Dge.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===nM?n:t){case 2:return a=e.read_shift(2,"i"),i.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return ZH(e,n,4).replace(Es,"");case 31:return eG(e);case 64:return e6(e);case 65:return rG(e);case 71:return rve(e);case 80:return oE(e,n,!i.raw).replace(Es,"");case 81:return Qge(e,n).replace(Es,"");case 4108:return tve(e);case 4126:case 4127:return n==4127?Jge(e):Zge(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function oM(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0,o=0,l=-1,c={};for(s=0;s!=a;++s){var u=e.read_shift(4),d=e.read_shift(4);i[s]=[u,d+r]}i.sort(function(b,x){return b[1]-x[1]});var h={};for(s=0;s!=a;++s){if(e.l!==i[s][1]){var p=!0;if(s>0&&t)switch(t[i[s-1][0]].t){case 2:e.l+2===i[s][1]&&(e.l+=2,p=!1);break;case 80:e.l<=i[s][1]&&(e.l=i[s][1],p=!1);break;case 4108:e.l<=i[s][1]&&(e.l=i[s][1],p=!1);break}if((!t||s==0)&&e.l<=i[s][1]&&(p=!1,e.l=i[s][1]),p)throw new Error("Read Error: Expected address "+i[s][1]+" at "+e.l+" :"+s)}if(t){var g=t[i[s][0]];if(h[g.n]=Cw(e,g.t,{raw:!0}),g.p==="version"&&(h[g.n]=String(h[g.n]>>16)+"."+("0000"+String(h[g.n]&65535)).slice(-4)),g.n=="CodePage")switch(h[g.n]){case 0:h[g.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Pl(o=h[g.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[g.n])}}else if(i[s][0]===1){if(o=h.CodePage=Cw(e,ZP),Pl(o),l!==-1){var m=e.l;e.l=i[l][1],c=sM(e,o),e.l=m}}else if(i[s][0]===0){if(o===0){l=s,e.l=i[s+1][1];continue}c=sM(e,o)}else{var v=c[i[s][0]],y;switch(e[e.l]){case 65:e.l+=4,y=rG(e);break;case 30:e.l+=4,y=oE(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,y=oE(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,y=e.read_shift(4,"i");break;case 19:e.l+=4,y=e.read_shift(4);break;case 5:e.l+=4,y=e.read_shift(8,"f");break;case 11:e.l+=4,y=Sa(e,4);break;case 64:e.l+=4,y=pi(e6(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[v]=y}}return e.l=r+n,h}function lM(e,t,r){var n=e.content;if(!n)return{};Ti(n,0);var a,i,s,o,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var c=n.read_shift(4),u=n.read_shift(16);if(u!==ln.utils.consts.HEADER_CLSID&&u!==r)throw new Error("Bad PropertySet CLSID "+u);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=n.read_shift(16),o=n.read_shift(4),a===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);a===2&&(s=n.read_shift(16),l=n.read_shift(4));var d=oM(n,t),h={SystemIdentifier:c};for(var p in d)h[p]=d[p];if(h.FMTID=i,a===1)return h;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);var g;try{g=oM(n,null)}catch{}for(p in g)h[p]=g[p];return h.FMTID=[i,s],h}function cf(e,t){return e.read_shift(t),null}function nve(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function Sa(e,t){return e.read_shift(t)===1}function La(e){return e.read_shift(2,"u")}function nG(e,t){return nve(e,t,La)}function ave(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function Ky(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var s=n?e.read_shift(n,a):"";return s}function ive(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,i=1+(r&1),s=0,o,l={};a&&(s=e.read_shift(2)),n&&(o=e.read_shift(4));var c=i==2?"dbcs-cont":"sbcs-cont",u=t===0?"":e.read_shift(t,c);return a&&(e.l+=4*s),n&&(e.l+=o),l.t=u,a||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function jh(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function Yy(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):jh(e,n,r)}function Yh(e,t,r){if(r.biff>5)return Yy(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function sve(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function ove(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(Es,"");return n&&(e.l+=24),a}function lve(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=e.read_shift(i>>1,"utf16le").replace(Es,"");return r+s}function cve(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return ove(e);case"0303000000000000c000000000000046":return lve(e);default:throw new Error("Unsupported Moniker "+r)}}function m2(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(Es,""):"";return r}function uve(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var i,s,o,l,c="",u,d;a&16&&(i=m2(e,r-e.l)),a&128&&(s=m2(e,r-e.l)),(a&257)===257&&(o=m2(e,r-e.l)),(a&257)===1&&(l=cve(e,r-e.l)),a&8&&(c=m2(e,r-e.l)),a&32&&(u=e.read_shift(16)),a&64&&(d=e6(e)),e.l=r;var h=s||o||l||"";h&&c&&(h+="#"+c),h||(h="#"+c),a&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var p={Target:h};return u&&(p.guid=u),d&&(p.time=d),i&&(p.Tooltip=i),p}function aG(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function iG(e,t){var r=aG(e);return r[3]=0,r}function Ac(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function fve(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function dve(e,t,r){return t===0?"":Yh(e,t,r)}function hve(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),s=e.read_shift(n,"i");return[a,i,s]}function sG(e){var t=e.read_shift(2),r=JP(e);return[t,r]}function pve(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=Ky(e,t,r),i=e.read_shift(2);if(n-=e.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return e.l+=i,a}function F_(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function oG(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var mve=oG;function lG(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function gve(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function vve(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Bi(e){e.l+=2,e.l+=e.read_shift(2)}var yve={0:Bi,4:Bi,5:Bi,6:Bi,7:vve,8:Bi,9:Bi,10:Bi,11:Bi,12:Bi,13:gve,14:Bi,15:Bi,16:Bi,17:Bi,18:Bi,19:Bi,20:Bi,21:lG};function xve(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(yve[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function g2(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function bve(e,t){return t===0||e.read_shift(2),1200}function wve(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=Yh(e,0,r);return e.read_shift(t+n-e.l),a}function _ve(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function Sve(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var s=Ky(e,0,r);return s.length===0&&(s="Sheet1"),{pos:n,hs:a,dt:i,name:s}}function Ave(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0;s!=a&&e.l<r;++s)i.push(ive(e));return i.Count=n,i.Unique=a,i}function Tve(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function Eve(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function Nve(e){var t=fve(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function kve(e){return e.read_shift(2),e.read_shift(4)}function cM(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,a]}function Cve(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:i,CurTab:s,FirstTab:o,Selected:l,TabRatio:c}}function Pve(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function jve(){}function Ove(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=Ky(e,0,r),n}function Ive(e){var t=Ac(e);return t.isst=e.read_shift(4),t}function Dve(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=Ac(e);r.biff==2&&e.l++;var i=Yy(e,n-e.l,r);return a.val=i,a}function Lve(e,t,r){var n=e.read_shift(2),a=Yh(e,0,r);return[n,a]}var Mve=Yh;function uM(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,i=e.read_shift(a),s=e.read_shift(a),o=e.read_shift(2),l=e.read_shift(2);return e.l=n,{s:{r:i,c:o},e:{r:s,c:l}}}function Rve(e){var t=e.read_shift(2),r=e.read_shift(2),n=sG(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function Fve(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(sG(e));if(e.l!==r)throw new Error("MulRK read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:s,rkrec:i}}function $ve(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:s,ixfe:i}}function Bve(e,t,r,n){var a={},i=e.read_shift(4),s=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(2);return a.patternType=Rge[o>>26],n.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=s&15,a.dgRight=s>>4&15,a.dgTop=s>>8&15,a.dgBottom=s>>12&15,a.icvLeft=s>>16&127,a.icvRight=s>>23&127,a.grbitDiag=s>>30&3,a.icvTop=o&127,a.icvBottom=o>>7&127,a.icvDiag=o>>14&127,a.dgDiag=o>>21&15,a.icvFore=l&127,a.icvBack=l>>7&127,a.fsxButton=l>>14&1),a}function Uve(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=Bve(e,t,n.fStyle,r),n}function Vve(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function fM(e,t,r){var n=Ac(e);(r.biff==2||t==9)&&++e.l;var a=ave(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function zve(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=Ac(e),a=Zi(e);return n.val=a,n}var dM=dve;function qve(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var s=jh(e,i),o=[];n>e.l;)o.push(Yy(e));return[i,a,s,o]}function hM(e,t,r){var n=e.read_shift(2),a,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=pve(e,t-2,r)),i.body=a||e.read_shift(t-2),typeof a=="string"&&(i.Name=a),i}var Wve=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function pM(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(1),s=e.read_shift(1),o=e.read_shift(r&&r.biff==2?1:2),l=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),l=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var c=jh(e,s,r);a&32&&(c=Wve[c.charCodeAt(0)]);var u=n-e.l;r&&r.biff==2&&--u;var d=n==e.l||o===0||!(u>0)?[]:E2e(e,u,r,o);return{chKey:i,Name:c,itab:l,rgce:d}}function cG(e,t,r){if(r.biff<8)return Hve(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(hve(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function Hve(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=Ky(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function Gve(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),i=jh(e,n,r),s=jh(e,a,r);return[i,s]}function Kve(e,t,r){var n=oG(e);e.l++;var a=e.read_shift(1);return t-=8,[N2e(e,t,r),a,n]}function mM(e,t,r){var n=mve(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,A2e(e,t,r)]}function Yve(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function Xve(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=Yh(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},o,s,i]}}function Qve(e,t,r){return Xve(e,t,r)}function Jve(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(F_(e));return r}function Zve(e,t,r){if(r&&r.biff<8)return t1e(e,t,r);var n=lG(e),a=xve(e,t-22,n[1]);return{cmo:n,ft:a}}var e1e={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function t1e(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var s=[];return s.push((e1e[n]||os)(e,t,r)),{cmo:[a,n,i],ft:s}}function r1e(e,t,r){var n=e.l,a="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:s=sve(e,6,r);var o=e.read_shift(2);e.read_shift(2),La(e,2);var l=e.read_shift(2);e.l+=l;for(var c=1;c<e.lens.length-1;++c){if(e.l-n!=e.lens[c])throw new Error("TxO: bad continue record");var u=e[e.l],d=jh(e,e.lens[c+1]-e.lens[c]-1);if(a+=d,a.length>=(u?o:2*o))break}if(a.length!==o&&a.length!==o*2)throw new Error("cchText: "+o+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function n1e(e,t){var r=F_(e);e.l+=16;var n=uve(e,t-24);return[r,n]}function a1e(e,t){e.read_shift(2);var r=F_(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(Es,""),[r,n]}function i1e(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=aM[r]||r,r=e.read_shift(2),t[1]=aM[r]||r,t}function s1e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(iG(e));return r}function o1e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(iG(e));return r}function l1e(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function uG(e,t,r){if(!r.cellStyles)return os(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(2);n==2&&(e.l+=2);var c={s:a,e:i,w:s,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(c.level=l>>8&7),c}function c1e(e,t){var r={};return t<32||(e.l+=16,r.header=Zi(e),r.footer=Zi(e),e.l+=2),r}function u1e(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}var f1e=Ac,d1e=nG,h1e=Yy;function p1e(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function m1e(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=Ac(e);++e.l;var a=Yh(e,t-7,r);return n.t="str",n.val=a,n}function g1e(e){var t=Ac(e);++e.l;var r=Zi(e);return t.t="n",t.val=r,t}function v1e(e){var t=Ac(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function y1e(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function x1e(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function b1e(e,t,r){var n=e.l+t,a=Ac(e),i=e.read_shift(2),s=jh(e,i,r);return e.l=n,a.t="str",a.val=s,a}var w1e=[2,3,48,49,131,139,140,245],gM=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=zP({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var c=[],u=ld(1);switch(l.type){case"base64":u=El(go(o));break;case"binary":u=El(o);break;case"buffer":case"array":u=o;break}Ti(u,0);var d=u.read_shift(1),h=!!(d&136),p=!1,g=!1;switch(d){case 2:break;case 3:break;case 48:p=!0,h=!0;break;case 49:p=!0,h=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+d.toString(16))}var m=0,v=521;d==2&&(m=u.read_shift(2)),u.l+=3,d!=2&&(m=u.read_shift(4)),m>1048576&&(m=1e6),d!=2&&(v=u.read_shift(2));var y=u.read_shift(2),b=l.codepage||1252;d!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(b=e[u[u.l]]),u.l+=1,u.l+=2),g&&(u.l+=36);for(var x=[],O={},P=Math.min(u.length,d==2?521:v-10-(p?264:0)),j=g?32:11;u.l<P&&u[u.l]!=13;)switch(O={},O.name=bf.utils.decode(b,u.slice(u.l,u.l+j)).replace(/[\u0000\r\n].*$/g,""),u.l+=j,O.type=String.fromCharCode(u.read_shift(1)),d!=2&&!g&&(O.offset=u.read_shift(4)),O.len=u.read_shift(1),d==2&&(O.offset=u.read_shift(2)),O.dec=u.read_shift(1),O.name.length&&x.push(O),d!=2&&(u.l+=g?13:14),O.type){case"B":(!p||O.len!=8)&&l.WTF&&console.log("Skipping "+O.name+":"+O.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+O.name+":"+O.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+O.type)}if(u[u.l]!==13&&(u.l=v-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=v;var T=0,S=0;for(c[0]=[],S=0;S!=x.length;++S)c[0][S]=x[S].name;for(;m-- >0;){if(u[u.l]===42){u.l+=y;continue}for(++u.l,c[++T]=[],S=0,S=0;S!=x.length;++S){var _=u.slice(u.l,u.l+x[S].len);u.l+=x[S].len,Ti(_,0);var D=bf.utils.decode(b,_);switch(x[S].type){case"C":D.trim().length&&(c[T][S]=D.replace(/\s+$/,""));break;case"D":D.length===8?c[T][S]=new Date(+D.slice(0,4),+D.slice(4,6)-1,+D.slice(6,8)):c[T][S]=D;break;case"F":c[T][S]=parseFloat(D.trim());break;case"+":case"I":c[T][S]=g?_.read_shift(-4,"i")^2147483648:_.read_shift(4,"i");break;case"L":switch(D.trim().toUpperCase()){case"Y":case"T":c[T][S]=!0;break;case"N":case"F":c[T][S]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+D+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+d.toString(16));c[T][S]="##MEMO##"+(g?parseInt(D.trim(),10):_.read_shift(4));break;case"N":D=D.replace(/\u0000/g,"").trim(),D&&D!="."&&(c[T][S]=+D||0);break;case"@":c[T][S]=new Date(_.read_shift(-8,"f")-621356832e5);break;case"T":c[T][S]=new Date((_.read_shift(4)-2440588)*864e5+_.read_shift(4));break;case"Y":c[T][S]=_.read_shift(4,"i")/1e4+_.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[T][S]=-_.read_shift(-8,"f");break;case"B":if(p&&x[S].len==8){c[T][S]=_.read_shift(8,"f");break}case"G":case"P":_.l+=x[S].len;break;case"0":if(x[S].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+x[S].type)}}}if(d!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=x,c}function n(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=Rm(r(o,c),c);return u["!cols"]=c.DBF.map(function(d){return{wch:d.len,DBF:d}}),delete c.DBF,u}function a(o,l){try{return yd(n(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,l){var c=l||{};if(+c.codepage>=0&&Pl(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=aE(),d=pE(o,{header:1,raw:!0,cellDates:!0}),h=d[0],p=d.slice(1),g=o["!cols"]||[],m=0,v=0,y=0,b=1;for(m=0;m<h.length;++m){if(((g[m]||{}).DBF||{}).name){h[m]=g[m].DBF.name,++y;continue}if(h[m]!=null){if(++y,typeof h[m]=="number"&&(h[m]=h[m].toString(10)),typeof h[m]!="string")throw new Error("DBF Invalid column name "+h[m]+" |"+typeof h[m]+"|");if(h.indexOf(h[m])!==m){for(v=0;v<1024;++v)if(h.indexOf(h[m]+"_"+v)==-1){h[m]+="_"+v;break}}}}var x=ba(o["!ref"]),O=[],P=[],j=[];for(m=0;m<=x.e.c-x.s.c;++m){var T="",S="",_=0,D=[];for(v=0;v<p.length;++v)p[v][m]!=null&&D.push(p[v][m]);if(D.length==0||h[m]==null){O[m]="?";continue}for(v=0;v<D.length;++v){switch(typeof D[v]){case"number":S="B";break;case"string":S="C";break;case"boolean":S="L";break;case"object":S=D[v]instanceof Date?"D":"C";break;default:S="C"}_=Math.max(_,String(D[v]).length),T=T&&T!=S?"C":S}_>250&&(_=250),S=((g[m]||{}).DBF||{}).type,S=="C"&&g[m].DBF.len>_&&(_=g[m].DBF.len),T=="B"&&S=="N"&&(T="N",j[m]=g[m].DBF.dec,_=g[m].DBF.len),P[m]=T=="C"||S=="N"?_:i[T]||0,b+=P[m],O[m]=T}var E=u.next(32);for(E.write_shift(4,318902576),E.write_shift(4,p.length),E.write_shift(2,296+32*y),E.write_shift(2,b),m=0;m<4;++m)E.write_shift(4,0);for(E.write_shift(4,0|(+t[cH]||3)<<8),m=0,v=0;m<h.length;++m)if(h[m]!=null){var N=u.next(32),k=(h[m].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);N.write_shift(1,k,"sbcs"),N.write_shift(1,O[m]=="?"?"C":O[m],"sbcs"),N.write_shift(4,v),N.write_shift(1,P[m]||i[O[m]]||0),N.write_shift(1,j[m]||0),N.write_shift(1,2),N.write_shift(4,0),N.write_shift(1,0),N.write_shift(4,0),N.write_shift(4,0),v+=P[m]||i[O[m]]||0}var V=u.next(264);for(V.write_shift(4,13),m=0;m<65;++m)V.write_shift(4,0);for(m=0;m<p.length;++m){var Q=u.next(b);for(Q.write_shift(1,0),v=0;v<h.length;++v)if(h[v]!=null)switch(O[v]){case"L":Q.write_shift(1,p[m][v]==null?63:p[m][v]?84:70);break;case"B":Q.write_shift(8,p[m][v]||0,"f");break;case"N":var W="0";for(typeof p[m][v]=="number"&&(W=p[m][v].toFixed(j[v]||0)),y=0;y<P[v]-W.length;++y)Q.write_shift(1,32);Q.write_shift(1,W,"sbcs");break;case"D":p[m][v]?(Q.write_shift(4,("0000"+p[m][v].getFullYear()).slice(-4),"sbcs"),Q.write_shift(2,("00"+(p[m][v].getMonth()+1)).slice(-2),"sbcs"),Q.write_shift(2,("00"+p[m][v].getDate()).slice(-2),"sbcs")):Q.write_shift(8,"00000000","sbcs");break;case"C":var G=String(p[m][v]!=null?p[m][v]:"").slice(0,P[v]);for(Q.write_shift(1,G,"sbcs"),y=0;y<P[v]-G.length;++y)Q.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:a,to_sheet:n,from_sheet:s}}(),_1e=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+bc(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,p){var g=e[p];return typeof g=="number"?OL(g):g},n=function(h,p,g){var m=p.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return m==59?h:OL(m)};e["|"]=254;function a(h,p){switch(p.type){case"base64":return i(go(h),p);case"binary":return i(h,p);case"buffer":return i(tn&&Buffer.isBuffer(h)?h.toString("binary"):Wh(h),p);case"array":return i(Ph(h),p)}throw new Error("Unrecognized type "+p.type)}function i(h,p){var g=h.split(/[\n\r]+/),m=-1,v=-1,y=0,b=0,x=[],O=[],P=null,j={},T=[],S=[],_=[],D=0,E;for(+p.codepage>=0&&Pl(+p.codepage);y!==g.length;++y){D=0;var N=g[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),k=N.replace(/;;/g,"\0").split(";").map(function(K){return K.replace(/\u0000/g,";")}),V=k[0],Q;if(N.length>0)switch(V){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":k[1].charAt(0)=="P"&&O.push(N.slice(3).replace(/;;/g,";"));break;case"C":var W=!1,G=!1,q=!1,U=!1,ee=-1,Z=-1;for(b=1;b<k.length;++b)switch(k[b].charAt(0)){case"A":break;case"X":v=parseInt(k[b].slice(1))-1,G=!0;break;case"Y":for(m=parseInt(k[b].slice(1))-1,G||(v=0),E=x.length;E<=m;++E)x[E]=[];break;case"K":Q=k[b].slice(1),Q.charAt(0)==='"'?Q=Q.slice(1,Q.length-1):Q==="TRUE"?Q=!0:Q==="FALSE"?Q=!1:isNaN(Ml(Q))?isNaN(Gp(Q).getDate())||(Q=pi(Q)):(Q=Ml(Q),P!==null&&Lm(P)&&(Q=R_(Q))),W=!0;break;case"E":U=!0;var I=mp(k[b].slice(1),{r:m,c:v});x[m][v]=[x[m][v],I];break;case"S":q=!0,x[m][v]=[x[m][v],"S5S"];break;case"G":break;case"R":ee=parseInt(k[b].slice(1))-1;break;case"C":Z=parseInt(k[b].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+N)}if(W&&(x[m][v]&&x[m][v].length==2?x[m][v][0]=Q:x[m][v]=Q,P=null),q){if(U)throw new Error("SYLK shared formula cannot have own formula");var M=ee>-1&&x[ee][Z];if(!M||!M[1])throw new Error("SYLK shared formula cannot find base");x[m][v][1]=bG(M[1],{r:m-ee,c:v-Z})}break;case"F":var z=0;for(b=1;b<k.length;++b)switch(k[b].charAt(0)){case"X":v=parseInt(k[b].slice(1))-1,++z;break;case"Y":for(m=parseInt(k[b].slice(1))-1,E=x.length;E<=m;++E)x[E]=[];break;case"M":D=parseInt(k[b].slice(1))/20;break;case"F":break;case"G":break;case"P":P=O[parseInt(k[b].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(_=k[b].slice(1).split(" "),E=parseInt(_[0],10);E<=parseInt(_[1],10);++E)D=parseInt(_[2],10),S[E-1]=D===0?{hidden:!0}:{wch:D},Kp(S[E-1]);break;case"C":v=parseInt(k[b].slice(1))-1,S[v]||(S[v]={});break;case"R":m=parseInt(k[b].slice(1))-1,T[m]||(T[m]={}),D>0?(T[m].hpt=D,T[m].hpx=U1(D)):D===0&&(T[m].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+N)}z<1&&(P=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+N)}}return T.length>0&&(j["!rows"]=T),S.length>0&&(j["!cols"]=S),p&&p.sheetRows&&(x=x.slice(0,p.sheetRows)),[x,j]}function s(h,p){var g=a(h,p),m=g[0],v=g[1],y=Rm(m,p);return bc(v).forEach(function(b){y[b]=v[b]}),y}function o(h,p){return yd(s(h,p),p)}function l(h,p,g,m){var v="C;Y"+(g+1)+";X"+(m+1)+";K";switch(h.t){case"n":v+=h.v||0,h.f&&!h.F&&(v+=";E"+lxe(h.f,{r:g,c:m}));break;case"b":v+=h.v?"TRUE":"FALSE";break;case"e":v+=h.w||h.v;break;case"d":v+='"'+(h.w||h.v)+'"';break;case"s":v+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function c(h,p){p.forEach(function(g,m){var v="F;W"+(m+1)+" "+(m+1)+" ";g.hidden?v+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=jw(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=Ow(g.wpx)),typeof g.wch=="number"&&(v+=Math.round(g.wch))),v.charAt(v.length-1)!=" "&&h.push(v)})}function u(h,p){p.forEach(function(g,m){var v="F;";g.hidden?v+="M0;":g.hpt?v+="M"+20*g.hpt+";":g.hpx&&(v+="M"+20*vG(g.hpx)+";"),v.length>2&&h.push(v+"R"+(m+1))})}function d(h,p){var g=["ID;PWXL;N;E"],m=[],v=ba(h["!ref"]),y,b=Array.isArray(h),x=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),h["!cols"]&&c(g,h["!cols"]),h["!rows"]&&u(g,h["!rows"]),g.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var O=v.s.r;O<=v.e.r;++O)for(var P=v.s.c;P<=v.e.c;++P){var j=Fr({r:O,c:P});y=b?(h[O]||[])[P]:h[j],!(!y||y.v==null&&(!y.f||y.F))&&m.push(l(y,h,O,P))}return g.join(x)+x+m.join(x)+x+"E"+x}return{to_workbook:o,to_sheet:s,from_sheet:d}}(),S1e=function(){function e(i,s){switch(s.type){case"base64":return t(go(i),s);case"binary":return t(i,s);case"buffer":return t(tn&&Buffer.isBuffer(i)?i.toString("binary"):Wh(i),s);case"array":return t(Ph(i),s)}throw new Error("Unrecognized type "+s.type)}function t(i,s){for(var o=i.split(`
`),l=-1,c=-1,u=0,d=[];u!==o.length;++u){if(o[u].trim()==="BOT"){d[++l]=[],c=0;continue}if(!(l<0)){var h=o[u].trim().split(","),p=h[0],g=h[1];++u;for(var m=o[u]||"";(m.match(/["]/g)||[]).length&1&&u<o.length-1;)m+=`
`+o[++u];switch(m=m.trim(),+p){case-1:if(m==="BOT"){d[++l]=[],c=0;continue}else if(m!=="EOD")throw new Error("Unrecognized DIF special command "+m);break;case 0:m==="TRUE"?d[l][c]=!0:m==="FALSE"?d[l][c]=!1:isNaN(Ml(g))?isNaN(Gp(g).getDate())?d[l][c]=g:d[l][c]=pi(g):d[l][c]=Ml(g),++c;break;case 1:m=m.slice(1,m.length-1),m=m.replace(/""/g,'"'),m&&m.match(/^=".*"$/)&&(m=m.slice(2,-1)),d[l][c++]=m!==""?m:null;break}if(m==="EOD")break}}return s&&s.sheetRows&&(d=d.slice(0,s.sheetRows)),d}function r(i,s){return Rm(e(i,s),s)}function n(i,s){return yd(r(i,s),s)}var a=function(){var i=function(l,c,u,d,h){l.push(c),l.push(u+","+d),l.push('"'+h.replace(/"/g,'""')+'"')},s=function(l,c,u,d){l.push(c+","+u),l.push(c==1?'"'+d.replace(/"/g,'""')+'"':d)};return function(l){var c=[],u=ba(l["!ref"]),d,h=Array.isArray(l);i(c,"TABLE",0,1,"sheetjs"),i(c,"VECTORS",0,u.e.r-u.s.r+1,""),i(c,"TUPLES",0,u.e.c-u.s.c+1,""),i(c,"DATA",0,0,"");for(var p=u.s.r;p<=u.e.r;++p){s(c,-1,0,"BOT");for(var g=u.s.c;g<=u.e.c;++g){var m=Fr({r:p,c:g});if(d=h?(l[p]||[])[g]:l[m],!d){s(c,1,0,"");continue}switch(d.t){case"n":var v=d.w;!v&&d.v!=null&&(v=d.v),v==null?d.f&&!d.F?s(c,1,0,"="+d.f):s(c,1,0,""):s(c,0,v,"V");break;case"b":s(c,0,d.v?1:0,d.v?"TRUE":"FALSE");break;case"s":s(c,1,0,isNaN(d.v)?d.v:'="'+d.v+'"');break;case"d":d.w||(d.w=Jo(d.z||Br[14],Ns(pi(d.v)))),s(c,0,d.w,"V");break;default:s(c,1,0,"")}}}s(c,-1,0,"EOD");var y=`\r
`,b=c.join(y);return b}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),A1e=function(){function e(d){return d.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(d){return d.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(d,h){for(var p=d.split(`
`),g=-1,m=-1,v=0,y=[];v!==p.length;++v){var b=p[v].trim().split(":");if(b[0]==="cell"){var x=_s(b[1]);if(y.length<=x.r)for(g=y.length;g<=x.r;++g)y[g]||(y[g]=[]);switch(g=x.r,m=x.c,b[2]){case"t":y[g][m]=e(b[3]);break;case"v":y[g][m]=+b[3];break;case"vtf":var O=b[b.length-1];case"vtc":switch(b[3]){case"nl":y[g][m]=!!+b[4];break;default:y[g][m]=+b[4];break}b[2]=="vtf"&&(y[g][m]=[y[g][m],O])}}}return h&&h.sheetRows&&(y=y.slice(0,h.sheetRows)),y}function n(d,h){return Rm(r(d,h),h)}function a(d,h){return yd(n(d,h),h)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(d){if(!d||!d["!ref"])return"";for(var h=[],p=[],g,m="",v=Mm(d["!ref"]),y=Array.isArray(d),b=v.s.r;b<=v.e.r;++b)for(var x=v.s.c;x<=v.e.c;++x)if(m=Fr({r:b,c:x}),g=y?(d[b]||[])[x]:d[m],!(!g||g.v==null||g.t==="z")){switch(p=["cell",m,"t"],g.t){case"s":case"str":p.push(t(g.v));break;case"n":g.f?(p[2]="vtf",p[3]="n",p[4]=g.v,p[5]=t(g.f)):(p[2]="v",p[3]=g.v);break;case"b":p[2]="vt"+(g.f?"f":"c"),p[3]="nl",p[4]=g.v?"1":"0",p[5]=t(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var O=Ns(pi(g.v));p[2]="vtc",p[3]="nd",p[4]=""+O,p[5]=g.w||Jo(g.z||Br[14],O);break;case"e":continue}h.push(p.join(":"))}return h.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function u(d){return[i,s,o,s,c(d),l].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:u}}(),$1=function(){function e(u,d,h,p,g){g.raw?d[h][p]=u:u===""||(u==="TRUE"?d[h][p]=!0:u==="FALSE"?d[h][p]=!1:isNaN(Ml(u))?isNaN(Gp(u).getDate())?d[h][p]=u:d[h][p]=pi(u):d[h][p]=Ml(u))}function t(u,d){var h=d||{},p=[];if(!u||u.length===0)return p;for(var g=u.split(/[\r\n]/),m=g.length-1;m>=0&&g[m].length===0;)--m;for(var v=10,y=0,b=0;b<=m;++b)y=g[b].indexOf(" "),y==-1?y=g[b].length:y++,v=Math.max(v,y);for(b=0;b<=m;++b){p[b]=[];var x=0;for(e(g[b].slice(0,v).trim(),p,b,x,h),x=1;x<=(g[b].length-v)/10+1;++x)e(g[b].slice(v+(x-1)*10,v+x*10).trim(),p,b,x,h)}return h.sheetRows&&(p=p.slice(0,h.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(u){for(var d={},h=!1,p=0,g=0;p<u.length;++p)(g=u.charCodeAt(p))==34?h=!h:!h&&g in r&&(d[g]=(d[g]||0)+1);g=[];for(p in d)Object.prototype.hasOwnProperty.call(d,p)&&g.push([d[p],p]);if(!g.length){d=n;for(p in d)Object.prototype.hasOwnProperty.call(d,p)&&g.push([d[p],p])}return g.sort(function(m,v){return m[0]-v[0]||n[m[1]]-n[v[1]]}),r[g.pop()[1]]||44}function i(u,d){var h=d||{},p="",g=h.dense?[]:{},m={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(p=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(p=u.charAt(4),u=u.slice(6)):p=a(u.slice(0,1024)):h&&h.FS?p=h.FS:p=a(u.slice(0,1024));var v=0,y=0,b=0,x=0,O=0,P=p.charCodeAt(0),j=!1,T=0,S=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var _=h.dateNF!=null?Lme(h.dateNF):null;function D(){var E=u.slice(x,O),N={};if(E.charAt(0)=='"'&&E.charAt(E.length-1)=='"'&&(E=E.slice(1,-1).replace(/""/g,'"')),E.length===0)N.t="z";else if(h.raw)N.t="s",N.v=E;else if(E.trim().length===0)N.t="s",N.v=E;else if(E.charCodeAt(0)==61)E.charCodeAt(1)==34&&E.charCodeAt(E.length-1)==34?(N.t="s",N.v=E.slice(2,-1).replace(/""/g,'"')):uxe(E)?(N.t="n",N.f=E.slice(1)):(N.t="s",N.v=E);else if(E=="TRUE")N.t="b",N.v=!0;else if(E=="FALSE")N.t="b",N.v=!1;else if(!isNaN(b=Ml(E)))N.t="n",h.cellText!==!1&&(N.w=E),N.v=b;else if(!isNaN(Gp(E).getDate())||_&&E.match(_)){N.z=h.dateNF||Br[14];var k=0;_&&E.match(_)&&(E=Mme(E,h.dateNF,E.match(_)||[]),k=1),h.cellDates?(N.t="d",N.v=pi(E,k)):(N.t="n",N.v=Ns(pi(E,k))),h.cellText!==!1&&(N.w=Jo(N.z,N.v instanceof Date?Ns(N.v):N.v)),h.cellNF||delete N.z}else N.t="s",N.v=E;if(N.t=="z"||(h.dense?(g[v]||(g[v]=[]),g[v][y]=N):g[Fr({c:y,r:v})]=N),x=O+1,S=u.charCodeAt(x),m.e.c<y&&(m.e.c=y),m.e.r<v&&(m.e.r=v),T==P)++y;else if(y=0,++v,h.sheetRows&&h.sheetRows<=v)return!0}e:for(;O<u.length;++O)switch(T=u.charCodeAt(O)){case 34:S===34&&(j=!j);break;case P:case 10:case 13:if(!j&&D())break e;break}return O-x>0&&D(),g["!ref"]=cn(m),g}function s(u,d){return!(d&&d.PRN)||d.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?i(u,d):Rm(t(u,d),d)}function o(u,d){var h="",p=d.type=="string"?[0,0,0,0]:l6(u,d);switch(d.type){case"base64":h=go(u);break;case"binary":h=u;break;case"buffer":d.codepage==65001?h=u.toString("utf8"):d.codepage&&typeof bf<"u"?h=bf.utils.decode(d.codepage,u):h=tn&&Buffer.isBuffer(u)?u.toString("binary"):Wh(u);break;case"array":h=Ph(u);break;case"string":h=u;break;default:throw new Error("Unrecognized type "+d.type)}return p[0]==239&&p[1]==187&&p[2]==191?h=Gn(h.slice(3)):d.type!="string"&&d.type!="buffer"&&d.codepage==65001?h=Gn(h):d.type=="binary"&&typeof bf<"u"&&d.codepage&&(h=bf.utils.decode(d.codepage,bf.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?A1e.to_sheet(d.type=="string"?h:Gn(h),d):s(h,d)}function l(u,d){return yd(o(u,d),d)}function c(u){for(var d=[],h=ba(u["!ref"]),p,g=Array.isArray(u),m=h.s.r;m<=h.e.r;++m){for(var v=[],y=h.s.c;y<=h.e.c;++y){var b=Fr({r:m,c:y});if(p=g?(u[m]||[])[y]:u[b],!p||p.v==null){v.push("          ");continue}for(var x=(p.w||(wu(p),p.w)||"").slice(0,10);x.length<10;)x+=" ";v.push(x+(y===0?" ":""))}d.push(v.join(""))}return d.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}}();function T1e(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=_1e.to_workbook(e,r);return r.WTF=n,a}catch(i){if(r.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return $1.to_workbook(e,t)}}var Ov=function(){function e(I,M,z){if(I){Ti(I,I.l||0);for(var K=z.Enum||ee;I.l<I.length;){var X=I.read_shift(2),ae=K[X]||K[65535],ue=I.read_shift(2),ie=I.l+ue,ge=ae.f&&ae.f(I,ue,z);if(I.l=ie,M(ge,ae,X))return}}}function t(I,M){switch(M.type){case"base64":return r(El(go(I)),M);case"binary":return r(El(I),M);case"buffer":case"array":return r(I,M)}throw"Unsupported type "+M.type}function r(I,M){if(!I)return I;var z=M||{},K=z.dense?[]:{},X="Sheet1",ae="",ue=0,ie={},ge=[],ye=[],H={s:{r:0,c:0},e:{r:0,c:0}},ke=z.sheetRows||0;if(I[2]==0&&(I[3]==8||I[3]==9)&&I.length>=16&&I[14]==5&&I[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(I[2]==2)z.Enum=ee,e(I,function(Le,qe,Ke){switch(Ke){case 0:z.vers=Le,Le>=4096&&(z.qpro=!0);break;case 6:H=Le;break;case 204:Le&&(ae=Le);break;case 222:ae=Le;break;case 15:case 51:z.qpro||(Le[1].v=Le[1].v.slice(1));case 13:case 14:case 16:Ke==14&&(Le[2]&112)==112&&(Le[2]&15)>1&&(Le[2]&15)<15&&(Le[1].z=z.dateNF||Br[14],z.cellDates&&(Le[1].t="d",Le[1].v=R_(Le[1].v))),z.qpro&&Le[3]>ue&&(K["!ref"]=cn(H),ie[X]=K,ge.push(X),K=z.dense?[]:{},H={s:{r:0,c:0},e:{r:0,c:0}},ue=Le[3],X=ae||"Sheet"+(ue+1),ae="");var rt=z.dense?(K[Le[0].r]||[])[Le[0].c]:K[Fr(Le[0])];if(rt){rt.t=Le[1].t,rt.v=Le[1].v,Le[1].z!=null&&(rt.z=Le[1].z),Le[1].f!=null&&(rt.f=Le[1].f);break}z.dense?(K[Le[0].r]||(K[Le[0].r]=[]),K[Le[0].r][Le[0].c]=Le[1]):K[Fr(Le[0])]=Le[1];break}},z);else if(I[2]==26||I[2]==14)z.Enum=Z,I[2]==14&&(z.qpro=!0,I.l=0),e(I,function(Le,qe,Ke){switch(Ke){case 204:X=Le;break;case 22:Le[1].v=Le[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Le[3]>ue&&(K["!ref"]=cn(H),ie[X]=K,ge.push(X),K=z.dense?[]:{},H={s:{r:0,c:0},e:{r:0,c:0}},ue=Le[3],X="Sheet"+(ue+1)),ke>0&&Le[0].r>=ke)break;z.dense?(K[Le[0].r]||(K[Le[0].r]=[]),K[Le[0].r][Le[0].c]=Le[1]):K[Fr(Le[0])]=Le[1],H.e.c<Le[0].c&&(H.e.c=Le[0].c),H.e.r<Le[0].r&&(H.e.r=Le[0].r);break;case 27:Le[14e3]&&(ye[Le[14e3][0]]=Le[14e3][1]);break;case 1537:ye[Le[0]]=Le[1],Le[0]==ue&&(X=Le[1]);break}},z);else throw new Error("Unrecognized LOTUS BOF "+I[2]);if(K["!ref"]=cn(H),ie[ae||X]=K,ge.push(ae||X),!ye.length)return{SheetNames:ge,Sheets:ie};for(var Ce={},_e=[],le=0;le<ye.length;++le)ie[ge[le]]?(_e.push(ye[le]||ge[le]),Ce[ye[le]]=ie[ye[le]]||ie[ge[le]]):(_e.push(ye[le]),Ce[ye[le]]={"!ref":"A1"});return{SheetNames:_e,Sheets:Ce}}function n(I,M){var z=M||{};if(+z.codepage>=0&&Pl(+z.codepage),z.type=="string")throw new Error("Cannot write WK1 to JS string");var K=aE(),X=ba(I["!ref"]),ae=Array.isArray(I),ue=[];hl(K,0,i(1030)),hl(K,6,l(X));for(var ie=Math.min(X.e.r,8191),ge=X.s.r;ge<=ie;++ge)for(var ye=Pi(ge),H=X.s.c;H<=X.e.c;++H){ge===X.s.r&&(ue[H]=Ja(H));var ke=ue[H]+ye,Ce=ae?(I[ge]||[])[H]:I[ke];if(!(!Ce||Ce.t=="z"))if(Ce.t=="n")(Ce.v|0)==Ce.v&&Ce.v>=-32768&&Ce.v<=32767?hl(K,13,p(ge,H,Ce.v)):hl(K,14,m(ge,H,Ce.v));else{var _e=wu(Ce);hl(K,15,d(ge,H,_e.slice(0,239)))}}return hl(K,1),K.end()}function a(I,M){var z=M||{};if(+z.codepage>=0&&Pl(+z.codepage),z.type=="string")throw new Error("Cannot write WK3 to JS string");var K=aE();hl(K,0,s(I));for(var X=0,ae=0;X<I.SheetNames.length;++X)(I.Sheets[I.SheetNames[X]]||{})["!ref"]&&hl(K,27,U(I.SheetNames[X],ae++));var ue=0;for(X=0;X<I.SheetNames.length;++X){var ie=I.Sheets[I.SheetNames[X]];if(!(!ie||!ie["!ref"])){for(var ge=ba(ie["!ref"]),ye=Array.isArray(ie),H=[],ke=Math.min(ge.e.r,8191),Ce=ge.s.r;Ce<=ke;++Ce)for(var _e=Pi(Ce),le=ge.s.c;le<=ge.e.c;++le){Ce===ge.s.r&&(H[le]=Ja(le));var Le=H[le]+_e,qe=ye?(ie[Ce]||[])[le]:ie[Le];if(!(!qe||qe.t=="z"))if(qe.t=="n")hl(K,23,D(Ce,le,ue,qe.v));else{var Ke=wu(qe);hl(K,22,T(Ce,le,ue,Ke.slice(0,239)))}}++ue}}return hl(K,1),K.end()}function i(I){var M=Ya(2);return M.write_shift(2,I),M}function s(I){var M=Ya(26);M.write_shift(2,4096),M.write_shift(2,4),M.write_shift(4,0);for(var z=0,K=0,X=0,ae=0;ae<I.SheetNames.length;++ae){var ue=I.SheetNames[ae],ie=I.Sheets[ue];if(!(!ie||!ie["!ref"])){++X;var ge=Mm(ie["!ref"]);z<ge.e.r&&(z=ge.e.r),K<ge.e.c&&(K=ge.e.c)}}return z>8191&&(z=8191),M.write_shift(2,z),M.write_shift(1,X),M.write_shift(1,K),M.write_shift(2,0),M.write_shift(2,0),M.write_shift(1,1),M.write_shift(1,2),M.write_shift(4,0),M.write_shift(4,0),M}function o(I,M,z){var K={s:{c:0,r:0},e:{c:0,r:0}};return M==8&&z.qpro?(K.s.c=I.read_shift(1),I.l++,K.s.r=I.read_shift(2),K.e.c=I.read_shift(1),I.l++,K.e.r=I.read_shift(2),K):(K.s.c=I.read_shift(2),K.s.r=I.read_shift(2),M==12&&z.qpro&&(I.l+=2),K.e.c=I.read_shift(2),K.e.r=I.read_shift(2),M==12&&z.qpro&&(I.l+=2),K.s.c==65535&&(K.s.c=K.e.c=K.s.r=K.e.r=0),K)}function l(I){var M=Ya(8);return M.write_shift(2,I.s.c),M.write_shift(2,I.s.r),M.write_shift(2,I.e.c),M.write_shift(2,I.e.r),M}function c(I,M,z){var K=[{c:0,r:0},{t:"n",v:0},0,0];return z.qpro&&z.vers!=20768?(K[0].c=I.read_shift(1),K[3]=I.read_shift(1),K[0].r=I.read_shift(2),I.l+=2):(K[2]=I.read_shift(1),K[0].c=I.read_shift(2),K[0].r=I.read_shift(2)),K}function u(I,M,z){var K=I.l+M,X=c(I,M,z);if(X[1].t="s",z.vers==20768){I.l++;var ae=I.read_shift(1);return X[1].v=I.read_shift(ae,"utf8"),X}return z.qpro&&I.l++,X[1].v=I.read_shift(K-I.l,"cstr"),X}function d(I,M,z){var K=Ya(7+z.length);K.write_shift(1,255),K.write_shift(2,M),K.write_shift(2,I),K.write_shift(1,39);for(var X=0;X<K.length;++X){var ae=z.charCodeAt(X);K.write_shift(1,ae>=128?95:ae)}return K.write_shift(1,0),K}function h(I,M,z){var K=c(I,M,z);return K[1].v=I.read_shift(2,"i"),K}function p(I,M,z){var K=Ya(7);return K.write_shift(1,255),K.write_shift(2,M),K.write_shift(2,I),K.write_shift(2,z,"i"),K}function g(I,M,z){var K=c(I,M,z);return K[1].v=I.read_shift(8,"f"),K}function m(I,M,z){var K=Ya(13);return K.write_shift(1,255),K.write_shift(2,M),K.write_shift(2,I),K.write_shift(8,z,"f"),K}function v(I,M,z){var K=I.l+M,X=c(I,M,z);if(X[1].v=I.read_shift(8,"f"),z.qpro)I.l=K;else{var ae=I.read_shift(2);O(I.slice(I.l,I.l+ae),X),I.l+=ae}return X}function y(I,M,z){var K=M&32768;return M&=-32769,M=(K?I:0)+(M>=8192?M-16384:M),(K?"":"$")+(z?Ja(M):Pi(M))}var b={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},x=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function O(I,M){Ti(I,0);for(var z=[],K=0,X="",ae="",ue="",ie="";I.l<I.length;){var ge=I[I.l++];switch(ge){case 0:z.push(I.read_shift(8,"f"));break;case 1:ae=y(M[0].c,I.read_shift(2),!0),X=y(M[0].r,I.read_shift(2),!1),z.push(ae+X);break;case 2:{var ye=y(M[0].c,I.read_shift(2),!0),H=y(M[0].r,I.read_shift(2),!1);ae=y(M[0].c,I.read_shift(2),!0),X=y(M[0].r,I.read_shift(2),!1),z.push(ye+H+":"+ae+X)}break;case 3:if(I.l<I.length){console.error("WK1 premature formula end");return}break;case 4:z.push("("+z.pop()+")");break;case 5:z.push(I.read_shift(2));break;case 6:{for(var ke="";ge=I[I.l++];)ke+=String.fromCharCode(ge);z.push('"'+ke.replace(/"/g,'""')+'"')}break;case 8:z.push("-"+z.pop());break;case 23:z.push("+"+z.pop());break;case 22:z.push("NOT("+z.pop()+")");break;case 20:case 21:ie=z.pop(),ue=z.pop(),z.push(["AND","OR"][ge-20]+"("+ue+","+ie+")");break;default:if(ge<32&&x[ge])ie=z.pop(),ue=z.pop(),z.push(ue+x[ge]+ie);else if(b[ge]){if(K=b[ge][1],K==69&&(K=I[I.l++]),K>z.length){console.error("WK1 bad formula parse 0x"+ge.toString(16)+":|"+z.join("|")+"|");return}var Ce=z.slice(-K);z.length-=K,z.push(b[ge][0]+"("+Ce.join(",")+")")}else return ge<=7?console.error("WK1 invalid opcode "+ge.toString(16)):ge<=24?console.error("WK1 unsupported op "+ge.toString(16)):ge<=30?console.error("WK1 invalid opcode "+ge.toString(16)):ge<=115?console.error("WK1 unsupported function opcode "+ge.toString(16)):console.error("WK1 unrecognized opcode "+ge.toString(16))}}z.length==1?M[1].f=""+z[0]:console.error("WK1 bad formula parse |"+z.join("|")+"|")}function P(I){var M=[{c:0,r:0},{t:"n",v:0},0];return M[0].r=I.read_shift(2),M[3]=I[I.l++],M[0].c=I[I.l++],M}function j(I,M){var z=P(I);return z[1].t="s",z[1].v=I.read_shift(M-4,"cstr"),z}function T(I,M,z,K){var X=Ya(6+K.length);X.write_shift(2,I),X.write_shift(1,z),X.write_shift(1,M),X.write_shift(1,39);for(var ae=0;ae<K.length;++ae){var ue=K.charCodeAt(ae);X.write_shift(1,ue>=128?95:ue)}return X.write_shift(1,0),X}function S(I,M){var z=P(I);z[1].v=I.read_shift(2);var K=z[1].v>>1;if(z[1].v&1)switch(K&7){case 0:K=(K>>3)*5e3;break;case 1:K=(K>>3)*500;break;case 2:K=(K>>3)/20;break;case 3:K=(K>>3)/200;break;case 4:K=(K>>3)/2e3;break;case 5:K=(K>>3)/2e4;break;case 6:K=(K>>3)/16;break;case 7:K=(K>>3)/64;break}return z[1].v=K,z}function _(I,M){var z=P(I),K=I.read_shift(4),X=I.read_shift(4),ae=I.read_shift(2);if(ae==65535)return K===0&&X===3221225472?(z[1].t="e",z[1].v=15):K===0&&X===3489660928?(z[1].t="e",z[1].v=42):z[1].v=0,z;var ue=ae&32768;return ae=(ae&32767)-16446,z[1].v=(1-ue*2)*(X*Math.pow(2,ae+32)+K*Math.pow(2,ae)),z}function D(I,M,z,K){var X=Ya(14);if(X.write_shift(2,I),X.write_shift(1,z),X.write_shift(1,M),K==0)return X.write_shift(4,0),X.write_shift(4,0),X.write_shift(2,65535),X;var ae=0,ue=0,ie=0,ge=0;return K<0&&(ae=1,K=-K),ue=Math.log2(K)|0,K/=Math.pow(2,ue-31),ge=K>>>0,ge&2147483648||(K/=2,++ue,ge=K>>>0),K-=ge,ge|=2147483648,ge>>>=0,K*=Math.pow(2,32),ie=K>>>0,X.write_shift(4,ie),X.write_shift(4,ge),ue+=16383+(ae?32768:0),X.write_shift(2,ue),X}function E(I,M){var z=_(I);return I.l+=M-14,z}function N(I,M){var z=P(I),K=I.read_shift(4);return z[1].v=K>>6,z}function k(I,M){var z=P(I),K=I.read_shift(8,"f");return z[1].v=K,z}function V(I,M){var z=k(I);return I.l+=M-10,z}function Q(I,M){return I[I.l+M-1]==0?I.read_shift(M,"cstr"):""}function W(I,M){var z=I[I.l++];z>M-1&&(z=M-1);for(var K="";K.length<z;)K+=String.fromCharCode(I[I.l++]);return K}function G(I,M,z){if(!(!z.qpro||M<21)){var K=I.read_shift(1);I.l+=17,I.l+=1,I.l+=2;var X=I.read_shift(M-21,"cstr");return[K,X]}}function q(I,M){for(var z={},K=I.l+M;I.l<K;){var X=I.read_shift(2);if(X==14e3){for(z[X]=[0,""],z[X][0]=I.read_shift(2);I[I.l];)z[X][1]+=String.fromCharCode(I[I.l]),I.l++;I.l++}}return z}function U(I,M){var z=Ya(5+I.length);z.write_shift(2,14e3),z.write_shift(2,M);for(var K=0;K<I.length;++K){var X=I.charCodeAt(K);z[z.l++]=X>127?95:X}return z[z.l++]=0,z}var ee={0:{n:"BOF",f:La},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:g},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Q},222:{n:"SHEETNAMELP",f:W},65535:{n:""}},Z={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:j},23:{n:"NUMBER17",f:_},24:{n:"NUMBER18",f:S},25:{n:"FORMULA19",f:E},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:q},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:N},38:{n:"??"},39:{n:"NUMBER27",f:k},40:{n:"FORMULA28",f:V},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Q},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:G},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function E1e(e){var t={},r=e.match(ls),n=0,a=!1;if(r)for(;n!=r.length;++n){var i=Cr(r[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=FP[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return t}var N1e=function(){var e=R1("t"),t=R1("rPr");function r(i){var s=i.match(e);if(!s)return{t:"s",v:""};var o={t:"s",v:pn(s[1])},l=i.match(t);return l&&(o.s=E1e(l[1])),o}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(s){return s.replace(n,"").split(a).map(r).filter(function(o){return o.v})}}(),k1e=function(){var t=/(\r\n|\n)/g;function r(a,i,s){var o=[];a.u&&o.push("text-decoration: underline;"),a.uval&&o.push("text-underline-style:"+a.uval+";"),a.sz&&o.push("font-size:"+a.sz+"pt;"),a.outline&&o.push("text-effect: outline;"),a.shadow&&o.push("text-shadow: auto;"),i.push('<span style="'+o.join("")+'">'),a.b&&(i.push("<b>"),s.push("</b>")),a.i&&(i.push("<i>"),s.push("</i>")),a.strike&&(i.push("<s>"),s.push("</s>"));var l=a.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(i.push("<"+l+">"),s.push("</"+l+">")),s.push("</span>"),a}function n(a){var i=[[],a.v,[]];return a.v?(a.s&&r(a.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}}(),C1e=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,P1e=/<(?:\w+:)?r>/,j1e=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function t6(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=pn(Gn(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Gn(e),r&&(n.h=WP(n.t))):e.match(P1e)&&(n.r=Gn(e),n.t=pn(Gn((e.replace(j1e,"").match(C1e)||[]).join("").replace(ls,""))),r&&(n.h=k1e(N1e(n.r)))),n):{t:""}}var O1e=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,I1e=/<(?:\w+:)?(?:si|sstItem)>/g,D1e=/<\/(?:\w+:)?(?:si|sstItem)>/;function L1e(e,t){var r=[],n="";if(!e)return r;var a=e.match(O1e);if(a){n=a[2].replace(I1e,"").split(D1e);for(var i=0;i!=n.length;++i){var s=t6(n[i].trim(),t);s!=null&&(r[r.length]=s)}a=Cr(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}function M1e(e){return[e.read_shift(4),e.read_shift(4)]}function R1e(e,t){var r=[],n=!1;return ju(e,function(i,s,o){switch(o){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(s.T,!n||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function fG(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function nu(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function F1e(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=nu(e,4),t.U=nu(e,4),t.W=nu(e,4),t}function $1e(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),i=[];a-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function B1e(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push($1e(e));return t}function U1e(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function V1e(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=nu(e,4),t.U=nu(e,4),t.W=nu(e,4),t}function z1e(e){var t=V1e(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function dG(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function hG(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function q1e(e){var t=nu(e);switch(t.Minor){case 2:return[t.Minor,W1e(e)];case 3:return[t.Minor,H1e()];case 4:return[t.Minor,G1e(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function W1e(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=dG(e,r),a=hG(e,e.length-e.l);return{t:"Std",h:n,v:a}}function H1e(){throw new Error("File is password-protected: ECMA-376 Extensible")}function G1e(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(ls,function(i){var s=Cr(i);switch(Sc(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){n[o]=s[o]});break;case"<dataIntegrity":n.encryptedHmacKey=s.encryptedHmacKey,n.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(s);break;default:throw s[0]}}),n}function K1e(e,t){var r={},n=r.EncryptionVersionInfo=nu(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=dG(e,a),t-=a,r.EncryptionVerifier=hG(e,t),r}function Y1e(e){var t={},r=t.EncryptionVersionInfo=nu(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function X1e(e){var t=0,r,n=fG(e),a=n.length+1,i,s,o,l,c;for(r=ld(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)s=r[i],o=t&16384?1:0,l=t<<1&32767,c=o|l,t=c^s;return t^52811}var pG=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(s){return(s/2|s*128)&255},a=function(s,o){return n(s^o)},i=function(s){for(var o=t[s.length-1],l=104,c=s.length-1;c>=0;--c)for(var u=s[c],d=0;d!=7;++d)u&64&&(o^=r[l]),u*=2,--l;return o};return function(s){for(var o=fG(s),l=i(o),c=o.length,u=ld(16),d=0;d!=16;++d)u[d]=0;var h,p,g;for((c&1)===1&&(h=l>>8,u[c]=a(e[0],h),--c,h=l&255,p=o[o.length-1],u[c]=a(p,h));c>0;)--c,h=l>>8,u[c]=a(o[c],h),--c,h=l&255,u[c]=a(o[c],h);for(c=15,g=15-o.length;g>0;)h=l>>8,u[c]=a(e[g],h),--c,--g,h=l&255,u[c]=a(o[c],h),--c,--g;return u}}(),Q1e=function(e,t,r,n,a){a||(a=t),n||(n=pG(e));var i,s;for(i=0;i!=t.length;++i)s=t[i],s^=n[r],s=(s>>5|s<<3)&255,a[i]=s,++r;return[a,r,n]},J1e=function(e){var t=0,r=pG(e);return function(n){var a=Q1e("",n,t,r);return t=a[1],a[0]}};function Z1e(e,t,r,n){var a={key:La(e),verificationBytes:La(e)};return r.password&&(a.verifier=X1e(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=J1e(r.password)),a}function eye(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=Y1e(e):n.Data=K1e(e,t),n}function tye(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?eye(e,t-2,n):Z1e(e,r.biff>=8?t:t-2,r,n),n}var rye=function(){function e(a,i){switch(i.type){case"base64":return t(go(a),i);case"binary":return t(a,i);case"buffer":return t(tn&&Buffer.isBuffer(a)?a.toString("binary"):Wh(a),i);case"array":return t(Ph(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var s=i||{},o=s.dense?[]:{},l=a.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(u,d){Array.isArray(o)&&(o[d]=[]);for(var h=/\\\w+\b/g,p=0,g,m=-1;g=h.exec(u);){switch(g[0]){case"\\cell":var v=u.slice(p,h.lastIndex-g[0].length);if(v[0]==" "&&(v=v.slice(1)),++m,v.length){var y={v,t:"s"};Array.isArray(o)?o[d][m]=y:o[Fr({r:d,c:m})]=y}break}p=h.lastIndex}m>c.e.c&&(c.e.c=m)}),o["!ref"]=cn(c),o}function r(a,i){return yd(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],s=ba(a["!ref"]),o,l=Array.isArray(a),c=s.s.r;c<=s.e.r;++c){i.push("\\trowd\\trautofit1");for(var u=s.s.c;u<=s.e.c;++u)i.push("\\cellx"+(u+1));for(i.push("\\pard\\intbl"),u=s.s.c;u<=s.e.c;++u){var d=Fr({r:c,c:u});o=l?(a[c]||[])[u]:a[d],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(wu(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function nye(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function B1(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function aye(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),i=Math.min(t,r,n),s=a-i;if(s===0)return[0,0,t];var o=0,l=0,c=a+i;switch(l=s/(c>1?2-c:c),a){case t:o=((r-n)/s+6)%6;break;case r:o=(n-t)/s+2;break;case n:o=(t-r)/s+4;break}return[o/6,l,c/2]}function iye(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),i=n-a/2,s=[i,i,i],o=6*t,l;if(r!==0)switch(o|0){case 0:case 6:l=a*o,s[0]+=a,s[1]+=l;break;case 1:l=a*(2-o),s[0]+=l,s[1]+=a;break;case 2:l=a*(o-2),s[1]+=a,s[2]+=l;break;case 3:l=a*(4-o),s[1]+=l,s[2]+=a;break;case 4:l=a*(o-4),s[2]+=a,s[0]+=l;break;case 5:l=a*(6-o),s[2]+=l,s[0]+=a;break}for(var c=0;c!=3;++c)s[c]=Math.round(s[c]*255);return s}function Pw(e,t){if(t===0)return e;var r=aye(nye(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),B1(iye(r))}var mG=6,sye=15,oye=1,ys=mG;function jw(e){return Math.floor((e+Math.round(128/ys)/256)*ys)}function Ow(e){return Math.floor((e-5)/ys*100+.5)/100}function lE(e){return Math.round((e*ys+5)/ys*256)/256}function l4(e){return lE(Ow(jw(e)))}function r6(e){var t=Math.abs(e-l4(e)),r=ys;if(t>.005)for(ys=oye;ys<sye;++ys)Math.abs(e-l4(e))<=t&&(t=Math.abs(e-l4(e)),r=ys);ys=r}function Kp(e){e.width?(e.wpx=jw(e.width),e.wch=Ow(e.wpx),e.MDW=ys):e.wpx?(e.wch=Ow(e.wpx),e.width=lE(e.wch),e.MDW=ys):typeof e.wch=="number"&&(e.width=lE(e.wch),e.wpx=jw(e.width),e.MDW=ys),e.customWidth&&delete e.customWidth}var lye=96,gG=lye;function vG(e){return e*96/gG}function U1(e){return e*gG/96}var cye={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function uye(e,t,r,n){t.Borders=[];var a={},i=!1;(e[0].match(ls)||[]).forEach(function(s){var o=Cr(s);switch(Sc(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},o.diagonalUp&&(a.diagonalUp=ta(o.diagonalUp)),o.diagonalDown&&(a.diagonalDown=ta(o.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in borders")}})}function fye(e,t,r,n){t.Fills=[];var a={},i=!1;(e[0].match(ls)||[]).forEach(function(s){var o=Cr(s);switch(Sc(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":o.patternType&&(a.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),o.indexed&&(a.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(a.bgColor.theme=parseInt(o.theme,10)),o.tint&&(a.bgColor.tint=parseFloat(o.tint)),o.rgb&&(a.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),o.theme&&(a.fgColor.theme=parseInt(o.theme,10)),o.tint&&(a.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(a.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fills")}})}function dye(e,t,r,n){t.Fonts=[];var a={},i=!1;(e[0].match(ls)||[]).forEach(function(s){var o=Cr(s);switch(Sc(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":o.val&&(a.name=Gn(o.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=o.val?ta(o.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=o.val?ta(o.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(o.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=o.val?ta(o.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=o.val?ta(o.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=o.val?ta(o.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=o.val?ta(o.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=o.val?ta(o.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":o.val&&(a.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(a.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(a.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(a.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=FP[parseInt(o.val,10)];break;case"<color":if(a.color||(a.color={}),o.auto&&(a.color.auto=ta(o.auto)),o.rgb)a.color.rgb=o.rgb.slice(-6);else if(o.indexed){a.color.index=parseInt(o.indexed,10);var l=ph[a.color.index];a.color.index==81&&(l=ph[1]),l||(l=ph[1]),a.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(a.color.theme=parseInt(o.theme,10),o.tint&&(a.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=Pw(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fonts")}})}function hye(e,t,r){t.NumberFmt=[];for(var n=bc(Br),a=0;a<n.length;++a)t.NumberFmt[n[a]]=Br[n[a]];var i=e[0].match(ls);if(i)for(a=0;a<i.length;++a){var s=Cr(i[a]);switch(Sc(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=pn(Gn(s.formatCode)),l=parseInt(s.numFmtId,10);if(t.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&t.NumberFmt[l]!=null;--l);t.NumberFmt[l]=o}hh(o,l)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}var v2=["numFmtId","fillId","fontId","borderId","xfId"],y2=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function pye(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(ls)||[]).forEach(function(i){var s=Cr(i),o=0;switch(Sc(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=s,delete n[0],o=0;o<v2.length;++o)n[v2[o]]&&(n[v2[o]]=parseInt(n[v2[o]],10));for(o=0;o<y2.length;++o)n[y2[o]]&&(n[y2[o]]=ta(n[y2[o]]));if(t.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[o]){n.numFmtId=o;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};s.vertical&&(l.vertical=s.vertical),s.horizontal&&(l.horizontal=s.horizontal),s.textRotation!=null&&(l.textRotation=s.textRotation),s.indent&&(l.indent=s.indent),s.wrapText&&(l.wrapText=ta(s.wrapText)),n.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}var mye=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,c){var u={};if(!o)return u;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var d;return(d=o.match(t))&&hye(d,u,c),(d=o.match(a))&&dye(d,u,l,c),(d=o.match(n))&&fye(d,u,l,c),(d=o.match(i))&&uye(d,u,l,c),(d=o.match(r))&&pye(d,u,c),u}}();function gye(e,t){var r=e.read_shift(2),n=as(e);return[r,n]}function vye(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=Nge(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=e.read_shift(1);s!=0&&(n.underline=s);var o=e.read_shift(1);o>0&&(n.family=o);var l=e.read_shift(1);switch(l>0&&(n.charset=l),e.l++,n.color=Ege(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=as(e),n}var yye=os;function xye(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}var bye=os;function wye(e,t,r){var n={};n.NumberFmt=[];for(var a in Br)n.NumberFmt[a]=Br[a];n.CellXf=[],n.Fonts=[];var i=[],s=!1;return ju(e,function(l,c,u){switch(u){case 44:n.NumberFmt[l[0]]=l[1],hh(l[1],l[0]);break;case 43:n.Fonts.push(l),l.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(l.color.rgb=Pw(t.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:i.push(u),s=!0;break;case 38:i.pop(),s=!1;break;default:if(c.T>0)i.push(u);else if(c.T<0)i.pop();else if(!s||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),n}var _ye=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function Sye(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(ls)||[]).forEach(function(a){var i=Cr(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[_ye.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function Aye(){}function Tye(){}var Eye=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,Nye=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,kye=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function Cye(e,t,r){t.themeElements={};var n;[["clrScheme",Eye,Sye],["fontScheme",Nye,Aye],["fmtScheme",kye,Tye]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var Pye=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function yG(e,t){(!e||e.length===0)&&(e=jye());var r,n={};if(!(r=e.match(Pye)))throw new Error("themeElements not found in theme");return Cye(r[0],n,t),n.raw=e,n}function jye(e,t){var r=[CH];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function Oye(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var i=e.slice(e.l);e.l=n;var s;try{s=kH(i,{type:"array"})}catch{return}var o=oo(s,"theme/theme/theme1.xml",!0);if(o)return yG(o,r)}}function Iye(e){return e.read_shift(4)}function Dye(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=Lye(e,4);break;case 2:t.xclrValue=aG(e);break;case 3:t.xclrValue=Iye(e);break;case 4:e.l+=4;break}return e.l+=8,t}function Lye(e,t){return os(e,t)}function Mye(e,t){return os(e,t)}function Rye(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=Dye(e);break;case 6:n[1]=Mye(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function Fye(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),i=[];a-- >0;)i.push(Rye(e,r-e.l));return{ixfe:n,ext:i}}function $ye(e,t){t.forEach(function(r){switch(r[0]){}})}function Bye(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:as(e)}}function Uye(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function Vye(e){return e.l+=4,e.read_shift(4)!=0}function zye(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},i=[],s=!1,o=2;return ju(e,function(l,c,u){switch(u){case 335:n.Types.push({name:l.name});break;case 51:l.forEach(function(d){o==1?n.Cell.push({type:n.Types[d[0]-1].name,index:d[1]}):o==0&&n.Value.push({type:n.Types[d[0]-1].name,index:d[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:i.push(u),s=!0;break;case 36:i.pop(),s=!1;break;default:if(!c.T){if(!s||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),n}function qye(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,i=2,s;return e.replace(ls,function(o){var l=Cr(o);switch(Sc(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<n.Types.length;++c)n.Types[c].name==l.name&&(s=n.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[l.t-1].name,index:+l.v}):i==0&&n.Value.push({type:n.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+l.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),n}function Wye(e){var t=[];if(!e)return t;var r=1;return(e.match(ls)||[]).forEach(function(n){var a=Cr(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function Hye(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Fr(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function Gye(e,t,r){var n=[];return ju(e,function(i,s,o){switch(o){case 63:n.push(i);break;default:if(!s.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function Kye(e,t,r,n){if(!e)return e;var a=n||{},i=!1;ju(e,function(o,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!l.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},a)}function Yye(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}function vM(e,t,r,n){var a=Array.isArray(e),i;t.forEach(function(s){var o=_s(s.ref);if(a?(e[o.r]||(e[o.r]=[]),i=e[o.r][o.c]):i=e[s.ref],!i){i={t:"z"},a?e[o.r][o.c]=i:e[s.ref]=i;var l=ba(e["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var c=cn(l);c!==e["!ref"]&&(e["!ref"]=c)}i.c||(i.c=[]);var u={a:s.author,t:s.t,r:s.r,T:r};s.h&&(u.h=s.h);for(var d=i.c.length-1;d>=0;--d){if(!r&&i.c[d].T)return;r&&!i.c[d].T&&i.c.splice(d,1)}if(r&&n){for(d=0;d<n.length;++d)if(u.a==n[d].id){u.a=n[d].name||u.a;break}}i.c.push(u)})}function Xye(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=Cr(o[0]),c={author:l.authorId&&r[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},u=_s(l.ref);if(!(t.sheetRows&&t.sheetRows<=u.r)){var d=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!d&&!!d[1]&&t6(d[1])||{r:"",t:"",h:""};c.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),c.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(c.h=h.h),n.push(c)}}}}),n}function Qye(e,t){var r=[],n=!1,a={},i=0;return e.replace(ls,function(o,l){var c=Cr(o);switch(Sc(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":i=l+o.length;break;case"</text>":a.t=e.slice(i,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return o}),r}function Jye(e,t){var r=[],n=!1;return e.replace(ls,function(i){var s=Cr(i);switch(Sc(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return i}),r}function Zye(e){var t={};t.iauthor=e.read_shift(4);var r=Gh(e);return t.rfx=r.s,t.ref=Fr(r.s),e.l+=16,t}var exe=as;function txe(e,t){var r=[],n=[],a={},i=!1;return ju(e,function(o,l,c){switch(c){case 632:n.push(o);break;case 635:a=o;break;case 637:a.t=o.t,a.h=o.h,a.r=o.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),r}var rxe="application/vnd.ms-office.vbaProject";function nxe(e){var t=ln.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");ln.utils.cfb_add(t,a,e.FileIndex[n].content)}}),ln.write(t)}function axe(){return{"!type":"dialog"}}function ixe(){return{"!type":"dialog"}}function sxe(){return{"!type":"macro"}}function oxe(){return{"!type":"macro"}}var mp=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,s){var o=!1,l=!1;i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var c=i.length>0?parseInt(i,10)|0:0,u=s.length>0?parseInt(s,10)|0:0;return o?u+=t.c:--u,l?c+=t.r:--c,a+(o?"":"$")+Ja(u)+(l?"":"$")+Pi(c)}return function(a,i){return t=i,a.replace(e,r)}}(),xG=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,lxe=function(){return function(t,r){return t.replace(xG,function(n,a,i,s,o,l){var c=YP(s)-(i?0:r.c),u=KP(l)-(o?0:r.r),d=u==0?"":o?u+1:"["+u+"]",h=c==0?"":i?c+1:"["+c+"]";return a+"R"+d+"C"+h})}}();function bG(e,t){return e.replace(xG,function(r,n,a,i,s,o){return n+(a=="$"?a+i:Ja(YP(i)+t.c))+(s=="$"?s+o:Pi(KP(o)+t.r))})}function cxe(e,t,r){var n=Mm(t),a=n.s,i=_s(r),s={r:i.r-a.r,c:i.c-a.c};return bG(e,s)}function uxe(e){return e.length!=1}function yM(e){return e.replace(/_xlfn\./g,"")}function Oa(e){e.l+=1}function cd(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function wG(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return _G(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),s=cd(e),o=cd(e);return{s:{r:a,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function _G(e){var t=cd(e),r=cd(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function fxe(e,t,r){if(r.biff<8)return _G(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=cd(e),s=cd(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}function SG(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return dxe(e);var n=e.read_shift(r&&r.biff==12?4:2),a=cd(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function dxe(e){var t=cd(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function hxe(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function pxe(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return mxe(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),s=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;a>524287;)a-=1048576;if(s==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:s,rRel:o}}function mxe(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function gxe(e,t,r){var n=(e[e.l++]&96)>>5,a=wG(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function vxe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var s=wG(e,i,r);return[n,a,s]}function yxe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function xxe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function bxe(e,t,r){var n=(e[e.l++]&96)>>5,a=fxe(e,t-1,r);return[n,a]}function wxe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function xM(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function _xe(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function Sxe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Axe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Txe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function Exe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function AG(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function Nxe(e){return e.read_shift(2),AG(e)}function kxe(e){return e.read_shift(2),AG(e)}function Cxe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=SG(e,0,r);return[n,a]}function Pxe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=pxe(e,0,r);return[n,a]}function jxe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=SG(e,0,r);return[n,a,i]}function Oxe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[I2e[a],NG[a],n]}function Ixe(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:Dxe(e);return[a,(i[0]===0?NG:O2e)[i[1]]]}function Dxe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function Lxe(e,t,r){e.l+=r&&r.biff==2?3:4}function Mxe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Rxe(e){return e.l++,Kh[e.read_shift(1)]}function Fxe(e){return e.l++,e.read_shift(2)}function $xe(e){return e.l++,e.read_shift(1)!==0}function Bxe(e){return e.l++,Zi(e)}function Uxe(e,t,r){return e.l++,Ky(e,t-1,r)}function Vxe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Sa(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Kh[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Zi(e);break;case 2:r[1]=Yh(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function zxe(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?Gh:F_)(e));return a}function qxe(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,s=[];i!=n&&(s[i]=[]);++i)for(var o=0;o!=a;++o)s[i][o]=Vxe(e,r.biff);return s}function Wxe(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function Hxe(e,t,r){if(r.biff==5)return Gxe(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function Gxe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function Kxe(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Yxe(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Xxe(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function Qxe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var Jxe=os,Zxe=os,e2e=os;function Xy(e,t,r){return e.l+=2,[hxe(e)]}function n6(e){return e.l+=6,[]}var t2e=Xy,r2e=n6,n2e=n6,a2e=Xy;function TG(e){return e.l+=2,[La(e),e.read_shift(2)&1]}var i2e=Xy,s2e=TG,o2e=n6,l2e=Xy,c2e=Xy,u2e=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function f2e(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),s=u2e[r>>2&31];return{ixti:t,coltype:r&3,rt:s,idx:n,c:a,C:i}}function d2e(e){return e.l+=2,[e.read_shift(4)]}function h2e(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function p2e(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function m2e(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function g2e(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function v2e(e){return e.l+=4,[0,0]}var bM={1:{n:"PtgExp",f:Mxe},2:{n:"PtgTbl",f:e2e},3:{n:"PtgAdd",f:Oa},4:{n:"PtgSub",f:Oa},5:{n:"PtgMul",f:Oa},6:{n:"PtgDiv",f:Oa},7:{n:"PtgPower",f:Oa},8:{n:"PtgConcat",f:Oa},9:{n:"PtgLt",f:Oa},10:{n:"PtgLe",f:Oa},11:{n:"PtgEq",f:Oa},12:{n:"PtgGe",f:Oa},13:{n:"PtgGt",f:Oa},14:{n:"PtgNe",f:Oa},15:{n:"PtgIsect",f:Oa},16:{n:"PtgUnion",f:Oa},17:{n:"PtgRange",f:Oa},18:{n:"PtgUplus",f:Oa},19:{n:"PtgUminus",f:Oa},20:{n:"PtgPercent",f:Oa},21:{n:"PtgParen",f:Oa},22:{n:"PtgMissArg",f:Oa},23:{n:"PtgStr",f:Uxe},26:{n:"PtgSheet",f:h2e},27:{n:"PtgEndSheet",f:p2e},28:{n:"PtgErr",f:Rxe},29:{n:"PtgBool",f:$xe},30:{n:"PtgInt",f:Fxe},31:{n:"PtgNum",f:Bxe},32:{n:"PtgArray",f:wxe},33:{n:"PtgFunc",f:Oxe},34:{n:"PtgFuncVar",f:Ixe},35:{n:"PtgName",f:Wxe},36:{n:"PtgRef",f:Cxe},37:{n:"PtgArea",f:gxe},38:{n:"PtgMemArea",f:Kxe},39:{n:"PtgMemErr",f:Jxe},40:{n:"PtgMemNoMem",f:Zxe},41:{n:"PtgMemFunc",f:Yxe},42:{n:"PtgRefErr",f:Xxe},43:{n:"PtgAreaErr",f:yxe},44:{n:"PtgRefN",f:Pxe},45:{n:"PtgAreaN",f:bxe},46:{n:"PtgMemAreaN",f:m2e},47:{n:"PtgMemNoMemN",f:g2e},57:{n:"PtgNameX",f:Hxe},58:{n:"PtgRef3d",f:jxe},59:{n:"PtgArea3d",f:vxe},60:{n:"PtgRefErr3d",f:Qxe},61:{n:"PtgAreaErr3d",f:xxe},255:{}},y2e={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},x2e={1:{n:"PtgElfLel",f:TG},2:{n:"PtgElfRw",f:l2e},3:{n:"PtgElfCol",f:t2e},6:{n:"PtgElfRwV",f:c2e},7:{n:"PtgElfColV",f:a2e},10:{n:"PtgElfRadical",f:i2e},11:{n:"PtgElfRadicalS",f:o2e},13:{n:"PtgElfColS",f:r2e},15:{n:"PtgElfColSV",f:n2e},16:{n:"PtgElfRadicalLel",f:s2e},25:{n:"PtgList",f:f2e},29:{n:"PtgSxName",f:d2e},255:{}},b2e={0:{n:"PtgAttrNoop",f:v2e},1:{n:"PtgAttrSemi",f:Exe},2:{n:"PtgAttrIf",f:Axe},4:{n:"PtgAttrChoose",f:_xe},8:{n:"PtgAttrGoto",f:Sxe},16:{n:"PtgAttrSum",f:Lxe},32:{n:"PtgAttrBaxcel",f:xM},33:{n:"PtgAttrBaxcel",f:xM},64:{n:"PtgAttrSpace",f:Nxe},65:{n:"PtgAttrSpaceSemi",f:kxe},128:{n:"PtgAttrIfError",f:Txe},255:{}};function Qy(e,t,r,n){if(n.biff<8)return os(e,t);for(var a=e.l+t,i=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=qxe(e,0,n),i.push(r[s][1]);break;case"PtgMemArea":r[s][2]=zxe(e,r[s][1],n),i.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=e.read_shift(4),i.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return t=a-e.l,t!==0&&i.push(os(e,t)),i}function Jy(e,t,r){for(var n=e.l+t,a,i,s=[];n!=e.l;)t=n-e.l,i=e[e.l],a=bM[i]||bM[y2e[i]],(i===24||i===25)&&(a=(i===24?x2e:b2e)[e[e.l+1]]),!a||!a.f?os(e,t):s.push([a.n,a.f(e,t,r)]);return s}function w2e(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var s=n[i];if(s)switch(s[0]){case 2:a.push('"'+s[1].replace(/"/g,'""')+'"');break;default:a.push(s[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var _2e={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function S2e(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function EG(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function wM(e,t,r){var n=EG(e,t,r);return n=="#REF"?n:S2e(n,r)}function Ki(e,t,r,n,a){var i=a&&a.biff||8,s={s:{c:0,r:0},e:{c:0,r:0}},o=[],l,c,u,d=0,h=0,p,g="";if(!e[0]||!e[0][0])return"";for(var m=-1,v="",y=0,b=e[0].length;y<b;++y){var x=e[0][y];switch(x[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),m>=0){switch(e[0][m][1][0]){case 0:v=va(" ",e[0][m][1][1]);break;case 1:v=va("\r",e[0][m][1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}c=c+v,m=-1}o.push(c+_2e[x[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=kv(x[1][1],s,a),o.push(Cv(u,i));break;case"PtgRefN":u=r?kv(x[1][1],r,a):x[1][1],o.push(Cv(u,i));break;case"PtgRef3d":d=x[1][1],u=kv(x[1][2],s,a),g=wM(n,d,a),o.push(g+"!"+Cv(u,i));break;case"PtgFunc":case"PtgFuncVar":var O=x[1][0],P=x[1][1];O||(O=0),O&=127;var j=O==0?[]:o.slice(-O);o.length-=O,P==="User"&&(P=j.shift()),o.push(P+"("+j.join(",")+")");break;case"PtgBool":o.push(x[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(x[1]);break;case"PtgNum":o.push(String(x[1]));break;case"PtgStr":o.push('"'+x[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(x[1]);break;case"PtgAreaN":p=tM(x[1][1],r?{s:r}:s,a),o.push(s4(p,a));break;case"PtgArea":p=tM(x[1][1],s,a),o.push(s4(p,a));break;case"PtgArea3d":d=x[1][1],p=x[1][2],g=wM(n,d,a),o.push(g+"!"+s4(p,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=x[1][2];var T=(n.names||[])[h-1]||(n[0]||[])[h],S=T?T.Name:"SH33TJSNAME"+String(h);S&&S.slice(0,6)=="_xlfn."&&!a.xlfn&&(S=S.slice(6)),o.push(S);break;case"PtgNameX":var _=x[1][1];h=x[1][2];var D;if(a.biff<=5)_<0&&(_=-_),n[_]&&(D=n[_][h]);else{var E="";if(((n[_]||[])[0]||[])[0]==14849||(((n[_]||[])[0]||[])[0]==1025?n[_][h]&&n[_][h].itab>0&&(E=n.SheetNames[n[_][h].itab-1]+"!"):E=n.SheetNames[h-1]+"!"),n[_]&&n[_][h])E+=n[_][h].Name;else if(n[0]&&n[0][h])E+=n[0][h].Name;else{var N=(EG(n,_,a)||"").split(";;");N[h-1]?E=N[h-1]:E+="SH33TJSERRX"}o.push(E);break}D||(D={Name:"SH33TJSERRY"}),o.push(D.Name);break;case"PtgParen":var k="(",V=")";if(m>=0){switch(v="",e[0][m][1][0]){case 2:k=va(" ",e[0][m][1][1])+k;break;case 3:k=va("\r",e[0][m][1][1])+k;break;case 4:V=va(" ",e[0][m][1][1])+V;break;case 5:V=va("\r",e[0][m][1][1])+V;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}m=-1}o.push(k+o.pop()+V);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:x[1][1],r:x[1][0]};var Q={c:r.c,r:r.r};if(n.sharedf[Fr(u)]){var W=n.sharedf[Fr(u)];o.push(Ki(W,s,Q,n,a))}else{var G=!1;for(l=0;l!=n.arrayf.length;++l)if(c=n.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){o.push(Ki(c[1],s,Q,n,a)),G=!0;break}G||o.push(x[1])}break;case"PtgArray":o.push("{"+w2e(x[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+x[1].idx+"[#"+x[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(x));default:throw new Error("Unrecognized Formula Token: "+String(x))}var q=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&m>=0&&q.indexOf(e[0][y][0])==-1){x=e[0][m];var U=!0;switch(x[1][0]){case 4:U=!1;case 0:v=va(" ",x[1][1]);break;case 5:U=!1;case 1:v=va("\r",x[1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+x[1][0])}o.push((U?v:"")+o.pop()+(U?"":v)),m=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function A2e(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],os(e,t-2)];var o=Jy(e,s,r);return t!==s+a&&(i=Qy(e,t-s-a,o,r)),e.l=n,[o,i]}function T2e(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],os(e,t-2)];var o=Jy(e,s,r);return t!==s+a&&(i=Qy(e,t-s-a,o,r)),e.l=n,[o,i]}function E2e(e,t,r,n){var a=e.l+t,i=Jy(e,n,r),s;return a!==e.l&&(s=Qy(e,a-e.l,i,r)),[i,s]}function N2e(e,t,r){var n=e.l+t,a,i=e.read_shift(2),s=Jy(e,i,r);return i==65535?[[],os(e,t-2)]:(t!==i+2&&(a=Qy(e,n-i-2,s,r)),[s,a])}function k2e(e){var t;if(Xc(e,e.l+6)!==65535)return[Zi(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function c4(e,t,r){var n=e.l+t,a=Ac(e);r.biff==2&&++e.l;var i=k2e(e),s=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=T2e(e,n-e.l,r);return{cell:a,val:i[0],formula:o,shared:s>>3&1,tt:i[1]}}function $_(e,t,r){var n=e.read_shift(4),a=Jy(e,n,r),i=e.read_shift(4),s=i>0?Qy(e,i,a,r):null;return[a,s]}var C2e=$_,B_=$_,P2e=$_,j2e=$_,O2e={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},NG={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},I2e={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function _M(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function u4(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var Iv={},gp={};function Dv(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function kG(e,t,r,n,a,i){try{n.cellNF&&(e.z=Br[t])}catch(o){if(n.WTF)throw o}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=pi(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(Br[t]==null&&hh(Dme[t]||"General",t),e.t==="e")e.w=e.w||Kh[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=M1(e.v);else if(e.t==="d"){var s=Ns(e.v);(s|0)===s?e.w=s.toString(10):e.w=M1(s)}else{if(e.v===void 0)return"";e.w=Ch(e.v,gp)}else e.t==="d"?e.w=Jo(t,Ns(e.v),gp):e.w=Jo(t,e.v,gp)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=Pw(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=Pw(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&i.Fills)throw o}}}function D2e(e,t){var r=ba(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=cn(r))}var L2e=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,M2e=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,R2e=/<(?:\w:)?hyperlink [^>]*>/mg,F2e=/"(\w*:\w*)"/,$2e=/<(?:\w:)?col\b[^>]*[\/]?>/g,B2e=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,U2e=/<(?:\w:)?pageMargins[^>]*\/>/g,CG=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,V2e=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,z2e=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function q2e(e,t,r,n,a,i,s){if(!e)return e;n||(n={"!id":{}});var o=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",d=e.match(M2e);d?(c=e.slice(0,d.index),u=e.slice(d.index+d[0].length)):c=u=e;var h=c.match(CG);h?a6(h[0],o,a,r):(h=c.match(V2e))&&W2e(h[0],h[1]||"",o,a,r);var p=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var g=c.slice(p,p+50).match(F2e);g&&D2e(o,g[1])}var m=c.match(z2e);m&&m[1]&&Q2e(m[1],a);var v=[];if(t.cellStyles){var y=c.match($2e);y&&K2e(v,y)}d&&J2e(d[1],o,t,l,i,s);var b=u.match(B2e);b&&(o["!autofilter"]=Y2e(b[0]));var x=[],O=u.match(L2e);if(O)for(p=0;p!=O.length;++p)x[p]=ba(O[p].slice(O[p].indexOf('"')+1));var P=u.match(R2e);P&&H2e(o,P,n);var j=u.match(U2e);if(j&&(o["!margins"]=G2e(Cr(j[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=cn(l)),t.sheetRows>0&&o["!ref"]){var T=ba(o["!ref"]);t.sheetRows<=+T.e.r&&(T.e.r=t.sheetRows-1,T.e.r>l.e.r&&(T.e.r=l.e.r),T.e.r<T.s.r&&(T.s.r=T.e.r),T.e.c>l.e.c&&(T.e.c=l.e.c),T.e.c<T.s.c&&(T.s.c=T.e.c),o["!fullref"]=o["!ref"],o["!ref"]=cn(T))}return v.length>0&&(o["!cols"]=v),x.length>0&&(o["!merges"]=x),o}function a6(e,t,r,n){var a=Cr(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=pn(Gn(a.codeName)))}function W2e(e,t,r,n,a){a6(e.slice(0,e.indexOf(">")),r,n,a)}function H2e(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var i=Cr(Gn(t[a]),!0);if(!i.ref)return;var s=((r||{})["!id"]||[])[i.id];s?(i.Target=s.Target,i.location&&(i.Target+="#"+pn(i.location))):(i.Target="#"+pn(i.location),s={Target:i.Target,TargetMode:"Internal"}),i.Rel=s,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var o=ba(i.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var u=Fr({c,r:l});n?(e[l]||(e[l]=[]),e[l][c]||(e[l][c]={t:"z",v:void 0}),e[l][c].l=i):(e[u]||(e[u]={t:"z",v:void 0}),e[u].l=i)}}}function G2e(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function K2e(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=Cr(t[n],!0);a.hidden&&(a.hidden=ta(a.hidden));var i=parseInt(a.min,10)-1,s=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,r6(a.width)),Kp(a);i<=s;)e[i++]=Ci(a)}}function Y2e(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var X2e=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function Q2e(e,t){t.Views||(t.Views=[{}]),(e.match(X2e)||[]).forEach(function(r,n){var a=Cr(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),ta(a.rightToLeft)&&(t.Views[n].RTL=!0)})}var J2e=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=R1("v"),s=R1("f");return function(l,c,u,d,h,p){for(var g=0,m="",v=[],y=[],b=0,x=0,O=0,P="",j,T,S=0,_=0,D,E,N=0,k=0,V=Array.isArray(p.CellXf),Q,W=[],G=[],q=Array.isArray(c),U=[],ee={},Z=!1,I=!!u.sheetStubs,M=l.split(t),z=0,K=M.length;z!=K;++z){m=M[z].trim();var X=m.length;if(X!==0){var ae=0;e:for(g=0;g<X;++g)switch(m[g]){case">":if(m[g-1]!="/"){++g;break e}if(u&&u.cellStyles){if(T=Cr(m.slice(ae,g),!0),S=T.r!=null?parseInt(T.r,10):S+1,_=-1,u.sheetRows&&u.sheetRows<S)continue;ee={},Z=!1,T.ht&&(Z=!0,ee.hpt=parseFloat(T.ht),ee.hpx=U1(ee.hpt)),T.hidden=="1"&&(Z=!0,ee.hidden=!0),T.outlineLevel!=null&&(Z=!0,ee.level=+T.outlineLevel),Z&&(U[S-1]=ee)}break;case"<":ae=g;break}if(ae>=g)break;if(T=Cr(m.slice(ae,g),!0),S=T.r!=null?parseInt(T.r,10):S+1,_=-1,!(u.sheetRows&&u.sheetRows<S)){d.s.r>S-1&&(d.s.r=S-1),d.e.r<S-1&&(d.e.r=S-1),u&&u.cellStyles&&(ee={},Z=!1,T.ht&&(Z=!0,ee.hpt=parseFloat(T.ht),ee.hpx=U1(ee.hpt)),T.hidden=="1"&&(Z=!0,ee.hidden=!0),T.outlineLevel!=null&&(Z=!0,ee.level=+T.outlineLevel),Z&&(U[S-1]=ee)),v=m.slice(g).split(e);for(var ue=0;ue!=v.length&&v[ue].trim().charAt(0)=="<";++ue);for(v=v.slice(ue),g=0;g!=v.length;++g)if(m=v[g].trim(),m.length!==0){if(y=m.match(r),b=g,x=0,O=0,m="<c "+(m.slice(0,1)=="<"?">":"")+m,y!=null&&y.length===2){for(b=0,P=y[1],x=0;x!=P.length&&!((O=P.charCodeAt(x)-64)<1||O>26);++x)b=26*b+O;--b,_=b}else++_;for(x=0;x!=m.length&&m.charCodeAt(x)!==62;++x);if(++x,T=Cr(m.slice(0,x),!0),T.r||(T.r=Fr({r:S-1,c:_})),P=m.slice(x),j={t:""},(y=P.match(i))!=null&&y[1]!==""&&(j.v=pn(y[1])),u.cellFormula){if((y=P.match(s))!=null&&y[1]!==""){if(j.f=pn(Gn(y[1])).replace(/\r\n/g,`
`),u.xlfn||(j.f=yM(j.f)),y[0].indexOf('t="array"')>-1)j.F=(P.match(a)||[])[1],j.F.indexOf(":")>-1&&W.push([ba(j.F),j.F]);else if(y[0].indexOf('t="shared"')>-1){E=Cr(y[0]);var ie=pn(Gn(y[1]));u.xlfn||(ie=yM(ie)),G[parseInt(E.si,10)]=[E,ie,T.r]}}else(y=P.match(/<f[^>]*\/>/))&&(E=Cr(y[0]),G[E.si]&&(j.f=cxe(G[E.si][1],G[E.si][2],T.r)));var ge=_s(T.r);for(x=0;x<W.length;++x)ge.r>=W[x][0].s.r&&ge.r<=W[x][0].e.r&&ge.c>=W[x][0].s.c&&ge.c<=W[x][0].e.c&&(j.F=W[x][1])}if(T.t==null&&j.v===void 0)if(j.f||j.F)j.v=0,j.t="n";else if(I)j.t="z";else continue;else j.t=T.t||"n";switch(d.s.c>_&&(d.s.c=_),d.e.c<_&&(d.e.c=_),j.t){case"n":if(j.v==""||j.v==null){if(!I)continue;j.t="z"}else j.v=parseFloat(j.v);break;case"s":if(typeof j.v>"u"){if(!I)continue;j.t="z"}else D=Iv[parseInt(j.v,10)],j.v=D.t,j.r=D.r,u.cellHTML&&(j.h=D.h);break;case"str":j.t="s",j.v=j.v!=null?Gn(j.v):"",u.cellHTML&&(j.h=WP(j.v));break;case"inlineStr":y=P.match(n),j.t="s",y!=null&&(D=t6(y[1]))?(j.v=D.t,u.cellHTML&&(j.h=D.h)):j.v="";break;case"b":j.v=ta(j.v);break;case"d":u.cellDates?j.v=pi(j.v,1):(j.v=Ns(pi(j.v,1)),j.t="n");break;case"e":(!u||u.cellText!==!1)&&(j.w=j.v),j.v=XH[j.v];break}if(N=k=0,Q=null,V&&T.s!==void 0&&(Q=p.CellXf[T.s],Q!=null&&(Q.numFmtId!=null&&(N=Q.numFmtId),u.cellStyles&&Q.fillId!=null&&(k=Q.fillId))),kG(j,N,k,u,h,p),u.cellDates&&V&&j.t=="n"&&Lm(Br[N])&&(j.t="d",j.v=R_(j.v)),T.cm&&u.xlmeta){var ye=(u.xlmeta.Cell||[])[+T.cm-1];ye&&ye.type=="XLDAPR"&&(j.D=!0)}if(q){var H=_s(T.r);c[H.r]||(c[H.r]=[]),c[H.r][H.c]=j}else c[T.r]=j}}}}U.length>0&&(c["!rows"]=U)}}();function Z2e(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}var ebe=Gh;function tbe(){}function rbe(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=Age(e),r}function nbe(e){var t=el(e);return[t]}function abe(e){var t=Hh(e);return[t]}function ibe(e){var t=el(e),r=e.read_shift(1);return[t,r,"b"]}function sbe(e){var t=Hh(e),r=e.read_shift(1);return[t,r,"b"]}function obe(e){var t=el(e),r=e.read_shift(1);return[t,r,"e"]}function lbe(e){var t=Hh(e),r=e.read_shift(1);return[t,r,"e"]}function cbe(e){var t=el(e),r=e.read_shift(4);return[t,r,"s"]}function ube(e){var t=Hh(e),r=e.read_shift(4);return[t,r,"s"]}function fbe(e){var t=el(e),r=Zi(e);return[t,r,"n"]}function PG(e){var t=Hh(e),r=Zi(e);return[t,r,"n"]}function dbe(e){var t=el(e),r=JP(e);return[t,r,"n"]}function hbe(e){var t=Hh(e),r=JP(e);return[t,r,"n"]}function pbe(e){var t=el(e),r=XP(e);return[t,r,"is"]}function mbe(e){var t=el(e),r=as(e);return[t,r,"str"]}function gbe(e){var t=Hh(e),r=as(e);return[t,r,"str"]}function vbe(e,t,r){var n=e.l+t,a=el(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"b"];if(r.cellFormula){e.l+=2;var o=B_(e,n-e.l,r);s[3]=Ki(o,null,a,r.supbooks,r)}else e.l=n;return s}function ybe(e,t,r){var n=e.l+t,a=el(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"e"];if(r.cellFormula){e.l+=2;var o=B_(e,n-e.l,r);s[3]=Ki(o,null,a,r.supbooks,r)}else e.l=n;return s}function xbe(e,t,r){var n=e.l+t,a=el(e);a.r=r["!row"];var i=Zi(e),s=[a,i,"n"];if(r.cellFormula){e.l+=2;var o=B_(e,n-e.l,r);s[3]=Ki(o,null,a,r.supbooks,r)}else e.l=n;return s}function bbe(e,t,r){var n=e.l+t,a=el(e);a.r=r["!row"];var i=as(e),s=[a,i,"str"];if(r.cellFormula){e.l+=2;var o=B_(e,n-e.l,r);s[3]=Ki(o,null,a,r.supbooks,r)}else e.l=n;return s}var wbe=Gh;function _be(e,t){var r=e.l+t,n=Gh(e),a=QP(e),i=as(e),s=as(e),o=as(e);e.l=r;var l={rfx:n,relId:a,loc:i,display:o};return s&&(l.Tooltip=s),l}function Sbe(){}function Abe(e,t,r){var n=e.l+t,a=GH(e),i=e.read_shift(1),s=[a];if(s[2]=i,r.cellFormula){var o=C2e(e,n-e.l,r);s[1]=o}else e.l=n;return s}function Tbe(e,t,r){var n=e.l+t,a=Gh(e),i=[a];if(r.cellFormula){var s=j2e(e,n-e.l,r);i[1]=s,e.l=n}else e.l=n;return i}var Ebe=["left","right","top","bottom","header","footer"];function Nbe(e){var t={};return Ebe.forEach(function(r){t[r]=Zi(e)}),t}function kbe(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function Cbe(){}function Pbe(){}function jbe(e,t,r,n,a,i,s){if(!e)return e;var o=t||{};n||(n={"!id":{}});var l=o.dense?[]:{},c,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},d=!1,h=!1,p,g,m,v,y,b,x,O,P,j=[];o.biff=12,o["!row"]=0;var T=0,S=!1,_=[],D={},E=o.supbooks||a.supbooks||[[]];if(E.sharedf=D,E.arrayf=_,E.SheetNames=a.SheetNames||a.Sheets.map(function(q){return q.name}),!o.supbooks&&(o.supbooks=E,a.Names))for(var N=0;N<a.Names.length;++N)E[0][N+1]=a.Names[N];var k=[],V=[],Q=!1;Iw[16]={n:"BrtShortReal",f:PG};var W;if(ju(e,function(U,ee,Z){if(!h)switch(Z){case 148:c=U;break;case 0:p=U,o.sheetRows&&o.sheetRows<=p.r&&(h=!0),O=Pi(v=p.r),o["!row"]=p.r,(U.hidden||U.hpt||U.level!=null)&&(U.hpt&&(U.hpx=U1(U.hpt)),V[U.r]=U);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(g={t:U[2]},U[2]){case"n":g.v=U[1];break;case"s":x=Iv[U[1]],g.v=x.t,g.r=x.r;break;case"b":g.v=!!U[1];break;case"e":g.v=U[1],o.cellText!==!1&&(g.w=Kh[g.v]);break;case"str":g.t="s",g.v=U[1];break;case"is":g.t="s",g.v=U[1].t;break}if((m=s.CellXf[U[0].iStyleRef])&&kG(g,m.numFmtId,null,o,i,s),y=U[0].c==-1?y+1:U[0].c,o.dense?(l[v]||(l[v]=[]),l[v][y]=g):l[Ja(y)+O]=g,o.cellFormula){for(S=!1,T=0;T<_.length;++T){var I=_[T];p.r>=I[0].s.r&&p.r<=I[0].e.r&&y>=I[0].s.c&&y<=I[0].e.c&&(g.F=cn(I[0]),S=!0)}!S&&U.length>3&&(g.f=U[3])}if(u.s.r>p.r&&(u.s.r=p.r),u.s.c>y&&(u.s.c=y),u.e.r<p.r&&(u.e.r=p.r),u.e.c<y&&(u.e.c=y),o.cellDates&&m&&g.t=="n"&&Lm(Br[m.numFmtId])){var M=nh(g.v);M&&(g.t="d",g.v=new Date(M.y,M.m-1,M.d,M.H,M.M,M.S,M.u))}W&&(W.type=="XLDAPR"&&(g.D=!0),W=void 0);break;case 1:case 12:if(!o.sheetStubs||d)break;g={t:"z",v:void 0},y=U[0].c==-1?y+1:U[0].c,o.dense?(l[v]||(l[v]=[]),l[v][y]=g):l[Ja(y)+O]=g,u.s.r>p.r&&(u.s.r=p.r),u.s.c>y&&(u.s.c=y),u.e.r<p.r&&(u.e.r=p.r),u.e.c<y&&(u.e.c=y),W&&(W.type=="XLDAPR"&&(g.D=!0),W=void 0);break;case 176:j.push(U);break;case 49:W=((o.xlmeta||{}).Cell||[])[U-1];break;case 494:var z=n["!id"][U.relId];for(z?(U.Target=z.Target,U.loc&&(U.Target+="#"+U.loc),U.Rel=z):U.relId==""&&(U.Target="#"+U.loc),v=U.rfx.s.r;v<=U.rfx.e.r;++v)for(y=U.rfx.s.c;y<=U.rfx.e.c;++y)o.dense?(l[v]||(l[v]=[]),l[v][y]||(l[v][y]={t:"z",v:void 0}),l[v][y].l=U):(b=Fr({c:y,r:v}),l[b]||(l[b]={t:"z",v:void 0}),l[b].l=U);break;case 426:if(!o.cellFormula)break;_.push(U),P=o.dense?l[v][y]:l[Ja(y)+O],P.f=Ki(U[1],u,{r:p.r,c:y},E,o),P.F=cn(U[0]);break;case 427:if(!o.cellFormula)break;D[Fr(U[0].s)]=U[1],P=o.dense?l[v][y]:l[Ja(y)+O],P.f=Ki(U[1],u,{r:p.r,c:y},E,o);break;case 60:if(!o.cellStyles)break;for(;U.e>=U.s;)k[U.e--]={width:U.w/256,hidden:!!(U.flags&1),level:U.level},Q||(Q=!0,r6(U.w/256)),Kp(k[U.e+1]);break;case 161:l["!autofilter"]={ref:cn(U)};break;case 476:l["!margins"]=U;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),U.name&&(a.Sheets[r].CodeName=U.name),(U.above||U.left)&&(l["!outline"]={above:U.above,left:U.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),U.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:d=!0;break;case 36:d=!1;break;case 37:d=!0;break;case 38:d=!1;break;default:if(!ee.T){if(!d||o.WTF)throw new Error("Unexpected record 0x"+Z.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(u.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=cn(c||u)),o.sheetRows&&l["!ref"]){var G=ba(l["!ref"]);o.sheetRows<=+G.e.r&&(G.e.r=o.sheetRows-1,G.e.r>u.e.r&&(G.e.r=u.e.r),G.e.r<G.s.r&&(G.s.r=G.e.r),G.e.c>u.e.c&&(G.e.c=u.e.c),G.e.c<G.s.c&&(G.s.c=G.e.c),l["!fullref"]=l["!ref"],l["!ref"]=cn(G))}return j.length>0&&(l["!merges"]=j),k.length>0&&(l["!cols"]=k),V.length>0&&(l["!rows"]=V),l}function Obe(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var s=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(t[+s[1]]=r?+s[2]:s[2])});var a=pn((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[t,a,n]}function Ibe(e,t,r,n,a,i){var s=i||{"!type":"chart"};if(!e)return i;var o=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(d){var h=Obe(d);u.s.r=u.s.c=0,u.e.c=o,c=Ja(o),h[0].forEach(function(p,g){s[c+Pi(g)]={t:"n",v:p,z:h[1]},l=g}),u.e.r<l&&(u.e.r=l),++o}),o>0&&(s["!ref"]=cn(u)),s}function Dbe(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s,o=e.match(CG);return o&&a6(o[0],i,a,r),(s=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=s[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function Lbe(e,t){e.l+=10;var r=as(e);return{name:r}}function Mbe(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s=!1;return ju(e,function(l,c,u){switch(u){case 550:i["!rel"]=l;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),l.name&&(a.Sheets[r].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!s||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},t),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var jG=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],Rbe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],Fbe=[],$be=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function SM(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var i=t[a];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=ta(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function AM(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=ta(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function OG(e){AM(e.WBProps,jG),AM(e.CalcPr,$be),SM(e.WBView,Rbe),SM(e.Sheets,Fbe),gp.date1904=ta(e.WBProps.date1904)}var Bbe="][*?/\\".split("");function Ube(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return Bbe.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var Vbe=/<\w+:workbook/;function zbe(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",i={},s=0;if(e.replace(ls,function(l,c){var u=Cr(l);switch(Sc(u[0])){case"<?xml":break;case"<workbook":l.match(Vbe)&&(a="xmlns"+l.match(/<(\w+):/)[1]),r.xmlns=u[a];break;case"</workbook>":break;case"<fileVersion":delete u[0],r.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":jG.forEach(function(d){if(u[d[0]]!=null)switch(d[2]){case"bool":r.WBProps[d[0]]=ta(u[d[0]]);break;case"int":r.WBProps[d[0]]=parseInt(u[d[0]],10);break;default:r.WBProps[d[0]]=u[d[0]]}}),u.codeName&&(r.WBProps.CodeName=Gn(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],r.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=pn(Gn(u.name)),delete u[0],r.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=Gn(u.name),u.comment&&(i.Comment=u.comment),u.localSheetId&&(i.Sheet=+u.localSheetId),ta(u.hidden||"0")&&(i.Hidden=!0),s=c+l.length;break;case"</definedName>":i.Ref=pn(Gn(e.slice(s,c))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete u[0],r.CalcPr=u;break;case"<calcPr/>":delete u[0],r.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return l}),oge.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return OG(r),r}function qbe(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=iE(e),r.name=as(e),r}function Wbe(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?as(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function Hbe(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function Gbe(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=Tge(e),s=P2e(e,0,r),o=QP(e);e.l=n;var l={Name:i,Ptg:s};return a<268435455&&(l.Sheet=a),o&&(l.Comment=o),l}function Kbe(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var i=[],s=[[]];return s.SheetNames=[],s.XTI=[],Iw[16]={n:"BrtFRTArchID$",f:Hbe},ju(e,function(l,c,u){switch(u){case 156:s.SheetNames.push(l.name),r.Sheets.push(l);break;case 153:r.WBProps=l;break;case 39:l.Sheet!=null&&(t.SID=l.Sheet),l.Ref=Ki(l.Ptg,null,null,s,t),delete t.SID,delete l.Ptg,i.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([u,l]):s[0]=[u,l],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(l),s.XTI=s.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(u),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(u),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!c.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},t),OG(r),r.Names=i,r.supbooks=s,r}function Ybe(e,t,r){return t.slice(-4)===".bin"?Kbe(e,r):zbe(e,r)}function Xbe(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?jbe(e,n,r,a,i,s,o):q2e(e,n,r,a,i,s,o)}function Qbe(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?Mbe(e,n,r,a,i):Dbe(e,n,r,a,i)}function Jbe(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?sxe():oxe()}function Zbe(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?axe():ixe()}function ewe(e,t,r,n){return t.slice(-4)===".bin"?wye(e,r,n):mye(e,r,n)}function twe(e,t,r){return yG(e,r)}function rwe(e,t,r){return t.slice(-4)===".bin"?R1e(e,r):L1e(e,r)}function nwe(e,t,r){return t.slice(-4)===".bin"?txe(e,r):Xye(e,r)}function awe(e,t,r){return t.slice(-4)===".bin"?Gye(e):Wye(e)}function iwe(e,t,r,n){return r.slice(-4)===".bin"?Kye(e,t,r,n):void 0}function swe(e,t,r){return t.slice(-4)===".bin"?zye(e,t,r):qye(e,t,r)}var IG=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,DG=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function dl(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(IG),i,s,o,l;if(a)for(l=0;l!=a.length;++l)i=a[l].match(DG),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(s+1),n[o]=i[2].slice(1,i[2].length-1));return n}function owe(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(IG),a,i,s,o;if(n)for(o=0;o!=n.length;++o)a=n[o].match(DG),(i=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?s="xmlns"+a[1].slice(6):s=a[1].slice(i+1),r[s]=a[2].slice(1,a[2].length-1));return r}var Lv;function lwe(e,t){var r=Lv[e]||pn(e);return r==="General"?Ch(t):Jo(r,t)}function cwe(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=ta(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=pi(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[pn(t)]=a}function uwe(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||Kh[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=M1(e.v):e.w=Ch(e.v):e.w=lwe(t||"General",e.v)}catch(i){if(r.WTF)throw i}try{var n=Lv[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&Lm(n)){var a=nh(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(r.WTF)throw i}}}function fwe(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=cye[n.Pattern]||n.Pattern)}e[t.ID]=t}function dwe(e,t,r,n,a,i,s,o,l,c){var u="General",d=n.StyleID,h={};c=c||{};var p=[],g=0;for(d===void 0&&o&&(d=o.StyleID),d===void 0&&s&&(d=s.StyleID);i[d]!==void 0&&(i[d].nf&&(u=i[d].nf),i[d].Interior&&p.push(i[d].Interior),!!i[d].Parent);)d=i[d].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=ta(e);break;case"String":n.t="s",n.r=HL(pn(e)),n.v=e.indexOf("<")>-1?pn(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(pi(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=pn(e):n.v<60&&(n.v=n.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=XH[e],c.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=HL(t||e));break}if(uwe(n,u,c),c.cellFormula!==!1)if(n.Formula){var m=pn(n.Formula);m.charCodeAt(0)==61&&(m=m.slice(1)),n.f=mp(m,a),delete n.Formula,n.ArrayRange=="RC"?n.F=mp("RC:RC",a):n.ArrayRange&&(n.F=mp(n.ArrayRange,a),l.push([ba(n.F),n.F]))}else for(g=0;g<l.length;++g)a.r>=l[g][0].s.r&&a.r<=l[g][0].e.r&&a.c>=l[g][0].s.c&&a.c<=l[g][0].e.c&&(n.F=l[g][1]);c.cellStyles&&(p.forEach(function(v){!h.patternType&&v.patternType&&(h.patternType=v.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function hwe(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function f4(e,t){var r=t||{};_H();var n=Jg(HP(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=Gn(n));var a=n.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var s=Ci(r);return s.type="string",$1.to_workbook(n,s)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(qe){a.indexOf("<"+qe)>=0&&(i=!0)}),i)return _we(n,r);Lv={"General Number":"General","General Date":Br[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Br[15],"Short Date":Br[14],"Long Time":Br[19],"Medium Time":Br[18],"Short Time":Br[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Br[2],Standard:Br[4],Percent:Br[10],Scientific:Br[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],c,u={},d=[],h=r.dense?[]:{},p="",g={},m={},v=dl('<Data ss:Type="String">'),y=0,b=0,x=0,O={s:{r:2e6,c:2e6},e:{r:0,c:0}},P={},j={},T="",S=0,_=[],D={},E={},N=0,k=[],V=[],Q={},W=[],G,q=!1,U=[],ee=[],Z={},I=0,M=0,z={Sheets:[],WBProps:{date1904:!1}},K={};F1.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var X="";o=F1.exec(n);)switch(o[3]=(X=o[3]).toLowerCase()){case"data":if(X=="data"){if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?dwe(n.slice(y,o.index),T,v,l[l.length-1][0]=="comment"?Q:g,{c:b,r:x},P,W[b],m,U,r):(T="",v=dl(o[0]),y=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(V.length>0&&(g.c=V),(!r.sheetRows||r.sheetRows>x)&&g.v!==void 0&&(r.dense?(h[x]||(h[x]=[]),h[x][b]=g):h[Ja(b)+Pi(x)]=g),g.HRef&&(g.l={Target:pn(g.HRef)},g.HRefScreenTip&&(g.l.Tooltip=g.HRefScreenTip),delete g.HRef,delete g.HRefScreenTip),(g.MergeAcross||g.MergeDown)&&(I=b+(parseInt(g.MergeAcross,10)|0),M=x+(parseInt(g.MergeDown,10)|0),_.push({s:{c:b,r:x},e:{c:I,r:M}})),!r.sheetStubs)g.MergeAcross?b=I+1:++b;else if(g.MergeAcross||g.MergeDown){for(var ae=b;ae<=I;++ae)for(var ue=x;ue<=M;++ue)(ae>b||ue>x)&&(r.dense?(h[ue]||(h[ue]=[]),h[ue][ae]={t:"z"}):h[Ja(ae)+Pi(ue)]={t:"z"});b=I+1}else++b;else g=owe(o[0]),g.Index&&(b=+g.Index-1),b<O.s.c&&(O.s.c=b),b>O.e.c&&(O.e.c=b),o[0].slice(-2)==="/>"&&++b,V=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(x<O.s.r&&(O.s.r=x),x>O.e.r&&(O.e.r=x),o[0].slice(-2)==="/>"&&(m=dl(o[0]),m.Index&&(x=+m.Index-1)),b=0,++x):(m=dl(o[0]),m.Index&&(x=+m.Index-1),Z={},(m.AutoFitHeight=="0"||m.Height)&&(Z.hpx=parseInt(m.Height,10),Z.hpt=vG(Z.hpx),ee[x]=Z),m.Hidden=="1"&&(Z.hidden=!0,ee[x]=Z));break;case"worksheet":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));d.push(p),O.s.r<=O.e.r&&O.s.c<=O.e.c&&(h["!ref"]=cn(O),r.sheetRows&&r.sheetRows<=O.e.r&&(h["!fullref"]=h["!ref"],O.e.r=r.sheetRows-1,h["!ref"]=cn(O))),_.length&&(h["!merges"]=_),W.length>0&&(h["!cols"]=W),ee.length>0&&(h["!rows"]=ee),u[p]=h}else O={s:{r:2e6,c:2e6},e:{r:0,c:0}},x=b=0,l.push([o[3],!1]),c=dl(o[0]),p=pn(c.Name),h=r.dense?[]:{},_=[],U=[],ee=[],K={name:p,Hidden:0},z.Sheets.push(K);break;case"table":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),W=[],q=!1}break;case"style":o[1]==="/"?fwe(P,j,r):j=dl(o[0]);break;case"numberformat":j.nf=pn(dl(o[0]).Format||"General"),Lv[j.nf]&&(j.nf=Lv[j.nf]);for(var ie=0;ie!=392&&Br[ie]!=j.nf;++ie);if(ie==392){for(ie=57;ie!=392;++ie)if(Br[ie]==null){hh(j.nf,ie);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(G=dl(o[0]),G.Hidden&&(G.hidden=!0,delete G.Hidden),G.Width&&(G.wpx=parseInt(G.Width,10)),!q&&G.wpx>10){q=!0,ys=mG;for(var ge=0;ge<W.length;++ge)W[ge]&&Kp(W[ge])}q&&Kp(G),W[G.Index-1||W.length]=G;for(var ye=0;ye<+G.Span;++ye)W[W.length]=Ci(G);break;case"namedrange":if(o[1]==="/")break;z.Names||(z.Names=[]);var H=Cr(o[0]),ke={Name:H.Name,Ref:mp(H.RefersTo.slice(1),{r:0,c:0})};z.Sheets.length>0&&(ke.Sheet=z.Sheets.length-1),z.Names.push(ke);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?T+=n.slice(S,o.index):S=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;j.Interior=dl(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?Xge(D,X,n.slice(N,o.index)):N=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));hwe(Q),V.push(Q)}else l.push([o[3],!1]),c=dl(o[0]),Q={a:c.Author};break;case"autofilter":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var Ce=dl(o[0]);h["!autofilter"]={ref:mp(Ce.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return PM(n,r);var _e=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:_e=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:_e=!1}break;case"excelworkbook":switch(o[3]){case"date1904":z.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:_e=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:_e=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(N,o.index)){case"SheetHidden":K.Hidden=1;break;case"SheetVeryHidden":K.Hidden=2;break}else N=o.index+o[0].length;break;case"header":h["!margins"]||Dv(h["!margins"]={},"xlml"),isNaN(+Cr(o[0]).Margin)||(h["!margins"].header=+Cr(o[0]).Margin);break;case"footer":h["!margins"]||Dv(h["!margins"]={},"xlml"),isNaN(+Cr(o[0]).Margin)||(h["!margins"].footer=+Cr(o[0]).Margin);break;case"pagemargins":var le=Cr(o[0]);h["!margins"]||Dv(h["!margins"]={},"xlml"),isNaN(+le.Top)||(h["!margins"].top=+le.Top),isNaN(+le.Left)||(h["!margins"].left=+le.Left),isNaN(+le.Right)||(h["!margins"].right=+le.Right),isNaN(+le.Bottom)||(h["!margins"].bottom=+le.Bottom);break;case"displayrighttoleft":z.Views||(z.Views=[]),z.Views[0]||(z.Views[0]={}),z.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:_e=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:_e=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:_e=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:_e=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:_e=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:_e=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:_e=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:_e=!1}break;case"smarttags":break;default:_e=!1;break}if(_e||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?cwe(E,X,k,n.slice(N,o.index)):(k=o,N=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var Le={};return!r.bookSheets&&!r.bookProps&&(Le.Sheets=u),Le.SheetNames=d,Le.Workbook=z,Le.SSF=Ci(Br),Le.Props=D,Le.Custprops=E,Le}function cE(e,t){switch(o6(t=t||{}),t.type||"base64"){case"base64":return f4(go(e),t);case"binary":case"buffer":case"file":return f4(e,t);case"array":return f4(Wh(e),t)}}function pwe(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=kge(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=Cge(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var mwe=[60,1084,2066,2165,2175];function gwe(e,t,r,n,a){var i=n,s=[],o=r.slice(r.l,r.l+i);if(a&&a.enc&&a.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(o)}s.push(o),r.l+=i;for(var l=Xc(r,r.l),c=uE[l],u=0;c!=null&&mwe.indexOf(l)>-1;)i=Xc(r,r.l+2),u=r.l+4,l==2066?u+=4:(l==2165||l==2175)&&(u+=12),o=r.slice(u,r.l+4+i),s.push(o),r.l+=4+i,c=uE[l=Xc(r,r.l)];var d=wf(s);Ti(d,0);var h=0;d.lens=[];for(var p=0;p<s.length;++p)d.lens.push(h),h+=s[p].length;if(d.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+d.length+" < "+n;return t.f(d,d.length,a)}function Zl(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Br[n])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||Kh[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=M1(e.v):e.w=Ch(e.v):e.w=Jo(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&n&&e.t=="n"&&Lm(Br[n]||String(n))){var a=nh(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function x2(e,t,r){return{v:e,ixfe:t,t:r}}function vwe(e,t){var r={opts:{}},n={},a=t.dense?[]:{},i={},s={},o=null,l=[],c="",u={},d,h="",p,g,m,v,y={},b=[],x,O,P=[],j=[],T={Sheets:[],WBProps:{date1904:!1},Views:[{}]},S={},_=function(pt){return pt<8?ph[pt]:pt<64&&j[pt-8]||ph[pt]},D=function(pt,He,Ft){var Nt=He.XF.data;if(!(!Nt||!Nt.patternType||!Ft||!Ft.cellStyles)){He.s={},He.s.patternType=Nt.patternType;var Pr;(Pr=B1(_(Nt.icvFore)))&&(He.s.fgColor={rgb:Pr}),(Pr=B1(_(Nt.icvBack)))&&(He.s.bgColor={rgb:Pr})}},E=function(pt,He,Ft){if(!(Z>1)&&!(Ft.sheetRows&&pt.r>=Ft.sheetRows)){if(Ft.cellStyles&&He.XF&&He.XF.data&&D(pt,He,Ft),delete He.ixfe,delete He.XF,d=pt,h=Fr(pt),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),pt.r<s.s.r&&(s.s.r=pt.r),pt.c<s.s.c&&(s.s.c=pt.c),pt.r+1>s.e.r&&(s.e.r=pt.r+1),pt.c+1>s.e.c&&(s.e.c=pt.c+1),Ft.cellFormula&&He.f){for(var Nt=0;Nt<b.length;++Nt)if(!(b[Nt][0].s.c>pt.c||b[Nt][0].s.r>pt.r)&&!(b[Nt][0].e.c<pt.c||b[Nt][0].e.r<pt.r)){He.F=cn(b[Nt][0]),(b[Nt][0].s.c!=pt.c||b[Nt][0].s.r!=pt.r)&&delete He.f,He.f&&(He.f=""+Ki(b[Nt][1],s,pt,U,N));break}}Ft.dense?(a[pt.r]||(a[pt.r]=[]),a[pt.r][pt.c]=He):a[h]=He}},N={enc:!1,sbcch:0,snames:[],sharedf:y,arrayf:b,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(N.password=t.password);var k,V=[],Q=[],W=[],G=[],q=!1,U=[];U.SheetNames=N.snames,U.sharedf=N.sharedf,U.arrayf=N.arrayf,U.names=[],U.XTI=[];var ee=0,Z=0,I=0,M=[],z=[],K;N.codepage=1200,Pl(1200);for(var X=!1;e.l<e.length-1;){var ae=e.l,ue=e.read_shift(2);if(ue===0&&ee===10)break;var ie=e.l===e.length?0:e.read_shift(2),ge=uE[ue];if(ge&&ge.f){if(t.bookSheets&&ee===133&&ue!==133)break;if(ee=ue,ge.r===2||ge.r==12){var ye=e.read_shift(2);if(ie-=2,!N.enc&&ye!==ue&&((ye&255)<<8|ye>>8)!==ue)throw new Error("rt mismatch: "+ye+"!="+ue);ge.r==12&&(e.l+=10,ie-=10)}var H={};if(ue===10?H=ge.f(e,ie,N):H=gwe(ue,ge,e,ie,N),Z==0&&[9,521,1033,2057].indexOf(ee)===-1)continue;switch(ue){case 34:r.opts.Date1904=T.WBProps.date1904=H;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(N.enc||(e.l=0),N.enc=H,!t.password)throw new Error("File is password-protected");if(H.valid==null)throw new Error("Encryption scheme unsupported");if(!H.valid)throw new Error("Password is incorrect");break;case 92:N.lastuser=H;break;case 66:var ke=Number(H);switch(ke){case 21010:ke=1200;break;case 32768:ke=1e4;break;case 32769:ke=1252;break}Pl(N.codepage=ke),X=!0;break;case 317:N.rrtabid=H;break;case 25:N.winlocked=H;break;case 439:r.opts.RefreshAll=H;break;case 12:r.opts.CalcCount=H;break;case 16:r.opts.CalcDelta=H;break;case 17:r.opts.CalcIter=H;break;case 13:r.opts.CalcMode=H;break;case 14:r.opts.CalcPrecision=H;break;case 95:r.opts.CalcSaveRecalc=H;break;case 15:N.CalcRefMode=H;break;case 2211:r.opts.FullCalc=H;break;case 129:H.fDialog&&(a["!type"]="dialog"),H.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),H.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:P.push(H);break;case 430:U.push([H]),U[U.length-1].XTI=[];break;case 35:case 547:U[U.length-1].push(H);break;case 24:case 536:K={Name:H.Name,Ref:Ki(H.rgce,s,null,U,N)},H.itab>0&&(K.Sheet=H.itab-1),U.names.push(K),U[0]||(U[0]=[],U[0].XTI=[]),U[U.length-1].push(H),H.Name=="_xlnm._FilterDatabase"&&H.itab>0&&H.rgce&&H.rgce[0]&&H.rgce[0][0]&&H.rgce[0][0][0]=="PtgArea3d"&&(z[H.itab-1]={ref:cn(H.rgce[0][0][1][2])});break;case 22:N.ExternCount=H;break;case 23:U.length==0&&(U[0]=[],U[0].XTI=[]),U[U.length-1].XTI=U[U.length-1].XTI.concat(H),U.XTI=U.XTI.concat(H);break;case 2196:if(N.biff<8)break;K!=null&&(K.Comment=H[1]);break;case 18:a["!protect"]=H;break;case 19:H!==0&&N.WTF&&console.error("Password verifier: "+H);break;case 133:i[H.pos]=H,N.snames.push(H.name);break;case 10:{if(--Z)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,a["!ref"]=cn(s),t.sheetRows&&t.sheetRows<=s.e.r){var Ce=s.e.r;s.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=cn(s),s.e.r=Ce}s.e.r++,s.e.c++}V.length>0&&(a["!merges"]=V),Q.length>0&&(a["!objects"]=Q),W.length>0&&(a["!cols"]=W),G.length>0&&(a["!rows"]=G),T.Sheets.push(S)}c===""?u=a:n[c]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(N.biff===8&&(N.biff={9:2,521:3,1033:4}[ue]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[H.BIFFVer]||8),N.biffguess=H.BIFFVer==0,H.BIFFVer==0&&H.dt==4096&&(N.biff=5,X=!0,Pl(N.codepage=28591)),N.biff==8&&H.BIFFVer==0&&H.dt==16&&(N.biff=2),Z++)break;if(a=t.dense?[]:{},N.biff<8&&!X&&(X=!0,Pl(N.codepage=t.codepage||1252)),N.biff<5||H.BIFFVer==0&&H.dt==4096){c===""&&(c="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var _e={pos:e.l-ie,name:c};i[_e.pos]=_e,N.snames.push(c)}else c=(i[ae]||{name:""}).name;H.dt==32&&(a["!type"]="chart"),H.dt==64&&(a["!type"]="macro"),V=[],Q=[],N.arrayf=b=[],W=[],G=[],q=!1,S={Hidden:(i[ae]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[H.r]||[])[H.c]:a[Fr({c:H.c,r:H.r})])&&++H.c,x={ixfe:H.ixfe,XF:P[H.ixfe]||{},v:H.val,t:"n"},I>0&&(x.z=M[x.ixfe>>8&63]),Zl(x,t,r.opts.Date1904),E({c:H.c,r:H.r},x,t);break;case 5:case 517:x={ixfe:H.ixfe,XF:P[H.ixfe],v:H.val,t:H.t},I>0&&(x.z=M[x.ixfe>>8&63]),Zl(x,t,r.opts.Date1904),E({c:H.c,r:H.r},x,t);break;case 638:x={ixfe:H.ixfe,XF:P[H.ixfe],v:H.rknum,t:"n"},I>0&&(x.z=M[x.ixfe>>8&63]),Zl(x,t,r.opts.Date1904),E({c:H.c,r:H.r},x,t);break;case 189:for(var le=H.c;le<=H.C;++le){var Le=H.rkrec[le-H.c][0];x={ixfe:Le,XF:P[Le],v:H.rkrec[le-H.c][1],t:"n"},I>0&&(x.z=M[x.ixfe>>8&63]),Zl(x,t,r.opts.Date1904),E({c:le,r:H.r},x,t)}break;case 6:case 518:case 1030:{if(H.val=="String"){o=H;break}if(x=x2(H.val,H.cell.ixfe,H.tt),x.XF=P[x.ixfe],t.cellFormula){var qe=H.formula;if(qe&&qe[0]&&qe[0][0]&&qe[0][0][0]=="PtgExp"){var Ke=qe[0][0][1][0],rt=qe[0][0][1][1],Ee=Fr({r:Ke,c:rt});y[Ee]?x.f=""+Ki(H.formula,s,H.cell,U,N):x.F=((t.dense?(a[Ke]||[])[rt]:a[Ee])||{}).F}else x.f=""+Ki(H.formula,s,H.cell,U,N)}I>0&&(x.z=M[x.ixfe>>8&63]),Zl(x,t,r.opts.Date1904),E(H.cell,x,t),o=H}break;case 7:case 519:if(o)o.val=H,x=x2(H,o.cell.ixfe,"s"),x.XF=P[x.ixfe],t.cellFormula&&(x.f=""+Ki(o.formula,s,o.cell,U,N)),I>0&&(x.z=M[x.ixfe>>8&63]),Zl(x,t,r.opts.Date1904),E(o.cell,x,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{b.push(H);var Re=Fr(H[0].s);if(p=t.dense?(a[H[0].s.r]||[])[H[0].s.c]:a[Re],t.cellFormula&&p){if(!o||!Re||!p)break;p.f=""+Ki(H[1],s,H[0],U,N),p.F=cn(H[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!o)break;y[Fr(o.cell)]=H[0],p=t.dense?(a[o.cell.r]||[])[o.cell.c]:a[Fr(o.cell)],(p||{}).f=""+Ki(H[0],s,d,U,N)}}break;case 253:x=x2(l[H.isst].t,H.ixfe,"s"),l[H.isst].h&&(x.h=l[H.isst].h),x.XF=P[x.ixfe],I>0&&(x.z=M[x.ixfe>>8&63]),Zl(x,t,r.opts.Date1904),E({c:H.c,r:H.r},x,t);break;case 513:t.sheetStubs&&(x={ixfe:H.ixfe,XF:P[H.ixfe],t:"z"},I>0&&(x.z=M[x.ixfe>>8&63]),Zl(x,t,r.opts.Date1904),E({c:H.c,r:H.r},x,t));break;case 190:if(t.sheetStubs)for(var Te=H.c;Te<=H.C;++Te){var Me=H.ixfe[Te-H.c];x={ixfe:Me,XF:P[Me],t:"z"},I>0&&(x.z=M[x.ixfe>>8&63]),Zl(x,t,r.opts.Date1904),E({c:Te,r:H.r},x,t)}break;case 214:case 516:case 4:x=x2(H.val,H.ixfe,"s"),x.XF=P[x.ixfe],I>0&&(x.z=M[x.ixfe>>8&63]),Zl(x,t,r.opts.Date1904),E({c:H.c,r:H.r},x,t);break;case 0:case 512:Z===1&&(s=H);break;case 252:l=H;break;case 1054:if(N.biff==4){M[I++]=H[1];for(var We=0;We<I+163&&Br[We]!=H[1];++We);We>=163&&hh(H[1],I+163)}else hh(H[1],H[0]);break;case 30:{M[I++]=H;for(var st=0;st<I+163&&Br[st]!=H;++st);st>=163&&hh(H,I+163)}break;case 229:V=V.concat(H);break;case 93:Q[H.cmo[0]]=N.lastobj=H;break;case 438:N.lastobj.TxO=H;break;case 127:N.lastobj.ImData=H;break;case 440:for(v=H[0].s.r;v<=H[0].e.r;++v)for(m=H[0].s.c;m<=H[0].e.c;++m)p=t.dense?(a[v]||[])[m]:a[Fr({c:m,r:v})],p&&(p.l=H[1]);break;case 2048:for(v=H[0].s.r;v<=H[0].e.r;++v)for(m=H[0].s.c;m<=H[0].e.c;++m)p=t.dense?(a[v]||[])[m]:a[Fr({c:m,r:v})],p&&p.l&&(p.l.Tooltip=H[1]);break;case 28:{if(N.biff<=5&&N.biff>=2)break;p=t.dense?(a[H[0].r]||[])[H[0].c]:a[Fr(H[0])];var ct=Q[H[2]];p||(t.dense?(a[H[0].r]||(a[H[0].r]=[]),p=a[H[0].r][H[0].c]={t:"z"}):p=a[Fr(H[0])]={t:"z"},s.e.r=Math.max(s.e.r,H[0].r),s.s.r=Math.min(s.s.r,H[0].r),s.e.c=Math.max(s.e.c,H[0].c),s.s.c=Math.min(s.s.c,H[0].c)),p.c||(p.c=[]),g={a:H[1],t:ct.TxO.t},p.c.push(g)}break;case 2173:$ye(P[H.ixfe],H.ext);break;case 125:{if(!N.cellStyles)break;for(;H.e>=H.s;)W[H.e--]={width:H.w/256,level:H.level||0,hidden:!!(H.flags&1)},q||(q=!0,r6(H.w/256)),Kp(W[H.e+1])}break;case 520:{var xt={};H.level!=null&&(G[H.r]=xt,xt.level=H.level),H.hidden&&(G[H.r]=xt,xt.hidden=!0),H.hpt&&(G[H.r]=xt,xt.hpt=H.hpt,xt.hpx=U1(H.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||Dv(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ue]]=H;break;case 161:a["!margins"]||Dv(a["!margins"]={}),a["!margins"].header=H.header,a["!margins"].footer=H.footer;break;case 574:H.RTL&&(T.Views[0].RTL=!0);break;case 146:j=H;break;case 2198:k=H;break;case 140:O=H;break;case 442:c?S.CodeName=H||S.name:T.WBProps.CodeName=H||"ThisWorkbook";break}}else ge||console.error("Missing Info for XLS Record 0x"+ue.toString(16)),e.l+=ie}return r.SheetNames=bc(i).sort(function(ht,pt){return Number(ht)-Number(pt)}).map(function(ht){return i[ht].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&u["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=u)):r.Preamble=u,r.Sheets&&z.forEach(function(ht,pt){r.Sheets[r.SheetNames[pt]]["!autofilter"]=ht}),r.Strings=l,r.SSF=Ci(Br),N.enc&&(r.Encryption=N.enc),k&&(r.Themes=k),r.Metadata={},O!==void 0&&(r.Metadata.Country=O),U.names.length>0&&(T.Names=U.names),r.Workbook=T,r}var TM={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function ywe(e,t,r){var n=ln.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=lM(n,Lge,TM.DSI);for(var i in a)t[i]=a[i]}catch(c){if(r.WTF)throw c}var s=ln.find(e,"/!SummaryInformation");if(s&&s.size>0)try{var o=lM(s,Mge,TM.SI);for(var l in o)t[l]==null&&(t[l]=o[l])}catch(c){if(r.WTF)throw c}t.HeadingPairs&&t.TitlesOfParts&&(JH(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function LG(e,t){t||(t={}),o6(t),uH(),t.codepage&&$P(t.codepage);var r,n;if(e.FullPaths){if(ln.find(e,"/encryption"))throw new Error("File is password-protected");r=ln.find(e,"!CompObj"),n=ln.find(e,"/Workbook")||ln.find(e,"/Book")}else{switch(t.type){case"base64":e=El(go(e));break;case"binary":e=El(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Ti(e,0),n={content:e}}var a,i;if(r&&pwe(r),t.bookProps&&!t.bookSheets)a={};else{var s=tn?"buffer":"array";if(n&&n.content)a=vwe(n.content,t);else if((i=ln.find(e,"PerfectOffice_MAIN"))&&i.content)a=Ov.to_workbook(i.content,(t.type=s,t));else if((i=ln.find(e,"NativeContent_MAIN"))&&i.content)a=Ov.to_workbook(i.content,(t.type=s,t));else throw(i=ln.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&ln.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=nxe(e))}var o={};return e.FullPaths&&ywe(e,o,t),a.Props=a.Custprops=o,t.bookFiles&&(a.cfb=e),a}var Iw={0:{f:Z2e},1:{f:nbe},2:{f:dbe},3:{f:obe},4:{f:ibe},5:{f:fbe},6:{f:mbe},7:{f:cbe},8:{f:bbe},9:{f:xbe},10:{f:vbe},11:{f:ybe},12:{f:abe},13:{f:hbe},14:{f:lbe},15:{f:sbe},16:{f:PG},17:{f:gbe},18:{f:ube},19:{f:XP},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Gbe},40:{},42:{},43:{f:vye},44:{f:gye},45:{f:yye},46:{f:bye},47:{f:xye},48:{},49:{f:wge},50:{},51:{f:Uye},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:uG},62:{f:pbe},63:{f:Hye},64:{f:Cbe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:os,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:kbe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:rbe},148:{f:ebe,p:16},151:{f:Sbe},152:{},153:{f:Wbe},154:{},155:{},156:{f:qbe},157:{},158:{},159:{T:1,f:M1e},160:{T:-1},161:{T:1,f:Gh},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:wbe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Bye},336:{T:-1},337:{f:Vye,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:iE},357:{},358:{},359:{},360:{T:1},361:{},362:{f:cG},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Abe},427:{f:Tbe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Nbe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:tbe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:_be},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:iE},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:exe},633:{T:1},634:{T:-1},635:{T:1,f:Zye},636:{T:-1},637:{f:Sge},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Lbe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Pbe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},uE={6:{f:c4},10:{f:cf},12:{f:La},13:{f:La},14:{f:Sa},15:{f:Sa},16:{f:Zi},17:{f:Sa},18:{f:Sa},19:{f:La},20:{f:dM},21:{f:dM},23:{f:cG},24:{f:pM},25:{f:Sa},26:{},27:{},28:{f:Qve},29:{},34:{f:Sa},35:{f:hM},38:{f:Zi},39:{f:Zi},40:{f:Zi},41:{f:Zi},42:{f:Sa},43:{f:Sa},47:{f:tye},49:{f:Ove},51:{f:La},60:{},61:{f:Cve},64:{f:Sa},65:{f:jve},66:{f:La},77:{},80:{},81:{},82:{},85:{f:La},89:{},90:{},91:{},92:{f:wve},93:{f:Zve},94:{},95:{f:Sa},96:{},97:{},99:{f:Sa},125:{f:uG},128:{f:Vve},129:{f:_ve},130:{f:La},131:{f:Sa},132:{f:Sa},133:{f:Sve},134:{},140:{f:i1e},141:{f:La},144:{},146:{f:o1e},151:{},152:{},153:{},154:{},155:{},156:{f:La},157:{},158:{},160:{f:d1e},161:{f:c1e},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:Fve},190:{f:$ve},193:{f:cf},197:{},198:{},199:{},200:{},201:{},202:{f:Sa},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:La},220:{},221:{f:Sa},222:{},224:{f:Uve},225:{f:bve},226:{f:cf},227:{},229:{f:Jve},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:Ave},253:{f:Ive},255:{f:Tve},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:nG},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Sa},353:{f:cf},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:qve},431:{f:Sa},432:{},433:{},434:{},437:{},438:{f:r1e},439:{f:Sa},440:{f:n1e},441:{},442:{f:Yy},443:{},444:{f:La},445:{},446:{},448:{f:cf},449:{f:kve,r:2},450:{f:cf},512:{f:uM},513:{f:f1e},515:{f:zve},516:{f:Dve},517:{f:fM},519:{f:h1e},520:{f:Eve},523:{},545:{f:mM},549:{f:cM},566:{},574:{f:Pve},638:{f:Rve},659:{},1048:{},1054:{f:Lve},1084:{},1212:{f:Kve},2048:{f:a1e},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:g2},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:cf},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:l1e,r:12},2173:{f:Fye,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Sa,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:Gve,r:12},2197:{},2198:{f:Oye,r:12},2199:{},2200:{},2201:{},2202:{f:Yve,r:12},2203:{f:cf},2204:{},2205:{},2206:{},2207:{},2211:{f:Nve},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:La},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:u1e},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:s1e},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:uM},1:{},2:{f:v1e},3:{f:g1e},4:{f:m1e},5:{f:fM},7:{f:y1e},8:{},9:{f:g2},11:{},22:{f:La},30:{f:Mve},31:{},32:{},33:{f:mM},36:{},37:{f:cM},50:{f:x1e},62:{},52:{},67:{},68:{f:La},69:{},86:{},126:{},127:{f:p1e},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:b1e},223:{},234:{},354:{},421:{},518:{f:c4},521:{f:g2},536:{f:pM},547:{f:hM},561:{},579:{},1030:{f:c4},1033:{f:g2},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function hl(e,t,r,n){var a=t;if(!isNaN(a)){var i=(r||[]).length||0,s=e.next(4);s.write_shift(2,a),s.write_shift(2,i),i>0&&qH(r)&&e.push(r)}}function EM(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),s=a.index,o=i&&i.index||e.length,l=zme(e.slice(s,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,u=0,d=0,h=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},g=[];for(s=0;s<l.length;++s){var m=l[s].trim(),v=m.slice(0,3).toLowerCase();if(v=="<tr"){if(++c,r.sheetRows&&r.sheetRows<=c){--c;break}u=0;continue}if(!(v!="<td"&&v!="<th")){var y=m.split(/<\/t[dh]>/i);for(o=0;o<y.length;++o){var b=y[o].trim();if(b.match(/<t[dh]/i)){for(var x=b,O=0;x.charAt(0)=="<"&&(O=x.indexOf(">"))>-1;)x=x.slice(O+1);for(var P=0;P<g.length;++P){var j=g[P];j.s.c==u&&j.s.r<c&&c<=j.e.r&&(u=j.e.c+1,P=-1)}var T=Cr(b.slice(0,b.indexOf(">")));h=T.colspan?+T.colspan:1,((d=+T.rowspan)>1||h>1)&&g.push({s:{r:c,c:u},e:{r:c+(d||1)-1,c:u+h-1}});var S=T.t||T["data-t"]||"";if(!x.length){u+=h;continue}if(x=jH(x),p.s.r>c&&(p.s.r=c),p.e.r<c&&(p.e.r=c),p.s.c>u&&(p.s.c=u),p.e.c<u&&(p.e.c=u),!x.length){u+=h;continue}var _={t:"s",v:x};r.raw||!x.trim().length||S=="s"||(x==="TRUE"?_={t:"b",v:!0}:x==="FALSE"?_={t:"b",v:!1}:isNaN(Ml(x))?isNaN(Gp(x).getDate())||(_={t:"d",v:pi(x)},r.cellDates||(_={t:"n",v:Ns(_.v)}),_.z=r.dateNF||Br[14]):_={t:"n",v:Ml(x)}),r.dense?(n[c]||(n[c]=[]),n[c][u]=_):n[Fr({r:c,c:u})]=_,u+=h}}}}return n["!ref"]=cn(p),g.length&&(n["!merges"]=g),n}function xwe(e,t,r,n){for(var a=e["!merges"]||[],i=[],s=t.s.c;s<=t.e.c;++s){for(var o=0,l=0,c=0;c<a.length;++c)if(!(a[c].s.r>r||a[c].s.c>s)&&!(a[c].e.r<r||a[c].e.c<s)){if(a[c].s.r<r||a[c].s.c<s){o=-1;break}o=a[c].e.r-a[c].s.r+1,l=a[c].e.c-a[c].s.c+1;break}if(!(o<0)){var u=Fr({r,c:s}),d=n.dense?(e[r]||[])[s]:e[u],h=d&&d.v!=null&&(d.h||WP(d.w||(wu(d),d.w)||""))||"",p={};o>1&&(p.rowspan=o),l>1&&(p.colspan=l),n.editable?h='<span contenteditable="true">'+h+"</span>":d&&(p["data-t"]=d&&d.t||"z",d.v!=null&&(p["data-v"]=d.v),d.z!=null&&(p["data-z"]=d.z),d.l&&(d.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+d.l.Target+'">'+h+"</a>")),p.id=(n.id||"sjs")+"-"+u,i.push(ige("td",h,p))}}var g="<tr>";return g+i.join("")+"</tr>"}var bwe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',wwe="</body></html>";function _we(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return yd(EM(r[0],t),t);var n=c6();return r.forEach(function(a,i){u6(n,EM(a,t),"Sheet"+(i+1))}),n}function Swe(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function Awe(e,t){var r=t||{},n=r.header!=null?r.header:bwe,a=r.footer!=null?r.footer:wwe,i=[n],s=Mm(e["!ref"]);r.dense=Array.isArray(e),i.push(Swe(e,s,r));for(var o=s.s.r;o<=s.e.r;++o)i.push(xwe(e,s,o,r));return i.push("</table>"+a),i.join("")}function MG(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var s=typeof n.origin=="string"?_s(n.origin):n.origin;a=s.r,i=s.c}var o=t.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var u=Mm(e["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),a==-1&&(c.e.r=a=u.e.r+1)}var d=[],h=0,p=e["!rows"]||(e["!rows"]=[]),g=0,m=0,v=0,y=0,b=0,x=0;for(e["!cols"]||(e["!cols"]=[]);g<o.length&&m<l;++g){var O=o[g];if(NM(O)){if(n.display)continue;p[m]={hidden:!0}}var P=O.children;for(v=y=0;v<P.length;++v){var j=P[v];if(!(n.display&&NM(j))){var T=j.hasAttribute("data-v")?j.getAttribute("data-v"):j.hasAttribute("v")?j.getAttribute("v"):jH(j.innerHTML),S=j.getAttribute("data-z")||j.getAttribute("z");for(h=0;h<d.length;++h){var _=d[h];_.s.c==y+i&&_.s.r<m+a&&m+a<=_.e.r&&(y=_.e.c+1-i,h=-1)}x=+j.getAttribute("colspan")||1,((b=+j.getAttribute("rowspan")||1)>1||x>1)&&d.push({s:{r:m+a,c:y+i},e:{r:m+a+(b||1)-1,c:y+i+(x||1)-1}});var D={t:"s",v:T},E=j.getAttribute("data-t")||j.getAttribute("t")||"";T!=null&&(T.length==0?D.t=E||"z":n.raw||T.trim().length==0||E=="s"||(T==="TRUE"?D={t:"b",v:!0}:T==="FALSE"?D={t:"b",v:!1}:isNaN(Ml(T))?isNaN(Gp(T).getDate())||(D={t:"d",v:pi(T)},n.cellDates||(D={t:"n",v:Ns(D.v)}),D.z=n.dateNF||Br[14]):D={t:"n",v:Ml(T)})),D.z===void 0&&S!=null&&(D.z=S);var N="",k=j.getElementsByTagName("A");if(k&&k.length)for(var V=0;V<k.length&&!(k[V].hasAttribute("href")&&(N=k[V].getAttribute("href"),N.charAt(0)!="#"));++V);N&&N.charAt(0)!="#"&&(D.l={Target:N}),n.dense?(e[m+a]||(e[m+a]=[]),e[m+a][y+i]=D):e[Fr({c:y+i,r:m+a})]=D,c.e.c<y+i&&(c.e.c=y+i),y+=x}}++m}return d.length&&(e["!merges"]=(e["!merges"]||[]).concat(d)),c.e.r=Math.max(c.e.r,m-1+a),e["!ref"]=cn(c),m>=l&&(e["!fullref"]=cn((c.e.r=o.length-g+m-1+a,c))),e}function RG(e,t){var r=t||{},n=r.dense?[]:{};return MG(n,e,t)}function Twe(e,t){return yd(RG(e,t),t)}function NM(e){var t="",r=Ewe(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function Ewe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function Nwe(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=pn(t.replace(/<[^>]*>/g,""));return[r]}var kM={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function FG(e,t){var r=t||{},n=HP(e),a=[],i,s,o={name:""},l="",c=0,u,d,h={},p=[],g=r.dense?[]:{},m,v,y={value:""},b="",x=0,O=[],P=-1,j=-1,T={s:{r:1e6,c:1e7},e:{r:0,c:0}},S=0,_={},D=[],E={},N=0,k=0,V=[],Q=1,W=1,G=[],q={Names:[]},U={},ee=["",""],Z=[],I={},M="",z=0,K=!1,X=!1,ae=0;for(F1.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");m=F1.exec(n);)switch(m[3]=m[3].replace(/_.*$/,"")){case"table":case"":m[1]==="/"?(T.e.c>=T.s.c&&T.e.r>=T.s.r?g["!ref"]=cn(T):g["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=T.e.r&&(g["!fullref"]=g["!ref"],T.e.r=r.sheetRows-1,g["!ref"]=cn(T)),D.length&&(g["!merges"]=D),V.length&&(g["!rows"]=V),u.name=u.||u.name,typeof JSON<"u"&&JSON.stringify(u),p.push(u.name),h[u.name]=g,X=!1):m[0].charAt(m[0].length-2)!=="/"&&(u=Cr(m[0],!1),P=j=-1,T.s.r=T.s.c=1e7,T.e.r=T.e.c=0,g=r.dense?[]:{},D=[],V=[],X=!0);break;case"table-row-group":m[1]==="/"?--S:++S;break;case"table-row":case"":if(m[1]==="/"){P+=Q,Q=1;break}if(d=Cr(m[0],!1),d.?P=d.-1:P==-1&&(P=0),Q=+d["number-rows-repeated"]||1,Q<10)for(ae=0;ae<Q;++ae)S>0&&(V[P+ae]={level:S});j=-1;break;case"covered-table-cell":m[1]!=="/"&&++j,r.sheetStubs&&(r.dense?(g[P]||(g[P]=[]),g[P][j]={t:"z"}):g[Fr({r:P,c:j})]={t:"z"}),b="",O=[];break;case"table-cell":case"":if(m[0].charAt(m[0].length-2)==="/")++j,y=Cr(m[0],!1),W=parseInt(y["number-columns-repeated"]||"1",10),v={t:"z",v:null},y.formula&&r.cellFormula!=!1&&(v.f=_M(pn(y.formula))),(y.||y["value-type"])=="string"&&(v.t="s",v.v=pn(y["string-value"]||""),r.dense?(g[P]||(g[P]=[]),g[P][j]=v):g[Fr({r:P,c:j})]=v),j+=W-1;else if(m[1]!=="/"){++j,b="",x=0,O=[],W=1;var ue=Q?P+Q-1:P;if(j>T.e.c&&(T.e.c=j),j<T.s.c&&(T.s.c=j),P<T.s.r&&(T.s.r=P),ue>T.e.r&&(T.e.r=ue),y=Cr(m[0],!1),Z=[],I={},v={t:y.||y["value-type"],v:null},r.cellFormula)if(y.formula&&(y.formula=pn(y.formula)),y["number-matrix-columns-spanned"]&&y["number-matrix-rows-spanned"]&&(N=parseInt(y["number-matrix-rows-spanned"],10)||0,k=parseInt(y["number-matrix-columns-spanned"],10)||0,E={s:{r:P,c:j},e:{r:P+N-1,c:j+k-1}},v.F=cn(E),G.push([E,v.F])),y.formula)v.f=_M(y.formula);else for(ae=0;ae<G.length;++ae)P>=G[ae][0].s.r&&P<=G[ae][0].e.r&&j>=G[ae][0].s.c&&j<=G[ae][0].e.c&&(v.F=G[ae][1]);switch((y["number-columns-spanned"]||y["number-rows-spanned"])&&(N=parseInt(y["number-rows-spanned"],10)||0,k=parseInt(y["number-columns-spanned"],10)||0,E={s:{r:P,c:j},e:{r:P+N-1,c:j+k-1}},D.push(E)),y["number-columns-repeated"]&&(W=parseInt(y["number-columns-repeated"],10)),v.t){case"boolean":v.t="b",v.v=ta(y["boolean-value"]);break;case"float":v.t="n",v.v=parseFloat(y.value);break;case"percentage":v.t="n",v.v=parseFloat(y.value);break;case"currency":v.t="n",v.v=parseFloat(y.value);break;case"date":v.t="d",v.v=pi(y["date-value"]),r.cellDates||(v.t="n",v.v=Ns(v.v)),v.z="m/d/yy";break;case"time":v.t="n",v.v=Bme(y["time-value"])/86400,r.cellDates&&(v.t="d",v.v=R_(v.v)),v.z="HH:MM:SS";break;case"number":v.t="n",v.v=parseFloat(y.);break;default:if(v.t==="string"||v.t==="text"||!v.t)v.t="s",y["string-value"]!=null&&(b=pn(y["string-value"]),O=[]);else throw new Error("Unsupported value type "+v.t)}}else{if(K=!1,v.t==="s"&&(v.v=b||"",O.length&&(v.R=O),K=x==0),U.Target&&(v.l=U),Z.length>0&&(v.c=Z,Z=[]),b&&r.cellText!==!1&&(v.w=b),K&&(v.t="z",delete v.v),(!K||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=P))for(var ie=0;ie<Q;++ie){if(W=parseInt(y["number-columns-repeated"]||"1",10),r.dense)for(g[P+ie]||(g[P+ie]=[]),g[P+ie][j]=ie==0?v:Ci(v);--W>0;)g[P+ie][j+W]=Ci(v);else for(g[Fr({r:P+ie,c:j})]=v;--W>0;)g[Fr({r:P+ie,c:j+W})]=Ci(v);T.e.c<=j&&(T.e.c=j)}W=parseInt(y["number-columns-repeated"]||"1",10),j+=W-1,W=0,v={},b="",O=[]}U={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(m[1]==="/"){if((i=a.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!0]);break;case"annotation":if(m[1]==="/"){if((i=a.pop())[0]!==m[3])throw"Bad state: "+i;I.t=b,O.length&&(I.R=O),I.a=M,Z.push(I)}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!1]);M="",z=0,b="",x=0,O=[];break;case"creator":m[1]==="/"?M=n.slice(z,m.index):z=m.index+m[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(m[1]==="/"){if((i=a.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!1]);b="",x=0,O=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(m[1]==="/"){if(_[o.name]=l,(i=a.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&(l="",o=Cr(m[0],!1),a.push([m[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":s=Cr(m[0],!1),l+=kM[m[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":s=Cr(m[0],!1),l+=kM[m[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(m[0].slice(-2)==="/>")break;if(m[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":l+=n.slice(c,m.index);break}else c=m.index+m[0].length;break;case"named-range":s=Cr(m[0],!1),ee=u4(s["cell-range-address"]);var ge={Name:s.name,Ref:ee[0]+"!"+ee[1]};X&&(ge.Sheet=p.length),q.Names.push(ge);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(m[1]==="/"&&(!y||!y["string-value"])){var ye=Nwe(n.slice(x,m.index));b=(b.length>0?b+`
`:"")+ye[0]}else Cr(m[0],!1),x=m.index+m[0].length;break;case"s":break;case"database-range":if(m[1]==="/")break;try{ee=u4(Cr(m[0])["target-range-address"]),h[ee[0]]["!autofilter"]={ref:ee[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(m[1]!=="/"){if(U=Cr(m[0],!1),!U.href)break;U.Target=pn(U.href),delete U.href,U.Target.charAt(0)=="#"&&U.Target.indexOf(".")>-1?(ee=u4(U.Target.slice(1)),U.Target="#"+ee[0]+"!"+ee[1]):U.Target.match(/^\.\.[\\\/]/)&&(U.Target=U.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(m[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(m)}}var H={Sheets:h,SheetNames:p,Workbook:q};return r.bookSheets&&delete H.Sheets,H}function CM(e,t){t=t||{},Mo(e,"META-INF/manifest.xml")&&zge(Da(e,"META-INF/manifest.xml"),t);var r=oo(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=FG(Gn(r),t);return Mo(e,"meta.xml")&&(n.Props=QH(Da(e,"meta.xml"))),n}function PM(e,t){return FG(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function i6(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function fE(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Gn(Wh(e))}function dE(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function jM(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function kwe(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function V1(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function ti(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function ts(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=V1(e,r),i=a&7;a=Math.floor(a/8);var s=0,o;if(a==0)break;switch(i){case 0:{for(var l=r[0];e[r[0]++]>=128;);o=e.slice(l,r[0])}break;case 5:s=4,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=V1(e,r),o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var c={data:o,type:i};t[a]==null?t[a]=[c]:t[a].push(c)}return t}function s6(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function Cwe(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=V1(e,n),i=ts(e.slice(n[0],n[0]+a));n[0]+=a;var s={id:ti(i[1][0].data),messages:[]};i[2].forEach(function(o){var l=ts(o.data),c=ti(l[3][0].data);s.messages.push({meta:l,data:e.slice(n[0],n[0]+c)}),n[0]+=c}),(t=i[3])!=null&&t[0]&&(s.merge=ti(i[3][0].data)>>>0>0),r.push(s)}return r}function Pwe(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=V1(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var s=t[r[0]++]>>2;if(s<60)++s;else{var o=s-59;s=t[r[0]],o>1&&(s|=t[r[0]+1]<<8),o>2&&(s|=t[r[0]+2]<<16),o>3&&(s|=t[r[0]+3]<<24),s>>>=0,s++,r[0]+=o}a.push(t.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var l=0,c=0;if(i==1?(c=(t[r[0]]>>2&7)+4,l=(t[r[0]++]&224)<<3,l|=t[r[0]++]):(c=(t[r[0]++]>>2)+1,i==2?(l=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(l=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[dE(a)],l==0)throw new Error("Invalid offset 0");if(l>a[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(a.push(a[0].slice(-l)),c-=l;c>=a[a.length-1].length;)a.push(a[a.length-1]),c-=a[a.length-1].length;a.push(a[0].slice(-l,-l+c))}}var u=dE(a);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function jwe(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(Pwe(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return dE(t)}function Owe(e,t,r,n){var a=i6(e),i=a.getUint32(4,!0),s=(n>1?12:8)+jM(i&(n>1?3470:398))*4,o=-1,l=-1,c=NaN,u=new Date(2001,0,1);i&512&&(o=a.getUint32(s,!0),s+=4),s+=jM(i&(n>1?12288:4096))*4,i&16&&(l=a.getUint32(s,!0),s+=4),i&32&&(c=a.getFloat64(s,!0),s+=8),i&64&&(u.setTime(u.getTime()+a.getFloat64(s,!0)*1e3),s+=8);var d;switch(e[2]){case 0:break;case 2:d={t:"n",v:c};break;case 3:d={t:"s",v:t[l]};break;case 5:d={t:"d",v:u};break;case 6:d={t:"b",v:c>0};break;case 7:d={t:"n",v:c/86400};break;case 8:d={t:"e",v:0};break;case 9:if(o>-1)d={t:"s",v:r[o]};else if(l>-1)d={t:"s",v:t[l]};else if(!isNaN(c))d={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return d}function Iwe(e,t,r){var n=i6(e),a=n.getUint32(8,!0),i=12,s=-1,o=-1,l=NaN,c=NaN,u=new Date(2001,0,1);a&1&&(l=kwe(e,i),i+=16),a&2&&(c=n.getFloat64(i,!0),i+=8),a&4&&(u.setTime(u.getTime()+n.getFloat64(i,!0)*1e3),i+=8),a&8&&(o=n.getUint32(i,!0),i+=4),a&16&&(s=n.getUint32(i,!0),i+=4);var d;switch(e[1]){case 0:break;case 2:d={t:"n",v:l};break;case 3:d={t:"s",v:t[o]};break;case 5:d={t:"d",v:u};break;case 6:d={t:"b",v:c>0};break;case 7:d={t:"n",v:c/86400};break;case 8:d={t:"e",v:0};break;case 9:if(s>-1)d={t:"s",v:r[s]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:d={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return d}function Dwe(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return Owe(e,t,r,e[0]);case 5:return Iwe(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Yf(e){var t=ts(e);return V1(t[1][0].data)}function OM(e,t){var r=ts(t.data),n=ti(r[1][0].data),a=r[3],i=[];return(a||[]).forEach(function(s){var o=ts(s.data),l=ti(o[1][0].data)>>>0;switch(n){case 1:i[l]=fE(o[3][0].data);break;case 8:{var c=e[Yf(o[9][0].data)][0],u=ts(c.data),d=e[Yf(u[1][0].data)][0],h=ti(d.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var p=ts(d.data);i[l]=p[3].map(function(g){return fE(g.data)}).join("")}break}}),i}function Lwe(e,t){var r,n,a,i,s,o,l,c,u,d,h,p,g,m,v=ts(e),y=ti(v[1][0].data)>>>0,b=ti(v[2][0].data)>>>0,x=((n=(r=v[8])==null?void 0:r[0])==null?void 0:n.data)&&ti(v[8][0].data)>0||!1,O,P;if((i=(a=v[7])==null?void 0:a[0])!=null&&i.data&&t!=0)O=(o=(s=v[7])==null?void 0:s[0])==null?void 0:o.data,P=(c=(l=v[6])==null?void 0:l[0])==null?void 0:c.data;else if((d=(u=v[4])==null?void 0:u[0])!=null&&d.data&&t!=1)O=(p=(h=v[4])==null?void 0:h[0])==null?void 0:p.data,P=(m=(g=v[3])==null?void 0:g[0])==null?void 0:m.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var j=x?4:1,T=i6(O),S=[],_=0;_<O.length/2;++_){var D=T.getUint16(_*2,!0);D<65535&&S.push([_,D])}if(S.length!=b)throw"Expected ".concat(b," cells, found ").concat(S.length);var E=[];for(_=0;_<S.length-1;++_)E[S[_][0]]=P.subarray(S[_][1]*j,S[_+1][1]*j);return S.length>=1&&(E[S[S.length-1][0]]=P.subarray(S[S.length-1][1]*j)),{R:y,cells:E}}function Mwe(e,t){var r,n=ts(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?ti(n[7][0].data)>>>0>0?1:0:-1,i=s6(n[5],function(s){return Lwe(s,a)});return{nrows:ti(n[4][0].data)>>>0,data:i.reduce(function(s,o){return s[o.R]||(s[o.R]=[]),o.cells.forEach(function(l,c){if(s[o.R][c])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(c));s[o.R][c]=l}),s},[])}}function Rwe(e,t,r){var n,a=ts(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(ti(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(ti(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=cn(i);var s=ts(a[4][0].data),o=OM(e,e[Yf(s[4][0].data)][0]),l=(n=s[17])!=null&&n[0]?OM(e,e[Yf(s[17][0].data)][0]):[],c=ts(s[3][0].data),u=0;c[1].forEach(function(d){var h=ts(d.data),p=e[Yf(h[2][0].data)][0],g=ti(p.meta[1][0].data);if(g!=6002)throw new Error("6001 unexpected reference to ".concat(g));var m=Mwe(e,p);m.data.forEach(function(v,y){v.forEach(function(b,x){var O=Fr({r:u+y,c:x}),P=Dwe(b,o,l);P&&(r[O]=P)})}),u+=m.nrows})}function Fwe(e,t){var r=ts(t.data),n={"!ref":"A1"},a=e[Yf(r[2][0].data)],i=ti(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return Rwe(e,a[0],n),n}function $we(e,t){var r,n=ts(t.data),a={name:(r=n[1])!=null&&r[0]?fE(n[1][0].data):"",sheets:[]},i=s6(n[2],Yf);return i.forEach(function(s){e[s].forEach(function(o){var l=ti(o.meta[1][0].data);l==6e3&&a.sheets.push(Fwe(e,o))})}),a}function Bwe(e,t){var r=c6(),n=ts(t.data),a=s6(n[1],Yf);if(a.forEach(function(i){e[i].forEach(function(s){var o=ti(s.meta[1][0].data);if(o==2){var l=$we(e,s);l.sheets.forEach(function(c,u){u6(r,c,u==0?l.name:l.name+"_"+u,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function d4(e){var t,r,n,a,i={},s=[];if(e.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=jwe(l.content)}catch(d){return console.log("?? "+l.content.length+" "+(d.message||d))}var u;try{u=Cwe(c)}catch(d){return console.log("## "+(d.message||d))}u.forEach(function(d){i[d.id]=d.messages,s.push(d.id)})}}),!s.length)throw new Error("File has no messages");var o=((a=(n=(r=(t=i==null?void 0:i[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&ti(i[1][0].meta[1][0].data)==1&&i[1][0];if(o||s.forEach(function(l){i[l].forEach(function(c){var u=ti(c.meta[1][0].data)>>>0;if(u==1)if(!o)o=c;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return Bwe(i,o)}function Uwe(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function o6(e){Uwe([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function Vwe(e){return Z0.WS.indexOf(e)>-1?"sheet":e==Z0.CS?"chart":e==Z0.DS?"dialog":e==Z0.MS?"macro":e&&e.length?e:"sheet"}function zwe(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,Vwe(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function qwe(e,t,r,n,a,i,s,o,l,c,u,d){try{i[n]=Pv(oo(e,r,!0),t);var h=Da(e,t),p;switch(o){case"sheet":p=Xbe(h,t,a,l,i[n],c,u,d);break;case"chart":if(p=Qbe(h,t,a,l,i[n],c,u,d),!p||!p["!drawel"])break;var g=ev(p["!drawel"].Target,t),m=sE(g),v=Yye(oo(e,g,!0),Pv(oo(e,m,!0),g)),y=ev(v,g),b=sE(y);p=Ibe(oo(e,y,!0),y,l,Pv(oo(e,b,!0),y),c,p);break;case"macro":p=Jbe(h,t,a,l,i[n],c,u,d);break;case"dialog":p=Zbe(h,t,a,l,i[n],c,u,d);break;default:throw new Error("Unrecognized sheet type "+o)}s[n]=p;var x=[];i&&i[n]&&bc(i[n]).forEach(function(O){var P="";if(i[n][O].Type==Z0.CMNT){P=ev(i[n][O].Target,t);var j=nwe(Da(e,P,!0),P,l);if(!j||!j.length)return;vM(p,j,!1)}i[n][O].Type==Z0.TCMNT&&(P=ev(i[n][O].Target,t),x=x.concat(Qye(Da(e,P,!0),l)))}),x&&x.length&&vM(p,x,!0,l.people||[])}catch(O){if(l.WTF)throw O}}function Co(e){return e.charAt(0)=="/"?e.slice(1):e}function Wwe(e,t){if(_H(),t=t||{},o6(t),Mo(e,"META-INF/manifest.xml")||Mo(e,"objectdata.xml"))return CM(e,t);if(Mo(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof d4<"u"){if(e.FileIndex)return d4(e);var r=ln.utils.cfb_new();return qL(e).forEach(function(V){Hme(r,V,Wme(e,V))}),d4(r)}throw new Error("Unsupported NUMBERS file")}if(!Mo(e,"[Content_Types].xml"))throw Mo(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Mo(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=qL(e),a=Uge(oo(e,"[Content_Types].xml")),i=!1,s,o;if(a.workbooks.length===0&&(o="xl/workbook.xml",Da(e,o,!0)&&a.workbooks.push(o)),a.workbooks.length===0){if(o="xl/workbook.bin",!Da(e,o,!0))throw new Error("Could not find workbook");a.workbooks.push(o),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var l={},c={};if(!t.bookSheets&&!t.bookProps){if(Iv=[],a.sst)try{Iv=rwe(Da(e,Co(a.sst)),a.sst,t)}catch(V){if(t.WTF)throw V}t.cellStyles&&a.themes.length&&(l=twe(oo(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(c=ewe(Da(e,Co(a.style)),a.style,l,t))}a.links.map(function(V){try{var Q=Pv(oo(e,sE(Co(V))),V);return iwe(Da(e,Co(V)),Q,V,t)}catch{}});var u=Ybe(Da(e,Co(a.workbooks[0])),a.workbooks[0],t),d={},h="";a.coreprops.length&&(h=Da(e,Co(a.coreprops[0]),!0),h&&(d=QH(h)),a.extprops.length!==0&&(h=Da(e,Co(a.extprops[0]),!0),h&&Hge(h,d,t)));var p={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(h=oo(e,Co(a.custprops[0]),!0),h&&(p=Kge(h,t)));var g={};if((t.bookSheets||t.bookProps)&&(u.Sheets?s=u.Sheets.map(function(Q){return Q.name}):d.Worksheets&&d.SheetNames.length>0&&(s=d.SheetNames),t.bookProps&&(g.Props=d,g.Custprops=p),t.bookSheets&&typeof s<"u"&&(g.SheetNames=s),t.bookSheets?g.SheetNames:t.bookProps))return g;s={};var m={};t.bookDeps&&a.calcchain&&(m=awe(Da(e,Co(a.calcchain)),a.calcchain));var v=0,y={},b,x;{var O=u.Sheets;d.Worksheets=O.length,d.SheetNames=[];for(var P=0;P!=O.length;++P)d.SheetNames[P]=O[P].name}var j=i?"bin":"xml",T=a.workbooks[0].lastIndexOf("/"),S=(a.workbooks[0].slice(0,T+1)+"_rels/"+a.workbooks[0].slice(T+1)+".rels").replace(/^\//,"");Mo(e,S)||(S="xl/_rels/workbook."+j+".rels");var _=Pv(oo(e,S,!0),S.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=swe(Da(e,Co(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=Jye(Da(e,Co(a.people[0])),t)),_&&(_=zwe(_,u.Sheets));var D=Da(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(v=0;v!=d.Worksheets;++v){var E="sheet";if(_&&_[v]?(b="xl/"+_[v][1].replace(/[\/]?xl\//,""),Mo(e,b)||(b=_[v][1]),Mo(e,b)||(b=S.replace(/_rels\/.*$/,"")+_[v][1]),E=_[v][2]):(b="xl/worksheets/sheet"+(v+1-D)+"."+j,b=b.replace(/sheet0\./,"sheet.")),x=b.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(v!=t.sheets)continue e;break;case"string":if(d.SheetNames[v].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var N=!1,k=0;k!=t.sheets.length;++k)typeof t.sheets[k]=="number"&&t.sheets[k]==v&&(N=1),typeof t.sheets[k]=="string"&&t.sheets[k].toLowerCase()==d.SheetNames[v].toLowerCase()&&(N=1);if(!N)continue e}}qwe(e,b,x,d.SheetNames[v],v,y,s,E,t,u,l,c)}return g={Directory:a,Workbook:u,Props:d,Custprops:p,Deps:m,Sheets:s,SheetNames:d.SheetNames,Strings:Iv,Styles:c,Themes:l,SSF:Ci(Br)},t&&t.bookFiles&&(e.files?(g.keys=n,g.files=e.files):(g.keys=[],g.files={},e.FullPaths.forEach(function(V,Q){V=V.replace(/^Root Entry[\/]/,""),g.keys.push(V),g.files[V]=e.FileIndex[Q]}))),t&&t.bookVBA&&(a.vba.length>0?g.vbaraw=Da(e,Co(a.vba[0]),!0):a.defaults&&a.defaults.bin===rxe&&(g.vbaraw=Da(e,"xl/vbaProject.bin",!0))),g}function Hwe(e,t){var r=t||{},n="Workbook",a=ln.find(e,n);try{if(n="/!DataSpaces/Version",a=ln.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(F1e(a.content),n="/!DataSpaces/DataSpaceMap",a=ln.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=B1e(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=ln.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=U1e(a.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=ln.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);z1e(a.content)}catch{}if(n="/EncryptionInfo",a=ln.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=q1e(a.content);if(n="/EncryptedPackage",a=ln.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],a.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function l6(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=go(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function Gwe(e,t){return ln.find(e,"EncryptedPackage")?Hwe(e,t):LG(e,t)}function Kwe(e,t){var r,n=e,a=t||{};return a.type||(a.type=tn&&Buffer.isBuffer(e)?"buffer":"base64"),r=kH(n,a),Wwe(r,a)}function $G(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return cE(e.slice(r),t);default:break e}return $1.to_workbook(e,t)}function Ywe(e,t){var r="",n=l6(e,t);switch(t.type){case"base64":r=go(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=Ph(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=Gn(r)),t.type="binary",$G(r,t)}function Xwe(e,t){var r=e;return t.type=="base64"&&(r=go(r)),r=bf.utils.decode(1200,r.slice(2),"str"),t.type="binary",$G(r,t)}function Qwe(e){return e.match(/[^\x00-\x7F]/)?tv(e):e}function h4(e,t,r,n){return n?(r.type="string",$1.to_workbook(e,r)):$1.to_workbook(t,r)}function hE(e,t){uH();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return hE(new Uint8Array(e),(r=Ci(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),gp={},r.dateNF&&(gp.dateNF=r.dateNF),r.type||(r.type=tn&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=tn?"buffer":"binary",n=Fme(e),typeof Uint8Array<"u"&&!tn&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,n=Qwe(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),o=new Uint8Array(s);if(o.foo="bar",!o.foo)return r=Ci(r),r.type="array",hE(BP(n),r)}switch((a=l6(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return Gwe(ln.read(n,r),r);break;case 9:if(a[1]<=8)return LG(n,r);break;case 60:return cE(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return T1e(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return S1e.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?Kwe(n,r):h4(e,n,r,i);case 239:return a[3]===60?cE(n,r):h4(e,n,r,i);case 255:if(a[1]===254)return Xwe(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return Ov.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return Ov.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return gM.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return rye.to_workbook(n,r);break;case 10:case 13:case 32:return Ywe(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return w1e.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?gM.to_workbook(n,r):h4(e,n,r,i)}function Jwe(e,t,r,n,a,i,s,o){var l=Pi(r),c=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),d=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!s||e[r])for(var p=t.s.c;p<=t.e.c;++p){var g=s?e[r][p]:e[n[p]+l];if(g===void 0||g.t===void 0){if(c===void 0)continue;i[p]!=null&&(h[i[p]]=c);continue}var m=g.v;switch(g.t){case"z":if(m==null)break;continue;case"e":m=m==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(i[p]!=null){if(m==null)if(g.t=="e"&&m===null)h[i[p]]=null;else if(c!==void 0)h[i[p]]=c;else if(u&&m===null)h[i[p]]=null;else continue;else h[i[p]]=u&&(g.t!=="n"||g.t==="n"&&o.rawNumbers!==!1)?m:wu(g,m,o);m!=null&&(d=!1)}}return{row:h,isempty:d}}function pE(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],s=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},u=c.range!=null?c.range:e["!ref"];switch(c.header===1?n=1:c.header==="A"?n=2:Array.isArray(c.header)?n=3:c.header==null&&(n=0),typeof u){case"string":l=ba(u);break;case"number":l=ba(e["!ref"]),l.s.r=u;break;default:l=u}n>0&&(a=0);var d=Pi(l.s.r),h=[],p=[],g=0,m=0,v=Array.isArray(e),y=l.s.r,b=0,x={};v&&!e[y]&&(e[y]=[]);var O=c.skipHidden&&e["!cols"]||[],P=c.skipHidden&&e["!rows"]||[];for(b=l.s.c;b<=l.e.c;++b)if(!(O[b]||{}).hidden)switch(h[b]=Ja(b),r=v?e[y][b]:e[h[b]+d],n){case 1:i[b]=b-l.s.c;break;case 2:i[b]=h[b];break;case 3:i[b]=c.header[b-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=s=wu(r,null,c),m=x[s]||0,!m)x[s]=1;else{do o=s+"_"+m++;while(x[o]);x[s]=m,x[o]=1}i[b]=o}for(y=l.s.r+a;y<=l.e.r;++y)if(!(P[y]||{}).hidden){var j=Jwe(e,l,y,h,n,i,v,c);(j.isempty===!1||(n===1?c.blankrows!==!1:c.blankrows))&&(p[g++]=j.row)}return p.length=g,p}var IM=/"/g;function Zwe(e,t,r,n,a,i,s,o){for(var l=!0,c=[],u="",d=Pi(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var p=o.dense?(e[r]||[])[h]:e[n[h]+d];if(p==null)u="";else if(p.v!=null){l=!1,u=""+(o.rawNumbers&&p.t=="n"?p.v:wu(p,null,o));for(var g=0,m=0;g!==u.length;++g)if((m=u.charCodeAt(g))===a||m===i||m===34||o.forceQuotes){u='"'+u.replace(IM,'""')+'"';break}u=="ID"&&(u='"ID"')}else p.f!=null&&!p.F?(l=!1,u="="+p.f,u.indexOf(",")>=0&&(u='"'+u.replace(IM,'""')+'"')):u="";c.push(u)}return o.blankrows===!1&&l?null:c.join(s)}function BG(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=ba(e["!ref"]),i=n.FS!==void 0?n.FS:",",s=i.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),c=new RegExp((i=="|"?"\\|":i)+"+$"),u="",d=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],p=n.skipHidden&&e["!rows"]||[],g=a.s.c;g<=a.e.c;++g)(h[g]||{}).hidden||(d[g]=Ja(g));for(var m=0,v=a.s.r;v<=a.e.r;++v)(p[v]||{}).hidden||(u=Zwe(e,a,v,d,s,l,i,n),u!=null&&(n.strip&&(u=u.replace(c,"")),(u||n.blankrows!==!1)&&r.push((m++?o:"")+u)));return delete n.dense,r.join("")}function e5e(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=BG(e,t);return r}function t5e(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=ba(e["!ref"]),i="",s=[],o,l=[],c=Array.isArray(e);for(o=a.s.c;o<=a.e.c;++o)s[o]=Ja(o);for(var u=a.s.r;u<=a.e.r;++u)for(i=Pi(u),o=a.s.c;o<=a.e.c;++o)if(t=s[o]+i,r=c?(e[u]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=t+"="+n}return l}function UG(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},s=0,o=0;if(i&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?_s(n.origin):n.origin;s=l.r,o=l.c}var c,u={s:{c:0,r:0},e:{c:o,r:s+t.length-1+a}};if(i["!ref"]){var d=ba(i["!ref"]);u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),s==-1&&(s=d.e.r+1,u.e.r=s+t.length-1+a)}else s==-1&&(s=0,u.e.r=t.length-1+a);var h=n.header||[],p=0;t.forEach(function(m,v){bc(m).forEach(function(y){(p=h.indexOf(y))==-1&&(h[p=h.length]=y);var b=m[y],x="z",O="",P=Fr({c:o+p,r:s+v+a});c=z1(i,P),b&&typeof b=="object"&&!(b instanceof Date)?i[P]=b:(typeof b=="number"?x="n":typeof b=="boolean"?x="b":typeof b=="string"?x="s":b instanceof Date?(x="d",n.cellDates||(x="n",b=Ns(b)),O=n.dateNF||Br[14]):b===null&&n.nullError&&(x="e",b=0),c?(c.t=x,c.v=b,delete c.w,delete c.R,O&&(c.z=O)):i[P]=c={t:x,v:b},O&&(c.z=O))})}),u.e.c=Math.max(u.e.c,o+h.length-1);var g=Pi(s);if(a)for(p=0;p<h.length;++p)i[Ja(p+o)+g]={t:"s",v:h[p]};return i["!ref"]=cn(u),i}function r5e(e,t){return UG(null,e,t)}function z1(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=_s(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?z1(e,Fr(t)):z1(e,Fr({r:t,c:r||0}))}function n5e(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function c6(){return{SheetNames:[],Sheets:{}}}function u6(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var s=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=s+a)!=-1;++a);}if(Ube(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function a5e(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=n5e(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function i5e(e,t){return e.z=t,e}function VG(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function s5e(e,t,r){return VG(e,"#"+t,r)}function o5e(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function l5e(e,t,r,n){for(var a=typeof t!="string"?t:ba(t),i=typeof t=="string"?t:cn(t),s=a.s.r;s<=a.e.r;++s)for(var o=a.s.c;o<=a.e.c;++o){var l=z1(e,s,o);l.t="n",l.F=i,delete l.v,s==a.s.r&&o==a.s.c&&(l.f=r,n&&(l.D=!0))}return e}var c5e={encode_col:Ja,encode_row:Pi,encode_cell:Fr,encode_range:cn,decode_col:YP,decode_row:KP,split_cell:bge,decode_cell:_s,decode_range:Mm,format_cell:wu,sheet_add_aoa:HH,sheet_add_json:UG,sheet_add_dom:MG,aoa_to_sheet:Rm,json_to_sheet:r5e,table_to_sheet:RG,table_to_book:Twe,sheet_to_csv:BG,sheet_to_txt:e5e,sheet_to_json:pE,sheet_to_html:Awe,sheet_to_formulae:t5e,sheet_to_row_object_array:pE,sheet_get_cell:z1,book_new:c6,book_append_sheet:u6,book_set_sheet_visibility:a5e,cell_set_number_format:i5e,cell_set_hyperlink:VG,cell_set_internal_link:s5e,cell_add_comment:o5e,sheet_set_array_formula:l5e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},zG={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((r,n)=>{e.exports=n()})(Bg,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},a,i=!n.document&&!!n.postMessage,s=n.IS_PAPA_WORKER||!1,o={},l=0,c={};function u(S){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(_){var D=P(_);D.chunkSize=parseInt(D.chunkSize),_.step||_.chunk||(D.chunkSize=null),this._handle=new m(D),(this._handle.streamer=this)._config=D}).call(this,S),this.parseChunk=function(_,D){var E=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<E){let k=this._config.newline;k||(N=this._config.quoteChar||'"',k=this._handle.guessLineEndings(_,N)),_=[..._.split(k).slice(E)].join(k)}this.isFirstChunk&&T(this._config.beforeFirstChunk)&&(N=this._config.beforeFirstChunk(_))!==void 0&&(_=N),this.isFirstChunk=!1,this._halted=!1;var E=this._partialLine+_,N=(this._partialLine="",this._handle.parse(E,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(_=N.meta.cursor,E=(this._finished||(this._partialLine=E.substring(_-this._baseIndex),this._baseIndex=_),N&&N.data&&(this._rowCount+=N.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),s)n.postMessage({results:N,workerId:c.WORKER_ID,finished:E});else if(T(this._config.chunk)&&!D){if(this._config.chunk(N,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=N=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(N.data),this._completeResults.errors=this._completeResults.errors.concat(N.errors),this._completeResults.meta=N.meta),this._completed||!E||!T(this._config.complete)||N&&N.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),E||N&&N.meta.paused||this._nextChunk(),N}this._halted=!0},this._sendError=function(_){T(this._config.error)?this._config.error(_):s&&this._config.error&&n.postMessage({workerId:c.WORKER_ID,error:_,finished:!1})}}function d(S){var _;(S=S||{}).chunkSize||(S.chunkSize=c.RemoteChunkSize),u.call(this,S),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(D){this._input=D,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(_=new XMLHttpRequest,this._config.withCredentials&&(_.withCredentials=this._config.withCredentials),i||(_.onload=j(this._chunkLoaded,this),_.onerror=j(this._chunkError,this)),_.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var D,E=this._config.downloadRequestHeaders;for(D in E)_.setRequestHeader(D,E[D])}var N;this._config.chunkSize&&(N=this._start+this._config.chunkSize-1,_.setRequestHeader("Range","bytes="+this._start+"-"+N));try{_.send(this._config.downloadRequestBody)}catch(k){this._chunkError(k.message)}i&&_.status===0&&this._chunkError()}},this._chunkLoaded=function(){_.readyState===4&&(_.status<200||400<=_.status?this._chunkError():(this._start+=this._config.chunkSize||_.responseText.length,this._finished=!this._config.chunkSize||this._start>=(D=>(D=D.getResponseHeader("Content-Range"))!==null?parseInt(D.substring(D.lastIndexOf("/")+1)):-1)(_),this.parseChunk(_.responseText)))},this._chunkError=function(D){D=_.statusText||D,this._sendError(new Error(D))}}function h(S){(S=S||{}).chunkSize||(S.chunkSize=c.LocalChunkSize),u.call(this,S);var _,D,E=typeof FileReader<"u";this.stream=function(N){this._input=N,D=N.slice||N.webkitSlice||N.mozSlice,E?((_=new FileReader).onload=j(this._chunkLoaded,this),_.onerror=j(this._chunkError,this)):_=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var N=this._input,k=(this._config.chunkSize&&(k=Math.min(this._start+this._config.chunkSize,this._input.size),N=D.call(N,this._start,k)),_.readAsText(N,this._config.encoding));E||this._chunkLoaded({target:{result:k}})},this._chunkLoaded=function(N){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(N.target.result)},this._chunkError=function(){this._sendError(_.error)}}function p(S){var _;u.call(this,S=S||{}),this.stream=function(D){return _=D,this._nextChunk()},this._nextChunk=function(){var D,E;if(!this._finished)return D=this._config.chunkSize,_=D?(E=_.substring(0,D),_.substring(D)):(E=_,""),this._finished=!_,this.parseChunk(E)}}function g(S){u.call(this,S=S||{});var _=[],D=!0,E=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(N){this._input=N,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){E&&_.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),_.length?this.parseChunk(_.shift()):D=!0},this._streamData=j(function(N){try{_.push(typeof N=="string"?N:N.toString(this._config.encoding)),D&&(D=!1,this._checkIsFinished(),this.parseChunk(_.shift()))}catch(k){this._streamError(k)}},this),this._streamError=j(function(N){this._streamCleanUp(),this._sendError(N)},this),this._streamEnd=j(function(){this._streamCleanUp(),E=!0,this._streamData("")},this),this._streamCleanUp=j(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function m(S){var _,D,E,N,k=Math.pow(2,53),V=-k,Q=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,W=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,G=this,q=0,U=0,ee=!1,Z=!1,I=[],M={data:[],errors:[],meta:{}};function z(ue){return S.skipEmptyLines==="greedy"?ue.join("").trim()==="":ue.length===1&&ue[0].length===0}function K(){if(M&&E&&(ae("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),E=!1),S.skipEmptyLines&&(M.data=M.data.filter(function(ye){return!z(ye)})),X()){let ye=function(H,ke){T(S.transformHeader)&&(H=S.transformHeader(H,ke)),I.push(H)};if(M)if(Array.isArray(M.data[0])){for(var ue=0;X()&&ue<M.data.length;ue++)M.data[ue].forEach(ye);M.data.splice(0,1)}else M.data.forEach(ye)}function ie(ye,H){for(var ke=S.header?{}:[],Ce=0;Ce<ye.length;Ce++){var _e=Ce,le=ye[Ce],le=((Le,qe)=>(Ke=>(S.dynamicTypingFunction&&S.dynamicTyping[Ke]===void 0&&(S.dynamicTyping[Ke]=S.dynamicTypingFunction(Ke)),(S.dynamicTyping[Ke]||S.dynamicTyping)===!0))(Le)?qe==="true"||qe==="TRUE"||qe!=="false"&&qe!=="FALSE"&&((Ke=>{if(Q.test(Ke)&&(Ke=parseFloat(Ke),V<Ke&&Ke<k))return 1})(qe)?parseFloat(qe):W.test(qe)?new Date(qe):qe===""?null:qe):qe)(_e=S.header?Ce>=I.length?"__parsed_extra":I[Ce]:_e,le=S.transform?S.transform(le,_e):le);_e==="__parsed_extra"?(ke[_e]=ke[_e]||[],ke[_e].push(le)):ke[_e]=le}return S.header&&(Ce>I.length?ae("FieldMismatch","TooManyFields","Too many fields: expected "+I.length+" fields but parsed "+Ce,U+H):Ce<I.length&&ae("FieldMismatch","TooFewFields","Too few fields: expected "+I.length+" fields but parsed "+Ce,U+H)),ke}var ge;M&&(S.header||S.dynamicTyping||S.transform)&&(ge=1,!M.data.length||Array.isArray(M.data[0])?(M.data=M.data.map(ie),ge=M.data.length):M.data=ie(M.data,0),S.header&&M.meta&&(M.meta.fields=I),U+=ge)}function X(){return S.header&&I.length===0}function ae(ue,ie,ge,ye){ue={type:ue,code:ie,message:ge},ye!==void 0&&(ue.row=ye),M.errors.push(ue)}T(S.step)&&(N=S.step,S.step=function(ue){M=ue,X()?K():(K(),M.data.length!==0&&(q+=ue.data.length,S.preview&&q>S.preview?D.abort():(M.data=M.data[0],N(M,G))))}),this.parse=function(ue,ie,ge){var ye=S.quoteChar||'"',ye=(S.newline||(S.newline=this.guessLineEndings(ue,ye)),E=!1,S.delimiter?T(S.delimiter)&&(S.delimiter=S.delimiter(ue),M.meta.delimiter=S.delimiter):((ye=((H,ke,Ce,_e,le)=>{var Le,qe,Ke,rt;le=le||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var Ee=0;Ee<le.length;Ee++){for(var Re,Te=le[Ee],Me=0,We=0,st=0,ct=(Ke=void 0,new y({comments:_e,delimiter:Te,newline:ke,preview:10}).parse(H)),xt=0;xt<ct.data.length;xt++)Ce&&z(ct.data[xt])?st++:(Re=ct.data[xt].length,We+=Re,Ke===void 0?Ke=Re:0<Re&&(Me+=Math.abs(Re-Ke),Ke=Re));0<ct.data.length&&(We/=ct.data.length-st),(qe===void 0||Me<=qe)&&(rt===void 0||rt<We)&&1.99<We&&(qe=Me,Le=Te,rt=We)}return{successful:!!(S.delimiter=Le),bestDelimiter:Le}})(ue,S.newline,S.skipEmptyLines,S.comments,S.delimitersToGuess)).successful?S.delimiter=ye.bestDelimiter:(E=!0,S.delimiter=c.DefaultDelimiter),M.meta.delimiter=S.delimiter),P(S));return S.preview&&S.header&&ye.preview++,_=ue,D=new y(ye),M=D.parse(_,ie,ge),K(),ee?{meta:{paused:!0}}:M||{meta:{paused:!1}}},this.paused=function(){return ee},this.pause=function(){ee=!0,D.abort(),_=T(S.chunk)?"":_.substring(D.getCharIndex())},this.resume=function(){G.streamer._halted?(ee=!1,G.streamer.parseChunk(_,!0)):setTimeout(G.resume,3)},this.aborted=function(){return Z},this.abort=function(){Z=!0,D.abort(),M.meta.aborted=!0,T(S.complete)&&S.complete(M),_=""},this.guessLineEndings=function(H,ye){H=H.substring(0,1048576);var ye=new RegExp(v(ye)+"([^]*?)"+v(ye),"gm"),ge=(H=H.replace(ye,"")).split("\r"),ye=H.split(`
`),H=1<ye.length&&ye[0].length<ge[0].length;if(ge.length===1||H)return`
`;for(var ke=0,Ce=0;Ce<ge.length;Ce++)ge[Ce][0]===`
`&&ke++;return ke>=ge.length/2?`\r
`:"\r"}}function v(S){return S.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function y(S){var _=(S=S||{}).delimiter,D=S.newline,E=S.comments,N=S.step,k=S.preview,V=S.fastMode,Q=null,W=!1,G=S.quoteChar==null?'"':S.quoteChar,q=G;if(S.escapeChar!==void 0&&(q=S.escapeChar),(typeof _!="string"||-1<c.BAD_DELIMITERS.indexOf(_))&&(_=","),E===_)throw new Error("Comment character same as delimiter");E===!0?E="#":(typeof E!="string"||-1<c.BAD_DELIMITERS.indexOf(E))&&(E=!1),D!==`
`&&D!=="\r"&&D!==`\r
`&&(D=`
`);var U=0,ee=!1;this.parse=function(Z,I,M){if(typeof Z!="string")throw new Error("Input must be a string");var z=Z.length,K=_.length,X=D.length,ae=E.length,ue=T(N),ie=[],ge=[],ye=[],H=U=0;if(!Z)return Me();if(V||V!==!1&&Z.indexOf(G)===-1){for(var ke=Z.split(D),Ce=0;Ce<ke.length;Ce++){if(ye=ke[Ce],U+=ye.length,Ce!==ke.length-1)U+=D.length;else if(M)return Me();if(!E||ye.substring(0,ae)!==E){if(ue){if(ie=[],rt(ye.split(_)),We(),ee)return Me()}else rt(ye.split(_));if(k&&k<=Ce)return ie=ie.slice(0,k),Me(!0)}}return Me()}for(var _e=Z.indexOf(_,U),le=Z.indexOf(D,U),Le=new RegExp(v(q)+v(G),"g"),qe=Z.indexOf(G,U);;)if(Z[U]===G)for(qe=U,U++;;){if((qe=Z.indexOf(G,qe+1))===-1)return M||ge.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ie.length,index:U}),Re();if(qe===z-1)return Re(Z.substring(U,qe).replace(Le,G));if(G===q&&Z[qe+1]===q)qe++;else if(G===q||qe===0||Z[qe-1]!==q){_e!==-1&&_e<qe+1&&(_e=Z.indexOf(_,qe+1));var Ke=Ee((le=le!==-1&&le<qe+1?Z.indexOf(D,qe+1):le)===-1?_e:Math.min(_e,le));if(Z.substr(qe+1+Ke,K)===_){ye.push(Z.substring(U,qe).replace(Le,G)),Z[U=qe+1+Ke+K]!==G&&(qe=Z.indexOf(G,U)),_e=Z.indexOf(_,U),le=Z.indexOf(D,U);break}if(Ke=Ee(le),Z.substring(qe+1+Ke,qe+1+Ke+X)===D){if(ye.push(Z.substring(U,qe).replace(Le,G)),Te(qe+1+Ke+X),_e=Z.indexOf(_,U),qe=Z.indexOf(G,U),ue&&(We(),ee))return Me();if(k&&ie.length>=k)return Me(!0);break}ge.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ie.length,index:U}),qe++}}else if(E&&ye.length===0&&Z.substring(U,U+ae)===E){if(le===-1)return Me();U=le+X,le=Z.indexOf(D,U),_e=Z.indexOf(_,U)}else if(_e!==-1&&(_e<le||le===-1))ye.push(Z.substring(U,_e)),U=_e+K,_e=Z.indexOf(_,U);else{if(le===-1)break;if(ye.push(Z.substring(U,le)),Te(le+X),ue&&(We(),ee))return Me();if(k&&ie.length>=k)return Me(!0)}return Re();function rt(st){ie.push(st),H=U}function Ee(st){var ct=0;return ct=st!==-1&&(st=Z.substring(qe+1,st))&&st.trim()===""?st.length:ct}function Re(st){return M||(st===void 0&&(st=Z.substring(U)),ye.push(st),U=z,rt(ye),ue&&We()),Me()}function Te(st){U=st,rt(ye),ye=[],le=Z.indexOf(D,U)}function Me(st){if(S.header&&!I&&ie.length&&!W){var ct=ie[0],xt=Object.create(null),ht=new Set(ct);let pt=!1;for(let He=0;He<ct.length;He++){let Ft=ct[He];if(xt[Ft=T(S.transformHeader)?S.transformHeader(Ft,He):Ft]){let Nt,Pr=xt[Ft];for(;Nt=Ft+"_"+Pr,Pr++,ht.has(Nt););ht.add(Nt),ct[He]=Nt,xt[Ft]++,pt=!0,(Q=Q===null?{}:Q)[Nt]=Ft}else xt[Ft]=1,ct[He]=Ft;ht.add(Ft)}pt&&console.warn("Duplicate headers found and renamed."),W=!0}return{data:ie,errors:ge,meta:{delimiter:_,linebreak:D,aborted:ee,truncated:!!st,cursor:H+(I||0),renamedHeaders:Q}}}function We(){N(Me()),ie=[],ge=[]}},this.abort=function(){ee=!0},this.getCharIndex=function(){return U}}function b(S){var _=S.data,D=o[_.workerId],E=!1;if(_.error)D.userError(_.error,_.file);else if(_.results&&_.results.data){var N={abort:function(){E=!0,x(_.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:O,resume:O};if(T(D.userStep)){for(var k=0;k<_.results.data.length&&(D.userStep({data:_.results.data[k],errors:_.results.errors,meta:_.results.meta},N),!E);k++);delete _.results}else T(D.userChunk)&&(D.userChunk(_.results,N,_.file),delete _.results)}_.finished&&!E&&x(_.workerId,_.results)}function x(S,_){var D=o[S];T(D.userComplete)&&D.userComplete(_),D.terminate(),delete o[S]}function O(){throw new Error("Not implemented.")}function P(S){if(typeof S!="object"||S===null)return S;var _,D=Array.isArray(S)?[]:{};for(_ in S)D[_]=P(S[_]);return D}function j(S,_){return function(){S.apply(_,arguments)}}function T(S){return typeof S=="function"}return c.parse=function(S,_){var D=(_=_||{}).dynamicTyping||!1;if(T(D)&&(_.dynamicTypingFunction=D,D={}),_.dynamicTyping=D,_.transform=!!T(_.transform)&&_.transform,!_.worker||!c.WORKERS_SUPPORTED)return D=null,c.NODE_STREAM_INPUT,typeof S=="string"?(S=(E=>E.charCodeAt(0)!==65279?E:E.slice(1))(S),D=new(_.download?d:p)(_)):S.readable===!0&&T(S.read)&&T(S.on)?D=new g(_):(n.File&&S instanceof File||S instanceof Object)&&(D=new h(_)),D.stream(S);(D=(()=>{var E;return!!c.WORKERS_SUPPORTED&&(E=(()=>{var N=n.URL||n.webkitURL||null,k=r.toString();return c.BLOB_URL||(c.BLOB_URL=N.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",k,")();"],{type:"text/javascript"})))})(),(E=new n.Worker(E)).onmessage=b,E.id=l++,o[E.id]=E)})()).userStep=_.step,D.userChunk=_.chunk,D.userComplete=_.complete,D.userError=_.error,_.step=T(_.step),_.chunk=T(_.chunk),_.complete=T(_.complete),_.error=T(_.error),delete _.worker,D.postMessage({input:S,config:_,workerId:D.id})},c.unparse=function(S,_){var D=!1,E=!0,N=",",k=`\r
`,V='"',Q=V+V,W=!1,G=null,q=!1,U=((()=>{if(typeof _=="object"){if(typeof _.delimiter!="string"||c.BAD_DELIMITERS.filter(function(I){return _.delimiter.indexOf(I)!==-1}).length||(N=_.delimiter),typeof _.quotes!="boolean"&&typeof _.quotes!="function"&&!Array.isArray(_.quotes)||(D=_.quotes),typeof _.skipEmptyLines!="boolean"&&typeof _.skipEmptyLines!="string"||(W=_.skipEmptyLines),typeof _.newline=="string"&&(k=_.newline),typeof _.quoteChar=="string"&&(V=_.quoteChar),typeof _.header=="boolean"&&(E=_.header),Array.isArray(_.columns)){if(_.columns.length===0)throw new Error("Option columns is empty");G=_.columns}_.escapeChar!==void 0&&(Q=_.escapeChar+V),_.escapeFormulae instanceof RegExp?q=_.escapeFormulae:typeof _.escapeFormulae=="boolean"&&_.escapeFormulae&&(q=/^[=+\-@\t\r].*$/)}})(),new RegExp(v(V),"g"));if(typeof S=="string"&&(S=JSON.parse(S)),Array.isArray(S)){if(!S.length||Array.isArray(S[0]))return ee(null,S,W);if(typeof S[0]=="object")return ee(G||Object.keys(S[0]),S,W)}else if(typeof S=="object")return typeof S.data=="string"&&(S.data=JSON.parse(S.data)),Array.isArray(S.data)&&(S.fields||(S.fields=S.meta&&S.meta.fields||G),S.fields||(S.fields=Array.isArray(S.data[0])?S.fields:typeof S.data[0]=="object"?Object.keys(S.data[0]):[]),Array.isArray(S.data[0])||typeof S.data[0]=="object"||(S.data=[S.data])),ee(S.fields||[],S.data||[],W);throw new Error("Unable to serialize unrecognized input");function ee(I,M,z){var K="",X=(typeof I=="string"&&(I=JSON.parse(I)),typeof M=="string"&&(M=JSON.parse(M)),Array.isArray(I)&&0<I.length),ae=!Array.isArray(M[0]);if(X&&E){for(var ue=0;ue<I.length;ue++)0<ue&&(K+=N),K+=Z(I[ue],ue);0<M.length&&(K+=k)}for(var ie=0;ie<M.length;ie++){var ge=(X?I:M[ie]).length,ye=!1,H=X?Object.keys(M[ie]).length===0:M[ie].length===0;if(z&&!X&&(ye=z==="greedy"?M[ie].join("").trim()==="":M[ie].length===1&&M[ie][0].length===0),z==="greedy"&&X){for(var ke=[],Ce=0;Ce<ge;Ce++){var _e=ae?I[Ce]:Ce;ke.push(M[ie][_e])}ye=ke.join("").trim()===""}if(!ye){for(var le=0;le<ge;le++){0<le&&!H&&(K+=N);var Le=X&&ae?I[le]:le;K+=Z(M[ie][Le],le)}ie<M.length-1&&(!z||0<ge&&!H)&&(K+=k)}}return K}function Z(I,M){var z,K;return I==null?"":I.constructor===Date?JSON.stringify(I).slice(1,25):(K=!1,q&&typeof I=="string"&&q.test(I)&&(I="'"+I,K=!0),z=I.toString().replace(U,Q),(K=K||D===!0||typeof D=="function"&&D(I,M)||Array.isArray(D)&&D[M]||((X,ae)=>{for(var ue=0;ue<ae.length;ue++)if(-1<X.indexOf(ae[ue]))return!0;return!1})(z,c.BAD_DELIMITERS)||-1<z.indexOf(N)||z.charAt(0)===" "||z.charAt(z.length-1)===" ")?V+z+V:z)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!i&&!!n.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=y,c.ParserHandle=m,c.NetworkStreamer=d,c.FileStreamer=h,c.StringStreamer=p,c.ReadableStreamStreamer=g,n.jQuery&&((a=n.jQuery).fn.parse=function(S){var _=S.config||{},D=[];return this.each(function(k){if(!(a(this).prop("tagName").toUpperCase()==="INPUT"&&a(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var V=0;V<this.files.length;V++)D.push({file:this.files[V],inputElem:this,instanceConfig:a.extend({},_)})}),E(),this;function E(){if(D.length===0)T(S.complete)&&S.complete();else{var k,V,Q,W,G=D[0];if(T(S.before)){var q=S.before(G.file,G.inputElem);if(typeof q=="object"){if(q.action==="abort")return k="AbortError",V=G.file,Q=G.inputElem,W=q.reason,void(T(S.error)&&S.error({name:k},V,Q,W));if(q.action==="skip")return void N();typeof q.config=="object"&&(G.instanceConfig=a.extend(G.instanceConfig,q.config))}else if(q==="skip")return void N()}var U=G.instanceConfig.complete;G.instanceConfig.complete=function(ee){T(U)&&U(ee,G.file,G.inputElem),N()},c.parse(G.file,G.instanceConfig)}}function N(){D.splice(0,1),E()}}),s&&(n.onmessage=function(S){S=S.data,c.WORKER_ID===void 0&&S&&(c.WORKER_ID=S.workerId),typeof S.input=="string"?n.postMessage({workerId:c.WORKER_ID,results:c.parse(S.input,S.config),finished:!0}):(n.File&&S.input instanceof File||S.input instanceof Object)&&(S=c.parse(S.input,S.config))&&n.postMessage({workerId:c.WORKER_ID,results:S,finished:!0})}),(d.prototype=Object.create(u.prototype)).constructor=d,(h.prototype=Object.create(u.prototype)).constructor=h,(p.prototype=Object.create(p.prototype)).constructor=p,(g.prototype=Object.create(u.prototype)).constructor=g,c})})(zG);var u5e=zG.exports;const f5e=Dn(u5e),qG=()=>{const{user:e}=xa(),{isDarkMode:t}=un(),[r,n]=F.useState(!1),[a,i]=F.useState([]),[s,o]=F.useState(!1),[l,c]=F.useState({name:"",unit:"",asin:"",barcode:""}),[u,d]=F.useState(null),[h,p]=F.useState(null),[g,m]=F.useState(!1),[v,y]=F.useState(!1),[b,x]=F.useState(null),[O,P]=F.useState(null),[j,T]=F.useState(!1),[S,_]=F.useState(""),[D,E]=F.useState(null),[N,k]=F.useState(null),V=Be.useRef(null),[Q,W]=F.useState(null),[G,q]=F.useState(!1),[U,ee]=F.useState([]);F.useEffect(()=>{Z(),I()},[]);const Z=async H=>{o(!0);try{let ke;if(H&&H.trim()!==""){const Ce=lr(At(Xe,"scannedProducts"),or("name",">=",H),or("name","<=",H+""),Ua("name"),Kg(100)),_e=lr(At(Xe,"scannedProducts"),or("barcode",">=",H),or("barcode","<=",H+""),Ua("barcode"),Kg(100)),le=lr(At(Xe,"scannedProducts"),or("asin",">=",H),or("asin","<=",H+""),Ua("asin"),Kg(100)),[Le,qe,Ke]=await Promise.all([dr(Ce),dr(_e),dr(le)]),rt=[...Le.docs,...qe.docs,...Ke.docs].reduce((Ee,Re)=>(Ee.some(Te=>Te.id===Re.id)||Ee.push(Re),Ee),[]);i(rt.map(Ee=>{const Re=Ee.data();return{id:Ee.id,name:Re.name,unit:Re.unit,asin:Re.asin||"",barcode:Re.barcode,createdAt:Re.createdAt instanceof sr?Re.createdAt.toDate():new Date(Re.createdAt)}}))}else{ke=lr(At(Xe,"scannedProducts"),Ua("createdAt","desc"),Kg(100));const _e=(await dr(ke)).docs.map(le=>{const Le=le.data();return{id:le.id,name:Le.name,unit:Le.unit,asin:Le.asin||"",barcode:Le.barcode,createdAt:Le.createdAt instanceof sr?Le.createdAt.toDate():new Date(Le.createdAt)}});i(_e)}}catch{d("Failed to fetch products")}finally{o(!1)}},I=async()=>{try{const H=At(Xe,"scannedProducts"),ke=await VC(H);W(ke.data().count)}catch{W(null)}},M=()=>{const H={};a.forEach(Ce=>{H[Ce.name]||(H[Ce.name]=[]),H[Ce.name].push(Ce)});const ke=Object.entries(H).filter(([,Ce])=>Ce.length>1).map(([Ce,_e])=>({name:Ce,products:_e.sort((le,Le)=>new Date(Le.createdAt).getTime()-new Date(le.createdAt).getTime())})).sort((Ce,_e)=>_e.products.length-Ce.products.length);ee(ke),q(!0)},z=()=>{q(!1),ee([])},K=H=>{H?(c({name:H.name||"",unit:H.unit||"",asin:H.asin||"",barcode:H.barcode||""}),p(H)):(c({name:"",unit:"",asin:"",barcode:""}),p(null)),n(!0),d(null)},X=()=>{n(!1),d(null)},ae=H=>{c({...l,[H.target.name]:H.target.value})},ue=async H=>{c(ke=>({...ke,barcode:H})),m(!1),x(null),y(!0);try{const Ce=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${H}`,le=await(await fetch(Ce)).json();if(le&&le.items&&le.items.length>0){const Le=le.items[0];c(qe=>({...qe,name:Le.title||qe.name,asin:Le.asin||Le.amazon_asin||""}))}else x("No product info found for this barcode.")}catch{x("Failed to fetch product info.")}finally{y(!1)}},ie=async H=>{if(H.preventDefault(),!l.name.trim()||!l.unit.trim()||!l.barcode.trim()){d("Name, Unit, and Barcode are required");return}o(!0);try{const ke=l.name.toUpperCase();if(h){const Ce=kr(Xe,"scannedProducts",h.id);if(await Wn(Ce,{name:ke,unit:l.unit,barcode:l.barcode,asin:l.asin}),e&&h){const _e=[];h.name!==ke&&_e.push(`name from "${h.name}" to "${ke}"`),h.unit!==l.unit&&_e.push(`unit from ${h.unit||"none"} to ${l.unit||"none"}`),h.barcode!==l.barcode&&_e.push(`barcode from "${h.barcode||"none"}" to "${l.barcode||"none"}"`),h.asin!==l.asin&&_e.push(`asin from "${h.asin||"none"}" to "${l.asin||"none"}"`),_e.length>0&&await vr(At(Xe,"activityLogs"),{user:e.name,role:e.role,detail:`edited product "${ke}": ${_e.join(", ")}`,time:new Date().toISOString()})}}else await vr(At(Xe,"scannedProducts"),{name:ke,unit:l.unit,barcode:l.barcode,asin:l.asin,createdAt:sr.fromDate(new Date)}),e&&await vr(At(Xe,"activityLogs"),{user:e.name,role:e.role,detail:`added new product "${ke}" with barcode ${l.barcode}`,time:new Date().toISOString()});n(!1),p(null),Z()}catch{d("Failed to save product")}finally{o(!1)}},ge=async()=>{if(O){T(!0);try{const H=a.find(ke=>ke.id===O);await Bs(kr(Xe,"scannedProducts",O)),e&&H&&await vr(At(Xe,"activityLogs"),{user:e.name,role:e.role,detail:`deleted product "${H.name}" with barcode ${H.barcode}`,time:new Date().toISOString()}),P(null),Z()}catch{}finally{T(!1)}}},ye=async H=>{var _e;const ke=(_e=H.target.files)==null?void 0:_e[0];if(!ke)return;let Ce=[];try{if(ke.name.endsWith(".csv")){const le=await ke.text(),qe=f5e.parse(le,{header:!0}).data;Ce=qe.map(rt=>{var Ee,Re,Te,Me;return{name:((Ee=rt.Description)==null?void 0:Ee.toString().trim())||"",unit:((Re=rt.Unit)==null?void 0:Re.toString().trim())||"",asin:((Te=rt.ASIN)==null?void 0:Te.toString().trim())||"",barcode:((Me=rt.EAN)==null?void 0:Me.toString().trim())||""}}).filter(rt=>rt.name||rt.unit||rt.barcode);const Ke=qe.length-Ce.length;Ke>0&&k({type:"error",message:`${Ke} rows skipped (all columns empty).`})}else if(ke.name.endsWith(".xlsx")){const le=await ke.arrayBuffer(),Le=hE(le,{type:"array"}),qe=Le.Sheets[Le.SheetNames[0]],Ke=c5e.sheet_to_json(qe);Ce=Ke.map(Ee=>{var Re,Te,Me,We;return{name:((Re=Ee.Description)==null?void 0:Re.toString().trim())||"",unit:((Te=Ee.Unit)==null?void 0:Te.toString().trim())||"",asin:((Me=Ee.ASIN)==null?void 0:Me.toString().trim())||"",barcode:((We=Ee.EAN)==null?void 0:We.toString().trim())||""}}).filter(Ee=>Ee.name||Ee.unit||Ee.barcode);const rt=Ke.length-Ce.length;rt>0&&k({type:"error",message:`${rt} rows skipped (all columns empty).`})}else{k({type:"error",message:"Unsupported file type. Please upload a .csv or .xlsx file."});return}if(Ce.length===0){k({type:"error",message:"No valid products found in file."});return}for(const le of Ce)await vr(At(Xe,"scannedProducts"),{name:le.name.toUpperCase(),unit:le.unit,barcode:le.barcode,asin:"",createdAt:sr.fromDate(new Date)});e&&await vr(At(Xe,"activityLogs"),{user:e.name,role:e.role,detail:`bulk uploaded ${Ce.length} products from file "${ke.name}"`,time:new Date().toISOString()}),k({type:"success",message:`Uploaded ${Ce.length} products successfully!`}),Z()}catch{k({type:"error",message:"Failed to upload products."})}};return!e||e.role!=="admin"&&e.role!=="staff"&&e.role!=="supply_serve"&&e.role!=="manager"?f.jsx("div",{className:"p-8 text-center text-red-500 font-semibold",children:"You are not authorized to access this page."}):f.jsxs("div",{className:t?"bg-slate-900 text-white min-h-screen":"bg-slate-50 text-slate-800 min-h-screen",children:[f.jsxs("div",{className:"flex items-center justify-between py-4",children:[f.jsx("h1",{className:"text-2xl font-bold",children:"Add Products"}),f.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${t?"bg-slate-800 text-blue-300":"bg-blue-100 text-blue-700"}`,children:["Total Scanned Products: ",Q!==null?Q:f.jsx("span",{className:"animate-pulse",children:"..."})]})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center mb-6 gap-4",children:[f.jsx("div",{children:f.jsx("p",{className:`${t?"text-slate-400":"text-slate-500"} mt-1 text-left md:text-left`,children:"Scan and add new products to your warehouse inventory"})}),f.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:gap-2 w-full md:w-auto",children:[f.jsx(at,{variant:"secondary",onClick:()=>Z(),className:`flex items-center gap-2 w-full md:w-auto ${s?"opacity-50 cursor-not-allowed":""}`,disabled:s,icon:f.jsx(Fa,{size:18,className:s?"animate-spin":""})}),f.jsx(at,{variant:G?"primary":"secondary",onClick:G?z:M,className:"w-full md:w-auto",icon:G?f.jsx(Fa,{size:18}):f.jsxs("svg",{width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M3 6h18"}),f.jsx("path",{d:"M7 12h10"}),f.jsx("path",{d:"M9 18h6"})]}),children:G?"Clear Filter":"Show Duplicates"}),f.jsx(at,{icon:f.jsx(Vre,{size:18}),onClick:()=>{var H;return(H=V.current)==null?void 0:H.click()},className:"w-full md:w-auto",children:"Upload CSV/XLSX"}),f.jsx("input",{type:"file",accept:".csv,.xlsx",ref:V,onChange:ye,style:{display:"none"}}),f.jsx(at,{icon:f.jsx(hi,{size:18}),onClick:()=>K(),className:"w-full md:w-auto",children:"Add Product"})]})]}),f.jsx("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:f.jsxs("div",{className:"flex-1 relative",children:[f.jsx(Ot,{type:"text",placeholder:"Search by name, barcode, or ASIN",value:S,onChange:H=>{const ke=H.target.value;_(ke),Z(ke.toUpperCase())},className:"pl-10",fullWidth:!0}),f.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",children:f.jsxs("svg",{width:"16",height:"16",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-search",children:[f.jsx("circle",{cx:"7",cy:"7",r:"6"}),f.jsx("path",{d:"m15 15-3.5-3.5"})]})})]})}),f.jsx(gn,{isOpen:r,onClose:X,title:h?"Edit Product":"Add Product",size:"sm",children:f.jsxs("form",{onSubmit:ie,className:"space-y-4",children:[f.jsx(Ot,{label:"Product Name",name:"name",value:l.name,onChange:ae,placeholder:"Enter product name",required:!0,fullWidth:!0}),f.jsx(Ot,{label:"Unit",name:"unit",value:l.unit,onChange:ae,placeholder:"e.g. 350ML, 75GM, 1PC",required:!0,fullWidth:!0}),f.jsx(Ot,{label:"ASIN",name:"asin",value:l.asin,onChange:ae,placeholder:"Amazon Standard Identification Number",fullWidth:!0}),f.jsxs("div",{className:"relative w-full",children:[f.jsx(Ot,{label:"Barcode",name:"barcode",value:l.barcode,onChange:ae,placeholder:"Enter barcode",required:!0,fullWidth:!0,style:{paddingRight:44}}),f.jsx("button",{type:"button",onClick:async()=>{if(l.barcode.trim()&&!v){x(null),y(!0);try{await ue(l.barcode)}finally{y(!1)}}},className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:v,children:v?f.jsx(xs,{size:18,className:"animate-spin text-blue-500"}):f.jsx(pu,{size:18,className:"text-blue-500"})})]}),u&&f.jsx("div",{className:"text-red-500 text-sm",children:u}),b&&f.jsxs("div",{className:"text-red-500 text-sm",children:[b," Please enter details manually."]}),v&&f.jsxs("div",{className:"flex items-center gap-2 text-blue-500 text-sm",children:[f.jsx(xs,{className:"w-4 h-4 animate-spin"}),"Fetching product info..."]}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx(at,{type:"button",variant:"secondary",onClick:()=>m(!0),children:"Scan"}),f.jsx(at,{type:"submit",isLoading:s,children:h?"Save Changes":"Add"})]})]})}),f.jsx(zh,{isOpen:g,onClose:()=>m(!1),onBarcodeScanned:ue}),f.jsx("div",{className:"hidden md:block overflow-x-auto overflow-y-hidden rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800",children:f.jsxs("table",{className:`min-w-full divide-y ${t?"divide-slate-700":"divide-slate-200"} ${t?"bg-slate-800":"bg-white"} rounded-lg`,children:[f.jsx("thead",{className:t?"bg-slate-700/50":"bg-slate-100",children:f.jsxs("tr",{children:[f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Unit"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Barcode"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Created At"}),f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),f.jsx("tbody",{className:`divide-y ${t?"divide-slate-700":"divide-slate-200"}`,children:s?f.jsx("tr",{children:f.jsx("td",{colSpan:6,style:{border:0,padding:0},children:f.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[200px] w-full py-12",children:[f.jsx(xs,{className:`w-8 h-8 ${t?"text-blue-400":"text-blue-600"} animate-spin`}),f.jsx("p",{className:t?"text-slate-400":"text-slate-600",children:"Loading products..."})]})})}):G&&U.length===0?f.jsx("tr",{children:f.jsx("td",{colSpan:6,className:`text-center py-8 ${t?"text-slate-400":"text-slate-500"}`,children:"No duplicate products found."})}):G&&U.length>0?U.flatMap((H,ke)=>[f.jsx("tr",{className:`${t?"bg-slate-700/30":"bg-slate-100/50"}`,children:f.jsxs("td",{colSpan:6,className:`px-4 py-2 text-sm font-semibold ${t?"text-blue-300":"text-blue-600"}`,children:[H.name," - ",H.products.length," duplicates"]})},`header-${H.name}`),...H.products.map((Ce,_e)=>f.jsxs(Yn.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:ke*.1+_e*.05,ease:"easeOut"},className:`hover:${t?"bg-slate-700/50":"bg-slate-50"} cursor-pointer ${t?"bg-slate-800/50":"bg-slate-50/50"}`,onClick:()=>E(Ce),children:[f.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-blue-400":"text-blue-700"} font-medium`,children:Ce.name}),f.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:Ce.unit||"-"}),f.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:Ce.asin||"-"}),f.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:Ce.barcode}),f.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:qt(Ce.createdAt,"MMM d, yyyy, h:mm a")}),f.jsxs("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"} text-right`,children:[f.jsx("button",{onClick:le=>{le.stopPropagation(),K(Ce)},className:`p-1 ${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,title:"Edit",children:f.jsx(bs,{size:16})}),f.jsx("button",{onClick:le=>{le.stopPropagation(),P(Ce.id)},className:`p-1 ml-2 ${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,title:"Delete",disabled:j&&O===Ce.id,children:f.jsx(ui,{size:16})})]})]},Ce.id))]):a.length===0?f.jsx("tr",{children:f.jsx("td",{colSpan:6,className:`text-center py-8 ${t?"text-slate-400":"text-slate-500"}`,children:"No products found."})}):a.map((H,ke)=>f.jsxs(Yn.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:ke*.05,ease:"easeOut"},className:`hover:${t?"bg-slate-700/50":"bg-slate-50"} cursor-pointer`,onClick:()=>E(H),children:[f.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-blue-400":"text-blue-700"} font-medium`,children:H.name}),f.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:H.unit||"-"}),f.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:H.asin||"-"}),f.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:H.barcode}),f.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:qt(H.createdAt,"MMM d, yyyy, h:mm a")}),f.jsxs("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"} text-right`,children:[f.jsx("button",{onClick:Ce=>{Ce.stopPropagation(),K(H)},className:`p-1 ${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,title:"Edit",children:f.jsx(bs,{size:16})}),f.jsx("button",{onClick:Ce=>{Ce.stopPropagation(),P(H.id)},className:`p-1 ml-2 ${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,title:"Delete",disabled:j&&O===H.id,children:f.jsx(ui,{size:16})})]})]},H.id))})]})}),f.jsx("div",{className:"md:hidden flex flex-col gap-4",children:s?f.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[200px] w-full py-12",children:[f.jsx(xs,{className:`w-8 h-8 ${t?"text-blue-400":"text-blue-600"} animate-spin`}),f.jsx("p",{className:t?"text-slate-400":"text-slate-600",children:"Loading products..."})]}):G&&U.length===0?f.jsx("div",{className:`text-center py-8 ${t?"text-slate-400":"text-slate-500"}`,children:"No duplicate products found."}):G&&U.length>0?U.map(H=>f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:`text-center py-2 px-4 rounded-lg ${t?"bg-slate-700/30 text-blue-300":"bg-slate-100/50 text-blue-600"} font-semibold`,children:[H.name," - ",H.products.length," duplicates"]}),H.products.map(ke=>f.jsxs("div",{className:`rounded-lg shadow p-4 flex flex-col gap-2 ${t?"bg-slate-800/50":"bg-slate-50/50"} cursor-pointer`,onClick:()=>E(ke),children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("div",{className:`font-semibold ${t?"text-blue-300":"text-blue-700"}`,children:ke.name}),f.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Unit: ",ke.unit||"-"]}),f.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["ASIN: ",ke.asin||"-"]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(at,{variant:"ghost",size:"sm",onClick:Ce=>{Ce.stopPropagation(),K(ke)},className:`${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:f.jsx(bs,{size:16})}),f.jsx(at,{variant:"ghost",size:"sm",onClick:Ce=>{Ce.stopPropagation(),P(ke.id)},className:`${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,disabled:j&&O===ke.id,children:f.jsx(ui,{size:16})})]})]}),f.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Barcode: ",f.jsx("span",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:ke.barcode})]}),f.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Created: ",f.jsx("span",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:qt(ke.createdAt,"MMM d, yyyy, h:mm a")})]})]},ke.id))]},H.name)):a.length===0?f.jsx("div",{className:`text-center py-8 ${t?"text-slate-400":"text-slate-500"}`,children:"No products found."}):a.map(H=>f.jsxs("div",{className:`rounded-lg shadow p-4 flex flex-col gap-2 ${t?"bg-slate-800":"bg-white"} cursor-pointer`,onClick:()=>E(H),children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("div",{className:`font-semibold ${t?"text-blue-300":"text-blue-700"}`,children:H.name}),f.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Unit: ",H.unit||"-"]}),f.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["ASIN: ",H.asin||"-"]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(at,{variant:"ghost",size:"sm",onClick:ke=>{ke.stopPropagation(),K(H)},className:`${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:f.jsx(bs,{size:16})}),f.jsx(at,{variant:"ghost",size:"sm",onClick:ke=>{ke.stopPropagation(),P(H.id)},className:`${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,disabled:j&&O===H.id,children:f.jsx(ui,{size:16})})]})]}),f.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Barcode: ",f.jsx("span",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:H.barcode})]}),f.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Created: ",f.jsx("span",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:qt(H.createdAt,"MMM d, yyyy, h:mm a")})]})]},H.id))}),f.jsx(gn,{isOpen:!!O,onClose:()=>P(null),title:"Delete Product",size:"sm",children:f.jsxs("div",{className:"space-y-4",children:[f.jsx("p",{children:"Are you sure you want to delete this product?"}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx(at,{variant:"secondary",onClick:()=>P(null),disabled:j,children:"Cancel"}),f.jsxs(at,{variant:"danger",onClick:ge,isLoading:j,className:"flex items-center justify-center",children:[j&&f.jsx(xs,{className:"w-4 h-4 animate-spin mx-auto"}),"Delete"]})]})]})}),f.jsx(gn,{isOpen:!!D,onClose:()=>E(null),title:D?D.name:"Product Details",size:"xl",children:D&&f.jsx("div",{className:"space-y-6",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-slate-500"}`,children:"Unit"}),f.jsx("p",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:D.unit||"-"})]}),f.jsxs("div",{children:[f.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-slate-500"}`,children:"ASIN"}),f.jsx("p",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:D.asin||"-"})]}),f.jsxs("div",{children:[f.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-slate-500"}`,children:"Barcode"}),f.jsx("p",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:D.barcode||"-"})]}),f.jsxs("div",{children:[f.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-slate-500"}`,children:"Created At"}),f.jsx("p",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:qt(D.createdAt,"MMM d, yyyy, h:mm a")})]})]})})}),N&&f.jsx(gW,{type:N.type,message:N.message,onClose:()=>k(null)})]})]})},d5e=()=>{const{user:e}=xa();if(!e)return null;switch(e.role){case"admin":return f.jsx(PL,{});case"manager":return f.jsx(PL,{});case"staff":return f.jsx(qG,{});default:return null}},rn=({label:e,error:t,options:r,fullWidth:n=!1,className:a="",...i})=>{const{isDarkMode:s}=un();return f.jsxs("div",{className:`${n?"w-full":""} ${a}`,children:[e&&f.jsx("label",{className:`block text-sm font-medium ${s?"text-slate-200":"text-slate-700"} mb-1`,children:e}),f.jsx("select",{...i,className:`
          block w-full rounded-lg border px-3 py-2
          ${s?"bg-slate-800 border-slate-700 text-slate-200 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-700/50 disabled:text-slate-400":"bg-white border-slate-300 text-slate-900 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-50 disabled:text-slate-500"}
          ${t?"border-red-500 focus:border-red-500 focus:ring-red-500":""}
        `,children:r.map(o=>f.jsx("option",{value:o.value,children:o.label},o.value))}),t&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:t})]})},h5e=({isOpen:e,onClose:t,onSuccess:r})=>{const{user:n}=xa(),[a,i]=F.useState({name:"",unit:"",barcode:""}),[s,o]=F.useState(null),[l,c]=F.useState(!1),[u,d]=F.useState(!1),[h,p]=F.useState(!1),[g,m]=F.useState(null),v=O=>{i({...a,[O.target.name]:O.target.value})},y=async O=>{i(P=>({...P,barcode:O})),d(!1),m(null),p(!0);try{const j=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${O}`,S=await(await fetch(j)).json();if(S&&S.items&&S.items.length>0){const _=S.items[0];i(D=>({...D,name:_.title||D.name}))}else m("No product info found for this barcode.")}catch{m("Failed to fetch product info.")}finally{p(!1)}},b=async O=>{if(O.preventDefault(),!a.name.trim()||!a.unit.trim()||!a.barcode.trim()){o("All fields are required");return}c(!0);try{const P=a.name.toUpperCase();await vr(At(Xe,"scannedProducts"),{name:P,unit:a.unit,barcode:a.barcode,createdAt:sr.fromDate(new Date)}),n&&await vr(At(Xe,"activityLogs"),{user:n.name,role:n.role,detail:`added new product "${P}" with barcode ${a.barcode}`,time:new Date().toISOString()}),i({name:"",unit:"",barcode:""}),o(null),m(null),t(),r&&r()}catch{o("Failed to save product")}finally{c(!1)}},x=()=>{i({name:"",unit:"",barcode:""}),o(null),m(null),t()};return f.jsxs(f.Fragment,{children:[f.jsx(gn,{isOpen:e,onClose:x,title:"Add Product",size:"sm",children:f.jsxs("form",{onSubmit:b,className:"space-y-4",children:[f.jsx(Ot,{label:"Product Name",name:"name",value:a.name,onChange:v,placeholder:"Enter product name",required:!0,fullWidth:!0}),f.jsx(Ot,{label:"Unit",name:"unit",value:a.unit,onChange:v,placeholder:"e.g. 350ML, 75GM, 1PC",required:!0,fullWidth:!0}),f.jsxs("div",{className:"relative w-full",children:[f.jsx(Ot,{label:"Barcode",name:"barcode",value:a.barcode,onChange:v,placeholder:"Enter barcode",required:!0,fullWidth:!0,style:{paddingRight:44}}),f.jsx("button",{type:"button",onClick:async()=>{if(a.barcode.trim()&&!h){m(null),p(!0);try{await y(a.barcode)}finally{p(!1)}}},className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:h,children:h?f.jsx(xs,{size:18,className:"animate-spin text-blue-500"}):f.jsx(pu,{size:18,className:"text-blue-500"})})]}),s&&f.jsx("div",{className:"text-red-500 text-sm",children:s}),g&&f.jsxs("div",{className:"text-red-500 text-sm",children:[g," Please enter details manually."]}),h&&f.jsxs("div",{className:"flex items-center gap-2 text-blue-500 text-sm",children:[f.jsx(xs,{className:"w-4 h-4 animate-spin"}),"Fetching product info..."]}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx(at,{type:"button",variant:"secondary",onClick:()=>d(!0),children:"Scan"}),f.jsx(at,{type:"submit",isLoading:l,children:"Add"})]})]})}),f.jsx(zh,{isOpen:u,onClose:()=>d(!1),onBarcodeScanned:y})]})},p5e=({isOpen:e,onClose:t,onUseLocation:r,onManualLocation:n,hiddenProduct:a})=>f.jsx(gn,{isOpen:e,onClose:t,title:"Location Reminder",size:"md",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx(Qk,{className:"w-6 h-6 text-blue-500 mt-1 flex-shrink-0"}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Your previous product ",f.jsxs("strong",{children:['"',a.name,'"']})," was located at:"]}),f.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:[f.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200 font-medium",children:["Location: ",f.jsxs("strong",{children:[a.locationCode,"-",a.shelfNumber]})]}),f.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1",children:["Previous quantity: ",a.quantity," units"]})]}),f.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Do you want to place this product at the same location?"})]})]}),f.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[f.jsx(at,{variant:"secondary",onClick:n,children:"No, I'll choose manually"}),f.jsx(at,{onClick:()=>r(a.locationCode,a.shelfNumber),className:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500",children:"Yes, use same location"})]})]})}),WG=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,isLoading:i=!1,confirmLabel:s="Yes",cancelLabel:o="No"})=>{const{isDarkMode:l}=un();return f.jsx(gn,{isOpen:e,onClose:t,title:n,size:"md",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center gap-3 text-amber-600",children:[f.jsx(l1,{size:24}),f.jsx("p",{className:l?"text-slate-200":"text-slate-700",children:a})]}),f.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[f.jsx(at,{variant:"secondary",onClick:t,disabled:i,className:l?"text-slate-100":"text-slate-700",children:o}),f.jsx(at,{variant:"success",onClick:r,isLoading:i,children:s})]})]})})},Xf=e=>{const t=e==="Awaiting Location"||e==="Awaiting Locations Sparklin"||e==="Awaiting Locations Aztec",r=(e.startsWith("O")||e.startsWith("P"))&&e.length===2&&/^[1-8]$/.test(e[1]),n=t?0:r?7:5;return Array.from({length:n+1},(a,i)=>({value:i.toString(),label:i.toString()}))},m5e=[{value:"A1",label:"A1"},{value:"A2",label:"A2"},{value:"A3",label:"A3"},{value:"A4",label:"A4"},{value:"A5",label:"A5"},{value:"A6",label:"A6"},{value:"A7",label:"A7"},{value:"A8",label:"A8"},{value:"B1",label:"B1"},{value:"B2",label:"B2"},{value:"B3",label:"B3"},{value:"B4",label:"B4"},{value:"B5",label:"B5"},{value:"B6",label:"B6"},{value:"B7",label:"B7"},{value:"B8",label:"B8"},{value:"C1",label:"C1"},{value:"C2",label:"C2"},{value:"C3",label:"C3"},{value:"C4",label:"C4"},{value:"C5",label:"C5"},{value:"C6",label:"C6"},{value:"C7",label:"C7"},{value:"C8",label:"C8"},{value:"D1",label:"D1"},{value:"D2",label:"D2"},{value:"D3",label:"D3"},{value:"D4",label:"D4"},{value:"D5",label:"D5"},{value:"D6",label:"D6"},{value:"D7",label:"D7"},{value:"D8",label:"D8"},{value:"E1",label:"E1"},{value:"E2",label:"E2"},{value:"E3",label:"E3"},{value:"E4",label:"E4"},{value:"E5",label:"E5"},{value:"E6",label:"E6"},{value:"E7",label:"E7"},{value:"E8",label:"E8"},{value:"F1",label:"F1"},{value:"F2",label:"F2"},{value:"F3",label:"F3"},{value:"F4",label:"F4"},{value:"F5",label:"F5"},{value:"F6",label:"F6"},{value:"F7",label:"F7"},{value:"F8",label:"F8"},{value:"G1",label:"G1"},{value:"G2",label:"G2"},{value:"G3",label:"G3"},{value:"G4",label:"G4"},{value:"G5",label:"G5"},{value:"G6",label:"G6"},{value:"G7",label:"G7"},{value:"G8",label:"G8"},{value:"H1",label:"H1"},{value:"H2",label:"H2"},{value:"H3",label:"H3"},{value:"H4",label:"H4"},{value:"H5",label:"H5"},{value:"H6",label:"H6"},{value:"H7",label:"H7"},{value:"H8",label:"H8"},{value:"I1",label:"I1"},{value:"I2",label:"I2"},{value:"I3",label:"I3"},{value:"I4",label:"I4"},{value:"I5",label:"I5"},{value:"I6",label:"I6"},{value:"I7",label:"I7"},{value:"I8",label:"I8"},{value:"J1",label:"J1"},{value:"J2",label:"J2"},{value:"J3",label:"J3"},{value:"J4",label:"J4"},{value:"J5",label:"J5"},{value:"J6",label:"J6"},{value:"J7",label:"J7"},{value:"J8",label:"J8"},{value:"K1",label:"K1"},{value:"K2",label:"K2"},{value:"K3",label:"K3"},{value:"K4",label:"K4"},{value:"K5",label:"K5"},{value:"K6",label:"K6"},{value:"K7",label:"K7"},{value:"K8",label:"K8"},{value:"L1",label:"L1"},{value:"L2",label:"L2"},{value:"L3",label:"L3"},{value:"L4",label:"L4"},{value:"L5",label:"L5"},{value:"L6",label:"L6"},{value:"L7",label:"L7"},{value:"L8",label:"L8"},{value:"M1",label:"M1"},{value:"M2",label:"M2"},{value:"M3",label:"M3"},{value:"M4",label:"M4"},{value:"M5",label:"M5"},{value:"M6",label:"M6"},{value:"M7",label:"M7"},{value:"M8",label:"M8"},{value:"N1",label:"N1"},{value:"N2",label:"N2"},{value:"N3",label:"N3"},{value:"N4",label:"N4"},{value:"N5",label:"N5"},{value:"N6",label:"N6"},{value:"N7",label:"N7"},{value:"N8",label:"N8"},{value:"O1",label:"O1"},{value:"O2",label:"O2"},{value:"O3",label:"O3"},{value:"O4",label:"O4"},{value:"O5",label:"O5"},{value:"O6",label:"O6"},{value:"O7",label:"O7"},{value:"O8",label:"O8"},{value:"P1",label:"P1"},{value:"P2",label:"P2"},{value:"P3",label:"P3"},{value:"P4",label:"P4"},{value:"P5",label:"P5"},{value:"P6",label:"P6"},{value:"P7",label:"P7"},{value:"P8",label:"P8"},{value:"Q1",label:"Q1"},{value:"Q2",label:"Q2"},{value:"Q3",label:"Q3"},{value:"Q4",label:"Q4"},{value:"Q5",label:"Q5"},{value:"Q6",label:"Q6"},{value:"Q7",label:"Q7"},{value:"Q8",label:"Q8"},{value:"R1",label:"R1"},{value:"R2",label:"R2"},{value:"R3",label:"R3"},{value:"R4",label:"R4"},{value:"R5",label:"R5"},{value:"R6",label:"R6"},{value:"R7",label:"R7"},{value:"R8",label:"R8"},{value:"S1",label:"S1"},{value:"S2",label:"S2"},{value:"S3",label:"S3"},{value:"S4",label:"S4"},{value:"S5",label:"S5"},{value:"S6",label:"S6"},{value:"S7",label:"S7"},{value:"S8",label:"S8"},{value:"T1",label:"T1"},{value:"T2",label:"T2"},{value:"T3",label:"T3"},{value:"T4",label:"T4"},{value:"T5",label:"T5"},{value:"T6",label:"T6"},{value:"T7",label:"T7"},{value:"T8",label:"T8"},{value:"U1",label:"U1"},{value:"U2",label:"U2"},{value:"U3",label:"U3"},{value:"U4",label:"U4"},{value:"U5",label:"U5"},{value:"U6",label:"U6"},{value:"U7",label:"U7"},{value:"U8",label:"U8"},{value:"V1",label:"V1"},{value:"V2",label:"V2"},{value:"V3",label:"V3"},{value:"V4",label:"V4"},{value:"V5",label:"V5"},{value:"V6",label:"V6"},{value:"V7",label:"V7"},{value:"V8",label:"V8"},{value:"W1",label:"W1"},{value:"W2",label:"W2"},{value:"W3",label:"W3"},{value:"W4",label:"W4"},{value:"W5",label:"W5"},{value:"W6",label:"W6"},{value:"W7",label:"W7"},{value:"W8",label:"W8"},{value:"X1",label:"X1"},{value:"X2",label:"X2"},{value:"X3",label:"X3"},{value:"X4",label:"X4"},{value:"X5",label:"X5"},{value:"X6",label:"X6"},{value:"X7",label:"X7"},{value:"X8",label:"X8"},{value:"Y1",label:"Y1"},{value:"Y2",label:"Y2"},{value:"Y3",label:"Y3"},{value:"Y4",label:"Y4"},{value:"Y5",label:"Y5"},{value:"Y6",label:"Y6"},{value:"Y7",label:"Y7"},{value:"Y8",label:"Y8"},{value:"Z1",label:"Z1"},{value:"Z2",label:"Z2"},{value:"Z3",label:"Z3"},{value:"Z4",label:"Z4"},{value:"Z5",label:"Z5"},{value:"Z6",label:"Z6"},{value:"Z7",label:"Z7"},{value:"Z8",label:"Z8"},{value:"Awaiting Location",label:"Awaiting Location"},{value:"Awaiting Locations Sparklin",label:"Awaiting Locations Sparklin"},{value:"Awaiting Locations Aztec",label:"Awaiting Locations Aztec"}],g5e=e=>Xf(e),p4=[{value:"Rayburns Trading",label:"RAYBURNS TRADING"},{value:"Intamarque",label:"INTAMARQUE"},{value:"Sian Wholesale",label:"SIAN WHOLESALE"},{value:"DMG",label:"DMG"},{value:"CVT",label:"CVT"},{value:"Wholesale Trading Supplies",label:"WHOLESALE TRADING SUPPLIES"},{value:"HJA",label:"HJA"},{value:"Price Check",label:"PRICE CHECK"},{value:"other",label:"OTHER"}],HG=({onSubmit:e,isLoading:t=!1,existingStockItems:r,isSupplyServe:n=!1,onShowProductLocationInfo:a})=>{const{user:i}=xa(),s=()=>{switch(i==null?void 0:i.role){case"fahiz":return"fahiz";case"aphy":return"APHY";case"supply_serve":return"supply & serve";default:return"supply & serve"}},[o,l]=F.useState({name:"",price:"",unit:"",supplier:p4[0].value,asin:"",status:"pending",damagedItems:"0",fulfillmentType:"mf",storeName:s(),selectedAsins:[]}),[c,u]=F.useState([{locationCode:"A1",shelfNumber:"0",quantity:""}]),[d,h]=F.useState({}),[p,g]=F.useState(!1),[m,v]=F.useState(!1),[y,b]=F.useState(""),{isDarkMode:x}=un(),[O,P]=F.useState(null),[j,T]=F.useState(!1),[S,_]=F.useState(null),[D,E]=F.useState(!1),[N,k]=F.useState(""),[V,Q]=F.useState(!1),[W,G]=F.useState(null),[q,U]=F.useState(null),[ee,Z]=F.useState(!1),[I,M]=F.useState(""),[z,K]=F.useState(!1),[X,ae]=F.useState(null),[ue,ie]=F.useState([]),[ge,ye]=F.useState(!1),[H,ke]=F.useState(null),[Ce,_e]=F.useState([]),[le,Le]=F.useState(!1),[qe,Ke]=F.useState(null);F.useEffect(()=>{o.storeName==="supply & serve"&&o.fulfillmentType!=="mf"&&l(De=>({...De,fulfillmentType:"mf"}))},[o.storeName,o.fulfillmentType]);const rt=De=>{const{name:tt,value:bt}=De.target;if(l(Rt=>({...Rt,[tt]:bt})),tt==="supplier"&&(E(bt==="other"),bt!=="other"&&k("")),d[tt]&&h(Rt=>{const Yt={...Rt};return delete Yt[tt],Yt}),tt==="barcode"&&bt.length===13&&!j){X&&clearTimeout(X);const Rt=setTimeout(()=>{bt.length===13&&st(bt)},500);ae(Rt)}else tt==="barcode"&&bt.length!==13&&X&&(clearTimeout(X),ae(null))},Ee=(De,tt,bt)=>{u(Rt=>{const Yt=[...Rt];if(Yt[De]={...Yt[De],[tt]:bt},tt==="locationCode"&&(Yt[De].shelfNumber="0"),tt==="shelfNumber"){const Ct=Yt[De].locationCode,It=Xf(Ct).length-1;parseInt(bt)>It&&(Yt[De].shelfNumber="0")}return Yt})},Re=()=>{u(De=>[...De,{locationCode:"A1",shelfNumber:"0",quantity:""}])},Te=De=>{u(tt=>tt.filter((bt,Rt)=>Rt!==De))},Me=async De=>{l(bt=>({...bt,barcode:De})),P(null),_(null),T(!0);let tt=!1;try{const bt=lr(At(Xe,"scannedProducts"),or("barcode","==",De)),Rt=await dr(bt);if(Rt.empty){const Ct=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${De}`,rr=await(await fetch(Ct)).json();if(rr&&rr.items&&rr.items.length>0){const br=rr.items[0],wr=br.asin||br.amazon_asin||"";if(wr&&wr.includes(" ")){const Er=wr.split(" ").filter(an=>an.trim());if(Er.length>1){ie(Er),_e([]),ke({name:br.title||"",unit:"",asin:Er[0]}),ye(!0),P("Multiple ASINs detected. Please select one or more."),tt=!0;return}}l(Er=>({...Er,name:br.title||Er.name,asin:wr||Er.asin,selectedAsins:wr?[wr]:[]})),P("Product name and ASIN auto-filled from external database."),a&&br.title&&a(br.title,De),tt=!0}else P("No product found for this barcode. Please enter details manually.")}else{const Yt=Rt.docs[0].data(),Ct=Yt.asin||"";if(Ct&&Ct.includes(" ")){const It=Ct.split(" ").filter(rr=>rr.trim());if(It.length>1){ie(It),_e([]),ke({name:Yt.name||"",unit:Yt.unit||"",asin:It[0]}),ye(!0),P("Multiple ASINs detected. Please select one or more."),tt=!0;return}}l(It=>({...It,name:Yt.name||It.name,unit:Yt.unit||It.unit,asin:Ct||It.asin,selectedAsins:Ct?[Ct]:[]})),P("Product name, unit, and ASIN auto-filled from scanned products."),a&&Yt.name&&a(Yt.name,De),tt=!0}}catch{_("Failed to fetch product info."),P("Failed to search for product. Please enter details manually.")}finally{T(!1),!tt&&De.length===13&&setTimeout(()=>{st(De)},100)}},We=async De=>{try{const tt=lr(At(Xe,"inventory"),or("barcode","==",De),or("quantity","==",0)),bt=await dr(tt);if(!bt.empty){const Rt=bt.docs[0].data();return Ke({hiddenProduct:{...Rt,id:bt.docs[0].id,lastUpdated:Rt.lastUpdated instanceof Date?Rt.lastUpdated:new Date(Rt.lastUpdated)},newProductName:o.name||"New Product"}),Le(!0),!0}return!1}catch(tt){return console.error("Error checking for hidden products:",tt),!1}},st=async De=>{const tt=De||o.barcode;if(!(!tt||j)){_(null),T(!0);try{const bt=lr(At(Xe,"scannedProducts"),or("barcode","==",tt)),Rt=await dr(bt);if(!Rt.empty){const br=Rt.docs[0].data(),wr=br.asin||"";if(wr&&wr.includes(" ")){const Er=wr.split(" ").filter(an=>an.trim());if(Er.length>1){ie(Er),_e([]),ke({name:br.name||"",unit:br.unit||"",asin:Er[0]}),ye(!0),P("Multiple ASINs detected. Please select one or more."),T(!1);return}}l(Er=>({...Er,name:br.name||Er.name,unit:br.unit||Er.unit,asin:wr||Er.asin,selectedAsins:wr?[wr]:[]})),P("Product name, unit, and ASIN auto-filled from scanned products."),a&&br.name&&a(br.name,tt),T(!1);return}const Ct=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${tt}`,rr=await(await fetch(Ct)).json();if(rr&&rr.items&&rr.items.length>0){const br=rr.items[0],wr=br.asin||br.amazon_asin||"";if(wr&&wr.includes(" ")){const Er=wr.split(" ").filter(an=>an.trim());if(Er.length>1){ie(Er),_e([]),ke({name:br.title||"",unit:"",asin:Er[0]}),ye(!0),P("Multiple ASINs detected. Please select one or more."),T(!1);return}}l(Er=>({...Er,name:br.title||Er.name,asin:wr||Er.asin,selectedAsins:wr?[wr]:[]})),P("Product name and ASIN auto-filled from UPC database."),a&&br.title&&a(br.title,tt)}else _("No product info found for this barcode.")}catch{_("Failed to fetch product info.")}finally{T(!1),await We(tt)}}},ct=()=>{const De={};return o.name.trim()||(De.name="Product name is required"),c.forEach((tt,bt)=>{tt.quantity?(isNaN(Number(tt.quantity))||Number(tt.quantity)<0)&&(De[`location_${bt}_quantity`]="Quantity must be a positive number"):De[`location_${bt}_quantity`]="Quantity is required"}),h(De),Object.keys(De).length===0},xt=async De=>{if(De.preventDefault(),ct()){const tt=o.supplier||p4[0].value,bt=o.storeName||"supply & serve",Rt=o.selectedAsins.length>0?o.selectedAsins:o.asin?[o.asin]:[],Yt=c.map(It=>({name:o.name,quantity:parseInt(It.quantity),price:(i==null?void 0:i.role)==="admin"||(i==null?void 0:i.role)==="fahiz"||(i==null?void 0:i.role)==="aphy"||(i==null?void 0:i.role)==="supply_serve"?parseFloat(o.price):0,unit:o.unit||null,supplier:tt==="other"?N:tt,locationCode:It.locationCode,shelfNumber:It.shelfNumber,asin:Rt.length>0?Rt.join(", "):null,status:o.status,damagedItems:parseInt(o.damagedItems),barcode:o.barcode||null,fulfillmentType:o.fulfillmentType,lastUpdated:new Date,storeName:bt==="other"?y:bt})),Ct=Yt.find(It=>r.some(rr=>rr.name.trim().toLowerCase()===It.name.trim().toLowerCase()&&(rr.barcode||"")===(It.barcode||"")&&rr.locationCode===It.locationCode&&rr.shelfNumber===It.shelfNumber));if(Ct){U({name:Ct.name,location:`${Ct.locationCode}-${Ct.shelfNumber}`}),G(Yt),Q(!0);return}try{await e(Yt)}catch(It){console.error("Error adding stock:",It)}}},ht=async()=>{if(W){try{await e(W)}catch(De){console.error("Error adding stock:",De)}Q(!1),G(null),U(null)}},pt=()=>{Q(!1),G(null),U(null)},He=()=>{K(!0)},Ft=()=>{M("Product has been successfully added to the database!"),Z(!0)},Nt=De=>{H&&(l(tt=>({...tt,name:H.name||tt.name,unit:H.unit||tt.unit,asin:De.join(", "),selectedAsins:De})),P(`Product info and ${De.length} selected ASIN(s) auto-filled.`)),ye(!1),ie([]),ke(null),_e([])},Pr=()=>{ye(!1),ie([]),ke(null),_e([]),P("ASIN selection cancelled. Please enter details manually.")},ur=De=>{_e(tt=>tt.includes(De)?tt.filter(Rt=>Rt!==De):[...tt,De])},pr=(De,tt)=>{c.length>0&&u(bt=>{const Rt=[...bt];return Rt[0]={...Rt[0],locationCode:De,shelfNumber:tt},Rt}),Le(!1),Ke(null)},je=()=>{Le(!1),Ke(null)};return f.jsxs(f.Fragment,{children:[f.jsxs("form",{onSubmit:xt,className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(Ot,{label:"Product Name",name:"name",value:o.name,onChange:rt,error:d.name,placeholder:"Enter product name",required:!0,fullWidth:!0}),f.jsx("div",{children:f.jsx(rn,{label:"Supplier",name:"supplier",value:o.supplier,onChange:rt,options:p4,required:!0,fullWidth:!0})})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[((i==null?void 0:i.role)==="admin"||(i==null?void 0:i.role)==="fahiz"||(i==null?void 0:i.role)==="aphy"||(i==null?void 0:i.role)==="supply_serve")&&f.jsx(Ot,{label:"Price",name:"price",type:"number",value:o.price,onChange:rt,placeholder:"Enter price",min:"0",step:"0.01",fullWidth:!0}),!D&&f.jsx(Ot,{label:"Unit (Optional)",name:"unit",value:o.unit,onChange:rt,placeholder:"e.g. ML, GM, PC, etc.",fullWidth:!0}),D&&f.jsx(Ot,{label:"Other Supplier",value:N,onChange:De=>k(De.target.value),placeholder:"Enter supplier name",required:D,fullWidth:!0})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:D&&f.jsx(Ot,{label:"Unit (Optional)",name:"unit",value:o.unit,onChange:rt,placeholder:"e.g. ML, GM, PC, etc.",fullWidth:!0})}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h3",{className:"text-lg font-medium",children:"Location Entries"}),f.jsx(at,{type:"button",onClick:Re,variant:"primary",icon:f.jsx(hi,{size:18}),children:"Add Location"})]}),c.map((De,tt)=>f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-end",children:[f.jsx(rn,{label:"Location Code",value:De.locationCode,onChange:bt=>Ee(tt,"locationCode",bt.target.value),options:m5e,required:!0,fullWidth:!0}),f.jsx(rn,{label:"Shelf Number",value:De.shelfNumber,onChange:bt=>Ee(tt,"shelfNumber",bt.target.value),options:g5e(De.locationCode),required:!0,fullWidth:!0}),f.jsx(Ot,{label:"Quantity",type:"number",value:De.quantity,onChange:bt=>Ee(tt,"quantity",bt.target.value),error:d[`location_${tt}_quantity`],placeholder:"Enter quantity",min:"0",required:!0,fullWidth:!0}),c.length>1&&f.jsx(at,{type:"button",onClick:()=>Te(tt),variant:"danger",icon:f.jsx(ui,{size:18}),children:"Remove"})]},tt))]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(rn,{label:"Fulfillment Type",name:"fulfillmentType",value:o.fulfillmentType,onChange:rt,options:o.storeName==="supply & serve"?[{value:"mf",label:"MF"}]:[{value:"fba",label:"FBA"},{value:"mf",label:"MF"}],fullWidth:!0}),f.jsx(rn,{label:"Status",name:"status",value:o.status,onChange:rt,options:[{value:"pending",label:"Pending"},{value:"active",label:"Active"}],fullWidth:!0,required:!0})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"flex gap-2 relative w-full",children:[f.jsx(Ot,{label:"Barcode",name:"barcode",value:o.barcode||"",onChange:rt,placeholder:"Enter barcode manually",fullWidth:!0,style:{paddingRight:44}}),f.jsx("button",{type:"button",onClick:()=>st(),className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:j,children:j?f.jsxs("svg",{className:"animate-spin text-blue-500",width:"18",height:"18",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):f.jsx(pu,{size:18,className:"text-blue-500"})})]}),f.jsx(Ot,{label:"ASIN (separated by commas, if multiple)",name:"asin",value:o.asin,onChange:rt,placeholder:"Enter Amazon ASIN",fullWidth:!0}),S&&f.jsxs("div",{className:"text-red-500 text-sm",children:[S," Please enter details manually."]}),O&&f.jsx("div",{className:"flex items-center text-xs mt-1 text-green-600 dark:text-green-400 pl-1",children:O})]}),!n&&((i==null?void 0:i.role)==="admin"||(i==null?void 0:i.role)==="staff")&&f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx("div",{children:f.jsx(rn,{label:"Store Name",value:o.storeName,onChange:De=>{const tt=De.target.value;l(bt=>({...bt,storeName:tt,fulfillmentType:tt==="supply & serve"?"mf":bt.fulfillmentType})),v(tt==="other"),tt!=="other"&&b("")},options:[{value:"supply & serve",label:"SUPPLY & SERVE"},{value:"APHY",label:"APHY"},{value:"AZTEC",label:"AZTEC"},{value:"ZK",label:"ZK"},{value:"Fahiz",label:"FAHIZ"},{value:"other",label:"OTHER"}]})}),m&&f.jsxs("div",{children:[f.jsx("label",{className:`block text-sm font-medium ${x?"text-slate-200":"text-slate-700"} mb-1`,children:"Other Store Name"}),f.jsx(Ot,{type:"text",value:y,onChange:De=>b(De.target.value),placeholder:"Enter store name",required:m})]})]}),f.jsx("div",{className:"flex items-center justify-end gap-4 pt-2",children:f.jsxs("div",{className:"flex gap-2",children:[f.jsx(at,{type:"button",onClick:He,variant:"primary",icon:f.jsx(hi,{size:18}),children:"Add New Product"}),f.jsx(at,{type:"submit",isLoading:t,variant:"success",icon:f.jsx(hi,{size:18}),children:"Confirm"})]})})]}),f.jsx(zh,{isOpen:p,onClose:()=>g(!1),onBarcodeScanned:Me}),f.jsx(h5e,{isOpen:z,onClose:()=>K(!1),onSuccess:Ft}),f.jsx(WG,{isOpen:V,onClose:pt,onConfirm:ht,title:"Duplicate Stock Detected",message:q?`A product with the same name and barcode already exists at location ${q.location}. Do you want to add stock anyway?`:"",isLoading:t,confirmLabel:"Yes",cancelLabel:"No"}),f.jsx(gn,{isOpen:ee,onClose:()=>Z(!1),title:"Success!",size:"sm",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center gap-3 text-green-600",children:[f.jsx(dI,{size:24}),f.jsx("p",{className:x?"text-slate-200":"text-slate-700",children:I})]}),f.jsx("div",{className:"flex justify-end pt-4",children:f.jsx(at,{variant:"primary",onClick:()=>Z(!1),children:"OK"})})]})}),f.jsx(gn,{isOpen:ge,onClose:Pr,title:"Multiple ASINs Detected",size:"md",children:f.jsxs("div",{className:"space-y-4",children:[f.jsx("p",{className:x?"text-slate-200":"text-slate-700",children:"Multiple ASINs were found for this product. Please select one or more:"}),f.jsx("div",{className:"space-y-3",children:ue.map((De,tt)=>f.jsx("div",{className:`p-3 rounded-lg border cursor-pointer transition-colors ${Ce.includes(De)?x?"border-blue-400 bg-blue-900/20":"border-blue-400 bg-blue-50":x?"border-slate-600 hover:border-blue-400 hover:bg-slate-700":"border-slate-300 hover:border-blue-400 hover:bg-blue-50"}`,onClick:()=>ur(De),children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:`font-mono text-sm ${x?"text-slate-200":"text-slate-800"}`,children:De}),f.jsxs("div",{className:"flex items-center gap-2",children:[Ce.includes(De)&&f.jsx(dI,{size:16,className:"text-blue-500"}),f.jsxs("span",{className:`text-xs ${x?"text-slate-400":"text-slate-500"}`,children:["ASIN ",tt+1]})]})]})},tt))}),f.jsxs("div",{className:"flex justify-between items-center pt-4",children:[f.jsx("div",{className:"text-sm text-slate-500",children:Ce.length>0?`${Ce.length} ASIN(s) selected`:"No ASINs selected"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(at,{variant:"secondary",onClick:Pr,children:"Cancel"}),f.jsx(at,{variant:"primary",onClick:()=>Nt(Ce),disabled:Ce.length===0,children:"Confirm Selection"})]})]})]})}),(qe==null?void 0:qe.hiddenProduct)&&f.jsx(p5e,{isOpen:le,onClose:()=>Le(!1),onUseLocation:pr,onManualLocation:je,hiddenProduct:qe.hiddenProduct,newProductName:qe.newProductName||"New Product"})]})},v5e=[{value:"A1",label:"A1"},{value:"A2",label:"A2"},{value:"A3",label:"A3"},{value:"A4",label:"A4"},{value:"A5",label:"A5"},{value:"A6",label:"A6"},{value:"A7",label:"A7"},{value:"A8",label:"A8"},{value:"B1",label:"B1"},{value:"B2",label:"B2"},{value:"B3",label:"B3"},{value:"B4",label:"B4"},{value:"B5",label:"B5"},{value:"B6",label:"B6"},{value:"B7",label:"B7"},{value:"B8",label:"B8"},{value:"C1",label:"C1"},{value:"C2",label:"C2"},{value:"C3",label:"C3"},{value:"C4",label:"C4"},{value:"C5",label:"C5"},{value:"C6",label:"C6"},{value:"C7",label:"C7"},{value:"C8",label:"C8"},{value:"D1",label:"D1"},{value:"D2",label:"D2"},{value:"D3",label:"D3"},{value:"D4",label:"D4"},{value:"D5",label:"D5"},{value:"D6",label:"D6"},{value:"D7",label:"D7"},{value:"D8",label:"D8"},{value:"E1",label:"E1"},{value:"E2",label:"E2"},{value:"E3",label:"E3"},{value:"E4",label:"E4"},{value:"E5",label:"E5"},{value:"E6",label:"E6"},{value:"E7",label:"E7"},{value:"E8",label:"E8"},{value:"F1",label:"F1"},{value:"F2",label:"F2"},{value:"F3",label:"F3"},{value:"F4",label:"F4"},{value:"F5",label:"F5"},{value:"F6",label:"F6"},{value:"F7",label:"F7"},{value:"F8",label:"F8"},{value:"G1",label:"G1"},{value:"G2",label:"G2"},{value:"G3",label:"G3"},{value:"G4",label:"G4"},{value:"G5",label:"G5"},{value:"G6",label:"G6"},{value:"G7",label:"G7"},{value:"G8",label:"G8"},{value:"H1",label:"H1"},{value:"H2",label:"H2"},{value:"H3",label:"H3"},{value:"H4",label:"H4"},{value:"H5",label:"H5"},{value:"H6",label:"H6"},{value:"H7",label:"H7"},{value:"H8",label:"H8"},{value:"I1",label:"I1"},{value:"I2",label:"I2"},{value:"I3",label:"I3"},{value:"I4",label:"I4"},{value:"I5",label:"I5"},{value:"I6",label:"I6"},{value:"I7",label:"I7"},{value:"I8",label:"I8"},{value:"J1",label:"J1"},{value:"J2",label:"J2"},{value:"J3",label:"J3"},{value:"J4",label:"J4"},{value:"J5",label:"J5"},{value:"J6",label:"J6"},{value:"J7",label:"J7"},{value:"J8",label:"J8"},{value:"K1",label:"K1"},{value:"K2",label:"K2"},{value:"K3",label:"K3"},{value:"K4",label:"K4"},{value:"K5",label:"K5"},{value:"K6",label:"K6"},{value:"K7",label:"K7"},{value:"K8",label:"K8"},{value:"L1",label:"L1"},{value:"L2",label:"L2"},{value:"L3",label:"L3"},{value:"L4",label:"L4"},{value:"L5",label:"L5"},{value:"L6",label:"L6"},{value:"L7",label:"L7"},{value:"L8",label:"L8"},{value:"M1",label:"M1"},{value:"M2",label:"M2"},{value:"M3",label:"M3"},{value:"M4",label:"M4"},{value:"M5",label:"M5"},{value:"M6",label:"M6"},{value:"M7",label:"M7"},{value:"M8",label:"M8"},{value:"N1",label:"N1"},{value:"N2",label:"N2"},{value:"N3",label:"N3"},{value:"N4",label:"N4"},{value:"N5",label:"N5"},{value:"N6",label:"N6"},{value:"N7",label:"N7"},{value:"N8",label:"N8"},{value:"O1",label:"O1"},{value:"O2",label:"O2"},{value:"O3",label:"O3"},{value:"O4",label:"O4"},{value:"O5",label:"O5"},{value:"O6",label:"O6"},{value:"O7",label:"O7"},{value:"O8",label:"O8"},{value:"P1",label:"P1"},{value:"P2",label:"P2"},{value:"P3",label:"P3"},{value:"P4",label:"P4"},{value:"P5",label:"P5"},{value:"P6",label:"P6"},{value:"P7",label:"P7"},{value:"P8",label:"P8"},{value:"Q1",label:"Q1"},{value:"Q2",label:"Q2"},{value:"Q3",label:"Q3"},{value:"Q4",label:"Q4"},{value:"Q5",label:"Q5"},{value:"Q6",label:"Q6"},{value:"Q7",label:"Q7"},{value:"Q8",label:"Q8"},{value:"R1",label:"R1"},{value:"R2",label:"R2"},{value:"R3",label:"R3"},{value:"R4",label:"R4"},{value:"R5",label:"R5"},{value:"R6",label:"R6"},{value:"R7",label:"R7"},{value:"R8",label:"R8"},{value:"S1",label:"S1"},{value:"S2",label:"S2"},{value:"S3",label:"S3"},{value:"S4",label:"S4"},{value:"S5",label:"S5"},{value:"S6",label:"S6"},{value:"S7",label:"S7"},{value:"S8",label:"S8"},{value:"T1",label:"T1"},{value:"T2",label:"T2"},{value:"T3",label:"T3"},{value:"T4",label:"T4"},{value:"T5",label:"T5"},{value:"T6",label:"T6"},{value:"T7",label:"T7"},{value:"T8",label:"T8"},{value:"U1",label:"U1"},{value:"U2",label:"U2"},{value:"U3",label:"U3"},{value:"U4",label:"U4"},{value:"U5",label:"U5"},{value:"U6",label:"U6"},{value:"U7",label:"U7"},{value:"U8",label:"U8"},{value:"V1",label:"V1"},{value:"V2",label:"V2"},{value:"V3",label:"V3"},{value:"V4",label:"V4"},{value:"V5",label:"V5"},{value:"V6",label:"V6"},{value:"V7",label:"V7"},{value:"V8",label:"V8"},{value:"W1",label:"W1"},{value:"W2",label:"W2"},{value:"W3",label:"W3"},{value:"W4",label:"W4"},{value:"W5",label:"W5"},{value:"W6",label:"W6"},{value:"W7",label:"W7"},{value:"W8",label:"W8"},{value:"X1",label:"X1"},{value:"X2",label:"X2"},{value:"X3",label:"X3"},{value:"X4",label:"X4"},{value:"X5",label:"X5"},{value:"X6",label:"X6"},{value:"X7",label:"X7"},{value:"X8",label:"X8"},{value:"Y1",label:"Y1"},{value:"Y2",label:"Y2"},{value:"Y3",label:"Y3"},{value:"Y4",label:"Y4"},{value:"Y5",label:"Y5"},{value:"Y6",label:"Y6"},{value:"Y7",label:"Y7"},{value:"Y8",label:"Y8"},{value:"Z1",label:"Z1"},{value:"Z2",label:"Z2"},{value:"Z3",label:"Z3"},{value:"Z4",label:"Z4"},{value:"Z5",label:"Z5"},{value:"Z6",label:"Z6"},{value:"Z7",label:"Z7"},{value:"Z8",label:"Z8"},{value:"Awaiting Location",label:"Awaiting Location"},{value:"Awaiting Locations Sparklin",label:"Awaiting Locations Sparklin"},{value:"Awaiting Locations Aztec",label:"Awaiting Locations Aztec"}],y5e=e=>Xf(e),x5e=["supply & serve","APHY","AZTEC","ZK","Fahiz"],DM=[{value:"Rayburns Trading",label:"RAYBURNS TRADING"},{value:"Intamarque",label:"INTAMARQUE"},{value:"Sian Wholesale",label:"SIAN WHOLESALE"},{value:"DMG",label:"DMG"},{value:"CVT",label:"CVT"},{value:"Wholesale Trading Supplies",label:"WHOLESALE TRADING SUPPLIES"},{value:"HJA",label:"HJA"},{value:"Price Check",label:"PRICE CHECK"},{value:"other",label:"OTHER"}],GG=({item:e,onSubmit:t,isLoading:r=!1})=>{const{isDarkMode:n}=un(),{user:a}=xa(),[i,s]=F.useState(null),o=()=>{switch(a==null?void 0:a.role){case"fahiz":return"fahiz";case"aphy":return"APHY";case"supply_serve":return"supply & serve";default:return e.storeName}},l=(a==null?void 0:a.role)==="admin"?e.storeName:o(),c=l&&!x5e.includes(l),u=DM.some(k=>k.value===(e.supplier||"")),d=u?e.supplier||"":"other",h=u?"":e.supplier||"",[p,g]=F.useState({name:e.name,quantity:e.quantity.toString(),price:e.price.toString(),unit:e.unit||"",supplier:d,locationCode:e.locationCode,shelfNumber:e.shelfNumber,asin:e.asin||"",status:e.status,damagedItems:e.damagedItems.toString(),fulfillmentType:(c?"other":e.storeName||"supply & serve")==="supply & serve"?"mf":e.fulfillmentType,storeName:c?"other":e.storeName||"supply & serve",barcode:e.barcode||""}),[m,v]=F.useState(c),[y,b]=F.useState(c?l:""),[x,O]=F.useState(d==="other"),[P,j]=F.useState(h),[T,S]=F.useState(!1);F.useEffect(()=>{p.storeName==="supply & serve"&&p.fulfillmentType!=="mf"&&g(k=>({...k,fulfillmentType:"mf"}))},[p.storeName,p.fulfillmentType]);const _=k=>{const{name:V,value:Q}=k.target;if(V==="damagedItems"){const W=Number(Q),G=Number(p.quantity);if(W<0){s("Damaged items cannot be negative");return}s(null),g(q=>({...q,damagedItems:Q,quantity:(G-(W-Number(q.damagedItems))).toString()}));return}V==="supplier"&&(O(Q==="other"),Q!=="other"&&j("")),g(W=>({...W,[V]:Q}))},D=k=>{g(V=>({...V,barcode:k})),S(!1)},E=async k=>{if(k.preventDefault(),N())try{const V={id:e.id,name:p.name,quantity:parseInt(p.quantity),price:(a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="fahiz"||(a==null?void 0:a.role)==="aphy"||(a==null?void 0:a.role)==="supply_serve"?parseFloat(p.price):e.price,unit:p.unit||null,supplier:p.supplier==="other"?P:p.supplier||null,locationCode:p.locationCode,shelfNumber:p.shelfNumber,asin:p.asin||null,status:(a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="fahiz"||(a==null?void 0:a.role)==="aphy"||(a==null?void 0:a.role)==="supply_serve"?p.status:"pending",damagedItems:parseInt(p.damagedItems),fulfillmentType:p.fulfillmentType,lastUpdated:new Date,storeName:p.storeName==="other"?y:p.storeName,barcode:p.barcode||null};await t(V,e)}catch(V){console.error("Error updating stock:",V),s("Failed to update stock. Please try again.")}},N=()=>p.name.trim()?!p.quantity||parseInt(p.quantity)<0?(s("Quantity must be a positive number"),!1):((a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="fahiz"||(a==null?void 0:a.role)==="aphy"||(a==null?void 0:a.role)==="supply_serve")&&(!p.price||parseFloat(p.price)<0)?(s("Price must be a positive number"),!1):!p.locationCode||!p.shelfNumber?(s("Location and shelf number are required"),!1):(s(null),!0):(s("Product name is required"),!1);return f.jsxs("form",{onSubmit:E,className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(Ot,{label:"Product Name",name:"name",value:p.name,onChange:_,placeholder:"Enter product name",required:!0,fullWidth:!0}),(a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="fahiz"||(a==null?void 0:a.role)==="aphy"||(a==null?void 0:a.role)==="supply_serve"?f.jsx(rn,{label:"Status",name:"status",value:p.status,onChange:_,options:[{value:"pending",label:"Pending"},{value:"active",label:"Active"}],fullWidth:!0,required:!0}):f.jsx(Ot,{label:"Status",name:"status",value:"pending",disabled:!0,fullWidth:!0})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(Ot,{label:"Quantity",name:"quantity",type:"number",value:p.quantity,onChange:_,placeholder:"Enter quantity",min:"0",required:!0,fullWidth:!0}),((a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="fahiz"||(a==null?void 0:a.role)==="aphy"||(a==null?void 0:a.role)==="supply_serve")&&f.jsx(Ot,{label:"Price",name:"price",type:"number",value:p.price,onChange:_,placeholder:"Enter price",min:"0",step:"0.01",fullWidth:!0}),f.jsx(Ot,{label:"Unit (Optional)",name:"unit",value:p.unit,onChange:_,placeholder:"e.g. ML, GM, PC, etc.",fullWidth:!0}),f.jsx(rn,{label:"Fulfillment Type",name:"fulfillmentType",value:p.fulfillmentType,onChange:_,options:p.storeName==="supply & serve"?[{value:"mf",label:"MF"}]:[{value:"fba",label:"FBA"},{value:"mf",label:"MF"}],fullWidth:!0})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(rn,{label:"Location Code",name:"locationCode",value:p.locationCode,onChange:_,options:v5e,required:!0,fullWidth:!0}),f.jsx(rn,{label:"Shelf Number",name:"shelfNumber",value:p.shelfNumber,onChange:_,options:y5e(p.locationCode),required:!0,fullWidth:!0})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"flex gap-2 relative w-full",children:[f.jsx(Ot,{label:"Barcode",name:"barcode",value:p.barcode||"",onChange:_,placeholder:"Enter barcode manually",fullWidth:!0,style:{paddingRight:44}}),f.jsx("button",{type:"button",onClick:()=>S(!0),className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Scan barcode",tabIndex:0,"aria-label":"Scan barcode",children:f.jsx(pu,{size:18,className:"text-blue-500"})})]}),f.jsx(Ot,{label:"ASIN",name:"asin",value:p.asin,onChange:_,placeholder:"Enter Amazon ASIN",fullWidth:!0})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx("div",{children:f.jsx(rn,{label:"Supplier",name:"supplier",value:p.supplier,onChange:_,options:DM,required:!0,fullWidth:!0})}),((a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="staff")&&f.jsxs("div",{children:[f.jsx("label",{className:`block text-sm font-medium ${n?"text-slate-300":"text-slate-700"} mb-1`,children:"Store Name"}),f.jsx(rn,{value:p.storeName,onChange:k=>{const V=k.target.value;g(Q=>({...Q,storeName:V,fulfillmentType:V==="supply & serve"?"mf":Q.fulfillmentType})),v(V==="other"),V!=="other"&&b("")},options:[{value:"supply & serve",label:"SUPPLY & SERVE"},{value:"APHY",label:"APHY"},{value:"AZTEC",label:"AZTEC"},{value:"ZK",label:"ZK"},{value:"Fahiz",label:"FAHIZ"},{value:"other",label:"OTHER"}]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x&&f.jsx(Ot,{label:"Other Supplier",value:P,onChange:k=>j(k.target.value),placeholder:"Enter supplier name",required:x,fullWidth:!0}),((a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="staff")&&m&&!x&&f.jsxs("div",{children:[f.jsx("label",{className:`block text-sm font-medium ${n?"text-slate-300":"text-slate-700"} mb-1`,children:"Other Store Name"}),f.jsx(Ot,{type:"text",value:y,onChange:k=>b(k.target.value),placeholder:"Enter store name",required:m})]}),((a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="staff")&&m&&x&&f.jsxs("div",{children:[f.jsx("label",{className:`block text-sm font-medium ${n?"text-slate-300":"text-slate-700"} mb-1`,children:"Other Store Name"}),f.jsx(Ot,{type:"text",value:y,onChange:k=>b(k.target.value),placeholder:"Enter store name",required:m})]}),f.jsxs("div",{children:[f.jsx(Ot,{label:"Damaged Items",name:"damagedItems",type:"number",value:p.damagedItems,onChange:_,placeholder:"Enter number of damaged items",min:"0",fullWidth:!0,className:i?"border-red-500 focus:border-red-500":""}),i&&f.jsx("p",{className:"mt-1 text-sm text-red-500",children:i})]})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"}),f.jsx("div",{className:"flex justify-end",children:f.jsx(at,{type:"submit",isLoading:r,icon:f.jsx(hi,{size:18}),children:"Update Product"})}),f.jsx(zh,{isOpen:T,onClose:()=>S(!1),onBarcodeScanned:D})]})},b5e=[{value:"A1",label:"A1"},{value:"A2",label:"A2"},{value:"A3",label:"A3"},{value:"A4",label:"A4"},{value:"A5",label:"A5"},{value:"A6",label:"A6"},{value:"A7",label:"A7"},{value:"A8",label:"A8"},{value:"B1",label:"B1"},{value:"B2",label:"B2"},{value:"B3",label:"B3"},{value:"B4",label:"B4"},{value:"B5",label:"B5"},{value:"B6",label:"B6"},{value:"B7",label:"B7"},{value:"B8",label:"B8"},{value:"C1",label:"C1"},{value:"C2",label:"C2"},{value:"C3",label:"C3"},{value:"C4",label:"C4"},{value:"C5",label:"C5"},{value:"C6",label:"C6"},{value:"C7",label:"C7"},{value:"C8",label:"C8"},{value:"D1",label:"D1"},{value:"D2",label:"D2"},{value:"D3",label:"D3"},{value:"D4",label:"D4"},{value:"D5",label:"D5"},{value:"D6",label:"D6"},{value:"D7",label:"D7"},{value:"D8",label:"D8"},{value:"E1",label:"E1"},{value:"E2",label:"E2"},{value:"E3",label:"E3"},{value:"E4",label:"E4"},{value:"E5",label:"E5"},{value:"E6",label:"E6"},{value:"E7",label:"E7"},{value:"E8",label:"E8"},{value:"F1",label:"F1"},{value:"F2",label:"F2"},{value:"F3",label:"F3"},{value:"F4",label:"F4"},{value:"F5",label:"F5"},{value:"F6",label:"F6"},{value:"F7",label:"F7"},{value:"F8",label:"F8"},{value:"G1",label:"G1"},{value:"G2",label:"G2"},{value:"G3",label:"G3"},{value:"G4",label:"G4"},{value:"G5",label:"G5"},{value:"G6",label:"G6"},{value:"G7",label:"G7"},{value:"G8",label:"G8"},{value:"H1",label:"H1"},{value:"H2",label:"H2"},{value:"H3",label:"H3"},{value:"H4",label:"H4"},{value:"H5",label:"H5"},{value:"H6",label:"H6"},{value:"H7",label:"H7"},{value:"H8",label:"H8"},{value:"I1",label:"I1"},{value:"I2",label:"I2"},{value:"I3",label:"I3"},{value:"I4",label:"I4"},{value:"I5",label:"I5"},{value:"I6",label:"I6"},{value:"I7",label:"I7"},{value:"I8",label:"I8"},{value:"J1",label:"J1"},{value:"J2",label:"J2"},{value:"J3",label:"J3"},{value:"J4",label:"J4"},{value:"J5",label:"J5"},{value:"J6",label:"J6"},{value:"J7",label:"J7"},{value:"J8",label:"J8"},{value:"K1",label:"K1"},{value:"K2",label:"K2"},{value:"K3",label:"K3"},{value:"K4",label:"K4"},{value:"K5",label:"K5"},{value:"K6",label:"K6"},{value:"K7",label:"K7"},{value:"K8",label:"K8"},{value:"L1",label:"L1"},{value:"L2",label:"L2"},{value:"L3",label:"L3"},{value:"L4",label:"L4"},{value:"L5",label:"L5"},{value:"L6",label:"L6"},{value:"L7",label:"L7"},{value:"L8",label:"L8"},{value:"M1",label:"M1"},{value:"M2",label:"M2"},{value:"M3",label:"M3"},{value:"M4",label:"M4"},{value:"M5",label:"M5"},{value:"M6",label:"M6"},{value:"M7",label:"M7"},{value:"M8",label:"M8"},{value:"N1",label:"N1"},{value:"N2",label:"N2"},{value:"N3",label:"N3"},{value:"N4",label:"N4"},{value:"N5",label:"N5"},{value:"N6",label:"N6"},{value:"N7",label:"N7"},{value:"N8",label:"N8"},{value:"O1",label:"O1"},{value:"O2",label:"O2"},{value:"O3",label:"O3"},{value:"O4",label:"O4"},{value:"O5",label:"O5"},{value:"O6",label:"O6"},{value:"O7",label:"O7"},{value:"O8",label:"O8"},{value:"P1",label:"P1"},{value:"P2",label:"P2"},{value:"P3",label:"P3"},{value:"P4",label:"P4"},{value:"P5",label:"P5"},{value:"P6",label:"P6"},{value:"P7",label:"P7"},{value:"P8",label:"P8"},{value:"Q1",label:"Q1"},{value:"Q2",label:"Q2"},{value:"Q3",label:"Q3"},{value:"Q4",label:"Q4"},{value:"Q5",label:"Q5"},{value:"Q6",label:"Q6"},{value:"Q7",label:"Q7"},{value:"Q8",label:"Q8"},{value:"R1",label:"R1"},{value:"R2",label:"R2"},{value:"R3",label:"R3"},{value:"R4",label:"R4"},{value:"R5",label:"R5"},{value:"R6",label:"R6"},{value:"R7",label:"R7"},{value:"R8",label:"R8"},{value:"S1",label:"S1"},{value:"S2",label:"S2"},{value:"S3",label:"S3"},{value:"S4",label:"S4"},{value:"S5",label:"S5"},{value:"S6",label:"S6"},{value:"S7",label:"S7"},{value:"S8",label:"S8"},{value:"T1",label:"T1"},{value:"T2",label:"T2"},{value:"T3",label:"T3"},{value:"T4",label:"T4"},{value:"T5",label:"T5"},{value:"T6",label:"T6"},{value:"T7",label:"T7"},{value:"T8",label:"T8"},{value:"U1",label:"U1"},{value:"U2",label:"U2"},{value:"U3",label:"U3"},{value:"U4",label:"U4"},{value:"U5",label:"U5"},{value:"U6",label:"U6"},{value:"U7",label:"U7"},{value:"U8",label:"U8"},{value:"V1",label:"V1"},{value:"V2",label:"V2"},{value:"V3",label:"V3"},{value:"V4",label:"V4"},{value:"V5",label:"V5"},{value:"V6",label:"V6"},{value:"V7",label:"V7"},{value:"V8",label:"V8"},{value:"W1",label:"W1"},{value:"W2",label:"W2"},{value:"W3",label:"W3"},{value:"W4",label:"W4"},{value:"W5",label:"W5"},{value:"W6",label:"W6"},{value:"W7",label:"W7"},{value:"W8",label:"W8"},{value:"X1",label:"X1"},{value:"X2",label:"X2"},{value:"X3",label:"X3"},{value:"X4",label:"X4"},{value:"X5",label:"X5"},{value:"X6",label:"X6"},{value:"X7",label:"X7"},{value:"X8",label:"X8"},{value:"Y1",label:"Y1"},{value:"Y2",label:"Y2"},{value:"Y3",label:"Y3"},{value:"Y4",label:"Y4"},{value:"Y5",label:"Y5"},{value:"Y6",label:"Y6"},{value:"Y7",label:"Y7"},{value:"Y8",label:"Y8"},{value:"Z1",label:"Z1"},{value:"Z2",label:"Z2"},{value:"Z3",label:"Z3"},{value:"Z4",label:"Z4"},{value:"Z5",label:"Z5"},{value:"Z6",label:"Z6"},{value:"Z7",label:"Z7"},{value:"Z8",label:"Z8"},{value:"Awaiting Location",label:"Awaiting Location"},{value:"Awaiting Locations Sparklin",label:"Awaiting Locations Sparklin"},{value:"Awaiting Locations Aztec",label:"Awaiting Locations Aztec"}],KG=({onSubmit:e,onClose:t,isLoading:r=!1})=>{const[n,a]=F.useState([]),[i,s]=F.useState({name:"",locationCode:"A1",shelfNumber:"0",barcode:"",quantity:""}),[o,l]=F.useState({}),[c,u]=F.useState(!1),[d,h]=F.useState(null),[p,g]=F.useState(!1),[m,v]=F.useState(null),y=F.useRef(null);F.useEffect(()=>{a(Xf(i.locationCode))},[]),F.useEffect(()=>{a(Xf(i.locationCode));const S=Xf(i.locationCode).length-1;parseInt(i.shelfNumber)>S&&s(_=>({..._,shelfNumber:"0"}))},[i.locationCode]);const b=S=>{const{name:_,value:D}=S.target;s(E=>({...E,[_]:D})),o[_]&&l(E=>{const N={...E};return delete N[_],N}),_==="barcode"&&D.length===13&&!p?(y.current&&clearTimeout(y.current),y.current=setTimeout(()=>{D.length===13&&P(D)},500)):_==="barcode"&&D.length!==13&&y.current&&(clearTimeout(y.current),y.current=null)},x=()=>{u(!0)},O=async S=>{s(D=>({...D,barcode:S})),h(null),v(null),g(!0);let _=!1;try{const D=lr(At(Xe,"scannedProducts"),or("barcode","==",S)),E=await dr(D);if(E.empty){const k=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${S}`,Q=await(await fetch(k)).json();if(Q&&Q.items&&Q.items.length>0){const W=Q.items[0];s(G=>({...G,name:W.title||G.name})),h("Product name auto-filled from external database."),_=!0}else h("No product found for this barcode. Please enter details manually.")}else{const N=E.docs[0].data();s(k=>({...k,name:N.name||k.name})),h("Product name auto-filled from scanned products."),_=!0}}catch{v("Failed to fetch product info."),h("Failed to search for product. Please enter details manually.")}finally{g(!1),!_&&S.length===13&&setTimeout(()=>{P(S)},100)}},P=async S=>{const _=S||i.barcode;if(!(!_||p)){v(null),g(!0);try{const D=lr(At(Xe,"scannedProducts"),or("barcode","==",_)),E=await dr(D);if(E.empty){const k=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${_}`,Q=await(await fetch(k)).json();if(Q&&Q.items&&Q.items.length>0){const W=Q.items[0];s(G=>({...G,name:W.title||G.name})),h("Product name auto-filled from external database.")}else v("No product info found for this barcode.")}else{const N=E.docs[0].data();s(k=>({...k,name:N.name||k.name})),h("Product name auto-filled from scanned products.")}}catch{v("Failed to fetch product info.")}finally{g(!1)}}},j=()=>{const S={};return i.name.trim()||(S.name="Product name is required"),i.locationCode||(S.locationCode="Location is required"),i.shelfNumber||(S.shelfNumber="Shelf number is required"),(!i.quantity||parseInt(i.quantity)<=0)&&(S.quantity="Quantity must be greater than 0"),l(S),Object.keys(S).length===0},T=async S=>{if(S.preventDefault(),!j())return;const _={name:i.name.toUpperCase(),quantity:parseInt(i.quantity),price:0,unit:null,supplier:"not set",lastUpdated:new Date,locationCode:i.locationCode,shelfNumber:i.shelfNumber,barcode:i.barcode||null,asin:null,status:"pending",damagedItems:0,fulfillmentType:"fba",storeName:"not set"};try{await e([_]),t()}catch(D){console.error("Error adding stock:",D)}};return f.jsxs(f.Fragment,{children:[f.jsxs("form",{onSubmit:T,className:"space-y-4",children:[f.jsx(Ot,{label:"Product Name",name:"name",value:i.name,onChange:b,placeholder:"Enter product name",error:o.name,required:!0,fullWidth:!0}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(rn,{label:"Location Code",name:"locationCode",value:i.locationCode,onChange:b,options:b5e,error:o.locationCode,required:!0,fullWidth:!0}),f.jsx(rn,{label:"Shelf Number",name:"shelfNumber",value:i.shelfNumber,onChange:b,options:n,error:o.shelfNumber,required:!0,fullWidth:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex gap-2 relative w-full",children:[f.jsx(Ot,{label:"Barcode",name:"barcode",value:i.barcode,onChange:b,placeholder:"Enter barcode",fullWidth:!0,style:{paddingRight:44}}),f.jsx("button",{type:"button",onClick:async()=>{if(i.barcode.trim()&&!p){v(null),g(!0);try{await P()}finally{g(!1)}}},className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:p,children:p?f.jsxs("svg",{className:"animate-spin text-blue-500",width:"18",height:"18",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):f.jsx(pu,{size:18,className:"text-blue-500"})})]}),m&&f.jsxs("div",{className:"text-red-500 text-sm",children:[m," Please enter details manually."]}),d&&f.jsx("div",{className:"flex items-center text-xs mt-1 text-green-600 dark:text-green-400 pl-1",children:d}),p&&f.jsxs("div",{className:"flex items-center gap-2 text-blue-500 text-sm",children:[f.jsxs("svg",{className:"w-4 h-4 animate-spin",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Fetching product info..."]})]}),f.jsx(Ot,{label:"Quantity",name:"quantity",type:"number",value:i.quantity,onChange:b,placeholder:"Enter quantity",error:o.quantity,min:"1",required:!0,fullWidth:!0}),f.jsxs("div",{className:"flex items-center justify-end gap-4 pt-2",children:[f.jsx(at,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(at,{type:"submit",isLoading:r,icon:f.jsx(hi,{size:18}),children:"Quick Add"}),f.jsx(at,{type:"button",onClick:x,variant:"primary",icon:f.jsx(pu,{size:18}),className:"whitespace-nowrap",children:"Scan"})]})]})]}),f.jsx(zh,{isOpen:c,onClose:()=>u(!1),onBarcodeScanned:O})]})},Zy=({isOpen:e,onClose:t,item:r})=>{var i,s;const{isDarkMode:n}=un(),{user:a}=xa();return r?f.jsx(gn,{isOpen:e,onClose:t,title:r.name,size:"xl",children:f.jsxs("div",{className:"space-y-6",children:[f.jsx("div",{className:"flex flex-col md:flex-row gap-6",children:f.jsxs("div",{className:"w-full",children:[f.jsx("div",{className:"mb-4 flex items-center justify-between",children:f.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${r.quantity<10?"bg-red-100 text-red-800 ":r.quantity<=25?"bg-yellow-100 text-yellow-800 ":"bg-green-100 text-green-800 "}`,children:r.quantity<10?"Critical Low Stock":r.quantity<=25?"Low Stock":"In Stock"})}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Quantity"}),f.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.quantity})]}),Vs(a)&&f.jsxs("div",{children:[f.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Price"}),f.jsx("p",{className:`mt-1 text-sm ${n?"text-slate-200":"text-slate-900"}`,children:Number(r.price)>0?`${Number(r.price).toFixed(2)}`:"Not set yet"})]}),f.jsxs("div",{children:[f.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Unit"}),f.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.unit||"-"})]}),f.jsxs("div",{children:[f.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Supplier"}),f.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:((i=r.supplier)==null?void 0:i.toUpperCase())||"-"})]}),f.jsxs("div",{children:[f.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Location"}),f.jsxs("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:[r.locationCode," - ",r.shelfNumber]})]}),f.jsxs("div",{children:[f.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"ASIN"}),f.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.asin?r.asin.includes(",")?r.asin.split(",").map((o,l)=>f.jsx("span",{className:"block",children:o.trim()},l)):r.asin:"-"})]}),f.jsxs("div",{children:[f.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Status"}),f.jsx("p",{className:"mt-1",children:f.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:r.status==="active"?"Active":"Pending"})})]}),f.jsxs("div",{children:[f.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Damaged Items"}),f.jsx("p",{className:"mt-1",children:f.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r.damagedItems>0?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:r.damagedItems>0?`${r.damagedItems} Damaged`:"None"})})]}),f.jsxs("div",{children:[f.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Fulfillment Type"}),f.jsx("p",{className:"mt-1",children:f.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r.fulfillmentType==="fba"?"bg-blue-100 text-blue-700":r.fulfillmentType==="mf"?"bg-purple-100 text-purple-700":"bg-indigo-100 text-indigo-700"}`,children:r.fulfillmentType==="fba"?"FBA":r.fulfillmentType==="mf"?"MF":"None"})})]}),f.jsxs("div",{children:[f.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Barcode"}),f.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.barcode||"-"})]}),f.jsxs("div",{children:[f.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Last Updated"}),f.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.lastUpdated&&!isNaN(new Date(r.lastUpdated).getTime())?qt(new Date(r.lastUpdated),"MMM d, yyyy"):"Unknown"})]}),f.jsxs("div",{children:[f.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Store Name"}),f.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:((s=r.storeName)==null?void 0:s.toUpperCase())||"-"})]})]})]})}),f.jsxs("div",{className:`pt-3 border-t ${n?"border-slate-700":"border-slate-200"}`,children:[f.jsxs("div",{className:"flex justify-between items-center mb-2",children:[f.jsx("span",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-700"}`,children:"Stock Level"}),f.jsxs("span",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:[r.quantity," units"]})]}),f.jsxs("div",{className:`h-2 w-full ${n?"bg-slate-700":"bg-slate-200"} rounded-full overflow-hidden relative`,children:[f.jsx("div",{className:`h-full ${r.quantity<10?"bg-red-500":r.quantity<=25?"bg-orange-500":"bg-green-500"}`,style:{width:`${Math.min(r.quantity/50*100,100)}%`}}),f.jsx("div",{className:`absolute top-0 h-full w-0.5 ${n?"bg-red-400":"bg-red-600"}`,style:{left:`calc(${10/50*100}% - 1px)`},title:"Critical Threshold (10 units)"}),f.jsx("div",{className:`absolute top-0 h-full w-0.5 ${n?"bg-orange-400":"bg-orange-600"}`,style:{left:`calc(${25/50*100}% - 1px)`},title:"Low Stock Threshold (25 units)"})]}),f.jsxs("div",{className:`mt-1 flex justify-between text-xs ${n?"text-slate-400":"text-slate-500"}`,children:[f.jsx("span",{children:"0"}),f.jsx("span",{children:"Critical: <10"}),f.jsx("span",{children:"Low: 10-25"}),f.jsx("span",{children:"25+"})]})]})]})}):null},Oh=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,isLoading:i=!1})=>{const{isDarkMode:s}=un();return f.jsx(gn,{isOpen:e,onClose:t,title:n,size:"md",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center gap-3 text-amber-600",children:[f.jsx(l1,{size:24}),f.jsx("p",{className:s?"text-slate-200":"text-slate-700",children:a})]}),f.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[f.jsx(at,{variant:"secondary",onClick:t,disabled:i,className:s?"text-slate-100":"text-slate-700",children:"Cancel"}),f.jsx(at,{variant:"danger",onClick:r,isLoading:i,children:"Delete"})]})]})})},YG=({isOpen:e,onClose:t,onConfirm:r,onCancel:n,onMerge:a,locationCode:i,shelfNumber:s,existingProducts:o,newProductName:l,newProductBarcode:c})=>{const u=o.filter(m=>m.quantity>0),d=u.length,h=u.reduce((m,v)=>m+v.quantity,0),p=c&&u.some(m=>m.barcode===c),g=p?u.find(m=>m.barcode===c):null;return f.jsx(gn,{isOpen:e,onClose:t,title:"Location Already Occupied",size:"md",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx(l1,{className:"w-6 h-6 text-amber-500 mt-1 flex-shrink-0"}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["The location ",f.jsxs("strong",{children:[i,"-",s]})," already contains products."]}),f.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-3",children:u.length>0?f.jsxs(f.Fragment,{children:[f.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-200 font-medium",children:"Current products in this location:"}),f.jsx("ul",{className:"mt-2 space-y-1",children:u.map((m,v)=>f.jsxs("li",{className:"text-sm text-amber-700 dark:text-amber-300",children:[" ",m.name," (",m.quantity," units)",m.barcode&&f.jsxs("span",{className:"text-xs text-amber-600 dark:text-amber-400 ml-2",children:["Barcode: ",m.barcode]})]},v))}),f.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-200 mt-2",children:["Total: ",d," product",d!==1?"s":""," (",h," units)"]})]}):f.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-200 font-medium",children:"This location appears to be empty (all products have 0 quantity)."})}),p&&g&&f.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:[f.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200 font-medium",children:"Merge Available!"}),f.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1",children:['The product "',l,'" has the same barcode (',c,') as "',g.name,'" which is already in this location. You can merge them to add quantity instead of creating a duplicate entry.']})]}),f.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Do you still want to add ",f.jsx("strong",{children:l})," to this location?"]})]})]}),f.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[f.jsx(at,{variant:"secondary",onClick:n,children:"Cancel"}),p&&a&&f.jsx(at,{onClick:a,className:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500",children:"Merge Products"}),f.jsx(at,{onClick:r,className:"bg-amber-600 hover:bg-amber-700 focus:ring-amber-500",children:"Yes, Add Product"})]})]})})},w5e=({isOpen:e,onClose:t,productName:r,barcode:n,existingLocations:a})=>{const{isDarkMode:i}=un();return f.jsx(gn,{isOpen:e,onClose:t,title:"Product Location Information",size:"lg",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:`${i?"bg-blue-900/20 border-blue-800":"bg-blue-50 border-blue-200"} border rounded-lg p-4`,children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx(Bo,{className:`w-5 h-5 ${i?"text-blue-400":"text-blue-600"}`}),f.jsx("h3",{className:`font-semibold ${i?"text-blue-200":"text-blue-900"}`,children:"Product Details"})]}),f.jsxs("div",{className:`text-sm ${i?"text-blue-300":"text-blue-800"}`,children:[f.jsxs("p",{children:[f.jsx("strong",{children:"Name:"})," ",r]}),f.jsxs("p",{children:[f.jsx("strong",{children:"Barcode:"})," ",n]})]})]}),f.jsxs("div",{className:`${i?"bg-green-900/20 border-green-800":"bg-green-50 border-green-200"} border rounded-lg p-4`,children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[f.jsx(Qk,{className:`w-5 h-5 ${i?"text-green-400":"text-green-600"}`}),f.jsxs("h3",{className:`font-semibold ${i?"text-green-200":"text-green-900"}`,children:["Current Locations (",a.length,")"]})]}),a.length>0?f.jsx("div",{className:"space-y-2",children:a.map((s,o)=>f.jsx("div",{className:`${i?"bg-slate-700 border-slate-600":"bg-white border-slate-200"} rounded-lg p-3 border`,children:f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("p",{className:`font-medium ${i?"text-slate-100":"text-slate-900"}`,children:[s.locationCode," - ",s.shelfNumber]}),f.jsxs("p",{className:`text-sm font-semibold ${i?"text-slate-200":"text-slate-700"}`,children:[s.quantity," units"]})]})},o))}):f.jsx("p",{className:`text-sm ${i?"text-green-300":"text-green-700"}`,children:"This product is not currently in any location."})]}),f.jsx("div",{className:"flex justify-end pt-4",children:f.jsx(at,{variant:"secondary",onClick:t,className:i?"text-slate-100":"text-slate-700",children:"Close"})})]})})},_5e=()=>{var sa,Un;const[e,t]=F.useState(""),[r,n]=F.useState(""),[a,i]=F.useState("name"),[s,o]=F.useState(!1),[l,c]=F.useState("date"),[u,d]=F.useState(!1),[h,p]=F.useState(!1),[g,m]=F.useState(!1),[v,y]=F.useState(!1),[b,x]=F.useState(!1),[O,P]=F.useState(null),[j,T]=F.useState([]),[S,_]=F.useState(new Set),[D,E]=F.useState(!1),{showToast:N}=_c(),{isDarkMode:k}=un(),{user:V}=xa(),[Q,W]=F.useState(!1),[G,q]=F.useState(null),[U,ee]=F.useState(!1),[Z,I]=F.useState(!1),[M,z]=F.useState(null),[K,X]=F.useState(null),[ae,ue]=F.useState(null),[ie,ge]=F.useState(!1),[ye,H]=F.useState("all"),[ke,Ce]=F.useState(!1),[_e,le]=F.useState({min:null,max:null}),[Le,qe]=F.useState(!1),[Ke,rt]=F.useState(null),[Ee,Re]=F.useState(!1),[Te,Me]=F.useState(null);F.useEffect(()=>{const Ne=setTimeout(()=>{n(e)},300);return()=>{clearTimeout(Ne)}},[e]);const We=F.useCallback(async()=>{x(!0);try{const Ne=lr(At(Xe,"inventory"),Ua("name")),ut=(await dr(Ne)).docs.map(te=>{const ve=te.data();return{id:te.id,...ve,lastUpdated:ve.lastUpdated instanceof sr?ve.lastUpdated.toDate():new Date(ve.lastUpdated)}});T(ut)}catch(Ne){N("Failed to fetch stock items","error"),console.log(Ne)}finally{x(!1)}},[N]),st=F.useCallback(async()=>{try{const Ne=At(Xe,"inventory"),it=await VC(Ne);rt(it.data().count)}catch{rt(null)}},[]);F.useEffect(()=>{We(),st()},[We,st]),F.useEffect(()=>{const Ne=it=>{const ut=it.target;ut.closest(".store-filter-dropdown")||ge(!1),ut.closest(".status-filter-dropdown")||Ce(!1),ut.closest(".search-type-dropdown")||o(!1),ut.closest(".quantity-filter-dropdown")||qe(!1)};return(ie||ke||s||Le)&&document.addEventListener("mousedown",Ne),()=>{document.removeEventListener("mousedown",Ne)}},[ie,ke,s,Le]);const ct=F.useMemo(()=>{const Ne=[{value:"date",label:"Date Updated"},{value:"quantity",label:"Quantity (High-Low)"},{value:"name",label:"Name (A-Z)"}];return Vs(V)&&Ne.push({value:"price",label:"Price (High-Low)"}),Ne},[V]),xt=F.useMemo(()=>["supply & serve","APHY","AZTEC","ZK","Fahiz"],[]),ht=F.useCallback(Ne=>({"supply & serve":"bg-blue-100 text-blue-700",APHY:"bg-green-100 text-green-700",AZTEC:"bg-purple-100 text-purple-700",ZK:"bg-orange-100 text-orange-700",Fahiz:"bg-pink-100 text-pink-700"})[Ne]||"bg-gray-100 text-gray-700",[]),pt=F.useMemo(()=>{const Ne=r.toLowerCase();return j.filter(it=>{if(it.quantity===0)return!1;let ut=!0;if(r!=="")switch(a){case"name":ut=it.name.toLowerCase().includes(Ne);break;case"barcode":ut=!!(it.barcode&&it.barcode.toLowerCase().includes(Ne));break;case"asin":ut=!!(it.asin&&it.asin.split(",").some(me=>me.trim().toLowerCase().includes(Ne)));break;case"location":ut=`${it.locationCode}-${it.shelfNumber}`.toLowerCase().includes(Ne);break;default:ut=!0}const te=ae?ae.fulfillmentType==="all"?ae.storeName==="other"?!xt.includes(it.storeName):it.storeName===ae.storeName:ae.storeName==="other"?!xt.includes(it.storeName)&&it.fulfillmentType===ae.fulfillmentType:it.storeName===ae.storeName&&it.fulfillmentType===ae.fulfillmentType:!0,ve=ye==="all"||it.status===ye,he=!_e.min&&!_e.max?!0:(!_e.min||it.quantity>=_e.min)&&(!_e.max||it.quantity<=_e.max);return ut&&te&&ve&&he}).sort((it,ut)=>l==="name"?it.name.localeCompare(ut.name):l==="quantity"?ut.quantity-it.quantity:l==="price"?ut.price-it.price:l==="date"?new Date(ut.lastUpdated).getTime()-new Date(it.lastUpdated).getTime():0)},[j,r,a,ae,ye,_e,l,xt]),He=F.useCallback((Ne,it)=>j.filter(ut=>ut.locationCode===Ne&&ut.shelfNumber===it),[j]),Ft=F.useCallback(Ne=>j.filter(it=>it.barcode===Ne&&it.quantity>0),[j]),Nt=F.useCallback((Ne,it)=>{const ut=Ft(it);ut.length>0&&(Me({productName:Ne,barcode:it,existingLocations:ut}),Re(!0))},[Ft]),Pr=F.useCallback(async Ne=>{x(!0);try{const it=[];for(const ut of Ne)if(ut.barcode){const te=lr(At(Xe,"inventory"),or("barcode","==",ut.barcode),or("quantity","==",0)),ve=await dr(te);if(!ve.empty){const he=ve.docs[0];if(await Bs(kr(Xe,"inventory",he.id)),T(me=>me.filter(xe=>xe.id!==he.id)),V){const me=he.data();await vr(At(Xe,"activityLogs"),{user:V.name,role:V.role,detail:`deleted hidden product "${me.name}" with barcode ${ut.barcode} from location ${me.locationCode}-${me.shelfNumber}`,time:new Date().toISOString()})}}}for(const ut of Ne){const te=await vr(At(Xe,"inventory"),{...ut,lastUpdated:sr.fromDate(new Date)});it.push({...ut,id:te.id,lastUpdated:new Date})}if(V){const ut=Ne.reduce((ve,he)=>ve+he.quantity,0),te=Ne.map(ve=>`${ve.quantity} at ${ve.locationCode}-${ve.shelfNumber}`).join(", ");await vr(At(Xe,"activityLogs"),{user:V.name,role:V.role,detail:`added new product "${Ne[0].name}" with total quantity ${ut} (${te})`,time:new Date().toISOString()})}T(ut=>[...ut,...it]),d(!1),ee(!1),N("Stock items added successfully","success")}catch(it){console.log(it),N("Failed to add stock items","error")}finally{x(!1)}},[V,N]),ur=F.useCallback(async Ne=>{const it=[];for(const ut of Ne){const te=He(ut.locationCode,ut.shelfNumber);te.length>0&&it.push({locationCode:ut.locationCode,shelfNumber:ut.shelfNumber,products:te})}if(it.length>0){const ut=it[0];X({locationCode:ut.locationCode,shelfNumber:ut.shelfNumber,existingProducts:ut.products,newProductName:Ne[0].name,newProductBarcode:Ne[0].barcode||void 0}),z(Ne),I(!0);return}await Pr(Ne)},[He,Pr]),pr=F.useCallback(async()=>{M&&(await Pr(M),I(!1),z(null),X(null),d(!1),ee(!1))},[M,Pr]),je=F.useCallback(()=>{I(!1),z(null),X(null),d(!1),ee(!1)},[]),De=F.useCallback(async()=>{if(M&&K)try{x(!0);const Ne=K.existingProducts.find(it=>it.barcode===K.newProductBarcode);if(Ne){const it=Ne.quantity+M[0].quantity,ut=kr(Xe,"inventory",Ne.id);await Wn(ut,{quantity:it,lastUpdated:sr.fromDate(new Date)}),V&&(await vr(At(Xe,"activityLogs"),{user:V.name,role:V.role,detail:`merged ${M[0].quantity} units of "${M[0].name}" with existing stock "${Ne.name}" at location ${K.locationCode}-${K.shelfNumber}`,time:new Date().toISOString()}),await vr(At(Xe,"activityLogs"),{user:V.name,role:V.role,detail:`edited product "${Ne.name}": quantity from ${Ne.quantity} to ${it}`,time:new Date().toISOString()})),await We(),N("Products merged successfully","success")}}catch(Ne){N("Failed to merge products","error"),console.log(Ne)}finally{x(!1),I(!1),z(null),X(null),d(!1),ee(!1)}},[M,K,V,We,N]),tt=F.useCallback(async(Ne,it)=>{x(!0);try{const ut=new Date,te={},ve=[];if(Ne.name!==it.name&&(te.name=Ne.name,ve.push(`name from "${it.name}" to "${Ne.name}"`)),Ne.price!==it.price){te.price=Ne.price;const he=Number(it.price||0).toFixed(2),me=Number(Ne.price||0).toFixed(2);ve.push(`price from ${he} to ${me}`)}if((Ne.locationCode!==it.locationCode||Ne.shelfNumber!==it.shelfNumber)&&(te.locationCode=Ne.locationCode,te.shelfNumber=Ne.shelfNumber,ve.push(`location from ${it.locationCode}-${it.shelfNumber} to ${Ne.locationCode}-${Ne.shelfNumber}`)),Ne.supplier!==it.supplier&&(te.supplier=Ne.supplier,ve.push(`supplier from "${it.supplier||"none"}" to "${Ne.supplier||"none"}"`)),Ne.asin!==it.asin&&(te.asin=Ne.asin,ve.push(`ASIN from "${it.asin||"none"}" to "${Ne.asin||"none"}"`)),Ne.status!==it.status&&(te.status=Ne.status,ve.push(`status from "${it.status}" to "${Ne.status}"`)),Ne.damagedItems!==it.damagedItems&&(te.damagedItems=Ne.damagedItems,ve.push(`damaged items from ${it.damagedItems} to ${Ne.damagedItems}`)),Ne.fulfillmentType!==it.fulfillmentType&&(te.fulfillmentType=Ne.fulfillmentType,ve.push(`fulfillment type from "${it.fulfillmentType.toUpperCase()}" to "${Ne.fulfillmentType.toUpperCase()}"`)),Ne.storeName!==it.storeName&&(te.storeName=Ne.storeName,ve.push(`store name from "${it.storeName}" to "${Ne.storeName}"`)),Ne.unit!==it.unit&&(te.unit=Ne.unit,ve.push(`unit from "${it.unit||"none"}" to "${Ne.unit||"none"}"`)),Ne.barcode!==it.barcode&&(te.barcode=Ne.barcode,ve.push(`barcode from "${it.barcode||"none"}" to "${Ne.barcode||"none"}"`)),Object.keys(te).length>0){const he=kr(Xe,"inventory",Ne.id);await Wn(he,{...te,lastUpdated:sr.fromDate(ut)}),V&&ve.length>0&&await vr(At(Xe,"activityLogs"),{user:V.name,role:V.role,detail:`edited product "${Ne.name}": ${ve.join(", ")}`,time:ut.toISOString()});const me=j.map(xe=>xe.id===Ne.id?{...xe,...te,lastUpdated:ut}:xe);T(me),N("Stock details updated successfully","success"),p(!1),P(null)}if(Ne.quantity>it.quantity)q({itemId:Ne.id,newQuantity:Ne.quantity}),W(!0),p(!1);else if(Ne.quantity!==it.quantity){const he=kr(Xe,"inventory",Ne.id);await Wn(he,{quantity:Ne.quantity,lastUpdated:sr.fromDate(ut)}),V&&await vr(At(Xe,"activityLogs"),{user:V.name,role:V.role,detail:`edited product "${Ne.name}": quantity from ${it.quantity} to ${Ne.quantity}`,time:ut.toISOString()});const me=j.map(xe=>xe.id===Ne.id?{...xe,quantity:Ne.quantity,lastUpdated:ut}:xe);T(me),N("Stock quantity updated","success"),p(!1),P(null)}else p(!1),P(null)}catch(ut){N("Failed to update stock item","error"),console.log(ut)}finally{x(!1)}},[j,V,N]),bt=F.useCallback(async()=>{if(G){x(!0);try{const{itemId:Ne,newQuantity:it}=G,ut=new Date,te=j.find(me=>me.id===Ne),ve=kr(Xe,"inventory",Ne);await Wn(ve,{quantity:it,lastUpdated:sr.fromDate(ut)}),V&&te&&await vr(At(Xe,"activityLogs"),{user:V.name,role:V.role,detail:`edited product "${te.name}": quantity from ${te.quantity} to ${it}`,time:ut.toISOString()});const he=j.map(me=>me.id===Ne?{...me,quantity:it,lastUpdated:ut}:me);T(he),N("Stock quantity updated successfully","success"),P(null)}catch(Ne){N("Failed to update quantity","error"),console.log(Ne)}finally{x(!1),W(!1),q(null)}}},[G,j,V,N]),Rt=F.useCallback(async Ne=>{x(!0);try{const it=j.find(ut=>ut.id===Ne);await Bs(kr(Xe,"inventory",Ne)),V&&it&&await vr(At(Xe,"activityLogs"),{user:V.name,role:V.role,detail:`deleted product "${it.name}" (${it.quantity} units) from location ${it.locationCode}-${it.shelfNumber}`,time:new Date().toISOString()}),T(j.filter(ut=>ut.id!==Ne)),m(!1),P(null),N("Stock item deleted successfully","success")}catch(it){N("Failed to delete stock item","error"),console.log(it)}finally{x(!1)}},[j,V,N]),Yt=F.useCallback(Ne=>{P(Ne)},[]),Ct=F.useCallback((Ne,it)=>{Ne.stopPropagation(),P(it),p(!0)},[]),It=F.useCallback((Ne,it)=>{Ne.stopPropagation(),P(it),m(!0)},[]),rr=F.useCallback(()=>{S.size===pt.length?_(new Set):_(new Set(pt.map(Ne=>Ne.id)))},[pt,S.size]),br=F.useCallback(Ne=>{const it=new Set(S);it.has(Ne)?it.delete(Ne):it.add(Ne),_(it)},[S]),wr=F.useCallback(async()=>{if(S.size!==0){x(!0);try{const Ne=j.filter(ut=>S.has(ut.id)),it=Array.from(S).map(ut=>Bs(kr(Xe,"inventory",ut)));if(await Promise.all(it),V){const ut=Ne.map(te=>`"${te.name}" (${te.quantity} units) from ${te.locationCode}-${te.shelfNumber}`).join(", ");await vr(At(Xe,"activityLogs"),{user:V.name,role:V.role,detail:`Bulk deleted ${S.size} products: ${ut}`,time:new Date().toISOString()})}T(j.filter(ut=>!S.has(ut.id))),_(new Set),E(!1),y(!1),N(`Successfully deleted ${S.size} items`,"success")}catch(Ne){N("Failed to delete selected items","error"),console.log(Ne)}finally{x(!1)}}},[S,j,V,N]),Er=F.useCallback(async()=>{if(S.size!==0){x(!0);try{const Ne=j.filter(ut=>S.has(ut.id)&&ut.status==="pending");if(Ne.length===0){N("No pending items selected to activate","error");return}const it=Ne.map(ut=>Wn(kr(Xe,"inventory",ut.id),{status:"active",lastUpdated:sr.fromDate(new Date)}));if(await Promise.all(it),V){const ut=Ne.map(te=>`"${te.name}" from ${te.locationCode}-${te.shelfNumber}`).join(", ");await vr(At(Xe,"activityLogs"),{user:V.name,role:V.role,detail:`Bulk activated ${Ne.length} pending products: ${ut}`,time:new Date().toISOString()})}T(j.map(ut=>S.has(ut.id)&&ut.status==="pending"?{...ut,status:"active",lastUpdated:new Date}:ut)),_(new Set),E(!1),N(`Successfully activated ${Ne.length} items`,"success")}catch(Ne){N("Failed to activate selected items","error"),console.log(Ne)}finally{x(!1)}}},[S,j,V,N]),an=F.useCallback(()=>{E(!D),D||_(new Set)},[D]),Xt=F.useCallback(({item:Ne})=>{var it;return f.jsxs("tr",{className:`hover:${k?"bg-slate-700/50":"bg-slate-50"} cursor-pointer`,onClick:()=>Yt(Ne),children:[D&&f.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"}`,onClick:ut=>ut.stopPropagation(),children:f.jsx("input",{type:"checkbox",checked:S.has(Ne.id),onChange:()=>br(Ne.id),className:`h-4 w-4 text-blue-600 rounded ${k?"border-slate-600 bg-slate-700":"border-slate-300"} focus:ring-blue-500`})}),f.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-blue-400":"text-blue-700"} font-medium`,children:Ne.name}),f.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"}`,children:Ne.unit||"-"}),f.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"}`,children:f.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Ne.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:Ne.status==="active"?"Active":"Pending"})}),f.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"}`,children:Ne.storeName&&Ne.storeName!=="not set"?f.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full whitespace-nowrap ${ht(Ne.storeName)}`,children:(it=Ne.storeName)==null?void 0:it.toUpperCase()}):f.jsx("span",{className:"text-slate-400",children:"-"})}),f.jsxs("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"}`,children:[Ne.locationCode," - ",Ne.shelfNumber]}),f.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"}`,children:Ne.asin?Ne.asin.split(",").length>3?Ne.asin.split(",").slice(0,3).map(ut=>ut.trim()).join(", ")+"...":Ne.asin.split(",").map(ut=>ut.trim()).join(", "):"-"}),(V==null?void 0:V.role)==="admin"&&f.jsxs(f.Fragment,{children:[f.jsx("td",{className:`px-4 py-3 text-right text-sm ${k?"text-slate-200":"text-slate-900"}`,children:Number(Ne.price)>0?`${Number(Ne.price).toFixed(2)}`:"(Not set)"}),f.jsx("td",{className:`px-4 py-3 text-right text-sm ${k?"text-slate-200":"text-slate-900"}`,children:Number(Ne.quantity*Ne.price)>0?`${Number(Ne.quantity*Ne.price).toFixed(2)}`:"(Not set)"})]}),f.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"} text-right`,children:f.jsxs("div",{className:"flex items-center justify-end gap-2",children:[Ne.quantity<=10&&f.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-red-100 text-red-700 text-center",children:"Critical Low"}),Ne.quantity>10&&Ne.quantity<=25&&f.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-yellow-100 text-yellow-700 text-center",children:"Low Stock"}),f.jsx("span",{children:Ne.quantity})]})}),f.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"}`,children:qt(new Date(Ne.lastUpdated),"MMM d, yyyy")}),f.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"} text-right`,children:f.jsxs("div",{className:"flex items-center justify-end gap-2",children:[f.jsx("button",{onClick:ut=>Ct(ut,Ne),className:`p-1 ${k?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,children:f.jsx(bs,{size:16})}),f.jsx("button",{onClick:ut=>It(ut,Ne),className:`p-1 ${k?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,children:f.jsx(ui,{size:16})})]})})]},Ne.id)},[D,S,k,V,Yt,br,Ct,It,ht]);return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between py-4",children:[f.jsx("h1",{className:`text-2xl font-bold ${k?"text-white":"text-gray-900"}`,children:"Inbound"}),f.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${k?"bg-slate-800 text-blue-300":"bg-blue-100 text-blue-700"}`,children:["Total Products: ",Ke!==null?Ke:f.jsx("span",{className:"animate-pulse",children:"..."})]})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-4",children:[f.jsx("div",{children:f.jsx("p",{className:`${k?"text-slate-400":"text-slate-500"} mt-1`,children:"Manage your inbound stock, track quantities, and monitor product status"})}),f.jsx("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:D?f.jsxs(f.Fragment,{children:[ye==="pending"&&f.jsxs(at,{onClick:Er,variant:"primary",className:"flex items-center gap-2 w-full sm:w-auto",disabled:b||S.size===0,children:[f.jsx(IU,{size:16}),"Go Live (",S.size,")"]}),f.jsxs(at,{onClick:()=>y(!0),variant:"danger",className:"flex items-center gap-2 w-full sm:w-auto",disabled:b||S.size===0,children:[f.jsx(ui,{size:16}),"Delete Selected (",S.size,")"]}),f.jsx(at,{onClick:an,variant:"secondary",className:"flex items-center gap-2 w-full sm:w-auto",children:"Cancel"})]}):f.jsxs(f.Fragment,{children:[f.jsxs(at,{onClick:an,variant:"secondary",className:"flex items-center gap-2 w-full sm:w-auto",children:[f.jsx(Q2,{size:16}),"Select Items"]}),f.jsxs(at,{variant:"secondary",onClick:()=>ee(!0),className:"flex items-center gap-2 w-full sm:w-auto",children:[f.jsx(hi,{size:16}),"Quick Add"]}),f.jsxs(at,{variant:"primary",onClick:()=>d(!0),className:"flex items-center gap-2 w-full sm:w-auto",children:[f.jsx(hi,{size:16}),"Add New Stock"]})]})})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[f.jsx("div",{className:"flex-1",children:f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("div",{className:"relative flex-1",children:[f.jsx(Fl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),f.jsx(Ot,{type:"text",placeholder:`Search by ${a}...`,value:e,onChange:Ne=>t(Ne.target.value),className:"pl-10"})]}),f.jsxs("div",{className:"relative search-type-dropdown",children:[f.jsxs(at,{variant:"secondary",onClick:()=>o(!s),className:`flex items-center gap-2 ${a!=="name"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[a==="name"?"Name":a==="barcode"?"Barcode":a==="asin"?"ASIN":"Location",f.jsx(kl,{size:16})]}),s&&f.jsx("div",{className:`absolute top-full left-0 mt-1 w-32 z-50 rounded-lg border ${k?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:f.jsxs("div",{className:"p-2",children:[f.jsx("div",{className:`text-sm font-medium mb-2 ${k?"text-slate-200":"text-slate-700"}`,children:"Search by"}),[{value:"name",label:"Name"},{value:"barcode",label:"Barcode"},{value:"asin",label:"ASIN"},{value:"location",label:"Location"}].map(Ne=>f.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${k?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${a===Ne.value?k?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{i(Ne.value),t(""),o(!1)},children:Ne.label},Ne.value))]})})]})]})}),f.jsx("div",{className:"w-full sm:w-48",children:f.jsx(rn,{value:l,onChange:Ne=>c(Ne.target.value),options:ct})}),f.jsxs("div",{className:"flex flex-row gap-2",children:[f.jsxs("div",{className:"relative status-filter-dropdown",children:[f.jsxs(at,{variant:"secondary",onClick:()=>Ce(!ke),className:`flex items-center gap-2 ${ye!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[ye==="all"?"Status Filter":ye==="active"?"Active":"Pending",f.jsx(kl,{size:16})]}),ke&&f.jsx("div",{className:`absolute top-full left-0 mt-1 w-32 z-50 rounded-lg border ${k?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:f.jsxs("div",{className:"p-2",children:[f.jsx("div",{className:`text-sm font-medium mb-2 ${k?"text-slate-200":"text-slate-700"}`,children:"Filter by Status"}),f.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${k?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${ye==="all"?k?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{H("all"),Ce(!1)},children:"All"}),f.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${k?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${ye==="active"?k?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{H("active"),Ce(!1)},children:"Active"}),f.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${k?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${ye==="pending"?k?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{H("pending"),Ce(!1)},children:"Pending"}),f.jsx("div",{className:`border-t ${k?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:f.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${k?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{H("all"),Ce(!1)},children:"Clear Filter"})})]})})]}),f.jsxs("div",{className:"relative store-filter-dropdown",children:[f.jsxs(at,{variant:"secondary",onClick:()=>ge(!ie),className:`flex items-center gap-2 ${ae?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[ae?`${ae.storeName==="other"?"OTHER":(sa=ae.storeName)==null?void 0:sa.toUpperCase()}${ae.fulfillmentType!=="all"?` - ${ae.fulfillmentType.toUpperCase()}`:""}`:"Store Filter",f.jsx(kl,{size:16})]}),ie&&f.jsx("div",{className:`absolute top-full left-0 mt-1 w-64 z-50 rounded-lg border ${k?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:f.jsxs("div",{className:"p-2",children:[f.jsx("div",{className:`text-sm font-medium mb-2 ${k?"text-slate-200":"text-slate-700"}`,children:"Filter by Store"}),["supply & serve","APHY","AZTEC","ZK","Fahiz","other"].map(Ne=>f.jsx("div",{children:f.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${k?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(ae==null?void 0:ae.storeName)===Ne?k?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{ue({storeName:Ne,fulfillmentType:"all"}),ge(!1)},children:Ne.toUpperCase()})},Ne)),f.jsx("div",{className:`border-t ${k?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:f.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${k?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{ue(null),ge(!1)},children:"Clear Filter"})})]})})]}),f.jsxs("div",{className:"relative quantity-filter-dropdown",children:[f.jsxs(at,{variant:"secondary",onClick:()=>qe(!Le),className:`flex items-center gap-2 ${_e.min!==null||_e.max!==null?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[_e.min!==null||_e.max!==null?`Qty: ${_e.min||0}-${_e.max||""}`:"Quantity Filter",f.jsx(kl,{size:16})]}),Le&&f.jsx("div",{className:`absolute top-full left-0 mt-1 w-64 z-50 rounded-lg border ${k?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:f.jsxs("div",{className:"p-4",children:[f.jsx("div",{className:`text-sm font-medium mb-3 ${k?"text-slate-200":"text-slate-700"}`,children:"Filter by Quantity Range"}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:`block text-xs font-medium mb-1 ${k?"text-slate-300":"text-slate-600"}`,children:"Minimum Quantity"}),f.jsx(Ot,{type:"number",placeholder:"Min quantity",value:_e.min||"",onChange:Ne=>le(it=>({...it,min:Ne.target.value?parseInt(Ne.target.value):null})),className:"w-full",min:"0"})]}),f.jsxs("div",{children:[f.jsx("label",{className:`block text-xs font-medium mb-1 ${k?"text-slate-300":"text-slate-600"}`,children:"Maximum Quantity"}),f.jsx(Ot,{type:"number",placeholder:"Max quantity",value:_e.max||"",onChange:Ne=>le(it=>({...it,max:Ne.target.value?parseInt(Ne.target.value):null})),className:"w-full",min:"0"})]})]}),f.jsxs("div",{className:"flex gap-2 mt-4",children:[f.jsx(at,{variant:"secondary",size:"sm",onClick:()=>{le({min:null,max:null}),qe(!1)},className:"flex-1",children:"Clear"}),f.jsx(at,{variant:"primary",size:"sm",onClick:()=>qe(!1),className:"flex-1",children:"Apply"})]})]})})]})]}),f.jsx(at,{variant:"secondary",onClick:We,className:`flex items-center gap-2 ${b?"opacity-50 cursor-not-allowed":""}`,disabled:b,children:f.jsx(Fa,{size:16,className:b?"animate-spin":""})})]}),(r||ae||ye!=="all"||_e.min!==null||_e.max!==null)&&f.jsx("div",{className:`px-4 py-2 rounded-lg ${k?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border`,children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:`w-2 h-2 rounded-full ${k?"bg-blue-400":"bg-blue-600"}`}),f.jsxs("span",{className:`text-sm font-medium ${k?"text-slate-300":"text-slate-700"}`,children:[pt.length," product",pt.length!==1?"s":""," found"]}),pt.length!==j.length&&f.jsxs("span",{className:`text-xs ${k?"text-slate-400":"text-slate-500"}`,children:["(filtered from ",j.length," total)"]})]}),f.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r&&f.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${k?"bg-blue-900 text-blue-300":"bg-blue-100 text-blue-700"}`,children:['Search: "',r,'"']}),ae&&f.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${k?"bg-green-900 text-green-300":"bg-green-100 text-green-700"}`,children:["Store: ",ae.storeName==="other"?"OTHER":(Un=ae.storeName)==null?void 0:Un.toUpperCase()]}),ye!=="all"&&f.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${k?"bg-yellow-900 text-yellow-300":"bg-yellow-100 text-yellow-700"}`,children:["Status: ",ye==="active"?"Active":"Pending"]}),(_e.min!==null||_e.max!==null)&&f.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${k?"bg-purple-900 text-purple-300":"bg-purple-100 text-purple-700"}`,children:["Qty: ",_e.min||0,"-",_e.max||""]}),f.jsx("button",{onClick:()=>{t(""),ue(null),H("all"),le({min:null,max:null})},className:`px-2 py-1 text-xs font-medium rounded transition-colors ${k?"text-red-400 hover:text-red-300 hover:bg-red-900/20":"text-red-600 hover:text-red-700 hover:bg-red-50"}`,children:"Clear All"})]})]})}),b?f.jsx("div",{className:`text-center py-12 ${k?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:f.jsxs("div",{className:"flex flex-col items-center gap-4",children:[f.jsx(xs,{className:`w-8 h-8 ${k?"text-blue-400":"text-blue-600"} animate-spin`}),f.jsx("p",{className:k?"text-slate-400":"text-slate-600",children:"Loading stock items..."})]})}):pt.length>0?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"hidden md:block overflow-x-auto overflow-y-hidden",children:f.jsxs("table",{className:`min-w-full divide-y ${k?"divide-slate-700":"divide-slate-200"} ${k?"bg-slate-800":"bg-white"} rounded-lg border ${k?"border-slate-700":"border-slate-200"}`,children:[f.jsx("thead",{className:k?"bg-slate-700/50":"bg-slate-100",children:f.jsxs("tr",{children:[D&&f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("input",{type:"checkbox",checked:S.size===pt.length,onChange:rr,className:`h-4 w-4 text-blue-600 rounded ${k?"border-slate-600 bg-slate-700":"border-slate-300"} focus:ring-blue-500`}),f.jsx("span",{children:"Select"})]})}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Unit"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Status"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Store"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),(V==null?void 0:V.role)==="admin"&&f.jsxs(f.Fragment,{children:[f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Price"}),f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Total Price"})]}),f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Quantity"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Last Updated"}),f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),f.jsx("tbody",{className:`divide-y ${k?"divide-slate-700":"divide-slate-200"}`,children:pt.map((Ne,it)=>f.jsx(Xt,{item:Ne,index:it},Ne.id))})]})}),f.jsx("div",{className:"block md:hidden space-y-4",children:pt.map(Ne=>{var it;return f.jsxs("div",{className:`rounded-lg border ${k?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-4 shadow-sm flex flex-col gap-2`,onClick:()=>Yt(Ne),children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:`font-semibold ${k?"text-blue-400":"text-blue-700"}`,children:Ne.name}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Ne.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:Ne.status==="active"?"Active":"Pending"}),Ne.storeName&&Ne.storeName!=="not set"?f.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full whitespace-nowrap ${ht(Ne.storeName)}`,children:(it=Ne.storeName)==null?void 0:it.toUpperCase()}):f.jsx("span",{className:"text-slate-400",children:"-"})]})]}),f.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[f.jsxs("span",{className:k?"text-slate-300":"text-slate-600",children:["Location: ",f.jsxs("span",{className:"font-medium",children:[Ne.locationCode," - ",Ne.shelfNumber]})]}),f.jsxs("span",{className:k?"text-slate-300":"text-slate-600",children:["Qty: ",f.jsx("span",{className:"font-medium",children:Ne.quantity})]}),Ne.asin&&f.jsxs("span",{className:k?"text-slate-300":"text-slate-600",children:["ASIN: ",f.jsx("span",{className:"font-medium",children:Ne.asin})]}),Vs(V)&&f.jsxs(f.Fragment,{children:[f.jsxs("span",{className:k?"text-slate-300":"text-slate-600",children:["Price: ",f.jsx("span",{className:"font-medium",children:Number(Ne.price)>0?`${Number(Ne.price).toFixed(2)}`:"(Not set)"})]}),f.jsxs("span",{className:k?"text-slate-300":"text-slate-600",children:["Total: ",f.jsx("span",{className:"font-medium",children:Number(Ne.quantity*Ne.price)>0?`${Number(Ne.quantity*Ne.price).toFixed(2)}`:"(Not set)"})]})]}),f.jsxs("span",{className:k?"text-slate-300":"text-slate-600",children:["Updated: ",f.jsx("span",{className:"font-medium",children:qt(new Date(Ne.lastUpdated),"MMM d, yyyy")})]})]}),f.jsxs("div",{className:"flex gap-2 mt-2",children:[f.jsxs(at,{size:"sm",variant:"secondary",onClick:ut=>{ut.stopPropagation(),Ct(ut,Ne)},children:[f.jsx(bs,{size:14})," Edit"]}),f.jsxs(at,{size:"sm",variant:"danger",onClick:ut=>{ut.stopPropagation(),It(ut,Ne)},children:[f.jsx(ui,{size:14})," Delete"]})]})]},Ne.id)})})]}):f.jsx("div",{className:`text-center py-12 ${k?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:f.jsx("p",{className:k?"text-slate-400":"text-slate-500",children:"No stock items found. Try adjusting your search."})}),f.jsx(gn,{isOpen:u,onClose:()=>d(!1),title:"Add New Stock Item",size:"xl",children:f.jsx(HG,{onSubmit:ur,onCancel:()=>d(!1),isLoading:b,existingStockItems:j,onShowProductLocationInfo:Nt})}),f.jsx(gn,{isOpen:U,onClose:()=>ee(!1),title:"Quick Add Stock",size:"md",children:f.jsx(KG,{onSubmit:ur,onClose:()=>ee(!1),isLoading:b})}),f.jsx(gn,{isOpen:h,onClose:()=>p(!1),title:"Edit Stock",size:"xl",children:O&&f.jsx(GG,{item:O,onSubmit:tt,onCancel:()=>p(!1),isLoading:b})}),O&&f.jsx(Oh,{isOpen:g,onClose:()=>{m(!1),P(null)},onConfirm:()=>Rt(O.id),title:"Delete Stock Item",message:`Are you sure you want to delete "${O.name}"? This action cannot be undone.`,isLoading:b}),O&&!h&&!g&&!Q&&f.jsx(Zy,{isOpen:!!O,onClose:()=>P(null),item:O}),f.jsx(Oh,{isOpen:v,onClose:()=>{y(!1),_(new Set)},onConfirm:wr,title:"Delete Selected Items",message:`Are you sure you want to delete ${S.size} selected item${S.size>1?"s":""}? This action cannot be undone.`,isLoading:b}),f.jsx(gn,{isOpen:Q,onClose:()=>{W(!1),q(null)},title:"Confirm Quantity Update",children:f.jsxs("div",{children:[f.jsx("p",{children:"This product is already in stock in this location. Are you sure you want to add more quantity?"}),f.jsxs("div",{className:"flex justify-end gap-4 mt-4",children:[f.jsx(at,{variant:"secondary",onClick:()=>{W(!1),q(null)},children:"No"}),f.jsx(at,{onClick:bt,isLoading:b,children:"Yes"})]})]})}),K&&f.jsx(YG,{isOpen:Z,onClose:je,onConfirm:pr,onCancel:je,onMerge:De,locationCode:K.locationCode,shelfNumber:K.shelfNumber,existingProducts:K.existingProducts,newProductName:K.newProductName,newProductBarcode:K.newProductBarcode}),Te&&f.jsx(w5e,{isOpen:Ee,onClose:()=>{Re(!1),Me(null)},productName:Te.productName,barcode:Te.barcode,existingLocations:Te.existingLocations})]})},S5e=()=>{const{isDarkMode:e}=un(),{showToast:t}=_c(),{user:r}=xa();xa();const[n,a]=F.useState(!1),[i,s]=F.useState([]),[o,l]=F.useState(""),[c,u]=F.useState(null),[d,h]=F.useState(""),[p,g]=F.useState(null),[m,v]=F.useState("all"),[y,b]=F.useState("all"),[x,O]=F.useState(!1),[P,j]=F.useState(!1),[T,S]=F.useState(null),_=async Z=>{if(r)try{await vr(At(Xe,"activityLogs"),{user:r.name,role:r.role,detail:Z,time:new Date().toISOString()})}catch(I){console.error("Failed to log activity:",I)}},D=F.useCallback(async()=>{a(!0);try{const Z=lr(At(Xe,"inventory"),Ua("name")),M=(await dr(Z)).docs.map(z=>{const K=z.data();return{id:z.id,...K,lastUpdated:K.lastUpdated instanceof sr?K.lastUpdated.toDate():new Date(K.lastUpdated)}});s(M)}catch(Z){console.error("Failed to fetch inventory",Z),t("Failed to fetch inventory","error")}finally{a(!1)}},[t]),E=F.useCallback(async()=>{try{const Z=At(Xe,"inventory"),I=await VC(Z);g(I.data().count)}catch{g(null)}},[]);F.useEffect(()=>{D(),E()},[D,E]),F.useEffect(()=>{const Z=I=>{const M=I.target;M.closest(".damage-filter-dropdown")||O(!1),M.closest(".duplicate-filter-dropdown")||j(!1)};return(x||P)&&document.addEventListener("mousedown",Z),()=>{document.removeEventListener("mousedown",Z)}},[x,P]);const N=F.useMemo(()=>{const Z={};for(const I of i){const M=(I.name||"").trim().toLowerCase();if(!M)continue;const z=`${I.locationCode||""}-${I.shelfNumber||""}`.trim().toLowerCase();Z[M]||(Z[M]=new Set),Z[M].add(z)}return Z},[i]),V=((Z,I)=>{const[M,z]=F.useState(Z);return F.useEffect(()=>{const K=setTimeout(()=>z(Z),I);return()=>clearTimeout(K)},[Z,I]),M})(o,300),Q=F.useMemo(()=>{const Z=V.trim().toLowerCase();return i.filter(I=>{var H,ke;const M=((H=I.name)==null?void 0:H.toLowerCase())||"",z=(I.asin||"").toLowerCase(),K=(I.barcode||"").toLowerCase(),X=Z?M.includes(Z)||z.includes(Z)||K.includes(Z):!0,ae=m==="all"?!0:m==="damaged"?(I.damagedItems||0)>0:(I.damagedItems||0)<=0,ue=(I.name||"").trim().toLowerCase(),ge=(ue&&((ke=N[ue])==null?void 0:ke.size)||0)>1;return X&&ae&&(y==="all"?!0:y==="duplicates"?ge:!ge)})},[i,V,m,y,N]),W=F.useMemo(()=>V.trim()?Q.reduce((Z,I)=>Z+(I.quantity||0),0):0,[Q,V]),G=F.useMemo(()=>{var ie;const Z=Q.length;let I=0,M=0,z=0,K=0,X=0;for(const ge of Q){(ge.damagedItems||0)>0&&I++,ge.status==="active"&&M++,ge.status==="pending"&&z++,Number(ge.price)>0&&K++;const ye=(ge.name||"").trim().toLowerCase();(ye&&((ie=N[ye])==null?void 0:ie.size)||0)>1&&X++}const ae=Z-X,ue=Z-K;return{total:Z,damaged:I,duplicates:X,unique:ae,active:M,pending:z,priceSet:K,noPrice:ue}},[Q,N]),q=Z=>{u(Z.id),h(Z.price!=null?String(Z.price):"")},U=()=>{u(null),h("")},ee=async Z=>{const I=Number(d);if(Number.isNaN(I)||I<0){t("Enter a valid non-negative price","error");return}a(!0);try{const M=new Date,z=kr(Xe,"inventory",Z.id);await Wn(z,{price:I,lastUpdated:sr.fromDate(M)}),await _(`updated price for ${Z.name} (barcode: ${Z.barcode}) from ${Z.price||0} to ${I.toFixed(2)}`),s(K=>K.map(X=>X.id===Z.id?{...X,price:I,lastUpdated:M}:X)),t("Price updated","success"),u(null),h("")}catch(M){console.error("Failed to update price",M),t("Failed to update price","error")}finally{a(!1)}};return f.jsxs("div",{className:"space-y-4 p-2 sm:p-4 md:p-6",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 py-2 sm:py-4",children:[f.jsx("h1",{className:`text-xl sm:text-2xl font-bold ${e?"text-white":"text-gray-900"}`,children:"Inventory"}),f.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[f.jsxs("span",{className:`px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-semibold ${e?"bg-slate-800 text-blue-300":"bg-blue-100 text-blue-700"}`,children:["Total: ",p!==null?p:f.jsx("span",{className:"animate-pulse",children:"..."})]}),f.jsxs(at,{variant:"secondary",onClick:()=>{D(),E()},className:`flex items-center gap-1 ${n?"opacity-50 cursor-not-allowed":""}`,disabled:n,size:"sm",children:[f.jsx(Fa,{size:14,className:n?"animate-spin":""}),f.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]})]})]}),f.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-4 md:gap-6",children:[V.trim()?f.jsx(Ka,{title:"Total Quantity",value:W,icon:f.jsx(Bo,{size:20,className:"text-blue-600"})}):f.jsx(Ka,{title:"Products",value:G.total,icon:f.jsx(Bo,{size:20,className:"text-blue-600"})}),f.jsx(Ka,{title:"Damaged",value:G.damaged,icon:f.jsx(Ah,{size:20,className:"text-blue-600"})}),f.jsx(Ka,{title:"Duplicates",value:G.duplicates,icon:f.jsx(Cre,{size:20,className:"text-blue-600"})}),f.jsx(Ka,{title:"Unique",value:G.unique,icon:f.jsx(eT,{size:20,className:"text-blue-600"})})]}),f.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-4 md:gap-6 mt-2 sm:mt-4",children:[f.jsx(Ka,{title:"Active",value:G.active,icon:f.jsx(eT,{size:20,className:"text-blue-600"})}),f.jsx(Ka,{title:"Pending",value:G.pending,icon:f.jsx(Ah,{size:20,className:"text-blue-600"})}),f.jsx(Ka,{title:"With Price",value:G.priceSet,icon:f.jsx(Kb,{size:20,className:"text-blue-600"})}),f.jsx(Ka,{title:"No Price",value:G.noPrice,icon:f.jsx(Kb,{size:20,className:"text-blue-600"})})]}),f.jsxs("div",{className:"flex flex-col gap-2 sm:gap-4",children:[f.jsxs("div",{className:"relative",children:[f.jsx(Fl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),f.jsx(Ot,{type:"text",placeholder:"Search by name, ASIN or barcode",value:o,onChange:Z=>l(Z.target.value),className:"pl-10 text-sm sm:text-base"})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4",children:[f.jsxs("div",{className:"relative damage-filter-dropdown flex-1",children:[f.jsxs(at,{variant:"secondary",onClick:()=>O(!x),className:`flex items-center justify-between gap-2 w-full ${m!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,size:"sm",children:[f.jsx("span",{className:"truncate",children:m==="all"?"Damage: All":m==="damaged"?"Damage: Damaged":"Damage: Not Damaged"}),f.jsx(kl,{size:16})]}),x&&f.jsx("div",{className:`absolute top-full left-0 mt-1 w-full z-50 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:f.jsxs("div",{className:"p-2",children:[f.jsx("div",{className:`text-xs sm:text-sm font-medium mb-1 ${e?"text-slate-200":"text-slate-700"}`,children:"Filter by Damage"}),f.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${m==="all"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{v("all"),O(!1)},children:"All"}),f.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${m==="damaged"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{v("damaged"),O(!1)},children:"Damaged"}),f.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${m==="notDamaged"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{v("notDamaged"),O(!1)},children:"Not Damaged"})]})})]}),f.jsxs("div",{className:"relative duplicate-filter-dropdown flex-1",children:[f.jsxs(at,{variant:"secondary",onClick:()=>j(!P),className:`flex items-center justify-between gap-2 w-full ${y!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,size:"sm",children:[f.jsx("span",{className:"truncate",children:y==="all"?"Duplicates: All":y==="duplicates"?"Duplicates: Duplicates":"Duplicates: Unique"}),f.jsx(kl,{size:16})]}),P&&f.jsx("div",{className:`absolute top-full left-0 mt-1 w-full z-50 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:f.jsxs("div",{className:"p-2",children:[f.jsx("div",{className:`text-xs sm:text-sm font-medium mb-1 ${e?"text-slate-200":"text-slate-700"}`,children:"Filter by Duplicates"}),f.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${y==="all"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{b("all"),j(!1)},children:"All"}),f.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${y==="duplicates"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{b("duplicates"),j(!1)},children:"Duplicates Only"}),f.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${y==="unique"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{b("unique"),j(!1)},children:"Unique Only"})]})})]})]})]}),n?f.jsx("div",{className:`text-center py-8 sm:py-12 ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:f.jsxs("div",{className:"flex flex-col items-center gap-2 sm:gap-4",children:[f.jsx(xs,{className:`w-6 h-6 sm:w-8 sm:h-8 ${e?"text-blue-400":"text-blue-600"} animate-spin`}),f.jsx("p",{className:`text-sm sm:text-base ${e?"text-slate-400":"text-slate-600"}`,children:"Loading inventory..."})]})}):Q.length>0?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"hidden md:block overflow-x-auto overflow-y-hidden",children:f.jsxs("table",{className:`min-w-full divide-y ${e?"divide-slate-700":"divide-slate-200"} ${e?"bg-slate-800":"bg-white"} rounded-lg border ${e?"border-slate-700":"border-slate-200"}`,children:[f.jsx("thead",{className:e?"bg-slate-700/50":"bg-slate-100",children:f.jsxs("tr",{children:[f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),Vs(r)&&f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Price"}),f.jsx("th",{className:`px-4 py-3 text-center text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Quantity"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Barcode"}),f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"View"})]})}),f.jsx("tbody",{className:`divide-y ${e?"divide-slate-700":"divide-slate-200"}`,children:Q.map(Z=>f.jsxs("tr",{className:"transition-all duration-100 hover:bg-opacity-10 hover:bg-blue-500",children:[f.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-blue-400":"text-blue-700"} font-medium`,children:Z.name}),f.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-800"}`,children:Z.asin?Z.asin.split(",").length>3?Z.asin.split(",").slice(0,3).map(I=>I.trim()).join(", ")+"...":Z.asin.split(",").map(I=>I.trim()).join(", "):"-"}),Vs(r)&&f.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-900"} text-right`,children:c===Z.id?f.jsxs("div",{className:"flex items-center justify-end gap-2",onClick:I=>I.stopPropagation(),children:[f.jsx(Ot,{type:"number",step:"0.01",value:d,onChange:I=>h(I.target.value),className:"w-28 text-right"}),f.jsx(at,{size:"sm",onClick:()=>ee(Z),isLoading:n,children:f.jsx(hI,{size:14})}),f.jsx(at,{size:"sm",variant:"secondary",onClick:U,disabled:n,children:f.jsx(Lp,{size:14})})]}):f.jsx("button",{onClick:I=>{I.stopPropagation(),q(Z)},className:`${e?"text-slate-200 hover:text-blue-300":"text-slate-900 hover:text-blue-700"} transition-colors`,children:Number(Z.price)>0?`${Number(Z.price).toFixed(2)}`:"(Not set)"})}),f.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-800"} text-center`,children:Z.quantity}),f.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-800"}`,children:Z.barcode||"-"}),f.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-800"} text-right`,children:f.jsx("button",{onClick:()=>S(Z),className:`${e?"text-slate-300 hover:text-blue-300":"text-slate-600 hover:text-blue-700"} p-1`,"aria-label":"View details",children:f.jsx(tT,{size:16})})})]},Z.id))})]})}),f.jsx("div",{className:"block md:hidden space-y-3",children:Q.map(Z=>{var I;return f.jsxs("div",{className:`rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-3 shadow-sm flex flex-col gap-2`,children:[f.jsxs("div",{className:"flex justify-between items-start gap-2",children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h3",{className:`font-semibold truncate ${e?"text-blue-400":"text-blue-700"}`,children:Z.name}),f.jsxs("div",{className:"flex flex-wrap gap-x-2 gap-y-1 text-xs mt-1",children:[f.jsxs("span",{className:e?"text-slate-300":"text-slate-600",children:["ASIN: ",f.jsx("span",{className:"font-medium",children:((I=Z.asin)==null?void 0:I.split(",")[0])||"-"})]}),f.jsxs("span",{className:e?"text-slate-300":"text-slate-600",children:["Barcode: ",f.jsx("span",{className:"font-medium",children:Z.barcode||"-"})]}),f.jsxs("span",{className:e?"text-slate-300":"text-slate-600",children:["Quantity: ",f.jsx("span",{className:"font-medium",children:Z.quantity})]})]})]}),f.jsxs("div",{className:"flex flex-col items-end gap-1",children:[Vs(r)&&f.jsx("span",{className:`text-sm font-medium ${e?"text-slate-200":"text-slate-800"}`,children:Number(Z.price)>0?`${Number(Z.price).toFixed(2)}`:"No price"}),f.jsxs("div",{className:"flex gap-1",children:[c===Z.id?f.jsxs(f.Fragment,{children:[f.jsx(at,{size:"sm",onClick:()=>ee(Z),isLoading:n,children:f.jsx(hI,{size:12})}),f.jsx(at,{size:"sm",variant:"secondary",onClick:M=>{M.stopPropagation(),U()},disabled:n,children:f.jsx(Lp,{size:12})})]}):f.jsx(at,{size:"sm",variant:"secondary",onClick:M=>{M.stopPropagation(),q(Z)},children:f.jsx(bs,{size:12})}),f.jsx(at,{size:"sm",variant:"secondary",onClick:()=>S(Z),children:f.jsx(tT,{size:12})})]})]})]}),c===Z.id&&f.jsx("div",{className:"mt-1",children:f.jsx(Ot,{type:"number",step:"0.01",value:d,onChange:M=>h(M.target.value),placeholder:"Enter new price",className:"w-full text-sm"})})]},Z.id)})})]}):f.jsx("div",{className:`text-center py-8 sm:py-12 ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:f.jsx("p",{className:`text-sm sm:text-base ${e?"text-slate-400":"text-slate-500"}`,children:"No items found. Try adjusting your search."})}),T&&f.jsx(Zy,{isOpen:!!T,onClose:()=>S(null),item:T})]})},XG=({startDate:e,endDate:t,onStartDateChange:r,onEndDateChange:n,onClear:a,className:i=""})=>{const{isDarkMode:s}=un(),[o,l]=F.useState(!1),c=p=>{const g=p.target.value?new Date(p.target.value):null;r(g)},u=p=>{const g=p.target.value?new Date(p.target.value):null;n(g)},d=()=>{a(),l(!1)},h=()=>!e&&!t?"Select date range":e&&t?`${qt(e,"MMM d, yyyy")} - ${qt(t,"MMM d, yyyy")}`:e?`From ${qt(e,"MMM d, yyyy")}`:t?`To ${qt(t,"MMM d, yyyy")}`:"Select date range";return f.jsxs("div",{className:`relative ${i}`,children:[f.jsxs("button",{onClick:()=>l(!o),className:`flex items-center justify-between w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600 focus:ring-slate-400":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50 focus:ring-slate-500"}`,children:[f.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[f.jsx(PU,{className:"h-4 w-4 flex-shrink-0"}),f.jsx("span",{className:"whitespace-nowrap overflow-hidden text-ellipsis",children:h()})]}),(e||t)&&f.jsx("span",{onClick:p=>{p.stopPropagation(),d()},className:`ml-3 p-1 rounded-full hover:bg-opacity-80 flex-shrink-0 cursor-pointer ${s?"hover:bg-slate-600":"hover:bg-slate-200"}`,title:"Clear date range",role:"button",tabIndex:0,onKeyDown:p=>{(p.key==="Enter"||p.key===" ")&&(p.preventDefault(),d())},children:f.jsx(Lp,{className:"h-3 w-3"})})]}),o&&f.jsx("div",{className:`absolute top-full left-0 right-0 mt-1 z-50 p-4 border rounded-md shadow-lg ${s?"bg-slate-800 border-slate-600 text-white":"bg-white border-slate-200 text-slate-800"}`,children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:`block text-sm font-medium mb-2 ${s?"text-slate-200":"text-slate-700"}`,children:"Start Date"}),f.jsx("input",{type:"date",value:e?qt(e,"yyyy-MM-dd"):"",onChange:c,className:`w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border-slate-600 text-slate-200 bg-slate-700 focus:ring-slate-400":"border-slate-300 text-slate-700 bg-white focus:ring-slate-500"}`})]}),f.jsxs("div",{children:[f.jsx("label",{className:`block text-sm font-medium mb-2 ${s?"text-slate-200":"text-slate-700"}`,children:"End Date"}),f.jsx("input",{type:"date",value:t?qt(t,"yyyy-MM-dd"):"",onChange:u,min:e?qt(e,"yyyy-MM-dd"):void 0,className:`w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border-slate-600 text-slate-200 bg-slate-700 focus:ring-slate-400":"border-slate-300 text-slate-700 bg-white focus:ring-slate-500"}`})]}),f.jsxs("div",{className:"flex gap-2 pt-2 border-t border-slate-200 dark:border-slate-600",children:[f.jsx("button",{onClick:()=>l(!1),className:`flex-1 px-3 py-2 text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600 focus:ring-slate-400":"border border-slate-300 text-slate-700 bg-white hover:bg-slate-50 focus:ring-slate-500"}`,children:"Apply"}),f.jsx("button",{onClick:d,className:`px-3 py-2 text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 ${s?"border border-red-600 text-red-200 bg-red-700 hover:bg-red-600 focus:ring-red-400":"border border-red-300 text-red-700 bg-white hover:bg-red-50 focus:ring-red-500"}`,children:"Clear"})]})]})})]})},A5e=({item:e,onSubmit:t,onCancel:r,isLoading:n})=>{const[a,i]=F.useState(""),[s,o]=F.useState("stock sold"),[l,c]=F.useState(""),[u,d]=F.useState(""),[h,p]=F.useState([]),[g,m]=F.useState(""),[v,y]=F.useState(!1),{isDarkMode:b}=un();F.useEffect(()=>{(async()=>{y(!0);try{let _=lr(At(Xe,"inventory"),or("barcode","==",e.barcode)),D=await dr(_);if(D.empty&&e.barcode){const k=String(e.barcode).trim();_=lr(At(Xe,"inventory"),or("barcode","==",k)),D=await dr(_)}D.empty&&e.name&&(_=lr(At(Xe,"inventory"),or("name","==",e.name)),D=await dr(_));const E=[];D.docs.forEach(k=>{const V=k.data();V.locationCode&&V.shelfNumber&&(V.quantity||0)>0&&E.push({locationCode:String(V.locationCode).trim(),shelfNumber:String(V.shelfNumber).trim(),quantity:Number(V.quantity)||0,storeName:(V.storeName?String(V.storeName):"Unknown").trim()})});const N=E.filter((k,V,Q)=>V===Q.findIndex(W=>W.locationCode===k.locationCode&&W.shelfNumber===k.shelfNumber)).sort((k,V)=>k.locationCode.localeCompare(V.locationCode));if(p(N),N.length>0){const k=N[0];m(`${k.locationCode}-${k.shelfNumber}`),d(k.storeName)}}catch(_){console.error("Error fetching locations:",_)}finally{y(!1)}})()},[e.barcode]);const x=S=>{if(m(S),S){const[_,D]=S.split("-"),E=h.find(N=>String(N.locationCode)===String(_)&&String(N.shelfNumber)===String(D));E&&d(E.storeName)}},O=async S=>{S.preventDefault();const _=Number(a);if(!a||_<0)return;const D=P();if(_>D||!g)return;const E=s==="other"?l:s,N=u.trim(),[k,V]=g.split("-");await t({id:e.id,quantity:e.quantity-_,reason:E,storeName:N,locationCode:k,shelfNumber:V})},P=()=>{if(!g)return e.quantity;const[S,_]=g.split("-"),D=h.find(E=>String(E.locationCode)===String(S)&&String(E.shelfNumber)===String(_));return D?D.quantity:e.quantity},T=(()=>{const S=Number(a);if(!a||S<0)return"Quantity to deduct must be 0 or greater";const _=P();return S>_?`Cannot deduct more than current stock at selected location (${_} units)`:s?s==="other"&&!l.trim()?"Please specify the reason":g?null:"Please select a location":"Please select a reason"})();return f.jsxs("form",{onSubmit:O,className:`space-y-6 ${b?"text-white":"text-gray-900"}`,children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:`p-4 rounded-lg ${b?"bg-slate-800":"bg-slate-50"}`,children:[f.jsx("h3",{className:`text-lg font-semibold ${b?"text-white":"text-gray-900"}`,children:e.name}),f.jsx("p",{className:`text-sm ${b?"text-slate-400":"text-slate-500"}`,children:g&&f.jsxs("span",{className:` ${b?"text-slate-300":"text-slate-600"}`,children:["Selected Location: ",P()," units"]})}),f.jsxs("p",{className:`text-sm ${b?"text-slate-400":"text-slate-500"}`,children:["Barcode: ",e.barcode]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{htmlFor:"location",className:`block text-sm font-medium ${b?"text-slate-300":"text-gray-700"}`,children:"Select Location"}),v?f.jsxs("div",{className:`flex items-center gap-2 text-sm ${b?"text-slate-400":"text-slate-500"}`,children:[f.jsx(xs,{size:16,className:"animate-spin"}),"Loading locations..."]}):h.length>0?f.jsx(rn,{id:"location",value:g,onChange:S=>x(S.target.value),required:!0,options:[{value:"",label:"Select a location"},...h.map(S=>{var _;return{value:`${S.locationCode}-${S.shelfNumber}`,label:`${S.locationCode} - Shelf ${S.shelfNumber} (${S.quantity} units) - ${(_=S.storeName)==null?void 0:_.toUpperCase()}`}})],className:`${b?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${T?"border-red-500 focus:border-red-500":""}`}):f.jsx("div",{className:`text-sm ${b?"text-slate-400":"text-slate-500"}`,children:"No locations with available stock found for this product"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{htmlFor:"deductQuantity",className:`block text-sm font-medium ${b?"text-slate-300":"text-gray-700"}`,children:"Quantity to Deduct"}),f.jsx(Ot,{id:"deductQuantity",type:"number",min:"0",max:P(),value:a,onChange:S=>i(S.target.value.replace(/^0+(?!$)/,"")),placeholder:"Enter quantity to deduct",required:!0,className:`${b?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${T?"border-red-500 focus:border-red-500":""}`}),g&&f.jsxs("p",{className:`text-xs ${b?"text-slate-400":"text-slate-500"}`,children:["Max available at selected location: ",P()," units"]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{htmlFor:"reason",className:`block text-sm font-medium ${b?"text-slate-300":"text-gray-700"}`,children:"Reason for Deduction"}),f.jsx(rn,{id:"reason",value:s,onChange:S=>o(S.target.value),required:!0,options:[{value:"",label:"Select a reason"},{value:"stock sold",label:"Stock Sold"},{value:"moved to fba",label:"Moved to FBA"},{value:"moved to mf",label:"Moved to MF"},{value:"damaged",label:"Damaged"},{value:"other",label:"Other"}],className:`${b?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${T?"border-red-500 focus:border-red-500":""}`})]}),s==="other"&&f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{htmlFor:"otherReason",className:`block text-sm font-medium ${b?"text-slate-300":"text-gray-700"}`,children:"Specify Reason"}),f.jsx(Ot,{id:"otherReason",type:"text",value:l,onChange:S=>c(S.target.value),placeholder:"Enter the reason",required:!0,className:`${b?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${T?"border-red-500 focus:border-red-500":""}`})]}),g&&u&&f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:`block text-sm font-medium ${b?"text-slate-300":"text-gray-700"}`,children:"Store Name"}),f.jsxs("div",{className:`p-3 rounded-lg ${b?"bg-slate-700 border-slate-600":"bg-slate-100 border-slate-300"} border`,children:[f.jsx("span",{className:`text-sm font-medium ${b?"text-slate-200":"text-slate-800"}`,children:u==null?void 0:u.toUpperCase()}),f.jsx("p",{className:`text-xs ${b?"text-slate-400":"text-slate-500"} mt-1`,children:"Automatically selected based on location"})]})]}),T?f.jsxs("div",{className:`flex items-center space-x-2 text-sm ${b?"text-red-400":"text-red-600"}`,children:[f.jsx(Ah,{size:16}),f.jsx("span",{children:T})]}):f.jsx("p",{className:`text-xs ${b?"text-slate-400":"text-gray-500"}`,children:"Enter the quantity to be deducted from current stock"})]}),f.jsxs("div",{className:"flex justify-end space-x-3",children:[f.jsx(at,{type:"button",variant:"secondary",onClick:r,disabled:n,children:"Cancel"}),f.jsx(at,{type:"submit",disabled:n||!!T,className:"min-w-[100px]",children:n?f.jsxs(f.Fragment,{children:[f.jsx(xs,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):"Update"})]})]})},T5e=({isOpen:e,onClose:t})=>{const[r,n]=F.useState("0"),[a,i]=F.useState(null),[s,o]=F.useState(null),[l,c]=F.useState(!1),u=()=>{n("0"),i(null),o(null),c(!1)},d=y=>{l?(n(y),c(!1)):n(r==="0"?y:r+y)},h=()=>{l?(n("0."),c(!1)):r.indexOf(".")===-1&&n(r+".")},p=y=>{const b=parseFloat(r);if(a===null)i(b);else if(s){const O=g(a||0,b,s);n(String(O)),i(O)}c(!0),o(y)},g=(y,b,x)=>{switch(x){case"+":return y+b;case"-":return y-b;case"":return y*b;case"":return y/b;default:return b}},v=[{label:"C",onClick:u,className:"bg-red-500 hover:bg-red-600 text-white"},{label:"",onClick:()=>n(String(-parseFloat(r))),className:"bg-gray-500 hover:bg-gray-600 text-white"},{label:"%",onClick:()=>n(String(parseFloat(r)/100)),className:"bg-gray-500 hover:bg-gray-600 text-white"},{label:"",onClick:()=>p(""),className:"bg-orange-500 hover:bg-orange-600 text-white"},{label:"7",onClick:()=>d("7"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"8",onClick:()=>d("8"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"9",onClick:()=>d("9"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"",onClick:()=>p(""),className:"bg-orange-500 hover:bg-orange-600 text-white"},{label:"4",onClick:()=>d("4"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"5",onClick:()=>d("5"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"6",onClick:()=>d("6"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"-",onClick:()=>p("-"),className:"bg-orange-500 hover:bg-orange-600 text-white"},{label:"1",onClick:()=>d("1"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"2",onClick:()=>d("2"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"3",onClick:()=>d("3"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"+",onClick:()=>p("+"),className:"bg-orange-500 hover:bg-orange-600 text-white"},{label:"0",onClick:()=>d("0"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white col-span-2"},{label:".",onClick:h,className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"=",onClick:()=>{if(!a||!s)return;const y=parseFloat(r),b=g(a,y,s);n(String(b)),i(null),o(null),c(!1)},className:"bg-orange-500 hover:bg-orange-600 text-white"}];return f.jsx(gn,{isOpen:e,onClose:t,title:"Calculator",size:"sm",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg",children:[f.jsx("div",{className:"text-right text-2xl font-mono text-gray-800 dark:text-white",children:r}),s&&f.jsxs("div",{className:"text-right text-sm text-gray-500 dark:text-gray-400",children:[a," ",s]})]}),f.jsx("div",{className:"grid grid-cols-4 gap-2",children:v.map((y,b)=>f.jsx("button",{onClick:y.onClick,className:`p-4 text-lg font-medium rounded-lg transition-colors ${y.className}`,children:y.label},b))}),f.jsx("div",{className:"pt-2",children:f.jsx(at,{variant:"secondary",onClick:t,className:"w-full",children:"Close"})})]})})};function QG(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=QG(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function mn(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=QG(e))&&(n&&(n+=" "),n+=t);return n}var E5e=Array.isArray,Gs=E5e,N5e=typeof Bg=="object"&&Bg&&Bg.Object===Object&&Bg,JG=N5e,k5e=JG,C5e=typeof self=="object"&&self&&self.Object===Object&&self,P5e=k5e||C5e||Function("return this")(),Tc=P5e,j5e=Tc,O5e=j5e.Symbol,ex=O5e,LM=ex,ZG=Object.prototype,I5e=ZG.hasOwnProperty,D5e=ZG.toString,kg=LM?LM.toStringTag:void 0;function L5e(e){var t=I5e.call(e,kg),r=e[kg];try{e[kg]=void 0;var n=!0}catch{}var a=D5e.call(e);return n&&(t?e[kg]=r:delete e[kg]),a}var M5e=L5e,R5e=Object.prototype,F5e=R5e.toString;function $5e(e){return F5e.call(e)}var B5e=$5e,MM=ex,U5e=M5e,V5e=B5e,z5e="[object Null]",q5e="[object Undefined]",RM=MM?MM.toStringTag:void 0;function W5e(e){return e==null?e===void 0?q5e:z5e:RM&&RM in Object(e)?U5e(e):V5e(e)}var Ou=W5e;function H5e(e){return e!=null&&typeof e=="object"}var Iu=H5e,G5e=Ou,K5e=Iu,Y5e="[object Symbol]";function X5e(e){return typeof e=="symbol"||K5e(e)&&G5e(e)==Y5e}var Fm=X5e,Q5e=Gs,J5e=Fm,Z5e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,e_e=/^\w*$/;function t_e(e,t){if(Q5e(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||J5e(e)?!0:e_e.test(e)||!Z5e.test(e)||t!=null&&e in Object(t)}var f6=t_e;function r_e(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var xd=r_e;const $m=Dn(xd);var n_e=Ou,a_e=xd,i_e="[object AsyncFunction]",s_e="[object Function]",o_e="[object GeneratorFunction]",l_e="[object Proxy]";function c_e(e){if(!a_e(e))return!1;var t=n_e(e);return t==s_e||t==o_e||t==i_e||t==l_e}var d6=c_e;const qr=Dn(d6);var u_e=Tc,f_e=u_e["__core-js_shared__"],d_e=f_e,m4=d_e,FM=function(){var e=/[^.]+$/.exec(m4&&m4.keys&&m4.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function h_e(e){return!!FM&&FM in e}var p_e=h_e,m_e=Function.prototype,g_e=m_e.toString;function v_e(e){if(e!=null){try{return g_e.call(e)}catch{}try{return e+""}catch{}}return""}var eK=v_e,y_e=d6,x_e=p_e,b_e=xd,w_e=eK,__e=/[\\^$.*+?()[\]{}|]/g,S_e=/^\[object .+?Constructor\]$/,A_e=Function.prototype,T_e=Object.prototype,E_e=A_e.toString,N_e=T_e.hasOwnProperty,k_e=RegExp("^"+E_e.call(N_e).replace(__e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function C_e(e){if(!b_e(e)||x_e(e))return!1;var t=y_e(e)?k_e:S_e;return t.test(w_e(e))}var P_e=C_e;function j_e(e,t){return e==null?void 0:e[t]}var O_e=j_e,I_e=P_e,D_e=O_e;function L_e(e,t){var r=D_e(e,t);return I_e(r)?r:void 0}var Xh=L_e,M_e=Xh,R_e=M_e(Object,"create"),U_=R_e,$M=U_;function F_e(){this.__data__=$M?$M(null):{},this.size=0}var $_e=F_e;function B_e(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var U_e=B_e,V_e=U_,z_e="__lodash_hash_undefined__",q_e=Object.prototype,W_e=q_e.hasOwnProperty;function H_e(e){var t=this.__data__;if(V_e){var r=t[e];return r===z_e?void 0:r}return W_e.call(t,e)?t[e]:void 0}var G_e=H_e,K_e=U_,Y_e=Object.prototype,X_e=Y_e.hasOwnProperty;function Q_e(e){var t=this.__data__;return K_e?t[e]!==void 0:X_e.call(t,e)}var J_e=Q_e,Z_e=U_,eSe="__lodash_hash_undefined__";function tSe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Z_e&&t===void 0?eSe:t,this}var rSe=tSe,nSe=$_e,aSe=U_e,iSe=G_e,sSe=J_e,oSe=rSe;function Bm(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Bm.prototype.clear=nSe;Bm.prototype.delete=aSe;Bm.prototype.get=iSe;Bm.prototype.has=sSe;Bm.prototype.set=oSe;var lSe=Bm;function cSe(){this.__data__=[],this.size=0}var uSe=cSe;function fSe(e,t){return e===t||e!==e&&t!==t}var h6=fSe,dSe=h6;function hSe(e,t){for(var r=e.length;r--;)if(dSe(e[r][0],t))return r;return-1}var V_=hSe,pSe=V_,mSe=Array.prototype,gSe=mSe.splice;function vSe(e){var t=this.__data__,r=pSe(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():gSe.call(t,r,1),--this.size,!0}var ySe=vSe,xSe=V_;function bSe(e){var t=this.__data__,r=xSe(t,e);return r<0?void 0:t[r][1]}var wSe=bSe,_Se=V_;function SSe(e){return _Se(this.__data__,e)>-1}var ASe=SSe,TSe=V_;function ESe(e,t){var r=this.__data__,n=TSe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var NSe=ESe,kSe=uSe,CSe=ySe,PSe=wSe,jSe=ASe,OSe=NSe;function Um(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Um.prototype.clear=kSe;Um.prototype.delete=CSe;Um.prototype.get=PSe;Um.prototype.has=jSe;Um.prototype.set=OSe;var z_=Um,ISe=Xh,DSe=Tc,LSe=ISe(DSe,"Map"),p6=LSe,BM=lSe,MSe=z_,RSe=p6;function FSe(){this.size=0,this.__data__={hash:new BM,map:new(RSe||MSe),string:new BM}}var $Se=FSe;function BSe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var USe=BSe,VSe=USe;function zSe(e,t){var r=e.__data__;return VSe(t)?r[typeof t=="string"?"string":"hash"]:r.map}var q_=zSe,qSe=q_;function WSe(e){var t=qSe(this,e).delete(e);return this.size-=t?1:0,t}var HSe=WSe,GSe=q_;function KSe(e){return GSe(this,e).get(e)}var YSe=KSe,XSe=q_;function QSe(e){return XSe(this,e).has(e)}var JSe=QSe,ZSe=q_;function eAe(e,t){var r=ZSe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var tAe=eAe,rAe=$Se,nAe=HSe,aAe=YSe,iAe=JSe,sAe=tAe;function Vm(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Vm.prototype.clear=rAe;Vm.prototype.delete=nAe;Vm.prototype.get=aAe;Vm.prototype.has=iAe;Vm.prototype.set=sAe;var m6=Vm,tK=m6,oAe="Expected a function";function g6(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(oAe);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var s=e.apply(this,n);return r.cache=i.set(a,s)||i,s};return r.cache=new(g6.Cache||tK),r}g6.Cache=tK;var rK=g6;const lAe=Dn(rK);var cAe=rK,uAe=500;function fAe(e){var t=cAe(e,function(n){return r.size===uAe&&r.clear(),n}),r=t.cache;return t}var dAe=fAe,hAe=dAe,pAe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,mAe=/\\(\\)?/g,gAe=hAe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(pAe,function(r,n,a,i){t.push(a?i.replace(mAe,"$1"):n||r)}),t}),vAe=gAe;function yAe(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var v6=yAe,UM=ex,xAe=v6,bAe=Gs,wAe=Fm,_Ae=1/0,VM=UM?UM.prototype:void 0,zM=VM?VM.toString:void 0;function nK(e){if(typeof e=="string")return e;if(bAe(e))return xAe(e,nK)+"";if(wAe(e))return zM?zM.call(e):"";var t=e+"";return t=="0"&&1/e==-_Ae?"-0":t}var SAe=nK,AAe=SAe;function TAe(e){return e==null?"":AAe(e)}var aK=TAe,EAe=Gs,NAe=f6,kAe=vAe,CAe=aK;function PAe(e,t){return EAe(e)?e:NAe(e,t)?[e]:kAe(CAe(e))}var iK=PAe,jAe=Fm,OAe=1/0;function IAe(e){if(typeof e=="string"||jAe(e))return e;var t=e+"";return t=="0"&&1/e==-OAe?"-0":t}var W_=IAe,DAe=iK,LAe=W_;function MAe(e,t){t=DAe(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[LAe(t[r++])];return r&&r==n?e:void 0}var y6=MAe,RAe=y6;function FAe(e,t,r){var n=e==null?void 0:RAe(e,t);return n===void 0?r:n}var sK=FAe;const Ho=Dn(sK);function $Ae(e){return e==null}var BAe=$Ae;const Gr=Dn(BAe);var UAe=Ou,VAe=Gs,zAe=Iu,qAe="[object String]";function WAe(e){return typeof e=="string"||!VAe(e)&&zAe(e)&&UAe(e)==qAe}var HAe=WAe;const Ih=Dn(HAe);var oK={exports:{}},jn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x6=Symbol.for("react.element"),b6=Symbol.for("react.portal"),H_=Symbol.for("react.fragment"),G_=Symbol.for("react.strict_mode"),K_=Symbol.for("react.profiler"),Y_=Symbol.for("react.provider"),X_=Symbol.for("react.context"),GAe=Symbol.for("react.server_context"),Q_=Symbol.for("react.forward_ref"),J_=Symbol.for("react.suspense"),Z_=Symbol.for("react.suspense_list"),eS=Symbol.for("react.memo"),tS=Symbol.for("react.lazy"),KAe=Symbol.for("react.offscreen"),lK;lK=Symbol.for("react.module.reference");function tl(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case x6:switch(e=e.type,e){case H_:case K_:case G_:case J_:case Z_:return e;default:switch(e=e&&e.$$typeof,e){case GAe:case X_:case Q_:case tS:case eS:case Y_:return e;default:return t}}case b6:return t}}}jn.ContextConsumer=X_;jn.ContextProvider=Y_;jn.Element=x6;jn.ForwardRef=Q_;jn.Fragment=H_;jn.Lazy=tS;jn.Memo=eS;jn.Portal=b6;jn.Profiler=K_;jn.StrictMode=G_;jn.Suspense=J_;jn.SuspenseList=Z_;jn.isAsyncMode=function(){return!1};jn.isConcurrentMode=function(){return!1};jn.isContextConsumer=function(e){return tl(e)===X_};jn.isContextProvider=function(e){return tl(e)===Y_};jn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===x6};jn.isForwardRef=function(e){return tl(e)===Q_};jn.isFragment=function(e){return tl(e)===H_};jn.isLazy=function(e){return tl(e)===tS};jn.isMemo=function(e){return tl(e)===eS};jn.isPortal=function(e){return tl(e)===b6};jn.isProfiler=function(e){return tl(e)===K_};jn.isStrictMode=function(e){return tl(e)===G_};jn.isSuspense=function(e){return tl(e)===J_};jn.isSuspenseList=function(e){return tl(e)===Z_};jn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===H_||e===K_||e===G_||e===J_||e===Z_||e===KAe||typeof e=="object"&&e!==null&&(e.$$typeof===tS||e.$$typeof===eS||e.$$typeof===Y_||e.$$typeof===X_||e.$$typeof===Q_||e.$$typeof===lK||e.getModuleId!==void 0)};jn.typeOf=tl;oK.exports=jn;var YAe=oK.exports,XAe=Ou,QAe=Iu,JAe="[object Number]";function ZAe(e){return typeof e=="number"||QAe(e)&&XAe(e)==JAe}var cK=ZAe;const e4e=Dn(cK);var t4e=cK;function r4e(e){return t4e(e)&&e!=+e}var n4e=r4e;const tx=Dn(n4e);var Ol=function(t){return t===0?0:t>0?1:-1},ah=function(t){return Ih(t)&&t.indexOf("%")===t.length-1},Ut=function(t){return e4e(t)&&!tx(t)},a4e=function(t){return Gr(t)},Za=function(t){return Ut(t)||Ih(t)},i4e=0,rx=function(t){var r=++i4e;return"".concat(t||"").concat(r)},Dh=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ut(t)&&!Ih(t))return n;var i;if(ah(t)){var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return tx(i)&&(i=n),a&&i>r&&(i=r),i},_f=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},s4e=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Tl=function(t,r){return Ut(t)&&Ut(r)?function(n){return t+n*(r-t)}:function(){return r}};function Dw(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Ho(n,t))===r})}var o4e=function(t,r){return Ut(t)&&Ut(r)?t-r:Ih(t)&&Ih(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function vp(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function mE(e){"@babel/helpers - typeof";return mE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mE(e)}var l4e=["viewBox","children"],c4e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],qM=["points","pathLength"],g4={svg:l4e,polygon:qM,polyline:qM},w6=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Lw=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(F.isValidElement(t)&&(n=t.props),!$m(n))return null;var a={};return Object.keys(n).forEach(function(i){w6.includes(i)&&(a[i]=r||function(s){return n[i](n,s)})}),a},u4e=function(t,r,n){return function(a){return t(r,n,a),null}},Mw=function(t,r,n){if(!$m(t)||mE(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var s=t[i];w6.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=u4e(s,r,n))}),a},f4e=["children"],d4e=["children"];function WM(e,t){if(e==null)return{};var r=h4e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function h4e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function gE(e){"@babel/helpers - typeof";return gE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gE(e)}var HM={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},au=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},GM=null,v4=null,_6=function e(t){if(t===GM&&Array.isArray(v4))return v4;var r=[];return F.Children.forEach(t,function(n){Gr(n)||(YAe.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),v4=r,GM=t,r};function Go(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return au(a)}):n=[au(t)],_6(e).forEach(function(a){var i=Ho(a,"type.displayName")||Ho(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function io(e,t){var r=Go(e,t);return r&&r[0]}var KM=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!Ut(n)||n<=0||!Ut(a)||a<=0)},p4e=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],m4e=function(t){return t&&t.type&&Ih(t.type)&&p4e.indexOf(t.type)>=0},g4e=function(t){return t&&gE(t)==="object"&&"clipDot"in t},v4e=function(t,r,n,a){var i,s=(i=g4==null?void 0:g4[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!qr(t)&&(a&&s.includes(r)||c4e.includes(r))||n&&w6.includes(r)},nn=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(F.isValidElement(t)&&(a=t.props),!$m(a))return null;var i={};return Object.keys(a).forEach(function(s){var o;v4e((o=a)===null||o===void 0?void 0:o[s],s,r,n)&&(i[s]=a[s])}),i},vE=function e(t,r){if(t===r)return!0;var n=F.Children.count(t);if(n!==F.Children.count(r))return!1;if(n===0)return!0;if(n===1)return YM(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],s=r[a];if(Array.isArray(i)||Array.isArray(s)){if(!e(i,s))return!1}else if(!YM(i,s))return!1}return!0},YM=function(t,r){if(Gr(t)&&Gr(r))return!0;if(!Gr(t)&&!Gr(r)){var n=t.props||{},a=n.children,i=WM(n,f4e),s=r.props||{},o=s.children,l=WM(s,d4e);return a&&o?vp(i,l)&&vE(a,o):!a&&!o?vp(i,l):!1}return!1},XM=function(t,r){var n=[],a={};return _6(t).forEach(function(i,s){if(m4e(i))n.push(i);else if(i){var o=au(i.type),l=r[o]||{},c=l.handler,u=l.once;if(c&&(!u||!a[o])){var d=c(i,o,s);n.push(d),a[o]=!0}}}),n},y4e=function(t){var r=t&&t.type;return r&&HM[r]?HM[r]:null},x4e=function(t,r){return _6(r).indexOf(t)},b4e=["children","width","height","viewBox","className","style","title","desc"];function yE(){return yE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yE.apply(this,arguments)}function w4e(e,t){if(e==null)return{};var r=_4e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _4e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function xE(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,s=e.style,o=e.title,l=e.desc,c=w4e(e,b4e),u=a||{width:r,height:n,x:0,y:0},d=mn("recharts-surface",i);return Be.createElement("svg",yE({},nn(c,!0,"svg"),{className:d,width:r,height:n,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),Be.createElement("title",null,o),Be.createElement("desc",null,l),t)}var S4e=["children","className"];function bE(){return bE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bE.apply(this,arguments)}function A4e(e,t){if(e==null)return{};var r=T4e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function T4e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Ca=Be.forwardRef(function(e,t){var r=e.children,n=e.className,a=A4e(e,S4e),i=mn("recharts-layer",n);return Be.createElement("g",bE({className:i},nn(a,!0),{ref:t}),r)}),iu=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function E4e(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var N4e=E4e,k4e=N4e;function C4e(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:k4e(e,t,r)}var P4e=C4e,j4e="\\ud800-\\udfff",O4e="\\u0300-\\u036f",I4e="\\ufe20-\\ufe2f",D4e="\\u20d0-\\u20ff",L4e=O4e+I4e+D4e,M4e="\\ufe0e\\ufe0f",R4e="\\u200d",F4e=RegExp("["+R4e+j4e+L4e+M4e+"]");function $4e(e){return F4e.test(e)}var uK=$4e;function B4e(e){return e.split("")}var U4e=B4e,fK="\\ud800-\\udfff",V4e="\\u0300-\\u036f",z4e="\\ufe20-\\ufe2f",q4e="\\u20d0-\\u20ff",W4e=V4e+z4e+q4e,H4e="\\ufe0e\\ufe0f",G4e="["+fK+"]",wE="["+W4e+"]",_E="\\ud83c[\\udffb-\\udfff]",K4e="(?:"+wE+"|"+_E+")",dK="[^"+fK+"]",hK="(?:\\ud83c[\\udde6-\\uddff]){2}",pK="[\\ud800-\\udbff][\\udc00-\\udfff]",Y4e="\\u200d",mK=K4e+"?",gK="["+H4e+"]?",X4e="(?:"+Y4e+"(?:"+[dK,hK,pK].join("|")+")"+gK+mK+")*",Q4e=gK+mK+X4e,J4e="(?:"+[dK+wE+"?",wE,hK,pK,G4e].join("|")+")",Z4e=RegExp(_E+"(?="+_E+")|"+J4e+Q4e,"g");function e3e(e){return e.match(Z4e)||[]}var t3e=e3e,r3e=U4e,n3e=uK,a3e=t3e;function i3e(e){return n3e(e)?a3e(e):r3e(e)}var s3e=i3e,o3e=P4e,l3e=uK,c3e=s3e,u3e=aK;function f3e(e){return function(t){t=u3e(t);var r=l3e(t)?c3e(t):void 0,n=r?r[0]:t.charAt(0),a=r?o3e(r,1).join(""):t.slice(1);return n[e]()+a}}var d3e=f3e,h3e=d3e,p3e=h3e("toUpperCase"),m3e=p3e;const rS=Dn(m3e);function qn(e){return function(){return e}}const vK=Math.cos,Rw=Math.sin,Vl=Math.sqrt,Fw=Math.PI,nS=2*Fw,SE=Math.PI,AE=2*SE,qd=1e-6,g3e=AE-qd;function yK(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function v3e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return yK;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class y3e{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?yK:v3e(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,o=this._y1,l=n-t,c=a-r,u=s-t,d=o-r,h=u*u+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>qd)if(!(Math.abs(d*l-c*u)>qd)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-s,g=a-o,m=l*l+c*c,v=p*p+g*g,y=Math.sqrt(m),b=Math.sqrt(h),x=i*Math.tan((SE-Math.acos((m+h-v)/(2*y*b)))/2),O=x/b,P=x/y;Math.abs(O-1)>qd&&this._append`L${t+O*u},${r+O*d}`,this._append`A${i},${i},0,0,${+(d*p>u*g)},${this._x1=t+P*l},${this._y1=r+P*c}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),l=n*Math.sin(a),c=t+o,u=r+l,d=1^s,h=s?a-i:i-a;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>qd||Math.abs(this._y1-u)>qd)&&this._append`L${c},${u}`,n&&(h<0&&(h=h%AE+AE),h>g3e?this._append`A${n},${n},0,1,${d},${t-o},${r-l}A${n},${n},0,1,${d},${this._x1=c},${this._y1=u}`:h>qd&&this._append`A${n},${n},0,${+(h>=SE)},${d},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function S6(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new y3e(t)}function A6(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function xK(e){this._context=e}xK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function aS(e){return new xK(e)}function bK(e){return e[0]}function wK(e){return e[1]}function _K(e,t){var r=qn(!0),n=null,a=aS,i=null,s=S6(o);e=typeof e=="function"?e:e===void 0?bK:qn(e),t=typeof t=="function"?t:t===void 0?wK:qn(t);function o(l){var c,u=(l=A6(l)).length,d,h=!1,p;for(n==null&&(i=a(p=s())),c=0;c<=u;++c)!(c<u&&r(d=l[c],c,l))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(d,c,l),+t(d,c,l));if(p)return i=null,p+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:qn(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:qn(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:qn(!!l),o):r},o.curve=function(l){return arguments.length?(a=l,n!=null&&(i=a(n)),o):a},o.context=function(l){return arguments.length?(l==null?n=i=null:i=a(n=l),o):n},o}function b2(e,t,r){var n=null,a=qn(!0),i=null,s=aS,o=null,l=S6(c);e=typeof e=="function"?e:e===void 0?bK:qn(+e),t=typeof t=="function"?t:qn(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?wK:qn(+r);function c(d){var h,p,g,m=(d=A6(d)).length,v,y=!1,b,x=new Array(m),O=new Array(m);for(i==null&&(o=s(b=l())),h=0;h<=m;++h){if(!(h<m&&a(v=d[h],h,d))===y)if(y=!y)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=h-1;g>=p;--g)o.point(x[g],O[g]);o.lineEnd(),o.areaEnd()}y&&(x[h]=+e(v,h,d),O[h]=+t(v,h,d),o.point(n?+n(v,h,d):x[h],r?+r(v,h,d):O[h]))}if(b)return o=null,b+""||null}function u(){return _K().defined(a).curve(s).context(i)}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:qn(+d),n=null,c):e},c.x0=function(d){return arguments.length?(e=typeof d=="function"?d:qn(+d),c):e},c.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:qn(+d),c):n},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:qn(+d),r=null,c):t},c.y0=function(d){return arguments.length?(t=typeof d=="function"?d:qn(+d),c):t},c.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:qn(+d),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(d){return arguments.length?(a=typeof d=="function"?d:qn(!!d),c):a},c.curve=function(d){return arguments.length?(s=d,i!=null&&(o=s(i)),c):s},c.context=function(d){return arguments.length?(d==null?i=o=null:o=s(i=d),c):i},c}class SK{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function x3e(e){return new SK(e,!0)}function b3e(e){return new SK(e,!1)}const T6={draw(e,t){const r=Vl(t/Fw);e.moveTo(r,0),e.arc(0,0,r,0,nS)}},w3e={draw(e,t){const r=Vl(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},AK=Vl(1/3),_3e=AK*2,S3e={draw(e,t){const r=Vl(t/_3e),n=r*AK;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},A3e={draw(e,t){const r=Vl(t),n=-r/2;e.rect(n,n,r,r)}},T3e=.8908130915292852,TK=Rw(Fw/10)/Rw(7*Fw/10),E3e=Rw(nS/10)*TK,N3e=-vK(nS/10)*TK,k3e={draw(e,t){const r=Vl(t*T3e),n=E3e*r,a=N3e*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const s=nS*i/5,o=vK(s),l=Rw(s);e.lineTo(l*r,-o*r),e.lineTo(o*n-l*a,l*n+o*a)}e.closePath()}},y4=Vl(3),C3e={draw(e,t){const r=-Vl(t/(y4*3));e.moveTo(0,r*2),e.lineTo(-y4*r,-r),e.lineTo(y4*r,-r),e.closePath()}},Po=-.5,jo=Vl(3)/2,TE=1/Vl(12),P3e=(TE/2+1)*3,j3e={draw(e,t){const r=Vl(t/P3e),n=r/2,a=r*TE,i=n,s=r*TE+r,o=-i,l=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(o,l),e.lineTo(Po*n-jo*a,jo*n+Po*a),e.lineTo(Po*i-jo*s,jo*i+Po*s),e.lineTo(Po*o-jo*l,jo*o+Po*l),e.lineTo(Po*n+jo*a,Po*a-jo*n),e.lineTo(Po*i+jo*s,Po*s-jo*i),e.lineTo(Po*o+jo*l,Po*l-jo*o),e.closePath()}};function O3e(e,t){let r=null,n=S6(a);e=typeof e=="function"?e:qn(e||T6),t=typeof t=="function"?t:qn(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:qn(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:qn(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function $w(){}function Bw(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function EK(e){this._context=e}EK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Bw(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Bw(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function I3e(e){return new EK(e)}function NK(e){this._context=e}NK.prototype={areaStart:$w,areaEnd:$w,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Bw(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function D3e(e){return new NK(e)}function kK(e){this._context=e}kK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Bw(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function L3e(e){return new kK(e)}function CK(e){this._context=e}CK.prototype={areaStart:$w,areaEnd:$w,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function M3e(e){return new CK(e)}function QM(e){return e<0?-1:1}function JM(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),o=(i*a+s*n)/(n+a);return(QM(i)+QM(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function ZM(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function x4(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,a+o*t,i-o,s-o*r,i,s)}function Uw(e){this._context=e}Uw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:x4(this,this._t0,ZM(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,x4(this,ZM(this,r=JM(this,e,t)),r);break;default:x4(this,this._t0,r=JM(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function PK(e){this._context=new jK(e)}(PK.prototype=Object.create(Uw.prototype)).point=function(e,t){Uw.prototype.point.call(this,t,e)};function jK(e){this._context=e}jK.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function R3e(e){return new Uw(e)}function F3e(e){return new PK(e)}function OK(e){this._context=e}OK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=e7(e),a=e7(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function e7(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function $3e(e){return new OK(e)}function iS(e,t){this._context=e,this._t=t}iS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function B3e(e){return new iS(e,.5)}function U3e(e){return new iS(e,0)}function V3e(e){return new iS(e,1)}function Yp(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,o=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function EE(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function z3e(e,t){return e[t]}function q3e(e){const t=[];return t.key=e,t}function W3e(){var e=qn([]),t=EE,r=Yp,n=z3e;function a(i){var s=Array.from(e.apply(this,arguments),q3e),o,l=s.length,c=-1,u;for(const d of i)for(o=0,++c;o<l;++o)(s[o][c]=[0,+n(d,s[o].key,c,i)]).data=d;for(o=0,u=A6(t(s));o<l;++o)s[u[o]].index=o;return r(s,u),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:qn(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:qn(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?EE:typeof i=="function"?i:qn(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Yp,a):r},a}function H3e(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}Yp(e,t)}}function G3e(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,o=0;s<a;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}Yp(e,t)}}function K3e(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var o=0,l=0,c=0;o<s;++o){for(var u=e[t[o]],d=u[n][1]||0,h=u[n-1][1]||0,p=(d-h)/2,g=0;g<o;++g){var m=e[t[g]],v=m[n][1]||0,y=m[n-1][1]||0;p+=v-y}l+=d,c+=p*d}a[n-1][1]+=a[n-1][0]=r,l&&(r-=c/l)}a[n-1][1]+=a[n-1][0]=r,Yp(e,t)}}function q1(e){"@babel/helpers - typeof";return q1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q1(e)}var Y3e=["type","size","sizeType"];function NE(){return NE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},NE.apply(this,arguments)}function t7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function r7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t7(Object(r),!0).forEach(function(n){X3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X3e(e,t,r){return t=Q3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q3e(e){var t=J3e(e,"string");return q1(t)=="symbol"?t:t+""}function J3e(e,t){if(q1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(q1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z3e(e,t){if(e==null)return{};var r=eTe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eTe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var IK={symbolCircle:T6,symbolCross:w3e,symbolDiamond:S3e,symbolSquare:A3e,symbolStar:k3e,symbolTriangle:C3e,symbolWye:j3e},tTe=Math.PI/180,rTe=function(t){var r="symbol".concat(rS(t));return IK[r]||T6},nTe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*tTe;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},aTe=function(t,r){IK["symbol".concat(rS(t))]=r},E6=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,s=t.sizeType,o=s===void 0?"area":s,l=Z3e(t,Y3e),c=r7(r7({},l),{},{type:n,size:i,sizeType:o}),u=function(){var v=rTe(n),y=O3e().type(v).size(nTe(i,o,n));return y()},d=c.className,h=c.cx,p=c.cy,g=nn(c,!0);return h===+h&&p===+p&&i===+i?Be.createElement("path",NE({},g,{className:mn("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};E6.registerSymbol=aTe;function Xp(e){"@babel/helpers - typeof";return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xp(e)}function kE(){return kE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kE.apply(this,arguments)}function n7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iTe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n7(Object(r),!0).forEach(function(n){W1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oTe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LK(n.key),n)}}function lTe(e,t,r){return t&&oTe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cTe(e,t,r){return t=Vw(t),uTe(e,DK()?Reflect.construct(t,r||[],Vw(e).constructor):t.apply(e,r))}function uTe(e,t){if(t&&(Xp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fTe(e)}function fTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DK=function(){return!!e})()}function Vw(e){return Vw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vw(e)}function dTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CE(e,t)}function CE(e,t){return CE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},CE(e,t)}function W1(e,t,r){return t=LK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LK(e){var t=hTe(e,"string");return Xp(t)=="symbol"?t:t+""}function hTe(e,t){if(Xp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Oo=32,N6=function(e){function t(){return sTe(this,t),cTe(this,t,arguments)}return dTe(t,e),lTe(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Oo/2,s=Oo/6,o=Oo/3,l=n.inactive?a:n.color;if(n.type==="plainline")return Be.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Oo,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return Be.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(Oo,"M").concat(2*o,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return Be.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Oo/8,"h").concat(Oo,"v").concat(Oo*3/4,"h").concat(-Oo,"z"),className:"recharts-legend-icon"});if(Be.isValidElement(n.legendIcon)){var c=iTe({},n);return delete c.legendIcon,Be.cloneElement(n.legendIcon,c)}return Be.createElement(E6,{fill:l,cx:i,cy:i,size:Oo,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,s=a.iconSize,o=a.layout,l=a.formatter,c=a.inactiveColor,u={x:0,y:0,width:Oo,height:Oo},d={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,g){var m=p.formatter||l,v=mn(W1(W1({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=qr(p.value)?null:p.value;iu(!qr(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?c:p.color;return Be.createElement("li",kE({className:v,style:d,key:"legend-item-".concat(g)},Mw(n.props,p,g)),Be.createElement(xE,{width:s,height:s,viewBox:u,style:h},n.renderIcon(p)),Be.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},m?m(y,p,g):y))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,s=n.align;if(!a||!a.length)return null;var o={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return Be.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(F.PureComponent);W1(N6,"displayName","Legend");W1(N6,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var pTe=z_;function mTe(){this.__data__=new pTe,this.size=0}var gTe=mTe;function vTe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var yTe=vTe;function xTe(e){return this.__data__.get(e)}var bTe=xTe;function wTe(e){return this.__data__.has(e)}var _Te=wTe,STe=z_,ATe=p6,TTe=m6,ETe=200;function NTe(e,t){var r=this.__data__;if(r instanceof STe){var n=r.__data__;if(!ATe||n.length<ETe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new TTe(n)}return r.set(e,t),this.size=r.size,this}var kTe=NTe,CTe=z_,PTe=gTe,jTe=yTe,OTe=bTe,ITe=_Te,DTe=kTe;function zm(e){var t=this.__data__=new CTe(e);this.size=t.size}zm.prototype.clear=PTe;zm.prototype.delete=jTe;zm.prototype.get=OTe;zm.prototype.has=ITe;zm.prototype.set=DTe;var MK=zm,LTe="__lodash_hash_undefined__";function MTe(e){return this.__data__.set(e,LTe),this}var RTe=MTe;function FTe(e){return this.__data__.has(e)}var $Te=FTe,BTe=m6,UTe=RTe,VTe=$Te;function zw(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new BTe;++t<r;)this.add(e[t])}zw.prototype.add=zw.prototype.push=UTe;zw.prototype.has=VTe;var RK=zw;function zTe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var FK=zTe;function qTe(e,t){return e.has(t)}var $K=qTe,WTe=RK,HTe=FK,GTe=$K,KTe=1,YTe=2;function XTe(e,t,r,n,a,i){var s=r&KTe,o=e.length,l=t.length;if(o!=l&&!(s&&l>o))return!1;var c=i.get(e),u=i.get(t);if(c&&u)return c==t&&u==e;var d=-1,h=!0,p=r&YTe?new WTe:void 0;for(i.set(e,t),i.set(t,e);++d<o;){var g=e[d],m=t[d];if(n)var v=s?n(m,g,d,t,e,i):n(g,m,d,e,t,i);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!HTe(t,function(y,b){if(!GTe(p,b)&&(g===y||a(g,y,r,n,i)))return p.push(b)})){h=!1;break}}else if(!(g===m||a(g,m,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var BK=XTe,QTe=Tc,JTe=QTe.Uint8Array,ZTe=JTe;function eEe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var tEe=eEe;function rEe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var k6=rEe,a7=ex,i7=ZTe,nEe=h6,aEe=BK,iEe=tEe,sEe=k6,oEe=1,lEe=2,cEe="[object Boolean]",uEe="[object Date]",fEe="[object Error]",dEe="[object Map]",hEe="[object Number]",pEe="[object RegExp]",mEe="[object Set]",gEe="[object String]",vEe="[object Symbol]",yEe="[object ArrayBuffer]",xEe="[object DataView]",s7=a7?a7.prototype:void 0,b4=s7?s7.valueOf:void 0;function bEe(e,t,r,n,a,i,s){switch(r){case xEe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case yEe:return!(e.byteLength!=t.byteLength||!i(new i7(e),new i7(t)));case cEe:case uEe:case hEe:return nEe(+e,+t);case fEe:return e.name==t.name&&e.message==t.message;case pEe:case gEe:return e==t+"";case dEe:var o=iEe;case mEe:var l=n&oEe;if(o||(o=sEe),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;n|=lEe,s.set(e,t);var u=aEe(o(e),o(t),n,a,i,s);return s.delete(e),u;case vEe:if(b4)return b4.call(e)==b4.call(t)}return!1}var wEe=bEe;function _Ee(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var UK=_Ee,SEe=UK,AEe=Gs;function TEe(e,t,r){var n=t(e);return AEe(e)?n:SEe(n,r(e))}var EEe=TEe;function NEe(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var s=e[r];t(s,r,e)&&(i[a++]=s)}return i}var kEe=NEe;function CEe(){return[]}var PEe=CEe,jEe=kEe,OEe=PEe,IEe=Object.prototype,DEe=IEe.propertyIsEnumerable,o7=Object.getOwnPropertySymbols,LEe=o7?function(e){return e==null?[]:(e=Object(e),jEe(o7(e),function(t){return DEe.call(e,t)}))}:OEe,MEe=LEe;function REe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var FEe=REe,$Ee=Ou,BEe=Iu,UEe="[object Arguments]";function VEe(e){return BEe(e)&&$Ee(e)==UEe}var zEe=VEe,l7=zEe,qEe=Iu,VK=Object.prototype,WEe=VK.hasOwnProperty,HEe=VK.propertyIsEnumerable,GEe=l7(function(){return arguments}())?l7:function(e){return qEe(e)&&WEe.call(e,"callee")&&!HEe.call(e,"callee")},C6=GEe,qw={exports:{}};function KEe(){return!1}var YEe=KEe;qw.exports;(function(e,t){var r=Tc,n=YEe,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===a,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||n;e.exports=c})(qw,qw.exports);var zK=qw.exports,XEe=9007199254740991,QEe=/^(?:0|[1-9]\d*)$/;function JEe(e,t){var r=typeof e;return t=t??XEe,!!t&&(r=="number"||r!="symbol"&&QEe.test(e))&&e>-1&&e%1==0&&e<t}var P6=JEe,ZEe=9007199254740991;function eNe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ZEe}var j6=eNe,tNe=Ou,rNe=j6,nNe=Iu,aNe="[object Arguments]",iNe="[object Array]",sNe="[object Boolean]",oNe="[object Date]",lNe="[object Error]",cNe="[object Function]",uNe="[object Map]",fNe="[object Number]",dNe="[object Object]",hNe="[object RegExp]",pNe="[object Set]",mNe="[object String]",gNe="[object WeakMap]",vNe="[object ArrayBuffer]",yNe="[object DataView]",xNe="[object Float32Array]",bNe="[object Float64Array]",wNe="[object Int8Array]",_Ne="[object Int16Array]",SNe="[object Int32Array]",ANe="[object Uint8Array]",TNe="[object Uint8ClampedArray]",ENe="[object Uint16Array]",NNe="[object Uint32Array]",Xn={};Xn[xNe]=Xn[bNe]=Xn[wNe]=Xn[_Ne]=Xn[SNe]=Xn[ANe]=Xn[TNe]=Xn[ENe]=Xn[NNe]=!0;Xn[aNe]=Xn[iNe]=Xn[vNe]=Xn[sNe]=Xn[yNe]=Xn[oNe]=Xn[lNe]=Xn[cNe]=Xn[uNe]=Xn[fNe]=Xn[dNe]=Xn[hNe]=Xn[pNe]=Xn[mNe]=Xn[gNe]=!1;function kNe(e){return nNe(e)&&rNe(e.length)&&!!Xn[tNe(e)]}var CNe=kNe;function PNe(e){return function(t){return e(t)}}var qK=PNe,Ww={exports:{}};Ww.exports;(function(e,t){var r=JG,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,s=i&&r.process,o=function(){try{var l=a&&a.require&&a.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o})(Ww,Ww.exports);var jNe=Ww.exports,ONe=CNe,INe=qK,c7=jNe,u7=c7&&c7.isTypedArray,DNe=u7?INe(u7):ONe,WK=DNe,LNe=FEe,MNe=C6,RNe=Gs,FNe=zK,$Ne=P6,BNe=WK,UNe=Object.prototype,VNe=UNe.hasOwnProperty;function zNe(e,t){var r=RNe(e),n=!r&&MNe(e),a=!r&&!n&&FNe(e),i=!r&&!n&&!a&&BNe(e),s=r||n||a||i,o=s?LNe(e.length,String):[],l=o.length;for(var c in e)(t||VNe.call(e,c))&&!(s&&(c=="length"||a&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||$Ne(c,l)))&&o.push(c);return o}var qNe=zNe,WNe=Object.prototype;function HNe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||WNe;return e===r}var GNe=HNe;function KNe(e,t){return function(r){return e(t(r))}}var HK=KNe,YNe=HK,XNe=YNe(Object.keys,Object),QNe=XNe,JNe=GNe,ZNe=QNe,eke=Object.prototype,tke=eke.hasOwnProperty;function rke(e){if(!JNe(e))return ZNe(e);var t=[];for(var r in Object(e))tke.call(e,r)&&r!="constructor"&&t.push(r);return t}var nke=rke,ake=d6,ike=j6;function ske(e){return e!=null&&ike(e.length)&&!ake(e)}var nx=ske,oke=qNe,lke=nke,cke=nx;function uke(e){return cke(e)?oke(e):lke(e)}var sS=uke,fke=EEe,dke=MEe,hke=sS;function pke(e){return fke(e,hke,dke)}var mke=pke,f7=mke,gke=1,vke=Object.prototype,yke=vke.hasOwnProperty;function xke(e,t,r,n,a,i){var s=r&gke,o=f7(e),l=o.length,c=f7(t),u=c.length;if(l!=u&&!s)return!1;for(var d=l;d--;){var h=o[d];if(!(s?h in t:yke.call(t,h)))return!1}var p=i.get(e),g=i.get(t);if(p&&g)return p==t&&g==e;var m=!0;i.set(e,t),i.set(t,e);for(var v=s;++d<l;){h=o[d];var y=e[h],b=t[h];if(n)var x=s?n(b,y,h,t,e,i):n(y,b,h,e,t,i);if(!(x===void 0?y===b||a(y,b,r,n,i):x)){m=!1;break}v||(v=h=="constructor")}if(m&&!v){var O=e.constructor,P=t.constructor;O!=P&&"constructor"in e&&"constructor"in t&&!(typeof O=="function"&&O instanceof O&&typeof P=="function"&&P instanceof P)&&(m=!1)}return i.delete(e),i.delete(t),m}var bke=xke,wke=Xh,_ke=Tc,Ske=wke(_ke,"DataView"),Ake=Ske,Tke=Xh,Eke=Tc,Nke=Tke(Eke,"Promise"),kke=Nke,Cke=Xh,Pke=Tc,jke=Cke(Pke,"Set"),GK=jke,Oke=Xh,Ike=Tc,Dke=Oke(Ike,"WeakMap"),Lke=Dke,PE=Ake,jE=p6,OE=kke,IE=GK,DE=Lke,KK=Ou,qm=eK,d7="[object Map]",Mke="[object Object]",h7="[object Promise]",p7="[object Set]",m7="[object WeakMap]",g7="[object DataView]",Rke=qm(PE),Fke=qm(jE),$ke=qm(OE),Bke=qm(IE),Uke=qm(DE),Wd=KK;(PE&&Wd(new PE(new ArrayBuffer(1)))!=g7||jE&&Wd(new jE)!=d7||OE&&Wd(OE.resolve())!=h7||IE&&Wd(new IE)!=p7||DE&&Wd(new DE)!=m7)&&(Wd=function(e){var t=KK(e),r=t==Mke?e.constructor:void 0,n=r?qm(r):"";if(n)switch(n){case Rke:return g7;case Fke:return d7;case $ke:return h7;case Bke:return p7;case Uke:return m7}return t});var Vke=Wd,w4=MK,zke=BK,qke=wEe,Wke=bke,v7=Vke,y7=Gs,x7=zK,Hke=WK,Gke=1,b7="[object Arguments]",w7="[object Array]",w2="[object Object]",Kke=Object.prototype,_7=Kke.hasOwnProperty;function Yke(e,t,r,n,a,i){var s=y7(e),o=y7(t),l=s?w7:v7(e),c=o?w7:v7(t);l=l==b7?w2:l,c=c==b7?w2:c;var u=l==w2,d=c==w2,h=l==c;if(h&&x7(e)){if(!x7(t))return!1;s=!0,u=!1}if(h&&!u)return i||(i=new w4),s||Hke(e)?zke(e,t,r,n,a,i):qke(e,t,l,r,n,a,i);if(!(r&Gke)){var p=u&&_7.call(e,"__wrapped__"),g=d&&_7.call(t,"__wrapped__");if(p||g){var m=p?e.value():e,v=g?t.value():t;return i||(i=new w4),a(m,v,r,n,i)}}return h?(i||(i=new w4),Wke(e,t,r,n,a,i)):!1}var Xke=Yke,Qke=Xke,S7=Iu;function YK(e,t,r,n,a){return e===t?!0:e==null||t==null||!S7(e)&&!S7(t)?e!==e&&t!==t:Qke(e,t,r,n,YK,a)}var O6=YK,Jke=MK,Zke=O6,eCe=1,tCe=2;function rCe(e,t,r,n){var a=r.length,i=a,s=!n;if(e==null)return!i;for(e=Object(e);a--;){var o=r[a];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++a<i;){o=r[a];var l=o[0],c=e[l],u=o[1];if(s&&o[2]){if(c===void 0&&!(l in e))return!1}else{var d=new Jke;if(n)var h=n(c,u,l,e,t,d);if(!(h===void 0?Zke(u,c,eCe|tCe,n,d):h))return!1}}return!0}var nCe=rCe,aCe=xd;function iCe(e){return e===e&&!aCe(e)}var XK=iCe,sCe=XK,oCe=sS;function lCe(e){for(var t=oCe(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,sCe(a)]}return t}var cCe=lCe;function uCe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var QK=uCe,fCe=nCe,dCe=cCe,hCe=QK;function pCe(e){var t=dCe(e);return t.length==1&&t[0][2]?hCe(t[0][0],t[0][1]):function(r){return r===e||fCe(r,e,t)}}var mCe=pCe;function gCe(e,t){return e!=null&&t in Object(e)}var vCe=gCe,yCe=iK,xCe=C6,bCe=Gs,wCe=P6,_Ce=j6,SCe=W_;function ACe(e,t,r){t=yCe(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var s=SCe(t[n]);if(!(i=e!=null&&r(e,s)))break;e=e[s]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&_Ce(a)&&wCe(s,a)&&(bCe(e)||xCe(e)))}var TCe=ACe,ECe=vCe,NCe=TCe;function kCe(e,t){return e!=null&&NCe(e,t,ECe)}var CCe=kCe,PCe=O6,jCe=sK,OCe=CCe,ICe=f6,DCe=XK,LCe=QK,MCe=W_,RCe=1,FCe=2;function $Ce(e,t){return ICe(e)&&DCe(t)?LCe(MCe(e),t):function(r){var n=jCe(r,e);return n===void 0&&n===t?OCe(r,e):PCe(t,n,RCe|FCe)}}var BCe=$Ce;function UCe(e){return e}var Wm=UCe;function VCe(e){return function(t){return t==null?void 0:t[e]}}var zCe=VCe,qCe=y6;function WCe(e){return function(t){return qCe(t,e)}}var HCe=WCe,GCe=zCe,KCe=HCe,YCe=f6,XCe=W_;function QCe(e){return YCe(e)?GCe(XCe(e)):KCe(e)}var JCe=QCe,ZCe=mCe,ePe=BCe,tPe=Wm,rPe=Gs,nPe=JCe;function aPe(e){return typeof e=="function"?e:e==null?tPe:typeof e=="object"?rPe(e)?ePe(e[0],e[1]):ZCe(e):nPe(e)}var bd=aPe;function iPe(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var JK=iPe;function sPe(e){return e!==e}var oPe=sPe;function lPe(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var cPe=lPe,uPe=JK,fPe=oPe,dPe=cPe;function hPe(e,t,r){return t===t?dPe(e,t,r):uPe(e,fPe,r)}var pPe=hPe,mPe=pPe;function gPe(e,t){var r=e==null?0:e.length;return!!r&&mPe(e,t,0)>-1}var vPe=gPe;function yPe(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var xPe=yPe;function bPe(){}var wPe=bPe,_4=GK,_Pe=wPe,SPe=k6,APe=1/0,TPe=_4&&1/SPe(new _4([,-0]))[1]==APe?function(e){return new _4(e)}:_Pe,EPe=TPe,NPe=RK,kPe=vPe,CPe=xPe,PPe=$K,jPe=EPe,OPe=k6,IPe=200;function DPe(e,t,r){var n=-1,a=kPe,i=e.length,s=!0,o=[],l=o;if(r)s=!1,a=CPe;else if(i>=IPe){var c=t?null:jPe(e);if(c)return OPe(c);s=!1,a=PPe,l=new NPe}else l=t?[]:o;e:for(;++n<i;){var u=e[n],d=t?t(u):u;if(u=r||u!==0?u:0,s&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),o.push(u)}else a(l,d,r)||(l!==o&&l.push(d),o.push(u))}return o}var LPe=DPe,MPe=bd,RPe=LPe;function FPe(e,t){return e&&e.length?RPe(e,MPe(t)):[]}var $Pe=FPe;const A7=Dn($Pe);function ZK(e,t,r){return t===!0?A7(e,r):qr(t)?A7(e,t):e}function Qp(e){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qp(e)}var BPe=["ref"];function T7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T7(Object(r),!0).forEach(function(n){oS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tY(n.key),n)}}function VPe(e,t,r){return t&&E7(e.prototype,t),r&&E7(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function zPe(e,t,r){return t=Hw(t),qPe(e,eY()?Reflect.construct(t,r||[],Hw(e).constructor):t.apply(e,r))}function qPe(e,t){if(t&&(Qp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WPe(e)}function WPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eY=function(){return!!e})()}function Hw(e){return Hw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hw(e)}function HPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LE(e,t)}function LE(e,t){return LE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},LE(e,t)}function oS(e,t,r){return t=tY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tY(e){var t=GPe(e,"string");return Qp(t)=="symbol"?t:t+""}function GPe(e,t){if(Qp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KPe(e,t){if(e==null)return{};var r=YPe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function YPe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function XPe(e){return e.value}function QPe(e,t){if(Be.isValidElement(e))return Be.cloneElement(e,t);if(typeof e=="function")return Be.createElement(e,t);t.ref;var r=KPe(t,BPe);return Be.createElement(N6,r)}var N7=1,Ko=function(e){function t(){var r;UPe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=zPe(this,t,[].concat(a)),oS(r,"lastBoundingBox",{width:-1,height:-1}),r}return HPe(t,e),VPe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>N7||Math.abs(a.height-this.lastBoundingBox.height)>N7)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?zc({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,s=a.align,o=a.verticalAlign,l=a.margin,c=a.chartWidth,u=a.chartHeight,d,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();d={left:((c||0)-p.width)/2}}else d=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var g=this.getBBoxSnapshot();h={top:((u||0)-g.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return zc(zc({},d),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,s=a.width,o=a.height,l=a.wrapperStyle,c=a.payloadUniqBy,u=a.payload,d=zc(zc({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return Be.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(p){n.wrapperNode=p}},QPe(i,zc(zc({},this.props),{},{payload:ZK(u,c,XPe)})))}}],[{key:"getWithHeight",value:function(n,a){var i=zc(zc({},this.defaultProps),n.props),s=i.layout;return s==="vertical"&&Ut(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||a}:null}}])}(F.PureComponent);oS(Ko,"displayName","Legend");oS(Ko,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var k7=ex,JPe=C6,ZPe=Gs,C7=k7?k7.isConcatSpreadable:void 0;function e6e(e){return ZPe(e)||JPe(e)||!!(C7&&e&&e[C7])}var t6e=e6e,r6e=UK,n6e=t6e;function rY(e,t,r,n,a){var i=-1,s=e.length;for(r||(r=n6e),a||(a=[]);++i<s;){var o=e[i];t>0&&r(o)?t>1?rY(o,t-1,r,n,a):r6e(a,o):n||(a[a.length]=o)}return a}var nY=rY;function a6e(e){return function(t,r,n){for(var a=-1,i=Object(t),s=n(t),o=s.length;o--;){var l=s[e?o:++a];if(r(i[l],l,i)===!1)break}return t}}var i6e=a6e,s6e=i6e,o6e=s6e(),l6e=o6e,c6e=l6e,u6e=sS;function f6e(e,t){return e&&c6e(e,t,u6e)}var aY=f6e,d6e=nx;function h6e(e,t){return function(r,n){if(r==null)return r;if(!d6e(r))return e(r,n);for(var a=r.length,i=t?a:-1,s=Object(r);(t?i--:++i<a)&&n(s[i],i,s)!==!1;);return r}}var p6e=h6e,m6e=aY,g6e=p6e,v6e=g6e(m6e),I6=v6e,y6e=I6,x6e=nx;function b6e(e,t){var r=-1,n=x6e(e)?Array(e.length):[];return y6e(e,function(a,i,s){n[++r]=t(a,i,s)}),n}var iY=b6e;function w6e(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var _6e=w6e,P7=Fm;function S6e(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=P7(e),s=t!==void 0,o=t===null,l=t===t,c=P7(t);if(!o&&!c&&!i&&e>t||i&&s&&l&&!o&&!c||n&&s&&l||!r&&l||!a)return 1;if(!n&&!i&&!c&&e<t||c&&r&&a&&!n&&!i||o&&r&&a||!s&&a||!l)return-1}return 0}var A6e=S6e,T6e=A6e;function E6e(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,s=a.length,o=r.length;++n<s;){var l=T6e(a[n],i[n]);if(l){if(n>=o)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return e.index-t.index}var N6e=E6e,S4=v6,k6e=y6,C6e=bd,P6e=iY,j6e=_6e,O6e=qK,I6e=N6e,D6e=Wm,L6e=Gs;function M6e(e,t,r){t.length?t=S4(t,function(i){return L6e(i)?function(s){return k6e(s,i.length===1?i[0]:i)}:i}):t=[D6e];var n=-1;t=S4(t,O6e(C6e));var a=P6e(e,function(i,s,o){var l=S4(t,function(c){return c(i)});return{criteria:l,index:++n,value:i}});return j6e(a,function(i,s){return I6e(i,s,r)})}var R6e=M6e;function F6e(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var $6e=F6e,B6e=$6e,j7=Math.max;function U6e(e,t,r){return t=j7(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=j7(n.length-t,0),s=Array(i);++a<i;)s[a]=n[t+a];a=-1;for(var o=Array(t+1);++a<t;)o[a]=n[a];return o[t]=r(s),B6e(e,this,o)}}var V6e=U6e;function z6e(e){return function(){return e}}var q6e=z6e,W6e=Xh,H6e=function(){try{var e=W6e(Object,"defineProperty");return e({},"",{}),e}catch{}}(),sY=H6e,G6e=q6e,O7=sY,K6e=Wm,Y6e=O7?function(e,t){return O7(e,"toString",{configurable:!0,enumerable:!1,value:G6e(t),writable:!0})}:K6e,X6e=Y6e,Q6e=800,J6e=16,Z6e=Date.now;function eje(e){var t=0,r=0;return function(){var n=Z6e(),a=J6e-(n-r);if(r=n,a>0){if(++t>=Q6e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var tje=eje,rje=X6e,nje=tje,aje=nje(rje),ije=aje,sje=Wm,oje=V6e,lje=ije;function cje(e,t){return lje(oje(e,t,sje),e+"")}var uje=cje,fje=h6,dje=nx,hje=P6,pje=xd;function mje(e,t,r){if(!pje(r))return!1;var n=typeof t;return(n=="number"?dje(r)&&hje(t,r.length):n=="string"&&t in r)?fje(r[t],e):!1}var lS=mje,gje=nY,vje=R6e,yje=uje,I7=lS,xje=yje(function(e,t){if(e==null)return[];var r=t.length;return r>1&&I7(e,t[0],t[1])?t=[]:r>2&&I7(t[0],t[1],t[2])&&(t=[t[0]]),vje(e,gje(t,1),[])}),bje=xje;const D6=Dn(bje);function H1(e){"@babel/helpers - typeof";return H1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H1(e)}function ME(){return ME=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ME.apply(this,arguments)}function wje(e,t){return Tje(e)||Aje(e,t)||Sje(e,t)||_je()}function _je(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sje(e,t){if(e){if(typeof e=="string")return D7(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D7(e,t)}}function D7(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Aje(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function Tje(e){if(Array.isArray(e))return e}function L7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function A4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L7(Object(r),!0).forEach(function(n){Eje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Eje(e,t,r){return t=Nje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nje(e){var t=kje(e,"string");return H1(t)=="symbol"?t:t+""}function kje(e,t){if(H1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(H1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cje(e){return Array.isArray(e)&&Za(e[0])&&Za(e[1])?e.join(" ~ "):e}var Pje=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,s=t.itemStyle,o=s===void 0?{}:s,l=t.labelStyle,c=l===void 0?{}:l,u=t.payload,d=t.formatter,h=t.itemSorter,p=t.wrapperClassName,g=t.labelClassName,m=t.label,v=t.labelFormatter,y=t.accessibilityLayer,b=y===void 0?!1:y,x=function(){if(u&&u.length){var N={padding:0,margin:0},k=(h?D6(u,h):u).map(function(V,Q){if(V.type==="none")return null;var W=A4({display:"block",paddingTop:4,paddingBottom:4,color:V.color||"#000"},o),G=V.formatter||d||Cje,q=V.value,U=V.name,ee=q,Z=U;if(G&&ee!=null&&Z!=null){var I=G(q,U,V,Q,u);if(Array.isArray(I)){var M=wje(I,2);ee=M[0],Z=M[1]}else ee=I}return Be.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Q),style:W},Za(Z)?Be.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,Za(Z)?Be.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Be.createElement("span",{className:"recharts-tooltip-item-value"},ee),Be.createElement("span",{className:"recharts-tooltip-item-unit"},V.unit||""))});return Be.createElement("ul",{className:"recharts-tooltip-item-list",style:N},k)}return null},O=A4({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),P=A4({margin:0},c),j=!Gr(m),T=j?m:"",S=mn("recharts-default-tooltip",p),_=mn("recharts-tooltip-label",g);j&&v&&u!==void 0&&u!==null&&(T=v(m,u));var D=b?{role:"status","aria-live":"assertive"}:{};return Be.createElement("div",ME({className:S,style:O},D),Be.createElement("p",{className:_,style:P},Be.isValidElement(T)?T:"".concat(T)),x())};function G1(e){"@babel/helpers - typeof";return G1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G1(e)}function _2(e,t,r){return t=jje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jje(e){var t=Oje(e,"string");return G1(t)=="symbol"?t:t+""}function Oje(e,t){if(G1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(G1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cg="recharts-tooltip-wrapper",Ije={visibility:"hidden"};function Dje(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return mn(Cg,_2(_2(_2(_2({},"".concat(Cg,"-right"),Ut(r)&&t&&Ut(t.x)&&r>=t.x),"".concat(Cg,"-left"),Ut(r)&&t&&Ut(t.x)&&r<t.x),"".concat(Cg,"-bottom"),Ut(n)&&t&&Ut(t.y)&&n>=t.y),"".concat(Cg,"-top"),Ut(n)&&t&&Ut(t.y)&&n<t.y))}function M7(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,s=e.reverseDirection,o=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(i&&Ut(i[n]))return i[n];var u=r[n]-o-a,d=r[n]+a;if(t[n])return s[n]?u:d;if(s[n]){var h=u,p=l[n];return h<p?Math.max(d,l[n]):Math.max(u,l[n])}var g=d+o,m=l[n]+c;return g>m?Math.max(u,l[n]):Math.max(d,l[n])}function Lje(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Mje(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,s=e.tooltipBox,o=e.useTranslate3d,l=e.viewBox,c,u,d;return s.height>0&&s.width>0&&r?(u=M7({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),d=M7({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=Lje({translateX:u,translateY:d,useTranslate3d:o})):c=Ije,{cssProperties:c,cssClasses:Dje({translateX:u,translateY:d,coordinate:r})}}function Jp(e){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jp(e)}function R7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function F7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R7(Object(r),!0).forEach(function(n){FE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fje(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lY(n.key),n)}}function $je(e,t,r){return t&&Fje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bje(e,t,r){return t=Gw(t),Uje(e,oY()?Reflect.construct(t,r||[],Gw(e).constructor):t.apply(e,r))}function Uje(e,t){if(t&&(Jp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vje(e)}function Vje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oY=function(){return!!e})()}function Gw(e){return Gw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gw(e)}function zje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RE(e,t)}function RE(e,t){return RE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},RE(e,t)}function FE(e,t,r){return t=lY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lY(e){var t=qje(e,"string");return Jp(t)=="symbol"?t:t+""}function qje(e,t){if(Jp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $7=1,Wje=function(e){function t(){var r;Rje(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Bje(this,t,[].concat(a)),FE(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),FE(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,c,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),r}return zje(t,e),$je(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>$7||Math.abs(n.height-this.state.lastBoundingBox.height)>$7)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,l=a.animationEasing,c=a.children,u=a.coordinate,d=a.hasPayload,h=a.isAnimationActive,p=a.offset,g=a.position,m=a.reverseDirection,v=a.useTranslate3d,y=a.viewBox,b=a.wrapperStyle,x=Mje({allowEscapeViewBox:s,coordinate:u,offsetTopLeft:p,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:y}),O=x.cssClasses,P=x.cssProperties,j=F7(F7({transition:h&&i?"transform ".concat(o,"ms ").concat(l):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&d?"visible":"hidden",position:"absolute",top:0,left:0},b);return Be.createElement("div",{tabIndex:-1,className:O,style:j,ref:function(S){n.wrapperNode=S}},c)}}])}(F.PureComponent),Hje=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},su={isSsr:Hje(),get:function(t){return su[t]},set:function(t,r){if(typeof t=="string")su[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){su[a]=t[a]})}}};function Zp(e){"@babel/helpers - typeof";return Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zp(e)}function B7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function U7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B7(Object(r),!0).forEach(function(n){L6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kje(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uY(n.key),n)}}function Yje(e,t,r){return t&&Kje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xje(e,t,r){return t=Kw(t),Qje(e,cY()?Reflect.construct(t,r||[],Kw(e).constructor):t.apply(e,r))}function Qje(e,t){if(t&&(Zp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jje(e)}function Jje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cY=function(){return!!e})()}function Kw(e){return Kw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kw(e)}function Zje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$E(e,t)}function $E(e,t){return $E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$E(e,t)}function L6(e,t,r){return t=uY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uY(e){var t=eOe(e,"string");return Zp(t)=="symbol"?t:t+""}function eOe(e,t){if(Zp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tOe(e){return e.dataKey}function rOe(e,t){return Be.isValidElement(e)?Be.cloneElement(e,t):typeof e=="function"?Be.createElement(e,t):Be.createElement(Pje,t)}var vs=function(e){function t(){return Gje(this,t),Xje(this,t,arguments)}return Zje(t,e),Yje(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,l=a.animationEasing,c=a.content,u=a.coordinate,d=a.filterNull,h=a.isAnimationActive,p=a.offset,g=a.payload,m=a.payloadUniqBy,v=a.position,y=a.reverseDirection,b=a.useTranslate3d,x=a.viewBox,O=a.wrapperStyle,P=g??[];d&&P.length&&(P=ZK(g.filter(function(T){return T.value!=null&&(T.hide!==!0||n.props.includeHidden)}),m,tOe));var j=P.length>0;return Be.createElement(Wje,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:h,active:i,coordinate:u,hasPayload:j,offset:p,position:v,reverseDirection:y,useTranslate3d:b,viewBox:x,wrapperStyle:O},rOe(c,U7(U7({},this.props),{},{payload:P})))}}])}(F.PureComponent);L6(vs,"displayName","Tooltip");L6(vs,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!su.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var nOe=Tc,aOe=function(){return nOe.Date.now()},iOe=aOe,sOe=/\s/;function oOe(e){for(var t=e.length;t--&&sOe.test(e.charAt(t)););return t}var lOe=oOe,cOe=lOe,uOe=/^\s+/;function fOe(e){return e&&e.slice(0,cOe(e)+1).replace(uOe,"")}var dOe=fOe,hOe=dOe,V7=xd,pOe=Fm,z7=NaN,mOe=/^[-+]0x[0-9a-f]+$/i,gOe=/^0b[01]+$/i,vOe=/^0o[0-7]+$/i,yOe=parseInt;function xOe(e){if(typeof e=="number")return e;if(pOe(e))return z7;if(V7(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=V7(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=hOe(e);var r=gOe.test(e);return r||vOe.test(e)?yOe(e.slice(2),r?2:8):mOe.test(e)?z7:+e}var fY=xOe,bOe=xd,T4=iOe,q7=fY,wOe="Expected a function",_Oe=Math.max,SOe=Math.min;function AOe(e,t,r){var n,a,i,s,o,l,c=0,u=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(wOe);t=q7(t)||0,bOe(r)&&(u=!!r.leading,d="maxWait"in r,i=d?_Oe(q7(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(j){var T=n,S=a;return n=a=void 0,c=j,s=e.apply(S,T),s}function g(j){return c=j,o=setTimeout(y,t),u?p(j):s}function m(j){var T=j-l,S=j-c,_=t-T;return d?SOe(_,i-S):_}function v(j){var T=j-l,S=j-c;return l===void 0||T>=t||T<0||d&&S>=i}function y(){var j=T4();if(v(j))return b(j);o=setTimeout(y,m(j))}function b(j){return o=void 0,h&&n?p(j):(n=a=void 0,s)}function x(){o!==void 0&&clearTimeout(o),c=0,n=l=a=o=void 0}function O(){return o===void 0?s:b(T4())}function P(){var j=T4(),T=v(j);if(n=arguments,a=this,l=j,T){if(o===void 0)return g(l);if(d)return clearTimeout(o),o=setTimeout(y,t),p(l)}return o===void 0&&(o=setTimeout(y,t)),s}return P.cancel=x,P.flush=O,P}var TOe=AOe,EOe=TOe,NOe=xd,kOe="Expected a function";function COe(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(kOe);return NOe(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),EOe(e,t,{leading:n,maxWait:t,trailing:a})}var POe=COe;const dY=Dn(POe);function K1(e){"@babel/helpers - typeof";return K1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K1(e)}function W7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function S2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W7(Object(r),!0).forEach(function(n){jOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jOe(e,t,r){return t=OOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OOe(e){var t=IOe(e,"string");return K1(t)=="symbol"?t:t+""}function IOe(e,t){if(K1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(K1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DOe(e,t){return FOe(e)||ROe(e,t)||MOe(e,t)||LOe()}function LOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MOe(e,t){if(e){if(typeof e=="string")return H7(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H7(e,t)}}function H7(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ROe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function FOe(e){if(Array.isArray(e))return e}var yp=F.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,s=i===void 0?"100%":i,o=e.height,l=o===void 0?"100%":o,c=e.minWidth,u=c===void 0?0:c,d=e.minHeight,h=e.maxHeight,p=e.children,g=e.debounce,m=g===void 0?0:g,v=e.id,y=e.className,b=e.onResize,x=e.style,O=x===void 0?{}:x,P=F.useRef(null),j=F.useRef();j.current=b,F.useImperativeHandle(t,function(){return Object.defineProperty(P.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),P.current},configurable:!0})});var T=F.useState({containerWidth:a.width,containerHeight:a.height}),S=DOe(T,2),_=S[0],D=S[1],E=F.useCallback(function(k,V){D(function(Q){var W=Math.round(k),G=Math.round(V);return Q.containerWidth===W&&Q.containerHeight===G?Q:{containerWidth:W,containerHeight:G}})},[]);F.useEffect(function(){var k=function(U){var ee,Z=U[0].contentRect,I=Z.width,M=Z.height;E(I,M),(ee=j.current)===null||ee===void 0||ee.call(j,I,M)};m>0&&(k=dY(k,m,{trailing:!0,leading:!1}));var V=new ResizeObserver(k),Q=P.current.getBoundingClientRect(),W=Q.width,G=Q.height;return E(W,G),V.observe(P.current),function(){V.disconnect()}},[E,m]);var N=F.useMemo(function(){var k=_.containerWidth,V=_.containerHeight;if(k<0||V<0)return null;iu(ah(s)||ah(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),iu(!r||r>0,"The aspect(%s) must be greater than zero.",r);var Q=ah(s)?k:s,W=ah(l)?V:l;r&&r>0&&(Q?W=Q/r:W&&(Q=W*r),h&&W>h&&(W=h)),iu(Q>0||W>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Q,W,s,l,u,d,r);var G=!Array.isArray(p)&&au(p.type).endsWith("Chart");return Be.Children.map(p,function(q){return Be.isValidElement(q)?F.cloneElement(q,S2({width:Q,height:W},G?{style:S2({height:"100%",width:"100%",maxHeight:W,maxWidth:Q},q.props.style)}:{})):q})},[r,p,l,h,d,u,_,s]);return Be.createElement("div",{id:v?"".concat(v):void 0,className:mn("recharts-responsive-container",y),style:S2(S2({},O),{},{width:s,height:l,minWidth:u,minHeight:d,maxHeight:h}),ref:P},N)}),hY=function(t){return null};hY.displayName="Cell";function Y1(e){"@babel/helpers - typeof";return Y1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y1(e)}function G7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function BE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G7(Object(r),!0).forEach(function(n){$Oe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Oe(e,t,r){return t=BOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BOe(e){var t=UOe(e,"string");return Y1(t)=="symbol"?t:t+""}function UOe(e,t){if(Y1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Y1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var A0={widthCache:{},cacheCount:0},VOe=2e3,zOe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},K7="recharts_measurement_span";function qOe(e){var t=BE({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Mv=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||su.isSsr)return{width:0,height:0};var n=qOe(r),a=JSON.stringify({text:t,copyStyle:n});if(A0.widthCache[a])return A0.widthCache[a];try{var i=document.getElementById(K7);i||(i=document.createElement("span"),i.setAttribute("id",K7),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=BE(BE({},zOe),n);Object.assign(i.style,s),i.textContent="".concat(t);var o=i.getBoundingClientRect(),l={width:o.width,height:o.height};return A0.widthCache[a]=l,++A0.cacheCount>VOe&&(A0.cacheCount=0,A0.widthCache={}),l}catch{return{width:0,height:0}}},WOe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function X1(e){"@babel/helpers - typeof";return X1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X1(e)}function Yw(e,t){return YOe(e)||KOe(e,t)||GOe(e,t)||HOe()}function HOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GOe(e,t){if(e){if(typeof e=="string")return Y7(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y7(e,t)}}function Y7(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KOe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function YOe(e){if(Array.isArray(e))return e}function XOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JOe(n.key),n)}}function QOe(e,t,r){return t&&X7(e.prototype,t),r&&X7(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function JOe(e){var t=ZOe(e,"string");return X1(t)=="symbol"?t:t+""}function ZOe(e,t){if(X1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(X1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Q7=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,J7=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,eIe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,tIe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,pY={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},rIe=Object.keys(pY),ep="NaN";function nIe(e,t){return e*pY[t]}var A2=function(){function e(t,r){XOe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!eIe.test(r)&&(this.num=NaN,this.unit=""),rIe.includes(r)&&(this.num=nIe(t,r),this.unit="px")}return QOe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=tIe.exec(r))!==null&&n!==void 0?n:[],i=Yw(a,3),s=i[1],o=i[2];return new e(parseFloat(s),o??"")}}])}();function mY(e){if(e.includes(ep))return ep;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=Q7.exec(t))!==null&&r!==void 0?r:[],a=Yw(n,4),i=a[1],s=a[2],o=a[3],l=A2.parse(i??""),c=A2.parse(o??""),u=s==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return ep;t=t.replace(Q7,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,h=(d=J7.exec(t))!==null&&d!==void 0?d:[],p=Yw(h,4),g=p[1],m=p[2],v=p[3],y=A2.parse(g??""),b=A2.parse(v??""),x=m==="+"?y.add(b):y.subtract(b);if(x.isNaN())return ep;t=t.replace(J7,x.toString())}return t}var Z7=/\(([^()]*)\)/;function aIe(e){for(var t=e;t.includes("(");){var r=Z7.exec(t),n=Yw(r,2),a=n[1];t=t.replace(Z7,mY(a))}return t}function iIe(e){var t=e.replace(/\s+/g,"");return t=aIe(t),t=mY(t),t}function sIe(e){try{return iIe(e)}catch{return ep}}function E4(e){var t=sIe(e.slice(5,-1));return t===ep?"":t}var oIe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],lIe=["dx","dy","angle","className","breakAll"];function UE(){return UE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},UE.apply(this,arguments)}function eR(e,t){if(e==null)return{};var r=cIe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cIe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function tR(e,t){return hIe(e)||dIe(e,t)||fIe(e,t)||uIe()}function uIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fIe(e,t){if(e){if(typeof e=="string")return rR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rR(e,t)}}function rR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dIe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function hIe(e){if(Array.isArray(e))return e}var gY=/[ \f\n\r\t\v\u2028\u2029]+/,vY=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];Gr(r)||(n?i=r.toString().split(""):i=r.toString().split(gY));var s=i.map(function(l){return{word:l,width:Mv(l,a).width}}),o=n?0:Mv("",a).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},pIe=function(t,r,n,a,i){var s=t.maxLines,o=t.children,l=t.style,c=t.breakAll,u=Ut(s),d=o,h=function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Q.reduce(function(W,G){var q=G.word,U=G.width,ee=W[W.length-1];if(ee&&(a==null||i||ee.width+U+n<Number(a)))ee.words.push(q),ee.width+=U+n;else{var Z={words:[q],width:U};W.push(Z)}return W},[])},p=h(r),g=function(Q){return Q.reduce(function(W,G){return W.width>G.width?W:G})};if(!u)return p;for(var m="",v=function(Q){var W=d.slice(0,Q),G=vY({breakAll:c,style:l,children:W+m}).wordsWithComputedWidth,q=h(G),U=q.length>s||g(q).width>Number(a);return[U,q]},y=0,b=d.length-1,x=0,O;y<=b&&x<=d.length-1;){var P=Math.floor((y+b)/2),j=P-1,T=v(j),S=tR(T,2),_=S[0],D=S[1],E=v(P),N=tR(E,1),k=N[0];if(!_&&!k&&(y=P+1),_&&k&&(b=P-1),!_&&k){O=D;break}x++}return O||p},nR=function(t){var r=Gr(t)?[]:t.toString().split(gY);return[{words:r}]},mIe=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,s=t.breakAll,o=t.maxLines;if((r||n)&&!su.isSsr){var l,c,u=vY({breakAll:s,children:a,style:i});if(u){var d=u.wordsWithComputedWidth,h=u.spaceWidth;l=d,c=h}else return nR(a);return pIe({breakAll:s,children:a,maxLines:o,style:i},l,c,r,n)}return nR(a)},aR="#808080",Xw=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.lineHeight,o=s===void 0?"1em":s,l=t.capHeight,c=l===void 0?"0.71em":l,u=t.scaleToFit,d=u===void 0?!1:u,h=t.textAnchor,p=h===void 0?"start":h,g=t.verticalAnchor,m=g===void 0?"end":g,v=t.fill,y=v===void 0?aR:v,b=eR(t,oIe),x=F.useMemo(function(){return mIe({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:d,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,d,b.style,b.width]),O=b.dx,P=b.dy,j=b.angle,T=b.className,S=b.breakAll,_=eR(b,lIe);if(!Za(n)||!Za(i))return null;var D=n+(Ut(O)?O:0),E=i+(Ut(P)?P:0),N;switch(m){case"start":N=E4("calc(".concat(c,")"));break;case"middle":N=E4("calc(".concat((x.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:N=E4("calc(".concat(x.length-1," * -").concat(o,")"));break}var k=[];if(d){var V=x[0].width,Q=b.width;k.push("scale(".concat((Ut(Q)?Q/V:1)/V,")"))}return j&&k.push("rotate(".concat(j,", ").concat(D,", ").concat(E,")")),k.length&&(_.transform=k.join(" ")),Be.createElement("text",UE({},nn(_,!0),{x:D,y:E,className:mn("recharts-text",T),textAnchor:p,fill:y.includes("url")?aR:y}),x.map(function(W,G){var q=W.words.join(S?"":" ");return Be.createElement("tspan",{x:D,dy:G===0?N:o,key:"".concat(q,"-").concat(G)},q)}))};function Qf(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function gIe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function M6(e){let t,r,n;e.length!==2?(t=Qf,r=(o,l)=>Qf(e(o),l),n=(o,l)=>e(o)-l):(t=e===Qf||e===gIe?e:vIe,r=e,n=e);function a(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const d=c+u>>>1;r(o[d],l)<0?c=d+1:u=d}while(c<u)}return c}function i(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const d=c+u>>>1;r(o[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function s(o,l,c=0,u=o.length){const d=a(o,l,c,u-1);return d>c&&n(o[d-1],l)>-n(o[d],l)?d-1:d}return{left:a,center:s,right:i}}function vIe(){return 0}function yY(e){return e===null?NaN:+e}function*yIe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const xIe=M6(Qf),ax=xIe.right;M6(yY).center;class iR extends Map{constructor(t,r=_Ie){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(sR(this,t))}has(t){return super.has(sR(this,t))}set(t,r){return super.set(bIe(this,t),r)}delete(t){return super.delete(wIe(this,t))}}function sR({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function bIe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function wIe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function _Ie(e){return e!==null&&typeof e=="object"?e.valueOf():e}function SIe(e=Qf){if(e===Qf)return xY;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function xY(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const AIe=Math.sqrt(50),TIe=Math.sqrt(10),EIe=Math.sqrt(2);function Qw(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=AIe?10:i>=TIe?5:i>=EIe?2:1;let o,l,c;return a<0?(c=Math.pow(10,-a)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=r&&r<2?Qw(e,t,r*2):[o,l,c]}function VE(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?Qw(t,e,r):Qw(e,t,r);if(!(i>=a))return[];const o=i-a+1,l=new Array(o);if(n)if(s<0)for(let c=0;c<o;++c)l[c]=(i-c)/-s;else for(let c=0;c<o;++c)l[c]=(i-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(a+c)/-s;else for(let c=0;c<o;++c)l[c]=(a+c)*s;return l}function zE(e,t,r){return t=+t,e=+e,r=+r,Qw(e,t,r)[2]}function qE(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?zE(t,e,r):zE(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function oR(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function lR(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function bY(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?xY:SIe(a);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,u=Math.log(l),d=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(t-c*d/l+h)),g=Math.min(n,Math.floor(t+(l-c)*d/l+h));bY(e,t,p,g,a)}const i=e[t];let s=r,o=n;for(Pg(e,r,t),a(e[n],i)>0&&Pg(e,r,n);s<o;){for(Pg(e,s,o),++s,--o;a(e[s],i)<0;)++s;for(;a(e[o],i)>0;)--o}a(e[r],i)===0?Pg(e,r,o):(++o,Pg(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function Pg(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function NIe(e,t,r){if(e=Float64Array.from(yIe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return lR(e);if(t>=1)return oR(e);var n,a=(n-1)*t,i=Math.floor(a),s=oR(bY(e,i).subarray(0,i+1)),o=lR(e.subarray(i+1));return s+(o-s)*(a-i)}}function kIe(e,t,r=yY){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),o=+r(e[i+1],i+1,e);return s+(o-s)*(a-i)}}function CIe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function rl(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Du(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const WE=Symbol("implicit");function R6(){var e=new iR,t=[],r=[],n=WE;function a(i){let s=e.get(i);if(s===void 0){if(n!==WE)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new iR;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return R6(t,r).unknown(n)},rl.apply(a,arguments),a}function Q1(){var e=R6().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,o=!1,l=0,c=0,u=.5;delete e.unknown;function d(){var h=t().length,p=a<n,g=p?a:n,m=p?n:a;i=(m-g)/Math.max(1,h-l+c*2),o&&(i=Math.floor(i)),g+=(m-g-i*(h-l))*u,s=i*(1-l),o&&(g=Math.round(g),s=Math.round(s));var v=CIe(h).map(function(y){return g+i*y});return r(p?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,d()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,o=!0,d()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(h){return arguments.length?(o=!!h,d()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),d()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,d()):c},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),d()):u},e.copy=function(){return Q1(t(),[n,a]).round(o).paddingInner(l).paddingOuter(c).align(u)},rl.apply(d(),arguments)}function wY(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return wY(t())},e}function Rv(){return wY(Q1.apply(null,arguments).paddingInner(1))}function F6(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function _Y(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function ix(){}var J1=.7,Jw=1/J1,xp="\\s*([+-]?\\d+)\\s*",Z1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",mc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",PIe=/^#([0-9a-f]{3,8})$/,jIe=new RegExp(`^rgb\\(${xp},${xp},${xp}\\)$`),OIe=new RegExp(`^rgb\\(${mc},${mc},${mc}\\)$`),IIe=new RegExp(`^rgba\\(${xp},${xp},${xp},${Z1}\\)$`),DIe=new RegExp(`^rgba\\(${mc},${mc},${mc},${Z1}\\)$`),LIe=new RegExp(`^hsl\\(${Z1},${mc},${mc}\\)$`),MIe=new RegExp(`^hsla\\(${Z1},${mc},${mc},${Z1}\\)$`),cR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};F6(ix,ey,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:uR,formatHex:uR,formatHex8:RIe,formatHsl:FIe,formatRgb:fR,toString:fR});function uR(){return this.rgb().formatHex()}function RIe(){return this.rgb().formatHex8()}function FIe(){return SY(this).formatHsl()}function fR(){return this.rgb().formatRgb()}function ey(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=PIe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?dR(t):r===3?new zs(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?T2(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?T2(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=jIe.exec(e))?new zs(t[1],t[2],t[3],1):(t=OIe.exec(e))?new zs(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=IIe.exec(e))?T2(t[1],t[2],t[3],t[4]):(t=DIe.exec(e))?T2(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=LIe.exec(e))?mR(t[1],t[2]/100,t[3]/100,1):(t=MIe.exec(e))?mR(t[1],t[2]/100,t[3]/100,t[4]):cR.hasOwnProperty(e)?dR(cR[e]):e==="transparent"?new zs(NaN,NaN,NaN,0):null}function dR(e){return new zs(e>>16&255,e>>8&255,e&255,1)}function T2(e,t,r,n){return n<=0&&(e=t=r=NaN),new zs(e,t,r,n)}function $Ie(e){return e instanceof ix||(e=ey(e)),e?(e=e.rgb(),new zs(e.r,e.g,e.b,e.opacity)):new zs}function HE(e,t,r,n){return arguments.length===1?$Ie(e):new zs(e,t,r,n??1)}function zs(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}F6(zs,HE,_Y(ix,{brighter(e){return e=e==null?Jw:Math.pow(Jw,e),new zs(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?J1:Math.pow(J1,e),new zs(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new zs(mh(this.r),mh(this.g),mh(this.b),Zw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hR,formatHex:hR,formatHex8:BIe,formatRgb:pR,toString:pR}));function hR(){return`#${ih(this.r)}${ih(this.g)}${ih(this.b)}`}function BIe(){return`#${ih(this.r)}${ih(this.g)}${ih(this.b)}${ih((isNaN(this.opacity)?1:this.opacity)*255)}`}function pR(){const e=Zw(this.opacity);return`${e===1?"rgb(":"rgba("}${mh(this.r)}, ${mh(this.g)}, ${mh(this.b)}${e===1?")":`, ${e})`}`}function Zw(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function mh(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ih(e){return e=mh(e),(e<16?"0":"")+e.toString(16)}function mR(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Nl(e,t,r,n)}function SY(e){if(e instanceof Nl)return new Nl(e.h,e.s,e.l,e.opacity);if(e instanceof ix||(e=ey(e)),!e)return new Nl;if(e instanceof Nl)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,o=i-a,l=(i+a)/2;return o?(t===i?s=(r-n)/o+(r<n)*6:r===i?s=(n-t)/o+2:s=(t-r)/o+4,o/=l<.5?i+a:2-i-a,s*=60):o=l>0&&l<1?0:s,new Nl(s,o,l,e.opacity)}function UIe(e,t,r,n){return arguments.length===1?SY(e):new Nl(e,t,r,n??1)}function Nl(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}F6(Nl,UIe,_Y(ix,{brighter(e){return e=e==null?Jw:Math.pow(Jw,e),new Nl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?J1:Math.pow(J1,e),new Nl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new zs(N4(e>=240?e-240:e+120,a,n),N4(e,a,n),N4(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Nl(gR(this.h),E2(this.s),E2(this.l),Zw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Zw(this.opacity);return`${e===1?"hsl(":"hsla("}${gR(this.h)}, ${E2(this.s)*100}%, ${E2(this.l)*100}%${e===1?")":`, ${e})`}`}}));function gR(e){return e=(e||0)%360,e<0?e+360:e}function E2(e){return Math.max(0,Math.min(1,e||0))}function N4(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const $6=e=>()=>e;function VIe(e,t){return function(r){return e+r*t}}function zIe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function qIe(e){return(e=+e)==1?AY:function(t,r){return r-t?zIe(t,r,e):$6(isNaN(t)?r:t)}}function AY(e,t){var r=t-e;return r?VIe(e,r):$6(isNaN(e)?t:e)}const vR=function e(t){var r=qIe(t);function n(a,i){var s=r((a=HE(a)).r,(i=HE(i)).r),o=r(a.g,i.g),l=r(a.b,i.b),c=AY(a.opacity,i.opacity);return function(u){return a.r=s(u),a.g=o(u),a.b=l(u),a.opacity=c(u),a+""}}return n.gamma=e,n}(1);function WIe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function HIe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function GIe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=Hm(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(o){for(s=0;s<n;++s)i[s]=a[s](o);return i}}function KIe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function e5(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function YIe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Hm(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var GE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,k4=new RegExp(GE.source,"g");function XIe(e){return function(){return e}}function QIe(e){return function(t){return e(t)+""}}function JIe(e,t){var r=GE.lastIndex=k4.lastIndex=0,n,a,i,s=-1,o=[],l=[];for(e=e+"",t=t+"";(n=GE.exec(e))&&(a=k4.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,l.push({i:s,x:e5(n,a)})),r=k4.lastIndex;return r<t.length&&(i=t.slice(r),o[s]?o[s]+=i:o[++s]=i),o.length<2?l[0]?QIe(l[0].x):XIe(t):(t=l.length,function(c){for(var u=0,d;u<t;++u)o[(d=l[u]).i]=d.x(c);return o.join("")})}function Hm(e,t){var r=typeof t,n;return t==null||r==="boolean"?$6(t):(r==="number"?e5:r==="string"?(n=ey(t))?(t=n,vR):JIe:t instanceof ey?vR:t instanceof Date?KIe:HIe(t)?WIe:Array.isArray(t)?GIe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?YIe:e5)(e,t)}function B6(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function ZIe(e,t){t===void 0&&(t=e,e=Hm);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[o](s-o)}}function e8e(e){return function(){return e}}function t5(e){return+e}var yR=[0,1];function Ss(e){return e}function KE(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:e8e(isNaN(t)?NaN:.5)}function t8e(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function r8e(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=KE(a,n),i=r(s,i)):(n=KE(n,a),i=r(i,s)),function(o){return i(n(o))}}function n8e(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=KE(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(o){var l=ax(e,o,1,n)-1;return i[l](a[l](o))}}function sx(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function cS(){var e=yR,t=yR,r=Hm,n,a,i,s=Ss,o,l,c;function u(){var h=Math.min(e.length,t.length);return s!==Ss&&(s=t8e(e[0],e[h-1])),o=h>2?n8e:r8e,l=c=null,d}function d(h){return h==null||isNaN(h=+h)?i:(l||(l=o(e.map(n),t,r)))(n(s(h)))}return d.invert=function(h){return s(a((c||(c=o(t,e.map(n),e5)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,t5),u()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),r=B6,u()},d.clamp=function(h){return arguments.length?(s=h?!0:Ss,u()):s!==Ss},d.interpolate=function(h){return arguments.length?(r=h,u()):r},d.unknown=function(h){return arguments.length?(i=h,d):i},function(h,p){return n=h,a=p,u()}}function U6(){return cS()(Ss,Ss)}function a8e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function r5(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function em(e){return e=r5(Math.abs(e)),e?e[1]:NaN}function i8e(e,t){return function(r,n){for(var a=r.length,i=[],s=0,o=e[0],l=0;a>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),i.push(r.substring(a-=o,a+o)),!((l+=o+1)>n));)o=e[s=(s+1)%e.length];return i.reverse().join(t)}}function s8e(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var o8e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ty(e){if(!(t=o8e.exec(e)))throw new Error("invalid format: "+e);var t;return new V6({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ty.prototype=V6.prototype;function V6(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}V6.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function l8e(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var TY;function c8e(e,t){var r=r5(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(TY=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+r5(e,Math.max(0,t+i-1))[0]}function xR(e,t){var r=r5(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const bR={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:a8e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>xR(e*100,t),r:xR,s:c8e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function wR(e){return e}var _R=Array.prototype.map,SR=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function u8e(e){var t=e.grouping===void 0||e.thousands===void 0?wR:i8e(_R.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?wR:s8e(_R.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(d){d=ty(d);var h=d.fill,p=d.align,g=d.sign,m=d.symbol,v=d.zero,y=d.width,b=d.comma,x=d.precision,O=d.trim,P=d.type;P==="n"?(b=!0,P="g"):bR[P]||(x===void 0&&(x=12),O=!0,P="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var j=m==="$"?r:m==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",T=m==="$"?n:/[%p]/.test(P)?s:"",S=bR[P],_=/[defgprs%]/.test(P);x=x===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function D(E){var N=j,k=T,V,Q,W;if(P==="c")k=S(E)+k,E="";else{E=+E;var G=E<0||1/E<0;if(E=isNaN(E)?l:S(Math.abs(E),x),O&&(E=l8e(E)),G&&+E==0&&g!=="+"&&(G=!1),N=(G?g==="("?g:o:g==="-"||g==="("?"":g)+N,k=(P==="s"?SR[8+TY/3]:"")+k+(G&&g==="("?")":""),_){for(V=-1,Q=E.length;++V<Q;)if(W=E.charCodeAt(V),48>W||W>57){k=(W===46?a+E.slice(V+1):E.slice(V))+k,E=E.slice(0,V);break}}}b&&!v&&(E=t(E,1/0));var q=N.length+E.length+k.length,U=q<y?new Array(y-q+1).join(h):"";switch(b&&v&&(E=t(U+E,U.length?y-k.length:1/0),U=""),p){case"<":E=N+E+k+U;break;case"=":E=N+U+E+k;break;case"^":E=U.slice(0,q=U.length>>1)+N+E+k+U.slice(q);break;default:E=U+N+E+k;break}return i(E)}return D.toString=function(){return d+""},D}function u(d,h){var p=c((d=ty(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(em(h)/3)))*3,m=Math.pow(10,-g),v=SR[8+g/3];return function(y){return p(m*y)+v}}return{format:c,formatPrefix:u}}var N2,z6,EY;f8e({thousands:",",grouping:[3],currency:["$",""]});function f8e(e){return N2=u8e(e),z6=N2.format,EY=N2.formatPrefix,N2}function d8e(e){return Math.max(0,-em(Math.abs(e)))}function h8e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(em(t)/3)))*3-em(Math.abs(e)))}function p8e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,em(t)-em(e))+1}function NY(e,t,r,n){var a=qE(e,t,r),i;switch(n=ty(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=h8e(a,s))&&(n.precision=i),EY(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=p8e(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=d8e(a))&&(n.precision=i-(n.type==="%")*2);break}}return z6(n)}function wd(e){var t=e.domain;return e.ticks=function(r){var n=t();return VE(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return NY(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],o=n[i],l,c,u=10;for(o<s&&(c=s,s=o,o=c,c=a,a=i,i=c);u-- >0;){if(c=zE(s,o,r),c===l)return n[a]=s,n[i]=o,t(n);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return e},e}function n5(){var e=U6();return e.copy=function(){return sx(e,n5())},rl.apply(e,arguments),wd(e)}function kY(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,t5),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return kY(e).unknown(t)},e=arguments.length?Array.from(e,t5):[0,1],wd(r)}function CY(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function AR(e){return Math.log(e)}function TR(e){return Math.exp(e)}function m8e(e){return-Math.log(-e)}function g8e(e){return-Math.exp(-e)}function v8e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function y8e(e){return e===10?v8e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function x8e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function ER(e){return(t,r)=>-e(-t,r)}function q6(e){const t=e(AR,TR),r=t.domain;let n=10,a,i;function s(){return a=x8e(n),i=y8e(n),r()[0]<0?(a=ER(a),i=ER(i),e(m8e,g8e)):e(AR,TR),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const l=r();let c=l[0],u=l[l.length-1];const d=u<c;d&&([c,u]=[u,c]);let h=a(c),p=a(u),g,m;const v=o==null?10:+o;let y=[];if(!(n%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(g=1;g<n;++g)if(m=h<0?g/i(-h):g*i(h),!(m<c)){if(m>u)break;y.push(m)}}else for(;h<=p;++h)for(g=n-1;g>=1;--g)if(m=h>0?g/i(-h):g*i(h),!(m<c)){if(m>u)break;y.push(m)}y.length*2<v&&(y=VE(c,u,v))}else y=VE(h,p,Math.min(p-h,v)).map(i);return d?y.reverse():y},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=ty(l)).precision==null&&(l.trim=!0),l=z6(l)),o===1/0)return l;const c=Math.max(1,n*o/t.ticks().length);return u=>{let d=u/i(Math.round(a(u)));return d*n<n-.5&&(d*=n),d<=c?l(u):""}},t.nice=()=>r(CY(r(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),t}function PY(){const e=q6(cS()).domain([1,10]);return e.copy=()=>sx(e,PY()).base(e.base()),rl.apply(e,arguments),e}function NR(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function kR(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function W6(e){var t=1,r=e(NR(t),kR(t));return r.constant=function(n){return arguments.length?e(NR(t=+n),kR(t)):t},wd(r)}function jY(){var e=W6(cS());return e.copy=function(){return sx(e,jY()).constant(e.constant())},rl.apply(e,arguments)}function CR(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function b8e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function w8e(e){return e<0?-e*e:e*e}function H6(e){var t=e(Ss,Ss),r=1;function n(){return r===1?e(Ss,Ss):r===.5?e(b8e,w8e):e(CR(r),CR(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},wd(t)}function G6(){var e=H6(cS());return e.copy=function(){return sx(e,G6()).exponent(e.exponent())},rl.apply(e,arguments),e}function _8e(){return G6.apply(null,arguments).exponent(.5)}function PR(e){return Math.sign(e)*e*e}function S8e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function OY(){var e=U6(),t=[0,1],r=!1,n;function a(i){var s=S8e(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert(PR(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,t5)).map(PR)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return OY(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},rl.apply(a,arguments),wd(a)}function IY(){var e=[],t=[],r=[],n;function a(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=kIe(e,s/o);return i}function i(s){return s==null||isNaN(s=+s)?n:t[ax(r,s)]}return i.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Qf),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return IY().domain(e).range(t).unknown(n)},rl.apply(i,arguments)}function DY(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(l){return l!=null&&l<=l?a[ax(n,l,0,r)]:i}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,o()):a.slice()},s.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},s.unknown=function(l){return arguments.length&&(i=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return DY().domain([e,t]).range(a).unknown(i)},rl.apply(wd(s),arguments)}function LY(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[ax(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return LY().domain(e).range(t).unknown(r)},rl.apply(a,arguments)}const C4=new Date,P4=new Date;function ri(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),o=a.ceil(i);return i-s<o-i?s:o},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,o)=>{const l=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return l;let c;do l.push(c=new Date(+i)),t(i,o),e(i);while(c<i&&i<s);return l},a.filter=i=>ri(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!i(s););else for(;--o>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(C4.setTime(+i),P4.setTime(+s),e(C4),e(P4),Math.floor(r(C4,P4))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const a5=ri(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);a5.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ri(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):a5);a5.range;const Qc=1e3,zo=Qc*60,Jc=zo*60,_u=Jc*24,K6=_u*7,jR=_u*30,j4=_u*365,sh=ri(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Qc)},(e,t)=>(t-e)/Qc,e=>e.getUTCSeconds());sh.range;const Y6=ri(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Qc)},(e,t)=>{e.setTime(+e+t*zo)},(e,t)=>(t-e)/zo,e=>e.getMinutes());Y6.range;const X6=ri(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*zo)},(e,t)=>(t-e)/zo,e=>e.getUTCMinutes());X6.range;const Q6=ri(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Qc-e.getMinutes()*zo)},(e,t)=>{e.setTime(+e+t*Jc)},(e,t)=>(t-e)/Jc,e=>e.getHours());Q6.range;const J6=ri(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Jc)},(e,t)=>(t-e)/Jc,e=>e.getUTCHours());J6.range;const ox=ri(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*zo)/_u,e=>e.getDate()-1);ox.range;const uS=ri(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/_u,e=>e.getUTCDate()-1);uS.range;const MY=ri(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/_u,e=>Math.floor(e/_u));MY.range;function Qh(e){return ri(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*zo)/K6)}const fS=Qh(0),i5=Qh(1),A8e=Qh(2),T8e=Qh(3),tm=Qh(4),E8e=Qh(5),N8e=Qh(6);fS.range;i5.range;A8e.range;T8e.range;tm.range;E8e.range;N8e.range;function Jh(e){return ri(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/K6)}const dS=Jh(0),s5=Jh(1),k8e=Jh(2),C8e=Jh(3),rm=Jh(4),P8e=Jh(5),j8e=Jh(6);dS.range;s5.range;k8e.range;C8e.range;rm.range;P8e.range;j8e.range;const Z6=ri(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Z6.range;const ej=ri(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());ej.range;const Su=ri(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Su.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ri(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Su.range;const Au=ri(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Au.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ri(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Au.range;function RY(e,t,r,n,a,i){const s=[[sh,1,Qc],[sh,5,5*Qc],[sh,15,15*Qc],[sh,30,30*Qc],[i,1,zo],[i,5,5*zo],[i,15,15*zo],[i,30,30*zo],[a,1,Jc],[a,3,3*Jc],[a,6,6*Jc],[a,12,12*Jc],[n,1,_u],[n,2,2*_u],[r,1,K6],[t,1,jR],[t,3,3*jR],[e,1,j4]];function o(c,u,d){const h=u<c;h&&([c,u]=[u,c]);const p=d&&typeof d.range=="function"?d:l(c,u,d),g=p?p.range(c,+u+1):[];return h?g.reverse():g}function l(c,u,d){const h=Math.abs(u-c)/d,p=M6(([,,v])=>v).right(s,h);if(p===s.length)return e.every(qE(c/j4,u/j4,d));if(p===0)return a5.every(Math.max(qE(c,u,d),1));const[g,m]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return g.every(m)}return[o,l]}const[O8e,I8e]=RY(Au,ej,dS,MY,J6,X6),[D8e,L8e]=RY(Su,Z6,fS,ox,Q6,Y6);function O4(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function I4(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function jg(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function M8e(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=Og(a),u=Ig(a),d=Og(i),h=Ig(i),p=Og(s),g=Ig(s),m=Og(o),v=Ig(o),y=Og(l),b=Ig(l),x={a:G,A:q,b:U,B:ee,c:null,d:RR,e:RR,f:iDe,g:mDe,G:vDe,H:rDe,I:nDe,j:aDe,L:FY,m:sDe,M:oDe,p:Z,q:I,Q:BR,s:UR,S:lDe,u:cDe,U:uDe,V:fDe,w:dDe,W:hDe,x:null,X:null,y:pDe,Y:gDe,Z:yDe,"%":$R},O={a:M,A:z,b:K,B:X,c:null,d:FR,e:FR,f:_De,g:ODe,G:DDe,H:xDe,I:bDe,j:wDe,L:BY,m:SDe,M:ADe,p:ae,q:ue,Q:BR,s:UR,S:TDe,u:EDe,U:NDe,V:kDe,w:CDe,W:PDe,x:null,X:null,y:jDe,Y:IDe,Z:LDe,"%":$R},P={a:D,A:E,b:N,B:k,c:V,d:LR,e:LR,f:J8e,g:DR,G:IR,H:MR,I:MR,j:K8e,L:Q8e,m:G8e,M:Y8e,p:_,q:H8e,Q:eDe,s:tDe,S:X8e,u:U8e,U:V8e,V:z8e,w:B8e,W:q8e,x:Q,X:W,y:DR,Y:IR,Z:W8e,"%":Z8e};x.x=j(r,x),x.X=j(n,x),x.c=j(t,x),O.x=j(r,O),O.X=j(n,O),O.c=j(t,O);function j(ie,ge){return function(ye){var H=[],ke=-1,Ce=0,_e=ie.length,le,Le,qe;for(ye instanceof Date||(ye=new Date(+ye));++ke<_e;)ie.charCodeAt(ke)===37&&(H.push(ie.slice(Ce,ke)),(Le=OR[le=ie.charAt(++ke)])!=null?le=ie.charAt(++ke):Le=le==="e"?" ":"0",(qe=ge[le])&&(le=qe(ye,Le)),H.push(le),Ce=ke+1);return H.push(ie.slice(Ce,ke)),H.join("")}}function T(ie,ge){return function(ye){var H=jg(1900,void 0,1),ke=S(H,ie,ye+="",0),Ce,_e;if(ke!=ye.length)return null;if("Q"in H)return new Date(H.Q);if("s"in H)return new Date(H.s*1e3+("L"in H?H.L:0));if(ge&&!("Z"in H)&&(H.Z=0),"p"in H&&(H.H=H.H%12+H.p*12),H.m===void 0&&(H.m="q"in H?H.q:0),"V"in H){if(H.V<1||H.V>53)return null;"w"in H||(H.w=1),"Z"in H?(Ce=I4(jg(H.y,0,1)),_e=Ce.getUTCDay(),Ce=_e>4||_e===0?s5.ceil(Ce):s5(Ce),Ce=uS.offset(Ce,(H.V-1)*7),H.y=Ce.getUTCFullYear(),H.m=Ce.getUTCMonth(),H.d=Ce.getUTCDate()+(H.w+6)%7):(Ce=O4(jg(H.y,0,1)),_e=Ce.getDay(),Ce=_e>4||_e===0?i5.ceil(Ce):i5(Ce),Ce=ox.offset(Ce,(H.V-1)*7),H.y=Ce.getFullYear(),H.m=Ce.getMonth(),H.d=Ce.getDate()+(H.w+6)%7)}else("W"in H||"U"in H)&&("w"in H||(H.w="u"in H?H.u%7:"W"in H?1:0),_e="Z"in H?I4(jg(H.y,0,1)).getUTCDay():O4(jg(H.y,0,1)).getDay(),H.m=0,H.d="W"in H?(H.w+6)%7+H.W*7-(_e+5)%7:H.w+H.U*7-(_e+6)%7);return"Z"in H?(H.H+=H.Z/100|0,H.M+=H.Z%100,I4(H)):O4(H)}}function S(ie,ge,ye,H){for(var ke=0,Ce=ge.length,_e=ye.length,le,Le;ke<Ce;){if(H>=_e)return-1;if(le=ge.charCodeAt(ke++),le===37){if(le=ge.charAt(ke++),Le=P[le in OR?ge.charAt(ke++):le],!Le||(H=Le(ie,ye,H))<0)return-1}else if(le!=ye.charCodeAt(H++))return-1}return H}function _(ie,ge,ye){var H=c.exec(ge.slice(ye));return H?(ie.p=u.get(H[0].toLowerCase()),ye+H[0].length):-1}function D(ie,ge,ye){var H=p.exec(ge.slice(ye));return H?(ie.w=g.get(H[0].toLowerCase()),ye+H[0].length):-1}function E(ie,ge,ye){var H=d.exec(ge.slice(ye));return H?(ie.w=h.get(H[0].toLowerCase()),ye+H[0].length):-1}function N(ie,ge,ye){var H=y.exec(ge.slice(ye));return H?(ie.m=b.get(H[0].toLowerCase()),ye+H[0].length):-1}function k(ie,ge,ye){var H=m.exec(ge.slice(ye));return H?(ie.m=v.get(H[0].toLowerCase()),ye+H[0].length):-1}function V(ie,ge,ye){return S(ie,t,ge,ye)}function Q(ie,ge,ye){return S(ie,r,ge,ye)}function W(ie,ge,ye){return S(ie,n,ge,ye)}function G(ie){return s[ie.getDay()]}function q(ie){return i[ie.getDay()]}function U(ie){return l[ie.getMonth()]}function ee(ie){return o[ie.getMonth()]}function Z(ie){return a[+(ie.getHours()>=12)]}function I(ie){return 1+~~(ie.getMonth()/3)}function M(ie){return s[ie.getUTCDay()]}function z(ie){return i[ie.getUTCDay()]}function K(ie){return l[ie.getUTCMonth()]}function X(ie){return o[ie.getUTCMonth()]}function ae(ie){return a[+(ie.getUTCHours()>=12)]}function ue(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var ge=j(ie+="",x);return ge.toString=function(){return ie},ge},parse:function(ie){var ge=T(ie+="",!1);return ge.toString=function(){return ie},ge},utcFormat:function(ie){var ge=j(ie+="",O);return ge.toString=function(){return ie},ge},utcParse:function(ie){var ge=T(ie+="",!0);return ge.toString=function(){return ie},ge}}}var OR={"-":"",_:" ",0:"0"},mi=/^\s*\d+/,R8e=/^%/,F8e=/[\\^$*+?|[\]().{}]/g;function vn(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function $8e(e){return e.replace(F8e,"\\$&")}function Og(e){return new RegExp("^(?:"+e.map($8e).join("|")+")","i")}function Ig(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function B8e(e,t,r){var n=mi.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function U8e(e,t,r){var n=mi.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function V8e(e,t,r){var n=mi.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function z8e(e,t,r){var n=mi.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function q8e(e,t,r){var n=mi.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function IR(e,t,r){var n=mi.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function DR(e,t,r){var n=mi.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function W8e(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function H8e(e,t,r){var n=mi.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function G8e(e,t,r){var n=mi.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function LR(e,t,r){var n=mi.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function K8e(e,t,r){var n=mi.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function MR(e,t,r){var n=mi.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Y8e(e,t,r){var n=mi.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function X8e(e,t,r){var n=mi.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Q8e(e,t,r){var n=mi.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function J8e(e,t,r){var n=mi.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Z8e(e,t,r){var n=R8e.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function eDe(e,t,r){var n=mi.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function tDe(e,t,r){var n=mi.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function RR(e,t){return vn(e.getDate(),t,2)}function rDe(e,t){return vn(e.getHours(),t,2)}function nDe(e,t){return vn(e.getHours()%12||12,t,2)}function aDe(e,t){return vn(1+ox.count(Su(e),e),t,3)}function FY(e,t){return vn(e.getMilliseconds(),t,3)}function iDe(e,t){return FY(e,t)+"000"}function sDe(e,t){return vn(e.getMonth()+1,t,2)}function oDe(e,t){return vn(e.getMinutes(),t,2)}function lDe(e,t){return vn(e.getSeconds(),t,2)}function cDe(e){var t=e.getDay();return t===0?7:t}function uDe(e,t){return vn(fS.count(Su(e)-1,e),t,2)}function $Y(e){var t=e.getDay();return t>=4||t===0?tm(e):tm.ceil(e)}function fDe(e,t){return e=$Y(e),vn(tm.count(Su(e),e)+(Su(e).getDay()===4),t,2)}function dDe(e){return e.getDay()}function hDe(e,t){return vn(i5.count(Su(e)-1,e),t,2)}function pDe(e,t){return vn(e.getFullYear()%100,t,2)}function mDe(e,t){return e=$Y(e),vn(e.getFullYear()%100,t,2)}function gDe(e,t){return vn(e.getFullYear()%1e4,t,4)}function vDe(e,t){var r=e.getDay();return e=r>=4||r===0?tm(e):tm.ceil(e),vn(e.getFullYear()%1e4,t,4)}function yDe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+vn(t/60|0,"0",2)+vn(t%60,"0",2)}function FR(e,t){return vn(e.getUTCDate(),t,2)}function xDe(e,t){return vn(e.getUTCHours(),t,2)}function bDe(e,t){return vn(e.getUTCHours()%12||12,t,2)}function wDe(e,t){return vn(1+uS.count(Au(e),e),t,3)}function BY(e,t){return vn(e.getUTCMilliseconds(),t,3)}function _De(e,t){return BY(e,t)+"000"}function SDe(e,t){return vn(e.getUTCMonth()+1,t,2)}function ADe(e,t){return vn(e.getUTCMinutes(),t,2)}function TDe(e,t){return vn(e.getUTCSeconds(),t,2)}function EDe(e){var t=e.getUTCDay();return t===0?7:t}function NDe(e,t){return vn(dS.count(Au(e)-1,e),t,2)}function UY(e){var t=e.getUTCDay();return t>=4||t===0?rm(e):rm.ceil(e)}function kDe(e,t){return e=UY(e),vn(rm.count(Au(e),e)+(Au(e).getUTCDay()===4),t,2)}function CDe(e){return e.getUTCDay()}function PDe(e,t){return vn(s5.count(Au(e)-1,e),t,2)}function jDe(e,t){return vn(e.getUTCFullYear()%100,t,2)}function ODe(e,t){return e=UY(e),vn(e.getUTCFullYear()%100,t,2)}function IDe(e,t){return vn(e.getUTCFullYear()%1e4,t,4)}function DDe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?rm(e):rm.ceil(e),vn(e.getUTCFullYear()%1e4,t,4)}function LDe(){return"+0000"}function $R(){return"%"}function BR(e){return+e}function UR(e){return Math.floor(+e/1e3)}var T0,VY,zY;MDe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function MDe(e){return T0=M8e(e),VY=T0.format,T0.parse,zY=T0.utcFormat,T0.utcParse,T0}function RDe(e){return new Date(e)}function FDe(e){return e instanceof Date?+e:+new Date(+e)}function tj(e,t,r,n,a,i,s,o,l,c){var u=U6(),d=u.invert,h=u.domain,p=c(".%L"),g=c(":%S"),m=c("%I:%M"),v=c("%I %p"),y=c("%a %d"),b=c("%b %d"),x=c("%B"),O=c("%Y");function P(j){return(l(j)<j?p:o(j)<j?g:s(j)<j?m:i(j)<j?v:n(j)<j?a(j)<j?y:b:r(j)<j?x:O)(j)}return u.invert=function(j){return new Date(d(j))},u.domain=function(j){return arguments.length?h(Array.from(j,FDe)):h().map(RDe)},u.ticks=function(j){var T=h();return e(T[0],T[T.length-1],j??10)},u.tickFormat=function(j,T){return T==null?P:c(T)},u.nice=function(j){var T=h();return(!j||typeof j.range!="function")&&(j=t(T[0],T[T.length-1],j??10)),j?h(CY(T,j)):u},u.copy=function(){return sx(u,tj(e,t,r,n,a,i,s,o,l,c))},u}function $De(){return rl.apply(tj(D8e,L8e,Su,Z6,fS,ox,Q6,Y6,sh,VY).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function BDe(){return rl.apply(tj(O8e,I8e,Au,ej,dS,uS,J6,X6,sh,zY).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function hS(){var e=0,t=1,r,n,a,i,s=Ss,o=!1,l;function c(d){return d==null||isNaN(d=+d)?l:s(a===0?.5:(d=(i(d)-r)*a,o?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([e,t]=d,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(d){return arguments.length?(o=!!d,c):o},c.interpolator=function(d){return arguments.length?(s=d,c):s};function u(d){return function(h){var p,g;return arguments.length?([p,g]=h,s=d(p,g),c):[s(0),s(1)]}}return c.range=u(Hm),c.rangeRound=u(B6),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return i=d,r=d(e),n=d(t),a=r===n?0:1/(n-r),c}}function _d(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function qY(){var e=wd(hS()(Ss));return e.copy=function(){return _d(e,qY())},Du.apply(e,arguments)}function WY(){var e=q6(hS()).domain([1,10]);return e.copy=function(){return _d(e,WY()).base(e.base())},Du.apply(e,arguments)}function HY(){var e=W6(hS());return e.copy=function(){return _d(e,HY()).constant(e.constant())},Du.apply(e,arguments)}function rj(){var e=H6(hS());return e.copy=function(){return _d(e,rj()).exponent(e.exponent())},Du.apply(e,arguments)}function UDe(){return rj.apply(null,arguments).exponent(.5)}function GY(){var e=[],t=Ss;function r(n){if(n!=null&&!isNaN(n=+n))return t((ax(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Qf),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>NIe(e,i/n))},r.copy=function(){return GY(t).domain(e)},Du.apply(r,arguments)}function pS(){var e=0,t=.5,r=1,n=1,a,i,s,o,l,c=Ss,u,d=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+u(m))-i)*(n*m<n*i?o:l),c(d?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,a=u(e=+e),i=u(t=+t),s=u(r=+r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(d=!!m,p):d},p.interpolator=function(m){return arguments.length?(c=m,p):c};function g(m){return function(v){var y,b,x;return arguments.length?([y,b,x]=v,c=ZIe(m,[y,b,x]),p):[c(0),c(.5),c(1)]}}return p.range=g(Hm),p.rangeRound=g(B6),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return u=m,a=m(e),i=m(t),s=m(r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,p}}function KY(){var e=wd(pS()(Ss));return e.copy=function(){return _d(e,KY())},Du.apply(e,arguments)}function YY(){var e=q6(pS()).domain([.1,1,10]);return e.copy=function(){return _d(e,YY()).base(e.base())},Du.apply(e,arguments)}function XY(){var e=W6(pS());return e.copy=function(){return _d(e,XY()).constant(e.constant())},Du.apply(e,arguments)}function nj(){var e=H6(pS());return e.copy=function(){return _d(e,nj()).exponent(e.exponent())},Du.apply(e,arguments)}function VDe(){return nj.apply(null,arguments).exponent(.5)}const VR=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Q1,scaleDiverging:KY,scaleDivergingLog:YY,scaleDivergingPow:nj,scaleDivergingSqrt:VDe,scaleDivergingSymlog:XY,scaleIdentity:kY,scaleImplicit:WE,scaleLinear:n5,scaleLog:PY,scaleOrdinal:R6,scalePoint:Rv,scalePow:G6,scaleQuantile:IY,scaleQuantize:DY,scaleRadial:OY,scaleSequential:qY,scaleSequentialLog:WY,scaleSequentialPow:rj,scaleSequentialQuantile:GY,scaleSequentialSqrt:UDe,scaleSequentialSymlog:HY,scaleSqrt:_8e,scaleSymlog:jY,scaleThreshold:LY,scaleTime:$De,scaleUtc:BDe,tickFormat:NY},Symbol.toStringTag,{value:"Module"}));var zDe=Fm;function qDe(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],s=t(i);if(s!=null&&(o===void 0?s===s&&!zDe(s):r(s,o)))var o=s,l=i}return l}var QY=qDe;function WDe(e,t){return e>t}var HDe=WDe,GDe=QY,KDe=HDe,YDe=Wm;function XDe(e){return e&&e.length?GDe(e,YDe,KDe):void 0}var QDe=XDe;const mS=Dn(QDe);function JDe(e,t){return e<t}var ZDe=JDe,eLe=QY,tLe=ZDe,rLe=Wm;function nLe(e){return e&&e.length?eLe(e,rLe,tLe):void 0}var aLe=nLe;const gS=Dn(aLe);var iLe=v6,sLe=bd,oLe=iY,lLe=Gs;function cLe(e,t){var r=lLe(e)?iLe:oLe;return r(e,sLe(t))}var uLe=cLe,fLe=nY,dLe=uLe;function hLe(e,t){return fLe(dLe(e,t),1)}var pLe=hLe;const mLe=Dn(pLe);var gLe=O6;function vLe(e,t){return gLe(e,t)}var yLe=vLe;const vS=Dn(yLe);var Gm=1e9,xLe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ij,aa=!0,Zo="[DecimalError] ",gh=Zo+"Invalid argument: ",aj=Zo+"Exponent out of range: ",Km=Math.floor,Hd=Math.pow,bLe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,lo,oi=1e7,Qn=7,JY=9007199254740991,o5=Km(JY/Qn),ar={};ar.absoluteValue=ar.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ar.comparedTo=ar.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};ar.decimalPlaces=ar.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Qn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ar.dividedBy=ar.div=function(e){return ou(this,new this.constructor(e))};ar.dividedToIntegerBy=ar.idiv=function(e){var t=this,r=t.constructor;return Bn(ou(t,new r(e),0,1),r.precision)};ar.equals=ar.eq=function(e){return!this.cmp(e)};ar.exponent=function(){return Va(this)};ar.greaterThan=ar.gt=function(e){return this.cmp(e)>0};ar.greaterThanOrEqualTo=ar.gte=function(e){return this.cmp(e)>=0};ar.isInteger=ar.isint=function(){return this.e>this.d.length-2};ar.isNegative=ar.isneg=function(){return this.s<0};ar.isPositive=ar.ispos=function(){return this.s>0};ar.isZero=function(){return this.s===0};ar.lessThan=ar.lt=function(e){return this.cmp(e)<0};ar.lessThanOrEqualTo=ar.lte=function(e){return this.cmp(e)<1};ar.logarithm=ar.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(lo))throw Error(Zo+"NaN");if(r.s<1)throw Error(Zo+(r.s?"NaN":"-Infinity"));return r.eq(lo)?new n(0):(aa=!1,t=ou(ry(r,i),ry(e,i),i),aa=!0,Bn(t,a))};ar.minus=ar.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?tX(t,e):ZY(t,(e.s=-e.s,e))};ar.modulo=ar.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Zo+"NaN");return r.s?(aa=!1,t=ou(r,e,0,1).times(e),aa=!0,r.minus(t)):Bn(new n(r),a)};ar.naturalExponential=ar.exp=function(){return eX(this)};ar.naturalLogarithm=ar.ln=function(){return ry(this)};ar.negated=ar.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ar.plus=ar.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?ZY(t,e):tX(t,(e.s=-e.s,e))};ar.precision=ar.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(gh+e);if(t=Va(a)+1,n=a.d.length-1,r=n*Qn+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ar.squareRoot=ar.sqrt=function(){var e,t,r,n,a,i,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Zo+"NaN")}for(e=Va(o),aa=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=sc(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Km((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=s=r+3;;)if(i=n,n=i.plus(ou(o,i,s+2)).times(.5),sc(i.d).slice(0,s)===(t=sc(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(Bn(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(t!="9999")break;s+=4}return aa=!0,Bn(n,r)};ar.times=ar.mul=function(e){var t,r,n,a,i,s,o,l,c,u=this,d=u.constructor,h=u.d,p=(e=new d(e)).d;if(!u.s||!e.s)return new d(0);for(e.s*=u.s,r=u.e+e.e,l=h.length,c=p.length,l<c&&(i=h,h=p,p=i,s=l,l=c,c=s),i=[],s=l+c,n=s;n--;)i.push(0);for(n=c;--n>=0;){for(t=0,a=l+n;a>n;)o=i[a]+p[n]*h[a-n-1]+t,i[a--]=o%oi|0,t=o/oi|0;i[a]=(i[a]+t)%oi|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,aa?Bn(e,d.precision):e};ar.toDecimalPlaces=ar.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(wc(e,0,Gm),t===void 0?t=n.rounding:wc(t,0,8),Bn(r,e+Va(r)+1,t))};ar.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Lh(n,!0):(wc(e,0,Gm),t===void 0?t=a.rounding:wc(t,0,8),n=Bn(new a(n),e+1,t),r=Lh(n,!0,e+1)),r};ar.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Lh(a):(wc(e,0,Gm),t===void 0?t=i.rounding:wc(t,0,8),n=Bn(new i(a),e+Va(a)+1,t),r=Lh(n.abs(),!1,e+Va(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};ar.toInteger=ar.toint=function(){var e=this,t=e.constructor;return Bn(new t(e),Va(e)+1,t.rounding)};ar.toNumber=function(){return+this};ar.toPower=ar.pow=function(e){var t,r,n,a,i,s,o=this,l=o.constructor,c=12,u=+(e=new l(e));if(!e.s)return new l(lo);if(o=new l(o),!o.s){if(e.s<1)throw Error(Zo+"Infinity");return o}if(o.eq(lo))return o;if(n=l.precision,e.eq(lo))return Bn(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=o.s,s){if((r=u<0?-u:u)<=JY){for(a=new l(lo),t=Math.ceil(n/Qn+4),aa=!1;r%2&&(a=a.times(o),qR(a.d,t)),r=Km(r/2),r!==0;)o=o.times(o),qR(o.d,t);return aa=!0,e.s<0?new l(lo).div(a):Bn(a,n)}}else if(i<0)throw Error(Zo+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,aa=!1,a=e.times(ry(o,n+c)),aa=!0,a=eX(a),a.s=i,a};ar.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Va(a),n=Lh(a,r<=i.toExpNeg||r>=i.toExpPos)):(wc(e,1,Gm),t===void 0?t=i.rounding:wc(t,0,8),a=Bn(new i(a),e,t),r=Va(a),n=Lh(a,e<=r||r<=i.toExpNeg,e)),n};ar.toSignificantDigits=ar.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(wc(e,1,Gm),t===void 0?t=n.rounding:wc(t,0,8)),Bn(new n(r),e,t)};ar.toString=ar.valueOf=ar.val=ar.toJSON=ar[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Va(e),r=e.constructor;return Lh(e,t<=r.toExpNeg||t>=r.toExpPos)};function ZY(e,t){var r,n,a,i,s,o,l,c,u=e.constructor,d=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),aa?Bn(t,d):t;if(l=e.d,c=t.d,s=e.e,a=t.e,l=l.slice(),i=s-a,i){for(i<0?(n=l,i=-i,o=c.length):(n=c,a=s,o=l.length),s=Math.ceil(d/Qn),o=s>o?s+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=l.length,i=c.length,o-i<0&&(i=o,n=c,c=l,l=n),r=0;i;)r=(l[--i]=l[i]+c[i]+r)/oi|0,l[i]%=oi;for(r&&(l.unshift(r),++a),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=a,aa?Bn(t,d):t}function wc(e,t,r){if(e!==~~e||e<t||e>r)throw Error(gh+e)}function sc(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=Qn-n.length,r&&(i+=gf(r)),i+=n;s=e[t],n=s+"",r=Qn-n.length,r&&(i+=gf(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var ou=function(){function e(n,a){var i,s=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+s,n[o]=i%oi|0,s=i/oi|0;return s&&n.unshift(s),n}function t(n,a,i,s){var o,l;if(i!=s)l=i>s?1:-1;else for(o=l=0;o<i;o++)if(n[o]!=a[o]){l=n[o]>a[o]?1:-1;break}return l}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*oi+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var o,l,c,u,d,h,p,g,m,v,y,b,x,O,P,j,T,S,_=n.constructor,D=n.s==a.s?1:-1,E=n.d,N=a.d;if(!n.s)return new _(n);if(!a.s)throw Error(Zo+"Division by zero");for(l=n.e-a.e,T=N.length,P=E.length,p=new _(D),g=p.d=[],c=0;N[c]==(E[c]||0);)++c;if(N[c]>(E[c]||0)&&--l,i==null?b=i=_.precision:s?b=i+(Va(n)-Va(a))+1:b=i,b<0)return new _(0);if(b=b/Qn+2|0,c=0,T==1)for(u=0,N=N[0],b++;(c<P||u)&&b--;c++)x=u*oi+(E[c]||0),g[c]=x/N|0,u=x%N|0;else{for(u=oi/(N[0]+1)|0,u>1&&(N=e(N,u),E=e(E,u),T=N.length,P=E.length),O=T,m=E.slice(0,T),v=m.length;v<T;)m[v++]=0;S=N.slice(),S.unshift(0),j=N[0],N[1]>=oi/2&&++j;do u=0,o=t(N,m,T,v),o<0?(y=m[0],T!=v&&(y=y*oi+(m[1]||0)),u=y/j|0,u>1?(u>=oi&&(u=oi-1),d=e(N,u),h=d.length,v=m.length,o=t(d,m,h,v),o==1&&(u--,r(d,T<h?S:N,h))):(u==0&&(o=u=1),d=N.slice()),h=d.length,h<v&&d.unshift(0),r(m,d,v),o==-1&&(v=m.length,o=t(N,m,T,v),o<1&&(u++,r(m,T<v?S:N,v))),v=m.length):o===0&&(u++,m=[0]),g[c++]=u,o&&m[0]?m[v++]=E[O]||0:(m=[E[O]],v=1);while((O++<P||m[0]!==void 0)&&b--)}return g[0]||g.shift(),p.e=l,Bn(p,s?i+Va(p)+1:i)}}();function eX(e,t){var r,n,a,i,s,o,l=0,c=0,u=e.constructor,d=u.precision;if(Va(e)>16)throw Error(aj+Va(e));if(!e.s)return new u(lo);for(t==null?(aa=!1,o=d):o=t,s=new u(.03125);e.abs().gte(.1);)e=e.times(s),c+=5;for(n=Math.log(Hd(2,c))/Math.LN10*2+5|0,o+=n,r=a=i=new u(lo),u.precision=o;;){if(a=Bn(a.times(e),o),r=r.times(++l),s=i.plus(ou(a,r,o)),sc(s.d).slice(0,o)===sc(i.d).slice(0,o)){for(;c--;)i=Bn(i.times(i),o);return u.precision=d,t==null?(aa=!0,Bn(i,d)):i}i=s}}function Va(e){for(var t=e.e*Qn,r=e.d[0];r>=10;r/=10)t++;return t}function D4(e,t,r){if(t>e.LN10.sd())throw aa=!0,r&&(e.precision=r),Error(Zo+"LN10 precision limit exceeded");return Bn(new e(e.LN10),t)}function gf(e){for(var t="";e--;)t+="0";return t}function ry(e,t){var r,n,a,i,s,o,l,c,u,d=1,h=10,p=e,g=p.d,m=p.constructor,v=m.precision;if(p.s<1)throw Error(Zo+(p.s?"NaN":"-Infinity"));if(p.eq(lo))return new m(0);if(t==null?(aa=!1,c=v):c=t,p.eq(10))return t==null&&(aa=!0),D4(m,c);if(c+=h,m.precision=c,r=sc(g),n=r.charAt(0),i=Va(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=sc(p.d),n=r.charAt(0),d++;i=Va(p),n>1?(p=new m("0."+r),i++):p=new m(n+"."+r.slice(1))}else return l=D4(m,c+2,v).times(i+""),p=ry(new m(n+"."+r.slice(1)),c-h).plus(l),m.precision=v,t==null?(aa=!0,Bn(p,v)):p;for(o=s=p=ou(p.minus(lo),p.plus(lo),c),u=Bn(p.times(p),c),a=3;;){if(s=Bn(s.times(u),c),l=o.plus(ou(s,new m(a),c)),sc(l.d).slice(0,c)===sc(o.d).slice(0,c))return o=o.times(2),i!==0&&(o=o.plus(D4(m,c+2,v).times(i+""))),o=ou(o,new m(d),c),m.precision=v,t==null?(aa=!0,Bn(o,v)):o;o=l,a+=2}}function zR(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Km(r/Qn),e.d=[],n=(r+1)%Qn,r<0&&(n+=Qn),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Qn;n<a;)e.d.push(+t.slice(n,n+=Qn));t=t.slice(n),n=Qn-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),aa&&(e.e>o5||e.e<-o5))throw Error(aj+r)}else e.s=0,e.e=0,e.d=[0];return e}function Bn(e,t,r){var n,a,i,s,o,l,c,u,d=e.d;for(s=1,i=d[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=Qn,a=t,c=d[u=0];else{if(u=Math.ceil((n+1)/Qn),i=d.length,u>=i)return e;for(c=i=d[u],s=1;i>=10;i/=10)s++;n%=Qn,a=n-Qn+s}if(r!==void 0&&(i=Hd(10,s-a-1),o=c/i%10|0,l=t<0||d[u+1]!==void 0||c%i,l=r<4?(o||l)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?a>0?c/Hd(10,s-a):0:d[u-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return l?(i=Va(e),d.length=1,t=t-i-1,d[0]=Hd(10,(Qn-t%Qn)%Qn),e.e=Km(-t/Qn)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=u,i=1,u--):(d.length=u+1,i=Hd(10,Qn-n),d[u]=a>0?(c/Hd(10,s-a)%Hd(10,a)|0)*i:0),l)for(;;)if(u==0){(d[0]+=i)==oi&&(d[0]=1,++e.e);break}else{if(d[u]+=i,d[u]!=oi)break;d[u--]=0,i=1}for(n=d.length;d[--n]===0;)d.pop();if(aa&&(e.e>o5||e.e<-o5))throw Error(aj+Va(e));return e}function tX(e,t){var r,n,a,i,s,o,l,c,u,d,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),aa?Bn(t,p):t;if(l=e.d,d=t.d,n=t.e,c=e.e,l=l.slice(),s=c-n,s){for(u=s<0,u?(r=l,s=-s,o=d.length):(r=d,n=c,o=l.length),a=Math.max(Math.ceil(p/Qn),o)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=l.length,o=d.length,u=a<o,u&&(o=a),a=0;a<o;a++)if(l[a]!=d[a]){u=l[a]<d[a];break}s=0}for(u&&(r=l,l=d,d=r,t.s=-t.s),o=l.length,a=d.length-o;a>0;--a)l[o++]=0;for(a=d.length;a>s;){if(l[--a]<d[a]){for(i=a;i&&l[--i]===0;)l[i]=oi-1;--l[i],l[a]+=oi}l[a]-=d[a]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,aa?Bn(t,p):t):new h(0)}function Lh(e,t,r){var n,a=Va(e),i=sc(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+gf(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+gf(-a-1)+i,r&&(n=r-s)>0&&(i+=gf(n))):a>=s?(i+=gf(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+gf(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=gf(n))),e.s<0?"-"+i:i}function qR(e,t){if(e.length>t)return e.length=t,!0}function rX(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(gh+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return zR(s,i.toString())}else if(typeof i!="string")throw Error(gh+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,bLe.test(i))zR(s,i);else throw Error(gh+i)}if(a.prototype=ar,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=rX,a.config=a.set=wLe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function wLe(e){if(!e||typeof e!="object")throw Error(Zo+"Object expected");var t,r,n,a=["precision",1,Gm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Km(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(gh+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(gh+r+": "+n);return this}var ij=rX(xLe);lo=new ij(1);const In=ij;function _Le(e){return ELe(e)||TLe(e)||ALe(e)||SLe()}function SLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ALe(e,t){if(e){if(typeof e=="string")return YE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YE(e,t)}}function TLe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function ELe(e){if(Array.isArray(e))return YE(e)}function YE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var NLe=function(t){return t},nX={"@@functional/placeholder":!0},aX=function(t){return t===nX},WR=function(t){return function r(){return arguments.length===0||arguments.length===1&&aX(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},kLe=function e(t,r){return t===1?r:WR(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.filter(function(o){return o!==nX}).length;return s>=t?r.apply(void 0,a):e(t-s,WR(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=a.map(function(d){return aX(d)?l.shift():d});return r.apply(void 0,_Le(u).concat(l))}))})},yS=function(t){return kLe(t.length,t)},XE=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},CLe=yS(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),PLe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return NLe;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(o,l){return l(o)},i.apply(void 0,arguments))}},QE=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},iX=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r&&i.every(function(o,l){return o===r[l]})||(r=i,n=t.apply(void 0,i)),n}};function jLe(e){var t;return e===0?t=1:t=Math.floor(new In(e).abs().log(10).toNumber())+1,t}function OLe(e,t,r){for(var n=new In(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var ILe=yS(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),DLe=yS(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),LLe=yS(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const xS={rangeStep:OLe,getDigitCount:jLe,interpolateNumber:ILe,uninterpolateNumber:DLe,uninterpolateTruncation:LLe};function JE(e){return FLe(e)||RLe(e)||sX(e)||MLe()}function MLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RLe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function FLe(e){if(Array.isArray(e))return ZE(e)}function ny(e,t){return ULe(e)||BLe(e,t)||sX(e,t)||$Le()}function $Le(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sX(e,t){if(e){if(typeof e=="string")return ZE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZE(e,t)}}function ZE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function BLe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var s=e[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(t&&r.length===t));n=!0);}catch(l){a=!0,i=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(a)throw i}}return r}}function ULe(e){if(Array.isArray(e))return e}function oX(e){var t=ny(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function lX(e,t,r){if(e.lte(0))return new In(0);var n=xS.getDigitCount(e.toNumber()),a=new In(10).pow(n),i=e.div(a),s=n!==1?.05:.1,o=new In(Math.ceil(i.div(s).toNumber())).add(r).mul(s),l=o.mul(a);return t?l:new In(Math.ceil(l))}function VLe(e,t,r){var n=1,a=new In(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new In(10).pow(xS.getDigitCount(e)-1),a=new In(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new In(Math.floor(e)))}else e===0?a=new In(Math.floor((t-1)/2)):r||(a=new In(Math.floor(e)));var s=Math.floor((t-1)/2),o=PLe(CLe(function(l){return a.add(new In(l-s).mul(n)).toNumber()}),XE);return o(0,t)}function cX(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new In(0),tickMin:new In(0),tickMax:new In(0)};var i=lX(new In(t).sub(e).div(r-1),n,a),s;e<=0&&t>=0?s=new In(0):(s=new In(e).add(t).div(2),s=s.sub(new In(s).mod(i)));var o=Math.ceil(s.sub(e).div(i).toNumber()),l=Math.ceil(new In(t).sub(s).div(i).toNumber()),c=o+l+1;return c>r?cX(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,o=t>0?o:o+(r-c)),{step:i,tickMin:s.sub(new In(o).mul(i)),tickMax:s.add(new In(l).mul(i))})}function zLe(e){var t=ny(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),o=oX([r,n]),l=ny(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var d=u===1/0?[c].concat(JE(XE(0,a-1).map(function(){return 1/0}))):[].concat(JE(XE(0,a-1).map(function(){return-1/0})),[u]);return r>n?QE(d):d}if(c===u)return VLe(c,a,i);var h=cX(c,u,s,i),p=h.step,g=h.tickMin,m=h.tickMax,v=xS.rangeStep(g,m.add(new In(.1).mul(p)),p);return r>n?QE(v):v}function qLe(e,t){var r=ny(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=oX([n,a]),o=ny(s,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[n,a];if(l===c)return[l];var u=Math.max(t,2),d=lX(new In(c).sub(l).div(u-1),i,0),h=[].concat(JE(xS.rangeStep(new In(l),new In(c).sub(new In(.99).mul(d)),d)),[c]);return n>a?QE(h):h}var WLe=iX(zLe),HLe=iX(qLe),GLe="Invariant failed";function Mh(e,t){throw new Error(GLe)}var KLe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function nm(e){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nm(e)}function l5(){return l5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l5.apply(this,arguments)}function YLe(e,t){return ZLe(e)||JLe(e,t)||QLe(e,t)||XLe()}function XLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QLe(e,t){if(e){if(typeof e=="string")return HR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HR(e,t)}}function HR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function JLe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function ZLe(e){if(Array.isArray(e))return e}function eMe(e,t){if(e==null)return{};var r=tMe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function rMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nMe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dX(n.key),n)}}function aMe(e,t,r){return t&&nMe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function iMe(e,t,r){return t=c5(t),sMe(e,uX()?Reflect.construct(t,r||[],c5(e).constructor):t.apply(e,r))}function sMe(e,t){if(t&&(nm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oMe(e)}function oMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uX=function(){return!!e})()}function c5(e){return c5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},c5(e)}function lMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eN(e,t)}function eN(e,t){return eN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},eN(e,t)}function fX(e,t,r){return t=dX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dX(e){var t=cMe(e,"string");return nm(t)=="symbol"?t:t+""}function cMe(e,t){if(nm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lx=function(e){function t(){return rMe(this,t),iMe(this,t,arguments)}return lMe(t,e),aMe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,s=n.width,o=n.dataKey,l=n.data,c=n.dataPointFormatter,u=n.xAxis,d=n.yAxis,h=eMe(n,KLe),p=nn(h,!1);this.props.direction==="x"&&u.type!=="number"&&Mh();var g=l.map(function(m){var v=c(m,o),y=v.x,b=v.y,x=v.value,O=v.errorVal;if(!O)return null;var P=[],j,T;if(Array.isArray(O)){var S=YLe(O,2);j=S[0],T=S[1]}else j=T=O;if(i==="vertical"){var _=u.scale,D=b+a,E=D+s,N=D-s,k=_(x-j),V=_(x+T);P.push({x1:V,y1:E,x2:V,y2:N}),P.push({x1:k,y1:D,x2:V,y2:D}),P.push({x1:k,y1:E,x2:k,y2:N})}else if(i==="horizontal"){var Q=d.scale,W=y+a,G=W-s,q=W+s,U=Q(x-j),ee=Q(x+T);P.push({x1:G,y1:ee,x2:q,y2:ee}),P.push({x1:W,y1:U,x2:W,y2:ee}),P.push({x1:G,y1:U,x2:q,y2:U})}return Be.createElement(Ca,l5({className:"recharts-errorBar",key:"bar-".concat(P.map(function(Z){return"".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))},p),P.map(function(Z){return Be.createElement("line",l5({},Z,{key:"line-".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))}))});return Be.createElement(Ca,{className:"recharts-errorBars"},g)}}])}(Be.Component);fX(lx,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});fX(lx,"displayName","ErrorBar");function ay(e){"@babel/helpers - typeof";return ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ay(e)}function GR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GR(Object(r),!0).forEach(function(n){uMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uMe(e,t,r){return t=fMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fMe(e){var t=dMe(e,"string");return ay(t)=="symbol"?t:t+""}function dMe(e,t){if(ay(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ay(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hX=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,s=io(r,Ko);if(!s)return null;var o=Ko.defaultProps,l=o!==void 0?Fd(Fd({},o),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:i==="children"?c=(n||[]).reduce(function(u,d){var h=d.item,p=d.props,g=p.sectors||p.data||[];return u.concat(g.map(function(m){return{type:s.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):c=(n||[]).map(function(u){var d=u.item,h=d.type.defaultProps,p=h!==void 0?Fd(Fd({},h),d.props):{},g=p.dataKey,m=p.name,v=p.legendType,y=p.hide;return{inactive:y,dataKey:g,type:l.iconType||v||"square",color:sj(d),value:m||g,payload:p}}),Fd(Fd(Fd({},l),Ko.getWithHeight(s,a)),{},{payload:c,item:s})};function iy(e){"@babel/helpers - typeof";return iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iy(e)}function KR(e){return gMe(e)||mMe(e)||pMe(e)||hMe()}function hMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pMe(e,t){if(e){if(typeof e=="string")return tN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tN(e,t)}}function mMe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gMe(e){if(Array.isArray(e))return tN(e)}function tN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function YR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ya(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YR(Object(r),!0).forEach(function(n){bp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bp(e,t,r){return t=vMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vMe(e){var t=yMe(e,"string");return iy(t)=="symbol"?t:t+""}function yMe(e,t){if(iy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(iy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vo(e,t,r){return Gr(e)||Gr(t)?r:Za(t)?Ho(e,t,r):qr(t)?t(e):r}function Fv(e,t,r,n){var a=mLe(e,function(o){return vo(o,t)});if(r==="number"){var i=a.filter(function(o){return Ut(o)||parseFloat(o)});return i.length?[gS(i),mS(i)]:[1/0,-1/0]}var s=n?a.filter(function(o){return!Gr(o)}):a;return s.map(function(o){return Za(o)||o instanceof Date?o:""})}var xMe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var l=i.range,c=0;c<o;c++){var u=c>0?a[c-1].coordinate:a[o-1].coordinate,d=a[c].coordinate,h=c>=o-1?a[0].coordinate:a[c+1].coordinate,p=void 0;if(Ol(d-u)!==Ol(h-d)){var g=[];if(Ol(h-d)===Ol(l[1]-l[0])){p=h;var m=d+l[1]-l[0];g[0]=Math.min(m,(m+u)/2),g[1]=Math.max(m,(m+u)/2)}else{p=u;var v=h+l[1]-l[0];g[0]=Math.min(d,(v+d)/2),g[1]=Math.max(d,(v+d)/2)}var y=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(t>y[0]&&t<=y[1]||t>=g[0]&&t<=g[1]){s=a[c].index;break}}else{var b=Math.min(u,h),x=Math.max(u,h);if(t>(b+d)/2&&t<=(x+d)/2){s=a[c].index;break}}}else for(var O=0;O<o;O++)if(O===0&&t<=(n[O].coordinate+n[O+1].coordinate)/2||O>0&&O<o-1&&t>(n[O].coordinate+n[O-1].coordinate)/2&&t<=(n[O].coordinate+n[O+1].coordinate)/2||O===o-1&&t>(n[O].coordinate+n[O-1].coordinate)/2){s=n[O].index;break}return s},sj=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?ya(ya({},t.type.defaultProps),t.props):t.props,s=i.stroke,o=i.fill,l;switch(a){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},bMe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},o=Object.keys(i),l=0,c=o.length;l<c;l++)for(var u=i[o[l]].stackGroups,d=Object.keys(u),h=0,p=d.length;h<p;h++){var g=u[d[h]],m=g.items,v=g.cateAxisId,y=m.filter(function(T){return au(T.type).indexOf("Bar")>=0});if(y&&y.length){var b=y[0].type.defaultProps,x=b!==void 0?ya(ya({},b),y[0].props):y[0].props,O=x.barSize,P=x[v];s[P]||(s[P]=[]);var j=Gr(O)?r:O;s[P].push({item:y[0],stackList:y.slice(1),barSize:Gr(j)?void 0:Dh(j,n,0)})}}return s},wMe=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,s=i===void 0?[]:i,o=t.maxBarSize,l=s.length;if(l<1)return null;var c=Dh(r,a,0,!0),u,d=[];if(s[0].barSize===+s[0].barSize){var h=!1,p=a/l,g=s.reduce(function(O,P){return O+P.barSize||0},0);g+=(l-1)*c,g>=a&&(g-=(l-1)*c,c=0),g>=a&&p>0&&(h=!0,p*=.9,g=l*p);var m=(a-g)/2>>0,v={offset:m-c,size:0};u=s.reduce(function(O,P){var j={item:P.item,position:{offset:v.offset+v.size+c,size:h?p:P.barSize}},T=[].concat(KR(O),[j]);return v=T[T.length-1].position,P.stackList&&P.stackList.length&&P.stackList.forEach(function(S){T.push({item:S,position:v})}),T},d)}else{var y=Dh(n,a,0,!0);a-2*y-(l-1)*c<=0&&(c=0);var b=(a-2*y-(l-1)*c)/l;b>1&&(b>>=0);var x=o===+o?Math.min(b,o):b;u=s.reduce(function(O,P,j){var T=[].concat(KR(O),[{item:P.item,position:{offset:y+(b+c)*j+(b-x)/2,size:x}}]);return P.stackList&&P.stackList.length&&P.stackList.forEach(function(S){T.push({item:S,position:T[T.length-1].position})}),T},d)}return u},_Me=function(t,r,n,a){var i=n.children,s=n.width,o=n.margin,l=s-(o.left||0)-(o.right||0),c=hX({children:i,legendWidth:l});if(c){var u=a||{},d=u.width,h=u.height,p=c.align,g=c.verticalAlign,m=c.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&p!=="center"&&Ut(t[p]))return ya(ya({},t),{},bp({},p,t[p]+(d||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&g!=="middle"&&Ut(t[g]))return ya(ya({},t),{},bp({},g,t[g]+(h||0)))}return t},SMe=function(t,r,n){return Gr(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},pX=function(t,r,n,a,i){var s=r.props.children,o=Go(s,lx).filter(function(c){return SMe(a,i,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return t.reduce(function(c,u){var d=vo(u,n);if(Gr(d))return c;var h=Array.isArray(d)?[gS(d),mS(d)]:[d,d],p=l.reduce(function(g,m){var v=vo(u,m,0),y=h[0]-Math.abs(Array.isArray(v)?v[0]:v),b=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(y,g[0]),Math.max(b,g[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},AMe=function(t,r,n,a,i){var s=r.map(function(o){return pX(t,o,n,i,a)}).filter(function(o){return!Gr(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},mX=function(t,r,n,a,i){var s=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&pX(t,l,c,a)||Fv(t,c,n,i)});if(n==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,c){for(var u=0,d=c.length;u<d;u++)o[c[u]]||(o[c[u]]=!0,l.push(c[u]));return l},[])},gX=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},vX=function(t,r,n,a){if(a)return t.map(function(l){return l.coordinate});var i,s,o=t.map(function(l){return l.coordinate===r&&(i=!0),l.coordinate===n&&(s=!0),l.coordinate});return i||o.push(r),s||o.push(n),o},Zc=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,s=t.type,o=t.range,l=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,c=(r||n)&&s==="category"&&a.bandwidth?a.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?Ol(o[0]-o[1])*2*c:c,r&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(d){var h=i?i.indexOf(d):d;return{coordinate:a(h)+c,value:d,offset:c}});return u.filter(function(d){return!tx(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,h){return{coordinate:a(d)+c,value:d,index:h,offset:c}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(d){return{coordinate:a(d)+c,value:d,offset:c}}):a.domain().map(function(d,h){return{coordinate:a(d)+c,value:i?i[d]:d,index:h,offset:c}})},L4=new WeakMap,k2=function(t,r){if(typeof r!="function")return t;L4.has(t)||L4.set(t,new WeakMap);var n=L4.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},TMe=function(t,r,n){var a=t.scale,i=t.type,s=t.layout,o=t.axisType;if(a==="auto")return s==="radial"&&o==="radiusAxis"?{scale:Q1(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:n5(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Rv(),realScaleType:"point"}:i==="category"?{scale:Q1(),realScaleType:"band"}:{scale:n5(),realScaleType:"linear"};if(Ih(a)){var l="scale".concat(rS(a));return{scale:(VR[l]||Rv)(),realScaleType:VR[l]?l:"point"}}return qr(a)?{scale:a}:{scale:Rv(),realScaleType:"point"}},XR=1e-4,EMe=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-XR,s=Math.max(a[0],a[1])+XR,o=t(r[0]),l=t(r[n-1]);(o<i||o>s||l<i||l>s)&&t.domain([r[0],r[n-1]])}},NMe=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},kMe=function(t,r){if(!r||r.length!==2||!Ut(r[0])||!Ut(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Ut(t[0])||t[0]<n)&&(i[0]=n),(!Ut(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},CMe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0,o=0;o<r;++o){var l=tx(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1])}},PMe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0;s<r;++s){var o=tx(t[s][n][1])?t[s][n][0]:t[s][n][1];o>=0?(t[s][n][0]=i,t[s][n][1]=i+o,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},jMe={sign:CMe,expand:H3e,none:Yp,silhouette:G3e,wiggle:K3e,positive:PMe},OMe=function(t,r,n){var a=r.map(function(o){return o.props.dataKey}),i=jMe[n],s=W3e().keys(a).value(function(o,l){return+vo(o,l,0)}).order(EE).offset(i);return s(t)},IMe=function(t,r,n,a,i,s){if(!t)return null;var o=s?r.reverse():r,l={},c=o.reduce(function(d,h){var p,g=(p=h.type)!==null&&p!==void 0&&p.defaultProps?ya(ya({},h.type.defaultProps),h.props):h.props,m=g.stackId,v=g.hide;if(v)return d;var y=g[n],b=d[y]||{hasStack:!1,stackGroups:{}};if(Za(m)){var x=b.stackGroups[m]||{numericAxisId:n,cateAxisId:a,items:[]};x.items.push(h),b.hasStack=!0,b.stackGroups[m]=x}else b.stackGroups[rx("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return ya(ya({},d),{},bp({},y,b))},l),u={};return Object.keys(c).reduce(function(d,h){var p=c[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,v){var y=p.stackGroups[v];return ya(ya({},m),{},bp({},v,{numericAxisId:n,cateAxisId:a,items:y.items,stackedData:OMe(t,y.items,i)}))},g)}return ya(ya({},d),{},bp({},h,p))},u)},DMe=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,s=r.originalDomain,o=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=t.domain();if(!c.length)return null;var u=WLe(c,i,o);return t.domain([gS(u),mS(u)]),{niceTicks:u}}if(i&&a==="number"){var d=t.domain(),h=HLe(d,i,o);return{niceTicks:h}}return null};function QR(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,s=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Gr(a[t.dataKey])){var o=Dw(r,"value",a[t.dataKey]);if(o)return o.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var l=vo(a,Gr(s)?t.dataKey:s);return Gr(l)?null:t.scale(l)}var JR=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,s=t.entry,o=t.index;if(r.type==="category")return n[o]?n[o].coordinate+a:null;var l=vo(s,r.dataKey,r.domain[o]);return Gr(l)?null:r.scale(l)-i/2+a},LMe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},MMe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?ya(ya({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(Za(i)){var s=r[i];if(s){var o=s.items.indexOf(t);return o>=0?s.stackedData[o]:null}}return null},RMe=function(t){return t.reduce(function(r,n){return[gS(n.concat([r[0]]).filter(Ut)),mS(n.concat([r[1]]).filter(Ut))]},[1/0,-1/0])},yX=function(t,r,n){return Object.keys(t).reduce(function(a,i){var s=t[i],o=s.stackedData,l=o.reduce(function(c,u){var d=RMe(u.slice(r,n+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},ZR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,eF=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,rN=function(t,r,n){if(qr(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(Ut(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(ZR.test(t[0])){var i=+ZR.exec(t[0])[1];a[0]=r[0]-i}else qr(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Ut(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(eF.test(t[1])){var s=+eF.exec(t[1])[1];a[1]=r[1]+s}else qr(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},u5=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=D6(r,function(d){return d.coordinate}),s=1/0,o=1,l=i.length;o<l;o++){var c=i[o],u=i[o-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},tF=function(t,r,n){return!t||!t.length||vS(t,Ho(n,"type.defaultProps.domain"))?r:t},xX=function(t,r){var n=t.type.defaultProps?ya(ya({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,s=n.unit,o=n.formatter,l=n.tooltipType,c=n.chartType,u=n.hide;return ya(ya({},nn(t,!1)),{},{dataKey:a,unit:s,formatter:o,name:i||a,color:sj(t),value:vo(r,a),type:l,payload:r,chartType:c,hide:u})};function sy(e){"@babel/helpers - typeof";return sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sy(e)}function rF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rF(Object(r),!0).forEach(function(n){FMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FMe(e,t,r){return t=$Me(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Me(e){var t=BMe(e,"string");return sy(t)=="symbol"?t:t+""}function BMe(e,t){if(sy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var f5=Math.PI/180,UMe=function(t){return t*180/Math.PI},Ni=function(t,r,n,a){return{x:t+Math.cos(-f5*a)*n,y:r+Math.sin(-f5*a)*n}},VMe=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-s,2))},zMe=function(t,r){var n=t.x,a=t.y,i=r.cx,s=r.cy,o=VMe({x:n,y:a},{x:i,y:s});if(o<=0)return{radius:o};var l=(n-i)/o,c=Math.acos(l);return a>s&&(c=2*Math.PI-c),{radius:o,angle:UMe(c),angleInRadian:c}},qMe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return{startAngle:r-s*360,endAngle:n-s*360}},WMe=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),s=Math.floor(a/360),o=Math.min(i,s);return t+o*360},aF=function(t,r){var n=t.x,a=t.y,i=zMe({x:n,y:a},r),s=i.radius,o=i.angle,l=r.innerRadius,c=r.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var u=qMe(r),d=u.startAngle,h=u.endAngle,p=o,g;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;g=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=d}return g?nF(nF({},r),{},{radius:s,angle:WMe(p,r)}):null};function oy(e){"@babel/helpers - typeof";return oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oy(e)}var HMe=["offset"];function GMe(e){return QMe(e)||XMe(e)||YMe(e)||KMe()}function KMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YMe(e,t){if(e){if(typeof e=="string")return nN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nN(e,t)}}function XMe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QMe(e){if(Array.isArray(e))return nN(e)}function nN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function JMe(e,t){if(e==null)return{};var r=ZMe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ZMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function iF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ga(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iF(Object(r),!0).forEach(function(n){e7e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e7e(e,t,r){return t=t7e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t7e(e){var t=r7e(e,"string");return oy(t)=="symbol"?t:t+""}function r7e(e,t){if(oy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(oy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ly(){return ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ly.apply(this,arguments)}var n7e=function(t){var r=t.value,n=t.formatter,a=Gr(t.children)?r:t.children;return qr(n)?n(a):a},a7e=function(t,r){var n=Ol(r-t),a=Math.min(Math.abs(r-t),360);return n*a},i7e=function(t,r,n){var a=t.position,i=t.viewBox,s=t.offset,o=t.className,l=i,c=l.cx,u=l.cy,d=l.innerRadius,h=l.outerRadius,p=l.startAngle,g=l.endAngle,m=l.clockWise,v=(d+h)/2,y=a7e(p,g),b=y>=0?1:-1,x,O;a==="insideStart"?(x=p+b*s,O=m):a==="insideEnd"?(x=g-b*s,O=!m):a==="end"&&(x=g+b*s,O=m),O=y<=0?O:!O;var P=Ni(c,u,v,x),j=Ni(c,u,v,x+(O?1:-1)*359),T="M".concat(P.x,",").concat(P.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(O?0:1,`,
    `).concat(j.x,",").concat(j.y),S=Gr(t.id)?rx("recharts-radial-line-"):t.id;return Be.createElement("text",ly({},n,{dominantBaseline:"central",className:mn("recharts-radial-bar-label",o)}),Be.createElement("defs",null,Be.createElement("path",{id:S,d:T})),Be.createElement("textPath",{xlinkHref:"#".concat(S)},r))},s7e=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,s=i.cx,o=i.cy,l=i.innerRadius,c=i.outerRadius,u=i.startAngle,d=i.endAngle,h=(u+d)/2;if(a==="outside"){var p=Ni(s,o,c+n,h),g=p.x,m=p.y;return{x:g,y:m,textAnchor:g>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,y=Ni(s,o,v,h),b=y.x,x=y.y;return{x:b,y:x,textAnchor:"middle",verticalAnchor:"middle"}},o7e=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,s=r,o=s.x,l=s.y,c=s.width,u=s.height,d=u>=0?1:-1,h=d*a,p=d>0?"end":"start",g=d>0?"start":"end",m=c>=0?1:-1,v=m*a,y=m>0?"end":"start",b=m>0?"start":"end";if(i==="top"){var x={x:o+c/2,y:l-d*a,textAnchor:"middle",verticalAnchor:p};return Ga(Ga({},x),n?{height:Math.max(l-n.y,0),width:c}:{})}if(i==="bottom"){var O={x:o+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:g};return Ga(Ga({},O),n?{height:Math.max(n.y+n.height-(l+u),0),width:c}:{})}if(i==="left"){var P={x:o-v,y:l+u/2,textAnchor:y,verticalAnchor:"middle"};return Ga(Ga({},P),n?{width:Math.max(P.x-n.x,0),height:u}:{})}if(i==="right"){var j={x:o+c+v,y:l+u/2,textAnchor:b,verticalAnchor:"middle"};return Ga(Ga({},j),n?{width:Math.max(n.x+n.width-j.x,0),height:u}:{})}var T=n?{width:c,height:u}:{};return i==="insideLeft"?Ga({x:o+v,y:l+u/2,textAnchor:b,verticalAnchor:"middle"},T):i==="insideRight"?Ga({x:o+c-v,y:l+u/2,textAnchor:y,verticalAnchor:"middle"},T):i==="insideTop"?Ga({x:o+c/2,y:l+h,textAnchor:"middle",verticalAnchor:g},T):i==="insideBottom"?Ga({x:o+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:p},T):i==="insideTopLeft"?Ga({x:o+v,y:l+h,textAnchor:b,verticalAnchor:g},T):i==="insideTopRight"?Ga({x:o+c-v,y:l+h,textAnchor:y,verticalAnchor:g},T):i==="insideBottomLeft"?Ga({x:o+v,y:l+u-h,textAnchor:b,verticalAnchor:p},T):i==="insideBottomRight"?Ga({x:o+c-v,y:l+u-h,textAnchor:y,verticalAnchor:p},T):$m(i)&&(Ut(i.x)||ah(i.x))&&(Ut(i.y)||ah(i.y))?Ga({x:o+Dh(i.x,c),y:l+Dh(i.y,u),textAnchor:"end",verticalAnchor:"end"},T):Ga({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},T)},l7e=function(t){return"cx"in t&&Ut(t.cx)};function Qi(e){var t=e.offset,r=t===void 0?5:t,n=JMe(e,HMe),a=Ga({offset:r},n),i=a.viewBox,s=a.position,o=a.value,l=a.children,c=a.content,u=a.className,d=u===void 0?"":u,h=a.textBreakAll;if(!i||Gr(o)&&Gr(l)&&!F.isValidElement(c)&&!qr(c))return null;if(F.isValidElement(c))return F.cloneElement(c,a);var p;if(qr(c)){if(p=F.createElement(c,a),F.isValidElement(p))return p}else p=n7e(a);var g=l7e(i),m=nn(a,!0);if(g&&(s==="insideStart"||s==="insideEnd"||s==="end"))return i7e(a,p,m);var v=g?s7e(a):o7e(a);return Be.createElement(Xw,ly({className:mn("recharts-label",d)},m,v,{breakAll:h}),p)}Qi.displayName="Label";var bX=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,s=t.endAngle,o=t.r,l=t.radius,c=t.innerRadius,u=t.outerRadius,d=t.x,h=t.y,p=t.top,g=t.left,m=t.width,v=t.height,y=t.clockWise,b=t.labelViewBox;if(b)return b;if(Ut(m)&&Ut(v)){if(Ut(d)&&Ut(h))return{x:d,y:h,width:m,height:v};if(Ut(p)&&Ut(g))return{x:p,y:g,width:m,height:v}}return Ut(d)&&Ut(h)?{x:d,y:h,width:0,height:0}:Ut(r)&&Ut(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:s||a||0,innerRadius:c||0,outerRadius:u||l||o||0,clockWise:y}:t.viewBox?t.viewBox:{}},c7e=function(t,r){return t?t===!0?Be.createElement(Qi,{key:"label-implicit",viewBox:r}):Za(t)?Be.createElement(Qi,{key:"label-implicit",viewBox:r,value:t}):F.isValidElement(t)?t.type===Qi?F.cloneElement(t,{key:"label-implicit",viewBox:r}):Be.createElement(Qi,{key:"label-implicit",content:t,viewBox:r}):qr(t)?Be.createElement(Qi,{key:"label-implicit",content:t,viewBox:r}):$m(t)?Be.createElement(Qi,ly({viewBox:r},t,{key:"label-implicit"})):null:null},u7e=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=bX(t),s=Go(a,Qi).map(function(l,c){return F.cloneElement(l,{viewBox:r||i,key:"label-".concat(c)})});if(!n)return s;var o=c7e(t.label,r||i);return[o].concat(GMe(s))};Qi.parseViewBox=bX;Qi.renderCallByParent=u7e;function f7e(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var d7e=f7e;const h7e=Dn(d7e);function cy(e){"@babel/helpers - typeof";return cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cy(e)}var p7e=["valueAccessor"],m7e=["data","dataKey","clockWise","id","textBreakAll"];function g7e(e){return b7e(e)||x7e(e)||y7e(e)||v7e()}function v7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y7e(e,t){if(e){if(typeof e=="string")return aN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aN(e,t)}}function x7e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function b7e(e){if(Array.isArray(e))return aN(e)}function aN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d5(){return d5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d5.apply(this,arguments)}function sF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sF(Object(r),!0).forEach(function(n){w7e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w7e(e,t,r){return t=_7e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _7e(e){var t=S7e(e,"string");return cy(t)=="symbol"?t:t+""}function S7e(e,t){if(cy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(cy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lF(e,t){if(e==null)return{};var r=A7e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function A7e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var T7e=function(t){return Array.isArray(t.value)?h7e(t.value):t.value};function Jf(e){var t=e.valueAccessor,r=t===void 0?T7e:t,n=lF(e,p7e),a=n.data,i=n.dataKey,s=n.clockWise,o=n.id,l=n.textBreakAll,c=lF(n,m7e);return!a||!a.length?null:Be.createElement(Ca,{className:"recharts-label-list"},a.map(function(u,d){var h=Gr(i)?r(u,d):vo(u&&u.payload,i),p=Gr(o)?{}:{id:"".concat(o,"-").concat(d)};return Be.createElement(Qi,d5({},nn(u,!0),c,p,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:Qi.parseViewBox(Gr(s)?u:oF(oF({},u),{},{clockWise:s})),key:"label-".concat(d),index:d}))}))}Jf.displayName="LabelList";function E7e(e,t){return e?e===!0?Be.createElement(Jf,{key:"labelList-implicit",data:t}):Be.isValidElement(e)||qr(e)?Be.createElement(Jf,{key:"labelList-implicit",data:t,content:e}):$m(e)?Be.createElement(Jf,d5({data:t},e,{key:"labelList-implicit"})):null:null}function N7e(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Go(n,Jf).map(function(s,o){return F.cloneElement(s,{data:t,key:"labelList-".concat(o)})});if(!r)return a;var i=E7e(e.label,t);return[i].concat(g7e(a))}Jf.renderCallByParent=N7e;function uy(e){"@babel/helpers - typeof";return uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uy(e)}function iN(){return iN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iN.apply(this,arguments)}function cF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cF(Object(r),!0).forEach(function(n){k7e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k7e(e,t,r){return t=C7e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C7e(e){var t=P7e(e,"string");return uy(t)=="symbol"?t:t+""}function P7e(e,t){if(uy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(uy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var j7e=function(t,r){var n=Ol(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},C2=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,s=t.sign,o=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,u=l*(o?1:-1)+a,d=Math.asin(l/u)/f5,h=c?i:i+s*d,p=Ni(r,n,u,h),g=Ni(r,n,a,h),m=c?i-s*d:i,v=Ni(r,n,u*Math.cos(d*f5),m);return{center:p,circleTangency:g,lineTangency:v,theta:d}},wX=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.startAngle,o=t.endAngle,l=j7e(s,o),c=s+l,u=Ni(r,n,i,s),d=Ni(r,n,i,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(a>0){var p=Ni(r,n,a,s),g=Ni(r,n,a,c);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},O7e=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.cornerRadius,o=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,u=t.endAngle,d=Ol(u-c),h=C2({cx:r,cy:n,radius:i,angle:c,sign:d,cornerRadius:s,cornerIsExternal:l}),p=h.circleTangency,g=h.lineTangency,m=h.theta,v=C2({cx:r,cy:n,radius:i,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:l}),y=v.circleTangency,b=v.lineTangency,x=v.theta,O=l?Math.abs(c-u):Math.abs(c-u)-m-x;if(O<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):wX({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:c,endAngle:u});var P="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(O>180),",").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var j=C2({cx:r,cy:n,radius:a,angle:c,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),T=j.circleTangency,S=j.lineTangency,_=j.theta,D=C2({cx:r,cy:n,radius:a,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),E=D.circleTangency,N=D.lineTangency,k=D.theta,V=l?Math.abs(c-u):Math.abs(c-u)-_-k;if(V<0&&s===0)return"".concat(P,"L").concat(r,",").concat(n,"Z");P+="L".concat(N.x,",").concat(N.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(V>180),",").concat(+(d>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(S.x,",").concat(S.y,"Z")}else P+="L".concat(r,",").concat(n,"Z");return P},I7e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},_X=function(t){var r=uF(uF({},I7e),t),n=r.cx,a=r.cy,i=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,u=r.startAngle,d=r.endAngle,h=r.className;if(s<i||u===d)return null;var p=mn("recharts-sector",h),g=s-i,m=Dh(o,g,0,!0),v;return m>0&&Math.abs(u-d)<360?v=O7e({cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(m,g/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):v=wX({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d}),Be.createElement("path",iN({},nn(r,!0),{className:p,d:v,role:"img"}))};function fy(e){"@babel/helpers - typeof";return fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fy(e)}function sN(){return sN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sN.apply(this,arguments)}function fF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fF(Object(r),!0).forEach(function(n){D7e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function D7e(e,t,r){return t=L7e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L7e(e){var t=M7e(e,"string");return fy(t)=="symbol"?t:t+""}function M7e(e,t){if(fy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(fy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hF={curveBasisClosed:D3e,curveBasisOpen:L3e,curveBasis:I3e,curveBumpX:x3e,curveBumpY:b3e,curveLinearClosed:M3e,curveLinear:aS,curveMonotoneX:R3e,curveMonotoneY:F3e,curveNatural:$3e,curveStep:B3e,curveStepAfter:V3e,curveStepBefore:U3e},P2=function(t){return t.x===+t.x&&t.y===+t.y},Dg=function(t){return t.x},Lg=function(t){return t.y},R7e=function(t,r){if(qr(t))return t;var n="curve".concat(rS(t));return(n==="curveMonotone"||n==="curveBump")&&r?hF["".concat(n).concat(r==="vertical"?"Y":"X")]:hF[n]||aS},F7e=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,s=t.baseLine,o=t.layout,l=t.connectNulls,c=l===void 0?!1:l,u=R7e(n,o),d=c?i.filter(function(m){return P2(m)}):i,h;if(Array.isArray(s)){var p=c?s.filter(function(m){return P2(m)}):s,g=d.map(function(m,v){return dF(dF({},m),{},{base:p[v]})});return o==="vertical"?h=b2().y(Lg).x1(Dg).x0(function(m){return m.base.x}):h=b2().x(Dg).y1(Lg).y0(function(m){return m.base.y}),h.defined(P2).curve(u),h(g)}return o==="vertical"&&Ut(s)?h=b2().y(Lg).x1(Dg).x0(s):Ut(s)?h=b2().x(Dg).y1(Lg).y0(s):h=_K().x(Dg).y(Lg),h.defined(P2).curve(u),h(d)},oN=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var s=n&&n.length?F7e(t):a;return F.createElement("path",sN({},nn(t,!1),Lw(t),{className:mn("recharts-curve",r),d:s,ref:i}))},SX={exports:{}},$7e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",B7e=$7e,U7e=B7e;function AX(){}function TX(){}TX.resetWarningCache=AX;var V7e=function(){function e(n,a,i,s,o,l){if(l!==U7e){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:TX,resetWarningCache:AX};return r.PropTypes=r,r};SX.exports=V7e();var z7e=SX.exports;const An=Dn(z7e);var q7e=Object.getOwnPropertyNames,W7e=Object.getOwnPropertySymbols,H7e=Object.prototype.hasOwnProperty;function pF(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function j2(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,s=i.get(r),o=i.get(n);if(s&&o)return s===n&&o===r;i.set(r,n),i.set(n,r);var l=e(r,n,a);return i.delete(r),i.delete(n),l}}function mF(e){return q7e(e).concat(W7e(e))}var G7e=Object.hasOwn||function(e,t){return H7e.call(e,t)};function Zh(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var K7e="__v",Y7e="__o",X7e="_owner",gF=Object.getOwnPropertyDescriptor,vF=Object.keys;function Q7e(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function J7e(e,t){return Zh(e.getTime(),t.getTime())}function Z7e(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function eRe(e,t){return e===t}function yF(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),s,o,l=0;(s=i.next())&&!s.done;){for(var c=t.entries(),u=!1,d=0;(o=c.next())&&!o.done;){if(a[d]){d++;continue}var h=s.value,p=o.value;if(r.equals(h[0],p[0],l,d,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1;l++}return!0}var tRe=Zh;function rRe(e,t,r){var n=vF(e),a=n.length;if(vF(t).length!==a)return!1;for(;a-- >0;)if(!EX(e,t,r,n[a]))return!1;return!0}function Mg(e,t,r){var n=mF(e),a=n.length;if(mF(t).length!==a)return!1;for(var i,s,o;a-- >0;)if(i=n[a],!EX(e,t,r,i)||(s=gF(e,i),o=gF(t,i),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function nRe(e,t){return Zh(e.valueOf(),t.valueOf())}function aRe(e,t){return e.source===t.source&&e.flags===t.flags}function xF(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),s,o;(s=i.next())&&!s.done;){for(var l=t.values(),c=!1,u=0;(o=l.next())&&!o.done;){if(!a[u]&&r.equals(s.value,o.value,s.value,o.value,e,t,r)){c=a[u]=!0;break}u++}if(!c)return!1}return!0}function iRe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function sRe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function EX(e,t,r,n){return(n===X7e||n===Y7e||n===K7e)&&(e.$$typeof||t.$$typeof)?!0:G7e(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var oRe="[object Arguments]",lRe="[object Boolean]",cRe="[object Date]",uRe="[object Error]",fRe="[object Map]",dRe="[object Number]",hRe="[object Object]",pRe="[object RegExp]",mRe="[object Set]",gRe="[object String]",vRe="[object URL]",yRe=Array.isArray,bF=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,wF=Object.assign,xRe=Object.prototype.toString.call.bind(Object.prototype.toString);function bRe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,s=e.areNumbersEqual,o=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,d=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(g,m,v){if(g===m)return!0;if(g==null||m==null)return!1;var y=typeof g;if(y!==typeof m)return!1;if(y!=="object")return y==="number"?s(g,m,v):y==="function"?a(g,m,v):!1;var b=g.constructor;if(b!==m.constructor)return!1;if(b===Object)return o(g,m,v);if(yRe(g))return t(g,m,v);if(bF!=null&&bF(g))return d(g,m,v);if(b===Date)return r(g,m,v);if(b===RegExp)return c(g,m,v);if(b===Map)return i(g,m,v);if(b===Set)return u(g,m,v);var x=xRe(g);return x===cRe?r(g,m,v):x===pRe?c(g,m,v):x===fRe?i(g,m,v):x===mRe?u(g,m,v):x===hRe?typeof g.then!="function"&&typeof m.then!="function"&&o(g,m,v):x===vRe?h(g,m,v):x===uRe?n(g,m,v):x===oRe?o(g,m,v):x===lRe||x===dRe||x===gRe?l(g,m,v):!1}}function wRe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Mg:Q7e,areDatesEqual:J7e,areErrorsEqual:Z7e,areFunctionsEqual:eRe,areMapsEqual:n?pF(yF,Mg):yF,areNumbersEqual:tRe,areObjectsEqual:n?Mg:rRe,arePrimitiveWrappersEqual:nRe,areRegExpsEqual:aRe,areSetsEqual:n?pF(xF,Mg):xF,areTypedArraysEqual:n?Mg:iRe,areUrlsEqual:sRe};if(r&&(a=wF({},a,r(a))),t){var i=j2(a.areArraysEqual),s=j2(a.areMapsEqual),o=j2(a.areObjectsEqual),l=j2(a.areSetsEqual);a=wF({},a,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return a}function _Re(e){return function(t,r,n,a,i,s,o){return e(t,r,o)}}function SRe(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(l,c){var u=n(),d=u.cache,h=d===void 0?t?new WeakMap:void 0:d,p=u.meta;return r(l,c,{cache:h,equals:a,meta:p,strict:i})};if(t)return function(l,c){return r(l,c,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var s={cache:void 0,equals:a,meta:void 0,strict:i};return function(l,c){return r(l,c,s)}}var ARe=Sd();Sd({strict:!0});Sd({circular:!0});Sd({circular:!0,strict:!0});Sd({createInternalComparator:function(){return Zh}});Sd({strict:!0,createInternalComparator:function(){return Zh}});Sd({circular:!0,createInternalComparator:function(){return Zh}});Sd({circular:!0,createInternalComparator:function(){return Zh},strict:!0});function Sd(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,s=i===void 0?!1:i,o=wRe(e),l=bRe(o),c=n?n(l):_Re(l);return SRe({circular:r,comparator:l,createState:a,equals:c,strict:s})}function TRe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function _F(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):TRe(a)};requestAnimationFrame(n)}function lN(e){"@babel/helpers - typeof";return lN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lN(e)}function ERe(e){return PRe(e)||CRe(e)||kRe(e)||NRe()}function NRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kRe(e,t){if(e){if(typeof e=="string")return SF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SF(e,t)}}function SF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function CRe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function PRe(e){if(Array.isArray(e))return e}function jRe(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var s=i,o=ERe(s),l=o[0],c=o.slice(1);if(typeof l=="number"){_F(a.bind(null,c),l);return}a(l),_F(a.bind(null,c));return}lN(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function dy(e){"@babel/helpers - typeof";return dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dy(e)}function AF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function TF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AF(Object(r),!0).forEach(function(n){NX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NX(e,t,r){return t=ORe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ORe(e){var t=IRe(e,"string");return dy(t)==="symbol"?t:String(t)}function IRe(e,t){if(dy(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(dy(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DRe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},LRe=function(t){return t},MRe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},$v=function(t,r){return Object.keys(r).reduce(function(n,a){return TF(TF({},n),{},NX({},a,t(a,r[a])))},{})},EF=function(t,r,n){return t.map(function(a){return"".concat(MRe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function RRe(e,t){return BRe(e)||$Re(e,t)||kX(e,t)||FRe()}function FRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Re(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function BRe(e){if(Array.isArray(e))return e}function URe(e){return qRe(e)||zRe(e)||kX(e)||VRe()}function VRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kX(e,t){if(e){if(typeof e=="string")return cN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cN(e,t)}}function zRe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qRe(e){if(Array.isArray(e))return cN(e)}function cN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var h5=1e-4,CX=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},PX=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},NF=function(t,r){return function(n){var a=CX(t,r);return PX(a,n)}},WRe=function(t,r){return function(n){var a=CX(t,r),i=[].concat(URe(a.map(function(s,o){return s*o}).slice(1)),[0]);return PX(i,n)}},kF=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,s=1,o=1;break;case"ease":a=.25,i=.1,s=.25,o=1;break;case"ease-in":a=.42,i=0,s=1,o=1;break;case"ease-out":a=.42,i=0,s=.58,o=1;break;case"ease-in-out":a=0,i=0,s=.58,o=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),u=RRe(c,4);a=u[0],i=u[1],s=u[2],o=u[3]}}}var d=NF(a,s),h=NF(i,o),p=WRe(a,s),g=function(y){return y>1?1:y<0?0:y},m=function(y){for(var b=y>1?1:y,x=b,O=0;O<8;++O){var P=d(x)-b,j=p(x);if(Math.abs(P-b)<h5||j<h5)return h(x);x=g(x-P/j)}return h(x)};return m.isStepper=!1,m},HRe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,s=t.dt,o=s===void 0?17:s,l=function(u,d,h){var p=-(u-d)*n,g=h*i,m=h+(p-g)*o/1e3,v=h*o/1e3+u;return Math.abs(v-d)<h5&&Math.abs(m)<h5?[d,0]:[v,m]};return l.isStepper=!0,l.dt=o,l},GRe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return kF(a);case"spring":return HRe();default:if(a.split("(")[0]==="cubic-bezier")return kF(a)}return typeof a=="function"?a:null};function hy(e){"@babel/helpers - typeof";return hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hy(e)}function CF(e){return XRe(e)||YRe(e)||jX(e)||KRe()}function KRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YRe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function XRe(e){if(Array.isArray(e))return fN(e)}function PF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PF(Object(r),!0).forEach(function(n){uN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uN(e,t,r){return t=QRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QRe(e){var t=JRe(e,"string");return hy(t)==="symbol"?t:String(t)}function JRe(e,t){if(hy(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hy(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZRe(e,t){return rFe(e)||tFe(e,t)||jX(e,t)||eFe()}function eFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jX(e,t){if(e){if(typeof e=="string")return fN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fN(e,t)}}function fN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tFe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function rFe(e){if(Array.isArray(e))return e}var p5=function(t,r,n){return t+(r-t)*n},dN=function(t){var r=t.from,n=t.to;return r!==n},nFe=function e(t,r,n){var a=$v(function(i,s){if(dN(s)){var o=t(s.from,s.to,s.velocity),l=ZRe(o,2),c=l[0],u=l[1];return wi(wi({},s),{},{from:c,velocity:u})}return s},r);return n<1?$v(function(i,s){return dN(s)?wi(wi({},s),{},{velocity:p5(s.velocity,a[i].velocity,n),from:p5(s.from,a[i].from,n)}):s},r):e(t,a,n-1)};const aFe=function(e,t,r,n,a){var i=DRe(e,t),s=i.reduce(function(v,y){return wi(wi({},v),{},uN({},y,[e[y],t[y]]))},{}),o=i.reduce(function(v,y){return wi(wi({},v),{},uN({},y,{from:e[y],velocity:0,to:t[y]}))},{}),l=-1,c,u,d=function(){return null},h=function(){return $v(function(y,b){return b.from},o)},p=function(){return!Object.values(o).filter(dN).length},g=function(y){c||(c=y);var b=y-c,x=b/r.dt;o=nFe(r,o,x),a(wi(wi(wi({},e),t),h())),c=y,p()||(l=requestAnimationFrame(d))},m=function(y){u||(u=y);var b=(y-u)/n,x=$v(function(P,j){return p5.apply(void 0,CF(j).concat([r(b)]))},s);if(a(wi(wi(wi({},e),t),x)),b<1)l=requestAnimationFrame(d);else{var O=$v(function(P,j){return p5.apply(void 0,CF(j).concat([r(1)]))},s);a(wi(wi(wi({},e),t),O))}};return d=r.isStepper?g:m,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function am(e){"@babel/helpers - typeof";return am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},am(e)}var iFe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function sFe(e,t){if(e==null)return{};var r=oFe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oFe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function M4(e){return fFe(e)||uFe(e)||cFe(e)||lFe()}function lFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cFe(e,t){if(e){if(typeof e=="string")return hN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hN(e,t)}}function uFe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fFe(e){if(Array.isArray(e))return hN(e)}function hN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jF(Object(r),!0).forEach(function(n){rv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rv(e,t,r){return t=OX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OX(n.key),n)}}function pFe(e,t,r){return t&&hFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function OX(e){var t=mFe(e,"string");return am(t)==="symbol"?t:String(t)}function mFe(e,t){if(am(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(am(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pN(e,t)}function pN(e,t){return pN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},pN(e,t)}function vFe(e){var t=yFe();return function(){var n=m5(e),a;if(t){var i=m5(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return mN(this,a)}}function mN(e,t){if(t&&(am(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gN(e)}function gN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yFe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function m5(e){return m5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},m5(e)}var Tu=function(e){gFe(r,e);var t=vFe(r);function r(n,a){var i;dFe(this,r),i=t.call(this,n,a);var s=i.props,o=s.isActive,l=s.attributeName,c=s.from,u=s.to,d=s.steps,h=s.children,p=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind(gN(i)),i.changeStyle=i.changeStyle.bind(gN(i)),!o||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:u}),mN(i);if(d&&d.length)i.state={style:d[0].style};else if(c){if(typeof h=="function")return i.state={style:c},mN(i);i.state={style:l?rv({},l,c):c}}else i.state={style:{}};return i}return pFe(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,o=i.canBegin,l=i.attributeName,c=i.shouldReAnimate,u=i.to,d=i.from,h=this.state.style;if(o){if(!s){var p={style:l?rv({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(p);return}if(!(ARe(a.to,u)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||c?d:a.to;if(this.state&&h){var v={style:l?rv({},l,m):m};(l&&h[l]!==m||!l&&h!==m)&&this.setState(v)}this.runAnimation(pl(pl({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,o=a.to,l=a.duration,c=a.easing,u=a.begin,d=a.onAnimationEnd,h=a.onAnimationStart,p=aFe(s,o,GRe(c),l,this.changeStyle),g=function(){i.stopJSAnimation=p()};this.manager.start([h,u,g,l,d])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,o=a.begin,l=a.onAnimationStart,c=s[0],u=c.style,d=c.duration,h=d===void 0?0:d,p=function(m,v,y){if(y===0)return m;var b=v.duration,x=v.easing,O=x===void 0?"ease":x,P=v.style,j=v.properties,T=v.onAnimationEnd,S=y>0?s[y-1]:v,_=j||Object.keys(P);if(typeof O=="function"||O==="spring")return[].concat(M4(m),[i.runJSAnimation.bind(i,{from:S.style,to:P,duration:b,easing:O}),b]);var D=EF(_,b,O),E=pl(pl(pl({},S.style),P),{},{transition:D});return[].concat(M4(m),[E,b,T]).filter(LRe)};return this.manager.start([l].concat(M4(s.reduce(p,[u,Math.max(h,o)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=jRe());var i=a.begin,s=a.duration,o=a.attributeName,l=a.to,c=a.easing,u=a.onAnimationStart,d=a.onAnimationEnd,h=a.steps,p=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var m=o?rv({},o,l):l,v=EF(Object.keys(m),s,c);g.start([u,i,pl(pl({},m),{},{transition:v}),s,d])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var o=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=sFe(a,iFe),c=F.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!o||c===0||s<=0)return i;var d=function(p){var g=p.props,m=g.style,v=m===void 0?{}:m,y=g.className,b=F.cloneElement(p,pl(pl({},l),{},{style:pl(pl({},v),u),className:y}));return b};return c===1?d(F.Children.only(i)):Be.createElement("div",null,F.Children.map(i,function(h){return d(h)}))}}]),r}(F.PureComponent);Tu.displayName="Animate";Tu.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Tu.propTypes={from:An.oneOfType([An.object,An.string]),to:An.oneOfType([An.object,An.string]),attributeName:An.string,duration:An.number,begin:An.number,easing:An.oneOfType([An.string,An.func]),steps:An.arrayOf(An.shape({duration:An.number.isRequired,style:An.object.isRequired,easing:An.oneOfType([An.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),An.func]),properties:An.arrayOf("string"),onAnimationEnd:An.func})),children:An.oneOfType([An.node,An.func]),isActive:An.bool,canBegin:An.bool,onAnimationEnd:An.func,shouldReAnimate:An.bool,onAnimationStart:An.func,onAnimationReStart:An.func};function py(e){"@babel/helpers - typeof";return py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},py(e)}function g5(){return g5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g5.apply(this,arguments)}function xFe(e,t){return SFe(e)||_Fe(e,t)||wFe(e,t)||bFe()}function bFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wFe(e,t){if(e){if(typeof e=="string")return OF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OF(e,t)}}function OF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _Fe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function SFe(e){if(Array.isArray(e))return e}function IF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function DF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IF(Object(r),!0).forEach(function(n){AFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AFe(e,t,r){return t=TFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TFe(e){var t=EFe(e,"string");return py(t)=="symbol"?t:t+""}function EFe(e,t){if(py(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(py(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LF=function(t,r,n,a,i){var s=Math.min(Math.abs(n)/2,Math.abs(a)/2),o=a>=0?1:-1,l=n>=0?1:-1,c=a>=0&&n>=0||a<0&&n<0?1:0,u;if(s>0&&i instanceof Array){for(var d=[0,0,0,0],h=0,p=4;h<p;h++)d[h]=i[h]>s?s:i[h];u="M".concat(t,",").concat(r+o*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(t+l*d[0],",").concat(r)),u+="L ".concat(t+n-l*d[1],",").concat(r),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(r+o*d[1])),u+="L ".concat(t+n,",").concat(r+a-o*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(t+n-l*d[2],",").concat(r+a)),u+="L ".concat(t+l*d[3],",").concat(r+a),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(r+a-o*d[3])),u+="Z"}else if(s>0&&i===+i&&i>0){var g=Math.min(s,i);u="M ".concat(t,",").concat(r+o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+l*g,",").concat(r,`
            L `).concat(t+n-l*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+n,",").concat(r+o*g,`
            L `).concat(t+n,",").concat(r+a-o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+n-l*g,",").concat(r+a,`
            L `).concat(t+l*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t,",").concat(r+a-o*g," Z")}else u="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return u},NFe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,s=r.y,o=r.width,l=r.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(i,i+o),u=Math.max(i,i+o),d=Math.min(s,s+l),h=Math.max(s,s+l);return n>=c&&n<=u&&a>=d&&a<=h}return!1},kFe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},oj=function(t){var r=DF(DF({},kFe),t),n=F.useRef(),a=F.useState(-1),i=xFe(a,2),s=i[0],o=i[1];F.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var O=n.current.getTotalLength();O&&o(O)}catch{}},[]);var l=r.x,c=r.y,u=r.width,d=r.height,h=r.radius,p=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,y=r.isAnimationActive,b=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||u===0||d===0)return null;var x=mn("recharts-rectangle",p);return b?Be.createElement(Tu,{canBegin:s>0,from:{width:u,height:d,x:l,y:c},to:{width:u,height:d,x:l,y:c},duration:m,animationEasing:g,isActive:b},function(O){var P=O.width,j=O.height,T=O.x,S=O.y;return Be.createElement(Tu,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,isActive:y,easing:g},Be.createElement("path",g5({},nn(r,!0),{className:x,d:LF(T,S,P,j,h),ref:n})))}):Be.createElement("path",g5({},nn(r,!0),{className:x,d:LF(l,c,u,d,h)}))};function vN(){return vN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vN.apply(this,arguments)}var lj=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,s=mn("recharts-dot",i);return r===+r&&n===+n&&a===+a?F.createElement("circle",vN({},nn(t,!1),Lw(t),{className:s,cx:r,cy:n,r:a})):null};function my(e){"@babel/helpers - typeof";return my=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},my(e)}var CFe=["x","y","top","left","width","height","className"];function yN(){return yN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yN.apply(this,arguments)}function MF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PFe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MF(Object(r),!0).forEach(function(n){jFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jFe(e,t,r){return t=OFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OFe(e){var t=IFe(e,"string");return my(t)=="symbol"?t:t+""}function IFe(e,t){if(my(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(my(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DFe(e,t){if(e==null)return{};var r=LFe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var MFe=function(t,r,n,a,i,s){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(s,",").concat(r,"h").concat(n)},RFe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.top,o=s===void 0?0:s,l=t.left,c=l===void 0?0:l,u=t.width,d=u===void 0?0:u,h=t.height,p=h===void 0?0:h,g=t.className,m=DFe(t,CFe),v=PFe({x:n,y:i,top:o,left:c,width:d,height:p},m);return!Ut(n)||!Ut(i)||!Ut(d)||!Ut(p)||!Ut(o)||!Ut(c)?null:Be.createElement("path",yN({},nn(v,!0),{className:mn("recharts-cross",g),d:MFe(n,i,d,p,o,c)}))},FFe=HK,$Fe=FFe(Object.getPrototypeOf,Object),BFe=$Fe,UFe=Ou,VFe=BFe,zFe=Iu,qFe="[object Object]",WFe=Function.prototype,HFe=Object.prototype,IX=WFe.toString,GFe=HFe.hasOwnProperty,KFe=IX.call(Object);function YFe(e){if(!zFe(e)||UFe(e)!=qFe)return!1;var t=VFe(e);if(t===null)return!0;var r=GFe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&IX.call(r)==KFe}var XFe=YFe;const QFe=Dn(XFe);var JFe=Ou,ZFe=Iu,e$e="[object Boolean]";function t$e(e){return e===!0||e===!1||ZFe(e)&&JFe(e)==e$e}var r$e=t$e;const n$e=Dn(r$e);function gy(e){"@babel/helpers - typeof";return gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gy(e)}function v5(){return v5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v5.apply(this,arguments)}function a$e(e,t){return l$e(e)||o$e(e,t)||s$e(e,t)||i$e()}function i$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s$e(e,t){if(e){if(typeof e=="string")return RF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RF(e,t)}}function RF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o$e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function l$e(e){if(Array.isArray(e))return e}function FF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $F(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FF(Object(r),!0).forEach(function(n){c$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c$e(e,t,r){return t=u$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u$e(e){var t=f$e(e,"string");return gy(t)=="symbol"?t:t+""}function f$e(e,t){if(gy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BF=function(t,r,n,a,i){var s=n-a,o;return o="M ".concat(t,",").concat(r),o+="L ".concat(t+n,",").concat(r),o+="L ".concat(t+n-s/2,",").concat(r+i),o+="L ".concat(t+n-s/2-a,",").concat(r+i),o+="L ".concat(t,",").concat(r," Z"),o},d$e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},h$e=function(t){var r=$F($F({},d$e),t),n=F.useRef(),a=F.useState(-1),i=a$e(a,2),s=i[0],o=i[1];F.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var x=n.current.getTotalLength();x&&o(x)}catch{}},[]);var l=r.x,c=r.y,u=r.upperWidth,d=r.lowerWidth,h=r.height,p=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,y=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||h!==+h||u===0&&d===0||h===0)return null;var b=mn("recharts-trapezoid",p);return y?Be.createElement(Tu,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:d,height:h,x:l,y:c},duration:m,animationEasing:g,isActive:y},function(x){var O=x.upperWidth,P=x.lowerWidth,j=x.height,T=x.x,S=x.y;return Be.createElement(Tu,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,easing:g},Be.createElement("path",v5({},nn(r,!0),{className:b,d:BF(T,S,O,P,j),ref:n})))}):Be.createElement("g",null,Be.createElement("path",v5({},nn(r,!0),{className:b,d:BF(l,c,u,d,h)})))},p$e=["option","shapeType","propTransformer","activeClassName","isActive"];function vy(e){"@babel/helpers - typeof";return vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vy(e)}function m$e(e,t){if(e==null)return{};var r=g$e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function g$e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function UF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function y5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UF(Object(r),!0).forEach(function(n){v$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v$e(e,t,r){return t=y$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y$e(e){var t=x$e(e,"string");return vy(t)=="symbol"?t:t+""}function x$e(e,t){if(vy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function b$e(e,t){return y5(y5({},t),e)}function w$e(e,t){return e==="symbols"}function VF(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return Be.createElement(oj,r);case"trapezoid":return Be.createElement(h$e,r);case"sector":return Be.createElement(_X,r);case"symbols":if(w$e(t))return Be.createElement(E6,r);break;default:return null}}function _$e(e){return F.isValidElement(e)?e.props:e}function S$e(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?b$e:n,i=e.activeClassName,s=i===void 0?"recharts-active-shape":i,o=e.isActive,l=m$e(e,p$e),c;if(F.isValidElement(t))c=F.cloneElement(t,y5(y5({},l),_$e(t)));else if(qr(t))c=t(l);else if(QFe(t)&&!n$e(t)){var u=a(t,l);c=Be.createElement(VF,{shapeType:r,elementProps:u})}else{var d=l;c=Be.createElement(VF,{shapeType:r,elementProps:d})}return o?Be.createElement(Ca,{className:s},c):c}function bS(e,t){return t!=null&&"trapezoids"in e.props}function wS(e,t){return t!=null&&"sectors"in e.props}function yy(e,t){return t!=null&&"points"in e.props}function A$e(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function T$e(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function E$e(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function N$e(e,t){var r;return bS(e,t)?r=A$e:wS(e,t)?r=T$e:yy(e,t)&&(r=E$e),r}function k$e(e,t){var r;return bS(e,t)?r="trapezoids":wS(e,t)?r="sectors":yy(e,t)&&(r="points"),r}function C$e(e,t){if(bS(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(wS(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return yy(e,t)?t.payload:{}}function P$e(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=k$e(r,t),i=C$e(r,t),s=n.filter(function(l,c){var u=vS(i,l),d=r.props[a].filter(function(g){var m=N$e(r,t);return m(g,t)}),h=r.props[a].indexOf(d[d.length-1]),p=c===h;return u&&p}),o=n.indexOf(s[s.length-1]);return o}var j$e=Math.ceil,O$e=Math.max;function I$e(e,t,r,n){for(var a=-1,i=O$e(j$e((t-e)/(r||1)),0),s=Array(i);i--;)s[n?i:++a]=e,e+=r;return s}var D$e=I$e,L$e=fY,zF=1/0,M$e=17976931348623157e292;function R$e(e){if(!e)return e===0?e:0;if(e=L$e(e),e===zF||e===-zF){var t=e<0?-1:1;return t*M$e}return e===e?e:0}var DX=R$e,F$e=D$e,$$e=lS,R4=DX;function B$e(e){return function(t,r,n){return n&&typeof n!="number"&&$$e(t,r,n)&&(r=n=void 0),t=R4(t),r===void 0?(r=t,t=0):r=R4(r),n=n===void 0?t<r?1:-1:R4(n),F$e(t,r,n,e)}}var U$e=B$e,V$e=U$e,z$e=V$e(),q$e=z$e;const x5=Dn(q$e);function xy(e){"@babel/helpers - typeof";return xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xy(e)}function qF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function WF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qF(Object(r),!0).forEach(function(n){LX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LX(e,t,r){return t=W$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W$e(e){var t=H$e(e,"string");return xy(t)=="symbol"?t:t+""}function H$e(e,t){if(xy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var G$e=["Webkit","Moz","O","ms"],K$e=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=G$e.reduce(function(i,s){return WF(WF({},i),{},LX({},s+n,r))},{});return a[t]=r,a};function im(e){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},im(e)}function b5(){return b5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b5.apply(this,arguments)}function HF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function F4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HF(Object(r),!0).forEach(function(n){no(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Y$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RX(n.key),n)}}function X$e(e,t,r){return t&&GF(e.prototype,t),r&&GF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Q$e(e,t,r){return t=w5(t),J$e(e,MX()?Reflect.construct(t,r||[],w5(e).constructor):t.apply(e,r))}function J$e(e,t){if(t&&(im(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Z$e(e)}function Z$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MX=function(){return!!e})()}function w5(e){return w5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},w5(e)}function e9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xN(e,t)}function xN(e,t){return xN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xN(e,t)}function no(e,t,r){return t=RX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RX(e){var t=t9e(e,"string");return im(t)=="symbol"?t:t+""}function t9e(e,t){if(im(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var r9e=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,s=t.width,o=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=Rv().domain(x5(0,l)).range([i,i+s-o]),u=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(a),scale:c,scaleValues:u}},KF=function(t){return t.changedTouches&&!!t.changedTouches.length},sm=function(e){function t(r){var n;return Y$e(this,t),n=Q$e(this,t,[r]),no(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),no(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),no(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,s=a.onDragEnd,o=a.startIndex;s==null||s({endIndex:i,startIndex:o})}),n.detachDragEndListener()}),no(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),no(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),no(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),no(n,"handleSlideDragStart",function(a){var i=KF(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return e9e(t,e),X$e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,s=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,u=c.length-1,d=Math.min(a,i),h=Math.max(a,i),p=t.getIndexInRange(s,d),g=t.getIndexInRange(s,h);return{startIndex:p-p%l,endIndex:g===u?u:g-g%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,s=a.tickFormatter,o=a.dataKey,l=vo(i[n],o,n);return qr(s)?s(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,s=a.startX,o=a.endX,l=this.props,c=l.x,u=l.width,d=l.travellerWidth,h=l.startIndex,p=l.endIndex,g=l.onChange,m=n.pageX-i;m>0?m=Math.min(m,c+u-d-o,c+u-d-s):m<0&&(m=Math.max(m,c-s,c-o));var v=this.getIndex({startX:s+m,endX:o+m});(v.startIndex!==h||v.endIndex!==p)&&g&&g(v),this.setState({startX:s+m,endX:o+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=KF(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,o=a.endX,l=a.startX,c=this.state[s],u=this.props,d=u.x,h=u.width,p=u.travellerWidth,g=u.onChange,m=u.gap,v=u.data,y={startX:this.state.startX,endX:this.state.endX},b=n.pageX-i;b>0?b=Math.min(b,d+h-p-c):b<0&&(b=Math.max(b,d-c)),y[s]=c+b;var x=this.getIndex(y),O=x.startIndex,P=x.endIndex,j=function(){var S=v.length-1;return s==="startX"&&(o>l?O%m===0:P%m===0)||o<l&&P===S||s==="endX"&&(o>l?P%m===0:O%m===0)||o>l&&P===S};this.setState(no(no({},s,c+b),"brushMoveStartX",n.pageX),function(){g&&j()&&g(x)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,s=this.state,o=s.scaleValues,l=s.startX,c=s.endX,u=this.state[a],d=o.indexOf(u);if(d!==-1){var h=d+n;if(!(h===-1||h>=o.length)){var p=o[h];a==="startX"&&p>=c||a==="endX"&&p<=l||this.setState(no({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.fill,c=n.stroke;return Be.createElement("rect",{stroke:c,fill:l,x:a,y:i,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.data,c=n.children,u=n.padding,d=F.Children.only(c);return d?Be.cloneElement(d,{x:a,y:i,width:s,height:o,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,s,o=this,l=this.props,c=l.y,u=l.travellerWidth,d=l.height,h=l.traveller,p=l.ariaLabel,g=l.data,m=l.startIndex,v=l.endIndex,y=Math.max(n,this.props.x),b=F4(F4({},nn(this.props,!1)),{},{x:y,y:c,width:u,height:d}),x=p||"Min value: ".concat((i=g[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=g[v])===null||s===void 0?void 0:s.name);return Be.createElement(Ca,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(P){["ArrowLeft","ArrowRight"].includes(P.key)&&(P.preventDefault(),P.stopPropagation(),o.handleTravellerMoveKeyboard(P.key==="ArrowRight"?1:-1,a))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,b))}},{key:"renderSlide",value:function(n,a){var i=this.props,s=i.y,o=i.height,l=i.stroke,c=i.travellerWidth,u=Math.min(n,a)+c,d=Math.max(Math.abs(a-n)-c,0);return Be.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:s,width:d,height:o})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,s=n.y,o=n.height,l=n.travellerWidth,c=n.stroke,u=this.state,d=u.startX,h=u.endX,p=5,g={pointerEvents:"none",fill:c};return Be.createElement(Ca,{className:"recharts-brush-texts"},Be.createElement(Xw,b5({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-p,y:s+o/2},g),this.getTextOfTick(a)),Be.createElement(Xw,b5({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+p,y:s+o/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,s=n.children,o=n.x,l=n.y,c=n.width,u=n.height,d=n.alwaysShowText,h=this.state,p=h.startX,g=h.endX,m=h.isTextActive,v=h.isSlideMoving,y=h.isTravellerMoving,b=h.isTravellerFocused;if(!a||!a.length||!Ut(o)||!Ut(l)||!Ut(c)||!Ut(u)||c<=0||u<=0)return null;var x=mn("recharts-brush",i),O=Be.Children.count(s)===1,P=K$e("userSelect","none");return Be.createElement(Ca,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:P},this.renderBackground(),O&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(m||v||y||b||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,s=n.width,o=n.height,l=n.stroke,c=Math.floor(i+o/2)-1;return Be.createElement(Be.Fragment,null,Be.createElement("rect",{x:a,y:i,width:s,height:o,fill:l,stroke:"none"}),Be.createElement("line",{x1:a+1,y1:c,x2:a+s-1,y2:c,fill:"none",stroke:"#fff"}),Be.createElement("line",{x1:a+1,y1:c+2,x2:a+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return Be.isValidElement(n)?i=Be.cloneElement(n,a):qr(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,s=n.width,o=n.x,l=n.travellerWidth,c=n.updateId,u=n.startIndex,d=n.endIndex;if(i!==a.prevData||c!==a.prevUpdateId)return F4({prevData:i,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s},i&&i.length?r9e({data:i,width:s,x:o,travellerWidth:l,startIndex:u,endIndex:d}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||o!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([o,o+s-l]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,s=0,o=i-1;o-s>1;){var l=Math.floor((s+o)/2);n[l]>a?o=l:s=l}return a>=n[o]?o:s}}])}(F.PureComponent);no(sm,"displayName","Brush");no(sm,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var n9e=I6;function a9e(e,t){var r;return n9e(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var i9e=a9e,s9e=FK,o9e=bd,l9e=i9e,c9e=Gs,u9e=lS;function f9e(e,t,r){var n=c9e(e)?s9e:l9e;return r&&u9e(e,t,r)&&(t=void 0),n(e,o9e(t))}var d9e=f9e;const h9e=Dn(d9e);var gc=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},YF=sY;function p9e(e,t,r){t=="__proto__"&&YF?YF(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var m9e=p9e,g9e=m9e,v9e=aY,y9e=bd;function x9e(e,t){var r={};return t=y9e(t),v9e(e,function(n,a,i){g9e(r,a,t(n,a,i))}),r}var b9e=x9e;const w9e=Dn(b9e);function _9e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var S9e=_9e,A9e=I6;function T9e(e,t){var r=!0;return A9e(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var E9e=T9e,N9e=S9e,k9e=E9e,C9e=bd,P9e=Gs,j9e=lS;function O9e(e,t,r){var n=P9e(e)?N9e:k9e;return r&&j9e(e,t,r)&&(t=void 0),n(e,C9e(t))}var I9e=O9e;const FX=Dn(I9e);var D9e=["x","y"];function by(e){"@babel/helpers - typeof";return by=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},by(e)}function bN(){return bN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bN.apply(this,arguments)}function XF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XF(Object(r),!0).forEach(function(n){L9e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L9e(e,t,r){return t=M9e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M9e(e){var t=R9e(e,"string");return by(t)=="symbol"?t:t+""}function R9e(e,t){if(by(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(by(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function F9e(e,t){if(e==null)return{};var r=$9e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $9e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function B9e(e,t){var r=e.x,n=e.y,a=F9e(e,D9e),i="".concat(r),s=parseInt(i,10),o="".concat(n),l=parseInt(o,10),c="".concat(t.height||a.height),u=parseInt(c,10),d="".concat(t.width||a.width),h=parseInt(d,10);return Rg(Rg(Rg(Rg(Rg({},t),a),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function QF(e){return Be.createElement(S$e,bN({shapeType:"rectangle",propTransformer:B9e,activeClassName:"recharts-active-bar"},e))}var U9e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=Ut(n)||a4e(n);return i?t(n,a):(i||Mh(),r)}},V9e=["value","background"],$X;function om(e){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},om(e)}function z9e(e,t){if(e==null)return{};var r=q9e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function q9e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _5(){return _5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_5.apply(this,arguments)}function JF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ma(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JF(Object(r),!0).forEach(function(n){If(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UX(n.key),n)}}function H9e(e,t,r){return t&&ZF(e.prototype,t),r&&ZF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function G9e(e,t,r){return t=S5(t),K9e(e,BX()?Reflect.construct(t,r||[],S5(e).constructor):t.apply(e,r))}function K9e(e,t){if(t&&(om(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y9e(e)}function Y9e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BX=function(){return!!e})()}function S5(e){return S5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},S5(e)}function X9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wN(e,t)}function wN(e,t){return wN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wN(e,t)}function If(e,t,r){return t=UX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UX(e){var t=Q9e(e,"string");return om(t)=="symbol"?t:t+""}function Q9e(e,t){if(om(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cx=function(e){function t(){var r;W9e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=G9e(this,t,[].concat(a)),If(r,"state",{isAnimationFinished:!1}),If(r,"id",rx("recharts-bar-")),If(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),If(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return X9e(t,e),H9e(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,s=i.shape,o=i.dataKey,l=i.activeIndex,c=i.activeBar,u=nn(this.props,!1);return n&&n.map(function(d,h){var p=h===l,g=p?c:s,m=Ma(Ma(Ma({},u),d),{},{isActive:p,option:g,index:h,dataKey:o,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return Be.createElement(Ca,_5({className:"recharts-bar-rectangle"},Mw(a.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),Be.createElement(QF,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,s=a.layout,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,h=this.state.prevData;return Be.createElement(Tu,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,m=i.map(function(v,y){var b=h&&h[y];if(b){var x=Tl(b.x,v.x),O=Tl(b.y,v.y),P=Tl(b.width,v.width),j=Tl(b.height,v.height);return Ma(Ma({},v),{},{x:x(g),y:O(g),width:P(g),height:j(g)})}if(s==="horizontal"){var T=Tl(0,v.height),S=T(g);return Ma(Ma({},v),{},{y:v.y+v.height-S,height:S})}var _=Tl(0,v.width),D=_(g);return Ma(Ma({},v),{},{width:D})});return Be.createElement(Ca,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,s=this.state.prevData;return i&&a&&a.length&&(!s||!vS(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,s=a.dataKey,o=a.activeIndex,l=nn(this.props.background,!1);return i.map(function(c,u){c.value;var d=c.background,h=z9e(c,V9e);if(!d)return null;var p=Ma(Ma(Ma(Ma(Ma({},h),{},{fill:"#eee"},d),l),Mw(n.props,c,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:u,className:"recharts-bar-background-rectangle"});return Be.createElement(QF,_5({key:"background-bar-".concat(u),option:n.props.background,isActive:u===o},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.data,o=i.xAxis,l=i.yAxis,c=i.layout,u=i.children,d=Go(u,lx);if(!d)return null;var h=c==="vertical"?s[0].height/2:s[0].width/2,p=function(v,y){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:vo(v,y)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return Be.createElement(Ca,g,d.map(function(m){return Be.cloneElement(m,{key:"error-bar-".concat(a,"-").concat(m.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,s=n.className,o=n.xAxis,l=n.yAxis,c=n.left,u=n.top,d=n.width,h=n.height,p=n.isAnimationActive,g=n.background,m=n.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,y=mn("recharts-bar",s),b=o&&o.allowDataOverflow,x=l&&l.allowDataOverflow,O=b||x,P=Gr(m)?this.id:m;return Be.createElement(Ca,{className:y},b||x?Be.createElement("defs",null,Be.createElement("clipPath",{id:"clipPath-".concat(P)},Be.createElement("rect",{x:b?c:c-d/2,y:x?u:u-h/2,width:b?d:d*2,height:x?h:h*2}))):null,Be.createElement(Ca,{className:"recharts-bar-rectangles",clipPath:O?"url(#clipPath-".concat(P,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(O,P),(!p||v)&&Jf.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(F.PureComponent);$X=cx;If(cx,"displayName","Bar");If(cx,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!su.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});If(cx,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,s=e.yAxis,o=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,d=e.displayedData,h=e.offset,p=NMe(n,r);if(!p)return null;var g=t.layout,m=r.type.defaultProps,v=m!==void 0?Ma(Ma({},m),r.props):r.props,y=v.dataKey,b=v.children,x=v.minPointSize,O=g==="horizontal"?s:i,P=c?O.scale.domain():null,j=LMe({numericAxis:O}),T=Go(b,hY),S=d.map(function(_,D){var E,N,k,V,Q,W;c?E=kMe(c[u+D],P):(E=vo(_,y),Array.isArray(E)||(E=[j,E]));var G=U9e(x,$X.defaultProps.minPointSize)(E[1],D);if(g==="horizontal"){var q,U=[s.scale(E[0]),s.scale(E[1])],ee=U[0],Z=U[1];N=JR({axis:i,ticks:o,bandSize:a,offset:p.offset,entry:_,index:D}),k=(q=Z??ee)!==null&&q!==void 0?q:void 0,V=p.size;var I=ee-Z;if(Q=Number.isNaN(I)?0:I,W={x:N,y:s.y,width:V,height:s.height},Math.abs(G)>0&&Math.abs(Q)<Math.abs(G)){var M=Ol(Q||G)*(Math.abs(G)-Math.abs(Q));k-=M,Q+=M}}else{var z=[i.scale(E[0]),i.scale(E[1])],K=z[0],X=z[1];if(N=K,k=JR({axis:s,ticks:l,bandSize:a,offset:p.offset,entry:_,index:D}),V=X-K,Q=p.size,W={x:i.x,y:k,width:i.width,height:Q},Math.abs(G)>0&&Math.abs(V)<Math.abs(G)){var ae=Ol(V||G)*(Math.abs(G)-Math.abs(V));V+=ae}}return Ma(Ma(Ma({},_),{},{x:N,y:k,width:V,height:Q,value:c?E:E[1],payload:_,background:W},T&&T[D]&&T[D].props),{},{tooltipPayload:[xX(r,_)],tooltipPosition:{x:N+V/2,y:k+Q/2}})});return Ma({data:S,layout:g},h)});function wy(e){"@babel/helpers - typeof";return wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wy(e)}function J9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VX(n.key),n)}}function Z9e(e,t,r){return t&&e$(e.prototype,t),r&&e$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function t$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t$(Object(r),!0).forEach(function(n){_S(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _S(e,t,r){return t=VX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VX(e){var t=eBe(e,"string");return wy(t)=="symbol"?t:t+""}function eBe(e,t){if(wy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tBe=function(t,r,n,a,i){var s=t.width,o=t.height,l=t.layout,c=t.children,u=Object.keys(r),d={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},h=!!io(c,cx);return u.reduce(function(p,g){var m=r[g],v=m.orientation,y=m.domain,b=m.padding,x=b===void 0?{}:b,O=m.mirror,P=m.reversed,j="".concat(v).concat(O?"Mirror":""),T,S,_,D,E;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var N=y[1]-y[0],k=1/0,V=m.categoricalDomain.sort(o4e);if(V.forEach(function(z,K){K>0&&(k=Math.min((z||0)-(V[K-1]||0),k))}),Number.isFinite(k)){var Q=k/N,W=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(T=Q*W/2),m.padding==="no-gap"){var G=Dh(t.barCategoryGap,Q*W),q=Q*W/2;T=q-G-(q-G)/W*G}}}a==="xAxis"?S=[n.left+(x.left||0)+(T||0),n.left+n.width-(x.right||0)-(T||0)]:a==="yAxis"?S=l==="horizontal"?[n.top+n.height-(x.bottom||0),n.top+(x.top||0)]:[n.top+(x.top||0)+(T||0),n.top+n.height-(x.bottom||0)-(T||0)]:S=m.range,P&&(S=[S[1],S[0]]);var U=TMe(m,i,h),ee=U.scale,Z=U.realScaleType;ee.domain(y).range(S),EMe(ee);var I=DMe(ee,wl(wl({},m),{},{realScaleType:Z}));a==="xAxis"?(E=v==="top"&&!O||v==="bottom"&&O,_=n.left,D=d[j]-E*m.height):a==="yAxis"&&(E=v==="left"&&!O||v==="right"&&O,_=d[j]-E*m.width,D=n.top);var M=wl(wl(wl({},m),I),{},{realScaleType:Z,x:_,y:D,scale:ee,width:a==="xAxis"?n.width:m.width,height:a==="yAxis"?n.height:m.height});return M.bandSize=u5(M,I),!m.hide&&a==="xAxis"?d[j]+=(E?-1:1)*M.height:m.hide||(d[j]+=(E?-1:1)*M.width),wl(wl({},p),{},_S({},g,M))},{})},zX=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return{x:Math.min(n,i),y:Math.min(a,s),width:Math.abs(i-n),height:Math.abs(s-a)}},rBe=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return zX({x:r,y:n},{x:a,y:i})},qX=function(){function e(t){J9e(this,e),this.scale=t}return Z9e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();_S(qX,"EPS",1e-4);var cj=function(t){var r=Object.keys(t).reduce(function(n,a){return wl(wl({},n),{},_S({},a,qX.create(t[a])))},{});return wl(wl({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,o=i.position;return w9e(a,function(l,c){return r[c].apply(l,{bandAware:s,position:o})})},isInRange:function(a){return FX(a,function(i,s){return r[s].isInRange(i)})}})};function nBe(e){return(e%180+180)%180}var aBe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=nBe(a),s=i*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},iBe=bd,sBe=nx,oBe=sS;function lBe(e){return function(t,r,n){var a=Object(t);if(!sBe(t)){var i=iBe(r);t=oBe(t),r=function(o){return i(a[o],o,a)}}var s=e(t,r,n);return s>-1?a[i?t[s]:s]:void 0}}var cBe=lBe,uBe=DX;function fBe(e){var t=uBe(e),r=t%1;return t===t?r?t-r:t:0}var dBe=fBe,hBe=JK,pBe=bd,mBe=dBe,gBe=Math.max;function vBe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:mBe(r);return a<0&&(a=gBe(n+a,0)),hBe(e,pBe(t),a)}var yBe=vBe,xBe=cBe,bBe=yBe,wBe=xBe(bBe),_Be=wBe;const SBe=Dn(_Be);var ABe=lAe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),uj=F.createContext(void 0),fj=F.createContext(void 0),WX=F.createContext(void 0),HX=F.createContext({}),GX=F.createContext(void 0),KX=F.createContext(0),YX=F.createContext(0),r$=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,s=t.clipPathId,o=t.children,l=t.width,c=t.height,u=ABe(i);return Be.createElement(uj.Provider,{value:n},Be.createElement(fj.Provider,{value:a},Be.createElement(HX.Provider,{value:i},Be.createElement(WX.Provider,{value:u},Be.createElement(GX.Provider,{value:s},Be.createElement(KX.Provider,{value:c},Be.createElement(YX.Provider,{value:l},o)))))))},TBe=function(){return F.useContext(GX)},XX=function(t){var r=F.useContext(uj);r==null&&Mh();var n=r[t];return n==null&&Mh(),n},EBe=function(){var t=F.useContext(uj);return _f(t)},NBe=function(){var t=F.useContext(fj),r=SBe(t,function(n){return FX(n.domain,Number.isFinite)});return r||_f(t)},QX=function(t){var r=F.useContext(fj);r==null&&Mh();var n=r[t];return n==null&&Mh(),n},kBe=function(){var t=F.useContext(WX);return t},CBe=function(){return F.useContext(HX)},dj=function(){return F.useContext(YX)},hj=function(){return F.useContext(KX)};function lm(e){"@babel/helpers - typeof";return lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lm(e)}function PBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jBe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ZX(n.key),n)}}function OBe(e,t,r){return t&&jBe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function IBe(e,t,r){return t=A5(t),DBe(e,JX()?Reflect.construct(t,r||[],A5(e).constructor):t.apply(e,r))}function DBe(e,t){if(t&&(lm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LBe(e)}function LBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JX=function(){return!!e})()}function A5(e){return A5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},A5(e)}function MBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_N(e,t)}function _N(e,t){return _N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_N(e,t)}function n$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function a$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n$(Object(r),!0).forEach(function(n){pj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pj(e,t,r){return t=ZX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZX(e){var t=RBe(e,"string");return lm(t)=="symbol"?t:t+""}function RBe(e,t){if(lm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FBe(e,t){return VBe(e)||UBe(e,t)||BBe(e,t)||$Be()}function $Be(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BBe(e,t){if(e){if(typeof e=="string")return i$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i$(e,t)}}function i$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function UBe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function VBe(e){if(Array.isArray(e))return e}function SN(){return SN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},SN.apply(this,arguments)}var zBe=function(t,r){var n;return Be.isValidElement(t)?n=Be.cloneElement(t,r):qr(t)?n=t(r):n=Be.createElement("line",SN({},r,{className:"recharts-reference-line-line"})),n},qBe=function(t,r,n,a,i,s,o,l,c){var u=i.x,d=i.y,h=i.width,p=i.height;if(n){var g=c.y,m=t.y.apply(g,{position:s});if(gc(c,"discard")&&!t.y.isInRange(m))return null;var v=[{x:u+h,y:m},{x:u,y:m}];return l==="left"?v.reverse():v}if(r){var y=c.x,b=t.x.apply(y,{position:s});if(gc(c,"discard")&&!t.x.isInRange(b))return null;var x=[{x:b,y:d+p},{x:b,y:d}];return o==="top"?x.reverse():x}if(a){var O=c.segment,P=O.map(function(j){return t.apply(j,{position:s})});return gc(c,"discard")&&h9e(P,function(j){return!t.isInRange(j)})?null:P}return null};function WBe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,s=e.shape,o=e.className,l=e.alwaysShow,c=TBe(),u=XX(a),d=QX(i),h=kBe();if(!c||!h)return null;iu(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=cj({x:u.scale,y:d.scale}),g=Za(t),m=Za(r),v=n&&n.length===2,y=qBe(p,g,m,v,h,e.position,u.orientation,d.orientation,e);if(!y)return null;var b=FBe(y,2),x=b[0],O=x.x,P=x.y,j=b[1],T=j.x,S=j.y,_=gc(e,"hidden")?"url(#".concat(c,")"):void 0,D=a$(a$({clipPath:_},nn(e,!0)),{},{x1:O,y1:P,x2:T,y2:S});return Be.createElement(Ca,{className:mn("recharts-reference-line",o)},zBe(s,D),Qi.renderCallByParent(e,rBe({x1:O,y1:P,x2:T,y2:S})))}var mj=function(e){function t(){return PBe(this,t),IBe(this,t,arguments)}return MBe(t,e),OBe(t,[{key:"render",value:function(){return Be.createElement(WBe,this.props)}}])}(Be.Component);pj(mj,"displayName","ReferenceLine");pj(mj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function AN(){return AN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},AN.apply(this,arguments)}function cm(e){"@babel/helpers - typeof";return cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cm(e)}function s$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function o$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s$(Object(r),!0).forEach(function(n){SS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GBe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tQ(n.key),n)}}function KBe(e,t,r){return t&&GBe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function YBe(e,t,r){return t=T5(t),XBe(e,eQ()?Reflect.construct(t,r||[],T5(e).constructor):t.apply(e,r))}function XBe(e,t){if(t&&(cm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QBe(e)}function QBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eQ=function(){return!!e})()}function T5(e){return T5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},T5(e)}function JBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TN(e,t)}function TN(e,t){return TN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},TN(e,t)}function SS(e,t,r){return t=tQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tQ(e){var t=ZBe(e,"string");return cm(t)=="symbol"?t:t+""}function ZBe(e,t){if(cm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(cm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eUe=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,s=cj({x:a.scale,y:i.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return gc(t,"discard")&&!s.isInRange(o)?null:o},AS=function(e){function t(){return HBe(this,t),YBe(this,t,arguments)}return JBe(t,e),KBe(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,s=n.r,o=n.alwaysShow,l=n.clipPathId,c=Za(a),u=Za(i);if(iu(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var d=eUe(this.props);if(!d)return null;var h=d.x,p=d.y,g=this.props,m=g.shape,v=g.className,y=gc(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=o$(o$({clipPath:y},nn(this.props,!0)),{},{cx:h,cy:p});return Be.createElement(Ca,{className:mn("recharts-reference-dot",v)},t.renderDot(m,b),Qi.renderCallByParent(this.props,{x:h-s,y:p-s,width:2*s,height:2*s}))}}])}(Be.Component);SS(AS,"displayName","ReferenceDot");SS(AS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});SS(AS,"renderDot",function(e,t){var r;return Be.isValidElement(e)?r=Be.cloneElement(e,t):qr(e)?r=e(t):r=Be.createElement(lj,AN({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function EN(){return EN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},EN.apply(this,arguments)}function um(e){"@babel/helpers - typeof";return um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},um(e)}function l$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function c$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l$(Object(r),!0).forEach(function(n){TS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tUe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rUe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nQ(n.key),n)}}function nUe(e,t,r){return t&&rUe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function aUe(e,t,r){return t=E5(t),iUe(e,rQ()?Reflect.construct(t,r||[],E5(e).constructor):t.apply(e,r))}function iUe(e,t){if(t&&(um(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sUe(e)}function sUe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rQ=function(){return!!e})()}function E5(e){return E5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},E5(e)}function oUe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NN(e,t)}function NN(e,t){return NN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},NN(e,t)}function TS(e,t,r){return t=nQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nQ(e){var t=lUe(e,"string");return um(t)=="symbol"?t:t+""}function lUe(e,t){if(um(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(um(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cUe=function(t,r,n,a,i){var s=i.x1,o=i.x2,l=i.y1,c=i.y2,u=i.xAxis,d=i.yAxis;if(!u||!d)return null;var h=cj({x:u.scale,y:d.scale}),p={x:t?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(c,{position:"end"}):h.y.rangeMax};return gc(i,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:zX(p,g)},ES=function(e){function t(){return tUe(this,t),aUe(this,t,arguments)}return oUe(t,e),nUe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,s=n.y1,o=n.y2,l=n.className,c=n.alwaysShow,u=n.clipPathId;iu(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Za(a),h=Za(i),p=Za(s),g=Za(o),m=this.props.shape;if(!d&&!h&&!p&&!g&&!m)return null;var v=cUe(d,h,p,g,this.props);if(!v&&!m)return null;var y=gc(this.props,"hidden")?"url(#".concat(u,")"):void 0;return Be.createElement(Ca,{className:mn("recharts-reference-area",l)},t.renderRect(m,c$(c$({clipPath:y},nn(this.props,!0)),v)),Qi.renderCallByParent(this.props,v))}}])}(Be.Component);TS(ES,"displayName","ReferenceArea");TS(ES,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});TS(ES,"renderRect",function(e,t){var r;return Be.isValidElement(e)?r=Be.cloneElement(e,t):qr(e)?r=e(t):r=Be.createElement(oj,EN({},t,{className:"recharts-reference-area-rect"})),r});function aQ(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function uUe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return aBe(n,r)}function fUe(e,t,r){var n=r==="width",a=e.x,i=e.y,s=e.width,o=e.height;return t===1?{start:n?a:i,end:n?a+s:i+o}:{start:n?a+s:i+o,end:n?a:i}}function N5(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function dUe(e,t){return aQ(e,t+1)}function hUe(e,t,r,n,a){for(var i=(n||[]).slice(),s=t.start,o=t.end,l=0,c=1,u=s,d=function(){var g=n==null?void 0:n[l];if(g===void 0)return{v:aQ(n,c)};var m=l,v,y=function(){return v===void 0&&(v=r(g,m)),v},b=g.coordinate,x=l===0||N5(e,b,y,u,o);x||(l=0,u=s,c+=1),x&&(u=b+e*(y()/2+a),l+=c)},h;c<=i.length;)if(h=d(),h)return h.v;return[]}function _y(e){"@babel/helpers - typeof";return _y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_y(e)}function u$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u$(Object(r),!0).forEach(function(n){pUe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pUe(e,t,r){return t=mUe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mUe(e){var t=gUe(e,"string");return _y(t)=="symbol"?t:t+""}function gUe(e,t){if(_y(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_y(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vUe(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,o=t.start,l=t.end,c=function(h){var p=i[h],g,m=function(){return g===void 0&&(g=r(p,h)),g};if(h===s-1){var v=e*(p.coordinate+e*m()/2-l);i[h]=p=Hi(Hi({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else i[h]=p=Hi(Hi({},p),{},{tickCoord:p.coordinate});var y=N5(e,p.tickCoord,m,o,l);y&&(l=p.tickCoord-e*(m()/2+a),i[h]=Hi(Hi({},p),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return i}function yUe(e,t,r,n,a,i){var s=(n||[]).slice(),o=s.length,l=t.start,c=t.end;if(i){var u=n[o-1],d=r(u,o-1),h=e*(u.coordinate+e*d/2-c);s[o-1]=u=Hi(Hi({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate});var p=N5(e,u.tickCoord,function(){return d},l,c);p&&(c=u.tickCoord-e*(d/2+a),s[o-1]=Hi(Hi({},u),{},{isShow:!0}))}for(var g=i?o-1:o,m=function(b){var x=s[b],O,P=function(){return O===void 0&&(O=r(x,b)),O};if(b===0){var j=e*(x.coordinate-e*P()/2-l);s[b]=x=Hi(Hi({},x),{},{tickCoord:j<0?x.coordinate-j*e:x.coordinate})}else s[b]=x=Hi(Hi({},x),{},{tickCoord:x.coordinate});var T=N5(e,x.tickCoord,P,l,c);T&&(l=x.tickCoord+e*(P()/2+a),s[b]=Hi(Hi({},x),{},{isShow:!0}))},v=0;v<g;v++)m(v);return s}function gj(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,s=e.minTickGap,o=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,d=e.angle;if(!a||!a.length||!n)return[];if(Ut(l)||su.isSsr)return dUe(a,typeof l=="number"&&Ut(l)?l:0);var h=[],p=o==="top"||o==="bottom"?"width":"height",g=u&&p==="width"?Mv(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(x,O){var P=qr(c)?c(x.value,O):x.value;return p==="width"?uUe(Mv(P,{fontSize:t,letterSpacing:r}),g,d):Mv(P,{fontSize:t,letterSpacing:r})[p]},v=a.length>=2?Ol(a[1].coordinate-a[0].coordinate):1,y=fUe(i,v,p);return l==="equidistantPreserveStart"?hUe(v,y,m,a,s):(l==="preserveStart"||l==="preserveStartEnd"?h=yUe(v,y,m,a,s,l==="preserveStartEnd"):h=vUe(v,y,m,a,s),h.filter(function(b){return b.isShow}))}var xUe=["viewBox"],bUe=["viewBox"],wUe=["ticks"];function fm(e){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fm(e)}function tp(){return tp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tp.apply(this,arguments)}function f$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ha(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f$(Object(r),!0).forEach(function(n){vj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $4(e,t){if(e==null)return{};var r=_Ue(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _Ue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function SUe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sQ(n.key),n)}}function AUe(e,t,r){return t&&d$(e.prototype,t),r&&d$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function TUe(e,t,r){return t=k5(t),EUe(e,iQ()?Reflect.construct(t,r||[],k5(e).constructor):t.apply(e,r))}function EUe(e,t){if(t&&(fm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NUe(e)}function NUe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iQ=function(){return!!e})()}function k5(e){return k5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},k5(e)}function kUe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kN(e,t)}function kN(e,t){return kN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},kN(e,t)}function vj(e,t,r){return t=sQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sQ(e){var t=CUe(e,"string");return fm(t)=="symbol"?t:t+""}function CUe(e,t){if(fm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ym=function(e){function t(r){var n;return SUe(this,t),n=TUe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return kUe(t,e),AUe(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,s=$4(n,xUe),o=this.props,l=o.viewBox,c=$4(o,bUe);return!vp(i,l)||!vp(s,c)||!vp(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,s=a.y,o=a.width,l=a.height,c=a.orientation,u=a.tickSize,d=a.mirror,h=a.tickMargin,p,g,m,v,y,b,x=d?-1:1,O=n.tickSize||u,P=Ut(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":p=g=n.coordinate,v=s+ +!d*l,m=v-x*O,b=m-x*h,y=P;break;case"left":m=v=n.coordinate,g=i+ +!d*o,p=g-x*O,y=p-x*h,b=P;break;case"right":m=v=n.coordinate,g=i+ +d*o,p=g+x*O,y=p+x*h,b=P;break;default:p=g=n.coordinate,v=s+ +d*l,m=v+x*O,b=m+x*h,y=P;break}return{line:{x1:p,y1:m,x2:g,y2:v},tick:{x:y,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s;switch(a){case"left":s=i?"start":"end";break;case"right":s=i?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=i?"start":"end";break;default:s=i?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.orientation,c=n.mirror,u=n.axisLine,d=Ha(Ha(Ha({},nn(this.props,!1)),nn(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);d=Ha(Ha({},d),{},{x1:a,y1:i+h*o,x2:a+s,y2:i+h*o})}else{var p=+(l==="left"&&!c||l==="right"&&c);d=Ha(Ha({},d),{},{x1:a+p*s,y1:i,x2:a+p*s,y2:i+o})}return Be.createElement("line",tp({},d,{className:mn("recharts-cartesian-axis-line",Ho(u,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var s=this,o=this.props,l=o.tickLine,c=o.stroke,u=o.tick,d=o.tickFormatter,h=o.unit,p=gj(Ha(Ha({},this.props),{},{ticks:n}),a,i),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),v=nn(this.props,!1),y=nn(u,!1),b=Ha(Ha({},v),{},{fill:"none"},nn(l,!1)),x=p.map(function(O,P){var j=s.getTickLineCoord(O),T=j.line,S=j.tick,_=Ha(Ha(Ha(Ha({textAnchor:g,verticalAnchor:m},v),{},{stroke:"none",fill:c},y),S),{},{index:P,payload:O,visibleTicksCount:p.length,tickFormatter:d});return Be.createElement(Ca,tp({className:"recharts-cartesian-axis-tick",key:"tick-".concat(O.value,"-").concat(O.coordinate,"-").concat(O.tickCoord)},Mw(s.props,O,P)),l&&Be.createElement("line",tp({},b,T,{className:mn("recharts-cartesian-axis-tick-line",Ho(l,"className"))})),u&&t.renderTickItem(u,_,"".concat(qr(d)?d(O.value,P):O.value).concat(h||"")))});return Be.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,s=a.width,o=a.height,l=a.ticksGenerator,c=a.className,u=a.hide;if(u)return null;var d=this.props,h=d.ticks,p=$4(d,wUe),g=h;return qr(l)&&(g=h&&h.length>0?l(this.props):l(p)),s<=0||o<=0||!g||!g.length?null:Be.createElement(Ca,{className:mn("recharts-cartesian-axis",c),ref:function(v){n.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Qi.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var s,o=mn(a.className,"recharts-cartesian-axis-tick-value");return Be.isValidElement(n)?s=Be.cloneElement(n,Ha(Ha({},a),{},{className:o})):qr(n)?s=n(Ha(Ha({},a),{},{className:o})):s=Be.createElement(Xw,tp({},a,{className:"recharts-cartesian-axis-tick-value"}),i),s}}])}(F.Component);vj(Ym,"displayName","CartesianAxis");vj(Ym,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var PUe=["x1","y1","x2","y2","key"],jUe=["offset"];function Rh(e){"@babel/helpers - typeof";return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rh(e)}function h$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ji(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h$(Object(r),!0).forEach(function(n){OUe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OUe(e,t,r){return t=IUe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IUe(e){var t=DUe(e,"string");return Rh(t)=="symbol"?t:t+""}function DUe(e,t){if(Rh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Rh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oh(){return oh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oh.apply(this,arguments)}function p$(e,t){if(e==null)return{};var r=LUe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LUe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var MUe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,s=t.width,o=t.height,l=t.ry;return Be.createElement("rect",{x:a,y:i,ry:l,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function oQ(e,t){var r;if(Be.isValidElement(e))r=Be.cloneElement(e,t);else if(qr(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,s=t.y2,o=t.key,l=p$(t,PUe),c=nn(l,!1);c.offset;var u=p$(c,jUe);r=Be.createElement("line",oh({},u,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:o}))}return r}function RUe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,l){var c=Ji(Ji({},e),{},{x1:t,y1:o,x2:t+r,y2:o,key:"line-".concat(l),index:l});return oQ(a,c)});return Be.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function FUe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,l){var c=Ji(Ji({},e),{},{x1:o,y1:t,x2:o,y2:t+r,key:"line-".concat(l),index:l});return oQ(a,c)});return Be.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function $Ue(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,s=e.height,o=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var u=o.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==u[0]&&u.unshift(0);var d=u.map(function(h,p){var g=!u[p+1],m=g?a+s-h:u[p+1]-h;if(m<=0)return null;var v=p%t.length;return Be.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Be.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function BUe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,s=e.y,o=e.width,l=e.height,c=e.verticalPoints;if(!r||!n||!n.length)return null;var u=c.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==u[0]&&u.unshift(0);var d=u.map(function(h,p){var g=!u[p+1],m=g?i+o-h:u[p+1]-h;if(m<=0)return null;var v=p%n.length;return Be.createElement("rect",{key:"react-".concat(p),x:h,y:s,width:m,height:l,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return Be.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var UUe=function(t,r){var n=t.xAxis,a=t.width,i=t.height,s=t.offset;return vX(gj(Ji(Ji(Ji({},Ym.defaultProps),n),{},{ticks:Zc(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.left,s.left+s.width,r)},VUe=function(t,r){var n=t.yAxis,a=t.width,i=t.height,s=t.offset;return vX(gj(Ji(Ji(Ji({},Ym.defaultProps),n),{},{ticks:Zc(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.top,s.top+s.height,r)},E0={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function vh(e){var t,r,n,a,i,s,o=dj(),l=hj(),c=CBe(),u=Ji(Ji({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:E0.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:E0.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:E0.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:E0.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:E0.vertical,verticalFill:(s=e.verticalFill)!==null&&s!==void 0?s:E0.verticalFill,x:Ut(e.x)?e.x:c.left,y:Ut(e.y)?e.y:c.top,width:Ut(e.width)?e.width:c.width,height:Ut(e.height)?e.height:c.height}),d=u.x,h=u.y,p=u.width,g=u.height,m=u.syncWithTicks,v=u.horizontalValues,y=u.verticalValues,b=EBe(),x=NBe();if(!Ut(p)||p<=0||!Ut(g)||g<=0||!Ut(d)||d!==+d||!Ut(h)||h!==+h)return null;var O=u.verticalCoordinatesGenerator||UUe,P=u.horizontalCoordinatesGenerator||VUe,j=u.horizontalPoints,T=u.verticalPoints;if((!j||!j.length)&&qr(P)){var S=v&&v.length,_=P({yAxis:x?Ji(Ji({},x),{},{ticks:S?v:x.ticks}):void 0,width:o,height:l,offset:c},S?!0:m);iu(Array.isArray(_),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Rh(_),"]")),Array.isArray(_)&&(j=_)}if((!T||!T.length)&&qr(O)){var D=y&&y.length,E=O({xAxis:b?Ji(Ji({},b),{},{ticks:D?y:b.ticks}):void 0,width:o,height:l,offset:c},D?!0:m);iu(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Rh(E),"]")),Array.isArray(E)&&(T=E)}return Be.createElement("g",{className:"recharts-cartesian-grid"},Be.createElement(MUe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),Be.createElement(RUe,oh({},u,{offset:c,horizontalPoints:j,xAxis:b,yAxis:x})),Be.createElement(FUe,oh({},u,{offset:c,verticalPoints:T,xAxis:b,yAxis:x})),Be.createElement($Ue,oh({},u,{horizontalPoints:j})),Be.createElement(BUe,oh({},u,{verticalPoints:T})))}vh.displayName="CartesianGrid";var zUe=["type","layout","connectNulls","ref"],qUe=["key"];function dm(e){"@babel/helpers - typeof";return dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dm(e)}function m$(e,t){if(e==null)return{};var r=WUe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function WUe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Bv(){return Bv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bv.apply(this,arguments)}function g$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ro(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g$(Object(r),!0).forEach(function(n){_l(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N0(e){return YUe(e)||KUe(e)||GUe(e)||HUe()}function HUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GUe(e,t){if(e){if(typeof e=="string")return CN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CN(e,t)}}function KUe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function YUe(e){if(Array.isArray(e))return CN(e)}function CN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function XUe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cQ(n.key),n)}}function QUe(e,t,r){return t&&v$(e.prototype,t),r&&v$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function JUe(e,t,r){return t=C5(t),ZUe(e,lQ()?Reflect.construct(t,r||[],C5(e).constructor):t.apply(e,r))}function ZUe(e,t){if(t&&(dm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eVe(e)}function eVe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lQ=function(){return!!e})()}function C5(e){return C5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},C5(e)}function tVe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PN(e,t)}function PN(e,t){return PN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},PN(e,t)}function _l(e,t,r){return t=cQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cQ(e){var t=rVe(e,"string");return dm(t)=="symbol"?t:t+""}function rVe(e,t){if(dm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ra=function(e){function t(){var r;XUe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=JUe(this,t,[].concat(a)),_l(r,"state",{isAnimationFinished:!0,totalLength:0}),_l(r,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),_l(r,"getStrokeDasharray",function(s,o,l){var c=l.reduce(function(y,b){return y+b});if(!c)return r.generateSimpleStrokeDasharray(o,s);for(var u=Math.floor(s/c),d=s%c,h=o-s,p=[],g=0,m=0;g<l.length;m+=l[g],++g)if(m+l[g]>d){p=[].concat(N0(l.slice(0,g)),[d-m]);break}var v=p.length%2===0?[0,h]:[h];return[].concat(N0(t.repeat(l,u)),N0(p),v).map(function(y){return"".concat(y,"px")}).join(", ")}),_l(r,"id",rx("recharts-line-")),_l(r,"pathRef",function(s){r.mainCurve=s}),_l(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),_l(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return tVe(t,e),QUe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.points,o=i.xAxis,l=i.yAxis,c=i.layout,u=i.children,d=Go(u,lx);if(!d)return null;var h=function(m,v){return{x:m.x,y:m.y,value:m.value,errorVal:vo(m.payload,v)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return Be.createElement(Ca,p,d.map(function(g){return Be.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,i){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,c=o.points,u=o.dataKey,d=nn(this.props,!1),h=nn(l,!0),p=c.map(function(m,v){var y=ro(ro(ro({key:"dot-".concat(v),r:3},d),h),{},{index:v,cx:m.x,cy:m.y,value:m.value,dataKey:u,payload:m.payload,points:c});return t.renderDotItem(l,y)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return Be.createElement(Ca,Bv({className:"recharts-line-dots",key:"dots"},g),p)}},{key:"renderCurveStatically",value:function(n,a,i,s){var o=this.props,l=o.type,c=o.layout,u=o.connectNulls;o.ref;var d=m$(o,zUe),h=ro(ro(ro({},nn(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},s),{},{type:l,layout:c,connectNulls:u});return Be.createElement(oN,Bv({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,s=this.props,o=s.points,l=s.strokeDasharray,c=s.isAnimationActive,u=s.animationBegin,d=s.animationDuration,h=s.animationEasing,p=s.animationId,g=s.animateNewValues,m=s.width,v=s.height,y=this.state,b=y.prevPoints,x=y.totalLength;return Be.createElement(Tu,{begin:u,duration:d,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(O){var P=O.t;if(b){var j=b.length/o.length,T=o.map(function(N,k){var V=Math.floor(k*j);if(b[V]){var Q=b[V],W=Tl(Q.x,N.x),G=Tl(Q.y,N.y);return ro(ro({},N),{},{x:W(P),y:G(P)})}if(g){var q=Tl(m*2,N.x),U=Tl(v/2,N.y);return ro(ro({},N),{},{x:q(P),y:U(P)})}return ro(ro({},N),{},{x:N.x,y:N.y})});return i.renderCurveStatically(T,n,a)}var S=Tl(0,x),_=S(P),D;if(l){var E="".concat(l).split(/[,\s]+/gim).map(function(N){return parseFloat(N)});D=i.getStrokeDasharray(_,x,E)}else D=i.generateSimpleStrokeDasharray(x,_);return i.renderCurveStatically(o,n,a,{strokeDasharray:D})})}},{key:"renderCurve",value:function(n,a){var i=this.props,s=i.points,o=i.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return o&&s&&s.length&&(!c&&u>0||!vS(c,s))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(s,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,s=a.dot,o=a.points,l=a.className,c=a.xAxis,u=a.yAxis,d=a.top,h=a.left,p=a.width,g=a.height,m=a.isAnimationActive,v=a.id;if(i||!o||!o.length)return null;var y=this.state.isAnimationFinished,b=o.length===1,x=mn("recharts-line",l),O=c&&c.allowDataOverflow,P=u&&u.allowDataOverflow,j=O||P,T=Gr(v)?this.id:v,S=(n=nn(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},_=S.r,D=_===void 0?3:_,E=S.strokeWidth,N=E===void 0?2:E,k=g4e(s)?s:{},V=k.clipDot,Q=V===void 0?!0:V,W=D*2+N;return Be.createElement(Ca,{className:x},O||P?Be.createElement("defs",null,Be.createElement("clipPath",{id:"clipPath-".concat(T)},Be.createElement("rect",{x:O?h:h-p/2,y:P?d:d-g/2,width:O?p:p*2,height:P?g:g*2})),!Q&&Be.createElement("clipPath",{id:"clipPath-dots-".concat(T)},Be.createElement("rect",{x:h-W/2,y:d-W/2,width:p+W,height:g+W}))):null,!b&&this.renderCurve(j,T),this.renderErrorBar(j,T),(b||s)&&this.renderDots(j,Q,T),(!m||y)&&Jf.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(N0(n),[0]):n,s=[],o=0;o<a;++o)s=[].concat(N0(s),N0(i));return s}},{key:"renderDotItem",value:function(n,a){var i;if(Be.isValidElement(n))i=Be.cloneElement(n,a);else if(qr(n))i=n(a);else{var s=a.key,o=m$(a,qUe),l=mn("recharts-line-dot",typeof n!="boolean"?n.className:"");i=Be.createElement(lj,Bv({key:s},o,{className:l}))}return i}}])}(F.PureComponent);_l(Ra,"displayName","Line");_l(Ra,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!su.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});_l(Ra,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,s=e.dataKey,o=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout,d=l.map(function(h,p){var g=vo(h,s);return u==="horizontal"?{x:QR({axis:r,ticks:a,bandSize:o,entry:h,index:p}),y:Gr(g)?null:n.scale(g),value:g,payload:h}:{x:Gr(g)?null:r.scale(g),y:QR({axis:n,ticks:i,bandSize:o,entry:h,index:p}),value:g,payload:h}});return ro({points:d,layout:u},c)});function hm(e){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hm(e)}function nVe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aVe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dQ(n.key),n)}}function iVe(e,t,r){return t&&aVe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sVe(e,t,r){return t=P5(t),oVe(e,uQ()?Reflect.construct(t,r||[],P5(e).constructor):t.apply(e,r))}function oVe(e,t){if(t&&(hm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lVe(e)}function lVe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uQ=function(){return!!e})()}function P5(e){return P5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},P5(e)}function cVe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jN(e,t)}function jN(e,t){return jN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},jN(e,t)}function fQ(e,t,r){return t=dQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dQ(e){var t=uVe(e,"string");return hm(t)=="symbol"?t:t+""}function uVe(e,t){if(hm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ON(){return ON=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ON.apply(this,arguments)}function fVe(e){var t=e.xAxisId,r=dj(),n=hj(),a=XX(t);return a==null?null:F.createElement(Ym,ON({},a,{className:mn("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return Zc(s,!0)}}))}var lu=function(e){function t(){return nVe(this,t),sVe(this,t,arguments)}return cVe(t,e),iVe(t,[{key:"render",value:function(){return F.createElement(fVe,this.props)}}])}(F.Component);fQ(lu,"displayName","XAxis");fQ(lu,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function pm(e){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pm(e)}function dVe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hVe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mQ(n.key),n)}}function pVe(e,t,r){return t&&hVe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mVe(e,t,r){return t=j5(t),gVe(e,hQ()?Reflect.construct(t,r||[],j5(e).constructor):t.apply(e,r))}function gVe(e,t){if(t&&(pm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vVe(e)}function vVe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hQ=function(){return!!e})()}function j5(e){return j5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},j5(e)}function yVe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&IN(e,t)}function IN(e,t){return IN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},IN(e,t)}function pQ(e,t,r){return t=mQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mQ(e){var t=xVe(e,"string");return pm(t)=="symbol"?t:t+""}function xVe(e,t){if(pm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DN(){return DN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},DN.apply(this,arguments)}var bVe=function(t){var r=t.yAxisId,n=dj(),a=hj(),i=QX(r);return i==null?null:F.createElement(Ym,DN({},i,{className:mn("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(o){return Zc(o,!0)}}))},cu=function(e){function t(){return dVe(this,t),mVe(this,t,arguments)}return yVe(t,e),pVe(t,[{key:"render",value:function(){return F.createElement(bVe,this.props)}}])}(F.Component);pQ(cu,"displayName","YAxis");pQ(cu,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function y$(e){return AVe(e)||SVe(e)||_Ve(e)||wVe()}function wVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Ve(e,t){if(e){if(typeof e=="string")return LN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LN(e,t)}}function SVe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function AVe(e){if(Array.isArray(e))return LN(e)}function LN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var MN=function(t,r,n,a,i){var s=Go(t,mj),o=Go(t,AS),l=[].concat(y$(s),y$(o)),c=Go(t,ES),u="".concat(a,"Id"),d=a[0],h=r;if(l.length&&(h=l.reduce(function(m,v){if(v.props[u]===n&&gc(v.props,"extendDomain")&&Ut(v.props[d])){var y=v.props[d];return[Math.min(m[0],y),Math.max(m[1],y)]}return m},h)),c.length){var p="".concat(d,"1"),g="".concat(d,"2");h=c.reduce(function(m,v){if(v.props[u]===n&&gc(v.props,"extendDomain")&&Ut(v.props[p])&&Ut(v.props[g])){var y=v.props[p],b=v.props[g];return[Math.min(m[0],y,b),Math.max(m[1],y,b)]}return m},h)}return i&&i.length&&(h=i.reduce(function(m,v){return Ut(v)?[Math.min(m[0],v),Math.max(m[1],v)]:m},h)),h},gQ={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function i(l,c,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new a(u,d||l,h),g=r?r+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)t.call(u,d)&&c.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=r?r+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,g=new Array(p);h<p;h++)g[h]=d[h].fn;return g},o.prototype.listenerCount=function(c){var u=r?r+c:c,d=this._events[u];return d?d.fn?1:d.length:0},o.prototype.emit=function(c,u,d,h,p,g){var m=r?r+c:c;if(!this._events[m])return!1;var v=this._events[m],y=arguments.length,b,x;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,d),!0;case 4:return v.fn.call(v.context,u,d,h),!0;case 5:return v.fn.call(v.context,u,d,h,p),!0;case 6:return v.fn.call(v.context,u,d,h,p,g),!0}for(x=1,b=new Array(y-1);x<y;x++)b[x-1]=arguments[x];v.fn.apply(v.context,b)}else{var O=v.length,P;for(x=0;x<O;x++)switch(v[x].once&&this.removeListener(c,v[x].fn,void 0,!0),y){case 1:v[x].fn.call(v[x].context);break;case 2:v[x].fn.call(v[x].context,u);break;case 3:v[x].fn.call(v[x].context,u,d);break;case 4:v[x].fn.call(v[x].context,u,d,h);break;default:if(!b)for(P=1,b=new Array(y-1);P<y;P++)b[P-1]=arguments[P];v[x].fn.apply(v[x].context,b)}}return!0},o.prototype.on=function(c,u,d){return i(this,c,u,d,!1)},o.prototype.once=function(c,u,d){return i(this,c,u,d,!0)},o.prototype.removeListener=function(c,u,d,h){var p=r?r+c:c;if(!this._events[p])return this;if(!u)return s(this,p),this;var g=this._events[p];if(g.fn)g.fn===u&&(!h||g.once)&&(!d||g.context===d)&&s(this,p);else{for(var m=0,v=[],y=g.length;m<y;m++)(g[m].fn!==u||h&&!g[m].once||d&&g[m].context!==d)&&v.push(g[m]);v.length?this._events[p]=v.length===1?v[0]:v:s(this,p)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&s(this,u)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(gQ);var TVe=gQ.exports;const EVe=Dn(TVe);var B4=new EVe,U4="recharts.syncMouseEvents";function Sy(e){"@babel/helpers - typeof";return Sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sy(e)}function NVe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kVe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vQ(n.key),n)}}function CVe(e,t,r){return t&&kVe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function V4(e,t,r){return t=vQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vQ(e){var t=PVe(e,"string");return Sy(t)=="symbol"?t:t+""}function PVe(e,t){if(Sy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var jVe=function(){function e(){NVe(this,e),V4(this,"activeIndex",0),V4(this,"coordinateList",[]),V4(this,"layout","horizontal")}return CVe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,s=r.container,o=s===void 0?null:s,l=r.layout,c=l===void 0?null:l,u=r.offset,d=u===void 0?null:u,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,o=a.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=i+l+c,h=s+this.offset.top+o/2+u;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function OVe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&Ut(n)&&Ut(a))return!0}return!1}function IVe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function yQ(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,s=Ni(t,r,n,a),o=Ni(t,r,n,i);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function DVe(e,t,r){var n,a,i,s;if(e==="horizontal")n=t.x,i=n,a=r.top,s=r.top+r.height;else if(e==="vertical")a=t.y,s=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var o=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.angle,h=Ni(o,l,c,d),p=Ni(o,l,u,d);n=h.x,a=h.y,i=p.x,s=p.y}else return yQ(t);return[{x:n,y:a},{x:i,y:s}]}function Ay(e){"@babel/helpers - typeof";return Ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ay(e)}function x$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function O2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x$(Object(r),!0).forEach(function(n){LVe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LVe(e,t,r){return t=MVe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MVe(e){var t=RVe(e,"string");return Ay(t)=="symbol"?t:t+""}function RVe(e,t){if(Ay(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ay(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FVe(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,s=e.activeCoordinate,o=e.activePayload,l=e.offset,c=e.activeTooltipIndex,u=e.tooltipAxisBandSize,d=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!s||h!=="ScatterChart"&&a!=="axis")return null;var g,m=oN;if(h==="ScatterChart")g=s,m=RFe;else if(h==="BarChart")g=IVe(d,s,l,u),m=oj;else if(d==="radial"){var v=yQ(s),y=v.cx,b=v.cy,x=v.radius,O=v.startAngle,P=v.endAngle;g={cx:y,cy:b,startAngle:O,endAngle:P,innerRadius:x,outerRadius:x},m=_X}else g={points:DVe(d,s,l)},m=oN;var j=O2(O2(O2(O2({stroke:"#ccc",pointerEvents:"none"},l),g),nn(p,!1)),{},{payload:o,payloadIndex:c,className:mn("recharts-tooltip-cursor",p.className)});return F.isValidElement(p)?F.cloneElement(p,j):F.createElement(m,j)}var $Ve=["item"],BVe=["children","className","width","height","style","compact","title","desc"];function mm(e){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mm(e)}function rp(){return rp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rp.apply(this,arguments)}function b$(e,t){return zVe(e)||VVe(e,t)||bQ(e,t)||UVe()}function UVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VVe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function zVe(e){if(Array.isArray(e))return e}function w$(e,t){if(e==null)return{};var r=qVe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qVe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function WVe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HVe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wQ(n.key),n)}}function GVe(e,t,r){return t&&HVe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function KVe(e,t,r){return t=O5(t),YVe(e,xQ()?Reflect.construct(t,r||[],O5(e).constructor):t.apply(e,r))}function YVe(e,t){if(t&&(mm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XVe(e)}function XVe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xQ=function(){return!!e})()}function O5(e){return O5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},O5(e)}function QVe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RN(e,t)}function RN(e,t){return RN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},RN(e,t)}function gm(e){return eze(e)||ZVe(e)||bQ(e)||JVe()}function JVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bQ(e,t){if(e){if(typeof e=="string")return FN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FN(e,t)}}function ZVe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eze(e){if(Array.isArray(e))return FN(e)}function FN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_$(Object(r),!0).forEach(function(n){xr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xr(e,t,r){return t=wQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wQ(e){var t=tze(e,"string");return mm(t)=="symbol"?t:t+""}function tze(e,t){if(mm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rze={xAxis:["bottom","top"],yAxis:["left","right"]},nze={width:"100%",height:"100%"},_Q={x:0,y:0};function I2(e){return e}var aze=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},ize=function(t,r,n,a){var i=r.find(function(u){return u&&u.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,o=a.radius;return ft(ft(ft({},a),Ni(a.cx,a.cy,o,s)),{},{angle:s,radius:o})}var l=i.coordinate,c=a.angle;return ft(ft(ft({},a),Ni(a.cx,a.cy,l,c)),{},{angle:c,radius:l})}return _Q},NS=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,s=(n??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(gm(o),gm(c)):o},[]);return s.length>0?s:t&&t.length&&Ut(a)&&Ut(i)?t.slice(a,i+1):[]};function SQ(e){return e==="number"?[0,"auto"]:void 0}var $N=function(t,r,n,a){var i=t.graphicalItems,s=t.tooltipAxis,o=NS(r,t);return n<0||!i||!i.length||n>=o.length?null:i.reduce(function(l,c){var u,d=(u=c.props.data)!==null&&u!==void 0?u:r;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var p=d===void 0?o:d;h=Dw(p,s.dataKey,a)}else h=d&&d[n]||o[n];return h?[].concat(gm(l),[xX(c,h)]):l},[])},S$=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},s=aze(i,n),o=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,u=xMe(s,o,c,l);if(u>=0&&c){var d=c[u]&&c[u].value,h=$N(t,r,u,d),p=ize(n,o,u,i);return{activeTooltipIndex:u,activeLabel:d,activePayload:h,activeCoordinate:p}}return null},sze=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,d=t.children,h=t.stackOffset,p=gX(u,i);return n.reduce(function(g,m){var v,y=m.type.defaultProps!==void 0?ft(ft({},m.type.defaultProps),m.props):m.props,b=y.type,x=y.dataKey,O=y.allowDataOverflow,P=y.allowDuplicatedCategory,j=y.scale,T=y.ticks,S=y.includeHidden,_=y[s];if(g[_])return g;var D=NS(t.data,{graphicalItems:a.filter(function(I){var M,z=s in I.props?I.props[s]:(M=I.type.defaultProps)===null||M===void 0?void 0:M[s];return z===_}),dataStartIndex:l,dataEndIndex:c}),E=D.length,N,k,V;OVe(y.domain,O,b)&&(N=rN(y.domain,null,O),p&&(b==="number"||j!=="auto")&&(V=Fv(D,x,"category")));var Q=SQ(b);if(!N||N.length===0){var W,G=(W=y.domain)!==null&&W!==void 0?W:Q;if(x){if(N=Fv(D,x,b),b==="category"&&p){var q=s4e(N);P&&q?(k=N,N=x5(0,E)):P||(N=tF(G,N,m).reduce(function(I,M){return I.indexOf(M)>=0?I:[].concat(gm(I),[M])},[]))}else if(b==="category")P?N=N.filter(function(I){return I!==""&&!Gr(I)}):N=tF(G,N,m).reduce(function(I,M){return I.indexOf(M)>=0||M===""||Gr(M)?I:[].concat(gm(I),[M])},[]);else if(b==="number"){var U=AMe(D,a.filter(function(I){var M,z,K=s in I.props?I.props[s]:(M=I.type.defaultProps)===null||M===void 0?void 0:M[s],X="hide"in I.props?I.props.hide:(z=I.type.defaultProps)===null||z===void 0?void 0:z.hide;return K===_&&(S||!X)}),x,i,u);U&&(N=U)}p&&(b==="number"||j!=="auto")&&(V=Fv(D,x,"category"))}else p?N=x5(0,E):o&&o[_]&&o[_].hasStack&&b==="number"?N=h==="expand"?[0,1]:yX(o[_].stackGroups,l,c):N=mX(D,a.filter(function(I){var M=s in I.props?I.props[s]:I.type.defaultProps[s],z="hide"in I.props?I.props.hide:I.type.defaultProps.hide;return M===_&&(S||!z)}),b,u,!0);if(b==="number")N=MN(d,N,_,i,T),G&&(N=rN(G,N,O));else if(b==="category"&&G){var ee=G,Z=N.every(function(I){return ee.indexOf(I)>=0});Z&&(N=ee)}}return ft(ft({},g),{},xr({},_,ft(ft({},y),{},{axisType:i,domain:N,categoricalDomain:V,duplicateDomain:k,originalDomain:(v=y.domain)!==null&&v!==void 0?v:Q,isCategorical:p,layout:u})))},{})},oze=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,d=t.children,h=NS(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),p=h.length,g=gX(u,i),m=-1;return n.reduce(function(v,y){var b=y.type.defaultProps!==void 0?ft(ft({},y.type.defaultProps),y.props):y.props,x=b[s],O=SQ("number");if(!v[x]){m++;var P;return g?P=x5(0,p):o&&o[x]&&o[x].hasStack?(P=yX(o[x].stackGroups,l,c),P=MN(d,P,x,i)):(P=rN(O,mX(h,n.filter(function(j){var T,S,_=s in j.props?j.props[s]:(T=j.type.defaultProps)===null||T===void 0?void 0:T[s],D="hide"in j.props?j.props.hide:(S=j.type.defaultProps)===null||S===void 0?void 0:S.hide;return _===x&&!D}),"number",u),a.defaultProps.allowDataOverflow),P=MN(d,P,x,i)),ft(ft({},v),{},xr({},x,ft(ft({axisType:i},a.defaultProps),{},{hide:!0,orientation:Ho(rze,"".concat(i,".").concat(m%2),null),domain:P,originalDomain:O,isCategorical:g,layout:u})))}return v},{})},lze=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.children,d="".concat(a,"Id"),h=Go(u,i),p={};return h&&h.length?p=sze(t,{axes:h,graphicalItems:s,axisType:a,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(p=oze(t,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),p},cze=function(t){var r=_f(t),n=Zc(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:D6(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:u5(r,n)}},A$=function(t){var r=t.children,n=t.defaultShowTooltip,a=io(r,sm),i=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},uze=function(t){return!t||!t.length?!1:t.some(function(r){var n=au(r&&r.type);return n&&n.indexOf("Bar")>=0})},T$=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},fze=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,s=i===void 0?{}:i,o=t.yAxisMap,l=o===void 0?{}:o,c=n.width,u=n.height,d=n.children,h=n.margin||{},p=io(d,sm),g=io(d,Ko),m=Object.keys(l).reduce(function(P,j){var T=l[j],S=T.orientation;return!T.mirror&&!T.hide?ft(ft({},P),{},xr({},S,P[S]+T.width)):P},{left:h.left||0,right:h.right||0}),v=Object.keys(s).reduce(function(P,j){var T=s[j],S=T.orientation;return!T.mirror&&!T.hide?ft(ft({},P),{},xr({},S,Ho(P,"".concat(S))+T.height)):P},{top:h.top||0,bottom:h.bottom||0}),y=ft(ft({},v),m),b=y.bottom;p&&(y.bottom+=p.props.height||sm.defaultProps.height),g&&r&&(y=_Me(y,a,n,r));var x=c-y.left-y.right,O=u-y.top-y.bottom;return ft(ft({brushBottom:b},y),{},{width:Math.max(x,0),height:Math.max(O,0)})},dze=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},hze=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,s=t.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=t.axisComponents,c=t.legendContent,u=t.formatAxisMap,d=t.defaultProps,h=function(y,b){var x=b.graphicalItems,O=b.stackGroups,P=b.offset,j=b.updateId,T=b.dataStartIndex,S=b.dataEndIndex,_=y.barSize,D=y.layout,E=y.barGap,N=y.barCategoryGap,k=y.maxBarSize,V=T$(D),Q=V.numericAxisName,W=V.cateAxisName,G=uze(x),q=[];return x.forEach(function(U,ee){var Z=NS(y.data,{graphicalItems:[U],dataStartIndex:T,dataEndIndex:S}),I=U.type.defaultProps!==void 0?ft(ft({},U.type.defaultProps),U.props):U.props,M=I.dataKey,z=I.maxBarSize,K=I["".concat(Q,"Id")],X=I["".concat(W,"Id")],ae={},ue=l.reduce(function(Ee,Re){var Te=b["".concat(Re.axisType,"Map")],Me=I["".concat(Re.axisType,"Id")];Te&&Te[Me]||Re.axisType==="zAxis"||Mh();var We=Te[Me];return ft(ft({},Ee),{},xr(xr({},Re.axisType,We),"".concat(Re.axisType,"Ticks"),Zc(We)))},ae),ie=ue[W],ge=ue["".concat(W,"Ticks")],ye=O&&O[K]&&O[K].hasStack&&MMe(U,O[K].stackGroups),H=au(U.type).indexOf("Bar")>=0,ke=u5(ie,ge),Ce=[],_e=G&&bMe({barSize:_,stackGroups:O,totalSize:dze(ue,W)});if(H){var le,Le,qe=Gr(z)?k:z,Ke=(le=(Le=u5(ie,ge,!0))!==null&&Le!==void 0?Le:qe)!==null&&le!==void 0?le:0;Ce=wMe({barGap:E,barCategoryGap:N,bandSize:Ke!==ke?Ke:ke,sizeList:_e[X],maxBarSize:qe}),Ke!==ke&&(Ce=Ce.map(function(Ee){return ft(ft({},Ee),{},{position:ft(ft({},Ee.position),{},{offset:Ee.position.offset-Ke/2})})}))}var rt=U&&U.type&&U.type.getComposedData;rt&&q.push({props:ft(ft({},rt(ft(ft({},ue),{},{displayedData:Z,props:y,dataKey:M,item:U,bandSize:ke,barPosition:Ce,offset:P,stackedData:ye,layout:D,dataStartIndex:T,dataEndIndex:S}))),{},xr(xr(xr({key:U.key||"item-".concat(ee)},Q,ue[Q]),W,ue[W]),"animationId",j)),childIndex:x4e(U,y.children),item:U})}),q},p=function(y,b){var x=y.props,O=y.dataStartIndex,P=y.dataEndIndex,j=y.updateId;if(!KM({props:x}))return null;var T=x.children,S=x.layout,_=x.stackOffset,D=x.data,E=x.reverseStackOrder,N=T$(S),k=N.numericAxisName,V=N.cateAxisName,Q=Go(T,n),W=IMe(D,Q,"".concat(k,"Id"),"".concat(V,"Id"),_,E),G=l.reduce(function(I,M){var z="".concat(M.axisType,"Map");return ft(ft({},I),{},xr({},z,lze(x,ft(ft({},M),{},{graphicalItems:Q,stackGroups:M.axisType===k&&W,dataStartIndex:O,dataEndIndex:P}))))},{}),q=fze(ft(ft({},G),{},{props:x,graphicalItems:Q}),b==null?void 0:b.legendBBox);Object.keys(G).forEach(function(I){G[I]=u(x,G[I],q,I.replace("Map",""),r)});var U=G["".concat(V,"Map")],ee=cze(U),Z=h(x,ft(ft({},G),{},{dataStartIndex:O,dataEndIndex:P,updateId:j,graphicalItems:Q,stackGroups:W,offset:q}));return ft(ft({formattedGraphicalItems:Z,graphicalItems:Q,offset:q,stackGroups:W},ee),G)},g=function(v){function y(b){var x,O,P;return WVe(this,y),P=KVe(this,y,[b]),xr(P,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),xr(P,"accessibilityManager",new jVe),xr(P,"handleLegendBBoxUpdate",function(j){if(j){var T=P.state,S=T.dataStartIndex,_=T.dataEndIndex,D=T.updateId;P.setState(ft({legendBBox:j},p({props:P.props,dataStartIndex:S,dataEndIndex:_,updateId:D},ft(ft({},P.state),{},{legendBBox:j}))))}}),xr(P,"handleReceiveSyncEvent",function(j,T,S){if(P.props.syncId===j){if(S===P.eventEmitterSymbol&&typeof P.props.syncMethod!="function")return;P.applySyncEvent(T)}}),xr(P,"handleBrushChange",function(j){var T=j.startIndex,S=j.endIndex;if(T!==P.state.dataStartIndex||S!==P.state.dataEndIndex){var _=P.state.updateId;P.setState(function(){return ft({dataStartIndex:T,dataEndIndex:S},p({props:P.props,dataStartIndex:T,dataEndIndex:S,updateId:_},P.state))}),P.triggerSyncEvent({dataStartIndex:T,dataEndIndex:S})}}),xr(P,"handleMouseEnter",function(j){var T=P.getMouseInfo(j);if(T){var S=ft(ft({},T),{},{isTooltipActive:!0});P.setState(S),P.triggerSyncEvent(S);var _=P.props.onMouseEnter;qr(_)&&_(S,j)}}),xr(P,"triggeredAfterMouseMove",function(j){var T=P.getMouseInfo(j),S=T?ft(ft({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};P.setState(S),P.triggerSyncEvent(S);var _=P.props.onMouseMove;qr(_)&&_(S,j)}),xr(P,"handleItemMouseEnter",function(j){P.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),xr(P,"handleItemMouseLeave",function(){P.setState(function(){return{isTooltipActive:!1}})}),xr(P,"handleMouseMove",function(j){j.persist(),P.throttleTriggeredAfterMouseMove(j)}),xr(P,"handleMouseLeave",function(j){P.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};P.setState(T),P.triggerSyncEvent(T);var S=P.props.onMouseLeave;qr(S)&&S(T,j)}),xr(P,"handleOuterEvent",function(j){var T=y4e(j),S=Ho(P.props,"".concat(T));if(T&&qr(S)){var _,D;/.*touch.*/i.test(T)?D=P.getMouseInfo(j.changedTouches[0]):D=P.getMouseInfo(j),S((_=D)!==null&&_!==void 0?_:{},j)}}),xr(P,"handleClick",function(j){var T=P.getMouseInfo(j);if(T){var S=ft(ft({},T),{},{isTooltipActive:!0});P.setState(S),P.triggerSyncEvent(S);var _=P.props.onClick;qr(_)&&_(S,j)}}),xr(P,"handleMouseDown",function(j){var T=P.props.onMouseDown;if(qr(T)){var S=P.getMouseInfo(j);T(S,j)}}),xr(P,"handleMouseUp",function(j){var T=P.props.onMouseUp;if(qr(T)){var S=P.getMouseInfo(j);T(S,j)}}),xr(P,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&P.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),xr(P,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&P.handleMouseDown(j.changedTouches[0])}),xr(P,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&P.handleMouseUp(j.changedTouches[0])}),xr(P,"handleDoubleClick",function(j){var T=P.props.onDoubleClick;if(qr(T)){var S=P.getMouseInfo(j);T(S,j)}}),xr(P,"handleContextMenu",function(j){var T=P.props.onContextMenu;if(qr(T)){var S=P.getMouseInfo(j);T(S,j)}}),xr(P,"triggerSyncEvent",function(j){P.props.syncId!==void 0&&B4.emit(U4,P.props.syncId,j,P.eventEmitterSymbol)}),xr(P,"applySyncEvent",function(j){var T=P.props,S=T.layout,_=T.syncMethod,D=P.state.updateId,E=j.dataStartIndex,N=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)P.setState(ft({dataStartIndex:E,dataEndIndex:N},p({props:P.props,dataStartIndex:E,dataEndIndex:N,updateId:D},P.state)));else if(j.activeTooltipIndex!==void 0){var k=j.chartX,V=j.chartY,Q=j.activeTooltipIndex,W=P.state,G=W.offset,q=W.tooltipTicks;if(!G)return;if(typeof _=="function")Q=_(q,j);else if(_==="value"){Q=-1;for(var U=0;U<q.length;U++)if(q[U].value===j.activeLabel){Q=U;break}}var ee=ft(ft({},G),{},{x:G.left,y:G.top}),Z=Math.min(k,ee.x+ee.width),I=Math.min(V,ee.y+ee.height),M=q[Q]&&q[Q].value,z=$N(P.state,P.props.data,Q),K=q[Q]?{x:S==="horizontal"?q[Q].coordinate:Z,y:S==="horizontal"?I:q[Q].coordinate}:_Q;P.setState(ft(ft({},j),{},{activeLabel:M,activeCoordinate:K,activePayload:z,activeTooltipIndex:Q}))}else P.setState(j)}),xr(P,"renderCursor",function(j){var T,S=P.state,_=S.isTooltipActive,D=S.activeCoordinate,E=S.activePayload,N=S.offset,k=S.activeTooltipIndex,V=S.tooltipAxisBandSize,Q=P.getTooltipEventType(),W=(T=j.props.active)!==null&&T!==void 0?T:_,G=P.props.layout,q=j.key||"_recharts-cursor";return Be.createElement(FVe,{key:q,activeCoordinate:D,activePayload:E,activeTooltipIndex:k,chartName:r,element:j,isActive:W,layout:G,offset:N,tooltipAxisBandSize:V,tooltipEventType:Q})}),xr(P,"renderPolarAxis",function(j,T,S){var _=Ho(j,"type.axisType"),D=Ho(P.state,"".concat(_,"Map")),E=j.type.defaultProps,N=E!==void 0?ft(ft({},E),j.props):j.props,k=D&&D[N["".concat(_,"Id")]];return F.cloneElement(j,ft(ft({},k),{},{className:mn(_,k.className),key:j.key||"".concat(T,"-").concat(S),ticks:Zc(k,!0)}))}),xr(P,"renderPolarGrid",function(j){var T=j.props,S=T.radialLines,_=T.polarAngles,D=T.polarRadius,E=P.state,N=E.radiusAxisMap,k=E.angleAxisMap,V=_f(N),Q=_f(k),W=Q.cx,G=Q.cy,q=Q.innerRadius,U=Q.outerRadius;return F.cloneElement(j,{polarAngles:Array.isArray(_)?_:Zc(Q,!0).map(function(ee){return ee.coordinate}),polarRadius:Array.isArray(D)?D:Zc(V,!0).map(function(ee){return ee.coordinate}),cx:W,cy:G,innerRadius:q,outerRadius:U,key:j.key||"polar-grid",radialLines:S})}),xr(P,"renderLegend",function(){var j=P.state.formattedGraphicalItems,T=P.props,S=T.children,_=T.width,D=T.height,E=P.props.margin||{},N=_-(E.left||0)-(E.right||0),k=hX({children:S,formattedGraphicalItems:j,legendWidth:N,legendContent:c});if(!k)return null;var V=k.item,Q=w$(k,$Ve);return F.cloneElement(V,ft(ft({},Q),{},{chartWidth:_,chartHeight:D,margin:E,onBBoxUpdate:P.handleLegendBBoxUpdate}))}),xr(P,"renderTooltip",function(){var j,T=P.props,S=T.children,_=T.accessibilityLayer,D=io(S,vs);if(!D)return null;var E=P.state,N=E.isTooltipActive,k=E.activeCoordinate,V=E.activePayload,Q=E.activeLabel,W=E.offset,G=(j=D.props.active)!==null&&j!==void 0?j:N;return F.cloneElement(D,{viewBox:ft(ft({},W),{},{x:W.left,y:W.top}),active:G,label:Q,payload:G?V:[],coordinate:k,accessibilityLayer:_})}),xr(P,"renderBrush",function(j){var T=P.props,S=T.margin,_=T.data,D=P.state,E=D.offset,N=D.dataStartIndex,k=D.dataEndIndex,V=D.updateId;return F.cloneElement(j,{key:j.key||"_recharts-brush",onChange:k2(P.handleBrushChange,j.props.onChange),data:_,x:Ut(j.props.x)?j.props.x:E.left,y:Ut(j.props.y)?j.props.y:E.top+E.height+E.brushBottom-(S.bottom||0),width:Ut(j.props.width)?j.props.width:E.width,startIndex:N,endIndex:k,updateId:"brush-".concat(V)})}),xr(P,"renderReferenceElement",function(j,T,S){if(!j)return null;var _=P,D=_.clipPathId,E=P.state,N=E.xAxisMap,k=E.yAxisMap,V=E.offset,Q=j.type.defaultProps||{},W=j.props,G=W.xAxisId,q=G===void 0?Q.xAxisId:G,U=W.yAxisId,ee=U===void 0?Q.yAxisId:U;return F.cloneElement(j,{key:j.key||"".concat(T,"-").concat(S),xAxis:N[q],yAxis:k[ee],viewBox:{x:V.left,y:V.top,width:V.width,height:V.height},clipPathId:D})}),xr(P,"renderActivePoints",function(j){var T=j.item,S=j.activePoint,_=j.basePoint,D=j.childIndex,E=j.isRange,N=[],k=T.props.key,V=T.item.type.defaultProps!==void 0?ft(ft({},T.item.type.defaultProps),T.item.props):T.item.props,Q=V.activeDot,W=V.dataKey,G=ft(ft({index:D,dataKey:W,cx:S.x,cy:S.y,r:4,fill:sj(T.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value},nn(Q,!1)),Lw(Q));return N.push(y.renderActiveDot(Q,G,"".concat(k,"-activePoint-").concat(D))),_?N.push(y.renderActiveDot(Q,ft(ft({},G),{},{cx:_.x,cy:_.y}),"".concat(k,"-basePoint-").concat(D))):E&&N.push(null),N}),xr(P,"renderGraphicChild",function(j,T,S){var _=P.filterFormatItem(j,T,S);if(!_)return null;var D=P.getTooltipEventType(),E=P.state,N=E.isTooltipActive,k=E.tooltipAxis,V=E.activeTooltipIndex,Q=E.activeLabel,W=P.props.children,G=io(W,vs),q=_.props,U=q.points,ee=q.isRange,Z=q.baseLine,I=_.item.type.defaultProps!==void 0?ft(ft({},_.item.type.defaultProps),_.item.props):_.item.props,M=I.activeDot,z=I.hide,K=I.activeBar,X=I.activeShape,ae=!!(!z&&N&&G&&(M||K||X)),ue={};D!=="axis"&&G&&G.props.trigger==="click"?ue={onClick:k2(P.handleItemMouseEnter,j.props.onClick)}:D!=="axis"&&(ue={onMouseLeave:k2(P.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:k2(P.handleItemMouseEnter,j.props.onMouseEnter)});var ie=F.cloneElement(j,ft(ft({},_.props),ue));function ge(Re){return typeof k.dataKey=="function"?k.dataKey(Re.payload):null}if(ae)if(V>=0){var ye,H;if(k.dataKey&&!k.allowDuplicatedCategory){var ke=typeof k.dataKey=="function"?ge:"payload.".concat(k.dataKey.toString());ye=Dw(U,ke,Q),H=ee&&Z&&Dw(Z,ke,Q)}else ye=U==null?void 0:U[V],H=ee&&Z&&Z[V];if(X||K){var Ce=j.props.activeIndex!==void 0?j.props.activeIndex:V;return[F.cloneElement(j,ft(ft(ft({},_.props),ue),{},{activeIndex:Ce})),null,null]}if(!Gr(ye))return[ie].concat(gm(P.renderActivePoints({item:_,activePoint:ye,basePoint:H,childIndex:V,isRange:ee})))}else{var _e,le=(_e=P.getItemByXY(P.state.activeCoordinate))!==null&&_e!==void 0?_e:{graphicalItem:ie},Le=le.graphicalItem,qe=Le.item,Ke=qe===void 0?j:qe,rt=Le.childIndex,Ee=ft(ft(ft({},_.props),ue),{},{activeIndex:rt});return[F.cloneElement(Ke,Ee),null,null]}return ee?[ie,null,null]:[ie,null]}),xr(P,"renderCustomized",function(j,T,S){return F.cloneElement(j,ft(ft({key:"recharts-customized-".concat(S)},P.props),P.state))}),xr(P,"renderMap",{CartesianGrid:{handler:I2,once:!0},ReferenceArea:{handler:P.renderReferenceElement},ReferenceLine:{handler:I2},ReferenceDot:{handler:P.renderReferenceElement},XAxis:{handler:I2},YAxis:{handler:I2},Brush:{handler:P.renderBrush,once:!0},Bar:{handler:P.renderGraphicChild},Line:{handler:P.renderGraphicChild},Area:{handler:P.renderGraphicChild},Radar:{handler:P.renderGraphicChild},RadialBar:{handler:P.renderGraphicChild},Scatter:{handler:P.renderGraphicChild},Pie:{handler:P.renderGraphicChild},Funnel:{handler:P.renderGraphicChild},Tooltip:{handler:P.renderCursor,once:!0},PolarGrid:{handler:P.renderPolarGrid,once:!0},PolarAngleAxis:{handler:P.renderPolarAxis},PolarRadiusAxis:{handler:P.renderPolarAxis},Customized:{handler:P.renderCustomized}}),P.clipPathId="".concat((x=b.id)!==null&&x!==void 0?x:rx("recharts"),"-clip"),P.throttleTriggeredAfterMouseMove=dY(P.triggeredAfterMouseMove,(O=b.throttleDelay)!==null&&O!==void 0?O:1e3/60),P.state={},P}return QVe(y,v),GVe(y,[{key:"componentDidMount",value:function(){var x,O;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,O=x.children,P=x.data,j=x.height,T=x.layout,S=io(O,vs);if(S){var _=S.props.defaultIndex;if(!(typeof _!="number"||_<0||_>this.state.tooltipTicks.length-1)){var D=this.state.tooltipTicks[_]&&this.state.tooltipTicks[_].value,E=$N(this.state,P,_,D),N=this.state.tooltipTicks[_].coordinate,k=(this.state.offset.top+j)/2,V=T==="horizontal",Q=V?{x:N,y:k}:{y:N,x:k},W=this.state.formattedGraphicalItems.find(function(q){var U=q.item;return U.type.name==="Scatter"});W&&(Q=ft(ft({},Q),W.props.points[_].tooltipPosition),E=W.props.points[_].tooltipPayload);var G={activeTooltipIndex:_,isTooltipActive:!0,activeLabel:D,activePayload:E,activeCoordinate:Q};this.setState(G),this.renderCursor(S),this.accessibilityManager.setIndex(_)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,O){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==O.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var P,j;this.accessibilityManager.setDetails({offset:{left:(P=this.props.margin.left)!==null&&P!==void 0?P:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(x){vE([io(x.children,vs)],[io(this.props.children,vs)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=io(this.props.children,vs);if(x&&typeof x.props.shared=="boolean"){var O=x.props.shared?"axis":"item";return o.indexOf(O)>=0?O:i}return i}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var O=this.container,P=O.getBoundingClientRect(),j=WOe(P),T={chartX:Math.round(x.pageX-j.left),chartY:Math.round(x.pageY-j.top)},S=P.width/O.offsetWidth||1,_=this.inRange(T.chartX,T.chartY,S);if(!_)return null;var D=this.state,E=D.xAxisMap,N=D.yAxisMap,k=this.getTooltipEventType(),V=S$(this.state,this.props.data,this.props.layout,_);if(k!=="axis"&&E&&N){var Q=_f(E).scale,W=_f(N).scale,G=Q&&Q.invert?Q.invert(T.chartX):null,q=W&&W.invert?W.invert(T.chartY):null;return ft(ft({},T),{},{xValue:G,yValue:q},V)}return V?ft(ft({},T),V):null}},{key:"inRange",value:function(x,O){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,T=x/P,S=O/P;if(j==="horizontal"||j==="vertical"){var _=this.state.offset,D=T>=_.left&&T<=_.left+_.width&&S>=_.top&&S<=_.top+_.height;return D?{x:T,y:S}:null}var E=this.state,N=E.angleAxisMap,k=E.radiusAxisMap;if(N&&k){var V=_f(N);return aF({x:T,y:S},V)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,O=this.getTooltipEventType(),P=io(x,vs),j={};P&&O==="axis"&&(P.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=Lw(this.props,this.handleOuterEvent);return ft(ft({},T),j)}},{key:"addListener",value:function(){B4.on(U4,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){B4.removeListener(U4,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,O,P){for(var j=this.state.formattedGraphicalItems,T=0,S=j.length;T<S;T++){var _=j[T];if(_.item===x||_.props.key===x.key||O===au(_.item.type)&&P===_.childIndex)return _}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,O=this.state.offset,P=O.left,j=O.top,T=O.height,S=O.width;return Be.createElement("defs",null,Be.createElement("clipPath",{id:x},Be.createElement("rect",{x:P,y:j,height:T,width:S})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(O,P){var j=b$(P,2),T=j[0],S=j[1];return ft(ft({},O),{},xr({},T,S.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(O,P){var j=b$(P,2),T=j[0],S=j[1];return ft(ft({},O),{},xr({},T,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var O;return(O=this.state.xAxisMap)===null||O===void 0||(O=O[x])===null||O===void 0?void 0:O.scale}},{key:"getYScaleByAxisId",value:function(x){var O;return(O=this.state.yAxisMap)===null||O===void 0||(O=O[x])===null||O===void 0?void 0:O.scale}},{key:"getItemByXY",value:function(x){var O=this.state,P=O.formattedGraphicalItems,j=O.activeItem;if(P&&P.length)for(var T=0,S=P.length;T<S;T++){var _=P[T],D=_.props,E=_.item,N=E.type.defaultProps!==void 0?ft(ft({},E.type.defaultProps),E.props):E.props,k=au(E.type);if(k==="Bar"){var V=(D.data||[]).find(function(q){return NFe(x,q)});if(V)return{graphicalItem:_,payload:V}}else if(k==="RadialBar"){var Q=(D.data||[]).find(function(q){return aF(x,q)});if(Q)return{graphicalItem:_,payload:Q}}else if(bS(_,j)||wS(_,j)||yy(_,j)){var W=P$e({graphicalItem:_,activeTooltipItem:j,itemData:N.data}),G=N.activeIndex===void 0?W:N.activeIndex;return{graphicalItem:ft(ft({},_),{},{childIndex:G}),payload:yy(_,j)?N.data[W]:_.props.data[W]}}}return null}},{key:"render",value:function(){var x=this;if(!KM(this))return null;var O=this.props,P=O.children,j=O.className,T=O.width,S=O.height,_=O.style,D=O.compact,E=O.title,N=O.desc,k=w$(O,BVe),V=nn(k,!1);if(D)return Be.createElement(r$,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Be.createElement(xE,rp({},V,{width:T,height:S,title:E,desc:N}),this.renderClipPath(),XM(P,this.renderMap)));if(this.props.accessibilityLayer){var Q,W;V.tabIndex=(Q=this.props.tabIndex)!==null&&Q!==void 0?Q:0,V.role=(W=this.props.role)!==null&&W!==void 0?W:"application",V.onKeyDown=function(q){x.accessibilityManager.keyboardEvent(q)},V.onFocus=function(){x.accessibilityManager.focus()}}var G=this.parseEventsOfWrapper();return Be.createElement(r$,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Be.createElement("div",rp({className:mn("recharts-wrapper",j),style:ft({position:"relative",cursor:"default",width:T,height:S},_)},G,{ref:function(U){x.container=U}}),Be.createElement(xE,rp({},V,{width:T,height:S,title:E,desc:N,style:nze}),this.renderClipPath(),XM(P,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(F.Component);xr(g,"displayName",r),xr(g,"defaultProps",ft({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),xr(g,"getDerivedStateFromProps",function(v,y){var b=v.dataKey,x=v.data,O=v.children,P=v.width,j=v.height,T=v.layout,S=v.stackOffset,_=v.margin,D=y.dataStartIndex,E=y.dataEndIndex;if(y.updateId===void 0){var N=A$(v);return ft(ft(ft({},N),{},{updateId:0},p(ft(ft({props:v},N),{},{updateId:0}),y)),{},{prevDataKey:b,prevData:x,prevWidth:P,prevHeight:j,prevLayout:T,prevStackOffset:S,prevMargin:_,prevChildren:O})}if(b!==y.prevDataKey||x!==y.prevData||P!==y.prevWidth||j!==y.prevHeight||T!==y.prevLayout||S!==y.prevStackOffset||!vp(_,y.prevMargin)){var k=A$(v),V={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},Q=ft(ft({},S$(y,x,T)),{},{updateId:y.updateId+1}),W=ft(ft(ft({},k),V),Q);return ft(ft(ft({},W),p(ft({props:v},W),y)),{},{prevDataKey:b,prevData:x,prevWidth:P,prevHeight:j,prevLayout:T,prevStackOffset:S,prevMargin:_,prevChildren:O})}if(!vE(O,y.prevChildren)){var G,q,U,ee,Z=io(O,sm),I=Z&&(G=(q=Z.props)===null||q===void 0?void 0:q.startIndex)!==null&&G!==void 0?G:D,M=Z&&(U=(ee=Z.props)===null||ee===void 0?void 0:ee.endIndex)!==null&&U!==void 0?U:E,z=I!==D||M!==E,K=!Gr(x),X=K&&!z?y.updateId:y.updateId+1;return ft(ft({updateId:X},p(ft(ft({props:v},y),{},{updateId:X,dataStartIndex:I,dataEndIndex:M}),y)),{},{prevChildren:O,dataStartIndex:I,dataEndIndex:M})}return null}),xr(g,"renderActiveDot",function(v,y,b){var x;return F.isValidElement(v)?x=F.cloneElement(v,y):qr(v)?x=v(y):x=Be.createElement(lj,y),Be.createElement(Ca,{className:"recharts-active-dot",key:b},x)});var m=F.forwardRef(function(y,b){return Be.createElement(g,rp({},y,{ref:b}))});return m.displayName=g.displayName,m},wp=hze({chartName:"LineChart",GraphicalChild:Ra,axisComponents:[{axisType:"xAxis",AxisComp:lu},{axisType:"yAxis",AxisComp:cu}],formatAxisMap:tBe});const pze=()=>{const{isDarkMode:e}=un(),{showToast:t}=_c(),{user:r}=xa(),[n,a]=F.useState(!1),[i,s]=F.useState([]),[o,l]=F.useState(!1),[c,u]=F.useState([]),[d,h]=F.useState([]),[p,g]=F.useState(null),[m,v]=F.useState(null),[y,b]=F.useState(null),[x,O]=F.useState(!1),[P,j]=F.useState(!1),[T,S]=F.useState(!1),[_,D]=F.useState(!1),[E,N]=F.useState(!1),[k,V]=F.useState(""),[Q,W]=F.useState(!1),[G,q]=F.useState(null),[U,ee]=F.useState(null),[Z,I]=F.useState(0),[M,z]=F.useState(new Set),[K,X]=F.useState(!1),[ae,ue]=F.useState(!1),[ie,ge]=F.useState(!1),[ye,H]=F.useState(0),[ke,Ce]=F.useState(new Set),[_e,le]=F.useState(new Set),[Le,qe]=F.useState(!1),[Ke,rt]=F.useState(""),[Ee,Re]=F.useState([]),[Te,Me]=F.useState(!1),[We,st]=F.useState("name"),[ct,xt]=F.useState(!1),[ht,pt]=F.useState(null),[He,Ft]=F.useState(null),[Nt,Pr]=F.useState("all"),[ur,pr]=F.useState(""),[je,De]=F.useState([]),[tt,bt]=F.useState(()=>{const se=new Date;return se.setHours(0,0,0,0),se}),[Rt,Yt]=F.useState(""),[Ct,It]=F.useState(()=>{const se=new Date,Ae=new Date;return Ae.setDate(Ae.getDate()-6),Ae.setHours(0,0,0,0),se.setHours(23,59,59,999),{start:Ae,end:se}}),[rr,br]=F.useState({dailyStats:[],userStats:[]}),[wr,Er]=F.useState(!1),[an,Xt]=F.useState({workerStats:[],hourlyProductivity:[]}),[sa,Un]=F.useState(!1),[Ne,it]=F.useState(()=>{const se=new Date,Ae=se.getFullYear(),mt=se.getMonth(),Ht=se.getDate();return new Date(Ae,mt,Ht)}),ut=se=>{const Ae=new Date,mt=new Date(Ae.getFullYear(),Ae.getMonth(),Ae.getDate());return se.createdAt<mt&&se.status==="completed"},te=se=>{if(!ht&&!He)return!0;const Ae=se.createdAt;return ht&&He?Ae>=ht&&Ae<=He:ht?Ae>=ht:He?Ae<=He:!0},ve=()=>{const se=new Set(i.map(Ae=>Ae.createdBy));return Array.from(se).sort()},he=se=>Nt==="all"?!0:se.createdBy===Nt,me=se=>{if(!ur.trim())return!0;const Ae=ur.toLowerCase().trim();return se.jobId.toLowerCase().includes(Ae)?!0:se.items.some(mt=>mt.name&&mt.name.toLowerCase().includes(Ae))},xe=i.filter(se=>P?ut(se)&&te(se)&&he(se)&&me(se):x?se.status==="completed"&&!ut(se):T?se.status==="picking":se.status!=="completed"),we=()=>{const se=i.filter(mt=>mt.status==="picking"),Ae=je.filter(mt=>mt.isActive);return{databaseJobs:se,uiSessions:Ae,totalCount:se.length+Ae.length}},ze=F.useCallback(async()=>{try{const se=new Date(Date.now()-36e5),Ae=lr(At(Xe,"liveJobSessions"),or("startTime","<",se)),mt=await dr(Ae),Ht=[];if(mt.forEach(gt=>{(gt.data().items||[]).length===0&&Ht.push(gt.id)}),Ht.length>0){const gt=Ht.map(dt=>Bs(kr(Xe,"liveJobSessions",dt)));await Promise.all(gt)}}catch(se){console.log("error",se)}},[]),nt=F.useCallback(async()=>{console.log("Starting productivity data generation..."),console.log("Selected productivity date:",Ne),Un(!0);try{const se=Ne.getFullYear(),Ae=Ne.getMonth(),mt=Ne.getDate(),Ht=new Date(se,Ae,mt,0,0,0,0),gt=new Date(se,Ae,mt,23,59,59,999);console.log("Date range:",{start:Ht.toISOString(),end:gt.toISOString()});const dt=i.filter(Qt=>{const fr=Qt.createdAt;return fr>=Ht&&fr<=gt&&Qt.status==="completed"});console.log("Jobs in range:",dt.length);const wt=new Map;dt.forEach(Qt=>{if(!Qt.picker)return;const fr=Qt.picker,jr=wt.get(fr)||{totalJobs:0,completedJobs:0,totalPickingTime:0,totalItems:0,pickingTimes:[]};jr.totalJobs++,Qt.status==="completed"&&jr.completedJobs++,Qt.pickingTime&&Qt.pickingTime>0&&(jr.totalPickingTime+=Qt.pickingTime,jr.pickingTimes.push(Qt.pickingTime)),jr.totalItems+=Qt.items.reduce((fn,Tn)=>fn+Tn.quantity,0),wt.set(fr,jr)});const Gt=Array.from(wt.entries()).map(([Qt,fr])=>{const jr=fr.pickingTimes.length>0?fr.pickingTimes.reduce((Hr,Mn)=>Hr+Mn,0)/fr.pickingTimes.length:0,fn=fr.totalPickingTime>0?fr.totalItems/(fr.totalPickingTime/60):0;let Tn;return fn>=10?Tn="excellent":fn>=7?Tn="good":fn>=4?Tn="average":Tn="needs_improvement",{name:Qt,totalJobs:fr.totalJobs,completedJobs:fr.completedJobs,avgPickingTime:Math.round(jr),totalPickingTime:fr.totalPickingTime,itemsPicked:fr.totalItems,efficiency:Math.round(fn*100)/100,performance:Tn}}).sort((Qt,fr)=>fr.efficiency-Qt.efficiency),er=[];for(let Qt=0;Qt<24;Qt++){const fr=new Date(Ne);fr.setHours(Qt,0,0,0);const jr=new Date(Ne);jr.setHours(Qt,59,59,999);const fn=dt.filter(En=>{const _r=En.createdAt;return _r>=fr&&_r<=jr}),Tn=fn.reduce((En,_r)=>En+_r.items.reduce((Ys,nl)=>Ys+nl.quantity,0),0),Hr=fn.filter(En=>En.pickingTime&&En.pickingTime>0).map(En=>En.pickingTime),Mn=Hr.length>0?Hr.reduce((En,_r)=>En+_r,0)/Hr.length:0;er.push({hour:`${Qt.toString().padStart(2,"0")}:00`,totalJobs:fn.length,avgPickingTime:Math.round(Mn),totalItems:Tn})}Xt({workerStats:Gt,hourlyProductivity:er}),await new Promise(Qt=>setTimeout(Qt,500)),console.log("Productivity data generation completed")}catch(se){console.error("Error generating productivity data:",se),t("Failed to generate productivity data","error")}finally{Un(!1)}},[i,Ne,t]),Ge=F.useCallback(async se=>{console.log("Starting reports generation..."),Er(!0);try{const Ae=new Date(se);Ae.setHours(0,0,0,0);const mt=new Date(se);mt.setHours(23,59,59,999);const Ht=i.filter(Gt=>{const er=Gt.createdAt;return er>=Ae&&er<=mt}),gt=[];for(let Gt=6;Gt>=0;Gt--){const er=new Date(se);er.setDate(er.getDate()-Gt);const Qt=new Date(er);Qt.setHours(0,0,0,0);const fr=new Date(er);fr.setHours(23,59,59,999);const jr=i.filter(Hr=>{const Mn=Hr.createdAt;return Mn>=Qt&&Mn<=fr}),fn=jr.reduce((Hr,Mn)=>Hr+Mn.items.reduce((En,_r)=>En+_r.quantity,0),0),Tn=jr.filter(Hr=>Hr.status==="completed").length;gt.push({date:er.toLocaleDateString("en-US",{month:"short",day:"numeric"}),itemsPicked:fn,jobsCompleted:Tn})}const dt=[],wt=new Set(Ht.map(Gt=>Gt.createdBy));for(const Gt of wt){const er=Ht.filter(Hr=>Hr.createdBy===Gt),Qt=er.filter(Hr=>Hr.status==="completed"),fr=er.reduce((Hr,Mn)=>Hr+Mn.items.reduce((En,_r)=>En+_r.quantity,0),0);let jr=0,fn=0;Qt.forEach(Hr=>{Hr.pickingTime&&Hr.pickingTime>0&&(jr+=Hr.pickingTime,fn++)});const Tn=fn>0?jr/fn:0;dt.push({name:Gt,jobsCreated:er.length,jobsCompleted:Qt.length,itemsPicked:fr,avgTimePerJob:Tn,totalTime:jr})}dt.sort((Gt,er)=>er.itemsPicked-Gt.itemsPicked),br({dailyStats:gt,userStats:dt}),await new Promise(Gt=>setTimeout(Gt,500)),console.log("Reports generation completed")}catch(Ae){console.log("error",Ae),t("Failed to generate reports","error")}finally{Er(!1)}},[i,t]),Ye=async se=>{if(r)try{await vr(At(Xe,"activityLogs"),{user:r.name,role:r.role,detail:se,time:new Date().toISOString()})}catch(Ae){console.log("error",Ae)}},Qe=se=>{if(se<60)return`${Math.round(se)}s`;if(se<3600){const Ae=Math.floor(se/60),mt=Math.round(se%60);return`${Ae}m ${mt}s`}else{const Ae=Math.floor(se/3600),mt=Math.floor(se%3600/60),Ht=Math.round(se%60);return`${Ae}h ${mt}m ${Ht}s`}},vt=F.useCallback(async()=>{a(!0),O(!1),j(!1),S(!1),D(!1),pt(null),Ft(null),Pr("all"),Ce(new Set);try{const se=lr(At(Xe,"jobs"),Ua("createdAt","desc")),mt=(await dr(se)).docs.map(gt=>{const dt=gt.data();return{id:gt.id,jobId:dt.jobId||"",createdAt:dt.createdAt instanceof sr?dt.createdAt.toDate():new Date,createdBy:dt.createdBy||"Unknown",status:dt.status||"picking",picker:dt.picker??null,packer:dt.packer??null,items:Array.isArray(dt.items)?dt.items.map(wt=>({barcode:String(wt.barcode||""),name:wt.name??null,asin:wt.asin??null,quantity:Number(wt.quantity||1),verified:!!wt.verified,locationCode:wt.locationCode,shelfNumber:wt.shelfNumber,reason:wt.reason||"Unknown",storeName:wt.storeName||"Unknown"})):[],pickingTime:dt.pickingTime||0}}),Ht=await Promise.all(mt.map(async gt=>{const dt=await Promise.all(gt.items.map(async wt=>{if(wt.name)return wt;try{const Gt=lr(At(Xe,"inventory"),or("barcode","==",wt.barcode)),er=await dr(Gt);if(!er.empty){const Qt=er.docs[0].data();return{...wt,name:Qt.name||null}}}catch(Gt){console.log("error",Gt),console.log("")}return wt}));return{...gt,items:dt}}));s(Ht)}catch(se){console.log("error",se),t("Failed to fetch jobs","error")}finally{a(!1)}},[t]);F.useEffect(()=>{vt()},[vt]),F.useEffect(()=>{ze()},[ze]),F.useEffect(()=>{const se=setInterval(()=>{ze()},18e5);return()=>clearInterval(se)},[ze]),F.useEffect(()=>()=>{Ce(new Set),le(new Set)},[i]),F.useEffect(()=>{P&&!ht&&!He&&Ii()},[P,ht,He]),F.useEffect(()=>{if(!T)return;ze();const se=$oe(At(Xe,"liveJobSessions"),Ae=>{const mt=[];Ae.forEach(Ht=>{const gt=Ht.data();gt.isActive&&mt.push({id:Ht.id,createdBy:gt.createdBy||"Unknown",startTime:gt.startTime instanceof sr?gt.startTime.toDate():new Date(gt.startTime),items:gt.items||[],isActive:gt.isActive||!1})}),De(mt)},Ae=>{console.log("error",Ae)});return()=>se()},[T,ze]),F.useEffect(()=>{_&&(console.log("Reports view shown, generating reports for date:",tt),Ge(tt))},[_,tt,Ge]),F.useEffect(()=>{E&&(console.log("Productivity view shown, generating productivity data"),nt())},[E,nt]),F.useEffect(()=>{_&&bt(new Date(Ct.end))},[Ct,_]),F.useEffect(()=>{if(_&&i.length>0){const se=Array.from(new Set(i.map(Ae=>Ae.createdBy)));se.length>0&&!Rt&&Yt(se[0])}},[_,i,Rt]),F.useEffect(()=>{_&&console.log("reportDate",tt)},[tt,_]);const Mt=se=>{le(Ae=>{const mt=new Set(Ae);return mt.has(se)?mt.delete(se):mt.add(se),mt})};F.useEffect(()=>{let se;return U&&(se=setInterval(()=>{const mt=Math.floor((new Date().getTime()-U.getTime())/1e3);I(mt),mt>=600&&!ae&&(ue(!0),H(600)),mt>=600&&mt%300===0&&mt!==ye&&(ue(!0),H(mt))},1e3)),()=>{se&&clearInterval(se)}},[U,ae,ye]);const Vt=se=>{const Ae=Math.floor(se/60),mt=se%60;return`${Ae}:${mt.toString().padStart(2,"0")}`},Dt=()=>{V(""),u([]),h([]),ee(new Date),I(0),ue(!1),H(0),l(!0);const se=`session_${Date.now()}_${(r==null?void 0:r.name)||"Unknown"}`;vr(At(Xe,"liveJobSessions"),{id:se,createdBy:(r==null?void 0:r.name)||"Unknown",startTime:Nf(),items:[],isActive:!0,createdAt:Nf()}).catch(Ae=>{console.log("error",Ae)})},Bt=async se=>{try{const Ae=lr(At(Xe,"inventory"),or("barcode","==",se));return!(await dr(Ae)).empty}catch(Ae){return console.log("error",Ae),!1}},mr=async se=>{se.preventDefault();const Ae=k.trim();if(!Ae)return;if(!await Bt(Ae)){t(`Product with barcode ${Ae} does not exist`,"error");return}try{const Ht=lr(At(Xe,"inventory"),or("barcode","==",Ae)),gt=await dr(Ht);if(!gt.empty){const dt=gt.docs[0].data(),wt={...dt,id:gt.docs[0].id,lastUpdated:dt.lastUpdated instanceof sr?dt.lastUpdated.toDate():new Date(dt.lastUpdated)};q(wt),W(!0),l(!1)}}catch(Ht){console.log("error",Ht),t("Error fetching stock item details","error")}},Yr=async se=>{if(!G)return;const Ae=G.quantity-se.quantity;try{const gt=lr(At(Xe,"inventory"),or("barcode","==",G.barcode),or("locationCode","==",String(se.locationCode).trim())),dt=await dr(gt);if(dt.empty){t("Stock item not found for this location","error");return}const wt=String(se.shelfNumber).trim(),Gt=Number(wt),er=dt.docs.filter(jr=>{const fn=jr.data().shelfNumber;return String(fn).trim()===wt||!Number.isNaN(Gt)&&Number(fn)===Gt});if(er.length===0){t("Stock item not found for this shelf","error");return}const Qt=er.slice().sort((jr,fn)=>(Number(fn.data().quantity)||0)-(Number(jr.data().quantity)||0))[0],fr={...G,id:Qt.id,quantity:Number(Qt.data().quantity)||0};if(Ae>fr.quantity){t(`Cannot deduct ${Ae} units - only ${fr.quantity} units available at this location`,"error");return}if(Ae<0){t("Cannot deduct negative quantity","error");return}h(jr=>[...jr,{stockItem:fr,deductedQuantity:Ae,reason:se.reason,storeName:se.storeName,locationCode:se.locationCode,shelfNumber:se.shelfNumber}])}catch{t("Error locating stock for this location","error");return}G.barcode&&u(gt=>{const dt=G.barcode,wt=gt.findIndex(Gt=>Gt.barcode===dt&&Gt.locationCode===se.locationCode&&Gt.shelfNumber===se.shelfNumber);if(wt>=0){const Gt=[...gt];return Gt[wt]={...Gt[wt],quantity:Gt[wt].quantity+Ae},Gt}else return[...gt,{barcode:dt,name:G.name,quantity:Ae,verified:!1,locationCode:se.locationCode,shelfNumber:se.shelfNumber,reason:se.reason,storeName:se.storeName}]}),t("Item added to job","success"),W(!1),q(null),l(!0),V("");const mt=lr(At(Xe,"liveJobSessions"),or("createdBy","==",r==null?void 0:r.name),or("isActive","==",!0)),Ht=await dr(mt);if(!Ht.empty){const gt=Ht.docs[0],dt=gt.data().items||[],wt={barcode:G.barcode,name:G.name,quantity:Ae,verified:!1,locationCode:se.locationCode,shelfNumber:se.shelfNumber,reason:se.reason,storeName:se.storeName};await Wn(kr(Xe,"liveJobSessions",gt.id),{items:[...dt,wt]})}yn()},Xr=()=>{W(!1),q(null),l(!0),yn()},yn=()=>{rt(""),Re([]),st("name"),xt(!1)},gi=()=>{P?Ii():(pt(null),Ft(null))},Ii=()=>{const se=new Date,Ae=new Date(se);Ae.setDate(se.getDate()-1);const mt=new Date(Ae.getFullYear(),Ae.getMonth(),Ae.getDate()),Ht=new Date(se.getFullYear(),se.getMonth(),se.getDate(),23,59,59,999);pt(mt),Ft(Ht)},cs=()=>{P?Ii():(pt(null),Ft(null)),Pr("all"),pr("")},Di=async()=>{if(c.length===0){t("Add at least one item to create a job","error");return}if(K){t("Job creation is already in progress. Please wait for the current job to be created.","warning");return}X(!0),a(!0);try{for(const gt of d){const dt=kr(Xe,"inventory",gt.stockItem.id),wt=gt.stockItem.quantity-gt.deductedQuantity;if(wt<0)throw t(`Error: Cannot deduct ${gt.deductedQuantity} units from "${gt.stockItem.name}" - only ${gt.stockItem.quantity} units available`,"error"),new Error(`Insufficient stock: trying to deduct ${gt.deductedQuantity} from ${gt.stockItem.quantity} units`);await Wn(dt,{quantity:wt,lastUpdated:Nf()}),await vr(At(Xe,"activityLogs"),{detail:`${gt.deductedQuantity} units deducted from stock "${gt.stockItem.name}"  (Reason: ${gt.reason}, Store: ${gt.storeName}) by ${r==null?void 0:r.role} from location ${gt.locationCode} shelf ${gt.shelfNumber}`,time:new Date().toISOString(),user:r==null?void 0:r.name,role:r==null?void 0:r.role})}const se=Date.now().toString(),Ae=await vr(At(Xe,"jobs"),{jobId:se,createdAt:Nf(),createdBy:(r==null?void 0:r.name)||"Unknown",status:"awaiting_pack",picker:(r==null?void 0:r.name)||null,packer:null,items:c,pickingTime:Z});await Wn(Ae,{docId:Ae.id}),await Ye(`created new job ${se} with ${c.length} items (${c.reduce((gt,dt)=>gt+dt.quantity,0)} total units)`),t(`Job ${se} created and awaiting pack`,"success"),l(!1),u([]),h([]),V(""),ee(null),I(0),ue(!1),H(0);const mt=lr(At(Xe,"liveJobSessions"),or("createdBy","==",r==null?void 0:r.name),or("isActive","==",!0)),Ht=await dr(mt);Ht.empty||await Bs(kr(Xe,"liveJobSessions",Ht.docs[0].id)),vt()}catch(se){console.log("error",se),t("Failed to create job","error")}finally{a(!1),X(!1)}},us=async se=>{try{await Wn(kr(Xe,"jobs",se.id),{status:"awaiting_pack",picker:(r==null?void 0:r.name)||se.picker||null}),await Ye(`completed picking for job ${se.jobId} with ${se.items.length} items (${se.items.reduce((Ae,mt)=>Ae+mt.quantity,0)} total units)`),t(`Job ${se.jobId} completed and awaiting pack`,"success"),vt()}catch{t("Failed to update job","error")}},za=async(se,Ae,mt)=>{const Ht=`${se.id}-${Ae}`;z(gt=>new Set(gt).add(Ht));try{if(!se.id||!Ae){t("Invalid job or barcode","error");return}Ce(mt?gt=>new Set(gt).add(Ht):gt=>{const dt=new Set(gt);return dt.delete(Ht),dt})}catch(gt){console.log("error",gt),t("Failed to verify item","error")}finally{z(gt=>{const dt=new Set(gt);return dt.delete(Ht),dt})}},Ln=async se=>{try{const Ae=Array.from(ke).filter(gt=>gt.startsWith(se.id)).map(gt=>gt.split("-")[1]),mt=se.items.filter(gt=>gt.verified||Ae.includes(gt.barcode)).length,Ht=se.items.map(gt=>({...gt,verified:Ae.includes(gt.barcode)||gt.verified}));await Wn(kr(Xe,"jobs",se.id),{status:"completed",packer:(r==null?void 0:r.name)||se.packer||null,items:Ht}),await Ye(`completed packing for job ${se.jobId} with ${se.items.length} items (${se.items.reduce((gt,dt)=>gt+dt.quantity,0)} total units) - ${mt} items verified`),Ce(gt=>{const dt=new Set(gt);return Ae.forEach(wt=>{dt.delete(`${se.id}-${wt}`)}),dt}),t(`Job ${se.jobId} completed successfully with ${mt}/${se.items.length} items verified`,"success"),vt()}catch(Ae){console.log("error",Ae),t("Failed to complete job","error")}},Nc=se=>{b(se)},kc=async()=>{if(y)try{await Ye(`deleted job ${y.jobId} (status: ${y.status} with ${y.items.length} items (${y.items.reduce((se,Ae)=>se+Ae.quantity,0)} total units))`),await Bs(kr(Xe,"jobs",y.id)),Ce(se=>{const Ae=new Set(se);return y.items.forEach(mt=>{Ae.delete(`${y.id}-${mt.barcode}`)}),Ae}),t("Job deleted","success"),b(null),vt()}catch{t("Failed to delete job","error")}},Lu=async(se,Ae,mt,Ht)=>{try{const gt=[...se.items];gt[Ae]={...gt[Ae],barcode:mt,quantity:Ht},await Wn(kr(Xe,"jobs",se.id),{items:gt}),await Ye(`updated job item in job ${se.jobId}: barcode ${se.items[Ae].barcode}  ${mt}, quantity ${se.items[Ae].quantity}  ${Ht}`),t("Job item updated successfully","success"),v(null),vt()}catch{t("Failed to update job item","error")}},Cc=async(se,Ae)=>{try{const mt=se.items.filter((Ht,gt)=>gt!==Ae);await Wn(kr(Xe,"jobs",se.id),{items:mt}),await Ye(`removed item ${se.items[Ae].barcode} (qty: ${se.items[Ae].quantity}) from job ${se.jobId}`),t("Job item removed successfully","success"),vt()}catch{t("Failed to remove job item","error")}},Pc=async(se,Ae)=>{if(!se.trim()){Re([]);return}Me(!0);try{let mt;switch(Ae){case"barcode":mt=lr(At(Xe,"inventory"),or("barcode","==",se.trim()));break;case"asin":mt=lr(At(Xe,"inventory"),or("asin","==",se.trim()));break;case"name":default:mt=lr(At(Xe,"inventory"),or("name",">=",se.trim().toUpperCase()),or("name","<=",se.trim().toUpperCase()+""));break}const gt=(await dr(mt)).docs.map(dt=>{const wt=dt.data();return{id:dt.id,name:wt.name||"",quantity:wt.quantity||0,price:wt.price||0,unit:wt.unit||null,supplier:wt.supplier||null,lastUpdated:wt.lastUpdated instanceof sr?wt.lastUpdated.toDate():new Date,locationCode:wt.locationCode||"",shelfNumber:wt.shelfNumber||"",barcode:wt.barcode||null,asin:wt.asin||null,status:wt.status||"pending",damagedItems:wt.damagedItems||0,fulfillmentType:wt.fulfillmentType||"fba",storeName:wt.storeName||""}});Re(gt)}catch(mt){console.log("error",mt),t("Failed to search inventory","error"),Re([])}finally{Me(!1)}},Li=({job:se})=>{const Ae=se.status==="awaiting_pack",mt=se.status==="picking",Ht=se.status==="completed",gt=_e.has(se.id);return f.jsxs("div",{className:`${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} rounded-lg shadow-sm border`,children:[f.jsx("div",{className:`p-3 sm:p-4 border-b ${e?"border-slate-700":"border-slate-200"}`,children:f.jsx("div",{className:"flex flex-col gap-3",children:f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-3",children:[f.jsxs("div",{className:"flex items-start gap-3 min-w-0 flex-1",children:[f.jsx("div",{className:`${e?"bg-slate-700":"bg-slate-100"} p-2 rounded-lg flex-shrink-0`,children:f.jsx(AA,{className:`${e?"text-blue-400":"text-blue-600"}`,size:18})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 mb-2",children:[f.jsxs("h3",{className:`text-base sm:text-lg font-semibold ${e?"text-white":"text-slate-800"} break-all`,children:["Job ",se.jobId]}),f.jsx("button",{onClick:()=>Mt(se.id),className:`flex items-center gap-1 px-2 py-1 rounded text-xs font-medium transition-colors flex-shrink-0 ${e?"text-slate-300 hover:text-white hover:bg-slate-700":"text-slate-600 hover:text-slate-800 hover:bg-slate-200"}`,children:gt?f.jsxs(f.Fragment,{children:[f.jsx(jU,{size:14}),f.jsx("span",{className:"hidden sm:inline",children:"Hide Items"})," (",se.items.length,")"]}):f.jsxs(f.Fragment,{children:[f.jsx(kl,{size:14}),f.jsx("span",{className:"hidden sm:inline",children:"Show Items"})," (",se.items.length,")"]})})]}),f.jsxs("p",{className:`${e?"text-slate-400":"text-slate-500"} text-xs leading-relaxed`,children:["Created by ",se.createdBy,"  ",se.createdAt.toLocaleString(),se.pickingTime&&se.pickingTime>0&&f.jsxs("span",{className:`ml-2 ${e?"text-blue-400":"text-blue-600"}`,children:[" Picking: ",Qe(se.pickingTime)]})]}),(x||P)&&se.packer&&f.jsxs("p",{className:`${e?"text-slate-400":"text-slate-500"} text-xs leading-relaxed`,children:["Verified by ",se.packer]}),!gt&&se.items.length>0&&f.jsxs("div",{className:`${e?"text-slate-400":"text-slate-500"} text-xs mt-2`,children:[se.items.length," item",se.items.length!==1?"s":"","  Total Qty: ",se.items.reduce((dt,wt)=>dt+wt.quantity,0),Ae&&f.jsxs("span",{className:"ml-2",children:[" Verified: ",se.items.filter(dt=>dt.verified||ke.has(`${se.id}-${dt.barcode}`)).length,"/",se.items.length]})]})]})]}),f.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[f.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Ht?"bg-green-100 text-green-700":Ae?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:Ht?"Completed":Ae?"Awaiting Pack":"Picking"}),f.jsx(at,{variant:"secondary",onClick:vt,size:"sm",className:"h-8 w-8 p-0",children:f.jsx(Fa,{size:14})}),f.jsx(at,{variant:"danger",onClick:()=>Nc(se),size:"sm",className:"h-8 w-8 p-0",children:f.jsx(ui,{size:14})})]})]})})}),gt&&f.jsxs("div",{className:"p-3 sm:p-4 space-y-4",children:[f.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[mt&&f.jsxs(at,{onClick:()=>W(!0),className:"flex items-center gap-1",size:"sm",children:[f.jsx(AA,{size:14})," ",f.jsx("span",{className:"hidden sm:inline",children:"Scan"})]}),Ae&&f.jsxs("div",{className:`text-sm ${e?"text-slate-300":"text-slate-600"} bg-slate-100 dark:bg-slate-700 px-3 py-2 rounded-lg`,children:["Verification Status: ",se.items.filter(dt=>dt.verified||ke.has(`${se.id}-${dt.barcode}`)).length,"/",se.items.length," items verified"]})]}),f.jsxs("div",{className:"space-y-3",children:[se.items.map((dt,wt)=>{var Gt;return f.jsx("div",{className:`p-3 rounded-lg ${e?"bg-slate-700":"bg-slate-100"}`,children:(m==null?void 0:m.jobId)===se.id&&(m==null?void 0:m.itemIndex)===wt?f.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 flex-1",children:[f.jsx(Ot,{value:m.barcode,onChange:er=>v({...m,barcode:er.target.value}),className:"w-full sm:w-32 text-sm",placeholder:"Barcode"}),f.jsx(Ot,{type:"number",value:m.quantity.toString(),onChange:er=>v({...m,quantity:Number(er.target.value)||1}),className:"w-full sm:w-20 text-sm",min:"1",placeholder:"Qty"})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(at,{size:"sm",onClick:()=>Lu(se,wt,m.barcode,m.quantity),className:"h-8 px-3",children:""}),f.jsx(at,{variant:"secondary",size:"sm",onClick:()=>v(null),className:"h-8 px-3",children:""})]})]}):f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("div",{className:`${e?"text-white":"text-slate-800"} text-sm font-medium break-words`,children:dt.name||dt.barcode}),dt.name&&f.jsxs("div",{className:`${e?"text-slate-400":"text-slate-500"} text-xs mt-1 break-all`,children:["Barcode: ",dt.barcode]})]}),f.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[Ae&&f.jsx(at,{variant:dt.verified||ke.has(`${se.id}-${dt.barcode}`)?"success":"primary",size:"sm",onClick:()=>za(se,dt.barcode,!(dt.verified||ke.has(`${se.id}-${dt.barcode}`))),disabled:M.has(`${se.id}-${dt.barcode}`),className:`h-7 px-2 text-xs transition-all duration-200 ${dt.verified||ke.has(`${se.id}-${dt.barcode}`)?"bg-green-500 hover:bg-green-600 text-white":"bg-blue-500 hover:bg-blue-600 text-white"}`,children:M.has(`${se.id}-${dt.barcode}`)?f.jsx(Fa,{size:12,className:"animate-spin"}):f.jsx("span",{className:"hidden sm:inline",children:dt.verified||ke.has(`${se.id}-${dt.barcode}`)?"Verified":"Verify"})}),Ae&&!m&&f.jsx(f.Fragment,{children:f.jsx(at,{variant:"danger",size:"sm",onClick:()=>Cc(se,wt),className:"h-8 w-8 p-0 flex items-center justify-center",title:"Remove item",children:f.jsx(ui,{size:16})})})]})]}),f.jsxs("div",{className:`${e?"text-slate-400":"text-slate-500"} text-xs space-y-1`,children:[f.jsxs("div",{children:["Qty: ",dt.quantity]}),dt.locationCode&&dt.shelfNumber&&f.jsxs("div",{children:["Location: ",dt.locationCode,"-",dt.shelfNumber]}),dt.reason&&f.jsxs("div",{children:["Reason: ",dt.reason]}),dt.storeName&&f.jsxs("div",{children:["Store: ",(Gt=dt.storeName)==null?void 0:Gt.toUpperCase()]})]})]})},`${dt.barcode}-${wt}-${se.id}`)}),se.items.length===0&&f.jsx("div",{className:`${e?"text-slate-400":"text-slate-500"} text-sm text-center py-4`,children:"No items scanned yet."})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-2 pt-2 border-t border-slate-200 dark:border-slate-700",children:[mt&&f.jsxs(at,{onClick:()=>us(se),size:"sm",className:"flex items-center gap-1 w-full sm:w-auto",children:[f.jsx(Q2,{size:14})," ",f.jsx("span",{className:"hidden sm:inline",children:"Finish Picking"})]}),Ae&&f.jsxs(at,{onClick:()=>Ln(se),size:"sm",className:"flex items-center gap-1 w-full sm:w-auto",children:[f.jsx(Q2,{size:14})," ",f.jsx("span",{className:"hidden sm:inline",children:"Complete Job"})]})]})]})]})};return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsxs("h1",{className:`text-xl sm:text-2xl font-bold ${e?"text-white":"text-slate-900"}`,children:[P?"Archived":x?"Completed":T?"Live":_?"Reports":E?"Worker Productivity":"Active"," Jobs"]}),T&&f.jsx("p",{className:`text-sm ${e?"text-slate-400":"text-slate-600"}`,children:"Showing jobs currently being created (in progress)"})]}),f.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[f.jsx(at,{variant:"secondary",onClick:vt,className:`flex items-center gap-1 ${n?"opacity-50 cursor-not-allowed":""}`,disabled:n,size:"sm",children:f.jsx(Fa,{size:16,className:n?"animate-spin":""})}),f.jsxs(at,{onClick:Dt,className:"flex items-center gap-1",size:"sm",children:[f.jsx(hi,{size:16})," ",f.jsx("span",{className:"sm:inline hidden",children:"New Job"})]}),f.jsx(at,{variant:!x&&!P&&!T&&!_&&!E?"primary":"secondary",onClick:()=>{O(!1),j(!1),S(!1),D(!1),N(!1)},size:"sm",children:"Active Jobs"}),f.jsx(at,{variant:x?"primary":"secondary",onClick:()=>{O(!0),j(!1),S(!1),D(!1),N(!1)},size:"sm",children:"Completed Jobs"}),f.jsx(at,{variant:P?"primary":"secondary",onClick:()=>{O(!1),j(!0),S(!1),D(!1),N(!1),Ii()},size:"sm",children:"Archived Jobs"}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="manager")&&f.jsx(at,{variant:T?"primary":"secondary",onClick:()=>{O(!1),j(!1),S(!0),D(!1),N(!1)},size:"sm",children:"Live Jobs"}),f.jsx(at,{variant:_?"primary":"secondary",onClick:()=>{O(!1),j(!1),S(!1),N(!1),D(!0)},size:"sm",children:"Reports"}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="manager")&&f.jsx(at,{variant:E?"primary":"secondary",onClick:()=>{O(!1),j(!1),S(!1),D(!1),N(!0)},size:"sm",children:"Productivity"})]})]}),f.jsx("div",{className:"flex flex-col gap-4",children:P&&f.jsx("div",{className:"w-full",children:f.jsxs("div",{className:"flex flex-col gap-4 p-4 bg-slate-50 dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("label",{className:`text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Search Jobs:"}),f.jsxs("div",{className:"relative",children:[f.jsx(Fl,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 ${e?"text-slate-400":"text-slate-500"}`}),f.jsx("input",{type:"text",placeholder:"Search by job ID or item name...",value:ur,onChange:se=>pr(se.target.value),className:`pl-10 pr-3 py-2 border rounded-md text-sm w-full ${e?"bg-slate-700 border-slate-600 text-white placeholder-slate-400":"bg-white border-slate-300 text-slate-900 placeholder-slate-500"}`})]})]}),f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("label",{className:`text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Filter by User:"}),f.jsxs("select",{value:Nt,onChange:se=>Pr(se.target.value),className:`px-3 py-2 border rounded-md text-sm w-full ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`,children:[f.jsx("option",{value:"all",children:"All Users"}),ve().map(se=>f.jsx("option",{value:se,children:se},se))]})]}),f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("label",{className:`text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Filter by Date Range:"}),f.jsx(XG,{startDate:ht,endDate:He,onStartDateChange:pt,onEndDateChange:Ft,onClear:gi,className:"w-full"})]})]}),f.jsx("div",{className:"flex justify-end",children:f.jsx(at,{variant:"secondary",onClick:cs,size:"sm",className:"w-full sm:w-auto",children:"Clear All Filters"})})]})})})]}),f.jsxs("div",{className:"space-y-4",children:[P&&(ht||He||Nt!=="all"||ur.trim())&&f.jsx("div",{className:`p-3 rounded-lg border ${e?"bg-slate-800 border-slate-700 text-slate-300":"bg-slate-50 border-slate-200 text-slate-700"}`,children:f.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 text-sm",children:[f.jsx("span",{className:"font-medium",children:"Active Filters:"}),f.jsxs("div",{className:"flex flex-wrap gap-2",children:[ur.trim()&&f.jsxs("span",{className:"px-2 py-1 bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 rounded text-xs",children:['Search: "',ur,'"']}),Nt!=="all"&&f.jsxs("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded text-xs",children:["User: ",Nt]}),ht&&f.jsxs("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded text-xs",children:["From: ",ht.toLocaleDateString()]}),He&&f.jsxs("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded text-xs",children:["To: ",He.toLocaleDateString()]}),f.jsxs("span",{className:"px-2 py-1 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 rounded text-xs",children:[xe.length," jobs found"]})]})]})}),!_&&!E&&xe.map(se=>f.jsx(Li,{job:se},se.id)),T&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("h2",{className:`text-lg font-semibold ${e?"text-white":"text-slate-800"}`,children:"Live Job Sessions"}),f.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-700 dark:bg-orange-900 dark:text-orange-300",children:[we().totalCount," active"]})]}),f.jsxs(at,{variant:"secondary",onClick:()=>{vt(),ze()},className:"flex items-center gap-2",size:"sm",children:[f.jsx(Fa,{size:16}),"Refresh Live Jobs"]})]}),we().uiSessions.map(se=>f.jsx("div",{className:`${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} rounded-lg shadow-sm border border-dashed`,children:f.jsx("div",{className:`p-3 sm:p-4 border-b ${e?"border-slate-700":"border-slate-200"}`,children:f.jsx("div",{className:"flex flex-col gap-3",children:f.jsx("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-3",children:f.jsxs("div",{className:"flex items-start gap-3 min-w-0 flex-1",children:[f.jsx("div",{className:`${e?"bg-orange-700":"bg-orange-100"} p-2 rounded-lg flex-shrink-0`,children:f.jsx(AA,{className:`${e?"text-orange-300":"text-orange-600"}`,size:18})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 mb-2",children:[f.jsx("h3",{className:`text-base sm:text-lg font-semibold ${e?"text-white":"text-slate-800"}`,children:"Creating New Job"}),f.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-700 dark:bg-orange-900 dark:text-orange-300",children:"In Progress"})]}),f.jsxs("p",{className:`${e?"text-slate-400":"text-slate-500"} text-xs leading-relaxed`,children:["Created by ",se.createdBy,"  Started at ",se.startTime.toLocaleString()]}),f.jsxs("div",{className:`${e?"text-slate-400":"text-slate-500"} text-xs mt-2`,children:[se.items.length," item",se.items.length!==1?"s":""," scanned"]})]})]})})})})},se.id))]}),_&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("h2",{className:`text-lg font-semibold ${e?"text-white":"text-slate-800"}`,children:"Warehouse Performance Reports"}),f.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300",children:(()=>{const se=String(tt.getDate()).padStart(2,"0"),Ae=String(tt.getMonth()+1).padStart(2,"0"),mt=tt.getFullYear();return`${se}/${Ae}/${mt}`})()})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("input",{type:"date",value:(()=>{const se=tt.getFullYear(),Ae=String(tt.getMonth()+1).padStart(2,"0"),mt=String(tt.getDate()).padStart(2,"0");return`${se}-${Ae}-${mt}`})(),onChange:se=>{const Ae=new Date(se.target.value);bt(Ae),Ge(Ae)},className:`px-3 py-2 border rounded-md text-sm ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`}),f.jsx(at,{variant:"secondary",onClick:()=>Ge(tt),className:"flex items-center gap-2",size:"sm",disabled:wr,children:f.jsx(Fa,{size:16,className:wr?"animate-spin":""})})]})]}),wr?f.jsx("div",{className:`text-center py-12 ${e?"text-slate-300":"text-slate-600"}`,children:f.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[f.jsx(Fa,{size:32,className:"animate-spin text-blue-500"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("p",{className:"text-lg font-medium",children:"Generating Reports..."}),f.jsx("p",{className:"text-sm opacity-75",children:"Please wait while we analyze the data"})]})]})}):f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[f.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[f.jsx("div",{className:`text-xs sm:text-sm ${e?"text-slate-400":"text-slate-500"} mb-1`,children:"Total Items Picked Today"}),f.jsx("div",{className:`text-xl sm:text-2xl font-bold ${e?"text-blue-400":"text-blue-600"}`,children:rr.userStats.reduce((se,Ae)=>se+Ae.itemsPicked,0)})]}),f.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[f.jsx("div",{className:`text-xs sm:text-sm ${e?"text-slate-400":"text-slate-500"} mb-1`,children:"Total Jobs Completed"}),f.jsx("div",{className:`text-xl sm:text-2xl font-bold ${e?"text-green-400":"text-green-600"}`,children:rr.userStats.reduce((se,Ae)=>se+Ae.jobsCompleted,0)})]}),f.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} sm:col-span-2 lg:col-span-1`,children:[f.jsx("div",{className:`text-xs sm:text-sm ${e?"text-slate-400":"text-slate-500"} mb-1`,children:"Active Users Today"}),f.jsx("div",{className:`text-xl sm:text-2xl font-bold ${e?"text-purple-400":"text-purple-600"}`,children:rr.userStats.length})]})]}),f.jsxs("div",{className:`p-4 sm:p-6 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[f.jsxs("h3",{className:`text-base sm:text-lg font-semibold mb-3 sm:mb-4 ${e?"text-white":"text-slate-800"}`,children:["User Performance - ",tt.toLocaleDateString()]}),rr.userStats.length>0?f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full min-w-[600px]",children:[f.jsx("thead",{children:f.jsxs("tr",{className:`border-b ${e?"border-slate-700":"border-slate-200"}`,children:[f.jsx("th",{className:`text-left py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"User"}),f.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Jobs Created"}),f.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Jobs Completed"}),f.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Items Picked"}),f.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Avg Time/Job"}),f.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-600"}`,children:"Total Time"})]})}),f.jsx("tbody",{children:rr.userStats.map((se,Ae)=>f.jsxs("tr",{className:`border-b ${e?"border-slate-700":"border-slate-200"}`,children:[f.jsx("td",{className:`py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-white":"text-slate-800"}`,children:se.name}),f.jsx("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-slate-300":"text-slate-600"}`,children:se.jobsCreated}),f.jsx("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-slate-300":"text-slate-600"}`,children:se.jobsCompleted}),f.jsx("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-blue-400":"text-blue-600"} font-semibold`,children:se.itemsPicked}),f.jsx("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-slate-300":"text-slate-600"}`,children:Qe(se.avgTimePerJob)}),f.jsx("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-slate-300":"text-slate-600"}`,children:Qe(se.totalTime)})]},Ae))})]})}):f.jsx("div",{className:`text-center py-6 sm:py-8 ${e?"text-slate-400":"text-slate-500"}`,children:"No data available for selected date"})]}),f.jsxs("div",{className:`p-4 sm:p-6 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[f.jsx("h3",{className:`text-base sm:text-lg font-semibold mb-3 sm:mb-4 ${e?"text-white":"text-slate-800"}`,children:"Last 7 Days Performance Overview"}),f.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-7 gap-1 sm:gap-2",children:(()=>{const se=[];for(let Ae=6;Ae>=0;Ae--){const mt=new Date;mt.setDate(mt.getDate()-Ae);const Ht=new Date(mt);Ht.setHours(0,0,0,0);const gt=new Date(mt);gt.setHours(23,59,59,999);const dt=i.filter(Qt=>{const fr=Qt.createdAt;return fr>=Ht&&fr<=gt}),wt=dt.reduce((Qt,fr)=>Qt+fr.items.reduce((jr,fn)=>jr+fn.quantity,0),0),Gt=dt.filter(Qt=>Qt.status==="completed").length,er=qt(mt,"MMM dd");se.push({date:er,itemsPicked:wt,jobsCompleted:Gt})}return se})().map((se,Ae)=>f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:`text-xs ${e?"text-slate-400":"text-slate-500"} mb-1`,children:se.date}),f.jsx("div",{className:`text-lg font-bold ${e?"text-blue-400":"text-blue-600"}`,children:se.itemsPicked}),f.jsxs("div",{className:`text-xs ${e?"text-slate-500":"text-slate-600"}`,children:[se.jobsCompleted," jobs"]})]},Ae))})]}),f.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[f.jsx("h3",{className:`text-base sm:text-lg font-semibold mb-3 sm:mb-4 ${e?"text-white":"text-slate-800"}`,children:"Chart Date Range"}),f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("label",{className:`block text-xs sm:text-sm font-medium mb-1 ${e?"text-slate-300":"text-slate-700"}`,children:"Start Date"}),f.jsx("input",{type:"date",value:(()=>{const se=Ct.start.getFullYear(),Ae=String(Ct.start.getMonth()+1).padStart(2,"0"),mt=String(Ct.start.getDate()).padStart(2,"0");return`${se}-${Ae}-${mt}`})(),onChange:se=>{const Ae=new Date(se.target.value);Ae.setHours(0,0,0,0),Ae<=Ct.end&&It(mt=>({...mt,start:Ae}))},className:`w-full px-2 sm:px-3 py-2 border rounded-md text-xs sm:text-sm ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`})]}),f.jsxs("div",{className:"flex-1",children:[f.jsx("label",{className:`block text-xs sm:text-sm font-medium mb-1 ${e?"text-slate-300":"text-slate-700"}`,children:"End Date"}),f.jsx("input",{type:"date",value:(()=>{const se=Ct.end.getFullYear(),Ae=String(Ct.end.getMonth()+1).padStart(2,"0"),mt=String(Ct.end.getDate()).padStart(2,"0");return`${se}-${Ae}-${mt}`})(),onChange:se=>{const Ae=new Date(se.target.value);Ae.setHours(23,59,59,999),Ae>=Ct.start&&It(mt=>({...mt,end:Ae}))},className:`w-full px-2 sm:px-3 py-2 border rounded-md text-xs sm:text-sm ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`})]})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[f.jsx("button",{onClick:()=>{const se=new Date,Ae=new Date;Ae.setDate(Ae.getDate()-6),Ae.setHours(0,0,0,0),se.setHours(23,59,59,999),It({start:Ae,end:se})},className:`px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-medium transition-all duration-200 ${(()=>{const se=new Date,Ae=new Date;return Ae.setDate(Ae.getDate()-6),Ae.setHours(0,0,0,0),se.setHours(23,59,59,999),Ct.start.getTime()===Ae.getTime()&&Ct.end.getTime()===se.getTime()})()?"bg-blue-600 text-white shadow-lg shadow-blue-600/25":"bg-slate-600 hover:bg-slate-500 text-white hover:shadow-md"}`,children:"Last 7 Days"}),f.jsx("button",{onClick:()=>{const se=new Date,Ae=new Date;Ae.setDate(Ae.getDate()-29),Ae.setHours(0,0,0,0),se.setHours(23,59,59,999),It({start:Ae,end:se})},className:`px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-medium transition-all duration-200 ${(()=>{const se=new Date,Ae=new Date;return Ae.setDate(Ae.getDate()-29),Ae.setHours(0,0,0,0),se.setHours(23,59,59,999),Ct.start.getTime()===Ae.getTime()&&Ct.end.getTime()===se.getTime()})()?"bg-blue-600 text-white shadow-lg shadow-blue-600/25":"bg-slate-600 hover:bg-slate-500 text-white hover:shadow-md"}`,children:"Last 30 Days"})]})]})]}),f.jsxs("div",{className:"space-y-3 sm:space-y-4 md:space-y-6",children:[f.jsxs("div",{className:`${e?"bg-slate-800":"bg-white"} p-3 sm:p-4 rounded-lg shadow-sm`,children:[f.jsxs("h3",{className:`text-sm sm:text-base md:text-lg font-medium ${e?"text-white":"text-slate-800"} mb-2 sm:mb-3 md:mb-4`,children:["Jobs Performance - Daily Overview (",Ct.start.toLocaleDateString("en-GB")," to ",Ct.end.toLocaleDateString("en-GB"),")"]}),f.jsx("div",{className:"h-48 sm:h-64 md:h-80",children:f.jsx(yp,{width:"100%",height:"100%",children:f.jsxs(wp,{data:(()=>{const se=[],Ae=new Map,mt=new Date(Ct.start),Ht=new Date(Ct.end),gt=Math.ceil((Ht.getTime()-mt.getTime())/(1e3*60*60*24));for(let dt=0;dt<=gt;dt++){const wt=new Date(mt);wt.setDate(mt.getDate()+dt);const Gt=new Date(wt);Gt.setHours(0,0,0,0);const er=new Date(wt);er.setHours(23,59,59,999);const Qt=i.filter(Hr=>{const Mn=Hr.createdAt;return Mn>=Gt&&Mn<=er}),fr=Qt.reduce((Hr,Mn)=>Hr+Mn.items.reduce((En,_r)=>En+_r.quantity,0),0),jr=Qt.filter(Hr=>Hr.status==="completed").length,fn=Qt.length,Tn=qt(wt,"MMM dd");Ae.set(Tn,{itemsPicked:fr,jobsCompleted:jr,jobsCreated:fn})}return Ae.forEach((dt,wt)=>{se.push({date:wt,itemsPicked:dt.itemsPicked,jobsCompleted:dt.jobsCompleted,jobsCreated:dt.jobsCreated})}),se.sort((dt,wt)=>{const Gt=new Date(dt.date),er=new Date(wt.date);return Gt.getTime()-er.getTime()})})(),children:[f.jsx(vh,{strokeDasharray:"3 3",stroke:e?"#334155":"#e2e8f0"}),f.jsx(lu,{dataKey:"date",stroke:e?"#94a3b8":"#64748b"}),f.jsx(cu,{stroke:e?"#94a3b8":"#64748b"}),f.jsx(vs,{contentStyle:{backgroundColor:e?"#1e293b":"#ffffff",border:e?"1px solid #334155":"1px solid #e2e8f0",color:e?"#e2e8f0":"#1e293b"},formatter:(se,Ae)=>Ae==="Items Picked"?[`${se} items`,Ae]:Ae==="Jobs Completed"?[`${se} jobs`,Ae]:Ae==="Jobs Created"?[`${se} jobs`,Ae]:[se,Ae],labelFormatter:se=>`Date: ${se}`}),f.jsx(Ko,{}),f.jsx(Ra,{type:"monotone",dataKey:"itemsPicked",stroke:"#10b981",name:"Items Picked",strokeWidth:2}),f.jsx(Ra,{type:"monotone",dataKey:"jobsCompleted",stroke:"#3b82f6",name:"Jobs Completed",strokeWidth:2}),f.jsx(Ra,{type:"monotone",dataKey:"jobsCreated",stroke:"#f59e0b",name:"Jobs Created",strokeWidth:2})]})})})]}),f.jsxs("div",{className:`${e?"bg-slate-800":"bg-white"} p-3 sm:p-4 rounded-lg shadow-sm`,children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2 sm:gap-0 mb-2 sm:mb-3 md:mb-4",children:[f.jsxs("h3",{className:`text-sm sm:text-base md:text-lg font-medium ${e?"text-white":"text-slate-800"}`,children:["User Performance - ",Ct.start.toLocaleDateString("en-GB")," to ",Ct.end.toLocaleDateString("en-GB")]}),f.jsx("select",{value:Rt||(()=>{const se=Array.from(new Set(i.map(Ae=>Ae.createdBy)));return se.length>0?se[0]:""})(),onChange:se=>{Yt(se.target.value)},className:`px-2 sm:px-3 py-1 border rounded-md text-xs sm:text-sm ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`,children:Array.from(new Set(i.map(Ae=>Ae.createdBy))).map(Ae=>f.jsx("option",{value:Ae,children:Ae},Ae))})]}),f.jsx("div",{className:"h-48 sm:h-64 md:h-80",children:f.jsx(yp,{width:"100%",height:"100%",children:f.jsxs(wp,{data:(()=>{const se=[],Ae=new Map,mt=Array.from(new Set(i.map(Gt=>Gt.createdBy))),Ht=Rt||(mt.length>0?mt[0]:""),gt=new Date(Ct.start),dt=new Date(Ct.end),wt=Math.ceil((dt.getTime()-gt.getTime())/(1e3*60*60*24));for(let Gt=0;Gt<=wt;Gt++){const er=new Date(gt);er.setDate(gt.getDate()+Gt);const Qt=new Date(er);Qt.setHours(0,0,0,0);const fr=new Date(er);fr.setHours(23,59,59,999);const jr=i.filter(_r=>{const Ys=_r.createdAt;return Ys>=Qt&&Ys<=fr&&_r.createdBy===Ht}),fn=jr.reduce((_r,Ys)=>_r+Ys.items.reduce((nl,yr)=>nl+yr.quantity,0),0),Tn=jr.filter(_r=>_r.status==="completed").length,Hr=jr.length;let Mn=0;jr.forEach(_r=>{_r.pickingTime&&_r.pickingTime>0&&(Mn+=_r.pickingTime)});const En=qt(er,"MMM dd");Ae.set(En,{itemsPicked:fn,jobsCompleted:Tn,jobsCreated:Hr,totalPickingTime:Mn})}return Ae.forEach((Gt,er)=>{se.push({date:er,itemsPicked:Gt.itemsPicked,jobsCompleted:Gt.jobsCompleted,jobsCreated:Gt.jobsCreated,totalPickingTime:Gt.totalPickingTime})}),se.sort((Gt,er)=>{const Qt=new Date(Gt.date),fr=new Date(er.date);return Qt.getTime()-fr.getTime()})})(),children:[f.jsx(vh,{strokeDasharray:"3 3",stroke:e?"#334155":"#e2e8f0"}),f.jsx(lu,{dataKey:"date",stroke:e?"#94a3b8":"#64748b"}),f.jsx(cu,{stroke:e?"#94a3b8":"#64748b"}),f.jsx(vs,{contentStyle:{backgroundColor:e?"#1e293b":"#ffffff",border:e?"1px solid #334155":"1px solid #e2e8f0",color:e?"#e2e8f0":"#1e293b"},formatter:(se,Ae)=>Ae==="Items Picked"?[`${se} items`,Ae]:Ae==="Jobs Completed"?[`${se} jobs`,Ae]:Ae==="Jobs Created"?[`${se} jobs`,Ae]:Ae==="Total Picking Time"?[`${Qe(se)}`,Ae]:[se,Ae],labelFormatter:se=>`Date: ${se}`}),f.jsx(Ko,{}),f.jsx(Ra,{type:"monotone",dataKey:"itemsPicked",stroke:"#10b981",name:"Items Picked",strokeWidth:2}),f.jsx(Ra,{type:"monotone",dataKey:"jobsCompleted",stroke:"#3b82f6",name:"Jobs Completed",strokeWidth:2}),f.jsx(Ra,{type:"monotone",dataKey:"jobsCreated",stroke:"#f59e0b",name:"Jobs Created",strokeWidth:2}),f.jsx(Ra,{type:"monotone",dataKey:"totalPickingTime",stroke:"#8b5cf6",name:"Total Picking Time",strokeWidth:2})]})})})]})]})]})]}),E&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("h2",{className:`text-lg font-semibold ${e?"text-white":"text-slate-800"}`,children:"Productivity Analytics"}),f.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300",children:Ne.toLocaleDateString()})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("label",{className:`text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Date:"}),f.jsx("input",{type:"date",value:`${Ne.getFullYear()}-${String(Ne.getMonth()+1).padStart(2,"0")}-${String(Ne.getDate()).padStart(2,"0")}`,onChange:se=>{const Ae=se.target.value,[mt,Ht,gt]=Ae.split("-").map(Number),dt=new Date(mt,Ht-1,gt);it(dt),nt()},className:`px-3 py-2 border rounded-md text-sm ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`})]}),f.jsx(at,{variant:"secondary",onClick:nt,className:"flex items-center gap-2",size:"sm",disabled:sa,children:f.jsx(Fa,{size:16,className:sa?"animate-spin":""})})]})]}),sa?f.jsx("div",{className:`text-center py-12 ${e?"text-slate-300":"text-slate-600"}`,children:f.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[f.jsx(Fa,{size:32,className:"animate-spin text-green-500"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("p",{className:"text-lg font-medium",children:"Analyzing Worker Productivity..."}),f.jsx("p",{className:"text-sm opacity-75",children:"Please wait while we calculate performance metrics"})]})]})}):f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[f.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[f.jsx("div",{className:`text-xs sm:text-sm ${e?"text-slate-400":"text-slate-500"} mb-1`,children:"Total Workers"}),f.jsx("div",{className:`text-xl sm:text-2xl font-bold ${e?"text-blue-400":"text-blue-600"}`,children:an.workerStats.length})]}),f.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[f.jsx("div",{className:`text-xs sm:text-sm ${e?"text-slate-400":"text-slate-500"} mb-1`,children:"Total Jobs Completed"}),f.jsx("div",{className:`text-xl sm:text-2xl font-bold ${e?"text-green-400":"text-green-600"}`,children:an.workerStats.reduce((se,Ae)=>se+Ae.completedJobs,0)})]}),f.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[f.jsx("div",{className:`text-xs sm:text-sm ${e?"text-slate-400":"text-slate-500"} mb-1`,children:"Total Items Picked"}),f.jsx("div",{className:`text-xl sm:text-2xl font-bold ${e?"text-purple-400":"text-purple-600"}`,children:an.workerStats.reduce((se,Ae)=>se+Ae.itemsPicked,0)})]}),f.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[f.jsx("div",{className:`text-xs sm:text-sm ${e?"text-slate-400":"text-slate-500"} mb-1`,children:"Avg Efficiency"}),f.jsxs("div",{className:`text-xl sm:text-2xl font-bold ${e?"text-orange-400":"text-orange-600"}`,children:[an.workerStats.length>0?(an.workerStats.reduce((se,Ae)=>se+Ae.efficiency,0)/an.workerStats.length).toFixed(1):"0"," items/min"]})]})]}),f.jsxs("div",{className:`p-4 sm:p-6 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[f.jsx("h3",{className:`text-base sm:text-lg font-semibold mb-3 sm:mb-4 ${e?"text-white":"text-slate-800"}`,children:"Worker Performance Ranking"}),an.workerStats.length>0?f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full min-w-[700px]",children:[f.jsx("thead",{children:f.jsxs("tr",{className:`border-b ${e?"border-slate-700":"border-slate-200"}`,children:[f.jsx("th",{className:`text-left py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Rank"}),f.jsx("th",{className:`text-left py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Worker"}),f.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Jobs"}),f.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Items"}),f.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Efficiency"}),f.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Avg Time"}),f.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Performance"})]})}),f.jsx("tbody",{children:an.workerStats.map((se,Ae)=>f.jsxs("tr",{className:`border-b ${e?"border-slate-700":"border-slate-200"}`,children:[f.jsxs("td",{className:`py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-white":"text-slate-800"}`,children:["#",Ae+1]}),f.jsx("td",{className:`py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-white":"text-slate-800"}`,children:se.name}),f.jsx("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-slate-300":"text-slate-600"}`,children:se.completedJobs}),f.jsx("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-blue-400":"text-blue-600"} font-semibold`,children:se.itemsPicked}),f.jsxs("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-green-400":"text-green-600"} font-semibold`,children:[se.efficiency," items/min"]}),f.jsxs("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-slate-300":"text-slate-600"}`,children:[Math.round(se.avgPickingTime/60),"m ",se.avgPickingTime%60,"s"]}),f.jsx("td",{className:"text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm",children:f.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${se.performance==="excellent"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":se.performance==="good"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300":se.performance==="average"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"}`,children:se.performance==="needs_improvement"?"Needs Improvement":se.performance.charAt(0).toUpperCase()+se.performance.slice(1)})})]},se.name))})]})}):f.jsx("div",{className:`text-center py-6 sm:py-8 ${e?"text-slate-400":"text-slate-500"}`,children:"No productivity data available for the selected date range"})]}),f.jsxs("div",{className:`p-4 sm:p-6 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[f.jsx("h3",{className:`text-base sm:text-lg font-semibold mb-3 sm:mb-4 ${e?"text-white":"text-slate-800"}`,children:"Hourly Productivity Trends"}),f.jsx("div",{className:"h-80 w-full overflow-x-auto",children:f.jsx(yp,{width:"100%",height:"100%",minWidth:800,children:f.jsxs(wp,{data:an.hourlyProductivity,margin:{top:5,right:30,left:20,bottom:5},children:[f.jsx(vh,{strokeDasharray:"3 3",stroke:e?"#334155":"#e2e8f0"}),f.jsx(lu,{dataKey:"hour",stroke:e?"#94a3b8":"#64748b",fontSize:10,interval:1,angle:-45,textAnchor:"end",height:60}),f.jsx(cu,{stroke:e?"#94a3b8":"#64748b",fontSize:12}),f.jsx(vs,{contentStyle:{backgroundColor:e?"#1e293b":"#ffffff",border:e?"1px solid #334155":"1px solid #e2e8f0",color:e?"#e2e8f0":"#1e293b"},formatter:(se,Ae)=>Ae==="Total Items"?[`${se} items`,Ae]:Ae==="Total Jobs"?[`${se} jobs`,Ae]:Ae==="Avg Picking Time"?[`${Math.round(se/60)}m ${se%60}s`,Ae]:[se,Ae],labelFormatter:se=>`Hour: ${se}`}),f.jsx(Ko,{}),f.jsx(Ra,{type:"monotone",dataKey:"totalJobs",stroke:"#10b981",name:"Total Jobs",strokeWidth:2}),f.jsx(Ra,{type:"monotone",dataKey:"totalItems",stroke:"#3b82f6",name:"Total Items",strokeWidth:2}),f.jsx(Ra,{type:"monotone",dataKey:"avgPickingTime",stroke:"#f59e0b",name:"Avg Picking Time",strokeWidth:2})]})})})]})]})]}),!_&&!E&&xe.length===0&&we().uiSessions.length===0&&f.jsx("div",{className:`${e?"text-slate-400":"text-slate-500"} text-center py-8`,children:P?f.jsxs("div",{className:"space-y-2",children:[f.jsx("p",{children:"No archived jobs found."}),(ht||He||Nt!=="all")&&f.jsx("p",{className:"text-sm",children:"Try adjusting your filters or clearing them to see more results."})]}):x?"No completed jobs found.":T?"No live jobs found.":"No active jobs found."})]}),f.jsx(gn,{isOpen:o,onClose:()=>ge(!0),title:ct?"Search Product from Inventory":"Add Barcode to Job",size:"md",closeOnOutsideClick:!1,children:f.jsxs("div",{className:"space-y-4",children:[!ct&&f.jsxs("div",{className:"flex justify-between items-center gap-2",children:[f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:()=>xt(!0),className:"flex items-center gap-2 px-3 py-2 rounded-md transition-colors bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-600",title:"Show search section",children:[f.jsx(Fl,{size:16}),f.jsx("span",{className:"text-sm font-medium",children:"Search Product"})]}),f.jsx(at,{variant:"secondary",onClick:()=>qe(!0),size:"sm",className:"px-3 py-2",children:f.jsx(fI,{size:16})})]}),f.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-md ${Z>=600?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"}`,children:[f.jsx(Hb,{size:16}),f.jsx("span",{className:"text-sm font-mono font-medium",children:Vt(Z)})]})]}),ae&&f.jsx("div",{className:`p-3 rounded-md border-l-4 ${e?"bg-red-900/20 border-red-500 text-red-200":"bg-red-50 border-red-500 text-red-800"}`,children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"animate-pulse",children:""}),f.jsx("span",{className:"font-medium",children:Z>=600&&Z<900?"Hurry up! You've been working on this job for 10+ minutes.":`Time Alert: ${Math.floor(Z/60)} minutes elapsed. Please complete the job soon.`}),f.jsx("button",{onClick:()=>ue(!1),className:`ml-auto px-2 py-1 rounded text-xs ${e?"bg-red-800 hover:bg-red-700 text-red-200":"bg-red-200 hover:bg-red-300 text-red-800"}`,children:"Dismiss"})]})}),ct&&f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between gap-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("button",{onClick:()=>xt(!1),className:`flex items-center gap-2 px-3 py-2 rounded-md transition-colors ${e?"bg-slate-700 text-slate-300 hover:bg-slate-600 hover:text-white":"bg-slate-200 text-slate-700 hover:bg-slate-300 hover:text-slate-800"}`,title:"Back to Add Barcode",children:[f.jsx(Tre,{size:16}),f.jsx("span",{className:"text-sm font-medium",children:"Back to Add Barcode"})]}),f.jsx(at,{variant:"secondary",onClick:()=>qe(!0),size:"sm",className:"px-3 py-2",children:f.jsx(fI,{size:16})})]}),f.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-md ${Z>=600?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"}`,children:[f.jsx(Hb,{size:16}),f.jsx("span",{className:"text-sm font-mono font-medium",children:Vt(Z)})]})]}),f.jsx("div",{className:"flex gap-2 mb-3",children:["name","barcode","asin"].map(se=>f.jsx("button",{onClick:()=>st(se),className:`px-3 py-1 text-xs rounded-md transition-colors ${We===se?"bg-blue-500 text-white":e?"bg-slate-700 text-slate-300 hover:bg-slate-600":"bg-slate-200 text-slate-700 hover:bg-slate-300"}`,children:se.charAt(0).toUpperCase()+se.slice(1)},se))}),f.jsxs("div",{className:"flex gap-2 mb-3",children:[f.jsx(Ot,{value:Ke,onChange:se=>rt(se.target.value),placeholder:`Search by ${We}...`,className:"flex-1",onKeyPress:se=>se.key==="Enter"&&Pc(Ke,We)}),f.jsx(at,{onClick:()=>Pc(Ke,We),disabled:Te||!Ke.trim(),size:"sm",className:"px-4",children:Te?f.jsx(Fa,{size:14,className:"animate-spin"}):"Search"})]}),Ee.length>0&&f.jsxs("div",{className:"space-y-2 max-h-48 overflow-auto",children:[f.jsxs("h5",{className:`text-xs font-medium ${e?"text-slate-400":"text-slate-600"}`,children:["Found ",Ee.length," product",Ee.length!==1?"s":"",":"]}),Ee.map(se=>{var Ae;return f.jsxs("div",{className:`p-2 rounded text-sm ${e?"bg-slate-700 border border-slate-600":"bg-slate-100 border border-slate-200"}`,children:[f.jsx("div",{className:`font-medium ${e?"text-white":"text-slate-800"}`,children:se.name}),f.jsxs("div",{className:`text-xs ${e?"text-slate-400":"text-slate-600"}`,children:[se.barcode&&f.jsxs("span",{className:"mr-3",children:["Barcode: ",se.barcode]}),se.asin&&f.jsxs("span",{className:"mr-3",children:["ASIN: ",se.asin]}),se.locationCode&&se.shelfNumber&&f.jsxs("span",{className:"mr-3",children:["Location: ",se.locationCode,"-",se.shelfNumber]}),f.jsxs("span",{className:"mr-3",children:["Qty: ",se.quantity]}),f.jsxs("span",{children:["Store: ",(Ae=se.storeName)==null?void 0:Ae.toUpperCase()]})]})]},se.id)})]}),Ke&&Ee.length===0&&!Te&&f.jsxs("div",{className:`text-center text-sm ${e?"text-slate-400":"text-slate-500"}`,children:['No products found for "',Ke,'"']})]}),!ct&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-200",children:"Barcode"}),f.jsxs("form",{onSubmit:mr,className:"flex gap-2",children:[f.jsx(Ot,{name:"manualBarcode",type:"text",value:k,onChange:se=>V(se.target.value),placeholder:"Enter barcode manually",fullWidth:!0}),f.jsxs(at,{type:"submit",className:"flex items-center gap-1 whitespace-nowrap",size:"sm",children:[f.jsx(hi,{size:16})," Add"]})]})]}),f.jsx("div",{className:"text-center text-sm text-slate-500 dark:text-slate-400",children:"Enter a barcode to update stock quantity for this job"})]}),!ct&&c.length>0&&f.jsxs("div",{className:"space-y-2",children:[f.jsx("h4",{className:`text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Current Job Items:"}),f.jsx("div",{className:"max-h-32 overflow-auto space-y-1",children:c.map((se,Ae)=>{var mt;return f.jsx("div",{className:`flex items-center justify-between p-2 rounded text-sm ${e?"bg-slate-800":"bg-slate-100"}`,children:(p==null?void 0:p.index)===Ae?f.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[f.jsx(Ot,{value:p.barcode,onChange:Ht=>g({...p,barcode:Ht.target.value}),className:"w-24 text-sm"}),f.jsx(Ot,{type:"number",value:p.quantity,onChange:Ht=>g({...p,quantity:Number(Ht.target.value)||1}),className:"w-16 text-sm",min:"1"}),f.jsxs("div",{className:"flex gap-1",children:[f.jsx(at,{size:"sm",onClick:()=>{const Ht=c[Ae].quantity,gt=Number(p.quantity),dt=gt-Ht;u(Gt=>{const er=[...Gt];return er[Ae]={...er[Ae],barcode:p.barcode,quantity:gt,reason:p.reason||"Unknown",storeName:p.storeName||"Unknown",name:p.name||null},er}),h(Gt=>{const er=[...Gt],Qt=er.findIndex(fr=>fr.stockItem.barcode===p.barcode&&fr.locationCode===c[Ae].locationCode&&fr.shelfNumber===c[Ae].shelfNumber);return Qt>=0&&(er[Qt]={...er[Qt],deductedQuantity:er[Qt].deductedQuantity+dt}),er});const wt=lr(At(Xe,"liveJobSessions"),or("createdBy","==",r==null?void 0:r.name),or("isActive","==",!0));dr(wt).then(Gt=>{if(!Gt.empty){const er=Gt.docs[0],fr=(er.data().items||[]).map(jr=>jr.barcode===c[Ae].barcode&&jr.locationCode===c[Ae].locationCode&&jr.shelfNumber===c[Ae].shelfNumber?{...jr,barcode:p.barcode,quantity:gt,reason:p.reason||"Unknown",storeName:p.storeName||"Unknown",name:p.name||null}:jr);Wn(kr(Xe,"liveJobSessions",er.id),{items:fr})}}).catch(Gt=>{console.log("error",Gt)}),g(null)},className:"h-6 px-2",children:""}),f.jsx(at,{variant:"secondary",size:"sm",onClick:()=>g(null),className:"h-6 px-2",children:""})]})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("span",{className:"truncate block font-medium",children:se.name||se.barcode}),se.name&&f.jsxs("span",{className:"text-xs text-slate-500 block",children:["Barcode: ",se.barcode]}),se.locationCode&&se.shelfNumber&&f.jsxs("span",{className:"text-xs text-slate-500 block",children:["Location: ",se.locationCode," - Shelf ",se.shelfNumber]}),se.reason&&f.jsxs("span",{className:"text-xs text-slate-500 block",children:["Reason: ",se.reason]}),se.storeName&&f.jsxs("span",{className:"text-xs text-slate-500 block",children:["Store: ",(mt=se.storeName)==null?void 0:mt.toUpperCase()]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("span",{className:"text-xs text-slate-500",children:["Qty: ",se.quantity]}),f.jsx(at,{variant:"secondary",size:"sm",onClick:()=>g({index:Ae,barcode:se.barcode,quantity:se.quantity,reason:se.reason,storeName:se.storeName,name:se.name}),className:"h-6 px-2",children:"Edit"}),f.jsx("button",{type:"button",onClick:()=>{u(dt=>dt.filter((wt,Gt)=>Gt!==Ae));const Ht=c[Ae];h(dt=>dt.filter(wt=>!(wt.stockItem.barcode===Ht.barcode&&wt.locationCode===Ht.locationCode&&wt.shelfNumber===Ht.shelfNumber)));const gt=lr(At(Xe,"liveJobSessions"),or("createdBy","==",r==null?void 0:r.name),or("isActive","==",!0));dr(gt).then(dt=>{if(!dt.empty){const wt=dt.docs[0],er=(wt.data().items||[]).filter(Qt=>!(Qt.barcode===Ht.barcode&&Qt.locationCode===Ht.locationCode&&Qt.shelfNumber===Ht.shelfNumber));Wn(kr(Xe,"liveJobSessions",wt.id),{items:er})}}).catch(dt=>{console.log("error",dt)})},className:"h-6 w-6 rounded flex items-center justify-center text-white bg-red-500 hover:bg-red-600 transition-colors hover:bg-red-600",title:"Remove item",children:""})]})]})},`${se.barcode}-${se.locationCode}-${se.shelfNumber}-${Ae}`)})}),f.jsx("div",{className:"pt-2",children:f.jsxs(at,{onClick:Di,disabled:c.length===0||K,isLoading:K,className:"w-full flex items-center justify-center gap-2",size:"sm",children:[f.jsx(Q2,{size:16}),K?"Creating Job...":"Finish Picking"]})})]})]})}),f.jsx(Oh,{isOpen:!!y,onClose:()=>b(null),onConfirm:kc,title:"Delete Job",message:y?`Are you sure you want to delete Job ${y.jobId}? This action cannot be undone.`:"",isLoading:!1}),f.jsx(WG,{isOpen:ie,onClose:()=>ge(!1),onConfirm:()=>{ge(!1),l(!1),ee(null),I(0),ue(!1),H(0),xt(!1);const se=lr(At(Xe,"liveJobSessions"),or("createdBy","==",r==null?void 0:r.name),or("isActive","==",!0));dr(se).then(Ae=>{Ae.empty||Bs(kr(Xe,"liveJobSessions",Ae.docs[0].id))}).catch(Ae=>{console.log("error",Ae)})},title:"Close without finishing?",message:"Are you sure you want to close? All jobs will be lost.",confirmLabel:"Yes",cancelLabel:"No"}),f.jsx(gn,{isOpen:Q,onClose:()=>W(!1),title:"Update Stock for Job",size:"lg",closeOnOutsideClick:!1,children:G&&f.jsx(A5e,{item:G,onSubmit:Yr,onCancel:Xr,isLoading:!1})}),f.jsx(T5e,{isOpen:Le,onClose:()=>qe(!1)})]})},mze=({children:e,variant:t="primary",size:r="md",className:n=""})=>{const a={primary:"bg-blue-100 text-blue-800",success:"bg-green-100 text-green-800",warning:"bg-amber-100 text-amber-800",danger:"bg-red-100 text-red-800",info:"bg-slate-100 text-slate-800"},i={sm:"text-xs px-2 py-0.5",md:"text-sm px-2.5 py-0.5"};return f.jsx("span",{className:`
        ${a[t]} 
        ${i[r]} 
        inline-flex items-center justify-center font-medium rounded-full
        ${n}
      `,children:e})},AQ=({status:e})=>{const t=()=>{switch(e){case"pending":return"info";case"processing":return"primary";case"shipped":return"warning";case"delivered":return"success";case"cancelled":return"danger";case"completed":return"success";default:return"info"}},r=()=>e.charAt(0).toUpperCase()+e.slice(1);return f.jsx(mze,{variant:t(),children:r()})},gze=({order:e,onClick:t,editButton:r})=>{const{isDarkMode:n}=un();return f.jsx("div",{className:`border ${n?"border-slate-700 bg-slate-800":"border-slate-200 bg-white"} rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-pointer`,onClick:t,children:f.jsxs("div",{className:"p-4",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("h3",{className:`font-medium ${n?"text-white":"text-slate-800"}`,children:e.orderNumber}),f.jsxs("div",{className:"flex items-center gap-2",children:[r,f.jsx(AQ,{status:e.status})]})]}),f.jsx("p",{className:`${n?"text-slate-300":"text-slate-700"} mb-2`,children:e.customerName}),f.jsx("div",{className:"space-y-1 mb-3",children:f.jsxs("div",{className:"flex justify-between text-sm",children:[f.jsxs("span",{className:`${n?"text-slate-400":"text-slate-600"}`,children:["Total Products: ",e.items.length]}),f.jsxs("span",{className:`${n?"text-slate-200":"text-slate-800"} font-medium`,children:["Total Quantity: ",e.items.reduce((a,i)=>a+i.quantity,0)]})]})}),f.jsxs("div",{className:`pt-2 border-t ${n?"border-slate-700":"border-slate-200"} flex items-center justify-between`,children:[f.jsx("span",{className:`text-xs ${n?"text-slate-400":"text-slate-500"}`,children:qt(e.createdAt,"MMM d, yyyy")}),f.jsxs("span",{className:`font-medium ${n?"text-white":"text-slate-900"}`,children:["Total: $",e.totalAmount.toFixed(2)]})]})]})})},vze=({isOpen:e,onClose:t,order:r})=>r?f.jsx(gn,{isOpen:e,onClose:t,title:`Order ${r.orderNumber}`,size:"xl",children:f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex flex-wrap justify-between gap-4 pb-4 border-b border-slate-200",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Status"}),f.jsx("div",{className:"mt-1",children:f.jsx(AQ,{status:r.status})})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Customer"}),f.jsx("p",{className:"text-slate-800 font-medium",children:r.customerName})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Order Date"}),f.jsx("p",{className:"text-slate-800",children:r.createdAt?qt(r.createdAt,"MMM d, yyyy h:mm a"):"N/A"})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Last Updated"}),f.jsx("p",{className:"text-slate-800",children:r.updatedAt?qt(r.updatedAt,"MMM d, yyyy h:mm a"):"N/A"})]}),r.status==="shipped"&&r.shippedTime&&f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Shipped Time"}),f.jsx("p",{className:"text-slate-800",children:r.shippedTime?qt(r.shippedTime,"MMM d, yyyy h:mm a"):"N/A"})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-slate-800 mb-3",children:"Order Items"}),f.jsx("div",{className:"bg-slate-50 rounded-lg border border-slate-200 overflow-hidden",children:f.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[f.jsx("thead",{className:"bg-slate-100",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Product"}),f.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Quantity"}),f.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Unit Price"}),f.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Total"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:r.items.map(n=>f.jsxs("tr",{children:[f.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-800",children:n.productName}),f.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-800 text-right",children:n.quantity}),f.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-800 text-right",children:["$",n.unitPrice.toFixed(2)]}),f.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-slate-900 text-right",children:["$",n.totalPrice.toFixed(2)]})]},n.id))}),f.jsx("tfoot",{className:"bg-slate-50",children:f.jsxs("tr",{children:[f.jsx("td",{colSpan:3,className:"px-4 py-3 text-sm font-medium text-slate-700 text-right",children:"Total"}),f.jsxs("td",{className:"px-4 py-3 text-sm font-bold text-slate-900 text-right",children:["$",r.totalAmount.toFixed(2)]})]})})]})})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Shipping Address"}),f.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200",children:[f.jsx("p",{className:"text-sm text-slate-800",children:r.shippingAddress.street}),f.jsxs("p",{className:"text-sm text-slate-800",children:[r.shippingAddress.city,", ",r.shippingAddress.state," ",r.shippingAddress.zipCode]}),f.jsx("p",{className:"text-sm text-slate-800",children:r.shippingAddress.country})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Billing Address"}),f.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200",children:[f.jsx("p",{className:"text-sm text-slate-800",children:r.billingAddress.street}),f.jsxs("p",{className:"text-sm text-slate-800",children:[r.billingAddress.city,", ",r.billingAddress.state," ",r.billingAddress.zipCode]}),f.jsx("p",{className:"text-sm text-slate-800",children:r.billingAddress.country})]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Payment Method"}),f.jsx("p",{className:"text-slate-700",children:r.paymentMethod})]}),r.notes&&f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Notes"}),f.jsx("p",{className:"text-slate-700",children:r.notes})]})]})]})}):null,I5=[{id:"stock1",name:"Wireless Earbuds",quantity:150,price:89.99,supplier:"Tech Supplies Inc.",lastUpdated:new Date,locationCode:"A1",shelfNumber:3},{id:"stock2",name:"Premium T-Shirt",quantity:300,price:24.99,supplier:"Fashion Forward",lastUpdated:Ur(new Date,2),locationCode:"A2",shelfNumber:1},{id:"stock3",name:"Office Chair",quantity:45,price:149.99,supplier:"Office Comfort LLC",lastUpdated:Ur(new Date,5),locationCode:"B1",shelfNumber:2},{id:"stock4",name:"Smartphone Case",quantity:200,price:19.99,supplier:"Tech Accessories Co.",lastUpdated:Ur(new Date,1),locationCode:"B2",shelfNumber:4},{id:"stock5",name:"Protein Bars",quantity:500,price:2.99,supplier:"Nutrition Wholesale",lastUpdated:Ur(new Date,3),locationCode:"C1",shelfNumber:2},{id:"stock6",name:"Laptop Backpack",quantity:75,price:59.99,supplier:"Travel Gear Ltd.",lastUpdated:Ur(new Date,7),locationCode:"C2",shelfNumber:3},{id:"stock7",name:"Wireless Mouse",quantity:120,price:29.99,supplier:"Tech Supplies Inc.",lastUpdated:Ur(new Date,4),locationCode:"D1",shelfNumber:2},{id:"stock8",name:"Denim Jeans",quantity:180,price:49.99,supplier:"Fashion Forward",lastUpdated:Ur(new Date,6),locationCode:"D2",shelfNumber:4}],yze=[{id:"order1",orderNumber:"ORD-2025-001",customerName:"Jane Smith",items:[{id:"item1",productId:"stock1",productName:"Wireless Earbuds",quantity:2,unitPrice:89.99,totalPrice:179.98},{id:"item2",productId:"stock4",productName:"Smartphone Case",quantity:1,unitPrice:19.99,totalPrice:19.99}],status:"pending",createdAt:Ur(new Date,1),updatedAt:Ur(new Date,1),shippingAddress:{street:"123 Main St",city:"Boston",state:"MA",zipCode:"02108",country:"USA"},billingAddress:{street:"123 Main St",city:"Boston",state:"MA",zipCode:"02108",country:"USA"},paymentMethod:"Credit Card",totalAmount:199.97},{id:"order2",orderNumber:"ORD-2025-002",customerName:"John Doe",items:[{id:"item3",productId:"stock3",productName:"Office Chair",quantity:1,unitPrice:149.99,totalPrice:149.99}],status:"processing",createdAt:Ur(new Date,2),updatedAt:Ur(new Date,1),shippingAddress:{street:"456 Park Ave",city:"New York",state:"NY",zipCode:"10022",country:"USA"},billingAddress:{street:"456 Park Ave",city:"New York",state:"NY",zipCode:"10022",country:"USA"},paymentMethod:"PayPal",totalAmount:149.99},{id:"order3",orderNumber:"ORD-2025-003",customerName:"Bob Johnson",items:[{id:"item4",productId:"stock2",productName:"Premium T-Shirt",quantity:3,unitPrice:24.99,totalPrice:74.97},{id:"item5",productId:"stock8",productName:"Denim Jeans",quantity:2,unitPrice:49.99,totalPrice:99.98}],status:"shipped",createdAt:Ur(new Date,5),updatedAt:Ur(new Date,3),shippingAddress:{street:"789 Oak Dr",city:"Chicago",state:"IL",zipCode:"60601",country:"USA"},billingAddress:{street:"789 Oak Dr",city:"Chicago",state:"IL",zipCode:"60601",country:"USA"},paymentMethod:"Credit Card",totalAmount:174.95},{id:"order4",orderNumber:"ORD-2025-004",customerName:"Alice Williams",items:[{id:"item6",productId:"stock5",productName:"Protein Bars",quantity:10,unitPrice:2.99,totalPrice:29.9}],status:"delivered",createdAt:Ur(new Date,10),updatedAt:Ur(new Date,7),shippingAddress:{street:"101 Pine St",city:"San Francisco",state:"CA",zipCode:"94111",country:"USA"},billingAddress:{street:"101 Pine St",city:"San Francisco",state:"CA",zipCode:"94111",country:"USA"},paymentMethod:"Credit Card",totalAmount:29.9},{id:"order5",orderNumber:"ORD-2025-005",customerName:"Thomas Clark",items:[{id:"item7",productId:"stock7",productName:"Wireless Mouse",quantity:1,unitPrice:29.99,totalPrice:29.99},{id:"item8",productId:"stock6",productName:"Laptop Backpack",quantity:1,unitPrice:59.99,totalPrice:59.99}],status:"delivered",createdAt:Ur(new Date,15),updatedAt:Ur(new Date,12),shippingAddress:{street:"202 Maple Rd",city:"Austin",state:"TX",zipCode:"78701",country:"USA"},billingAddress:{street:"202 Maple Rd",city:"Austin",state:"TX",zipCode:"78701",country:"USA"},paymentMethod:"PayPal",totalAmount:89.98}];yze.filter(e=>e.status==="delivered"||e.status==="cancelled");Array.from({length:30},(e,t)=>{const r=Math.floor(Math.random()*6e3)+2e3;return{date:qt(Ur(new Date,29-t),"MMM dd"),amount:r}});Ur(new Date,1),Ur(new Date,1),Ur(new Date,3),Ur(new Date,4),Ur(new Date,5);const xze=[{value:"pending",label:"Pending"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"},{value:"returned",label:"Returned"}],bze=[{value:"Credit Card",label:"Credit Card"},{value:"Cash",label:"Cash"}],z4={productId:"",productName:"",quantity:1,unitPrice:0,totalPrice:0},E$={street:"",city:"",state:"",zipCode:"",country:""};function wze(){const e=new Date,t=i=>i.toString().padStart(2,"0"),r=`${e.getFullYear()}${t(e.getMonth()+1)}${t(e.getDate())}`,n=`${t(e.getHours())}${t(e.getMinutes())}${t(e.getSeconds())}`,a=Math.floor(Math.random()*1e4).toString().padStart(4,"0");return`ORD-${r}-${n}-${a}`}const _ze=e=>typeof e=="object"&&e!==null&&!Array.isArray(e)&&"street"in e&&"city"in e&&"state"in e&&"zipCode"in e&&"country"in e,N$=e=>_ze(e)?e:{street:"",city:"",state:"",zipCode:"",country:""},Sze=({isOpen:e,onClose:t,onAdd:r,isLoading:n})=>{const[a,i]=F.useState(""),[s,o]=F.useState(""),[l,c]=F.useState("pending"),[u,d]=F.useState(""),[h,p]=F.useState([{...z4}]),[g,m]=F.useState({...E$}),[v,y]=F.useState({...E$}),[b,x]=F.useState("Credit Card"),[O,P]=F.useState(""),[j,T]=F.useState([]),[S,_]=F.useState(!1);F.useEffect(()=>{e&&(i(wze()),d(qt(new Date,"yyyy-MM-dd")),p([{...z4}]),c("pending"))},[e]),F.useEffect(()=>{e&&(async()=>{_(!0);try{const W=lr(At(Xe,"inventory"),Ua("name")),q=(await dr(W)).docs.map(U=>({id:U.id,...U.data()}));T(q.length>0?q:I5)}catch{T(I5)}finally{_(!1)}})()},[e]);const D=(Q,W,G)=>{p(q=>q.map((U,ee)=>{if(ee!==Q)return U;if(W==="productName"){const Z=j.find(I=>I.name===G);return Z?{...U,productId:Z.id,productName:Z.name,unitPrice:Z.price,quantity:1,totalPrice:Z.price*1}:U}if(W==="quantity"){const Z=Number(G);return{...U,quantity:Z,totalPrice:U.unitPrice*Z}}return{...U,[W]:G}}))},E=()=>{p([...h,{...z4}])},N=Q=>{p(W=>W.filter((G,q)=>q!==Q))},k=(Q,W,G)=>{Q==="shipping"?m(q=>({...N$(q),[W]:G})):y(q=>({...N$(q),[W]:G}))},V=Q=>{if(Q.preventDefault(),h.some(q=>!q.productId||!q.productName)){alert("Please select a product for each order item.");return}const W=new Date,G={orderNumber:a,customerName:s,status:l,createdAt:u?new Date(u):W,updatedAt:W,items:h.map((q,U)=>({...q,id:`item${U+1}`})),shippingAddress:g,billingAddress:v,paymentMethod:b,totalAmount:h.reduce((q,U)=>q+(U.totalPrice||0),0)};O&&(G.notes=O),r(G),t()};return f.jsx(gn,{isOpen:e,onClose:t,title:"Add New Order",size:"xl",children:f.jsxs("form",{onSubmit:V,className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(Ot,{label:"Order Number",value:a,readOnly:!0,required:!0,fullWidth:!0}),f.jsx(Ot,{label:"Customer Name",value:s,onChange:Q=>o(Q.target.value),required:!0,fullWidth:!0})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(rn,{label:"Status",value:l,onChange:Q=>c(Q.target.value),options:xze,required:!0,fullWidth:!0,disabled:!0}),f.jsx(rn,{label:"Payment Method",value:b,onChange:Q=>x(Q.target.value),options:bze,required:!0,fullWidth:!0})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:f.jsx(Ot,{label:"Order Date",type:"date",value:u,onChange:Q=>d(Q.target.value),required:!0,fullWidth:!0})}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Order Items"}),h.map((Q,W)=>f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-2 mb-2 items-end",children:[f.jsx(rn,{label:"Product Name",value:Q.productName,onChange:G=>D(W,"productName",G.target.value),options:[{value:"",label:"Select product..."},...j.map(G=>({value:G.name,label:G.name}))],required:!0,fullWidth:!0,disabled:S}),f.jsx(Ot,{label:"Quantity",type:"number",value:Q.quantity,onChange:G=>D(W,"quantity",Number(G.target.value)),min:1,required:!0,fullWidth:!0,disabled:!Q.productName}),f.jsx(Ot,{label:"Unit Price",type:"number",value:Q.unitPrice,disabled:!0,fullWidth:!0}),f.jsx(Ot,{label:"Total Price",type:"number",value:Q.totalPrice,disabled:!0,fullWidth:!0}),f.jsx(at,{type:"button",variant:"danger",size:"sm",icon:f.jsx(ui,{size:16}),onClick:()=>N(W),children:"Remove"})]},W)),f.jsx(at,{type:"button",variant:"primary",icon:f.jsx(hi,{size:16}),onClick:E,disabled:S,children:"Add Item"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Shipping Address"}),f.jsx(Ot,{label:"Street",value:g.street,onChange:Q=>k("shipping","street",Q.target.value),required:!0,fullWidth:!0}),f.jsx(Ot,{label:"City",value:g.city,onChange:Q=>k("shipping","city",Q.target.value),required:!0,fullWidth:!0}),f.jsx(Ot,{label:"State",value:g.state,onChange:Q=>k("shipping","state",Q.target.value),required:!0,fullWidth:!0}),f.jsx(Ot,{label:"Zip Code",value:g.zipCode,onChange:Q=>k("shipping","zipCode",Q.target.value),required:!0,fullWidth:!0}),f.jsx(Ot,{label:"Country",value:g.country,onChange:Q=>k("shipping","country",Q.target.value),required:!0,fullWidth:!0})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Billing Address"}),f.jsx(Ot,{label:"Street",value:v.street,onChange:Q=>k("billing","street",Q.target.value),required:!0,fullWidth:!0}),f.jsx(Ot,{label:"City",value:v.city,onChange:Q=>k("billing","city",Q.target.value),required:!0,fullWidth:!0}),f.jsx(Ot,{label:"State",value:v.state,onChange:Q=>k("billing","state",Q.target.value),required:!0,fullWidth:!0}),f.jsx(Ot,{label:"Zip Code",value:v.zipCode,onChange:Q=>k("billing","zipCode",Q.target.value),required:!0,fullWidth:!0}),f.jsx(Ot,{label:"Country",value:v.country,onChange:Q=>k("billing","country",Q.target.value),required:!0,fullWidth:!0})]})]}),f.jsx(Ot,{label:"Notes (optional)",value:O,onChange:Q=>P(Q.target.value),fullWidth:!0}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx(at,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),f.jsx(at,{type:"submit",isLoading:n,variant:"primary",children:"Add Order"})]})]})})},Aze=[{value:"pending",label:"Pending"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"},{value:"returned",label:"Returned"}],Tze=[{value:"Credit Card",label:"Credit Card"},{value:"Cash",label:"Cash"}],k$={productId:"",productName:"",quantity:1,unitPrice:0,totalPrice:0},C$={street:"",city:"",state:"",zipCode:"",country:""},Eze=({isOpen:e,onClose:t,onEdit:r,isLoading:n,order:a})=>{const[i,s]=F.useState(""),[o,l]=F.useState(""),[c,u]=F.useState("pending"),[d,h]=F.useState(""),[p,g]=F.useState(""),[m,v]=F.useState([{...k$}]),[y,b]=F.useState({...C$}),[x,O]=F.useState({...C$}),[P,j]=F.useState("Credit Card"),[T,S]=F.useState(""),[_,D]=F.useState([]),[E,N]=F.useState(!1);F.useEffect(()=>{e&&a&&(s(a.orderNumber),l(a.customerName),u(a.status),h(qt(a.createdAt,"yyyy-MM-dd")),v(a.items.map(ee=>({...ee}))),b(a.shippingAddress),O(a.billingAddress),j(a.paymentMethod),S(a.notes||""),a.status==="shipped"&&a.shippedTime?g(qt(a.shippedTime,"yyyy-MM-dd'T'HH:mm")):g(""))},[e,a]),F.useEffect(()=>{e&&(async()=>{N(!0);try{const Z=lr(At(Xe,"inventory"),Ua("name")),M=(await dr(Z)).docs.map(z=>({id:z.id,...z.data()}));D(M.length>0?M:I5)}catch{D(I5)}finally{N(!1)}})()},[e]);const k=(ee,Z,I)=>{v(M=>M.map((z,K)=>{if(K!==ee)return z;if(Z==="productName"){const X=_.find(ae=>ae.name===I);return X?{...z,productId:X.id,productName:X.name,unitPrice:X.price,quantity:1,totalPrice:X.price*1}:z}if(Z==="quantity"){const X=Number(I);return{...z,quantity:X,totalPrice:z.unitPrice*X}}return{...z,[Z]:I}}))},V=()=>{v([...m,{...k$}])},Q=ee=>{v(Z=>Z.filter((I,M)=>M!==ee))},W=(ee,Z,I)=>{ee==="shipping"?b(M=>({...U(M),[Z]:I})):O(M=>({...U(M),[Z]:I}))},G=ee=>{if(ee.preventDefault(),m.some(M=>!M.productId||!M.productName)){alert("Please select a product for each order item.");return}const Z={orderNumber:i,customerName:o,status:c,items:m.map((M,z)=>{let K;return typeof M.id=="string"&&M.id?K=M.id:K=`item${z+1}`,{...M,id:K}}),shippingAddress:y,billingAddress:x,paymentMethod:P,totalAmount:m.reduce((M,z)=>M+(z.totalPrice||0),0)};T&&(Z.notes=T),c==="shipped"&&p?Z.shippedTime=h0e(p):a!=null&&a.shippedTime&&c!=="shipped"&&(Z.shippedTime=null);const I={id:(a==null?void 0:a.id)||"",createdAt:(a==null?void 0:a.createdAt)||new Date,updatedAt:new Date,...Z};r(I),t()},q=ee=>typeof ee=="object"&&ee!==null&&!Array.isArray(ee)&&"street"in ee&&"city"in ee&&"state"in ee&&"zipCode"in ee&&"country"in ee,U=ee=>q(ee)?ee:{street:"",city:"",state:"",zipCode:"",country:""};return f.jsx(gn,{isOpen:e,onClose:t,title:"Edit Order",size:"xl",children:f.jsxs("form",{onSubmit:G,className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(Ot,{label:"Order Number",value:i,readOnly:!0,required:!0,fullWidth:!0}),f.jsx(Ot,{label:"Customer Name",value:o,onChange:ee=>l(ee.target.value),required:!0,fullWidth:!0})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(rn,{label:"Status",value:c,onChange:ee=>u(ee.target.value),options:Aze,required:!0,fullWidth:!0}),f.jsx(rn,{label:"Payment Method",value:P,onChange:ee=>j(ee.target.value),options:Tze,required:!0,fullWidth:!0})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(Ot,{label:"Order Date",type:"date",value:d,onChange:ee=>h(ee.target.value),required:!0,fullWidth:!0}),c==="shipped"&&f.jsx(Ot,{label:"Shipped Time",type:"datetime-local",value:p,onChange:ee=>g(ee.target.value),required:!0,fullWidth:!0})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Order Items"}),m.map((ee,Z)=>f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-2 mb-2 items-end",children:[f.jsx(rn,{label:"Product Name",value:ee.productName,onChange:I=>k(Z,"productName",I.target.value),options:[{value:"",label:"Select product..."},..._.map(I=>({value:I.name,label:I.name}))],required:!0,fullWidth:!0,disabled:E}),f.jsx(Ot,{label:"Quantity",type:"number",value:ee.quantity,onChange:I=>k(Z,"quantity",Number(I.target.value)),min:1,required:!0,fullWidth:!0,disabled:!ee.productName}),f.jsx(Ot,{label:"Unit Price",type:"number",value:ee.unitPrice,disabled:!0,fullWidth:!0}),f.jsx(Ot,{label:"Total Price",type:"number",value:ee.totalPrice,disabled:!0,fullWidth:!0}),f.jsx(at,{type:"button",variant:"danger",size:"sm",icon:f.jsx(ui,{size:16}),onClick:()=>Q(Z),children:"Remove"})]},Z)),f.jsx(at,{type:"button",variant:"primary",icon:f.jsx(hi,{size:16}),onClick:V,disabled:E,children:"Add Item"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Shipping Address"}),f.jsx(Ot,{label:"Street",value:y.street,onChange:ee=>W("shipping","street",ee.target.value),required:!0,fullWidth:!0}),f.jsx(Ot,{label:"City",value:y.city,onChange:ee=>W("shipping","city",ee.target.value),required:!0,fullWidth:!0}),f.jsx(Ot,{label:"State",value:y.state,onChange:ee=>W("shipping","state",ee.target.value),required:!0,fullWidth:!0}),f.jsx(Ot,{label:"Zip Code",value:y.zipCode,onChange:ee=>W("shipping","zipCode",ee.target.value),required:!0,fullWidth:!0}),f.jsx(Ot,{label:"Country",value:y.country,onChange:ee=>W("shipping","country",ee.target.value),required:!0,fullWidth:!0})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Billing Address"}),f.jsx(Ot,{label:"Street",value:x.street,onChange:ee=>W("billing","street",ee.target.value),required:!0,fullWidth:!0}),f.jsx(Ot,{label:"City",value:x.city,onChange:ee=>W("billing","city",ee.target.value),required:!0,fullWidth:!0}),f.jsx(Ot,{label:"State",value:x.state,onChange:ee=>W("billing","state",ee.target.value),required:!0,fullWidth:!0}),f.jsx(Ot,{label:"Zip Code",value:x.zipCode,onChange:ee=>W("billing","zipCode",ee.target.value),required:!0,fullWidth:!0}),f.jsx(Ot,{label:"Country",value:x.country,onChange:ee=>W("billing","country",ee.target.value),required:!0,fullWidth:!0})]})]}),f.jsx(Ot,{label:"Notes (optional)",value:T,onChange:ee=>S(ee.target.value),fullWidth:!0}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx(at,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),f.jsx(at,{type:"submit",isLoading:n,variant:"primary",children:"Save Changes"})]})]})})},Nze=()=>{const[e,t]=F.useState(""),[r,n]=F.useState("all"),[a,i]=F.useState("date"),[s,o]=F.useState(null),[l,c]=F.useState("grid"),[u,d]=F.useState(!1),[h,p]=F.useState(!1),[g,m]=F.useState([]),[v,y]=F.useState(null),[b,x]=F.useState(!1),{showToast:O}=_c(),{user:P}=xa(),{isDarkMode:j}=un(),T=async()=>{p(!0);try{const q=lr(At(Xe,"orders"),Ua("createdAt","desc")),ee=(await dr(q)).docs.map(Z=>{const I=Z.data();return{id:Z.id,orderNumber:I.orderNumber||"",customerName:I.customerName||"",items:I.items||[],status:I.status||"pending",createdAt:I.createdAt instanceof sr?I.createdAt.toDate():new Date(I.createdAt),updatedAt:I.updatedAt instanceof sr?I.updatedAt.toDate():new Date(I.updatedAt),shippingAddress:I.shippingAddress||{},billingAddress:I.billingAddress||{},paymentMethod:I.paymentMethod||"",totalAmount:I.totalAmount||0,notes:I.notes||"",shippedTime:I.shippedTime instanceof sr?I.shippedTime.toDate():I.shippedTime?new Date(I.shippedTime):void 0}});m(ee)}catch(q){console.error("Error fetching orders:",q),O("Failed to fetch orders","error")}finally{p(!1)}};F.useEffect(()=>{T()},[]);const S=g.filter(q=>{const U=q.orderNumber.toLowerCase().includes(e.toLowerCase())||q.customerName.toLowerCase().includes(e.toLowerCase()),ee=r==="all"||q.status===r;return U&&ee}).sort((q,U)=>a==="date"?new Date(U.createdAt).getTime()-new Date(q.createdAt).getTime():a==="amount"?U.totalAmount-q.totalAmount:0),_=q=>{o(q)},D=[{value:"all",label:"All Statuses"},{value:"pending",label:"Pending"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"},{value:"returned",label:"Returned"}],E=[{value:"date",label:"Date (Newest First)"},{value:"amount",label:"Amount (Highest First)"}],N=async q=>{p(!0);try{await vr(At(Xe,"orders"),{...q,createdAt:Nf(),updatedAt:Nf()}),await vr(At(Xe,"activityLogs"),{user:P==null?void 0:P.name,role:P==null?void 0:P.role,detail:`created new order #${q.orderNumber} for '${q.customerName}' with ${q.items.length} items (${q.items.map(U=>`${U.quantity} ${U.productName}`).join(", ")}) - Total: $${q.totalAmount.toFixed(2)}`,time:new Date().toISOString()}),q.status==="shipped"&&await D2(q.items,!0),await T(),d(!1),O("Order added successfully!","success")}catch(U){console.error("Error in handleAddOrder:",U),alert("Error adding order: "+((U==null?void 0:U.message)||U))}finally{p(!1)}},k=async q=>{p(!0);try{const U=kr(Xe,"orders",q.id),Z=(await uh(U)).data(),I={status:q.status,updatedAt:Nf()},M=[];if((Z==null?void 0:Z.status)!==q.status&&M.push(`status from "${Z==null?void 0:Z.status}" to "${q.status}"`),(Z==null?void 0:Z.customerName)!==q.customerName&&M.push(`customer from "${Z==null?void 0:Z.customerName}" to "${q.customerName}"`),JSON.stringify(Z==null?void 0:Z.items)!==JSON.stringify(q.items)){const K=[];q.items.forEach(X=>{const ae=Z==null?void 0:Z.items.find(ue=>ue.id===X.id);ae?ae.quantity!==X.quantity&&K.push(`changed ${X.productName} quantity from ${ae.quantity} to ${X.quantity}`):K.push(`added ${X.quantity} ${X.productName}`)}),Z==null||Z.items.forEach(X=>{q.items.find(ae=>ae.id===X.id)||K.push(`removed ${X.quantity} ${X.productName}`)}),K.length>0&&M.push(`items: ${K.join(", ")}`)}(Z==null?void 0:Z.totalAmount)!==q.totalAmount&&M.push(`total amount from $${Z==null?void 0:Z.totalAmount.toFixed(2)} to $${q.totalAmount.toFixed(2)}`),q.status==="shipped"&&(Z==null?void 0:Z.status)!=="shipped"?(await D2(q.items,!0),q.shippedTime?I.shippedTime=sr.fromDate(q.shippedTime):I.shippedTime=Nf()):(Z==null?void 0:Z.status)==="shipped"&&q.status!=="shipped"?(await D2(q.items,!1),I.shippedTime=k8()):(q.status==="cancelled"||q.status==="returned")&&(Z==null?void 0:Z.status)!=="cancelled"&&(Z==null?void 0:Z.status)!=="returned"?(await D2(q.items,!1),I.shippedTime=k8()):Z!=null&&Z.shippedTime&&(I.shippedTime=sr.fromDate(Z.shippedTime));const{...z}=q;Object.assign(I,z),await Wn(U,I),M.length>0&&await vr(At(Xe,"activityLogs"),{user:P==null?void 0:P.name,role:P==null?void 0:P.role,detail:`edited order #${q.orderNumber}: ${M.join("; ")}`,time:new Date().toISOString()}),await T(),y(null),O("Order updated successfully!","success")}catch(U){console.error("Error updating order:",U),O("Failed to update order","error")}finally{p(!1)}},V=()=>{y(null)},Q=async q=>{p(!0);try{const U=kr(Xe,"orders",q),Z=(await uh(U)).data();Z&&(await vr(At(Xe,"activityLogs"),{user:P==null?void 0:P.name,role:P==null?void 0:P.role,detail:`deleted order #${Z.orderNumber} for '${Z.customerName}' with ${Z.items.length} items (${Z.items.map(I=>`${I.quantity} ${I.productName}`).join(", ")}) - Total: $${Z.totalAmount.toFixed(2)}`,time:new Date().toISOString()}),await Bs(U),await T(),x(!1),o(null),O("Order deleted successfully!","success"))}catch(U){console.error("Error deleting order:",U),O("Failed to delete order","error")}finally{p(!1)}},W=(q,U)=>{q.stopPropagation(),o(U),x(!0)},G=(q,U)=>{q.stopPropagation(),y(U)};return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("h1",{className:`text-2xl font-bold ${j?"text-white":"text-slate-800"}`,children:"Current Orders"}),f.jsx("p",{className:`${j?"text-slate-400":"text-slate-500"} mt-1`,children:"Track and manage your active orders"})]}),f.jsx(at,{onClick:()=>d(!0),className:"flex items-center gap-2",children:f.jsx("span",{className:"hidden sm:inline",children:"Add New Order"})})]}),f.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[f.jsx("div",{className:"md:flex-1",children:f.jsx(Ot,{placeholder:"Search by order number or customer...",value:e,onChange:q=>t(q.target.value),icon:f.jsx(Fl,{size:18}),fullWidth:!0})}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsx(rn,{options:D,value:r,onChange:q=>n(q.target.value)}),f.jsx(rn,{options:E,value:a,onChange:q=>i(q.target.value)})]})]}),f.jsx("div",{className:"flex justify-end mb-4",children:f.jsxs("div",{className:"relative inline-block",children:[f.jsxs("button",{className:`px-4 py-2 text-sm font-medium rounded-l-md focus:outline-none transition-colors 
              ${l==="grid"?"bg-blue-600 text-white shadow-sm":j?"bg-slate-800 text-slate-300 hover:bg-slate-700 border border-slate-700":"bg-white text-slate-700 hover:bg-slate-50 border border-slate-300"}`,onClick:()=>c("grid"),children:[f.jsx(Dre,{size:18,className:"inline mr-1"})," Grid"]}),f.jsxs("button",{className:`px-4 py-2 text-sm font-medium rounded-r-md focus:outline-none transition-colors 
              ${l==="table"?"bg-blue-600 text-white shadow-sm":j?"bg-slate-800 text-slate-300 hover:bg-slate-700 border border-slate-700":"bg-white text-slate-700 hover:bg-slate-50 border border-slate-300"}`,onClick:()=>c("table"),children:[f.jsx(Ure,{size:18,className:"inline mr-1"})," Table"]})]})}),h?f.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[f.jsx(xs,{className:`w-8 h-8 ${j?"text-blue-400":"text-blue-500"} animate-spin`}),f.jsx("p",{className:`mt-2 ${j?"text-slate-400":"text-slate-600"}`,children:"Loading orders..."})]}):l==="grid"?S.length>0?f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:S.map(q=>f.jsx("div",{className:"flex flex-col",children:f.jsx(gze,{order:q,onClick:()=>_(q),editButton:f.jsx("button",{onClick:U=>G(U,q),className:`p-2 ${j?"hover:bg-slate-700":"hover:bg-slate-100"} rounded-full transition-colors`,children:f.jsx(bs,{className:`w-4 h-4 ${j?"text-blue-400":"text-blue-500"}`})})})},q.id))}):f.jsx("div",{className:`text-center py-12 ${j?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:f.jsx("p",{className:`${j?"text-slate-400":"text-slate-500"}`,children:"No orders found. Try adjusting your filters."})}):S.length>0?f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:`min-w-full divide-y ${j?"divide-slate-700 bg-slate-800 border-slate-700":"divide-slate-200 bg-white border-slate-200"} rounded-lg border`,children:[f.jsx("thead",{className:j?"bg-slate-900":"bg-slate-100",children:f.jsxs("tr",{children:[f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${j?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Order #"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${j?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Customer"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${j?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Status"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${j?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Date"}),f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${j?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Total"}),f.jsx("th",{className:`px-4 py-3 text-center text-xs font-medium ${j?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),f.jsx("tbody",{className:`${j?"divide-slate-700":"divide-slate-200"}`,children:S.map(q=>f.jsxs("tr",{className:`${j?"hover:bg-slate-700":"hover:bg-slate-50"} cursor-pointer`,onClick:()=>_(q),children:[f.jsx("td",{className:`px-4 py-3 text-sm ${j?"text-blue-400":"text-blue-700"} font-medium`,children:q.orderNumber}),f.jsx("td",{className:`px-4 py-3 text-sm ${j?"text-slate-300":"text-slate-800"}`,children:q.customerName}),f.jsx("td",{className:`px-4 py-3 text-sm ${j?"text-slate-300":"text-slate-800"} capitalize`,children:q.status}),f.jsx("td",{className:`px-4 py-3 text-sm ${j?"text-slate-300":"text-slate-800"}`,children:new Date(q.createdAt).toLocaleDateString()}),f.jsxs("td",{className:`px-4 py-3 text-sm font-bold ${j?"text-slate-200":"text-slate-900"} text-right`,children:["$",q.totalAmount.toFixed(2)]}),f.jsx("td",{className:"px-4 py-3 text-center",children:f.jsxs("div",{className:"flex items-center justify-center gap-2",children:[f.jsx("button",{onClick:U=>{U.stopPropagation(),y(q)},className:`p-1 ${j?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,children:f.jsx(bs,{size:16})}),f.jsx("button",{onClick:U=>W(U,q),className:`p-1 ${j?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,children:f.jsx(ui,{size:16})})]})})]},q.id))})]})}):f.jsx("div",{className:`text-center py-12 ${j?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:f.jsx("p",{className:`${j?"text-slate-400":"text-slate-500"}`,children:"No orders found. Try adjusting your filters."})}),s&&f.jsx(vze,{isOpen:!!s,onClose:()=>o(null),order:s}),f.jsx(Sze,{isOpen:u,onClose:()=>d(!1),onAdd:N,isLoading:h}),f.jsx(Eze,{isOpen:!!v,onClose:V,onEdit:k,isLoading:h,order:v}),s&&f.jsx(Oh,{isOpen:b,onClose:()=>{x(!1),o(null)},onConfirm:()=>Q(s.id),title:"Delete Order",message:`Are you sure you want to delete order "${s.orderNumber}"? This action cannot be undone.`,isLoading:h})]})},D2=async(e,t)=>{const r=Voe(Xe),n=[];for(const a of e){const i=kr(Xe,"inventory",a.productId),s=await uh(i);if(s.exists()){const o=s.data().quantity,l=t?o-a.quantity:o+a.quantity;r.update(i,{quantity:l}),n.push({productName:a.productName,quantity:a.quantity,action:t?"deducted":"restored"})}}if(await r.commit(),n.length>0){const a=t?"deducted from":"restored to",i=n.map(s=>`${s.quantity} units of "${s.productName}"`).join(", ");await vr(At(Xe,"activityLogs"),{user:user==null?void 0:user.name,role:user==null?void 0:user.role,detail:`${a} inventory: ${i}`,time:new Date().toISOString()})}},kze="modulepreload",Cze=function(e){return"/"+e},P$={},BN=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=Cze(l),l in P$)return;P$[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":kze,c||(d.as="script"),d.crossOrigin="",d.href=l,o&&d.setAttribute("nonce",o),document.head.appendChild(d),c)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return a.then(s=>{for(const o of s||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})};var es=Uint8Array,ho=Uint16Array,yj=Int32Array,kS=new es([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),CS=new es([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),UN=new es([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),TQ=function(e,t){for(var r=new ho(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new yj(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},EQ=TQ(kS,2),NQ=EQ.b,VN=EQ.r;NQ[28]=258,VN[258]=28;var kQ=TQ(CS,0),Pze=kQ.b,j$=kQ.r,zN=new ho(32768);for(var Zn=0;Zn<32768;++Zn){var uf=(Zn&43690)>>1|(Zn&21845)<<1;uf=(uf&52428)>>2|(uf&13107)<<2,uf=(uf&61680)>>4|(uf&3855)<<4,zN[Zn]=((uf&65280)>>8|(uf&255)<<8)>>1}var vc=function(e,t,r){for(var n=e.length,a=0,i=new ho(t);a<n;++a)e[a]&&++i[e[a]-1];var s=new ho(t);for(a=1;a<t;++a)s[a]=s[a-1]+i[a-1]<<1;var o;if(r){o=new ho(1<<t);var l=15-t;for(a=0;a<n;++a)if(e[a])for(var c=a<<4|e[a],u=t-e[a],d=s[e[a]-1]++<<u,h=d|(1<<u)-1;d<=h;++d)o[zN[d]>>l]=c}else for(o=new ho(n),a=0;a<n;++a)e[a]&&(o[a]=zN[s[e[a]-1]++]>>15-e[a]);return o},ud=new es(288);for(var Zn=0;Zn<144;++Zn)ud[Zn]=8;for(var Zn=144;Zn<256;++Zn)ud[Zn]=9;for(var Zn=256;Zn<280;++Zn)ud[Zn]=7;for(var Zn=280;Zn<288;++Zn)ud[Zn]=8;var Ty=new es(32);for(var Zn=0;Zn<32;++Zn)Ty[Zn]=5;var jze=vc(ud,9,0),Oze=vc(ud,9,1),Ize=vc(Ty,5,0),Dze=vc(Ty,5,1),q4=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},ml=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},W4=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},xj=function(e){return(e+7)/8|0},CQ=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new es(e.subarray(t,r))},Lze=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],xl=function(e,t,r){var n=new Error(t||Lze[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,xl),!r)throw n;return n},Mze=function(e,t,r,n){var a=e.length,i=0;if(!a||t.f&&!t.l)return r||new es(0);var s=!r,o=s||t.i!=2,l=t.i;s&&(r=new es(a*3));var c=function(ye){var H=r.length;if(ye>H){var ke=new es(Math.max(H*2,ye));ke.set(r),r=ke}},u=t.f||0,d=t.p||0,h=t.b||0,p=t.l,g=t.d,m=t.m,v=t.n,y=a*8;do{if(!p){u=ml(e,d,1);var b=ml(e,d+1,3);if(d+=3,b)if(b==1)p=Oze,g=Dze,m=9,v=5;else if(b==2){var j=ml(e,d,31)+257,T=ml(e,d+10,15)+4,S=j+ml(e,d+5,31)+1;d+=14;for(var _=new es(S),D=new es(19),E=0;E<T;++E)D[UN[E]]=ml(e,d+E*3,7);d+=T*3;for(var N=q4(D),k=(1<<N)-1,V=vc(D,N,1),E=0;E<S;){var Q=V[ml(e,d,k)];d+=Q&15;var x=Q>>4;if(x<16)_[E++]=x;else{var W=0,G=0;for(x==16?(G=3+ml(e,d,3),d+=2,W=_[E-1]):x==17?(G=3+ml(e,d,7),d+=3):x==18&&(G=11+ml(e,d,127),d+=7);G--;)_[E++]=W}}var q=_.subarray(0,j),U=_.subarray(j);m=q4(q),v=q4(U),p=vc(q,m,1),g=vc(U,v,1)}else xl(1);else{var x=xj(d)+4,O=e[x-4]|e[x-3]<<8,P=x+O;if(P>a){l&&xl(0);break}o&&c(h+O),r.set(e.subarray(x,P),h),t.b=h+=O,t.p=d=P*8,t.f=u;continue}if(d>y){l&&xl(0);break}}o&&c(h+131072);for(var ee=(1<<m)-1,Z=(1<<v)-1,I=d;;I=d){var W=p[W4(e,d)&ee],M=W>>4;if(d+=W&15,d>y){l&&xl(0);break}if(W||xl(2),M<256)r[h++]=M;else if(M==256){I=d,p=null;break}else{var z=M-254;if(M>264){var E=M-257,K=kS[E];z=ml(e,d,(1<<K)-1)+NQ[E],d+=K}var X=g[W4(e,d)&Z],ae=X>>4;X||xl(3),d+=X&15;var U=Pze[ae];if(ae>3){var K=CS[ae];U+=W4(e,d)&(1<<K)-1,d+=K}if(d>y){l&&xl(0);break}o&&c(h+131072);var ue=h+z;if(h<U){var ie=i-U,ge=Math.min(U,ue);for(ie+h<0&&xl(3);h<ge;++h)r[h]=n[ie+h]}for(;h<ue;++h)r[h]=r[h-U]}}t.l=p,t.p=I,t.b=h,t.f=u,p&&(u=1,t.m=m,t.d=g,t.n=v)}while(!u);return h!=r.length&&s?CQ(r,0,h):r.subarray(0,h)},qc=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},Fg=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},H4=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:jQ,l:0};if(a==1){var s=new es(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(P,j){return P.f-j.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],c=0,u=1,d=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=a-1;)o=r[r[c].f<r[d].f?c++:d++],l=r[c!=u&&r[c].f<r[d].f?c++:d++],r[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var h=i[0].s,n=1;n<a;++n)i[n].s>h&&(h=i[n].s);var p=new ho(h+1),g=qN(r[u-1],p,0);if(g>t){var n=0,m=0,v=g-t,y=1<<v;for(i.sort(function(j,T){return p[T.s]-p[j.s]||j.f-T.f});n<a;++n){var b=i[n].s;if(p[b]>t)m+=y-(1<<g-p[b]),p[b]=t;else break}for(m>>=v;m>0;){var x=i[n].s;p[x]<t?m-=1<<t-p[x]++-1:++n}for(;n>=0&&m;--n){var O=i[n].s;p[O]==t&&(--p[O],++m)}g=t}return{t:new es(p),l:g}},qN=function(e,t,r){return e.s==-1?Math.max(qN(e.l,t,r+1),qN(e.r,t,r+1)):t[e.s]=r},O$=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new ho(++t),n=0,a=e[0],i=1,s=function(l){r[n++]=l},o=1;o<=t;++o)if(e[o]==a&&o!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(a),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(a);i=1,a=e[o]}return{c:r.subarray(0,n),n:t}},$g=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},PQ=function(e,t,r){var n=r.length,a=xj(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},I$=function(e,t,r,n,a,i,s,o,l,c,u){qc(t,u++,r),++a[256];for(var d=H4(a,15),h=d.t,p=d.l,g=H4(i,15),m=g.t,v=g.l,y=O$(h),b=y.c,x=y.n,O=O$(m),P=O.c,j=O.n,T=new ho(19),S=0;S<b.length;++S)++T[b[S]&31];for(var S=0;S<P.length;++S)++T[P[S]&31];for(var _=H4(T,7),D=_.t,E=_.l,N=19;N>4&&!D[UN[N-1]];--N);var k=c+5<<3,V=$g(a,ud)+$g(i,Ty)+s,Q=$g(a,h)+$g(i,m)+s+14+3*N+$g(T,D)+2*T[16]+3*T[17]+7*T[18];if(l>=0&&k<=V&&k<=Q)return PQ(t,u,e.subarray(l,l+c));var W,G,q,U;if(qc(t,u,1+(Q<V)),u+=2,Q<V){W=vc(h,p,0),G=h,q=vc(m,v,0),U=m;var ee=vc(D,E,0);qc(t,u,x-257),qc(t,u+5,j-1),qc(t,u+10,N-4),u+=14;for(var S=0;S<N;++S)qc(t,u+3*S,D[UN[S]]);u+=3*N;for(var Z=[b,P],I=0;I<2;++I)for(var M=Z[I],S=0;S<M.length;++S){var z=M[S]&31;qc(t,u,ee[z]),u+=D[z],z>15&&(qc(t,u,M[S]>>5&127),u+=M[S]>>12)}}else W=jze,G=ud,q=Ize,U=Ty;for(var S=0;S<o;++S){var K=n[S];if(K>255){var z=K>>18&31;Fg(t,u,W[z+257]),u+=G[z+257],z>7&&(qc(t,u,K>>23&31),u+=kS[z]);var X=K&31;Fg(t,u,q[X]),u+=U[X],X>3&&(Fg(t,u,K>>5&8191),u+=CS[X])}else Fg(t,u,W[K]),u+=G[K]}return Fg(t,u,W[256]),u+G[256]},Rze=new yj([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),jQ=new es(0),Fze=function(e,t,r,n,a,i){var s=i.z||e.length,o=new es(n+s+5*(1+Math.ceil(s/7e3))+a),l=o.subarray(n,o.length-a),c=i.l,u=(i.r||0)&7;if(t){u&&(l[0]=i.r>>3);for(var d=Rze[t-1],h=d>>13,p=d&8191,g=(1<<r)-1,m=i.p||new ho(32768),v=i.h||new ho(g+1),y=Math.ceil(r/3),b=2*y,x=function(Ce){return(e[Ce]^e[Ce+1]<<y^e[Ce+2]<<b)&g},O=new yj(25e3),P=new ho(288),j=new ho(32),T=0,S=0,_=i.i||0,D=0,E=i.w||0,N=0;_+2<s;++_){var k=x(_),V=_&32767,Q=v[k];if(m[V]=Q,v[k]=V,E<=_){var W=s-_;if((T>7e3||D>24576)&&(W>423||!c)){u=I$(e,l,0,O,P,j,S,D,N,_-N,u),D=T=S=0,N=_;for(var G=0;G<286;++G)P[G]=0;for(var G=0;G<30;++G)j[G]=0}var q=2,U=0,ee=p,Z=V-Q&32767;if(W>2&&k==x(_-Z))for(var I=Math.min(h,W)-1,M=Math.min(32767,_),z=Math.min(258,W);Z<=M&&--ee&&V!=Q;){if(e[_+q]==e[_+q-Z]){for(var K=0;K<z&&e[_+K]==e[_+K-Z];++K);if(K>q){if(q=K,U=Z,K>I)break;for(var X=Math.min(Z,K-2),ae=0,G=0;G<X;++G){var ue=_-Z+G&32767,ie=m[ue],ge=ue-ie&32767;ge>ae&&(ae=ge,Q=ue)}}}V=Q,Q=m[V],Z+=V-Q&32767}if(U){O[D++]=268435456|VN[q]<<18|j$[U];var ye=VN[q]&31,H=j$[U]&31;S+=kS[ye]+CS[H],++P[257+ye],++j[H],E=_+q,++T}else O[D++]=e[_],++P[e[_]]}}for(_=Math.max(_,E);_<s;++_)O[D++]=e[_],++P[e[_]];u=I$(e,l,c,O,P,j,S,D,N,_-N,u),c||(i.r=u&7|l[u/8|0]<<3,u-=7,i.h=v,i.p=m,i.i=_,i.w=E)}else{for(var _=i.w||0;_<s+c;_+=65535){var ke=_+65535;ke>=s&&(l[u/8|0]=c,ke=s),u=PQ(l,u+1,e.subarray(_,ke))}i.i=s}return CQ(o,0,n+xj(u)+a)},OQ=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length|0,s=0;s!=i;){for(var o=Math.min(s+2655,i);s<o;++s)a+=n+=r[s];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},$ze=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),s=new es(i.length+e.length);s.set(i),s.set(e,i.length),e=s,a.w=i.length}return Fze(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},IQ=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},Bze=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=OQ();a.p(t.dictionary),IQ(e,2,a.d())}},Uze=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&xl(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&xl(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function WN(e,t){t||(t={});var r=OQ();r.p(e);var n=$ze(e,t,t.dictionary?6:2,4);return Bze(n,t),IQ(n,n.length-4,r.d()),n}function Vze(e,t){return Mze(e.subarray(Uze(e,t),-4),{i:2},t,t)}var zze=typeof TextDecoder<"u"&&new TextDecoder,qze=0;try{zze.decode(jQ,{stream:!0}),qze=1}catch{}var Ar=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function G4(){Ar.console&&typeof Ar.console.log=="function"&&Ar.console.log.apply(Ar.console,arguments)}var $n={log:G4,warn:function(e){Ar.console&&(typeof Ar.console.warn=="function"?Ar.console.warn.apply(Ar.console,arguments):G4.call(null,arguments))},error:function(e){Ar.console&&(typeof Ar.console.error=="function"?Ar.console.error.apply(Ar.console,arguments):G4(e))}};function K4(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Gd(n.response,t,r)},n.onerror=function(){$n.error("could not download file")},n.send()}function D$(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function L2(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Uv,HN,Gd=Ar.saveAs||((typeof window>"u"?"undefined":bn(window))!=="object"||window!==Ar?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=Ar.URL||Ar.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?D$(a.href)?K4(e,t,r):L2(a,a.target="_blank"):L2(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){L2(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(D$(e))K4(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){L2(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:bn(i)!=="object"&&($n.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return K4(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(Ar.HTMLElement)||Ar.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||a&&i)&&(typeof FileReader>"u"?"undefined":bn(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=s?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},o.readAsDataURL(e)}else{var l=Ar.URL||Ar.webkitURL,c=l.createObjectURL(e);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function DQ(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,s=a.exec(e);s&&(t=i(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Y4(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=Ui(r,n,a,i,t[0],7,-680876936),i=Ui(i,r,n,a,t[1],12,-389564586),a=Ui(a,i,r,n,t[2],17,606105819),n=Ui(n,a,i,r,t[3],22,-1044525330),r=Ui(r,n,a,i,t[4],7,-176418897),i=Ui(i,r,n,a,t[5],12,1200080426),a=Ui(a,i,r,n,t[6],17,-1473231341),n=Ui(n,a,i,r,t[7],22,-45705983),r=Ui(r,n,a,i,t[8],7,1770035416),i=Ui(i,r,n,a,t[9],12,-1958414417),a=Ui(a,i,r,n,t[10],17,-42063),n=Ui(n,a,i,r,t[11],22,-1990404162),r=Ui(r,n,a,i,t[12],7,1804603682),i=Ui(i,r,n,a,t[13],12,-40341101),a=Ui(a,i,r,n,t[14],17,-1502002290),r=Vi(r,n=Ui(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=Vi(i,r,n,a,t[6],9,-1069501632),a=Vi(a,i,r,n,t[11],14,643717713),n=Vi(n,a,i,r,t[0],20,-373897302),r=Vi(r,n,a,i,t[5],5,-701558691),i=Vi(i,r,n,a,t[10],9,38016083),a=Vi(a,i,r,n,t[15],14,-660478335),n=Vi(n,a,i,r,t[4],20,-405537848),r=Vi(r,n,a,i,t[9],5,568446438),i=Vi(i,r,n,a,t[14],9,-1019803690),a=Vi(a,i,r,n,t[3],14,-187363961),n=Vi(n,a,i,r,t[8],20,1163531501),r=Vi(r,n,a,i,t[13],5,-1444681467),i=Vi(i,r,n,a,t[2],9,-51403784),a=Vi(a,i,r,n,t[7],14,1735328473),r=zi(r,n=Vi(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=zi(i,r,n,a,t[8],11,-2022574463),a=zi(a,i,r,n,t[11],16,1839030562),n=zi(n,a,i,r,t[14],23,-35309556),r=zi(r,n,a,i,t[1],4,-1530992060),i=zi(i,r,n,a,t[4],11,1272893353),a=zi(a,i,r,n,t[7],16,-155497632),n=zi(n,a,i,r,t[10],23,-1094730640),r=zi(r,n,a,i,t[13],4,681279174),i=zi(i,r,n,a,t[0],11,-358537222),a=zi(a,i,r,n,t[3],16,-722521979),n=zi(n,a,i,r,t[6],23,76029189),r=zi(r,n,a,i,t[9],4,-640364487),i=zi(i,r,n,a,t[12],11,-421815835),a=zi(a,i,r,n,t[15],16,530742520),r=qi(r,n=zi(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=qi(i,r,n,a,t[7],10,1126891415),a=qi(a,i,r,n,t[14],15,-1416354905),n=qi(n,a,i,r,t[5],21,-57434055),r=qi(r,n,a,i,t[12],6,1700485571),i=qi(i,r,n,a,t[3],10,-1894986606),a=qi(a,i,r,n,t[10],15,-1051523),n=qi(n,a,i,r,t[1],21,-2054922799),r=qi(r,n,a,i,t[8],6,1873313359),i=qi(i,r,n,a,t[15],10,-30611744),a=qi(a,i,r,n,t[6],15,-1560198380),n=qi(n,a,i,r,t[13],21,1309151649),r=qi(r,n,a,i,t[4],6,-145523070),i=qi(i,r,n,a,t[11],10,-1120210379),a=qi(a,i,r,n,t[2],15,718787259),n=qi(n,a,i,r,t[9],21,-343485551),e[0]=Df(r,e[0]),e[1]=Df(n,e[1]),e[2]=Df(a,e[2]),e[3]=Df(i,e[3])}function PS(e,t,r,n,a,i){return t=Df(Df(t,e),Df(n,i)),Df(t<<a|t>>>32-a,r)}function Ui(e,t,r,n,a,i,s){return PS(t&r|~t&n,e,t,a,i,s)}function Vi(e,t,r,n,a,i,s){return PS(t&n|r&~n,e,t,a,i,s)}function zi(e,t,r,n,a,i,s){return PS(t^r^n,e,t,a,i,s)}function qi(e,t,r,n,a,i,s){return PS(r^(t|~n),e,t,a,i,s)}function LQ(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Y4(n,Wze(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(Y4(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,Y4(n,a),n}function Wze(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}Uv=Ar.atob.bind(Ar),HN=Ar.btoa.bind(Ar);var L$="0123456789abcdef".split("");function Hze(e){for(var t="",r=0;r<4;r++)t+=L$[e>>8*r+4&15]+L$[e>>8*r&15];return t}function Gze(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function GN(e){return LQ(e).map(Gze).join("")}var Kze=function(e){for(var t=0;t<e.length;t++)e[t]=Hze(e[t]);return e.join("")}(LQ("hello"))!="5d41402abc4b2a76b9719d911017c592";function Df(e,t){if(Kze){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function KN(e,t){var r,n,a,i;if(e!==r){for(var s=(a=e,i=1+(256/e.length>>0),new Array(i+1).join(a)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+s.charCodeAt(l))%256,o[l]=o[c],o[c]=u}r=e,n=o}else o=n;var d=t.length,h=0,p=0,g="";for(l=0;l<d;l++)p=(p+(u=o[h=(h+1)%256]))%256,o[h]=o[p],o[p]=u,s=o[(o[h]+o[p])%256],g+=String.fromCharCode(t.charCodeAt(l)^s);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var M$={print:4,modify:8,copy:16,"annot-forms":32};function D0(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(o){if(M$.perm!==void 0)throw new Error("Invalid permission: "+o);a+=M$[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,s),this.P=-(1+(255^a)),this.encryptionKey=GN(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=KN(this.encryptionKey,this.padding)}function L0(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[n]}return t}function R$(e){if(bn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var s=t[r][i];try{s[0].apply(e,n)}catch(o){Ar.console&&$n.error("jsPDF PubSub Error",o.message,o)}s[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function D5(e){if(!(this instanceof D5))return new D5(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function MQ(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Xd(e,t,r,n,a){if(!(this instanceof Xd))return new Xd(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,MQ.call(this,n,a)}function np(e,t,r,n,a){if(!(this instanceof np))return new np(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,MQ.call(this,n,a)}function Sr(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],s=[],o=1,l=16,c="S",u=null;bn(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),s=e.filters||(i===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var d=e.putOnlyUsedFonts||!1,h={},p={internal:{},__private__:{}};p.__private__.PubSub=R$;var g="1.3",m=p.__private__.getPdfVersion=function(){return g};p.__private__.setPdfVersion=function(L){g=L};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return v};var y=p.__private__.getPageFormat=function(L){return v[L]};a=a||"a4";var b={COMPAT:"compat",ADVANCED:"advanced"},x=b.COMPAT;function O(){this.saveGraphicsState(),le(new Xt(He,0,0,-He,0,Mi()*He).toString()+" cm"),this.setFontSize(this.getFontSize()/He),c="n",x=b.ADVANCED}function P(){this.restoreGraphicsState(),c="S",x=b.COMPAT}var j=p.__private__.combineFontStyleAndFontWeight=function(L,re){if(L=="bold"&&re=="normal"||L=="bold"&&re==400||L=="normal"&&re=="italic"||L=="bold"&&re=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return re&&(L=re==400||re==="normal"?L==="italic"?"italic":"normal":re!=700&&re!=="bold"||L!=="normal"?(re==700?"bold":re)+""+L:"bold"),L};p.advancedAPI=function(L){var re=x===b.COMPAT;return re&&O.call(this),typeof L!="function"||(L(this),re&&P.call(this)),this},p.compatAPI=function(L){var re=x===b.ADVANCED;return re&&P.call(this),typeof L!="function"||(L(this),re&&O.call(this)),this},p.isAdvancedAPI=function(){return x===b.ADVANCED};var T,S=function(L){if(x!==b.ADVANCED)throw new Error(L+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},_=p.roundToPrecision=p.__private__.roundToPrecision=function(L,re){var Se=t||re;if(isNaN(L)||isNaN(Se))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return L.toFixed(Se).replace(/0+$/,"")};T=p.hpf=p.__private__.hpf=typeof l=="number"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return _(L,l)}:l==="smart"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return _(L,L>-1&&L<1?16:5)}:function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return _(L,16)};var D=p.f2=p.__private__.f2=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f2");return _(L,2)},E=p.__private__.f3=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f3");return _(L,3)},N=p.scale=p.__private__.scale=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.scale");return x===b.COMPAT?L*He:x===b.ADVANCED?L:void 0},k=function(L){return x===b.COMPAT?Mi()-L:x===b.ADVANCED?L:void 0},V=function(L){return N(k(L))};p.__private__.setPrecision=p.setPrecision=function(L){typeof parseInt(L,10)=="number"&&(t=parseInt(L,10))};var Q,W="00000000000000000000000000000000",G=p.__private__.getFileId=function(){return W},q=p.__private__.setFileId=function(L){return W=L!==void 0&&/^[a-fA-F0-9]{32}$/.test(L)?L.toUpperCase():W.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(_r=new D0(u.userPermissions,u.userPassword,u.ownerPassword,W)),W};p.setFileId=function(L){return q(L),this},p.getFileId=function(){return G()};var U=p.__private__.convertDateToPDFDate=function(L){var re=L.getTimezoneOffset(),Se=re<0?"+":"-",Pe=Math.floor(Math.abs(re/60)),Ue=Math.abs(re%60),lt=[Se,z(Pe),"'",z(Ue),"'"].join("");return["D:",L.getFullYear(),z(L.getMonth()+1),z(L.getDate()),z(L.getHours()),z(L.getMinutes()),z(L.getSeconds()),lt].join("")},ee=p.__private__.convertPDFDateToDate=function(L){var re=parseInt(L.substr(2,4),10),Se=parseInt(L.substr(6,2),10)-1,Pe=parseInt(L.substr(8,2),10),Ue=parseInt(L.substr(10,2),10),lt=parseInt(L.substr(12,2),10),Pt=parseInt(L.substr(14,2),10);return new Date(re,Se,Pe,Ue,lt,Pt,0)},Z=p.__private__.setCreationDate=function(L){var re;if(L===void 0&&(L=new Date),L instanceof Date)re=U(L);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(L))throw new Error("Invalid argument passed to jsPDF.setCreationDate");re=L}return Q=re},I=p.__private__.getCreationDate=function(L){var re=Q;return L==="jsDate"&&(re=ee(Q)),re};p.setCreationDate=function(L){return Z(L),this},p.getCreationDate=function(L){return I(L)};var M,z=p.__private__.padd2=function(L){return("0"+parseInt(L)).slice(-2)},K=p.__private__.padd2Hex=function(L){return("00"+(L=L.toString())).substr(L.length)},X=0,ae=[],ue=[],ie=0,ge=[],ye=[],H=!1,ke=ue,Ce=function(){X=0,ie=0,ue=[],ae=[],ge=[],he=ut(),me=ut()};p.__private__.setCustomOutputDestination=function(L){H=!0,ke=L};var _e=function(L){H||(ke=L)};p.__private__.resetCustomOutputDestination=function(){H=!1,ke=ue};var le=p.__private__.out=function(L){return L=L.toString(),ie+=L.length+1,ke.push(L),ke},Le=p.__private__.write=function(L){return le(arguments.length===1?L.toString():Array.prototype.join.call(arguments," "))},qe=p.__private__.getArrayBuffer=function(L){for(var re=L.length,Se=new ArrayBuffer(re),Pe=new Uint8Array(Se);re--;)Pe[re]=L.charCodeAt(re);return Se},Ke=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Ke};var rt=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(L){return rt=x===b.ADVANCED?L/He:L,this};var Ee,Re=p.__private__.getFontSize=p.getFontSize=function(){return x===b.COMPAT?rt:rt*He},Te=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(L){return Te=L,this},p.__private__.getR2L=p.getR2L=function(){return Te};var Me,We=p.__private__.setZoomMode=function(L){var re=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(L))Ee=L;else if(isNaN(L)){if(re.indexOf(L)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+L+'" is not recognized.');Ee=L}else Ee=parseInt(L,10)};p.__private__.getZoomMode=function(){return Ee};var st,ct=p.__private__.setPageMode=function(L){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(L)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+L+'" is not recognized.');Me=L};p.__private__.getPageMode=function(){return Me};var xt=p.__private__.setLayoutMode=function(L){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(L)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+L+'" is not recognized.');st=L};p.__private__.getLayoutMode=function(){return st},p.__private__.setDisplayMode=p.setDisplayMode=function(L,re,Se){return We(L),xt(re),ct(Se),this};var ht={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(L){if(Object.keys(ht).indexOf(L)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ht[L]},p.__private__.getDocumentProperties=function(){return ht},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(L){for(var re in ht)ht.hasOwnProperty(re)&&L[re]&&(ht[re]=L[re]);return this},p.__private__.setDocumentProperty=function(L,re){if(Object.keys(ht).indexOf(L)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ht[L]=re};var pt,He,Ft,Nt,Pr,ur={},pr={},je=[],De={},tt={},bt={},Rt={},Yt=null,Ct=0,It=[],rr=new R$(p),br=e.hotfixes||[],wr={},Er={},an=[],Xt=function L(re,Se,Pe,Ue,lt,Pt){if(!(this instanceof L))return new L(re,Se,Pe,Ue,lt,Pt);isNaN(re)&&(re=1),isNaN(Se)&&(Se=0),isNaN(Pe)&&(Pe=0),isNaN(Ue)&&(Ue=1),isNaN(lt)&&(lt=0),isNaN(Pt)&&(Pt=0),this._matrix=[re,Se,Pe,Ue,lt,Pt]};Object.defineProperty(Xt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(Xt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(Xt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(Xt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(Xt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(Xt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(Xt.prototype,"a",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(Xt.prototype,"b",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(Xt.prototype,"c",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(Xt.prototype,"d",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(Xt.prototype,"e",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(Xt.prototype,"f",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(Xt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Xt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Xt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Xt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Xt.prototype.join=function(L){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(T).join(L)},Xt.prototype.multiply=function(L){var re=L.sx*this.sx+L.shy*this.shx,Se=L.sx*this.shy+L.shy*this.sy,Pe=L.shx*this.sx+L.sy*this.shx,Ue=L.shx*this.shy+L.sy*this.sy,lt=L.tx*this.sx+L.ty*this.shx+this.tx,Pt=L.tx*this.shy+L.ty*this.sy+this.ty;return new Xt(re,Se,Pe,Ue,lt,Pt)},Xt.prototype.decompose=function(){var L=this.sx,re=this.shy,Se=this.shx,Pe=this.sy,Ue=this.tx,lt=this.ty,Pt=Math.sqrt(L*L+re*re),Wt=(L/=Pt)*Se+(re/=Pt)*Pe;Se-=L*Wt,Pe-=re*Wt;var A=Math.sqrt(Se*Se+Pe*Pe);return Wt/=A,L*(Pe/=A)<re*(Se/=A)&&(L=-L,re=-re,Wt=-Wt,Pt=-Pt),{scale:new Xt(Pt,0,0,A,0,0),translate:new Xt(1,0,0,1,Ue,lt),rotate:new Xt(L,re,-re,L,0,0),skew:new Xt(1,0,Wt,1,0,0)}},Xt.prototype.toString=function(L){return this.join(" ")},Xt.prototype.inversed=function(){var L=this.sx,re=this.shy,Se=this.shx,Pe=this.sy,Ue=this.tx,lt=this.ty,Pt=1/(L*Pe-re*Se),Wt=Pe*Pt,A=-re*Pt,B=-Se*Pt,J=L*Pt;return new Xt(Wt,A,B,J,-Wt*Ue-B*lt,-A*Ue-J*lt)},Xt.prototype.applyToPoint=function(L){var re=L.x*this.sx+L.y*this.shx+this.tx,Se=L.x*this.shy+L.y*this.sy+this.ty;return new Ic(re,Se)},Xt.prototype.applyToRectangle=function(L){var re=this.applyToPoint(L),Se=this.applyToPoint(new Ic(L.x+L.w,L.y+L.h));return new qu(re.x,re.y,Se.x-re.x,Se.y-re.y)},Xt.prototype.clone=function(){var L=this.sx,re=this.shy,Se=this.shx,Pe=this.sy,Ue=this.tx,lt=this.ty;return new Xt(L,re,Se,Pe,Ue,lt)},p.Matrix=Xt;var sa=p.matrixMult=function(L,re){return re.multiply(L)},Un=new Xt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Un;var Ne=function(L,re){if(!tt[L]){var Se=(re instanceof Xd?"Sh":"P")+(Object.keys(De).length+1).toString(10);re.id=Se,tt[L]=Se,De[Se]=re,rr.publish("addPattern",re)}};p.ShadingPattern=Xd,p.TilingPattern=np,p.addShadingPattern=function(L,re){return S("addShadingPattern()"),Ne(L,re),this},p.beginTilingPattern=function(L){S("beginTilingPattern()"),Wu(L.boundingBox[0],L.boundingBox[1],L.boundingBox[2]-L.boundingBox[0],L.boundingBox[3]-L.boundingBox[1],L.matrix)},p.endTilingPattern=function(L,re){S("endTilingPattern()"),re.stream=ye[M].join(`
`),Ne(L,re),rr.publish("endTilingPattern",re),an.pop().restore()};var it=p.__private__.newObject=function(){var L=ut();return te(L,!0),L},ut=p.__private__.newObjectDeferred=function(){return X++,ae[X]=function(){return ie},X},te=function(L,re){return re=typeof re=="boolean"&&re,ae[L]=ie,re&&le(L+" 0 obj"),L},ve=p.__private__.newAdditionalObject=function(){var L={objId:ut(),content:""};return ge.push(L),L},he=ut(),me=ut(),xe=p.__private__.decodeColorString=function(L){var re=L.split(" ");if(re.length!==2||re[1]!=="g"&&re[1]!=="G")re.length===5&&(re[4]==="k"||re[4]==="K")&&(re=[(1-re[0])*(1-re[3]),(1-re[1])*(1-re[3]),(1-re[2])*(1-re[3]),"r"]);else{var Se=parseFloat(re[0]);re=[Se,Se,Se,"r"]}for(var Pe="#",Ue=0;Ue<3;Ue++)Pe+=("0"+Math.floor(255*parseFloat(re[Ue])).toString(16)).slice(-2);return Pe},we=p.__private__.encodeColorString=function(L){var re;typeof L=="string"&&(L={ch1:L});var Se=L.ch1,Pe=L.ch2,Ue=L.ch3,lt=L.ch4,Pt=L.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Se=="string"&&Se.charAt(0)!=="#"){var Wt=new DQ(Se);if(Wt.ok)Se=Wt.toHex();else if(!/^\d*\.?\d*$/.test(Se))throw new Error('Invalid color "'+Se+'" passed to jsPDF.encodeColorString.')}if(typeof Se=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Se)&&(Se="#"+Se[1]+Se[1]+Se[2]+Se[2]+Se[3]+Se[3]),typeof Se=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Se)){var A=parseInt(Se.substr(1),16);Se=A>>16&255,Pe=A>>8&255,Ue=255&A}if(Pe===void 0||lt===void 0&&Se===Pe&&Pe===Ue)if(typeof Se=="string")re=Se+" "+Pt[0];else switch(L.precision){case 2:re=D(Se/255)+" "+Pt[0];break;case 3:default:re=E(Se/255)+" "+Pt[0]}else if(lt===void 0||bn(lt)==="object"){if(lt&&!isNaN(lt.a)&&lt.a===0)return re=["1.","1.","1.",Pt[1]].join(" ");if(typeof Se=="string")re=[Se,Pe,Ue,Pt[1]].join(" ");else switch(L.precision){case 2:re=[D(Se/255),D(Pe/255),D(Ue/255),Pt[1]].join(" ");break;default:case 3:re=[E(Se/255),E(Pe/255),E(Ue/255),Pt[1]].join(" ")}}else if(typeof Se=="string")re=[Se,Pe,Ue,lt,Pt[2]].join(" ");else switch(L.precision){case 2:re=[D(Se),D(Pe),D(Ue),D(lt),Pt[2]].join(" ");break;case 3:default:re=[E(Se),E(Pe),E(Ue),E(lt),Pt[2]].join(" ")}return re},ze=p.__private__.getFilters=function(){return s},nt=p.__private__.putStream=function(L){var re=(L=L||{}).data||"",Se=L.filters||ze(),Pe=L.alreadyAppliedFilters||[],Ue=L.addLength1||!1,lt=re.length,Pt=L.objectId,Wt=function(Lr){return Lr};if(u!==null&&Pt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Wt=_r.encryptor(Pt,0));var A={};Se===!0&&(Se=["FlateEncode"]);var B=L.additionalKeyValues||[],J=(A=Sr.API.processDataByFilters!==void 0?Sr.API.processDataByFilters(re,Se):{data:re,reverseChain:[]}).reverseChain+(Array.isArray(Pe)?Pe.join(" "):Pe.toString());if(A.data.length!==0&&(B.push({key:"Length",value:A.data.length}),Ue===!0&&B.push({key:"Length1",value:lt})),J.length!=0)if(J.split("/").length-1==1)B.push({key:"Filter",value:J});else{B.push({key:"Filter",value:"["+J+"]"});for(var fe=0;fe<B.length;fe+=1)if(B[fe].key==="DecodeParms"){for(var $e=[],et=0;et<A.reverseChain.split("/").length-1;et+=1)$e.push("null");$e.push(B[fe].value),B[fe].value="["+$e.join(" ")+"]"}}le("<<");for(var jt=0;jt<B.length;jt++)le("/"+B[jt].key+" "+B[jt].value);le(">>"),A.data.length!==0&&(le("stream"),le(Wt(A.data)),le("endstream"))},Ge=p.__private__.putPage=function(L){var re=L.number,Se=L.data,Pe=L.objId,Ue=L.contentsObjId;te(Pe,!0),le("<</Type /Page"),le("/Parent "+L.rootDictionaryObjId+" 0 R"),le("/Resources "+L.resourceDictionaryObjId+" 0 R"),le("/MediaBox ["+parseFloat(T(L.mediaBox.bottomLeftX))+" "+parseFloat(T(L.mediaBox.bottomLeftY))+" "+T(L.mediaBox.topRightX)+" "+T(L.mediaBox.topRightY)+"]"),L.cropBox!==null&&le("/CropBox ["+T(L.cropBox.bottomLeftX)+" "+T(L.cropBox.bottomLeftY)+" "+T(L.cropBox.topRightX)+" "+T(L.cropBox.topRightY)+"]"),L.bleedBox!==null&&le("/BleedBox ["+T(L.bleedBox.bottomLeftX)+" "+T(L.bleedBox.bottomLeftY)+" "+T(L.bleedBox.topRightX)+" "+T(L.bleedBox.topRightY)+"]"),L.trimBox!==null&&le("/TrimBox ["+T(L.trimBox.bottomLeftX)+" "+T(L.trimBox.bottomLeftY)+" "+T(L.trimBox.topRightX)+" "+T(L.trimBox.topRightY)+"]"),L.artBox!==null&&le("/ArtBox ["+T(L.artBox.bottomLeftX)+" "+T(L.artBox.bottomLeftY)+" "+T(L.artBox.topRightX)+" "+T(L.artBox.topRightY)+"]"),typeof L.userUnit=="number"&&L.userUnit!==1&&le("/UserUnit "+L.userUnit),rr.publish("putPage",{objId:Pe,pageContext:It[re],pageNumber:re,page:Se}),le("/Contents "+Ue+" 0 R"),le(">>"),le("endobj");var lt=Se.join(`
`);return x===b.ADVANCED&&(lt+=`
Q`),te(Ue,!0),nt({data:lt,filters:ze(),objectId:Ue}),le("endobj"),Pe},Ye=p.__private__.putPages=function(){var L,re,Se=[];for(L=1;L<=Ct;L++)It[L].objId=ut(),It[L].contentsObjId=ut();for(L=1;L<=Ct;L++)Se.push(Ge({number:L,data:ye[L],objId:It[L].objId,contentsObjId:It[L].contentsObjId,mediaBox:It[L].mediaBox,cropBox:It[L].cropBox,bleedBox:It[L].bleedBox,trimBox:It[L].trimBox,artBox:It[L].artBox,userUnit:It[L].userUnit,rootDictionaryObjId:he,resourceDictionaryObjId:me}));te(he,!0),le("<</Type /Pages");var Pe="/Kids [";for(re=0;re<Ct;re++)Pe+=Se[re]+" 0 R ";le(Pe+"]"),le("/Count "+Ct),le(">>"),le("endobj"),rr.publish("postPutPages")},Qe=function(L){rr.publish("putFont",{font:L,out:le,newObject:it,putStream:nt}),L.isAlreadyPutted!==!0&&(L.objectNumber=it(),le("<<"),le("/Type /Font"),le("/BaseFont /"+L0(L.postScriptName)),le("/Subtype /Type1"),typeof L.encoding=="string"&&le("/Encoding /"+L.encoding),le("/FirstChar 32"),le("/LastChar 255"),le(">>"),le("endobj"))},vt=function(){for(var L in ur)ur.hasOwnProperty(L)&&(d===!1||d===!0&&h.hasOwnProperty(L))&&Qe(ur[L])},Mt=function(L){L.objectNumber=it();var re=[];re.push({key:"Type",value:"/XObject"}),re.push({key:"Subtype",value:"/Form"}),re.push({key:"BBox",value:"["+[T(L.x),T(L.y),T(L.x+L.width),T(L.y+L.height)].join(" ")+"]"}),re.push({key:"Matrix",value:"["+L.matrix.toString()+"]"});var Se=L.pages[1].join(`
`);nt({data:Se,additionalKeyValues:re,objectId:L.objectNumber}),le("endobj")},Vt=function(){for(var L in wr)wr.hasOwnProperty(L)&&Mt(wr[L])},Dt=function(L,re){var Se,Pe=[],Ue=1/(re-1);for(Se=0;Se<1;Se+=Ue)Pe.push(Se);if(Pe.push(1),L[0].offset!=0){var lt={offset:0,color:L[0].color};L.unshift(lt)}if(L[L.length-1].offset!=1){var Pt={offset:1,color:L[L.length-1].color};L.push(Pt)}for(var Wt="",A=0,B=0;B<Pe.length;B++){for(Se=Pe[B];Se>L[A+1].offset;)A++;var J=L[A].offset,fe=(Se-J)/(L[A+1].offset-J),$e=L[A].color,et=L[A+1].color;Wt+=K(Math.round((1-fe)*$e[0]+fe*et[0]).toString(16))+K(Math.round((1-fe)*$e[1]+fe*et[1]).toString(16))+K(Math.round((1-fe)*$e[2]+fe*et[2]).toString(16))}return Wt.trim()},Bt=function(L,re){re||(re=21);var Se=it(),Pe=Dt(L.colors,re),Ue=[];Ue.push({key:"FunctionType",value:"0"}),Ue.push({key:"Domain",value:"[0.0 1.0]"}),Ue.push({key:"Size",value:"["+re+"]"}),Ue.push({key:"BitsPerSample",value:"8"}),Ue.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ue.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),nt({data:Pe,additionalKeyValues:Ue,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Se}),le("endobj"),L.objectNumber=it(),le("<< /ShadingType "+L.type),le("/ColorSpace /DeviceRGB");var lt="/Coords ["+T(parseFloat(L.coords[0]))+" "+T(parseFloat(L.coords[1]))+" ";L.type===2?lt+=T(parseFloat(L.coords[2]))+" "+T(parseFloat(L.coords[3])):lt+=T(parseFloat(L.coords[2]))+" "+T(parseFloat(L.coords[3]))+" "+T(parseFloat(L.coords[4]))+" "+T(parseFloat(L.coords[5])),le(lt+="]"),L.matrix&&le("/Matrix ["+L.matrix.toString()+"]"),le("/Function "+Se+" 0 R"),le("/Extend [true true]"),le(">>"),le("endobj")},mr=function(L,re){var Se=ut(),Pe=it();re.push({resourcesOid:Se,objectOid:Pe}),L.objectNumber=Pe;var Ue=[];Ue.push({key:"Type",value:"/Pattern"}),Ue.push({key:"PatternType",value:"1"}),Ue.push({key:"PaintType",value:"1"}),Ue.push({key:"TilingType",value:"1"}),Ue.push({key:"BBox",value:"["+L.boundingBox.map(T).join(" ")+"]"}),Ue.push({key:"XStep",value:T(L.xStep)}),Ue.push({key:"YStep",value:T(L.yStep)}),Ue.push({key:"Resources",value:Se+" 0 R"}),L.matrix&&Ue.push({key:"Matrix",value:"["+L.matrix.toString()+"]"}),nt({data:L.stream,additionalKeyValues:Ue,objectId:L.objectNumber}),le("endobj")},Yr=function(L){var re;for(re in De)De.hasOwnProperty(re)&&(De[re]instanceof Xd?Bt(De[re]):De[re]instanceof np&&mr(De[re],L))},Xr=function(L){for(var re in L.objectNumber=it(),le("<<"),L)switch(re){case"opacity":le("/ca "+D(L[re]));break;case"stroke-opacity":le("/CA "+D(L[re]))}le(">>"),le("endobj")},yn=function(){var L;for(L in bt)bt.hasOwnProperty(L)&&Xr(bt[L])},gi=function(){for(var L in le("/XObject <<"),wr)wr.hasOwnProperty(L)&&wr[L].objectNumber>=0&&le("/"+L+" "+wr[L].objectNumber+" 0 R");rr.publish("putXobjectDict"),le(">>")},Ii=function(){_r.oid=it(),le("<<"),le("/Filter /Standard"),le("/V "+_r.v),le("/R "+_r.r),le("/U <"+_r.toHexString(_r.U)+">"),le("/O <"+_r.toHexString(_r.O)+">"),le("/P "+_r.P),le(">>"),le("endobj")},cs=function(){for(var L in le("/Font <<"),ur)ur.hasOwnProperty(L)&&(d===!1||d===!0&&h.hasOwnProperty(L))&&le("/"+L+" "+ur[L].objectNumber+" 0 R");le(">>")},Di=function(){if(Object.keys(De).length>0){for(var L in le("/Shading <<"),De)De.hasOwnProperty(L)&&De[L]instanceof Xd&&De[L].objectNumber>=0&&le("/"+L+" "+De[L].objectNumber+" 0 R");rr.publish("putShadingPatternDict"),le(">>")}},us=function(L){if(Object.keys(De).length>0){for(var re in le("/Pattern <<"),De)De.hasOwnProperty(re)&&De[re]instanceof p.TilingPattern&&De[re].objectNumber>=0&&De[re].objectNumber<L&&le("/"+re+" "+De[re].objectNumber+" 0 R");rr.publish("putTilingPatternDict"),le(">>")}},za=function(){if(Object.keys(bt).length>0){var L;for(L in le("/ExtGState <<"),bt)bt.hasOwnProperty(L)&&bt[L].objectNumber>=0&&le("/"+L+" "+bt[L].objectNumber+" 0 R");rr.publish("putGStateDict"),le(">>")}},Ln=function(L){te(L.resourcesOid,!0),le("<<"),le("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),cs(),Di(),us(L.objectOid),za(),gi(),le(">>"),le("endobj")},Nc=function(){var L=[];vt(),yn(),Vt(),Yr(L),rr.publish("putResources"),L.forEach(Ln),Ln({resourcesOid:me,objectOid:Number.MAX_SAFE_INTEGER}),rr.publish("postPutResources")},kc=function(){rr.publish("putAdditionalObjects");for(var L=0;L<ge.length;L++){var re=ge[L];te(re.objId,!0),le(re.content),le("endobj")}rr.publish("postPutAdditionalObjects")},Lu=function(L){pr[L.fontName]=pr[L.fontName]||{},pr[L.fontName][L.fontStyle]=L.id},Cc=function(L,re,Se,Pe,Ue){var lt={id:"F"+(Object.keys(ur).length+1).toString(10),postScriptName:L,fontName:re,fontStyle:Se,encoding:Pe,isStandardFont:Ue||!1,metadata:{}};return rr.publish("addFont",{font:lt,instance:this}),ur[lt.id]=lt,Lu(lt),lt.id},Pc=function(L){for(var re=0,Se=Ke.length;re<Se;re++){var Pe=Cc.call(this,L[re][0],L[re][1],L[re][2],Ke[re][3],!0);d===!1&&(h[Pe]=!0);var Ue=L[re][0].split("-");Lu({id:Pe,fontName:Ue[0],fontStyle:Ue[1]||""})}rr.publish("addFonts",{fonts:ur,dictionary:pr})},Li=function(L){return L.foo=function(){try{return L.apply(this,arguments)}catch(Pe){var re=Pe.stack||"";~re.indexOf(" at ")&&(re=re.split(" at ")[1]);var Se="Error in function "+re.split(`
`)[0].split("<")[0]+": "+Pe.message;if(!Ar.console)throw new Error(Se);Ar.console.error(Se,Pe),Ar.alert&&alert(Se)}},L.foo.bar=L,L.foo},se=function(L,re){var Se,Pe,Ue,lt,Pt,Wt,A,B,J;if(Ue=(re=re||{}).sourceEncoding||"Unicode",Pt=re.outputEncoding,(re.autoencode||Pt)&&ur[pt].metadata&&ur[pt].metadata[Ue]&&ur[pt].metadata[Ue].encoding&&(lt=ur[pt].metadata[Ue].encoding,!Pt&&ur[pt].encoding&&(Pt=ur[pt].encoding),!Pt&&lt.codePages&&(Pt=lt.codePages[0]),typeof Pt=="string"&&(Pt=lt[Pt]),Pt)){for(A=!1,Wt=[],Se=0,Pe=L.length;Se<Pe;Se++)(B=Pt[L.charCodeAt(Se)])?Wt.push(String.fromCharCode(B)):Wt.push(L[Se]),Wt[Se].charCodeAt(0)>>8&&(A=!0);L=Wt.join("")}for(Se=L.length;A===void 0&&Se!==0;)L.charCodeAt(Se-1)>>8&&(A=!0),Se--;if(!A)return L;for(Wt=re.noBOM?[]:[254,255],Se=0,Pe=L.length;Se<Pe;Se++){if((J=(B=L.charCodeAt(Se))>>8)>>8)throw new Error("Character at position "+Se+" of string '"+L+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Wt.push(J),Wt.push(B-(J<<8))}return String.fromCharCode.apply(void 0,Wt)},Ae=p.__private__.pdfEscape=p.pdfEscape=function(L,re){return se(L,re).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},mt=p.__private__.beginPage=function(L){ye[++Ct]=[],It[Ct]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(L[0]),topRightY:Number(L[1])}},dt(Ct),_e(ye[M])},Ht=function(L,re){var Se,Pe,Ue;switch(r=re||r,typeof L=="string"&&(Se=y(L.toLowerCase()),Array.isArray(Se)&&(Pe=Se[0],Ue=Se[1])),Array.isArray(L)&&(Pe=L[0]*He,Ue=L[1]*He),isNaN(Pe)&&(Pe=a[0],Ue=a[1]),(Pe>14400||Ue>14400)&&($n.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Pe=Math.min(14400,Pe),Ue=Math.min(14400,Ue)),a=[Pe,Ue],r.substr(0,1)){case"l":Ue>Pe&&(a=[Ue,Pe]);break;case"p":Pe>Ue&&(a=[Ue,Pe])}mt(a),Nd(Ed),le(vi),Pd!==0&&le(Pd+" J"),zu!==0&&le(zu+" j"),rr.publish("addPage",{pageNumber:Ct})},gt=function(L){L>0&&L<=Ct&&(ye.splice(L,1),It.splice(L,1),Ct--,M>Ct&&(M=Ct),this.setPage(M))},dt=function(L){L>0&&L<=Ct&&(M=L)},wt=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return ye.length-1},Gt=function(L,re,Se){var Pe,Ue=void 0;return Se=Se||{},L=L!==void 0?L:ur[pt].fontName,re=re!==void 0?re:ur[pt].fontStyle,Pe=L.toLowerCase(),pr[Pe]!==void 0&&pr[Pe][re]!==void 0?Ue=pr[Pe][re]:pr[L]!==void 0&&pr[L][re]!==void 0?Ue=pr[L][re]:Se.disableWarning===!1&&$n.warn("Unable to look up font label for font '"+L+"', '"+re+"'. Refer to getFontList() for available fonts."),Ue||Se.noFallback||(Ue=pr.times[re])==null&&(Ue=pr.times.normal),Ue},er=p.__private__.putInfo=function(){var L=it(),re=function(Pe){return Pe};for(var Se in u!==null&&(re=_r.encryptor(L,0)),le("<<"),le("/Producer ("+Ae(re("jsPDF "+Sr.version))+")"),ht)ht.hasOwnProperty(Se)&&ht[Se]&&le("/"+Se.substr(0,1).toUpperCase()+Se.substr(1)+" ("+Ae(re(ht[Se]))+")");le("/CreationDate ("+Ae(re(Q))+")"),le(">>"),le("endobj")},Qt=p.__private__.putCatalog=function(L){var re=(L=L||{}).rootDictionaryObjId||he;switch(it(),le("<<"),le("/Type /Catalog"),le("/Pages "+re+" 0 R"),Ee||(Ee="fullwidth"),Ee){case"fullwidth":le("/OpenAction [3 0 R /FitH null]");break;case"fullheight":le("/OpenAction [3 0 R /FitV null]");break;case"fullpage":le("/OpenAction [3 0 R /Fit]");break;case"original":le("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Se=""+Ee;Se.substr(Se.length-1)==="%"&&(Ee=parseInt(Ee)/100),typeof Ee=="number"&&le("/OpenAction [3 0 R /XYZ null null "+D(Ee)+"]")}switch(st||(st="continuous"),st){case"continuous":le("/PageLayout /OneColumn");break;case"single":le("/PageLayout /SinglePage");break;case"two":case"twoleft":le("/PageLayout /TwoColumnLeft");break;case"tworight":le("/PageLayout /TwoColumnRight")}Me&&le("/PageMode /"+Me),rr.publish("putCatalog"),le(">>"),le("endobj")},fr=p.__private__.putTrailer=function(){le("trailer"),le("<<"),le("/Size "+(X+1)),le("/Root "+X+" 0 R"),le("/Info "+(X-1)+" 0 R"),u!==null&&le("/Encrypt "+_r.oid+" 0 R"),le("/ID [ <"+W+"> <"+W+"> ]"),le(">>")},jr=p.__private__.putHeader=function(){le("%PDF-"+g),le("%")},fn=p.__private__.putXRef=function(){var L="0000000000";le("xref"),le("0 "+(X+1)),le("0000000000 65535 f ");for(var re=1;re<=X;re++)typeof ae[re]=="function"?le((L+ae[re]()).slice(-10)+" 00000 n "):ae[re]!==void 0?le((L+ae[re]).slice(-10)+" 00000 n "):le("0000000000 00000 n ")},Tn=p.__private__.buildDocument=function(){Ce(),_e(ue),rr.publish("buildDocument"),jr(),Ye(),kc(),Nc(),u!==null&&Ii(),er(),Qt();var L=ie;return fn(),fr(),le("startxref"),le(""+L),le("%%EOF"),_e(ye[M]),ue.join(`
`)},Hr=p.__private__.getBlob=function(L){return new Blob([qe(L)],{type:"application/pdf"})},Mn=p.output=p.__private__.output=Li(function(L,re){switch(typeof(re=re||{})=="string"?re={filename:re}:re.filename=re.filename||"generated.pdf",L){case void 0:return Tn();case"save":p.save(re.filename);break;case"arraybuffer":return qe(Tn());case"blob":return Hr(Tn());case"bloburi":case"bloburl":if(Ar.URL!==void 0&&typeof Ar.URL.createObjectURL=="function")return Ar.URL&&Ar.URL.createObjectURL(Hr(Tn()))||void 0;$n.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Se="",Pe=Tn();try{Se=HN(Pe)}catch{Se=HN(unescape(encodeURIComponent(Pe)))}return"data:application/pdf;filename="+re.filename+";base64,"+Se;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ar)==="[object Window]"){var Ue="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",lt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';re.pdfObjectUrl&&(Ue=re.pdfObjectUrl,lt="");var Pt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ue+'"'+lt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(re)+");<\/script></body></html>",Wt=Ar.open();return Wt!==null&&Wt.document.write(Pt),Wt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ar)==="[object Window]"){var A='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(re.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+re.filename+'" width="500px" height="400px" /></body></html>',B=Ar.open();if(B!==null){B.document.write(A);var J=this;B.document.documentElement.querySelector("#pdfViewer").onload=function(){B.document.title=re.filename,B.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(J.output("bloburl"))}}return B}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ar)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var fe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",re)+'"></iframe></body></html>',$e=Ar.open();if($e!==null&&($e.document.write(fe),$e.document.title=re.filename),$e||typeof safari>"u")return $e;break;case"datauri":case"dataurl":return Ar.document.location.href=this.output("datauristring",re);default:return null}}),En=function(L){return Array.isArray(br)===!0&&br.indexOf(L)>-1};switch(n){case"pt":He=1;break;case"mm":He=72/25.4;break;case"cm":He=72/2.54;break;case"in":He=72;break;case"px":He=En("px_scaling")==1?.75:96/72;break;case"pc":case"em":He=12;break;case"ex":He=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);He=n}var _r=null;Z(),q();var Ys=function(L){return u!==null?_r.encryptor(L,0):function(re){return re}},nl=p.__private__.getPageInfo=p.getPageInfo=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:It[L].objId,pageNumber:L,pageContext:It[L]}},yr=p.__private__.getPageInfoByObjId=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var re in It)if(It[re].objId===L)break;return nl(re)},Wl=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:It[M].objId,pageNumber:M,pageContext:It[M]}};p.addPage=function(){return Ht.apply(this,arguments),this},p.setPage=function(){return dt.apply(this,arguments),_e.call(this,ye[M]),this},p.insertPage=function(L){return this.addPage(),this.movePage(M,L),this},p.movePage=function(L,re){var Se,Pe;if(L>re){Se=ye[L],Pe=It[L];for(var Ue=L;Ue>re;Ue--)ye[Ue]=ye[Ue-1],It[Ue]=It[Ue-1];ye[re]=Se,It[re]=Pe,this.setPage(re)}else if(L<re){Se=ye[L],Pe=It[L];for(var lt=L;lt<re;lt++)ye[lt]=ye[lt+1],It[lt]=It[lt+1];ye[re]=Se,It[re]=Pe,this.setPage(re)}return this},p.deletePage=function(){return gt.apply(this,arguments),this},p.__private__.text=p.text=function(L,re,Se,Pe,Ue){var lt,Pt,Wt,A,B,J,fe,$e,et,jt=(Pe=Pe||{}).scope||this;if(typeof L=="number"&&typeof re=="number"&&(typeof Se=="string"||Array.isArray(Se))){var Lr=Se;Se=re,re=L,L=Lr}if(arguments[3]instanceof Xt?(S("The transform parameter of text() with a Matrix value"),et=Ue):(Wt=arguments[4],A=arguments[5],bn(fe=arguments[3])==="object"&&fe!==null||(typeof Wt=="string"&&(A=Wt,Wt=null),typeof fe=="string"&&(A=fe,fe=null),typeof fe=="number"&&(Wt=fe,fe=null),Pe={flags:fe,angle:Wt,align:A})),isNaN(re)||isNaN(Se)||L==null)throw new Error("Invalid arguments passed to jsPDF.text");if(L.length===0)return jt;var Qr="",Mr=!1,Sn=typeof Pe.lineHeightFactor=="number"?Pe.lineHeightFactor:_n,Rn=jt.internal.scaleFactor;function ll(Vn){return Vn=Vn.split("	").join(Array(Pe.TabLen||9).join(" ")),Ae(Vn,fe)}function yi(Vn){for(var zn,_a=Vn.concat(),Wa=[],Fc=_a.length;Fc--;)typeof(zn=_a.shift())=="string"?Wa.push(zn):Array.isArray(Vn)&&(zn.length===1||zn[1]===void 0&&zn[2]===void 0)?Wa.push(zn[0]):Wa.push([zn[0],zn[1],zn[2]]);return Wa}function Yl(Vn,zn){var _a;if(typeof Vn=="string")_a=zn(Vn)[0];else if(Array.isArray(Vn)){for(var Wa,Fc,ag=Vn.concat(),h0=[],px=ag.length;px--;)typeof(Wa=ag.shift())=="string"?h0.push(zn(Wa)[0]):Array.isArray(Wa)&&typeof Wa[0]=="string"&&(Fc=zn(Wa[0],Wa[1],Wa[2]),h0.push([Fc[0],Fc[1],Fc[2]]));_a=h0}return _a}var Xl=!1,Qm=!0;if(typeof L=="string")Xl=!0;else if(Array.isArray(L)){var Jm=L.concat();Pt=[];for(var i0,xi=Jm.length;xi--;)(typeof(i0=Jm.shift())!="string"||Array.isArray(i0)&&typeof i0[0]!="string")&&(Qm=!1);Xl=Qm}if(Xl===!1)throw new Error('Type of text must be string or Array. "'+L+'" is not recognized.');typeof L=="string"&&(L=L.match(/[\r?\n]/)?L.split(/\r\n|\r|\n/g):[L]);var s0=rt/jt.internal.scaleFactor,o0=s0*(Sn-1);switch(Pe.baseline){case"bottom":Se-=o0;break;case"top":Se+=s0-o0;break;case"hanging":Se+=s0-2*o0;break;case"middle":Se+=s0/2-o0}if((J=Pe.maxWidth||0)>0&&(typeof L=="string"?L=jt.splitTextToSize(L,J):Object.prototype.toString.call(L)==="[object Array]"&&(L=L.reduce(function(Vn,zn){return Vn.concat(jt.splitTextToSize(zn,J))},[]))),lt={text:L,x:re,y:Se,options:Pe,mutex:{pdfEscape:Ae,activeFontKey:pt,fonts:ur,activeFontSize:rt}},rr.publish("preProcessText",lt),L=lt.text,Wt=(Pe=lt.options).angle,!(et instanceof Xt)&&Wt&&typeof Wt=="number"){Wt*=Math.PI/180,Pe.rotationDirection===0&&(Wt=-Wt),x===b.ADVANCED&&(Wt=-Wt);var l0=Math.cos(Wt),Zm=Math.sin(Wt);et=new Xt(l0,Zm,-Zm,l0,0,0)}else Wt&&Wt instanceof Xt&&(et=Wt);x!==b.ADVANCED||et||(et=Un),(B=Pe.charSpace||Oc)!==void 0&&(Qr+=T(N(B))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),($e=Pe.horizontalScale)!==void 0&&(Qr+=T(100*$e)+` Tz
`),Pe.lang;var Ps=-1,OS=Pe.renderingMode!==void 0?Pe.renderingMode:Pe.stroke,eg=jt.internal.getCurrentPageInfo().pageContext;switch(OS){case 0:case!1:case"fill":Ps=0;break;case 1:case!0:case"stroke":Ps=1;break;case 2:case"fillThenStroke":Ps=2;break;case 3:case"invisible":Ps=3;break;case 4:case"fillAndAddForClipping":Ps=4;break;case 5:case"strokeAndAddPathForClipping":Ps=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ps=6;break;case 7:case"addToPathForClipping":Ps=7}var ux=eg.usedRenderingMode!==void 0?eg.usedRenderingMode:-1;Ps!==-1?Qr+=Ps+` Tr
`:ux!==-1&&(Qr+=`0 Tr
`),Ps!==-1&&(eg.usedRenderingMode=Ps),A=Pe.align||"left";var wo,c0=rt*Sn,fx=jt.internal.pageSize.getWidth(),dx=ur[pt];B=Pe.charSpace||Oc,J=Pe.maxWidth||0,fe=Object.assign({autoencode:!0,noBOM:!0},Pe.flags);var Ku=[],jd=function(Vn){return jt.getStringUnitWidth(Vn,{font:dx,charSpace:B,fontSize:rt,doKerning:!1})*rt/Rn};if(Object.prototype.toString.call(L)==="[object Array]"){var js;Pt=yi(L),A!=="left"&&(wo=Pt.map(jd));var fs,Yu=0;if(A==="right"){re-=wo[0],L=[],xi=Pt.length;for(var Lc=0;Lc<xi;Lc++)Lc===0?(fs=Js(re),js=qa(Se)):(fs=N(Yu-wo[Lc]),js=-c0),L.push([Pt[Lc],fs,js]),Yu=wo[Lc]}else if(A==="center"){re-=wo[0]/2,L=[],xi=Pt.length;for(var Mc=0;Mc<xi;Mc++)Mc===0?(fs=Js(re),js=qa(Se)):(fs=N((Yu-wo[Mc])/2),js=-c0),L.push([Pt[Mc],fs,js]),Yu=wo[Mc]}else if(A==="left"){L=[],xi=Pt.length;for(var u0=0;u0<xi;u0++)L.push(Pt[u0])}else if(A==="justify"&&dx.encoding==="Identity-H"){L=[],xi=Pt.length,J=J!==0?J:fx;for(var Rc=0,wa=0;wa<xi;wa++)if(js=wa===0?qa(Se):-c0,fs=wa===0?Js(re):Rc,wa<xi-1){var tg=N((J-wo[wa])/(Pt[wa].split(" ").length-1)),ds=Pt[wa].split(" ");L.push([ds[0]+" ",fs,js]),Rc=0;for(var _o=1;_o<ds.length;_o++){var f0=(jd(ds[_o-1]+" "+ds[_o])-jd(ds[_o]))*Rn+tg;_o==ds.length-1?L.push([ds[_o],f0,0]):L.push([ds[_o]+" ",f0,0]),Rc-=f0}}else L.push([Pt[wa],fs,js]);L.push(["",Rc,0])}else{if(A!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(L=[],xi=Pt.length,J=J!==0?J:fx,wa=0;wa<xi;wa++)js=wa===0?qa(Se):-c0,fs=wa===0?Js(re):0,wa<xi-1?Ku.push(T(N((J-wo[wa])/(Pt[wa].split(" ").length-1)))):Ku.push(0),L.push([Pt[wa],fs,js])}}var hx=typeof Pe.R2L=="boolean"?Pe.R2L:Te;hx===!0&&(L=Yl(L,function(Vn,zn,_a){return[Vn.split("").reverse().join(""),zn,_a]})),lt={text:L,x:re,y:Se,options:Pe,mutex:{pdfEscape:Ae,activeFontKey:pt,fonts:ur,activeFontSize:rt}},rr.publish("postProcessText",lt),L=lt.text,Mr=lt.mutex.isHex||!1;var rg=ur[pt].encoding;rg!=="WinAnsiEncoding"&&rg!=="StandardEncoding"||(L=Yl(L,function(Vn,zn,_a){return[ll(Vn),zn,_a]})),Pt=yi(L),L=[];for(var Od,Id,Xu,Dd=0,d0=1,Ld=Array.isArray(Pt[0])?d0:Dd,Qu="",ng=function(Vn,zn,_a){var Wa="";return _a instanceof Xt?(_a=typeof Pe.angle=="number"?sa(_a,new Xt(1,0,0,1,Vn,zn)):sa(new Xt(1,0,0,1,Vn,zn),_a),x===b.ADVANCED&&(_a=sa(new Xt(1,0,0,-1,0,0),_a)),Wa=_a.join(" ")+` Tm
`):Wa=T(Vn)+" "+T(zn)+` Td
`,Wa},So=0;So<Pt.length;So++){switch(Qu="",Ld){case d0:Xu=(Mr?"<":"(")+Pt[So][0]+(Mr?">":")"),Od=parseFloat(Pt[So][1]),Id=parseFloat(Pt[So][2]);break;case Dd:Xu=(Mr?"<":"(")+Pt[So]+(Mr?">":")"),Od=Js(re),Id=qa(Se)}Ku!==void 0&&Ku[So]!==void 0&&(Qu=Ku[So]+` Tw
`),So===0?L.push(Qu+ng(Od,Id,et)+Xu):Ld===Dd?L.push(Qu+Xu):Ld===d0&&L.push(Qu+ng(Od,Id,et)+Xu)}L=Ld===Dd?L.join(` Tj
T* `):L.join(` Tj
`),L+=` Tj
`;var Ao=`BT
/`;return Ao+=pt+" "+rt+` Tf
`,Ao+=T(rt*Sn)+` TL
`,Ao+=sl+`
`,Ao+=Qr,Ao+=L,le(Ao+="ET"),h[pt]=!0,jt};var Xm=p.__private__.clip=p.clip=function(L){return le(L==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Xm("evenodd")},p.__private__.discardPath=p.discardPath=function(){return le("n"),this};var bo=p.__private__.isValidStyle=function(L){var re=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(L)!==-1&&(re=!0),re};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(L){return bo(L)&&(c=L),this};var t0=p.__private__.getStyle=p.getStyle=function(L){var re=c;switch(L){case"D":case"S":re="S";break;case"F":re="f";break;case"FD":case"DF":re="B";break;case"f":case"f*":case"B":case"B*":re=L}return re},Xs=p.close=function(){return le("h"),this};p.stroke=function(){return le("S"),this},p.fill=function(L){return Mu("f",L),this},p.fillEvenOdd=function(L){return Mu("f*",L),this},p.fillStroke=function(L){return Mu("B",L),this},p.fillStrokeEvenOdd=function(L){return Mu("B*",L),this};var Mu=function(L,re){bn(re)==="object"?Fu(re,L):le(L)},Ad=function(L){L===null||x===b.ADVANCED&&L===void 0||(L=t0(L),le(L))};function Ru(L,re,Se,Pe,Ue){var lt=new np(re||this.boundingBox,Se||this.xStep,Pe||this.yStep,this.gState,Ue||this.matrix);lt.stream=this.stream;var Pt=L+"$$"+this.cloneIndex+++"$$";return Ne(Pt,lt),lt}var Fu=function(L,re){var Se=tt[L.key],Pe=De[Se];if(Pe instanceof Xd)le("q"),le(r0(re)),Pe.gState&&p.setGState(Pe.gState),le(L.matrix.toString()+" cm"),le("/"+Se+" sh"),le("Q");else if(Pe instanceof np){var Ue=new Xt(1,0,0,-1,0,Mi());L.matrix&&(Ue=Ue.multiply(L.matrix||Un),Se=Ru.call(Pe,L.key,L.boundingBox,L.xStep,L.yStep,Ue).id),le("q"),le("/Pattern cs"),le("/"+Se+" scn"),Pe.gState&&p.setGState(Pe.gState),le(re),le("Q")}},r0=function(L){switch(L){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},al=p.moveTo=function(L,re){return le(T(N(L))+" "+T(V(re))+" m"),this},Qs=p.lineTo=function(L,re){return le(T(N(L))+" "+T(V(re))+" l"),this},il=p.curveTo=function(L,re,Se,Pe,Ue,lt){return le([T(N(L)),T(V(re)),T(N(Se)),T(V(Pe)),T(N(Ue)),T(V(lt)),"c"].join(" ")),this};p.__private__.line=p.line=function(L,re,Se,Pe,Ue){if(isNaN(L)||isNaN(re)||isNaN(Se)||isNaN(Pe)||!bo(Ue))throw new Error("Invalid arguments passed to jsPDF.line");return x===b.COMPAT?this.lines([[Se-L,Pe-re]],L,re,[1,1],Ue||"S"):this.lines([[Se-L,Pe-re]],L,re,[1,1]).stroke()},p.__private__.lines=p.lines=function(L,re,Se,Pe,Ue,lt){var Pt,Wt,A,B,J,fe,$e,et,jt,Lr,Qr,Mr;if(typeof L=="number"&&(Mr=Se,Se=re,re=L,L=Mr),Pe=Pe||[1,1],lt=lt||!1,isNaN(re)||isNaN(Se)||!Array.isArray(L)||!Array.isArray(Pe)||!bo(Ue)||typeof lt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(al(re,Se),Pt=Pe[0],Wt=Pe[1],B=L.length,Lr=re,Qr=Se,A=0;A<B;A++)(J=L[A]).length===2?(Lr=J[0]*Pt+Lr,Qr=J[1]*Wt+Qr,Qs(Lr,Qr)):(fe=J[0]*Pt+Lr,$e=J[1]*Wt+Qr,et=J[2]*Pt+Lr,jt=J[3]*Wt+Qr,Lr=J[4]*Pt+Lr,Qr=J[5]*Wt+Qr,il(fe,$e,et,jt,Lr,Qr));return lt&&Xs(),Ad(Ue),this},p.path=function(L){for(var re=0;re<L.length;re++){var Se=L[re],Pe=Se.c;switch(Se.op){case"m":al(Pe[0],Pe[1]);break;case"l":Qs(Pe[0],Pe[1]);break;case"c":il.apply(this,Pe);break;case"h":Xs()}}return this},p.__private__.rect=p.rect=function(L,re,Se,Pe,Ue){if(isNaN(L)||isNaN(re)||isNaN(Se)||isNaN(Pe)||!bo(Ue))throw new Error("Invalid arguments passed to jsPDF.rect");return x===b.COMPAT&&(Pe=-Pe),le([T(N(L)),T(V(re)),T(N(Se)),T(N(Pe)),"re"].join(" ")),Ad(Ue),this},p.__private__.triangle=p.triangle=function(L,re,Se,Pe,Ue,lt,Pt){if(isNaN(L)||isNaN(re)||isNaN(Se)||isNaN(Pe)||isNaN(Ue)||isNaN(lt)||!bo(Pt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Se-L,Pe-re],[Ue-Se,lt-Pe],[L-Ue,re-lt]],L,re,[1,1],Pt,!0),this},p.__private__.roundedRect=p.roundedRect=function(L,re,Se,Pe,Ue,lt,Pt){if(isNaN(L)||isNaN(re)||isNaN(Se)||isNaN(Pe)||isNaN(Ue)||isNaN(lt)||!bo(Pt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Wt=4/3*(Math.SQRT2-1);return Ue=Math.min(Ue,.5*Se),lt=Math.min(lt,.5*Pe),this.lines([[Se-2*Ue,0],[Ue*Wt,0,Ue,lt-lt*Wt,Ue,lt],[0,Pe-2*lt],[0,lt*Wt,-Ue*Wt,lt,-Ue,lt],[2*Ue-Se,0],[-Ue*Wt,0,-Ue,-lt*Wt,-Ue,-lt],[0,2*lt-Pe],[0,-lt*Wt,Ue*Wt,-lt,Ue,-lt]],L+Ue,re,[1,1],Pt,!0),this},p.__private__.ellipse=p.ellipse=function(L,re,Se,Pe,Ue){if(isNaN(L)||isNaN(re)||isNaN(Se)||isNaN(Pe)||!bo(Ue))throw new Error("Invalid arguments passed to jsPDF.ellipse");var lt=4/3*(Math.SQRT2-1)*Se,Pt=4/3*(Math.SQRT2-1)*Pe;return al(L+Se,re),il(L+Se,re-Pt,L+lt,re-Pe,L,re-Pe),il(L-lt,re-Pe,L-Se,re-Pt,L-Se,re),il(L-Se,re+Pt,L-lt,re+Pe,L,re+Pe),il(L+lt,re+Pe,L+Se,re+Pt,L+Se,re),Ad(Ue),this},p.__private__.circle=p.circle=function(L,re,Se,Pe){if(isNaN(L)||isNaN(re)||isNaN(Se)||!bo(Pe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(L,re,Se,Se,Pe)},p.setFont=function(L,re,Se){return Se&&(re=j(re,Se)),pt=Gt(L,re,{disableWarning:!1}),this};var Td=p.__private__.getFont=p.getFont=function(){return ur[Gt.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var L,re,Se={};for(L in pr)if(pr.hasOwnProperty(L))for(re in Se[L]=[],pr[L])pr[L].hasOwnProperty(re)&&Se[L].push(re);return Se},p.addFont=function(L,re,Se,Pe,Ue){var lt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&lt.indexOf(arguments[3])!==-1?Ue=arguments[3]:arguments[3]&&lt.indexOf(arguments[3])==-1&&(Se=j(Se,Pe)),Ue=Ue||"Identity-H",Cc.call(this,L,re,Se,Ue)};var _n,Ed=e.lineWidth||.200025,$u=p.__private__.getLineWidth=p.getLineWidth=function(){return Ed},Nd=p.__private__.setLineWidth=p.setLineWidth=function(L){return Ed=L,le(T(N(L))+" w"),this};p.__private__.setLineDash=Sr.API.setLineDash=Sr.API.setLineDashPattern=function(L,re){if(L=L||[],re=re||0,isNaN(re)||!Array.isArray(L))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return L=L.map(function(Se){return T(N(Se))}).join(" "),re=T(N(re)),le("["+L+"] "+re+" d"),this};var kd=p.__private__.getLineHeight=p.getLineHeight=function(){return rt*_n};p.__private__.getLineHeight=p.getLineHeight=function(){return rt*_n};var Cd=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(L){return typeof(L=L||1.15)=="number"&&(_n=L),this},jc=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return _n};Cd(e.lineHeight);var Js=p.__private__.getHorizontalCoordinate=function(L){return N(L)},qa=p.__private__.getVerticalCoordinate=function(L){return x===b.ADVANCED?L:It[M].mediaBox.topRightY-It[M].mediaBox.bottomLeftY-N(L)},n0=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(L){return T(Js(L))},Hl=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(L){return T(qa(L))},vi=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return xe(vi)},p.__private__.setStrokeColor=p.setDrawColor=function(L,re,Se,Pe){return vi=we({ch1:L,ch2:re,ch3:Se,ch4:Pe,pdfColorType:"draw",precision:2}),le(vi),this};var Bu=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return xe(Bu)},p.__private__.setFillColor=p.setFillColor=function(L,re,Se,Pe){return Bu=we({ch1:L,ch2:re,ch3:Se,ch4:Pe,pdfColorType:"fill",precision:2}),le(Bu),this};var sl=e.textColor||"0 g",Uu=p.__private__.getTextColor=p.getTextColor=function(){return xe(sl)};p.__private__.setTextColor=p.setTextColor=function(L,re,Se,Pe){return sl=we({ch1:L,ch2:re,ch3:Se,ch4:Pe,pdfColorType:"text",precision:3}),this};var Oc=e.charSpace,Vu=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Oc||0)};p.__private__.setCharSpace=p.setCharSpace=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Oc=L,this};var Pd=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(L){var re=p.CapJoinStyles[L];if(re===void 0)throw new Error("Line cap style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Pd=re,le(re+" J"),this};var zu=0;p.__private__.setLineJoin=p.setLineJoin=function(L){var re=p.CapJoinStyles[L];if(re===void 0)throw new Error("Line join style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return zu=re,le(re+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(L){if(L=L||0,isNaN(L))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return le(T(N(L))+" M"),this},p.GState=D5,p.setGState=function(L){(L=typeof L=="string"?bt[Rt[L]]:Gl(null,L)).equals(Yt)||(le("/"+L.id+" gs"),Yt=L)};var Gl=function(L,re){if(!L||!Rt[L]){var Se=!1;for(var Pe in bt)if(bt.hasOwnProperty(Pe)&&bt[Pe].equals(re)){Se=!0;break}if(Se)re=bt[Pe];else{var Ue="GS"+(Object.keys(bt).length+1).toString(10);bt[Ue]=re,re.id=Ue}return L&&(Rt[L]=re.id),rr.publish("addGState",re),re}};p.addGState=function(L,re){return Gl(L,re),this},p.saveGraphicsState=function(){return le("q"),je.push({key:pt,size:rt,color:sl}),this},p.restoreGraphicsState=function(){le("Q");var L=je.pop();return pt=L.key,rt=L.size,sl=L.color,Yt=null,this},p.setCurrentTransformationMatrix=function(L){return le(L.toString()+" cm"),this},p.comment=function(L){return le("#"+L),this};var Ic=function(L,re){var Se=L||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Se},set:function(lt){isNaN(lt)||(Se=parseFloat(lt))}});var Pe=re||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Pe},set:function(lt){isNaN(lt)||(Pe=parseFloat(lt))}});var Ue="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ue},set:function(lt){Ue=lt.toString()}}),this},qu=function(L,re,Se,Pe){Ic.call(this,L,re),this.type="rect";var Ue=Se||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ue},set:function(Pt){isNaN(Pt)||(Ue=parseFloat(Pt))}});var lt=Pe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return lt},set:function(Pt){isNaN(Pt)||(lt=parseFloat(Pt))}}),this},Dc=function(){this.page=Ct,this.currentPage=M,this.pages=ye.slice(0),this.pagesContext=It.slice(0),this.x=Ft,this.y=Nt,this.matrix=Pr,this.width=Kl(M),this.height=Mi(M),this.outputDestination=ke,this.id="",this.objectNumber=-1};Dc.prototype.restore=function(){Ct=this.page,M=this.currentPage,It=this.pagesContext,ye=this.pages,Ft=this.x,Nt=this.y,Pr=this.matrix,Hu(M,this.width),Gu(M,this.height),ke=this.outputDestination};var Wu=function(L,re,Se,Pe,Ue){an.push(new Dc),Ct=M=0,ye=[],Ft=L,Nt=re,Pr=Ue,mt([Se,Pe])},a0=function(L){if(Er[L])an.pop().restore();else{var re=new Dc,Se="Xo"+(Object.keys(wr).length+1).toString(10);re.id=Se,Er[L]=Se,wr[Se]=re,rr.publish("addFormObject",re),an.pop().restore()}};for(var ol in p.beginFormObject=function(L,re,Se,Pe,Ue){return Wu(L,re,Se,Pe,Ue),this},p.endFormObject=function(L){return a0(L),this},p.doFormObject=function(L,re){var Se=wr[Er[L]];return le("q"),le(re.toString()+" cm"),le("/"+Se.id+" Do"),le("Q"),this},p.getFormObject=function(L){var re=wr[Er[L]];return{x:re.x,y:re.y,width:re.width,height:re.height,matrix:re.matrix}},p.save=function(L,re){return L=L||"generated.pdf",(re=re||{}).returnPromise=re.returnPromise||!1,re.returnPromise===!1?(Gd(Hr(Tn()),L),typeof Gd.unload=="function"&&Ar.setTimeout&&setTimeout(Gd.unload,911),this):new Promise(function(Se,Pe){try{var Ue=Gd(Hr(Tn()),L);typeof Gd.unload=="function"&&Ar.setTimeout&&setTimeout(Gd.unload,911),Se(Ue)}catch(lt){Pe(lt.message)}})},Sr.API)Sr.API.hasOwnProperty(ol)&&(ol==="events"&&Sr.API.events.length?function(L,re){var Se,Pe,Ue;for(Ue=re.length-1;Ue!==-1;Ue--)Se=re[Ue][0],Pe=re[Ue][1],L.subscribe.apply(L,[Se].concat(typeof Pe=="function"?[Pe]:Pe))}(rr,Sr.API.events):p[ol]=Sr.API[ol]);var Kl=p.getPageWidth=function(L){return(It[L=L||M].mediaBox.topRightX-It[L].mediaBox.bottomLeftX)/He},Hu=p.setPageWidth=function(L,re){It[L].mediaBox.topRightX=re*He+It[L].mediaBox.bottomLeftX},Mi=p.getPageHeight=function(L){return(It[L=L||M].mediaBox.topRightY-It[L].mediaBox.bottomLeftY)/He},Gu=p.setPageHeight=function(L,re){It[L].mediaBox.topRightY=re*He+It[L].mediaBox.bottomLeftY};return p.internal={pdfEscape:Ae,getStyle:t0,getFont:Td,getFontSize:Re,getCharSpace:Vu,getTextColor:Uu,getLineHeight:kd,getLineHeightFactor:jc,getLineWidth:$u,write:Le,getHorizontalCoordinate:Js,getVerticalCoordinate:qa,getCoordinateString:n0,getVerticalCoordinateString:Hl,collections:{},newObject:it,newAdditionalObject:ve,newObjectDeferred:ut,newObjectDeferredBegin:te,getFilters:ze,putStream:nt,events:rr,scaleFactor:He,pageSize:{getWidth:function(){return Kl(M)},setWidth:function(L){Hu(M,L)},getHeight:function(){return Mi(M)},setHeight:function(L){Gu(M,L)}},encryptionOptions:u,encryption:_r,getEncryptor:Ys,output:Mn,getNumberOfPages:wt,pages:ye,out:le,f2:D,f3:E,getPageInfo:nl,getPageInfoByObjId:yr,getCurrentPageInfo:Wl,getPDFVersion:m,Point:Ic,Rectangle:qu,Matrix:Xt,hasHotfix:En},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Kl(M)},set:function(L){Hu(M,L)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Mi(M)},set:function(L){Gu(M,L)},enumerable:!0,configurable:!0}),Pc.call(p,Ke),pt="F1",Ht(a,r),rr.publish("initialized"),p}D0.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},D0.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},D0.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},D0.prototype.processOwnerPassword=function(e,t){return KN(GN(t).substr(0,5),e)},D0.prototype.encryptor=function(e,t){var r=GN(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return KN(r,n)}},D5.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||bn(e)!==bn(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Sr.API={events:[]},Sr.version="3.0.1";var pa=Sr.API,bj=1,e0=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},k0=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Rr=function(e){return e.toFixed(2)},ff=function(e){return e.toFixed(5)};pa.__acroform__={};var Ks=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},F$=function(e){return e*bj},tc=function(e){var t=new FQ,r=ir.internal.getHeight(e)||0,n=ir.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Rr(n)),Number(Rr(r))],t},Yze=pa.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},Xze=pa.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},Qze=pa.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Ea=pa.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Qze(e,t-1)},Na=pa.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Yze(e,t-1)},ka=pa.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Xze(e,t-1)},Jze=pa.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],s=e[2],o=e[3],l={};return l.lowerLeft_X=r(a)||0,l.lowerLeft_Y=n(i+o)||0,l.upperRight_X=r(a+s)||0,l.upperRight_Y=n(i)||0,[Number(Rr(l.lowerLeft_X)),Number(Rr(l.lowerLeft_Y)),Number(Rr(l.upperRight_X)),Number(Rr(l.upperRight_Y))]},Zze=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=YN(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+Rr(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=tc(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},YN=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(E){return E.split(`
`)}):a.map(function(E){return[E]});var i=r,s=ir.internal.getHeight(e)||0;s=s<0?-s:s;var o=ir.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(E,N,k){if(E+1<a.length){var V=N+" "+a[E+1][0];return M2(V,e,k).width<=o-4}return!1};i++;e:for(;i>0;){t="",i--;var c,u,d=M2("3",e,i).height,h=e.multiline?s-i:(s-d)/2,p=h+=2,g=0,m=0,v=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+M2(t,e,i=12).width+", FieldWidth:"+o+`
`;break}for(var y="",b=0,x=0;x<a.length;x++)if(a.hasOwnProperty(x)){var O=!1;if(a[x].length!==1&&v!==a[x].length-1){if((d+2)*(b+2)+2>s)continue e;y+=a[x][v],O=!0,m=x,x--}else{y=(y+=a[x][v]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var P=parseInt(x),j=l(P,y,i),T=x>=a.length-1;if(j&&!T){y+=" ",v=0;continue}if(j||T){if(T)m=P;else if(e.multiline&&(d+2)*(b+2)+2>s)continue e}else{if(!e.multiline||(d+2)*(b+2)+2>s)continue e;m=P}}for(var S="",_=g;_<=m;_++){var D=a[_];if(e.multiline){if(_===m){S+=D[v]+" ",v=(v+1)%D.length;continue}if(_===g){S+=D[D.length-1]+" ";continue}}S+=D[0]+" "}switch(S=S.substr(S.length-1)==" "?S.substr(0,S.length-1):S,u=M2(S,e,i).width,e.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;case"left":default:c=2}t+=Rr(c)+" "+Rr(p)+` Td
`,t+="("+e0(S)+`) Tj
`,t+=-Rr(c)+` 0 Td
`,p=-(i+2),u=0,g=O?m:m+1,b++,y=""}break}return n.text=t,n.fontSize=i,n},M2=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},eqe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},tqe=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},rqe=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,a=e[r];t.internal.newObjectDeferredBegin(a.objId,!0),bn(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[n]}},nqe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(zl.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(eqe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");bj=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new $Q,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&tqe(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var s in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],l=[],c=o.Rect;if(o.Rect&&(o.Rect=Jze(o.Rect,a)),a.internal.newObjectDeferredBegin(o.objId,!0),o.DA=ir.createDefaultAppearanceStream(o),bn(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=Zze(o);l.push({key:"AP",value:"<</N "+u+">>"}),a.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var d="";for(var h in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(h)){var p=o.appearanceStreamContent[h];if(d+="/"+h+" ",d+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var s in p)if(p.hasOwnProperty(s)){var g=p[s];typeof g=="function"&&(g=g.call(a,o)),d+="/"+s+" "+g+" ",a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g)}}else typeof(g=p)=="function"&&(g=g.call(a,o)),d+="/"+s+" "+g,a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}a.internal.putStream({additionalKeyValues:l,objectId:o.objId}),a.internal.out("endobj")}i&&rqe(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},RQ=pa.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(s){return s};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),bn(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+e0(n(e[i].toString()))+")"):a+=e[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},X4=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+e0(n(e))+")"},oc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};oc.prototype.toString=function(){return this.objId+" 0 R"},oc.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},oc.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:RQ(a,this.objId,this.scope)}):a instanceof oc?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var FQ=function(){oc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Ks(FQ,oc);var $Q=function(){oc.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+e0(r(e))+")"}},set:function(r){e=r}})};Ks($Q,oc);var zl=function e(){oc.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');t=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ea(t,3)},set:function(y){y?this.F=Na(t,3):this.F=ka(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');r=y}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(y){n=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(y){n[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(y){n[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(y){n[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(y){n[3]=y}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof L5)return;i="FieldObject"+e.FieldNum++}var y=function(b){return b};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+e0(y(i))+")"},set:function(y){i=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(y){i=y}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(y){s=y}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/bj:c},set:function(y){c=y}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(y){u=y}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof L5||this instanceof yh))return X4(d,this.objId,this.scope)},set:function(y){y=y.toString(),d=y}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof ci?h:X4(h,this.objId,this.scope)},set:function(y){y=y.toString(),h=this instanceof ci?y:y.substr(0,1)==="("?k0(y.substr(1,y.length-2)):k0(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ci?k0(h.substr(1,h.length-1)):h},set:function(y){y=y.toString(),h=this instanceof ci?"/"+y:y}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof ci?p:X4(p,this.objId,this.scope)},set:function(y){y=y.toString(),p=this instanceof ci?y:y.substr(0,1)==="("?k0(y.substr(1,y.length-2)):k0(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ci?k0(p.substr(1,p.length-1)):p},set:function(y){y=y.toString(),p=this instanceof ci?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(y){y=!!y,m=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(y){g=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ea(this.Ff,1)},set:function(y){y?this.Ff=Na(this.Ff,1):this.Ff=ka(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ea(this.Ff,2)},set:function(y){y?this.Ff=Na(this.Ff,2):this.Ff=ka(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ea(this.Ff,3)},set:function(y){y?this.Ff=Na(this.Ff,3):this.Ff=ka(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');v=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(v){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:v=2;break;case"center":case 1:v=1;break;case"left":case 0:default:v=0}}})};Ks(zl,oc);var _p=function(){zl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return RQ(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,s,o){o||(o=1);for(var l,c=[];l=s.exec(i);)c.push(l[o]);return c}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ea(this.Ff,18)},set:function(r){r?this.Ff=Na(this.Ff,18):this.Ff=ka(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ea(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Na(this.Ff,19):this.Ff=ka(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ea(this.Ff,20)},set:function(r){r?(this.Ff=Na(this.Ff,20),t.sort()):this.Ff=ka(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ea(this.Ff,22)},set:function(r){r?this.Ff=Na(this.Ff,22):this.Ff=ka(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ea(this.Ff,23)},set:function(r){r?this.Ff=Na(this.Ff,23):this.Ff=ka(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ea(this.Ff,27)},set:function(r){r?this.Ff=Na(this.Ff,27):this.Ff=ka(this.Ff,27)}}),this.hasAppearanceStream=!1};Ks(_p,zl);var Sp=function(){_p.call(this),this.fontName="helvetica",this.combo=!1};Ks(Sp,_p);var Ap=function(){Sp.call(this),this.combo=!0};Ks(Ap,Sp);var pb=function(){Ap.call(this),this.edit=!0};Ks(pb,Ap);var ci=function(){zl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ea(this.Ff,15)},set:function(r){r?this.Ff=Na(this.Ff,15):this.Ff=ka(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ea(this.Ff,16)},set:function(r){r?this.Ff=Na(this.Ff,16):this.Ff=ka(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ea(this.Ff,17)},set:function(r){r?this.Ff=Na(this.Ff,17):this.Ff=ka(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ea(this.Ff,26)},set:function(r){r?this.Ff=Na(this.Ff,26):this.Ff=ka(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+e0(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){bn(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Ks(ci,zl);var mb=function(){ci.call(this),this.pushButton=!0};Ks(mb,ci);var Tp=function(){ci.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Ks(Tp,ci);var L5=function(){var e,t;zl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(o){return o};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,s=[];for(i in s.push("<<"),n)s.push("/"+i+" ("+e0(a(n[i]))+")");return s.push(">>"),s.join(`
`)},set:function(a){bn(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ir.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ks(L5,zl),Tp.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Tp.prototype.createOption=function(e){var t=new L5;return t.Parent=this,t.optionName=e,this.Kids.push(t),aqe.call(this.scope,t),t};var gb=function(){ci.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ir.CheckBox.createAppearanceStream()};Ks(gb,ci);var yh=function(){zl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ea(this.Ff,13)},set:function(t){t?this.Ff=Na(this.Ff,13):this.Ff=ka(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ea(this.Ff,21)},set:function(t){t?this.Ff=Na(this.Ff,21):this.Ff=ka(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ea(this.Ff,23)},set:function(t){t?this.Ff=Na(this.Ff,23):this.Ff=ka(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ea(this.Ff,24)},set:function(t){t?this.Ff=Na(this.Ff,24):this.Ff=ka(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ea(this.Ff,25)},set:function(t){t?this.Ff=Na(this.Ff,25):this.Ff=ka(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ea(this.Ff,26)},set:function(t){t?this.Ff=Na(this.Ff,26):this.Ff=ka(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ks(yh,zl);var vb=function(){yh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ea(this.Ff,14)},set:function(e){e?this.Ff=Na(this.Ff,14):this.Ff=ka(this.Ff,14)}}),this.password=!0};Ks(vb,yh);var ir={CheckBox:{createAppearanceStream:function(){return{N:{On:ir.CheckBox.YesNormal},D:{On:ir.CheckBox.YesPushDown,Off:ir.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=tc(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=YN(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Rr(ir.internal.getWidth(e))+" "+Rr(ir.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Rr(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=tc(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=ir.internal.getHeight(e),s=ir.internal.getWidth(e),o=YN(e,e.caption);return a.push("1 g"),a.push("0 0 "+Rr(s)+" "+Rr(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Rr(s-1)+" "+Rr(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+Rr(o.fontSize)+" Tf "+n),a.push(o.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=tc(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Rr(ir.internal.getWidth(e))+" "+Rr(ir.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:ir.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=ir.RadioButton.Circle.YesNormal,t.D[e]=ir.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=tc(e);t.scope=e.scope;var r=[],n=ir.internal.getWidth(e)<=ir.internal.getHeight(e)?ir.internal.getWidth(e)/4:ir.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=ir.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+ff(ir.internal.getWidth(e)/2)+" "+ff(ir.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=tc(e);t.scope=e.scope;var r=[],n=ir.internal.getWidth(e)<=ir.internal.getHeight(e)?ir.internal.getWidth(e)/4:ir.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*ir.internal.Bezier_C).toFixed(5)),s=Number((n*ir.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ff(ir.internal.getWidth(e)/2)+" "+ff(ir.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+ff(ir.internal.getWidth(e)/2)+" "+ff(ir.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=tc(e);t.scope=e.scope;var r=[],n=ir.internal.getWidth(e)<=ir.internal.getHeight(e)?ir.internal.getWidth(e)/4:ir.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*ir.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ff(ir.internal.getWidth(e)/2)+" "+ff(ir.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:ir.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=ir.RadioButton.Cross.YesNormal,t.D[e]=ir.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=tc(e);t.scope=e.scope;var r=[],n=ir.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Rr(ir.internal.getWidth(e)-2)+" "+Rr(ir.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Rr(n.x1.x)+" "+Rr(n.x1.y)+" m"),r.push(Rr(n.x2.x)+" "+Rr(n.x2.y)+" l"),r.push(Rr(n.x4.x)+" "+Rr(n.x4.y)+" m"),r.push(Rr(n.x3.x)+" "+Rr(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=tc(e);t.scope=e.scope;var r=ir.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Rr(ir.internal.getWidth(e))+" "+Rr(ir.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Rr(ir.internal.getWidth(e)-2)+" "+Rr(ir.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Rr(r.x1.x)+" "+Rr(r.x1.y)+" m"),n.push(Rr(r.x2.x)+" "+Rr(r.x2.y)+" l"),n.push(Rr(r.x4.x)+" "+Rr(r.x4.y)+" m"),n.push(Rr(r.x3.x)+" "+Rr(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=tc(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Rr(ir.internal.getWidth(e))+" "+Rr(ir.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};ir.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=ir.internal.getWidth(e),r=ir.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},ir.internal.getWidth=function(e){var t=0;return bn(e)==="object"&&(t=F$(e.Rect[2])),t},ir.internal.getHeight=function(e){var t=0;return bn(e)==="object"&&(t=F$(e.Rect[3])),t};var aqe=pa.addField=function(e){if(nqe(this,e),!(e instanceof zl))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};pa.AcroFormChoiceField=_p,pa.AcroFormListBox=Sp,pa.AcroFormComboBox=Ap,pa.AcroFormEditBox=pb,pa.AcroFormButton=ci,pa.AcroFormPushButton=mb,pa.AcroFormRadioButton=Tp,pa.AcroFormCheckBox=gb,pa.AcroFormTextField=yh,pa.AcroFormPasswordField=vb,pa.AcroFormAppearance=ir,pa.AcroForm={ChoiceField:_p,ListBox:Sp,ComboBox:Ap,EditBox:pb,Button:ci,PushButton:mb,RadioButton:Tp,CheckBox:gb,TextField:yh,PasswordField:vb,Appearance:ir},Sr.AcroForm={ChoiceField:_p,ListBox:Sp,ComboBox:Ap,EditBox:pb,Button:ci,PushButton:mb,RadioButton:Tp,CheckBox:gb,TextField:yh,PasswordField:vb,Appearance:ir};function BQ(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(E,N){var k,V,Q,W,G,q=t;if((N=N||t)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(j(E))for(G in r)for(Q=r[G],k=0;k<Q.length;k+=1){for(W=!0,V=0;V<Q[k].length;V+=1)if(Q[k][V]!==void 0&&Q[k][V]!==E[V]){W=!1;break}if(W===!0){q=G;break}}else for(G in r)for(Q=r[G],k=0;k<Q.length;k+=1){for(W=!0,V=0;V<Q[k].length;V+=1)if(Q[k][V]!==void 0&&Q[k][V]!==E.charCodeAt(V)){W=!1;break}if(W===!0){q=G;break}}return q===t&&N!==t&&(q=N),q},a=function E(N){for(var k=this.internal.write,V=this.internal.putStream,Q=(0,this.internal.getFilters)();Q.indexOf("FlateEncode")!==-1;)Q.splice(Q.indexOf("FlateEncode"),1);N.objectId=this.internal.newObject();var W=[];if(W.push({key:"Type",value:"/XObject"}),W.push({key:"Subtype",value:"/Image"}),W.push({key:"Width",value:N.width}),W.push({key:"Height",value:N.height}),N.colorSpace===v.INDEXED?W.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(N.palette.length/3-1)+" "+("sMask"in N&&N.sMask!==void 0?N.objectId+2:N.objectId+1)+" 0 R]"}):(W.push({key:"ColorSpace",value:"/"+N.colorSpace}),N.colorSpace===v.DEVICE_CMYK&&W.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),W.push({key:"BitsPerComponent",value:N.bitsPerComponent}),"decodeParameters"in N&&N.decodeParameters!==void 0&&W.push({key:"DecodeParms",value:"<<"+N.decodeParameters+">>"}),"transparency"in N&&Array.isArray(N.transparency)){for(var G="",q=0,U=N.transparency.length;q<U;q++)G+=N.transparency[q]+" "+N.transparency[q]+" ";W.push({key:"Mask",value:"["+G+"]"})}N.sMask!==void 0&&W.push({key:"SMask",value:N.objectId+1+" 0 R"});var ee=N.filter!==void 0?["/"+N.filter]:void 0;if(V({data:N.data,additionalKeyValues:W,alreadyAppliedFilters:ee,objectId:N.objectId}),k("endobj"),"sMask"in N&&N.sMask!==void 0){var Z="/Predictor "+N.predictor+" /Colors 1 /BitsPerComponent "+N.bitsPerComponent+" /Columns "+N.width,I={width:N.width,height:N.height,colorSpace:"DeviceGray",bitsPerComponent:N.bitsPerComponent,decodeParameters:Z,data:N.sMask};"filter"in N&&(I.filter=N.filter),E.call(this,I)}if(N.colorSpace===v.INDEXED){var M=this.internal.newObject();V({data:S(new Uint8Array(N.palette)),objectId:M}),k("endobj")}},i=function(){var E=this.internal.collections.addImage_images;for(var N in E)a.call(this,E[N])},s=function(){var E,N=this.internal.collections.addImage_images,k=this.internal.write;for(var V in N)k("/I"+(E=N[V]).index,E.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",s))},l=function(){var E=this.internal.collections.addImage_images;return o.call(this),E},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(E){return typeof e["process"+E.toUpperCase()]=="function"},d=function(E){return bn(E)==="object"&&E.nodeType===1},h=function(E,N){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var k=""+E.getAttribute("src");if(k.indexOf("data:image/")===0)return Uv(unescape(k).split("base64,").pop());var V=e.loadFile(k,!0);if(V!==void 0)return V}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var Q;switch(N){case"PNG":Q="image/png";break;case"WEBP":Q="image/webp";break;case"JPEG":case"JPG":default:Q="image/jpeg"}return Uv(E.toDataURL(Q,1).split("base64,").pop())}},p=function(E){var N=this.internal.collections.addImage_images;if(N){for(var k in N)if(E===N[k].alias)return N[k]}},g=function(E,N,k){return E||N||(E=-96,N=-96),E<0&&(E=-1*k.width*72/E/this.internal.scaleFactor),N<0&&(N=-1*k.height*72/N/this.internal.scaleFactor),E===0&&(E=N*k.width/k.height),N===0&&(N=E*k.height/k.width),[E,N]},m=function(E,N,k,V,Q,W){var G=g.call(this,k,V,Q),q=this.internal.getCoordinateString,U=this.internal.getVerticalCoordinateString,ee=l.call(this);if(k=G[0],V=G[1],ee[Q.index]=Q,W){W*=Math.PI/180;var Z=Math.cos(W),I=Math.sin(W),M=function(K){return K.toFixed(4)},z=[M(Z),M(I),M(-1*I),M(Z),0,0,"cm"]}this.internal.write("q"),W?(this.internal.write([1,"0","0",1,q(E),U(N+V),"cm"].join(" ")),this.internal.write(z.join(" ")),this.internal.write([q(k),"0","0",q(V),"0","0","cm"].join(" "))):this.internal.write([q(k),"0","0",q(V),q(E),U(N+V),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Q.index+" Do"),this.internal.write("Q")},v=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=e.__addimage__.sHashCode=function(E){var N,k,V=0;if(typeof E=="string")for(k=E.length,N=0;N<k;N++)V=(V<<5)-V+E.charCodeAt(N),V|=0;else if(j(E))for(k=E.byteLength/2,N=0;N<k;N++)V=(V<<5)-V+E[N],V|=0;return V},x=e.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var N=!0;return E.length===0&&(N=!1),E.length%4!=0&&(N=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(N=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(N=!1),N},O=e.__addimage__.extractImageFromDataUrl=function(E){if(E==null||!(E=E.trim()).startsWith("data:"))return null;var N=E.indexOf(",");return N<0?null:E.substring(0,N).trim().endsWith("base64")?E.substring(N+1):null},P=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(E){return P()&&E instanceof ArrayBuffer};var j=e.__addimage__.isArrayBufferView=function(E){return P()&&typeof Uint32Array<"u"&&(E instanceof Int8Array||E instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array)},T=e.__addimage__.binaryStringToUint8Array=function(E){for(var N=E.length,k=new Uint8Array(N),V=0;V<N;V++)k[V]=E.charCodeAt(V);return k},S=e.__addimage__.arrayBufferToBinaryString=function(E){for(var N="",k=j(E)?E:new Uint8Array(E),V=0;V<k.length;V+=8192)N+=String.fromCharCode.apply(null,k.subarray(V,V+8192));return N};e.addImage=function(){var E,N,k,V,Q,W,G,q,U;if(typeof arguments[1]=="number"?(N=t,k=arguments[1],V=arguments[2],Q=arguments[3],W=arguments[4],G=arguments[5],q=arguments[6],U=arguments[7]):(N=arguments[1],k=arguments[2],V=arguments[3],Q=arguments[4],W=arguments[5],G=arguments[6],q=arguments[7],U=arguments[8]),bn(E=arguments[0])==="object"&&!d(E)&&"imageData"in E){var ee=E;E=ee.imageData,N=ee.format||N||t,k=ee.x||k||0,V=ee.y||V||0,Q=ee.w||ee.width||Q,W=ee.h||ee.height||W,G=ee.alias||G,q=ee.compression||q,U=ee.rotation||ee.angle||U}var Z=this.internal.getFilters();if(q===void 0&&Z.indexOf("FlateEncode")!==-1&&(q="SLOW"),isNaN(k)||isNaN(V))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var I=_.call(this,E,N,G,q);return m.call(this,k,V,Q,W,I,U),this};var _=function(E,N,k,V){var Q,W,G;if(typeof E=="string"&&n(E)===t){E=unescape(E);var q=D(E,!1);(q!==""||(q=e.loadFile(E,!0))!==void 0)&&(E=q)}if(d(E)&&(E=h(E,N)),N=n(E,N),!u(N))throw new Error("addImage does not support files of type '"+N+"', please ensure that a plugin for '"+N+"' support is added.");if(((G=k)==null||G.length===0)&&(k=function(U){return typeof U=="string"||j(U)?b(U):j(U.data)?b(U.data):null}(E)),(Q=p.call(this,k))||(P()&&(E instanceof Uint8Array||N==="RGBA"||(W=E,E=T(E))),Q=this["process"+N.toUpperCase()](E,c.call(this),k,function(U){return U&&typeof U=="string"&&(U=U.toUpperCase()),U in e.image_compression?U:y.NONE}(V),W)),!Q)throw new Error("An unknown error occurred whilst processing the image.");return Q},D=e.__addimage__.convertBase64ToBinaryString=function(E,N){N=typeof N!="boolean"||N;var k,V="";if(typeof E=="string"){var Q;k=(Q=O(E))!==null&&Q!==void 0?Q:E;try{V=Uv(k)}catch(W){if(N)throw x(k)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+W.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return V};e.getImageProperties=function(E){var N,k,V="";if(d(E)&&(E=h(E)),typeof E=="string"&&n(E)===t&&((V=D(E,!1))===""&&(V=e.loadFile(E)||""),E=V),k=n(E),!u(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if(!P()||E instanceof Uint8Array||(E=T(E)),!(N=this["process"+k.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return N.fileType=k,N}})(Sr.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Sr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,u=!1,d=0;d<c.length&&!u;d++)switch((n=c[d]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var h=0;h<c.length;h++){n=c[h];var p=this.internal.pdfEscape,g=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(m.objId),b=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+p(y(n.contents))+")",i+=" /Popup "+v.objId+" 0 R",i+=" /P "+l.objId+" 0 R",i+=" /T ("+p(y(b))+") >>",m.content=i;var x=m.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+x,n.open&&(i+=" /Open true"),i+=" >>",v.content=i,this.internal.write(m.objId,"0 R",v.objId,"0 R");break;case"freetext":a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var O=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+p(g(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+O+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var P=this.annotations._nameMap[n.options.name];n.options.pageNumber=P.page,n.options.top=P.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+p(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var j=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+j+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,s){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+a),h:c(n+i)},options:s,type:"link"})},e.textWithLink=function(r,n,a,i){var s,o,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var u=this.splitTextToSize(r,o).length;s=Math.ceil(c*u)}else o=l,s=c;return this.text(r,n,a,i),a+=.2*c,i.align==="center"&&(n-=l/2),i.align==="right"&&(n-=l),this.link(n,a-c,o,s,i),l},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Sr.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(m){return t[m.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},o=e.__arabicParser__.isArabicEndLetter=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(m){return s(m)&&a.indexOf(m.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length==4},d=e.__arabicParser__.resolveLigatures=function(m){var v=0,y=r,b="",x=0;for(v=0;v<m.length;v+=1)y[m.charCodeAt(v)]!==void 0?(x++,typeof(y=y[m.charCodeAt(v)])=="number"&&(b+=String.fromCharCode(y),y=r,x=0),v===m.length-1&&(y=r,b+=m.charAt(v-(x-1)),v-=x-1,x=0)):(y=r,b+=m.charAt(v-x),v-=x,x=0);return b};e.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&n[m.charCodeAt(0)]!==void 0};var h=e.__arabicParser__.getCorrectForm=function(m,v,y){return s(m)?i(m)===!1?-1:!c(m)||!s(v)&&!s(y)||!s(y)&&o(v)||o(m)&&!s(v)||o(m)&&l(v)||o(m)&&o(v)?0:u(m)&&s(v)&&!o(v)&&s(y)&&c(y)?3:o(m)||!s(y)?1:2:-1},p=function(m){var v=0,y=0,b=0,x="",O="",P="",j=(m=m||"").split("\\s+"),T=[];for(v=0;v<j.length;v+=1){for(T.push(""),y=0;y<j[v].length;y+=1)x=j[v][y],O=j[v][y-1],P=j[v][y+1],s(x)?(b=h(x,O,P),T[v]+=b!==-1?String.fromCharCode(t[x.charCodeAt(0)][b]):x):T[v]+=x;T[v]=d(T[v])}return T.join(" ")},g=e.__arabicParser__.processArabic=e.processArabic=function(){var m,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(v)){var b=0;for(y=[],b=0;b<v.length;b+=1)Array.isArray(v[b])?y.push([p(v[b][0]),v[b][1],v[b][2]]):y.push([p(v[b])]);m=y}else m=p(v);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};e.events.push(["preProcessText",g])}(Sr.API),Sr.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(o){a=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Sr.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(m){l=m}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(m){c=m}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(m){d=m}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(m){p=m}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(m){g=m}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,c){n.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),d=c.font||this.getFont(),h=c.scaleFactor||this.internal.scaleFactor,p=0,g=0,m=0,v=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var y=c.maxWidth;y>0?typeof l=="string"?l=this.splitTextToSize(l,y):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(x,O){return x.concat(v.splitTextToSize(O,y))},[])):l=Array.isArray(l)?l:[l];for(var b=0;b<l.length;b++)p<(m=this.getStringUnitWidth(l[b],{font:d})*u)&&(p=m);return p!==0&&(g=l.length),{w:p/=h,h:Math.max((g*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/h,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var l;l=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,d=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,p&&h&&(this.printHeaderRow(l.lineNumber,!0),l.y+=h[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};e.table=function(l,c,u,d,h){if(n.call(this),!u)throw new Error("No data for PDF table.");var p,g,m,v,y=[],b=[],x=[],O={},P={},j=[],T=[],S=(h=h||{}).autoSize||!1,_=h.printHeaders!==!1,D=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,E=h.margins||Object.assign({width:this.getPageWidth()},t),N=typeof h.padding=="number"?h.padding:3,k=h.headerBackgroundColor||"#c8c8c8",V=h.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=_,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=D,this.internal.__cell__.padding=N,this.internal.__cell__.headerBackgroundColor=k,this.internal.__cell__.headerTextColor=V,this.setFontSize(D),d==null)b=y=Object.keys(u[0]),x=y.map(function(){return"left"});else if(Array.isArray(d)&&bn(d[0])==="object")for(y=d.map(function(ee){return ee.name}),b=d.map(function(ee){return ee.prompt||ee.name||""}),x=d.map(function(ee){return ee.align||"left"}),p=0;p<d.length;p+=1)P[d[p].name]=d[p].width*(19.049976/25.4);else Array.isArray(d)&&typeof d[0]=="string"&&(b=y=d,x=y.map(function(){return"left"}));if(S||Array.isArray(d)&&typeof d[0]=="string")for(p=0;p<y.length;p+=1){for(O[v=y[p]]=u.map(function(ee){return ee[v]}),this.setFont(void 0,"bold"),j.push(this.getTextDimensions(b[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=O[v],this.setFont(void 0,"normal"),m=0;m<g.length;m+=1)j.push(this.getTextDimensions(g[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);P[v]=Math.max.apply(null,j)+N+N,j=[]}if(_){var Q={};for(p=0;p<y.length;p+=1)Q[y[p]]={},Q[y[p]].text=b[p],Q[y[p]].align=x[p];var W=o.call(this,Q,P);T=y.map(function(ee){return new i(l,c,P[ee],W,Q[ee].text,void 0,Q[ee].align)}),this.setTableHeaderRow(T),this.printHeaderRow(1,!1)}var G=d.reduce(function(ee,Z){return ee[Z.name]=Z.align,ee},{});for(p=0;p<u.length;p+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:p,data:u[p]},this);var q=o.call(this,u[p],P);for(m=0;m<y.length;m+=1){var U=u[p][y[m]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:p,col:m,data:U},this),s.call(this,new i(l,c,P[y[m]],q,U,p+2,G[y[m]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(l).map(function(p){var g=l[p];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,c[p]-u-u)},this).map(function(p){return this.getLineHeightFactor()*p.length*d/h+u+u},this).reduce(function(p,g){return Math.max(p,g)},0)};e.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){u=this.internal.__cell__.tableHeaderRow[p].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,h.push(u)),u.lineNumber=l;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,u),this.setTextColor(g)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}}(Sr.API);var UQ={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},VQ=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],XN=BQ(VQ),zQ=[100,200,300,400,500,600,700,800,900],iqe=BQ(zQ);function QN(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return UQ[i=i||"normal"]?i:"normal"}(e.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(i){return typeof XN[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function $$(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var sqe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},B$={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function U$(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function oqe(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},sqe,r.genericFontFamilies||{}),i=null,s=null,o=0;o<t.length;++o)if(a[(i=QN(t[o])).family]&&(i.family=a[i.family]),e.hasOwnProperty(i.family)){s=e[i.family];break}if(!(s=s||e[n]))throw new Error("Could not find a font-family for the rule '"+U$(i)+"' and default family '"+n+"'.");if(s=function(l,c){if(c[l])return c[l];var u=XN[l],d=u<=XN.normal?-1:1,h=$$(c,VQ,u,d);if(!h)throw new Error("Could not find a matching font-stretch value for "+l);return h}(i.stretch,s),s=function(l,c){if(c[l])return c[l];for(var u=UQ[l],d=0;d<u.length;++d)if(c[u[d]])return c[u[d]];throw new Error("Could not find a matching font-style for "+l)}(i.style,s),!(s=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var u=iqe[l],d=$$(c,zQ,u,l<400?-1:1);if(!d)throw new Error("Could not find a matching font-weight for value "+l);return d}(i.weight,s)))throw new Error("Failed to resolve a font for the rule '"+U$(i)+"'.");return s}function V$(e){return e.trimLeft()}function lqe(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function cqe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var R2,z$,q$,Q4=["times"];(function(e){var t,r,n,a,i,s,o,l,c,u=function(I){return I=I||{},this.isStrokeTransparent=I.isStrokeTransparent||!1,this.strokeOpacity=I.strokeOpacity||1,this.strokeStyle=I.strokeStyle||"#000000",this.fillStyle=I.fillStyle||"#000000",this.isFillTransparent=I.isFillTransparent||!1,this.fillOpacity=I.fillOpacity||1,this.font=I.font||"10px sans-serif",this.textBaseline=I.textBaseline||"alphabetic",this.textAlign=I.textAlign||"left",this.lineWidth=I.lineWidth||1,this.lineJoin=I.lineJoin||"miter",this.lineCap=I.lineCap||"butt",this.path=I.path||[],this.transform=I.transform!==void 0?I.transform.clone():new l,this.globalCompositeOperation=I.globalCompositeOperation||"normal",this.globalAlpha=I.globalAlpha||1,this.clip_path=I.clip_path||[],this.currentPoint=I.currentPoint||new s,this.miterLimit=I.miterLimit||10,this.lastPoint=I.lastPoint||new s,this.lineDashOffset=I.lineDashOffset||0,this.lineDash=I.lineDash||[],this.margin=I.margin||[0,0,0,0],this.prevPageLastElemOffset=I.prevPageLastElemOffset||0,this.ignoreClearRect=typeof I.ignoreClearRect!="boolean"||I.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new d(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var d=function(I){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var M=I;Object.defineProperty(this,"pdf",{get:function(){return M}});var z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return z},set:function(_e){z=!!_e}});var K=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return K},set:function(_e){K=!!_e}});var X=0;Object.defineProperty(this,"posX",{get:function(){return X},set:function(_e){isNaN(_e)||(X=_e)}});var ae=0;Object.defineProperty(this,"posY",{get:function(){return ae},set:function(_e){isNaN(_e)||(ae=_e)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(_e){var le;typeof _e=="number"?le=[_e,_e,_e,_e]:((le=new Array(4))[0]=_e[0],le[1]=_e.length>=2?_e[1]:le[0],le[2]=_e.length>=3?_e[2]:le[0],le[3]=_e.length>=4?_e[3]:le[1]),c.margin=le}});var ue=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ue},set:function(_e){ue=_e}});var ie=0;Object.defineProperty(this,"lastBreak",{get:function(){return ie},set:function(_e){ie=_e}});var ge=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ge},set:function(_e){ge=_e}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(_e){_e instanceof u&&(c=_e)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(_e){c.path=_e}});var ye=[];Object.defineProperty(this,"ctxStack",{get:function(){return ye},set:function(_e){ye=_e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(_e){var le;le=h(_e),this.ctx.fillStyle=le.style,this.ctx.isFillTransparent=le.a===0,this.ctx.fillOpacity=le.a,this.pdf.setFillColor(le.r,le.g,le.b,{a:le.a}),this.pdf.setTextColor(le.r,le.g,le.b,{a:le.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(_e){var le=h(_e);this.ctx.strokeStyle=le.style,this.ctx.isStrokeTransparent=le.a===0,this.ctx.strokeOpacity=le.a,le.a===0?this.pdf.setDrawColor(255,255,255):(le.a,this.pdf.setDrawColor(le.r,le.g,le.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(_e){["butt","round","square"].indexOf(_e)!==-1&&(this.ctx.lineCap=_e,this.pdf.setLineCap(_e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(_e){isNaN(_e)||(this.ctx.lineWidth=_e,this.pdf.setLineWidth(_e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(_e){["bevel","round","miter"].indexOf(_e)!==-1&&(this.ctx.lineJoin=_e,this.pdf.setLineJoin(_e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(_e){isNaN(_e)||(this.ctx.miterLimit=_e,this.pdf.setMiterLimit(_e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(_e){this.ctx.textBaseline=_e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(_e){["right","end","center","left","start"].indexOf(_e)!==-1&&(this.ctx.textAlign=_e)}});var H=null;function ke(_e,le){if(H===null){var Le=function(qe){var Ke=[];return Object.keys(qe).forEach(function(rt){qe[rt].forEach(function(Ee){var Re=null;switch(Ee){case"bold":Re={family:rt,weight:"bold"};break;case"italic":Re={family:rt,style:"italic"};break;case"bolditalic":Re={family:rt,weight:"bold",style:"italic"};break;case"":case"normal":Re={family:rt}}Re!==null&&(Re.ref={name:rt,style:Ee},Ke.push(Re))})}),Ke}(_e.getFontList());H=function(qe){for(var Ke={},rt=0;rt<qe.length;++rt){var Ee=QN(qe[rt]),Re=Ee.family,Te=Ee.stretch,Me=Ee.style,We=Ee.weight;Ke[Re]=Ke[Re]||{},Ke[Re][Te]=Ke[Re][Te]||{},Ke[Re][Te][Me]=Ke[Re][Te][Me]||{},Ke[Re][Te][Me][We]=Ee}return Ke}(Le.concat(le))}return H}var Ce=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ce},set:function(_e){H=null,Ce=_e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(_e){var le;if(this.ctx.font=_e,(le=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(_e))!==null){var Le=le[1];le[2];var qe=le[3],Ke=le[4];le[5];var rt=le[6],Ee=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ke)[2];Ke=Math.floor(Ee==="px"?parseFloat(Ke)*this.pdf.internal.scaleFactor:Ee==="em"?parseFloat(Ke)*this.pdf.getFontSize():parseFloat(Ke)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ke);var Re=function(ht){var pt,He,Ft=[],Nt=ht.trim();if(Nt==="")return Q4;if(Nt in B$)return[B$[Nt]];for(;Nt!=="";){switch(He=null,pt=(Nt=V$(Nt)).charAt(0)){case'"':case"'":He=lqe(Nt.substring(1),pt);break;default:He=cqe(Nt)}if(He===null||(Ft.push(He[0]),(Nt=V$(He[1]))!==""&&Nt.charAt(0)!==","))return Q4;Nt=Nt.replace(/^,/,"")}return Ft}(rt);if(this.fontFaces){var Te=oqe(ke(this.pdf,this.fontFaces),Re.map(function(ht){return{family:ht,stretch:"normal",weight:qe,style:Le}}));this.pdf.setFont(Te.ref.name,Te.ref.style)}else{var Me="";(qe==="bold"||parseInt(qe,10)>=700||Le==="bold")&&(Me="bold"),Le==="italic"&&(Me+="italic"),Me.length===0&&(Me="normal");for(var We="",st={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ct=0;ct<Re.length;ct++){if(this.pdf.internal.getFont(Re[ct],Me,{noFallback:!0,disableWarning:!0})!==void 0){We=Re[ct];break}if(Me==="bolditalic"&&this.pdf.internal.getFont(Re[ct],"bold",{noFallback:!0,disableWarning:!0})!==void 0)We=Re[ct],Me="bold";else if(this.pdf.internal.getFont(Re[ct],"normal",{noFallback:!0,disableWarning:!0})!==void 0){We=Re[ct],Me="normal";break}}if(We===""){for(var xt=0;xt<Re.length;xt++)if(st[Re[xt]]){We=st[Re[xt]];break}}We=We===""?"Times":We,this.pdf.setFont(We,Me)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(_e){this.ctx.globalCompositeOperation=_e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(_e){this.ctx.globalAlpha=_e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(_e){this.ctx.lineDashOffset=_e,Z.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(_e){this.ctx.lineDash=_e,Z.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(_e){this.ctx.ignoreClearRect=!!_e}})};d.prototype.setLineDash=function(I){this.lineDash=I},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){O.call(this,"fill",!1)},d.prototype.stroke=function(){O.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(I,M){if(isNaN(I)||isNaN(M))throw $n.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var z=this.ctx.transform.applyToPoint(new s(I,M));this.path.push({type:"mt",x:z.x,y:z.y}),this.ctx.lastPoint=new s(I,M)},d.prototype.closePath=function(){var I=new s(0,0),M=0;for(M=this.path.length-1;M!==-1;M--)if(this.path[M].type==="begin"&&bn(this.path[M+1])==="object"&&typeof this.path[M+1].x=="number"){I=new s(this.path[M+1].x,this.path[M+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(I.x,I.y)},d.prototype.lineTo=function(I,M){if(isNaN(I)||isNaN(M))throw $n.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var z=this.ctx.transform.applyToPoint(new s(I,M));this.path.push({type:"lt",x:z.x,y:z.y}),this.ctx.lastPoint=new s(z.x,z.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),O.call(this,null,!0)},d.prototype.quadraticCurveTo=function(I,M,z,K){if(isNaN(z)||isNaN(K)||isNaN(I)||isNaN(M))throw $n.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var X=this.ctx.transform.applyToPoint(new s(z,K)),ae=this.ctx.transform.applyToPoint(new s(I,M));this.path.push({type:"qct",x1:ae.x,y1:ae.y,x:X.x,y:X.y}),this.ctx.lastPoint=new s(X.x,X.y)},d.prototype.bezierCurveTo=function(I,M,z,K,X,ae){if(isNaN(X)||isNaN(ae)||isNaN(I)||isNaN(M)||isNaN(z)||isNaN(K))throw $n.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ue=this.ctx.transform.applyToPoint(new s(X,ae)),ie=this.ctx.transform.applyToPoint(new s(I,M)),ge=this.ctx.transform.applyToPoint(new s(z,K));this.path.push({type:"bct",x1:ie.x,y1:ie.y,x2:ge.x,y2:ge.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new s(ue.x,ue.y)},d.prototype.arc=function(I,M,z,K,X,ae){if(isNaN(I)||isNaN(M)||isNaN(z)||isNaN(K)||isNaN(X))throw $n.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ae=!!ae,!this.ctx.transform.isIdentity){var ue=this.ctx.transform.applyToPoint(new s(I,M));I=ue.x,M=ue.y;var ie=this.ctx.transform.applyToPoint(new s(0,z)),ge=this.ctx.transform.applyToPoint(new s(0,0));z=Math.sqrt(Math.pow(ie.x-ge.x,2)+Math.pow(ie.y-ge.y,2))}Math.abs(X-K)>=2*Math.PI&&(K=0,X=2*Math.PI),this.path.push({type:"arc",x:I,y:M,radius:z,startAngle:K,endAngle:X,counterclockwise:ae})},d.prototype.arcTo=function(I,M,z,K,X){throw new Error("arcTo not implemented.")},d.prototype.rect=function(I,M,z,K){if(isNaN(I)||isNaN(M)||isNaN(z)||isNaN(K))throw $n.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(I,M),this.lineTo(I+z,M),this.lineTo(I+z,M+K),this.lineTo(I,M+K),this.lineTo(I,M),this.lineTo(I+z,M),this.lineTo(I,M)},d.prototype.fillRect=function(I,M,z,K){if(isNaN(I)||isNaN(M)||isNaN(z)||isNaN(K))throw $n.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var X={};this.lineCap!=="butt"&&(X.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(X.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(I,M,z,K),this.fill(),X.hasOwnProperty("lineCap")&&(this.lineCap=X.lineCap),X.hasOwnProperty("lineJoin")&&(this.lineJoin=X.lineJoin)}},d.prototype.strokeRect=function(I,M,z,K){if(isNaN(I)||isNaN(M)||isNaN(z)||isNaN(K))throw $n.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(I,M,z,K),this.stroke())},d.prototype.clearRect=function(I,M,z,K){if(isNaN(I)||isNaN(M)||isNaN(z)||isNaN(K))throw $n.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(I,M,z,K))},d.prototype.save=function(I){I=typeof I!="boolean"||I;for(var M=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("q");if(this.pdf.setPage(M),I){this.ctx.fontSize=this.pdf.internal.getFontSize();var K=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=K}},d.prototype.restore=function(I){I=typeof I!="boolean"||I;for(var M=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("Q");this.pdf.setPage(M),I&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(I){var M,z,K,X;if(I.isCanvasGradient===!0&&(I=I.getColor()),!I)return{r:0,g:0,b:0,a:0,style:I};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(I))M=0,z=0,K=0,X=0;else{var ae=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(I);if(ae!==null)M=parseInt(ae[1]),z=parseInt(ae[2]),K=parseInt(ae[3]),X=1;else if((ae=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(I))!==null)M=parseInt(ae[1]),z=parseInt(ae[2]),K=parseInt(ae[3]),X=parseFloat(ae[4]);else{if(X=1,typeof I=="string"&&I.charAt(0)!=="#"){var ue=new DQ(I);I=ue.ok?ue.toHex():"#000000"}I.length===4?(M=I.substring(1,2),M+=M,z=I.substring(2,3),z+=z,K=I.substring(3,4),K+=K):(M=I.substring(1,3),z=I.substring(3,5),K=I.substring(5,7)),M=parseInt(M,16),z=parseInt(z,16),K=parseInt(K,16)}}return{r:M,g:z,b:K,a:X,style:I}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(I,M,z,K){if(isNaN(M)||isNaN(z)||typeof I!="string")throw $n.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(K=isNaN(K)?void 0:K,!p.call(this)){var X=q(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;N.call(this,{text:I,x:M,y:z,scale:ae,angle:X,align:this.textAlign,maxWidth:K})}},d.prototype.strokeText=function(I,M,z,K){if(isNaN(M)||isNaN(z)||typeof I!="string")throw $n.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){K=isNaN(K)?void 0:K;var X=q(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;N.call(this,{text:I,x:M,y:z,scale:ae,renderingMode:"stroke",angle:X,align:this.textAlign,maxWidth:K})}},d.prototype.measureText=function(I){if(typeof I!="string")throw $n.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var M=this.pdf,z=this.pdf.internal.scaleFactor,K=M.internal.getFontSize(),X=M.getStringUnitWidth(I)*K/M.internal.scaleFactor,ae=function(ue){var ie=(ue=ue||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ie}}),this};return new ae({width:X*=Math.round(96*z/72*1e4)/1e4})},d.prototype.scale=function(I,M){if(isNaN(I)||isNaN(M))throw $n.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var z=new l(I,0,0,M,0,0);this.ctx.transform=this.ctx.transform.multiply(z)},d.prototype.rotate=function(I){if(isNaN(I))throw $n.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var M=new l(Math.cos(I),Math.sin(I),-Math.sin(I),Math.cos(I),0,0);this.ctx.transform=this.ctx.transform.multiply(M)},d.prototype.translate=function(I,M){if(isNaN(I)||isNaN(M))throw $n.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var z=new l(1,0,0,1,I,M);this.ctx.transform=this.ctx.transform.multiply(z)},d.prototype.transform=function(I,M,z,K,X,ae){if(isNaN(I)||isNaN(M)||isNaN(z)||isNaN(K)||isNaN(X)||isNaN(ae))throw $n.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ue=new l(I,M,z,K,X,ae);this.ctx.transform=this.ctx.transform.multiply(ue)},d.prototype.setTransform=function(I,M,z,K,X,ae){I=isNaN(I)?1:I,M=isNaN(M)?0:M,z=isNaN(z)?0:z,K=isNaN(K)?1:K,X=isNaN(X)?0:X,ae=isNaN(ae)?0:ae,this.ctx.transform=new l(I,M,z,K,X,ae)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(I,M,z,K,X,ae,ue,ie,ge){var ye=this.pdf.getImageProperties(I),H=1,ke=1,Ce=1,_e=1;K!==void 0&&ie!==void 0&&(Ce=ie/K,_e=ge/X,H=ye.width/K*ie/K,ke=ye.height/X*ge/X),ae===void 0&&(ae=M,ue=z,M=0,z=0),K!==void 0&&ie===void 0&&(ie=K,ge=X),K===void 0&&ie===void 0&&(ie=ye.width,ge=ye.height);for(var le,Le=this.ctx.transform.decompose(),qe=q(Le.rotate.shx),Ke=new l,rt=(Ke=(Ke=(Ke=Ke.multiply(Le.translate)).multiply(Le.skew)).multiply(Le.scale)).applyToRectangle(new o(ae-M*Ce,ue-z*_e,K*H,X*ke)),Ee=v.call(this,rt),Re=[],Te=0;Te<Ee.length;Te+=1)Re.indexOf(Ee[Te])===-1&&Re.push(Ee[Te]);if(x(Re),this.autoPaging)for(var Me=Re[0],We=Re[Re.length-1],st=Me;st<We+1;st++){this.pdf.setPage(st);var ct=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],xt=st===1?this.posY+this.margin[0]:this.margin[0],ht=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],pt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],He=st===1?0:ht+(st-2)*pt;if(this.ctx.clip_path.length!==0){var Ft=this.path;le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(le,this.posX+this.margin[3],-He+xt+this.ctx.prevPageLastElemOffset),P.call(this,"fill",!0),this.path=Ft}var Nt=JSON.parse(JSON.stringify(rt));Nt=b([Nt],this.posX+this.margin[3],-He+xt+this.ctx.prevPageLastElemOffset)[0];var Pr=(st>Me||st<We)&&m.call(this);Pr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ct,pt,null).clip().discardPath()),this.pdf.addImage(I,"JPEG",Nt.x,Nt.y,Nt.w,Nt.h,null,null,qe),Pr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(I,"JPEG",rt.x,rt.y,rt.w,rt.h,null,null,qe)};var v=function(I,M,z){var K=[];M=M||this.pdf.internal.pageSize.width,z=z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var X=this.posY+this.ctx.prevPageLastElemOffset;switch(I.type){default:case"mt":case"lt":K.push(Math.floor((I.y+X)/z)+1);break;case"arc":K.push(Math.floor((I.y+X-I.radius)/z)+1),K.push(Math.floor((I.y+X+I.radius)/z)+1);break;case"qct":var ae=U(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x,I.y);K.push(Math.floor((ae.y+X)/z)+1),K.push(Math.floor((ae.y+ae.h+X)/z)+1);break;case"bct":var ue=ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x2,I.y2,I.x,I.y);K.push(Math.floor((ue.y+X)/z)+1),K.push(Math.floor((ue.y+ue.h+X)/z)+1);break;case"rect":K.push(Math.floor((I.y+X)/z)+1),K.push(Math.floor((I.y+I.h+X)/z)+1)}for(var ie=0;ie<K.length;ie+=1)for(;this.pdf.internal.getNumberOfPages()<K[ie];)y.call(this);return K},y=function(){var I=this.fillStyle,M=this.strokeStyle,z=this.font,K=this.lineCap,X=this.lineWidth,ae=this.lineJoin;this.pdf.addPage(),this.fillStyle=I,this.strokeStyle=M,this.font=z,this.lineCap=K,this.lineWidth=X,this.lineJoin=ae},b=function(I,M,z){for(var K=0;K<I.length;K++)switch(I[K].type){case"bct":I[K].x2+=M,I[K].y2+=z;case"qct":I[K].x1+=M,I[K].y1+=z;case"mt":case"lt":case"arc":default:I[K].x+=M,I[K].y+=z}return I},x=function(I){return I.sort(function(M,z){return M-z})},O=function(I,M){for(var z,K,X=this.fillStyle,ae=this.strokeStyle,ue=this.lineCap,ie=this.lineWidth,ge=Math.abs(ie*this.ctx.transform.scaleX),ye=this.lineJoin,H=JSON.parse(JSON.stringify(this.path)),ke=JSON.parse(JSON.stringify(this.path)),Ce=[],_e=0;_e<ke.length;_e++)if(ke[_e].x!==void 0)for(var le=v.call(this,ke[_e]),Le=0;Le<le.length;Le+=1)Ce.indexOf(le[Le])===-1&&Ce.push(le[Le]);for(var qe=0;qe<Ce.length;qe++)for(;this.pdf.internal.getNumberOfPages()<Ce[qe];)y.call(this);if(x(Ce),this.autoPaging)for(var Ke=Ce[0],rt=Ce[Ce.length-1],Ee=Ke;Ee<rt+1;Ee++){this.pdf.setPage(Ee),this.fillStyle=X,this.strokeStyle=ae,this.lineCap=ue,this.lineWidth=ge,this.lineJoin=ye;var Re=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Te=Ee===1?this.posY+this.margin[0]:this.margin[0],Me=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],We=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],st=Ee===1?0:Me+(Ee-2)*We;if(this.ctx.clip_path.length!==0){var ct=this.path;z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(z,this.posX+this.margin[3],-st+Te+this.ctx.prevPageLastElemOffset),P.call(this,I,!0),this.path=ct}if(K=JSON.parse(JSON.stringify(H)),this.path=b(K,this.posX+this.margin[3],-st+Te+this.ctx.prevPageLastElemOffset),M===!1||Ee===0){var xt=(Ee>Ke||Ee<rt)&&m.call(this);xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Re,We,null).clip().discardPath()),P.call(this,I,M),xt&&this.pdf.restoreGraphicsState()}this.lineWidth=ie}else this.lineWidth=ge,P.call(this,I,M),this.lineWidth=ie;this.path=H},P=function(I,M){if((I!=="stroke"||M||!g.call(this))&&(I==="stroke"||M||!p.call(this))){for(var z,K,X=[],ae=this.path,ue=0;ue<ae.length;ue++){var ie=ae[ue];switch(ie.type){case"begin":X.push({begin:!0});break;case"close":X.push({close:!0});break;case"mt":X.push({start:ie,deltas:[],abs:[]});break;case"lt":var ge=X.length;if(ae[ue-1]&&!isNaN(ae[ue-1].x)&&(z=[ie.x-ae[ue-1].x,ie.y-ae[ue-1].y],ge>0)){for(;ge>=0;ge--)if(X[ge-1].close!==!0&&X[ge-1].begin!==!0){X[ge-1].deltas.push(z),X[ge-1].abs.push(ie);break}}break;case"bct":z=[ie.x1-ae[ue-1].x,ie.y1-ae[ue-1].y,ie.x2-ae[ue-1].x,ie.y2-ae[ue-1].y,ie.x-ae[ue-1].x,ie.y-ae[ue-1].y],X[X.length-1].deltas.push(z);break;case"qct":var ye=ae[ue-1].x+2/3*(ie.x1-ae[ue-1].x),H=ae[ue-1].y+2/3*(ie.y1-ae[ue-1].y),ke=ie.x+2/3*(ie.x1-ie.x),Ce=ie.y+2/3*(ie.y1-ie.y),_e=ie.x,le=ie.y;z=[ye-ae[ue-1].x,H-ae[ue-1].y,ke-ae[ue-1].x,Ce-ae[ue-1].y,_e-ae[ue-1].x,le-ae[ue-1].y],X[X.length-1].deltas.push(z);break;case"arc":X.push({deltas:[],abs:[],arc:!0}),Array.isArray(X[X.length-1].abs)&&X[X.length-1].abs.push(ie)}}K=M?null:I==="stroke"?"stroke":"fill";for(var Le=!1,qe=0;qe<X.length;qe++)if(X[qe].arc)for(var Ke=X[qe].abs,rt=0;rt<Ke.length;rt++){var Ee=Ke[rt];Ee.type==="arc"?S.call(this,Ee.x,Ee.y,Ee.radius,Ee.startAngle,Ee.endAngle,Ee.counterclockwise,void 0,M,!Le):k.call(this,Ee.x,Ee.y),Le=!0}else if(X[qe].close===!0)this.pdf.internal.out("h"),Le=!1;else if(X[qe].begin!==!0){var Re=X[qe].start.x,Te=X[qe].start.y;V.call(this,X[qe].deltas,Re,Te),Le=!0}K&&_.call(this,K),M&&D.call(this)}},j=function(I){var M=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,z=M*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return I-z;case"top":return I+M-z;case"hanging":return I+M-2*z;case"middle":return I+M/2-z;case"ideographic":return I;case"alphabetic":default:return I}},T=function(I){return I+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var I=function(){};return I.colorStops=[],I.addColorStop=function(M,z){this.colorStops.push([M,z])},I.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},I.isCanvasGradient=!0,I},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var S=function(I,M,z,K,X,ae,ue,ie,ge){for(var ye=W.call(this,z,K,X,ae),H=0;H<ye.length;H++){var ke=ye[H];H===0&&(ge?E.call(this,ke.x1+I,ke.y1+M):k.call(this,ke.x1+I,ke.y1+M)),Q.call(this,I,M,ke.x2,ke.y2,ke.x3,ke.y3,ke.x4,ke.y4)}ie?D.call(this):_.call(this,ue)},_=function(I){switch(I){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},D=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(I,M){this.pdf.internal.out(r(I)+" "+n(M)+" m")},N=function(I){var M;switch(I.align){case"right":case"end":M="right";break;case"center":M="center";break;case"left":case"start":default:M="left"}var z=this.pdf.getTextDimensions(I.text),K=j.call(this,I.y),X=T.call(this,K)-z.h,ae=this.ctx.transform.applyToPoint(new s(I.x,K)),ue=this.ctx.transform.decompose(),ie=new l;ie=(ie=(ie=ie.multiply(ue.translate)).multiply(ue.skew)).multiply(ue.scale);for(var ge,ye,H,ke=this.ctx.transform.applyToRectangle(new o(I.x,K,z.w,z.h)),Ce=ie.applyToRectangle(new o(I.x,X,z.w,z.h)),_e=v.call(this,Ce),le=[],Le=0;Le<_e.length;Le+=1)le.indexOf(_e[Le])===-1&&le.push(_e[Le]);if(x(le),this.autoPaging)for(var qe=le[0],Ke=le[le.length-1],rt=qe;rt<Ke+1;rt++){this.pdf.setPage(rt);var Ee=rt===1?this.posY+this.margin[0]:this.margin[0],Re=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Te=this.pdf.internal.pageSize.height-this.margin[2],Me=Te-this.margin[0],We=this.pdf.internal.pageSize.width-this.margin[1],st=We-this.margin[3],ct=rt===1?0:Re+(rt-2)*Me;if(this.ctx.clip_path.length!==0){var xt=this.path;ge=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(ge,this.posX+this.margin[3],-1*ct+Ee),P.call(this,"fill",!0),this.path=xt}var ht=b([JSON.parse(JSON.stringify(Ce))],this.posX+this.margin[3],-ct+Ee+this.ctx.prevPageLastElemOffset)[0];I.scale>=.01&&(ye=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ye*I.scale),H=this.lineWidth,this.lineWidth=H*I.scale);var pt=this.autoPaging!=="text";if(pt||ht.y+ht.h<=Te){if(pt||ht.y>=Ee&&ht.x<=We){var He=pt?I.text:this.pdf.splitTextToSize(I.text,I.maxWidth||We-ht.x)[0],Ft=b([JSON.parse(JSON.stringify(ke))],this.posX+this.margin[3],-ct+Ee+this.ctx.prevPageLastElemOffset)[0],Nt=pt&&(rt>qe||rt<Ke)&&m.call(this);Nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],st,Me,null).clip().discardPath()),this.pdf.text(He,Ft.x,Ft.y,{angle:I.angle,align:M,renderingMode:I.renderingMode}),Nt&&this.pdf.restoreGraphicsState()}}else ht.y<Te&&(this.ctx.prevPageLastElemOffset+=Te-ht.y);I.scale>=.01&&(this.pdf.setFontSize(ye),this.lineWidth=H)}else I.scale>=.01&&(ye=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ye*I.scale),H=this.lineWidth,this.lineWidth=H*I.scale),this.pdf.text(I.text,ae.x+this.posX,ae.y+this.posY,{angle:I.angle,align:M,renderingMode:I.renderingMode,maxWidth:I.maxWidth}),I.scale>=.01&&(this.pdf.setFontSize(ye),this.lineWidth=H)},k=function(I,M,z,K){z=z||0,K=K||0,this.pdf.internal.out(r(I+z)+" "+n(M+K)+" l")},V=function(I,M,z){return this.pdf.lines(I,M,z,null,null)},Q=function(I,M,z,K,X,ae,ue,ie){this.pdf.internal.out([t(a(z+I)),t(i(K+M)),t(a(X+I)),t(i(ae+M)),t(a(ue+I)),t(i(ie+M)),"c"].join(" "))},W=function(I,M,z,K){for(var X=2*Math.PI,ae=Math.PI/2;M>z;)M-=X;var ue=Math.abs(z-M);ue<X&&K&&(ue=X-ue);for(var ie=[],ge=K?-1:1,ye=M;ue>1e-5;){var H=ye+ge*Math.min(ue,ae);ie.push(G.call(this,I,ye,H)),ue-=Math.abs(H-ye),ye=H}return ie},G=function(I,M,z){var K=(z-M)/2,X=I*Math.cos(K),ae=I*Math.sin(K),ue=X,ie=-ae,ge=ue*ue+ie*ie,ye=ge+ue*X+ie*ae,H=4/3*(Math.sqrt(2*ge*ye)-ye)/(ue*ae-ie*X),ke=ue-H*ie,Ce=ie+H*ue,_e=ke,le=-Ce,Le=K+M,qe=Math.cos(Le),Ke=Math.sin(Le);return{x1:I*Math.cos(M),y1:I*Math.sin(M),x2:ke*qe-Ce*Ke,y2:ke*Ke+Ce*qe,x3:_e*qe-le*Ke,y3:_e*Ke+le*qe,x4:I*Math.cos(z),y4:I*Math.sin(z)}},q=function(I){return 180*I/Math.PI},U=function(I,M,z,K,X,ae){var ue=I+.5*(z-I),ie=M+.5*(K-M),ge=X+.5*(z-X),ye=ae+.5*(K-ae),H=Math.min(I,X,ue,ge),ke=Math.max(I,X,ue,ge),Ce=Math.min(M,ae,ie,ye),_e=Math.max(M,ae,ie,ye);return new o(H,Ce,ke-H,_e-Ce)},ee=function(I,M,z,K,X,ae,ue,ie){var ge,ye,H,ke,Ce,_e,le,Le,qe,Ke,rt,Ee,Re,Te,Me=z-I,We=K-M,st=X-z,ct=ae-K,xt=ue-X,ht=ie-ae;for(ye=0;ye<41;ye++)qe=(le=(H=I+(ge=ye/40)*Me)+ge*((Ce=z+ge*st)-H))+ge*(Ce+ge*(X+ge*xt-Ce)-le),Ke=(Le=(ke=M+ge*We)+ge*((_e=K+ge*ct)-ke))+ge*(_e+ge*(ae+ge*ht-_e)-Le),ye==0?(rt=qe,Ee=Ke,Re=qe,Te=Ke):(rt=Math.min(rt,qe),Ee=Math.min(Ee,Ke),Re=Math.max(Re,qe),Te=Math.max(Te,Ke));return new o(Math.round(rt),Math.round(Ee),Math.round(Re-rt),Math.round(Te-Ee))},Z=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var I,M,z=(I=this.ctx.lineDash,M=this.ctx.lineDashOffset,JSON.stringify({lineDash:I,lineDashOffset:M}));this.prevLineDash!==z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=z)}}})(Sr.API),function(e){var t=function(i){var s,o,l,c,u,d,h,p,g,m;for(o=[],l=0,c=(i+=s="\0\0\0\0".slice(i.length%4||4)).length;c>l;l+=4)(u=(i.charCodeAt(l)<<24)+(i.charCodeAt(l+1)<<16)+(i.charCodeAt(l+2)<<8)+i.charCodeAt(l+3))!==0?(d=(u=((u=((u=((u=(u-(m=u%85))/85)-(g=u%85))/85)-(p=u%85))/85)-(h=u%85))/85)%85,o.push(d+33,h+33,p+33,g+33,m+33)):o.push(122);return function(v,y){for(var b=y;b>0;b--)v.pop()}(o,s.length),String.fromCharCode.apply(String,o)+"~>"},r=function(i){var s,o,l,c,u,d=String,h="length",p=255,g="charCodeAt",m="slice",v="replace";for(i[m](-2),i=i[m](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),l=[],c=0,u=(i+=s="uuuuu"[m](i[h]%5||5))[h];u>c;c+=5)o=52200625*(i[g](c)-33)+614125*(i[g](c+1)-33)+7225*(i[g](c+2)-33)+85*(i[g](c+3)-33)+(i[g](c+4)-33),l.push(p&o>>24,p&o>>16,p&o>>8,p&o);return function(y,b){for(var x=b;x>0;x--)y.pop()}(l,s[h]),d.fromCharCode.apply(d,l)},n=function(i){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),s.test(i)===!1)return"";for(var o="",l=0;l<i.length;l+=2)o+=String.fromCharCode("0x"+(i[l]+i[l+1]));return o},a=function(i){for(var s=new Uint8Array(i.length),o=i.length;o--;)s[o]=i.charCodeAt(o);return i=(s=WN(s)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};e.processDataByFilters=function(i,s){var o=0,l=i||"",c=[];for(typeof(s=s||[])=="string"&&(s=[s]),o=0;o<s.length;o+=1)switch(s[o]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=a(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[o]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(Sr.API),function(e){e.loadFile=function(t,r,n){return function(a,i,s){i=i!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(l,c,u){var d=new XMLHttpRequest,h=0,p=function(g){var m=g.length,v=[],y=String.fromCharCode;for(h=0;h<m;h+=1)v.push(y(255&g.charCodeAt(h)));return v.join("")};if(d.open("GET",l,!c),d.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(d.onload=function(){d.status===200?u(p(this.responseText)):u(void 0)}),d.send(null),c&&d.status===200)return p(d.responseText)}(a,i,s)}catch{}return o}(t,r,n)},e.loadImageFile=e.loadFile}(Sr.API),function(e){function t(){return(Ar.html2canvas?Promise.resolve(Ar.html2canvas):BN(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function r(){return(Ar.DOMPurify?Promise.resolve(Ar.DOMPurify):BN(()=>import("./purify.es-BFmuJLeH.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var n=function(s){var o=bn(s);return o==="undefined"?"undefined":o==="string"||s instanceof String?"string":o==="number"||s instanceof Number?"number":o==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":o==="object"?"object":"unknown"},a=function(s,o){var l=document.createElement(s);for(var c in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[c]=o.style[c];return l},i=function s(o){var l=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),c=s.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,s,1,[s])).set(o)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(s,o){return s.__proto__=o||i.prototype,s},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(s,o){return this.then(function(){switch(o=o||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(r).then(function(l){return this.set({src:a("div",{innerHTML:s,dompurify:l})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},i.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),h=c.firstChild;h;h=h.nextSibling)u!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||d.appendChild(l(h,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(o){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var h=0;h<c.length;++h){var p=c[h],g=p.src.find(function(m){return m.format==="truetype"});g&&l.addFont(g.url,p.ref.name,p.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,l.context2d.save(!0),o(this.prop.container,d)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(s,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(s,o):this.outputPdf(s,o)},i.prototype.outputPdf=function(s,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,o)})},i.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},i.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(s){if(n(s)!=="object")return this;var o=Object.keys(s||{}).map(function(l){if(l in i.template.prop)return function(){this.prop[l]=s[l]};switch(l){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[l]=s[l]}}},this);return this.then(function(){return this.thenList(o)})},i.prototype.get=function(s,o){return this.then(function(){var l=s in i.template.prop?this.prop[s]:this.opt[s];return o?o(l):l})},i.prototype.setMargin=function(s){return this.then(function(){switch(n(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},i.prototype.setPageSize=function(s){function o(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(s=s||Sr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:o(s.inner.width,s.k),height:o(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},i.prototype.setProgress=function(s,o,l,c){return s!=null&&(this.progress.val=s),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(s,o,l,c){return this.setProgress(s?this.progress.val+s:null,o||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},i.prototype.then=function(s,o){var l=this;return this.thenCore(s,o,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(d){return l.updateProgress(null,c),d}).then(c,u).then(function(d){return l.updateProgress(1),d})})},i.prototype.thenCore=function(s,o,l){l=l||Promise.prototype.then,s&&(s=s.bind(this)),o&&(o=o.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),u=l.call(c,s,o);return i.convert(u,this.__proto__)},i.prototype.thenExternal=function(s,o){return Promise.prototype.then.call(this,s,o)},i.prototype.thenList=function(s){var o=this;return s.forEach(function(l){o=o.thenCore(l)}),o},i.prototype.catch=function(s){s&&(s=s.bind(this));var o=Promise.prototype.catch.call(this,s);return i.convert(o,this)},i.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},i.prototype.error=function(s){return this.then(function(){throw new Error(s)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,Sr.getPageSize=function(s,o,l){if(bn(s)==="object"){var c=s;s=c.orientation,o=c.unit||o,l=c.format||l}o=o||"mm",l=l||"a4",s=(""+(s||"P")).toLowerCase();var u,d=(""+l).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+o}var p,g=0,m=0;if(h.hasOwnProperty(d))g=h[d][1]/u,m=h[d][0]/u;else try{g=l[1],m=l[0]}catch{throw new Error("Invalid format: "+l)}if(s==="p"||s==="portrait")s="p",m>g&&(p=m,m=g,g=p);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",g>m&&(p=m,m=g,g=p)}return{width:m,height:g,unit:o,k:u,orientation:s}},e.html=function(s,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(QN):null;var l=new i(o);return o.worker?l:l.from(s).doCallback()}}(Sr.API),Sr.API.addJS=function(e){return q$=e,this.internal.events.subscribe("postPutResources",function(){R2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(R2+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),z$=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+q$+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){R2!==void 0&&z$!==void 0&&this.internal.out("/Names <</JavaScript "+R2+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var s=a[i],o=n.exec(s);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(i=0;i<c;i++){var d=r.internal.newObject();u.push(d);var h=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<u.length;i++)r.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var s={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var s=n.children[i];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var l=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(Sr.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,s,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=function(d){for(var h,p=256*d.charCodeAt(4)+d.charCodeAt(5),g=d.length,m={width:0,height:0,numcomponents:1},v=4;v<g;v+=2){if(v+=p,t.indexOf(d.charCodeAt(v+1))!==-1){h=256*d.charCodeAt(v+5)+d.charCodeAt(v+6),m={width:256*d.charCodeAt(v+7)+d.charCodeAt(v+8),height:h,numcomponents:d.charCodeAt(v+9)};break}p=256*d.charCodeAt(v+2)+d.charCodeAt(v+3)}return m}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:n,alias:a}}return u}}(Sr.API);var C0,F2,W$,H$,G$,uqe=function(){var e,t,r;function n(i){var s,o,l,c,u,d,h,p,g,m,v,y,b,x;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},d=null;;){switch(s=this.readUInt32(),g=(function(){var O,P;for(P=[],O=0;O<4;++O)P.push(String.fromCharCode(this.data[this.pos++]));return P}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":d&&this.animation.frames.push(d),this.pos+=4,d={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,d.delay=1e3*u/c,d.disposeOp=this.data[this.pos++],d.blendOp=this.data[this.pos++],d.data=[];break;case"IDAT":case"fdAT":for(g==="fdAT"&&(this.pos+=4,s-=4),i=(d!=null?d.data:void 0)||this.imgData,y=0;0<=s?y<s:y>s;0<=s?++y:--y)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((m=l-this.transparency.indexed.length)>0)for(b=0;0<=m?b<m:b>m;0<=m?++b:--b)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":h=(v=this.read(s)).indexOf(0),p=String.fromCharCode.apply(String,v.slice(0,h)),this.text[p]=String.fromCharCode.apply(String,v.slice(h+1));break;case"IEND":return d&&this.animation.frames.push(d),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(x=this.colorType)===4||x===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var s,o;for(o=[],s=0;0<=i?s<i:s>i;0<=i?++s:--s)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var s=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*s),l=0,c=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function u(d,h,p,g){var m,v,y,b,x,O,P,j,T,S,_,D,E,N,k,V,Q,W,G,q,U,ee=Math.ceil((c.width-d)/p),Z=Math.ceil((c.height-h)/g),I=c.width==ee&&c.height==Z;for(N=s*ee,D=I?o:new Uint8Array(N*Z),O=i.length,E=0,v=0;E<Z&&l<O;){switch(i[l++]){case 0:for(b=Q=0;Q<N;b=Q+=1)D[v++]=i[l++];break;case 1:for(b=W=0;W<N;b=W+=1)m=i[l++],x=b<s?0:D[v-s],D[v++]=(m+x)%256;break;case 2:for(b=G=0;G<N;b=G+=1)m=i[l++],y=(b-b%s)/s,k=E&&D[(E-1)*N+y*s+b%s],D[v++]=(k+m)%256;break;case 3:for(b=q=0;q<N;b=q+=1)m=i[l++],y=(b-b%s)/s,x=b<s?0:D[v-s],k=E&&D[(E-1)*N+y*s+b%s],D[v++]=(m+Math.floor((x+k)/2))%256;break;case 4:for(b=U=0;U<N;b=U+=1)m=i[l++],y=(b-b%s)/s,x=b<s?0:D[v-s],E===0?k=V=0:(k=D[(E-1)*N+y*s+b%s],V=y&&D[(E-1)*N+(y-1)*s+b%s]),P=x+k-V,j=Math.abs(P-x),S=Math.abs(P-k),_=Math.abs(P-V),T=j<=S&&j<=_?x:S<=_?k:V,D[v++]=(m+T)%256;break;default:throw new Error("Invalid filter algorithm: "+i[l-1])}if(!I){var M=((h+E*g)*c.width+d)*s,z=E*N;for(b=0;b<ee;b+=1){for(var K=0;K<s;K+=1)o[M++]=D[z++];M+=(p-1)*s}}E++}}return i=Vze(i),c.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),o},n.prototype.decodePalette=function(){var i,s,o,l,c,u,d,h,p;for(o=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+o.length),l=0,i=0,s=d=0,h=o.length;d<h;s=d+=3)c[l++]=o[s],c[l++]=o[s+1],c[l++]=o[s+2],c[l++]=(p=u[i++])!=null?p:255;return c},n.prototype.copyToImageData=function(i,s){var o,l,c,u,d,h,p,g,m,v,y;if(l=this.colors,m=null,o=this.hasAlphaChannel,this.palette.length&&(m=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),l=4,o=!0),g=(c=i.data||i).length,d=m||s,u=h=0,l===1)for(;u<g;)p=m?4*s[u/4]:h,v=d[p++],c[u++]=v,c[u++]=v,c[u++]=v,c[u++]=o?d[p++]:255,h=p;else for(;u<g;)p=m?4*s[u/4]:h,c[u++]=d[p++],c[u++]=d[p++],c[u++]=d[p++],c[u++]=o?d[p++]:255,h=p},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(Ar)==="[object Window]"){try{t=Ar.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(i){var s;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(s=new Image).src=t.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var s,o,l,c,u,d,h,p;if(this.animation){for(p=[],o=u=0,d=(h=this.animation.frames).length;u<d;o=++u)s=h[o],l=i.createImageData(s.width,s.height),c=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(l,c),s.imageData=l,p.push(s.image=e(l));return p}},n.prototype.renderFrame=function(i,s){var o,l,c;return o=(l=this.animation.frames)[s],c=l[s-1],s===0&&i.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?i.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&i.putImageData(c.imageData,c.xOffset,c.yOffset),o.blendOp===0&&i.clearRect(o.xOffset,o.yOffset,o.width,o.height),i.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(i){var s,o,l,c,u,d,h=this;return o=0,d=this.animation,c=d.numFrames,l=d.frames,u=d.numPlays,(s=function(){var p,g;if(p=o++%c,g=l[p],h.renderFrame(i,p),c>1&&o/c<u)return h.animation._timeout=setTimeout(s,g.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var s,o;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,s=i.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(o=s.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),s.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function fqe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,s=1<<(7&a)+1;e[t++],e[t++];var o=null,l=null;i&&(o=t,l=s,t+=3*s);var c=!0,u=[],d=0,h=null,p=0,g=null;for(this.width=r,this.height=n;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,g=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var m=e[t++];d=e[t++]|e[t++]<<8,h=e[t++],!(1&m)&&(h=null),p=m>>2&7,t++;break;case 254:for(;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var v=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,O=e[t++],P=O>>6&1,j=1<<(7&O)+1,T=o,S=l,_=!1;O>>7&&(_=!0,T=t,S=j,t+=3*j);var D=t;for(t++;;){var E;if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}u.push({x:v,y,width:b,height:x,has_local_palette:_,palette_offset:T,palette_size:S,data_offset:D,data_length:t-D,transparent_index:h,interlaced:!!P,delay:d,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return g},this.frameInfo=function(N){if(N<0||N>=u.length)throw new Error("Frame index out of range.");return u[N]},this.decodeAndBlitFrameBGRA=function(N,k){var V=this.frameInfo(N),Q=V.width*V.height,W=new Uint8Array(Q);K$(e,V.data_offset,W,Q);var G=V.palette_offset,q=V.transparent_index;q===null&&(q=256);var U=V.width,ee=r-U,Z=U,I=4*(V.y*r+V.x),M=4*((V.y+V.height)*r+V.x),z=I,K=4*ee;V.interlaced===!0&&(K+=4*r*7);for(var X=8,ae=0,ue=W.length;ae<ue;++ae){var ie=W[ae];if(Z===0&&(Z=U,(z+=K)>=M&&(K=4*ee+4*r*(X-1),z=I+(U+ee)*(X<<1),X>>=1)),ie===q)z+=4;else{var ge=e[G+3*ie],ye=e[G+3*ie+1],H=e[G+3*ie+2];k[z++]=H,k[z++]=ye,k[z++]=ge,k[z++]=255}--Z}},this.decodeAndBlitFrameRGBA=function(N,k){var V=this.frameInfo(N),Q=V.width*V.height,W=new Uint8Array(Q);K$(e,V.data_offset,W,Q);var G=V.palette_offset,q=V.transparent_index;q===null&&(q=256);var U=V.width,ee=r-U,Z=U,I=4*(V.y*r+V.x),M=4*((V.y+V.height)*r+V.x),z=I,K=4*ee;V.interlaced===!0&&(K+=4*r*7);for(var X=8,ae=0,ue=W.length;ae<ue;++ae){var ie=W[ae];if(Z===0&&(Z=U,(z+=K)>=M&&(K=4*ee+4*r*(X-1),z=I+(U+ee)*(X<<1),X>>=1)),ie===q)z+=4;else{var ge=e[G+3*ie],ye=e[G+3*ie+1],H=e[G+3*ie+2];k[z++]=ge,k[z++]=ye,k[z++]=H,k[z++]=255}--Z}}}function K$(e,t,r,n){for(var a=e[t++],i=1<<a,s=i+1,o=s+1,l=a+1,c=(1<<l)-1,u=0,d=0,h=0,p=e[t++],g=new Int32Array(4096),m=null;;){for(;u<16&&p!==0;)d|=e[t++]<<u,u+=8,p===1?p=e[t++]:--p;if(u<l)break;var v=d&c;if(d>>=l,u-=l,v!==i){if(v===s)break;for(var y=v<o?v:m,b=0,x=y;x>i;)x=g[x]>>8,++b;var O=x;if(h+b+(y!==v?1:0)>n)return void $n.log("Warning, gif stream longer than expected.");r[h++]=O;var P=h+=b;for(y!==v&&(r[h++]=O),x=y;b--;)x=g[x],r[--P]=255&x,x>>=8;m!==null&&o<4096&&(g[o++]=m<<8|O,o>=c+1&&l<12&&(++l,c=c<<1|1)),m=v}else o=s+1,c=(1<<(l=a+1))-1,m=null}return h!==n&&$n.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function J4(e){var t,r,n,a,i,s=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(65535),h=new Array(65535),p=new Array(64),g=new Array(64),m=[],v=0,y=7,b=new Array(64),x=new Array(64),O=new Array(64),P=new Array(256),j=new Array(2048),T=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],S=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],_=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],N=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Q=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function W(I,M){for(var z=0,K=0,X=new Array,ae=1;ae<=16;ae++){for(var ue=1;ue<=I[ae];ue++)X[M[K]]=[],X[M[K]][0]=z,X[M[K]][1]=ae,K++,z++;z*=2}return X}function G(I){for(var M=I[0],z=I[1]-1;z>=0;)M&1<<z&&(v|=1<<y),z--,--y<0&&(v==255?(q(255),q(0)):q(v),y=7,v=0)}function q(I){m.push(I)}function U(I){q(I>>8&255),q(255&I)}function ee(I,M,z,K,X){for(var ae,ue=X[0],ie=X[240],ge=function(Ke,rt){var Ee,Re,Te,Me,We,st,ct,xt,ht,pt,He=0;for(ht=0;ht<8;++ht){Ee=Ke[He],Re=Ke[He+1],Te=Ke[He+2],Me=Ke[He+3],We=Ke[He+4],st=Ke[He+5],ct=Ke[He+6];var Ft=Ee+(xt=Ke[He+7]),Nt=Ee-xt,Pr=Re+ct,ur=Re-ct,pr=Te+st,je=Te-st,De=Me+We,tt=Me-We,bt=Ft+De,Rt=Ft-De,Yt=Pr+pr,Ct=Pr-pr;Ke[He]=bt+Yt,Ke[He+4]=bt-Yt;var It=.707106781*(Ct+Rt);Ke[He+2]=Rt+It,Ke[He+6]=Rt-It;var rr=.382683433*((bt=tt+je)-(Ct=ur+Nt)),br=.5411961*bt+rr,wr=1.306562965*Ct+rr,Er=.707106781*(Yt=je+ur),an=Nt+Er,Xt=Nt-Er;Ke[He+5]=Xt+br,Ke[He+3]=Xt-br,Ke[He+1]=an+wr,Ke[He+7]=an-wr,He+=8}for(He=0,ht=0;ht<8;++ht){Ee=Ke[He],Re=Ke[He+8],Te=Ke[He+16],Me=Ke[He+24],We=Ke[He+32],st=Ke[He+40],ct=Ke[He+48];var sa=Ee+(xt=Ke[He+56]),Un=Ee-xt,Ne=Re+ct,it=Re-ct,ut=Te+st,te=Te-st,ve=Me+We,he=Me-We,me=sa+ve,xe=sa-ve,we=Ne+ut,ze=Ne-ut;Ke[He]=me+we,Ke[He+32]=me-we;var nt=.707106781*(ze+xe);Ke[He+16]=xe+nt,Ke[He+48]=xe-nt;var Ge=.382683433*((me=he+te)-(ze=it+Un)),Ye=.5411961*me+Ge,Qe=1.306562965*ze+Ge,vt=.707106781*(we=te+it),Mt=Un+vt,Vt=Un-vt;Ke[He+40]=Vt+Ye,Ke[He+24]=Vt-Ye,Ke[He+8]=Mt+Qe,Ke[He+56]=Mt-Qe,He++}for(ht=0;ht<64;++ht)pt=Ke[ht]*rt[ht],p[ht]=pt>0?pt+.5|0:pt-.5|0;return p}(I,M),ye=0;ye<64;++ye)g[T[ye]]=ge[ye];var H=g[0]-z;z=g[0],H==0?G(K[0]):(G(K[h[ae=32767+H]]),G(d[ae]));for(var ke=63;ke>0&&g[ke]==0;)ke--;if(ke==0)return G(ue),z;for(var Ce,_e=1;_e<=ke;){for(var le=_e;g[_e]==0&&_e<=ke;)++_e;var Le=_e-le;if(Le>=16){Ce=Le>>4;for(var qe=1;qe<=Ce;++qe)G(ie);Le&=15}ae=32767+g[_e],G(X[(Le<<4)+h[ae]]),G(d[ae]),_e++}return ke!=63&&G(ue),z}function Z(I){I=Math.min(Math.max(I,1),100),i!=I&&(function(M){for(var z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],K=0;K<64;K++){var X=s((z[K]*M+50)/100);X=Math.min(Math.max(X,1),255),o[T[K]]=X}for(var ae=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ue=0;ue<64;ue++){var ie=s((ae[ue]*M+50)/100);ie=Math.min(Math.max(ie,1),255),l[T[ue]]=ie}for(var ge=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ye=0,H=0;H<8;H++)for(var ke=0;ke<8;ke++)c[ye]=1/(o[T[ye]]*ge[H]*ge[ke]*8),u[ye]=1/(l[T[ye]]*ge[H]*ge[ke]*8),ye++}(I<50?Math.floor(5e3/I):Math.floor(200-2*I)),i=I)}this.encode=function(I,M){M&&Z(M),m=new Array,v=0,y=7,U(65496),U(65504),U(16),q(74),q(70),q(73),q(70),q(0),q(1),q(1),q(0),U(1),U(1),q(0),q(0),function(){U(65499),U(132),q(0);for(var Re=0;Re<64;Re++)q(o[Re]);q(1);for(var Te=0;Te<64;Te++)q(l[Te])}(),function(Re,Te){U(65472),U(17),q(8),U(Te),U(Re),q(3),q(1),q(17),q(0),q(2),q(17),q(1),q(3),q(17),q(1)}(I.width,I.height),function(){U(65476),U(418),q(0);for(var Re=0;Re<16;Re++)q(S[Re+1]);for(var Te=0;Te<=11;Te++)q(_[Te]);q(16);for(var Me=0;Me<16;Me++)q(D[Me+1]);for(var We=0;We<=161;We++)q(E[We]);q(1);for(var st=0;st<16;st++)q(N[st+1]);for(var ct=0;ct<=11;ct++)q(k[ct]);q(17);for(var xt=0;xt<16;xt++)q(V[xt+1]);for(var ht=0;ht<=161;ht++)q(Q[ht])}(),U(65498),U(12),q(3),q(1),q(0),q(2),q(17),q(3),q(17),q(0),q(63),q(0);var z=0,K=0,X=0;v=0,y=7,this.encode.displayName="_encode_";for(var ae,ue,ie,ge,ye,H,ke,Ce,_e,le=I.data,Le=I.width,qe=I.height,Ke=4*Le,rt=0;rt<qe;){for(ae=0;ae<Ke;){for(ye=Ke*rt+ae,ke=-1,Ce=0,_e=0;_e<64;_e++)H=ye+(Ce=_e>>3)*Ke+(ke=4*(7&_e)),rt+Ce>=qe&&(H-=Ke*(rt+1+Ce-qe)),ae+ke>=Ke&&(H-=ae+ke-Ke+4),ue=le[H++],ie=le[H++],ge=le[H++],b[_e]=(j[ue]+j[ie+256>>0]+j[ge+512>>0]>>16)-128,x[_e]=(j[ue+768>>0]+j[ie+1024>>0]+j[ge+1280>>0]>>16)-128,O[_e]=(j[ue+1280>>0]+j[ie+1536>>0]+j[ge+1792>>0]>>16)-128;z=ee(b,c,z,t,n),K=ee(x,u,K,r,a),X=ee(O,u,X,r,a),ae+=32}rt+=8}if(y>=0){var Ee=[];Ee[1]=y+1,Ee[0]=(1<<y+1)-1,G(Ee)}return U(65497),new Uint8Array(m)},e=e||50,function(){for(var I=String.fromCharCode,M=0;M<256;M++)P[M]=I(M)}(),t=W(S,_),r=W(N,k),n=W(D,E),a=W(V,Q),function(){for(var I=1,M=2,z=1;z<=15;z++){for(var K=I;K<M;K++)h[32767+K]=z,d[32767+K]=[],d[32767+K][1]=z,d[32767+K][0]=K;for(var X=-(M-1);X<=-I;X++)h[32767+X]=z,d[32767+X]=[],d[32767+X][1]=z,d[32767+X][0]=M-1+X;I<<=1,M<<=1}}(),function(){for(var I=0;I<256;I++)j[I]=19595*I,j[I+256>>0]=38470*I,j[I+512>>0]=7471*I+32768,j[I+768>>0]=-11059*I,j[I+1024>>0]=-21709*I,j[I+1280>>0]=32768*I+8421375,j[I+1536>>0]=-27439*I,j[I+1792>>0]=-5329*I}(),Z(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function gl(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Y$(e){function t(S){if(!S)throw Error("assert :P")}function r(S,_,D){for(var E=0;4>E;E++)if(S[_+E]!=D.charCodeAt(E))return!0;return!1}function n(S,_,D,E,N){for(var k=0;k<N;k++)S[_+k]=D[E+k]}function a(S,_,D,E){for(var N=0;N<E;N++)S[_+N]=D}function i(S){return new Int32Array(S)}function s(S,_){for(var D=[],E=0;E<S;E++)D.push(new _);return D}function o(S,_){var D=[];return function E(N,k,V){for(var Q=V[k],W=0;W<Q&&(N.push(V.length>k+1?[]:new _),!(V.length<k+1));W++)E(N[W],k+1,V)}(D,0,S),D}var l=function(){var S=this;function _(w,C){for(var R=1<<C-1>>>0;w&R;)R>>>=1;return R?(w&R-1)+R:w}function D(w,C,R,Y,ne){t(!(Y%R));do w[C+(Y-=R)]=ne;while(0<Y)}function E(w,C,R,Y,ne){if(t(2328>=ne),512>=ne)var oe=i(512);else if((oe=i(ne))==null)return 0;return function(ce,de,pe,be,Oe,Je){var Ze,Ve,Tt=de,ot=1<<pe,Ie=i(16),Fe=i(16);for(t(Oe!=0),t(be!=null),t(ce!=null),t(0<pe),Ve=0;Ve<Oe;++Ve){if(15<be[Ve])return 0;++Ie[be[Ve]]}if(Ie[0]==Oe)return 0;for(Fe[1]=0,Ze=1;15>Ze;++Ze){if(Ie[Ze]>1<<Ze)return 0;Fe[Ze+1]=Fe[Ze]+Ie[Ze]}for(Ve=0;Ve<Oe;++Ve)Ze=be[Ve],0<be[Ve]&&(Je[Fe[Ze]++]=Ve);if(Fe[15]==1)return(be=new N).g=0,be.value=Je[0],D(ce,Tt,1,ot,be),ot;var yt,kt=-1,St=ot-1,Zt=0,zt=1,gr=1,Kt=1<<pe;for(Ve=0,Ze=1,Oe=2;Ze<=pe;++Ze,Oe<<=1){if(zt+=gr<<=1,0>(gr-=Ie[Ze]))return 0;for(;0<Ie[Ze];--Ie[Ze])(be=new N).g=Ze,be.value=Je[Ve++],D(ce,Tt+Zt,Oe,Kt,be),Zt=_(Zt,Ze)}for(Ze=pe+1,Oe=2;15>=Ze;++Ze,Oe<<=1){if(zt+=gr<<=1,0>(gr-=Ie[Ze]))return 0;for(;0<Ie[Ze];--Ie[Ze]){if(be=new N,(Zt&St)!=kt){for(Tt+=Kt,yt=1<<(kt=Ze)-pe;15>kt&&!(0>=(yt-=Ie[kt]));)++kt,yt<<=1;ot+=Kt=1<<(yt=kt-pe),ce[de+(kt=Zt&St)].g=yt+pe,ce[de+kt].value=Tt-de-kt}be.g=Ze-pe,be.value=Je[Ve++],D(ce,Tt+(Zt>>pe),Oe,Kt,be),Zt=_(Zt,Ze)}}return zt!=2*Fe[15]-1?0:ot}(w,C,R,Y,ne,oe)}function N(){this.value=this.g=0}function k(){this.value=this.g=0}function V(){this.G=s(5,N),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(xi,k)}function Q(w,C,R,Y){t(w!=null),t(C!=null),t(2147483648>Y),w.Ca=254,w.I=0,w.b=-8,w.Ka=0,w.oa=C,w.pa=R,w.Jd=C,w.Yc=R+Y,w.Zc=4<=Y?R+Y-4+1:R,ae(w)}function W(w,C){for(var R=0;0<C--;)R|=ie(w,128)<<C;return R}function G(w,C){var R=W(w,C);return ue(w)?-R:R}function q(w,C,R,Y){var ne,oe=0;for(t(w!=null),t(C!=null),t(4294967288>Y),w.Sb=Y,w.Ra=0,w.u=0,w.h=0,4<Y&&(Y=4),ne=0;ne<Y;++ne)oe+=C[R+ne]<<8*ne;w.Ra=oe,w.bb=Y,w.oa=C,w.pa=R}function U(w){for(;8<=w.u&&w.bb<w.Sb;)w.Ra>>>=8,w.Ra+=w.oa[w.pa+w.bb]<<l0-8>>>0,++w.bb,w.u-=8;z(w)&&(w.h=1,w.u=0)}function ee(w,C){if(t(0<=C),!w.h&&C<=o0){var R=M(w)&s0[C];return w.u+=C,U(w),R}return w.h=1,w.u=0}function Z(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function I(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function M(w){return w.Ra>>>(w.u&l0-1)>>>0}function z(w){return t(w.bb<=w.Sb),w.h||w.bb==w.Sb&&w.u>l0}function K(w,C){w.u=C,w.h=z(w)}function X(w){w.u>=Zm&&(t(w.u>=Zm),U(w))}function ae(w){t(w!=null&&w.oa!=null),w.pa<w.Zc?(w.I=(w.oa[w.pa++]|w.I<<8)>>>0,w.b+=8):(t(w!=null&&w.oa!=null),w.pa<w.Yc?(w.b+=8,w.I=w.oa[w.pa++]|w.I<<8):w.Ka?w.b=0:(w.I<<=8,w.b+=8,w.Ka=1))}function ue(w){return W(w,1)}function ie(w,C){var R=w.Ca;0>w.b&&ae(w);var Y=w.b,ne=R*C>>>8,oe=(w.I>>>Y>ne)+0;for(oe?(R-=ne,w.I-=ne+1<<Y>>>0):R=ne+1,Y=R,ne=0;256<=Y;)ne+=8,Y>>=8;return Y=7^ne+Ps[Y],w.b-=Y,w.Ca=(R<<Y)-1,oe}function ge(w,C,R){w[C+0]=R>>24&255,w[C+1]=R>>16&255,w[C+2]=R>>8&255,w[C+3]=R>>0&255}function ye(w,C){return w[C+0]<<0|w[C+1]<<8}function H(w,C){return ye(w,C)|w[C+2]<<16}function ke(w,C){return ye(w,C)|ye(w,C+2)<<16}function Ce(w,C){var R=1<<C;return t(w!=null),t(0<C),w.X=i(R),w.X==null?0:(w.Mb=32-C,w.Xa=C,1)}function _e(w,C){t(w!=null),t(C!=null),t(w.Xa==C.Xa),n(C.X,0,w.X,0,1<<C.Xa)}function le(){this.X=[],this.Xa=this.Mb=0}function Le(w,C,R,Y){t(R!=null),t(Y!=null);var ne=R[0],oe=Y[0];return ne==0&&(ne=(w*oe+C/2)/C),oe==0&&(oe=(C*ne+w/2)/w),0>=ne||0>=oe?0:(R[0]=ne,Y[0]=oe,1)}function qe(w,C){return w+(1<<C)-1>>>C}function Ke(w,C){return((4278255360&w)+(4278255360&C)>>>0&4278255360)+((16711935&w)+(16711935&C)>>>0&16711935)>>>0}function rt(w,C){S[C]=function(R,Y,ne,oe,ce,de,pe){var be;for(be=0;be<ce;++be){var Oe=S[w](de[pe+be-1],ne,oe+be);de[pe+be]=Ke(R[Y+be],Oe)}}}function Ee(){this.ud=this.hd=this.jd=0}function Re(w,C){return((4278124286&(w^C))>>>1)+(w&C)>>>0}function Te(w){return 0<=w&&256>w?w:0>w?0:255<w?255:void 0}function Me(w,C){return Te(w+(w-C+.5>>1))}function We(w,C,R){return Math.abs(C-R)-Math.abs(w-R)}function st(w,C,R,Y,ne,oe,ce){for(Y=oe[ce-1],R=0;R<ne;++R)oe[ce+R]=Y=Ke(w[C+R],Y)}function ct(w,C,R,Y,ne){var oe;for(oe=0;oe<R;++oe){var ce=w[C+oe],de=ce>>8&255,pe=16711935&(pe=(pe=16711935&ce)+((de<<16)+de));Y[ne+oe]=(4278255360&ce)+pe>>>0}}function xt(w,C){C.jd=w>>0&255,C.hd=w>>8&255,C.ud=w>>16&255}function ht(w,C,R,Y,ne,oe){var ce;for(ce=0;ce<Y;++ce){var de=C[R+ce],pe=de>>>8,be=de,Oe=255&(Oe=(Oe=de>>>16)+((w.jd<<24>>24)*(pe<<24>>24)>>>5));be=255&(be=(be=be+((w.hd<<24>>24)*(pe<<24>>24)>>>5))+((w.ud<<24>>24)*(Oe<<24>>24)>>>5)),ne[oe+ce]=(4278255360&de)+(Oe<<16)+be}}function pt(w,C,R,Y,ne){S[C]=function(oe,ce,de,pe,be,Oe,Je,Ze,Ve){for(pe=Je;pe<Ze;++pe)for(Je=0;Je<Ve;++Je)be[Oe++]=ne(de[Y(oe[ce++])])},S[w]=function(oe,ce,de,pe,be,Oe,Je){var Ze=8>>oe.b,Ve=oe.Ea,Tt=oe.K[0],ot=oe.w;if(8>Ze)for(oe=(1<<oe.b)-1,ot=(1<<Ze)-1;ce<de;++ce){var Ie,Fe=0;for(Ie=0;Ie<Ve;++Ie)Ie&oe||(Fe=Y(pe[be++])),Oe[Je++]=ne(Tt[Fe&ot]),Fe>>=Ze}else S["VP8LMapColor"+R](pe,be,Tt,ot,Oe,Je,ce,de,Ve)}}function He(w,C,R,Y,ne){for(R=C+R;C<R;){var oe=w[C++];Y[ne++]=oe>>16&255,Y[ne++]=oe>>8&255,Y[ne++]=oe>>0&255}}function Ft(w,C,R,Y,ne){for(R=C+R;C<R;){var oe=w[C++];Y[ne++]=oe>>16&255,Y[ne++]=oe>>8&255,Y[ne++]=oe>>0&255,Y[ne++]=oe>>24&255}}function Nt(w,C,R,Y,ne){for(R=C+R;C<R;){var oe=(ce=w[C++])>>16&240|ce>>12&15,ce=ce>>0&240|ce>>28&15;Y[ne++]=oe,Y[ne++]=ce}}function Pr(w,C,R,Y,ne){for(R=C+R;C<R;){var oe=(ce=w[C++])>>16&248|ce>>13&7,ce=ce>>5&224|ce>>3&31;Y[ne++]=oe,Y[ne++]=ce}}function ur(w,C,R,Y,ne){for(R=C+R;C<R;){var oe=w[C++];Y[ne++]=oe>>0&255,Y[ne++]=oe>>8&255,Y[ne++]=oe>>16&255}}function pr(w,C,R,Y,ne,oe){if(oe==0)for(R=C+R;C<R;)ge(Y,((oe=w[C++])[0]>>24|oe[1]>>8&65280|oe[2]<<8&16711680|oe[3]<<24)>>>0),ne+=32;else n(Y,ne,w,C,R)}function je(w,C){S[C][0]=S[w+"0"],S[C][1]=S[w+"1"],S[C][2]=S[w+"2"],S[C][3]=S[w+"3"],S[C][4]=S[w+"4"],S[C][5]=S[w+"5"],S[C][6]=S[w+"6"],S[C][7]=S[w+"7"],S[C][8]=S[w+"8"],S[C][9]=S[w+"9"],S[C][10]=S[w+"10"],S[C][11]=S[w+"11"],S[C][12]=S[w+"12"],S[C][13]=S[w+"13"],S[C][14]=S[w+"0"],S[C][15]=S[w+"0"]}function De(w){return w==LS||w==MS||w==bx||w==RS}function tt(){this.eb=[],this.size=this.A=this.fb=0}function bt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Rt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new tt,this.f.kb=new bt,this.sd=null}function Yt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ct(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function It(w){return alert("todo:WebPSamplerProcessPlane"),w.T}function rr(w,C){var R=w.T,Y=C.ba.f.RGBA,ne=Y.eb,oe=Y.fb+w.ka*Y.A,ce=Eo[C.ba.S],de=w.y,pe=w.O,be=w.f,Oe=w.N,Je=w.ea,Ze=w.W,Ve=C.cc,Tt=C.dc,ot=C.Mc,Ie=C.Nc,Fe=w.ka,yt=w.ka+w.T,kt=w.U,St=kt+1>>1;for(Fe==0?ce(de,pe,null,null,be,Oe,Je,Ze,be,Oe,Je,Ze,ne,oe,null,null,kt):(ce(C.ec,C.fc,de,pe,Ve,Tt,ot,Ie,be,Oe,Je,Ze,ne,oe-Y.A,ne,oe,kt),++R);Fe+2<yt;Fe+=2)Ve=be,Tt=Oe,ot=Je,Ie=Ze,Oe+=w.Rc,Ze+=w.Rc,oe+=2*Y.A,ce(de,(pe+=2*w.fa)-w.fa,de,pe,Ve,Tt,ot,Ie,be,Oe,Je,Ze,ne,oe-Y.A,ne,oe,kt);return pe+=w.fa,w.j+yt<w.o?(n(C.ec,C.fc,de,pe,kt),n(C.cc,C.dc,be,Oe,St),n(C.Mc,C.Nc,Je,Ze,St),R--):1&yt||ce(de,pe,null,null,be,Oe,Je,Ze,be,Oe,Je,Ze,ne,oe+Y.A,null,null,kt),R}function br(w,C,R){var Y=w.F,ne=[w.J];if(Y!=null){var oe=w.U,ce=C.ba.S,de=ce==xx||ce==bx;C=C.ba.f.RGBA;var pe=[0],be=w.ka;pe[0]=w.T,w.Kb&&(be==0?--pe[0]:(--be,ne[0]-=w.width),w.j+w.ka+w.T==w.o&&(pe[0]=w.o-w.j-be));var Oe=C.eb;be=C.fb+be*C.A,w=zn(Y,ne[0],w.width,oe,pe,Oe,be+(de?0:3),C.A),t(R==pe),w&&De(ce)&&Ao(Oe,be,de,oe,pe,C.A)}return 0}function wr(w){var C=w.ma,R=C.ba.S,Y=11>R,ne=R==vx||R==yx||R==xx||R==DS||R==12||De(R);if(C.memory=null,C.Ib=null,C.Jb=null,C.Nd=null,!Qm(C.Oa,w,ne?11:12))return 0;if(ne&&De(R)&&Pt(),w.da)alert("todo:use_scaling");else{if(Y){if(C.Ib=It,w.Kb){if(R=w.U+1>>1,C.memory=i(w.U+2*R),C.memory==null)return 0;C.ec=C.memory,C.fc=0,C.cc=C.ec,C.dc=C.fc+w.U,C.Mc=C.cc,C.Nc=C.dc+R,C.Ib=rr,Pt()}}else alert("todo:EmitYUV");ne&&(C.Jb=br,Y&&Ue())}if(Y&&!jj){for(w=0;256>w;++w)TJ[w]=89858*(w-128)+_x>>wx,kJ[w]=-22014*(w-128)+_x,NJ[w]=-45773*(w-128),EJ[w]=113618*(w-128)+_x>>wx;for(w=sg;w<BS;++w)C=76283*(w-16)+_x>>wx,CJ[w-sg]=Sn(C,255),PJ[w-sg]=Sn(C+8>>4,15);jj=1}return 1}function Er(w){var C=w.ma,R=w.U,Y=w.T;return t(!(1&w.ka)),0>=R||0>=Y?0:(R=C.Ib(w,C),C.Jb!=null&&C.Jb(w,C,R),C.Dc+=R,1)}function an(w){w.ma.memory=null}function Xt(w,C,R,Y){return ee(w,8)!=47?0:(C[0]=ee(w,14)+1,R[0]=ee(w,14)+1,Y[0]=ee(w,1),ee(w,3)!=0?0:!w.h)}function sa(w,C){if(4>w)return w+1;var R=w-2>>1;return(2+(1&w)<<R)+ee(C,R)+1}function Un(w,C){return 120<C?C-120:1<=(R=((R=fJ[C-1])>>4)*w+(8-(15&R)))?R:1;var R}function Ne(w,C,R){var Y=M(R),ne=w[C+=255&Y].g-8;return 0<ne&&(K(R,R.u+8),Y=M(R),C+=w[C].value,C+=Y&(1<<ne)-1),K(R,R.u+w[C].g),w[C].value}function it(w,C,R){return R.g+=w.g,R.value+=w.value<<C>>>0,t(8>=R.g),w.g}function ut(w,C,R){var Y=w.xc;return t((C=Y==0?0:w.vc[w.md*(R>>Y)+(C>>Y)])<w.Wb),w.Ya[C]}function te(w,C,R,Y){var ne=w.ab,oe=w.c*C,ce=w.C;C=ce+C;var de=R,pe=Y;for(Y=w.Ta,R=w.Ua;0<ne--;){var be=w.gc[ne],Oe=ce,Je=C,Ze=de,Ve=pe,Tt=(pe=Y,de=R,be.Ea);switch(t(Oe<Je),t(Je<=be.nc),be.hc){case 2:ux(Ze,Ve,(Je-Oe)*Tt,pe,de);break;case 0:var ot=Oe,Ie=Je,Fe=pe,yt=de,kt=(Kt=be).Ea;ot==0&&(OS(Ze,Ve,null,null,1,Fe,yt),st(Ze,Ve+1,0,0,kt-1,Fe,yt+1),Ve+=kt,yt+=kt,++ot);for(var St=1<<Kt.b,Zt=St-1,zt=qe(kt,Kt.b),gr=Kt.K,Kt=Kt.w+(ot>>Kt.b)*zt;ot<Ie;){var xn=gr,Nn=Kt,dn=1;for(eg(Ze,Ve,Fe,yt-kt,1,Fe,yt);dn<kt;){var Jr=(dn&~Zt)+St;Jr>kt&&(Jr=kt),(0,Ku[xn[Nn++]>>8&15])(Ze,Ve+ +dn,Fe,yt+dn-kt,Jr-dn,Fe,yt+dn),dn=Jr}Ve+=kt,yt+=kt,++ot&Zt||(Kt+=zt)}Je!=be.nc&&n(pe,de-Tt,pe,de+(Je-Oe-1)*Tt,Tt);break;case 1:for(Tt=Ze,Ie=Ve,kt=(Ze=be.Ea)-(yt=Ze&~(Fe=(Ve=1<<be.b)-1)),ot=qe(Ze,be.b),St=be.K,be=be.w+(Oe>>be.b)*ot;Oe<Je;){for(Zt=St,zt=be,gr=new Ee,Kt=Ie+yt,xn=Ie+Ze;Ie<Kt;)xt(Zt[zt++],gr),jd(gr,Tt,Ie,Ve,pe,de),Ie+=Ve,de+=Ve;Ie<xn&&(xt(Zt[zt++],gr),jd(gr,Tt,Ie,kt,pe,de),Ie+=kt,de+=kt),++Oe&Fe||(be+=ot)}break;case 3:if(Ze==pe&&Ve==de&&0<be.b){for(Ie=pe,Ze=Tt=de+(Je-Oe)*Tt-(yt=(Je-Oe)*qe(be.Ea,be.b)),Ve=pe,Fe=de,ot=[],yt=(kt=yt)-1;0<=yt;--yt)ot[yt]=Ve[Fe+yt];for(yt=kt-1;0<=yt;--yt)Ie[Ze+yt]=ot[yt];wo(be,Oe,Je,pe,Tt,pe,de)}else wo(be,Oe,Je,Ze,Ve,pe,de)}de=Y,pe=R}pe!=R&&n(Y,R,de,pe,oe)}function ve(w,C){var R=w.V,Y=w.Ba+w.c*w.C,ne=C-w.C;if(t(C<=w.l.o),t(16>=ne),0<ne){var oe=w.l,ce=w.Ta,de=w.Ua,pe=oe.width;if(te(w,ne,R,Y),ne=de=[de],t((R=w.C)<(Y=C)),t(oe.v<oe.va),Y>oe.o&&(Y=oe.o),R<oe.j){var be=oe.j-R;R=oe.j,ne[0]+=be*pe}if(R>=Y?R=0:(ne[0]+=4*oe.v,oe.ka=R-oe.j,oe.U=oe.va-oe.v,oe.T=Y-R,R=1),R){if(de=de[0],11>(R=w.ca).S){var Oe=R.f.RGBA,Je=(Y=R.S,ne=oe.U,oe=oe.T,be=Oe.eb,Oe.A),Ze=oe;for(Oe=Oe.fb+w.Ma*Oe.A;0<Ze--;){var Ve=ce,Tt=de,ot=ne,Ie=be,Fe=Oe;switch(Y){case gx:js(Ve,Tt,ot,Ie,Fe);break;case vx:fs(Ve,Tt,ot,Ie,Fe);break;case LS:fs(Ve,Tt,ot,Ie,Fe),Ao(Ie,Fe,0,ot,1,0);break;case wj:Mc(Ve,Tt,ot,Ie,Fe);break;case yx:pr(Ve,Tt,ot,Ie,Fe,1);break;case MS:pr(Ve,Tt,ot,Ie,Fe,1),Ao(Ie,Fe,0,ot,1,0);break;case xx:pr(Ve,Tt,ot,Ie,Fe,0);break;case bx:pr(Ve,Tt,ot,Ie,Fe,0),Ao(Ie,Fe,1,ot,1,0);break;case DS:Yu(Ve,Tt,ot,Ie,Fe);break;case RS:Yu(Ve,Tt,ot,Ie,Fe),Vn(Ie,Fe,ot,1,0);break;case _j:Lc(Ve,Tt,ot,Ie,Fe);break;default:t(0)}de+=pe,Oe+=Je}w.Ma+=oe}else alert("todo:EmitRescaledRowsYUVA");t(w.Ma<=R.height)}}w.C=C,t(w.C<=w.i)}function he(w){var C;if(0<w.ua)return 0;for(C=0;C<w.Wb;++C){var R=w.Ya[C].G,Y=w.Ya[C].H;if(0<R[1][Y[1]+0].g||0<R[2][Y[2]+0].g||0<R[3][Y[3]+0].g)return 0}return 1}function me(w,C,R,Y,ne,oe){if(w.Z!=0){var ce=w.qd,de=w.rd;for(t(Zu[w.Z]!=null);C<R;++C)Zu[w.Z](ce,de,Y,ne,Y,ne,oe),ce=Y,de=ne,ne+=oe;w.qd=ce,w.rd=de}}function xe(w,C){var R=w.l.ma,Y=R.Z==0||R.Z==1?w.l.j:w.C;if(Y=w.C<Y?Y:w.C,t(C<=w.l.o),C>Y){var ne=w.l.width,oe=R.ca,ce=R.tb+ne*Y,de=w.V,pe=w.Ba+w.c*Y,be=w.gc;t(w.ab==1),t(be[0].hc==3),fx(be[0],Y,C,de,pe,oe,ce),me(R,Y,C,oe,ce,ne)}w.C=w.Ma=C}function we(w,C,R,Y,ne,oe,ce){var de=w.$/Y,pe=w.$%Y,be=w.m,Oe=w.s,Je=R+w.$,Ze=Je;ne=R+Y*ne;var Ve=R+Y*oe,Tt=280+Oe.ua,ot=w.Pb?de:16777216,Ie=0<Oe.ua?Oe.Wa:null,Fe=Oe.wc,yt=Je<Ve?ut(Oe,pe,de):null;t(w.C<oe),t(Ve<=ne);var kt=!1;e:for(;;){for(;kt||Je<Ve;){var St=0;if(de>=ot){var Zt=Je-R;t((ot=w).Pb),ot.wd=ot.m,ot.xd=Zt,0<ot.s.ua&&_e(ot.s.Wa,ot.s.vb),ot=de+hJ}if(pe&Fe||(yt=ut(Oe,pe,de)),t(yt!=null),yt.Qb&&(C[Je]=yt.qb,kt=!0),!kt)if(X(be),yt.jc){St=be,Zt=C;var zt=Je,gr=yt.pd[M(St)&xi-1];t(yt.jc),256>gr.g?(K(St,St.u+gr.g),Zt[zt]=gr.value,St=0):(K(St,St.u+gr.g-256),t(256<=gr.value),St=gr.value),St==0&&(kt=!0)}else St=Ne(yt.G[0],yt.H[0],be);if(be.h)break;if(kt||256>St){if(!kt)if(yt.nd)C[Je]=(yt.qb|St<<8)>>>0;else{if(X(be),kt=Ne(yt.G[1],yt.H[1],be),X(be),Zt=Ne(yt.G[2],yt.H[2],be),zt=Ne(yt.G[3],yt.H[3],be),be.h)break;C[Je]=(zt<<24|kt<<16|St<<8|Zt)>>>0}if(kt=!1,++Je,++pe>=Y&&(pe=0,++de,ce!=null&&de<=oe&&!(de%16)&&ce(w,de),Ie!=null))for(;Ze<Je;)St=C[Ze++],Ie.X[(506832829*St&4294967295)>>>Ie.Mb]=St}else if(280>St){if(St=sa(St-256,be),Zt=Ne(yt.G[4],yt.H[4],be),X(be),Zt=Un(Y,Zt=sa(Zt,be)),be.h)break;if(Je-R<Zt||ne-Je<St)break e;for(zt=0;zt<St;++zt)C[Je+zt]=C[Je+zt-Zt];for(Je+=St,pe+=St;pe>=Y;)pe-=Y,++de,ce!=null&&de<=oe&&!(de%16)&&ce(w,de);if(t(Je<=ne),pe&Fe&&(yt=ut(Oe,pe,de)),Ie!=null)for(;Ze<Je;)St=C[Ze++],Ie.X[(506832829*St&4294967295)>>>Ie.Mb]=St}else{if(!(St<Tt))break e;for(kt=St-280,t(Ie!=null);Ze<Je;)St=C[Ze++],Ie.X[(506832829*St&4294967295)>>>Ie.Mb]=St;St=Je,t(!(kt>>>(Zt=Ie).Xa)),C[St]=Zt.X[kt],kt=!0}kt||t(be.h==z(be))}if(w.Pb&&be.h&&Je<ne)t(w.m.h),w.a=5,w.m=w.wd,w.$=w.xd,0<w.s.ua&&_e(w.s.vb,w.s.Wa);else{if(be.h)break e;ce!=null&&ce(w,de>oe?oe:de),w.a=0,w.$=Je-R}return 1}return w.a=3,0}function ze(w){t(w!=null),w.vc=null,w.yc=null,w.Ya=null;var C=w.Wa;C!=null&&(C.X=null),w.vb=null,t(w!=null)}function nt(){var w=new a0;return w==null?null:(w.a=0,w.xb=Tj,je("Predictor","VP8LPredictors"),je("Predictor","VP8LPredictors_C"),je("PredictorAdd","VP8LPredictorsAdd"),je("PredictorAdd","VP8LPredictorsAdd_C"),ux=ct,jd=ht,js=He,fs=Ft,Yu=Nt,Lc=Pr,Mc=ur,S.VP8LMapColor32b=c0,S.VP8LMapColor8b=dx,w)}function Ge(w,C,R,Y,ne){var oe=1,ce=[w],de=[C],pe=Y.m,be=Y.s,Oe=null,Je=0;e:for(;;){if(R)for(;oe&&ee(pe,1);){var Ze=ce,Ve=de,Tt=Y,ot=1,Ie=Tt.m,Fe=Tt.gc[Tt.ab],yt=ee(Ie,2);if(Tt.Oc&1<<yt)oe=0;else{switch(Tt.Oc|=1<<yt,Fe.hc=yt,Fe.Ea=Ze[0],Fe.nc=Ve[0],Fe.K=[null],++Tt.ab,t(4>=Tt.ab),yt){case 0:case 1:Fe.b=ee(Ie,3)+2,ot=Ge(qe(Fe.Ea,Fe.b),qe(Fe.nc,Fe.b),0,Tt,Fe.K),Fe.K=Fe.K[0];break;case 3:var kt,St=ee(Ie,8)+1,Zt=16<St?0:4<St?1:2<St?2:3;if(Ze[0]=qe(Fe.Ea,Zt),Fe.b=Zt,kt=ot=Ge(St,1,0,Tt,Fe.K)){var zt,gr=St,Kt=Fe,xn=1<<(8>>Kt.b),Nn=i(xn);if(Nn==null)kt=0;else{var dn=Kt.K[0],Jr=Kt.w;for(Nn[0]=Kt.K[0][0],zt=1;zt<1*gr;++zt)Nn[zt]=Ke(dn[Jr+zt],Nn[zt-1]);for(;zt<4*xn;++zt)Nn[zt]=0;Kt.K[0]=null,Kt.K[0]=Nn,kt=1}}ot=kt;break;case 2:break;default:t(0)}oe=ot}}if(ce=ce[0],de=de[0],oe&&ee(pe,1)&&!(oe=1<=(Je=ee(pe,4))&&11>=Je)){Y.a=3;break e}var Fn;if(Fn=oe)t:{var On,$r,Pa,Os=Y,ja=ce,Is=de,kn=Je,eo=R,to=Os.m,ni=Os.s,bi=[null],hs=1,No=0,Ql=dJ[kn];r:for(;;){if(eo&&ee(to,1)){var ai=ee(to,3)+2,Bc=qe(ja,ai),Md=qe(Is,ai),p0=Bc*Md;if(!Ge(Bc,Md,0,Os,bi))break r;for(bi=bi[0],ni.xc=ai,On=0;On<p0;++On){var ef=bi[On]>>8&65535;bi[On]=ef,ef>=hs&&(hs=ef+1)}}if(to.h)break r;for($r=0;5>$r;++$r){var da=Sj[$r];!$r&&0<kn&&(da+=1<<kn),No<da&&(No=da)}var US=s(hs*Ql,N),Dj=hs,Lj=s(Dj,V);if(Lj==null)var Ax=null;else t(65536>=Dj),Ax=Lj;var og=i(No);if(Ax==null||og==null||US==null){Os.a=1;break r}var Tx=US;for(On=Pa=0;On<hs;++On){var ul=Ax[On],m0=ul.G,g0=ul.H,Mj=0,Ex=1,Rj=0;for($r=0;5>$r;++$r){da=Sj[$r],m0[$r]=Tx,g0[$r]=Pa,!$r&&0<kn&&(da+=1<<kn);a:{var Nx,VS=da,kx=Os,lg=og,IJ=Tx,DJ=Pa,zS=0,tf=kx.m,LJ=ee(tf,1);if(a(lg,0,0,VS),LJ){var MJ=ee(tf,1)+1,RJ=ee(tf,1),Fj=ee(tf,RJ==0?1:8);lg[Fj]=1,MJ==2&&(lg[Fj=ee(tf,8)]=1);var Cx=1}else{var $j=i(19),Bj=ee(tf,4)+4;if(19<Bj){kx.a=3;var Px=0;break a}for(Nx=0;Nx<Bj;++Nx)$j[uJ[Nx]]=ee(tf,3);var qS=void 0,cg=void 0,Uj=kx,FJ=$j,jx=VS,Vj=lg,WS=0,rf=Uj.m,zj=8,qj=s(128,N);n:for(;E(qj,0,7,FJ,19);){if(ee(rf,1)){var $J=2+2*ee(rf,3);if((qS=2+ee(rf,$J))>jx)break n}else qS=jx;for(cg=0;cg<jx&&qS--;){X(rf);var Wj=qj[0+(127&M(rf))];K(rf,rf.u+Wj.g);var v0=Wj.value;if(16>v0)Vj[cg++]=v0,v0!=0&&(zj=v0);else{var BJ=v0==16,Hj=v0-16,UJ=lJ[Hj],Gj=ee(rf,oJ[Hj])+UJ;if(cg+Gj>jx)break n;for(var VJ=BJ?zj:0;0<Gj--;)Vj[cg++]=VJ}}WS=1;break n}WS||(Uj.a=3),Cx=WS}(Cx=Cx&&!tf.h)&&(zS=E(IJ,DJ,8,lg,VS)),Cx&&zS!=0?Px=zS:(kx.a=3,Px=0)}if(Px==0)break r;if(Ex&&cJ[$r]==1&&(Ex=Tx[Pa].g==0),Mj+=Tx[Pa].g,Pa+=Px,3>=$r){var ug,HS=og[0];for(ug=1;ug<da;++ug)og[ug]>HS&&(HS=og[ug]);Rj+=HS}}if(ul.nd=Ex,ul.Qb=0,Ex&&(ul.qb=(m0[3][g0[3]+0].value<<24|m0[1][g0[1]+0].value<<16|m0[2][g0[2]+0].value)>>>0,Mj==0&&256>m0[0][g0[0]+0].value&&(ul.Qb=1,ul.qb+=m0[0][g0[0]+0].value<<8)),ul.jc=!ul.Qb&&6>Rj,ul.jc){var Ox,Uc=ul;for(Ox=0;Ox<xi;++Ox){var nf=Ox,af=Uc.pd[nf],Ix=Uc.G[0][Uc.H[0]+nf];256<=Ix.value?(af.g=Ix.g+256,af.value=Ix.value):(af.g=0,af.value=0,nf>>=it(Ix,8,af),nf>>=it(Uc.G[1][Uc.H[1]+nf],16,af),nf>>=it(Uc.G[2][Uc.H[2]+nf],0,af),it(Uc.G[3][Uc.H[3]+nf],24,af))}}}ni.vc=bi,ni.Wb=hs,ni.Ya=Ax,ni.yc=US,Fn=1;break t}Fn=0}if(!(oe=Fn)){Y.a=3;break e}if(0<Je){if(be.ua=1<<Je,!Ce(be.Wa,Je)){Y.a=1,oe=0;break e}}else be.ua=0;var GS=Y,Kj=ce,zJ=de,KS=GS.s,YS=KS.xc;if(GS.c=Kj,GS.i=zJ,KS.md=qe(Kj,YS),KS.wc=YS==0?-1:(1<<YS)-1,R){Y.xb=bJ;break e}if((Oe=i(ce*de))==null){Y.a=1,oe=0;break e}oe=(oe=we(Y,Oe,0,ce,de,de,null))&&!pe.h;break e}return oe?(ne!=null?ne[0]=Oe:(t(Oe==null),t(R)),Y.$=0,R||ze(be)):ze(be),oe}function Ye(w,C){var R=w.c*w.i,Y=R+C+16*C;return t(w.c<=C),w.V=i(Y),w.V==null?(w.Ta=null,w.Ua=0,w.a=1,0):(w.Ta=w.V,w.Ua=w.Ba+R+C,1)}function Qe(w,C){var R=w.C,Y=C-R,ne=w.V,oe=w.Ba+w.c*R;for(t(C<=w.l.o);0<Y;){var ce=16<Y?16:Y,de=w.l.ma,pe=w.l.width,be=pe*ce,Oe=de.ca,Je=de.tb+pe*R,Ze=w.Ta,Ve=w.Ua;te(w,ce,ne,oe),_a(Ze,Ve,Oe,Je,be),me(de,R,R+ce,Oe,Je,pe),Y-=ce,ne+=ce*w.c,R+=ce}t(R==C),w.C=w.Ma=C}function vt(){this.ub=this.yd=this.td=this.Rb=0}function Mt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Vt(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Dt(){this.Yb=function(){var w=[];return function C(R,Y,ne){for(var oe=ne[Y],ce=0;ce<oe&&(R.push(ne.length>Y+1?[]:0),!(ne.length<Y+1));ce++)C(R[ce],Y+1,ne)}(w,0,[3,11]),w}()}function Bt(){this.jb=i(3),this.Wc=o([4,8],Dt),this.Xc=o([4,17],Dt)}function mr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Yr(){this.ld=this.La=this.dd=this.tc=0}function Xr(){this.Na=this.la=0}function yn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function gi(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ii(){this.uc=this.M=this.Nb=0,this.wa=Array(new Yr),this.Y=0,this.ya=Array(new gi),this.aa=0,this.l=new us}function cs(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Di(){this.cb=this.a=0,this.sc="",this.m=new Z,this.Od=new vt,this.Kc=new Mt,this.ed=new mr,this.Qa=new Vt,this.Ic=this.$c=this.Aa=0,this.D=new Ii,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,Z),this.ia=0,this.pb=s(4,yn),this.Pa=new Bt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new cs),this.Hd=0,this.rb=Array(new Xr),this.sb=0,this.wa=Array(new Yr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new gi),this.L=this.aa=0,this.gd=o([4,2],Yr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function us(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function za(){var w=new Di;return w!=null&&(w.a=0,w.sc="OK",w.cb=0,w.Xb=0,ig||(ig=Lu)),w}function Ln(w,C,R){return w.a==0&&(w.a=C,w.sc=R,w.cb=0),0}function Nc(w,C,R){return 3<=R&&w[C+0]==157&&w[C+1]==1&&w[C+2]==42}function kc(w,C){if(w==null)return 0;if(w.a=0,w.sc="OK",C==null)return Ln(w,2,"null VP8Io passed to VP8GetHeaders()");var R=C.data,Y=C.w,ne=C.ha;if(4>ne)return Ln(w,7,"Truncated header.");var oe=R[Y+0]|R[Y+1]<<8|R[Y+2]<<16,ce=w.Od;if(ce.Rb=!(1&oe),ce.td=oe>>1&7,ce.yd=oe>>4&1,ce.ub=oe>>5,3<ce.td)return Ln(w,3,"Incorrect keyframe parameters.");if(!ce.yd)return Ln(w,4,"Frame not displayable.");Y+=3,ne-=3;var de=w.Kc;if(ce.Rb){if(7>ne)return Ln(w,7,"cannot parse picture header");if(!Nc(R,Y,ne))return Ln(w,3,"Bad code word");de.c=16383&(R[Y+4]<<8|R[Y+3]),de.Td=R[Y+4]>>6,de.i=16383&(R[Y+6]<<8|R[Y+5]),de.Ud=R[Y+6]>>6,Y+=7,ne-=7,w.za=de.c+15>>4,w.Ub=de.i+15>>4,C.width=de.c,C.height=de.i,C.Da=0,C.j=0,C.v=0,C.va=C.width,C.o=C.height,C.da=0,C.ib=C.width,C.hb=C.height,C.U=C.width,C.T=C.height,a((oe=w.Pa).jb,0,255,oe.jb.length),t((oe=w.Qa)!=null),oe.Cb=0,oe.Bb=0,oe.Fb=1,a(oe.Zb,0,0,oe.Zb.length),a(oe.Lb,0,0,oe.Lb)}if(ce.ub>ne)return Ln(w,7,"bad partition length");Q(oe=w.m,R,Y,ce.ub),Y+=ce.ub,ne-=ce.ub,ce.Rb&&(de.Ld=ue(oe),de.Kd=ue(oe)),de=w.Qa;var pe,be=w.Pa;if(t(oe!=null),t(de!=null),de.Cb=ue(oe),de.Cb){if(de.Bb=ue(oe),ue(oe)){for(de.Fb=ue(oe),pe=0;4>pe;++pe)de.Zb[pe]=ue(oe)?G(oe,7):0;for(pe=0;4>pe;++pe)de.Lb[pe]=ue(oe)?G(oe,6):0}if(de.Bb)for(pe=0;3>pe;++pe)be.jb[pe]=ue(oe)?W(oe,8):255}else de.Bb=0;if(oe.Ka)return Ln(w,3,"cannot parse segment header");if((de=w.ed).zd=ue(oe),de.Tb=W(oe,6),de.wb=W(oe,3),de.Pc=ue(oe),de.Pc&&ue(oe)){for(be=0;4>be;++be)ue(oe)&&(de.vd[be]=G(oe,6));for(be=0;4>be;++be)ue(oe)&&(de.od[be]=G(oe,6))}if(w.L=de.Tb==0?0:de.zd?1:2,oe.Ka)return Ln(w,3,"cannot parse filter header");var Oe=ne;if(ne=pe=Y,Y=pe+Oe,de=Oe,w.Xb=(1<<W(w.m,2))-1,Oe<3*(be=w.Xb))R=7;else{for(pe+=3*be,de-=3*be,Oe=0;Oe<be;++Oe){var Je=R[ne+0]|R[ne+1]<<8|R[ne+2]<<16;Je>de&&(Je=de),Q(w.Jc[+Oe],R,pe,Je),pe+=Je,de-=Je,ne+=3}Q(w.Jc[+be],R,pe,de),R=pe<Y?0:5}if(R!=0)return Ln(w,R,"cannot parse partitions");for(R=W(pe=w.m,7),ne=ue(pe)?G(pe,4):0,Y=ue(pe)?G(pe,4):0,de=ue(pe)?G(pe,4):0,be=ue(pe)?G(pe,4):0,pe=ue(pe)?G(pe,4):0,Oe=w.Qa,Je=0;4>Je;++Je){if(Oe.Cb){var Ze=Oe.Zb[Je];Oe.Fb||(Ze+=R)}else{if(0<Je){w.pb[Je]=w.pb[0];continue}Ze=R}var Ve=w.pb[Je];Ve.Sc[0]=FS[Sn(Ze+ne,127)],Ve.Sc[1]=$S[Sn(Ze+0,127)],Ve.Eb[0]=2*FS[Sn(Ze+Y,127)],Ve.Eb[1]=101581*$S[Sn(Ze+de,127)]>>16,8>Ve.Eb[1]&&(Ve.Eb[1]=8),Ve.Qc[0]=FS[Sn(Ze+be,117)],Ve.Qc[1]=$S[Sn(Ze+pe,127)],Ve.lc=Ze+pe}if(!ce.Rb)return Ln(w,4,"Not a key frame.");for(ue(oe),ce=w.Pa,R=0;4>R;++R){for(ne=0;8>ne;++ne)for(Y=0;3>Y;++Y)for(de=0;11>de;++de)be=ie(oe,yJ[R][ne][Y][de])?W(oe,8):gJ[R][ne][Y][de],ce.Wc[R][ne].Yb[Y][de]=be;for(ne=0;17>ne;++ne)ce.Xc[R][ne]=ce.Wc[R][xJ[ne]]}return w.kc=ue(oe),w.kc&&(w.Bd=W(oe,8)),w.cb=1}function Lu(w,C,R,Y,ne,oe,ce){var de=C[ne].Yb[R];for(R=0;16>ne;++ne){if(!ie(w,de[R+0]))return ne;for(;!ie(w,de[R+1]);)if(de=C[++ne].Yb[0],R=0,ne==16)return 16;var pe=C[ne+1].Yb;if(ie(w,de[R+2])){var be=w,Oe=0;if(ie(be,(Ze=de)[(Je=R)+3]))if(ie(be,Ze[Je+6])){for(de=0,Je=2*(Oe=ie(be,Ze[Je+8]))+(Ze=ie(be,Ze[Je+9+Oe])),Oe=0,Ze=pJ[Je];Ze[de];++de)Oe+=Oe+ie(be,Ze[de]);Oe+=3+(8<<Je)}else ie(be,Ze[Je+7])?(Oe=7+2*ie(be,165),Oe+=ie(be,145)):Oe=5+ie(be,159);else Oe=ie(be,Ze[Je+4])?3+ie(be,Ze[Je+5]):2;de=pe[2]}else Oe=1,de=pe[1];pe=ce+mJ[ne],0>(be=w).b&&ae(be);var Je,Ze=be.b,Ve=(Je=be.Ca>>1)-(be.I>>Ze)>>31;--be.b,be.Ca+=Ve,be.Ca|=1,be.I-=(Je+1&Ve)<<Ze,oe[pe]=((Oe^Ve)-Ve)*Y[(0<ne)+0]}return 16}function Cc(w){var C=w.rb[w.sb-1];C.la=0,C.Na=0,a(w.zc,0,0,w.zc.length),w.ja=0}function Pc(w,C){if(w==null)return 0;if(C==null)return Ln(w,2,"NULL VP8Io parameter in VP8Decode().");if(!w.cb&&!kc(w,C))return 0;if(t(w.cb),C.ac==null||C.ac(C)){C.ob&&(w.L=0);var R=Sx[w.L];if(w.L==2?(w.yb=0,w.zb=0):(w.yb=C.v-R>>4,w.zb=C.j-R>>4,0>w.yb&&(w.yb=0),0>w.zb&&(w.zb=0)),w.Va=C.o+15+R>>4,w.Hb=C.va+15+R>>4,w.Hb>w.za&&(w.Hb=w.za),w.Va>w.Ub&&(w.Va=w.Ub),0<w.L){var Y=w.ed;for(R=0;4>R;++R){var ne;if(w.Qa.Cb){var oe=w.Qa.Lb[R];w.Qa.Fb||(oe+=Y.Tb)}else oe=Y.Tb;for(ne=0;1>=ne;++ne){var ce=w.gd[R][ne],de=oe;if(Y.Pc&&(de+=Y.vd[0],ne&&(de+=Y.od[0])),0<(de=0>de?0:63<de?63:de)){var pe=de;0<Y.wb&&(pe=4<Y.wb?pe>>2:pe>>1)>9-Y.wb&&(pe=9-Y.wb),1>pe&&(pe=1),ce.dd=pe,ce.tc=2*de+pe,ce.ld=40<=de?2:15<=de?1:0}else ce.tc=0;ce.La=ne}}}R=0}else Ln(w,6,"Frame setup failed"),R=w.a;if(R=R==0){if(R){w.$c=0,0<w.Aa||(w.Ic=OJ);e:{R=w.Ic,Y=4*(pe=w.za);var be=32*pe,Oe=pe+1,Je=0<w.L?pe*(0<w.Aa?2:1):0,Ze=(w.Aa==2?2:1)*pe;if((ce=Y+832+(ne=3*(16*R+Sx[w.L])/2*be)+(oe=w.Fa!=null&&0<w.Fa.length?w.Kc.c*w.Kc.i:0))!=ce)R=0;else{if(ce>w.Vb){if(w.Vb=0,w.Ec=i(ce),w.Fc=0,w.Ec==null){R=Ln(w,1,"no memory during frame initialization.");break e}w.Vb=ce}ce=w.Ec,de=w.Fc,w.Ac=ce,w.Bc=de,de+=Y,w.Gd=s(be,cs),w.Hd=0,w.rb=s(Oe+1,Xr),w.sb=1,w.wa=Je?s(Je,Yr):null,w.Y=0,w.D.Nb=0,w.D.wa=w.wa,w.D.Y=w.Y,0<w.Aa&&(w.D.Y+=pe),t(!0),w.oc=ce,w.pc=de,de+=832,w.ya=s(Ze,gi),w.aa=0,w.D.ya=w.ya,w.D.aa=w.aa,w.Aa==2&&(w.D.aa+=pe),w.R=16*pe,w.B=8*pe,pe=(be=Sx[w.L])*w.R,be=be/2*w.B,w.sa=ce,w.ta=de+pe,w.qa=w.sa,w.ra=w.ta+16*R*w.R+be,w.Ha=w.qa,w.Ia=w.ra+8*R*w.B+be,w.$c=0,de+=ne,w.mb=oe?ce:null,w.nb=oe?de:null,t(de+oe<=w.Fc+w.Vb),Cc(w),a(w.Ac,w.Bc,0,Y),R=1}}if(R){if(C.ka=0,C.y=w.sa,C.O=w.ta,C.f=w.qa,C.N=w.ra,C.ea=w.Ha,C.Vd=w.Ia,C.fa=w.R,C.Rc=w.B,C.F=null,C.J=0,!px){for(R=-255;255>=R;++R)Wa[255+R]=0>R?-R:R;for(R=-1020;1020>=R;++R)Fc[1020+R]=-128>R?-128:127<R?127:R;for(R=-112;112>=R;++R)ag[112+R]=-16>R?-16:15<R?15:R;for(R=-255;510>=R;++R)h0[255+R]=0>R?0:255<R?255:R;px=1}u0=er,Rc=gt,tg=dt,ds=wt,_o=Gt,wa=Ht,f0=Bu,hx=sl,rg=Vu,Od=Pd,Id=Uu,Xu=Oc,Dd=zu,d0=Gl,Ld=jc,Qu=Js,ng=qa,So=n0,cl[0]=bo,cl[1]=fr,cl[2]=Wl,cl[3]=Xm,cl[4]=t0,cl[5]=Mu,cl[6]=Xs,cl[7]=Ad,cl[8]=Fu,cl[9]=Ru,Ju[0]=En,Ju[1]=fn,Ju[2]=Tn,Ju[3]=Hr,Ju[4]=_r,Ju[5]=Ys,Ju[6]=nl,$c[0]=il,$c[1]=jr,$c[2]=r0,$c[3]=al,$c[4]=_n,$c[5]=Td,$c[6]=Ed,R=1}else R=0}R&&(R=function(Ve,Tt){for(Ve.M=0;Ve.M<Ve.Va;++Ve.M){var ot,Ie=Ve.Jc[Ve.M&Ve.Xb],Fe=Ve.m,yt=Ve;for(ot=0;ot<yt.za;++ot){var kt=Fe,St=yt,Zt=St.Ac,zt=St.Bc+4*ot,gr=St.zc,Kt=St.ya[St.aa+ot];if(St.Qa.Bb?Kt.$b=ie(kt,St.Pa.jb[0])?2+ie(kt,St.Pa.jb[2]):ie(kt,St.Pa.jb[1]):Kt.$b=0,St.kc&&(Kt.Ad=ie(kt,St.Bd)),Kt.Za=!ie(kt,145)+0,Kt.Za){var xn=Kt.Ob,Nn=0;for(St=0;4>St;++St){var dn,Jr=gr[0+St];for(dn=0;4>dn;++dn){Jr=vJ[Zt[zt+dn]][Jr];for(var Fn=Aj[ie(kt,Jr[0])];0<Fn;)Fn=Aj[2*Fn+ie(kt,Jr[Fn])];Jr=-Fn,Zt[zt+dn]=Jr}n(xn,Nn,Zt,zt,4),Nn+=4,gr[0+St]=Jr}}else Jr=ie(kt,156)?ie(kt,128)?1:3:ie(kt,163)?2:0,Kt.Ob[0]=Jr,a(Zt,zt,Jr,4),a(gr,0,Jr,4);Kt.Dd=ie(kt,142)?ie(kt,114)?ie(kt,183)?1:3:2:0}if(yt.m.Ka)return Ln(Ve,7,"Premature end-of-partition0 encountered.");for(;Ve.ja<Ve.za;++Ve.ja){if(yt=Ie,kt=(Fe=Ve).rb[Fe.sb-1],Zt=Fe.rb[Fe.sb+Fe.ja],ot=Fe.ya[Fe.aa+Fe.ja],zt=Fe.kc?ot.Ad:0)kt.la=Zt.la=0,ot.Za||(kt.Na=Zt.Na=0),ot.Hc=0,ot.Gc=0,ot.ia=0;else{var On,$r;if(kt=Zt,Zt=yt,zt=Fe.Pa.Xc,gr=Fe.ya[Fe.aa+Fe.ja],Kt=Fe.pb[gr.$b],St=gr.ad,xn=0,Nn=Fe.rb[Fe.sb-1],Jr=dn=0,a(St,xn,0,384),gr.Za)var Pa=0,Os=zt[3];else{Fn=i(16);var ja=kt.Na+Nn.Na;if(ja=ig(Zt,zt[1],ja,Kt.Eb,0,Fn,0),kt.Na=Nn.Na=(0<ja)+0,1<ja)u0(Fn,0,St,xn);else{var Is=Fn[0]+3>>3;for(Fn=0;256>Fn;Fn+=16)St[xn+Fn]=Is}Pa=1,Os=zt[0]}var kn=15&kt.la,eo=15&Nn.la;for(Fn=0;4>Fn;++Fn){var to=1&eo;for(Is=$r=0;4>Is;++Is)kn=kn>>1|(to=(ja=ig(Zt,Os,ja=to+(1&kn),Kt.Sc,Pa,St,xn))>Pa)<<7,$r=$r<<2|(3<ja?3:1<ja?2:St[xn+0]!=0),xn+=16;kn>>=4,eo=eo>>1|to<<7,dn=(dn<<8|$r)>>>0}for(Os=kn,Pa=eo>>4,On=0;4>On;On+=2){for($r=0,kn=kt.la>>4+On,eo=Nn.la>>4+On,Fn=0;2>Fn;++Fn){for(to=1&eo,Is=0;2>Is;++Is)ja=to+(1&kn),kn=kn>>1|(to=0<(ja=ig(Zt,zt[2],ja,Kt.Qc,0,St,xn)))<<3,$r=$r<<2|(3<ja?3:1<ja?2:St[xn+0]!=0),xn+=16;kn>>=2,eo=eo>>1|to<<5}Jr|=$r<<4*On,Os|=kn<<4<<On,Pa|=(240&eo)<<On}kt.la=Os,Nn.la=Pa,gr.Hc=dn,gr.Gc=Jr,gr.ia=43690&Jr?0:Kt.ia,zt=!(dn|Jr)}if(0<Fe.L&&(Fe.wa[Fe.Y+Fe.ja]=Fe.gd[ot.$b][ot.Za],Fe.wa[Fe.Y+Fe.ja].La|=!zt),yt.Ka)return Ln(Ve,7,"Premature end-of-file encountered.")}if(Cc(Ve),Fe=Tt,yt=1,ot=(Ie=Ve).D,kt=0<Ie.L&&Ie.M>=Ie.zb&&Ie.M<=Ie.Va,Ie.Aa==0)e:{if(ot.M=Ie.M,ot.uc=kt,Yl(Ie,ot),yt=1,ot=($r=Ie.D).Nb,kt=(Jr=Sx[Ie.L])*Ie.R,Zt=Jr/2*Ie.B,Fn=16*ot*Ie.R,Is=8*ot*Ie.B,zt=Ie.sa,gr=Ie.ta-kt+Fn,Kt=Ie.qa,St=Ie.ra-Zt+Is,xn=Ie.Ha,Nn=Ie.Ia-Zt+Is,eo=(kn=$r.M)==0,dn=kn>=Ie.Va-1,Ie.Aa==2&&Yl(Ie,$r),$r.uc)for(to=(ja=Ie).D.M,t(ja.D.uc),$r=ja.yb;$r<ja.Hb;++$r){Pa=$r,Os=to;var ni=(bi=(da=ja).D).Nb;On=da.R;var bi=bi.wa[bi.Y+Pa],hs=da.sa,No=da.ta+16*ni*On+16*Pa,Ql=bi.dd,ai=bi.tc;if(ai!=0)if(t(3<=ai),da.L==1)0<Pa&&Qu(hs,No,On,ai+4),bi.La&&So(hs,No,On,ai),0<Os&&Ld(hs,No,On,ai+4),bi.La&&ng(hs,No,On,ai);else{var Bc=da.B,Md=da.qa,p0=da.ra+8*ni*Bc+8*Pa,ef=da.Ha,da=da.Ia+8*ni*Bc+8*Pa;ni=bi.ld,0<Pa&&(hx(hs,No,On,ai+4,Ql,ni),Od(Md,p0,ef,da,Bc,ai+4,Ql,ni)),bi.La&&(Xu(hs,No,On,ai,Ql,ni),d0(Md,p0,ef,da,Bc,ai,Ql,ni)),0<Os&&(f0(hs,No,On,ai+4,Ql,ni),rg(Md,p0,ef,da,Bc,ai+4,Ql,ni)),bi.La&&(Id(hs,No,On,ai,Ql,ni),Dd(Md,p0,ef,da,Bc,ai,Ql,ni))}}if(Ie.ia&&alert("todo:DitherRow"),Fe.put!=null){if($r=16*kn,kn=16*(kn+1),eo?(Fe.y=Ie.sa,Fe.O=Ie.ta+Fn,Fe.f=Ie.qa,Fe.N=Ie.ra+Is,Fe.ea=Ie.Ha,Fe.W=Ie.Ia+Is):($r-=Jr,Fe.y=zt,Fe.O=gr,Fe.f=Kt,Fe.N=St,Fe.ea=xn,Fe.W=Nn),dn||(kn-=Jr),kn>Fe.o&&(kn=Fe.o),Fe.F=null,Fe.J=null,Ie.Fa!=null&&0<Ie.Fa.length&&$r<kn&&(Fe.J=Gu(Ie,Fe,$r,kn-$r),Fe.F=Ie.mb,Fe.F==null&&Fe.F.length==0)){yt=Ln(Ie,3,"Could not decode alpha data.");break e}$r<Fe.j&&(Jr=Fe.j-$r,$r=Fe.j,t(!(1&Jr)),Fe.O+=Ie.R*Jr,Fe.N+=Ie.B*(Jr>>1),Fe.W+=Ie.B*(Jr>>1),Fe.F!=null&&(Fe.J+=Fe.width*Jr)),$r<kn&&(Fe.O+=Fe.v,Fe.N+=Fe.v>>1,Fe.W+=Fe.v>>1,Fe.F!=null&&(Fe.J+=Fe.v),Fe.ka=$r-Fe.j,Fe.U=Fe.va-Fe.v,Fe.T=kn-$r,yt=Fe.put(Fe))}ot+1!=Ie.Ic||dn||(n(Ie.sa,Ie.ta-kt,zt,gr+16*Ie.R,kt),n(Ie.qa,Ie.ra-Zt,Kt,St+8*Ie.B,Zt),n(Ie.Ha,Ie.Ia-Zt,xn,Nn+8*Ie.B,Zt))}if(!yt)return Ln(Ve,6,"Output aborted.")}return 1}(w,C)),C.bc!=null&&C.bc(C),R&=1}return R?(w.cb=0,R):0}function Li(w,C,R,Y,ne){ne=w[C+R+32*Y]+(ne>>3),w[C+R+32*Y]=-256&ne?0>ne?0:255:ne}function se(w,C,R,Y,ne,oe){Li(w,C,0,R,Y+ne),Li(w,C,1,R,Y+oe),Li(w,C,2,R,Y-oe),Li(w,C,3,R,Y-ne)}function Ae(w){return(20091*w>>16)+w}function mt(w,C,R,Y){var ne,oe=0,ce=i(16);for(ne=0;4>ne;++ne){var de=w[C+0]+w[C+8],pe=w[C+0]-w[C+8],be=(35468*w[C+4]>>16)-Ae(w[C+12]),Oe=Ae(w[C+4])+(35468*w[C+12]>>16);ce[oe+0]=de+Oe,ce[oe+1]=pe+be,ce[oe+2]=pe-be,ce[oe+3]=de-Oe,oe+=4,C++}for(ne=oe=0;4>ne;++ne)de=(w=ce[oe+0]+4)+ce[oe+8],pe=w-ce[oe+8],be=(35468*ce[oe+4]>>16)-Ae(ce[oe+12]),Li(R,Y,0,0,de+(Oe=Ae(ce[oe+4])+(35468*ce[oe+12]>>16))),Li(R,Y,1,0,pe+be),Li(R,Y,2,0,pe-be),Li(R,Y,3,0,de-Oe),oe++,Y+=32}function Ht(w,C,R,Y){var ne=w[C+0]+4,oe=35468*w[C+4]>>16,ce=Ae(w[C+4]),de=35468*w[C+1]>>16;se(R,Y,0,ne+ce,w=Ae(w[C+1]),de),se(R,Y,1,ne+oe,w,de),se(R,Y,2,ne-oe,w,de),se(R,Y,3,ne-ce,w,de)}function gt(w,C,R,Y,ne){mt(w,C,R,Y),ne&&mt(w,C+16,R,Y+4)}function dt(w,C,R,Y){Rc(w,C+0,R,Y,1),Rc(w,C+32,R,Y+128,1)}function wt(w,C,R,Y){var ne;for(w=w[C+0]+4,ne=0;4>ne;++ne)for(C=0;4>C;++C)Li(R,Y,C,ne,w)}function Gt(w,C,R,Y){w[C+0]&&ds(w,C+0,R,Y),w[C+16]&&ds(w,C+16,R,Y+4),w[C+32]&&ds(w,C+32,R,Y+128),w[C+48]&&ds(w,C+48,R,Y+128+4)}function er(w,C,R,Y){var ne,oe=i(16);for(ne=0;4>ne;++ne){var ce=w[C+0+ne]+w[C+12+ne],de=w[C+4+ne]+w[C+8+ne],pe=w[C+4+ne]-w[C+8+ne],be=w[C+0+ne]-w[C+12+ne];oe[0+ne]=ce+de,oe[8+ne]=ce-de,oe[4+ne]=be+pe,oe[12+ne]=be-pe}for(ne=0;4>ne;++ne)ce=(w=oe[0+4*ne]+3)+oe[3+4*ne],de=oe[1+4*ne]+oe[2+4*ne],pe=oe[1+4*ne]-oe[2+4*ne],be=w-oe[3+4*ne],R[Y+0]=ce+de>>3,R[Y+16]=be+pe>>3,R[Y+32]=ce-de>>3,R[Y+48]=be-pe>>3,Y+=64}function Qt(w,C,R){var Y,ne=C-32,oe=Zs,ce=255-w[ne-1];for(Y=0;Y<R;++Y){var de,pe=oe,be=ce+w[C-1];for(de=0;de<R;++de)w[C+de]=pe[be+w[ne+de]];C+=32}}function fr(w,C){Qt(w,C,4)}function jr(w,C){Qt(w,C,8)}function fn(w,C){Qt(w,C,16)}function Tn(w,C){var R;for(R=0;16>R;++R)n(w,C+32*R,w,C-32,16)}function Hr(w,C){var R;for(R=16;0<R;--R)a(w,C,w[C-1],16),C+=32}function Mn(w,C,R){var Y;for(Y=0;16>Y;++Y)a(C,R+32*Y,w,16)}function En(w,C){var R,Y=16;for(R=0;16>R;++R)Y+=w[C-1+32*R]+w[C+R-32];Mn(Y>>5,w,C)}function _r(w,C){var R,Y=8;for(R=0;16>R;++R)Y+=w[C-1+32*R];Mn(Y>>4,w,C)}function Ys(w,C){var R,Y=8;for(R=0;16>R;++R)Y+=w[C+R-32];Mn(Y>>4,w,C)}function nl(w,C){Mn(128,w,C)}function yr(w,C,R){return w+2*C+R+2>>2}function Wl(w,C){var R,Y=C-32;for(Y=new Uint8Array([yr(w[Y-1],w[Y+0],w[Y+1]),yr(w[Y+0],w[Y+1],w[Y+2]),yr(w[Y+1],w[Y+2],w[Y+3]),yr(w[Y+2],w[Y+3],w[Y+4])]),R=0;4>R;++R)n(w,C+32*R,Y,0,Y.length)}function Xm(w,C){var R=w[C-1],Y=w[C-1+32],ne=w[C-1+64],oe=w[C-1+96];ge(w,C+0,16843009*yr(w[C-1-32],R,Y)),ge(w,C+32,16843009*yr(R,Y,ne)),ge(w,C+64,16843009*yr(Y,ne,oe)),ge(w,C+96,16843009*yr(ne,oe,oe))}function bo(w,C){var R,Y=4;for(R=0;4>R;++R)Y+=w[C+R-32]+w[C-1+32*R];for(Y>>=3,R=0;4>R;++R)a(w,C+32*R,Y,4)}function t0(w,C){var R=w[C-1+0],Y=w[C-1+32],ne=w[C-1+64],oe=w[C-1-32],ce=w[C+0-32],de=w[C+1-32],pe=w[C+2-32],be=w[C+3-32];w[C+0+96]=yr(Y,ne,w[C-1+96]),w[C+1+96]=w[C+0+64]=yr(R,Y,ne),w[C+2+96]=w[C+1+64]=w[C+0+32]=yr(oe,R,Y),w[C+3+96]=w[C+2+64]=w[C+1+32]=w[C+0+0]=yr(ce,oe,R),w[C+3+64]=w[C+2+32]=w[C+1+0]=yr(de,ce,oe),w[C+3+32]=w[C+2+0]=yr(pe,de,ce),w[C+3+0]=yr(be,pe,de)}function Xs(w,C){var R=w[C+1-32],Y=w[C+2-32],ne=w[C+3-32],oe=w[C+4-32],ce=w[C+5-32],de=w[C+6-32],pe=w[C+7-32];w[C+0+0]=yr(w[C+0-32],R,Y),w[C+1+0]=w[C+0+32]=yr(R,Y,ne),w[C+2+0]=w[C+1+32]=w[C+0+64]=yr(Y,ne,oe),w[C+3+0]=w[C+2+32]=w[C+1+64]=w[C+0+96]=yr(ne,oe,ce),w[C+3+32]=w[C+2+64]=w[C+1+96]=yr(oe,ce,de),w[C+3+64]=w[C+2+96]=yr(ce,de,pe),w[C+3+96]=yr(de,pe,pe)}function Mu(w,C){var R=w[C-1+0],Y=w[C-1+32],ne=w[C-1+64],oe=w[C-1-32],ce=w[C+0-32],de=w[C+1-32],pe=w[C+2-32],be=w[C+3-32];w[C+0+0]=w[C+1+64]=oe+ce+1>>1,w[C+1+0]=w[C+2+64]=ce+de+1>>1,w[C+2+0]=w[C+3+64]=de+pe+1>>1,w[C+3+0]=pe+be+1>>1,w[C+0+96]=yr(ne,Y,R),w[C+0+64]=yr(Y,R,oe),w[C+0+32]=w[C+1+96]=yr(R,oe,ce),w[C+1+32]=w[C+2+96]=yr(oe,ce,de),w[C+2+32]=w[C+3+96]=yr(ce,de,pe),w[C+3+32]=yr(de,pe,be)}function Ad(w,C){var R=w[C+0-32],Y=w[C+1-32],ne=w[C+2-32],oe=w[C+3-32],ce=w[C+4-32],de=w[C+5-32],pe=w[C+6-32],be=w[C+7-32];w[C+0+0]=R+Y+1>>1,w[C+1+0]=w[C+0+64]=Y+ne+1>>1,w[C+2+0]=w[C+1+64]=ne+oe+1>>1,w[C+3+0]=w[C+2+64]=oe+ce+1>>1,w[C+0+32]=yr(R,Y,ne),w[C+1+32]=w[C+0+96]=yr(Y,ne,oe),w[C+2+32]=w[C+1+96]=yr(ne,oe,ce),w[C+3+32]=w[C+2+96]=yr(oe,ce,de),w[C+3+64]=yr(ce,de,pe),w[C+3+96]=yr(de,pe,be)}function Ru(w,C){var R=w[C-1+0],Y=w[C-1+32],ne=w[C-1+64],oe=w[C-1+96];w[C+0+0]=R+Y+1>>1,w[C+2+0]=w[C+0+32]=Y+ne+1>>1,w[C+2+32]=w[C+0+64]=ne+oe+1>>1,w[C+1+0]=yr(R,Y,ne),w[C+3+0]=w[C+1+32]=yr(Y,ne,oe),w[C+3+32]=w[C+1+64]=yr(ne,oe,oe),w[C+3+64]=w[C+2+64]=w[C+0+96]=w[C+1+96]=w[C+2+96]=w[C+3+96]=oe}function Fu(w,C){var R=w[C-1+0],Y=w[C-1+32],ne=w[C-1+64],oe=w[C-1+96],ce=w[C-1-32],de=w[C+0-32],pe=w[C+1-32],be=w[C+2-32];w[C+0+0]=w[C+2+32]=R+ce+1>>1,w[C+0+32]=w[C+2+64]=Y+R+1>>1,w[C+0+64]=w[C+2+96]=ne+Y+1>>1,w[C+0+96]=oe+ne+1>>1,w[C+3+0]=yr(de,pe,be),w[C+2+0]=yr(ce,de,pe),w[C+1+0]=w[C+3+32]=yr(R,ce,de),w[C+1+32]=w[C+3+64]=yr(Y,R,ce),w[C+1+64]=w[C+3+96]=yr(ne,Y,R),w[C+1+96]=yr(oe,ne,Y)}function r0(w,C){var R;for(R=0;8>R;++R)n(w,C+32*R,w,C-32,8)}function al(w,C){var R;for(R=0;8>R;++R)a(w,C,w[C-1],8),C+=32}function Qs(w,C,R){var Y;for(Y=0;8>Y;++Y)a(C,R+32*Y,w,8)}function il(w,C){var R,Y=8;for(R=0;8>R;++R)Y+=w[C+R-32]+w[C-1+32*R];Qs(Y>>4,w,C)}function Td(w,C){var R,Y=4;for(R=0;8>R;++R)Y+=w[C+R-32];Qs(Y>>3,w,C)}function _n(w,C){var R,Y=4;for(R=0;8>R;++R)Y+=w[C-1+32*R];Qs(Y>>3,w,C)}function Ed(w,C){Qs(128,w,C)}function $u(w,C,R){var Y=w[C-R],ne=w[C+0],oe=3*(ne-Y)+IS[1020+w[C-2*R]-w[C+R]],ce=mx[112+(oe+4>>3)];w[C-R]=Zs[255+Y+mx[112+(oe+3>>3)]],w[C+0]=Zs[255+ne-ce]}function Nd(w,C,R,Y){var ne=w[C+0],oe=w[C+R];return To[255+w[C-2*R]-w[C-R]]>Y||To[255+oe-ne]>Y}function kd(w,C,R,Y){return 4*To[255+w[C-R]-w[C+0]]+To[255+w[C-2*R]-w[C+R]]<=Y}function Cd(w,C,R,Y,ne){var oe=w[C-3*R],ce=w[C-2*R],de=w[C-R],pe=w[C+0],be=w[C+R],Oe=w[C+2*R],Je=w[C+3*R];return 4*To[255+de-pe]+To[255+ce-be]>Y?0:To[255+w[C-4*R]-oe]<=ne&&To[255+oe-ce]<=ne&&To[255+ce-de]<=ne&&To[255+Je-Oe]<=ne&&To[255+Oe-be]<=ne&&To[255+be-pe]<=ne}function jc(w,C,R,Y){var ne=2*Y+1;for(Y=0;16>Y;++Y)kd(w,C+Y,R,ne)&&$u(w,C+Y,R)}function Js(w,C,R,Y){var ne=2*Y+1;for(Y=0;16>Y;++Y)kd(w,C+Y*R,1,ne)&&$u(w,C+Y*R,1)}function qa(w,C,R,Y){var ne;for(ne=3;0<ne;--ne)jc(w,C+=4*R,R,Y)}function n0(w,C,R,Y){var ne;for(ne=3;0<ne;--ne)Js(w,C+=4,R,Y)}function Hl(w,C,R,Y,ne,oe,ce,de){for(oe=2*oe+1;0<ne--;){if(Cd(w,C,R,oe,ce))if(Nd(w,C,R,de))$u(w,C,R);else{var pe=w,be=C,Oe=R,Je=pe[be-2*Oe],Ze=pe[be-Oe],Ve=pe[be+0],Tt=pe[be+Oe],ot=pe[be+2*Oe],Ie=27*(yt=IS[1020+3*(Ve-Ze)+IS[1020+Je-Tt]])+63>>7,Fe=18*yt+63>>7,yt=9*yt+63>>7;pe[be-3*Oe]=Zs[255+pe[be-3*Oe]+yt],pe[be-2*Oe]=Zs[255+Je+Fe],pe[be-Oe]=Zs[255+Ze+Ie],pe[be+0]=Zs[255+Ve-Ie],pe[be+Oe]=Zs[255+Tt-Fe],pe[be+2*Oe]=Zs[255+ot-yt]}C+=Y}}function vi(w,C,R,Y,ne,oe,ce,de){for(oe=2*oe+1;0<ne--;){if(Cd(w,C,R,oe,ce))if(Nd(w,C,R,de))$u(w,C,R);else{var pe=w,be=C,Oe=R,Je=pe[be-Oe],Ze=pe[be+0],Ve=pe[be+Oe],Tt=mx[112+((ot=3*(Ze-Je))+4>>3)],ot=mx[112+(ot+3>>3)],Ie=Tt+1>>1;pe[be-2*Oe]=Zs[255+pe[be-2*Oe]+Ie],pe[be-Oe]=Zs[255+Je+ot],pe[be+0]=Zs[255+Ze-Tt],pe[be+Oe]=Zs[255+Ve-Ie]}C+=Y}}function Bu(w,C,R,Y,ne,oe){Hl(w,C,R,1,16,Y,ne,oe)}function sl(w,C,R,Y,ne,oe){Hl(w,C,1,R,16,Y,ne,oe)}function Uu(w,C,R,Y,ne,oe){var ce;for(ce=3;0<ce;--ce)vi(w,C+=4*R,R,1,16,Y,ne,oe)}function Oc(w,C,R,Y,ne,oe){var ce;for(ce=3;0<ce;--ce)vi(w,C+=4,1,R,16,Y,ne,oe)}function Vu(w,C,R,Y,ne,oe,ce,de){Hl(w,C,ne,1,8,oe,ce,de),Hl(R,Y,ne,1,8,oe,ce,de)}function Pd(w,C,R,Y,ne,oe,ce,de){Hl(w,C,1,ne,8,oe,ce,de),Hl(R,Y,1,ne,8,oe,ce,de)}function zu(w,C,R,Y,ne,oe,ce,de){vi(w,C+4*ne,ne,1,8,oe,ce,de),vi(R,Y+4*ne,ne,1,8,oe,ce,de)}function Gl(w,C,R,Y,ne,oe,ce,de){vi(w,C+4,1,ne,8,oe,ce,de),vi(R,Y+4,1,ne,8,oe,ce,de)}function Ic(){this.ba=new Rt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ct,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function qu(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Dc(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Wu(){this.ua=0,this.Wa=new le,this.vb=new le,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new V,this.yc=new N}function a0(){this.xb=this.a=0,this.l=new us,this.ca=new Rt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new I,this.Pb=0,this.wd=new I,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Wu,this.ab=0,this.gc=s(4,Dc),this.Oc=0}function ol(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new us,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Kl(w,C,R,Y,ne,oe,ce){for(w=w==null?0:w[C+0],C=0;C<ce;++C)ne[oe+C]=w+R[Y+C]&255,w=ne[oe+C]}function Hu(w,C,R,Y,ne,oe,ce){var de;if(w==null)Kl(null,null,R,Y,ne,oe,ce);else for(de=0;de<ce;++de)ne[oe+de]=w[C+de]+R[Y+de]&255}function Mi(w,C,R,Y,ne,oe,ce){if(w==null)Kl(null,null,R,Y,ne,oe,ce);else{var de,pe=w[C+0],be=pe,Oe=pe;for(de=0;de<ce;++de)be=Oe+(pe=w[C+de])-be,Oe=R[Y+de]+(-256&be?0>be?0:255:be)&255,be=pe,ne[oe+de]=Oe}}function Gu(w,C,R,Y){var ne=C.width,oe=C.o;if(t(w!=null&&C!=null),0>R||0>=Y||R+Y>oe)return null;if(!w.Cc){if(w.ga==null){var ce;if(w.ga=new ol,(ce=w.ga==null)||(ce=C.width*C.o,t(w.Gb.length==0),w.Gb=i(ce),w.Uc=0,w.Gb==null?ce=0:(w.mb=w.Gb,w.nb=w.Uc,w.rc=null,ce=1),ce=!ce),!ce){ce=w.ga;var de=w.Fa,pe=w.P,be=w.qc,Oe=w.mb,Je=w.nb,Ze=pe+1,Ve=be-1,Tt=ce.l;if(t(de!=null&&Oe!=null&&C!=null),Zu[0]=null,Zu[1]=Kl,Zu[2]=Hu,Zu[3]=Mi,ce.ca=Oe,ce.tb=Je,ce.c=C.width,ce.i=C.height,t(0<ce.c&&0<ce.i),1>=be)C=0;else if(ce.$a=de[pe+0]>>0&3,ce.Z=de[pe+0]>>2&3,ce.Lc=de[pe+0]>>4&3,pe=de[pe+0]>>6&3,0>ce.$a||1<ce.$a||4<=ce.Z||1<ce.Lc||pe)C=0;else if(Tt.put=Er,Tt.ac=wr,Tt.bc=an,Tt.ma=ce,Tt.width=C.width,Tt.height=C.height,Tt.Da=C.Da,Tt.v=C.v,Tt.va=C.va,Tt.j=C.j,Tt.o=C.o,ce.$a)e:{t(ce.$a==1),C=nt();t:for(;;){if(C==null){C=0;break e}if(t(ce!=null),ce.mc=C,C.c=ce.c,C.i=ce.i,C.l=ce.l,C.l.ma=ce,C.l.width=ce.c,C.l.height=ce.i,C.a=0,q(C.m,de,Ze,Ve),!Ge(ce.c,ce.i,1,C,null)||(C.ab==1&&C.gc[0].hc==3&&he(C.s)?(ce.ic=1,de=C.c*C.i,C.Ta=null,C.Ua=0,C.V=i(de),C.Ba=0,C.V==null?(C.a=1,C=0):C=1):(ce.ic=0,C=Ye(C,ce.c)),!C))break t;C=1;break e}ce.mc=null,C=0}else C=Ve>=ce.c*ce.i;ce=!C}if(ce)return null;w.ga.Lc!=1?w.Ga=0:Y=oe-R}t(w.ga!=null),t(R+Y<=oe);e:{if(C=(de=w.ga).c,oe=de.l.o,de.$a==0){if(Ze=w.rc,Ve=w.Vc,Tt=w.Fa,pe=w.P+1+R*C,be=w.mb,Oe=w.nb+R*C,t(pe<=w.P+w.qc),de.Z!=0)for(t(Zu[de.Z]!=null),ce=0;ce<Y;++ce)Zu[de.Z](Ze,Ve,Tt,pe,be,Oe,C),Ze=be,Ve=Oe,Oe+=C,pe+=C;else for(ce=0;ce<Y;++ce)n(be,Oe,Tt,pe,C),Ze=be,Ve=Oe,Oe+=C,pe+=C;w.rc=Ze,w.Vc=Ve}else{if(t(de.mc!=null),C=R+Y,t((ce=de.mc)!=null),t(C<=ce.i),ce.C>=C)C=1;else if(de.ic||Ue(),de.ic){de=ce.V,Ze=ce.Ba,Ve=ce.c;var ot=ce.i,Ie=(Tt=1,pe=ce.$/Ve,be=ce.$%Ve,Oe=ce.m,Je=ce.s,ce.$),Fe=Ve*ot,yt=Ve*C,kt=Je.wc,St=Ie<yt?ut(Je,be,pe):null;t(Ie<=Fe),t(C<=ot),t(he(Je));t:for(;;){for(;!Oe.h&&Ie<yt;){if(be&kt||(St=ut(Je,be,pe)),t(St!=null),X(Oe),256>(ot=Ne(St.G[0],St.H[0],Oe)))de[Ze+Ie]=ot,++Ie,++be>=Ve&&(be=0,++pe<=C&&!(pe%16)&&xe(ce,pe));else{if(!(280>ot)){Tt=0;break t}ot=sa(ot-256,Oe);var Zt,zt=Ne(St.G[4],St.H[4],Oe);if(X(Oe),!(Ie>=(zt=Un(Ve,zt=sa(zt,Oe)))&&Fe-Ie>=ot)){Tt=0;break t}for(Zt=0;Zt<ot;++Zt)de[Ze+Ie+Zt]=de[Ze+Ie+Zt-zt];for(Ie+=ot,be+=ot;be>=Ve;)be-=Ve,++pe<=C&&!(pe%16)&&xe(ce,pe);Ie<yt&&be&kt&&(St=ut(Je,be,pe))}t(Oe.h==z(Oe))}xe(ce,pe>C?C:pe);break t}!Tt||Oe.h&&Ie<Fe?(Tt=0,ce.a=Oe.h?5:3):ce.$=Ie,C=Tt}else C=we(ce,ce.V,ce.Ba,ce.c,ce.i,C,Qe);if(!C){Y=0;break e}}R+Y>=oe&&(w.Cc=1),Y=1}if(!Y)return null;if(w.Cc&&((Y=w.ga)!=null&&(Y.mc=null),w.ga=null,0<w.Ga))return alert("todo:WebPDequantizeLevels"),null}return w.nb+R*ne}function L(w,C,R,Y,ne,oe){for(;0<ne--;){var ce,de=w,pe=C+(R?1:0),be=w,Oe=C+(R?0:3);for(ce=0;ce<Y;++ce){var Je=be[Oe+4*ce];Je!=255&&(Je*=32897,de[pe+4*ce+0]=de[pe+4*ce+0]*Je>>23,de[pe+4*ce+1]=de[pe+4*ce+1]*Je>>23,de[pe+4*ce+2]=de[pe+4*ce+2]*Je>>23)}C+=oe}}function re(w,C,R,Y,ne){for(;0<Y--;){var oe;for(oe=0;oe<R;++oe){var ce=w[C+2*oe+0],de=15&(be=w[C+2*oe+1]),pe=4369*de,be=(240&be|be>>4)*pe>>16;w[C+2*oe+0]=(240&ce|ce>>4)*pe>>16&240|(15&ce|ce<<4)*pe>>16>>4&15,w[C+2*oe+1]=240&be|de}C+=ne}}function Se(w,C,R,Y,ne,oe,ce,de){var pe,be,Oe=255;for(be=0;be<ne;++be){for(pe=0;pe<Y;++pe){var Je=w[C+pe];oe[ce+4*pe]=Je,Oe&=Je}C+=R,ce+=de}return Oe!=255}function Pe(w,C,R,Y,ne){var oe;for(oe=0;oe<ne;++oe)R[Y+oe]=w[C+oe]>>8}function Ue(){Ao=L,Vn=re,zn=Se,_a=Pe}function lt(w,C,R){S[w]=function(Y,ne,oe,ce,de,pe,be,Oe,Je,Ze,Ve,Tt,ot,Ie,Fe,yt,kt){var St,Zt=kt-1>>1,zt=de[pe+0]|be[Oe+0]<<16,gr=Je[Ze+0]|Ve[Tt+0]<<16;t(Y!=null);var Kt=3*zt+gr+131074>>2;for(C(Y[ne+0],255&Kt,Kt>>16,ot,Ie),oe!=null&&(Kt=3*gr+zt+131074>>2,C(oe[ce+0],255&Kt,Kt>>16,Fe,yt)),St=1;St<=Zt;++St){var xn=de[pe+St]|be[Oe+St]<<16,Nn=Je[Ze+St]|Ve[Tt+St]<<16,dn=zt+xn+gr+Nn+524296,Jr=dn+2*(xn+gr)>>3;Kt=Jr+zt>>1,zt=(dn=dn+2*(zt+Nn)>>3)+xn>>1,C(Y[ne+2*St-1],255&Kt,Kt>>16,ot,Ie+(2*St-1)*R),C(Y[ne+2*St-0],255&zt,zt>>16,ot,Ie+(2*St-0)*R),oe!=null&&(Kt=dn+gr>>1,zt=Jr+Nn>>1,C(oe[ce+2*St-1],255&Kt,Kt>>16,Fe,yt+(2*St-1)*R),C(oe[ce+2*St+0],255&zt,zt>>16,Fe,yt+(2*St+0)*R)),zt=xn,gr=Nn}1&kt||(Kt=3*zt+gr+131074>>2,C(Y[ne+kt-1],255&Kt,Kt>>16,ot,Ie+(kt-1)*R),oe!=null&&(Kt=3*gr+zt+131074>>2,C(oe[ce+kt-1],255&Kt,Kt>>16,Fe,yt+(kt-1)*R)))}}function Pt(){Eo[gx]=wJ,Eo[vx]=Ej,Eo[wj]=_J,Eo[yx]=Nj,Eo[xx]=kj,Eo[DS]=Cj,Eo[_j]=SJ,Eo[LS]=Ej,Eo[MS]=Nj,Eo[bx]=kj,Eo[RS]=Cj}function Wt(w){return w&~AJ?0>w?0:255:w>>Pj}function A(w,C){return Wt((19077*w>>8)+(26149*C>>8)-14234)}function B(w,C,R){return Wt((19077*w>>8)-(6419*C>>8)-(13320*R>>8)+8708)}function J(w,C){return Wt((19077*w>>8)+(33050*C>>8)-17685)}function fe(w,C,R,Y,ne){Y[ne+0]=A(w,R),Y[ne+1]=B(w,C,R),Y[ne+2]=J(w,C)}function $e(w,C,R,Y,ne){Y[ne+0]=J(w,C),Y[ne+1]=B(w,C,R),Y[ne+2]=A(w,R)}function et(w,C,R,Y,ne){var oe=B(w,C,R);C=oe<<3&224|J(w,C)>>3,Y[ne+0]=248&A(w,R)|oe>>5,Y[ne+1]=C}function jt(w,C,R,Y,ne){var oe=240&J(w,C)|15;Y[ne+0]=240&A(w,R)|B(w,C,R)>>4,Y[ne+1]=oe}function Lr(w,C,R,Y,ne){Y[ne+0]=255,fe(w,C,R,Y,ne+1)}function Qr(w,C,R,Y,ne){$e(w,C,R,Y,ne),Y[ne+3]=255}function Mr(w,C,R,Y,ne){fe(w,C,R,Y,ne),Y[ne+3]=255}function Sn(w,C){return 0>w?0:w>C?C:w}function Rn(w,C,R){S[w]=function(Y,ne,oe,ce,de,pe,be,Oe,Je){for(var Ze=Oe+(-2&Je)*R;Oe!=Ze;)C(Y[ne+0],oe[ce+0],de[pe+0],be,Oe),C(Y[ne+1],oe[ce+0],de[pe+0],be,Oe+R),ne+=2,++ce,++pe,Oe+=2*R;1&Je&&C(Y[ne+0],oe[ce+0],de[pe+0],be,Oe)}}function ll(w,C,R){return R==0?w==0?C==0?6:5:C==0?4:0:R}function yi(w,C,R,Y,ne){switch(w>>>30){case 3:Rc(C,R,Y,ne,0);break;case 2:wa(C,R,Y,ne);break;case 1:ds(C,R,Y,ne)}}function Yl(w,C){var R,Y,ne=C.M,oe=C.Nb,ce=w.oc,de=w.pc+40,pe=w.oc,be=w.pc+584,Oe=w.oc,Je=w.pc+600;for(R=0;16>R;++R)ce[de+32*R-1]=129;for(R=0;8>R;++R)pe[be+32*R-1]=129,Oe[Je+32*R-1]=129;for(0<ne?ce[de-1-32]=pe[be-1-32]=Oe[Je-1-32]=129:(a(ce,de-32-1,127,21),a(pe,be-32-1,127,9),a(Oe,Je-32-1,127,9)),Y=0;Y<w.za;++Y){var Ze=C.ya[C.aa+Y];if(0<Y){for(R=-1;16>R;++R)n(ce,de+32*R-4,ce,de+32*R+12,4);for(R=-1;8>R;++R)n(pe,be+32*R-4,pe,be+32*R+4,4),n(Oe,Je+32*R-4,Oe,Je+32*R+4,4)}var Ve=w.Gd,Tt=w.Hd+Y,ot=Ze.ad,Ie=Ze.Hc;if(0<ne&&(n(ce,de-32,Ve[Tt].y,0,16),n(pe,be-32,Ve[Tt].f,0,8),n(Oe,Je-32,Ve[Tt].ea,0,8)),Ze.Za){var Fe=ce,yt=de-32+16;for(0<ne&&(Y>=w.za-1?a(Fe,yt,Ve[Tt].y[15],4):n(Fe,yt,Ve[Tt+1].y,0,4)),R=0;4>R;R++)Fe[yt+128+R]=Fe[yt+256+R]=Fe[yt+384+R]=Fe[yt+0+R];for(R=0;16>R;++R,Ie<<=2)Fe=ce,yt=de+Oj[R],cl[Ze.Ob[R]](Fe,yt),yi(Ie,ot,16*+R,Fe,yt)}else if(Fe=ll(Y,ne,Ze.Ob[0]),Ju[Fe](ce,de),Ie!=0)for(R=0;16>R;++R,Ie<<=2)yi(Ie,ot,16*+R,ce,de+Oj[R]);for(R=Ze.Gc,Fe=ll(Y,ne,Ze.Dd),$c[Fe](pe,be),$c[Fe](Oe,Je),Ie=ot,Fe=pe,yt=be,255&(Ze=R>>0)&&(170&Ze?tg(Ie,256,Fe,yt):_o(Ie,256,Fe,yt)),Ze=Oe,Ie=Je,255&(R>>=8)&&(170&R?tg(ot,320,Ze,Ie):_o(ot,320,Ze,Ie)),ne<w.Ub-1&&(n(Ve[Tt].y,0,ce,de+480,16),n(Ve[Tt].f,0,pe,be+224,8),n(Ve[Tt].ea,0,Oe,Je+224,8)),R=8*oe*w.B,Ve=w.sa,Tt=w.ta+16*Y+16*oe*w.R,ot=w.qa,Ze=w.ra+8*Y+R,Ie=w.Ha,Fe=w.Ia+8*Y+R,R=0;16>R;++R)n(Ve,Tt+R*w.R,ce,de+32*R,16);for(R=0;8>R;++R)n(ot,Ze+R*w.B,pe,be+32*R,8),n(Ie,Fe+R*w.B,Oe,Je+32*R,8)}}function Xl(w,C,R,Y,ne,oe,ce,de,pe){var be=[0],Oe=[0],Je=0,Ze=pe!=null?pe.kd:0,Ve=pe??new qu;if(w==null||12>R)return 7;Ve.data=w,Ve.w=C,Ve.ha=R,C=[C],R=[R],Ve.gb=[Ve.gb];e:{var Tt=C,ot=R,Ie=Ve.gb;if(t(w!=null),t(ot!=null),t(Ie!=null),Ie[0]=0,12<=ot[0]&&!r(w,Tt[0],"RIFF")){if(r(w,Tt[0]+8,"WEBP")){Ie=3;break e}var Fe=ke(w,Tt[0]+4);if(12>Fe||4294967286<Fe){Ie=3;break e}if(Ze&&Fe>ot[0]-8){Ie=7;break e}Ie[0]=Fe,Tt[0]+=12,ot[0]-=12}Ie=0}if(Ie!=0)return Ie;for(Fe=0<Ve.gb[0],R=R[0];;){e:{var yt=w;ot=C,Ie=R;var kt=be,St=Oe,Zt=Tt=[0];if((Kt=Je=[Je])[0]=0,8>Ie[0])Ie=7;else{if(!r(yt,ot[0],"VP8X")){if(ke(yt,ot[0]+4)!=10){Ie=3;break e}if(18>Ie[0]){Ie=7;break e}var zt=ke(yt,ot[0]+8),gr=1+H(yt,ot[0]+12);if(2147483648<=gr*(yt=1+H(yt,ot[0]+15))){Ie=3;break e}Zt!=null&&(Zt[0]=zt),kt!=null&&(kt[0]=gr),St!=null&&(St[0]=yt),ot[0]+=18,Ie[0]-=18,Kt[0]=1}Ie=0}}if(Je=Je[0],Tt=Tt[0],Ie!=0)return Ie;if(ot=!!(2&Tt),!Fe&&Je)return 3;if(oe!=null&&(oe[0]=!!(16&Tt)),ce!=null&&(ce[0]=ot),de!=null&&(de[0]=0),ce=be[0],Tt=Oe[0],Je&&ot&&pe==null){Ie=0;break}if(4>R){Ie=7;break}if(Fe&&Je||!Fe&&!Je&&!r(w,C[0],"ALPH")){R=[R],Ve.na=[Ve.na],Ve.P=[Ve.P],Ve.Sa=[Ve.Sa];e:{zt=w,Ie=C,Fe=R;var Kt=Ve.gb;kt=Ve.na,St=Ve.P,Zt=Ve.Sa,gr=22,t(zt!=null),t(Fe!=null),yt=Ie[0];var xn=Fe[0];for(t(kt!=null),t(Zt!=null),kt[0]=null,St[0]=null,Zt[0]=0;;){if(Ie[0]=yt,Fe[0]=xn,8>xn){Ie=7;break e}var Nn=ke(zt,yt+4);if(4294967286<Nn){Ie=3;break e}var dn=8+Nn+1&-2;if(gr+=dn,0<Kt&&gr>Kt){Ie=3;break e}if(!r(zt,yt,"VP8 ")||!r(zt,yt,"VP8L")){Ie=0;break e}if(xn[0]<dn){Ie=7;break e}r(zt,yt,"ALPH")||(kt[0]=zt,St[0]=yt+8,Zt[0]=Nn),yt+=dn,xn-=dn}}if(R=R[0],Ve.na=Ve.na[0],Ve.P=Ve.P[0],Ve.Sa=Ve.Sa[0],Ie!=0)break}R=[R],Ve.Ja=[Ve.Ja],Ve.xa=[Ve.xa];e:if(Kt=w,Ie=C,Fe=R,kt=Ve.gb[0],St=Ve.Ja,Zt=Ve.xa,zt=Ie[0],yt=!r(Kt,zt,"VP8 "),gr=!r(Kt,zt,"VP8L"),t(Kt!=null),t(Fe!=null),t(St!=null),t(Zt!=null),8>Fe[0])Ie=7;else{if(yt||gr){if(Kt=ke(Kt,zt+4),12<=kt&&Kt>kt-12){Ie=3;break e}if(Ze&&Kt>Fe[0]-8){Ie=7;break e}St[0]=Kt,Ie[0]+=8,Fe[0]-=8,Zt[0]=gr}else Zt[0]=5<=Fe[0]&&Kt[zt+0]==47&&!(Kt[zt+4]>>5),St[0]=Fe[0];Ie=0}if(R=R[0],Ve.Ja=Ve.Ja[0],Ve.xa=Ve.xa[0],C=C[0],Ie!=0)break;if(4294967286<Ve.Ja)return 3;if(de==null||ot||(de[0]=Ve.xa?2:1),ce=[ce],Tt=[Tt],Ve.xa){if(5>R){Ie=7;break}de=ce,Ze=Tt,ot=oe,w==null||5>R?w=0:5<=R&&w[C+0]==47&&!(w[C+4]>>5)?(Fe=[0],Kt=[0],kt=[0],q(St=new I,w,C,R),Xt(St,Fe,Kt,kt)?(de!=null&&(de[0]=Fe[0]),Ze!=null&&(Ze[0]=Kt[0]),ot!=null&&(ot[0]=kt[0]),w=1):w=0):w=0}else{if(10>R){Ie=7;break}de=Tt,w==null||10>R||!Nc(w,C+3,R-3)?w=0:(Ze=w[C+0]|w[C+1]<<8|w[C+2]<<16,ot=16383&(w[C+7]<<8|w[C+6]),w=16383&(w[C+9]<<8|w[C+8]),1&Ze||3<(Ze>>1&7)||!(Ze>>4&1)||Ze>>5>=Ve.Ja||!ot||!w?w=0:(ce&&(ce[0]=ot),de&&(de[0]=w),w=1))}if(!w||(ce=ce[0],Tt=Tt[0],Je&&(be[0]!=ce||Oe[0]!=Tt)))return 3;pe!=null&&(pe[0]=Ve,pe.offset=C-pe.w,t(4294967286>C-pe.w),t(pe.offset==pe.ha-R));break}return Ie==0||Ie==7&&Je&&pe==null?(oe!=null&&(oe[0]|=Ve.na!=null&&0<Ve.na.length),Y!=null&&(Y[0]=ce),ne!=null&&(ne[0]=Tt),0):Ie}function Qm(w,C,R){var Y=C.width,ne=C.height,oe=0,ce=0,de=Y,pe=ne;if(C.Da=w!=null&&0<w.Da,C.Da&&(de=w.cd,pe=w.bd,oe=w.v,ce=w.j,11>R||(oe&=-2,ce&=-2),0>oe||0>ce||0>=de||0>=pe||oe+de>Y||ce+pe>ne))return 0;if(C.v=oe,C.j=ce,C.va=oe+de,C.o=ce+pe,C.U=de,C.T=pe,C.da=w!=null&&0<w.da,C.da){if(!Le(de,pe,R=[w.ib],oe=[w.hb]))return 0;C.ib=R[0],C.hb=oe[0]}return C.ob=w!=null&&w.ob,C.Kb=w==null||!w.Sd,C.da&&(C.ob=C.ib<3*Y/4&&C.hb<3*ne/4,C.Kb=0),1}function Jm(w){if(w==null)return 2;if(11>w.S){var C=w.f.RGBA;C.fb+=(w.height-1)*C.A,C.A=-C.A}else C=w.f.kb,w=w.height,C.O+=(w-1)*C.fa,C.fa=-C.fa,C.N+=(w-1>>1)*C.Ab,C.Ab=-C.Ab,C.W+=(w-1>>1)*C.Db,C.Db=-C.Db,C.F!=null&&(C.J+=(w-1)*C.lb,C.lb=-C.lb);return 0}function i0(w,C,R,Y){if(Y==null||0>=w||0>=C)return 2;if(R!=null){if(R.Da){var ne=R.cd,oe=R.bd,ce=-2&R.v,de=-2&R.j;if(0>ce||0>de||0>=ne||0>=oe||ce+ne>w||de+oe>C)return 2;w=ne,C=oe}if(R.da){if(!Le(w,C,ne=[R.ib],oe=[R.hb]))return 2;w=ne[0],C=oe[0]}}Y.width=w,Y.height=C;e:{var pe=Y.width,be=Y.height;if(w=Y.S,0>=pe||0>=be||!(w>=gx&&13>w))w=2;else{if(0>=Y.Rd&&Y.sd==null){ce=oe=ne=C=0;var Oe=(de=pe*Ij[w])*be;if(11>w||(oe=(be+1)/2*(C=(pe+1)/2),w==12&&(ce=(ne=pe)*be)),(be=i(Oe+2*oe+ce))==null){w=1;break e}Y.sd=be,11>w?((pe=Y.f.RGBA).eb=be,pe.fb=0,pe.A=de,pe.size=Oe):((pe=Y.f.kb).y=be,pe.O=0,pe.fa=de,pe.Fd=Oe,pe.f=be,pe.N=0+Oe,pe.Ab=C,pe.Cd=oe,pe.ea=be,pe.W=0+Oe+oe,pe.Db=C,pe.Ed=oe,w==12&&(pe.F=be,pe.J=0+Oe+2*oe),pe.Tc=ce,pe.lb=ne)}if(C=1,ne=Y.S,oe=Y.width,ce=Y.height,ne>=gx&&13>ne)if(11>ne)w=Y.f.RGBA,C&=(de=Math.abs(w.A))*(ce-1)+oe<=w.size,C&=de>=oe*Ij[ne],C&=w.eb!=null;else{w=Y.f.kb,de=(oe+1)/2,Oe=(ce+1)/2,pe=Math.abs(w.fa),be=Math.abs(w.Ab);var Je=Math.abs(w.Db),Ze=Math.abs(w.lb),Ve=Ze*(ce-1)+oe;C&=pe*(ce-1)+oe<=w.Fd,C&=be*(Oe-1)+de<=w.Cd,C=(C&=Je*(Oe-1)+de<=w.Ed)&pe>=oe&be>=de&Je>=de,C&=w.y!=null,C&=w.f!=null,C&=w.ea!=null,ne==12&&(C&=Ze>=oe,C&=Ve<=w.Tc,C&=w.F!=null)}else C=0;w=C?0:2}}return w!=0||R!=null&&R.fd&&(w=Jm(Y)),w}var xi=64,s0=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],o0=24,l0=32,Zm=8,Ps=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];rt("Predictor0","PredictorAdd0"),S.Predictor0=function(){return 4278190080},S.Predictor1=function(w){return w},S.Predictor2=function(w,C,R){return C[R+0]},S.Predictor3=function(w,C,R){return C[R+1]},S.Predictor4=function(w,C,R){return C[R-1]},S.Predictor5=function(w,C,R){return Re(Re(w,C[R+1]),C[R+0])},S.Predictor6=function(w,C,R){return Re(w,C[R-1])},S.Predictor7=function(w,C,R){return Re(w,C[R+0])},S.Predictor8=function(w,C,R){return Re(C[R-1],C[R+0])},S.Predictor9=function(w,C,R){return Re(C[R+0],C[R+1])},S.Predictor10=function(w,C,R){return Re(Re(w,C[R-1]),Re(C[R+0],C[R+1]))},S.Predictor11=function(w,C,R){var Y=C[R+0];return 0>=We(Y>>24&255,w>>24&255,(C=C[R-1])>>24&255)+We(Y>>16&255,w>>16&255,C>>16&255)+We(Y>>8&255,w>>8&255,C>>8&255)+We(255&Y,255&w,255&C)?Y:w},S.Predictor12=function(w,C,R){var Y=C[R+0];return(Te((w>>24&255)+(Y>>24&255)-((C=C[R-1])>>24&255))<<24|Te((w>>16&255)+(Y>>16&255)-(C>>16&255))<<16|Te((w>>8&255)+(Y>>8&255)-(C>>8&255))<<8|Te((255&w)+(255&Y)-(255&C)))>>>0},S.Predictor13=function(w,C,R){var Y=C[R-1];return(Me((w=Re(w,C[R+0]))>>24&255,Y>>24&255)<<24|Me(w>>16&255,Y>>16&255)<<16|Me(w>>8&255,Y>>8&255)<<8|Me(w>>0&255,Y>>0&255))>>>0};var OS=S.PredictorAdd0;S.PredictorAdd1=st,rt("Predictor2","PredictorAdd2"),rt("Predictor3","PredictorAdd3"),rt("Predictor4","PredictorAdd4"),rt("Predictor5","PredictorAdd5"),rt("Predictor6","PredictorAdd6"),rt("Predictor7","PredictorAdd7"),rt("Predictor8","PredictorAdd8"),rt("Predictor9","PredictorAdd9"),rt("Predictor10","PredictorAdd10"),rt("Predictor11","PredictorAdd11"),rt("Predictor12","PredictorAdd12"),rt("Predictor13","PredictorAdd13");var eg=S.PredictorAdd2;pt("ColorIndexInverseTransform","MapARGB","32b",function(w){return w>>8&255},function(w){return w}),pt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(w){return w},function(w){return w>>8&255});var ux,wo=S.ColorIndexInverseTransform,c0=S.MapARGB,fx=S.VP8LColorIndexInverseTransformAlpha,dx=S.MapAlpha,Ku=S.VP8LPredictorsAdd=[];Ku.length=16,(S.VP8LPredictors=[]).length=16,(S.VP8LPredictorsAdd_C=[]).length=16,(S.VP8LPredictors_C=[]).length=16;var jd,js,fs,Yu,Lc,Mc,u0,Rc,wa,tg,ds,_o,f0,hx,rg,Od,Id,Xu,Dd,d0,Ld,Qu,ng,So,Ao,Vn,zn,_a,Wa=i(511),Fc=i(2041),ag=i(225),h0=i(767),px=0,IS=Fc,mx=ag,Zs=h0,To=Wa,gx=0,vx=1,wj=2,yx=3,xx=4,DS=5,_j=6,LS=7,MS=8,bx=9,RS=10,oJ=[2,3,7],lJ=[3,3,11],Sj=[280,256,256,256,40],cJ=[0,1,1,1,0],uJ=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],fJ=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],dJ=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],hJ=8,FS=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],$S=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ig=null,pJ=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],mJ=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Aj=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],gJ=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],vJ=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],yJ=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],xJ=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ju=[],cl=[],$c=[],bJ=1,Tj=2,Zu=[],Eo=[];lt("UpsampleRgbLinePair",fe,3),lt("UpsampleBgrLinePair",$e,3),lt("UpsampleRgbaLinePair",Mr,4),lt("UpsampleBgraLinePair",Qr,4),lt("UpsampleArgbLinePair",Lr,4),lt("UpsampleRgba4444LinePair",jt,2),lt("UpsampleRgb565LinePair",et,2);var wJ=S.UpsampleRgbLinePair,_J=S.UpsampleBgrLinePair,Ej=S.UpsampleRgbaLinePair,Nj=S.UpsampleBgraLinePair,kj=S.UpsampleArgbLinePair,Cj=S.UpsampleRgba4444LinePair,SJ=S.UpsampleRgb565LinePair,wx=16,_x=1<<wx-1,sg=-227,BS=482,Pj=6,AJ=(256<<Pj)-1,jj=0,TJ=i(256),EJ=i(256),NJ=i(256),kJ=i(256),CJ=i(BS-sg),PJ=i(BS-sg);Rn("YuvToRgbRow",fe,3),Rn("YuvToBgrRow",$e,3),Rn("YuvToRgbaRow",Mr,4),Rn("YuvToBgraRow",Qr,4),Rn("YuvToArgbRow",Lr,4),Rn("YuvToRgba4444Row",jt,2),Rn("YuvToRgb565Row",et,2);var Oj=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Sx=[0,2,8],jJ=[8,7,6,4,4,2,2,2,1,1,1,1],OJ=1;this.WebPDecodeRGBA=function(w,C,R,Y,ne){var oe=vx,ce=new Ic,de=new Rt;ce.ba=de,de.S=oe,de.width=[de.width],de.height=[de.height];var pe=de.width,be=de.height,Oe=new Yt;if(Oe==null||w==null)var Je=2;else t(Oe!=null),Je=Xl(w,C,R,Oe.width,Oe.height,Oe.Pd,Oe.Qd,Oe.format,null);if(Je!=0?pe=0:(pe!=null&&(pe[0]=Oe.width[0]),be!=null&&(be[0]=Oe.height[0]),pe=1),pe){de.width=de.width[0],de.height=de.height[0],Y!=null&&(Y[0]=de.width),ne!=null&&(ne[0]=de.height);e:{if(Y=new us,(ne=new qu).data=w,ne.w=C,ne.ha=R,ne.kd=1,C=[0],t(ne!=null),((w=Xl(ne.data,ne.w,ne.ha,null,null,null,C,null,ne))==0||w==7)&&C[0]&&(w=4),(C=w)==0){if(t(ce!=null),Y.data=ne.data,Y.w=ne.w+ne.offset,Y.ha=ne.ha-ne.offset,Y.put=Er,Y.ac=wr,Y.bc=an,Y.ma=ce,ne.xa){if((w=nt())==null){ce=1;break e}if(function(Ze,Ve){var Tt=[0],ot=[0],Ie=[0];t:for(;;){if(Ze==null)return 0;if(Ve==null)return Ze.a=2,0;if(Ze.l=Ve,Ze.a=0,q(Ze.m,Ve.data,Ve.w,Ve.ha),!Xt(Ze.m,Tt,ot,Ie)){Ze.a=3;break t}if(Ze.xb=Tj,Ve.width=Tt[0],Ve.height=ot[0],!Ge(Tt[0],ot[0],1,Ze,null))break t;return 1}return t(Ze.a!=0),0}(w,Y)){if(Y=(C=i0(Y.width,Y.height,ce.Oa,ce.ba))==0){t:{Y=w;r:for(;;){if(Y==null){Y=0;break t}if(t(Y.s.yc!=null),t(Y.s.Ya!=null),t(0<Y.s.Wb),t((R=Y.l)!=null),t((ne=R.ma)!=null),Y.xb!=0){if(Y.ca=ne.ba,Y.tb=ne.tb,t(Y.ca!=null),!Qm(ne.Oa,R,yx)){Y.a=2;break r}if(!Ye(Y,R.width)||R.da)break r;if((R.da||De(Y.ca.S))&&Ue(),11>Y.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Y.ca.f.kb.F!=null&&Ue()),Y.Pb&&0<Y.s.ua&&Y.s.vb.X==null&&!Ce(Y.s.vb,Y.s.Wa.Xa)){Y.a=1;break r}Y.xb=0}if(!we(Y,Y.V,Y.Ba,Y.c,Y.i,R.o,ve))break r;ne.Dc=Y.Ma,Y=1;break t}t(Y.a!=0),Y=0}Y=!Y}Y&&(C=w.a)}else C=w.a}else{if((w=new za)==null){ce=1;break e}if(w.Fa=ne.na,w.P=ne.P,w.qc=ne.Sa,kc(w,Y)){if((C=i0(Y.width,Y.height,ce.Oa,ce.ba))==0){if(w.Aa=0,R=ce.Oa,t((ne=w)!=null),R!=null){if(0<(pe=0>(pe=R.Md)?0:100<pe?255:255*pe/100)){for(be=Oe=0;4>be;++be)12>(Je=ne.pb[be]).lc&&(Je.ia=pe*jJ[0>Je.lc?0:Je.lc]>>3),Oe|=Je.ia;Oe&&(alert("todo:VP8InitRandom"),ne.ia=1)}ne.Ga=R.Id,100<ne.Ga?ne.Ga=100:0>ne.Ga&&(ne.Ga=0)}Pc(w,Y)||(C=w.a)}}else C=w.a}C==0&&ce.Oa!=null&&ce.Oa.fd&&(C=Jm(ce.ba))}ce=C}oe=ce!=0?null:11>oe?de.f.RGBA.eb:de.f.kb.y}else oe=null;return oe};var Ij=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(S,_){for(var D="",E=0;E<4;E++)D+=String.fromCharCode(S[_++]);return D}function u(S,_){return(S[_+0]<<0|S[_+1]<<8|S[_+2]<<16)>>>0}function d(S,_){return(S[_+0]<<0|S[_+1]<<8|S[_+2]<<16|S[_+3]<<24)>>>0}new l;var h=[0],p=[0],g=[],m=new l,v=e,y=function(S,_){var D={},E=0,N=!1,k=0,V=0;if(D.frames=[],!function(M,z,K,X){for(var ae=0;ae<X;ae++)if(M[z+ae]!=K.charCodeAt(ae))return!0;return!1}(S,_,"RIFF",4)){for(d(S,_+=4),_+=8;_<S.length;){var Q=c(S,_),W=d(S,_+=4);_+=4;var G=W+(1&W);switch(Q){case"VP8 ":case"VP8L":D.frames[E]===void 0&&(D.frames[E]={}),(ee=D.frames[E]).src_off=N?V:_-8,ee.src_size=k+W+8,E++,N&&(N=!1,k=0,V=0);break;case"VP8X":(ee=D.header={}).feature_flags=S[_];var q=_+4;ee.canvas_width=1+u(S,q),q+=3,ee.canvas_height=1+u(S,q),q+=3;break;case"ALPH":N=!0,k=G+8,V=_-8;break;case"ANIM":(ee=D.header).bgcolor=d(S,_),q=_+4,ee.loop_count=(Z=S)[(I=q)+0]<<0|Z[I+1]<<8,q+=2;break;case"ANMF":var U,ee;(ee=D.frames[E]={}).offset_x=2*u(S,_),_+=3,ee.offset_y=2*u(S,_),_+=3,ee.width=1+u(S,_),_+=3,ee.height=1+u(S,_),_+=3,ee.duration=u(S,_),_+=3,U=S[_++],ee.dispose=1&U,ee.blend=U>>1&1}Q!="ANMF"&&(_+=G)}var Z,I;return D}}(v,0);y.response=v,y.rgbaoutput=!0,y.dataurl=!1;var b=y.header?y.header:null,x=y.frames?y.frames:null;if(b){b.loop_counter=b.loop_count,h=[b.canvas_height],p=[b.canvas_width];for(var O=0;O<x.length&&x[O].blend!=0;O++);}var P=x[0],j=m.WebPDecodeRGBA(v,P.src_off,P.src_size,p,h);P.rgba=j,P.imgwidth=p[0],P.imgheight=h[0];for(var T=0;T<p[0]*h[0]*4;T++)g[T]=j[T];return this.width=p,this.height=h,this.data=g,this}(function(e){var t=function(){return typeof WN=="function"},r=function(h,p,g,m){var v=4,y=s;switch(m){case e.image_compression.FAST:v=1,y=i;break;case e.image_compression.MEDIUM:v=6,y=o;break;case e.image_compression.SLOW:v=9,y=l}h=n(h,p,g,y);var b=WN(h,{level:v});return e.__addimage__.arrayBufferToBinaryString(b)},n=function(h,p,g,m){for(var v,y,b,x=h.length/p,O=new Uint8Array(h.length+x),P=u(),j=0;j<x;j+=1){if(b=j*p,v=h.subarray(b,b+p),m)O.set(m(v,g,y),b+j);else{for(var T,S=P.length,_=[];T<S;T+=1)_[T]=P[T](v,g,y);var D=d(_.concat());O.set(_[D],b+j)}y=v}return O},a=function(h){var p=Array.apply([],h);return p.unshift(0),p},i=function(h,p){var g,m=[],v=h.length;m[0]=1;for(var y=0;y<v;y+=1)g=h[y-p]||0,m[y+1]=h[y]-g+256&255;return m},s=function(h,p,g){var m,v=[],y=h.length;v[0]=2;for(var b=0;b<y;b+=1)m=g&&g[b]||0,v[b+1]=h[b]-m+256&255;return v},o=function(h,p,g){var m,v,y=[],b=h.length;y[0]=3;for(var x=0;x<b;x+=1)m=h[x-p]||0,v=g&&g[x]||0,y[x+1]=h[x]+256-(m+v>>>1)&255;return y},l=function(h,p,g){var m,v,y,b,x=[],O=h.length;x[0]=4;for(var P=0;P<O;P+=1)m=h[P-p]||0,v=g&&g[P]||0,y=g&&g[P-p]||0,b=c(m,v,y),x[P+1]=h[P]-b+256&255;return x},c=function(h,p,g){if(h===p&&p===g)return h;var m=Math.abs(p-g),v=Math.abs(h-g),y=Math.abs(h+p-g-g);return m<=v&&m<=y?h:v<=y?p:g},u=function(){return[a,i,s,o,l]},d=function(h){var p=h.map(function(g){return g.reduce(function(m,v){return m+Math.abs(v)},0)});return p.indexOf(Math.min.apply(null,p))};e.processPNG=function(h,p,g,m){var v,y,b,x,O,P,j,T,S,_,D,E,N,k,V,Q=this.decode.FLATE_DECODE,W="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(b=new uqe(h)).imgData,y=b.bits,v=b.colorSpace,O=b.colors,[4,6].indexOf(b.colorType)!==-1){if(b.bits===8){S=(T=b.pixelBitlength==32?new Uint32Array(b.decodePixels().buffer):b.pixelBitlength==16?new Uint16Array(b.decodePixels().buffer):new Uint8Array(b.decodePixels().buffer)).length,D=new Uint8Array(S*b.colors),_=new Uint8Array(S);var G,q=b.pixelBitlength-b.bits;for(k=0,V=0;k<S;k++){for(N=T[k],G=0;G<q;)D[V++]=N>>>G&255,G+=b.bits;_[k]=N>>>G&255}}if(b.bits===16){S=(T=new Uint32Array(b.decodePixels().buffer)).length,D=new Uint8Array(S*(32/b.pixelBitlength)*b.colors),_=new Uint8Array(S*(32/b.pixelBitlength)),E=b.colors>1,k=0,V=0;for(var U=0;k<S;)N=T[k++],D[V++]=N>>>0&255,E&&(D[V++]=N>>>16&255,N=T[k++],D[V++]=N>>>0&255),_[U++]=N>>>16&255;y=8}m!==e.image_compression.NONE&&t()?(h=r(D,b.width*b.colors,b.colors,m),j=r(_,b.width,1,m)):(h=D,j=_,Q=void 0)}if(b.colorType===3&&(v=this.color_spaces.INDEXED,P=b.palette,b.transparency.indexed)){var ee=b.transparency.indexed,Z=0;for(k=0,S=ee.length;k<S;++k)Z+=ee[k];if((Z/=255)===S-1&&ee.indexOf(0)!==-1)x=[ee.indexOf(0)];else if(Z!==S){for(T=b.decodePixels(),_=new Uint8Array(T.length),k=0,S=T.length;k<S;k++)_[k]=ee[T[k]];j=r(_,b.width,1)}}var I=function(M){var z;switch(M){case e.image_compression.FAST:z=11;break;case e.image_compression.MEDIUM:z=13;break;case e.image_compression.SLOW:z=14;break;default:z=12}return z}(m);return Q===this.decode.FLATE_DECODE&&(W="/Predictor "+I+" "),W+="/Colors "+O+" /BitsPerComponent "+y+" /Columns "+b.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(j&&this.__addimage__.isArrayBuffer(j)||this.__addimage__.isArrayBufferView(j))&&(j=this.__addimage__.arrayBufferToBinaryString(j)),{alias:g,data:h,index:p,filter:Q,decodeParameters:W,transparency:x,palette:P,sMask:j,predictor:I,width:b.width,height:b.height,bitsPerComponent:y,colorSpace:v}}}})(Sr.API),function(e){e.processGIF89A=function(t,r,n,a){var i=new fqe(t),s=i.width,o=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:o},u=new J4(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)},e.processGIF87A=e.processGIF89A}(Sr.API),gl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},gl.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){$n.log("bit decode error:"+r)}},gl.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var l=this.palette[i>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},gl.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*a*4,o=i>>4,l=15&i,c=this.palette[o];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*a+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},gl.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var s=this.palette[a];this.data[i]=s.red,this.data[i+1]=s.green,this.data[i+2]=s.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},gl.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(i&t)/t*255|0,o=(i>>5&t)/t*255|0,l=(i>>10&t)/t*255|0,c=i>>15?255:0,u=n*this.width*4+4*a;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=s,this.data[u+3]=c}this.pos+=e}},gl.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,l=(s>>5&r)/r*255|0,c=(s>>11)/t*255|0,u=a*this.width*4+4*i;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=e}},gl.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},gl.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=s}},gl.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var i=new gl(t,!1),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},c=new J4(100).encode(l,100);return e.processJPEG.call(this,c,r,n,a)}}(Sr.API),Y$.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var i=new Y$(t),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},c=new J4(100).encode(l,100);return e.processJPEG.call(this,c,r,n,a)}}(Sr.API),Sr.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),s=new Uint8Array(a/4),o=0,l=0,c=0;c<a;c+=4){var u=n[c],d=n[c+1],h=n[c+2],p=n[c+3];i[o++]=u,i[o++]=d,i[o++]=h,s[l++]=p}var g=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:g,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Sr.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},C0=Sr.API,F2=C0.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:a.metadata.Unicode.widths,l=o.fof?o.fof:1,c=t.kerning?t.kerning:a.metadata.Unicode.kerning,u=c.fof?c.fof:1,d=t.doKerning!==!1,h=0,p=e.length,g=0,m=o[0]||l,v=[];for(r=0;r<p;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?v.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+s*(1e3/i)||0)/1e3):(h=d&&bn(c[n])==="object"&&!isNaN(parseInt(c[n][g],10))?c[n][g]/u:0,v.push((o[n]||m)/l+h)),g=n;return v},W$=C0.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return C0.processArabic&&(e=C0.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:F2.apply(this,arguments).reduce(function(i,s){return i+s},0)},H$=function(e,t,r,n){for(var a=[],i=0,s=e.length,o=0;i!==s&&o+t[i]<r;)o+=t[i],i++;a.push(e.slice(0,i));var l=i;for(o=0;i!==s;)o+t[i]>n&&(a.push(e.slice(l,i)),o=0,l=i),o+=t[i],i++;return l!==i&&a.push(e.slice(l,i)),a},G$=function(e,t,r){r||(r={});var n,a,i,s,o,l,c,u=[],d=[u],h=r.textIndent||0,p=0,g=0,m=e.split(" "),v=F2.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?m[0].length+2:r.lineIndent||0){var y=Array(l).join(" "),b=[];m.map(function(O){(O=O.split(/\s*\n/)).length>1?b=b.concat(O.map(function(P,j){return(j&&P.length?`
`:"")+P})):b.push(O[0])}),m=b,l=W$.apply(this,[y,r])}for(i=0,s=m.length;i<s;i++){var x=0;if(n=m[i],l&&n[0]==`
`&&(n=n.substr(1),x=1),h+p+(g=(a=F2.apply(this,[n,r])).reduce(function(O,P){return O+P},0))>t||x){if(g>t){for(o=H$.apply(this,[n,a,t-(h+p),t]),u.push(o.shift()),u=[o.pop()];o.length;)d.push([o.shift()]);g=a.slice(n.length-(u[0]?u[0].length:0)).reduce(function(O,P){return O+P},0)}else u=[n];d.push(u),h=g+l,p=v}else u.push(n),h+=p+g,p=v}return c=l?function(O,P){return(P?y:"")+O.join(" ")}:function(O){return O.join(" ")},d.map(c)},C0.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var d=this.internal.getFont(u.fontName,u.fontStyle);return d.metadata.Unicode?{widths:d.metadata.Unicode.widths||{0:1},kerning:d.metadata.Unicode.kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var o,l,c=[];for(o=0,l=n.length;o<l;o++)c=c.concat(G$.apply(this,[n[o],s,i]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},a=0;a<t.length;a++)r[t[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=t[a];var i=function(d){return"0x"+parseInt(d,10).toString(16)},s=e.__fontmetrics__.compress=function(d){var h,p,g,m,v=["{"];for(var y in d){if(h=d[y],isNaN(parseInt(y,10))?p="'"+y+"'":(y=parseInt(y,10),p=(p=i(y).slice(2)).slice(0,-1)+n[p.slice(-1)]),typeof h=="number")h<0?(g=i(h).slice(3),m="-"):(g=i(h).slice(2),m=""),g=m+g.slice(0,-1)+n[g.slice(-1)];else{if(bn(h)!=="object")throw new Error("Don't know what to do with value type "+bn(h)+".");g=s(h)}v.push(p+g)}return v.push("}"),v.join("")},o=e.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,p,g,m,v={},y=1,b=v,x=[],O="",P="",j=d.length-1,T=1;T<j;T+=1)(m=d[T])=="'"?h?(g=h.join(""),h=void 0):h=[]:h?h.push(m):m=="{"?(x.push([b,g]),b={},g=void 0):m=="}"?((p=x.pop())[0][p[1]]=b,g=void 0,b=p[0]):m=="-"?y=-1:g===void 0?r.hasOwnProperty(m)?(O+=r[m],g=parseInt(O,16)*y,y=1,O=""):O+=m:r.hasOwnProperty(m)?(P+=r[m],b[g]=parseInt(P,16)*y,y=1,g=void 0,P=""):P+=m;return v},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(d){var h=d.font,p=u.Unicode[h.postScriptName];p&&(h.metadata.Unicode={},h.metadata.Unicode.widths=p.widths,h.metadata.Unicode.kerning=p.kerning);var g=c.Unicode[h.postScriptName];g&&(h.metadata.Unicode.encoding=g,h.encoding=g.codePages[0])}])}(Sr.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(Uv(o)),s.metadata=e.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(a,n)}}])}(Sr),function(e){function t(){return(Ar.canvg?Promise.resolve(Ar.canvg):BN(()=>import("./index.es-CebcsMB2.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}Sr.API.addSvgAsImage=function(r,n,a,i,s,o,l,c){if(isNaN(n)||isNaN(a))throw $n.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(s))throw $n.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=i,u.height=s;var d=u.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,u.width,u.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return t().then(function(g){return g.fromString(d,r,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(h)}).then(function(){p.addImage(u.toDataURL("image/jpeg",1),n,a,i,s,l,c)})}}(),Sr.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},Sr.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],c=0,u=0,d=0;function h(g,m){var v,y=!1;for(v=0;v<g.length;v+=1)g[v]===m&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var p=o.length;for(d=0;d<p;d+=1)r[o[d]].value=r[o[d]].defaultValue,r[o[d]].explicitSet=!1}if(bn(e)==="object"){for(a in e)if(i=e[a],h(o,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&h(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(c=0;c<i.length;c+=1)if(n=!0,i[c].length===1&&typeof i[c][0]=="number")l.push(String(i[c]-1));else if(i[c].length>1){for(u=0;u<i[c].length;u+=1)typeof i[c][u]!="number"&&(n=!1);n===!0&&l.push([i[c][0]-1,i[c][1]-1].join(" "))}r[a].value="["+l.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,m=[];for(g in r)r[g].explicitSet===!0&&(r[g].type==="name"?m.push("/"+g+" /"+r[g].value):m.push("/"+g+" "+r[g].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=i.length+s.length+o.length+a.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(a+i+s+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Sr.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,s){for(var o,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],d=0,h=i.length;d<h;++d){if(o=s.metadata.characterToGlyph(i.charCodeAt(d)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=i.charCodeAt(d),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},n=function(i){var s,o,l,c,u,d,h;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,h=(o=Object.keys(i).sort(function(p,g){return p-g})).length;d<h;d++)s=o[d],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),i[s]!==void 0&&i[s]!==null&&typeof i[s].toString=="function"&&(c=("0000"+i[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var d=o.metadata.Unicode.widths,h=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),p="",g=0;g<h.length;g++)p+=String.fromCharCode(h[g]);var m=c();u({data:p,addLength1:!0,objectId:m}),l("endobj");var v=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var y=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+L0(o.fontName)),l("/FontFile2 "+m+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var b=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+L0(o.fontName)),l("/FontDescriptor "+y+" 0 R"),l("/W "+e.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+v+" 0 R"),l("/BaseFont /"+L0(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+b+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var d=o.metadata.rawData,h="",p=0;p<d.length;p++)h+=String.fromCharCode(d[p]);var g=c();u({data:h,addLength1:!0,objectId:g}),l("endobj");var m=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:m}),l("endobj");var v=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+g+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+L0(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var y=0;y<o.metadata.hmtx.widths.length;y++)o.metadata.hmtx.widths[y]=parseInt(o.metadata.hmtx.widths[y]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+L0(o.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]);var a=function(i){var s,o=i.text||"",l=i.x,c=i.y,u=i.options||{},d=i.mutex||{},h=d.pdfEscape,p=d.activeFontKey,g=d.fonts,m=p,v="",y=0,b="",x=g[m].encoding;if(g[m].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:d};for(b=o,m=p,Array.isArray(o)&&(b=o[0]),y=0;y<b.length;y+=1)g[m].metadata.hasOwnProperty("cmap")&&(s=g[m].metadata.cmap.unicode.codeMap[b[y].charCodeAt(0)]),s||b[y].charCodeAt(0)<256&&g[m].metadata.hasOwnProperty("Unicode")?v+=b[y]:v+="";var O="";return parseInt(m.slice(1))<14||x==="WinAnsiEncoding"?O=h(v,m).split("").map(function(P){return P.charCodeAt(0).toString(16)}).join(""):x==="Identity-H"&&(O=r(v,g[m])),d.isHex=!0,{text:O,x:l,y:c,options:u,mutex:d}};t.events.push(["postProcessText",function(i){var s=i.text||"",o=[],l={text:s,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?o.push([a(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):o.push(a(Object.assign({},l,{text:s[c]})).text);i.text=o}else i.text=a(Object.assign({},l,{text:s})).text}])}(Sr),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Sr.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,s,o,l,c,u,d=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,x=0;this.__bidiEngine__={};var O=function(E){var N=E.charCodeAt(),k=N>>8,V=m[k];return V!==void 0?d[256*V+(255&N)]:k===252||k===253?"AL":y.test(k)?"L":k===8?"R":"N"},P=function(E){for(var N,k=0;k<E.length;k++){if((N=O(E.charAt(k)))==="L")return!1;if(N==="R")return!0}return!1},j=function(E,N,k,V){var Q,W,G,q,U=N[V];switch(U){case"L":case"R":b=!1;break;case"N":case"AN":break;case"EN":b&&(U="AN");break;case"AL":b=!0,U="R";break;case"WS":U="N";break;case"CS":V<1||V+1>=N.length||(Q=k[V-1])!=="EN"&&Q!=="AN"||(W=N[V+1])!=="EN"&&W!=="AN"?U="N":b&&(W="AN"),U=W===Q?W:"N";break;case"ES":U=(Q=V>0?k[V-1]:"B")==="EN"&&V+1<N.length&&N[V+1]==="EN"?"EN":"N";break;case"ET":if(V>0&&k[V-1]==="EN"){U="EN";break}if(b){U="N";break}for(G=V+1,q=N.length;G<q&&N[G]==="ET";)G++;U=G<q&&N[G]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(q=N.length,G=V+1;G<q&&N[G]==="NSM";)G++;if(G<q){var ee=E[V],Z=ee>=1425&&ee<=2303||ee===64286;if(Q=N[G],Z&&(Q==="R"||Q==="AL")){U="R";break}}}U=V<1||(Q=N[V-1])==="B"?"N":k[V-1];break;case"B":b=!1,a=!0,U=x;break;case"S":i=!0,U="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"BN":U="N"}return U},T=function(E,N,k){var V=E.split("");return k&&S(V,k,{hiLevel:x}),V.reverse(),N&&N.reverse(),V.join("")},S=function(E,N,k){var V,Q,W,G,q,U=-1,ee=E.length,Z=0,I=[],M=x?p:h,z=[];for(b=!1,a=!1,i=!1,Q=0;Q<ee;Q++)z[Q]=O(E[Q]);for(W=0;W<ee;W++){if(q=Z,I[W]=j(E,z,I,W),V=240&(Z=M[q][g[I[W]]]),Z&=15,N[W]=G=M[Z][5],V>0)if(V===16){for(Q=U;Q<W;Q++)N[Q]=1;U=-1}else U=-1;if(M[Z][6])U===-1&&(U=W);else if(U>-1){for(Q=U;Q<W;Q++)N[Q]=G;U=-1}z[W]==="B"&&(N[W]=0),k.hiLevel|=G}i&&function(K,X,ae){for(var ue=0;ue<ae;ue++)if(K[ue]==="S"){X[ue]=x;for(var ie=ue-1;ie>=0&&K[ie]==="WS";ie--)X[ie]=x}}(z,N,ee)},_=function(E,N,k,V,Q){if(!(Q.hiLevel<E)){if(E===1&&x===1&&!a)return N.reverse(),void(k&&k.reverse());for(var W,G,q,U,ee=N.length,Z=0;Z<ee;){if(V[Z]>=E){for(q=Z+1;q<ee&&V[q]>=E;)q++;for(U=Z,G=q-1;U<G;U++,G--)W=N[U],N[U]=N[G],N[G]=W,k&&(W=k[U],k[U]=k[G],k[G]=W);Z=q}Z++}}},D=function(E,N,k){var V=E.split(""),Q={hiLevel:x};return k||(k=[]),S(V,k,Q),function(W,G,q){if(q.hiLevel!==0&&u)for(var U,ee=0;ee<W.length;ee++)G[ee]===1&&(U=v.indexOf(W[ee]))>=0&&(W[ee]=v[U+1])}(V,k,Q),_(2,V,N,k,Q),_(1,V,N,k,Q),V.join("")};return this.__bidiEngine__.doBidiReorder=function(E,N,k){if(function(Q,W){if(W)for(var G=0;G<Q.length;G++)W[G]=G;o===void 0&&(o=P(Q)),c===void 0&&(c=P(Q))}(E,N),s||!l||c)if(s&&l&&o^c)x=o?1:0,E=T(E,N,k);else if(!s&&l&&c)x=o?1:0,E=D(E,N,k),E=T(E,N);else if(!s||o||l||c){if(s&&!l&&o^c)E=T(E,N),o?(x=0,E=D(E,N,k)):(x=1,E=D(E,N,k),E=T(E,N));else if(s&&o&&!l&&c)x=1,E=D(E,N,k),E=T(E,N);else if(!s&&!l&&o^c){var V=u;o?(x=1,E=D(E,N,k),x=0,u=!1,E=D(E,N,k),u=V):(x=0,E=D(E,N,k),E=T(E,N),x=1,u=!1,E=D(E,N,k),u=V,E=T(E,N))}}else x=0,E=D(E,N,k);else x=o?1:0,E=D(E,N,k);return E},this.__bidiEngine__.setOptions=function(E){E&&(s=E.isInputVisual,l=E.isOutputVisual,o=E.isInputRtl,c=E.isOutputRtl,u=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var s=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var o=0;for(s=[],o=0;o<a.length;o+=1)Object.prototype.toString.call(a[o])==="[object Array]"?s.push([r.doBidiReorder(a[o][0]),a[o][1],a[o][2]]):s.push([r.doBidiReorder(a[o])]);n.text=s}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(Sr),Sr.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new fd(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Eqe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new dqe(this.contents),this.head=new pqe(this),this.name=new xqe(this),this.cmap=new qQ(this),this.toUnicode={},this.hhea=new mqe(this),this.maxp=new bqe(this),this.hmtx=new wqe(this),this.post=new vqe(this),this.os2=new gqe(this),this.loca=new Tqe(this),this.glyf=new _qe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,l,c;for(c=[],s=0,o=(l=this.bbox).length;s<o;s++)t=l[s],c.push(Math.round(t*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,s,o;for(s=0,i=0,o=(t=""+t).length;0<=o?i<o:i>o;i=0<=o?++i:--i)a=t.charCodeAt(i),s+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return s*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var ql,fd=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,s,o,l;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^s)+256*(255^o)+(255^l)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*s+256*o+l},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),dqe=function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,s,o,l,c,u,d,h,p,g,m;for(m in p=Object.keys(r).length,l=Math.log(2),d=16*Math.floor(Math.log(p)/l),s=Math.floor(d/l),u=16*p-d,(a=new fd).writeInt(this.scalarType),a.writeShort(p),a.writeShort(d),a.writeShort(s),a.writeShort(u),i=16*p,c=a.pos+i,o=null,g=[],r)for(h=r[m],a.writeString(m),a.writeInt(e(h)),a.writeInt(c),a.writeInt(h.length),g=g.concat(h),m==="head"&&(o=c),c+=h.length;c%4;)g.push(0),c++;return a.write(g),n=2981146554-e(a.data),a.pos=o+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,s;for(r=WQ.call(r);r.length%4;)r.push(0);for(i=new fd(r),a=0,n=0,s=r.length;n<s;n=n+=4)a+=i.readUInt32();return 4294967295&a},t}(),hqe={}.hasOwnProperty,Ec=function(e,t){for(var r in t)hqe.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};ql=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var pqe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ec(t,ql),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new fd).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),X$=function(){function e(t,r){var n,a,i,s,o,l,c,u,d,h,p,g,m,v,y,b,x;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),d=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(p=t.readUInt16(),h=p/2,t.pos+=6,i=function(){var O,P;for(P=[],l=O=0;0<=h?O<h:O>h;l=0<=h?++O:--O)P.push(t.readUInt16());return P}(),t.pos+=2,m=function(){var O,P;for(P=[],l=O=0;0<=h?O<h:O>h;l=0<=h?++O:--O)P.push(t.readUInt16());return P}(),c=function(){var O,P;for(P=[],l=O=0;0<=h?O<h:O>h;l=0<=h?++O:--O)P.push(t.readUInt16());return P}(),u=function(){var O,P;for(P=[],l=O=0;0<=h?O<h:O>h;l=0<=h?++O:--O)P.push(t.readUInt16());return P}(),a=(this.length-t.pos+this.offset)/2,o=function(){var O,P;for(P=[],l=O=0;0<=a?O<a:O>a;l=0<=a?++O:--O)P.push(t.readUInt16());return P}(),l=y=0,x=i.length;y<x;l=++y)for(v=i[l],n=b=g=m[l];g<=v?b<=v:b>=v;n=g<=v?++b:--b)u[l]===0?s=n+c[l]:(s=o[u[l]/2+(n-g)-(h-l)]||0)!==0&&(s+=c[l]),this.codeMap[n]=65535&s}t.pos=d}return e.encode=function(t,r){var n,a,i,s,o,l,c,u,d,h,p,g,m,v,y,b,x,O,P,j,T,S,_,D,E,N,k,V,Q,W,G,q,U,ee,Z,I,M,z,K,X,ae,ue,ie,ge,ye,H;switch(V=new fd,s=Object.keys(t).sort(function(ke,Ce){return ke-Ce}),r){case"macroman":for(m=0,v=function(){var ke=[];for(g=0;g<256;++g)ke.push(0);return ke}(),b={0:0},i={},Q=0,U=s.length;Q<U;Q++)b[ie=t[a=s[Q]]]==null&&(b[ie]=++m),i[a]={old:t[a],new:b[t[a]]},v[a]=b[t[a]];return V.writeUInt16(1),V.writeUInt16(0),V.writeUInt32(12),V.writeUInt16(0),V.writeUInt16(262),V.writeUInt16(0),V.write(v),{charMap:i,subtable:V.data,maxGlyphID:m+1};case"unicode":for(N=[],d=[],x=0,b={},n={},y=c=null,W=0,ee=s.length;W<ee;W++)b[P=t[a=s[W]]]==null&&(b[P]=++x),n[a]={old:P,new:b[P]},o=b[P]-a,y!=null&&o===c||(y&&d.push(y),N.push(a),c=o),y=a;for(y&&d.push(y),d.push(65535),N.push(65535),D=2*(_=N.length),S=2*Math.pow(Math.log(_)/Math.LN2,2),h=Math.log(S/2)/Math.LN2,T=2*_-S,l=[],j=[],p=[],g=G=0,Z=N.length;G<Z;g=++G){if(E=N[g],u=d[g],E===65535){l.push(0),j.push(0);break}if(E-(k=n[E].new)>=32768)for(l.push(0),j.push(2*(p.length+_-g)),a=q=E;E<=u?q<=u:q>=u;a=E<=u?++q:--q)p.push(n[a].new);else l.push(k-E),j.push(0)}for(V.writeUInt16(3),V.writeUInt16(1),V.writeUInt32(12),V.writeUInt16(4),V.writeUInt16(16+8*_+2*p.length),V.writeUInt16(0),V.writeUInt16(D),V.writeUInt16(S),V.writeUInt16(h),V.writeUInt16(T),ae=0,I=d.length;ae<I;ae++)a=d[ae],V.writeUInt16(a);for(V.writeUInt16(0),ue=0,M=N.length;ue<M;ue++)a=N[ue],V.writeUInt16(a);for(ge=0,z=l.length;ge<z;ge++)o=l[ge],V.writeUInt16(o);for(ye=0,K=j.length;ye<K;ye++)O=j[ye],V.writeUInt16(O);for(H=0,X=p.length;H<X;H++)m=p[H],V.writeUInt16(m);return{charMap:n,subtable:V.data,maxGlyphID:x+1}}},e}(),qQ=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ec(t,ql),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new X$(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var a,i;return n==null&&(n="macroman"),a=X$.encode(r,n),(i=new fd).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},t}(),mqe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ec(t,ql),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),gqe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ec(t,ql),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),vqe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ec(t,ql),t.prototype.tag="post",t.prototype.parse=function(r){var n,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var s;for(a=r.readUInt16(),this.glyphNameIndex=[],s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var o,l,c;for(c=[],s=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;s=0<=l?++o:--o)c.push(r.readUInt32());return c}).call(this)}},t}(),yqe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},xqe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ec(t,ql),t.prototype.tag="name",t.prototype.parse=function(r){var n,a,i,s,o,l,c,u,d,h,p;for(r.pos=this.offset,r.readShort(),n=r.readShort(),l=r.readShort(),a=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(c={},s=d=0,h=a.length;d<h;s=++d)i=a[s],r.pos=i.offset,u=r.readString(i.length),o=new yqe(u,i),c[p=i.nameID]==null&&(c[p]=[]),c[i.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t}(),bqe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ec(t,ql),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),wqe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ec(t,ql),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,a,i,s,o,l,c;for(r.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)d.push(r.readInt16());return d}(),this.widths=(function(){var u,d,h,p;for(p=[],u=0,d=(h=this.metrics).length;u<d;u++)s=h[u],p.push(s.advance);return p}).call(this),a=this.widths[this.widths.length-1],c=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)c.push(this.widths.push(a));return c},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),WQ=[].slice,_qe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ec(t,ql),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,a,i,s,o,l,c,u,d,h;return r in this.cache?this.cache[r]:(s=this.file.loca,n=this.file.contents,a=s.indexOf(r),(i=s.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,o=(l=new fd(n.read(i))).readShort(),u=l.readShort(),h=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[r]=o===-1?new Aqe(l,u,h,c,d):new Sqe(l,o,u,h,c,d),this.cache[r]))},t.prototype.encode=function(r,n,a){var i,s,o,l,c;for(o=[],s=[],l=0,c=n.length;l<c;l++)i=r[n[l]],s.push(o.length),i&&(o=o.concat(i.encode(a)));return s.push(o.length),{table:o,offsets:s}},t}(),Sqe=function(){function e(t,r,n,a,i,s){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Aqe=function(){function e(t,r,n,a,i){var s,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new fd(WQ.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),Tqe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ec(t,ql),t.prototype.tag="loca",t.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=2)s.push(2*r.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=4)s.push(r.readUInt32());return s}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<a.length;++o)if(a[o]=i,s<n.length&&n[s]==o){++s,a[o]=i;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(i+=c)}for(var u=new Array(4*a.length),d=0;d<a.length;++d)u[4*d+3]=255&a[d],u[4*d+2]=(65280&a[d])>>8,u[4*d+1]=(16711680&a[d])>>16,u[4*d]=(4278190080&a[d])>>24;return u},t}(),Eqe=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,s,o,l;for(a={},s=0,o=t.length;s<o;s++)a[i=t[s]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in l=this.glyphsFor(r))n=l[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,s,o,l,c,u,d,h,p,g,m,v,y;for(a in n=qQ.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),p={0:0},y=n.charMap)p[(l=y[a]).old]=l.new;for(g in h=n.maxGlyphID,s)g in p||(p[g]=h++);return u=function(b){var x,O;for(x in O={},b)O[b[x]]=x;return O}(p),d=Object.keys(u).sort(function(b,x){return b-x}),m=function(){var b,x,O;for(O=[],b=0,x=d.length;b<x;b++)o=d[b],O.push(u[o]);return O}(),i=this.font.glyf.encode(s,m,p),c=this.font.loca.encode(i.offsets,m),v={cmap:this.font.cmap.raw(),glyf:i.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},e}();Sr.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,s;if(Array.isArray(r))return"["+function(){var o,l,c;for(c=[],o=0,l=r.length;o<l;o++)n=r[o],c.push(t.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)s=r[a],i.push("/"+a+" "+t.convert(s));return i.push(">>"),i.join(`
`)}return""+r},t}();function HQ(e,t,r,n,a){n=n||{};var i=1.15,s=a.internal.scaleFactor,o=a.internal.getFontSize()/s,l=a.getLineHeightFactor?a.getLineHeightFactor():i,c=o*l,u=/\r\n|\r|\n/g,d="",h=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(d=typeof e=="string"?e.split(u):e,h=d.length||1),r+=o*(2-i),n.valign==="middle"?r-=h/2*c:n.valign==="bottom"&&(r-=h*c),n.halign==="center"||n.halign==="right"){var p=o;if(n.halign==="center"&&(p*=.5),d&&h>=1){for(var g=0;g<d.length;g++)a.text(d[g],t-a.getStringUnitWidth(d[g])*p,r),r+=c;return a}t-=a.getStringUnitWidth(e)*p}return n.halign==="justify"?a.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(e,t,r),a}var Q$={},Ep=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:Q$=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,a,i;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var s=this.jsPDFDocument.internal.getFont(),o=s.fontStyle,l=s.fontName;if(t.font&&(l=t.font),t.fontStyle){o=t.fontStyle;var c=this.getFontList()[l];c&&c.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),o=c[0])}if(this.jsPDFDocument.setFont(l,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var u=e.unifyColor(t.fillColor);u&&(n=this.jsPDFDocument).setFillColor.apply(n,u),u=e.unifyColor(t.textColor),u&&(a=this.jsPDFDocument).setTextColor.apply(a,u),u=e.unifyColor(t.lineColor),u&&(i=this.jsPDFDocument).setDrawColor.apply(i,u),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,a,i){return this.jsPDFDocument.rect(t,r,n,a,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return Q$||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),JN=function(e,t){return JN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},JN(e,t)};function GQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");JN(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var KQ=function(e){GQ(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t}(Array);function Nqe(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function kqe(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function M5(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],a=n.map(function(i){return r.getTextWidth(i)}).reduce(function(i,s){return Math.max(i,s)},0);return a}function YQ(e,t,r,n){var a=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:a,lineColor:i});var s=XQ(a,!1);s&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,s)}function XQ(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function jS(e,t){var r,n,a,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(a=e.right)!==null&&a!==void 0?a:t,bottom:(i=e.bottom)!==null&&i!==void 0?i:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function QQ(e,t){var r=jS(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function Cqe(e,t,r,n,a){var i={},s=1.3333333333333333,o=Z4(t,function(x){return a.getComputedStyle(x).backgroundColor});o!=null&&(i.fillColor=o);var l=Z4(t,function(x){return a.getComputedStyle(x).color});l!=null&&(i.textColor=l);var c=jqe(n,r);c&&(i.cellPadding=c);var u="borderTopColor",d=s*r,h=n.borderTopWidth;if(n.borderBottomWidth===h&&n.borderRightWidth===h&&n.borderLeftWidth===h){var p=(parseFloat(h)||0)/d;p&&(i.lineWidth=p)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/d,right:(parseFloat(n.borderRightWidth)||0)/d,bottom:(parseFloat(n.borderBottomWidth)||0)/d,left:(parseFloat(n.borderLeftWidth)||0)/d},i.lineWidth.top||(i.lineWidth.right?u="borderRightColor":i.lineWidth.bottom?u="borderBottomColor":i.lineWidth.left&&(u="borderLeftColor"));var g=Z4(t,function(x){return a.getComputedStyle(x)[u]});g!=null&&(i.lineColor=g);var m=["left","right","center","justify"];m.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),m=["middle","bottom","top"],m.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var v=parseInt(n.fontSize||"");isNaN(v)||(i.fontSize=v/s);var y=Pqe(n);y&&(i.fontStyle=y);var b=(n.fontFamily||"").toLowerCase();return e.indexOf(b)!==-1&&(i.font=b),i}function Pqe(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function Z4(e,t){var r=JQ(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function JQ(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:JQ(e.parentElement,t):r}function jqe(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),a=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=r.map(function(o){return parseInt(o||"0")/n}),s=jS(i,0);return a>s.top&&(s.top=a),a>s.bottom&&(s.bottom=a),s}function ZQ(e,t,r,n,a){var i,s;n===void 0&&(n=!1),a===void 0&&(a=!1);var o;typeof t=="string"?o=r.document.querySelector(t):o=t;var l=Object.keys(e.getFontList()),c=e.scaleFactor(),u=[],d=[],h=[];if(!o)return console.error("Html table could not be found with input: ",t),{head:u,body:d,foot:h};for(var p=0;p<o.rows.length;p++){var g=o.rows[p],m=(s=(i=g==null?void 0:g.parentElement)===null||i===void 0?void 0:i.tagName)===null||s===void 0?void 0:s.toLowerCase(),v=Oqe(l,c,r,g,n,a);v&&(m==="thead"?u.push(v):m==="tfoot"?h.push(v):d.push(v))}return{head:u,body:d,foot:h}}function Oqe(e,t,r,n,a,i){for(var s=new KQ(n),o=0;o<n.cells.length;o++){var l=n.cells[o],c=r.getComputedStyle(l);if(a||c.display!=="none"){var u=void 0;i&&(u=Cqe(e,l,t,c,r)),s.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:u,_element:l,content:Iqe(l)})}}var d=r.getComputedStyle(n);if(s.length>0&&(a||d.display!=="none"))return s}function Iqe(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function Dqe(e,t,r){for(var n=0,a=[e,t,r];n<a.length;n++){var i=a[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function eu(e,t,r,n,a){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),s=1;s<arguments.length;s++){var o=arguments[s];if(o!=null)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(i[l]=o[l])}return i}function eJ(e,t){var r=new Ep(e),n=r.getDocumentOptions(),a=r.getGlobalOptions();Dqe(a,n,t);var i=eu({},a,n,t),s;typeof window<"u"&&(s=window);var o=Lqe(a,n,t),l=Mqe(a,n,t),c=Rqe(r,i),u=$qe(r,i,s);return{id:t.tableId,content:u,hooks:l,styles:o,settings:c}}function Lqe(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(l){if(l==="columnStyles"){var c=e[l],u=t[l],d=r[l];n.columnStyles=eu({},c,u,d)}else{var h=[e,t,r],p=h.map(function(g){return g[l]||{}});n[l]=eu({},p[0],p[1],p[2])}},i=0,s=Object.keys(n);i<s.length;i++){var o=s[i];a(o)}return n}function Mqe(e,t,r){for(var n=[e,t,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,s=n;i<s.length;i++){var o=s[i];o.didParseCell&&a.didParseCell.push(o.didParseCell),o.willDrawCell&&a.willDrawCell.push(o.willDrawCell),o.didDrawCell&&a.didDrawCell.push(o.didDrawCell),o.willDrawPage&&a.willDrawPage.push(o.willDrawPage),o.didDrawPage&&a.didDrawPage.push(o.didDrawPage)}return a}function Rqe(e,t){var r,n,a,i,s,o,l,c,u,d,h,p,g=jS(t.margin,40/e.scaleFactor()),m=(r=Fqe(e,t.startY))!==null&&r!==void 0?r:g.top,v;t.showFoot===!0?v="everyPage":t.showFoot===!1?v="never":v=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var y;t.showHead===!0?y="everyPage":t.showHead===!1?y="never":y=(a=t.showHead)!==null&&a!==void 0?a:"everyPage";var b=(i=t.useCss)!==null&&i!==void 0?i:!1,x=t.theme||(b?"plain":"striped"),O=!!t.horizontalPageBreak,P=(s=t.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(o=t.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:b,theme:x,startY:m,margin:g,pageBreak:(l=t.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(c=t.rowPageBreak)!==null&&c!==void 0?c:"auto",tableWidth:(u=t.tableWidth)!==null&&u!==void 0?u:"auto",showHead:y,showFoot:v,tableLineWidth:(d=t.tableLineWidth)!==null&&d!==void 0?d:0,tableLineColor:(h=t.tableLineColor)!==null&&h!==void 0?h:200,horizontalPageBreak:O,horizontalPageBreakRepeat:P,horizontalPageBreakBehaviour:(p=t.horizontalPageBreakBehaviour)!==null&&p!==void 0?p:"afterAllRows"}}function Fqe(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),a=e.pageNumber(),i=!1;if(r&&r.startPageNumber){var s=r.startPageNumber+r.pageNumber-1;i=s===a}return typeof t=="number"?t:(t==null||t===!1)&&i&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function $qe(e,t,r){var n=t.head||[],a=t.body||[],i=t.foot||[];if(t.html){var s=t.includeHiddenHtml;if(r){var o=ZQ(e,t.html,r,s,t.useCss)||{};n=o.head||n,a=o.body||n,i=o.foot||n}else console.error("Cannot parse html in non browser environment")}var l=t.columns||Bqe(n,a,i);return{columns:l,head:n,body:a,foot:i}}function Bqe(e,t,r){var n=e[0]||t[0]||r[0]||[],a=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var s=1,o;Array.isArray(n)?o=n[parseInt(i)]:o=n[i],typeof o=="object"&&!Array.isArray(o)&&(s=(o==null?void 0:o.colSpan)||1);for(var l=0;l<s;l++){var c=void 0;Array.isArray(n)?c=a.length:c=i+(l>0?"_".concat(l):"");var u={dataKey:c};a.push(u)}}),a}var ZN=function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e}(),Uqe=function(e){GQ(t,e);function t(r,n,a,i,s,o){var l=e.call(this,r,n,o)||this;return l.cell=a,l.row=i,l.column=s,l.section=i.section,l}return t}(ZN),Vqe=function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,a,i,s){for(var o=0,l=r;o<l.length;o++){var c=l[o],u=new Uqe(t,this,n,a,i,s),d=c(u)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],d)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var i=a[n];i(new ZN(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var i=a[n];i(new ZN(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,i){return a+i.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e}(),tJ=function(){function e(t,r,n,a,i){i===void 0&&(i=!1),this.height=0,this.raw=t,t instanceof KQ&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,a){var i;return Math.max(n,((i=r.cells[a.index])===null||i===void 0?void 0:i.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(a,i){var s=n.cells[i.index];if(!s)return 0;var o=r.getLineHeight(s.styles.fontSize),l=s.padding("vertical"),c=l+o;return c>a?c:a},0)},e}(),rJ=function(){function e(t,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var i=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=(a=t.content)!==null&&a!==void 0?a:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var s=i!=null?""+i:"",o=/\r\n|\r|\n/g;this.text=s.split(o)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/t*r,i=n*a+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=jS(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e}(),zqe=function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,a=t.allRows();n<a.length;n++){var i=a[n],s=i.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(r=Math.max(r,s.styles.cellWidth))}return r},e}();function qqe(e,t){Wqe(e,t);var r=[],n=0;t.columns.forEach(function(i){var s=i.getMaxCustomCellWidth(t);s?i.width=s:(i.width=i.wrappedWidth,r.push(i)),n+=i.width});var a=t.getWidth(e.pageSize().width)-n;a&&(a=ek(r,a,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),a&&(a=ek(r,a,function(i){return i.minWidth})),a=Math.abs(a),!t.settings.horizontalPageBreak&&a>.1/e.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),Gqe(t),Kqe(t,e),Hqe(t)}function Wqe(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,a=QQ(e,t);t.allRows().forEach(function(i){for(var s=0,o=t.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c){var u=t.hooks.didParseCell;t.callCellHooks(e,u,c,i,l,null);var d=c.padding("horizontal");c.contentWidth=M5(c.text,c.styles,e)+d;var h=M5(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,e);if(c.minReadableWidth=h+c.padding("horizontal"),typeof c.styles.cellWidth=="number")c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if(c.styles.cellWidth==="wrap"||n===!0)c.contentWidth>a?(c.minWidth=a,c.wrappedWidth=a):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var p=10/r;c.minWidth=c.styles.minCellWidth||p,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}}),t.allRows().forEach(function(i){for(var s=0,o=t.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c&&c.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,c.wrappedWidth),l.minWidth=Math.max(l.minWidth,c.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,c.minReadableWidth);else{var u=t.styles.columnStyles[l.dataKey]||t.styles.columnStyles[l.index]||{},d=u.cellWidth||u.minCellWidth;d&&typeof d=="number"&&(l.minWidth=d,l.wrappedWidth=d)}c&&(c.colSpan>1&&!l.minWidth&&(l.minWidth=c.minWidth),c.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=c.minWidth))}})}function ek(e,t,r){for(var n=t,a=e.reduce(function(p,g){return p+g.wrappedWidth},0),i=0;i<e.length;i++){var s=e[i],o=s.wrappedWidth/a,l=n*o,c=s.width+l,u=r(s),d=c<u?u:c;t-=d-s.width,s.width=d}if(t=Math.round(t*1e10)/1e10,t){var h=e.filter(function(p){return t<0?p.width>r(p):!0});h.length&&(t=ek(h,t,r))}return t}function Hqe(e){for(var t={},r=1,n=e.allRows(),a=0;a<n.length;a++)for(var i=n[a],s=0,o=e.columns;s<o.length;s++){var l=o[s],c=t[l.index];if(r>1)r--,delete i.cells[l.index];else if(c)c.cell.height+=i.height,r=c.cell.colSpan,delete i.cells[l.index],c.left--,c.left<=1&&delete t[l.index];else{var u=i.cells[l.index];if(!u)continue;if(u.height=i.height,u.rowSpan>1){var d=n.length-a,h=u.rowSpan>d?d:u.rowSpan;t[l.index]={cell:u,left:h,row:i}}}}}function Gqe(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],a=null,i=0,s=0,o=0;o<e.columns.length;o++){var l=e.columns[o];if(s-=1,s>1&&e.columns[o+1])i+=l.width,delete n.cells[l.index];else if(a){var c=a;delete n.cells[l.index],a=null,c.width=l.width+i}else{var c=n.cells[l.index];if(!c)continue;if(s=c.colSpan,i=0,c.colSpan>1){a=c,i+=l.width;continue}c.width=l.width+i}}}function Kqe(e,t){for(var r={count:0,height:0},n=0,a=e.allRows();n<a.length;n++){for(var i=a[n],s=0,o=e.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c){t.applyStyles(c.styles,!0);var u=c.width-c.padding("horizontal");if(c.styles.overflow==="linebreak")c.text=t.splitTextToSize(c.text,u+1/t.scaleFactor(),{fontSize:c.styles.fontSize});else if(c.styles.overflow==="ellipsize")c.text=J$(c.text,u,c.styles,t,"...");else if(c.styles.overflow==="hidden")c.text=J$(c.text,u,c.styles,t,"");else if(typeof c.styles.overflow=="function"){var d=c.styles.overflow(c.text,u);typeof d=="string"?c.text=[d]:c.text=d}c.contentHeight=c.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var h=c.contentHeight/c.rowSpan;c.rowSpan>1&&r.count*r.height<h*c.rowSpan?r={height:h,count:c.rowSpan}:r&&r.count>0&&r.height>h&&(h=r.height),h>i.height&&(i.height=h)}}r.count--}}function J$(e,t,r,n,a){return e.map(function(i){return Yqe(i,t,r,n,a)})}function Yqe(e,t,r,n,a){var i=1e4*n.scaleFactor();if(t=Math.ceil(t*i)/i,t>=M5(e,r,n))return e;for(;t<M5(e+a,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+a}function nJ(e,t){var r=new Ep(e),n=Xqe(t,r.scaleFactor()),a=new Vqe(t,n);return qqe(r,a),r.applyStyles(r.userStyles),a}function Xqe(e,t){var r=e.content,n=Jqe(r.columns);if(r.head.length===0){var a=Z$(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=Z$(n,"foot");a&&r.foot.push(a)}var i=e.settings.theme,s=e.styles;return{columns:n,head:e3("head",r.head,n,s,i,t),body:e3("body",r.body,n,s,i,t),foot:e3("foot",r.foot,n,s,i,t)}}function e3(e,t,r,n,a,i){var s={},o=t.map(function(l,c){for(var u=0,d={},h=0,p=0,g=0,m=r;g<m.length;g++){var v=m[g];if(s[v.index]==null||s[v.index].left===0)if(p===0){var y=void 0;Array.isArray(l)?y=l[v.index-h-u]:y=l[v.dataKey];var b={};typeof y=="object"&&!Array.isArray(y)&&(b=(y==null?void 0:y.styles)||{});var x=Zqe(e,v,c,a,n,i,b),O=new rJ(y,x,e);d[v.dataKey]=O,d[v.index]=O,p=O.colSpan-1,s[v.index]={left:O.rowSpan-1,times:p}}else p--,h++;else s[v.index].left--,p=s[v.index].times,u++}return new tJ(l,c,e,d)});return o}function Z$(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var a=Qqe(t,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function Qqe(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function Jqe(e){return e.map(function(t,r){var n,a;return typeof t=="object"?a=(n=t.dataKey)!==null&&n!==void 0?n:r:a=r,new zqe(a,t,r)})}function Zqe(e,t,r,n,a,i,s){var o=kqe(n),l;e==="head"?l=a.headStyles:e==="body"?l=a.bodyStyles:e==="foot"&&(l=a.footStyles);var c=eu({},o.table,o[e],a.styles,l),u=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},d=e==="body"?u:{},h=e==="body"&&r%2===0?eu({},o.alternateRow,a.alternateRowStyles):{},p=Nqe(i),g=eu({},p,c,h,d);return eu(g,s)}function eWe(e,t,r){var n;r===void 0&&(r={});var a=QQ(e,t),i=new Map,s=[],o=[],l=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?l=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(l=[t.settings.horizontalPageBreakRepeat]),l.forEach(function(h){var p=t.columns.find(function(g){return g.dataKey===h||g.index===h});p&&!i.has(p.index)&&(i.set(p.index,!0),s.push(p.index),o.push(t.columns[p.index]),a-=p.wrappedWidth)});for(var c=!0,u=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;u<t.columns.length;){if(i.has(u)){u++;continue}var d=t.columns[u].wrappedWidth;if(c||a>=d)c=!1,s.push(u),o.push(t.columns[u]),a-=d;else break;u++}return{colIndexes:s,columns:o,lastIndex:u-1}}function tWe(e,t){for(var r=[],n=0;n<t.columns.length;n++){var a=eWe(e,t,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function aJ(e,t){var r=t.settings,n=r.startY,a=r.margin,i={x:a.left,y:n},s=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),o=n+a.bottom+s;if(r.pageBreak==="avoid"){var l=t.body,c=l.reduce(function(h,p){return h+p.height},0);o+=c}var u=new Ep(e);(r.pageBreak==="always"||r.startY!=null&&o>u.pageSize().height)&&(sJ(u),i.y=a.top),t.callWillDrawPageHooks(u,i);var d=eu({},i);t.startPageNumber=u.pageNumber(),r.horizontalPageBreak?rWe(u,t,d,i):(u.applyStyles(u.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(h){return Eu(u,t,h,i,t.columns)}),u.applyStyles(u.userStyles),t.body.forEach(function(h,p){var g=p===t.body.length-1;R5(u,t,h,g,d,i,t.columns)}),u.applyStyles(u.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(h){return Eu(u,t,h,i,t.columns)})),YQ(u,t,d,i),t.callEndPageHooks(u,i),t.finalY=i.y,e.lastAutoTable=t,u.applyStyles(u.userStyles)}function rWe(e,t,r,n){var a=tWe(e,t),i=t.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(c,u){e.applyStyles(e.userStyles),u>0?Vv(e,t,r,n,c.columns,!0):e9(e,t,n,c.columns),nWe(e,t,r,n,c.columns),t3(e,t,n,c.columns)});else for(var s=-1,o=a[0],l=function(){var c=s;if(o){e.applyStyles(e.userStyles);var u=o.columns;s>=0?Vv(e,t,r,n,u,!0):e9(e,t,n,u),c=t9(e,t,s+1,n,u),t3(e,t,n,u)}var d=c-s;a.slice(1).forEach(function(h){e.applyStyles(e.userStyles),Vv(e,t,r,n,h.columns,!0),t9(e,t,s+1,n,h.columns,d),t3(e,t,n,h.columns)}),s=c};s<t.body.length-1;)l()}function e9(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&t.head.forEach(function(i){return Eu(e,t,i,r,n)})}function nWe(e,t,r,n,a){e.applyStyles(e.userStyles),t.body.forEach(function(i,s){var o=s===t.body.length-1;R5(e,t,i,o,r,n,a)})}function t9(e,t,r,n,a,i){e.applyStyles(e.userStyles),i=i??t.body.length;var s=Math.min(r+i,t.body.length),o=-1;return t.body.slice(r,s).forEach(function(l,c){var u=r+c===t.body.length-1,d=iJ(e,t,u,n);l.canEntireRowFit(d,a)&&(Eu(e,t,l,n,a),o=r+c)}),o}function t3(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&t.foot.forEach(function(i){return Eu(e,t,i,r,n)})}function aWe(e,t,r){var n=r.getLineHeight(e.styles.fontSize),a=e.padding("vertical"),i=Math.floor((t-a)/n);return Math.max(0,i)}function iWe(e,t,r,n){var a={};e.spansMultiplePages=!0,e.height=0;for(var i=0,s=0,o=r.columns;s<o.length;s++){var l=o[s],c=e.cells[l.index];if(c){Array.isArray(c.text)||(c.text=[c.text]);var u=new rJ(c.raw,c.styles,c.section);u=eu(u,c),u.text=[];var d=aWe(c,t,n);c.text.length>d&&(u.text=c.text.splice(d,c.text.length));var h=n.scaleFactor(),p=n.getLineHeightFactor();c.contentHeight=c.getContentHeight(h,p),c.contentHeight>=t&&(c.contentHeight=t,u.styles.minCellHeight-=t),c.contentHeight>e.height&&(e.height=c.contentHeight),u.contentHeight=u.getContentHeight(h,p),u.contentHeight>i&&(i=u.contentHeight),a[l.index]=u}}var g=new tJ(e.raw,-1,e.section,a,!0);g.height=i;for(var m=0,v=r.columns;m<v.length;m++){var l=v[m],u=g.cells[l.index];u&&(u.height=g.height);var c=e.cells[l.index];c&&(c.height=e.height)}return g}function sWe(e,t,r,n){var a=e.pageSize().height,i=n.settings.margin,s=i.top+i.bottom,o=a-s;t.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var l=t.getMinimumRowHeight(n.columns,e),c=l<r;if(l>o)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!c)return!1;var u=t.hasRowSpan(n.columns),d=t.getMaxCellHeight(n.columns)>o;return d?(u&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||n.settings.rowPageBreak==="avoid")}function R5(e,t,r,n,a,i,s){var o=iJ(e,t,n,i);if(r.canEntireRowFit(o,s))Eu(e,t,r,i,s);else if(sWe(e,r,o,t)){var l=iWe(r,o,t,e);Eu(e,t,r,i,s),Vv(e,t,a,i,s),R5(e,t,l,n,a,i,s)}else Vv(e,t,a,i,s),R5(e,t,r,n,a,i,s)}function Eu(e,t,r,n,a){n.x=t.settings.margin.left;for(var i=0,s=a;i<s.length;i++){var o=s[i],l=r.cells[o.index];if(!l){n.x+=o.width;continue}e.applyStyles(l.styles),l.x=n.x,l.y=n.y;var c=t.callCellHooks(e,t.hooks.willDrawCell,l,r,o,n);if(c===!1){n.x+=o.width;continue}oWe(e,l,n);var u=l.getTextPos();HQ(l.text,u.x,u.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,l,r,o,n),n.x+=o.width}n.y+=r.height}function oWe(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=XQ(n.lineWidth,n.fillColor);a&&e.rect(t.x,r.y,t.width,t.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),lWe(e,t,r,n.lineWidth))}function lWe(e,t,r,n){var a,i,s,o;n.top&&(a=r.x,i=r.y,s=r.x+t.width,o=r.y,n.right&&(s+=.5*n.right),n.left&&(a-=.5*n.left),l(n.top,a,i,s,o)),n.bottom&&(a=r.x,i=r.y+t.height,s=r.x+t.width,o=r.y+t.height,n.right&&(s+=.5*n.right),n.left&&(a-=.5*n.left),l(n.bottom,a,i,s,o)),n.left&&(a=r.x,i=r.y,s=r.x,o=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.left,a,i,s,o)),n.right&&(a=r.x+t.width,i=r.y,s=r.x+t.width,o=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.right,a,i,s,o));function l(c,u,d,h,p){e.getDocument().setLineWidth(c),e.getDocument().line(u,d,h,p,"S")}}function iJ(e,t,r,n){var a=t.settings.margin.bottom,i=t.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(a+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-a}function Vv(e,t,r,n,a,i){a===void 0&&(a=[]),i===void 0&&(i=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!i&&t.foot.forEach(function(o){return Eu(e,t,o,n,a)}),t.callEndPageHooks(e,n);var s=t.settings.margin;YQ(e,t,r,n),sJ(e),t.pageNumber++,n.x=s.left,n.y=s.top,r.y=s.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(o){return Eu(e,t,o,n,a)}),e.applyStyles(e.userStyles))}function sJ(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function cWe(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],a=eJ(this,n),i=nJ(this,a);return aJ(this,i),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,a){HQ(t,r,n,a,this)},e.API.autoTableSetDefaults=function(t){return Ep.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){Ep.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new Ep(this),i=ZQ(a,t,window,r,!1),s=i.head,o=i.body,l=((n=s[0])===null||n===void 0?void 0:n.map(function(c){return c.content}))||[];return{columns:l,rows:o,data:o}}}var r3;function uWe(e,t){var r=eJ(e,t),n=nJ(e,r);aJ(e,n)}try{if(typeof window<"u"&&window){var r9=window,n9=r9.jsPDF||((r3=r9.jspdf)===null||r3===void 0?void 0:r3.jsPDF);n9&&cWe(n9)}}catch(e){console.error("Could not apply autoTable plugin",e)}const fWe=()=>{const[e,t]=F.useState([]),[r,n]=F.useState(!0),[a,i]=F.useState(new Date),[s,o]=F.useState(new Date),[l,c]=F.useState("all"),[u,d]=F.useState("all"),[h,p]=F.useState("all"),[g,m]=F.useState(""),[v,y]=F.useState([]),{showToast:b}=_c(),{isDarkMode:x}=un(),{user:O}=xa(),P=async()=>{try{const V=(await dr(At(Xe,"users"))).docs.map(Q=>({id:Q.id,...Q.data()}));y(V)}catch(k){console.error("Error fetching users:",k),b("Failed to fetch users","error")}},j=async()=>{n(!0);try{let k=lr(At(Xe,"activityLogs"),Ua("time","desc"));a&&s?k=lr(At(Xe,"activityLogs"),or("time",">=",Wp(a).toISOString()),or("time","<=",N1(s).toISOString()),Ua("time","desc")):a?k=lr(At(Xe,"activityLogs"),or("time",">=",Wp(a).toISOString()),Ua("time","desc")):s&&(k=lr(At(Xe,"activityLogs"),or("time","<=",N1(s).toISOString()),Ua("time","desc")));let Q=(await dr(k)).docs.map(W=>({id:W.id,user:W.data().user,role:W.data().role,detail:W.data().detail,time:W.data().time}));if(O&&O.role==="staff"&&(Q=Q.filter(W=>W.role!=="admin")),l!=="all"&&(Q=Q.filter(W=>W.user===l)),u!=="all"&&(Q=Q.filter(W=>{const G=W.detail.toLowerCase();return u==="inbound"?G.includes("added new product")||G.includes("edited product")||G.includes("quantity from")||G.includes("quantity to"):u==="outbound"?G.includes("units deducted from stock")||G.includes("deducted from stock"):!0})),h!=="all"&&(Q=Q.filter(W=>{const G=W.detail.toLowerCase();switch(h){case"add_product":return G.includes("added new product")||G.includes("added product");case"edit_product":return G.includes("edited product")||G.includes("updated product");case"delete_product":return G.includes("deleted product")||G.includes("removed product");case"stock_increase":return G.includes("quantity from")&&G.includes("quantity to")&&G.includes("increased")||G.includes("added to stock");case"stock_decrease":return G.includes("units deducted from stock")||G.includes("deducted from stock")||G.includes("decreased");case"move_product":return G.includes("moved")||G.includes("relocated");case"user_management":return G.includes("added new user")||G.includes("updated user")||G.includes("deleted user")||G.includes("changed username")||G.includes("changed email")||G.includes("changed password");case"profile_update":return G.includes("changed username")||G.includes("changed email")||G.includes("changed full name")||G.includes("changed their password");case"job_operations":return G.includes("job")||G.includes("task")||G.includes("work");case"location_operations":return G.includes("location")||G.includes("shelf")||G.includes("moved to");default:return!0}})),g.trim()){const W=g.toLowerCase();Q=Q.filter(G=>{const q=G.detail.toLowerCase(),U=G.user.toLowerCase(),ee=G.role.toLowerCase(),Z=q.match(/"([^"]+)"/),I=Z?Z[1].toLowerCase():"";return q.includes(W)||U.includes(W)||ee.includes(W)||I.includes(W)})}t(Q)}catch(k){console.error("Error fetching activity logs:",k),b("Failed to fetch activity logs","error")}finally{n(!1)}};F.useEffect(()=>{P()},[]),F.useEffect(()=>{j()},[a,s,l,u,h,g,O]);const T=()=>{let k=v;return O&&O.role==="staff"&&(k=v.filter(V=>V.role!=="admin")),[{value:"all",label:"All Users"},...k.map(V=>({value:V.name,label:V.name}))]},S=[{value:"all",label:"All Activities"},{value:"inbound",label:"Inbound"},{value:"outbound",label:"Outbound"}],_=[{value:"all",label:"All Actions"},{value:"add_product",label:"Add Product"},{value:"edit_product",label:"Edit Product"},{value:"delete_product",label:"Delete Product"},{value:"stock_increase",label:"Stock Increase"},{value:"stock_decrease",label:"Stock Decrease"},{value:"move_product",label:"Move Product"},{value:"user_management",label:"User Management"},{value:"profile_update",label:"Profile Update"},{value:"job_operations",label:"Job Operations"},{value:"location_operations",label:"Location Operations"}],D=()=>{i(null),o(null)},E=()=>{try{const V=[["User","Role","Activity","Time"].join(","),...e.map(q=>[q.user,q.role,`"${q.detail.replace(/"/g,'""')}"`,qt(new Date(q.time),"MMM d, yyyy h:mm a")].join(","))].join(`
`),Q=new Blob([V],{type:"text/csv;charset=utf-8;"}),W=document.createElement("a"),G=URL.createObjectURL(Q);W.setAttribute("href",G),W.setAttribute("download",`activity_logs_${qt(new Date,"yyyy-MM-dd")}.csv`),W.style.visibility="hidden",document.body.appendChild(W),W.click(),document.body.removeChild(W)}catch(k){console.error("Error exporting to CSV:",k),b("Failed to export to CSV","error")}},N=()=>{var k,V,Q;try{const W=new Sr;W.setFontSize(16),W.text("Activity Logs Report",14,15),W.setFontSize(10);const G=a&&s?`${qt(a,"MMM d, yyyy")} - ${qt(s,"MMM d, yyyy")}`:a?`From ${qt(a,"MMM d, yyyy")}`:s?`To ${qt(s,"MMM d, yyyy")}`:"All Time";W.text(`Date Range: ${G}`,14,25),W.text(`User Filter: ${(k=T().find(q=>q.value===l))==null?void 0:k.label}`,14,30),W.text(`Activity Filter: ${(V=S.find(q=>q.value===u))==null?void 0:V.label}`,14,35),W.text(`Action Type Filter: ${(Q=_.find(q=>q.value===h))==null?void 0:Q.label}`,14,40),uWe(W,{startY:45,head:[["User","Role","Activity","Time"]],body:e.map(q=>[q.user,q.role,q.detail,qt(new Date(q.time),"MMM d, yyyy h:mm a")]),styles:{fontSize:8},headStyles:{fillColor:[51,65,85]}}),W.save(`activity_logs_${qt(new Date,"yyyy-MM-dd")}.pdf`)}catch(W){console.error("Error exporting to PDF:",W),b("Failed to export to PDF","error")}};return f.jsx("div",{className:`space-y-6 ${x?"bg-slate-900 text-white":"bg-white text-slate-800"}`,children:f.jsxs("div",{className:`rounded-lg shadow-sm border ${x?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[f.jsx("div",{className:`p-4 sm:p-6 border-b ${x?"border-slate-700":"border-slate-200"}`,children:f.jsxs("div",{className:"flex flex-col xs:flex-row xs:justify-between xs:items-center gap-4",children:[f.jsx("h2",{className:`text-xl font-semibold ${x?"text-white":"text-slate-800"}`,children:"Activity Logs"}),f.jsxs("div",{className:"flex flex-col xs:flex-row gap-2 w-full xs:w-auto",children:[f.jsxs("button",{onClick:E,className:`inline-flex items-center justify-center px-4 py-2 border shadow-sm text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 w-full xs:w-auto ${x?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,children:[f.jsx(Gb,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),f.jsxs("button",{onClick:N,className:`inline-flex items-center justify-center px-4 py-2 border shadow-sm text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 w-full xs:w-auto ${x?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,children:[f.jsx(Gb,{className:"h-4 w-4 mr-2"}),"Export PDF"]})]})]})}),f.jsxs("div",{className:`p-4 sm:p-6 border-b ${x?"border-slate-700":"border-slate-200"}`,children:[f.jsx("div",{className:"mb-4",children:f.jsx(Ot,{type:"text",placeholder:"Search activities, product names, users...",value:g,onChange:k=>m(k.target.value),className:"w-full",icon:f.jsx(Fl,{size:16})})}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex flex-col xs:flex-row gap-2",children:[f.jsx("div",{className:"flex-1 min-w-0",children:f.jsx(rn,{value:l,onChange:k=>c(k.target.value),options:T(),className:"w-full"})}),f.jsx("div",{className:"flex-1 min-w-0",children:f.jsx(rn,{value:u,onChange:k=>d(k.target.value),options:S,className:"w-full"})}),f.jsx("div",{className:"flex-1 min-w-0",children:f.jsx(rn,{value:h,onChange:k=>p(k.target.value),options:_,className:"w-full"})})]}),f.jsxs("div",{className:"flex flex-col xs:flex-row gap-2 items-stretch xs:items-center",children:[f.jsx("div",{className:"flex-1 min-w-0",children:f.jsx(XG,{startDate:a,endDate:s,onStartDateChange:i,onEndDateChange:o,onClear:D,className:"w-full"})}),f.jsxs(at,{variant:"secondary",onClick:j,className:"flex items-center justify-center gap-2 px-4 py-2 min-w-[44px]",children:[f.jsx(Fa,{size:16}),f.jsx("span",{className:"hidden xs:inline",children:"Refresh"})]})]})]})]}),r?f.jsx("div",{className:"flex justify-center items-center h-32",children:f.jsx("div",{className:`animate-spin rounded-full h-8 w-8 border-b-2 ${x?"border-white":"border-slate-800"}`})}):e.length>0?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"hidden lg:block overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{children:f.jsxs("tr",{className:`${x?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${x?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"User"}),f.jsx("th",{className:`px-2 py-3 text-left text-xs font-medium ${x?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Role"}),f.jsx("th",{className:`px-2 py-3 text-left text-xs font-medium ${x?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Activity"}),f.jsx("th",{className:`px-2 py-3 text-left text-xs font-medium ${x?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Time"})]})}),f.jsx("tbody",{className:`divide-y ${x?"divide-slate-700":"divide-slate-200"}`,children:f.jsx(sb,{children:e.map(k=>f.jsxs(Yn.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:`${x?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[f.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${x?"text-slate-200":"text-slate-800"}`,children:k.user}),f.jsx("td",{className:`px-2 py-4 whitespace-nowrap text-sm ${x?"text-slate-200":"text-slate-800"}`,children:k.role}),f.jsx("td",{className:`px-2 py-4 text-sm ${x?"text-slate-200":"text-slate-800"}`,children:k.detail}),f.jsx("td",{className:`px-2 py-4 whitespace-nowrap text-sm ${x?"text-slate-200":"text-slate-800"}`,children:qt(new Date(k.time),"MMM d, yyyy h:mm:ss a")})]},k.id))})})]})}),f.jsx("div",{className:"hidden md:block lg:hidden overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{children:f.jsxs("tr",{className:`${x?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[f.jsx("th",{className:`px-3 py-3 text-left text-xs font-medium ${x?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"User"}),f.jsx("th",{className:`px-2 py-3 text-left text-xs font-medium ${x?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Activity"}),f.jsx("th",{className:`px-2 py-3 text-left text-xs font-medium ${x?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Time"})]})}),f.jsx("tbody",{className:`divide-y ${x?"divide-slate-700":"divide-slate-200"}`,children:f.jsx(sb,{children:e.map(k=>f.jsxs(Yn.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:`${x?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[f.jsx("td",{className:`px-3 py-4 whitespace-nowrap text-sm ${x?"text-slate-200":"text-slate-800"}`,children:f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"font-medium",children:k.user}),f.jsx("span",{className:`text-xs ${x?"text-slate-400":"text-slate-500"}`,children:k.role})]})}),f.jsx("td",{className:`px-2 py-4 text-sm ${x?"text-slate-200":"text-slate-800"}`,children:f.jsx("div",{className:"max-w-xs truncate",title:k.detail,children:k.detail})}),f.jsx("td",{className:`px-2 py-4 whitespace-nowrap text-sm ${x?"text-slate-200":"text-slate-800"}`,children:qt(new Date(k.time),"MMM d, h:mm a")})]},k.id))})})]})}),f.jsx("div",{className:"block md:hidden space-y-3 p-4",children:f.jsx(sb,{children:e.map(k=>f.jsxs(Yn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:`rounded-lg border ${x?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-4 shadow-sm`,children:[f.jsxs("div",{className:"flex justify-between items-start mb-3",children:[f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:`font-semibold text-sm ${x?"text-blue-400":"text-blue-700"}`,children:k.user}),f.jsx("span",{className:`text-xs ${x?"text-slate-400":"text-slate-500"}`,children:k.role})]}),f.jsx("span",{className:`text-xs ${x?"text-slate-400":"text-slate-500"}`,children:qt(new Date(k.time),"h:mm a")})]}),f.jsx("div",{className:`text-sm leading-relaxed ${x?"text-slate-200":"text-slate-800"}`,children:k.detail}),f.jsx("div",{className:"mt-2 text-xs",children:f.jsx("span",{className:x?"text-slate-400":"text-slate-600",children:qt(new Date(k.time),"MMM d, yyyy")})})]},k.id))})})]}):f.jsx("div",{className:`text-center py-8 ${x?"text-slate-400":"text-slate-500"}`,children:"No activity logs found"})]})})},dWe=({startDate:e,endDate:t,onStartDateChange:r,onEndDateChange:n,onClear:a,className:i=""})=>{const{isDarkMode:s}=un(),[o,l]=F.useState(!1),[c,u]=F.useState(new Date),[d,h]=F.useState(null);F.useEffect(()=>{const D=E=>{E.target.closest(".calendar-date-range-picker")||l(!1)};return o&&document.addEventListener("mousedown",D),()=>{document.removeEventListener("mousedown",D)}},[o]);const p=D=>{!e||e&&t?(r(D),n(null)):e&&!t&&(D<e?(n(e),r(D)):n(D))},g=()=>{a(),l(!1)},m=()=>!e&&!t?"Select date range":e&&t?`${qt(e,"MMM d, yyyy")} - ${qt(t,"MMM d, yyyy")}`:e?`From ${qt(e,"MMM d, yyyy")}`:t?`To ${qt(t,"MMM d, yyyy")}`:"Select date range",v=D=>!e||!t?!1:rL(D,{start:e,end:t}),y=D=>e&&KD(D,e)||t&&KD(D,t),b=D=>!d||!e||t?!1:rL(D,{start:e<d?e:d,end:e<d?d:e}),x=D=>{const E="w-8 h-8 flex items-center justify-center text-sm rounded-full cursor-pointer transition-colors",N=tL(D,c),k=y(D),V=v(D),Q=b(D);return N?k?`${E} bg-blue-600 text-white font-semibold`:V?`${E} bg-blue-100 text-blue-900`:Q?`${E} ${s?"bg-slate-600 text-white":"bg-slate-200 text-slate-800"}`:`${E} ${s?"text-slate-200 hover:bg-slate-600":"text-slate-700 hover:bg-slate-100"}`:`${E} ${s?"text-slate-500":"text-slate-300"}`},O=she(c),P=_W(c),j=Yde(O),T=ohe(P),S=ihe({start:j,end:T}),_=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return f.jsxs("div",{className:`relative calendar-date-range-picker ${i}`,children:[f.jsxs("button",{onClick:()=>l(!o),className:`flex items-center justify-between w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600 focus:ring-slate-400":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50 focus:ring-slate-500"}`,children:[f.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[f.jsx(PU,{className:"h-4 w-4 flex-shrink-0"}),f.jsx("span",{className:"whitespace-nowrap overflow-hidden text-ellipsis",children:m()})]}),(e||t)&&f.jsx("span",{onClick:D=>{D.stopPropagation(),g()},className:`ml-3 p-1 rounded-full hover:bg-opacity-80 flex-shrink-0 cursor-pointer ${s?"hover:bg-slate-600":"hover:bg-slate-200"}`,title:"Clear date range",role:"button",tabIndex:0,onKeyDown:D=>{(D.key==="Enter"||D.key===" ")&&(D.preventDefault(),g())},children:f.jsx(Lp,{className:"h-3 w-3"})})]}),o&&f.jsx("div",{className:`absolute top-full left-0 mt-1 z-50 p-4 border rounded-lg shadow-lg w-80 ${s?"bg-slate-800 border-slate-600 text-white":"bg-white border-slate-200 text-slate-800"}`,children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("button",{onClick:()=>u(C0e(c,1)),className:`p-1 rounded-md hover:bg-opacity-80 ${s?"hover:bg-slate-600":"hover:bg-slate-100"}`,children:f.jsx(Nre,{className:"h-4 w-4"})}),f.jsx("h3",{className:`text-lg font-semibold ${s?"text-white":"text-slate-800"}`,children:qt(c,"MMMM yyyy")}),f.jsx("button",{onClick:()=>u(yW(c,1)),className:`p-1 rounded-md hover:bg-opacity-80 ${s?"hover:bg-slate-600":"hover:bg-slate-100"}`,children:f.jsx(kre,{className:"h-4 w-4"})})]}),f.jsx("div",{className:"grid grid-cols-7 gap-1",children:_.map(D=>f.jsx("div",{className:`text-center text-xs font-medium py-2 ${s?"text-slate-400":"text-slate-500"}`,children:D},D))}),f.jsx("div",{className:"grid grid-cols-7 gap-1",children:S.map(D=>f.jsx("button",{onClick:()=>p(D),onMouseEnter:()=>h(D),onMouseLeave:()=>h(null),className:x(D),disabled:!tL(D,c),children:qt(D,"d")},D.toISOString()))}),f.jsxs("div",{className:"flex gap-2 pt-2 border-t border-slate-200 dark:border-slate-600",children:[f.jsx("button",{onClick:()=>l(!1),className:`flex-1 px-3 py-2 text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600 focus:ring-slate-400":"border border-slate-300 text-slate-700 bg-white hover:bg-slate-50 focus:ring-slate-500"}`,children:"Apply"}),f.jsx("button",{onClick:g,className:`px-3 py-2 text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 ${s?"border border-red-600 text-red-200 bg-red-700 hover:bg-red-600 focus:ring-red-400":"border border-red-300 text-red-700 bg-white hover:bg-red-50 focus:ring-red-500"}`,children:"Clear"})]})]})})]})},hWe=()=>{const[e,t]=F.useState("daily"),[r,n]=F.useState(Ur(new Date,7)),[a,i]=F.useState(new Date),[s,o]=F.useState([]),[l,c]=F.useState([]),[u,d]=F.useState([]),[h,p]=F.useState({totalOrders:0,totalStock:0,totalInventoryValue:0,totalDamagedProducts:0,yesterdayOrders:0,yesterdayStockChange:0,yesterdayRevenue:0,totalDeductions:0,previousDeductions:0,todayStockAdditions:0,todayInventoryValueAdditions:0}),[g,m]=F.useState(!0),{isDarkMode:v}=un(),{user:y}=xa(),b=F.useCallback(async()=>{m(!0);try{const _=a||new Date,D=r||Ur(_,7),E=lr(At(Xe,"orders"),or("createdAt",">=",sr.fromDate(D)),or("createdAt","<=",sr.fromDate(_))),k=(await dr(E)).docs.map(Te=>{var Me,We,st;return{id:Te.id,...Te.data(),createdAt:(Me=Te.data().createdAt)==null?void 0:Me.toDate(),updatedAt:(We=Te.data().updatedAt)==null?void 0:We.toDate(),shippedTime:(st=Te.data().shippedTime)==null?void 0:st.toDate()}}),V=lr(At(Xe,"inventory")),W=(await dr(V)).docs.map(Te=>({id:Te.id,...Te.data(),lastUpdated:Te.data().lastUpdated instanceof sr?Te.data().lastUpdated.toDate():new Date(Te.data().lastUpdated)})),G=lr(At(Xe,"activityLogs"),or("time",">=",D.toISOString()),or("time","<=",_.toISOString()),Ua("time","desc")),U=(await dr(G)).docs.map(Te=>({id:Te.id,...Te.data()}));d(U),o(W),c(k);const ee=W.reduce((Te,Me)=>Te+(Me.quantity||0),0),Z=W.reduce((Te,Me)=>Te+(Me.quantity||0)*(Me.price||0),0),I=k.length,M=Ur(new Date,1),z=new Date,K=k.filter(Te=>{const Me=Te.createdAt;return Me>=M&&Me<=z}),X=K.length,ae=K.reduce((Te,Me)=>Te+(Me.totalAmount||0),0),ue=a||new Date,ie=r||Ur(ue,7),ye=U.filter(Te=>{const Me=new Date(Te.time);return Me>=ie&&Me<=ue}).filter(Te=>{const Me=Te.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(Me){const[,xt]=Me;return W.some(ht=>ht.name===xt)}const We=Te.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(We){const[,xt]=We;return W.some(ht=>ht.name===xt)}return Te.detail.match(/(\d+) units deducted from stock/)||[/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(xt=>xt.test(Te.detail)),!0}),H=ue.getTime()-ie.getTime(),ke=new Date(ie.getTime()-H),Ce=new Date(ie.getTime()),le=U.filter(Te=>{const Me=new Date(Te.time);return Me>=ke&&Me<=Ce}).filter(Te=>{const Me=Te.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(Me){const[,xt]=Me;return W.some(ht=>ht.name===xt)}const We=Te.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(We){const[,xt]=We;return W.some(ht=>ht.name===xt)}return Te.detail.match(/(\d+) units deducted from stock/)||[/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(xt=>xt.test(Te.detail)),!0}),Le=ye.reduce((Te,Me)=>{const We=Me.detail.match(/(\d+) units deducted/);return Te+(We?parseInt(We[1]):0)},0),qe=le.reduce((Te,Me)=>{const We=Me.detail.match(/(\d+) units deducted/);return Te+(We?parseInt(We[1]):0)},0),Ke=ye.reduce((Te,Me)=>{const We=Me.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(We){const[,ct,xt]=We;if(W.find(pt=>pt.name===ct))return Te+parseInt(xt)}const st=Me.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(st){const[,ct,xt,ht]=st;if(W.find(He=>He.name===ct)){const He=parseInt(ht)-parseInt(xt);if(He>0)return Te+He}}return Te},0),rt=ye.reduce((Te,Me)=>{const We=Me.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(We){const[,ct,xt]=We,ht=W.find(pt=>pt.name===ct);if(ht){const pt=ht.price||0;return Te+parseInt(xt)*pt}}const st=Me.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(st){const[,ct,xt,ht]=st,pt=W.find(He=>He.name===ct);if(pt){const He=parseInt(ht)-parseInt(xt);if(He>0){const Ft=pt.price||0;return Te+He*Ft}}}return Te},0),Re=ye.reduce((Te,Me)=>{if([/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(ct=>ct.test(Me.detail))){let ct=0;const xt=/(\d+)\s+units?\s+deducted\s+from\s+stock.*Reason:\s*damaged/i,ht=Me.detail.match(xt);if(ht)ct=parseInt(ht[1]);else{const pt=[/damaged\s+items\s+from\s+(\d+)\s+to\s+(\d+)/i,/(\d+)\s+damaged\s+items?/i,/damaged\s+(\d+)\s+items?/i,/damagedItems?:\s*(\d+)/i,/(\d+)\s+units?\s+damaged/i,/damaged\s+(\d+)\s+units?/i];for(const He of pt){const Ft=Me.detail.match(He);if(Ft){if(Ft.length===3){const Nt=parseInt(Ft[1]),Pr=parseInt(Ft[2]);ct=Math.abs(Nt-Pr)}else ct=parseInt(Ft[1]);break}}}return{incidents:Te.incidents+1,units:Te.units+(ct>0?ct:1)}}return Te},{incidents:0,units:0}).incidents;p({totalOrders:I,totalStock:ee,totalInventoryValue:Z,totalDamagedProducts:Re,yesterdayOrders:X,yesterdayStockChange:0,yesterdayRevenue:ae,totalDeductions:Le,previousDeductions:qe,todayStockAdditions:Ke,todayInventoryValueAdditions:rt})}catch(_){console.error("Error fetching data:",_)}finally{m(!1)}},[r,a]),x=()=>{n(null),i(null)};if(F.useEffect(()=>{b()},[b]),F.useEffect(()=>{},[e]),!y||y.role!=="admin"&&y.role!=="staff"&&y.role!=="manager")return f.jsx(Q3,{to:"/",replace:!0});const O=()=>{const _=[],D=new Map,E=new Date;let N;switch(e){case"hourly":N=nL(E,24);break;case"daily":N=Ur(E,7);break;case"weekly":N=Ur(E,30);break;case"monthly":N=Ur(E,90);break;default:N=Ur(E,7)}return u.filter(Q=>{const W=new Date(Q.time);return W>=N&&W<=E}).filter(Q=>{const W=Q.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(W){const[,q]=W;return s.some(U=>U.name===q)}const G=Q.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(G){const[,q]=G;return s.some(U=>U.name===q)}return!0}).forEach(Q=>{let W=0,G=!1,q="";const U=Q.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(U){const[,Z,I]=U;s.find(z=>z.name===Z)&&(W=parseInt(I),q=Z,G=!0)}const ee=Q.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(ee){const[,Z,I,M]=ee;if(s.find(K=>K.name===Z)){const K=parseInt(M)-parseInt(I);K>0&&(W=K,q=Z,G=!0)}}if(G){const Z=new Date(Q.time);let I;switch(e){case"hourly":I=qt(Z,"HH:mm");break;case"daily":I=qt(Z,"MMM dd");break;case"weekly":I=qt(Z,"'Week' w");break;case"monthly":I=qt(Z,"MMM yyyy");break;default:I=qt(Z,"MMM dd")}const M=D.get(I)||{activities:0,units:0,uniqueProducts:new Set};M.uniqueProducts.add(q),D.set(I,{activities:M.activities+1,units:M.units+W,uniqueProducts:M.uniqueProducts})}}),D.forEach((Q,W)=>{_.push({date:W,activities:Q.activities,units:Q.units,uniqueProducts:Q.uniqueProducts.size})}),_.sort((Q,W)=>{const G=new Date(Q.date),q=new Date(W.date);return G.getTime()-q.getTime()})},P=()=>{const _=[],D=new Map,E=new Date;let N;switch(e){case"hourly":N=nL(E,24);break;case"daily":N=Ur(E,7);break;case"weekly":N=Ur(E,30);break;case"monthly":N=Ur(E,90);break;default:N=Ur(E,7)}return u.filter(Q=>{const W=new Date(Q.time);return W>=N&&W<=E}).filter(Q=>(Q.detail.match(/(\d+) units deducted from stock/),!0)).forEach(Q=>{const W=Q.detail.match(/(\d+) units deducted from stock/);if(W){const G=new Date(Q.time);let q;switch(e){case"hourly":q=qt(G,"HH:mm");break;case"daily":q=qt(G,"MMM dd");break;case"weekly":q=qt(G,"'Week' w");break;case"monthly":q=qt(G,"MMM yyyy");break;default:q=qt(G,"MMM dd")}const U=D.get(q)||0;D.set(q,U+parseInt(W[1]))}}),D.forEach((Q,W)=>{_.push({date:W,products:Q})}),_.sort((Q,W)=>{const G=new Date(Q.date),q=new Date(W.date);return G.getTime()-q.getTime()})},j=()=>{const _=[],D=new Map,E=[],N=a||new Date,k=r||Ur(N,7);u.filter(G=>{const q=new Date(G.time);return q>=k&&q<=N}).filter(G=>([/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(U=>U.test(G.detail)),!0)).forEach(G=>{if([/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(ee=>ee.test(G.detail))){const ee=new Date(G.time);let Z;switch(e){case"hourly":Z=qt(ee,"HH:mm");break;case"daily":Z=qt(ee,"MMM dd");break;case"weekly":Z=qt(ee,"'Week' w");break;case"monthly":Z=qt(ee,"MMM yyyy");break;default:Z=qt(ee,"MMM dd")}let I=0;const M=/(\d+)\s+units?\s+deducted\s+from\s+stock.*Reason:\s*damaged/i,z=G.detail.match(M);if(z)I=parseInt(z[1]);else{const ue=[/damaged\s+items\s+from\s+(\d+)\s+to\s+(\d+)/i,/(\d+)\s+damaged\s+items?/i,/damaged\s+(\d+)\s+items?/i,/damagedItems?:\s*(\d+)/i,/(\d+)\s+units?\s+damaged/i,/damaged\s+(\d+)\s+units?/i];for(const ie of ue){const ge=G.detail.match(ie);if(ge){if(ge.length===3){const ye=parseInt(ge[1]),H=parseInt(ge[2]);I=Math.abs(ye-H)}else I=parseInt(ge[1]);break}}}let K="Unknown Product";const X=G.detail.match(/"([^"]+)"/);X&&(K=X[1]),E.push({date:Z,time:qt(ee,"HH:mm"),user:G.user,productName:K,units:I>0?I:1,detail:G.detail}),D.has(Z)||D.set(Z,{incidents:0,units:0,productNames:new Set});const ae=D.get(Z);ae.incidents+=1,ae.units+=I>0?I:1,ae.productNames.add(K)}}),D.forEach((G,q)=>{_.push({date:q,products:G.incidents,units:G.units,productNames:Array.from(G.productNames)})});const W=_.sort((G,q)=>new Date(G.date).getTime()-new Date(q.date).getTime());return W.detailedIncidents=E.sort((G,q)=>{const U=new Date(G.date+" "+G.time);return new Date(q.date+" "+q.time).getTime()-U.getTime()}),W},T=()=>{try{const _=qt(new Date,"yyyy-MM-dd-HH-mm"),D=e==="hourly"?"Last 24 Hours":e==="daily"?"Last 7 Days":e==="weekly"?"Last Month":e==="monthly"?"Last 3 Months":"Last 6 Months",E=s.map(Z=>[Z.name,Z.quantity,Z.price,`${Z.locationCode}-${Z.shelfNumber}`,Z.status,Z.damagedItems]),N=O(),k=P(),V=j(),Q=Math.max(N.length,k.length,V.length,E.length),W=[];W.push(`Warehouse Analytics Report - ${D} - Time Range: ${e.charAt(0).toUpperCase()+e.slice(1)} - Generated: ${qt(new Date,"yyyy-MM-dd HH:mm:ss")}`),W.push(""),W.push("SUMMARY STATISTICS");const G=`Total Stock Added (${D}),${h.todayStockAdditions},Total Units Deducted (${D}),${h.totalDeductions},Total Damaged Products (${D}),${h.totalDamagedProducts}${Vs(y)?`,Total Inventory Value,${h.totalInventoryValue.toLocaleString("en-GB")}`:`,Total Products,${s.length}`}`;W.push(G),W.push(""),W.push("INBOUND DATA,,,OUTBOUND DATA,,DAMAGED DATA,,,INVENTORY DATA,,,,,"),W.push("Date,Activities,Units Added,Affected Products,Date,Units Deducted,Date,Incidents,Units Damaged,Product Name,Quantity,Price,Location,Status,Damaged Items");for(let Z=0;Z<Q;Z++){const I=[];if(Z<N.length){const M=N[Z];I.push(M.date,M.activities,M.units,M.uniqueProducts)}else I.push("","","","");if(Z<k.length){const M=k[Z];I.push(M.date,M.products)}else I.push("","");if(Z<V.length){const M=V[Z];I.push(M.date,M.products,M.units)}else I.push("","","");if(Z<E.length){const M=E[Z];I.push(...M)}else I.push("","","","","","");W.push(I.join(","))}W.push(""),W.push("DETAILED DAMAGED PRODUCTS INCIDENTS"),W.push("Date,Time,User,Product Name,Units Damaged,Details"),V.detailedIncidents&&V.detailedIncidents.length>0?V.detailedIncidents.forEach(Z=>{W.push(`${Z.date},${Z.time},${Z.user},${Z.productName},${Z.units},"${Z.detail.replace(/"/g,'""')}"`)}):W.push("No detailed incidents available,,,,,");const q=W.join(`
`),U=new Blob([q],{type:"text/csv;charset=utf-8;"}),ee=document.createElement("a");ee.href=URL.createObjectURL(U),ee.download=`warehouse-report-${D}-${_}.csv`,ee.click(),URL.revokeObjectURL(ee.href)}catch(_){console.error("Error exporting CSV:",_),alert("Failed to export CSV. Please try again.")}},S=()=>{try{const _=e==="hourly"?"Last 24 Hours":e==="daily"?"Last 7 Days":e==="weekly"?"Last Month":e==="monthly"?"Last 3 Months":"Last 6 Months",D=O(),E=P(),N=j(),k=N.detailedIncidents||[];(!k||k.length===0)&&console.log("No detailed incidents found, generating on the fly...");const V=`
        <html>
          <head>
            <title>Warehouse Analytics Report - ${_}</title>
            <style>
              body { font-family: Arial, sans-serif; margin: 20px; color: #333; }
              .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #2563eb; padding-bottom: 20px; }
              .section { margin-bottom: 30px; page-break-inside: avoid; }
              .section h2 { color: #2563eb; border-bottom: 1px solid #2563eb; padding-bottom: 5px; margin-bottom: 15px; }
              table { width: 100%; border-collapse: collapse; margin-top: 10px; font-size: 12px; }
              th, td { border: 1px solid #ddd; padding: 6px; text-align: left; }
              th { background-color: #f8fafc; font-weight: bold; }
              .detailed-table th, .detailed-table td { font-size: 10px; padding: 4px; }
              .detailed-table td { max-width: 150px; word-wrap: break-word; }
              .stats-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin-bottom: 30px; }
              .stat-card { border: 1px solid #e2e8f0; padding: 15px; text-align: center; border-radius: 8px; }
              .stat-value { font-size: 24px; font-weight: bold; color: #2563eb; margin-bottom: 5px; }
              .stat-title { font-size: 14px; color: #64748b; }
              .chart-summary { background-color: #f8fafc; padding: 15px; border-radius: 8px; margin-bottom: 15px; }
              @media print { 
                body { margin: 0; } 
                .section { page-break-inside: avoid; }
              }
            </style>
          </head>
          <body>
            <div class="header">
              <h1>Warehouse Analytics Report</h1>
              <p><strong>Time Period:</strong> ${_}</p>
              <p><strong>Time Range:</strong> ${e.charAt(0).toUpperCase()+e.slice(1)} View</p>
              <p><strong>Generated:</strong> ${qt(new Date,"yyyy-MM-dd HH:mm:ss")}</p>
            </div>
            
            <div class="stats-grid">
              <div class="stat-card">
                <div class="stat-value">${h.todayStockAdditions}</div>
                <div class="stat-title">Total Stock Added<br/>(${_})</div>
              </div>
              <div class="stat-card">
                <div class="stat-value">${h.totalDeductions}</div>
                <div class="stat-title">Total Units Deducted<br/>(${_})</div>
              </div>
              <div class="stat-card">
                <div class="stat-value">${h.totalDamagedProducts}</div>
                <div class="stat-title">Total Damaged Products<br/>(${_})</div>
              </div>
              ${Vs(y)?`
              <div class="stat-card">
                <div class="stat-value">${h.totalInventoryValue.toLocaleString("en-GB")}</div>
                <div class="stat-title">Total Inventory Value</div>
              </div>
              `:`
              <div class="stat-card">
                <div class="stat-value">${s.length}</div>
                <div class="stat-title">Total Products</div>
              </div>
              `}
            </div>
            
            <div class="section">
              <h2>Inbound Products Analysis (${e.charAt(0).toUpperCase()+e.slice(1)} View)</h2>
              <div class="chart-summary">
                <p><strong>Total Data Points:</strong> ${D.length}</p>
                <p><strong>Total Activities:</strong> ${D.reduce((W,G)=>W+G.activities,0)}</p>
                <p><strong>Total Units Added:</strong> ${D.reduce((W,G)=>W+G.units,0)}</p>
                <p><strong>Total Products Affected:</strong> ${D.reduce((W,G)=>W+G.uniqueProducts,0)}</p>
              </div>
              <table>
                <thead>
                  <tr>
                    <th>Date</th>
                    <th>Activities</th>
                    <th>Units Added</th>
                    <th>Affected Products</th>
                  </tr>
                </thead>
                <tbody>
                  ${D.slice(0,15).map(W=>`
                    <tr>
                      <td>${W.date}</td>
                      <td>${W.activities}</td>
                      <td>${W.units}</td>
                      <td>${W.uniqueProducts}</td>
                    </tr>
                  `).join("")}
                  ${D.length>15?`<tr><td colspan="4"><em>... and ${D.length-15} more entries</em></td></tr>`:""}
                </tbody>
              </table>
            </div>
            
            <div class="section">
              <h2>Outbound Products Analysis (${e.charAt(0).toUpperCase()+e.slice(1)} View)</h2>
              <div class="chart-summary">
                <p><strong>Total Data Points:</strong> ${E.length}</p>
                <p><strong>Total Units Deducted:</strong> ${E.reduce((W,G)=>W+G.products,0)}</p>
              </div>
              <table>
                <thead>
                  <tr>
                    <th>Date</th>
                    <th>Units Deducted</th>
                  </tr>
                </thead>
                <tbody>
                  ${E.slice(0,15).map(W=>`
                    <tr>
                      <td>${W.date}</td>
                      <td>${W.products}</td>
                    </tr>
                  `).join("")}
                  ${E.length>15?`<tr><td colspan="2"><em>... and ${E.length-15} more entries</em></td></tr>`:""}
                </tbody>
              </table>
            </div>
            
            <div class="section">
              <h2>Damaged Products Analysis (${e.charAt(0).toUpperCase()+e.slice(1)} View)</h2>
              <div class="chart-summary">
                <p><strong>Total Data Points:</strong> ${N.length}</p>
                <p><strong>Total Incidents:</strong> ${N.reduce((W,G)=>W+G.products,0)}</p>
                <p><strong>Total Units Damaged:</strong> ${N.reduce((W,G)=>W+G.units,0)}</p>
                <p><strong>Detailed Incidents Available:</strong> ${k.length}</p>
                <p><strong>Note:</strong> Detailed incident breakdown with user information is shown below.</p>
              </div>
              
              <h3>Summary by Date</h3>
              <table>
                <thead>
                  <tr>
                    <th>Date</th>
                    <th>Incidents</th>
                    <th>Units Damaged</th>
                    <th>Product Names</th>
                  </tr>
                </thead>
                <tbody>
                  ${N.slice(0,15).map(W=>`
                    <tr>
                      <td>${W.date}</td>
                      <td>${W.products}</td>
                      <td>${W.units}</td>
                      <td>${W.productNames?W.productNames.join(", "):"N/A"}</td>
                    </tr>
                  `).join("")}
                  ${N.length>15?`<tr><td colspan="4"><em>... and ${N.length-15} more entries</em></td></tr>`:""}
                </tbody>
              </table>
              
              <h3>Detailed Incidents by Entry</h3>
              <table class="detailed-table">
                <thead>
                  <tr>
                    <th>Date & Time</th>
                    <th>User</th>
                    <th>Product</th>
                    <th>Units Damaged</th>
                    <th>Details</th>
                  </tr>
                </thead>
                <tbody>
                  ${k.length>0?k.slice(0,50).map(W=>`
                    <tr>
                      <td>${W.date} ${W.time}</td>
                      <td>${W.user}</td>
                      <td>${W.productName}</td>
                      <td>${W.units}</td>
                      <td style="max-width: 200px; word-wrap: break-word;">${W.detail}</td>
                    </tr>
                  `).join(""):'<tr><td colspan="5">No detailed incidents available</td></tr>'}
                  ${k.length>50?`<tr><td colspan="5"><em>... and ${k.length-50} more incidents</em></td></tr>`:""}
                </tbody>
              </table>
            </div>
            
            <div class="section">
              <h2>Inventory Summary (${s.length} items)</h2>
              <div class="chart-summary">
                <p><strong>Total Products:</strong> ${s.length}</p>
                <p><strong>Active Products:</strong> ${s.filter(W=>W.status==="active").length}</p>
                <p><strong>Pending Products:</strong> ${s.filter(W=>W.status==="pending").length}</p>
                <p><strong>Total Quantity:</strong> ${s.reduce((W,G)=>W+(G.quantity||0),0)}</p>
              </div>
              <table>
                <thead>
                  <tr>
                    <th>Product</th>
                    <th>Quantity</th>
                    <th>Price</th>
                    <th>Location</th>
                    <th>Status</th>
                  </tr>
                </thead>
                <tbody>
                  ${s.map(W=>`
                    <tr>
                      <td>${W.name}</td>
                      <td>${W.quantity}</td>
                      <td>${W.price&&!isNaN(W.price)?`${W.price.toFixed(2)}`:"Not set"}</td>
                      <td>${W.locationCode}-${W.shelfNumber}</td>
                      <td>${W.status}</td>
                    </tr>
                  `).join("")}
                </tbody>
              </table>
            </div>
          </body>
        </html>
      `,Q=window.open("","_blank");Q?(Q.document.write(V),Q.document.close(),Q.focus(),setTimeout(()=>{Q.print()},500)):alert("Please allow pop-ups to export PDF")}catch(_){console.error("Error exporting PDF:",_),alert("Failed to export PDF. Please try again.")}};return f.jsxs("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6",children:[f.jsx("style",{children:`
          @keyframes fadeInUp {
            from {
              opacity: 0;
              transform: translateY(1rem);
            }
            to {
              opacity: 1;
              transform: translateY(0);
            }
          }
          .animate-fade-in-up {
            animation: fadeInUp 0.5s ease-out forwards;
          }
        `}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"text-center md:text-left",children:[f.jsx("h1",{className:`text-xl md:text-2xl font-semibold ${v?"text-white":"text-slate-800"}`,children:"Reports and Analytics"}),f.jsx("p",{className:`${v?"text-slate-400":"text-slate-500"} mt-1 text-sm md:text-base`,children:"Admin Dashboard - Comprehensive warehouse insights"})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-between items-start sm:items-center",children:[f.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[f.jsxs("button",{onClick:T,className:`flex-1 sm:flex-none inline-flex items-center justify-center px-3 py-2 border shadow-sm text-sm leading-4 font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 animate-fade-in-up ${v?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,style:{animationDelay:"200ms"},children:[f.jsx(Gb,{className:"h-4 w-4 mr-2"}),f.jsx("span",{className:"hidden xs:inline",children:"Export "}),"CSV"]}),f.jsxs("button",{onClick:S,className:`flex-1 sm:flex-none inline-flex items-center justify-center px-3 py-2 border shadow-sm text-sm leading-4 font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 animate-fade-in-up ${v?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,style:{animationDelay:"400ms"},children:[f.jsx(Gb,{className:"h-4 w-4 mr-2"}),f.jsx("span",{className:"hidden xs:inline",children:"Export "}),"PDF"]})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[f.jsx("div",{className:"w-full sm:w-auto",children:f.jsx(rn,{value:e,onChange:_=>t(_.target.value),options:[{value:"hourly",label:"Hourly"},{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"}],className:"animate-fade-in-up text-sm w-full sm:w-auto",style:{animationDelay:"100ms"}})}),f.jsx("div",{className:"w-full sm:w-auto",children:f.jsx(dWe,{startDate:r,endDate:a,onStartDateChange:n,onEndDateChange:i,onClear:x,className:"animate-fade-in-up text-sm w-full sm:w-auto"})}),f.jsx(at,{variant:"secondary",onClick:b,className:`flex items-center justify-center gap-2 w-full sm:w-auto ${g?"opacity-50 cursor-not-allowed":""}`,disabled:g,children:f.jsx(Fa,{size:16,className:g?"animate-spin":""})})]})]})]}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:g?f.jsxs(f.Fragment,{children:[f.jsx(kf,{}),f.jsx(kf,{}),f.jsx(kf,{}),f.jsx(kf,{})]}):f.jsxs(f.Fragment,{children:[f.jsx(Ka,{title:`Total Stock Added (${r&&a?`${qt(r,"MMM d")} - ${qt(a,"MMM d, yyyy")}`:r?`From ${qt(r,"MMM d, yyyy")}`:a?`To ${qt(a,"MMM d, yyyy")}`:"Last 7 Days"})`,value:h.todayStockAdditions,icon:f.jsx(Bo,{size:24,className:"text-blue-600"})}),f.jsx(Ka,{title:`Total Units Deducted (${r&&a?`${qt(r,"MMM d")} - ${qt(a,"MMM d, yyyy")}`:r?`From ${qt(r,"MMM d, yyyy")}`:a?`To ${qt(a,"MMM d, yyyy")}`:"Last 7 Days"})`,value:h.totalDeductions,icon:f.jsx(LU,{size:24,className:"text-blue-600"})}),f.jsx(Ka,{title:`Total Damaged Products (${r&&a?`${qt(r,"MMM d")} - ${qt(a,"MMM d, yyyy")}`:r?`From ${qt(r,"MMM d, yyyy")}`:a?`To ${qt(a,"MMM d, yyyy")}`:"Last 7 Days"})`,value:h.totalDamagedProducts,icon:f.jsx(Ah,{size:24,className:"text-blue-600"})}),Vs(y)?f.jsx(Ka,{title:"Total Inventory Value",value:`${h.totalInventoryValue.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:f.jsx(Kb,{size:24,className:"text-blue-600"})}):f.jsx(Ka,{title:"Total Products",value:s.length,icon:f.jsx(Bo,{size:24,className:"text-purple-600"})})]})}),g?f.jsx("div",{className:"flex justify-center items-center h-64",children:f.jsx("div",{className:`animate-spin rounded-full h-8 w-8 border-b-2 ${v?"border-white":"border-slate-800"}`})}):f.jsx(f.Fragment,{children:f.jsxs("div",{className:"space-y-4 md:space-y-6",children:[f.jsxs("div",{className:`${v?"bg-slate-800":"bg-white"} p-3 md:p-4 rounded-lg shadow-sm`,children:[f.jsx("h3",{className:`text-base md:text-lg font-medium ${v?"text-white":"text-slate-800"} mb-3 md:mb-4`,children:"Inbound Products - Daily Additions & Units"}),f.jsx("div",{className:"h-64 md:h-80",children:f.jsx(yp,{width:"100%",height:"100%",children:f.jsxs(wp,{data:O(),children:[f.jsx(vh,{strokeDasharray:"3 3",stroke:v?"#334155":"#e2e8f0"}),f.jsx(lu,{dataKey:"date",stroke:v?"#94a3b8":"#64748b"}),f.jsx(cu,{stroke:v?"#94a3b8":"#64748b"}),f.jsx(vs,{contentStyle:{backgroundColor:v?"#1e293b":"#ffffff",border:v?"1px solid #334155":"1px solid #e2e8f0",color:v?"#e2e8f0":"#1e293b"},formatter:(_,D)=>D==="Inbound Activities"?[`${_} activities`,D]:D==="Units Added"?[`${_} units`,D]:D==="Affected Products"?[`${_} products`,D]:[_,D],labelFormatter:_=>`Date: ${_}`}),f.jsx(Ko,{}),f.jsx(Ra,{type:"monotone",dataKey:"activities",stroke:"#8884d8",name:"Inbound Activities",strokeWidth:2}),f.jsx(Ra,{type:"monotone",dataKey:"units",stroke:"#82ca9d",name:"Units Added",strokeWidth:2}),f.jsx(Ra,{type:"monotone",dataKey:"uniqueProducts",stroke:"#ffc658",name:"Affected Products",strokeWidth:2})]})})})]}),f.jsxs("div",{className:`${v?"bg-slate-800":"bg-white"} p-3 md:p-4 rounded-lg shadow-sm`,children:[f.jsx("h3",{className:`text-base md:text-lg font-medium ${v?"text-white":"text-slate-800"} mb-3 md:mb-4`,children:"Outbound Products - Daily Deductions"}),f.jsx("div",{className:"h-64 md:h-80",children:f.jsx(yp,{width:"100%",height:"100%",children:f.jsxs(wp,{data:P(),children:[f.jsx(vh,{strokeDasharray:"3 3",stroke:v?"#334155":"#e2e8f0"}),f.jsx(lu,{dataKey:"date",stroke:v?"#94a3b8":"#64748b"}),f.jsx(cu,{stroke:v?"#94a3b8":"#64748b"}),f.jsx(vs,{contentStyle:{backgroundColor:v?"#1e293b":"#ffffff",border:v?"1px solid #334155":"1px solid #e2e8f0",color:v?"#e2e8f0":"#1e293b"}}),f.jsx(Ko,{}),f.jsx(Ra,{type:"monotone",dataKey:"products",stroke:"#ff6b6b",name:"Units Deducted",strokeWidth:2})]})})})]}),f.jsxs("div",{className:`${v?"bg-slate-800":"bg-white"} p-3 md:p-4 rounded-lg shadow-sm`,children:[f.jsx("h3",{className:`text-base md:text-lg font-medium ${v?"text-white":"text-slate-800"} mb-3 md:mb-4`,children:"Damaged Products - Daily Incidents & Units"}),f.jsx("div",{className:"h-64 md:h-80",children:f.jsx(yp,{width:"100%",height:"100%",children:f.jsxs(wp,{data:j(),children:[f.jsx(vh,{strokeDasharray:"3 3",stroke:v?"#334155":"#e2e8f0"}),f.jsx(lu,{dataKey:"date",stroke:v?"#94a3b8":"#64748b"}),f.jsx(cu,{stroke:v?"#94a3b8":"#64748b"}),f.jsx(vs,{contentStyle:{backgroundColor:v?"#1e293b":"#ffffff",border:v?"1px solid #334155":"1px solid #e2e8f0",color:v?"#e2e8f0":"#1e293b"},formatter:(_,D)=>D==="Damaged Incidents"?[`${_} incidents`,D]:D==="Units Damaged"?[`${_} units`,D]:[_,D],labelFormatter:_=>`Date: ${_}`}),f.jsx(Ko,{}),f.jsx(Ra,{type:"monotone",dataKey:"products",stroke:"#ffa726",name:"Damaged Incidents",strokeWidth:2}),f.jsx(Ra,{type:"monotone",dataKey:"units",stroke:"#ef5350",name:"Units Damaged",strokeWidth:2})]})})})]})]})})]})},pWe=()=>{const{user:e,setUser:t}=xa(),{showToast:r}=_c(),{isDarkMode:n,toggleDarkMode:a}=un(),[i,s]=F.useState(!1),[o,l]=F.useState({}),[c,u]=F.useState([]),[d,h]=F.useState(null),[p,g]=F.useState(!1),[m,v]=F.useState({username:"",email:"",name:"",password:"",confirmPassword:"",role:"staff"}),[y,b]=F.useState({}),[x,O]=F.useState({}),[P,j]=F.useState(!1),[T,S]=F.useState(null),[_,D]=F.useState({username:(e==null?void 0:e.username)||"",email:(e==null?void 0:e.email)||"",name:(e==null?void 0:e.name)||"",currentPassword:"",newPassword:"",confirmPassword:""}),[E,N]=F.useState({username:"",email:"",name:"",newPassword:"",confirmPassword:""}),k=F.useCallback(async()=>{if(n4(e)){s(!0);try{const ae=(await dr(At(Xe,"users"))).docs.map(ue=>({id:ue.id,...ue.data()}));u(ae)}catch(X){console.error("Error fetching users:",X),r("Error fetching users","error")}finally{s(!1)}}},[e==null?void 0:e.role,r]);F.useEffect(()=>{k()},[e==null?void 0:e.role,r,k]);const V=X=>X.split(" ").map(ae=>ae[0]).join("").toUpperCase().slice(0,2),Q=X=>{const{name:ae,value:ue}=X.target;D(ie=>({...ie,[ae]:ue})),o[ae]&&l(ie=>{const ge={...ie};return delete ge[ae],ge})},W=()=>{const X={};return _.username.trim()||(X.username="Username is required"),_.email.trim()&&!/\S+@\S+\.\S+/.test(_.email)&&(X.email="Invalid email format"),_.name.trim()||(X.name="Name is required"),(_.currentPassword||_.newPassword||_.confirmPassword)&&(_.currentPassword?_.currentPassword!==(e==null?void 0:e.password)&&(X.currentPassword="Current password is incorrect"):X.currentPassword="Current password is required",_.newPassword?_.newPassword.length<6&&(X.newPassword="Password must be at least 6 characters"):X.newPassword="New password is required",_.newPassword!==_.confirmPassword&&(X.confirmPassword="Passwords do not match")),l(X),Object.keys(X).length===0},G=async X=>{if(X.preventDefault(),!!e&&W()){s(!0);try{const ae={username:_.username,email:_.email,name:_.name,password:_.currentPassword!=""&&_.confirmPassword!=""&&_.newPassword!=""?_.newPassword:e.password},ue=[];e.username!==_.username&&ue.push(`changed username from "${e.username}" to "${_.username}"`),e.email!==_.email&&ue.push(`changed email from "${e.email}" to "${_.email}"`),e.name!==_.name&&ue.push(`changed full name from "${e.name}" to "${_.name}"`),_.currentPassword&&_.newPassword&&ue.push("changed their password");const ie=kr(Xe,"users",e.id);await Wn(ie,ae),ue.length>0&&await vr(At(Xe,"activityLogs"),{user:e.name,role:e.role,detail:ue.length===1?ue[0]:`made multiple profile changes: ${ue.join("; ")}`,time:new Date().toISOString()}),t({...e,username:_.username,email:_.email,name:_.name,password:_.newPassword||e.password}),D(ge=>({...ge,currentPassword:"",newPassword:"",confirmPassword:""})),r("Profile updated successfully!","success")}catch(ae){console.error("Error updating profile:",ae),l({submit:"Failed to update profile. Please try again."}),r("Failed to update profile. Please try again.","error")}finally{s(!1)}}},q=X=>{h(X),O({}),N({username:X.username,email:X.email,name:X.name,newPassword:"",confirmPassword:""})},U=X=>{const{name:ae,value:ue}=X.target;N(ie=>({...ie,[ae]:ue})),x[ae]&&O(ie=>{const ge={...ie};return delete ge[ae],ge})},ee=async()=>{if(d)try{if(s(!0),O({}),!E.username.trim()){O({username:"Username is required"});return}if(!E.name.trim()){O({name:"Name is required"});return}if(E.newPassword||E.confirmPassword){if(E.newPassword!==E.confirmPassword){O({confirmPassword:"Passwords do not match"});return}if(E.newPassword.length<6){O({newPassword:"Password must be at least 6 characters"});return}}const X=kr(Xe,"users",d.id),ae={username:E.username,email:E.email,name:E.name,role:d.role};E.newPassword&&(ae.password=E.newPassword),console.log("Attempting to update document with data:",ae);try{await Wn(X,ae),console.log("User updated successfully in Firestore")}catch(ue){console.error("Failed to update by ID, trying to find by username:",ue);const ie=lr(At(Xe,"users"),or("username","==",d.username)),ge=await dr(ie);if(ge.empty)throw new Error("User not found by username either");{const ye=ge.docs[0],H=kr(Xe,"users",ye.id);await Wn(H,ae),console.log("User updated successfully using fallback method"),u(ke=>ke.map(Ce=>Ce.username===d.username?{...Ce,id:ye.id,...ae}:Ce))}}await vr(At(Xe,"activityLogs"),{user:e==null?void 0:e.name,role:e==null?void 0:e.role,detail:`updated user "${d.name}" (username: ${E.username})`,time:new Date().toISOString()}),u(ue=>ue.map(ie=>ie.id===d.id?{...ie,...ae}:ie)),r("User updated successfully","success"),h(null)}catch(X){console.error("Error updating user:",X),r("Failed to update user","error")}finally{s(!1)}},Z=X=>{const{name:ae,value:ue}=X.target;v(ie=>({...ie,[ae]:ue})),y[ae]&&b(ie=>{const ge={...ie};return delete ge[ae],ge})},I=()=>{const X={};return m.username.trim()||(X.username="Username is required"),m.email.trim()&&!/\S+@\S+\.\S+/.test(m.email)&&(X.email="Invalid email format"),m.name.trim()||(X.name="Name is required"),m.password?m.password.length<6&&(X.password="Password must be at least 6 characters"):X.password="Password is required",m.password!==m.confirmPassword&&(X.confirmPassword="Passwords do not match"),b(X),Object.keys(X).length===0},M=async X=>{if(X.preventDefault(),!!I()){s(!0);try{const ue=(await dr(At(Xe,"users"))).docs.map(ge=>ge.data());if(ue.some(ge=>ge.username===m.username)){b({username:"Username already exists"});return}if(m.email.trim()&&ue.some(ge=>ge.email===m.email)){b({email:"Email already exists"});return}const ie=await vr(At(Xe,"users"),{username:m.username,email:m.email,name:m.name,password:m.password,role:m.role});await vr(At(Xe,"activityLogs"),{user:e==null?void 0:e.name,role:e==null?void 0:e.role,detail:`added new user "${m.name}" with role "${m.role}"`,time:new Date().toISOString()}),u(ge=>[...ge,{id:ie.id,username:m.username,email:m.email,name:m.name,role:m.role,password:m.password}]),v({username:"",email:"",name:"",password:"",confirmPassword:"",role:"staff"}),g(!1),r("User added successfully!","success")}catch(ae){console.error("Error adding user:",ae),r("Failed to add user. Please try again.","error")}finally{s(!1)}}},z=async(X,ae)=>{S({username:ae,name:X}),j(!0)},K=async()=>{if(T)try{s(!0);const X=At(Xe,"users"),ae=lr(X,or("username","==",T.username)),ue=await dr(ae);if(ue.empty){r("User not found.","error");return}const ie=ue.docs[0],ge=kr(Xe,"users",ie.id);await Bs(ge),await vr(At(Xe,"activityLogs"),{user:e==null?void 0:e.name,role:e==null?void 0:e.role,detail:`deleted user "${T.name}" (username: ${T.username})`,time:new Date().toISOString()}),u(ye=>ye.filter(H=>H.username!==T.username)),r("User deleted successfully!","success")}catch(X){console.error("Error deleting user:",X),r("Failed to delete user. Please try again.","error")}finally{s(!1),j(!1),S(null)}};return f.jsxs("div",{className:"max-w-4xl mx-auto",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsxs("div",{children:[f.jsx("h1",{className:`text-2xl font-bold ${n?"text-slate-200":"text-slate-800"}`,children:"Settings"}),f.jsx("p",{className:`${n?"text-slate-400":"text-slate-500"} mt-1`,children:"Update your profile information"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[n4(e)&&f.jsx(at,{variant:"secondary",onClick:k,className:`flex items-center gap-2 ${i?"opacity-50 cursor-not-allowed":""}`,disabled:i,children:f.jsx(Fa,{size:16,className:i?"animate-spin":""})}),f.jsx("button",{onClick:a,className:`p-2 rounded-lg transition-colors ${n?"text-yellow-400 hover:bg-slate-700":"text-slate-600 hover:bg-slate-100"}`,"aria-label":n?"Switch to light mode":"Switch to dark mode",children:n?f.jsx(DU,{size:20}):f.jsx(OU,{size:20})})]})]}),d&&f.jsxs(gn,{isOpen:!!d,onClose:()=>{h(null),O({})},title:"Edit User",size:"md",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsx(Ot,{label:"Username",name:"username",value:E.username,onChange:U,error:x.username}),f.jsx(Ot,{label:"Email",name:"email",type:"email",value:E.email,onChange:U,error:x.email}),f.jsx(Ot,{label:"Name",name:"name",value:E.name,onChange:U,error:x.name}),f.jsx(hf,{label:"New Password",name:"newPassword",value:E.newPassword,onChange:U,error:x.newPassword}),f.jsx(hf,{label:"Confirm Password",name:"confirmPassword",value:E.confirmPassword,onChange:U,error:x.confirmPassword})]}),f.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[f.jsx(at,{variant:"secondary",onClick:()=>{h(null),O({})},disabled:i,children:"Cancel"}),f.jsx(at,{onClick:ee,disabled:i,children:i?"Updating...":"Update User"})]})]}),f.jsxs(gn,{isOpen:P,onClose:()=>j(!1),title:"Confirm Deletion",size:"sm",children:[f.jsxs("p",{className:`${n?"text-slate-300":"text-slate-700"} mb-6`,children:['Are you sure you want to delete user "',T==null?void 0:T.name,'" (username: ',T==null?void 0:T.username,")? This action cannot be undone."]}),f.jsxs("div",{className:"flex justify-end gap-3",children:[f.jsx(at,{variant:"secondary",onClick:()=>j(!1),disabled:i,children:"Cancel"}),f.jsx(at,{variant:"danger",onClick:K,isLoading:i,disabled:i,children:i?"Deleting...":"Delete"})]})]}),f.jsxs("form",{onSubmit:G,className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center gap-6",children:[f.jsx("div",{className:"relative",children:f.jsx("div",{className:`h-24 w-24 rounded-full overflow-hidden ${n?"bg-blue-900/30":"bg-blue-100"} flex items-center justify-center`,children:f.jsx("span",{className:`text-2xl font-semibold ${n?"text-blue-400":"text-blue-600"}`,children:V((e==null?void 0:e.name)||"")})})}),f.jsxs("div",{children:[f.jsx("h2",{className:`text-lg font-medium ${n?"text-slate-200":"text-slate-800"}`,children:_.name}),f.jsx("p",{className:n?"text-slate-400":"text-slate-500",children:e==null?void 0:e.email})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:`text-lg font-medium ${n?"text-slate-200":"text-slate-800"}`,children:"Basic Information"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(Ot,{label:"Username",name:"username",value:_.username,onChange:Q,error:o.username,placeholder:e==null?void 0:e.username,required:!0,fullWidth:!0,darkMode:n}),f.jsx(Ot,{label:"Email",name:"email",type:"email",value:_.email,onChange:Q,error:o.email,placeholder:(e==null?void 0:e.email)||"Enter email (optional)",fullWidth:!0,darkMode:n})]}),f.jsx(Ot,{label:"Full Name",name:"name",value:_.name,onChange:Q,error:o.name,placeholder:e==null?void 0:e.username,required:!0,fullWidth:!0,darkMode:n})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("h3",{className:`text-lg font-medium ${n?"text-slate-200":"text-slate-800"}`,children:"Change Password"}),f.jsx(hf,{label:"Current Password",name:"currentPassword",value:_.currentPassword,onChange:Q,error:o.currentPassword,placeholder:"Enter current password",fullWidth:!0,darkMode:n}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(hf,{label:"New Password",name:"newPassword",value:_.newPassword,onChange:Q,error:o.newPassword,placeholder:"Enter new password",fullWidth:!0,darkMode:n}),f.jsx(hf,{label:"Confirm Password",name:"confirmPassword",value:_.confirmPassword,onChange:Q,error:o.confirmPassword,placeholder:"Confirm new password",fullWidth:!0,darkMode:n})]})]}),o.submit&&f.jsx("div",{className:"text-red-500 text-sm",children:o.submit}),f.jsx("div",{className:"flex justify-end",children:f.jsx(at,{type:"submit",isLoading:i,icon:f.jsx(nT,{size:18}),children:"Save Changes"})})]}),n4(e)&&f.jsxs("div",{className:`mt-8 p-6 rounded-lg ${n?"bg-slate-1000":"bg-white"}`,children:[f.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2 mb-4",children:[f.jsx("h2",{className:`text-xl font-semibold ${n?"text-white":"text-gray-900"} text-center md:text-left`,children:"User Management"}),f.jsxs(at,{onClick:()=>g(!0),className:"flex items-center gap-2 self-center md:self-auto",children:[f.jsx(nT,{size:16}),"Add New User"]})]}),f.jsxs("div",{className:`rounded-lg shadow overflow-hidden ${n?"bg-slate-700":"bg-gray-50"}`,children:[f.jsx("div",{className:"hidden md:block overflow-x-auto",children:f.jsxs("table",{className:`min-w-full divide-y ${n?"divide-slate-700":"divide-gray-200"}`,children:[f.jsx("thead",{className:n?"bg-slate-700":"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Username"}),f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Email"}),f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Name"}),f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Role"}),f.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Actions"})]})}),f.jsx("tbody",{className:`divide-y ${n?"divide-slate-700 bg-slate-800":"divide-gray-200 bg-white"}`,children:c.filter(X=>X.id!==(e==null?void 0:e.id)).map(X=>f.jsxs("tr",{className:n?"hover:bg-slate-700":"hover:bg-gray-50",children:[f.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:X.username}),f.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:X.email||"-"}),f.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:X.name}),f.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:X.role==="admin"?"Admin":X.role==="manager"?"Manager":X.role==="staff"?"Staff":X.role==="supply_serve"?"Supply & Serve":X.role==="fahiz"?"Fahiz":X.role==="aphy"?"APHY":X.role}),f.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(at,{variant:"ghost",size:"sm",onClick:()=>q(X),className:`${n?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:f.jsx(bs,{size:16})}),f.jsx(at,{variant:"ghost",size:"sm",onClick:()=>z(X.name,X.username),className:`${n?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,children:f.jsx(ui,{size:16})})]})})]},X.id))})]})}),f.jsx("div",{className:"md:hidden flex flex-col gap-4 p-2",children:c.filter(X=>X.id!==(e==null?void 0:e.id)).map(X=>f.jsxs("div",{className:`rounded-lg shadow p-4 flex flex-col gap-2 ${n?"bg-slate-800":"bg-white"}`,children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("div",{className:`font-semibold ${n?"text-slate-200":"text-gray-900"}`,children:X.name}),f.jsx("div",{className:`text-xs ${n?"text-slate-400":"text-gray-500"}`,children:X.username})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(at,{variant:"ghost",size:"sm",onClick:()=>q(X),className:`${n?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:f.jsx(bs,{size:16})}),f.jsx(at,{variant:"ghost",size:"sm",onClick:()=>z(X.name,X.username),className:`${n?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,children:f.jsx(ui,{size:16})})]})]}),f.jsx("div",{className:`text-sm ${n?"text-slate-300":"text-gray-700"}`,children:X.email||"-"}),f.jsx("div",{className:`text-xs font-medium ${n?"text-blue-300":"text-blue-700"}`,children:X.role==="admin"?"Admin":X.role==="manager"?"Manager":X.role==="staff"?"Staff":X.role==="supply_serve"?"Supply & Serve":X.role==="fahiz"?"Fahiz":X.role==="aphy"?"APHY":X.role})]},X.id))})]}),f.jsx(gn,{isOpen:p,onClose:()=>g(!1),title:"Add New User",size:"xl",children:f.jsxs("form",{onSubmit:M,className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(Ot,{label:"Username",name:"username",value:m.username,onChange:Z,error:y.username,required:!0,fullWidth:!0,placeholder:"Enter username (e.g., john.doe)"}),f.jsx(Ot,{label:"Email",name:"email",type:"email",value:m.email,onChange:Z,error:y.email,fullWidth:!0,placeholder:"Enter email address (optional)"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(Ot,{label:"Full Name",name:"name",value:m.name,onChange:Z,error:y.name,required:!0,fullWidth:!0,placeholder:"Enter full name (e.g., John Doe)"}),f.jsx(rn,{label:"Role",name:"role",value:m.role,onChange:Z,options:[{value:"admin",label:"Admin"},{value:"manager",label:"Manager"},{value:"staff",label:"Staff"},{value:"supply_serve",label:"Supply & Serve"},{value:"fahiz",label:"Fahiz"},{value:"aphy",label:"APHY"}],fullWidth:!0})]}),f.jsx(hf,{label:"Password",name:"password",value:m.password,onChange:Z,error:y.password,required:!0,fullWidth:!0,placeholder:"Enter password (min. 6 characters)"}),f.jsx(hf,{label:"Confirm Password",name:"confirmPassword",value:m.confirmPassword,onChange:Z,error:y.confirmPassword,required:!0,fullWidth:!0,placeholder:"Confirm your password"}),f.jsx("div",{className:"flex justify-end",children:f.jsx(at,{type:"submit",isLoading:i,disabled:i,children:"Add User"})})]})})]})]})},n3=["supply & serve","APHY","AZTEC","ZK","Fahiz"],mWe=({item:e,onSubmit:t,isLoading:r})=>{const[n,a]=F.useState(""),[i,s]=F.useState("stock sold"),[o,l]=F.useState(""),c=n3.includes(e.storeName)?n3:[e.storeName,...n3],u=[...c,"other"],[d,h]=F.useState(e.storeName||c[0]||""),[p,g]=F.useState(""),{isDarkMode:m}=un(),v=async x=>{x.preventDefault();const O=Number(n);if(!n||O<=0||O>e.quantity)return;const P=i==="other"?o:i,j=d==="other"?p.trim():d.trim();await t({id:e.id,quantity:e.quantity-O,reason:P,storeName:j})},b=(()=>{const x=Number(n);return!n||x<=0?"Quantity to deduct must be greater than 0":x>e.quantity?`Cannot deduct more than current stock (${e.quantity} units)`:i?i==="other"&&!o.trim()?"Please specify the reason":!d.trim()||d==="other"&&!p.trim()?"Please select or enter the store name":null:"Please select a reason"})();return f.jsxs("form",{onSubmit:v,className:`space-y-6 ${m?"text-white":"text-gray-900"}`,children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:`p-4 rounded-lg ${m?"bg-slate-800":"bg-slate-50"}`,children:[f.jsx("h3",{className:`text-lg font-semibold ${m?"text-white":"text-gray-900"}`,children:e.name}),f.jsxs("p",{className:`text-sm ${m?"text-slate-400":"text-slate-500"}`,children:["Current Stock: ",e.quantity," units"]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{htmlFor:"deductQuantity",className:`block text-sm font-medium ${m?"text-slate-300":"text-gray-700"}`,children:"Quantity to Deduct"}),f.jsx(Ot,{id:"deductQuantity",type:"number",min:"1",max:e.quantity,value:n,onChange:x=>a(x.target.value.replace(/^0+(?!$)/,"")),placeholder:"Enter quantity to deduct",required:!0,className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${b?"border-red-500 focus:border-red-500":""}`})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{htmlFor:"reason",className:`block text-sm font-medium ${m?"text-slate-300":"text-gray-700"}`,children:"Reason for Deduction"}),f.jsx(rn,{id:"reason",value:i,onChange:x=>s(x.target.value),required:!0,options:[{value:"",label:"Select a reason"},{value:"stock sold",label:"Stock Sold"},{value:"moved to fba",label:"Moved to FBA"},{value:"moved to mf",label:"Moved to MF"},{value:"damaged",label:"Damaged"},{value:"other",label:"Other"}],className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${b?"border-red-500 focus:border-red-500":""}`})]}),i==="other"&&f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{htmlFor:"otherReason",className:`block text-sm font-medium ${m?"text-slate-300":"text-gray-700"}`,children:"Specify Reason"}),f.jsx(Ot,{id:"otherReason",type:"text",value:o,onChange:x=>l(x.target.value),placeholder:"Enter the reason",required:!0,className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${b?"border-red-500 focus:border-red-500":""}`})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{htmlFor:"storeName",className:`block text-sm font-medium ${m?"text-slate-300":"text-gray-700"}`,children:"Store Name"}),f.jsx(rn,{id:"storeName",value:d,onChange:x=>h(x.target.value),options:u.map(x=>({value:x,label:x==="other"?"OTHER":x==null?void 0:x.toUpperCase()})),required:!0,className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${b?"border-red-500 focus:border-red-500":""}`}),d==="other"&&f.jsx(Ot,{id:"otherStoreName",type:"text",value:p,onChange:x=>g(x.target.value),placeholder:"Enter store name",required:!0,className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${b?"border-red-500 focus:border-red-500":""}`})]}),b?f.jsxs("div",{className:`flex items-center space-x-2 text-sm ${m?"text-red-400":"text-red-600"}`,children:[f.jsx(Ah,{size:16}),f.jsx("span",{children:b})]}):f.jsx("p",{className:`text-xs ${m?"text-slate-400":"text-gray-500"}`,children:"Enter the quantity to be deducted from current stock"})]}),f.jsx("div",{className:"flex justify-end space-x-3",children:f.jsx(at,{type:"submit",disabled:r||!!b,className:"min-w-[100px]",children:r?f.jsxs(f.Fragment,{children:[f.jsx(xs,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):"Update"})})]})},gWe=()=>{var I;const[e,t]=F.useState(""),[r,n]=F.useState("name"),[a,i]=F.useState(!1),[s,o]=F.useState(!1),[l,c]=F.useState(null),[u,d]=F.useState([]),[h,p]=F.useState(!1),[g,m]=F.useState(new Set),[v,y]=F.useState(null),[b,x]=F.useState(!1),[O,P]=F.useState("all"),[j,T]=F.useState(!1),{showToast:S}=_c(),{isDarkMode:_}=un(),{user:D}=xa(),E=F.useMemo(()=>{const M=[{value:"name",label:"Sort by Name"},{value:"quantity",label:"Sort by Quantity"},{value:"date",label:"Sort by Date"}];return Vs(D)&&M.splice(2,0,{value:"price",label:"Sort by Price"}),M},[D]),N=["supply & serve","APHY","AZTEC","ZK","Fahiz"],k=async()=>{o(!0);try{const M=lr(At(Xe,"inventory"),Ua("name")),K=(await dr(M)).docs.map(X=>{const ae=X.data();return{id:X.id,...ae,lastUpdated:ae.lastUpdated instanceof sr?ae.lastUpdated.toDate():new Date(ae.lastUpdated)}});d(K)}catch(M){console.error("Error fetching stock items:",M),S("Failed to fetch stock items","error")}finally{o(!1)}},V=async()=>{try{const M=Ur(new Date,90),z=lr(At(Xe,"activityLogs"),or("time",">=",M.toISOString()),Ua("time","desc")),X=(await dr(z)).docs.map(ye=>({id:ye.id,...ye.data()})),ae=Ur(new Date,10),ue=new Set,ie=new Map;X.forEach(ye=>{if(ye.detail.includes("added new product")){const H=ye.detail.match(/added new product "([^"]+)"/);if(H){const ke=H[1],Ce=new Date(ye.time);(!ie.has(ke)||Ce<ie.get(ke))&&ie.set(ke,Ce)}}if(ye.detail.includes("units deducted from stock")){const H=ye.detail.match(/units deducted from stock "([^"]+)"/);if(H){const ke=H[1];new Date(ye.time)>=ae&&ue.add(ke)}}});const ge=new Set;u.forEach(ye=>{const H=ye.name,ke=ie.get(H);ke&&ke<ae&&!ue.has(H)&&ge.add(H)}),m(ge)}catch(M){console.error("Error fetching activity logs:",M)}};F.useEffect(()=>{k()},[S]),F.useEffect(()=>{u.length>0&&V()},[u]),F.useEffect(()=>{const M=z=>{if(b||j){const K=z.target;!K.closest(".store-filter-dropdown")&&!K.closest(".status-filter-dropdown")&&(x(!1),T(!1))}};return document.addEventListener("mousedown",M),()=>{document.removeEventListener("mousedown",M)}},[b,j]);const Q=()=>{y(null),P("all"),x(!1),T(!1)},W=u.filter(M=>M.quantity>0).filter(M=>{const z=e.toLowerCase(),K=M.name.toLowerCase().includes(z),X=`${M.locationCode} - ${M.shelfNumber}`.toLowerCase().includes(z),ae=M.asin?M.asin.split(",").some(ye=>ye.trim().toLowerCase().includes(z)):!1,ue=M.barcode?M.barcode.toLowerCase().includes(z):!1,ie=v?v.storeName==="other"?!N.includes(M.storeName)&&M.fulfillmentType===v.fulfillmentType:M.storeName===v.storeName&&M.fulfillmentType===v.fulfillmentType:!0,ge=O==="all"||M.status===O;return(K||X||ae||ue)&&ie&&ge}).sort((M,z)=>r==="name"?M.name.localeCompare(z.name):r==="quantity"?z.quantity-M.quantity:r==="price"?z.price-M.price:r==="date"?new Date(z.lastUpdated).getTime()-new Date(M.lastUpdated).getTime():0),G=async M=>{var z;o(!0);try{const K=kr(Xe,"inventory",M.id),X=await uh(K);if(!X.exists())throw new Error("Stock item not found");const ae=X.data();if(!D)throw new Error("User not authenticated");const ue=M.reason==="damaged"?ae.damagedItems+(ae.quantity-M.quantity):ae.damagedItems,ie=new Date;await Wn(K,{quantity:M.quantity,damagedItems:ue,lastUpdated:sr.fromDate(ie)}),await vr(At(Xe,"activityLogs"),{detail:`${ae.quantity-M.quantity} units deducted from stock "${ae.name}" (Reason: ${M.reason}, Store: ${(z=M.storeName)==null?void 0:z.toUpperCase()}) by ${D.role} from location ${ae.locationCode} shelf ${ae.shelfNumber}`,time:new Date().toISOString(),user:D.name,role:D.role});const ge=u.map(ye=>ye.id===M.id?{...ye,quantity:M.quantity,damagedItems:ue}:ye);d(ge),c(null),i(!1),S("Stock quantity updated successfully","success")}catch(K){console.error("Error updating stock:",K),S("Failed to update stock quantity","error")}finally{o(!1)}},q=M=>{a||c(M)},U=(M,z)=>{M.stopPropagation(),c(z),i(!0)},ee=()=>{p(!0)},Z=M=>{t(M),p(!1)};return f.jsxs("div",{className:"container mx-auto px-4 py-8",children:[f.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-4",children:f.jsxs("div",{children:[f.jsx("h1",{className:`text-2xl font-bold ${_?"text-white":"text-gray-900"}`,children:"Outbound Inventory"}),f.jsx("p",{className:`${_?"text-slate-400":"text-slate-500"} mt-1`,children:"Manage and track inventory deductions"})]})}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[f.jsx("div",{className:"flex-1",children:f.jsxs("div",{className:"relative",children:[f.jsx(Ot,{type:"text",placeholder:"Search by name, location, ASIN or barcode...",value:e,onChange:M=>t(M.target.value),icon:f.jsx(Fl,{size:16}),style:{paddingRight:48}}),f.jsx("button",{type:"button",onClick:ee,className:"absolute right-1.5 top-1/2 -translate-y-1/2 flex items-center justify-center w-7 h-7 rounded-md transition-colors bg-blue-500 hover:bg-blue-600 focus:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 border-none p-0",style:{zIndex:2},title:"Scan barcode",tabIndex:0,"aria-label":"Scan barcode",children:f.jsx(pu,{size:16,className:"text-white"})})]})}),f.jsx("div",{className:"w-full sm:w-48",children:f.jsx(rn,{value:r,onChange:M=>n(M.target.value),options:E})}),f.jsxs("div",{className:"flex flex-row gap-2",children:[f.jsxs("div",{className:"relative status-filter-dropdown",children:[f.jsxs(at,{variant:"secondary",onClick:()=>T(!j),className:`flex items-center gap-2 ${O!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[O==="all"?"Status Filter":O==="active"?"Active":"Pending",f.jsx(kl,{size:16})]}),j&&f.jsx("div",{className:`absolute top-full left-0 mt-1 w-32 z-50 rounded-lg border ${_?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:f.jsxs("div",{className:"p-2",children:[f.jsx("div",{className:`text-sm font-medium mb-2 ${_?"text-slate-200":"text-slate-700"}`,children:"Filter by Status"}),f.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${_?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${O==="all"?_?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{P("all"),T(!1)},children:"All"}),f.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${_?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${O==="active"?_?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{P("active"),T(!1)},children:"Active"}),f.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${_?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${O==="pending"?_?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{P("pending"),T(!1)},children:"Pending"}),f.jsx("div",{className:`border-t ${_?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:f.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${_?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{P("all"),T(!1)},children:"Clear Filter"})})]})})]}),f.jsxs("div",{className:"relative store-filter-dropdown",children:[f.jsxs(at,{variant:"secondary",onClick:()=>x(!b),className:`flex items-center gap-2 ${v?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[v?`${v.storeName==="other"?"OTHER":(I=v.storeName)==null?void 0:I.toUpperCase()} - ${v.fulfillmentType.toUpperCase()}`:"Store Filter",f.jsx(kl,{size:16})]}),b&&f.jsx("div",{className:`absolute top-full left-0 mt-1 w-64 z-50 rounded-lg border ${_?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:f.jsxs("div",{className:"p-2",children:[f.jsx("div",{className:`text-sm font-medium mb-2 ${_?"text-slate-200":"text-slate-700"}`,children:"Filter by Store & Type"}),["supply & serve","APHY","AZTEC","ZK","Fahiz","other"].map(M=>f.jsxs("div",{className:"group relative",children:[f.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${_?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(v==null?void 0:v.storeName)===M?_?"bg-slate-700":"bg-slate-100":""}`,children:M==null?void 0:M.toUpperCase()}),f.jsxs("div",{className:`absolute right-full top-0 mr-1 hidden group-hover:block w-24 ${_?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} border rounded-lg shadow-lg`,children:[f.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer transition-colors ${_?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(v==null?void 0:v.storeName)===M&&(v==null?void 0:v.fulfillmentType)==="fba"?_?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{y({storeName:M,fulfillmentType:"fba"}),x(!1)},children:"FBA"}),f.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer transition-colors ${_?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(v==null?void 0:v.storeName)===M&&(v==null?void 0:v.fulfillmentType)==="mf"?_?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{y({storeName:M,fulfillmentType:"mf"}),x(!1)},children:"MF"})]})]},M)),f.jsx("div",{className:`border-t ${_?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:f.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${_?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{y(null),x(!1)},children:"Clear Filter"})})]})})]})]}),f.jsx(at,{variant:"secondary",onClick:()=>{k(),Q()},className:`flex items-center gap-2 ${s?"opacity-50 cursor-not-allowed":""}`,disabled:s,children:f.jsx(Fa,{size:16,className:s?"animate-spin":""})}),(v||O!=="all")&&f.jsx(at,{variant:"secondary",onClick:Q,className:"flex items-center gap-2",children:"Clear Filters"})]}),s?f.jsx("div",{className:`text-center py-12 ${_?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:f.jsxs("div",{className:"flex flex-col items-center gap-4",children:[f.jsx(xs,{className:`w-8 h-8 ${_?"text-blue-400":"text-blue-600"} animate-spin`}),f.jsx("p",{className:_?"text-slate-400":"text-slate-600",children:"Loading stock items..."})]})}):W.length>0?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"hidden md:block rounded-lg overflow-hidden border ${isDarkMode ? 'border-slate-700' : 'border-slate-200'}",children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{className:`${_?"bg-slate-800":"bg-slate-50"}`,children:f.jsxs("tr",{children:[f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${_?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${_?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Unit"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${_?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Status"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${_?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${_?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${_?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Quantity"}),(D==null?void 0:D.role)==="admin"&&f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${_?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Price"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${_?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Last Updated"}),f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${_?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),f.jsx("tbody",{className:`divide-y ${_?"divide-slate-700":"divide-slate-200"}`,children:W.map(M=>f.jsxs("tr",{className:`${_?"hover:bg-slate-800":"hover:bg-slate-50"} cursor-pointer`,onClick:()=>q(M),children:[f.jsx("td",{className:`px-4 py-3 text-sm ${_?"text-blue-400":"text-blue-700"} font-medium`,children:f.jsxs("div",{className:"flex items-center gap-2",children:[M.name,g.has(M.name)&&f.jsxs("div",{className:"relative group",children:[f.jsx(l1,{className:"h-4 w-4 text-red-500 flex-shrink-0"}),f.jsxs("div",{className:`absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 text-xs rounded-lg shadow-lg z-50 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity ${_?"bg-slate-800 text-red-300 border border-red-500":"bg-white text-red-700 border border-red-300"}`,children:["This product has not been deducted for 10+ days",f.jsx("div",{className:`absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent ${_?"border-t-slate-800":"border-t-white"}`})]})]})]})}),f.jsx("td",{className:`px-4 py-3 text-sm ${_?"text-slate-200":"text-slate-800"}`,children:M.unit||"-"}),f.jsx("td",{className:`px-4 py-3 text-sm ${_?"text-slate-200":"text-slate-800"}`,children:f.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${M.status==="active"?"bg-green-100 text-green-700 ":"bg-yellow-100 text-yellow-700 "}`,children:M.status==="active"?"Active":"Pending"})}),f.jsxs("td",{className:`px-4 py-3 text-sm ${_?"text-slate-200":"text-slate-800"}`,children:[M.locationCode," - ",M.shelfNumber]}),f.jsx("td",{className:`px-4 py-3 text-sm ${_?"text-slate-200":"text-slate-800"}`,children:M.asin?M.asin.split(",").length>3?M.asin.split(",").slice(0,3).map(z=>z.trim()).join(", ")+"...":M.asin.split(",").map(z=>z.trim()).join(", "):"-"}),f.jsx("td",{className:`px-4 py-3 text-sm ${_?"text-slate-200":"text-slate-800"} text-right`,children:f.jsxs("div",{className:"flex items-center justify-end gap-2",children:[M.quantity<=10&&f.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-red-100 text-red-700 text-center ",children:"Critical Low"}),M.quantity>10&&M.quantity<=25&&f.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-yellow-100 text-yellow-700 text-center ",children:"Low Stock"}),f.jsx("span",{children:M.quantity})]})}),(D==null?void 0:D.role)==="admin"&&f.jsx("td",{className:`px-4 py-3 text-right text-sm ${_?"text-slate-200":"text-slate-900"}`,children:Number(M.price)>0?`${Number(M.price).toFixed(2)}`:"(Not set)"}),f.jsx("td",{className:`px-4 py-3 text-sm ${_?"text-slate-200":"text-slate-800"}`,children:qt(new Date(M.lastUpdated),"MMM d, yyyy")}),f.jsx("td",{className:"px-4 py-3 text-right text-sm",children:f.jsx("div",{className:"flex items-center justify-end gap-2",children:f.jsx(at,{variant:"secondary",size:"sm",onClick:z=>U(z,M),className:`p-1 ${_?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-300"} transition-colors`,children:f.jsx(bs,{size:16})})})})]},M.id))})]})})}),f.jsx("div",{className:"block md:hidden space-y-4",children:W.map(M=>f.jsxs("div",{className:`rounded-lg border ${_?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-4 shadow-sm flex flex-col gap-2`,onClick:()=>q(M),children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:`font-semibold ${_?"text-blue-400":"text-blue-700"}`,children:M.name}),f.jsxs("div",{className:"flex items-center gap-2",children:[g.has(M.name)&&f.jsxs("div",{className:"relative group",children:[f.jsx(l1,{className:"h-4 w-4 text-red-500 flex-shrink-0"}),f.jsxs("div",{className:`absolute bottom-full right-0 mb-2 px-3 py-2 text-xs rounded-lg shadow-lg z-50 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity ${_?"bg-slate-800 text-red-300 border border-red-500":"bg-white text-red-700 border border-red-300"}`,children:["This product has not been deducted for 10+ days",f.jsx("div",{className:`absolute top-full right-4 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent ${_?"border-t-slate-800":"border-t-white"}`})]})]}),f.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${M.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:M.status==="active"?"Active":"Pending"})]})]}),f.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[f.jsxs("span",{className:_?"text-slate-300":"text-slate-600",children:["Location: ",f.jsxs("span",{className:"font-medium",children:[M.locationCode," - ",M.shelfNumber]})]}),f.jsxs("span",{className:_?"text-slate-300":"text-slate-600",children:["Qty: ",f.jsx("span",{className:"font-medium",children:M.quantity})]}),M.asin&&f.jsxs("span",{className:_?"text-slate-300":"text-slate-600",children:["ASIN: ",f.jsx("span",{className:"font-medium",children:M.asin})]}),(D==null?void 0:D.role)==="admin"&&f.jsxs("span",{className:_?"text-slate-300":"text-slate-600",children:["Price: ",f.jsx("span",{className:"font-medium",children:Number(M.price)>0?`${Number(M.price).toFixed(2)}`:"(Not set)"})]}),f.jsxs("span",{className:_?"text-slate-300":"text-slate-600",children:["Updated: ",f.jsx("span",{className:"font-medium",children:qt(new Date(M.lastUpdated),"MMM d, yyyy")})]})]}),f.jsx("div",{className:"flex gap-2 mt-2",children:f.jsxs(at,{size:"sm",variant:"secondary",onClick:z=>{z.stopPropagation(),U(z,M)},children:[f.jsx(bs,{size:14})," Edit"]})})]},M.id))})]}):f.jsx("div",{className:`text-center py-12 ${_?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:f.jsx("p",{className:_?"text-slate-400":"text-slate-500",children:"No stock items found. Try adjusting your search."})}),f.jsx(gn,{isOpen:a,onClose:()=>{i(!1),c(null)},title:"Update Stock Quantity",children:l&&f.jsx(mWe,{item:l,onSubmit:G,isLoading:s})}),l&&!a&&f.jsx(Zy,{isOpen:!0,onClose:()=>c(null),item:l}),f.jsx(zh,{isOpen:h,onClose:()=>p(!1),onBarcodeScanned:Z})]})},vWe=()=>{const[e,t]=F.useState(!0),[r,n]=F.useState([]),[a,i]=F.useState(new Set),[s,o]=F.useState(""),[l,c]=F.useState(""),[u,d]=F.useState("locationCode"),[h,p]=F.useState({}),{showToast:g}=_c(),{isDarkMode:m}=un(),[v,y]=F.useState(!1),[b,x]=F.useState(null),[O,P]=F.useState(1),[j,T]=F.useState("A1"),[S,_]=F.useState("0"),[D,E]=F.useState(!1),[N,k]=F.useState(!1),[V,Q]=F.useState(""),[W,G]=F.useState(Xf("A1")),[q,U]=F.useState(null),[ee,Z]=F.useState(!1),[I,M]=F.useState(null),[z,K]=F.useState(!1),{user:X}=xa(),ae=Ee=>{T(Ee);const Re=Xf(Ee);G(Re),parseInt(S)>=Re.length&&_("0")},ue=async()=>{t(!0);try{const Ee=lr(At(Xe,"inventory"),Ua("locationCode")),Te=(await dr(Ee)).docs.map(Me=>{const We=Me.data();return{id:Me.id,name:We.name||"",quantity:We.quantity||0,price:We.price||0,unit:We.unit||null,supplier:We.supplier??null,lastUpdated:We.lastUpdated instanceof sr?We.lastUpdated.toDate():new Date,locationCode:We.locationCode||"",shelfNumber:We.shelfNumber||"",barcode:We.barcode??null,asin:We.asin??null,status:We.status||"pending",damagedItems:We.damagedItems||0,fulfillmentType:We.fulfillmentType||"fba",storeName:We.storeName||""}});n(Te)}catch(Ee){console.error("Error fetching locations:",Ee),g("Failed to fetch locations. Please try again.","error")}finally{t(!1)}},ie=async()=>{try{const Ee=lr(At(Xe,"locations")),Re=await dr(Ee),Te={};Re.forEach(Me=>{Te[Me.id]=Me.data().isAvailable!==!1}),p(Te)}catch(Ee){console.error("Error fetching location availability:",Ee)}};F.useEffect(()=>{t(!0),Promise.all([ue(),ie()]).finally(()=>t(!1))},[]);const ge=["A1","A2","A3","A4","A5","A6","A7","A8","B1","B2","B3","B4","B5","B6","B7","B8","C1","C2","C3","C4","C5","C6","C7","C8","D1","D2","D3","D4","D5","D6","D7","D8","E1","E2","E3","E4","E5","E6","E7","E8","F1","F2","F3","F4","F5","F6","F7","F8","G1","G2","G3","G4","G5","G6","G7","G8","H1","H2","H3","H4","H5","H6","H7","H8","I1","I2","I3","I4","I5","I6","I7","I8","J1","J2","J3","J4","J5","J6","J7","J8","K1","K2","K3","K4","K5","K6","K7","K8","L1","L2","L3","L4","L5","L6","L7","L8","M1","M2","M3","M4","M5","M6","M7","M8","N1","N2","N3","N4","N5","N6","N7","N8","O1","O2","O3","O4","O5","O6","O7","O8","P1","P2","P3","P4","P5","P6","P7","P8","Q1","Q2","Q3","Q4","Q5","Q6","Q7","Q8","R1","R2","R3","R4","R5","R6","R7","R8","S1","S2","S3","S4","S5","S6","S7","S8","T1","T2","T3","T4","T5","T6","T7","T8","U1","U2","U3","U4","U5","U6","U7","U8","V1","V2","V3","V4","V5","V6","V7","V8","W1","W2","W3","W4","W5","W6","W7","W8","X1","X2","X3","X4","X5","X6","X7","X8","Y1","Y2","Y3","Y4","Y5","Y6","Y7","Y8","Z1","Z2","Z3","Z4","Z5","Z6","Z7","Z8","Awaiting Location","Awaiting Locations Sparklin","Awaiting Locations Aztec"],ye=ge.reduce((Ee,Re)=>{const Me=r.filter(We=>We.locationCode===Re).reduce((We,st)=>{const ct=We.findIndex(xt=>xt.name===st.name&&qe(xt.asin)===qe(st.asin)&&qe(xt.barcode)===qe(st.barcode)&&xt.locationCode===st.locationCode&&xt.shelfNumber===st.shelfNumber);return ct>=0?We[ct]={...We[ct],quantity:We[ct].quantity+st.quantity,lastUpdated:We[ct].lastUpdated>st.lastUpdated?We[ct].lastUpdated:st.lastUpdated}:We.push(st),We},[]);return Ee[Re]={locationCode:Re,totalStock:Me.reduce((We,st)=>We+st.quantity,0),products:Me},Ee},{}),H=Object.values(ye).filter(Ee=>{const Re=s.toLowerCase(),Te=l.toLowerCase(),Me=Te===""||Ee.locationCode.toLowerCase().includes(Te),We=Re===""||Ee.products.some(st=>st.name.toLowerCase().includes(Re)||st.asin&&st.asin.split(",").some(ct=>ct.trim().toLowerCase().includes(Re))||st.barcode&&st.barcode.toLowerCase().includes(Re));return Me&&We}).sort((Ee,Re)=>{if(u==="totalStock")return Re.totalStock-Ee.totalStock;if(u==="locationCode")return Ee.locationCode==="Awaiting Location"?-1:Re.locationCode==="Awaiting Location"?1:Ee.locationCode==="Awaiting Locations Sparklin"?-1:Re.locationCode==="Awaiting Locations Sparklin"?1:Ee.locationCode==="Awaiting Locations Aztec"?-1:Re.locationCode==="Awaiting Locations Aztec"?1:Ee.locationCode.localeCompare(Re.locationCode);if(u==="availability"){const Te=h[Ee.locationCode]!==!1,Me=h[Re.locationCode]!==!1;return Te===Me?Ee.locationCode==="Awaiting Location"?-1:Re.locationCode==="Awaiting Location"?1:Ee.locationCode==="Awaiting Locations Sparklin"?-1:Re.locationCode==="Awaiting Locations Sparklin"?1:Ee.locationCode==="Awaiting Locations Aztec"?-1:Re.locationCode==="Awaiting Locations Aztec"?1:Ee.locationCode.localeCompare(Re.locationCode):Te?-1:1}return 0});F.useEffect(()=>{if(s.trim()&&s!==V){const Ee=H.filter(Re=>{const Te=s.toLowerCase();return Re.products.some(Me=>Me.quantity>0&&(Me.name.toLowerCase().includes(Te)||Me.asin&&Me.asin.split(",").some(We=>We.trim().toLowerCase().includes(Te))||Me.barcode&&Me.barcode.toLowerCase().includes(Te)))});if(Ee.length>0){const Re=Ee.flatMap(Me=>Me.products.filter(We=>{if(We.quantity===0)return!1;const st=s.toLowerCase();return We.name.toLowerCase().includes(st)||We.asin&&We.asin.split(",").some(ct=>ct.trim().toLowerCase().includes(st))||We.barcode&&We.barcode.toLowerCase().includes(st)})),Te=[...new Set(Re.map(Me=>`${Me.locationCode}-${Me.shelfNumber}`))];g(`Product found! Located at: ${Te.join(", ")}`,"success"),Q(s)}else s.trim()&&s!==V&&(g("Product not found in any location","error"),Q(s))}else!s.trim()&&V&&Q("")},[H,s,g,V]);const ke=Ee=>{i(Re=>{const Te=new Set(Re);return Te.has(Ee)?Te.delete(Ee):Te.add(Ee),Te})},Ce=()=>{k(!0)},_e=Ee=>{o(Ee),k(!1)},le=async Ee=>{const Re=!(h[Ee]??!0);p(Te=>({...Te,[Ee]:Re}));try{await r2(kr(Xe,"locations",Ee),{isAvailable:Re},{merge:!0})}catch(Te){g("Failed to update availability","error"),p(Me=>({...Me,[Ee]:!Re})),console.log(Te)}};function Le(Ee){const Re={...Ee};return Object.keys(Re).forEach(Te=>{Re[Te]===void 0&&(Re[Te]=null)}),Re}function qe(Ee){return Ee??""}const Ke=async()=>{if(b&&!(O<1||O>b.quantity)){E(!0);try{const Ee=lr(At(Xe,"inventory")),Re=await dr(Ee);let Te=null;if(Re.forEach(Me=>{const We=Me.data();We.name===b.name&&We.locationCode===j&&We.shelfNumber===S&&qe(We.asin)===qe(b.asin)&&qe(We.barcode)===qe(b.barcode)&&(Te={...We,id:Me.id})}),O===b.quantity)await r2(kr(Xe,"inventory",b.id),Le({...b,locationCode:j,shelfNumber:S,lastUpdated:new Date}),{merge:!0});else if(await r2(kr(Xe,"inventory",b.id),Le({...b,quantity:b.quantity-O,lastUpdated:new Date}),{merge:!0}),Te)await r2(kr(Xe,"inventory",Te.id),Le({...Te,quantity:Te.quantity+O,lastUpdated:new Date}),{merge:!0});else{const{id:Me,...We}=b;await vr(At(Xe,"inventory"),Le({...We,quantity:O,locationCode:j,shelfNumber:S,lastUpdated:new Date}))}await vr(At(Xe,"activityLogs"),{user:(X==null?void 0:X.name)||"Unknown",role:(X==null?void 0:X.role)||"Unknown",detail:`Moved ${O} unit(s) of "${b.name}" from ${b.locationCode}-${b.shelfNumber} to ${j}-${S}`,time:new Date().toISOString()}),g("Stock moved successfully","success"),y(!1),x(null),ue()}catch(Ee){g("Failed to move stock","error"),console.log(Ee)}finally{E(!1)}}},rt=async()=>{if(q){Z(!0);try{await Bs(kr(Xe,"inventory",q.id)),await vr(At(Xe,"activityLogs"),{user:(X==null?void 0:X.name)||"Unknown",role:(X==null?void 0:X.role)||"Unknown",detail:`deleted product "${q.name}" (${q.quantity} units) from location ${q.locationCode}-${q.shelfNumber}`,time:new Date().toISOString()}),g("Product deleted successfully","success"),U(null),ue()}catch(Ee){g("Failed to delete product","error"),console.error("Error deleting product:",Ee)}finally{Z(!1)}}};return f.jsxs("div",{className:`space-y-6 ${m?"bg-slate-900 text-white":"bg-slate-50 text-slate-800"}`,children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsx("h1",{className:`text-2xl font-bold ${m?"text-white":"text-slate-800"}`,children:"Warehouse Locations"}),f.jsx("p",{className:`${m?"text-slate-400":"text-slate-500"} mt-1`,children:"View and manage your warehouse storage locations"})]}),f.jsxs(at,{variant:"primary",onClick:()=>K(!0),className:"flex items-center gap-2",children:[f.jsx(Lre,{size:16}),"Visual Map"]})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[f.jsx("div",{className:"flex-1",children:f.jsxs("div",{className:"relative",children:[f.jsx(Ot,{type:"text",placeholder:"Search by product name, ASIN or barcode...",value:s,onChange:Ee=>o(Ee.target.value),icon:f.jsx(Fl,{size:16}),style:{paddingRight:48}}),f.jsx("button",{type:"button",onClick:Ce,className:"absolute right-1.5 top-1/2 -translate-y-1/2 flex items-center justify-center w-7 h-7 rounded-md transition-colors bg-blue-500 hover:bg-blue-600 focus:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 border-none p-0",style:{zIndex:2},title:"Scan barcode",tabIndex:0,"aria-label":"Scan barcode",children:f.jsx(pu,{size:16,className:"text-white"})})]})}),f.jsx("div",{className:"flex-1",children:f.jsx(Ot,{type:"text",placeholder:"Search by location code...",value:l,onChange:Ee=>c(Ee.target.value),icon:f.jsx(Fl,{size:16})})}),f.jsx("div",{className:"w-full sm:w-48",children:f.jsx(rn,{value:u,onChange:Ee=>d(Ee.target.value),options:[{value:"locationCode",label:"Sort by Location"},{value:"totalStock",label:"Sort by Total Stock"},{value:"availability",label:"Sort by Availability"}]})}),f.jsx(at,{variant:"secondary",onClick:ue,className:`flex items-center gap-2 ${e?"opacity-50 cursor-not-allowed":""}`,disabled:e,children:f.jsx(Fa,{size:16,className:e?"animate-spin":""})})]}),e?f.jsx("div",{className:"flex justify-center items-center h-64",children:f.jsx("div",{className:`animate-spin rounded-full h-12 w-12 border-b-2 ${m?"border-white":"border-slate-800"}`})}):H.length===0?f.jsxs("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:[f.jsx(Bo,{className:`w-12 h-12 ${m?"text-slate-600":"text-slate-400"}`}),f.jsx("p",{className:`text-lg font-medium ${m?"text-slate-400":"text-slate-600"}`,children:"No products found in any location"}),f.jsx("p",{className:"text-sm text-slate-500",children:"Add products to locations to see them here"})]}):f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.values(H).map(Ee=>{const Re=a.has(Ee.locationCode);return f.jsxs("div",{"data-location":Ee.locationCode,className:`${m?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} 
                  rounded-lg shadow-sm border transition-all duration-200 ease-in-out
                  hover:shadow-md ${Re?"ring-2 ring-blue-500":""}`,children:[f.jsxs("div",{className:`p-4 border-b ${m?"border-slate-700 hover:bg-slate-700/50":"border-slate-200 hover:bg-slate-100"} 
                    cursor-pointer transition-colors duration-200`,onClick:()=>ke(Ee.locationCode),children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:`p-2 rounded-lg ${m?"bg-slate-700":"bg-slate-100"}`,children:f.jsx(Bo,{className:`w-5 h-5 ${m?"text-blue-400":"text-blue-600"}`})}),f.jsx("h3",{className:`text-lg font-medium ${m?"text-white":"text-slate-800"}`,children:Ee.locationCode==="Awaiting Location"?"Awaiting Location":Ee.locationCode==="Awaiting Locations Sparklin"?"Awaiting Locations Sparklin":Ee.locationCode==="Awaiting Locations Aztec"?"Awaiting Locations Aztec":`Location ${Ee.locationCode}`})]}),f.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[f.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:h[Ee.locationCode]!==!1,onChange:Te=>{Te.stopPropagation(),le(Ee.locationCode)},className:"sr-only peer"}),f.jsx("div",{className:`w-11 h-6 rounded-full transition-colors duration-200
                            ${h[Ee.locationCode]!==!1?"bg-green-500":"bg-red-500"}
                            peer-focus:ring-2 peer-focus:ring-blue-500
                          `}),f.jsx("div",{className:`absolute left-0.5 top-0.5 w-5 h-5 bg-white rounded-full shadow-md transition-transform duration-200
                            ${h[Ee.locationCode]!==!1?"translate-x-5":""}
                          `})]}),f.jsx("span",{className:`text-xs font-semibold ml-2 ${h[Ee.locationCode]!==!1?"text-green-500":"text-red-500"}`,children:h[Ee.locationCode]!==!1?"Available":"Not Available"}),f.jsx("button",{className:"ml-2 p-1 rounded hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",onClick:Te=>{Te.stopPropagation(),ke(Ee.locationCode)},"aria-label":Re?"Collapse":"Expand",children:Re?f.jsx(jU,{className:`w-5 h-5 ${m?"text-blue-400":"text-blue-600"}`}):f.jsx(kl,{className:`w-5 h-5 ${m?"text-blue-400":"text-blue-600"}`})})]})]}),f.jsxs("div",{className:"flex justify-between items-end mt-2",children:[f.jsxs("div",{children:[f.jsx("p",{className:`text-sm ${m?"text-slate-400":"text-slate-500"}`,children:"Total Stock"}),f.jsxs("p",{className:`font-bold text-2xl ${m?"text-white":"text-slate-800"}`,children:[Ee.totalStock," units"]})]}),f.jsxs("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:[s.trim()?Ee.products.filter(Te=>{if(Te.quantity===0)return!1;const Me=s.toLowerCase();return Te.name.toLowerCase().includes(Me)||Te.asin&&Te.asin.split(",").some(We=>We.trim().toLowerCase().includes(Me))||Te.barcode&&Te.barcode.toLowerCase().includes(Me)}).length:Ee.products.filter(Te=>Te.quantity>0).length," product",(s.trim()?Ee.products.filter(Te=>{if(Te.quantity===0)return!1;const Me=s.toLowerCase();return Te.name.toLowerCase().includes(Me)||Te.asin&&Te.asin.split(",").some(We=>We.trim().toLowerCase().includes(Me))||Te.barcode&&Te.barcode.toLowerCase().includes(Me)}).length:Ee.products.filter(Te=>Te.quantity>0).length)!==1?"s":""]})]})]}),Re&&f.jsxs("div",{className:"p-4 space-y-4 overflow-hidden transition-all duration-300 ease-in-out",children:[f.jsx("h4",{className:`font-medium ${m?"text-slate-300":"text-slate-700"}`,children:s.trim()?Ee.products.filter(Te=>{if(Te.quantity===0)return!1;const Me=s.toLowerCase();return Te.name.toLowerCase().includes(Me)||Te.asin&&Te.asin.split(",").some(We=>We.trim().toLowerCase().includes(Me))||Te.barcode&&Te.barcode.toLowerCase().includes(Me)}).length===0:Ee.products.filter(Te=>Te.quantity>0).length===0?"No products in this location":s.trim()?"Matching products in this location:":"Products in this location:"}),f.jsx("div",{className:"space-y-4",children:Ee.products.filter(Te=>{if(Te.quantity===0)return!1;if(s.trim()){const Me=s.toLowerCase();return Te.name.toLowerCase().includes(Me)||Te.asin&&Te.asin.split(",").some(We=>We.trim().toLowerCase().includes(Me))||Te.barcode&&Te.barcode.toLowerCase().includes(Me)}return!0}).map(Te=>{const Me=Ee.totalStock===0?0:Te.quantity/Ee.totalStock*100,We=s.toLowerCase(),st=Te.name.toLowerCase().includes(We)||Te.asin&&Te.asin.split(",").some(ct=>ct.trim().toLowerCase().includes(We))||Te.barcode&&Te.barcode.toLowerCase().includes(We);return f.jsxs("div",{className:`space-y-2 p-2 rounded-md transition-colors cursor-pointer hover:bg-opacity-80 ${st?m?"bg-blue-900/30 border border-blue-500/50":"bg-blue-50 border border-blue-200":m?"hover:bg-slate-700":"hover:bg-slate-100"}`,onClick:async()=>{var xt;const ct=await uh(kr(Xe,"inventory",Te.id));if(ct.exists()){const ht=ct.data(),pt={...ht,id:Te.id,lastUpdated:(xt=ht.lastUpdated)!=null&&xt.toDate?ht.lastUpdated.toDate():new Date(ht.lastUpdated)};M(pt)}else g("Failed to fetch product details","error")},children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsx("h4",{className:`font-medium ${st?"text-blue-600":m?"text-white":"text-slate-800"}`,children:Te.name}),f.jsxs("p",{className:`text-sm ${m?"text-slate-400":"text-slate-500"}`,children:["Shelf ",Te.shelfNumber]})]}),f.jsxs("div",{className:"text-right flex flex-col items-end gap-2",children:[f.jsxs("p",{className:`font-medium ${m?"text-white":"text-slate-800"}`,children:[Te.quantity," units"]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{className:"px-2 py-1 bg-blue-500 text-white rounded text-xs hover:bg-blue-600 flex items-center gap-1",onClick:async ct=>{ct.stopPropagation();const xt=await uh(kr(Xe,"inventory",Te.id));if(xt.exists()){const ht=xt.data();x({...ht,id:Te.id}),P(1),T(Te.locationCode),_(Te.shelfNumber),y(!0)}else g("Failed to fetch product details","error")},children:"Move"}),f.jsxs("button",{className:"px-2 py-1 bg-red-500 text-white rounded text-xs hover:bg-red-600 flex items-center gap-1",onClick:async ct=>{ct.stopPropagation();const xt=await uh(kr(Xe,"inventory",Te.id));if(xt.exists()){const ht=xt.data();U({...ht,id:Te.id})}else g("Failed to fetch product details","error")},children:[f.jsx(ui,{size:12}),"Delete"]})]})]})]}),f.jsx("div",{className:`w-full ${m?"bg-slate-700":"bg-slate-200"} rounded-full h-2`,children:f.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ease-in-out
                                  ${Me>75?"bg-green-500":Me>25?"bg-blue-500":"bg-orange-500"}`,style:{width:`${Me}%`},title:`${Te.quantity} out of ${Ee.totalStock} units (${Me.toFixed(1)}%)`})})]},Te.id)})})]})]},Ee.locationCode)})}),f.jsx(gn,{isOpen:v,onClose:()=>y(!1),title:"Move Stock",children:b&&f.jsxs("form",{onSubmit:Ee=>{Ee.preventDefault(),Ke()},className:`space-y-4 ${m?"bg-slate-800 text-white":"bg-white text-slate-800"} p-4 rounded-lg`,children:[f.jsxs("div",{children:[f.jsx("label",{className:`block text-sm font-medium mb-1 ${m?"text-slate-200":"text-slate-700"}`,children:"How many units to move?"}),f.jsx("input",{type:"number",min:1,max:b.quantity,value:O,onChange:Ee=>P(Number(Ee.target.value)),className:`w-full rounded border px-2 py-1 ${m?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-800"}`,required:!0}),f.jsxs("div",{className:`text-xs mt-1 ${m?"text-slate-400":"text-slate-500"}`,children:["Available: ",b.quantity]})]}),f.jsxs("div",{children:[f.jsx("label",{className:`block text-sm font-medium mb-1 ${m?"text-slate-200":"text-slate-700"}`,children:"New Location"}),f.jsx("select",{value:j,onChange:Ee=>ae(Ee.target.value),className:`w-full rounded border px-2 py-1 ${m?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-800"}`,required:!0,children:ge.map(Ee=>f.jsx("option",{value:Ee,children:Ee},Ee))})]}),f.jsxs("div",{children:[f.jsx("label",{className:`block text-sm font-medium mb-1 ${m?"text-slate-200":"text-slate-700"}`,children:"Shelf Number"}),f.jsx("select",{value:S,onChange:Ee=>_(Ee.target.value),className:`w-full rounded border px-2 py-1 ${m?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-800"}`,required:!0,children:W.map(Ee=>f.jsx("option",{value:Ee.value,children:Ee.label},Ee.value))})]}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx("button",{type:"button",className:`px-3 py-1 rounded ${m?"bg-slate-600 text-white":"bg-slate-200 text-slate-800"}`,onClick:()=>y(!1),children:"Cancel"}),f.jsx("button",{type:"submit",className:`px-3 py-1 rounded ${m?"bg-blue-700 text-white":"bg-blue-600 text-white"}`,disabled:D,children:D?"Moving...":"Move"})]})]})}),f.jsx(zh,{isOpen:N,onClose:()=>k(!1),onBarcodeScanned:_e}),f.jsx(Oh,{isOpen:!!q,onClose:()=>U(null),onConfirm:rt,title:"Delete Product",message:q?`Are you sure you want to delete "${q.name}" (${q.quantity} units) from location ${q.locationCode}-${q.shelfNumber}? This action cannot be undone.`:"",isLoading:ee}),I&&f.jsx(Zy,{isOpen:!!I,onClose:()=>M(null),item:I}),z&&f.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[f.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>K(!1)}),f.jsxs("div",{className:`relative w-full h-full max-w-none max-h-none m-0 rounded-none ${m?"bg-slate-900":"bg-white"} flex flex-col`,children:[f.jsxs("div",{className:`flex items-center justify-between p-6 border-b ${m?"border-slate-700":"border-slate-200"}`,children:[f.jsx("div",{children:f.jsx("h2",{className:`text-2xl font-bold ${m?"text-white":"text-slate-800"}`,children:"Warehouse Visual Map"})}),f.jsx("button",{onClick:()=>K(!1),className:`p-2 rounded-lg ${m?"hover:bg-slate-700":"hover:bg-slate-100"} transition-colors`,children:f.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsx("div",{className:"flex-1 overflow-hidden p-6",children:f.jsxs("div",{className:`space-y-6 h-full flex flex-col ${m?"border-slate-800":"bg-white"}`,children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-4 h-4 bg-green-500 rounded"}),f.jsx("span",{className:`text-sm ${m?"text-slate-300":"text-slate-600"}`,children:"High Stock (50+)"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-4 h-4 bg-yellow-500 rounded"}),f.jsx("span",{className:`text-sm ${m?"text-slate-300":"text-slate-600"}`,children:"Medium Stock (10-49)"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-4 h-4 bg-red-500 rounded"}),f.jsx("span",{className:`text-sm ${m?"text-slate-300":"text-slate-600"}`,children:"Low Stock (1-9)"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-4 h-4 bg-gray-300 rounded"}),f.jsx("span",{className:`text-sm ${m?"text-slate-300":"text-slate-600"}`,children:"Empty"})]})]}),f.jsx("div",{})]}),f.jsx("div",{className:"flex-1 overflow-auto",children:f.jsx("div",{className:"grid grid-cols-12 gap-2 min-w-max h-full",children:ge.map(Ee=>{const Re=ye[Ee],Te=(Re==null?void 0:Re.totalStock)||0,Me=(Re==null?void 0:Re.products.filter(ht=>ht.quantity>0).length)||0,We=h[Ee]!==!1;let st="bg-gray-300",ct="text-gray-600";Te>=50?(st="bg-green-500",ct="text-white"):Te>=10?(st="bg-yellow-500",ct="text-white"):Te>=1&&(st="bg-red-500",ct="text-white");const xt=We?"":"border-2 border-red-400";return f.jsxs("div",{className:`
                            ${st} ${ct} ${xt}
                            p-4 rounded-lg text-center text-sm font-medium
                            hover:opacity-80 transition-all duration-200 cursor-pointer
                            hover:scale-105 hover:shadow-lg
                            min-w-[70px] min-h-[50px] flex flex-col justify-center items-center
                          `,title:`${Ee}: ${Te} units, ${Me} products${We?"":" (Unavailable)"}`,onClick:()=>{const ht=document.querySelector(`[data-location="${Ee}"]`);ht&&(ht.scrollIntoView({behavior:"smooth",block:"center"}),K(!1))},children:[f.jsx("div",{className:"font-bold",children:Ee}),f.jsxs("div",{className:"text-xs opacity-90",children:[Te," - ",Me,"p"]})]},Ee)})})}),f.jsxs("div",{className:`p-4 rounded-lg ${m?"bg-slate-700":"bg-slate-100"}`,children:[f.jsx("h4",{className:`font-semibold mb-2 ${m?"text-white":"text-slate-800"}`,children:"Summary"}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[f.jsxs("div",{children:[f.jsx("span",{className:`${m?"text-slate-300":"text-slate-600"}`,children:"Total Locations:"}),f.jsx("span",{className:`ml-2 font-semibold ${m?"text-white":"text-slate-800"}`,children:ge.length})]}),f.jsxs("div",{children:[f.jsx("span",{className:`${m?"text-slate-300":"text-slate-600"}`,children:"Occupied:"}),f.jsx("span",{className:`ml-2 font-semibold ${m?"text-white":"text-slate-800"}`,children:Object.values(ye).filter(Ee=>Ee.totalStock>0).length})]}),f.jsxs("div",{children:[f.jsx("span",{className:`${m?"text-slate-300":"text-slate-600"}`,children:"Total Stock:"}),f.jsx("span",{className:`ml-2 font-semibold ${m?"text-white":"text-slate-800"}`,children:Object.values(ye).reduce((Ee,Re)=>Ee+Re.totalStock,0)})]}),f.jsxs("div",{children:[f.jsx("span",{className:`${m?"text-slate-300":"text-slate-600"}`,children:"Unavailable:"}),f.jsx("span",{className:`ml-2 font-semibold ${m?"text-white":"text-slate-800"}`,children:Object.keys(h).filter(Ee=>h[Ee]===!1).length})]})]})]})]})})]})]})]})},yWe=()=>{const[e,t]=F.useState(""),[r,n]=F.useState(""),[a,i]=F.useState(""),[s,o]=F.useState(""),[l,c]=F.useState("name"),[u,d]=F.useState(!1),[h,p]=F.useState(!1),[g,m]=F.useState(!1),[v,y]=F.useState(!1),[b,x]=F.useState(!1),[O,P]=F.useState(null),[j,T]=F.useState([]),[S,_]=F.useState(new Set),[D,E]=F.useState(!1),{showToast:N}=_c(),{isDarkMode:k}=un(),{user:V}=xa(),W=F.useCallback(()=>{switch(V==null?void 0:V.role){case"fahiz":return{title:"Fahiz Stock",storeName:"Fahiz",storeNameDisplay:"FAHIZ"};case"aphy":return{title:"APHY Stock",storeName:"APHY",storeNameDisplay:"APHY"};case"supply_serve":default:return{title:"Supply & Serve Stock",storeName:"supply & serve",storeNameDisplay:"SUPPLY & SERVE"}}},[V==null?void 0:V.role])(),[G,q]=F.useState(!1),[U,ee]=F.useState(null),[Z,I]=F.useState(!1),[M,z]=F.useState(!1),[K,X]=F.useState(null),[ae,ue]=F.useState(null),[ie,ge]=F.useState(!1),[ye,H]=F.useState("all"),[ke,Ce]=F.useState(!1);F.useEffect(()=>{const je=setTimeout(()=>{n(e)},300);return()=>{clearTimeout(je)}},[e]),F.useEffect(()=>{const je=setTimeout(()=>{o(a)},300);return()=>{clearTimeout(je)}},[a]);const _e=F.useCallback(async()=>{x(!0);try{const je=lr(At(Xe,"inventory"),Ua("name")),tt=(await dr(je)).docs.map(bt=>{const Rt=bt.data();return{id:bt.id,...Rt,lastUpdated:Rt.lastUpdated instanceof sr?Rt.lastUpdated.toDate():new Date(Rt.lastUpdated)}});T(tt)}catch(je){console.error("Error fetching stock items:",je),N("Failed to fetch stock items","error")}finally{x(!1)}},[N]);F.useEffect(()=>{_e()},[_e]),F.useEffect(()=>{const je=De=>{const tt=De.target;tt.closest(".store-filter-dropdown")||ge(!1),tt.closest(".status-filter-dropdown")||Ce(!1)};return(ie||ke)&&document.addEventListener("mousedown",je),()=>{document.removeEventListener("mousedown",je)}},[ie,ke]);const le=F.useMemo(()=>[{value:"name",label:"Name (A-Z)"},{value:"quantity",label:"Quantity (High-Low)"},{value:"price",label:"Price (High-Low)"},{value:"date",label:"Date Updated"}],[]),Le=F.useMemo(()=>{const je=r.toLowerCase(),De=s.toLowerCase(),tt=W.storeName;return j.filter(bt=>{if(bt.quantity===0||bt.storeName!==tt)return!1;const Rt=r===""||bt.name.toLowerCase().startsWith(je),Yt=s===""||bt.barcode&&bt.barcode.toLowerCase().includes(De)||bt.asin&&bt.asin.split(",").some(It=>It.trim().toLowerCase().includes(De)),Ct=ye==="all"||bt.status===ye;return Rt&&Yt&&Ct}).sort((bt,Rt)=>l==="name"?bt.name.localeCompare(Rt.name):l==="quantity"?Rt.quantity-bt.quantity:l==="price"?Rt.price-bt.price:l==="date"?new Date(Rt.lastUpdated).getTime()-new Date(bt.lastUpdated).getTime():0)},[j,r,s,ye,l,W]),qe=F.useMemo(()=>j.filter(je=>je.quantity>0&&je.storeName===W.storeName).length,[j,W]),Ke=F.useCallback((je,De)=>j.filter(tt=>tt.locationCode===je&&tt.shelfNumber===De),[j]),rt=F.useCallback(async je=>{x(!0);try{const De=[];for(const tt of je)if(tt.barcode){const bt=lr(At(Xe,"inventory"),or("barcode","==",tt.barcode),or("quantity","==",0)),Rt=await dr(bt);if(!Rt.empty){const Yt=Rt.docs[0];if(await Bs(kr(Xe,"inventory",Yt.id)),T(Ct=>Ct.filter(It=>It.id!==Yt.id)),V){const Ct=Yt.data();await vr(At(Xe,"activityLogs"),{user:V.name,role:V.role,detail:`deleted hidden product "${Ct.name}" with barcode ${tt.barcode} from location ${Ct.locationCode}-${Ct.shelfNumber}`,time:new Date().toISOString()})}}}for(const tt of je){const bt=await vr(At(Xe,"inventory"),{...tt,lastUpdated:sr.fromDate(new Date)});De.push({...tt,id:bt.id,lastUpdated:new Date})}if(V){const tt=je.reduce((Rt,Yt)=>Rt+Yt.quantity,0),bt=je.map(Rt=>`${Rt.quantity} at ${Rt.locationCode}-${Rt.shelfNumber}`).join(", ");await vr(At(Xe,"activityLogs"),{user:V.name,role:V.role,detail:`added new product "${je[0].name}" with total quantity ${tt} (${bt})`,time:new Date().toISOString()})}T(tt=>[...tt,...De]),d(!1),I(!1),N("Stock items added successfully","success")}catch(De){console.error("Error adding stock:",De),N("Failed to add stock items","error")}finally{x(!1)}},[V,N]),Ee=F.useCallback(async je=>{const De=[];for(const tt of je){const bt=Ke(tt.locationCode,tt.shelfNumber);bt.length>0&&De.push({locationCode:tt.locationCode,shelfNumber:tt.shelfNumber,products:bt})}if(De.length>0){const tt=De[0];ue({locationCode:tt.locationCode,shelfNumber:tt.shelfNumber,existingProducts:tt.products,newProductName:je[0].name,newProductBarcode:je[0].barcode||void 0}),X(je),z(!0);return}await rt(je)},[Ke,rt]),Re=F.useCallback(async()=>{K&&(await rt(K),z(!1),X(null),ue(null),d(!1),I(!1))},[K,rt]),Te=F.useCallback(()=>{z(!1),X(null),ue(null),d(!1),I(!1)},[]),Me=F.useCallback(async()=>{if(K&&ae)try{x(!0);const je=ae.existingProducts.find(De=>De.barcode===ae.newProductBarcode);if(je){const De=je.quantity+K[0].quantity,tt=kr(Xe,"inventory",je.id);await Wn(tt,{quantity:De,lastUpdated:sr.fromDate(new Date)}),V&&(await vr(At(Xe,"activityLogs"),{user:V.name,role:V.role,detail:`merged ${K[0].quantity} units of "${K[0].name}" with existing stock "${je.name}" at location ${ae.locationCode}-${ae.shelfNumber}`,time:new Date().toISOString()}),await vr(At(Xe,"activityLogs"),{user:V.name,role:V.role,detail:`edited product "${je.name}": quantity from ${je.quantity} to ${De}`,time:new Date().toISOString()})),await _e(),N("Products merged successfully","success")}}catch(je){console.error("Error merging products:",je),N("Failed to merge products","error")}finally{x(!1),z(!1),X(null),ue(null),d(!1),I(!1)}},[K,ae,V,_e,N]),We=F.useCallback(async(je,De)=>{var tt,bt;x(!0);try{const Rt=new Date,Yt={},Ct=[];if(je.name!==De.name&&(Yt.name=je.name,Ct.push(`name from "${De.name}" to "${je.name}"`)),je.price!==De.price){Yt.price=je.price;const It=Number(De.price||0).toFixed(2),rr=Number(je.price||0).toFixed(2);Ct.push(`price from ${It} to ${rr}`)}if((je.locationCode!==De.locationCode||je.shelfNumber!==De.shelfNumber)&&(Yt.locationCode=je.locationCode,Yt.shelfNumber=je.shelfNumber,Ct.push(`location from ${De.locationCode}-${De.shelfNumber} to ${je.locationCode}-${je.shelfNumber}`)),je.supplier!==De.supplier&&(Yt.supplier=je.supplier,Ct.push(`supplier from "${De.supplier||"none"}" to "${je.supplier||"none"}"`)),je.asin!==De.asin&&(Yt.asin=je.asin,Ct.push(`ASIN from "${De.asin||"none"}" to "${je.asin||"none"}"`)),je.status!==De.status&&(Yt.status=je.status,Ct.push(`status from "${De.status}" to "${je.status}"`)),je.damagedItems!==De.damagedItems&&(Yt.damagedItems=je.damagedItems,Ct.push(`damaged items from ${De.damagedItems} to ${je.damagedItems}`)),je.fulfillmentType!==De.fulfillmentType&&(Yt.fulfillmentType=je.fulfillmentType,Ct.push(`fulfillment type from "${De.fulfillmentType.toUpperCase()}" to "${je.fulfillmentType.toUpperCase()}"`)),je.storeName!==De.storeName&&(Yt.storeName=je.storeName,Ct.push(`store name from "${(tt=De.storeName)==null?void 0:tt.toUpperCase()}" to "${(bt=je.storeName)==null?void 0:bt.toUpperCase()}"`)),je.unit!==De.unit&&(Yt.unit=je.unit,Ct.push(`unit from "${De.unit||"none"}" to "${je.unit||"none"}"`)),je.barcode!==De.barcode&&(Yt.barcode=je.barcode,Ct.push(`barcode from "${De.barcode||"none"}" to "${je.barcode||"none"}"`)),Object.keys(Yt).length>0){const It=kr(Xe,"inventory",je.id);await Wn(It,{...Yt,lastUpdated:sr.fromDate(Rt)}),V&&Ct.length>0&&await vr(At(Xe,"activityLogs"),{user:V.name,role:V.role,detail:`edited product "${je.name}": ${Ct.join(", ")}`,time:Rt.toISOString()});const rr=j.map(br=>br.id===je.id?{...br,...Yt,lastUpdated:Rt}:br);T(rr),N("Stock details updated successfully","success"),p(!1),P(null)}if(je.quantity>De.quantity)ee({itemId:je.id,newQuantity:je.quantity}),q(!0),p(!1);else if(je.quantity!==De.quantity){const It=kr(Xe,"inventory",je.id);await Wn(It,{quantity:je.quantity,lastUpdated:sr.fromDate(Rt)}),V&&await vr(At(Xe,"activityLogs"),{user:V.name,role:V.role,detail:`edited product "${je.name}": quantity from ${De.quantity} to ${je.quantity}`,time:Rt.toISOString()});const rr=j.map(br=>br.id===je.id?{...br,quantity:je.quantity,lastUpdated:Rt}:br);T(rr),N("Stock quantity updated","success"),p(!1),P(null)}else p(!1),P(null)}catch(Rt){console.error("Error updating stock:",Rt),N("Failed to update stock item","error")}finally{x(!1)}},[j,V,N]),st=F.useCallback(async()=>{if(U){x(!0);try{const{itemId:je,newQuantity:De}=U,tt=new Date,bt=j.find(Ct=>Ct.id===je),Rt=kr(Xe,"inventory",je);await Wn(Rt,{quantity:De,lastUpdated:sr.fromDate(tt)}),V&&bt&&await vr(At(Xe,"activityLogs"),{user:V.name,role:V.role,detail:`edited product "${bt.name}": quantity from ${bt.quantity} to ${De}`,time:tt.toISOString()});const Yt=j.map(Ct=>Ct.id===je?{...Ct,quantity:De,lastUpdated:tt}:Ct);T(Yt),N("Stock quantity updated successfully","success"),P(null)}catch(je){console.error("Error updating quantity:",je),N("Failed to update quantity","error")}finally{x(!1),q(!1),ee(null)}}},[U,j,V,N]),ct=F.useCallback(async je=>{x(!0);try{const De=j.find(tt=>tt.id===je);await Bs(kr(Xe,"inventory",je)),V&&De&&await vr(At(Xe,"activityLogs"),{user:V.name,role:V.role,detail:`deleted product "${De.name}" (${De.quantity} units) from location ${De.locationCode}-${De.shelfNumber}`,time:new Date().toISOString()}),T(j.filter(tt=>tt.id!==je)),m(!1),P(null),N("Stock item deleted successfully","success")}catch(De){console.error("Error deleting stock:",De),N("Failed to delete stock item","error")}finally{x(!1)}},[j,V,N]),xt=F.useCallback(je=>{P(je)},[]),ht=F.useCallback((je,De)=>{je.stopPropagation(),P(De),p(!0)},[]),pt=F.useCallback((je,De)=>{je.stopPropagation(),P(De),m(!0)},[]),He=F.useCallback(()=>{S.size===Le.length?_(new Set):_(new Set(Le.map(je=>je.id)))},[Le,S.size]),Ft=F.useCallback(je=>{const De=new Set(S);De.has(je)?De.delete(je):De.add(je),_(De)},[S]),Nt=F.useCallback(async()=>{if(S.size!==0){x(!0);try{const je=j.filter(tt=>S.has(tt.id)),De=Array.from(S).map(tt=>Bs(kr(Xe,"inventory",tt)));if(await Promise.all(De),V){const tt=je.map(bt=>`"${bt.name}" (${bt.quantity} units) from ${bt.locationCode}-${bt.shelfNumber}`).join(", ");await vr(At(Xe,"activityLogs"),{user:V.name,role:V.role,detail:`Bulk deleted ${S.size} products: ${tt}`,time:new Date().toISOString()})}T(j.filter(tt=>!S.has(tt.id))),_(new Set),E(!1),y(!1),N(`Successfully deleted ${S.size} items`,"success")}catch(je){console.error("Error deleting items:",je),N("Failed to delete selected items","error")}finally{x(!1)}}},[S,j,V,N]),Pr=F.useCallback(async()=>{if(S.size!==0){x(!0);try{const je=j.filter(tt=>S.has(tt.id)&&tt.status==="pending");if(je.length===0){N("No pending items selected to activate","error");return}const De=je.map(tt=>Wn(kr(Xe,"inventory",tt.id),{status:"active",lastUpdated:sr.fromDate(new Date)}));if(await Promise.all(De),V){const tt=je.map(bt=>`"${bt.name}" from ${bt.locationCode}-${bt.shelfNumber}`).join(", ");await vr(At(Xe,"activityLogs"),{user:V.name,role:V.role,detail:`Bulk activated ${je.length} pending products: ${tt}`,time:new Date().toISOString()})}T(j.map(tt=>S.has(tt.id)&&tt.status==="pending"?{...tt,status:"active",lastUpdated:new Date}:tt)),_(new Set),E(!1),N(`Successfully activated ${je.length} items`,"success")}catch(je){console.error("Error activating items:",je),N("Failed to activate selected items","error")}finally{x(!1)}}},[S,j,V,N]),ur=F.useCallback(()=>{E(!D),D||_(new Set)},[D]),pr=F.useCallback(({item:je})=>f.jsxs("tr",{className:`hover:${k?"bg-slate-700/50":"bg-slate-50"} cursor-pointer`,onClick:()=>xt(je),children:[D&&f.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"}`,onClick:De=>De.stopPropagation(),children:f.jsx("input",{type:"checkbox",checked:S.has(je.id),onChange:()=>Ft(je.id),className:`h-4 w-4 text-blue-600 rounded ${k?"border-slate-600 bg-slate-700":"border-slate-300"} focus:ring-blue-500`})}),f.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-blue-400":"text-blue-700"} font-medium`,children:je.name}),f.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"}`,children:je.unit||"-"}),f.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"}`,children:f.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${je.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:je.status==="active"?"Active":"Pending"})}),f.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"}`,children:f.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${je.fulfillmentType==="fba"?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:je.fulfillmentType.toUpperCase()})}),f.jsxs("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"}`,children:[je.locationCode," - ",je.shelfNumber]}),f.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"}`,children:je.asin?je.asin.split(",").length>3?je.asin.split(",").slice(0,3).map(De=>De.trim()).join(", ")+"...":je.asin.split(",").map(De=>De.trim()).join(", "):"-"}),f.jsx("td",{className:`px-4 py-3 text-right text-sm ${k?"text-slate-200":"text-slate-900"}`,children:Number(je.price)>0?`${Number(je.price).toFixed(2)}`:"(Not set)"}),f.jsx("td",{className:`px-4 py-3 text-right text-sm ${k?"text-slate-200":"text-slate-900"}`,children:Number(je.quantity*je.price)>0?`${Number(je.quantity*je.price).toFixed(2)}`:"(Not set)"}),f.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"} text-right`,children:f.jsxs("div",{className:"flex items-center justify-end gap-2",children:[je.quantity<=10&&f.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-red-100 text-red-700 text-center",children:"Critical Low"}),je.quantity>10&&je.quantity<=25&&f.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-yellow-100 text-yellow-700 text-center",children:"Low Stock"}),f.jsx("span",{children:je.quantity})]})}),f.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"}`,children:qt(new Date(je.lastUpdated),"MMM d, yyyy")}),f.jsx("td",{className:`px-4 py-3 text-sm ${k?"text-slate-200":"text-slate-800"} text-right`,children:f.jsxs("div",{className:"flex items-center justify-end gap-2",children:[f.jsx("button",{onClick:De=>ht(De,je),className:`p-1 ${k?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,title:"Edit",children:f.jsx(bs,{size:16})}),f.jsx("button",{onClick:De=>pt(De,je),className:`p-1 ${k?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,title:"Delete",children:f.jsx(ui,{size:16})})]})})]},je.id),[D,S,k,xt,Ft,ht,pt]);return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between py-4",children:[f.jsx("h1",{className:`text-2xl font-bold ${k?"text-white":"text-gray-900"}`,children:W.title}),f.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${k?"bg-slate-800 text-blue-300":"bg-blue-100 text-blue-700"}`,children:[W.storeNameDisplay," Products: ",qe]})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-4",children:[f.jsx("div",{children:f.jsxs("p",{className:`${k?"text-slate-400":"text-slate-500"} mt-1`,children:["Manage your ",W.storeNameDisplay.toLowerCase()," stock, track quantities, and monitor product status"]})}),f.jsx("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:D?f.jsxs(f.Fragment,{children:[ye==="pending"&&f.jsxs(at,{onClick:Pr,variant:"primary",className:"flex items-center gap-2 w-full sm:w-auto",disabled:b||S.size===0,children:[f.jsx(IU,{size:16}),"Go Live (",S.size,")"]}),f.jsx(at,{onClick:ur,variant:"secondary",className:"flex items-center gap-2 w-full sm:w-auto",children:"Cancel"})]}):f.jsxs(f.Fragment,{children:[f.jsxs(at,{variant:"secondary",onClick:()=>I(!0),className:"flex items-center gap-2 w-full sm:w-auto",children:[f.jsx(hi,{size:16}),"Quick Add"]}),f.jsxs(at,{variant:"primary",onClick:()=>d(!0),className:"flex items-center gap-2 w-full sm:w-auto",children:[f.jsx(hi,{size:16}),"Add New Stock"]})]})})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[f.jsx("div",{className:"flex-1",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"relative",children:[f.jsx(Fl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),f.jsx(Ot,{type:"text",placeholder:"Search by product name",value:e,onChange:je=>t(je.target.value),className:"pl-10"})]}),f.jsxs("div",{className:"relative",children:[f.jsx(Fl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),f.jsx(Ot,{type:"text",placeholder:"Search by barcode or ASIN",value:a,onChange:je=>i(je.target.value),className:"pl-10"})]})]})}),f.jsx("div",{className:"w-full sm:w-48",children:f.jsx(rn,{value:l,onChange:je=>c(je.target.value),options:le})}),f.jsx("div",{className:"flex flex-row gap-2",children:f.jsxs("div",{className:"relative status-filter-dropdown",children:[f.jsxs(at,{variant:"secondary",onClick:()=>Ce(!ke),className:`flex items-center gap-2 ${ye!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[ye==="all"?"Status Filter":ye==="active"?"Active":"Pending",f.jsx(kl,{size:16})]}),ke&&f.jsx("div",{className:`absolute top-full left-0 mt-1 w-32 z-50 rounded-lg border ${k?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:f.jsxs("div",{className:"p-2",children:[f.jsx("div",{className:`text-sm font-medium mb-2 ${k?"text-slate-200":"text-slate-700"}`,children:"Filter by Status"}),f.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${k?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${ye==="all"?k?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{H("all"),Ce(!1)},children:"All"}),f.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${k?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${ye==="active"?k?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{H("active"),Ce(!1)},children:"Active"}),f.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${k?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${ye==="pending"?k?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{H("pending"),Ce(!1)},children:"Pending"}),f.jsx("div",{className:`border-t ${k?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:f.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${k?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{H("all"),Ce(!1)},children:"Clear Filter"})})]})})]})}),f.jsx(at,{variant:"secondary",onClick:_e,className:`flex items-center gap-2 ${b?"opacity-50 cursor-not-allowed":""}`,disabled:b,children:f.jsx(Fa,{size:16,className:b?"animate-spin":""})})]}),b?f.jsx("div",{className:`text-center py-12 ${k?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:f.jsxs("div",{className:"flex flex-col items-center gap-4",children:[f.jsx(xs,{className:`w-8 h-8 ${k?"text-blue-400":"text-blue-600"} animate-spin`}),f.jsx("p",{className:k?"text-slate-400":"text-slate-600",children:"Loading stock items..."})]})}):Le.length>0?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"hidden md:block overflow-x-auto overflow-y-hidden",children:f.jsxs("table",{className:`min-w-full divide-y ${k?"divide-slate-700":"divide-slate-200"} ${k?"bg-slate-800":"bg-white"} rounded-lg border ${k?"border-slate-700":"border-slate-200"}`,children:[f.jsx("thead",{className:k?"bg-slate-700/50":"bg-slate-100",children:f.jsxs("tr",{children:[D&&f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("input",{type:"checkbox",checked:S.size===Le.length,onChange:He,className:`h-4 w-4 text-blue-600 rounded ${k?"border-slate-600 bg-slate-700":"border-slate-300"} focus:ring-blue-500`}),f.jsx("span",{children:"Select"})]})}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Unit"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Status"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"FT"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Price"}),f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Total Price"}),f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Quantity"}),f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Last Updated"}),f.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${k?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),f.jsx("tbody",{className:`divide-y ${k?"divide-slate-700":"divide-slate-200"}`,children:Le.map((je,De)=>f.jsx(pr,{item:je,index:De},je.id))})]})}),f.jsx("div",{className:"block md:hidden space-y-4",children:Le.map(je=>f.jsxs("div",{className:`rounded-lg border ${k?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-4 shadow-sm flex flex-col gap-2`,onClick:()=>xt(je),children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:`font-semibold ${k?"text-blue-400":"text-blue-700"}`,children:je.name}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${je.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:je.status==="active"?"Active":"Pending"}),f.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${je.fulfillmentType==="fba"?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:je.fulfillmentType.toUpperCase()})]})]}),f.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[f.jsxs("span",{className:k?"text-slate-300":"text-slate-600",children:["Location: ",f.jsxs("span",{className:"font-medium",children:[je.locationCode," - ",je.shelfNumber]})]}),f.jsxs("span",{className:k?"text-slate-300":"text-slate-600",children:["Qty: ",f.jsx("span",{className:"font-medium",children:je.quantity})]}),je.asin&&f.jsxs("span",{className:k?"text-slate-300":"text-slate-600",children:["ASIN: ",f.jsx("span",{className:"font-medium",children:je.asin})]}),f.jsxs("span",{className:k?"text-slate-300":"text-slate-600",children:["Price: ",f.jsx("span",{className:"font-medium",children:Number(je.price)>0?`${Number(je.price).toFixed(2)}`:"(Not set)"})]}),f.jsxs("span",{className:k?"text-slate-300":"text-slate-600",children:["Total: ",f.jsx("span",{className:"font-medium",children:Number(je.quantity*je.price)>0?`${Number(je.quantity*je.price).toFixed(2)}`:"(Not set)"})]}),f.jsxs("span",{className:k?"text-slate-300":"text-slate-600",children:["Updated: ",f.jsx("span",{className:"font-medium",children:qt(new Date(je.lastUpdated),"MMM d, yyyy")})]})]}),f.jsxs("div",{className:"flex gap-2 mt-2",children:[f.jsxs(at,{size:"sm",variant:"secondary",onClick:De=>{De.stopPropagation(),ht(De,je)},children:[f.jsx(bs,{size:14})," Edit"]}),f.jsxs(at,{size:"sm",variant:"danger",onClick:De=>{De.stopPropagation(),pt(De,je)},children:[f.jsx(ui,{size:14})," Delete"]})]})]},je.id))})]}):f.jsx("div",{className:`text-center py-12 ${k?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:f.jsx("p",{className:k?"text-slate-400":"text-slate-500",children:"No stock items found. Try adjusting your search."})}),f.jsx(gn,{isOpen:u,onClose:()=>d(!1),title:`Add New ${W.storeNameDisplay} Stock Item`,size:"xl",children:f.jsx(HG,{onSubmit:Ee,onCancel:()=>d(!1),isLoading:b,existingStockItems:j})}),f.jsx(gn,{isOpen:Z,onClose:()=>I(!1),title:`Quick Add ${W.storeNameDisplay} Stock`,size:"md",children:f.jsx(KG,{onSubmit:Ee,onClose:()=>I(!1),isLoading:b})}),f.jsx(gn,{isOpen:h,onClose:()=>p(!1),title:`Edit ${W.storeNameDisplay} Stock`,size:"xl",children:O&&f.jsx(GG,{item:O,onSubmit:We,onCancel:()=>p(!1),isLoading:b})}),O&&f.jsx(Oh,{isOpen:g,onClose:()=>{m(!1),P(null)},onConfirm:()=>ct(O.id),title:"Delete Stock Item",message:`Are you sure you want to delete "${O.name}"? This action cannot be undone.`,isLoading:b}),O&&!h&&!g&&!G&&f.jsx(Zy,{isOpen:!!O,onClose:()=>P(null),item:O}),f.jsx(Oh,{isOpen:v,onClose:()=>{y(!1),_(new Set)},onConfirm:Nt,title:"Delete Selected Items",message:`Are you sure you want to delete ${S.size} selected item${S.size>1?"s":""}? This action cannot be undone.`,isLoading:b}),f.jsx(gn,{isOpen:G,onClose:()=>{q(!1),ee(null)},title:"Confirm Quantity Update",children:f.jsxs("div",{children:[f.jsx("p",{children:"This product is already in stock in this location. Are you sure you want to add more quantity?"}),f.jsxs("div",{className:"flex justify-end gap-4 mt-4",children:[f.jsx(at,{variant:"secondary",onClick:()=>{q(!1),ee(null)},children:"No"}),f.jsx(at,{onClick:st,isLoading:b,children:"Yes"})]})]})}),ae&&f.jsx(YG,{isOpen:M,onClose:Te,onConfirm:Re,onCancel:Te,onMerge:Me,locationCode:ae.locationCode,shelfNumber:ae.shelfNumber,existingProducts:ae.existingProducts,newProductName:ae.newProductName,newProductBarcode:ae.newProductBarcode})]})},Io=({children:e,allowedRoles:t})=>{const{user:r}=xa();return r?t.includes(r.role)?f.jsx(f.Fragment,{children:e}):f.jsx(Q3,{to:"/",replace:!0}):f.jsx(Q3,{to:"/login",replace:!0})};function xWe(){return f.jsxs(ore,{children:[f.jsx(ps,{path:"/login",element:f.jsx(qde,{})}),f.jsxs(ps,{path:"/",element:f.jsx(Vde,{}),children:[f.jsx(ps,{index:!0,element:f.jsx(Io,{allowedRoles:["admin","manager","staff"],children:f.jsx(d5e,{})})}),f.jsx(ps,{path:"stock",element:f.jsx(Io,{allowedRoles:["admin","manager","staff"],children:f.jsx(_5e,{})})}),f.jsx(ps,{path:"jobs",element:f.jsx(Io,{allowedRoles:["admin","manager","staff"],children:f.jsx(pze,{})})}),f.jsx(ps,{path:"inventory",element:f.jsx(Io,{allowedRoles:["admin","manager"],children:f.jsx(S5e,{})})}),f.jsx(ps,{path:"orders",element:f.jsx(Io,{allowedRoles:[""],children:f.jsx(Nze,{})})}),f.jsx(ps,{path:"outbound-stock",element:f.jsx(Io,{allowedRoles:["admin","manager","staff"],children:f.jsx(gWe,{})})}),f.jsx(ps,{path:"warehouse-locations",element:f.jsx(Io,{allowedRoles:["admin","manager","staff"],children:f.jsx(vWe,{})})}),f.jsx(ps,{path:"warehouse-operations",element:f.jsx(Io,{allowedRoles:["admin","manager","staff"],children:f.jsx(fWe,{})})}),f.jsx(ps,{path:"reports-analytics",element:f.jsx(Io,{allowedRoles:["admin","manager","staff"],children:f.jsx(hWe,{})})}),f.jsx(ps,{path:"settings",element:f.jsx(Io,{allowedRoles:["admin","manager","staff"],children:f.jsx(pWe,{})})}),f.jsx(ps,{path:"add",element:f.jsx(Io,{allowedRoles:["admin","manager","staff"],children:f.jsx(qG,{})})}),f.jsx(ps,{path:"supply-serve",element:f.jsx(Io,{allowedRoles:["supply_serve","fahiz","aphy"],children:f.jsx(yWe,{})})})]})]})}vU(document.getElementById("root")).render(f.jsx(F.StrictMode,{children:f.jsx(mre,{basename:"/",children:f.jsx(Hoe,{children:f.jsx(Woe,{children:f.jsx(zde,{children:f.jsx(xWe,{})})})})})}));export{bn as _,Bg as c,Dn as g};
