function kX(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var fg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function On(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var v7={exports:{}},qw={},y7={exports:{}},Wr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z1=Symbol.for("react.element"),CX=Symbol.for("react.portal"),PX=Symbol.for("react.fragment"),OX=Symbol.for("react.strict_mode"),IX=Symbol.for("react.profiler"),jX=Symbol.for("react.provider"),DX=Symbol.for("react.context"),LX=Symbol.for("react.forward_ref"),MX=Symbol.for("react.suspense"),RX=Symbol.for("react.memo"),FX=Symbol.for("react.lazy"),g6=Symbol.iterator;function $X(e){return e===null||typeof e!="object"?null:(e=g6&&e[g6]||e["@@iterator"],typeof e=="function"?e:null)}var x7={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b7=Object.assign,w7={};function Gp(e,t,r){this.props=e,this.context=t,this.refs=w7,this.updater=r||x7}Gp.prototype.isReactComponent={};Gp.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Gp.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _7(){}_7.prototype=Gp.prototype;function j3(e,t,r){this.props=e,this.context=t,this.refs=w7,this.updater=r||x7}var D3=j3.prototype=new _7;D3.constructor=j3;b7(D3,Gp.prototype);D3.isPureReactComponent=!0;var v6=Array.isArray,S7=Object.prototype.hasOwnProperty,L3={current:null},A7={key:!0,ref:!0,__self:!0,__source:!0};function E7(e,t,r){var n,a={},i=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)S7.call(t,n)&&!A7.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:z1,type:e,key:i,ref:s,props:a,_owner:L3.current}}function BX(e,t){return{$$typeof:z1,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function M3(e){return typeof e=="object"&&e!==null&&e.$$typeof===z1}function UX(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var y6=/\/+/g;function G_(e,t){return typeof e=="object"&&e!==null&&e.key!=null?UX(""+e.key):t.toString(36)}function e2(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case z1:case CX:s=!0}}if(s)return s=e,a=a(s),e=n===""?"."+G_(s,0):n,v6(a)?(r="",e!=null&&(r=e.replace(y6,"$&/")+"/"),e2(a,t,r,"",function(c){return c})):a!=null&&(M3(a)&&(a=BX(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(y6,"$&/")+"/")+e)),t.push(a)),1;if(s=0,n=n===""?".":n+":",v6(e))for(var o=0;o<e.length;o++){i=e[o];var l=n+G_(i,o);s+=e2(i,t,r,l,a)}else if(l=$X(e),typeof l=="function")for(e=l.call(e),o=0;!(i=e.next()).done;)i=i.value,l=n+G_(i,o++),s+=e2(i,t,r,l,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Qy(e,t,r){if(e==null)return e;var n=[],a=0;return e2(e,n,"","",function(i){return t.call(r,i,a++)}),n}function VX(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var xs={current:null},t2={transition:null},zX={ReactCurrentDispatcher:xs,ReactCurrentBatchConfig:t2,ReactCurrentOwner:L3};function T7(){throw Error("act(...) is not supported in production builds of React.")}Wr.Children={map:Qy,forEach:function(e,t,r){Qy(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Qy(e,function(){t++}),t},toArray:function(e){return Qy(e,function(t){return t})||[]},only:function(e){if(!M3(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Wr.Component=Gp;Wr.Fragment=PX;Wr.Profiler=IX;Wr.PureComponent=j3;Wr.StrictMode=OX;Wr.Suspense=MX;Wr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zX;Wr.act=T7;Wr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=b7({},e.props),a=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=L3.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)S7.call(t,l)&&!A7.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:z1,type:e.type,key:a,ref:i,props:n,_owner:s}};Wr.createContext=function(e){return e={$$typeof:DX,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:jX,_context:e},e.Consumer=e};Wr.createElement=E7;Wr.createFactory=function(e){var t=E7.bind(null,e);return t.type=e,t};Wr.createRef=function(){return{current:null}};Wr.forwardRef=function(e){return{$$typeof:LX,render:e}};Wr.isValidElement=M3;Wr.lazy=function(e){return{$$typeof:FX,_payload:{_status:-1,_result:e},_init:VX}};Wr.memo=function(e,t){return{$$typeof:RX,type:e,compare:t===void 0?null:t}};Wr.startTransition=function(e){var t=t2.transition;t2.transition={};try{e()}finally{t2.transition=t}};Wr.unstable_act=T7;Wr.useCallback=function(e,t){return xs.current.useCallback(e,t)};Wr.useContext=function(e){return xs.current.useContext(e)};Wr.useDebugValue=function(){};Wr.useDeferredValue=function(e){return xs.current.useDeferredValue(e)};Wr.useEffect=function(e,t){return xs.current.useEffect(e,t)};Wr.useId=function(){return xs.current.useId()};Wr.useImperativeHandle=function(e,t,r){return xs.current.useImperativeHandle(e,t,r)};Wr.useInsertionEffect=function(e,t){return xs.current.useInsertionEffect(e,t)};Wr.useLayoutEffect=function(e,t){return xs.current.useLayoutEffect(e,t)};Wr.useMemo=function(e,t){return xs.current.useMemo(e,t)};Wr.useReducer=function(e,t,r){return xs.current.useReducer(e,t,r)};Wr.useRef=function(e){return xs.current.useRef(e)};Wr.useState=function(e){return xs.current.useState(e)};Wr.useSyncExternalStore=function(e,t,r){return xs.current.useSyncExternalStore(e,t,r)};Wr.useTransition=function(){return xs.current.useTransition()};Wr.version="18.3.1";y7.exports=Wr;var F=y7.exports;const Re=On(F),qX=kX({__proto__:null,default:Re},[F]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WX=F,HX=Symbol.for("react.element"),GX=Symbol.for("react.fragment"),KX=Object.prototype.hasOwnProperty,YX=WX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,XX={key:!0,ref:!0,__self:!0,__source:!0};function N7(e,t,r){var n,a={},i=null,s=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)KX.call(t,n)&&!XX.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:HX,type:e,key:i,ref:s,props:a,_owner:YX.current}}qw.Fragment=GX;qw.jsx=N7;qw.jsxs=N7;v7.exports=qw;var d=v7.exports,k7={exports:{}},lo={},C7={exports:{}},P7={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(q,V){var ee=q.length;q.push(V);e:for(;0<ee;){var Z=ee-1>>>1,k=q[Z];if(0<a(k,V))q[Z]=V,q[ee]=k,ee=Z;else break e}}function r(q){return q.length===0?null:q[0]}function n(q){if(q.length===0)return null;var V=q[0],ee=q.pop();if(ee!==V){q[0]=ee;e:for(var Z=0,k=q.length,R=k>>>1;Z<R;){var z=2*(Z+1)-1,G=q[z],Q=z+1,oe=q[Q];if(0>a(G,ee))Q<k&&0>a(oe,G)?(q[Z]=oe,q[Q]=ee,Z=Q):(q[Z]=G,q[z]=ee,Z=z);else if(Q<k&&0>a(oe,ee))q[Z]=oe,q[Q]=ee,Z=Q;else break e}}return V}function a(q,V){var ee=q.sortIndex-V.sortIndex;return ee!==0?ee:q.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,f=null,h=3,p=!1,g=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(q){for(var V=r(c);V!==null;){if(V.callback===null)n(c);else if(V.startTime<=q)n(c),V.sortIndex=V.expirationTime,t(l,V);else break;V=r(c)}}function D(q){if(m=!1,w(q),!g)if(r(l)!==null)g=!0,K(P);else{var V=r(c);V!==null&&J(D,V.startTime-q)}}function P(q,V){g=!1,m&&(m=!1,v(_),_=-1),p=!0;var ee=h;try{for(w(V),f=r(l);f!==null&&(!(f.expirationTime>V)||q&&!T());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,h=f.priorityLevel;var k=Z(f.expirationTime<=V);V=e.unstable_now(),typeof k=="function"?f.callback=k:f===r(l)&&n(l),w(V)}else n(l);f=r(l)}if(f!==null)var R=!0;else{var z=r(c);z!==null&&J(D,z.startTime-V),R=!1}return R}finally{f=null,h=ee,p=!1}}var j=!1,E=null,_=-1,S=5,I=-1;function T(){return!(e.unstable_now()-I<S)}function N(){if(E!==null){var q=e.unstable_now();I=q;var V=!0;try{V=E(!0,q)}finally{V?O():(j=!1,E=null)}}else j=!1}var O;if(typeof b=="function")O=function(){b(N)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,Y=U.port2;U.port1.onmessage=N,O=function(){Y.postMessage(null)}}else O=function(){y(N,0)};function K(q){E=q,j||(j=!0,O())}function J(q,V){_=y(function(){q(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,K(P))},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(q){switch(h){case 1:case 2:case 3:var V=3;break;default:V=h}var ee=h;h=V;try{return q()}finally{h=ee}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(q,V){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ee=h;h=q;try{return V()}finally{h=ee}},e.unstable_scheduleCallback=function(q,V,ee){var Z=e.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?Z+ee:Z):ee=Z,q){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=ee+k,q={id:u++,callback:V,priorityLevel:q,startTime:ee,expirationTime:k,sortIndex:-1},ee>Z?(q.sortIndex=ee,t(c,q),r(l)===null&&q===r(c)&&(m?(v(_),_=-1):m=!0,J(D,ee-Z))):(q.sortIndex=k,t(l,q),g||p||(g=!0,K(P))),q},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(q){var V=h;return function(){var ee=h;h=V;try{return q.apply(this,arguments)}finally{h=ee}}}})(P7);C7.exports=P7;var QX=C7.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JX=F,io=QX;function It(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var O7=new Set,dv={};function yh(e,t){ip(e,t),ip(e+"Capture",t)}function ip(e,t){for(dv[e]=t,e=0;e<t.length;e++)O7.add(t[e])}var zc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),KA=Object.prototype.hasOwnProperty,ZX=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x6={},b6={};function eQ(e){return KA.call(b6,e)?!0:KA.call(x6,e)?!1:ZX.test(e)?b6[e]=!0:(x6[e]=!0,!1)}function tQ(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function rQ(e,t,r,n){if(t===null||typeof t>"u"||tQ(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function bs(e,t,r,n,a,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Ti={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ti[e]=new bs(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ti[t]=new bs(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ti[e]=new bs(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ti[e]=new bs(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ti[e]=new bs(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ti[e]=new bs(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ti[e]=new bs(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ti[e]=new bs(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ti[e]=new bs(e,5,!1,e.toLowerCase(),null,!1,!1)});var R3=/[\-:]([a-z])/g;function F3(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(R3,F3);Ti[t]=new bs(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(R3,F3);Ti[t]=new bs(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(R3,F3);Ti[t]=new bs(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ti[e]=new bs(e,1,!1,e.toLowerCase(),null,!1,!1)});Ti.xlinkHref=new bs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ti[e]=new bs(e,1,!1,e.toLowerCase(),null,!0,!0)});function $3(e,t,r,n){var a=Ti.hasOwnProperty(t)?Ti[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(rQ(t,r,a,n)&&(r=null),n||a===null?eQ(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ou=JX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jy=Symbol.for("react.element"),v0=Symbol.for("react.portal"),y0=Symbol.for("react.fragment"),B3=Symbol.for("react.strict_mode"),YA=Symbol.for("react.profiler"),I7=Symbol.for("react.provider"),j7=Symbol.for("react.context"),U3=Symbol.for("react.forward_ref"),XA=Symbol.for("react.suspense"),QA=Symbol.for("react.suspense_list"),V3=Symbol.for("react.memo"),Gu=Symbol.for("react.lazy"),D7=Symbol.for("react.offscreen"),w6=Symbol.iterator;function Um(e){return e===null||typeof e!="object"?null:(e=w6&&e[w6]||e["@@iterator"],typeof e=="function"?e:null)}var sa=Object.assign,K_;function dg(e){if(K_===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);K_=t&&t[1]||""}return`
`+K_+e}var Y_=!1;function X_(e,t){if(!e||Y_)return"";Y_=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),i=n.stack.split(`
`),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(s!==1||o!==1)do if(s--,o--,0>o||a[s]!==i[o]){var l=`
`+a[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{Y_=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?dg(e):""}function nQ(e){switch(e.tag){case 5:return dg(e.type);case 16:return dg("Lazy");case 13:return dg("Suspense");case 19:return dg("SuspenseList");case 0:case 2:case 15:return e=X_(e.type,!1),e;case 11:return e=X_(e.type.render,!1),e;case 1:return e=X_(e.type,!0),e;default:return""}}function JA(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case y0:return"Fragment";case v0:return"Portal";case YA:return"Profiler";case B3:return"StrictMode";case XA:return"Suspense";case QA:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case j7:return(e.displayName||"Context")+".Consumer";case I7:return(e._context.displayName||"Context")+".Provider";case U3:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V3:return t=e.displayName||null,t!==null?t:JA(e.type)||"Memo";case Gu:t=e._payload,e=e._init;try{return JA(e(t))}catch{}}return null}function aQ(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return JA(t);case 8:return t===B3?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function jf(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function L7(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function iQ(e){var t=L7(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Zy(e){e._valueTracker||(e._valueTracker=iQ(e))}function M7(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=L7(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function C2(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ZA(e,t){var r=t.checked;return sa({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function _6(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=jf(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function R7(e,t){t=t.checked,t!=null&&$3(e,"checked",t,!1)}function e4(e,t){R7(e,t);var r=jf(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?t4(e,t.type,r):t.hasOwnProperty("defaultValue")&&t4(e,t.type,jf(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function S6(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function t4(e,t,r){(t!=="number"||C2(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var hg=Array.isArray;function $0(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+jf(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function r4(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(It(91));return sa({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function A6(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(It(92));if(hg(r)){if(1<r.length)throw Error(It(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:jf(r)}}function F7(e,t){var r=jf(t.value),n=jf(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function E6(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function $7(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function n4(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?$7(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ex,B7=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ex=ex||document.createElement("div"),ex.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ex.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function hv(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ng={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sQ=["Webkit","ms","Moz","O"];Object.keys(Ng).forEach(function(e){sQ.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ng[t]=Ng[e]})});function U7(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ng.hasOwnProperty(e)&&Ng[e]?(""+t).trim():t+"px"}function V7(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=U7(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var oQ=sa({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function a4(e,t){if(t){if(oQ[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(It(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(It(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(It(61))}if(t.style!=null&&typeof t.style!="object")throw Error(It(62))}}function i4(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var s4=null;function z3(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var o4=null,B0=null,U0=null;function T6(e){if(e=H1(e)){if(typeof o4!="function")throw Error(It(280));var t=e.stateNode;t&&(t=Yw(t),o4(e.stateNode,e.type,t))}}function z7(e){B0?U0?U0.push(e):U0=[e]:B0=e}function q7(){if(B0){var e=B0,t=U0;if(U0=B0=null,T6(e),t)for(e=0;e<t.length;e++)T6(t[e])}}function W7(e,t){return e(t)}function H7(){}var Q_=!1;function G7(e,t,r){if(Q_)return e(t,r);Q_=!0;try{return W7(e,t,r)}finally{Q_=!1,(B0!==null||U0!==null)&&(H7(),q7())}}function pv(e,t){var r=e.stateNode;if(r===null)return null;var n=Yw(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(It(231,t,typeof r));return r}var l4=!1;if(zc)try{var Vm={};Object.defineProperty(Vm,"passive",{get:function(){l4=!0}}),window.addEventListener("test",Vm,Vm),window.removeEventListener("test",Vm,Vm)}catch{l4=!1}function lQ(e,t,r,n,a,i,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var kg=!1,P2=null,O2=!1,c4=null,cQ={onError:function(e){kg=!0,P2=e}};function uQ(e,t,r,n,a,i,s,o,l){kg=!1,P2=null,lQ.apply(cQ,arguments)}function fQ(e,t,r,n,a,i,s,o,l){if(uQ.apply(this,arguments),kg){if(kg){var c=P2;kg=!1,P2=null}else throw Error(It(198));O2||(O2=!0,c4=c)}}function xh(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function K7(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function N6(e){if(xh(e)!==e)throw Error(It(188))}function dQ(e){var t=e.alternate;if(!t){if(t=xh(e),t===null)throw Error(It(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return N6(a),e;if(i===n)return N6(a),t;i=i.sibling}throw Error(It(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s){for(o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s)throw Error(It(189))}}if(r.alternate!==n)throw Error(It(190))}if(r.tag!==3)throw Error(It(188));return r.stateNode.current===r?e:t}function Y7(e){return e=dQ(e),e!==null?X7(e):null}function X7(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=X7(e);if(t!==null)return t;e=e.sibling}return null}var Q7=io.unstable_scheduleCallback,k6=io.unstable_cancelCallback,hQ=io.unstable_shouldYield,pQ=io.unstable_requestPaint,wa=io.unstable_now,mQ=io.unstable_getCurrentPriorityLevel,q3=io.unstable_ImmediatePriority,J7=io.unstable_UserBlockingPriority,I2=io.unstable_NormalPriority,gQ=io.unstable_LowPriority,Z7=io.unstable_IdlePriority,Ww=null,Kl=null;function vQ(e){if(Kl&&typeof Kl.onCommitFiberRoot=="function")try{Kl.onCommitFiberRoot(Ww,e,void 0,(e.current.flags&128)===128)}catch{}}var yl=Math.clz32?Math.clz32:bQ,yQ=Math.log,xQ=Math.LN2;function bQ(e){return e>>>=0,e===0?32:31-(yQ(e)/xQ|0)|0}var tx=64,rx=4194304;function pg(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function j2(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~a;o!==0?n=pg(o):(i&=s,i!==0&&(n=pg(i)))}else s=r&~a,s!==0?n=pg(s):i!==0&&(n=pg(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-yl(t),a=1<<r,n|=e[r],t&=~a;return n}function wQ(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _Q(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-yl(i),o=1<<s,l=a[s];l===-1?(!(o&r)||o&n)&&(a[s]=wQ(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}function u4(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function e$(){var e=tx;return tx<<=1,!(tx&4194240)&&(tx=64),e}function J_(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function q1(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-yl(t),e[t]=r}function SQ(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-yl(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function W3(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-yl(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Nn=0;function t$(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var r$,H3,n$,a$,i$,f4=!1,nx=[],hf=null,pf=null,mf=null,mv=new Map,gv=new Map,Qu=[],AQ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function C6(e,t){switch(e){case"focusin":case"focusout":hf=null;break;case"dragenter":case"dragleave":pf=null;break;case"mouseover":case"mouseout":mf=null;break;case"pointerover":case"pointerout":mv.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gv.delete(t.pointerId)}}function zm(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=H1(t),t!==null&&H3(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function EQ(e,t,r,n,a){switch(t){case"focusin":return hf=zm(hf,e,t,r,n,a),!0;case"dragenter":return pf=zm(pf,e,t,r,n,a),!0;case"mouseover":return mf=zm(mf,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return mv.set(i,zm(mv.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,gv.set(i,zm(gv.get(i)||null,e,t,r,n,a)),!0}return!1}function s$(e){var t=Od(e.target);if(t!==null){var r=xh(t);if(r!==null){if(t=r.tag,t===13){if(t=K7(r),t!==null){e.blockedOn=t,i$(e.priority,function(){n$(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function r2(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=d4(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);s4=n,r.target.dispatchEvent(n),s4=null}else return t=H1(r),t!==null&&H3(t),e.blockedOn=r,!1;t.shift()}return!0}function P6(e,t,r){r2(e)&&r.delete(t)}function TQ(){f4=!1,hf!==null&&r2(hf)&&(hf=null),pf!==null&&r2(pf)&&(pf=null),mf!==null&&r2(mf)&&(mf=null),mv.forEach(P6),gv.forEach(P6)}function qm(e,t){e.blockedOn===t&&(e.blockedOn=null,f4||(f4=!0,io.unstable_scheduleCallback(io.unstable_NormalPriority,TQ)))}function vv(e){function t(a){return qm(a,e)}if(0<nx.length){qm(nx[0],e);for(var r=1;r<nx.length;r++){var n=nx[r];n.blockedOn===e&&(n.blockedOn=null)}}for(hf!==null&&qm(hf,e),pf!==null&&qm(pf,e),mf!==null&&qm(mf,e),mv.forEach(t),gv.forEach(t),r=0;r<Qu.length;r++)n=Qu[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Qu.length&&(r=Qu[0],r.blockedOn===null);)s$(r),r.blockedOn===null&&Qu.shift()}var V0=ou.ReactCurrentBatchConfig,D2=!0;function NQ(e,t,r,n){var a=Nn,i=V0.transition;V0.transition=null;try{Nn=1,G3(e,t,r,n)}finally{Nn=a,V0.transition=i}}function kQ(e,t,r,n){var a=Nn,i=V0.transition;V0.transition=null;try{Nn=4,G3(e,t,r,n)}finally{Nn=a,V0.transition=i}}function G3(e,t,r,n){if(D2){var a=d4(e,t,r,n);if(a===null)lS(e,t,n,L2,r),C6(e,n);else if(EQ(a,e,t,r,n))n.stopPropagation();else if(C6(e,n),t&4&&-1<AQ.indexOf(e)){for(;a!==null;){var i=H1(a);if(i!==null&&r$(i),i=d4(e,t,r,n),i===null&&lS(e,t,n,L2,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else lS(e,t,n,null,r)}}var L2=null;function d4(e,t,r,n){if(L2=null,e=z3(n),e=Od(e),e!==null)if(t=xh(e),t===null)e=null;else if(r=t.tag,r===13){if(e=K7(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return L2=e,null}function o$(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mQ()){case q3:return 1;case J7:return 4;case I2:case gQ:return 16;case Z7:return 536870912;default:return 16}default:return 16}}var nf=null,K3=null,n2=null;function l$(){if(n2)return n2;var e,t=K3,r=t.length,n,a="value"in nf?nf.value:nf.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===a[i-n];n++);return n2=a.slice(e,1<n?1-n:void 0)}function a2(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ax(){return!0}function O6(){return!1}function co(e){function t(r,n,a,i,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ax:O6,this.isPropagationStopped=O6,this}return sa(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ax)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ax)},persist:function(){},isPersistent:ax}),t}var Kp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Y3=co(Kp),W1=sa({},Kp,{view:0,detail:0}),CQ=co(W1),Z_,eS,Wm,Hw=sa({},W1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:X3,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wm&&(Wm&&e.type==="mousemove"?(Z_=e.screenX-Wm.screenX,eS=e.screenY-Wm.screenY):eS=Z_=0,Wm=e),Z_)},movementY:function(e){return"movementY"in e?e.movementY:eS}}),I6=co(Hw),PQ=sa({},Hw,{dataTransfer:0}),OQ=co(PQ),IQ=sa({},W1,{relatedTarget:0}),tS=co(IQ),jQ=sa({},Kp,{animationName:0,elapsedTime:0,pseudoElement:0}),DQ=co(jQ),LQ=sa({},Kp,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),MQ=co(LQ),RQ=sa({},Kp,{data:0}),j6=co(RQ),FQ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$Q={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BQ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function UQ(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=BQ[e])?!!t[e]:!1}function X3(){return UQ}var VQ=sa({},W1,{key:function(e){if(e.key){var t=FQ[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=a2(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$Q[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:X3,charCode:function(e){return e.type==="keypress"?a2(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?a2(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zQ=co(VQ),qQ=sa({},Hw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),D6=co(qQ),WQ=sa({},W1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:X3}),HQ=co(WQ),GQ=sa({},Kp,{propertyName:0,elapsedTime:0,pseudoElement:0}),KQ=co(GQ),YQ=sa({},Hw,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),XQ=co(YQ),QQ=[9,13,27,32],Q3=zc&&"CompositionEvent"in window,Cg=null;zc&&"documentMode"in document&&(Cg=document.documentMode);var JQ=zc&&"TextEvent"in window&&!Cg,c$=zc&&(!Q3||Cg&&8<Cg&&11>=Cg),L6=" ",M6=!1;function u$(e,t){switch(e){case"keyup":return QQ.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function f$(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var x0=!1;function ZQ(e,t){switch(e){case"compositionend":return f$(t);case"keypress":return t.which!==32?null:(M6=!0,L6);case"textInput":return e=t.data,e===L6&&M6?null:e;default:return null}}function eJ(e,t){if(x0)return e==="compositionend"||!Q3&&u$(e,t)?(e=l$(),n2=K3=nf=null,x0=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return c$&&t.locale!=="ko"?null:t.data;default:return null}}var tJ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function R6(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!tJ[e.type]:t==="textarea"}function d$(e,t,r,n){z7(n),t=M2(t,"onChange"),0<t.length&&(r=new Y3("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Pg=null,yv=null;function rJ(e){S$(e,0)}function Gw(e){var t=_0(e);if(M7(t))return e}function nJ(e,t){if(e==="change")return t}var h$=!1;if(zc){var rS;if(zc){var nS="oninput"in document;if(!nS){var F6=document.createElement("div");F6.setAttribute("oninput","return;"),nS=typeof F6.oninput=="function"}rS=nS}else rS=!1;h$=rS&&(!document.documentMode||9<document.documentMode)}function $6(){Pg&&(Pg.detachEvent("onpropertychange",p$),yv=Pg=null)}function p$(e){if(e.propertyName==="value"&&Gw(yv)){var t=[];d$(t,yv,e,z3(e)),G7(rJ,t)}}function aJ(e,t,r){e==="focusin"?($6(),Pg=t,yv=r,Pg.attachEvent("onpropertychange",p$)):e==="focusout"&&$6()}function iJ(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Gw(yv)}function sJ(e,t){if(e==="click")return Gw(t)}function oJ(e,t){if(e==="input"||e==="change")return Gw(t)}function lJ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Sl=typeof Object.is=="function"?Object.is:lJ;function xv(e,t){if(Sl(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!KA.call(t,a)||!Sl(e[a],t[a]))return!1}return!0}function B6(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function U6(e,t){var r=B6(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=B6(r)}}function m$(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?m$(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function g$(){for(var e=window,t=C2();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=C2(e.document)}return t}function J3(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function cJ(e){var t=g$(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&m$(r.ownerDocument.documentElement,r)){if(n!==null&&J3(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=U6(r,i);var s=U6(r,n);a&&s&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var uJ=zc&&"documentMode"in document&&11>=document.documentMode,b0=null,h4=null,Og=null,p4=!1;function V6(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;p4||b0==null||b0!==C2(n)||(n=b0,"selectionStart"in n&&J3(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Og&&xv(Og,n)||(Og=n,n=M2(h4,"onSelect"),0<n.length&&(t=new Y3("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=b0)))}function ix(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var w0={animationend:ix("Animation","AnimationEnd"),animationiteration:ix("Animation","AnimationIteration"),animationstart:ix("Animation","AnimationStart"),transitionend:ix("Transition","TransitionEnd")},aS={},v$={};zc&&(v$=document.createElement("div").style,"AnimationEvent"in window||(delete w0.animationend.animation,delete w0.animationiteration.animation,delete w0.animationstart.animation),"TransitionEvent"in window||delete w0.transitionend.transition);function Kw(e){if(aS[e])return aS[e];if(!w0[e])return e;var t=w0[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in v$)return aS[e]=t[r];return e}var y$=Kw("animationend"),x$=Kw("animationiteration"),b$=Kw("animationstart"),w$=Kw("transitionend"),_$=new Map,z6="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hf(e,t){_$.set(e,t),yh(t,[e])}for(var iS=0;iS<z6.length;iS++){var sS=z6[iS],fJ=sS.toLowerCase(),dJ=sS[0].toUpperCase()+sS.slice(1);Hf(fJ,"on"+dJ)}Hf(y$,"onAnimationEnd");Hf(x$,"onAnimationIteration");Hf(b$,"onAnimationStart");Hf("dblclick","onDoubleClick");Hf("focusin","onFocus");Hf("focusout","onBlur");Hf(w$,"onTransitionEnd");ip("onMouseEnter",["mouseout","mouseover"]);ip("onMouseLeave",["mouseout","mouseover"]);ip("onPointerEnter",["pointerout","pointerover"]);ip("onPointerLeave",["pointerout","pointerover"]);yh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yh("onBeforeInput",["compositionend","keypress","textInput","paste"]);yh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hJ=new Set("cancel close invalid load scroll toggle".split(" ").concat(mg));function q6(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,fQ(n,t,void 0,e),e.currentTarget=null}function S$(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;q6(a,o,c),i=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;q6(a,o,c),i=l}}}if(O2)throw e=c4,O2=!1,c4=null,e}function zn(e,t){var r=t[x4];r===void 0&&(r=t[x4]=new Set);var n=e+"__bubble";r.has(n)||(A$(t,e,2,!1),r.add(n))}function oS(e,t,r){var n=0;t&&(n|=4),A$(r,e,n,t)}var sx="_reactListening"+Math.random().toString(36).slice(2);function bv(e){if(!e[sx]){e[sx]=!0,O7.forEach(function(r){r!=="selectionchange"&&(hJ.has(r)||oS(r,!1,e),oS(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[sx]||(t[sx]=!0,oS("selectionchange",!1,t))}}function A$(e,t,r,n){switch(o$(t)){case 1:var a=NQ;break;case 4:a=kQ;break;default:a=G3}r=a.bind(null,t,r,e),a=void 0,!l4||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function lS(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;s=s.return}for(;o!==null;){if(s=Od(o),s===null)return;if(l=s.tag,l===5||l===6){n=i=s;continue e}o=o.parentNode}}n=n.return}G7(function(){var c=i,u=z3(r),f=[];e:{var h=_$.get(e);if(h!==void 0){var p=Y3,g=e;switch(e){case"keypress":if(a2(r)===0)break e;case"keydown":case"keyup":p=zQ;break;case"focusin":g="focus",p=tS;break;case"focusout":g="blur",p=tS;break;case"beforeblur":case"afterblur":p=tS;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=I6;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=OQ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=HQ;break;case y$:case x$:case b$:p=DQ;break;case w$:p=KQ;break;case"scroll":p=CQ;break;case"wheel":p=XQ;break;case"copy":case"cut":case"paste":p=MQ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=D6}var m=(t&4)!==0,y=!m&&e==="scroll",v=m?h!==null?h+"Capture":null:h;m=[];for(var b=c,w;b!==null;){w=b;var D=w.stateNode;if(w.tag===5&&D!==null&&(w=D,v!==null&&(D=pv(b,v),D!=null&&m.push(wv(b,D,w)))),y)break;b=b.return}0<m.length&&(h=new p(h,g,null,r,u),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==s4&&(g=r.relatedTarget||r.fromElement)&&(Od(g)||g[qc]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=c,g=g?Od(g):null,g!==null&&(y=xh(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(m=I6,D="onMouseLeave",v="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(m=D6,D="onPointerLeave",v="onPointerEnter",b="pointer"),y=p==null?h:_0(p),w=g==null?h:_0(g),h=new m(D,b+"leave",p,r,u),h.target=y,h.relatedTarget=w,D=null,Od(u)===c&&(m=new m(v,b+"enter",g,r,u),m.target=w,m.relatedTarget=y,D=m),y=D,p&&g)t:{for(m=p,v=g,b=0,w=m;w;w=e0(w))b++;for(w=0,D=v;D;D=e0(D))w++;for(;0<b-w;)m=e0(m),b--;for(;0<w-b;)v=e0(v),w--;for(;b--;){if(m===v||v!==null&&m===v.alternate)break t;m=e0(m),v=e0(v)}m=null}else m=null;p!==null&&W6(f,h,p,m,!1),g!==null&&y!==null&&W6(f,y,g,m,!0)}}e:{if(h=c?_0(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var P=nJ;else if(R6(h))if(h$)P=oJ;else{P=iJ;var j=aJ}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(P=sJ);if(P&&(P=P(e,c))){d$(f,P,r,u);break e}j&&j(e,h,c),e==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&t4(h,"number",h.value)}switch(j=c?_0(c):window,e){case"focusin":(R6(j)||j.contentEditable==="true")&&(b0=j,h4=c,Og=null);break;case"focusout":Og=h4=b0=null;break;case"mousedown":p4=!0;break;case"contextmenu":case"mouseup":case"dragend":p4=!1,V6(f,r,u);break;case"selectionchange":if(uJ)break;case"keydown":case"keyup":V6(f,r,u)}var E;if(Q3)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else x0?u$(e,r)&&(_="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(c$&&r.locale!=="ko"&&(x0||_!=="onCompositionStart"?_==="onCompositionEnd"&&x0&&(E=l$()):(nf=u,K3="value"in nf?nf.value:nf.textContent,x0=!0)),j=M2(c,_),0<j.length&&(_=new j6(_,e,null,r,u),f.push({event:_,listeners:j}),E?_.data=E:(E=f$(r),E!==null&&(_.data=E)))),(E=JQ?ZQ(e,r):eJ(e,r))&&(c=M2(c,"onBeforeInput"),0<c.length&&(u=new j6("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:c}),u.data=E))}S$(f,t)})}function wv(e,t,r){return{instance:e,listener:t,currentTarget:r}}function M2(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=pv(e,r),i!=null&&n.unshift(wv(e,i,a)),i=pv(e,t),i!=null&&n.push(wv(e,i,a))),e=e.return}return n}function e0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function W6(e,t,r,n,a){for(var i=t._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,a?(l=pv(r,i),l!=null&&s.unshift(wv(r,l,o))):a||(l=pv(r,i),l!=null&&s.push(wv(r,l,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var pJ=/\r\n?/g,mJ=/\u0000|\uFFFD/g;function H6(e){return(typeof e=="string"?e:""+e).replace(pJ,`
`).replace(mJ,"")}function ox(e,t,r){if(t=H6(t),H6(e)!==t&&r)throw Error(It(425))}function R2(){}var m4=null,g4=null;function v4(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var y4=typeof setTimeout=="function"?setTimeout:void 0,gJ=typeof clearTimeout=="function"?clearTimeout:void 0,G6=typeof Promise=="function"?Promise:void 0,vJ=typeof queueMicrotask=="function"?queueMicrotask:typeof G6<"u"?function(e){return G6.resolve(null).then(e).catch(yJ)}:y4;function yJ(e){setTimeout(function(){throw e})}function cS(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),vv(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);vv(t)}function gf(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function K6(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Yp=Math.random().toString(36).slice(2),Wl="__reactFiber$"+Yp,_v="__reactProps$"+Yp,qc="__reactContainer$"+Yp,x4="__reactEvents$"+Yp,xJ="__reactListeners$"+Yp,bJ="__reactHandles$"+Yp;function Od(e){var t=e[Wl];if(t)return t;for(var r=e.parentNode;r;){if(t=r[qc]||r[Wl]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=K6(e);e!==null;){if(r=e[Wl])return r;e=K6(e)}return t}e=r,r=e.parentNode}return null}function H1(e){return e=e[Wl]||e[qc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _0(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(It(33))}function Yw(e){return e[_v]||null}var b4=[],S0=-1;function Gf(e){return{current:e}}function Kn(e){0>S0||(e.current=b4[S0],b4[S0]=null,S0--)}function Bn(e,t){S0++,b4[S0]=e.current,e.current=t}var Df={},Ji=Gf(Df),Ls=Gf(!1),Jd=Df;function sp(e,t){var r=e.type.contextTypes;if(!r)return Df;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ms(e){return e=e.childContextTypes,e!=null}function F2(){Kn(Ls),Kn(Ji)}function Y6(e,t,r){if(Ji.current!==Df)throw Error(It(168));Bn(Ji,t),Bn(Ls,r)}function E$(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(It(108,aQ(e)||"Unknown",a));return sa({},r,n)}function $2(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Df,Jd=Ji.current,Bn(Ji,e),Bn(Ls,Ls.current),!0}function X6(e,t,r){var n=e.stateNode;if(!n)throw Error(It(169));r?(e=E$(e,t,Jd),n.__reactInternalMemoizedMergedChildContext=e,Kn(Ls),Kn(Ji),Bn(Ji,e)):Kn(Ls),Bn(Ls,r)}var Tc=null,Xw=!1,uS=!1;function T$(e){Tc===null?Tc=[e]:Tc.push(e)}function wJ(e){Xw=!0,T$(e)}function Kf(){if(!uS&&Tc!==null){uS=!0;var e=0,t=Nn;try{var r=Tc;for(Nn=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Tc=null,Xw=!1}catch(a){throw Tc!==null&&(Tc=Tc.slice(e+1)),Q7(q3,Kf),a}finally{Nn=t,uS=!1}}return null}var A0=[],E0=0,B2=null,U2=0,ko=[],Co=0,Zd=null,Cc=1,Pc="";function bd(e,t){A0[E0++]=U2,A0[E0++]=B2,B2=e,U2=t}function N$(e,t,r){ko[Co++]=Cc,ko[Co++]=Pc,ko[Co++]=Zd,Zd=e;var n=Cc;e=Pc;var a=32-yl(n)-1;n&=~(1<<a),r+=1;var i=32-yl(t)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,Cc=1<<32-yl(t)+a|r<<a|n,Pc=i+e}else Cc=1<<i|r<<a|n,Pc=e}function Z3(e){e.return!==null&&(bd(e,1),N$(e,1,0))}function eN(e){for(;e===B2;)B2=A0[--E0],A0[E0]=null,U2=A0[--E0],A0[E0]=null;for(;e===Zd;)Zd=ko[--Co],ko[Co]=null,Pc=ko[--Co],ko[Co]=null,Cc=ko[--Co],ko[Co]=null}var ao=null,to=null,Xn=!1,fl=null;function k$(e,t){var r=Po(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Q6(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ao=e,to=gf(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ao=e,to=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Zd!==null?{id:Cc,overflow:Pc}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Po(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ao=e,to=null,!0):!1;default:return!1}}function w4(e){return(e.mode&1)!==0&&(e.flags&128)===0}function _4(e){if(Xn){var t=to;if(t){var r=t;if(!Q6(e,t)){if(w4(e))throw Error(It(418));t=gf(r.nextSibling);var n=ao;t&&Q6(e,t)?k$(n,r):(e.flags=e.flags&-4097|2,Xn=!1,ao=e)}}else{if(w4(e))throw Error(It(418));e.flags=e.flags&-4097|2,Xn=!1,ao=e}}}function J6(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ao=e}function lx(e){if(e!==ao)return!1;if(!Xn)return J6(e),Xn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!v4(e.type,e.memoizedProps)),t&&(t=to)){if(w4(e))throw C$(),Error(It(418));for(;t;)k$(e,t),t=gf(t.nextSibling)}if(J6(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(It(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){to=gf(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}to=null}}else to=ao?gf(e.stateNode.nextSibling):null;return!0}function C$(){for(var e=to;e;)e=gf(e.nextSibling)}function op(){to=ao=null,Xn=!1}function tN(e){fl===null?fl=[e]:fl.push(e)}var _J=ou.ReactCurrentBatchConfig;function Hm(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(It(309));var n=r.stateNode}if(!n)throw Error(It(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var o=a.refs;s===null?delete o[i]:o[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(It(284));if(!r._owner)throw Error(It(290,e))}return e}function cx(e,t){throw e=Object.prototype.toString.call(t),Error(It(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Z6(e){var t=e._init;return t(e._payload)}function P$(e){function t(v,b){if(e){var w=v.deletions;w===null?(v.deletions=[b],v.flags|=16):w.push(b)}}function r(v,b){if(!e)return null;for(;b!==null;)t(v,b),b=b.sibling;return null}function n(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function a(v,b){return v=bf(v,b),v.index=0,v.sibling=null,v}function i(v,b,w){return v.index=w,e?(w=v.alternate,w!==null?(w=w.index,w<b?(v.flags|=2,b):w):(v.flags|=2,b)):(v.flags|=1048576,b)}function s(v){return e&&v.alternate===null&&(v.flags|=2),v}function o(v,b,w,D){return b===null||b.tag!==6?(b=vS(w,v.mode,D),b.return=v,b):(b=a(b,w),b.return=v,b)}function l(v,b,w,D){var P=w.type;return P===y0?u(v,b,w.props.children,D,w.key):b!==null&&(b.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Gu&&Z6(P)===b.type)?(D=a(b,w.props),D.ref=Hm(v,b,w),D.return=v,D):(D=f2(w.type,w.key,w.props,null,v.mode,D),D.ref=Hm(v,b,w),D.return=v,D)}function c(v,b,w,D){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=yS(w,v.mode,D),b.return=v,b):(b=a(b,w.children||[]),b.return=v,b)}function u(v,b,w,D,P){return b===null||b.tag!==7?(b=zd(w,v.mode,D,P),b.return=v,b):(b=a(b,w),b.return=v,b)}function f(v,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=vS(""+b,v.mode,w),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Jy:return w=f2(b.type,b.key,b.props,null,v.mode,w),w.ref=Hm(v,null,b),w.return=v,w;case v0:return b=yS(b,v.mode,w),b.return=v,b;case Gu:var D=b._init;return f(v,D(b._payload),w)}if(hg(b)||Um(b))return b=zd(b,v.mode,w,null),b.return=v,b;cx(v,b)}return null}function h(v,b,w,D){var P=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return P!==null?null:o(v,b,""+w,D);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Jy:return w.key===P?l(v,b,w,D):null;case v0:return w.key===P?c(v,b,w,D):null;case Gu:return P=w._init,h(v,b,P(w._payload),D)}if(hg(w)||Um(w))return P!==null?null:u(v,b,w,D,null);cx(v,w)}return null}function p(v,b,w,D,P){if(typeof D=="string"&&D!==""||typeof D=="number")return v=v.get(w)||null,o(b,v,""+D,P);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Jy:return v=v.get(D.key===null?w:D.key)||null,l(b,v,D,P);case v0:return v=v.get(D.key===null?w:D.key)||null,c(b,v,D,P);case Gu:var j=D._init;return p(v,b,w,j(D._payload),P)}if(hg(D)||Um(D))return v=v.get(w)||null,u(b,v,D,P,null);cx(b,D)}return null}function g(v,b,w,D){for(var P=null,j=null,E=b,_=b=0,S=null;E!==null&&_<w.length;_++){E.index>_?(S=E,E=null):S=E.sibling;var I=h(v,E,w[_],D);if(I===null){E===null&&(E=S);break}e&&E&&I.alternate===null&&t(v,E),b=i(I,b,_),j===null?P=I:j.sibling=I,j=I,E=S}if(_===w.length)return r(v,E),Xn&&bd(v,_),P;if(E===null){for(;_<w.length;_++)E=f(v,w[_],D),E!==null&&(b=i(E,b,_),j===null?P=E:j.sibling=E,j=E);return Xn&&bd(v,_),P}for(E=n(v,E);_<w.length;_++)S=p(E,v,_,w[_],D),S!==null&&(e&&S.alternate!==null&&E.delete(S.key===null?_:S.key),b=i(S,b,_),j===null?P=S:j.sibling=S,j=S);return e&&E.forEach(function(T){return t(v,T)}),Xn&&bd(v,_),P}function m(v,b,w,D){var P=Um(w);if(typeof P!="function")throw Error(It(150));if(w=P.call(w),w==null)throw Error(It(151));for(var j=P=null,E=b,_=b=0,S=null,I=w.next();E!==null&&!I.done;_++,I=w.next()){E.index>_?(S=E,E=null):S=E.sibling;var T=h(v,E,I.value,D);if(T===null){E===null&&(E=S);break}e&&E&&T.alternate===null&&t(v,E),b=i(T,b,_),j===null?P=T:j.sibling=T,j=T,E=S}if(I.done)return r(v,E),Xn&&bd(v,_),P;if(E===null){for(;!I.done;_++,I=w.next())I=f(v,I.value,D),I!==null&&(b=i(I,b,_),j===null?P=I:j.sibling=I,j=I);return Xn&&bd(v,_),P}for(E=n(v,E);!I.done;_++,I=w.next())I=p(E,v,_,I.value,D),I!==null&&(e&&I.alternate!==null&&E.delete(I.key===null?_:I.key),b=i(I,b,_),j===null?P=I:j.sibling=I,j=I);return e&&E.forEach(function(N){return t(v,N)}),Xn&&bd(v,_),P}function y(v,b,w,D){if(typeof w=="object"&&w!==null&&w.type===y0&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Jy:e:{for(var P=w.key,j=b;j!==null;){if(j.key===P){if(P=w.type,P===y0){if(j.tag===7){r(v,j.sibling),b=a(j,w.props.children),b.return=v,v=b;break e}}else if(j.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Gu&&Z6(P)===j.type){r(v,j.sibling),b=a(j,w.props),b.ref=Hm(v,j,w),b.return=v,v=b;break e}r(v,j);break}else t(v,j);j=j.sibling}w.type===y0?(b=zd(w.props.children,v.mode,D,w.key),b.return=v,v=b):(D=f2(w.type,w.key,w.props,null,v.mode,D),D.ref=Hm(v,b,w),D.return=v,v=D)}return s(v);case v0:e:{for(j=w.key;b!==null;){if(b.key===j)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){r(v,b.sibling),b=a(b,w.children||[]),b.return=v,v=b;break e}else{r(v,b);break}else t(v,b);b=b.sibling}b=yS(w,v.mode,D),b.return=v,v=b}return s(v);case Gu:return j=w._init,y(v,b,j(w._payload),D)}if(hg(w))return g(v,b,w,D);if(Um(w))return m(v,b,w,D);cx(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(r(v,b.sibling),b=a(b,w),b.return=v,v=b):(r(v,b),b=vS(w,v.mode,D),b.return=v,v=b),s(v)):r(v,b)}return y}var lp=P$(!0),O$=P$(!1),V2=Gf(null),z2=null,T0=null,rN=null;function nN(){rN=T0=z2=null}function aN(e){var t=V2.current;Kn(V2),e._currentValue=t}function S4(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function z0(e,t){z2=e,rN=T0=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Os=!0),e.firstContext=null)}function Mo(e){var t=e._currentValue;if(rN!==e)if(e={context:e,memoizedValue:t,next:null},T0===null){if(z2===null)throw Error(It(308));T0=e,z2.dependencies={lanes:0,firstContext:e}}else T0=T0.next=e;return t}var Id=null;function iN(e){Id===null?Id=[e]:Id.push(e)}function I$(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,iN(t)):(r.next=a.next,a.next=r),t.interleaved=r,Wc(e,n)}function Wc(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ku=!1;function sN(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function j$(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function vf(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,fn&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Wc(e,r)}return a=n.interleaved,a===null?(t.next=t,iN(n)):(t.next=a.next,a.next=t),n.interleaved=t,Wc(e,r)}function i2(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,W3(e,r)}}function eO(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function q2(e,t,r,n){var a=e.updateQueue;Ku=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?i=c:s.next=c,s=l;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(i!==null){var f=a.baseState;s=0,u=c=l=null,o=i;do{var h=o.lane,p=o.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,m=o;switch(h=t,p=r,m.tag){case 1:if(g=m.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=sa({},f,h);break e;case 2:Ku=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=p,l=f):u=u.next=p,s|=h;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;h=o,o=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(u===null&&(l=f),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do s|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);th|=s,e.lanes=s,e.memoizedState=f}}function tO(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(It(191,a));a.call(n)}}}var G1={},Yl=Gf(G1),Sv=Gf(G1),Av=Gf(G1);function jd(e){if(e===G1)throw Error(It(174));return e}function oN(e,t){switch(Bn(Av,t),Bn(Sv,e),Bn(Yl,G1),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:n4(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=n4(t,e)}Kn(Yl),Bn(Yl,t)}function cp(){Kn(Yl),Kn(Sv),Kn(Av)}function D$(e){jd(Av.current);var t=jd(Yl.current),r=n4(t,e.type);t!==r&&(Bn(Sv,e),Bn(Yl,r))}function lN(e){Sv.current===e&&(Kn(Yl),Kn(Sv))}var na=Gf(0);function W2(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fS=[];function cN(){for(var e=0;e<fS.length;e++)fS[e]._workInProgressVersionPrimary=null;fS.length=0}var s2=ou.ReactCurrentDispatcher,dS=ou.ReactCurrentBatchConfig,eh=0,aa=null,Ua=null,ei=null,H2=!1,Ig=!1,Ev=0,SJ=0;function Ci(){throw Error(It(321))}function uN(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Sl(e[r],t[r]))return!1;return!0}function fN(e,t,r,n,a,i){if(eh=i,aa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,s2.current=e===null||e.memoizedState===null?NJ:kJ,e=r(n,a),Ig){i=0;do{if(Ig=!1,Ev=0,25<=i)throw Error(It(301));i+=1,ei=Ua=null,t.updateQueue=null,s2.current=CJ,e=r(n,a)}while(Ig)}if(s2.current=G2,t=Ua!==null&&Ua.next!==null,eh=0,ei=Ua=aa=null,H2=!1,t)throw Error(It(300));return e}function dN(){var e=Ev!==0;return Ev=0,e}function zl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ei===null?aa.memoizedState=ei=e:ei=ei.next=e,ei}function Ro(){if(Ua===null){var e=aa.alternate;e=e!==null?e.memoizedState:null}else e=Ua.next;var t=ei===null?aa.memoizedState:ei.next;if(t!==null)ei=t,Ua=e;else{if(e===null)throw Error(It(310));Ua=e,e={memoizedState:Ua.memoizedState,baseState:Ua.baseState,baseQueue:Ua.baseQueue,queue:Ua.queue,next:null},ei===null?aa.memoizedState=ei=e:ei=ei.next=e}return ei}function Tv(e,t){return typeof t=="function"?t(e):t}function hS(e){var t=Ro(),r=t.queue;if(r===null)throw Error(It(311));r.lastRenderedReducer=e;var n=Ua,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=s=null,l=null,c=i;do{var u=c.lane;if((eh&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,s=n):l=l.next=f,aa.lanes|=u,th|=u}c=c.next}while(c!==null&&c!==i);l===null?s=n:l.next=o,Sl(n,t.memoizedState)||(Os=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,aa.lanes|=i,th|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function pS(e){var t=Ro(),r=t.queue;if(r===null)throw Error(It(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do i=e(i,s.action),s=s.next;while(s!==a);Sl(i,t.memoizedState)||(Os=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function L$(){}function M$(e,t){var r=aa,n=Ro(),a=t(),i=!Sl(n.memoizedState,a);if(i&&(n.memoizedState=a,Os=!0),n=n.queue,hN($$.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||ei!==null&&ei.memoizedState.tag&1){if(r.flags|=2048,Nv(9,F$.bind(null,r,n,a,t),void 0,null),ii===null)throw Error(It(349));eh&30||R$(r,t,a)}return a}function R$(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=aa.updateQueue,t===null?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function F$(e,t,r,n){t.value=r,t.getSnapshot=n,B$(t)&&U$(e)}function $$(e,t,r){return r(function(){B$(t)&&U$(e)})}function B$(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Sl(e,r)}catch{return!0}}function U$(e){var t=Wc(e,1);t!==null&&xl(t,e,1,-1)}function rO(e){var t=zl();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tv,lastRenderedState:e},t.queue=e,e=e.dispatch=TJ.bind(null,aa,e),[t.memoizedState,e]}function Nv(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=aa.updateQueue,t===null?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function V$(){return Ro().memoizedState}function o2(e,t,r,n){var a=zl();aa.flags|=e,a.memoizedState=Nv(1|t,r,void 0,n===void 0?null:n)}function Qw(e,t,r,n){var a=Ro();n=n===void 0?null:n;var i=void 0;if(Ua!==null){var s=Ua.memoizedState;if(i=s.destroy,n!==null&&uN(n,s.deps)){a.memoizedState=Nv(t,r,i,n);return}}aa.flags|=e,a.memoizedState=Nv(1|t,r,i,n)}function nO(e,t){return o2(8390656,8,e,t)}function hN(e,t){return Qw(2048,8,e,t)}function z$(e,t){return Qw(4,2,e,t)}function q$(e,t){return Qw(4,4,e,t)}function W$(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function H$(e,t,r){return r=r!=null?r.concat([e]):null,Qw(4,4,W$.bind(null,t,e),r)}function pN(){}function G$(e,t){var r=Ro();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&uN(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function K$(e,t){var r=Ro();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&uN(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Y$(e,t,r){return eh&21?(Sl(r,t)||(r=e$(),aa.lanes|=r,th|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Os=!0),e.memoizedState=r)}function AJ(e,t){var r=Nn;Nn=r!==0&&4>r?r:4,e(!0);var n=dS.transition;dS.transition={};try{e(!1),t()}finally{Nn=r,dS.transition=n}}function X$(){return Ro().memoizedState}function EJ(e,t,r){var n=xf(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Q$(e))J$(t,r);else if(r=I$(e,t,r,n),r!==null){var a=ms();xl(r,e,n,a),Z$(r,t,n)}}function TJ(e,t,r){var n=xf(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Q$(e))J$(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,o=i(s,r);if(a.hasEagerState=!0,a.eagerState=o,Sl(o,s)){var l=t.interleaved;l===null?(a.next=a,iN(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=I$(e,t,a,n),r!==null&&(a=ms(),xl(r,e,n,a),Z$(r,t,n))}}function Q$(e){var t=e.alternate;return e===aa||t!==null&&t===aa}function J$(e,t){Ig=H2=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Z$(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,W3(e,r)}}var G2={readContext:Mo,useCallback:Ci,useContext:Ci,useEffect:Ci,useImperativeHandle:Ci,useInsertionEffect:Ci,useLayoutEffect:Ci,useMemo:Ci,useReducer:Ci,useRef:Ci,useState:Ci,useDebugValue:Ci,useDeferredValue:Ci,useTransition:Ci,useMutableSource:Ci,useSyncExternalStore:Ci,useId:Ci,unstable_isNewReconciler:!1},NJ={readContext:Mo,useCallback:function(e,t){return zl().memoizedState=[e,t===void 0?null:t],e},useContext:Mo,useEffect:nO,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,o2(4194308,4,W$.bind(null,t,e),r)},useLayoutEffect:function(e,t){return o2(4194308,4,e,t)},useInsertionEffect:function(e,t){return o2(4,2,e,t)},useMemo:function(e,t){var r=zl();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=zl();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=EJ.bind(null,aa,e),[n.memoizedState,e]},useRef:function(e){var t=zl();return e={current:e},t.memoizedState=e},useState:rO,useDebugValue:pN,useDeferredValue:function(e){return zl().memoizedState=e},useTransition:function(){var e=rO(!1),t=e[0];return e=AJ.bind(null,e[1]),zl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=aa,a=zl();if(Xn){if(r===void 0)throw Error(It(407));r=r()}else{if(r=t(),ii===null)throw Error(It(349));eh&30||R$(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,nO($$.bind(null,n,i,e),[e]),n.flags|=2048,Nv(9,F$.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=zl(),t=ii.identifierPrefix;if(Xn){var r=Pc,n=Cc;r=(n&~(1<<32-yl(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ev++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=SJ++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},kJ={readContext:Mo,useCallback:G$,useContext:Mo,useEffect:hN,useImperativeHandle:H$,useInsertionEffect:z$,useLayoutEffect:q$,useMemo:K$,useReducer:hS,useRef:V$,useState:function(){return hS(Tv)},useDebugValue:pN,useDeferredValue:function(e){var t=Ro();return Y$(t,Ua.memoizedState,e)},useTransition:function(){var e=hS(Tv)[0],t=Ro().memoizedState;return[e,t]},useMutableSource:L$,useSyncExternalStore:M$,useId:X$,unstable_isNewReconciler:!1},CJ={readContext:Mo,useCallback:G$,useContext:Mo,useEffect:hN,useImperativeHandle:H$,useInsertionEffect:z$,useLayoutEffect:q$,useMemo:K$,useReducer:pS,useRef:V$,useState:function(){return pS(Tv)},useDebugValue:pN,useDeferredValue:function(e){var t=Ro();return Ua===null?t.memoizedState=e:Y$(t,Ua.memoizedState,e)},useTransition:function(){var e=pS(Tv)[0],t=Ro().memoizedState;return[e,t]},useMutableSource:L$,useSyncExternalStore:M$,useId:X$,unstable_isNewReconciler:!1};function sl(e,t){if(e&&e.defaultProps){t=sa({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function A4(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:sa({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Jw={isMounted:function(e){return(e=e._reactInternals)?xh(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ms(),a=xf(e),i=Mc(n,a);i.payload=t,r!=null&&(i.callback=r),t=vf(e,i,a),t!==null&&(xl(t,e,a,n),i2(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ms(),a=xf(e),i=Mc(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=vf(e,i,a),t!==null&&(xl(t,e,a,n),i2(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ms(),n=xf(e),a=Mc(r,n);a.tag=2,t!=null&&(a.callback=t),t=vf(e,a,n),t!==null&&(xl(t,e,n,r),i2(t,e,n))}};function aO(e,t,r,n,a,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,s):t.prototype&&t.prototype.isPureReactComponent?!xv(r,n)||!xv(a,i):!0}function e9(e,t,r){var n=!1,a=Df,i=t.contextType;return typeof i=="object"&&i!==null?i=Mo(i):(a=Ms(t)?Jd:Ji.current,n=t.contextTypes,i=(n=n!=null)?sp(e,a):Df),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Jw,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function iO(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Jw.enqueueReplaceState(t,t.state,null)}function E4(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},sN(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Mo(i):(i=Ms(t)?Jd:Ji.current,a.context=sp(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(A4(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Jw.enqueueReplaceState(a,a.state,null),q2(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function up(e,t){try{var r="",n=t;do r+=nQ(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function mS(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function T4(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var PJ=typeof WeakMap=="function"?WeakMap:Map;function t9(e,t,r){r=Mc(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Y2||(Y2=!0,M4=n),T4(e,t)},r}function r9(e,t,r){r=Mc(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){T4(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){T4(e,t),typeof n!="function"&&(yf===null?yf=new Set([this]):yf.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function sO(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new PJ;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=qJ.bind(null,e,t,r),t.then(e,e))}function oO(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function lO(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Mc(-1,1),t.tag=2,vf(r,t,1))),r.lanes|=1),e)}var OJ=ou.ReactCurrentOwner,Os=!1;function ls(e,t,r,n){t.child=e===null?O$(t,null,r,n):lp(t,e.child,r,n)}function cO(e,t,r,n,a){r=r.render;var i=t.ref;return z0(t,a),n=fN(e,t,r,n,i,a),r=dN(),e!==null&&!Os?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hc(e,t,a)):(Xn&&r&&Z3(t),t.flags|=1,ls(e,t,n,a),t.child)}function uO(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!_N(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,n9(e,t,i,n,a)):(e=f2(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:xv,r(s,n)&&e.ref===t.ref)return Hc(e,t,a)}return t.flags|=1,e=bf(i,n),e.ref=t.ref,e.return=t,t.child=e}function n9(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(xv(i,n)&&e.ref===t.ref)if(Os=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Os=!0);else return t.lanes=e.lanes,Hc(e,t,a)}return N4(e,t,r,n,a)}function a9(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Bn(k0,Xs),Xs|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Bn(k0,Xs),Xs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Bn(k0,Xs),Xs|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Bn(k0,Xs),Xs|=n;return ls(e,t,a,r),t.child}function i9(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function N4(e,t,r,n,a){var i=Ms(r)?Jd:Ji.current;return i=sp(t,i),z0(t,a),r=fN(e,t,r,n,i,a),n=dN(),e!==null&&!Os?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hc(e,t,a)):(Xn&&n&&Z3(t),t.flags|=1,ls(e,t,r,a),t.child)}function fO(e,t,r,n,a){if(Ms(r)){var i=!0;$2(t)}else i=!1;if(z0(t,a),t.stateNode===null)l2(e,t),e9(t,r,n),E4(t,r,n,a),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=r.contextType;typeof c=="object"&&c!==null?c=Mo(c):(c=Ms(r)?Jd:Ji.current,c=sp(t,c));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==c)&&iO(t,s,n,c),Ku=!1;var h=t.memoizedState;s.state=h,q2(t,n,s,a),l=t.memoizedState,o!==n||h!==l||Ls.current||Ku?(typeof u=="function"&&(A4(t,r,u,n),l=t.memoizedState),(o=Ku||aO(t,r,o,n,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=c,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,j$(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:sl(t.type,o),s.props=c,f=t.pendingProps,h=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=Mo(l):(l=Ms(r)?Jd:Ji.current,l=sp(t,l));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==l)&&iO(t,s,n,l),Ku=!1,h=t.memoizedState,s.state=h,q2(t,n,s,a);var g=t.memoizedState;o!==f||h!==g||Ls.current||Ku?(typeof p=="function"&&(A4(t,r,p,n),g=t.memoizedState),(c=Ku||aO(t,r,c,n,h,g,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,g,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),s.props=n,s.state=g,s.context=l,n=c):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return k4(e,t,r,n,i,a)}function k4(e,t,r,n,a,i){i9(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return a&&X6(t,r,!1),Hc(e,t,i);n=t.stateNode,OJ.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=lp(t,e.child,null,i),t.child=lp(t,null,o,i)):ls(e,t,o,i),t.memoizedState=n.state,a&&X6(t,r,!0),t.child}function s9(e){var t=e.stateNode;t.pendingContext?Y6(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Y6(e,t.context,!1),oN(e,t.containerInfo)}function dO(e,t,r,n,a){return op(),tN(a),t.flags|=256,ls(e,t,r,n),t.child}var C4={dehydrated:null,treeContext:null,retryLane:0};function P4(e){return{baseLanes:e,cachePool:null,transitions:null}}function o9(e,t,r){var n=t.pendingProps,a=na.current,i=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Bn(na,a&1),e===null)return _4(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,i?(n=t.mode,i=t.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=t5(s,n,0,null),e=zd(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=P4(r),t.memoizedState=C4,e):mN(t,s));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return IJ(e,t,s,n,o,a,r);if(i){i=n.fallback,s=t.mode,a=e.child,o=a.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=bf(a,l),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=bf(o,i):(i=zd(i,s,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,s=e.child.memoizedState,s=s===null?P4(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~r,t.memoizedState=C4,n}return i=e.child,e=i.sibling,n=bf(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function mN(e,t){return t=t5({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ux(e,t,r,n){return n!==null&&tN(n),lp(t,e.child,null,r),e=mN(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function IJ(e,t,r,n,a,i,s){if(r)return t.flags&256?(t.flags&=-257,n=mS(Error(It(422))),ux(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=t5({mode:"visible",children:n.children},a,0,null),i=zd(i,a,s,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&lp(t,e.child,null,s),t.child.memoizedState=P4(s),t.memoizedState=C4,i);if(!(t.mode&1))return ux(e,t,s,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(It(419)),n=mS(i,n,void 0),ux(e,t,s,n)}if(o=(s&e.childLanes)!==0,Os||o){if(n=ii,n!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Wc(e,a),xl(n,e,a,-1))}return wN(),n=mS(Error(It(421))),ux(e,t,s,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=WJ.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,to=gf(a.nextSibling),ao=t,Xn=!0,fl=null,e!==null&&(ko[Co++]=Cc,ko[Co++]=Pc,ko[Co++]=Zd,Cc=e.id,Pc=e.overflow,Zd=t),t=mN(t,n.children),t.flags|=4096,t)}function hO(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),S4(e.return,t,r)}function gS(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function l9(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(ls(e,t,n.children,r),n=na.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hO(e,r,t);else if(e.tag===19)hO(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Bn(na,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&W2(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),gS(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&W2(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}gS(t,!0,r,null,i);break;case"together":gS(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function l2(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hc(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),th|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(It(153));if(t.child!==null){for(e=t.child,r=bf(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=bf(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function jJ(e,t,r){switch(t.tag){case 3:s9(t),op();break;case 5:D$(t);break;case 1:Ms(t.type)&&$2(t);break;case 4:oN(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Bn(V2,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Bn(na,na.current&1),t.flags|=128,null):r&t.child.childLanes?o9(e,t,r):(Bn(na,na.current&1),e=Hc(e,t,r),e!==null?e.sibling:null);Bn(na,na.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return l9(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Bn(na,na.current),n)break;return null;case 22:case 23:return t.lanes=0,a9(e,t,r)}return Hc(e,t,r)}var c9,O4,u9,f9;c9=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};O4=function(){};u9=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,jd(Yl.current);var i=null;switch(r){case"input":a=ZA(e,a),n=ZA(e,n),i=[];break;case"select":a=sa({},a,{value:void 0}),n=sa({},n,{value:void 0}),i=[];break;case"textarea":a=r4(e,a),n=r4(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=R2)}a4(r,n);var s;r=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var o=a[c];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(dv.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(o=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(dv.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&zn("scroll",e),i||o===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};f9=function(e,t,r,n){r!==n&&(t.flags|=4)};function Gm(e,t){if(!Xn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Pi(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function DJ(e,t,r){var n=t.pendingProps;switch(eN(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pi(t),null;case 1:return Ms(t.type)&&F2(),Pi(t),null;case 3:return n=t.stateNode,cp(),Kn(Ls),Kn(Ji),cN(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(lx(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,fl!==null&&($4(fl),fl=null))),O4(e,t),Pi(t),null;case 5:lN(t);var a=jd(Av.current);if(r=t.type,e!==null&&t.stateNode!=null)u9(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(It(166));return Pi(t),null}if(e=jd(Yl.current),lx(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Wl]=t,n[_v]=i,e=(t.mode&1)!==0,r){case"dialog":zn("cancel",n),zn("close",n);break;case"iframe":case"object":case"embed":zn("load",n);break;case"video":case"audio":for(a=0;a<mg.length;a++)zn(mg[a],n);break;case"source":zn("error",n);break;case"img":case"image":case"link":zn("error",n),zn("load",n);break;case"details":zn("toggle",n);break;case"input":_6(n,i),zn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},zn("invalid",n);break;case"textarea":A6(n,i),zn("invalid",n)}a4(r,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];s==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&ox(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&ox(n.textContent,o,e),a=["children",""+o]):dv.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&zn("scroll",n)}switch(r){case"input":Zy(n),S6(n,i,!0);break;case"textarea":Zy(n),E6(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=R2)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=$7(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Wl]=t,e[_v]=n,c9(e,t,!1,!1),t.stateNode=e;e:{switch(s=i4(r,n),r){case"dialog":zn("cancel",e),zn("close",e),a=n;break;case"iframe":case"object":case"embed":zn("load",e),a=n;break;case"video":case"audio":for(a=0;a<mg.length;a++)zn(mg[a],e);a=n;break;case"source":zn("error",e),a=n;break;case"img":case"image":case"link":zn("error",e),zn("load",e),a=n;break;case"details":zn("toggle",e),a=n;break;case"input":_6(e,n),a=ZA(e,n),zn("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=sa({},n,{value:void 0}),zn("invalid",e);break;case"textarea":A6(e,n),a=r4(e,n),zn("invalid",e);break;default:a=n}a4(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?V7(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&B7(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&hv(e,l):typeof l=="number"&&hv(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(dv.hasOwnProperty(i)?l!=null&&i==="onScroll"&&zn("scroll",e):l!=null&&$3(e,i,l,s))}switch(r){case"input":Zy(e),S6(e,n,!1);break;case"textarea":Zy(e),E6(e);break;case"option":n.value!=null&&e.setAttribute("value",""+jf(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?$0(e,!!n.multiple,i,!1):n.defaultValue!=null&&$0(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=R2)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Pi(t),null;case 6:if(e&&t.stateNode!=null)f9(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(It(166));if(r=jd(Av.current),jd(Yl.current),lx(t)){if(n=t.stateNode,r=t.memoizedProps,n[Wl]=t,(i=n.nodeValue!==r)&&(e=ao,e!==null))switch(e.tag){case 3:ox(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ox(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Wl]=t,t.stateNode=n}return Pi(t),null;case 13:if(Kn(na),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Xn&&to!==null&&t.mode&1&&!(t.flags&128))C$(),op(),t.flags|=98560,i=!1;else if(i=lx(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(It(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(It(317));i[Wl]=t}else op(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Pi(t),i=!1}else fl!==null&&($4(fl),fl=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||na.current&1?Va===0&&(Va=3):wN())),t.updateQueue!==null&&(t.flags|=4),Pi(t),null);case 4:return cp(),O4(e,t),e===null&&bv(t.stateNode.containerInfo),Pi(t),null;case 10:return aN(t.type._context),Pi(t),null;case 17:return Ms(t.type)&&F2(),Pi(t),null;case 19:if(Kn(na),i=t.memoizedState,i===null)return Pi(t),null;if(n=(t.flags&128)!==0,s=i.rendering,s===null)if(n)Gm(i,!1);else{if(Va!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=W2(e),s!==null){for(t.flags|=128,Gm(i,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Bn(na,na.current&1|2),t.child}e=e.sibling}i.tail!==null&&wa()>fp&&(t.flags|=128,n=!0,Gm(i,!1),t.lanes=4194304)}else{if(!n)if(e=W2(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Gm(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Xn)return Pi(t),null}else 2*wa()-i.renderingStartTime>fp&&r!==1073741824&&(t.flags|=128,n=!0,Gm(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(r=i.last,r!==null?r.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=wa(),t.sibling=null,r=na.current,Bn(na,n?r&1|2:r&1),t):(Pi(t),null);case 22:case 23:return bN(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Xs&1073741824&&(Pi(t),t.subtreeFlags&6&&(t.flags|=8192)):Pi(t),null;case 24:return null;case 25:return null}throw Error(It(156,t.tag))}function LJ(e,t){switch(eN(t),t.tag){case 1:return Ms(t.type)&&F2(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return cp(),Kn(Ls),Kn(Ji),cN(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return lN(t),null;case 13:if(Kn(na),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(It(340));op()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Kn(na),null;case 4:return cp(),null;case 10:return aN(t.type._context),null;case 22:case 23:return bN(),null;case 24:return null;default:return null}}var fx=!1,Ui=!1,MJ=typeof WeakSet=="function"?WeakSet:Set,Qt=null;function N0(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){da(e,t,n)}else r.current=null}function I4(e,t,r){try{r()}catch(n){da(e,t,n)}}var pO=!1;function RJ(e,t){if(m4=D2,e=g$(),J3(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,c=0,u=0,f=e,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(o=s+a),f!==i||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++c===a&&(o=s),h===i&&++u===n&&(l=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(g4={focusedElem:e,selectionRange:r},D2=!1,Qt=t;Qt!==null;)if(t=Qt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Qt=e;else for(;Qt!==null;){t=Qt;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,y=g.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:sl(t.type,m),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(It(163))}}catch(D){da(t,t.return,D)}if(e=t.sibling,e!==null){e.return=t.return,Qt=e;break}Qt=t.return}return g=pO,pO=!1,g}function jg(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&I4(t,r,i)}a=a.next}while(a!==n)}}function Zw(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function j4(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function d9(e){var t=e.alternate;t!==null&&(e.alternate=null,d9(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Wl],delete t[_v],delete t[x4],delete t[xJ],delete t[bJ])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function h9(e){return e.tag===5||e.tag===3||e.tag===4}function mO(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||h9(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function D4(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=R2));else if(n!==4&&(e=e.child,e!==null))for(D4(e,t,r),e=e.sibling;e!==null;)D4(e,t,r),e=e.sibling}function L4(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(L4(e,t,r),e=e.sibling;e!==null;)L4(e,t,r),e=e.sibling}var hi=null,ll=!1;function Bu(e,t,r){for(r=r.child;r!==null;)p9(e,t,r),r=r.sibling}function p9(e,t,r){if(Kl&&typeof Kl.onCommitFiberUnmount=="function")try{Kl.onCommitFiberUnmount(Ww,r)}catch{}switch(r.tag){case 5:Ui||N0(r,t);case 6:var n=hi,a=ll;hi=null,Bu(e,t,r),hi=n,ll=a,hi!==null&&(ll?(e=hi,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):hi.removeChild(r.stateNode));break;case 18:hi!==null&&(ll?(e=hi,r=r.stateNode,e.nodeType===8?cS(e.parentNode,r):e.nodeType===1&&cS(e,r),vv(e)):cS(hi,r.stateNode));break;case 4:n=hi,a=ll,hi=r.stateNode.containerInfo,ll=!0,Bu(e,t,r),hi=n,ll=a;break;case 0:case 11:case 14:case 15:if(!Ui&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&I4(r,t,s),a=a.next}while(a!==n)}Bu(e,t,r);break;case 1:if(!Ui&&(N0(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){da(r,t,o)}Bu(e,t,r);break;case 21:Bu(e,t,r);break;case 22:r.mode&1?(Ui=(n=Ui)||r.memoizedState!==null,Bu(e,t,r),Ui=n):Bu(e,t,r);break;default:Bu(e,t,r)}}function gO(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new MJ),t.forEach(function(n){var a=HJ.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Zo(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:hi=o.stateNode,ll=!1;break e;case 3:hi=o.stateNode.containerInfo,ll=!0;break e;case 4:hi=o.stateNode.containerInfo,ll=!0;break e}o=o.return}if(hi===null)throw Error(It(160));p9(i,s,a),hi=null,ll=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(c){da(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)m9(t,e),t=t.sibling}function m9(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Zo(t,e),$l(e),n&4){try{jg(3,e,e.return),Zw(3,e)}catch(m){da(e,e.return,m)}try{jg(5,e,e.return)}catch(m){da(e,e.return,m)}}break;case 1:Zo(t,e),$l(e),n&512&&r!==null&&N0(r,r.return);break;case 5:if(Zo(t,e),$l(e),n&512&&r!==null&&N0(r,r.return),e.flags&32){var a=e.stateNode;try{hv(a,"")}catch(m){da(e,e.return,m)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,s=r!==null?r.memoizedProps:i,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&R7(a,i),i4(o,s);var c=i4(o,i);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?V7(a,f):u==="dangerouslySetInnerHTML"?B7(a,f):u==="children"?hv(a,f):$3(a,u,f,c)}switch(o){case"input":e4(a,i);break;case"textarea":F7(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?$0(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?$0(a,!!i.multiple,i.defaultValue,!0):$0(a,!!i.multiple,i.multiple?[]:"",!1))}a[_v]=i}catch(m){da(e,e.return,m)}}break;case 6:if(Zo(t,e),$l(e),n&4){if(e.stateNode===null)throw Error(It(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(m){da(e,e.return,m)}}break;case 3:if(Zo(t,e),$l(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{vv(t.containerInfo)}catch(m){da(e,e.return,m)}break;case 4:Zo(t,e),$l(e);break;case 13:Zo(t,e),$l(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(yN=wa())),n&4&&gO(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Ui=(c=Ui)||u,Zo(t,e),Ui=c):Zo(t,e),$l(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(Qt=e,u=e.child;u!==null;){for(f=Qt=u;Qt!==null;){switch(h=Qt,p=h.child,h.tag){case 0:case 11:case 14:case 15:jg(4,h,h.return);break;case 1:N0(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){da(n,r,m)}}break;case 5:N0(h,h.return);break;case 22:if(h.memoizedState!==null){yO(f);continue}}p!==null?(p.return=h,Qt=p):yO(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{a=f.stateNode,c?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=U7("display",s))}catch(m){da(e,e.return,m)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(m){da(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Zo(t,e),$l(e),n&4&&gO(e);break;case 21:break;default:Zo(t,e),$l(e)}}function $l(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(h9(r)){var n=r;break e}r=r.return}throw Error(It(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(hv(a,""),n.flags&=-33);var i=mO(e);L4(e,i,a);break;case 3:case 4:var s=n.stateNode.containerInfo,o=mO(e);D4(e,o,s);break;default:throw Error(It(161))}}catch(l){da(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function FJ(e,t,r){Qt=e,g9(e)}function g9(e,t,r){for(var n=(e.mode&1)!==0;Qt!==null;){var a=Qt,i=a.child;if(a.tag===22&&n){var s=a.memoizedState!==null||fx;if(!s){var o=a.alternate,l=o!==null&&o.memoizedState!==null||Ui;o=fx;var c=Ui;if(fx=s,(Ui=l)&&!c)for(Qt=a;Qt!==null;)s=Qt,l=s.child,s.tag===22&&s.memoizedState!==null?xO(a):l!==null?(l.return=s,Qt=l):xO(a);for(;i!==null;)Qt=i,g9(i),i=i.sibling;Qt=a,fx=o,Ui=c}vO(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Qt=i):vO(e)}}function vO(e){for(;Qt!==null;){var t=Qt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ui||Zw(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ui)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:sl(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&tO(t,i,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}tO(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&vv(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(It(163))}Ui||t.flags&512&&j4(t)}catch(h){da(t,t.return,h)}}if(t===e){Qt=null;break}if(r=t.sibling,r!==null){r.return=t.return,Qt=r;break}Qt=t.return}}function yO(e){for(;Qt!==null;){var t=Qt;if(t===e){Qt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Qt=r;break}Qt=t.return}}function xO(e){for(;Qt!==null;){var t=Qt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Zw(4,t)}catch(l){da(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){da(t,a,l)}}var i=t.return;try{j4(t)}catch(l){da(t,i,l)}break;case 5:var s=t.return;try{j4(t)}catch(l){da(t,s,l)}}}catch(l){da(t,t.return,l)}if(t===e){Qt=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Qt=o;break}Qt=t.return}}var $J=Math.ceil,K2=ou.ReactCurrentDispatcher,gN=ou.ReactCurrentOwner,Io=ou.ReactCurrentBatchConfig,fn=0,ii=null,ja=null,_i=0,Xs=0,k0=Gf(0),Va=0,kv=null,th=0,e5=0,vN=0,Dg=null,Cs=null,yN=0,fp=1/0,Ec=null,Y2=!1,M4=null,yf=null,dx=!1,af=null,X2=0,Lg=0,R4=null,c2=-1,u2=0;function ms(){return fn&6?wa():c2!==-1?c2:c2=wa()}function xf(e){return e.mode&1?fn&2&&_i!==0?_i&-_i:_J.transition!==null?(u2===0&&(u2=e$()),u2):(e=Nn,e!==0||(e=window.event,e=e===void 0?16:o$(e.type)),e):1}function xl(e,t,r,n){if(50<Lg)throw Lg=0,R4=null,Error(It(185));q1(e,r,n),(!(fn&2)||e!==ii)&&(e===ii&&(!(fn&2)&&(e5|=r),Va===4&&Ju(e,_i)),Rs(e,n),r===1&&fn===0&&!(t.mode&1)&&(fp=wa()+500,Xw&&Kf()))}function Rs(e,t){var r=e.callbackNode;_Q(e,t);var n=j2(e,e===ii?_i:0);if(n===0)r!==null&&k6(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&k6(r),t===1)e.tag===0?wJ(bO.bind(null,e)):T$(bO.bind(null,e)),vJ(function(){!(fn&6)&&Kf()}),r=null;else{switch(t$(n)){case 1:r=q3;break;case 4:r=J7;break;case 16:r=I2;break;case 536870912:r=Z7;break;default:r=I2}r=A9(r,v9.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function v9(e,t){if(c2=-1,u2=0,fn&6)throw Error(It(327));var r=e.callbackNode;if(q0()&&e.callbackNode!==r)return null;var n=j2(e,e===ii?_i:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Q2(e,n);else{t=n;var a=fn;fn|=2;var i=x9();(ii!==e||_i!==t)&&(Ec=null,fp=wa()+500,Vd(e,t));do try{VJ();break}catch(o){y9(e,o)}while(!0);nN(),K2.current=i,fn=a,ja!==null?t=0:(ii=null,_i=0,t=Va)}if(t!==0){if(t===2&&(a=u4(e),a!==0&&(n=a,t=F4(e,a))),t===1)throw r=kv,Vd(e,0),Ju(e,n),Rs(e,wa()),r;if(t===6)Ju(e,n);else{if(a=e.current.alternate,!(n&30)&&!BJ(a)&&(t=Q2(e,n),t===2&&(i=u4(e),i!==0&&(n=i,t=F4(e,i))),t===1))throw r=kv,Vd(e,0),Ju(e,n),Rs(e,wa()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(It(345));case 2:wd(e,Cs,Ec);break;case 3:if(Ju(e,n),(n&130023424)===n&&(t=yN+500-wa(),10<t)){if(j2(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){ms(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=y4(wd.bind(null,e,Cs,Ec),t);break}wd(e,Cs,Ec);break;case 4:if(Ju(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var s=31-yl(n);i=1<<s,s=t[s],s>a&&(a=s),n&=~i}if(n=a,n=wa()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*$J(n/1960))-n,10<n){e.timeoutHandle=y4(wd.bind(null,e,Cs,Ec),n);break}wd(e,Cs,Ec);break;case 5:wd(e,Cs,Ec);break;default:throw Error(It(329))}}}return Rs(e,wa()),e.callbackNode===r?v9.bind(null,e):null}function F4(e,t){var r=Dg;return e.current.memoizedState.isDehydrated&&(Vd(e,t).flags|=256),e=Q2(e,t),e!==2&&(t=Cs,Cs=r,t!==null&&$4(t)),e}function $4(e){Cs===null?Cs=e:Cs.push.apply(Cs,e)}function BJ(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Sl(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ju(e,t){for(t&=~vN,t&=~e5,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-yl(t),n=1<<r;e[r]=-1,t&=~n}}function bO(e){if(fn&6)throw Error(It(327));q0();var t=j2(e,0);if(!(t&1))return Rs(e,wa()),null;var r=Q2(e,t);if(e.tag!==0&&r===2){var n=u4(e);n!==0&&(t=n,r=F4(e,n))}if(r===1)throw r=kv,Vd(e,0),Ju(e,t),Rs(e,wa()),r;if(r===6)throw Error(It(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wd(e,Cs,Ec),Rs(e,wa()),null}function xN(e,t){var r=fn;fn|=1;try{return e(t)}finally{fn=r,fn===0&&(fp=wa()+500,Xw&&Kf())}}function rh(e){af!==null&&af.tag===0&&!(fn&6)&&q0();var t=fn;fn|=1;var r=Io.transition,n=Nn;try{if(Io.transition=null,Nn=1,e)return e()}finally{Nn=n,Io.transition=r,fn=t,!(fn&6)&&Kf()}}function bN(){Xs=k0.current,Kn(k0)}function Vd(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,gJ(r)),ja!==null)for(r=ja.return;r!==null;){var n=r;switch(eN(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&F2();break;case 3:cp(),Kn(Ls),Kn(Ji),cN();break;case 5:lN(n);break;case 4:cp();break;case 13:Kn(na);break;case 19:Kn(na);break;case 10:aN(n.type._context);break;case 22:case 23:bN()}r=r.return}if(ii=e,ja=e=bf(e.current,null),_i=Xs=t,Va=0,kv=null,vN=e5=th=0,Cs=Dg=null,Id!==null){for(t=0;t<Id.length;t++)if(r=Id[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=a,n.next=s}r.pending=n}Id=null}return e}function y9(e,t){do{var r=ja;try{if(nN(),s2.current=G2,H2){for(var n=aa.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}H2=!1}if(eh=0,ei=Ua=aa=null,Ig=!1,Ev=0,gN.current=null,r===null||r.return===null){Va=1,kv=t,ja=null;break}e:{var i=e,s=r.return,o=r,l=t;if(t=_i,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=oO(s);if(p!==null){p.flags&=-257,lO(p,s,o,i,t),p.mode&1&&sO(i,c,t),t=p,l=c;var g=t.updateQueue;if(g===null){var m=new Set;m.add(l),t.updateQueue=m}else g.add(l);break e}else{if(!(t&1)){sO(i,c,t),wN();break e}l=Error(It(426))}}else if(Xn&&o.mode&1){var y=oO(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),lO(y,s,o,i,t),tN(up(l,o));break e}}i=l=up(l,o),Va!==4&&(Va=2),Dg===null?Dg=[i]:Dg.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=t9(i,l,t);eO(i,v);break e;case 1:o=l;var b=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(yf===null||!yf.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var D=r9(i,o,t);eO(i,D);break e}}i=i.return}while(i!==null)}w9(r)}catch(P){t=P,ja===r&&r!==null&&(ja=r=r.return);continue}break}while(!0)}function x9(){var e=K2.current;return K2.current=G2,e===null?G2:e}function wN(){(Va===0||Va===3||Va===2)&&(Va=4),ii===null||!(th&268435455)&&!(e5&268435455)||Ju(ii,_i)}function Q2(e,t){var r=fn;fn|=2;var n=x9();(ii!==e||_i!==t)&&(Ec=null,Vd(e,t));do try{UJ();break}catch(a){y9(e,a)}while(!0);if(nN(),fn=r,K2.current=n,ja!==null)throw Error(It(261));return ii=null,_i=0,Va}function UJ(){for(;ja!==null;)b9(ja)}function VJ(){for(;ja!==null&&!hQ();)b9(ja)}function b9(e){var t=S9(e.alternate,e,Xs);e.memoizedProps=e.pendingProps,t===null?w9(e):ja=t,gN.current=null}function w9(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=LJ(r,t),r!==null){r.flags&=32767,ja=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Va=6,ja=null;return}}else if(r=DJ(r,t,Xs),r!==null){ja=r;return}if(t=t.sibling,t!==null){ja=t;return}ja=t=e}while(t!==null);Va===0&&(Va=5)}function wd(e,t,r){var n=Nn,a=Io.transition;try{Io.transition=null,Nn=1,zJ(e,t,r,n)}finally{Io.transition=a,Nn=n}return null}function zJ(e,t,r,n){do q0();while(af!==null);if(fn&6)throw Error(It(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(It(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(SQ(e,i),e===ii&&(ja=ii=null,_i=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||dx||(dx=!0,A9(I2,function(){return q0(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Io.transition,Io.transition=null;var s=Nn;Nn=1;var o=fn;fn|=4,gN.current=null,RJ(e,r),m9(r,e),cJ(g4),D2=!!m4,g4=m4=null,e.current=r,FJ(r),pQ(),fn=o,Nn=s,Io.transition=i}else e.current=r;if(dx&&(dx=!1,af=e,X2=a),i=e.pendingLanes,i===0&&(yf=null),vQ(r.stateNode),Rs(e,wa()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Y2)throw Y2=!1,e=M4,M4=null,e;return X2&1&&e.tag!==0&&q0(),i=e.pendingLanes,i&1?e===R4?Lg++:(Lg=0,R4=e):Lg=0,Kf(),null}function q0(){if(af!==null){var e=t$(X2),t=Io.transition,r=Nn;try{if(Io.transition=null,Nn=16>e?16:e,af===null)var n=!1;else{if(e=af,af=null,X2=0,fn&6)throw Error(It(331));var a=fn;for(fn|=4,Qt=e.current;Qt!==null;){var i=Qt,s=i.child;if(Qt.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Qt=c;Qt!==null;){var u=Qt;switch(u.tag){case 0:case 11:case 15:jg(8,u,i)}var f=u.child;if(f!==null)f.return=u,Qt=f;else for(;Qt!==null;){u=Qt;var h=u.sibling,p=u.return;if(d9(u),u===c){Qt=null;break}if(h!==null){h.return=p,Qt=h;break}Qt=p}}}var g=i.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}Qt=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,Qt=s;else e:for(;Qt!==null;){if(i=Qt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:jg(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,Qt=v;break e}Qt=i.return}}var b=e.current;for(Qt=b;Qt!==null;){s=Qt;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,Qt=w;else e:for(s=b;Qt!==null;){if(o=Qt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Zw(9,o)}}catch(P){da(o,o.return,P)}if(o===s){Qt=null;break e}var D=o.sibling;if(D!==null){D.return=o.return,Qt=D;break e}Qt=o.return}}if(fn=a,Kf(),Kl&&typeof Kl.onPostCommitFiberRoot=="function")try{Kl.onPostCommitFiberRoot(Ww,e)}catch{}n=!0}return n}finally{Nn=r,Io.transition=t}}return!1}function wO(e,t,r){t=up(r,t),t=t9(e,t,1),e=vf(e,t,1),t=ms(),e!==null&&(q1(e,1,t),Rs(e,t))}function da(e,t,r){if(e.tag===3)wO(e,e,r);else for(;t!==null;){if(t.tag===3){wO(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(yf===null||!yf.has(n))){e=up(r,e),e=r9(t,e,1),t=vf(t,e,1),e=ms(),t!==null&&(q1(t,1,e),Rs(t,e));break}}t=t.return}}function qJ(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ms(),e.pingedLanes|=e.suspendedLanes&r,ii===e&&(_i&r)===r&&(Va===4||Va===3&&(_i&130023424)===_i&&500>wa()-yN?Vd(e,0):vN|=r),Rs(e,t)}function _9(e,t){t===0&&(e.mode&1?(t=rx,rx<<=1,!(rx&130023424)&&(rx=4194304)):t=1);var r=ms();e=Wc(e,t),e!==null&&(q1(e,t,r),Rs(e,r))}function WJ(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),_9(e,r)}function HJ(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(It(314))}n!==null&&n.delete(t),_9(e,r)}var S9;S9=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ls.current)Os=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Os=!1,jJ(e,t,r);Os=!!(e.flags&131072)}else Os=!1,Xn&&t.flags&1048576&&N$(t,U2,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;l2(e,t),e=t.pendingProps;var a=sp(t,Ji.current);z0(t,r),a=fN(null,t,n,e,a,r);var i=dN();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ms(n)?(i=!0,$2(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,sN(t),a.updater=Jw,t.stateNode=a,a._reactInternals=t,E4(t,n,e,r),t=k4(null,t,n,!0,i,r)):(t.tag=0,Xn&&i&&Z3(t),ls(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(l2(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=KJ(n),e=sl(n,e),a){case 0:t=N4(null,t,n,e,r);break e;case 1:t=fO(null,t,n,e,r);break e;case 11:t=cO(null,t,n,e,r);break e;case 14:t=uO(null,t,n,sl(n.type,e),r);break e}throw Error(It(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:sl(n,a),N4(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:sl(n,a),fO(e,t,n,a,r);case 3:e:{if(s9(t),e===null)throw Error(It(387));n=t.pendingProps,i=t.memoizedState,a=i.element,j$(e,t),q2(t,n,null,r);var s=t.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=up(Error(It(423)),t),t=dO(e,t,n,r,a);break e}else if(n!==a){a=up(Error(It(424)),t),t=dO(e,t,n,r,a);break e}else for(to=gf(t.stateNode.containerInfo.firstChild),ao=t,Xn=!0,fl=null,r=O$(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(op(),n===a){t=Hc(e,t,r);break e}ls(e,t,n,r)}t=t.child}return t;case 5:return D$(t),e===null&&_4(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,s=a.children,v4(n,a)?s=null:i!==null&&v4(n,i)&&(t.flags|=32),i9(e,t),ls(e,t,s,r),t.child;case 6:return e===null&&_4(t),null;case 13:return o9(e,t,r);case 4:return oN(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=lp(t,null,n,r):ls(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:sl(n,a),cO(e,t,n,a,r);case 7:return ls(e,t,t.pendingProps,r),t.child;case 8:return ls(e,t,t.pendingProps.children,r),t.child;case 12:return ls(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,Bn(V2,n._currentValue),n._currentValue=s,i!==null)if(Sl(i.value,s)){if(i.children===a.children&&!Ls.current){t=Hc(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){s=i.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=Mc(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),S4(i.return,r,t),o.lanes|=r;break}l=l.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(It(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),S4(s,r,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}ls(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,z0(t,r),a=Mo(a),n=n(a),t.flags|=1,ls(e,t,n,r),t.child;case 14:return n=t.type,a=sl(n,t.pendingProps),a=sl(n.type,a),uO(e,t,n,a,r);case 15:return n9(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:sl(n,a),l2(e,t),t.tag=1,Ms(n)?(e=!0,$2(t)):e=!1,z0(t,r),e9(t,n,a),E4(t,n,a,r),k4(null,t,n,!0,e,r);case 19:return l9(e,t,r);case 22:return a9(e,t,r)}throw Error(It(156,t.tag))};function A9(e,t){return Q7(e,t)}function GJ(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Po(e,t,r,n){return new GJ(e,t,r,n)}function _N(e){return e=e.prototype,!(!e||!e.isReactComponent)}function KJ(e){if(typeof e=="function")return _N(e)?1:0;if(e!=null){if(e=e.$$typeof,e===U3)return 11;if(e===V3)return 14}return 2}function bf(e,t){var r=e.alternate;return r===null?(r=Po(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function f2(e,t,r,n,a,i){var s=2;if(n=e,typeof e=="function")_N(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case y0:return zd(r.children,a,i,t);case B3:s=8,a|=8;break;case YA:return e=Po(12,r,t,a|2),e.elementType=YA,e.lanes=i,e;case XA:return e=Po(13,r,t,a),e.elementType=XA,e.lanes=i,e;case QA:return e=Po(19,r,t,a),e.elementType=QA,e.lanes=i,e;case D7:return t5(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case I7:s=10;break e;case j7:s=9;break e;case U3:s=11;break e;case V3:s=14;break e;case Gu:s=16,n=null;break e}throw Error(It(130,e==null?e:typeof e,""))}return t=Po(s,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function zd(e,t,r,n){return e=Po(7,e,n,t),e.lanes=r,e}function t5(e,t,r,n){return e=Po(22,e,n,t),e.elementType=D7,e.lanes=r,e.stateNode={isHidden:!1},e}function vS(e,t,r){return e=Po(6,e,null,t),e.lanes=r,e}function yS(e,t,r){return t=Po(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function YJ(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=J_(0),this.expirationTimes=J_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=J_(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function SN(e,t,r,n,a,i,s,o,l){return e=new YJ(e,t,r,o,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Po(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},sN(i),e}function XJ(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:v0,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function E9(e){if(!e)return Df;e=e._reactInternals;e:{if(xh(e)!==e||e.tag!==1)throw Error(It(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ms(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(It(171))}if(e.tag===1){var r=e.type;if(Ms(r))return E$(e,r,t)}return t}function T9(e,t,r,n,a,i,s,o,l){return e=SN(r,n,!0,e,a,i,s,o,l),e.context=E9(null),r=e.current,n=ms(),a=xf(r),i=Mc(n,a),i.callback=t??null,vf(r,i,a),e.current.lanes=a,q1(e,a,n),Rs(e,n),e}function r5(e,t,r,n){var a=t.current,i=ms(),s=xf(a);return r=E9(r),t.context===null?t.context=r:t.pendingContext=r,t=Mc(i,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=vf(a,t,s),e!==null&&(xl(e,a,s,i),i2(e,a,s)),s}function J2(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function _O(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function AN(e,t){_O(e,t),(e=e.alternate)&&_O(e,t)}function QJ(){return null}var N9=typeof reportError=="function"?reportError:function(e){console.error(e)};function EN(e){this._internalRoot=e}n5.prototype.render=EN.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(It(409));r5(e,t,null,null)};n5.prototype.unmount=EN.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;rh(function(){r5(null,e,null,null)}),t[qc]=null}};function n5(e){this._internalRoot=e}n5.prototype.unstable_scheduleHydration=function(e){if(e){var t=a$();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Qu.length&&t!==0&&t<Qu[r].priority;r++);Qu.splice(r,0,e),r===0&&s$(e)}};function TN(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function a5(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function SO(){}function JJ(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var c=J2(s);i.call(c)}}var s=T9(t,n,e,0,null,!1,!1,"",SO);return e._reactRootContainer=s,e[qc]=s.current,bv(e.nodeType===8?e.parentNode:e),rh(),s}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var c=J2(l);o.call(c)}}var l=SN(e,0,!1,null,null,!1,!1,"",SO);return e._reactRootContainer=l,e[qc]=l.current,bv(e.nodeType===8?e.parentNode:e),rh(function(){r5(t,l,r,n)}),l}function i5(e,t,r,n,a){var i=r._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var o=a;a=function(){var l=J2(s);o.call(l)}}r5(t,s,e,a)}else s=JJ(r,t,e,a,n);return J2(s)}r$=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=pg(t.pendingLanes);r!==0&&(W3(t,r|1),Rs(t,wa()),!(fn&6)&&(fp=wa()+500,Kf()))}break;case 13:rh(function(){var n=Wc(e,1);if(n!==null){var a=ms();xl(n,e,1,a)}}),AN(e,1)}};H3=function(e){if(e.tag===13){var t=Wc(e,134217728);if(t!==null){var r=ms();xl(t,e,134217728,r)}AN(e,134217728)}};n$=function(e){if(e.tag===13){var t=xf(e),r=Wc(e,t);if(r!==null){var n=ms();xl(r,e,t,n)}AN(e,t)}};a$=function(){return Nn};i$=function(e,t){var r=Nn;try{return Nn=e,t()}finally{Nn=r}};o4=function(e,t,r){switch(t){case"input":if(e4(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Yw(n);if(!a)throw Error(It(90));M7(n),e4(n,a)}}}break;case"textarea":F7(e,r);break;case"select":t=r.value,t!=null&&$0(e,!!r.multiple,t,!1)}};W7=xN;H7=rh;var ZJ={usingClientEntryPoint:!1,Events:[H1,_0,Yw,z7,q7,xN]},Km={findFiberByHostInstance:Od,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},eZ={bundleType:Km.bundleType,version:Km.version,rendererPackageName:Km.rendererPackageName,rendererConfig:Km.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ou.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Y7(e),e===null?null:e.stateNode},findFiberByHostInstance:Km.findFiberByHostInstance||QJ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hx.isDisabled&&hx.supportsFiber)try{Ww=hx.inject(eZ),Kl=hx}catch{}}lo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZJ;lo.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!TN(t))throw Error(It(200));return XJ(e,t,null,r)};lo.createRoot=function(e,t){if(!TN(e))throw Error(It(299));var r=!1,n="",a=N9;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=SN(e,1,!1,null,null,r,!1,n,a),e[qc]=t.current,bv(e.nodeType===8?e.parentNode:e),new EN(t)};lo.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(It(188)):(e=Object.keys(e).join(","),Error(It(268,e)));return e=Y7(t),e=e===null?null:e.stateNode,e};lo.flushSync=function(e){return rh(e)};lo.hydrate=function(e,t,r){if(!a5(t))throw Error(It(200));return i5(null,e,t,!0,r)};lo.hydrateRoot=function(e,t,r){if(!TN(e))throw Error(It(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",s=N9;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=T9(t,null,e,1,r??null,a,!1,i,s),e[qc]=t.current,bv(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new n5(t)};lo.render=function(e,t,r){if(!a5(t))throw Error(It(200));return i5(null,e,t,!1,r)};lo.unmountComponentAtNode=function(e){if(!a5(e))throw Error(It(40));return e._reactRootContainer?(rh(function(){i5(null,null,e,!1,function(){e._reactRootContainer=null,e[qc]=null})}),!0):!1};lo.unstable_batchedUpdates=xN;lo.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!a5(r))throw Error(It(200));if(e==null||e._reactInternals===void 0)throw Error(It(38));return i5(e,t,r,!1,n)};lo.version="18.3.1-next-f1338f8080-20240426";function k9(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(k9)}catch(e){console.error(e)}}k9(),k7.exports=lo;var tZ=k7.exports,C9,AO=tZ;C9=AO.createRoot,AO.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cv(){return Cv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cv.apply(this,arguments)}var sf;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(sf||(sf={}));const EO="popstate";function rZ(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:s,hash:o}=n.location;return B4("",{pathname:i,search:s,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Z2(a)}return aZ(t,r,null,e)}function ia(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function P9(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function nZ(){return Math.random().toString(36).substr(2,8)}function TO(e,t){return{usr:e.state,key:e.key,idx:t}}function B4(e,t,r,n){return r===void 0&&(r=null),Cv({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Xp(t):t,{state:r,key:t&&t.key||n||nZ()})}function Z2(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Xp(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function aZ(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,o=sf.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(Cv({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function f(){o=sf.Pop;let y=u(),v=y==null?null:y-c;c=y,l&&l({action:o,location:m.location,delta:v})}function h(y,v){o=sf.Push;let b=B4(m.location,y,v);c=u()+1;let w=TO(b,c),D=m.createHref(b);try{s.pushState(w,"",D)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;a.location.assign(D)}i&&l&&l({action:o,location:m.location,delta:1})}function p(y,v){o=sf.Replace;let b=B4(m.location,y,v);c=u();let w=TO(b,c),D=m.createHref(b);s.replaceState(w,"",D),i&&l&&l({action:o,location:m.location,delta:0})}function g(y){let v=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof y=="string"?y:Z2(y);return b=b.replace(/ $/,"%20"),ia(v,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,v)}let m={get action(){return o},get location(){return e(a,s)},listen(y){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(EO,f),l=y,()=>{a.removeEventListener(EO,f),l=null}},createHref(y){return t(a,y)},createURL:g,encodeLocation(y){let v=g(y);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(y){return s.go(y)}};return m}var NO;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(NO||(NO={}));function iZ(e,t,r){return r===void 0&&(r="/"),sZ(e,t,r,!1)}function sZ(e,t,r,n){let a=typeof t=="string"?Xp(t):t,i=dp(a.pathname||"/",r);if(i==null)return null;let s=O9(e);oZ(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=yZ(i);o=gZ(s[l],c,n)}return o}function O9(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,s,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};l.relativePath.startsWith("/")&&(ia(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=wf([n,l.relativePath]),u=r.concat(l);i.children&&i.children.length>0&&(ia(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),O9(i.children,t,u,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:pZ(c,i.index),routesMeta:u})};return e.forEach((i,s)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,s);else for(let l of I9(i.path))a(i,s,l)}),t}function I9(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=I9(n.join("/")),o=[];return o.push(...s.map(l=>l===""?i:[i,l].join("/"))),a&&o.push(...s),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function oZ(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:mZ(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const lZ=/^:[\w-]+$/,cZ=3,uZ=2,fZ=1,dZ=10,hZ=-2,kO=e=>e==="*";function pZ(e,t){let r=e.split("/"),n=r.length;return r.some(kO)&&(n+=hZ),t&&(n+=uZ),r.filter(a=>!kO(a)).reduce((a,i)=>a+(lZ.test(i)?cZ:i===""?fZ:dZ),n)}function mZ(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function gZ(e,t,r){let{routesMeta:n}=e,a={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",f=eb({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!f&&c&&r&&!n[n.length-1].route.index&&(f=eb({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(a,f.params),s.push({params:a,pathname:wf([i,f.pathname]),pathnameBase:_Z(wf([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=wf([i,f.pathnameBase]))}return s}function eb(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=vZ(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((c,u,f)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let m=o[f]||"";s=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const g=o[f];return p&&!g?c[h]=void 0:c[h]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:s,pattern:e}}function vZ(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),P9(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function yZ(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return P9(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function dp(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function xZ(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Xp(e):e;return{pathname:r?r.startsWith("/")?r:bZ(r,t):t,search:SZ(n),hash:AZ(a)}}function bZ(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function xS(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wZ(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function NN(e,t){let r=wZ(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function kN(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Xp(e):(a=Cv({},e),ia(!a.pathname||!a.pathname.includes("?"),xS("?","pathname","search",a)),ia(!a.pathname||!a.pathname.includes("#"),xS("#","pathname","hash",a)),ia(!a.search||!a.search.includes("#"),xS("#","search","hash",a)));let i=e===""||a.pathname==="",s=i?"/":a.pathname,o;if(s==null)o=r;else{let f=t.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}o=f>=0?t[f]:"/"}let l=xZ(a,o),c=s&&s!=="/"&&s.endsWith("/"),u=(i||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const wf=e=>e.join("/").replace(/\/\/+/g,"/"),_Z=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),SZ=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,AZ=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function EZ(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const j9=["post","put","patch","delete"];new Set(j9);const TZ=["get",...j9];new Set(TZ);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pv(){return Pv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pv.apply(this,arguments)}const s5=F.createContext(null),D9=F.createContext(null),lu=F.createContext(null),o5=F.createContext(null),cu=F.createContext({outlet:null,matches:[],isDataRoute:!1}),L9=F.createContext(null);function NZ(e,t){let{relative:r}=t===void 0?{}:t;Qp()||ia(!1);let{basename:n,navigator:a}=F.useContext(lu),{hash:i,pathname:s,search:o}=l5(e,{relative:r}),l=s;return n!=="/"&&(l=s==="/"?n:wf([n,s])),a.createHref({pathname:l,search:o,hash:i})}function Qp(){return F.useContext(o5)!=null}function Jp(){return Qp()||ia(!1),F.useContext(o5).location}function M9(e){F.useContext(lu).static||F.useLayoutEffect(e)}function K1(){let{isDataRoute:e}=F.useContext(cu);return e?VZ():kZ()}function kZ(){Qp()||ia(!1);let e=F.useContext(s5),{basename:t,future:r,navigator:n}=F.useContext(lu),{matches:a}=F.useContext(cu),{pathname:i}=Jp(),s=JSON.stringify(NN(a,r.v7_relativeSplatPath)),o=F.useRef(!1);return M9(()=>{o.current=!0}),F.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let f=kN(c,JSON.parse(s),i,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:wf([t,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[t,n,s,i,e])}const CZ=F.createContext(null);function PZ(e){let t=F.useContext(cu).outlet;return t&&F.createElement(CZ.Provider,{value:e},t)}function l5(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=F.useContext(lu),{matches:a}=F.useContext(cu),{pathname:i}=Jp(),s=JSON.stringify(NN(a,n.v7_relativeSplatPath));return F.useMemo(()=>kN(e,JSON.parse(s),i,r==="path"),[e,s,i,r])}function OZ(e,t){return IZ(e,t)}function IZ(e,t,r,n){Qp()||ia(!1);let{navigator:a,static:i}=F.useContext(lu),{matches:s}=F.useContext(cu),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Jp(),f;if(t){var h;let v=typeof t=="string"?Xp(t):t;c==="/"||(h=v.pathname)!=null&&h.startsWith(c)||ia(!1),f=v}else f=u;let p=f.pathname||"/",g=p;if(c!=="/"){let v=c.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(v.length).join("/")}let m=!i&&r&&r.matches&&r.matches.length>0?r.matches:iZ(e,{pathname:g}),y=RZ(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:wf([c,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:wf([c,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,r,n);return t&&y?F.createElement(o5.Provider,{value:{location:Pv({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:sf.Pop}},y):y}function jZ(){let e=UZ(),t=EZ(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},t),r?F.createElement("pre",{style:a},r):null,null)}const DZ=F.createElement(jZ,null);class LZ extends F.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?F.createElement(cu.Provider,{value:this.props.routeContext},F.createElement(L9.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function MZ(e){let{routeContext:t,match:r,children:n}=e,a=F.useContext(s5);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),F.createElement(cu.Provider,{value:t},n)}function RZ(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,o=(a=r)==null?void 0:a.errors;if(o!=null){let u=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);u>=0||ia(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<s.length;u++){let f=s[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:h,errors:p}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,f,h)=>{let p,g=!1,m=null,y=null;r&&(p=o&&f.route.id?o[f.route.id]:void 0,m=f.route.errorElement||DZ,l&&(c<0&&h===0?(g=!0,y=null):c===h&&(g=!0,y=f.route.hydrateFallbackElement||null)));let v=t.concat(s.slice(0,h+1)),b=()=>{let w;return p?w=m:g?w=y:f.route.Component?w=F.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=u,F.createElement(MZ,{match:f,routeContext:{outlet:u,matches:v,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?F.createElement(LZ,{location:r.location,revalidation:r.revalidation,component:m,error:p,children:b(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):b()},null)}var R9=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(R9||{}),tb=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(tb||{});function FZ(e){let t=F.useContext(s5);return t||ia(!1),t}function $Z(e){let t=F.useContext(D9);return t||ia(!1),t}function BZ(e){let t=F.useContext(cu);return t||ia(!1),t}function F9(e){let t=BZ(),r=t.matches[t.matches.length-1];return r.route.id||ia(!1),r.route.id}function UZ(){var e;let t=F.useContext(L9),r=$Z(tb.UseRouteError),n=F9(tb.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function VZ(){let{router:e}=FZ(R9.UseNavigateStable),t=F9(tb.UseNavigateStable),r=F.useRef(!1);return M9(()=>{r.current=!0}),F.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Pv({fromRouteId:t},i)))},[e,t])}function zZ(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function U4(e){let{to:t,replace:r,state:n,relative:a}=e;Qp()||ia(!1);let{future:i,static:s}=F.useContext(lu),{matches:o}=F.useContext(cu),{pathname:l}=Jp(),c=K1(),u=kN(t,NN(o,i.v7_relativeSplatPath),l,a==="path"),f=JSON.stringify(u);return F.useEffect(()=>c(JSON.parse(f),{replace:r,state:n,relative:a}),[c,f,a,r,n]),null}function qZ(e){return PZ(e.context)}function os(e){ia(!1)}function WZ(e){let{basename:t="/",children:r=null,location:n,navigationType:a=sf.Pop,navigator:i,static:s=!1,future:o}=e;Qp()&&ia(!1);let l=t.replace(/^\/*/,"/"),c=F.useMemo(()=>({basename:l,navigator:i,static:s,future:Pv({v7_relativeSplatPath:!1},o)}),[l,o,i,s]);typeof n=="string"&&(n=Xp(n));let{pathname:u="/",search:f="",hash:h="",state:p=null,key:g="default"}=n,m=F.useMemo(()=>{let y=dp(u,l);return y==null?null:{location:{pathname:y,search:f,hash:h,state:p,key:g},navigationType:a}},[l,u,f,h,p,g,a]);return m==null?null:F.createElement(lu.Provider,{value:c},F.createElement(o5.Provider,{children:r,value:m}))}function HZ(e){let{children:t,location:r}=e;return OZ(V4(t),r)}new Promise(()=>{});function V4(e,t){t===void 0&&(t=[]);let r=[];return F.Children.forEach(e,(n,a)=>{if(!F.isValidElement(n))return;let i=[...t,a];if(n.type===F.Fragment){r.push.apply(r,V4(n.props.children,i));return}n.type!==os&&ia(!1),!n.props.index||!n.props.children||ia(!1);let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=V4(n.props.children,i)),r.push(s)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rb(){return rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rb.apply(this,arguments)}function $9(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function GZ(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function KZ(e,t){return e.button===0&&(!t||t==="_self")&&!GZ(e)}const YZ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],XZ=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],QZ="6";try{window.__reactRouterVersion=QZ}catch{}const JZ=F.createContext({isTransitioning:!1}),ZZ="startTransition",CO=qX[ZZ];function eee(e){let{basename:t,children:r,future:n,window:a}=e,i=F.useRef();i.current==null&&(i.current=rZ({window:a,v5Compat:!0}));let s=i.current,[o,l]=F.useState({action:s.action,location:s.location}),{v7_startTransition:c}=n||{},u=F.useCallback(f=>{c&&CO?CO(()=>l(f)):l(f)},[l,c]);return F.useLayoutEffect(()=>s.listen(u),[s,u]),F.useEffect(()=>zZ(n),[n]),F.createElement(WZ,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const tee=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ree=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nee=F.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:s,state:o,target:l,to:c,preventScrollReset:u,viewTransition:f}=t,h=$9(t,YZ),{basename:p}=F.useContext(lu),g,m=!1;if(typeof c=="string"&&ree.test(c)&&(g=c,tee))try{let w=new URL(window.location.href),D=c.startsWith("//")?new URL(w.protocol+c):new URL(c),P=dp(D.pathname,p);D.origin===w.origin&&P!=null?c=P+D.search+D.hash:m=!0}catch{}let y=NZ(c,{relative:a}),v=iee(c,{replace:s,state:o,target:l,preventScrollReset:u,relative:a,viewTransition:f});function b(w){n&&n(w),w.defaultPrevented||v(w)}return F.createElement("a",rb({},h,{href:g||y,onClick:m||i?n:b,ref:r,target:l}))}),bS=F.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:i="",end:s=!1,style:o,to:l,viewTransition:c,children:u}=t,f=$9(t,XZ),h=l5(l,{relative:f.relative}),p=Jp(),g=F.useContext(D9),{navigator:m,basename:y}=F.useContext(lu),v=g!=null&&see(h)&&c===!0,b=m.encodeLocation?m.encodeLocation(h).pathname:h.pathname,w=p.pathname,D=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;a||(w=w.toLowerCase(),D=D?D.toLowerCase():null,b=b.toLowerCase()),D&&y&&(D=dp(D,y)||D);const P=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let j=w===b||!s&&w.startsWith(b)&&w.charAt(P)==="/",E=D!=null&&(D===b||!s&&D.startsWith(b)&&D.charAt(b.length)==="/"),_={isActive:j,isPending:E,isTransitioning:v},S=j?n:void 0,I;typeof i=="function"?I=i(_):I=[i,j?"active":null,E?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let T=typeof o=="function"?o(_):o;return F.createElement(nee,rb({},f,{"aria-current":S,className:I,ref:r,style:T,to:l,viewTransition:c}),typeof u=="function"?u(_):u)});var z4;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(z4||(z4={}));var PO;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(PO||(PO={}));function aee(e){let t=F.useContext(s5);return t||ia(!1),t}function iee(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:s,viewTransition:o}=t===void 0?{}:t,l=K1(),c=Jp(),u=l5(e,{relative:s});return F.useCallback(f=>{if(KZ(f,r)){f.preventDefault();let h=n!==void 0?n:Z2(c)===Z2(u);l(e,{replace:h,state:a,preventScrollReset:i,relative:s,viewTransition:o})}},[c,l,u,n,a,r,e,i,s,o])}function see(e,t){t===void 0&&(t={});let r=F.useContext(JZ);r==null&&ia(!1);let{basename:n}=aee(z4.useViewTransitionState),a=l5(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=dp(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=dp(r.nextLocation.pathname,n)||r.nextLocation.pathname;return eb(a.pathname,s)!=null||eb(a.pathname,i)!=null}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var oee={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lee=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ur=(e,t)=>{const r=F.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:l,...c},u)=>F.createElement("svg",{ref:u,...oee,width:a,height:a,stroke:n,strokeWidth:s?Number(i)*24/Number(a):i,className:["lucide",`lucide-${lee(e)}`,o].join(" "),...c},[...t.map(([f,h])=>F.createElement(f,h)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cee=ur("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh=ur("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=ur("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uee=ur("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fee=ur("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=ur("Barcode",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nc=ur("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dee=ur("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hee=ur("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=ur("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=ur("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=ur("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=ur("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=ur("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=ur("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=ur("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pee=ur("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mee=ur("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U9=ur("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=ur("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=ur("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gee=ur("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=ur("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vee=ur("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=ur("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yee=ur("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xee=ur("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bee=ur("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wee=ur("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=ur("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=ur("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=ur("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ee=ur("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=ur("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const See=ur("PackageMinus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aee=ur("PackageOpen",[["path",{d:"M12 22v-9",key:"x3hkom"}],["path",{d:"M15.17 2.21a1.67 1.67 0 0 1 1.63 0L21 4.57a1.93 1.93 0 0 1 0 3.36L8.82 14.79a1.655 1.655 0 0 1-1.64 0L3 12.43a1.93 1.93 0 0 1 0-3.36z",key:"2ntwy6"}],["path",{d:"M20 13v3.87a2.06 2.06 0 0 1-1.11 1.83l-6 3.08a1.93 1.93 0 0 1-1.78 0l-6-3.08A2.06 2.06 0 0 1 4 16.87V13",key:"1pmm1c"}],["path",{d:"M21 12.43a1.93 1.93 0 0 0 0-3.36L8.83 2.2a1.64 1.64 0 0 0-1.63 0L3 4.57a1.93 1.93 0 0 0 0 3.36l12.18 6.86a1.636 1.636 0 0 0 1.63 0z",key:"12ttoo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MO=ur("PackagePlus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=ur("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=ur("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=ur("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=ur("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=ur("PoundSterling",[["path",{d:"M18 7c0-5.333-8-5.333-8 0",key:"1prm2n"}],["path",{d:"M10 7v14",key:"18tmcs"}],["path",{d:"M6 21h12",key:"4dkmi1"}],["path",{d:"M6 13h10",key:"ybwr4a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ri=ur("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=ur("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eee=ur("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tee=ur("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nee=ur("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q9=ur("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kee=ur("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=ur("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W9=ur("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cee=ur("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=ur("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=ur("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=ur("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Pee=()=>{};var FO={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H9=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let a=e.charCodeAt(n);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):(a&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},Oee=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const a=e[r++];if(a<128)t[n++]=String.fromCharCode(a);else if(a>191&&a<224){const i=e[r++];t[n++]=String.fromCharCode((a&31)<<6|i&63)}else if(a>239&&a<365){const i=e[r++],s=e[r++],o=e[r++],l=((a&7)<<18|(i&63)<<12|(s&63)<<6|o&63)-65536;t[n++]=String.fromCharCode(55296+(l>>10)),t[n++]=String.fromCharCode(56320+(l&1023))}else{const i=e[r++],s=e[r++];t[n++]=String.fromCharCode((a&15)<<12|(i&63)<<6|s&63)}}return t.join("")},G9={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<e.length;a+=3){const i=e[a],s=a+1<e.length,o=s?e[a+1]:0,l=a+2<e.length,c=l?e[a+2]:0,u=i>>2,f=(i&3)<<4|o>>4;let h=(o&15)<<2|c>>6,p=c&63;l||(p=64,s||(h=64)),n.push(r[u],r[f],r[h],r[p])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(H9(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Oee(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<e.length;){const i=r[e.charAt(a++)],o=a<e.length?r[e.charAt(a)]:0;++a;const c=a<e.length?r[e.charAt(a)]:64;++a;const f=a<e.length?r[e.charAt(a)]:64;if(++a,i==null||o==null||c==null||f==null)throw new Iee;const h=i<<2|o>>4;if(n.push(h),c!==64){const p=o<<4&240|c>>2;if(n.push(p),f!==64){const g=c<<6&192|f;n.push(g)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Iee extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jee=function(e){const t=H9(e);return G9.encodeByteArray(t,!0)},sb=function(e){return jee(e).replace(/\./g,"")},Dee=function(e){try{return G9.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lee(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mee=()=>Lee().__FIREBASE_DEFAULTS__,Ree=()=>{if(typeof process>"u"||typeof FO>"u")return;const e=FO.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Fee=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Dee(e[1]);return t&&JSON.parse(t)},PN=()=>{try{return Pee()||Mee()||Ree()||Fee()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},$ee=e=>{var t,r;return(r=(t=PN())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[e]},Bee=e=>{const t=$ee(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),n]:[t.substring(0,r),n]},K9=()=>{var e;return(e=PN())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uee{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(e){return e.endsWith(".cloudworkstations.dev")}async function Vee(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zee(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=t||"demo-project",a=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:a,exp:a+3600,auth_time:a,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[sb(JSON.stringify(r)),sb(JSON.stringify(s)),""].join(".")}const Mg={};function qee(){const e={prod:[],emulator:[]};for(const t of Object.keys(Mg))Mg[t]?e.emulator.push(t):e.prod.push(t);return e}function Wee(e){let t=document.getElementById(e),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),r=!0),{created:r,element:t}}let $O=!1;function Y9(e,t){if(typeof window>"u"||typeof document>"u"||!ON(window.location.host)||Mg[e]===t||Mg[e]||$O)return;Mg[e]=t;function r(h){return`__firebase__banner__${h}`}const n="__firebase__banner",i=qee().prod.length>0;function s(){const h=document.getElementById(n);h&&h.remove()}function o(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{$O=!0,s()},h}function u(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=Wee(n),p=r("text"),g=document.getElementById(p)||document.createElement("span"),m=r("learnmore"),y=document.getElementById(m)||document.createElement("a"),v=r("preprendIcon"),b=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const w=h.element;o(w),u(y,m);const D=c();l(b,v),w.append(b,g,y,D),document.body.appendChild(w)}i?(g.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hee(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Gee(){var e;const t=(e=PN())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Kee(){return!Gee()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Yee(){try{return typeof indexedDB=="object"}catch{return!1}}function Xee(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var i;t(((i=a.error)===null||i===void 0?void 0:i.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qee="FirebaseError";class Zp extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=Qee,Object.setPrototypeOf(this,Zp.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,X9.prototype.create)}}class X9{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},a=`${this.service}/${t}`,i=this.errors[t],s=i?Jee(i,n):"Error",o=`${this.serviceName}: ${s} (${a}).`;return new Zp(a,o,n)}}function Jee(e,t){return e.replace(Zee,(r,n)=>{const a=t[n];return a!=null?String(a):`<${n}?>`})}const Zee=/\{\$([^}]+)}/g;function ob(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const a of r){if(!n.includes(a))return!1;const i=e[a],s=t[a];if(BO(i)&&BO(s)){if(!ob(i,s))return!1}else if(i!==s)return!1}for(const a of n)if(!r.includes(a))return!1;return!0}function BO(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fo(e){return e&&e._delegate?e._delegate:e}class Iv{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ete{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new Uee;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(a)return null;throw i}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(rte(t))try{this.getOrInitializeService({instanceIdentifier:_d})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:a});n.resolve(i)}catch{}}}}clearInstance(t=_d){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=_d){return this.instances.has(t)}getOptions(t=_d){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);n===o&&s.resolve(a)}return a}onInit(t,r){var n;const a=this.normalizeInstanceIdentifier(r),i=(n=this.onInitCallbacks.get(a))!==null&&n!==void 0?n:new Set;i.add(t),this.onInitCallbacks.set(a,i);const s=this.instances.get(a);return s&&t(s,a),()=>{i.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const a of n)try{a(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:tte(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=_d){return this.component?this.component.multipleInstances?t:_d:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tte(e){return e===_d?void 0:e}function rte(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nte{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new ete(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(nn||(nn={}));const ate={debug:nn.DEBUG,verbose:nn.VERBOSE,info:nn.INFO,warn:nn.WARN,error:nn.ERROR,silent:nn.SILENT},ite=nn.INFO,ste={[nn.DEBUG]:"log",[nn.VERBOSE]:"log",[nn.INFO]:"info",[nn.WARN]:"warn",[nn.ERROR]:"error"},ote=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),a=ste[t];if(a)console[a](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Q9{constructor(t){this.name=t,this._logLevel=ite,this._logHandler=ote,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in nn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?ate[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,nn.DEBUG,...t),this._logHandler(this,nn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,nn.VERBOSE,...t),this._logHandler(this,nn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,nn.INFO,...t),this._logHandler(this,nn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,nn.WARN,...t),this._logHandler(this,nn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,nn.ERROR,...t),this._logHandler(this,nn.ERROR,...t)}}const lte=(e,t)=>t.some(r=>e instanceof r);let UO,VO;function cte(){return UO||(UO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ute(){return VO||(VO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const J9=new WeakMap,H4=new WeakMap,Z9=new WeakMap,_S=new WeakMap,IN=new WeakMap;function fte(e){const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{r(_f(e.result)),a()},s=()=>{n(e.error),a()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(r=>{r instanceof IDBCursor&&J9.set(r,e)}).catch(()=>{}),IN.set(t,e),t}function dte(e){if(H4.has(e))return;const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{r(),a()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});H4.set(e,t)}let G4={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return H4.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Z9.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return _f(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function hte(e){G4=e(G4)}function pte(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(SS(this),t,...r);return Z9.set(n,t.sort?t.sort():[t]),_f(n)}:ute().includes(e)?function(...t){return e.apply(SS(this),t),_f(J9.get(this))}:function(...t){return _f(e.apply(SS(this),t))}}function mte(e){return typeof e=="function"?pte(e):(e instanceof IDBTransaction&&dte(e),lte(e,cte())?new Proxy(e,G4):e)}function _f(e){if(e instanceof IDBRequest)return fte(e);if(_S.has(e))return _S.get(e);const t=mte(e);return t!==e&&(_S.set(e,t),IN.set(t,e)),t}const SS=e=>IN.get(e);function gte(e,t,{blocked:r,upgrade:n,blocking:a,terminated:i}={}){const s=indexedDB.open(e,t),o=_f(s);return n&&s.addEventListener("upgradeneeded",l=>{n(_f(s.result),l.oldVersion,l.newVersion,_f(s.transaction),l)}),r&&s.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{i&&l.addEventListener("close",()=>i()),a&&l.addEventListener("versionchange",c=>a(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const vte=["get","getKey","getAll","getAllKeys","count"],yte=["put","add","delete","clear"],AS=new Map;function zO(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(AS.get(t))return AS.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,a=yte.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||vte.includes(r)))return;const i=async function(s,...o){const l=this.transaction(s,a?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(o.shift())),(await Promise.all([c[r](...o),a&&l.done]))[0]};return AS.set(t,i),i}hte(e=>({...e,get:(t,r,n)=>zO(t,r)||e.get(t,r,n),has:(t,r)=>!!zO(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xte{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(bte(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function bte(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const K4="@firebase/app",qO="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yc=new Q9("@firebase/app"),wte="@firebase/app-compat",_te="@firebase/analytics-compat",Ste="@firebase/analytics",Ate="@firebase/app-check-compat",Ete="@firebase/app-check",Tte="@firebase/auth",Nte="@firebase/auth-compat",kte="@firebase/database",Cte="@firebase/data-connect",Pte="@firebase/database-compat",Ote="@firebase/functions",Ite="@firebase/functions-compat",jte="@firebase/installations",Dte="@firebase/installations-compat",Lte="@firebase/messaging",Mte="@firebase/messaging-compat",Rte="@firebase/performance",Fte="@firebase/performance-compat",$te="@firebase/remote-config",Bte="@firebase/remote-config-compat",Ute="@firebase/storage",Vte="@firebase/storage-compat",zte="@firebase/firestore",qte="@firebase/vertexai",Wte="@firebase/firestore-compat",Hte="firebase",Gte="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4="[DEFAULT]",Kte={[K4]:"fire-core",[wte]:"fire-core-compat",[Ste]:"fire-analytics",[_te]:"fire-analytics-compat",[Ete]:"fire-app-check",[Ate]:"fire-app-check-compat",[Tte]:"fire-auth",[Nte]:"fire-auth-compat",[kte]:"fire-rtdb",[Cte]:"fire-data-connect",[Pte]:"fire-rtdb-compat",[Ote]:"fire-fn",[Ite]:"fire-fn-compat",[jte]:"fire-iid",[Dte]:"fire-iid-compat",[Lte]:"fire-fcm",[Mte]:"fire-fcm-compat",[Rte]:"fire-perf",[Fte]:"fire-perf-compat",[$te]:"fire-rc",[Bte]:"fire-rc-compat",[Ute]:"fire-gcs",[Vte]:"fire-gcs-compat",[zte]:"fire-fst",[Wte]:"fire-fst-compat",[qte]:"fire-vertex","fire-js":"fire-js",[Hte]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb=new Map,Yte=new Map,X4=new Map;function WO(e,t){try{e.container.addComponent(t)}catch(r){Yc.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function cb(e){const t=e.name;if(X4.has(t))return Yc.debug(`There were multiple attempts to register component ${t}.`),!1;X4.set(t,e);for(const r of lb.values())WO(r,e);for(const r of Yte.values())WO(r,e);return!0}function Xte(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function Qte(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jte={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Sf=new X9("app","Firebase",Jte);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zte{constructor(t,r,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Iv("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Sf.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ere=Gte;function eB(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n=Object.assign({name:Y4,automaticDataCollectionEnabled:!1},t),a=n.name;if(typeof a!="string"||!a)throw Sf.create("bad-app-name",{appName:String(a)});if(r||(r=K9()),!r)throw Sf.create("no-options");const i=lb.get(a);if(i){if(ob(r,i.options)&&ob(n,i.config))return i;throw Sf.create("duplicate-app",{appName:a})}const s=new nte(a);for(const l of X4.values())s.addComponent(l);const o=new Zte(r,n,s);return lb.set(a,o),o}function tre(e=Y4){const t=lb.get(e);if(!t&&e===Y4&&K9())return eB();if(!t)throw Sf.create("no-app",{appName:e});return t}function W0(e,t,r){var n;let a=(n=Kte[e])!==null&&n!==void 0?n:e;r&&(a+=`-${r}`);const i=a.match(/\s|\//),s=t.match(/\s|\//);if(i||s){const o=[`Unable to register library "${a}" with version "${t}":`];i&&o.push(`library name "${a}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Yc.warn(o.join(" "));return}cb(new Iv(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rre="firebase-heartbeat-database",nre=1,jv="firebase-heartbeat-store";let ES=null;function tB(){return ES||(ES=gte(rre,nre,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(jv)}catch(r){console.warn(r)}}}}).catch(e=>{throw Sf.create("idb-open",{originalErrorMessage:e.message})})),ES}async function are(e){try{const r=(await tB()).transaction(jv),n=await r.objectStore(jv).get(rB(e));return await r.done,n}catch(t){if(t instanceof Zp)Yc.warn(t.message);else{const r=Sf.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Yc.warn(r.message)}}}async function HO(e,t){try{const n=(await tB()).transaction(jv,"readwrite");await n.objectStore(jv).put(t,rB(e)),await n.done}catch(r){if(r instanceof Zp)Yc.warn(r.message);else{const n=Sf.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Yc.warn(n.message)}}}function rB(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ire=1024,sre=30;class ore{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new cre(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=GO();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:a}),this._heartbeatsCache.heartbeats.length>sre){const s=ure(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Yc.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=GO(),{heartbeatsToSend:n,unsentEntries:a}=lre(this._heartbeatsCache.heartbeats),i=sb(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return Yc.warn(r),""}}}function GO(){return new Date().toISOString().substring(0,10)}function lre(e,t=ire){const r=[];let n=e.slice();for(const a of e){const i=r.find(s=>s.agent===a.agent);if(i){if(i.dates.push(a.date),KO(r)>t){i.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),KO(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class cre{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Yee()?Xee().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await are(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return HO(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return HO(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function KO(e){return sb(JSON.stringify({version:2,heartbeats:e})).length}function ure(e){if(e.length===0)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fre(e){cb(new Iv("platform-logger",t=>new xte(t),"PRIVATE")),cb(new Iv("heartbeat",t=>new ore(t),"PRIVATE")),W0(K4,qO,e),W0(K4,qO,"esm2017"),W0("fire-js","")}fre("");var dre="firebase",hre="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */W0(dre,hre,"app");var YO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Af,nB;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(E,_){function S(){}S.prototype=_.prototype,E.D=_.prototype,E.prototype=new S,E.prototype.constructor=E,E.C=function(I,T,N){for(var O=Array(arguments.length-2),U=2;U<arguments.length;U++)O[U-2]=arguments[U];return _.prototype[T].apply(I,O)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(E,_,S){S||(S=0);var I=Array(16);if(typeof _=="string")for(var T=0;16>T;++T)I[T]=_.charCodeAt(S++)|_.charCodeAt(S++)<<8|_.charCodeAt(S++)<<16|_.charCodeAt(S++)<<24;else for(T=0;16>T;++T)I[T]=_[S++]|_[S++]<<8|_[S++]<<16|_[S++]<<24;_=E.g[0],S=E.g[1],T=E.g[2];var N=E.g[3],O=_+(N^S&(T^N))+I[0]+3614090360&4294967295;_=S+(O<<7&4294967295|O>>>25),O=N+(T^_&(S^T))+I[1]+3905402710&4294967295,N=_+(O<<12&4294967295|O>>>20),O=T+(S^N&(_^S))+I[2]+606105819&4294967295,T=N+(O<<17&4294967295|O>>>15),O=S+(_^T&(N^_))+I[3]+3250441966&4294967295,S=T+(O<<22&4294967295|O>>>10),O=_+(N^S&(T^N))+I[4]+4118548399&4294967295,_=S+(O<<7&4294967295|O>>>25),O=N+(T^_&(S^T))+I[5]+1200080426&4294967295,N=_+(O<<12&4294967295|O>>>20),O=T+(S^N&(_^S))+I[6]+2821735955&4294967295,T=N+(O<<17&4294967295|O>>>15),O=S+(_^T&(N^_))+I[7]+4249261313&4294967295,S=T+(O<<22&4294967295|O>>>10),O=_+(N^S&(T^N))+I[8]+1770035416&4294967295,_=S+(O<<7&4294967295|O>>>25),O=N+(T^_&(S^T))+I[9]+2336552879&4294967295,N=_+(O<<12&4294967295|O>>>20),O=T+(S^N&(_^S))+I[10]+4294925233&4294967295,T=N+(O<<17&4294967295|O>>>15),O=S+(_^T&(N^_))+I[11]+2304563134&4294967295,S=T+(O<<22&4294967295|O>>>10),O=_+(N^S&(T^N))+I[12]+1804603682&4294967295,_=S+(O<<7&4294967295|O>>>25),O=N+(T^_&(S^T))+I[13]+4254626195&4294967295,N=_+(O<<12&4294967295|O>>>20),O=T+(S^N&(_^S))+I[14]+2792965006&4294967295,T=N+(O<<17&4294967295|O>>>15),O=S+(_^T&(N^_))+I[15]+1236535329&4294967295,S=T+(O<<22&4294967295|O>>>10),O=_+(T^N&(S^T))+I[1]+4129170786&4294967295,_=S+(O<<5&4294967295|O>>>27),O=N+(S^T&(_^S))+I[6]+3225465664&4294967295,N=_+(O<<9&4294967295|O>>>23),O=T+(_^S&(N^_))+I[11]+643717713&4294967295,T=N+(O<<14&4294967295|O>>>18),O=S+(N^_&(T^N))+I[0]+3921069994&4294967295,S=T+(O<<20&4294967295|O>>>12),O=_+(T^N&(S^T))+I[5]+3593408605&4294967295,_=S+(O<<5&4294967295|O>>>27),O=N+(S^T&(_^S))+I[10]+38016083&4294967295,N=_+(O<<9&4294967295|O>>>23),O=T+(_^S&(N^_))+I[15]+3634488961&4294967295,T=N+(O<<14&4294967295|O>>>18),O=S+(N^_&(T^N))+I[4]+3889429448&4294967295,S=T+(O<<20&4294967295|O>>>12),O=_+(T^N&(S^T))+I[9]+568446438&4294967295,_=S+(O<<5&4294967295|O>>>27),O=N+(S^T&(_^S))+I[14]+3275163606&4294967295,N=_+(O<<9&4294967295|O>>>23),O=T+(_^S&(N^_))+I[3]+4107603335&4294967295,T=N+(O<<14&4294967295|O>>>18),O=S+(N^_&(T^N))+I[8]+1163531501&4294967295,S=T+(O<<20&4294967295|O>>>12),O=_+(T^N&(S^T))+I[13]+2850285829&4294967295,_=S+(O<<5&4294967295|O>>>27),O=N+(S^T&(_^S))+I[2]+4243563512&4294967295,N=_+(O<<9&4294967295|O>>>23),O=T+(_^S&(N^_))+I[7]+1735328473&4294967295,T=N+(O<<14&4294967295|O>>>18),O=S+(N^_&(T^N))+I[12]+2368359562&4294967295,S=T+(O<<20&4294967295|O>>>12),O=_+(S^T^N)+I[5]+4294588738&4294967295,_=S+(O<<4&4294967295|O>>>28),O=N+(_^S^T)+I[8]+2272392833&4294967295,N=_+(O<<11&4294967295|O>>>21),O=T+(N^_^S)+I[11]+1839030562&4294967295,T=N+(O<<16&4294967295|O>>>16),O=S+(T^N^_)+I[14]+4259657740&4294967295,S=T+(O<<23&4294967295|O>>>9),O=_+(S^T^N)+I[1]+2763975236&4294967295,_=S+(O<<4&4294967295|O>>>28),O=N+(_^S^T)+I[4]+1272893353&4294967295,N=_+(O<<11&4294967295|O>>>21),O=T+(N^_^S)+I[7]+4139469664&4294967295,T=N+(O<<16&4294967295|O>>>16),O=S+(T^N^_)+I[10]+3200236656&4294967295,S=T+(O<<23&4294967295|O>>>9),O=_+(S^T^N)+I[13]+681279174&4294967295,_=S+(O<<4&4294967295|O>>>28),O=N+(_^S^T)+I[0]+3936430074&4294967295,N=_+(O<<11&4294967295|O>>>21),O=T+(N^_^S)+I[3]+3572445317&4294967295,T=N+(O<<16&4294967295|O>>>16),O=S+(T^N^_)+I[6]+76029189&4294967295,S=T+(O<<23&4294967295|O>>>9),O=_+(S^T^N)+I[9]+3654602809&4294967295,_=S+(O<<4&4294967295|O>>>28),O=N+(_^S^T)+I[12]+3873151461&4294967295,N=_+(O<<11&4294967295|O>>>21),O=T+(N^_^S)+I[15]+530742520&4294967295,T=N+(O<<16&4294967295|O>>>16),O=S+(T^N^_)+I[2]+3299628645&4294967295,S=T+(O<<23&4294967295|O>>>9),O=_+(T^(S|~N))+I[0]+4096336452&4294967295,_=S+(O<<6&4294967295|O>>>26),O=N+(S^(_|~T))+I[7]+1126891415&4294967295,N=_+(O<<10&4294967295|O>>>22),O=T+(_^(N|~S))+I[14]+2878612391&4294967295,T=N+(O<<15&4294967295|O>>>17),O=S+(N^(T|~_))+I[5]+4237533241&4294967295,S=T+(O<<21&4294967295|O>>>11),O=_+(T^(S|~N))+I[12]+1700485571&4294967295,_=S+(O<<6&4294967295|O>>>26),O=N+(S^(_|~T))+I[3]+2399980690&4294967295,N=_+(O<<10&4294967295|O>>>22),O=T+(_^(N|~S))+I[10]+4293915773&4294967295,T=N+(O<<15&4294967295|O>>>17),O=S+(N^(T|~_))+I[1]+2240044497&4294967295,S=T+(O<<21&4294967295|O>>>11),O=_+(T^(S|~N))+I[8]+1873313359&4294967295,_=S+(O<<6&4294967295|O>>>26),O=N+(S^(_|~T))+I[15]+4264355552&4294967295,N=_+(O<<10&4294967295|O>>>22),O=T+(_^(N|~S))+I[6]+2734768916&4294967295,T=N+(O<<15&4294967295|O>>>17),O=S+(N^(T|~_))+I[13]+1309151649&4294967295,S=T+(O<<21&4294967295|O>>>11),O=_+(T^(S|~N))+I[4]+4149444226&4294967295,_=S+(O<<6&4294967295|O>>>26),O=N+(S^(_|~T))+I[11]+3174756917&4294967295,N=_+(O<<10&4294967295|O>>>22),O=T+(_^(N|~S))+I[2]+718787259&4294967295,T=N+(O<<15&4294967295|O>>>17),O=S+(N^(T|~_))+I[9]+3951481745&4294967295,E.g[0]=E.g[0]+_&4294967295,E.g[1]=E.g[1]+(T+(O<<21&4294967295|O>>>11))&4294967295,E.g[2]=E.g[2]+T&4294967295,E.g[3]=E.g[3]+N&4294967295}n.prototype.u=function(E,_){_===void 0&&(_=E.length);for(var S=_-this.blockSize,I=this.B,T=this.h,N=0;N<_;){if(T==0)for(;N<=S;)a(this,E,N),N+=this.blockSize;if(typeof E=="string"){for(;N<_;)if(I[T++]=E.charCodeAt(N++),T==this.blockSize){a(this,I),T=0;break}}else for(;N<_;)if(I[T++]=E[N++],T==this.blockSize){a(this,I),T=0;break}}this.h=T,this.o+=_},n.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var _=1;_<E.length-8;++_)E[_]=0;var S=8*this.o;for(_=E.length-8;_<E.length;++_)E[_]=S&255,S/=256;for(this.u(E),E=Array(16),_=S=0;4>_;++_)for(var I=0;32>I;I+=8)E[S++]=this.g[_]>>>I&255;return E};function i(E,_){var S=o;return Object.prototype.hasOwnProperty.call(S,E)?S[E]:S[E]=_(E)}function s(E,_){this.h=_;for(var S=[],I=!0,T=E.length-1;0<=T;T--){var N=E[T]|0;I&&N==_||(S[T]=N,I=!1)}this.g=S}var o={};function l(E){return-128<=E&&128>E?i(E,function(_){return new s([_|0],0>_?-1:0)}):new s([E|0],0>E?-1:0)}function c(E){if(isNaN(E)||!isFinite(E))return f;if(0>E)return y(c(-E));for(var _=[],S=1,I=0;E>=S;I++)_[I]=E/S|0,S*=4294967296;return new s(_,0)}function u(E,_){if(E.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(E.charAt(0)=="-")return y(u(E.substring(1),_));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=c(Math.pow(_,8)),I=f,T=0;T<E.length;T+=8){var N=Math.min(8,E.length-T),O=parseInt(E.substring(T,T+N),_);8>N?(N=c(Math.pow(_,N)),I=I.j(N).add(c(O))):(I=I.j(S),I=I.add(c(O)))}return I}var f=l(0),h=l(1),p=l(16777216);e=s.prototype,e.m=function(){if(m(this))return-y(this).m();for(var E=0,_=1,S=0;S<this.g.length;S++){var I=this.i(S);E+=(0<=I?I:4294967296+I)*_,_*=4294967296}return E},e.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(g(this))return"0";if(m(this))return"-"+y(this).toString(E);for(var _=c(Math.pow(E,6)),S=this,I="";;){var T=D(S,_).g;S=v(S,T.j(_));var N=((0<S.g.length?S.g[0]:S.h)>>>0).toString(E);if(S=T,g(S))return N+I;for(;6>N.length;)N="0"+N;I=N+I}},e.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function g(E){if(E.h!=0)return!1;for(var _=0;_<E.g.length;_++)if(E.g[_]!=0)return!1;return!0}function m(E){return E.h==-1}e.l=function(E){return E=v(this,E),m(E)?-1:g(E)?0:1};function y(E){for(var _=E.g.length,S=[],I=0;I<_;I++)S[I]=~E.g[I];return new s(S,~E.h).add(h)}e.abs=function(){return m(this)?y(this):this},e.add=function(E){for(var _=Math.max(this.g.length,E.g.length),S=[],I=0,T=0;T<=_;T++){var N=I+(this.i(T)&65535)+(E.i(T)&65535),O=(N>>>16)+(this.i(T)>>>16)+(E.i(T)>>>16);I=O>>>16,N&=65535,O&=65535,S[T]=O<<16|N}return new s(S,S[S.length-1]&-2147483648?-1:0)};function v(E,_){return E.add(y(_))}e.j=function(E){if(g(this)||g(E))return f;if(m(this))return m(E)?y(this).j(y(E)):y(y(this).j(E));if(m(E))return y(this.j(y(E)));if(0>this.l(p)&&0>E.l(p))return c(this.m()*E.m());for(var _=this.g.length+E.g.length,S=[],I=0;I<2*_;I++)S[I]=0;for(I=0;I<this.g.length;I++)for(var T=0;T<E.g.length;T++){var N=this.i(I)>>>16,O=this.i(I)&65535,U=E.i(T)>>>16,Y=E.i(T)&65535;S[2*I+2*T]+=O*Y,b(S,2*I+2*T),S[2*I+2*T+1]+=N*Y,b(S,2*I+2*T+1),S[2*I+2*T+1]+=O*U,b(S,2*I+2*T+1),S[2*I+2*T+2]+=N*U,b(S,2*I+2*T+2)}for(I=0;I<_;I++)S[I]=S[2*I+1]<<16|S[2*I];for(I=_;I<2*_;I++)S[I]=0;return new s(S,0)};function b(E,_){for(;(E[_]&65535)!=E[_];)E[_+1]+=E[_]>>>16,E[_]&=65535,_++}function w(E,_){this.g=E,this.h=_}function D(E,_){if(g(_))throw Error("division by zero");if(g(E))return new w(f,f);if(m(E))return _=D(y(E),_),new w(y(_.g),y(_.h));if(m(_))return _=D(E,y(_)),new w(y(_.g),_.h);if(30<E.g.length){if(m(E)||m(_))throw Error("slowDivide_ only works with positive integers.");for(var S=h,I=_;0>=I.l(E);)S=P(S),I=P(I);var T=j(S,1),N=j(I,1);for(I=j(I,2),S=j(S,2);!g(I);){var O=N.add(I);0>=O.l(E)&&(T=T.add(S),N=O),I=j(I,1),S=j(S,1)}return _=v(E,T.j(_)),new w(T,_)}for(T=f;0<=E.l(_);){for(S=Math.max(1,Math.floor(E.m()/_.m())),I=Math.ceil(Math.log(S)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),N=c(S),O=N.j(_);m(O)||0<O.l(E);)S-=I,N=c(S),O=N.j(_);g(N)&&(N=h),T=T.add(N),E=v(E,O)}return new w(T,E)}e.A=function(E){return D(this,E).h},e.and=function(E){for(var _=Math.max(this.g.length,E.g.length),S=[],I=0;I<_;I++)S[I]=this.i(I)&E.i(I);return new s(S,this.h&E.h)},e.or=function(E){for(var _=Math.max(this.g.length,E.g.length),S=[],I=0;I<_;I++)S[I]=this.i(I)|E.i(I);return new s(S,this.h|E.h)},e.xor=function(E){for(var _=Math.max(this.g.length,E.g.length),S=[],I=0;I<_;I++)S[I]=this.i(I)^E.i(I);return new s(S,this.h^E.h)};function P(E){for(var _=E.g.length+1,S=[],I=0;I<_;I++)S[I]=E.i(I)<<1|E.i(I-1)>>>31;return new s(S,E.h)}function j(E,_){var S=_>>5;_%=32;for(var I=E.g.length-S,T=[],N=0;N<I;N++)T[N]=0<_?E.i(N+S)>>>_|E.i(N+S+1)<<32-_:E.i(N+S);return new s(T,E.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,nB=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,Af=s}).apply(typeof YO<"u"?YO:typeof self<"u"?self:typeof window<"u"?window:{});var px=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var aB,gg,iB,h2,Q4,sB,oB,lB;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(A,B,X){return A==Array.prototype||A==Object.prototype||(A[B]=X.value),A};function r(A){A=[typeof globalThis=="object"&&globalThis,A,typeof window=="object"&&window,typeof self=="object"&&self,typeof px=="object"&&px];for(var B=0;B<A.length;++B){var X=A[B];if(X&&X.Math==Math)return X}throw Error("Cannot find global object")}var n=r(this);function a(A,B){if(B)e:{var X=n;A=A.split(".");for(var ue=0;ue<A.length-1;ue++){var Ue=A[ue];if(!(Ue in X))break e;X=X[Ue]}A=A[A.length-1],ue=X[A],B=B(ue),B!=ue&&B!=null&&t(X,A,{configurable:!0,writable:!0,value:B})}}function i(A,B){A instanceof String&&(A+="");var X=0,ue=!1,Ue={next:function(){if(!ue&&X<A.length){var tt=X++;return{value:B(tt,A[tt]),done:!1}}return ue=!0,{done:!0,value:void 0}}};return Ue[Symbol.iterator]=function(){return Ue},Ue}a("Array.prototype.values",function(A){return A||function(){return i(this,function(B,X){return X})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function l(A){var B=typeof A;return B=B!="object"?B:A?Array.isArray(A)?"array":B:"null",B=="array"||B=="object"&&typeof A.length=="number"}function c(A){var B=typeof A;return B=="object"&&A!=null||B=="function"}function u(A,B,X){return A.call.apply(A.bind,arguments)}function f(A,B,X){if(!A)throw Error();if(2<arguments.length){var ue=Array.prototype.slice.call(arguments,2);return function(){var Ue=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ue,ue),A.apply(B,Ue)}}return function(){return A.apply(B,arguments)}}function h(A,B,X){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,h.apply(null,arguments)}function p(A,B){var X=Array.prototype.slice.call(arguments,1);return function(){var ue=X.slice();return ue.push.apply(ue,arguments),A.apply(this,ue)}}function g(A,B){function X(){}X.prototype=B.prototype,A.aa=B.prototype,A.prototype=new X,A.prototype.constructor=A,A.Qb=function(ue,Ue,tt){for(var Nt=Array(arguments.length-2),Or=2;Or<arguments.length;Or++)Nt[Or-2]=arguments[Or];return B.prototype[Ue].apply(ue,Nt)}}function m(A){const B=A.length;if(0<B){const X=Array(B);for(let ue=0;ue<B;ue++)X[ue]=A[ue];return X}return[]}function y(A,B){for(let X=1;X<arguments.length;X++){const ue=arguments[X];if(l(ue)){const Ue=A.length||0,tt=ue.length||0;A.length=Ue+tt;for(let Nt=0;Nt<tt;Nt++)A[Ue+Nt]=ue[Nt]}else A.push(ue)}}class v{constructor(B,X){this.i=B,this.j=X,this.h=0,this.g=null}get(){let B;return 0<this.h?(this.h--,B=this.g,this.g=B.next,B.next=null):B=this.i(),B}}function b(A){return/^[\s\xa0]*$/.test(A)}function w(){var A=o.navigator;return A&&(A=A.userAgent)?A:""}function D(A){return D[" "](A),A}D[" "]=function(){};var P=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function j(A,B,X){for(const ue in A)B.call(X,A[ue],ue,A)}function E(A,B){for(const X in A)B.call(void 0,A[X],X,A)}function _(A){const B={};for(const X in A)B[X]=A[X];return B}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(A,B){let X,ue;for(let Ue=1;Ue<arguments.length;Ue++){ue=arguments[Ue];for(X in ue)A[X]=ue[X];for(let tt=0;tt<S.length;tt++)X=S[tt],Object.prototype.hasOwnProperty.call(ue,X)&&(A[X]=ue[X])}}function T(A){var B=1;A=A.split(":");const X=[];for(;0<B&&A.length;)X.push(A.shift()),B--;return A.length&&X.push(A.join(":")),X}function N(A){o.setTimeout(()=>{throw A},0)}function O(){var A=V;let B=null;return A.g&&(B=A.g,A.g=A.g.next,A.g||(A.h=null),B.next=null),B}class U{constructor(){this.h=this.g=null}add(B,X){const ue=Y.get();ue.set(B,X),this.h?this.h.next=ue:this.g=ue,this.h=ue}}var Y=new v(()=>new K,A=>A.reset());class K{constructor(){this.next=this.g=this.h=null}set(B,X){this.h=B,this.g=X,this.next=null}reset(){this.next=this.g=this.h=null}}let J,q=!1,V=new U,ee=()=>{const A=o.Promise.resolve(void 0);J=()=>{A.then(Z)}};var Z=()=>{for(var A;A=O();){try{A.h.call(A.g)}catch(X){N(X)}var B=Y;B.j(A),100>B.h&&(B.h++,A.next=B.g,B.g=A)}q=!1};function k(){this.s=this.s,this.C=this.C}k.prototype.s=!1,k.prototype.ma=function(){this.s||(this.s=!0,this.N())},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(A,B){this.type=A,this.g=this.target=B,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var z=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var A=!1,B=Object.defineProperty({},"passive",{get:function(){A=!0}});try{const X=()=>{};o.addEventListener("test",X,B),o.removeEventListener("test",X,B)}catch{}return A}();function G(A,B){if(R.call(this,A?A.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,A){var X=this.type=A.type,ue=A.changedTouches&&A.changedTouches.length?A.changedTouches[0]:null;if(this.target=A.target||A.srcElement,this.g=B,B=A.relatedTarget){if(P){e:{try{D(B.nodeName);var Ue=!0;break e}catch{}Ue=!1}Ue||(B=null)}}else X=="mouseover"?B=A.fromElement:X=="mouseout"&&(B=A.toElement);this.relatedTarget=B,ue?(this.clientX=ue.clientX!==void 0?ue.clientX:ue.pageX,this.clientY=ue.clientY!==void 0?ue.clientY:ue.pageY,this.screenX=ue.screenX||0,this.screenY=ue.screenY||0):(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0),this.button=A.button,this.key=A.key||"",this.ctrlKey=A.ctrlKey,this.altKey=A.altKey,this.shiftKey=A.shiftKey,this.metaKey=A.metaKey,this.pointerId=A.pointerId||0,this.pointerType=typeof A.pointerType=="string"?A.pointerType:Q[A.pointerType]||"",this.state=A.state,this.i=A,A.defaultPrevented&&G.aa.h.call(this)}}g(G,R);var Q={2:"touch",3:"pen",4:"mouse"};G.prototype.h=function(){G.aa.h.call(this);var A=this.i;A.preventDefault?A.preventDefault():A.returnValue=!1};var oe="closure_listenable_"+(1e6*Math.random()|0),ce=0;function ne(A,B,X,ue,Ue){this.listener=A,this.proxy=null,this.src=B,this.type=X,this.capture=!!ue,this.ha=Ue,this.key=++ce,this.da=this.fa=!1}function he(A){A.da=!0,A.listener=null,A.proxy=null,A.src=null,A.ha=null}function ye(A){this.src=A,this.g={},this.h=0}ye.prototype.add=function(A,B,X,ue,Ue){var tt=A.toString();A=this.g[tt],A||(A=this.g[tt]=[],this.h++);var Nt=Ce(A,B,ue,Ue);return-1<Nt?(B=A[Nt],X||(B.fa=!1)):(B=new ne(B,this.src,tt,!!ue,Ue),B.fa=X,A.push(B)),B};function W(A,B){var X=B.type;if(X in A.g){var ue=A.g[X],Ue=Array.prototype.indexOf.call(ue,B,void 0),tt;(tt=0<=Ue)&&Array.prototype.splice.call(ue,Ue,1),tt&&(he(B),A.g[X].length==0&&(delete A.g[X],A.h--))}}function Ce(A,B,X,ue){for(var Ue=0;Ue<A.length;++Ue){var tt=A[Ue];if(!tt.da&&tt.listener==B&&tt.capture==!!X&&tt.ha==ue)return Ue}return-1}var ke="closure_lm_"+(1e6*Math.random()|0),Ee={};function ie(A,B,X,ue,Ue){if(Array.isArray(B)){for(var tt=0;tt<B.length;tt++)ie(A,B[tt],X,ue,Ue);return null}return X=at(X),A&&A[oe]?A.K(B,X,c(ue)?!!ue.capture:!!ue,Ue):Fe(A,B,X,!1,ue,Ue)}function Fe(A,B,X,ue,Ue,tt){if(!B)throw Error("Invalid event type");var Nt=c(Ue)?!!Ue.capture:!!Ue,Or=Ne(A);if(Or||(A[ke]=Or=new ye(A)),X=Or.add(B,X,ue,Nt,tt),X.proxy)return X;if(ue=Ye(),X.proxy=ue,ue.src=A,ue.listener=X,A.addEventListener)z||(Ue=Nt),Ue===void 0&&(Ue=!1),A.addEventListener(B.toString(),ue,Ue);else if(A.attachEvent)A.attachEvent(_e(B.toString()),ue);else if(A.addListener&&A.removeListener)A.addListener(ue);else throw Error("addEventListener and attachEvent are unavailable.");return X}function Ye(){function A(X){return B.call(A.src,A.listener,X)}const B=De;return A}function Se(A,B,X,ue,Ue){if(Array.isArray(B))for(var tt=0;tt<B.length;tt++)Se(A,B[tt],X,ue,Ue);else ue=c(ue)?!!ue.capture:!!ue,X=at(X),A&&A[oe]?(A=A.i,B=String(B).toString(),B in A.g&&(tt=A.g[B],X=Ce(tt,X,ue,Ue),-1<X&&(he(tt[X]),Array.prototype.splice.call(tt,X,1),tt.length==0&&(delete A.g[B],A.h--)))):A&&(A=Ne(A))&&(B=A.g[B.toString()],A=-1,B&&(A=Ce(B,X,ue,Ue)),(X=-1<A?B[A]:null)&&$e(X))}function $e(A){if(typeof A!="number"&&A&&!A.da){var B=A.src;if(B&&B[oe])W(B.i,A);else{var X=A.type,ue=A.proxy;B.removeEventListener?B.removeEventListener(X,ue,A.capture):B.detachEvent?B.detachEvent(_e(X),ue):B.addListener&&B.removeListener&&B.removeListener(ue),(X=Ne(B))?(W(X,A),X.h==0&&(X.src=null,B[ke]=null)):he(A)}}}function _e(A){return A in Ee?Ee[A]:Ee[A]="on"+A}function De(A,B){if(A.da)A=!0;else{B=new G(B,this);var X=A.listener,ue=A.ha||A.src;A.fa&&$e(A),A=X.call(ue,B)}return A}function Ne(A){return A=A[ke],A instanceof ye?A:null}var qe="__closure_events_fn_"+(1e9*Math.random()>>>0);function at(A){return typeof A=="function"?A:(A[qe]||(A[qe]=function(B){return A.handleEvent(B)}),A[qe])}function nt(){k.call(this),this.i=new ye(this),this.M=this,this.F=null}g(nt,k),nt.prototype[oe]=!0,nt.prototype.removeEventListener=function(A,B,X,ue){Se(this,A,B,X,ue)};function ut(A,B){var X,ue=A.F;if(ue)for(X=[];ue;ue=ue.F)X.push(ue);if(A=A.M,ue=B.type||B,typeof B=="string")B=new R(B,A);else if(B instanceof R)B.target=B.target||A;else{var Ue=B;B=new R(ue,A),I(B,Ue)}if(Ue=!0,X)for(var tt=X.length-1;0<=tt;tt--){var Nt=B.g=X[tt];Ue=Tt(Nt,ue,!0,B)&&Ue}if(Nt=B.g=A,Ue=Tt(Nt,ue,!0,B)&&Ue,Ue=Tt(Nt,ue,!1,B)&&Ue,X)for(tt=0;tt<X.length;tt++)Nt=B.g=X[tt],Ue=Tt(Nt,ue,!1,B)&&Ue}nt.prototype.N=function(){if(nt.aa.N.call(this),this.i){var A=this.i,B;for(B in A.g){for(var X=A.g[B],ue=0;ue<X.length;ue++)he(X[ue]);delete A.g[B],A.h--}}this.F=null},nt.prototype.K=function(A,B,X,ue){return this.i.add(String(A),B,!1,X,ue)},nt.prototype.L=function(A,B,X,ue){return this.i.add(String(A),B,!0,X,ue)};function Tt(A,B,X,ue){if(B=A.i.g[String(B)],!B)return!0;B=B.concat();for(var Ue=!0,tt=0;tt<B.length;++tt){var Nt=B[tt];if(Nt&&!Nt.da&&Nt.capture==X){var Or=Nt.listener,Yr=Nt.ha||Nt.src;Nt.fa&&W(A.i,Nt),Ue=Or.call(Yr,ue)!==!1&&Ue}}return Ue&&!ue.defaultPrevented}function kt(A,B,X){if(typeof A=="function")X&&(A=h(A,X));else if(A&&typeof A.handleEvent=="function")A=h(A.handleEvent,A);else throw Error("Invalid listener argument");return 2147483647<Number(B)?-1:o.setTimeout(A,B||0)}function _t(A){A.g=kt(()=>{A.g=null,A.i&&(A.i=!1,_t(A))},A.l);const B=A.h;A.h=null,A.m.apply(null,B)}class ct extends k{constructor(B,X){super(),this.m=B,this.l=X,this.h=null,this.i=!1,this.g=null}j(B){this.h=arguments,this.g?this.i=!0:_t(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tr(A){k.call(this),this.h=A,this.g={}}g(tr,k);var Wt=[];function Hr(A){j(A.g,function(B,X){this.g.hasOwnProperty(X)&&$e(B)},A),A.g={}}tr.prototype.N=function(){tr.aa.N.call(this),Hr(this)},tr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var lr=o.JSON.stringify,qr=o.JSON.parse,Ie=class{stringify(A){return o.JSON.stringify(A,void 0)}parse(A){return o.JSON.parse(A,void 0)}};function Me(){}Me.prototype.h=null;function Ke(A){return A.h||(A.h=A.i())}function ht(){}var Dt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ht(){R.call(this,"d")}g(Ht,R);function Mt(){R.call(this,"c")}g(Mt,R);var Ot={},Zt=null;function br(){return Zt=Zt||new nt}Ot.La="serverreachability";function wr(A){R.call(this,Ot.La,A)}g(wr,R);function Te(A){const B=br();ut(B,new wr(B))}Ot.STAT_EVENT="statevent";function st(A,B){R.call(this,Ot.STAT_EVENT,A),this.stat=B}g(st,R);function He(A){const B=br();ut(B,new st(B,A))}Ot.Ma="timingevent";function er(A,B){R.call(this,Ot.Ma,A),this.size=B}g(er,R);function sr(A,B){if(typeof A!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){A()},B)}function Lr(){this.g=!0}Lr.prototype.xa=function(){this.g=!1};function _r(A,B,X,ue,Ue,tt){A.info(function(){if(A.g)if(tt)for(var Nt="",Or=tt.split("&"),Yr=0;Yr<Or.length;Yr++){var Ir=Or[Yr].split("=");if(1<Ir.length){var _n=Ir[0];Ir=Ir[1];var In=_n.split("_");Nt=2<=In.length&&In[1]=="type"?Nt+(_n+"="+Ir+"&"):Nt+(_n+"=redacted&")}}else Nt=null;else Nt=tt;return"XMLHTTP REQ ("+ue+") [attempt "+Ue+"]: "+B+`
`+X+`
`+Nt})}function Ur(A,B,X,ue,Ue,tt,Nt){A.info(function(){return"XMLHTTP RESP ("+ue+") [ attempt "+Ue+"]: "+B+`
`+X+`
`+tt+" "+Nt})}function ae(A,B,X,ue){A.info(function(){return"XMLHTTP TEXT ("+B+"): "+me(A,X)+(ue?" "+ue:"")})}function be(A,B){A.info(function(){return"TIMEOUT: "+B})}Lr.prototype.info=function(){};function me(A,B){if(!A.g)return B;if(!B)return null;try{var X=JSON.parse(B);if(X){for(A=0;A<X.length;A++)if(Array.isArray(X[A])){var ue=X[A];if(!(2>ue.length)){var Ue=ue[1];if(Array.isArray(Ue)&&!(1>Ue.length)){var tt=Ue[0];if(tt!="noop"&&tt!="stop"&&tt!="close")for(var Nt=1;Nt<Ue.length;Nt++)Ue[Nt]=""}}}}return lr(X)}catch{return B}}var ge={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},we;function Ge(){}g(Ge,Me),Ge.prototype.g=function(){return new XMLHttpRequest},Ge.prototype.i=function(){return{}},we=new Ge;function rt(A,B,X,ue){this.j=A,this.i=B,this.l=X,this.R=ue||1,this.U=new tr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new We}function We(){this.i=null,this.g="",this.h=!1}var Qe={},Je={};function St(A,B,X){A.L=1,A.v=ws(ea(B)),A.m=X,A.P=!0,jt(A,null)}function jt(A,B){A.F=Date.now(),Rt(A),A.A=ea(A.v);var X=A.A,ue=A.R;Array.isArray(ue)||(ue=[String(ue)]),Ar(X.i,"t",ue),A.C=0,X=A.j.J,A.h=new We,A.g=te(A.j,X?B:null,!A.m),0<A.O&&(A.M=new ct(h(A.Y,A,A.g),A.O)),B=A.U,X=A.g,ue=A.ca;var Ue="readystatechange";Array.isArray(Ue)||(Ue&&(Wt[0]=Ue.toString()),Ue=Wt);for(var tt=0;tt<Ue.length;tt++){var Nt=ie(X,Ue[tt],ue||B.handleEvent,!1,B.h||B);if(!Nt)break;B.g[Nt.key]=Nt}B=A.H?_(A.H):{},A.m?(A.u||(A.u="POST"),B["Content-Type"]="application/x-www-form-urlencoded",A.g.ea(A.A,A.u,A.m,B)):(A.u="GET",A.g.ea(A.A,A.u,null,B)),Te(),_r(A.i,A.u,A.A,A.l,A.R,A.m)}rt.prototype.ca=function(A){A=A.target;const B=this.M;B&&Ra(A)==3?B.j():this.Y(A)},rt.prototype.Y=function(A){try{if(A==this.g)e:{const In=Ra(this.g);var B=this.g.Ba();const Xo=this.g.Z();if(!(3>In)&&(In!=3||this.g&&(this.h.h||this.g.oa()||$h(this.g)))){this.J||In!=4||B==7||(B==8||0>=Xo?Te(3):Te(2)),Gr(this);var X=this.g.Z();this.X=X;t:if(Bt(this)){var ue=$h(this.g);A="";var Ue=ue.length,tt=Ra(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xn(this),Kr(this);var Nt="";break t}this.h.i=new o.TextDecoder}for(B=0;B<Ue;B++)this.h.h=!0,A+=this.h.i.decode(ue[B],{stream:!(tt&&B==Ue-1)});ue.length=0,this.h.g+=A,this.C=0,Nt=this.h.g}else Nt=this.g.oa();if(this.o=X==200,Ur(this.i,this.u,this.A,this.l,this.R,In,X),this.o){if(this.T&&!this.K){t:{if(this.g){var Or,Yr=this.g;if((Or=Yr.g?Yr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(Or)){var Ir=Or;break t}}Ir=null}if(X=Ir)ae(this.i,this.l,X,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ka(this,X);else{this.o=!1,this.s=3,He(12),xn(this),Kr(this);break e}}if(this.P){X=!0;let ci;for(;!this.J&&this.C<Nt.length;)if(ci=Pt(this,Nt),ci==Je){In==4&&(this.s=4,He(14),X=!1),ae(this.i,this.l,null,"[Incomplete Response]");break}else if(ci==Qe){this.s=4,He(15),ae(this.i,this.l,Nt,"[Invalid Chunk]"),X=!1;break}else ae(this.i,this.l,ci,null),Ka(this,ci);if(Bt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),In!=4||Nt.length!=0||this.h.h||(this.s=1,He(16),X=!1),this.o=this.o&&X,!X)ae(this.i,this.l,Nt,"[Invalid Chunked Response]"),xn(this),Kr(this);else if(0<Nt.length&&!this.W){this.W=!0;var _n=this.j;_n.g==this&&_n.ba&&!_n.M&&(_n.j.info("Great, no buffering proxy detected. Bytes received: "+Nt.length),Tu(_n),_n.M=!0,He(11))}}else ae(this.i,this.l,Nt,null),Ka(this,Nt);In==4&&xn(this),this.o&&!this.J&&(In==4?Ll(this.j,this):(this.o=!1,Rt(this)))}else jl(this.g),X==400&&0<Nt.indexOf("Unknown SID")?(this.s=3,He(12)):(this.s=0,He(13)),xn(this),Kr(this)}}}catch{}finally{}};function Bt(A){return A.g?A.u=="GET"&&A.L!=2&&A.j.Ca:!1}function Pt(A,B){var X=A.C,ue=B.indexOf(`
`,X);return ue==-1?Je:(X=Number(B.substring(X,ue)),isNaN(X)?Qe:(ue+=1,ue+X>B.length?Je:(B=B.slice(ue,ue+X),A.C=ue+X,B)))}rt.prototype.cancel=function(){this.J=!0,xn(this)};function Rt(A){A.S=Date.now()+A.I,dr(A,A.I)}function dr(A,B){if(A.B!=null)throw Error("WatchDog timer not null");A.B=sr(h(A.ba,A),B)}function Gr(A){A.B&&(o.clearTimeout(A.B),A.B=null)}rt.prototype.ba=function(){this.B=null;const A=Date.now();0<=A-this.S?(be(this.i,this.A),this.L!=2&&(Te(),He(17)),xn(this),this.s=2,Kr(this)):dr(this,this.S-A)};function Kr(A){A.j.G==0||A.J||Ll(A.j,A)}function xn(A){Gr(A);var B=A.M;B&&typeof B.ma=="function"&&B.ma(),A.M=null,Hr(A.U),A.g&&(B=A.g,A.g=null,B.abort(),B.ma())}function Ka(A,B){try{var X=A.j;if(X.G!=0&&(X.g==A||Ft(X.h,A))){if(!A.K&&Ft(X.h,A)&&X.G==3){try{var ue=X.Da.g.parse(B)}catch{ue=null}if(Array.isArray(ue)&&ue.length==3){var Ue=ue;if(Ue[0]==0){e:if(!X.u){if(X.g)if(X.g.F+3e3<A.F)Yo(X),_u(X);else break e;mc(X),He(18)}}else X.za=Ue[1],0<X.za-X.T&&37500>Ue[2]&&X.F&&X.v==0&&!X.C&&(X.C=sr(h(X.Za,X),6e3));if(1>=wt(X.h)&&X.ca){try{X.ca()}catch{}X.ca=void 0}}else ki(X,11)}else if((A.K||X.g==A)&&Yo(X),!b(B))for(Ue=X.Da.g.parse(B),B=0;B<Ue.length;B++){let Ir=Ue[B];if(X.T=Ir[0],Ir=Ir[1],X.G==2)if(Ir[0]=="c"){X.K=Ir[1],X.ia=Ir[2];const _n=Ir[3];_n!=null&&(X.la=_n,X.j.info("VER="+X.la));const In=Ir[4];In!=null&&(X.Aa=In,X.j.info("SVER="+X.Aa));const Xo=Ir[5];Xo!=null&&typeof Xo=="number"&&0<Xo&&(ue=1.5*Xo,X.L=ue,X.j.info("backChannelRequestTimeoutMs_="+ue)),ue=X;const ci=A.g;if(ci){const Ml=ci.g?ci.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ml){var tt=ue.h;tt.g||Ml.indexOf("spdy")==-1&&Ml.indexOf("quic")==-1&&Ml.indexOf("h2")==-1||(tt.j=tt.l,tt.g=new Set,tt.h&&(ft(tt,tt.h),tt.h=null))}if(ue.D){const Rl=ci.g?ci.g.getResponseHeader("X-HTTP-Session-Id"):null;Rl&&(ue.ya=Rl,kr(ue.I,ue.D,Rl))}}X.G=3,X.l&&X.l.ua(),X.ba&&(X.R=Date.now()-A.F,X.j.info("Handshake RTT: "+X.R+"ms")),ue=X;var Nt=A;if(ue.qa=L(ue,ue.J?ue.ia:null,ue.W),Nt.K){yt(ue.h,Nt);var Or=Nt,Yr=ue.L;Yr&&(Or.I=Yr),Or.B&&(Gr(Or),Rt(Or)),ue.g=Nt}else Eu(ue);0<X.i.length&&Su(X)}else Ir[0]!="stop"&&Ir[0]!="close"||ki(X,7);else X.G==3&&(Ir[0]=="stop"||Ir[0]=="close"?Ir[0]=="stop"?ki(X,7):Ko(X):Ir[0]!="noop"&&X.l&&X.l.ta(Ir),X.v=0)}}Te(4)}catch{}}var Bs=class{constructor(A,B){this.g=A,this.map=B}};function de(A){this.l=A||10,o.PerformanceNavigationTiming?(A=o.performance.getEntriesByType("navigation"),A=0<A.length&&(A[0].nextHopProtocol=="hq"||A[0].nextHopProtocol=="h2")):A=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=A?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Pe(A){return A.h?!0:A.g?A.g.size>=A.j:!1}function wt(A){return A.h?1:A.g?A.g.size:0}function Ft(A,B){return A.h?A.h==B:A.g?A.g.has(B):!1}function ft(A,B){A.g?A.g.add(B):A.h=B}function yt(A,B){A.h&&A.h==B?A.h=null:A.g&&A.g.has(B)&&A.g.delete(B)}de.prototype.cancel=function(){if(this.i=Lt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const A of this.g.values())A.cancel();this.g.clear()}};function Lt(A){if(A.h!=null)return A.i.concat(A.h.D);if(A.g!=null&&A.g.size!==0){let B=A.i;for(const X of A.g.values())B=B.concat(X.D);return B}return m(A.i)}function Gt(A){if(A.V&&typeof A.V=="function")return A.V();if(typeof Map<"u"&&A instanceof Map||typeof Set<"u"&&A instanceof Set)return Array.from(A.values());if(typeof A=="string")return A.split("");if(l(A)){for(var B=[],X=A.length,ue=0;ue<X;ue++)B.push(A[ue]);return B}B=[],X=0;for(ue in A)B[X++]=A[ue];return B}function rr(A){if(A.na&&typeof A.na=="function")return A.na();if(!A.V||typeof A.V!="function"){if(typeof Map<"u"&&A instanceof Map)return Array.from(A.keys());if(!(typeof Set<"u"&&A instanceof Set)){if(l(A)||typeof A=="string"){var B=[];A=A.length;for(var X=0;X<A;X++)B.push(X);return B}B=[],X=0;for(const ue in A)B[X++]=ue;return B}}}function Nr(A,B){if(A.forEach&&typeof A.forEach=="function")A.forEach(B,void 0);else if(l(A)||typeof A=="string")Array.prototype.forEach.call(A,B,void 0);else for(var X=rr(A),ue=Gt(A),Ue=ue.length,tt=0;tt<Ue;tt++)B.call(void 0,ue[tt],X&&X[tt],A)}var Sr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bn(A,B){if(A){A=A.split("&");for(var X=0;X<A.length;X++){var ue=A[X].indexOf("="),Ue=null;if(0<=ue){var tt=A[X].substring(0,ue);Ue=A[X].substring(ue+1)}else tt=A[X];B(tt,Ue?decodeURIComponent(Ue.replace(/\+/g," ")):"")}}}function tn(A){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,A instanceof tn){this.h=A.h,cn(this,A.j),this.o=A.o,this.g=A.g,ta(this,A.s),this.l=A.l;var B=A.i,X=new Ol;X.i=B.i,B.g&&(X.g=new Map(B.g),X.h=B.h),rs(this,X),this.m=A.m}else A&&(B=String(A).match(Sr))?(this.h=!1,cn(this,B[1]||"",!0),this.o=qo(B[2]||""),this.g=qo(B[3]||"",!0),ta(this,B[4]),this.l=qo(B[5]||"",!0),rs(this,B[6]||"",!0),this.m=qo(B[7]||"")):(this.h=!1,this.i=new Ol(null,this.h))}tn.prototype.toString=function(){var A=[],B=this.j;B&&A.push(Us(B,Lh,!0),":");var X=this.g;return(X||B=="file")&&(A.push("//"),(B=this.o)&&A.push(Us(B,Lh,!0),"@"),A.push(encodeURIComponent(String(X)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),X=this.s,X!=null&&A.push(":",String(X))),(X=this.l)&&(this.g&&X.charAt(0)!="/"&&A.push("/"),A.push(Us(X,X.charAt(0)=="/"?Wo:Em,!0))),(X=this.i.toString())&&A.push("?",X),(X=this.m)&&A.push("#",Us(X,gu)),A.join("")};function ea(A){return new tn(A)}function cn(A,B,X){A.j=X?qo(B,!0):B,A.j&&(A.j=A.j.replace(/:$/,""))}function ta(A,B){if(B){if(B=Number(B),isNaN(B)||0>B)throw Error("Bad port number "+B);A.s=B}else A.s=null}function rs(A,B,X){B instanceof Ol?(A.i=B,Tm(A.i,A.h)):(X||(B=Us(B,mu)),A.i=new Ol(B,A.h))}function kr(A,B,X){A.i.set(B,X)}function ws(A){return kr(A,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),A}function qo(A,B){return A?B?decodeURI(A.replace(/%25/g,"%2525")):decodeURIComponent(A):""}function Us(A,B,X){return typeof A=="string"?(A=encodeURI(A).replace(B,Am),X&&(A=A.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A):null}function Am(A){return A=A.charCodeAt(0),"%"+(A>>4&15).toString(16)+(A&15).toString(16)}var Lh=/[#\/\?@]/g,Em=/[#\?:]/g,Wo=/[#\?]/g,mu=/[#\?@]/g,gu=/#/g;function Ol(A,B){this.h=this.g=null,this.i=A||null,this.j=!!B}function Vn(A){A.g||(A.g=new Map,A.h=0,A.i&&bn(A.i,function(B,X){A.add(decodeURIComponent(B.replace(/\+/g," ")),X)}))}e=Ol.prototype,e.add=function(A,B){Vn(this),this.i=null,A=Il(this,A);var X=this.g.get(A);return X||this.g.set(A,X=[]),X.push(B),this.h+=1,this};function Mh(A,B){Vn(A),B=Il(A,B),A.g.has(B)&&(A.i=null,A.h-=A.g.get(B).length,A.g.delete(B))}function ad(A,B){return Vn(A),B=Il(A,B),A.g.has(B)}e.forEach=function(A,B){Vn(this),this.g.forEach(function(X,ue){X.forEach(function(Ue){A.call(B,Ue,ue,this)},this)},this)},e.na=function(){Vn(this);const A=Array.from(this.g.values()),B=Array.from(this.g.keys()),X=[];for(let ue=0;ue<B.length;ue++){const Ue=A[ue];for(let tt=0;tt<Ue.length;tt++)X.push(B[ue])}return X},e.V=function(A){Vn(this);let B=[];if(typeof A=="string")ad(this,A)&&(B=B.concat(this.g.get(Il(this,A))));else{A=Array.from(this.g.values());for(let X=0;X<A.length;X++)B=B.concat(A[X])}return B},e.set=function(A,B){return Vn(this),this.i=null,A=Il(this,A),ad(this,A)&&(this.h-=this.g.get(A).length),this.g.set(A,[B]),this.h+=1,this},e.get=function(A,B){return A?(A=this.V(A),0<A.length?String(A[0]):B):B};function Ar(A,B,X){Mh(A,B),0<X.length&&(A.i=null,A.g.set(Il(A,B),m(X)),A.h+=X.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const A=[],B=Array.from(this.g.keys());for(var X=0;X<B.length;X++){var ue=B[X];const tt=encodeURIComponent(String(ue)),Nt=this.V(ue);for(ue=0;ue<Nt.length;ue++){var Ue=tt;Nt[ue]!==""&&(Ue+="="+encodeURIComponent(String(Nt[ue]))),A.push(Ue)}}return this.i=A.join("&")};function Il(A,B){return B=String(B),A.j&&(B=B.toLowerCase()),B}function Tm(A,B){B&&!A.j&&(Vn(A),A.i=null,A.g.forEach(function(X,ue){var Ue=ue.toLowerCase();ue!=Ue&&(Mh(this,ue),Ar(this,Ue,X))},A)),A.j=B}function uo(A,B){const X=new Lr;if(o.Image){const ue=new Image;ue.onload=p(Vs,X,"TestLoadImage: loaded",!0,B,ue),ue.onerror=p(Vs,X,"TestLoadImage: error",!1,B,ue),ue.onabort=p(Vs,X,"TestLoadImage: abort",!1,B,ue),ue.ontimeout=p(Vs,X,"TestLoadImage: timeout",!1,B,ue),o.setTimeout(function(){ue.ontimeout&&ue.ontimeout()},1e4),ue.src=A}else B(!1)}function Rh(A,B){const X=new Lr,ue=new AbortController,Ue=setTimeout(()=>{ue.abort(),Vs(X,"TestPingServer: timeout",!1,B)},1e4);fetch(A,{signal:ue.signal}).then(tt=>{clearTimeout(Ue),tt.ok?Vs(X,"TestPingServer: ok",!0,B):Vs(X,"TestPingServer: server error",!1,B)}).catch(()=>{clearTimeout(Ue),Vs(X,"TestPingServer: error",!1,B)})}function Vs(A,B,X,ue,Ue){try{Ue&&(Ue.onload=null,Ue.onerror=null,Ue.onabort=null,Ue.ontimeout=null),ue(X)}catch{}}function vu(){this.g=new Ie}function id(A,B,X){const ue=X||"";try{Nr(A,function(Ue,tt){let Nt=Ue;c(Ue)&&(Nt=lr(Ue)),B.push(ue+tt+"="+encodeURIComponent(Nt))})}catch(Ue){throw B.push(ue+"type="+encodeURIComponent("_badmap")),Ue}}function yu(A){this.l=A.Ub||null,this.j=A.eb||!1}g(yu,Me),yu.prototype.g=function(){return new xu(this.l,this.j)},yu.prototype.i=function(A){return function(){return A}}({});function xu(A,B){nt.call(this),this.D=A,this.o=B,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(xu,nt),e=xu.prototype,e.open=function(A,B){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=A,this.A=B,this.readyState=1,zs(this)},e.send=function(A){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const B={headers:this.u,method:this.B,credentials:this.m,cache:void 0};A&&(B.body=A),(this.D||o).fetch(new Request(this.A,B)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ho(this)),this.readyState=0},e.Sa=function(A){if(this.g&&(this.l=A,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=A.headers,this.readyState=2,zs(this)),this.g&&(this.readyState=3,zs(this),this.g)))if(this.responseType==="arraybuffer")A.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in A){if(this.j=A.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fh(this)}else A.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fh(A){A.j.read().then(A.Pa.bind(A)).catch(A.ga.bind(A))}e.Pa=function(A){if(this.g){if(this.o&&A.value)this.response.push(A.value);else if(!this.o){var B=A.value?A.value:new Uint8Array(0);(B=this.v.decode(B,{stream:!A.done}))&&(this.response=this.responseText+=B)}A.done?Ho(this):zs(this),this.readyState==3&&Fh(this)}},e.Ra=function(A){this.g&&(this.response=this.responseText=A,Ho(this))},e.Qa=function(A){this.g&&(this.response=A,Ho(this))},e.ga=function(){this.g&&Ho(this)};function Ho(A){A.readyState=4,A.l=null,A.j=null,A.v=null,zs(A)}e.setRequestHeader=function(A,B){this.u.append(A,B)},e.getResponseHeader=function(A){return this.h&&this.h.get(A.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const A=[],B=this.h.entries();for(var X=B.next();!X.done;)X=X.value,A.push(X[0]+": "+X[1]),X=B.next();return A.join(`\r
`)};function zs(A){A.onreadystatechange&&A.onreadystatechange.call(A)}Object.defineProperty(xu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(A){this.m=A?"include":"same-origin"}});function Go(A){let B="";return j(A,function(X,ue){B+=ue,B+=":",B+=X,B+=`\r
`}),B}function sd(A,B,X){e:{for(ue in X){var ue=!1;break e}ue=!0}ue||(X=Go(X),typeof A=="string"?X!=null&&encodeURIComponent(String(X)):kr(A,B,X))}function wn(A){nt.call(this),this.headers=new Map,this.o=A||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(wn,nt);var od=/^https?$/i,bu=["POST","PUT"];e=wn.prototype,e.Ha=function(A){this.J=A},e.ea=function(A,B,X,ue){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+A);B=B?B.toUpperCase():"GET",this.D=A,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():we.g(),this.v=this.o?Ke(this.o):Ke(we),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(B,String(A),!0),this.B=!1}catch(tt){ld(this,tt);return}if(A=X||"",X=new Map(this.headers),ue)if(Object.getPrototypeOf(ue)===Object.prototype)for(var Ue in ue)X.set(Ue,ue[Ue]);else if(typeof ue.keys=="function"&&typeof ue.get=="function")for(const tt of ue.keys())X.set(tt,ue.get(tt));else throw Error("Unknown input type for opt_headers: "+String(ue));ue=Array.from(X.keys()).find(tt=>tt.toLowerCase()=="content-type"),Ue=o.FormData&&A instanceof o.FormData,!(0<=Array.prototype.indexOf.call(bu,B,void 0))||ue||Ue||X.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[tt,Nt]of X)this.g.setRequestHeader(tt,Nt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qs(this),this.u=!0,this.g.send(A),this.u=!1}catch(tt){ld(this,tt)}};function ld(A,B){A.h=!1,A.g&&(A.j=!0,A.g.abort(),A.j=!1),A.l=B,A.m=5,cd(A),dc(A)}function cd(A){A.A||(A.A=!0,ut(A,"complete"),ut(A,"error"))}e.abort=function(A){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=A||7,ut(this,"complete"),ut(this,"abort"),dc(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dc(this,!0)),wn.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?ud(this):this.bb())},e.bb=function(){ud(this)};function ud(A){if(A.h&&typeof s<"u"&&(!A.v[1]||Ra(A)!=4||A.Z()!=2)){if(A.u&&Ra(A)==4)kt(A.Ea,0,A);else if(ut(A,"readystatechange"),Ra(A)==4){A.h=!1;try{const Nt=A.Z();e:switch(Nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var B=!0;break e;default:B=!1}var X;if(!(X=B)){var ue;if(ue=Nt===0){var Ue=String(A.D).match(Sr)[1]||null;!Ue&&o.self&&o.self.location&&(Ue=o.self.location.protocol.slice(0,-1)),ue=!od.test(Ue?Ue.toLowerCase():"")}X=ue}if(X)ut(A,"complete"),ut(A,"success");else{A.m=6;try{var tt=2<Ra(A)?A.g.statusText:""}catch{tt=""}A.l=tt+" ["+A.Z()+"]",cd(A)}}finally{dc(A)}}}}function dc(A,B){if(A.g){qs(A);const X=A.g,ue=A.v[0]?()=>{}:null;A.g=null,A.v=null,B||ut(A,"ready");try{X.onreadystatechange=ue}catch{}}}function qs(A){A.I&&(o.clearTimeout(A.I),A.I=null)}e.isActive=function(){return!!this.g};function Ra(A){return A.g?A.g.readyState:0}e.Z=function(){try{return 2<Ra(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(A){if(this.g){var B=this.g.responseText;return A&&B.indexOf(A)==0&&(B=B.substring(A.length)),qr(B)}};function $h(A){try{if(!A.g)return null;if("response"in A.g)return A.g.response;switch(A.H){case"":case"text":return A.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in A.g)return A.g.mozResponseArrayBuffer}return null}catch{return null}}function jl(A){const B={};A=(A.g&&2<=Ra(A)&&A.g.getAllResponseHeaders()||"").split(`\r
`);for(let ue=0;ue<A.length;ue++){if(b(A[ue]))continue;var X=T(A[ue]);const Ue=X[0];if(X=X[1],typeof X!="string")continue;X=X.trim();const tt=B[Ue]||[];B[Ue]=tt,tt.push(X)}E(B,function(ue){return ue.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function li(A,B,X){return X&&X.internalChannelParams&&X.internalChannelParams[A]||B}function wu(A){this.Aa=0,this.i=[],this.j=new Lr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=li("failFast",!1,A),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=li("baseRetryDelayMs",5e3,A),this.cb=li("retryDelaySeedMs",1e4,A),this.Wa=li("forwardChannelMaxRetries",2,A),this.wa=li("forwardChannelRequestTimeoutMs",2e4,A),this.pa=A&&A.xmlHttpFactory||void 0,this.Xa=A&&A.Tb||void 0,this.Ca=A&&A.useFetchStreams||!1,this.L=void 0,this.J=A&&A.supportsCrossDomainXhr||!1,this.K="",this.h=new de(A&&A.concurrentRequestLimit),this.Da=new vu,this.P=A&&A.fastHandshake||!1,this.O=A&&A.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=A&&A.Rb||!1,A&&A.xa&&this.j.xa(),A&&A.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&A&&A.detectBufferingProxy||!1,this.ja=void 0,A&&A.longPollingTimeout&&0<A.longPollingTimeout&&(this.ja=A.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=wu.prototype,e.la=8,e.G=1,e.connect=function(A,B,X,ue){He(0),this.W=A,this.H=B||{},X&&ue!==void 0&&(this.H.OSID=X,this.H.OAID=ue),this.F=this.X,this.I=L(this,null,this.W),Su(this)};function Ko(A){if(hc(A),A.G==3){var B=A.U++,X=ea(A.I);if(kr(X,"SID",A.K),kr(X,"RID",B),kr(X,"TYPE","terminate"),Dl(A,X),B=new rt(A,A.j,B),B.L=2,B.v=ws(ea(X)),X=!1,o.navigator&&o.navigator.sendBeacon)try{X=o.navigator.sendBeacon(B.v.toString(),"")}catch{}!X&&o.Image&&(new Image().src=B.v,X=!0),X||(B.g=te(B.j,null),B.g.ea(B.v)),B.F=Date.now(),Rt(B)}ku(A)}function _u(A){A.g&&(Tu(A),A.g.cancel(),A.g=null)}function hc(A){_u(A),A.u&&(o.clearTimeout(A.u),A.u=null),Yo(A),A.h.cancel(),A.s&&(typeof A.s=="number"&&o.clearTimeout(A.s),A.s=null)}function Su(A){if(!Pe(A.h)&&!A.s){A.s=!0;var B=A.Ga;J||ee(),q||(J(),q=!0),V.add(B,A),A.B=0}}function fd(A,B){return wt(A.h)>=A.h.j-(A.s?1:0)?!1:A.s?(A.i=B.D.concat(A.i),!0):A.G==1||A.G==2||A.B>=(A.Va?0:A.Wa)?!1:(A.s=sr(h(A.Ga,A,B),Nu(A,A.B)),A.B++,!0)}e.Ga=function(A){if(this.s)if(this.s=null,this.G==1){if(!A){this.U=Math.floor(1e5*Math.random()),A=this.U++;const Ue=new rt(this,this.j,A);let tt=this.o;if(this.S&&(tt?(tt=_(tt),I(tt,this.S)):tt=this.S),this.m!==null||this.O||(Ue.H=tt,tt=null),this.P)e:{for(var B=0,X=0;X<this.i.length;X++){t:{var ue=this.i[X];if("__data__"in ue.map&&(ue=ue.map.__data__,typeof ue=="string")){ue=ue.length;break t}ue=void 0}if(ue===void 0)break;if(B+=ue,4096<B){B=X;break e}if(B===4096||X===this.i.length-1){B=X+1;break e}}B=1e3}else B=1e3;B=pc(this,Ue,B),X=ea(this.I),kr(X,"RID",A),kr(X,"CVER",22),this.D&&kr(X,"X-HTTP-Session-Id",this.D),Dl(this,X),tt&&(this.O?B="headers="+encodeURIComponent(String(Go(tt)))+"&"+B:this.m&&sd(X,this.m,tt)),ft(this.h,Ue),this.Ua&&kr(X,"TYPE","init"),this.P?(kr(X,"$req",B),kr(X,"SID","null"),Ue.T=!0,St(Ue,X,null)):St(Ue,X,B),this.G=2}}else this.G==3&&(A?Au(this,A):this.i.length==0||Pe(this.h)||Au(this))};function Au(A,B){var X;B?X=B.l:X=A.U++;const ue=ea(A.I);kr(ue,"SID",A.K),kr(ue,"RID",X),kr(ue,"AID",A.T),Dl(A,ue),A.m&&A.o&&sd(ue,A.m,A.o),X=new rt(A,A.j,X,A.B+1),A.m===null&&(X.H=A.o),B&&(A.i=B.D.concat(A.i)),B=pc(A,X,1e3),X.I=Math.round(.5*A.wa)+Math.round(.5*A.wa*Math.random()),ft(A.h,X),St(X,ue,B)}function Dl(A,B){A.H&&j(A.H,function(X,ue){kr(B,ue,X)}),A.l&&Nr({},function(X,ue){kr(B,ue,X)})}function pc(A,B,X){X=Math.min(A.i.length,X);var ue=A.l?h(A.l.Na,A.l,A):null;e:{var Ue=A.i;let tt=-1;for(;;){const Nt=["count="+X];tt==-1?0<X?(tt=Ue[0].g,Nt.push("ofs="+tt)):tt=0:Nt.push("ofs="+tt);let Or=!0;for(let Yr=0;Yr<X;Yr++){let Ir=Ue[Yr].g;const _n=Ue[Yr].map;if(Ir-=tt,0>Ir)tt=Math.max(0,Ue[Yr].g-100),Or=!1;else try{id(_n,Nt,"req"+Ir+"_")}catch{ue&&ue(_n)}}if(Or){ue=Nt.join("&");break e}}}return A=A.i.splice(0,X),B.D=A,ue}function Eu(A){if(!A.g&&!A.u){A.Y=1;var B=A.Fa;J||ee(),q||(J(),q=!0),V.add(B,A),A.v=0}}function mc(A){return A.g||A.u||3<=A.v?!1:(A.Y++,A.u=sr(h(A.Fa,A),Nu(A,A.v)),A.v++,!0)}e.Fa=function(){if(this.u=null,Bh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var A=2*this.R;this.j.info("BP detection timer enabled: "+A),this.A=sr(h(this.ab,this),A)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,He(10),_u(this),Bh(this))};function Tu(A){A.A!=null&&(o.clearTimeout(A.A),A.A=null)}function Bh(A){A.g=new rt(A,A.j,"rpc",A.Y),A.m===null&&(A.g.H=A.o),A.g.O=0;var B=ea(A.qa);kr(B,"RID","rpc"),kr(B,"SID",A.K),kr(B,"AID",A.T),kr(B,"CI",A.F?"0":"1"),!A.F&&A.ja&&kr(B,"TO",A.ja),kr(B,"TYPE","xmlhttp"),Dl(A,B),A.m&&A.o&&sd(B,A.m,A.o),A.L&&(A.g.I=A.L);var X=A.g;A=A.ia,X.L=1,X.v=ws(ea(B)),X.m=null,X.P=!0,jt(X,A)}e.Za=function(){this.C!=null&&(this.C=null,_u(this),mc(this),He(19))};function Yo(A){A.C!=null&&(o.clearTimeout(A.C),A.C=null)}function Ll(A,B){var X=null;if(A.g==B){Yo(A),Tu(A),A.g=null;var ue=2}else if(Ft(A.h,B))X=B.D,yt(A.h,B),ue=1;else return;if(A.G!=0){if(B.o)if(ue==1){X=B.m?B.m.length:0,B=Date.now()-B.F;var Ue=A.B;ue=br(),ut(ue,new er(ue,X)),Su(A)}else Eu(A);else if(Ue=B.s,Ue==3||Ue==0&&0<B.X||!(ue==1&&fd(A,B)||ue==2&&mc(A)))switch(X&&0<X.length&&(B=A.h,B.i=B.i.concat(X)),Ue){case 1:ki(A,5);break;case 4:ki(A,10);break;case 3:ki(A,6);break;default:ki(A,2)}}}function Nu(A,B){let X=A.Ta+Math.floor(Math.random()*A.cb);return A.isActive()||(X*=2),X*B}function ki(A,B){if(A.j.info("Error code "+B),B==2){var X=h(A.fb,A),ue=A.Xa;const Ue=!ue;ue=new tn(ue||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||cn(ue,"https"),ws(ue),Ue?uo(ue.toString(),X):Rh(ue.toString(),X)}else He(2);A.G=0,A.l&&A.l.sa(B),ku(A),hc(A)}e.fb=function(A){A?(this.j.info("Successfully pinged google.com"),He(2)):(this.j.info("Failed to ping google.com"),He(1))};function ku(A){if(A.G=0,A.ka=[],A.l){const B=Lt(A.h);(B.length!=0||A.i.length!=0)&&(y(A.ka,B),y(A.ka,A.i),A.h.i.length=0,m(A.i),A.i.length=0),A.l.ra()}}function L(A,B,X){var ue=X instanceof tn?ea(X):new tn(X);if(ue.g!="")B&&(ue.g=B+"."+ue.g),ta(ue,ue.s);else{var Ue=o.location;ue=Ue.protocol,B=B?B+"."+Ue.hostname:Ue.hostname,Ue=+Ue.port;var tt=new tn(null);ue&&cn(tt,ue),B&&(tt.g=B),Ue&&ta(tt,Ue),X&&(tt.l=X),ue=tt}return X=A.D,B=A.ya,X&&B&&kr(ue,X,B),kr(ue,"VER",A.la),Dl(A,ue),ue}function te(A,B,X){if(B&&!A.J)throw Error("Can't create secondary domain capable XhrIo object.");return B=A.Ca&&!A.pa?new wn(new yu({eb:X})):new wn(A.pa),B.Ha(A.J),B}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ae(){}e=Ae.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Oe(){}Oe.prototype.g=function(A,B){return new Ve(A,B)};function Ve(A,B){nt.call(this),this.g=new wu(B),this.l=A,this.h=B&&B.messageUrlParams||null,A=B&&B.messageHeaders||null,B&&B.clientProtocolHeaderRequired&&(A?A["X-Client-Protocol"]="webchannel":A={"X-Client-Protocol":"webchannel"}),this.g.o=A,A=B&&B.initMessageHeaders||null,B&&B.messageContentType&&(A?A["X-WebChannel-Content-Type"]=B.messageContentType:A={"X-WebChannel-Content-Type":B.messageContentType}),B&&B.va&&(A?A["X-WebChannel-Client-Profile"]=B.va:A={"X-WebChannel-Client-Profile":B.va}),this.g.S=A,(A=B&&B.Sb)&&!b(A)&&(this.g.m=A),this.v=B&&B.supportsCrossDomainXhr||!1,this.u=B&&B.sendRawJson||!1,(B=B&&B.httpSessionIdParam)&&!b(B)&&(this.g.D=B,A=this.h,A!==null&&B in A&&(A=this.h,B in A&&delete A[B])),this.j=new Vt(this)}g(Ve,nt),Ve.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ve.prototype.close=function(){Ko(this.g)},Ve.prototype.o=function(A){var B=this.g;if(typeof A=="string"){var X={};X.__data__=A,A=X}else this.u&&(X={},X.__data__=lr(A),A=X);B.i.push(new Bs(B.Ya++,A)),B.G==3&&Su(B)},Ve.prototype.N=function(){this.g.l=null,delete this.j,Ko(this.g),delete this.g,Ve.aa.N.call(this)};function lt(A){Ht.call(this),A.__headers__&&(this.headers=A.__headers__,this.statusCode=A.__status__,delete A.__headers__,delete A.__status__);var B=A.__sm__;if(B){e:{for(const X in B){A=X;break e}A=void 0}(this.i=A)&&(A=this.i,B=B!==null&&A in B?B[A]:void 0),this.data=B}else this.data=A}g(lt,Ht);function Et(){Mt.call(this),this.status=1}g(Et,Mt);function Vt(A){this.g=A}g(Vt,Ae),Vt.prototype.ua=function(){ut(this.g,"a")},Vt.prototype.ta=function(A){ut(this.g,new lt(A))},Vt.prototype.sa=function(A){ut(this.g,new Et)},Vt.prototype.ra=function(){ut(this.g,"b")},Oe.prototype.createWebChannel=Oe.prototype.g,Ve.prototype.send=Ve.prototype.o,Ve.prototype.open=Ve.prototype.m,Ve.prototype.close=Ve.prototype.close,lB=function(){return new Oe},oB=function(){return br()},sB=Ot,Q4={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ge.NO_ERROR=0,ge.TIMEOUT=8,ge.HTTP_ERROR=6,h2=ge,xe.COMPLETE="complete",iB=xe,ht.EventType=Dt,Dt.OPEN="a",Dt.CLOSE="b",Dt.ERROR="c",Dt.MESSAGE="d",nt.prototype.listen=nt.prototype.K,gg=ht,wn.prototype.listenOnce=wn.prototype.L,wn.prototype.getLastError=wn.prototype.Ka,wn.prototype.getLastErrorCode=wn.prototype.Ba,wn.prototype.getStatus=wn.prototype.Z,wn.prototype.getResponseJson=wn.prototype.Oa,wn.prototype.getResponseText=wn.prototype.oa,wn.prototype.send=wn.prototype.ea,wn.prototype.setWithCredentials=wn.prototype.Ha,aB=wn}).apply(typeof px<"u"?px:typeof self<"u"?self:typeof window<"u"?window:{});const XO="@firebase/firestore",QO="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$i.UNAUTHENTICATED=new $i(null),$i.GOOGLE_CREDENTIALS=new $i("google-credentials-uid"),$i.FIRST_PARTY=new $i("first-party-uid"),$i.MOCK_USER=new $i("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let em="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih=new Q9("@firebase/firestore");function f0(){return ih.logLevel}function Xt(e,...t){if(ih.logLevel<=nn.DEBUG){const r=t.map(jN);ih.debug(`Firestore (${em}): ${e}`,...r)}}function Xc(e,...t){if(ih.logLevel<=nn.ERROR){const r=t.map(jN);ih.error(`Firestore (${em}): ${e}`,...r)}}function hp(e,...t){if(ih.logLevel<=nn.WARN){const r=t.map(jN);ih.warn(`Firestore (${em}): ${e}`,...r)}}function jN(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(e,t,r){let n="Unexpected state";typeof t=="string"?n=t:r=t,cB(e,n,r)}function cB(e,t,r){let n=`FIRESTORE (${em}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Xc(n),new Error(n)}function yn(e,t,r,n){let a="Unexpected state";typeof r=="string"?a=r:n=r,e||cB(t,a,n)}function Cr(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Kt extends Zp{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uB{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class pre{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r($i.UNAUTHENTICATED))}shutdown(){}}class mre{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class gre{constructor(t){this.t=t,this.currentUser=$i.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){yn(this.o===void 0,42304);let n=this.i;const a=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let i=new Ql;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ql,t.enqueueRetryable(()=>a(this.currentUser))};const s=()=>{const l=i;t.enqueueRetryable(async()=>{await l.promise,await a(this.currentUser)})},o=l=>{Xt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(Xt("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ql)}},0),s()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==t?(Xt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(yn(typeof n.accessToken=="string",31837,{l:n}),new uB(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return yn(t===null||typeof t=="string",2055,{h:t}),new $i(t)}}class vre{constructor(t,r,n){this.P=t,this.T=r,this.I=n,this.type="FirstParty",this.user=$i.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class yre{constructor(t,r,n){this.P=t,this.T=r,this.I=n}getToken(){return Promise.resolve(new vre(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable(()=>r($i.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class JO{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xre{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qte(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){yn(this.o===void 0,3512);const n=i=>{i.error!=null&&Xt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const s=i.token!==this.m;return this.m=i.token,Xt("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable(()=>n(i))};const a=i=>{Xt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>a(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?a(i):Xt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new JO(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(yn(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new JO(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bre(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let n=0;n<e;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fB(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dB{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const a=bre(40);for(let i=0;i<a.length;++i)n.length<20&&a[i]<r&&(n+=t.charAt(a[i]%62))}return n}}function zr(e,t){return e<t?-1:e>t?1:0}function J4(e,t){let r=0;for(;r<e.length&&r<t.length;){const n=e.codePointAt(r),a=t.codePointAt(r);if(n!==a){if(n<128&&a<128)return zr(n,a);{const i=fB(),s=wre(i.encode(ZO(e,r)),i.encode(ZO(t,r)));return s!==0?s:zr(n,a)}}r+=n>65535?2:1}return zr(e.length,t.length)}function ZO(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function wre(e,t){for(let r=0;r<e.length&&r<t.length;++r)if(e[r]!==t[r])return zr(e[r],t[r]);return zr(e.length,t.length)}function pp(e,t,r){return e.length===t.length&&e.every((n,a)=>r(n,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI=-62135596800,tI=1e6;class ir{static now(){return ir.fromMillis(Date.now())}static fromDate(t){return ir.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),n=Math.floor((t-1e3*r)*tI);return new ir(r,n)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new Kt(gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Kt(gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<eI)throw new Kt(gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Kt(gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/tI}_compareTo(t){return this.seconds===t.seconds?zr(this.nanoseconds,t.nanoseconds):zr(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-eI;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{static fromTimestamp(t){return new Pr(t)}static min(){return new Pr(new ir(0,0))}static max(){return new Pr(new ir(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI="__name__";class ql{constructor(t,r,n){r===void 0?r=0:r>t.length&&xr(637,{offset:r,range:t.length}),n===void 0?n=t.length-r:n>t.length-r&&xr(1746,{length:n,range:t.length-r}),this.segments=t,this.offset=r,this.len=n}get length(){return this.len}isEqual(t){return ql.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof ql?t.forEach(n=>{r.push(n)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,n=this.limit();r<n;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const n=Math.min(t.length,r.length);for(let a=0;a<n;a++){const i=ql.compareSegments(t.get(a),r.get(a));if(i!==0)return i}return zr(t.length,r.length)}static compareSegments(t,r){const n=ql.isNumericId(t),a=ql.isNumericId(r);return n&&!a?-1:!n&&a?1:n&&a?ql.extractNumericId(t).compare(ql.extractNumericId(r)):J4(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Af.fromString(t.substring(4,t.length-2))}}class Hn extends ql{construct(t,r,n){return new Hn(t,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const n of t){if(n.indexOf("//")>=0)throw new Kt(gt.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(a=>a.length>0))}return new Hn(r)}static emptyPath(){return new Hn([])}}const _re=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bi extends ql{construct(t,r,n){return new bi(t,r,n)}static isValidIdentifier(t){return _re.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bi.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===rI}static keyField(){return new bi([rI])}static fromServerFormat(t){const r=[];let n="",a=0;const i=()=>{if(n.length===0)throw new Kt(gt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;a<t.length;){const o=t[a];if(o==="\\"){if(a+1===t.length)throw new Kt(gt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[a+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Kt(gt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=l,a+=2}else o==="`"?(s=!s,a++):o!=="."||s?(n+=o,a++):(i(),a++)}if(i(),s)throw new Kt(gt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new bi(r)}static emptyPath(){return new bi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(t){this.path=t}static fromPath(t){return new fr(Hn.fromString(t))}static fromName(t){return new fr(Hn.fromString(t).popFirst(5))}static empty(){return new fr(Hn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Hn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return Hn.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new fr(new Hn(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv=-1;function Sre(e,t){const r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,a=Pr.fromTimestamp(n===1e9?new ir(r+1,0):new ir(r,n));return new Lf(a,fr.empty(),t)}function Are(e){return new Lf(e.readTime,e.key,Dv)}class Lf{constructor(t,r,n){this.readTime=t,this.documentKey=r,this.largestBatchId=n}static min(){return new Lf(Pr.min(),fr.empty(),Dv)}static max(){return new Lf(Pr.max(),fr.empty(),Dv)}}function Ere(e,t){let r=e.readTime.compareTo(t.readTime);return r!==0?r:(r=fr.comparator(e.documentKey,t.documentKey),r!==0?r:zr(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tre="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Nre{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tm(e){if(e.code!==gt.FAILED_PRECONDITION||e.message!==Tre)throw e;Xt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&xr(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new bt((n,a)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(n,a)},this.catchCallback=i=>{this.wrapFailure(r,i).next(n,a)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof bt?r:bt.resolve(r)}catch(r){return bt.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):bt.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):bt.reject(r)}static resolve(t){return new bt((r,n)=>{r(t)})}static reject(t){return new bt((r,n)=>{n(t)})}static waitFor(t){return new bt((r,n)=>{let a=0,i=0,s=!1;t.forEach(o=>{++a,o.next(()=>{++i,s&&i===a&&r()},l=>n(l))}),s=!0,i===a&&r()})}static or(t){let r=bt.resolve(!1);for(const n of t)r=r.next(a=>a?bt.resolve(a):n());return r}static forEach(t,r){const n=[];return t.forEach((a,i)=>{n.push(r.call(this,a,i))}),this.waitFor(n)}static mapArray(t,r){return new bt((n,a)=>{const i=t.length,s=new Array(i);let o=0;for(let l=0;l<i;l++){const c=l;r(t[c]).next(u=>{s[c]=u,++o,o===i&&n(s)},u=>a(u))}})}static doWhile(t,r){return new bt((n,a)=>{const i=()=>{t()===!0?r().next(()=>{i()},a):n()};i()})}}function kre(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function rm(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=n=>this.ue(n),this.ce=n=>r.writeSequenceNumber(n))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}c5.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=-1;function u5(e){return e==null}function ub(e){return e===0&&1/e==-1/0}function Cre(e){return typeof e=="number"&&Number.isInteger(e)&&!ub(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hB="";function Pre(e){let t="";for(let r=0;r<e.length;r++)t.length>0&&(t=nI(t)),t=Ore(e.get(r),t);return nI(t)}function Ore(e,t){let r=t;const n=e.length;for(let a=0;a<n;a++){const i=e.charAt(a);switch(i){case"\0":r+="";break;case hB:r+="";break;default:r+=i}}return r}function nI(e){return e+hB+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function Yf(e,t){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function Ire(e,t){const r=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.push(t(e[n],n,e));return r}function pB(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(t,r){this.comparator=t,this.root=r||gi.EMPTY}insert(t,r){return new oa(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,gi.BLACK,null,null))}remove(t){return new oa(this.comparator,this.root.remove(t,this.comparator).copy(null,null,gi.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(t,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(t){let r=0,n=this.root;for(;!n.isEmpty();){const a=this.comparator(t,n.key);if(a===0)return r+n.left.size;a<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,n)=>(t(r,n),!1))}toString(){const t=[];return this.inorderTraversal((r,n)=>(t.push(`${r}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new mx(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new mx(this.root,t,this.comparator,!1)}getReverseIterator(){return new mx(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new mx(this.root,t,this.comparator,!0)}}class mx{constructor(t,r,n,a){this.isReverse=a,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=r?n(t.key,r):1,r&&a&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class gi{constructor(t,r,n,a,i){this.key=t,this.value=r,this.color=n??gi.RED,this.left=a??gi.EMPTY,this.right=i??gi.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,n,a,i){return new gi(t??this.key,r??this.value,n??this.color,a??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,n){let a=this;const i=n(t,a.key);return a=i<0?a.copy(null,null,null,a.left.insert(t,r,n),null):i===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(t,r,n)),a.fixUp()}removeMin(){if(this.left.isEmpty())return gi.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let n,a=this;if(r(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(t,a.key)===0){if(a.right.isEmpty())return gi.EMPTY;n=a.right.min(),a=a.copy(n.key,n.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,gi.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,gi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xr(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xr(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw xr(27949);return t+(this.isRed()?0:1)}}gi.EMPTY=null,gi.RED=!0,gi.BLACK=!1;gi.EMPTY=new class{constructor(){this.size=0}get key(){throw xr(57766)}get value(){throw xr(16141)}get color(){throw xr(16727)}get left(){throw xr(29726)}get right(){throw xr(36894)}copy(t,r,n,a,i){return this}insert(t,r,n){return new gi(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(t){this.comparator=t,this.data=new oa(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,n)=>(t(r),!1))}forEachInRange(t,r){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const a=n.getNext();if(this.comparator(a.key,t[1])>=0)return;r(a.key)}}forEachWhile(t,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new iI(this.data.getIterator())}getIteratorFrom(t){return new iI(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(n=>{r=r.add(n)}),r}isEqual(t){if(!(t instanceof Wa)||this.size!==t.size)return!1;const r=this.data.getIterator(),n=t.data.getIterator();for(;r.hasNext();){const a=r.getNext().key,i=n.getNext().key;if(this.comparator(a,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new Wa(this.comparator);return r.data=t,r}}class iI{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(t){this.fields=t,t.sort(bi.comparator)}static empty(){return new ro([])}unionWith(t){let r=new Wa(bi.comparator);for(const n of this.fields)r=r.add(n);for(const n of t)r=r.add(n);return new ro(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return pp(this.fields,t.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(a){try{return atob(a)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new mB("Invalid base64 string: "+i):i}}(t);return new Ni(r)}static fromUint8Array(t){const r=function(a){let i="";for(let s=0;s<a.length;++s)i+=String.fromCharCode(a[s]);return i}(t);return new Ni(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zr(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ni.EMPTY_BYTE_STRING=new Ni("");const jre=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mf(e){if(yn(!!e,39018),typeof e=="string"){let t=0;const r=jre.exec(e);if(yn(!!r,46558,{timestamp:e}),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),t=Number(a)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:ba(e.seconds),nanos:ba(e.nanos)}}function ba(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Rf(e){return typeof e=="string"?Ni.fromBase64String(e):Ni.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gB="server_timestamp",vB="__type__",yB="__previous_value__",xB="__local_write_time__";function LN(e){var t,r;return((r=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[vB])===null||r===void 0?void 0:r.stringValue)===gB}function f5(e){const t=e.mapValue.fields[yB];return LN(t)?f5(t):t}function Lv(e){const t=Mf(e.mapValue.fields[xB].timestampValue);return new ir(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dre{constructor(t,r,n,a,i,s,o,l,c,u){this.databaseId=t,this.appId=r,this.persistenceKey=n,this.host=a,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const fb="(default)";class Mv{constructor(t,r){this.projectId=t,this.database=r||fb}static empty(){return new Mv("","")}get isDefaultDatabase(){return this.database===fb}isEqual(t){return t instanceof Mv&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bB="__type__",wB="__max__",gx={mapValue:{fields:{__type__:{stringValue:wB}}}},_B="__vector__",db="value";function Ff(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?LN(e)?4:Mre(e)?9007199254740991:Lre(e)?10:11:xr(28295,{value:e})}function ic(e,t){if(e===t)return!0;const r=Ff(e);if(r!==Ff(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Lv(e).isEqual(Lv(t));case 3:return function(a,i){if(typeof a.timestampValue=="string"&&typeof i.timestampValue=="string"&&a.timestampValue.length===i.timestampValue.length)return a.timestampValue===i.timestampValue;const s=Mf(a.timestampValue),o=Mf(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(a,i){return Rf(a.bytesValue).isEqual(Rf(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(a,i){return ba(a.geoPointValue.latitude)===ba(i.geoPointValue.latitude)&&ba(a.geoPointValue.longitude)===ba(i.geoPointValue.longitude)}(e,t);case 2:return function(a,i){if("integerValue"in a&&"integerValue"in i)return ba(a.integerValue)===ba(i.integerValue);if("doubleValue"in a&&"doubleValue"in i){const s=ba(a.doubleValue),o=ba(i.doubleValue);return s===o?ub(s)===ub(o):isNaN(s)&&isNaN(o)}return!1}(e,t);case 9:return pp(e.arrayValue.values||[],t.arrayValue.values||[],ic);case 10:case 11:return function(a,i){const s=a.mapValue.fields||{},o=i.mapValue.fields||{};if(aI(s)!==aI(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!ic(s[l],o[l])))return!1;return!0}(e,t);default:return xr(52216,{left:e})}}function Rv(e,t){return(e.values||[]).find(r=>ic(r,t))!==void 0}function mp(e,t){if(e===t)return 0;const r=Ff(e),n=Ff(t);if(r!==n)return zr(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return zr(e.booleanValue,t.booleanValue);case 2:return function(i,s){const o=ba(i.integerValue||i.doubleValue),l=ba(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(e,t);case 3:return sI(e.timestampValue,t.timestampValue);case 4:return sI(Lv(e),Lv(t));case 5:return J4(e.stringValue,t.stringValue);case 6:return function(i,s){const o=Rf(i),l=Rf(s);return o.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){const o=i.split("/"),l=s.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=zr(o[c],l[c]);if(u!==0)return u}return zr(o.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){const o=zr(ba(i.latitude),ba(s.latitude));return o!==0?o:zr(ba(i.longitude),ba(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return oI(e.arrayValue,t.arrayValue);case 10:return function(i,s){var o,l,c,u;const f=i.fields||{},h=s.fields||{},p=(o=f[db])===null||o===void 0?void 0:o.arrayValue,g=(l=h[db])===null||l===void 0?void 0:l.arrayValue,m=zr(((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0,((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0);return m!==0?m:oI(p,g)}(e.mapValue,t.mapValue);case 11:return function(i,s){if(i===gx.mapValue&&s===gx.mapValue)return 0;if(i===gx.mapValue)return 1;if(s===gx.mapValue)return-1;const o=i.fields||{},l=Object.keys(o),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const h=J4(l[f],u[f]);if(h!==0)return h;const p=mp(o[l[f]],c[u[f]]);if(p!==0)return p}return zr(l.length,u.length)}(e.mapValue,t.mapValue);default:throw xr(23264,{Pe:r})}}function sI(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return zr(e,t);const r=Mf(e),n=Mf(t),a=zr(r.seconds,n.seconds);return a!==0?a:zr(r.nanos,n.nanos)}function oI(e,t){const r=e.values||[],n=t.values||[];for(let a=0;a<r.length&&a<n.length;++a){const i=mp(r[a],n[a]);if(i)return i}return zr(r.length,n.length)}function gp(e){return Z4(e)}function Z4(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const n=Mf(r);return`time(${n.seconds},${n.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(r){return Rf(r).toBase64()}(e.bytesValue):"referenceValue"in e?function(r){return fr.fromName(r).toString()}(e.referenceValue):"geoPointValue"in e?function(r){return`geo(${r.latitude},${r.longitude})`}(e.geoPointValue):"arrayValue"in e?function(r){let n="[",a=!0;for(const i of r.values||[])a?a=!1:n+=",",n+=Z4(i);return n+"]"}(e.arrayValue):"mapValue"in e?function(r){const n=Object.keys(r.fields||{}).sort();let a="{",i=!0;for(const s of n)i?i=!1:a+=",",a+=`${s}:${Z4(r.fields[s])}`;return a+"}"}(e.mapValue):xr(61005,{value:e})}function p2(e){switch(Ff(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=f5(e);return t?16+p2(t):16;case 5:return 2*e.stringValue.length;case 6:return Rf(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((a,i)=>a+p2(i),0)}(e.arrayValue);case 10:case 11:return function(n){let a=0;return Yf(n.fields,(i,s)=>{a+=i.length+p2(s)}),a}(e.mapValue);default:throw xr(13486,{value:e})}}function lI(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function eE(e){return!!e&&"integerValue"in e}function MN(e){return!!e&&"arrayValue"in e}function cI(e){return!!e&&"nullValue"in e}function uI(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function m2(e){return!!e&&"mapValue"in e}function Lre(e){var t,r;return((r=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[bB])===null||r===void 0?void 0:r.stringValue)===_B}function Rg(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Yf(e.mapValue.fields,(r,n)=>t.mapValue.fields[r]=Rg(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Rg(e.arrayValue.values[r]);return t}return Object.assign({},e)}function Mre(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===wB}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(t){this.value=t}static empty(){return new Ps({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let n=0;n<t.length-1;++n)if(r=(r.mapValue.fields||{})[t.get(n)],!m2(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=Rg(r)}setAll(t){let r=bi.emptyPath(),n={},a=[];t.forEach((s,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,a),n={},a=[],r=o.popLast()}s?n[o.lastSegment()]=Rg(s):a.push(o.lastSegment())});const i=this.getFieldsMap(r);this.applyChanges(i,n,a)}delete(t){const r=this.field(t.popLast());m2(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return ic(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<t.length;++n){let a=r.mapValue.fields[t.get(n)];m2(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[t.get(n)]=a),r=a}return r.mapValue.fields}applyChanges(t,r,n){Yf(r,(a,i)=>t[a]=i);for(const a of n)delete t[a]}clone(){return new Ps(Rg(this.value))}}function SB(e){const t=[];return Yf(e.fields,(r,n)=>{const a=new bi([r]);if(m2(n)){const i=SB(n.mapValue).fields;if(i.length===0)t.push(a);else for(const s of i)t.push(a.child(s))}else t.push(a)}),new ro(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(t,r,n,a,i,s,o){this.key=t,this.documentType=r,this.version=n,this.readTime=a,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(t){return new Vi(t,0,Pr.min(),Pr.min(),Pr.min(),Ps.empty(),0)}static newFoundDocument(t,r,n,a){return new Vi(t,1,r,Pr.min(),n,a,0)}static newNoDocument(t,r){return new Vi(t,2,r,Pr.min(),Pr.min(),Ps.empty(),0)}static newUnknownDocument(t,r){return new Vi(t,3,r,Pr.min(),Pr.min(),Ps.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(Pr.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ps.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ps.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pr.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Vi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Vi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(t,r){this.position=t,this.inclusive=r}}function fI(e,t,r){let n=0;for(let a=0;a<e.position.length;a++){const i=t[a],s=e.position[a];if(i.field.isKeyField()?n=fr.comparator(fr.fromName(s.referenceValue),r.key):n=mp(s,r.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function dI(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!ic(e.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(t,r="asc"){this.field=t,this.dir=r}}function Rre(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{}class Da extends AB{constructor(t,r,n){super(),this.field=t,this.op=r,this.value=n}static create(t,r,n){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,n):new $re(t,r,n):r==="array-contains"?new Vre(t,n):r==="in"?new zre(t,n):r==="not-in"?new qre(t,n):r==="array-contains-any"?new Wre(t,n):new Da(t,r,n)}static createKeyFieldInFilter(t,r,n){return r==="in"?new Bre(t,n):new Ure(t,n)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(mp(r,this.value)):r!==null&&Ff(this.value)===Ff(r)&&this.matchesComparison(mp(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return xr(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class El extends AB{constructor(t,r){super(),this.filters=t,this.op=r,this.Te=null}static create(t,r){return new El(t,r)}matches(t){return EB(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function EB(e){return e.op==="and"}function TB(e){return Fre(e)&&EB(e)}function Fre(e){for(const t of e.filters)if(t instanceof El)return!1;return!0}function tE(e){if(e instanceof Da)return e.field.canonicalString()+e.op.toString()+gp(e.value);if(TB(e))return e.filters.map(t=>tE(t)).join(",");{const t=e.filters.map(r=>tE(r)).join(",");return`${e.op}(${t})`}}function NB(e,t){return e instanceof Da?function(n,a){return a instanceof Da&&n.op===a.op&&n.field.isEqual(a.field)&&ic(n.value,a.value)}(e,t):e instanceof El?function(n,a){return a instanceof El&&n.op===a.op&&n.filters.length===a.filters.length?n.filters.reduce((i,s,o)=>i&&NB(s,a.filters[o]),!0):!1}(e,t):void xr(19439)}function kB(e){return e instanceof Da?function(r){return`${r.field.canonicalString()} ${r.op} ${gp(r.value)}`}(e):e instanceof El?function(r){return r.op.toString()+" {"+r.getFilters().map(kB).join(" ,")+"}"}(e):"Filter"}class $re extends Da{constructor(t,r,n){super(t,r,n),this.key=fr.fromName(n.referenceValue)}matches(t){const r=fr.comparator(t.key,this.key);return this.matchesComparison(r)}}class Bre extends Da{constructor(t,r){super(t,"in",r),this.keys=CB("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class Ure extends Da{constructor(t,r){super(t,"not-in",r),this.keys=CB("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function CB(e,t){var r;return(((r=t.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>fr.fromName(n.referenceValue))}class Vre extends Da{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return MN(r)&&Rv(r.arrayValue,this.value)}}class zre extends Da{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&Rv(this.value.arrayValue,r)}}class qre extends Da{constructor(t,r){super(t,"not-in",r)}matches(t){if(Rv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Rv(this.value.arrayValue,r)}}class Wre extends Da{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!MN(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Rv(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hre{constructor(t,r=null,n=[],a=[],i=null,s=null,o=null){this.path=t,this.collectionGroup=r,this.orderBy=n,this.filters=a,this.limit=i,this.startAt=s,this.endAt=o,this.Ie=null}}function hI(e,t=null,r=[],n=[],a=null,i=null,s=null){return new Hre(e,t,r,n,a,i,s)}function RN(e){const t=Cr(e);if(t.Ie===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(n=>tE(n)).join(","),r+="|ob:",r+=t.orderBy.map(n=>function(i){return i.field.canonicalString()+i.dir}(n)).join(","),u5(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(n=>gp(n)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(n=>gp(n)).join(",")),t.Ie=r}return t.Ie}function FN(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!Rre(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!NB(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!dI(e.startAt,t.startAt)&&dI(e.endAt,t.endAt)}function rE(e){return fr.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(t,r=null,n=[],a=[],i=null,s="F",o=null,l=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=a,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Gre(e,t,r,n,a,i,s,o){return new nm(e,t,r,n,a,i,s,o)}function d5(e){return new nm(e)}function pI(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function PB(e){return e.collectionGroup!==null}function Fg(e){const t=Cr(e);if(t.Ee===null){t.Ee=[];const r=new Set;for(const i of t.explicitOrderBy)t.Ee.push(i),r.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Wa(bi.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(t).forEach(i=>{r.has(i.canonicalString())||i.isKeyField()||t.Ee.push(new Fv(i,n))}),r.has(bi.keyField().canonicalString())||t.Ee.push(new Fv(bi.keyField(),n))}return t.Ee}function Jl(e){const t=Cr(e);return t.de||(t.de=OB(t,Fg(e))),t.de}function Kre(e){const t=Cr(e);return t.Ae||(t.Ae=OB(t,e.explicitOrderBy)),t.Ae}function OB(e,t){if(e.limitType==="F")return hI(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(a=>{const i=a.dir==="desc"?"asc":"desc";return new Fv(a.field,i)});const r=e.endAt?new hb(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new hb(e.startAt.position,e.startAt.inclusive):null;return hI(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}function nE(e,t){const r=e.filters.concat([t]);return new nm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function pb(e,t,r){return new nm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function h5(e,t){return FN(Jl(e),Jl(t))&&e.limitType===t.limitType}function IB(e){return`${RN(Jl(e))}|lt:${e.limitType}`}function d0(e){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(a=>kB(a)).join(", ")}]`),u5(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(a=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(a)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(a=>gp(a)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(a=>gp(a)).join(",")),`Target(${n})`}(Jl(e))}; limitType=${e.limitType})`}function p5(e,t){return t.isFoundDocument()&&function(n,a){const i=a.key.path;return n.collectionGroup!==null?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):fr.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,a){for(const i of Fg(n))if(!i.field.isKeyField()&&a.data.field(i.field)===null)return!1;return!0}(e,t)&&function(n,a){for(const i of n.filters)if(!i.matches(a))return!1;return!0}(e,t)&&function(n,a){return!(n.startAt&&!function(s,o,l){const c=fI(s,o,l);return s.inclusive?c<=0:c<0}(n.startAt,Fg(n),a)||n.endAt&&!function(s,o,l){const c=fI(s,o,l);return s.inclusive?c>=0:c>0}(n.endAt,Fg(n),a))}(e,t)}function Yre(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function jB(e){return(t,r)=>{let n=!1;for(const a of Fg(e)){const i=Xre(a,t,r);if(i!==0)return i;n=n||a.field.isKeyField()}return 0}}function Xre(e,t,r){const n=e.field.isKeyField()?fr.comparator(t.key,r.key):function(i,s,o){const l=s.data.field(i),c=o.data.field(i);return l!==null&&c!==null?mp(l,c):xr(42886)}(e.field,t,r);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return xr(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n!==void 0){for(const[a,i]of n)if(this.equalsFn(a,t))return i}}has(t){return this.get(t)!==void 0}set(t,r){const n=this.mapKeyFn(t),a=this.inner[n];if(a===void 0)return this.inner[n]=[[t,r]],void this.innerSize++;for(let i=0;i<a.length;i++)if(this.equalsFn(a[i][0],t))return void(a[i]=[t,r]);a.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n===void 0)return!1;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],t))return n.length===1?delete this.inner[r]:n.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Yf(this.inner,(r,n)=>{for(const[a,i]of n)t(a,i)})}isEmpty(){return pB(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qre=new oa(fr.comparator);function Qc(){return Qre}const DB=new oa(fr.comparator);function vg(...e){let t=DB;for(const r of e)t=t.insert(r.key,r);return t}function LB(e){let t=DB;return e.forEach((r,n)=>t=t.insert(r,n.overlayedDocument)),t}function Dd(){return $g()}function MB(){return $g()}function $g(){return new bh(e=>e.toString(),(e,t)=>e.isEqual(t))}const Jre=new oa(fr.comparator),Zre=new Wa(fr.comparator);function Qr(...e){let t=Zre;for(const r of e)t=t.add(r);return t}const ene=new Wa(zr);function tne(){return ene}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ub(t)?"-0":t}}function RB(e){return{integerValue:""+e}}function rne(e,t){return Cre(t)?RB(t):$N(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(){this._=void 0}}function nne(e,t,r){return e instanceof $v?function(a,i){const s={fields:{[vB]:{stringValue:gB},[xB]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return i&&LN(i)&&(i=f5(i)),i&&(s.fields[yB]=i),{mapValue:s}}(r,t):e instanceof Bv?$B(e,t):e instanceof Uv?BB(e,t):function(a,i){const s=FB(a,i),o=mI(s)+mI(a.Re);return eE(s)&&eE(a.Re)?RB(o):$N(a.serializer,o)}(e,t)}function ane(e,t,r){return e instanceof Bv?$B(e,t):e instanceof Uv?BB(e,t):r}function FB(e,t){return e instanceof mb?function(n){return eE(n)||function(i){return!!i&&"doubleValue"in i}(n)}(t)?t:{integerValue:0}:null}class $v extends m5{}class Bv extends m5{constructor(t){super(),this.elements=t}}function $B(e,t){const r=UB(t);for(const n of e.elements)r.some(a=>ic(a,n))||r.push(n);return{arrayValue:{values:r}}}class Uv extends m5{constructor(t){super(),this.elements=t}}function BB(e,t){let r=UB(t);for(const n of e.elements)r=r.filter(a=>!ic(a,n));return{arrayValue:{values:r}}}class mb extends m5{constructor(t,r){super(),this.serializer=t,this.Re=r}}function mI(e){return ba(e.integerValue||e.doubleValue)}function UB(e){return MN(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ine{constructor(t,r){this.field=t,this.transform=r}}function sne(e,t){return e.field.isEqual(t.field)&&function(n,a){return n instanceof Bv&&a instanceof Bv||n instanceof Uv&&a instanceof Uv?pp(n.elements,a.elements,ic):n instanceof mb&&a instanceof mb?ic(n.Re,a.Re):n instanceof $v&&a instanceof $v}(e.transform,t.transform)}class one{constructor(t,r){this.version=t,this.transformResults=r}}class gs{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new gs}static exists(t){return new gs(void 0,t)}static updateTime(t){return new gs(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function g2(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class g5{}function VB(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new v5(e.key,gs.none()):new Y1(e.key,e.data,gs.none());{const r=e.data,n=Ps.empty();let a=new Wa(bi.comparator);for(let i of t.fields)if(!a.has(i)){let s=r.field(i);s===null&&i.length>1&&(i=i.popLast(),s=r.field(i)),s===null?n.delete(i):n.set(i,s),a=a.add(i)}return new Xf(e.key,n,new ro(a.toArray()),gs.none())}}function lne(e,t,r){e instanceof Y1?function(a,i,s){const o=a.value.clone(),l=vI(a.fieldTransforms,i,s.transformResults);o.setAll(l),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,r):e instanceof Xf?function(a,i,s){if(!g2(a.precondition,i))return void i.convertToUnknownDocument(s.version);const o=vI(a.fieldTransforms,i,s.transformResults),l=i.data;l.setAll(zB(a)),l.setAll(o),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,r):function(a,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,r)}function Bg(e,t,r,n){return e instanceof Y1?function(i,s,o,l){if(!g2(i.precondition,s))return o;const c=i.value.clone(),u=yI(i.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(e,t,r,n):e instanceof Xf?function(i,s,o,l){if(!g2(i.precondition,s))return o;const c=yI(i.fieldTransforms,l,s),u=s.data;return u.setAll(zB(i)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(e,t,r,n):function(i,s,o){return g2(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(e,t,r)}function cne(e,t){let r=null;for(const n of e.fieldTransforms){const a=t.data.field(n.field),i=FB(n.transform,a||null);i!=null&&(r===null&&(r=Ps.empty()),r.set(n.field,i))}return r||null}function gI(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,a){return n===void 0&&a===void 0||!(!n||!a)&&pp(n,a,(i,s)=>sne(i,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Y1 extends g5{constructor(t,r,n,a=[]){super(),this.key=t,this.value=r,this.precondition=n,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Xf extends g5{constructor(t,r,n,a,i=[]){super(),this.key=t,this.data=r,this.fieldMask=n,this.precondition=a,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function zB(e){const t=new Map;return e.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=e.data.field(r);t.set(r,n)}}),t}function vI(e,t,r){const n=new Map;yn(e.length===r.length,32656,{Ve:r.length,me:e.length});for(let a=0;a<r.length;a++){const i=e[a],s=i.transform,o=t.data.field(i.field);n.set(i.field,ane(s,o,r[a]))}return n}function yI(e,t,r){const n=new Map;for(const a of e){const i=a.transform,s=r.data.field(a.field);n.set(a.field,nne(i,s,t))}return n}class v5 extends g5{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class une extends g5{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fne{constructor(t,r,n,a){this.batchId=t,this.localWriteTime=r,this.baseMutations=n,this.mutations=a}applyToRemoteDocument(t,r){const n=r.mutationResults;for(let a=0;a<this.mutations.length;a++){const i=this.mutations[a];i.key.isEqual(t.key)&&lne(i,t,n[a])}}applyToLocalView(t,r){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(r=Bg(n,t,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(r=Bg(n,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const n=MB();return this.mutations.forEach(a=>{const i=t.get(a.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=r.has(a.key)?null:o;const l=VB(s,o);l!==null&&n.set(a.key,l),s.isValidDocument()||s.convertToNoDocument(Pr.min())}),n}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),Qr())}isEqual(t){return this.batchId===t.batchId&&pp(this.mutations,t.mutations,(r,n)=>gI(r,n))&&pp(this.baseMutations,t.baseMutations,(r,n)=>gI(r,n))}}class BN{constructor(t,r,n,a){this.batch=t,this.commitVersion=r,this.mutationResults=n,this.docVersions=a}static from(t,r,n){yn(t.mutations.length===n.length,58842,{fe:t.mutations.length,ge:n.length});let a=function(){return Jre}();const i=t.mutations;for(let s=0;s<i.length;s++)a=a.insert(i[s].key,n[s].version);return new BN(t,r,n,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dne{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hne{constructor(t,r,n){this.alias=t,this.aggregateType=r,this.fieldPath=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pne{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ca,rn;function mne(e){switch(e){case gt.OK:return xr(64938);case gt.CANCELLED:case gt.UNKNOWN:case gt.DEADLINE_EXCEEDED:case gt.RESOURCE_EXHAUSTED:case gt.INTERNAL:case gt.UNAVAILABLE:case gt.UNAUTHENTICATED:return!1;case gt.INVALID_ARGUMENT:case gt.NOT_FOUND:case gt.ALREADY_EXISTS:case gt.PERMISSION_DENIED:case gt.FAILED_PRECONDITION:case gt.ABORTED:case gt.OUT_OF_RANGE:case gt.UNIMPLEMENTED:case gt.DATA_LOSS:return!0;default:return xr(15467,{code:e})}}function qB(e){if(e===void 0)return Xc("GRPC error has no .code"),gt.UNKNOWN;switch(e){case Ca.OK:return gt.OK;case Ca.CANCELLED:return gt.CANCELLED;case Ca.UNKNOWN:return gt.UNKNOWN;case Ca.DEADLINE_EXCEEDED:return gt.DEADLINE_EXCEEDED;case Ca.RESOURCE_EXHAUSTED:return gt.RESOURCE_EXHAUSTED;case Ca.INTERNAL:return gt.INTERNAL;case Ca.UNAVAILABLE:return gt.UNAVAILABLE;case Ca.UNAUTHENTICATED:return gt.UNAUTHENTICATED;case Ca.INVALID_ARGUMENT:return gt.INVALID_ARGUMENT;case Ca.NOT_FOUND:return gt.NOT_FOUND;case Ca.ALREADY_EXISTS:return gt.ALREADY_EXISTS;case Ca.PERMISSION_DENIED:return gt.PERMISSION_DENIED;case Ca.FAILED_PRECONDITION:return gt.FAILED_PRECONDITION;case Ca.ABORTED:return gt.ABORTED;case Ca.OUT_OF_RANGE:return gt.OUT_OF_RANGE;case Ca.UNIMPLEMENTED:return gt.UNIMPLEMENTED;case Ca.DATA_LOSS:return gt.DATA_LOSS;default:return xr(39323,{code:e})}}(rn=Ca||(Ca={}))[rn.OK=0]="OK",rn[rn.CANCELLED=1]="CANCELLED",rn[rn.UNKNOWN=2]="UNKNOWN",rn[rn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rn[rn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rn[rn.NOT_FOUND=5]="NOT_FOUND",rn[rn.ALREADY_EXISTS=6]="ALREADY_EXISTS",rn[rn.PERMISSION_DENIED=7]="PERMISSION_DENIED",rn[rn.UNAUTHENTICATED=16]="UNAUTHENTICATED",rn[rn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rn[rn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rn[rn.ABORTED=10]="ABORTED",rn[rn.OUT_OF_RANGE=11]="OUT_OF_RANGE",rn[rn.UNIMPLEMENTED=12]="UNIMPLEMENTED",rn[rn.INTERNAL=13]="INTERNAL",rn[rn.UNAVAILABLE=14]="UNAVAILABLE",rn[rn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gne=new Af([4294967295,4294967295],0);function xI(e){const t=fB().encode(e),r=new nB;return r.update(t),new Uint8Array(r.digest())}function bI(e){const t=new DataView(e.buffer),r=t.getUint32(0,!0),n=t.getUint32(4,!0),a=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new Af([r,n],0),new Af([a,i],0)]}class UN{constructor(t,r,n){if(this.bitmap=t,this.padding=r,this.hashCount=n,r<0||r>=8)throw new yg(`Invalid padding: ${r}`);if(n<0)throw new yg(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new yg(`Invalid hash count: ${n}`);if(t.length===0&&r!==0)throw new yg(`Invalid padding when bitmap length is 0: ${r}`);this.pe=8*t.length-r,this.ye=Af.fromNumber(this.pe)}we(t,r,n){let a=t.add(r.multiply(Af.fromNumber(n)));return a.compare(gne)===1&&(a=new Af([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const r=xI(t),[n,a]=bI(r);for(let i=0;i<this.hashCount;i++){const s=this.we(n,a,i);if(!this.be(s))return!1}return!0}static create(t,r,n){const a=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),s=new UN(i,a,r);return n.forEach(o=>s.insert(o)),s}insert(t){if(this.pe===0)return;const r=xI(t),[n,a]=bI(r);for(let i=0;i<this.hashCount;i++){const s=this.we(n,a,i);this.Se(s)}}Se(t){const r=Math.floor(t/8),n=t%8;this.bitmap[r]|=1<<n}}class yg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(t,r,n,a,i){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=a,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,r,n){const a=new Map;return a.set(t,X1.createSynthesizedTargetChangeForCurrentChange(t,r,n)),new y5(Pr.min(),a,new oa(zr),Qc(),Qr())}}class X1{constructor(t,r,n,a,i){this.resumeToken=t,this.current=r,this.addedDocuments=n,this.modifiedDocuments=a,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,r,n){return new X1(n,r,Qr(),Qr(),Qr())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(t,r,n,a){this.De=t,this.removedTargetIds=r,this.key=n,this.ve=a}}class WB{constructor(t,r){this.targetId=t,this.Ce=r}}class HB{constructor(t,r,n=Ni.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=r,this.resumeToken=n,this.cause=a}}class wI{constructor(){this.Fe=0,this.Me=_I(),this.xe=Ni.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Qr(),r=Qr(),n=Qr();return this.Me.forEach((a,i)=>{switch(i){case 0:t=t.add(a);break;case 2:r=r.add(a);break;case 1:n=n.add(a);break;default:xr(38017,{changeType:i})}}),new X1(this.xe,this.Oe,t,r,n)}Qe(){this.Ne=!1,this.Me=_I()}$e(t,r){this.Ne=!0,this.Me=this.Me.insert(t,r)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,yn(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class vne{constructor(t){this.ze=t,this.je=new Map,this.He=Qc(),this.Je=vx(),this.Ye=vx(),this.Ze=new oa(zr)}Xe(t){for(const r of t.De)t.ve&&t.ve.isFoundDocument()?this.et(r,t.ve):this.tt(r,t.key,t.ve);for(const r of t.removedTargetIds)this.tt(r,t.key,t.ve)}nt(t){this.forEachTarget(t,r=>{const n=this.rt(r);switch(t.state){case 0:this.it(r)&&n.ke(t.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(t.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(r);break;case 3:this.it(r)&&(n.Ge(),n.ke(t.resumeToken));break;case 4:this.it(r)&&(this.st(r),n.ke(t.resumeToken));break;default:xr(56790,{state:t.state})}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.je.forEach((n,a)=>{this.it(a)&&r(a)})}ot(t){const r=t.targetId,n=t.Ce.count,a=this._t(r);if(a){const i=a.target;if(rE(i))if(n===0){const s=new fr(i.path);this.tt(r,s,Vi.newNoDocument(s,Pr.min()))}else yn(n===1,20013,{expectedCount:n});else{const s=this.ut(r);if(s!==n){const o=this.ct(t),l=o?this.lt(o,t,s):1;if(l!==0){this.st(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(r,c)}}}}}ct(t){const r=t.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:a=0},hashCount:i=0}=r;let s,o;try{s=Rf(n).toUint8Array()}catch(l){if(l instanceof mB)return hp("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new UN(s,a,i)}catch(l){return hp(l instanceof yg?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.pe===0?null:o}lt(t,r,n){return r.Ce.count===n-this.Tt(t,r.targetId)?0:2}Tt(t,r){const n=this.ze.getRemoteKeysForTarget(r);let a=0;return n.forEach(i=>{const s=this.ze.Pt(),o=`projects/${s.projectId}/databases/${s.database}/documents/${i.path.canonicalString()}`;t.mightContain(o)||(this.tt(r,i,null),a++)}),a}It(t){const r=new Map;this.je.forEach((i,s)=>{const o=this._t(s);if(o){if(i.current&&rE(o.target)){const l=new fr(o.target.path);this.Et(l).has(s)||this.dt(s,l)||this.tt(s,l,Vi.newNoDocument(l,t))}i.Le&&(r.set(s,i.qe()),i.Qe())}});let n=Qr();this.Ye.forEach((i,s)=>{let o=!0;s.forEachWhile(l=>{const c=this._t(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(i))}),this.He.forEach((i,s)=>s.setReadTime(t));const a=new y5(t,r,this.Ze,this.He,n);return this.He=Qc(),this.Je=vx(),this.Ye=vx(),this.Ze=new oa(zr),a}et(t,r){if(!this.it(t))return;const n=this.dt(t,r.key)?2:0;this.rt(t).$e(r.key,n),this.He=this.He.insert(r.key,r),this.Je=this.Je.insert(r.key,this.Et(r.key).add(t)),this.Ye=this.Ye.insert(r.key,this.At(r.key).add(t))}tt(t,r,n){if(!this.it(t))return;const a=this.rt(t);this.dt(t,r)?a.$e(r,1):a.Ue(r),this.Ye=this.Ye.insert(r,this.At(r).delete(t)),this.Ye=this.Ye.insert(r,this.At(r).add(t)),n&&(this.He=this.He.insert(r,n))}removeTarget(t){this.je.delete(t)}ut(t){const r=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let r=this.je.get(t);return r||(r=new wI,this.je.set(t,r)),r}At(t){let r=this.Ye.get(t);return r||(r=new Wa(zr),this.Ye=this.Ye.insert(t,r)),r}Et(t){let r=this.Je.get(t);return r||(r=new Wa(zr),this.Je=this.Je.insert(t,r)),r}it(t){const r=this._t(t)!==null;return r||Xt("WatchChangeAggregator","Detected inactive target",t),r}_t(t){const r=this.je.get(t);return r&&r.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new wI),this.ze.getRemoteKeysForTarget(t).forEach(r=>{this.tt(t,r,null)})}dt(t,r){return this.ze.getRemoteKeysForTarget(t).has(r)}}function vx(){return new oa(fr.comparator)}function _I(){return new oa(fr.comparator)}const yne={asc:"ASCENDING",desc:"DESCENDING"},xne={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bne={and:"AND",or:"OR"};class wne{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function aE(e,t){return e.useProto3Json||u5(t)?t:{value:t}}function gb(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function GB(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function _ne(e,t){return gb(e,t.toTimestamp())}function Zl(e){return yn(!!e,49232),Pr.fromTimestamp(function(r){const n=Mf(r);return new ir(n.seconds,n.nanos)}(e))}function VN(e,t){return iE(e,t).canonicalString()}function iE(e,t){const r=function(a){return new Hn(["projects",a.projectId,"databases",a.database])}(e).child("documents");return t===void 0?r:r.child(t)}function KB(e){const t=Hn.fromString(e);return yn(eU(t),10190,{key:t.toString()}),t}function sE(e,t){return VN(e.databaseId,t.path)}function TS(e,t){const r=KB(t);if(r.get(1)!==e.databaseId.projectId)throw new Kt(gt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new Kt(gt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new fr(XB(r))}function YB(e,t){return VN(e.databaseId,t)}function Sne(e){const t=KB(e);return t.length===4?Hn.emptyPath():XB(t)}function oE(e){return new Hn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function XB(e){return yn(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function SI(e,t,r){return{name:sE(e,t),fields:r.value.mapValue.fields}}function Ane(e,t){let r;if("targetChange"in t){t.targetChange;const n=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:xr(39313,{state:c})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(yn(u===void 0||typeof u=="string",58123),Ni.fromBase64String(u||"")):(yn(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),Ni.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(c){const u=c.code===void 0?gt.UNKNOWN:qB(c.code);return new Kt(u,c.message||"")}(s);r=new HB(n,a,i,o||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const a=TS(e,n.document.name),i=Zl(n.document.updateTime),s=n.document.createTime?Zl(n.document.createTime):Pr.min(),o=new Ps({mapValue:{fields:n.document.fields}}),l=Vi.newFoundDocument(a,i,s,o),c=n.targetIds||[],u=n.removedTargetIds||[];r=new v2(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const a=TS(e,n.document),i=n.readTime?Zl(n.readTime):Pr.min(),s=Vi.newNoDocument(a,i),o=n.removedTargetIds||[];r=new v2([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const a=TS(e,n.document),i=n.removedTargetIds||[];r=new v2([],i,a,null)}else{if(!("filter"in t))return xr(11601,{Vt:t});{t.filter;const n=t.filter;n.targetId;const{count:a=0,unchangedNames:i}=n,s=new pne(a,i),o=n.targetId;r=new WB(o,s)}}return r}function Ene(e,t){let r;if(t instanceof Y1)r={update:SI(e,t.key,t.value)};else if(t instanceof v5)r={delete:sE(e,t.key)};else if(t instanceof Xf)r={update:SI(e,t.key,t.data),updateMask:Dne(t.fieldMask)};else{if(!(t instanceof une))return xr(16599,{ft:t.type});r={verify:sE(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(n=>function(i,s){const o=s.transform;if(o instanceof $v)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Bv)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Uv)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof mb)return{fieldPath:s.field.canonicalString(),increment:o.Re};throw xr(20930,{transform:s.transform})}(0,n))),t.precondition.isNone||(r.currentDocument=function(a,i){return i.updateTime!==void 0?{updateTime:_ne(a,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:xr(27497)}(e,t.precondition)),r}function Tne(e,t){return e&&e.length>0?(yn(t!==void 0,14353),e.map(r=>function(a,i){let s=a.updateTime?Zl(a.updateTime):Zl(i);return s.isEqual(Pr.min())&&(s=Zl(i)),new one(s,a.transformResults||[])}(r,t))):[]}function Nne(e,t){return{documents:[YB(e,t.path)]}}function QB(e,t){const r={structuredQuery:{}},n=t.path;let a;t.collectionGroup!==null?(a=n,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=YB(e,a);const i=function(c){if(c.length!==0)return ZB(El.create(c,"and"))}(t.filters);i&&(r.structuredQuery.where=i);const s=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:Zu(h.field),direction:One(h.dir)}}(u))}(t.orderBy);s&&(r.structuredQuery.orderBy=s);const o=aE(e,t.limit);return o!==null&&(r.structuredQuery.limit=o),t.startAt&&(r.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{gt:r,parent:a}}function kne(e,t,r,n){const{gt:a,parent:i}=QB(e,t),s={},o=[];let l=0;return r.forEach(c=>{const u="aggregate_"+l++;s[u]=c.alias,c.aggregateType==="count"?o.push({alias:u,count:{}}):c.aggregateType==="avg"?o.push({alias:u,avg:{field:Zu(c.fieldPath)}}):c.aggregateType==="sum"&&o.push({alias:u,sum:{field:Zu(c.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:o,structuredQuery:a.structuredQuery},parent:a.parent},yt:s,parent:i}}function Cne(e){let t=Sne(e.parent);const r=e.structuredQuery,n=r.from?r.from.length:0;let a=null;if(n>0){yn(n===1,65062);const u=r.from[0];u.allDescendants?a=u.collectionId:t=t.child(u.collectionId)}let i=[];r.where&&(i=function(f){const h=JB(f);return h instanceof El&&TB(h)?h.getFilters():[h]}(r.where));let s=[];r.orderBy&&(s=function(f){return f.map(h=>function(g){return new Fv(h0(g.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(r.orderBy));let o=null;r.limit&&(o=function(f){let h;return h=typeof f=="object"?f.value:f,u5(h)?null:h}(r.limit));let l=null;r.startAt&&(l=function(f){const h=!!f.before,p=f.values||[];return new hb(p,h)}(r.startAt));let c=null;return r.endAt&&(c=function(f){const h=!f.before,p=f.values||[];return new hb(p,h)}(r.endAt)),Gre(t,a,s,i,o,"F",l,c)}function Pne(e,t){const r=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xr(28987,{purpose:a})}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function JB(e){return e.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=h0(r.unaryFilter.field);return Da.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=h0(r.unaryFilter.field);return Da.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=h0(r.unaryFilter.field);return Da.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=h0(r.unaryFilter.field);return Da.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xr(61313);default:return xr(60726)}}(e):e.fieldFilter!==void 0?function(r){return Da.create(h0(r.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xr(58110);default:return xr(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(r){return El.create(r.compositeFilter.filters.map(n=>JB(n)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return xr(1026)}}(r.compositeFilter.op))}(e):xr(30097,{filter:e})}function One(e){return yne[e]}function Ine(e){return xne[e]}function jne(e){return bne[e]}function Zu(e){return{fieldPath:e.canonicalString()}}function h0(e){return bi.fromServerFormat(e.fieldPath)}function ZB(e){return e instanceof Da?function(r){if(r.op==="=="){if(uI(r.value))return{unaryFilter:{field:Zu(r.field),op:"IS_NAN"}};if(cI(r.value))return{unaryFilter:{field:Zu(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(uI(r.value))return{unaryFilter:{field:Zu(r.field),op:"IS_NOT_NAN"}};if(cI(r.value))return{unaryFilter:{field:Zu(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zu(r.field),op:Ine(r.op),value:r.value}}}(e):e instanceof El?function(r){const n=r.getFilters().map(a=>ZB(a));return n.length===1?n[0]:{compositeFilter:{op:jne(r.op),filters:n}}}(e):xr(54877,{filter:e})}function Dne(e){const t=[];return e.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function eU(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(t,r,n,a,i=Pr.min(),s=Pr.min(),o=Ni.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=r,this.purpose=n,this.sequenceNumber=a,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(t){return new of(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new of(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new of(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new of(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lne{constructor(t){this.wt=t}}function Mne(e){const t=Cne({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?pb(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rne{constructor(){this.yn=new Fne}addToCollectionParentIndex(t,r){return this.yn.add(r),bt.resolve()}getCollectionParents(t,r){return bt.resolve(this.yn.getEntries(r))}addFieldIndex(t,r){return bt.resolve()}deleteFieldIndex(t,r){return bt.resolve()}deleteAllFieldIndexes(t){return bt.resolve()}createTargetIndexes(t,r){return bt.resolve()}getDocumentsMatchingTarget(t,r){return bt.resolve(null)}getIndexType(t,r){return bt.resolve(0)}getFieldIndexes(t,r){return bt.resolve([])}getNextCollectionGroupToUpdate(t){return bt.resolve(null)}getMinOffset(t,r){return bt.resolve(Lf.min())}getMinOffsetFromCollectionGroup(t,r){return bt.resolve(Lf.min())}updateCollectionGroup(t,r,n){return bt.resolve()}updateIndexEntries(t,r){return bt.resolve()}}class Fne{constructor(){this.index={}}add(t){const r=t.lastSegment(),n=t.popLast(),a=this.index[r]||new Wa(Hn.comparator),i=!a.has(n);return this.index[r]=a.add(n),i}has(t){const r=t.lastSegment(),n=t.popLast(),a=this.index[r];return a&&a.has(n)}getEntries(t){return(this.index[t]||new Wa(Hn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tU=41943040;class Ns{static withCacheSize(t){return new Ns(t,Ns.DEFAULT_COLLECTION_PERCENTILE,Ns.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ns.DEFAULT_COLLECTION_PERCENTILE=10,Ns.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ns.DEFAULT=new Ns(tU,Ns.DEFAULT_COLLECTION_PERCENTILE,Ns.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ns.DISABLED=new Ns(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(t){this.nr=t}next(){return this.nr+=2,this.nr}static rr(){return new vp(0)}static ir(){return new vp(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI="LruGarbageCollector",$ne=1048576;function TI([e,t],[r,n]){const a=zr(e,r);return a===0?zr(t,n):a}class Bne{constructor(t){this.cr=t,this.buffer=new Wa(TI),this.lr=0}hr(){return++this.lr}Pr(t){const r=[t,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();TI(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Une{constructor(t,r,n){this.garbageCollector=t,this.asyncQueue=r,this.localStore=n,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(t){Xt(EI,`Garbage collection scheduled in ${t}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){rm(r)?Xt(EI,"Ignoring IndexedDB error during garbage collection: ",r):await tm(r)}await this.Ir(3e5)})}}class Vne{constructor(t,r){this.Er=t,this.params=r}calculateTargetCount(t,r){return this.Er.dr(t).next(n=>Math.floor(r/100*n))}nthSequenceNumber(t,r){if(r===0)return bt.resolve(c5.le);const n=new Bne(r);return this.Er.forEachTarget(t,a=>n.Pr(a.sequenceNumber)).next(()=>this.Er.Ar(t,a=>n.Pr(a))).next(()=>n.maxValue)}removeTargets(t,r,n){return this.Er.removeTargets(t,r,n)}removeOrphanedDocuments(t,r){return this.Er.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(Xt("LruGarbageCollector","Garbage collection skipped; disabled"),bt.resolve(AI)):this.getCacheSize(t).next(n=>n<this.params.cacheSizeCollectionThreshold?(Xt("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),AI):this.Rr(t,r))}getCacheSize(t){return this.Er.getCacheSize(t)}Rr(t,r){let n,a,i,s,o,l,c;const u=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Xt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),a=this.params.maximumSequenceNumbersToCollect):a=f,s=Date.now(),this.nthSequenceNumber(t,a))).next(f=>(n=f,o=Date.now(),this.removeTargets(t,n,r))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(t,n))).next(f=>(c=Date.now(),f0()<=nn.DEBUG&&Xt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${a} in `+(o-s)+`ms
	Removed ${i} targets in `+(l-o)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),bt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:i,documentsRemoved:f})))}}function zne(e,t){return new Vne(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qne{constructor(){this.changes=new bh(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,Vi.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?bt.resolve(n):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wne{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hne{constructor(t,r,n,a){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=a}getDocument(t,r){let n=null;return this.documentOverlayCache.getOverlay(t,r).next(a=>(n=a,this.remoteDocumentCache.getEntry(t,r))).next(a=>(n!==null&&Bg(n.mutation,a,ro.empty(),ir.now()),a))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.getLocalViewOfDocuments(t,n,Qr()).next(()=>n))}getLocalViewOfDocuments(t,r,n=Qr()){const a=Dd();return this.populateOverlays(t,a,r).next(()=>this.computeViews(t,r,a,n).next(i=>{let s=vg();return i.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,r){const n=Dd();return this.populateOverlays(t,n,r).next(()=>this.computeViews(t,r,n,Qr()))}populateOverlays(t,r,n){const a=[];return n.forEach(i=>{r.has(i)||a.push(i)}),this.documentOverlayCache.getOverlays(t,a).next(i=>{i.forEach((s,o)=>{r.set(s,o)})})}computeViews(t,r,n,a){let i=Qc();const s=$g(),o=function(){return $g()}();return r.forEach((l,c)=>{const u=n.get(c.key);a.has(c.key)&&(u===void 0||u.mutation instanceof Xf)?i=i.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),Bg(u.mutation,c,u.mutation.getFieldMask(),ir.now())):s.set(c.key,ro.empty())}),this.recalculateAndSaveOverlays(t,i).next(l=>(l.forEach((c,u)=>s.set(c,u)),r.forEach((c,u)=>{var f;return o.set(c,new Wne(u,(f=s.get(c))!==null&&f!==void 0?f:null))}),o))}recalculateAndSaveOverlays(t,r){const n=$g();let a=new oa((s,o)=>s-o),i=Qr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(s=>{for(const o of s)o.keys().forEach(l=>{const c=r.get(l);if(c===null)return;let u=n.get(l)||ro.empty();u=o.applyToLocalView(c,u),n.set(l,u);const f=(a.get(o.batchId)||Qr()).add(l);a=a.insert(o.batchId,f)})}).next(()=>{const s=[],o=a.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,f=MB();u.forEach(h=>{if(!i.has(h)){const p=VB(r.get(h),n.get(h));p!==null&&f.set(h,p),i=i.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(t,c,f))}return bt.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,r,n,a){return function(s){return fr.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):PB(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,n,a):this.getDocumentsMatchingCollectionQuery(t,r,n,a)}getNextDocuments(t,r,n,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,n,a).next(i=>{const s=a-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,n.largestBatchId,a-i.size):bt.resolve(Dd());let o=Dv,l=i;return s.next(c=>bt.forEach(c,(u,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),i.get(u)?bt.resolve():this.remoteDocumentCache.getEntry(t,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(t,c,i)).next(()=>this.computeViews(t,l,c,Qr())).next(u=>({batchId:o,changes:LB(u)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new fr(r)).next(n=>{let a=vg();return n.isFoundDocument()&&(a=a.insert(n.key,n)),a})}getDocumentsMatchingCollectionGroupQuery(t,r,n,a){const i=r.collectionGroup;let s=vg();return this.indexManager.getCollectionParents(t,i).next(o=>bt.forEach(o,l=>{const c=function(f,h){return new nm(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,l.child(i));return this.getDocumentsMatchingCollectionQuery(t,c,n,a).next(u=>{u.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,r,n,a){let i;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,n,i,a))).next(s=>{i.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,Vi.newInvalidDocument(u)))});let o=vg();return s.forEach((l,c)=>{const u=i.get(l);u!==void 0&&Bg(u.mutation,c,ro.empty(),ir.now()),p5(r,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gne{constructor(t){this.serializer=t,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(t,r){return bt.resolve(this.Fr.get(r))}saveBundleMetadata(t,r){return this.Fr.set(r.id,function(a){return{id:a.id,version:a.version,createTime:Zl(a.createTime)}}(r)),bt.resolve()}getNamedQuery(t,r){return bt.resolve(this.Mr.get(r))}saveNamedQuery(t,r){return this.Mr.set(r.name,function(a){return{name:a.name,query:Mne(a.bundledQuery),readTime:Zl(a.readTime)}}(r)),bt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kne{constructor(){this.overlays=new oa(fr.comparator),this.Or=new Map}getOverlay(t,r){return bt.resolve(this.overlays.get(r))}getOverlays(t,r){const n=Dd();return bt.forEach(r,a=>this.getOverlay(t,a).next(i=>{i!==null&&n.set(a,i)})).next(()=>n)}saveOverlays(t,r,n){return n.forEach((a,i)=>{this.St(t,r,i)}),bt.resolve()}removeOverlaysForBatchId(t,r,n){const a=this.Or.get(n);return a!==void 0&&(a.forEach(i=>this.overlays=this.overlays.remove(i)),this.Or.delete(n)),bt.resolve()}getOverlaysForCollection(t,r,n){const a=Dd(),i=r.length+1,s=new fr(r.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>n&&a.set(l.getKey(),l)}return bt.resolve(a)}getOverlaysForCollectionGroup(t,r,n,a){let i=new oa((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===r&&c.largestBatchId>n){let u=i.get(c.largestBatchId);u===null&&(u=Dd(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=Dd(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>o.set(c,u)),!(o.size()>=a)););return bt.resolve(o)}St(t,r,n){const a=this.overlays.get(n.key);if(a!==null){const s=this.Or.get(a.largestBatchId).delete(n.key);this.Or.set(a.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new dne(r,n));let i=this.Or.get(r);i===void 0&&(i=Qr(),this.Or.set(r,i)),this.Or.set(r,i.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yne{constructor(){this.sessionToken=Ni.EMPTY_BYTE_STRING}getSessionToken(t){return bt.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,bt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(){this.Nr=new Wa(Qa.Br),this.Lr=new Wa(Qa.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(t,r){const n=new Qa(t,r);this.Nr=this.Nr.add(n),this.Lr=this.Lr.add(n)}qr(t,r){t.forEach(n=>this.addReference(n,r))}removeReference(t,r){this.Qr(new Qa(t,r))}$r(t,r){t.forEach(n=>this.removeReference(n,r))}Ur(t){const r=new fr(new Hn([])),n=new Qa(r,t),a=new Qa(r,t+1),i=[];return this.Lr.forEachInRange([n,a],s=>{this.Qr(s),i.push(s.key)}),i}Kr(){this.Nr.forEach(t=>this.Qr(t))}Qr(t){this.Nr=this.Nr.delete(t),this.Lr=this.Lr.delete(t)}Wr(t){const r=new fr(new Hn([])),n=new Qa(r,t),a=new Qa(r,t+1);let i=Qr();return this.Lr.forEachInRange([n,a],s=>{i=i.add(s.key)}),i}containsKey(t){const r=new Qa(t,0),n=this.Nr.firstAfterOrEqual(r);return n!==null&&t.isEqual(n.key)}}class Qa{constructor(t,r){this.key=t,this.Gr=r}static Br(t,r){return fr.comparator(t.key,r.key)||zr(t.Gr,r.Gr)}static kr(t,r){return zr(t.Gr,r.Gr)||fr.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xne{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.Jn=1,this.zr=new Wa(Qa.Br)}checkEmpty(t){return bt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,n,a){const i=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new fne(i,r,n,a);this.mutationQueue.push(s);for(const o of a)this.zr=this.zr.add(new Qa(o.key,i)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return bt.resolve(s)}lookupMutationBatch(t,r){return bt.resolve(this.jr(r))}getNextMutationBatchAfterBatchId(t,r){const n=r+1,a=this.Hr(n),i=a<0?0:a;return bt.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return bt.resolve(this.mutationQueue.length===0?DN:this.Jn-1)}getAllMutationBatches(t){return bt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const n=new Qa(r,0),a=new Qa(r,Number.POSITIVE_INFINITY),i=[];return this.zr.forEachInRange([n,a],s=>{const o=this.jr(s.Gr);i.push(o)}),bt.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,r){let n=new Wa(zr);return r.forEach(a=>{const i=new Qa(a,0),s=new Qa(a,Number.POSITIVE_INFINITY);this.zr.forEachInRange([i,s],o=>{n=n.add(o.Gr)})}),bt.resolve(this.Jr(n))}getAllMutationBatchesAffectingQuery(t,r){const n=r.path,a=n.length+1;let i=n;fr.isDocumentKey(i)||(i=i.child(""));const s=new Qa(new fr(i),0);let o=new Wa(zr);return this.zr.forEachWhile(l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===a&&(o=o.add(l.Gr)),!0)},s),bt.resolve(this.Jr(o))}Jr(t){const r=[];return t.forEach(n=>{const a=this.jr(n);a!==null&&r.push(a)}),r}removeMutationBatch(t,r){yn(this.Yr(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.zr;return bt.forEach(r.mutations,a=>{const i=new Qa(a.key,r.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.zr=n})}Xn(t){}containsKey(t,r){const n=new Qa(r,0),a=this.zr.firstAfterOrEqual(n);return bt.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,bt.resolve()}Yr(t,r){return this.Hr(t)}Hr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}jr(t){const r=this.Hr(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qne{constructor(t){this.Zr=t,this.docs=function(){return new oa(fr.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const n=r.key,a=this.docs.get(n),i=a?a.size:0,s=this.Zr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const n=this.docs.get(r);return bt.resolve(n?n.document.mutableCopy():Vi.newInvalidDocument(r))}getEntries(t,r){let n=Qc();return r.forEach(a=>{const i=this.docs.get(a);n=n.insert(a,i?i.document.mutableCopy():Vi.newInvalidDocument(a))}),bt.resolve(n)}getDocumentsMatchingQuery(t,r,n,a){let i=Qc();const s=r.path,o=new fr(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||Ere(Are(u),n)<=0||(a.has(u.key)||p5(r,u))&&(i=i.insert(u.key,u.mutableCopy()))}return bt.resolve(i)}getAllFromCollectionGroup(t,r,n,a){xr(9500)}Xr(t,r){return bt.forEach(this.docs,n=>r(n))}newChangeBuffer(t){return new Jne(this)}getSize(t){return bt.resolve(this.size)}}class Jne extends qne{constructor(t){super(),this.vr=t}applyChanges(t){const r=[];return this.changes.forEach((n,a)=>{a.isValidDocument()?r.push(this.vr.addEntry(t,a)):this.vr.removeEntry(n)}),bt.waitFor(r)}getFromCache(t,r){return this.vr.getEntry(t,r)}getAllFromCache(t,r){return this.vr.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zne{constructor(t){this.persistence=t,this.ei=new bh(r=>RN(r),FN),this.lastRemoteSnapshotVersion=Pr.min(),this.highestTargetId=0,this.ti=0,this.ni=new zN,this.targetCount=0,this.ri=vp.rr()}forEachTarget(t,r){return this.ei.forEach((n,a)=>r(a)),bt.resolve()}getLastRemoteSnapshotVersion(t){return bt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return bt.resolve(this.ti)}allocateTargetId(t){return this.highestTargetId=this.ri.next(),bt.resolve(this.highestTargetId)}setTargetsMetadata(t,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.ti&&(this.ti=r),bt.resolve()}ar(t){this.ei.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.ri=new vp(r),this.highestTargetId=r),t.sequenceNumber>this.ti&&(this.ti=t.sequenceNumber)}addTargetData(t,r){return this.ar(r),this.targetCount+=1,bt.resolve()}updateTargetData(t,r){return this.ar(r),bt.resolve()}removeTargetData(t,r){return this.ei.delete(r.target),this.ni.Ur(r.targetId),this.targetCount-=1,bt.resolve()}removeTargets(t,r,n){let a=0;const i=[];return this.ei.forEach((s,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.ei.delete(s),i.push(this.removeMatchingKeysForTargetId(t,o.targetId)),a++)}),bt.waitFor(i).next(()=>a)}getTargetCount(t){return bt.resolve(this.targetCount)}getTargetData(t,r){const n=this.ei.get(r)||null;return bt.resolve(n)}addMatchingKeys(t,r,n){return this.ni.qr(r,n),bt.resolve()}removeMatchingKeys(t,r,n){this.ni.$r(r,n);const a=this.persistence.referenceDelegate,i=[];return a&&r.forEach(s=>{i.push(a.markPotentiallyOrphaned(t,s))}),bt.waitFor(i)}removeMatchingKeysForTargetId(t,r){return this.ni.Ur(r),bt.resolve()}getMatchingKeysForTargetId(t,r){const n=this.ni.Wr(r);return bt.resolve(n)}containsKey(t,r){return bt.resolve(this.ni.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{constructor(t,r){this.ii={},this.overlays={},this.si=new c5(0),this.oi=!1,this.oi=!0,this._i=new Yne,this.referenceDelegate=t(this),this.ai=new Zne(this),this.indexManager=new Rne,this.remoteDocumentCache=function(a){return new Qne(a)}(n=>this.referenceDelegate.ui(n)),this.serializer=new Lne(r),this.ci=new Gne(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new Kne,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let n=this.ii[t.toKey()];return n||(n=new Xne(r,this.referenceDelegate),this.ii[t.toKey()]=n),n}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(t,r,n){Xt("MemoryPersistence","Starting transaction:",t);const a=new eae(this.si.next());return this.referenceDelegate.li(),n(a).next(i=>this.referenceDelegate.hi(a).next(()=>i)).toPromise().then(i=>(a.raiseOnCommittedEvent(),i))}Pi(t,r){return bt.or(Object.values(this.ii).map(n=>()=>n.containsKey(t,r)))}}class eae extends Nre{constructor(t){super(),this.currentSequenceNumber=t}}class qN{constructor(t){this.persistence=t,this.Ti=new zN,this.Ii=null}static Ei(t){return new qN(t)}get di(){if(this.Ii)return this.Ii;throw xr(60996)}addReference(t,r,n){return this.Ti.addReference(n,r),this.di.delete(n.toString()),bt.resolve()}removeReference(t,r,n){return this.Ti.removeReference(n,r),this.di.add(n.toString()),bt.resolve()}markPotentiallyOrphaned(t,r){return this.di.add(r.toString()),bt.resolve()}removeTarget(t,r){this.Ti.Ur(r.targetId).forEach(a=>this.di.add(a.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,r.targetId).next(a=>{a.forEach(i=>this.di.add(i.toString()))}).next(()=>n.removeTargetData(t,r))}li(){this.Ii=new Set}hi(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return bt.forEach(this.di,n=>{const a=fr.fromPath(n);return this.Ai(t,a).next(i=>{i||r.removeEntry(a,Pr.min())})}).next(()=>(this.Ii=null,r.apply(t)))}updateLimboDocument(t,r){return this.Ai(t,r).next(n=>{n?this.di.delete(r.toString()):this.di.add(r.toString())})}ui(t){return 0}Ai(t,r){return bt.or([()=>bt.resolve(this.Ti.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Pi(t,r)])}}class vb{constructor(t,r){this.persistence=t,this.Ri=new bh(n=>Pre(n.path),(n,a)=>n.isEqual(a)),this.garbageCollector=zne(this,r)}static Ei(t,r){return new vb(t,r)}li(){}hi(t){return bt.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}dr(t){const r=this.Vr(t);return this.persistence.getTargetCache().getTargetCount(t).next(n=>r.next(a=>n+a))}Vr(t){let r=0;return this.Ar(t,n=>{r++}).next(()=>r)}Ar(t,r){return bt.forEach(this.Ri,(n,a)=>this.gr(t,n,a).next(i=>i?bt.resolve():r(a)))}removeTargets(t,r,n){return this.persistence.getTargetCache().removeTargets(t,r,n)}removeOrphanedDocuments(t,r){let n=0;const a=this.persistence.getRemoteDocumentCache(),i=a.newChangeBuffer();return a.Xr(t,s=>this.gr(t,s,r).next(o=>{o||(n++,i.removeEntry(s,Pr.min()))})).next(()=>i.apply(t)).next(()=>n)}markPotentiallyOrphaned(t,r){return this.Ri.set(r,t.currentSequenceNumber),bt.resolve()}removeTarget(t,r){const n=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,r,n){return this.Ri.set(n,t.currentSequenceNumber),bt.resolve()}removeReference(t,r,n){return this.Ri.set(n,t.currentSequenceNumber),bt.resolve()}updateLimboDocument(t,r){return this.Ri.set(r,t.currentSequenceNumber),bt.resolve()}ui(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=p2(t.data.value)),r}gr(t,r,n){return bt.or([()=>this.persistence.Pi(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const a=this.Ri.get(r);return bt.resolve(a!==void 0&&a>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(t,r,n,a){this.targetId=t,this.fromCache=r,this.ls=n,this.hs=a}static Ps(t,r){let n=Qr(),a=Qr();for(const i of r.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:a=a.add(i.doc.key)}return new WN(t,r.fromCache,n,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tae{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rae{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return Kee()?8:kre(Hee())>0?6:4}()}initialize(t,r){this.As=t,this.indexManager=r,this.Ts=!0}getDocumentsMatchingQuery(t,r,n,a){const i={result:null};return this.Rs(t,r).next(s=>{i.result=s}).next(()=>{if(!i.result)return this.Vs(t,r,a,n).next(s=>{i.result=s})}).next(()=>{if(i.result)return;const s=new tae;return this.fs(t,r,s).next(o=>{if(i.result=o,this.Is)return this.gs(t,r,s,o.size)})}).next(()=>i.result)}gs(t,r,n,a){return n.documentReadCount<this.Es?(f0()<=nn.DEBUG&&Xt("QueryEngine","SDK will not create cache indexes for query:",d0(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),bt.resolve()):(f0()<=nn.DEBUG&&Xt("QueryEngine","Query:",d0(r),"scans",n.documentReadCount,"local documents and returns",a,"documents as results."),n.documentReadCount>this.ds*a?(f0()<=nn.DEBUG&&Xt("QueryEngine","The SDK decides to create cache indexes for query:",d0(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Jl(r))):bt.resolve())}Rs(t,r){if(pI(r))return bt.resolve(null);let n=Jl(r);return this.indexManager.getIndexType(t,n).next(a=>a===0?null:(r.limit!==null&&a===1&&(r=pb(r,null,"F"),n=Jl(r)),this.indexManager.getDocumentsMatchingTarget(t,n).next(i=>{const s=Qr(...i);return this.As.getDocuments(t,s).next(o=>this.indexManager.getMinOffset(t,n).next(l=>{const c=this.ps(r,o);return this.ys(r,c,s,l.readTime)?this.Rs(t,pb(r,null,"F")):this.ws(t,c,r,l)}))})))}Vs(t,r,n,a){return pI(r)||a.isEqual(Pr.min())?bt.resolve(null):this.As.getDocuments(t,n).next(i=>{const s=this.ps(r,i);return this.ys(r,s,n,a)?bt.resolve(null):(f0()<=nn.DEBUG&&Xt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),d0(r)),this.ws(t,s,r,Sre(a,Dv)).next(o=>o))})}ps(t,r){let n=new Wa(jB(t));return r.forEach((a,i)=>{p5(t,i)&&(n=n.add(i))}),n}ys(t,r,n,a){if(t.limit===null)return!1;if(n.size!==r.size)return!0;const i=t.limitType==="F"?r.last():r.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(a)>0)}fs(t,r,n){return f0()<=nn.DEBUG&&Xt("QueryEngine","Using full collection scan to execute query:",d0(r)),this.As.getDocumentsMatchingQuery(t,r,Lf.min(),n)}ws(t,r,n,a){return this.As.getDocumentsMatchingQuery(t,n,a).next(i=>(r.forEach(s=>{i=i.insert(s.key,s)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN="LocalStore",nae=3e8;class aae{constructor(t,r,n,a){this.persistence=t,this.bs=r,this.serializer=a,this.Ss=new oa(zr),this.Ds=new bh(i=>RN(i),FN),this.vs=new Map,this.Cs=t.getRemoteDocumentCache(),this.ai=t.getTargetCache(),this.ci=t.getBundleCache(),this.Fs(n)}Fs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Hne(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.Ss))}}function iae(e,t,r,n){return new aae(e,t,r,n)}async function nU(e,t){const r=Cr(e);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let a;return r.mutationQueue.getAllMutationBatches(n).next(i=>(a=i,r.Fs(t),r.mutationQueue.getAllMutationBatches(n))).next(i=>{const s=[],o=[];let l=Qr();for(const c of a){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return r.localDocuments.getDocuments(n,l).next(c=>({Ms:c,removedBatchIds:s,addedBatchIds:o}))})})}function sae(e,t){const r=Cr(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const a=t.batch.keys(),i=r.Cs.newChangeBuffer({trackRemovals:!0});return function(o,l,c,u){const f=c.batch,h=f.keys();let p=bt.resolve();return h.forEach(g=>{p=p.next(()=>u.getEntry(l,g)).next(m=>{const y=c.docVersions.get(g);yn(y!==null,48541),m.version.compareTo(y)<0&&(f.applyToRemoteDocument(m,c),m.isValidDocument()&&(m.setReadTime(c.commitVersion),u.addEntry(m)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(r,n,t,i).next(()=>i.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,a,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let l=Qr();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(t))).next(()=>r.localDocuments.getDocuments(n,a))})}function aU(e){const t=Cr(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.ai.getLastRemoteSnapshotVersion(r))}function oae(e,t){const r=Cr(e),n=t.snapshotVersion;let a=r.Ss;return r.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const s=r.Cs.newChangeBuffer({trackRemovals:!0});a=r.Ss;const o=[];t.targetChanges.forEach((u,f)=>{const h=a.get(f);if(!h)return;o.push(r.ai.removeMatchingKeys(i,u.removedDocuments,f).next(()=>r.ai.addMatchingKeys(i,u.addedDocuments,f)));let p=h.withSequenceNumber(i.currentSequenceNumber);t.targetMismatches.get(f)!==null?p=p.withResumeToken(Ni.EMPTY_BYTE_STRING,Pr.min()).withLastLimboFreeSnapshotVersion(Pr.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,n)),a=a.insert(f,p),function(m,y,v){return m.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=nae?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(h,p,u)&&o.push(r.ai.updateTargetData(i,p))});let l=Qc(),c=Qr();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(i,u))}),o.push(lae(i,s,t.documentUpdates).next(u=>{l=u.xs,c=u.Os})),!n.isEqual(Pr.min())){const u=r.ai.getLastRemoteSnapshotVersion(i).next(f=>r.ai.setTargetsMetadata(i,i.currentSequenceNumber,n));o.push(u)}return bt.waitFor(o).next(()=>s.apply(i)).next(()=>r.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(r.Ss=a,i))}function lae(e,t,r){let n=Qr(),a=Qr();return r.forEach(i=>n=n.add(i)),t.getEntries(e,n).next(i=>{let s=Qc();return r.forEach((o,l)=>{const c=i.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(a=a.add(o)),l.isNoDocument()&&l.version.isEqual(Pr.min())?(t.removeEntry(o,l.readTime),s=s.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l),s=s.insert(o,l)):Xt(HN,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{xs:s,Os:a}})}function cae(e,t){const r=Cr(e);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(t===void 0&&(t=DN),r.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}function uae(e,t){const r=Cr(e);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let a;return r.ai.getTargetData(n,t).next(i=>i?(a=i,bt.resolve(a)):r.ai.allocateTargetId(n).next(s=>(a=new of(t,s,"TargetPurposeListen",n.currentSequenceNumber),r.ai.addTargetData(n,a).next(()=>a))))}).then(n=>{const a=r.Ss.get(n.targetId);return(a===null||n.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(r.Ss=r.Ss.insert(n.targetId,n),r.Ds.set(t,n.targetId)),n})}async function lE(e,t,r){const n=Cr(e),a=n.Ss.get(t),i=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",i,s=>n.persistence.referenceDelegate.removeTarget(s,a))}catch(s){if(!rm(s))throw s;Xt(HN,`Failed to update sequence numbers for target ${t}: ${s}`)}n.Ss=n.Ss.remove(t),n.Ds.delete(a.target)}function NI(e,t,r){const n=Cr(e);let a=Pr.min(),i=Qr();return n.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const f=Cr(l),h=f.Ds.get(u);return h!==void 0?bt.resolve(f.Ss.get(h)):f.ai.getTargetData(c,u)}(n,s,Jl(t)).next(o=>{if(o)return a=o.lastLimboFreeSnapshotVersion,n.ai.getMatchingKeysForTargetId(s,o.targetId).next(l=>{i=l})}).next(()=>n.bs.getDocumentsMatchingQuery(s,t,r?a:Pr.min(),r?i:Qr())).next(o=>(fae(n,Yre(t),o),{documents:o,Ns:i})))}function fae(e,t,r){let n=e.vs.get(t)||Pr.min();r.forEach((a,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)}),e.vs.set(t,n)}class kI{constructor(){this.activeTargetIds=tne()}$s(t){this.activeTargetIds=this.activeTargetIds.add(t)}Us(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Qs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class dae{constructor(){this.So=new kI,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,n){}addLocalQueryTarget(t,r=!0){return r&&this.So.$s(t),this.Do[t]||"not-current"}updateQueryState(t,r,n){this.Do[t]=r}removeLocalQueryTarget(t){this.So.Us(t)}isLocalQueryTarget(t){return this.So.activeTargetIds.has(t)}clearQueryState(t){delete this.Do[t]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(t){return this.So.activeTargetIds.has(t)}start(){return this.So=new kI,Promise.resolve()}handleUserChange(t,r,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hae{vo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI="ConnectivityMonitor";class PI{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(t){this.Oo.push(t)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Xt(CI,"Network connectivity changed: AVAILABLE");for(const t of this.Oo)t(0)}xo(){Xt(CI,"Network connectivity changed: UNAVAILABLE");for(const t of this.Oo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yx=null;function cE(){return yx===null?yx=function(){return 268435456+Math.round(2147483648*Math.random())}():yx++,"0x"+yx.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS="RestConnection",pae={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mae{get Bo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Lo=r+"://"+t.host,this.ko=`projects/${n}/databases/${a}`,this.qo=this.databaseId.database===fb?`project_id=${n}`:`project_id=${n}&database_id=${a}`}Qo(t,r,n,a,i){const s=cE(),o=this.$o(t,r.toUriEncodedString());Xt(NS,`Sending RPC '${t}' ${s}:`,o,n);const l={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(l,a,i);const{host:c}=new URL(o),u=ON(c);return this.Ko(t,o,l,n,u).then(f=>(Xt(NS,`Received RPC '${t}' ${s}: `,f),f),f=>{throw hp(NS,`RPC '${t}' ${s} failed with error: `,f,"url: ",o,"request:",n),f})}Wo(t,r,n,a,i,s){return this.Qo(t,r,n,a,i)}Uo(t,r,n){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+em}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,i)=>t[i]=a),n&&n.headers.forEach((a,i)=>t[i]=a)}$o(t,r){const n=pae[t];return`${this.Lo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gae{constructor(t){this.Go=t.Go,this.zo=t.zo}jo(t){this.Ho=t}Jo(t){this.Yo=t}Zo(t){this.Xo=t}onMessage(t){this.e_=t}close(){this.zo()}send(t){this.Go(t)}t_(){this.Ho()}n_(){this.Yo()}r_(t){this.Xo(t)}i_(t){this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi="WebChannelConnection";class vae extends mae{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ko(t,r,n,a,i){const s=cE();return new Promise((o,l)=>{const c=new aB;c.setWithCredentials(!0),c.listenOnce(iB.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case h2.NO_ERROR:const f=c.getResponseJson();Xt(Oi,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(f)),o(f);break;case h2.TIMEOUT:Xt(Oi,`RPC '${t}' ${s} timed out`),l(new Kt(gt.DEADLINE_EXCEEDED,"Request time out"));break;case h2.HTTP_ERROR:const h=c.getStatus();if(Xt(Oi,`RPC '${t}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const m=function(v){const b=v.toLowerCase().replace(/_/g,"-");return Object.values(gt).indexOf(b)>=0?b:gt.UNKNOWN}(g.status);l(new Kt(m,g.message))}else l(new Kt(gt.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Kt(gt.UNAVAILABLE,"Connection failed."));break;default:xr(9055,{s_:t,streamId:s,o_:c.getLastErrorCode(),__:c.getLastError()})}}finally{Xt(Oi,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(a);Xt(Oi,`RPC '${t}' ${s} sending request:`,a),c.send(r,"POST",u,n,15)})}a_(t,r,n){const a=cE(),i=[this.Lo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=lB(),o=oB(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Uo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const u=i.join("");Xt(Oi,`Creating RPC '${t}' stream ${a}: ${u}`,l);const f=s.createWebChannel(u,l);let h=!1,p=!1;const g=new gae({Go:y=>{p?Xt(Oi,`Not sending because RPC '${t}' stream ${a} is closed:`,y):(h||(Xt(Oi,`Opening RPC '${t}' stream ${a} transport.`),f.open(),h=!0),Xt(Oi,`RPC '${t}' stream ${a} sending:`,y),f.send(y))},zo:()=>f.close()}),m=(y,v,b)=>{y.listen(v,w=>{try{b(w)}catch(D){setTimeout(()=>{throw D},0)}})};return m(f,gg.EventType.OPEN,()=>{p||(Xt(Oi,`RPC '${t}' stream ${a} transport opened.`),g.t_())}),m(f,gg.EventType.CLOSE,()=>{p||(p=!0,Xt(Oi,`RPC '${t}' stream ${a} transport closed`),g.r_())}),m(f,gg.EventType.ERROR,y=>{p||(p=!0,hp(Oi,`RPC '${t}' stream ${a} transport errored. Name:`,y.name,"Message:",y.message),g.r_(new Kt(gt.UNAVAILABLE,"The operation could not be completed")))}),m(f,gg.EventType.MESSAGE,y=>{var v;if(!p){const b=y.data[0];yn(!!b,16349);const w=b,D=(w==null?void 0:w.error)||((v=w[0])===null||v===void 0?void 0:v.error);if(D){Xt(Oi,`RPC '${t}' stream ${a} received error:`,D);const P=D.status;let j=function(S){const I=Ca[S];if(I!==void 0)return qB(I)}(P),E=D.message;j===void 0&&(j=gt.INTERNAL,E="Unknown error status: "+P+" with message "+D.message),p=!0,g.r_(new Kt(j,E)),f.close()}else Xt(Oi,`RPC '${t}' stream ${a} received:`,b),g.i_(b)}}),m(o,sB.STAT_EVENT,y=>{y.stat===Q4.PROXY?Xt(Oi,`RPC '${t}' stream ${a} detected buffering proxy`):y.stat===Q4.NOPROXY&&Xt(Oi,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{g.n_()},0),g}}function kS(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x5(e){return new wne(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(t,r,n=1e3,a=1.5,i=6e4){this.bi=t,this.timerId=r,this.u_=n,this.c_=a,this.l_=i,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const r=Math.floor(this.h_+this.d_()),n=Math.max(0,Date.now()-this.T_),a=Math.max(0,r-n);a>0&&Xt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.h_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,a,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI="PersistentStream";class sU{constructor(t,r,n,a,i,s,o,l){this.bi=t,this.R_=n,this.V_=a,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new iU(t,r)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(t){this.M_(),this.stream.send(t)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(t,r){this.M_(),this.x_(),this.y_.cancel(),this.m_++,t!==4?this.y_.reset():r&&r.code===gt.RESOURCE_EXHAUSTED?(Xc(r.toString()),Xc("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):r&&r.code===gt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zo(r)}O_(){}auth(){this.state=1;const t=this.N_(this.m_),r=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,a])=>{this.m_===r&&this.B_(n,a)},n=>{t(()=>{const a=new Kt(gt.UNKNOWN,"Fetching auth token failed: "+n.message);return this.L_(a)})})}B_(t,r){const n=this.N_(this.m_);this.stream=this.k_(t,r),this.stream.jo(()=>{n(()=>this.listener.jo())}),this.stream.Jo(()=>{n(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(a=>{n(()=>this.L_(a))}),this.stream.onMessage(a=>{n(()=>++this.p_==1?this.q_(a):this.onNext(a))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(t){return Xt(OI,`close with error: ${t}`),this.stream=null,this.close(4,t)}N_(t){return r=>{this.bi.enqueueAndForget(()=>this.m_===t?r():(Xt(OI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yae extends sU{constructor(t,r,n,a,i,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,a,s),this.serializer=i}k_(t,r){return this.connection.a_("Listen",t,r)}q_(t){return this.onNext(t)}onNext(t){this.y_.reset();const r=Ane(this.serializer,t),n=function(i){if(!("targetChange"in i))return Pr.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?Pr.min():s.readTime?Zl(s.readTime):Pr.min()}(t);return this.listener.Q_(r,n)}U_(t){const r={};r.database=oE(this.serializer),r.addTarget=function(i,s){let o;const l=s.target;if(o=rE(l)?{documents:Nne(i,l)}:{query:QB(i,l).gt},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=GB(i,s.resumeToken);const c=aE(i,s.expectedCount);c!==null&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(Pr.min())>0){o.readTime=gb(i,s.snapshotVersion.toTimestamp());const c=aE(i,s.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,t);const n=Pne(this.serializer,t);n&&(r.labels=n),this.F_(r)}K_(t){const r={};r.database=oE(this.serializer),r.removeTarget=t,this.F_(r)}}class xae extends sU{constructor(t,r,n,a,i,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,a,s),this.serializer=i}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(t,r){return this.connection.a_("Write",t,r)}q_(t){return yn(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,yn(!t.writeResults||t.writeResults.length===0,55816),this.listener.z_()}onNext(t){yn(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.y_.reset();const r=Tne(t.writeResults,t.commitTime),n=Zl(t.commitTime);return this.listener.j_(n,r)}H_(){const t={};t.database=oE(this.serializer),this.F_(t)}G_(t){const r={streamToken:this.lastStreamToken,writes:t.map(n=>Ene(this.serializer,n))};this.F_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bae{}class wae extends bae{constructor(t,r,n,a){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=n,this.serializer=a,this.J_=!1}Y_(){if(this.J_)throw new Kt(gt.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(t,r,n,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Qo(t,iE(r,n),a,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Kt(gt.UNKNOWN,i.toString())})}Wo(t,r,n,a,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Wo(t,iE(r,n),a,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Kt(gt.UNKNOWN,s.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class _ae{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(t){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.na("Offline")))}set(t){this.sa(),this.Z_=0,t==="Online"&&(this.ea=!1),this.na(t)}na(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Xc(r),this.ea=!1):Xt("OnlineStateTracker",r)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh="RemoteStore";class Sae{constructor(t,r,n,a,i){this.localStore=t,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=i,this.ca.vo(s=>{n.enqueueAndForget(async()=>{wh(this)&&(Xt(sh,"Restarting streams for network reachability change."),await async function(l){const c=Cr(l);c.aa.add(4),await Q1(c),c.la.set("Unknown"),c.aa.delete(4),await b5(c)}(this))})}),this.la=new _ae(n,a)}}async function b5(e){if(wh(e))for(const t of e.ua)await t(!0)}async function Q1(e){for(const t of e.ua)await t(!1)}function oU(e,t){const r=Cr(e);r._a.has(t.targetId)||(r._a.set(t.targetId,t),XN(r)?YN(r):am(r).b_()&&KN(r,t))}function GN(e,t){const r=Cr(e),n=am(r);r._a.delete(t),n.b_()&&lU(r,t),r._a.size===0&&(n.b_()?n.v_():wh(r)&&r.la.set("Unknown"))}function KN(e,t){if(e.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Pr.min())>0){const r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}am(e).U_(t)}function lU(e,t){e.ha.Ke(t),am(e).K_(t)}function YN(e){e.ha=new vne({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e._a.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),am(e).start(),e.la.ta()}function XN(e){return wh(e)&&!am(e).w_()&&e._a.size>0}function wh(e){return Cr(e).aa.size===0}function cU(e){e.ha=void 0}async function Aae(e){e.la.set("Online")}async function Eae(e){e._a.forEach((t,r)=>{KN(e,t)})}async function Tae(e,t){cU(e),XN(e)?(e.la.ia(t),YN(e)):e.la.set("Unknown")}async function Nae(e,t,r){if(e.la.set("Online"),t instanceof HB&&t.state===2&&t.cause)try{await async function(a,i){const s=i.cause;for(const o of i.targetIds)a._a.has(o)&&(await a.remoteSyncer.rejectListen(o,s),a._a.delete(o),a.ha.removeTarget(o))}(e,t)}catch(n){Xt(sh,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await yb(e,n)}else if(t instanceof v2?e.ha.Xe(t):t instanceof WB?e.ha.ot(t):e.ha.nt(t),!r.isEqual(Pr.min()))try{const n=await aU(e.localStore);r.compareTo(n)>=0&&await function(i,s){const o=i.ha.It(s);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i._a.get(c);u&&i._a.set(c,u.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,c)=>{const u=i._a.get(l);if(!u)return;i._a.set(l,u.withResumeToken(Ni.EMPTY_BYTE_STRING,u.snapshotVersion)),lU(i,l);const f=new of(u.target,l,c,u.sequenceNumber);KN(i,f)}),i.remoteSyncer.applyRemoteEvent(o)}(e,r)}catch(n){Xt(sh,"Failed to raise snapshot:",n),await yb(e,n)}}async function yb(e,t,r){if(!rm(t))throw t;e.aa.add(1),await Q1(e),e.la.set("Offline"),r||(r=()=>aU(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Xt(sh,"Retrying IndexedDB access"),await r(),e.aa.delete(1),await b5(e)})}function uU(e,t){return t().catch(r=>yb(e,r,t))}async function w5(e){const t=Cr(e),r=$f(t);let n=t.oa.length>0?t.oa[t.oa.length-1].batchId:DN;for(;kae(t);)try{const a=await cae(t.localStore,n);if(a===null){t.oa.length===0&&r.v_();break}n=a.batchId,Cae(t,a)}catch(a){await yb(t,a)}fU(t)&&dU(t)}function kae(e){return wh(e)&&e.oa.length<10}function Cae(e,t){e.oa.push(t);const r=$f(e);r.b_()&&r.W_&&r.G_(t.mutations)}function fU(e){return wh(e)&&!$f(e).w_()&&e.oa.length>0}function dU(e){$f(e).start()}async function Pae(e){$f(e).H_()}async function Oae(e){const t=$f(e);for(const r of e.oa)t.G_(r.mutations)}async function Iae(e,t,r){const n=e.oa.shift(),a=BN.from(n,t,r);await uU(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await w5(e)}async function jae(e,t){t&&$f(e).W_&&await async function(n,a){if(function(s){return mne(s)&&s!==gt.ABORTED}(a.code)){const i=n.oa.shift();$f(n).D_(),await uU(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,a)),await w5(n)}}(e,t),fU(e)&&dU(e)}async function II(e,t){const r=Cr(e);r.asyncQueue.verifyOperationInProgress(),Xt(sh,"RemoteStore received new credentials");const n=wh(r);r.aa.add(3),await Q1(r),n&&r.la.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.aa.delete(3),await b5(r)}async function Dae(e,t){const r=Cr(e);t?(r.aa.delete(2),await b5(r)):t||(r.aa.add(2),await Q1(r),r.la.set("Unknown"))}function am(e){return e.Pa||(e.Pa=function(r,n,a){const i=Cr(r);return i.Y_(),new yae(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(e.datastore,e.asyncQueue,{jo:Aae.bind(null,e),Jo:Eae.bind(null,e),Zo:Tae.bind(null,e),Q_:Nae.bind(null,e)}),e.ua.push(async t=>{t?(e.Pa.D_(),XN(e)?YN(e):e.la.set("Unknown")):(await e.Pa.stop(),cU(e))})),e.Pa}function $f(e){return e.Ta||(e.Ta=function(r,n,a){const i=Cr(r);return i.Y_(),new xae(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(e.datastore,e.asyncQueue,{jo:()=>Promise.resolve(),Jo:Pae.bind(null,e),Zo:jae.bind(null,e),z_:Oae.bind(null,e),j_:Iae.bind(null,e)}),e.ua.push(async t=>{t?(e.Ta.D_(),await w5(e)):(await e.Ta.stop(),e.oa.length>0&&(Xt(sh,`Stopping write stream with ${e.oa.length} pending writes`),e.oa=[]))})),e.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(t,r,n,a,i){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=n,this.op=a,this.removalCallback=i,this.deferred=new Ql,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,n,a,i){const s=Date.now()+n,o=new QN(t,r,s,a,i);return o.start(n),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Kt(gt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function JN(e,t){if(Xc("AsyncQueue",`${t}: ${e}`),rm(e))return new Kt(gt.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{static emptySet(t){return new H0(t.comparator)}constructor(t){this.comparator=t?(r,n)=>t(r,n)||fr.comparator(r.key,n.key):(r,n)=>fr.comparator(r.key,n.key),this.keyedMap=vg(),this.sortedSet=new oa(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,n)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof H0)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;r.hasNext();){const a=r.getNext().key,i=n.getNext().key;if(!a.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const n=new H0;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(){this.Ia=new oa(fr.comparator)}track(t){const r=t.doc.key,n=this.Ia.get(r);n?t.type!==0&&n.type===3?this.Ia=this.Ia.insert(r,t):t.type===3&&n.type!==1?this.Ia=this.Ia.insert(r,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.Ia=this.Ia.insert(r,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.Ia=this.Ia.insert(r,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.Ia=this.Ia.remove(r):t.type===1&&n.type===2?this.Ia=this.Ia.insert(r,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.Ia=this.Ia.insert(r,{type:2,doc:t.doc}):xr(63341,{Vt:t,Ea:n}):this.Ia=this.Ia.insert(r,t)}da(){const t=[];return this.Ia.inorderTraversal((r,n)=>{t.push(n)}),t}}class yp{constructor(t,r,n,a,i,s,o,l,c){this.query=t,this.docs=r,this.oldDocs=n,this.docChanges=a,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,r,n,a,i){const s=[];return r.forEach(o=>{s.push({type:0,doc:o})}),new yp(t,r,H0.emptySet(r),s,n,a,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&h5(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,n=t.docChanges;if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(r[a].type!==n[a].type||!r[a].doc.isEqual(n[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lae{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(t=>t.ma())}}class Mae{constructor(){this.queries=DI(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(r,n){const a=Cr(r),i=a.queries;a.queries=DI(),i.forEach((s,o)=>{for(const l of o.Ra)l.onError(n)})})(this,new Kt(gt.ABORTED,"Firestore shutting down"))}}function DI(){return new bh(e=>IB(e),h5)}async function ZN(e,t){const r=Cr(e);let n=3;const a=t.query;let i=r.queries.get(a);i?!i.Va()&&t.ma()&&(n=2):(i=new Lae,n=t.ma()?0:1);try{switch(n){case 0:i.Aa=await r.onListen(a,!0);break;case 1:i.Aa=await r.onListen(a,!1);break;case 2:await r.onFirstRemoteStoreListen(a)}}catch(s){const o=JN(s,`Initialization of query '${d0(t.query)}' failed`);return void t.onError(o)}r.queries.set(a,i),i.Ra.push(t),t.ga(r.onlineState),i.Aa&&t.pa(i.Aa)&&tk(r)}async function ek(e,t){const r=Cr(e),n=t.query;let a=3;const i=r.queries.get(n);if(i){const s=i.Ra.indexOf(t);s>=0&&(i.Ra.splice(s,1),i.Ra.length===0?a=t.ma()?0:1:!i.Va()&&t.ma()&&(a=2))}switch(a){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function Rae(e,t){const r=Cr(e);let n=!1;for(const a of t){const i=a.query,s=r.queries.get(i);if(s){for(const o of s.Ra)o.pa(a)&&(n=!0);s.Aa=a}}n&&tk(r)}function Fae(e,t,r){const n=Cr(e),a=n.queries.get(t);if(a)for(const i of a.Ra)i.onError(r);n.queries.delete(t)}function tk(e){e.fa.forEach(t=>{t.next()})}var uE,LI;(LI=uE||(uE={})).ya="default",LI.Cache="cache";class rk{constructor(t,r,n){this.query=t,this.wa=r,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=n||{}}pa(t){if(!this.options.includeMetadataChanges){const n=[];for(const a of t.docChanges)a.type!==3&&n.push(a);t=new yp(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.ba?this.Da(t)&&(this.wa.next(t),r=!0):this.va(t,this.onlineState)&&(this.Ca(t),r=!0),this.Sa=t,r}onError(t){this.wa.error(t)}ga(t){this.onlineState=t;let r=!1;return this.Sa&&!this.ba&&this.va(this.Sa,t)&&(this.Ca(this.Sa),r=!0),r}va(t,r){if(!t.fromCache||!this.ma())return!0;const n=r!=="Offline";return(!this.options.Fa||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}Da(t){if(t.docChanges.length>0)return!0;const r=this.Sa&&this.Sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Ca(t){t=yp.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ba=!0,this.wa.next(t)}ma(){return this.options.source!==uE.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{constructor(t){this.key=t}}class pU{constructor(t){this.key=t}}class $ae{constructor(t,r){this.query=t,this.qa=r,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Qr(),this.mutatedKeys=Qr(),this.Ua=jB(t),this.Ka=new H0(this.Ua)}get Wa(){return this.qa}Ga(t,r){const n=r?r.za:new jI,a=r?r.Ka:this.Ka;let i=r?r.mutatedKeys:this.mutatedKeys,s=a,o=!1;const l=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,c=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((u,f)=>{const h=a.get(u),p=p5(this.query,f)?f:null,g=!!h&&this.mutatedKeys.has(h.key),m=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;h&&p?h.data.isEqual(p.data)?g!==m&&(n.track({type:3,doc:p}),y=!0):this.ja(h,p)||(n.track({type:2,doc:p}),y=!0,(l&&this.Ua(p,l)>0||c&&this.Ua(p,c)<0)&&(o=!0)):!h&&p?(n.track({type:0,doc:p}),y=!0):h&&!p&&(n.track({type:1,doc:h}),y=!0,(l||c)&&(o=!0)),y&&(p?(s=s.add(p),i=m?i.add(u):i.delete(u)):(s=s.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),i=i.delete(u.key),n.track({type:1,doc:u})}return{Ka:s,za:n,ys:o,mutatedKeys:i}}ja(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,n,a){const i=this.Ka;this.Ka=t.Ka,this.mutatedKeys=t.mutatedKeys;const s=t.za.da();s.sort((u,f)=>function(p,g){const m=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xr(20277,{Vt:y})}};return m(p)-m(g)}(u.type,f.type)||this.Ua(u.doc,f.doc)),this.Ha(n),a=a!=null&&a;const o=r&&!a?this.Ja():[],l=this.$a.size===0&&this.current&&!a?1:0,c=l!==this.Qa;return this.Qa=l,s.length!==0||c?{snapshot:new yp(this.query,t.Ka,i,s,t.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ya:o}:{Ya:o}}ga(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new jI,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(t){return!this.qa.has(t)&&!!this.Ka.has(t)&&!this.Ka.get(t).hasLocalMutations}Ha(t){t&&(t.addedDocuments.forEach(r=>this.qa=this.qa.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.qa=this.qa.delete(r)),this.current=t.current)}Ja(){if(!this.current)return[];const t=this.$a;this.$a=Qr(),this.Ka.forEach(n=>{this.Za(n.key)&&(this.$a=this.$a.add(n.key))});const r=[];return t.forEach(n=>{this.$a.has(n)||r.push(new pU(n))}),this.$a.forEach(n=>{t.has(n)||r.push(new hU(n))}),r}Xa(t){this.qa=t.Ns,this.$a=Qr();const r=this.Ga(t.documents);return this.applyChanges(r,!0)}eu(){return yp.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const nk="SyncEngine";class Bae{constructor(t,r,n){this.query=t,this.targetId=r,this.view=n}}class Uae{constructor(t){this.key=t,this.tu=!1}}class Vae{constructor(t,r,n,a,i,s){this.localStore=t,this.remoteStore=r,this.eventManager=n,this.sharedClientState=a,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.nu={},this.ru=new bh(o=>IB(o),h5),this.iu=new Map,this.su=new Set,this.ou=new oa(fr.comparator),this._u=new Map,this.au=new zN,this.uu={},this.cu=new Map,this.lu=vp.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function zae(e,t,r=!0){const n=bU(e);let a;const i=n.ru.get(t);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),a=i.view.eu()):a=await mU(n,t,r,!0),a}async function qae(e,t){const r=bU(e);await mU(r,t,!0,!1)}async function mU(e,t,r,n){const a=await uae(e.localStore,Jl(t)),i=a.targetId,s=e.sharedClientState.addLocalQueryTarget(i,r);let o;return n&&(o=await Wae(e,t,i,s==="current",a.resumeToken)),e.isPrimaryClient&&r&&oU(e.remoteStore,a),o}async function Wae(e,t,r,n,a){e.Pu=(f,h,p)=>async function(m,y,v,b){let w=y.view.Ga(v);w.ys&&(w=await NI(m.localStore,y.query,!1).then(({documents:E})=>y.view.Ga(E,w)));const D=b&&b.targetChanges.get(y.targetId),P=b&&b.targetMismatches.get(y.targetId)!=null,j=y.view.applyChanges(w,m.isPrimaryClient,D,P);return RI(m,y.targetId,j.Ya),j.snapshot}(e,f,h,p);const i=await NI(e.localStore,t,!0),s=new $ae(t,i.Ns),o=s.Ga(i.documents),l=X1.createSynthesizedTargetChangeForCurrentChange(r,n&&e.onlineState!=="Offline",a),c=s.applyChanges(o,e.isPrimaryClient,l);RI(e,r,c.Ya);const u=new Bae(t,r,s);return e.ru.set(t,u),e.iu.has(r)?e.iu.get(r).push(t):e.iu.set(r,[t]),c.snapshot}async function Hae(e,t,r){const n=Cr(e),a=n.ru.get(t),i=n.iu.get(a.targetId);if(i.length>1)return n.iu.set(a.targetId,i.filter(s=>!h5(s,t))),void n.ru.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(a.targetId),n.sharedClientState.isActiveQueryTarget(a.targetId)||await lE(n.localStore,a.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(a.targetId),r&&GN(n.remoteStore,a.targetId),fE(n,a.targetId)}).catch(tm)):(fE(n,a.targetId),await lE(n.localStore,a.targetId,!0))}async function Gae(e,t){const r=Cr(e),n=r.ru.get(t),a=r.iu.get(n.targetId);r.isPrimaryClient&&a.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),GN(r.remoteStore,n.targetId))}async function Kae(e,t,r){const n=tie(e);try{const a=await function(s,o){const l=Cr(s),c=ir.now(),u=o.reduce((p,g)=>p.add(g.key),Qr());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=Qc(),m=Qr();return l.Cs.getEntries(p,u).next(y=>{g=y,g.forEach((v,b)=>{b.isValidDocument()||(m=m.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(y=>{f=y;const v=[];for(const b of o){const w=cne(b,f.get(b.key).overlayedDocument);w!=null&&v.push(new Xf(b.key,w,SB(w.value.mapValue),gs.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,v,o)}).next(y=>{h=y;const v=y.applyToLocalDocumentSet(f,m);return l.documentOverlayCache.saveOverlays(p,y.batchId,v)})}).then(()=>({batchId:h.batchId,changes:LB(f)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(a.batchId),function(s,o,l){let c=s.uu[s.currentUser.toKey()];c||(c=new oa(zr)),c=c.insert(o,l),s.uu[s.currentUser.toKey()]=c}(n,a.batchId,r),await J1(n,a.changes),await w5(n.remoteStore)}catch(a){const i=JN(a,"Failed to persist write");r.reject(i)}}async function gU(e,t){const r=Cr(e);try{const n=await oae(r.localStore,t);t.targetChanges.forEach((a,i)=>{const s=r._u.get(i);s&&(yn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?s.tu=!0:a.modifiedDocuments.size>0?yn(s.tu,14607):a.removedDocuments.size>0&&(yn(s.tu,42227),s.tu=!1))}),await J1(r,n,t)}catch(n){await tm(n)}}function MI(e,t,r){const n=Cr(e);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const a=[];n.ru.forEach((i,s)=>{const o=s.view.ga(t);o.snapshot&&a.push(o.snapshot)}),function(s,o){const l=Cr(s);l.onlineState=o;let c=!1;l.queries.forEach((u,f)=>{for(const h of f.Ra)h.ga(o)&&(c=!0)}),c&&tk(l)}(n.eventManager,t),a.length&&n.nu.Q_(a),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function Yae(e,t,r){const n=Cr(e);n.sharedClientState.updateQueryState(t,"rejected",r);const a=n._u.get(t),i=a&&a.key;if(i){let s=new oa(fr.comparator);s=s.insert(i,Vi.newNoDocument(i,Pr.min()));const o=Qr().add(i),l=new y5(Pr.min(),new Map,new oa(zr),s,o);await gU(n,l),n.ou=n.ou.remove(i),n._u.delete(t),ak(n)}else await lE(n.localStore,t,!1).then(()=>fE(n,t,r)).catch(tm)}async function Xae(e,t){const r=Cr(e),n=t.batch.batchId;try{const a=await sae(r.localStore,t);yU(r,n,null),vU(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await J1(r,a)}catch(a){await tm(a)}}async function Qae(e,t,r){const n=Cr(e);try{const a=await function(s,o){const l=Cr(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next(f=>(yn(f!==null,37113),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(n.localStore,t);yU(n,t,r),vU(n,t),n.sharedClientState.updateMutationState(t,"rejected",r),await J1(n,a)}catch(a){await tm(a)}}function vU(e,t){(e.cu.get(t)||[]).forEach(r=>{r.resolve()}),e.cu.delete(t)}function yU(e,t,r){const n=Cr(e);let a=n.uu[n.currentUser.toKey()];if(a){const i=a.get(t);i&&(r?i.reject(r):i.resolve(),a=a.remove(t)),n.uu[n.currentUser.toKey()]=a}}function fE(e,t,r=null){e.sharedClientState.removeLocalQueryTarget(t);for(const n of e.iu.get(t))e.ru.delete(n),r&&e.nu.Tu(n,r);e.iu.delete(t),e.isPrimaryClient&&e.au.Ur(t).forEach(n=>{e.au.containsKey(n)||xU(e,n)})}function xU(e,t){e.su.delete(t.path.canonicalString());const r=e.ou.get(t);r!==null&&(GN(e.remoteStore,r),e.ou=e.ou.remove(t),e._u.delete(r),ak(e))}function RI(e,t,r){for(const n of r)n instanceof hU?(e.au.addReference(n.key,t),Jae(e,n)):n instanceof pU?(Xt(nk,"Document no longer in limbo: "+n.key),e.au.removeReference(n.key,t),e.au.containsKey(n.key)||xU(e,n.key)):xr(19791,{Iu:n})}function Jae(e,t){const r=t.key,n=r.path.canonicalString();e.ou.get(r)||e.su.has(n)||(Xt(nk,"New document in limbo: "+r),e.su.add(n),ak(e))}function ak(e){for(;e.su.size>0&&e.ou.size<e.maxConcurrentLimboResolutions;){const t=e.su.values().next().value;e.su.delete(t);const r=new fr(Hn.fromString(t)),n=e.lu.next();e._u.set(n,new Uae(r)),e.ou=e.ou.insert(r,n),oU(e.remoteStore,new of(Jl(d5(r.path)),n,"TargetPurposeLimboResolution",c5.le))}}async function J1(e,t,r){const n=Cr(e),a=[],i=[],s=[];n.ru.isEmpty()||(n.ru.forEach((o,l)=>{s.push(n.Pu(l,t,r).then(c=>{var u;if((c||r)&&n.isPrimaryClient){const f=c?!c.fromCache:(u=r==null?void 0:r.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){a.push(c);const f=WN.Ps(l.targetId,c);i.push(f)}}))}),await Promise.all(s),n.nu.Q_(a),await async function(l,c){const u=Cr(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>bt.forEach(c,h=>bt.forEach(h.ls,p=>u.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>bt.forEach(h.hs,p=>u.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!rm(f))throw f;Xt(HN,"Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const p=u.Ss.get(h),g=p.snapshotVersion,m=p.withLastLimboFreeSnapshotVersion(g);u.Ss=u.Ss.insert(h,m)}}}(n.localStore,i))}async function Zae(e,t){const r=Cr(e);if(!r.currentUser.isEqual(t)){Xt(nk,"User change. New user:",t.toKey());const n=await nU(r.localStore,t);r.currentUser=t,function(i,s){i.cu.forEach(o=>{o.forEach(l=>{l.reject(new Kt(gt.CANCELLED,s))})}),i.cu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await J1(r,n.Ms)}}function eie(e,t){const r=Cr(e),n=r._u.get(t);if(n&&n.tu)return Qr().add(n.key);{let a=Qr();const i=r.iu.get(t);if(!i)return a;for(const s of i){const o=r.ru.get(s);a=a.unionWith(o.view.Wa)}return a}}function bU(e){const t=Cr(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=gU.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=eie.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Yae.bind(null,t),t.nu.Q_=Rae.bind(null,t.eventManager),t.nu.Tu=Fae.bind(null,t.eventManager),t}function tie(e){const t=Cr(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Xae.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Qae.bind(null,t),t}class xb{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=x5(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),await this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)}mu(t,r){return null}fu(t,r){return null}Vu(t){return iae(this.persistence,new rae,t.initialUser,this.serializer)}Ru(t){return new rU(qN.Ei,this.serializer)}Au(t){return new dae}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xb.provider={build:()=>new xb};class rie extends xb{constructor(t){super(),this.cacheSizeBytes=t}mu(t,r){yn(this.persistence.referenceDelegate instanceof vb,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Une(n,t.asyncQueue,r)}Ru(t){const r=this.cacheSizeBytes!==void 0?Ns.withCacheSize(this.cacheSizeBytes):Ns.DEFAULT;return new rU(n=>vb.Ei(n,r),this.serializer)}}class dE{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>MI(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=Zae.bind(null,this.syncEngine),await Dae(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Mae}()}createDatastore(t){const r=x5(t.databaseInfo.databaseId),n=function(i){return new vae(i)}(t.databaseInfo);return function(i,s,o,l){return new wae(i,s,o,l)}(t.authCredentials,t.appCheckCredentials,n,r)}createRemoteStore(t){return function(n,a,i,s,o){return new Sae(n,a,i,s,o)}(this.localStore,this.datastore,t.asyncQueue,r=>MI(this.syncEngine,r,0),function(){return PI.C()?new PI:new hae}())}createSyncEngine(t,r){return function(a,i,s,o,l,c,u){const f=new Vae(a,i,s,o,l,c);return u&&(f.hu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(a){const i=Cr(a);Xt(sh,"RemoteStore shutting down."),i.aa.add(5),await Q1(i),i.ca.shutdown(),i.la.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}dE.provider={build:()=>new dE};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.pu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.pu(this.observer.error,t):Xc("Uncaught Error in snapshot listener:",t.toString()))}yu(){this.muted=!0}pu(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf="FirestoreClient";class nie{constructor(t,r,n,a,i){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=a,this.user=$i.UNAUTHENTICATED,this.clientId=dB.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async s=>{Xt(Bf,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(Xt(Bf,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ql;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const n=JN(r,"Failed to shutdown persistence");t.reject(n)}}),t.promise}}async function CS(e,t){e.asyncQueue.verifyOperationInProgress(),Xt(Bf,"Initializing OfflineComponentProvider");const r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener(async a=>{n.isEqual(a)||(await nU(t.localStore,a),n=a)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function FI(e,t){e.asyncQueue.verifyOperationInProgress();const r=await aie(e);Xt(Bf,"Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener(n=>II(t.remoteStore,n)),e.setAppCheckTokenChangeListener((n,a)=>II(t.remoteStore,a)),e._onlineComponents=t}async function aie(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Xt(Bf,"Using user provided OfflineComponentProvider");try{await CS(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(a){return a.name==="FirebaseError"?a.code===gt.FAILED_PRECONDITION||a.code===gt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(r))throw r;hp("Error using user provided cache. Falling back to memory cache: "+r),await CS(e,new xb)}}else Xt(Bf,"Using default OfflineComponentProvider"),await CS(e,new rie(void 0));return e._offlineComponents}async function sk(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Xt(Bf,"Using user provided OnlineComponentProvider"),await FI(e,e._uninitializedComponentsProvider._online)):(Xt(Bf,"Using default OnlineComponentProvider"),await FI(e,new dE))),e._onlineComponents}function iie(e){return sk(e).then(t=>t.syncEngine)}function sie(e){return sk(e).then(t=>t.datastore)}async function bb(e){const t=await sk(e),r=t.eventManager;return r.onListen=zae.bind(null,t.syncEngine),r.onUnlisten=Hae.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=qae.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=Gae.bind(null,t.syncEngine),r}function oie(e,t,r={}){const n=new Ql;return e.asyncQueue.enqueueAndForget(async()=>function(i,s,o,l,c){const u=new ik({next:h=>{u.yu(),s.enqueueAndForget(()=>ek(i,f));const p=h.docs.has(o);!p&&h.fromCache?c.reject(new Kt(gt.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?c.reject(new Kt(gt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new rk(d5(o.path),u,{includeMetadataChanges:!0,Fa:!0});return ZN(i,f)}(await bb(e),e.asyncQueue,t,r,n)),n.promise}function lie(e,t,r={}){const n=new Ql;return e.asyncQueue.enqueueAndForget(async()=>function(i,s,o,l,c){const u=new ik({next:h=>{u.yu(),s.enqueueAndForget(()=>ek(i,f)),h.fromCache&&l.source==="server"?c.reject(new Kt(gt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new rk(o,u,{includeMetadataChanges:!0,Fa:!0});return ZN(i,f)}(await bb(e),e.asyncQueue,t,r,n)),n.promise}function cie(e,t,r){const n=new Ql;return e.asyncQueue.enqueueAndForget(async()=>{try{const a=await sie(e);n.resolve(async function(s,o,l){var c;const u=Cr(s),{request:f,yt:h,parent:p}=kne(u.serializer,Kre(o),l);u.connection.Bo||delete f.parent;const g=(await u.Wo("RunAggregationQuery",u.serializer.databaseId,p,f,1)).filter(y=>!!y.result);yn(g.length===1,64727);const m=(c=g[0].result)===null||c===void 0?void 0:c.aggregateFields;return Object.keys(m).reduce((y,v)=>(y[h[v]]=m[v],y),{})}(a,t,r))}catch(a){n.reject(a)}}),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wU(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _U(e,t,r){if(!r)throw new Kt(gt.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function uie(e,t,r,n){if(t===!0&&n===!0)throw new Kt(gt.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)}function BI(e){if(!fr.isDocumentKey(e))throw new Kt(gt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function UI(e){if(fr.isDocumentKey(e))throw new Kt(gt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function _5(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":xr(12329,{type:typeof e})}function Yi(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Kt(gt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=_5(e);throw new Kt(gt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}function fie(e,t){if(t<=0)throw new Kt(gt.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SU="firestore.googleapis.com",VI=!0;class zI{constructor(t){var r,n;if(t.host===void 0){if(t.ssl!==void 0)throw new Kt(gt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=SU,this.ssl=VI}else this.host=t.host,this.ssl=(r=t.ssl)!==null&&r!==void 0?r:VI;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=tU;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<$ne)throw new Kt(gt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}uie("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wU((n=t.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Kt(gt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Kt(gt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Kt(gt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,a){return n.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class S5{constructor(t,r,n,a){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=n,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Kt(gt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Kt(gt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zI(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new pre;switch(n.type){case"firstParty":return new yre(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Kt(gt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,Y9("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=$I.get(r);n&&(Xt("ComponentProvider","Removing Datastore"),$I.delete(r),n.terminate())}(this),Promise.resolve()}}function die(e,t,r,n={}){var a;e=Yi(e,S5);const i=ON(t),s=e._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:e._getEmulatorOptions()}),l=`${t}:${r}`;s.host!==SU&&s.host!==l&&hp("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},s),{host:l,ssl:i,emulatorOptions:n});if(!ob(c,o)&&(e._setSettings(c),i&&(Vee(`https://${l}`),Y9("Firestore",!0)),n.mockUserToken)){let u,f;if(typeof n.mockUserToken=="string")u=n.mockUserToken,f=$i.MOCK_USER;else{u=zee(n.mockUserToken,(a=e._app)===null||a===void 0?void 0:a.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new Kt(gt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new $i(h)}e._authCredentials=new mre(new uB(u,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(t,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new uu(this.firestore,t,this._query)}}class Xi{constructor(t,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ef(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Xi(this.firestore,t,this._key)}}class Ef extends uu{constructor(t,r,n){super(t,r,d5(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Xi(this.firestore,null,new fr(t))}withConverter(t){return new Ef(this.firestore,t,this._path)}}function mt(e,t,...r){if(e=Fo(e),_U("collection","path",t),e instanceof S5){const n=Hn.fromString(t,...r);return UI(n),new Ef(e,null,n)}{if(!(e instanceof Xi||e instanceof Ef))throw new Kt(gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Hn.fromString(t,...r));return UI(n),new Ef(e.firestore,null,n)}}function yr(e,t,...r){if(e=Fo(e),arguments.length===1&&(t=dB.newId()),_U("doc","path",t),e instanceof S5){const n=Hn.fromString(t,...r);return BI(n),new Xi(e,null,new fr(n))}{if(!(e instanceof Xi||e instanceof Ef))throw new Kt(gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Hn.fromString(t,...r));return BI(n),new Xi(e.firestore,e instanceof Ef?e.converter:null,new fr(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI="AsyncQueue";class WI{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new iU(this,"async_queue_retry"),this.ju=()=>{const n=kS();n&&Xt(qI,"Visibility state changed to "+n.visibilityState),this.y_.A_()},this.Hu=t;const r=kS();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const r=kS();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const r=new Ql;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!rm(t))throw t;Xt(qI,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const r=this.Hu.then(()=>(this.Wu=!0,t().catch(n=>{throw this.Ku=n,this.Wu=!1,Xc("INTERNAL UNHANDLED ERROR: ",HI(n)),n}).then(n=>(this.Wu=!1,n))));return this.Hu=r,r}enqueueAfterDelay(t,r,n){this.Ju(),this.zu.indexOf(t)>-1&&(r=0);const a=QN.createAndSchedule(this,t,r,n,i=>this.Xu(i));return this.Uu.push(a),a}Ju(){this.Ku&&xr(47125,{ec:HI(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const r of this.Uu)if(r.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Uu)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const r=this.Uu.indexOf(t);this.Uu.splice(r,1)}}function HI(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(e){return function(r,n){if(typeof r!="object"||r===null)return!1;const a=r;for(const i of n)if(i in a&&typeof a[i]=="function")return!0;return!1}(e,["next","error","complete"])}class Tl extends S5{constructor(t,r,n,a){super(t,r,n,a),this.type="firestore",this._queue=new WI,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new WI(t),this._firestoreClient=void 0,await t}}}function hie(e,t){const r=typeof e=="object"?e:tre(),n=typeof e=="string"?e:fb,a=Xte(r,"firestore").getImmediate({identifier:n});if(!a._initialized){const i=Bee("firestore");i&&die(a,...i)}return a}function im(e){if(e._terminated)throw new Kt(gt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||pie(e),e._firestoreClient}function pie(e){var t,r,n;const a=e._freezeSettings(),i=function(o,l,c,u){return new Dre(o,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,wU(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,a);e._componentsProvider||!((r=a.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=a.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(e._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),e._firestoreClient=new nie(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mie{constructor(t="count",r){this._internalFieldPath=r,this.type="AggregateField",this.aggregateType=t}}class gie{constructor(t,r,n){this._userDataWriter=r,this._data=n,this.type="AggregateQuerySnapshot",this.query=t}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(t){this._byteString=t}static fromBase64String(t){try{return new xp(Ni.fromBase64String(t))}catch(r){throw new Kt(gt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new xp(Ni.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new Kt(gt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new Kt(gt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new Kt(gt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return zr(this._lat,t._lat)||zr(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(n,a){if(n.length!==a.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==a[i])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vie=/^__.*__$/;class yie{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return this.fieldMask!==null?new Xf(t,this.data,this.fieldMask,r,this.fieldTransforms):new Y1(t,this.data,r,this.fieldTransforms)}}class AU{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return new Xf(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function EU(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xr(40011,{oc:e})}}class ck{constructor(t,r,n,a,i,s){this.settings=t,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=a,i===void 0&&this._c(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(t){return new ck(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(t){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(t),a=this.ac({path:n,cc:!1});return a.lc(t),a}hc(t){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(t),a=this.ac({path:n,cc:!1});return a._c(),a}Pc(t){return this.ac({path:void 0,cc:!0})}Tc(t){return wb(t,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}_c(){if(this.path)for(let t=0;t<this.path.length;t++)this.lc(this.path.get(t))}lc(t){if(t.length===0)throw this.Tc("Document fields must not be empty");if(EU(this.oc)&&vie.test(t))throw this.Tc('Document fields cannot begin and end with "__"')}}class xie{constructor(t,r,n){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=n||x5(t)}dc(t,r,n,a=!1){return new ck({oc:t,methodName:r,Ec:n,path:bi.emptyPath(),cc:!1,Ic:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ey(e){const t=e._freezeSettings(),r=x5(e._databaseId);return new xie(e._databaseId,!!t.ignoreUndefinedProperties,r)}function uk(e,t,r,n,a,i={}){const s=e.dc(i.merge||i.mergeFields?2:0,t,r,a);dk("Data must be an object, but it was:",s,n);const o=kU(n,s);let l,c;if(i.merge)l=new ro(s.fieldMask),c=s.fieldTransforms;else if(i.mergeFields){const u=[];for(const f of i.mergeFields){const h=hE(t,f,r);if(!s.contains(h))throw new Kt(gt.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);PU(u,h)||u.push(h)}l=new ro(u),c=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=s.fieldTransforms;return new yie(new Ps(o),l,c)}class ty extends A5{_toFieldTransform(t){if(t.oc!==2)throw t.oc===1?t.Tc(`${this._methodName}() can only appear at the top level of your update data`):t.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof ty}}class fk extends A5{_toFieldTransform(t){return new ine(t.path,new $v)}isEqual(t){return t instanceof fk}}function TU(e,t,r,n){const a=e.dc(1,t,r);dk("Data must be an object, but it was:",a,n);const i=[],s=Ps.empty();Yf(n,(l,c)=>{const u=hk(t,l,r);c=Fo(c);const f=a.hc(u);if(c instanceof ty)i.push(u);else{const h=ry(c,f);h!=null&&(i.push(u),s.set(u,h))}});const o=new ro(i);return new AU(s,o,a.fieldTransforms)}function NU(e,t,r,n,a,i){const s=e.dc(1,t,r),o=[hE(t,n,r)],l=[a];if(i.length%2!=0)throw new Kt(gt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)o.push(hE(t,i[h])),l.push(i[h+1]);const c=[],u=Ps.empty();for(let h=o.length-1;h>=0;--h)if(!PU(c,o[h])){const p=o[h];let g=l[h];g=Fo(g);const m=s.hc(p);if(g instanceof ty)c.push(p);else{const y=ry(g,m);y!=null&&(c.push(p),u.set(p,y))}}const f=new ro(c);return new AU(u,f,s.fieldTransforms)}function bie(e,t,r,n=!1){return ry(r,e.dc(n?4:3,t))}function ry(e,t){if(CU(e=Fo(e)))return dk("Unsupported field value:",t,e),kU(e,t);if(e instanceof A5)return function(n,a){if(!EU(a.oc))throw a.Tc(`${n._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Tc(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(a);i&&a.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.cc&&t.oc!==4)throw t.Tc("Nested arrays are not supported");return function(n,a){const i=[];let s=0;for(const o of n){let l=ry(o,a.Pc(s));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,a){if((n=Fo(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return rne(a.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=ir.fromDate(n);return{timestampValue:gb(a.serializer,i)}}if(n instanceof ir){const i=new ir(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:gb(a.serializer,i)}}if(n instanceof ok)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof xp)return{bytesValue:GB(a.serializer,n._byteString)};if(n instanceof Xi){const i=a.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw a.Tc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:VN(n.firestore._databaseId||a.databaseId,n._key.path)}}if(n instanceof lk)return function(s,o){return{mapValue:{fields:{[bB]:{stringValue:_B},[db]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw o.Tc("VectorValues must only contain numeric values.");return $N(o.serializer,c)})}}}}}}(n,a);throw a.Tc(`Unsupported field value: ${_5(n)}`)}(e,t)}function kU(e,t){const r={};return pB(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Yf(e,(n,a)=>{const i=ry(a,t.uc(n));i!=null&&(r[n]=i)}),{mapValue:{fields:r}}}function CU(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof ir||e instanceof ok||e instanceof xp||e instanceof Xi||e instanceof A5||e instanceof lk)}function dk(e,t,r){if(!CU(r)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(r)){const n=_5(r);throw n==="an object"?t.Tc(e+" a custom object"):t.Tc(e+" "+n)}}function hE(e,t,r){if((t=Fo(t))instanceof Z1)return t._internalPath;if(typeof t=="string")return hk(e,t);throw wb("Field path arguments must be of type string or ",e,!1,void 0,r)}const wie=new RegExp("[~\\*/\\[\\]]");function hk(e,t,r){if(t.search(wie)>=0)throw wb(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new Z1(...t.split("."))._internalPath}catch{throw wb(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function wb(e,t,r,n,a){const i=n&&!n.isEmpty(),s=a!==void 0;let o=`Function ${t}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||s)&&(l+=" (found",i&&(l+=` in field ${n}`),s&&(l+=` in document ${a}`),l+=")"),new Kt(gt.INVALID_ARGUMENT,o+e+l)}function PU(e,t){return e.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{constructor(t,r,n,a,i){this._firestore=t,this._userDataWriter=r,this._key=n,this._document=a,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Xi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new _ie(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(E5("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class _ie extends OU{data(){return super.data()}}function E5(e,t){return typeof t=="string"?hk(e,t):t instanceof Z1?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IU(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Kt(gt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pk{}class mk extends pk{}function or(e,t,...r){let n=[];t instanceof pk&&n.push(t),n=n.concat(r),function(i){const s=i.filter(l=>l instanceof gk).length,o=i.filter(l=>l instanceof T5).length;if(s>1||s>0&&o>0)throw new Kt(gt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class T5 extends mk{constructor(t,r,n){super(),this._field=t,this._op=r,this._value=n,this.type="where"}static _create(t,r,n){return new T5(t,r,n)}_apply(t){const r=this._parse(t);return jU(t._query,r),new uu(t.firestore,t.converter,nE(t._query,r))}_parse(t){const r=ey(t.firestore);return function(i,s,o,l,c,u,f){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Kt(gt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){YI(f,u);const g=[];for(const m of f)g.push(KI(l,i,m));h={arrayValue:{values:g}}}else h=KI(l,i,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||YI(f,u),h=bie(o,s,f,u==="in"||u==="not-in");return Da.create(c,u,h)}(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}function ar(e,t,r){const n=t,a=E5("where",e);return T5._create(a,n,r)}class gk extends pk{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new gk(t,r)}_parse(t){const r=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:El.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:(function(a,i){let s=a;const o=i.getFlattenedFilters();for(const l of o)jU(s,l),s=nE(s,l)}(t._query,r),new uu(t.firestore,t.converter,nE(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class vk extends mk{constructor(t,r){super(),this._field=t,this._direction=r,this.type="orderBy"}static _create(t,r){return new vk(t,r)}_apply(t){const r=function(a,i,s){if(a.startAt!==null)throw new Kt(gt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Kt(gt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Fv(i,s)}(t._query,this._field,this._direction);return new uu(t.firestore,t.converter,function(a,i){const s=a.explicitOrderBy.concat([i]);return new nm(a.path,a.collectionGroup,s,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(t._query,r))}}function La(e,t="asc"){const r=t,n=E5("orderBy",e);return vk._create(n,r)}class yk extends mk{constructor(t,r,n){super(),this.type=t,this._limit=r,this._limitType=n}static _create(t,r,n){return new yk(t,r,n)}_apply(t){return new uu(t.firestore,t.converter,pb(t._query,this._limit,this._limitType))}}function xg(e){return fie("limit",e),yk._create("limit",e,"F")}function KI(e,t,r){if(typeof(r=Fo(r))=="string"){if(r==="")throw new Kt(gt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!PB(t)&&r.indexOf("/")!==-1)throw new Kt(gt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=t.path.child(Hn.fromString(r));if(!fr.isDocumentKey(n))throw new Kt(gt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return lI(e,new fr(n))}if(r instanceof Xi)return lI(e,r._key);throw new Kt(gt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_5(r)}.`)}function YI(e,t){if(!Array.isArray(e)||e.length===0)throw new Kt(gt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function jU(e,t){const r=function(a,i){for(const s of a)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(e.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(r!==null)throw r===t.op?new Kt(gt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Kt(gt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class Sie{convertValue(t,r="none"){switch(Ff(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ba(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(Rf(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw xr(62114,{value:t})}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const n={};return Yf(t,(a,i)=>{n[a]=this.convertValue(i,r)}),n}convertVectorValue(t){var r,n,a;const i=(a=(n=(r=t.fields)===null||r===void 0?void 0:r[db].arrayValue)===null||n===void 0?void 0:n.values)===null||a===void 0?void 0:a.map(s=>ba(s.doubleValue));return new lk(i)}convertGeoPoint(t){return new ok(ba(t.latitude),ba(t.longitude))}convertArray(t,r){return(t.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(t,r){switch(r){case"previous":const n=f5(t);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Lv(t));default:return null}}convertTimestamp(t){const r=Mf(t);return new ir(r.seconds,r.nanos)}convertDocumentKey(t,r){const n=Hn.fromString(t);yn(eU(n),9688,{name:t});const a=new Mv(n.get(1),n.get(3)),i=new fr(n.popFirst(5));return a.isEqual(r)||Xc(`Document ${i} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xk(e,t,r){let n;return n=e?r&&(r.merge||r.mergeFields)?e.toFirestore(t,r):e.toFirestore(t):t,n}function Aie(){return new mie("count")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class DU extends OU{constructor(t,r,n,a,i,s){super(t,r,n,a,s),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new y2(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const n=this._document.data.field(E5("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class y2 extends DU{data(t={}){return super.data(t)}}class LU{constructor(t,r,n,a){this._firestore=t,this._userDataWriter=r,this._snapshot=a,this.metadata=new bg(a.hasPendingWrites,a.fromCache),this.query=n}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(n=>{t.call(r,new y2(this._firestore,this._userDataWriter,n.key,n,new bg(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Kt(gt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(a,i){if(a._snapshot.oldDocs.isEmpty()){let s=0;return a._snapshot.docChanges.map(o=>{const l=new y2(a._firestore,a._userDataWriter,o.doc.key,o.doc,new bg(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const l=new y2(a._firestore,a._userDataWriter,o.doc.key,o.doc,new bg(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);let c=-1,u=-1;return o.type!==0&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:Eie(o.type),doc:l,oldIndex:c,newIndex:u}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Eie(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xr(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(e){e=Yi(e,Xi);const t=Yi(e.firestore,Tl);return oie(im(t),e._key).then(r=>MU(t,e,r))}class N5 extends Sie{constructor(t){super(),this.firestore=t}convertBytes(t){return new xp(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new Xi(this.firestore,null,r)}}function cr(e){e=Yi(e,uu);const t=Yi(e.firestore,Tl),r=im(t),n=new N5(t);return IU(e._query),lie(r,e._query).then(a=>new LU(t,n,e,a))}function xx(e,t,r){e=Yi(e,Xi);const n=Yi(e.firestore,Tl),a=xk(e.converter,t,r);return ny(n,[uk(ey(n),"setDoc",e._key,a,e.converter!==null,r).toMutation(e._key,gs.none())])}function Ln(e,t,r,...n){e=Yi(e,Xi);const a=Yi(e.firestore,Tl),i=ey(a);let s;return s=typeof(t=Fo(t))=="string"||t instanceof Z1?NU(i,"updateDoc",e._key,t,r,n):TU(i,"updateDoc",e._key,t),ny(a,[s.toMutation(e._key,gs.exists(!0))])}function Is(e){return ny(Yi(e.firestore,Tl),[new v5(e._key,gs.none())])}function pr(e,t){const r=Yi(e.firestore,Tl),n=yr(e),a=xk(e.converter,t);return ny(r,[uk(ey(e.firestore),"addDoc",n._key,a,e.converter!==null,{}).toMutation(n._key,gs.exists(!1))]).then(()=>n)}function Tie(e,...t){var r,n,a;e=Fo(e);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||GI(t[s])||(i=t[s],s++);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(GI(t[s])){const f=t[s];t[s]=(r=f.next)===null||r===void 0?void 0:r.bind(f),t[s+1]=(n=f.error)===null||n===void 0?void 0:n.bind(f),t[s+2]=(a=f.complete)===null||a===void 0?void 0:a.bind(f)}let l,c,u;if(e instanceof Xi)c=Yi(e.firestore,Tl),u=d5(e._key.path),l={next:f=>{t[s]&&t[s](MU(c,e,f))},error:t[s+1],complete:t[s+2]};else{const f=Yi(e,uu);c=Yi(f.firestore,Tl),u=f._query;const h=new N5(c);l={next:p=>{t[s]&&t[s](new LU(c,h,f,p))},error:t[s+1],complete:t[s+2]},IU(e._query)}return function(h,p,g,m){const y=new ik(m),v=new rk(p,y,g);return h.asyncQueue.enqueueAndForget(async()=>ZN(await bb(h),v)),()=>{y.yu(),h.asyncQueue.enqueueAndForget(async()=>ek(await bb(h),v))}}(im(c),u,o,l)}function ny(e,t){return function(n,a){const i=new Ql;return n.asyncQueue.enqueueAndForget(async()=>Kae(await iie(n),a,i)),i.promise}(im(e),t)}function MU(e,t,r){const n=r.docs.get(t._key),a=new N5(e);return new DU(e,a,t._key,n,new bg(r.hasPendingWrites,r.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(e){return Nie(e,{count:Aie()})}function Nie(e,t){const r=Yi(e.firestore,Tl),n=im(r),a=Ire(t,(i,s)=>new hne(s,i.aggregateType,i._internalFieldPath));return cie(n,e._query,a).then(i=>function(o,l,c){const u=new N5(o);return new gie(l,u,c)}(r,e,i))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kie{constructor(t,r){this._firestore=t,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=ey(t)}set(t,r,n){this._verifyNotCommitted();const a=PS(t,this._firestore),i=xk(a.converter,r,n),s=uk(this._dataReader,"WriteBatch.set",a._key,i,a.converter!==null,n);return this._mutations.push(s.toMutation(a._key,gs.none())),this}update(t,r,n,...a){this._verifyNotCommitted();const i=PS(t,this._firestore);let s;return s=typeof(r=Fo(r))=="string"||r instanceof Z1?NU(this._dataReader,"WriteBatch.update",i._key,r,n,a):TU(this._dataReader,"WriteBatch.update",i._key,r),this._mutations.push(s.toMutation(i._key,gs.exists(!0))),this}delete(t){this._verifyNotCommitted();const r=PS(t,this._firestore);return this._mutations=this._mutations.concat(new v5(r._key,gs.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Kt(gt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function PS(e,t){if((e=Fo(e)).firestore!==t)throw new Kt(gt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(){return new ty("deleteField")}function kc(){return new fk("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cie(e){return im(e=Yi(e,Tl)),new kie(e,t=>ny(e,t))}(function(t,r=!0){(function(a){em=a})(ere),cb(new Iv("firestore",(n,{instanceIdentifier:a,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Tl(new gre(n.getProvider("auth-internal")),new xre(s,n.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Kt(gt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mv(c.options.projectId,u)}(s,a),s);return i=Object.assign({useFetchStreams:r},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),W0(XO,QO,t),W0(XO,QO,"esm2017")})();const Pie={apiKey:"AIzaSyBrPAITwnh9vpsoS6W5hmuLLWPQzANOHfQ",authDomain:"aztec-warehouse.firebaseapp.com",projectId:"aztec-warehouse",storageBucket:"aztec-warehouse.firebasestorage.app",messagingSenderId:"587188643888",appId:"1:587188643888:web:2f5d9bb858e6e4bb3565f5",measurementId:"G-59VTWPJ775"},Oie=eB(Pie),Xe=hie(Oie),RU=F.createContext(void 0),ma=()=>{const e=F.useContext(RU);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Iie=({children:e})=>{const[t,r]=F.useState(()=>{const l=localStorage.getItem("user");return l?JSON.parse(l):null}),[n,a]=F.useState(!1),o={user:t,isAuthenticated:!!t,login:async(l,c)=>{a(!0);try{const u=await cr(mt(Xe,"users"));for(const f of u.docs){const h=f.data();if(h.username===l&&h.password===c){const p={id:f.id,username:h.username,email:h.email,name:h.name,role:h.role,password:h.password};r(p),localStorage.setItem("user",JSON.stringify(p));try{await pr(mt(Xe,"activityLogs"),{user:p.name,role:p.role,detail:"logged in",time:new Date().toISOString()})}catch(g){console.error("Error logging activity:",g)}return!0}}return!1}catch(u){return console.error("Login error:",u),!1}finally{a(!1)}},logout:()=>{if(t){const l={...t};r(null),localStorage.removeItem("user"),pr(mt(Xe,"activityLogs"),{user:l.name,role:l.role,detail:"logged out",time:new Date().toISOString()}).catch(c=>{console.error("Error logging activity:",c)})}},isLoading:n,setUser:r};return d.jsx(RU.Provider,{value:o,children:e})},FU=F.createContext(void 0),jie=({children:e})=>{const[t,r]=F.useState(!0),n=()=>{r(!t)};return d.jsx(FU.Provider,{value:{isDarkMode:t,toggleDarkMode:n},children:e})},ln=()=>{const e=F.useContext(FU);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},wk=F.createContext({});function ay(e){const t=F.useRef(null);return t.current===null&&(t.current=e()),t.current}const _k=typeof window<"u",Sk=_k?F.useLayoutEffect:F.useEffect,k5=F.createContext(null);function Ak(e,t){e.indexOf(t)===-1&&e.push(t)}function C5(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const Jc=(e,t,r)=>r>t?t:r<e?e:r;let _b=()=>{};const Zc={},$U=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function BU(e){return typeof e=="object"&&e!==null}const UU=e=>/^0[^.\s]+$/u.test(e);function Ek(e){let t;return()=>(t===void 0&&(t=e()),t)}const jo=e=>e,Die=(e,t)=>r=>t(e(r)),iy=(...e)=>e.reduce(Die),bp=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class Tk{constructor(){this.subscriptions=[]}add(t){return Ak(this.subscriptions,t),()=>C5(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let i=0;i<a;i++){const s=this.subscriptions[i];s&&s(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const bl=e=>e*1e3,ec=e=>e/1e3;function VU(e,t){return t?e*(1e3/t):0}const Lie=(e,t,r)=>{const n=t-e;return((r-e)%n+n)%n+e},zU=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,Mie=1e-7,Rie=12;function Fie(e,t,r,n,a){let i,s,o=0;do s=t+(r-t)/2,i=zU(s,n,a)-e,i>0?r=s:t=s;while(Math.abs(i)>Mie&&++o<Rie);return s}function sy(e,t,r,n){if(e===t&&r===n)return jo;const a=i=>Fie(i,0,1,e,r);return i=>i===0||i===1?i:zU(a(i),t,n)}const qU=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,WU=e=>t=>1-e(1-t),HU=sy(.33,1.53,.69,.99),Nk=WU(HU),GU=qU(Nk),KU=e=>(e*=2)<1?.5*Nk(e):.5*(2-Math.pow(2,-10*(e-1))),kk=e=>1-Math.sin(Math.acos(e)),YU=WU(kk),XU=qU(kk),$ie=sy(.42,0,1,1),Bie=sy(0,0,.58,1),QU=sy(.42,0,.58,1),JU=e=>Array.isArray(e)&&typeof e[0]!="number";function ZU(e,t){return JU(e)?e[Lie(0,e.length,t)]:e}const eV=e=>Array.isArray(e)&&typeof e[0]=="number",QI={linear:jo,easeIn:$ie,easeInOut:QU,easeOut:Bie,circIn:kk,circInOut:XU,circOut:YU,backIn:Nk,backInOut:GU,backOut:HU,anticipate:KU},Uie=e=>typeof e=="string",JI=e=>{if(eV(e)){_b(e.length===4);const[t,r,n,a]=e;return sy(t,r,n,a)}else if(Uie(e))return _b(QI[e]!==void 0),QI[e];return e},bx=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],ZI={value:null,addProjectionMetrics:null};function Vie(e,t){let r=new Set,n=new Set,a=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},l=0;function c(f){s.has(f)&&(u.schedule(f),e()),l++,f(o)}const u={schedule:(f,h=!1,p=!1)=>{const m=p&&a?r:n;return h&&s.add(f),m.has(f)||m.add(f),f},cancel:f=>{n.delete(f),s.delete(f)},process:f=>{if(o=f,a){i=!0;return}a=!0,[r,n]=[n,r],r.forEach(c),t&&ZI.value&&ZI.value.frameloop[t].push(l),l=0,r.clear(),a=!1,i&&(i=!1,u.process(f))}};return u}const zie=40;function tV(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,s=bx.reduce((w,D)=>(w[D]=Vie(i,t?D:void 0),w),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:u,update:f,preRender:h,render:p,postRender:g}=s,m=()=>{const w=Zc.useManualTiming?a.timestamp:performance.now();r=!1,Zc.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(w-a.timestamp,zie),1)),a.timestamp=w,a.isProcessing=!0,o.process(a),l.process(a),c.process(a),u.process(a),f.process(a),h.process(a),p.process(a),g.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(m))},y=()=>{r=!0,n=!0,a.isProcessing||e(m)};return{schedule:bx.reduce((w,D)=>{const P=s[D];return w[D]=(j,E=!1,_=!1)=>(r||y(),P.schedule(j,E,_)),w},{}),cancel:w=>{for(let D=0;D<bx.length;D++)s[bx[D]].cancel(w)},state:a,steps:s}}const{schedule:Zn,cancel:eu,state:pi,steps:OS}=tV(typeof requestAnimationFrame<"u"?requestAnimationFrame:jo,!0);let x2;function qie(){x2=void 0}const js={now:()=>(x2===void 0&&js.set(pi.isProcessing||Zc.useManualTiming?pi.timestamp:performance.now()),x2),set:e=>{x2=e,queueMicrotask(qie)}},rV=e=>t=>typeof t=="string"&&t.startsWith(e),Ck=rV("--"),Wie=rV("var(--"),Pk=e=>Wie(e)?Hie.test(e.split("/*")[0].trim()):!1,Hie=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,sm={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Vv={...sm,transform:e=>Jc(0,1,e)},wx={...sm,default:1},Ug=e=>Math.round(e*1e5)/1e5,Ok=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Gie(e){return e==null}const Kie=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ik=(e,t)=>r=>!!(typeof r=="string"&&Kie.test(r)&&r.startsWith(e)||t&&!Gie(r)&&Object.prototype.hasOwnProperty.call(r,t)),nV=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,i,s,o]=n.match(Ok);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},Yie=e=>Jc(0,255,e),IS={...sm,transform:e=>Math.round(Yie(e))},Ld={test:Ik("rgb","red"),parse:nV("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+IS.transform(e)+", "+IS.transform(t)+", "+IS.transform(r)+", "+Ug(Vv.transform(n))+")"};function Xie(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const pE={test:Ik("#"),parse:Xie,transform:Ld.transform},oy=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Wu=oy("deg"),tc=oy("%"),Er=oy("px"),Qie=oy("vh"),Jie=oy("vw"),ej={...tc,parse:e=>tc.parse(e)/100,transform:e=>tc.transform(e*100)},C0={test:Ik("hsl","hue"),parse:nV("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+tc.transform(Ug(t))+", "+tc.transform(Ug(r))+", "+Ug(Vv.transform(n))+")"},Ri={test:e=>Ld.test(e)||pE.test(e)||C0.test(e),parse:e=>Ld.test(e)?Ld.parse(e):C0.test(e)?C0.parse(e):pE.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ld.transform(e):C0.transform(e)},Zie=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ese(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Ok))==null?void 0:t.length)||0)+(((r=e.match(Zie))==null?void 0:r.length)||0)>0}const aV="number",iV="color",tse="var",rse="var(",tj="${}",nse=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function zv(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const o=t.replace(nse,l=>(Ri.test(l)?(n.color.push(i),a.push(iV),r.push(Ri.parse(l))):l.startsWith(rse)?(n.var.push(i),a.push(tse),r.push(l)):(n.number.push(i),a.push(aV),r.push(parseFloat(l))),++i,tj)).split(tj);return{values:r,split:o,indexes:n,types:a}}function sV(e){return zv(e).values}function oV(e){const{split:t,types:r}=zv(e),n=t.length;return a=>{let i="";for(let s=0;s<n;s++)if(i+=t[s],a[s]!==void 0){const o=r[s];o===aV?i+=Ug(a[s]):o===iV?i+=Ri.transform(a[s]):i+=a[s]}return i}}const ase=e=>typeof e=="number"?0:e;function ise(e){const t=sV(e);return oV(e)(t.map(ase))}const Uf={test:ese,parse:sV,createTransformer:oV,getAnimatableNone:ise};function jS(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function sse({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,i=0,s=0;if(!t)a=i=s=r;else{const o=r<.5?r*(1+t):r+t-r*t,l=2*r-o;a=jS(l,o,e+1/3),i=jS(l,o,e),s=jS(l,o,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:n}}function Sb(e,t){return r=>r>0?t:e}const Qn=(e,t,r)=>e+(t-e)*r,DS=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},ose=[pE,Ld,C0],lse=e=>ose.find(t=>t.test(e));function rj(e){const t=lse(e);if(!t)return!1;let r=t.parse(e);return t===C0&&(r=sse(r)),r}const nj=(e,t)=>{const r=rj(e),n=rj(t);if(!r||!n)return Sb(e,t);const a={...r};return i=>(a.red=DS(r.red,n.red,i),a.green=DS(r.green,n.green,i),a.blue=DS(r.blue,n.blue,i),a.alpha=Qn(r.alpha,n.alpha,i),Ld.transform(a))},mE=new Set(["none","hidden"]);function cse(e,t){return mE.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function use(e,t){return r=>Qn(e,t,r)}function jk(e){return typeof e=="number"?use:typeof e=="string"?Pk(e)?Sb:Ri.test(e)?nj:hse:Array.isArray(e)?lV:typeof e=="object"?Ri.test(e)?nj:fse:Sb}function lV(e,t){const r=[...e],n=r.length,a=e.map((i,s)=>jk(i)(i,t[s]));return i=>{for(let s=0;s<n;s++)r[s]=a[s](i);return r}}function fse(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=jk(e[a])(e[a],t[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function dse(e,t){const r=[],n={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],s=e.indexes[i][n[i]],o=e.values[s]??0;r[a]=o,n[i]++}return r}const hse=(e,t)=>{const r=Uf.createTransformer(t),n=zv(e),a=zv(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?mE.has(e)&&!a.values.length||mE.has(t)&&!n.values.length?cse(e,t):iy(lV(dse(n,a),a.values),r):Sb(e,t)};function cV(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Qn(e,t,r):jk(e)(e,t)}const pse=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>Zn.update(t,r),stop:()=>eu(t),now:()=>pi.isProcessing?pi.timestamp:js.now()}},uV=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let i=0;i<a;i++)n+=e(i/(a-1))+", ";return`linear(${n.substring(0,n.length-2)})`},Ab=2e4;function Dk(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<Ab;)t+=r,n=e.next(t);return t>=Ab?1/0:t}function fV(e,t=100,r){const n=r({...e,keyframes:[0,t]}),a=Math.min(Dk(n),Ab);return{type:"keyframes",ease:i=>n.next(a*i).value/t,duration:ec(a)}}const mse=5;function dV(e,t,r){const n=Math.max(t-mse,0);return VU(r-e(n),t-n)}const fa={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},LS=.001;function gse({duration:e=fa.duration,bounce:t=fa.bounce,velocity:r=fa.velocity,mass:n=fa.mass}){let a,i,s=1-t;s=Jc(fa.minDamping,fa.maxDamping,s),e=Jc(fa.minDuration,fa.maxDuration,ec(e)),s<1?(a=c=>{const u=c*s,f=u*e,h=u-r,p=gE(c,s),g=Math.exp(-f);return LS-h/p*g},i=c=>{const f=c*s*e,h=f*r+r,p=Math.pow(s,2)*Math.pow(c,2)*e,g=Math.exp(-f),m=gE(Math.pow(c,2),s);return(-a(c)+LS>0?-1:1)*((h-p)*g)/m}):(a=c=>{const u=Math.exp(-c*e),f=(c-r)*e+1;return-LS+u*f},i=c=>{const u=Math.exp(-c*e),f=(r-c)*(e*e);return u*f});const o=5/e,l=yse(a,i,o);if(e=bl(e),isNaN(l))return{stiffness:fa.stiffness,damping:fa.damping,duration:e};{const c=Math.pow(l,2)*n;return{stiffness:c,damping:s*2*Math.sqrt(n*c),duration:e}}}const vse=12;function yse(e,t,r){let n=r;for(let a=1;a<vse;a++)n=n-e(n)/t(n);return n}function gE(e,t){return e*Math.sqrt(1-t*t)}const xse=["duration","bounce"],bse=["stiffness","damping","mass"];function aj(e,t){return t.some(r=>e[r]!==void 0)}function wse(e){let t={velocity:fa.velocity,stiffness:fa.stiffness,damping:fa.damping,mass:fa.mass,isResolvedFromDuration:!1,...e};if(!aj(e,bse)&&aj(e,xse))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,i=2*Jc(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:fa.mass,stiffness:a,damping:i}}else{const r=gse(e);t={...t,...r,mass:fa.mass},t.isResolvedFromDuration=!0}return t}function qv(e=fa.visualDuration,t=fa.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const i=r.keyframes[0],s=r.keyframes[r.keyframes.length-1],o={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:f,velocity:h,isResolvedFromDuration:p}=wse({...r,velocity:-ec(r.velocity||0)}),g=h||0,m=c/(2*Math.sqrt(l*u)),y=s-i,v=ec(Math.sqrt(l/u)),b=Math.abs(y)<5;n||(n=b?fa.restSpeed.granular:fa.restSpeed.default),a||(a=b?fa.restDelta.granular:fa.restDelta.default);let w;if(m<1){const P=gE(v,m);w=j=>{const E=Math.exp(-m*v*j);return s-E*((g+m*v*y)/P*Math.sin(P*j)+y*Math.cos(P*j))}}else if(m===1)w=P=>s-Math.exp(-v*P)*(y+(g+v*y)*P);else{const P=v*Math.sqrt(m*m-1);w=j=>{const E=Math.exp(-m*v*j),_=Math.min(P*j,300);return s-E*((g+m*v*y)*Math.sinh(_)+P*y*Math.cosh(_))/P}}const D={calculatedDuration:p&&f||null,next:P=>{const j=w(P);if(p)o.done=P>=f;else{let E=P===0?g:0;m<1&&(E=P===0?bl(g):dV(w,P,j));const _=Math.abs(E)<=n,S=Math.abs(s-j)<=a;o.done=_&&S}return o.value=o.done?s:j,o},toString:()=>{const P=Math.min(Dk(D),Ab),j=uV(E=>D.next(P*E).value,P,30);return P+"ms "+j},toTransition:()=>{}};return D}qv.applyToOptions=e=>{const t=fV(e,100,qv);return e.ease=t.ease,e.duration=bl(t.duration),e.type="keyframes",e};function vE({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:s,min:o,max:l,restDelta:c=.5,restSpeed:u}){const f=e[0],h={done:!1,value:f},p=_=>o!==void 0&&_<o||l!==void 0&&_>l,g=_=>o===void 0?l:l===void 0||Math.abs(o-_)<Math.abs(l-_)?o:l;let m=r*t;const y=f+m,v=s===void 0?y:s(y);v!==y&&(m=v-f);const b=_=>-m*Math.exp(-_/n),w=_=>v+b(_),D=_=>{const S=b(_),I=w(_);h.done=Math.abs(S)<=c,h.value=h.done?v:I};let P,j;const E=_=>{p(h.value)&&(P=_,j=qv({keyframes:[h.value,g(h.value)],velocity:dV(w,_,h.value),damping:a,stiffness:i,restDelta:c,restSpeed:u}))};return E(0),{calculatedDuration:null,next:_=>{let S=!1;return!j&&P===void 0&&(S=!0,D(_),E(_)),P!==void 0&&_>=P?j.next(_-P):(!S&&D(_),h)}}}function _se(e,t,r){const n=[],a=r||Zc.mix||cV,i=e.length-1;for(let s=0;s<i;s++){let o=a(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||jo:t;o=iy(l,o)}n.push(o)}return n}function hV(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const i=e.length;if(_b(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=_se(t,n,a),l=o.length,c=u=>{if(s&&u<e[0])return t[0];let f=0;if(l>1)for(;f<e.length-2&&!(u<e[f+1]);f++);const h=bp(e[f],e[f+1],u);return o[f](h)};return r?u=>c(Jc(e[0],e[i-1],u)):c}function pV(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=bp(0,t,n);e.push(Qn(r,1,a))}}function mV(e){const t=[0];return pV(t,e.length-1),t}function Sse(e,t){return e.map(r=>r*t)}function Ase(e,t){return e.map(()=>t||QU).splice(0,e.length-1)}function Vg({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=JU(n)?n.map(JI):JI(n),i={done:!1,value:t[0]},s=Sse(r&&r.length===t.length?r:mV(t),e),o=hV(s,t,{ease:Array.isArray(a)?a:Ase(t,a)});return{calculatedDuration:e,next:l=>(i.value=o(l),i.done=l>=e,i)}}const Ese=e=>e!==null;function Lk(e,{repeat:t,repeatType:r="loop"},n,a=1){const i=e.filter(Ese),o=a<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!o||n===void 0?i[o]:n}const Tse={decay:vE,inertia:vE,tween:Vg,keyframes:Vg,spring:qv};function gV(e){typeof e.type=="string"&&(e.type=Tse[e.type])}class Mk{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const Nse=e=>e/100;class Rk extends Mk{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(r=!0)=>{var n,a;if(r){const{motionValue:i}=this.options;i&&i.updatedAt!==js.now()&&this.tick(js.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(n=this.options).onStop)==null||a.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;gV(t);const{type:r=Vg,repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:s=0}=t;let{keyframes:o}=t;const l=r||Vg;l!==Vg&&typeof o[0]!="number"&&(this.mixKeyframes=iy(Nse,cV(o[0],o[1])),o=[0,100]);const c=l({...t,keyframes:o});i==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...o].reverse(),velocity:-s})),c.calculatedDuration===null&&(c.calculatedDuration=Dk(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=c}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:a,mixKeyframes:i,mirroredGenerator:s,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return n.next(0);const{delay:c=0,keyframes:u,repeat:f,repeatType:h,repeatDelay:p,type:g,onUpdate:m,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const v=this.currentTime-c*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?v<0:v>a;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let w=this.currentTime,D=n;if(f){const _=Math.min(this.currentTime,a)/o;let S=Math.floor(_),I=_%1;!I&&_>=1&&(I=1),I===1&&S--,S=Math.min(S,f+1),!!(S%2)&&(h==="reverse"?(I=1-I,p&&(I-=p/o)):h==="mirror"&&(D=s)),w=Jc(0,1,I)*o}const P=b?{done:!1,value:u[0]}:D.next(w);i&&(P.value=i(P.value));let{done:j}=P;!b&&l!==null&&(j=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return E&&g!==vE&&(P.value=Lk(u,this.options,y,this.speed)),m&&m(P.value),E&&this.finish(),P}then(t,r){return this.finished.then(t,r)}get duration(){return ec(this.calculatedDuration)}get time(){return ec(this.currentTime)}set time(t){var r;t=bl(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(js.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=ec(this.currentTime))}play(){var a,i;if(this.isStopped)return;const{driver:t=pse,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),(i=(a=this.options).onPlay)==null||i.call(a);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(js.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function kse(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Md=e=>e*180/Math.PI,yE=e=>{const t=Md(Math.atan2(e[1],e[0]));return xE(t)},Cse={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:yE,rotateZ:yE,skewX:e=>Md(Math.atan(e[1])),skewY:e=>Md(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},xE=e=>(e=e%360,e<0&&(e+=360),e),ij=yE,sj=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),oj=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Pse={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:sj,scaleY:oj,scale:e=>(sj(e)+oj(e))/2,rotateX:e=>xE(Md(Math.atan2(e[6],e[5]))),rotateY:e=>xE(Md(Math.atan2(-e[2],e[0]))),rotateZ:ij,rotate:ij,skewX:e=>Md(Math.atan(e[4])),skewY:e=>Md(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function bE(e){return e.includes("scale")?1:0}function wE(e,t){if(!e||e==="none")return bE(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=Pse,a=r;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Cse,a=o}if(!a)return bE(t);const i=n[t],s=a[1].split(",").map(Ise);return typeof i=="function"?i(s):s[i]}const Ose=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return wE(r,t)};function Ise(e){return parseFloat(e.trim())}const om=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],lm=new Set(om),lj=e=>e===sm||e===Er,jse=new Set(["x","y","z"]),Dse=om.filter(e=>!jse.has(e));function Lse(e){const t=[];return Dse.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Wd={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>wE(t,"x"),y:(e,{transform:t})=>wE(t,"y")};Wd.translateX=Wd.x;Wd.translateY=Wd.y;const Hd=new Set;let _E=!1,SE=!1,AE=!1;function vV(){if(SE){const e=Array.from(Hd).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=Lse(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,s])=>{var o;(o=n.getValue(i))==null||o.set(s)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}SE=!1,_E=!1,Hd.forEach(e=>e.complete(AE)),Hd.clear()}function yV(){Hd.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(SE=!0)})}function Mse(){AE=!0,yV(),vV(),AE=!1}class Fk{constructor(t,r,n,a,i,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(Hd.add(this),_E||(_E=!0,Zn.read(yV),Zn.resolveKeyframes(vV))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;if(t[0]===null){const i=a==null?void 0:a.get(),s=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){const o=n.readValue(r,s);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=s),a&&i===void 0&&a.set(t[0])}kse(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Hd.delete(this)}cancel(){this.state==="scheduled"&&(Hd.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Rse=e=>e.startsWith("--");function Fse(e,t,r){Rse(t)?e.style.setProperty(t,r):e.style[t]=r}const $se=Ek(()=>window.ScrollTimeline!==void 0),Bse={};function Use(e,t){const r=Ek(e);return()=>Bse[t]??r()}const xV=Use(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),wg=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,cj={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:wg([0,.65,.55,1]),circOut:wg([.55,0,1,.45]),backIn:wg([.31,.01,.66,-.59]),backOut:wg([.33,1.53,.69,.99])};function bV(e,t){if(e)return typeof e=="function"?xV()?uV(e,t):"ease-out":eV(e)?wg(e):Array.isArray(e)?e.map(r=>bV(r,t)||cj.easeOut):cj[e]}function Vse(e,t,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:s="loop",ease:o="easeOut",times:l}={},c=void 0){const u={[t]:r};l&&(u.offset=l);const f=bV(o,a);Array.isArray(f)&&(u.easing=f);const h={delay:n,duration:a,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"};return c&&(h.pseudoElement=c),e.animate(u,h)}function $k(e){return typeof e=="function"&&"applyToOptions"in e}function zse({type:e,...t}){return $k(e)&&xV()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class qse extends Mk{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:a,pseudoElement:i,allowFlatten:s=!1,finalKeyframe:o,onComplete:l}=t;this.isPseudoElement=!!i,this.allowFlatten=s,this.options=t,_b(typeof t.type!="string");const c=zse(t);this.animation=Vse(r,n,a,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=Lk(a,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(u):Fse(r,n,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return ec(Number(t))}get time(){return ec(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=bl(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&$se()?(this.animation.timeline=t,jo):r(this)}}const wV={anticipate:KU,backInOut:GU,circInOut:XU};function Wse(e){return e in wV}function Hse(e){typeof e.ease=="string"&&Wse(e.ease)&&(e.ease=wV[e.ease])}const uj=10;class Gse extends qse{constructor(t){Hse(t),gV(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:a,element:i,...s}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const o=new Rk({...s,autoplay:!1}),l=bl(this.finishedTime??this.time);r.setWithVelocity(o.sample(l-uj).value,o.sample(l).value,uj),o.stop()}}const fj=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Uf.test(e)||e==="0")&&!e.startsWith("url("));function Kse(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function Yse(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],s=fj(a,t),o=fj(i,t);return!s||!o?!1:Kse(e)||(r==="spring"||$k(r))&&n}function Bk(e){return BU(e)&&"offsetHeight"in e}const Xse=new Set(["opacity","clipPath","filter","transform"]),Qse=Ek(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Jse(e){var c;const{motionValue:t,name:r,repeatDelay:n,repeatType:a,damping:i,type:s}=e;if(!Bk((c=t==null?void 0:t.owner)==null?void 0:c.current))return!1;const{onUpdate:o,transformTemplate:l}=t.owner.getProps();return Qse()&&r&&Xse.has(r)&&(r!=="transform"||!l)&&!o&&!n&&a!=="mirror"&&i!==0&&s!=="inertia"}const Zse=40;class eoe extends Mk{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:s="loop",keyframes:o,name:l,motionValue:c,element:u,...f}){var g;super(),this.stop=()=>{var m,y;this._animation&&(this._animation.stop(),(m=this.stopTimeline)==null||m.call(this)),(y=this.keyframeResolver)==null||y.cancel()},this.createdAt=js.now();const h={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:s,name:l,motionValue:c,element:u,...f},p=(u==null?void 0:u.KeyframeResolver)||Fk;this.keyframeResolver=new p(o,(m,y,v)=>this.onKeyframesResolved(m,y,h,!v),l,c,u),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(t,r,n,a){this.keyframeResolver=void 0;const{name:i,type:s,velocity:o,delay:l,isHandoff:c,onUpdate:u}=n;this.resolvedAt=js.now(),Yse(t,i,s,o)||((Zc.instantAnimations||!l)&&(u==null||u(Lk(t,n,r))),t[0]=t[t.length-1],n.duration=0,n.repeat=0);const h={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Zse?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},p=!c&&Jse(h)?new Gse({...h,element:h.motionValue.owner.current}):new Rk(h);p.finished.then(()=>this.notifyFinished()).catch(jo),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Mse()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}class toe{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t){const r=this.animations.map(n=>n.attachTimeline(t));return()=>{r.forEach((n,a)=>{n&&n(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class roe extends toe{then(t,r){return this.finished.finally(t).then(()=>{})}}const noe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function aoe(e){const t=noe.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function _V(e,t,r=1){const[n,a]=aoe(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const s=i.trim();return $U(s)?parseFloat(s):s}return Pk(a)?_V(a,t,r+1):a}function Uk(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const SV=new Set(["width","height","top","left","right","bottom",...om]),ioe={test:e=>e==="auto",parse:e=>e},AV=e=>t=>t.test(e),EV=[sm,Er,tc,Wu,Jie,Qie,ioe],dj=e=>EV.find(AV(e));function soe(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||UU(e):!0}const ooe=new Set(["brightness","contrast","saturate","opacity"]);function loe(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(Ok)||[];if(!n)return e;const a=r.replace(n,"");let i=ooe.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+a+")"}const coe=/\b([a-z-]*)\(.*?\)/gu,EE={...Uf,getAnimatableNone:e=>{const t=e.match(coe);return t?t.map(loe).join(" "):e}},hj={...sm,transform:Math.round},uoe={rotate:Wu,rotateX:Wu,rotateY:Wu,rotateZ:Wu,scale:wx,scaleX:wx,scaleY:wx,scaleZ:wx,skew:Wu,skewX:Wu,skewY:Wu,distance:Er,translateX:Er,translateY:Er,translateZ:Er,x:Er,y:Er,z:Er,perspective:Er,transformPerspective:Er,opacity:Vv,originX:ej,originY:ej,originZ:Er},Vk={borderWidth:Er,borderTopWidth:Er,borderRightWidth:Er,borderBottomWidth:Er,borderLeftWidth:Er,borderRadius:Er,radius:Er,borderTopLeftRadius:Er,borderTopRightRadius:Er,borderBottomRightRadius:Er,borderBottomLeftRadius:Er,width:Er,maxWidth:Er,height:Er,maxHeight:Er,top:Er,right:Er,bottom:Er,left:Er,padding:Er,paddingTop:Er,paddingRight:Er,paddingBottom:Er,paddingLeft:Er,margin:Er,marginTop:Er,marginRight:Er,marginBottom:Er,marginLeft:Er,backgroundPositionX:Er,backgroundPositionY:Er,...uoe,zIndex:hj,fillOpacity:Vv,strokeOpacity:Vv,numOctaves:hj},foe={...Vk,color:Ri,backgroundColor:Ri,outlineColor:Ri,fill:Ri,stroke:Ri,borderColor:Ri,borderTopColor:Ri,borderRightColor:Ri,borderBottomColor:Ri,borderLeftColor:Ri,filter:EE,WebkitFilter:EE},TV=e=>foe[e];function NV(e,t){let r=TV(e);return r!==EE&&(r=Uf),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const doe=new Set(["auto","none","0"]);function hoe(e,t,r){let n=0,a;for(;n<e.length&&!a;){const i=e[n];typeof i=="string"&&!doe.has(i)&&zv(i).values.length&&(a=e[n]),n++}if(a&&r)for(const i of t)e[i]=NV(r,a)}class poe extends Fk{constructor(t,r,n,a,i){super(t,r,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),Pk(c))){const u=_V(c,r.current);u!==void 0&&(t[l]=u),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!SV.has(n)||t.length!==2)return;const[a,i]=t,s=dj(a),o=dj(i);if(s!==o)if(lj(s)&&lj(o))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else Wd[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)(t[a]===null||soe(t[a]))&&n.push(a);n.length&&hoe(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Wd[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){var o;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=n.length-1,s=n[i];n[i]=Wd[r](t.measureViewportBox(),window.getComputedStyle(t.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function kV(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const a=(r==null?void 0:r[e])??n.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const pj=30,moe=e=>!isNaN(parseFloat(e)),zg={current:void 0};class goe{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,a=!0)=>{var s,o;const i=js.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();a&&((o=this.events.renderRequest)==null||o.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=js.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=moe(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new Tk);const n=this.events[t].add(r);return t==="change"?()=>{n(),Zn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return zg.current&&zg.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=js.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>pj)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,pj);return VU(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function oh(e,t){return new goe(e,t)}const CV=(e,t)=>t&&typeof e=="number"?t.transform(e):e,{schedule:zk,cancel:fVe}=tV(queueMicrotask,!1),il={x:!1,y:!1};function PV(){return il.x||il.y}function voe(e){return e==="x"||e==="y"?il[e]?null:(il[e]=!0,()=>{il[e]=!1}):il.x||il.y?null:(il.x=il.y=!0,()=>{il.x=il.y=!1})}function OV(e,t){const r=kV(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function mj(e){return!(e.pointerType==="touch"||PV())}function yoe(e,t,r={}){const[n,a,i]=OV(e,r),s=o=>{if(!mj(o))return;const{target:l}=o,c=t(l,o);if(typeof c!="function"||!l)return;const u=f=>{mj(f)&&(c(f),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,a)};return n.forEach(o=>{o.addEventListener("pointerenter",s,a)}),i}const IV=(e,t)=>t?e===t?!0:IV(e,t.parentElement):!1,qk=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,xoe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function boe(e){return xoe.has(e.tagName)||e.tabIndex!==-1}const b2=new WeakSet;function gj(e){return t=>{t.key==="Enter"&&e(t)}}function MS(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const woe=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=gj(()=>{if(b2.has(r))return;MS(r,"down");const a=gj(()=>{MS(r,"up")}),i=()=>MS(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function vj(e){return qk(e)&&!PV()}function _oe(e,t,r={}){const[n,a,i]=OV(e,r),s=o=>{const l=o.currentTarget;if(!vj(o))return;b2.add(l);const c=t(l,o),u=(p,g)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),b2.has(l)&&b2.delete(l),vj(p)&&typeof c=="function"&&c(p,{success:g})},f=p=>{u(p,l===window||l===document||r.useGlobalTarget||IV(l,p.target))},h=p=>{u(p,!1)};window.addEventListener("pointerup",f,a),window.addEventListener("pointercancel",h,a)};return n.forEach(o=>{(r.useGlobalTarget?window:o).addEventListener("pointerdown",s,a),Bk(o)&&(o.addEventListener("focus",c=>woe(c,a)),!boe(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),i}function Wk(e){return BU(e)&&"ownerSVGElement"in e}function jV(e){return Wk(e)&&e.tagName==="svg"}function Soe(...e){const t=!Array.isArray(e[0]),r=t?0:-1,n=e[0+r],a=e[1+r],i=e[2+r],s=e[3+r],o=hV(a,i,s);return t?o(n):o}const ai=e=>!!(e&&e.getVelocity),Aoe=[...EV,Ri,Uf],Eoe=e=>Aoe.find(AV(e)),P5=F.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class Toe extends F.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=Bk(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Noe({children:e,isPresent:t,anchorX:r}){const n=F.useId(),a=F.useRef(null),i=F.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:s}=F.useContext(P5);return F.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u,right:f}=i.current;if(t||!a.current||!o||!l)return;const h=r==="left"?`left: ${u}`:`right: ${f}`;a.current.dataset.motionPopId=n;const p=document.createElement("style");return s&&(p.nonce=s),document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            ${h}px !important;
            top: ${c}px !important;
          }
        `),()=>{document.head.contains(p)&&document.head.removeChild(p)}},[t]),d.jsx(Toe,{isPresent:t,childRef:a,sizeRef:i,children:F.cloneElement(e,{ref:a})})}const koe=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:s,anchorX:o})=>{const l=ay(Coe),c=F.useId();let u=!0,f=F.useMemo(()=>(u=!1,{id:c,initial:t,isPresent:r,custom:a,onExitComplete:h=>{l.set(h,!0);for(const p of l.values())if(!p)return;n&&n()},register:h=>(l.set(h,!1),()=>l.delete(h))}),[r,l,n]);return i&&u&&(f={...f}),F.useMemo(()=>{l.forEach((h,p)=>l.set(p,!1))},[r]),F.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),s==="popLayout"&&(e=d.jsx(Noe,{isPresent:r,anchorX:o,children:e})),d.jsx(k5.Provider,{value:f,children:e})};function Coe(){return new Map}function DV(e=!0){const t=F.useContext(k5);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=t,i=F.useId();F.useEffect(()=>{if(e)return a(i)},[e]);const s=F.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,s]:[!0]}const _x=e=>e.key||"";function yj(e){const t=[];return F.Children.forEach(e,r=>{F.isValidElement(r)&&t.push(r)}),t}const LV=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:i="sync",propagate:s=!1,anchorX:o="left"})=>{const[l,c]=DV(s),u=F.useMemo(()=>yj(e),[e]),f=s&&!l?[]:u.map(_x),h=F.useRef(!0),p=F.useRef(u),g=ay(()=>new Map),[m,y]=F.useState(u),[v,b]=F.useState(u);Sk(()=>{h.current=!1,p.current=u;for(let P=0;P<v.length;P++){const j=_x(v[P]);f.includes(j)?g.delete(j):g.get(j)!==!0&&g.set(j,!1)}},[v,f.length,f.join("-")]);const w=[];if(u!==m){let P=[...u];for(let j=0;j<v.length;j++){const E=v[j],_=_x(E);f.includes(_)||(P.splice(j,0,E),w.push(E))}return i==="wait"&&w.length&&(P=w),b(yj(P)),y(u),null}const{forceRender:D}=F.useContext(wk);return d.jsx(d.Fragment,{children:v.map(P=>{const j=_x(P),E=s&&!l?!1:u===v||f.includes(j),_=()=>{if(g.has(j))g.set(j,!0);else return;let S=!0;g.forEach(I=>{I||(S=!1)}),S&&(D==null||D(),b(p.current),s&&(c==null||c()),n&&n())};return d.jsx(koe,{isPresent:E,initial:!h.current||r?void 0:!1,custom:t,presenceAffectsLayout:a,mode:i,onExitComplete:E?void 0:_,anchorX:o,children:P},j)})})},MV=F.createContext({strict:!1}),xj={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},wp={};for(const e in xj)wp[e]={isEnabled:t=>xj[e].some(r=>!!t[r])};function Poe(e){for(const t in e)wp[t]={...wp[t],...e[t]}}const Ooe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Eb(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Ooe.has(e)}let RV=e=>!Eb(e);function Ioe(e){e&&(RV=t=>t.startsWith("on")?!Eb(t):e(t))}try{Ioe(require("@emotion/is-prop-valid").default)}catch{}function joe(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(RV(a)||r===!0&&Eb(a)||!t&&!Eb(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}function Doe(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const O5=F.createContext({});function I5(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Wv(e){return typeof e=="string"||Array.isArray(e)}const Hk=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Gk=["initial",...Hk];function j5(e){return I5(e.animate)||Gk.some(t=>Wv(e[t]))}function FV(e){return!!(j5(e)||e.variants)}function Loe(e,t){if(j5(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Wv(r)?r:void 0,animate:Wv(n)?n:void 0}}return e.inherit!==!1?t:{}}function Moe(e){const{initial:t,animate:r}=Loe(e,F.useContext(O5));return F.useMemo(()=>({initial:t,animate:r}),[bj(t),bj(r)])}function bj(e){return Array.isArray(e)?e.join(" "):e}const Roe=Symbol.for("motionComponentSymbol");function P0(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Foe(e,t,r){return F.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):P0(r)&&(r.current=n))},[t])}const Kk=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),$oe="framerAppearId",$V="data-"+Kk($oe),BV=F.createContext({});function Boe(e,t,r,n,a){var m,y;const{visualElement:i}=F.useContext(O5),s=F.useContext(MV),o=F.useContext(k5),l=F.useContext(P5).reducedMotion,c=F.useRef(null);n=n||s.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:i,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,f=F.useContext(BV);u&&!u.projection&&a&&(u.type==="html"||u.type==="svg")&&Uoe(c.current,r,a,f);const h=F.useRef(!1);F.useInsertionEffect(()=>{u&&h.current&&u.update(r,o)});const p=r[$V],g=F.useRef(!!p&&!((m=window.MotionHandoffIsComplete)!=null&&m.call(window,p))&&((y=window.MotionHasOptimisedAnimation)==null?void 0:y.call(window,p)));return Sk(()=>{u&&(h.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),zk.render(u.render),g.current&&u.animationState&&u.animationState.animateChanges())}),F.useEffect(()=>{u&&(!g.current&&u.animationState&&u.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,p)}),g.current=!1))}),u}function Uoe(e,t,r,n){const{layoutId:a,layout:i,drag:s,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:UV(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!s||o&&P0(o),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:u,layoutScroll:l,layoutRoot:c})}function UV(e){if(e)return e.options.allowProjection!==!1?e.projection:UV(e.parent)}function Voe({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:a}){e&&Poe(e);function i(o,l){let c;const u={...F.useContext(P5),...o,layoutId:zoe(o)},{isStatic:f}=u,h=Moe(o),p=n(o,f);if(!f&&_k){qoe();const g=Woe(u);c=g.MeasureLayout,h.visualElement=Boe(a,p,u,t,g.ProjectionNode)}return d.jsxs(O5.Provider,{value:h,children:[c&&h.visualElement?d.jsx(c,{visualElement:h.visualElement,...u}):null,r(a,o,Foe(p,h.visualElement,l),p,f,h.visualElement)]})}i.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const s=F.forwardRef(i);return s[Roe]=a,s}function zoe({layoutId:e}){const t=F.useContext(wk).id;return t&&e!==void 0?t+"-"+e:e}function qoe(e,t){F.useContext(MV).strict}function Woe(e){const{drag:t,layout:r}=wp;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const Hv={};function Hoe(e){for(const t in e)Hv[t]=e[t],Ck(t)&&(Hv[t].isCSSVariable=!0)}function VV(e,{layout:t,layoutId:r}){return lm.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Hv[e]||e==="opacity")}const Goe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Koe=om.length;function Yoe(e,t,r){let n="",a=!0;for(let i=0;i<Koe;i++){const s=om[i],o=e[s];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(s.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||r){const c=CV(o,Vk[s]);if(!l){a=!1;const u=Goe[s]||s;n+=`${u}(${c}) `}r&&(t[s]=c)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function Yk(e,t,r){const{style:n,vars:a,transformOrigin:i}=e;let s=!1,o=!1;for(const l in t){const c=t[l];if(lm.has(l)){s=!0;continue}else if(Ck(l)){a[l]=c;continue}else{const u=CV(c,Vk[l]);l.startsWith("origin")?(o=!0,i[l]=u):n[l]=u}}if(t.transform||(s||r?n.transform=Yoe(t,e.transform,r):n.transform&&(n.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:u=0}=i;n.transformOrigin=`${l} ${c} ${u}`}}const Xk=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function zV(e,t,r){for(const n in t)!ai(t[n])&&!VV(n,r)&&(e[n]=t[n])}function Xoe({transformTemplate:e},t){return F.useMemo(()=>{const r=Xk();return Yk(r,t,e),Object.assign({},r.vars,r.style)},[t])}function Qoe(e,t){const r=e.style||{},n={};return zV(n,r,e),Object.assign(n,Xoe(e,t)),n}function Joe(e,t){const r={},n=Qoe(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const Zoe={offset:"stroke-dashoffset",array:"stroke-dasharray"},ele={offset:"strokeDashoffset",array:"strokeDasharray"};function tle(e,t,r=1,n=0,a=!0){e.pathLength=1;const i=a?Zoe:ele;e[i.offset]=Er.transform(-n);const s=Er.transform(t),o=Er.transform(r);e[i.array]=`${s} ${o}`}function qV(e,{attrX:t,attrY:r,attrScale:n,pathLength:a,pathSpacing:i=1,pathOffset:s=0,...o},l,c,u){if(Yk(e,o,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),a!==void 0&&tle(f,a,i,s,!1)}const WV=()=>({...Xk(),attrs:{}}),HV=e=>typeof e=="string"&&e.toLowerCase()==="svg";function rle(e,t,r,n){const a=F.useMemo(()=>{const i=WV();return qV(i,t,HV(n),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};zV(i,e.style,e),a.style={...i,...a.style}}return a}const nle=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Qk(e){return typeof e!="string"||e.includes("-")?!1:!!(nle.indexOf(e)>-1||/[A-Z]/u.test(e))}function ale(e=!1){return(r,n,a,{latestValues:i},s)=>{const l=(Qk(r)?rle:Joe)(n,i,s,r),c=joe(n,typeof r=="string",e),u=r!==F.Fragment?{...c,...l,ref:a}:{},{children:f}=n,h=F.useMemo(()=>ai(f)?f.get():f,[f]);return F.createElement(r,{...u,children:h})}}function wj(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function Jk(e,t,r,n){if(typeof t=="function"){const[a,i]=wj(n);t=t(r!==void 0?r:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=wj(n);t=t(r!==void 0?r:e.custom,a,i)}return t}function w2(e){return ai(e)?e.get():e}function ile({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,a){return{latestValues:sle(r,n,a,e),renderState:t()}}const GV=e=>(t,r)=>{const n=F.useContext(O5),a=F.useContext(k5),i=()=>ile(e,t,n,a);return r?i():ay(i)};function sle(e,t,r,n){const a={},i=n(e,{});for(const h in i)a[h]=w2(i[h]);let{initial:s,animate:o}=e;const l=j5(e),c=FV(e);t&&c&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),o===void 0&&(o=t.animate));let u=r?r.initial===!1:!1;u=u||s===!1;const f=u?o:s;if(f&&typeof f!="boolean"&&!I5(f)){const h=Array.isArray(f)?f:[f];for(let p=0;p<h.length;p++){const g=Jk(e,h[p]);if(g){const{transitionEnd:m,transition:y,...v}=g;for(const b in v){let w=v[b];if(Array.isArray(w)){const D=u?w.length-1:0;w=w[D]}w!==null&&(a[b]=w)}for(const b in m)a[b]=m[b]}}}return a}function Zk(e,t,r){var i;const{style:n}=e,a={};for(const s in n)(ai(n[s])||t.style&&ai(t.style[s])||VV(s,e)||((i=r==null?void 0:r.getValue(s))==null?void 0:i.liveStyle)!==void 0)&&(a[s]=n[s]);return a}const ole={useVisualState:GV({scrapeMotionValuesFromProps:Zk,createRenderState:Xk})};function KV(e,t,r){const n=Zk(e,t,r);for(const a in e)if(ai(e[a])||ai(t[a])){const i=om.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=e[a]}return n}const lle={useVisualState:GV({scrapeMotionValuesFromProps:KV,createRenderState:WV})};function cle(e,t){return function(n,{forwardMotionProps:a}={forwardMotionProps:!1}){const s={...Qk(n)?lle:ole,preloadedFeatures:e,useRender:ale(a),createVisualElement:t,Component:n};return Voe(s)}}function Gv(e,t,r){const n=e.getProps();return Jk(n,t,r!==void 0?r:n.custom,e)}const TE=e=>Array.isArray(e);function ule(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,oh(r))}function fle(e){return TE(e)?e[e.length-1]||0:e}function dle(e,t){const r=Gv(e,t);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const s in i){const o=fle(i[s]);ule(e,s,o)}}function hle(e){return!!(ai(e)&&e.add)}function NE(e,t){const r=e.getValue("willChange");if(hle(r))return r.add(t);if(!r&&Zc.WillChange){const n=new Zc.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function YV(e){return e.props[$V]}const ple=e=>e!==null;function mle(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(ple),i=t&&r!=="loop"&&t%2===1?0:a.length-1;return!i||n===void 0?a[i]:n}const gle={type:"spring",stiffness:500,damping:25,restSpeed:10},vle=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),yle={type:"keyframes",duration:.8},xle={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ble=(e,{keyframes:t})=>t.length>2?yle:lm.has(e)?e.startsWith("scale")?vle(t[1]):gle:xle;function wle({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:s,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const eC=(e,t,r,n={},a,i)=>s=>{const o=Uk(n,e)||{},l=o.delay||n.delay||0;let{elapsed:c=0}=n;c=c-bl(l);const u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:h=>{t.set(h),o.onUpdate&&o.onUpdate(h)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:i?void 0:a};wle(o)||Object.assign(u,ble(e,u)),u.duration&&(u.duration=bl(u.duration)),u.repeatDelay&&(u.repeatDelay=bl(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(f=!0)),(Zc.instantAnimations||Zc.skipAnimations)&&(f=!0,u.duration=0,u.delay=0),u.allowFlatten=!o.type&&!o.ease,f&&!i&&t.get()!==void 0){const h=mle(u.keyframes,o);if(h!==void 0){Zn.update(()=>{u.onUpdate(h),u.onComplete()});return}}return o.isSync?new Rk(u):new eoe(u)};function _le({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function tC(e,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:s,...o}=t;n&&(i=n);const l=[],c=a&&e.animationState&&e.animationState.getState()[a];for(const u in o){const f=e.getValue(u,e.latestValues[u]??null),h=o[u];if(h===void 0||c&&_le(c,u))continue;const p={delay:r,...Uk(i||{},u)},g=f.get();if(g!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===g&&!p.velocity)continue;let m=!1;if(window.MotionHandoffAnimation){const v=YV(e);if(v){const b=window.MotionHandoffAnimation(v,u,Zn);b!==null&&(p.startTime=b,m=!0)}}NE(e,u),f.start(eC(u,f,h,e.shouldReduceMotion&&SV.has(u)?{type:!1}:p,e,m));const y=f.animation;y&&l.push(y)}return s&&Promise.all(l).then(()=>{Zn.update(()=>{s&&dle(e,s)})}),l}function kE(e,t,r={}){var l;const n=Gv(e,t,r.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const i=n?()=>Promise.all(tC(e,n,r)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:h}=a;return Sle(e,t,u+c,f,h,r)}:()=>Promise.resolve(),{when:o}=a;if(o){const[c,u]=o==="beforeChildren"?[i,s]:[s,i];return c().then(()=>u())}else return Promise.all([i(),s(r.delay)])}function Sle(e,t,r=0,n=0,a=1,i){const s=[],o=(e.variantChildren.size-1)*n,l=a===1?(c=0)=>c*n:(c=0)=>o-c*n;return Array.from(e.variantChildren).sort(Ale).forEach((c,u)=>{c.notify("AnimationStart",t),s.push(kE(c,t,{...i,delay:r+l(u)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(s)}function Ale(e,t){return e.sortNodePosition(t)}function Ele(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(i=>kE(e,i,r));n=Promise.all(a)}else if(typeof t=="string")n=kE(e,t,r);else{const a=typeof t=="function"?Gv(e,t,r.custom):t;n=Promise.all(tC(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function XV(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const Tle=Gk.length;function QV(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?QV(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<Tle;r++){const n=Gk[r],a=e.props[n];(Wv(a)||a===!1)&&(t[n]=a)}return t}const Nle=[...Hk].reverse(),kle=Hk.length;function Cle(e){return t=>Promise.all(t.map(({animation:r,options:n})=>Ele(e,r,n)))}function Ple(e){let t=Cle(e),r=_j(),n=!0;const a=l=>(c,u)=>{var h;const f=Gv(e,u,l==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:g,...m}=f;c={...c,...m,...g}}return c};function i(l){t=l(e)}function s(l){const{props:c}=e,u=QV(e.parent)||{},f=[],h=new Set;let p={},g=1/0;for(let y=0;y<kle;y++){const v=Nle[y],b=r[v],w=c[v]!==void 0?c[v]:u[v],D=Wv(w),P=v===l?b.isActive:null;P===!1&&(g=y);let j=w===u[v]&&w!==c[v]&&D;if(j&&n&&e.manuallyAnimateOnMount&&(j=!1),b.protectedKeys={...p},!b.isActive&&P===null||!w&&!b.prevProp||I5(w)||typeof w=="boolean")continue;const E=Ole(b.prevProp,w);let _=E||v===l&&b.isActive&&!j&&D||y>g&&D,S=!1;const I=Array.isArray(w)?w:[w];let T=I.reduce(a(v),{});P===!1&&(T={});const{prevResolvedValues:N={}}=b,O={...N,...T},U=J=>{_=!0,h.has(J)&&(S=!0,h.delete(J)),b.needsAnimating[J]=!0;const q=e.getValue(J);q&&(q.liveStyle=!1)};for(const J in O){const q=T[J],V=N[J];if(p.hasOwnProperty(J))continue;let ee=!1;TE(q)&&TE(V)?ee=!XV(q,V):ee=q!==V,ee?q!=null?U(J):h.add(J):q!==void 0&&h.has(J)?U(J):b.protectedKeys[J]=!0}b.prevProp=w,b.prevResolvedValues=T,b.isActive&&(p={...p,...T}),n&&e.blockInitialAnimation&&(_=!1),_&&(!(j&&E)||S)&&f.push(...I.map(J=>({animation:J,options:{type:v}})))}if(h.size){const y={};if(typeof c.initial!="boolean"){const v=Gv(e,Array.isArray(c.initial)?c.initial[0]:c.initial);v&&v.transition&&(y.transition=v.transition)}h.forEach(v=>{const b=e.getBaseTarget(v),w=e.getValue(v);w&&(w.liveStyle=!0),y[v]=b??null}),f.push({animation:y})}let m=!!f.length;return n&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(m=!1),n=!1,m?t(f):Promise.resolve()}function o(l,c){var f;if(r[l].isActive===c)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var p;return(p=h.animationState)==null?void 0:p.setActive(l,c)}),r[l].isActive=c;const u=s(l);for(const h in r)r[h].protectedKeys={};return u}return{animateChanges:s,setActive:o,setAnimateFunction:i,getState:()=>r,reset:()=>{r=_j(),n=!0}}}function Ole(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!XV(t,e):!1}function yd(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function _j(){return{animate:yd(!0),whileInView:yd(),whileHover:yd(),whileTap:yd(),whileDrag:yd(),whileFocus:yd(),exit:yd()}}class Qf{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Ile extends Qf{constructor(t){super(t),t.animationState||(t.animationState=Ple(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();I5(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let jle=0;class Dle extends Qf{constructor(){super(...arguments),this.id=jle++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Lle={animation:{Feature:Ile},exit:{Feature:Dle}};function Kv(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function ly(e){return{point:{x:e.pageX,y:e.pageY}}}const Mle=e=>t=>qk(t)&&e(t,ly(t));function qg(e,t,r,n){return Kv(e,t,Mle(r),n)}function JV({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function Rle({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Fle(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}const ZV=1e-4,$le=1-ZV,Ble=1+ZV,ez=.01,Ule=0-ez,Vle=0+ez;function ds(e){return e.max-e.min}function zle(e,t,r){return Math.abs(e-t)<=r}function Sj(e,t,r,n=.5){e.origin=n,e.originPoint=Qn(t.min,t.max,e.origin),e.scale=ds(r)/ds(t),e.translate=Qn(r.min,r.max,e.origin)-e.originPoint,(e.scale>=$le&&e.scale<=Ble||isNaN(e.scale))&&(e.scale=1),(e.translate>=Ule&&e.translate<=Vle||isNaN(e.translate))&&(e.translate=0)}function Wg(e,t,r,n){Sj(e.x,t.x,r.x,n?n.originX:void 0),Sj(e.y,t.y,r.y,n?n.originY:void 0)}function Aj(e,t,r){e.min=r.min+t.min,e.max=e.min+ds(t)}function qle(e,t,r){Aj(e.x,t.x,r.x),Aj(e.y,t.y,r.y)}function Ej(e,t,r){e.min=t.min-r.min,e.max=e.min+ds(t)}function Hg(e,t,r){Ej(e.x,t.x,r.x),Ej(e.y,t.y,r.y)}const Tj=()=>({translate:0,scale:1,origin:0,originPoint:0}),O0=()=>({x:Tj(),y:Tj()}),Nj=()=>({min:0,max:0}),ca=()=>({x:Nj(),y:Nj()});function To(e){return[e("x"),e("y")]}function RS(e){return e===void 0||e===1}function CE({scale:e,scaleX:t,scaleY:r}){return!RS(e)||!RS(t)||!RS(r)}function Sd(e){return CE(e)||tz(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function tz(e){return kj(e.x)||kj(e.y)}function kj(e){return e&&e!=="0%"}function Tb(e,t,r){const n=e-r,a=t*n;return r+a}function Cj(e,t,r,n,a){return a!==void 0&&(e=Tb(e,a,n)),Tb(e,r,n)+t}function PE(e,t=0,r=1,n,a){e.min=Cj(e.min,t,r,n,a),e.max=Cj(e.max,t,r,n,a)}function rz(e,{x:t,y:r}){PE(e.x,t.translate,t.scale,t.originPoint),PE(e.y,r.translate,r.scale,r.originPoint)}const Pj=.999999999999,Oj=1.0000000000001;function Wle(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,s;for(let o=0;o<a;o++){i=r[o],s=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&j0(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,rz(e,s)),n&&Sd(i.latestValues)&&j0(e,i.latestValues))}t.x<Oj&&t.x>Pj&&(t.x=1),t.y<Oj&&t.y>Pj&&(t.y=1)}function I0(e,t){e.min=e.min+t,e.max=e.max+t}function Ij(e,t,r,n,a=.5){const i=Qn(e.min,e.max,a);PE(e,t,r,i,n)}function j0(e,t){Ij(e.x,t.x,t.scaleX,t.scale,t.originX),Ij(e.y,t.y,t.scaleY,t.scale,t.originY)}function nz(e,t){return JV(Fle(e.getBoundingClientRect(),t))}function Hle(e,t,r){const n=nz(e,r),{scroll:a}=t;return a&&(I0(n.x,a.offset.x),I0(n.y,a.offset.y)),n}const az=({current:e})=>e?e.ownerDocument.defaultView:null,jj=(e,t)=>Math.abs(e-t);function Gle(e,t){const r=jj(e.x,t.x),n=jj(e.y,t.y);return Math.sqrt(r**2+n**2)}class iz{constructor(t,r,{transformPagePoint:n,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=$S(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=Gle(f.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:g}=f,{timestamp:m}=pi;this.history.push({...g,timestamp:m});const{onStart:y,onMove:v}=this.handlers;h||(y&&y(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=FS(h,this.transformPagePoint),Zn.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=$S(f.type==="pointercancel"?this.lastMoveEventInfo:FS(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,y),g&&g(f,y)},!qk(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=a||window;const s=ly(t),o=FS(s,this.transformPagePoint),{point:l}=o,{timestamp:c}=pi;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=r;u&&u(t,$S(o,this.history)),this.removeListeners=iy(qg(this.contextWindow,"pointermove",this.handlePointerMove),qg(this.contextWindow,"pointerup",this.handlePointerUp),qg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),eu(this.updatePoint)}}function FS(e,t){return t?{point:t(e.point)}:e}function Dj(e,t){return{x:e.x-t.x,y:e.y-t.y}}function $S({point:e},t){return{point:e,delta:Dj(e,sz(t)),offset:Dj(e,Kle(t)),velocity:Yle(t,.1)}}function Kle(e){return e[0]}function sz(e){return e[e.length-1]}function Yle(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=sz(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>bl(t)));)r--;if(!n)return{x:0,y:0};const i=ec(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const s={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Xle(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Qn(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Qn(r,e,n.max):Math.min(e,r)),e}function Lj(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function Qle(e,{top:t,left:r,bottom:n,right:a}){return{x:Lj(e.x,r,a),y:Lj(e.y,t,n)}}function Mj(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function Jle(e,t){return{x:Mj(e.x,t.x),y:Mj(e.y,t.y)}}function Zle(e,t){let r=.5;const n=ds(e),a=ds(t);return a>n?r=bp(t.min,t.max-n,e.min):n>a&&(r=bp(e.min,e.max-a,t.min)),Jc(0,1,r)}function ece(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const OE=.35;function tce(e=OE){return e===!1?e=0:e===!0&&(e=OE),{x:Rj(e,"left","right"),y:Rj(e,"top","bottom")}}function Rj(e,t,r){return{min:Fj(e,t),max:Fj(e,r)}}function Fj(e,t){return typeof e=="number"?e:e[t]||0}const rce=new WeakMap;class nce{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ca(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=u=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(ly(u).point)},i=(u,f)=>{const{drag:h,dragPropagation:p,onDragStart:g}=this.getProps();if(h&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=voe(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),To(y=>{let v=this.getAxisMotionValue(y).get()||0;if(tc.test(v)){const{projection:b}=this.visualElement;if(b&&b.layout){const w=b.layout.layoutBox[y];w&&(v=ds(w)*(parseFloat(v)/100))}}this.originPoint[y]=v}),g&&Zn.postRender(()=>g(u,f)),NE(this.visualElement,"transform");const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},s=(u,f)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:g,onDrag:m}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:y}=f;if(p&&this.currentDirection===null){this.currentDirection=ace(y),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),m&&m(u,f)},o=(u,f)=>this.stop(u,f),l=()=>To(u=>{var f;return this.getAnimationState(u)==="paused"&&((f=this.getAxisMotionValue(u).animation)==null?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new iz(t,{onSessionStart:a,onStart:i,onMove:s,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:az(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&Zn.postRender(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!Sx(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let s=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(s=Xle(s,this.constraints[t],this.elastic[t])),i.set(s)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,a=this.constraints;t&&P0(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=Qle(n.layoutBox,t):this.constraints=!1,this.elastic=tce(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&To(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=ece(n.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!P0(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=Hle(n,a.root,this.visualElement.getTransformPagePoint());let s=Jle(a.layout.layoutBox,i);if(r){const o=r(Rle(s));this.hasMutatedConstraints=!!o,o&&(s=JV(o))}return s}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=To(u=>{if(!Sx(u,r,this.currentDirection))return;let f=l&&l[u]||{};s&&(f={min:0,max:0});const h=a?200:1e6,p=a?40:1e7,g={type:"inertia",velocity:n?t[u]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(u,g)});return Promise.all(c).then(o)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return NE(this.visualElement,t),n.start(eC(t,n,0,r,this.visualElement,!1))}stopAnimation(){To(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){To(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){To(r=>{const{drag:n}=this.getProps();if(!Sx(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:s,max:o}=a.layout.layoutBox[r];i.set(t[r]-Qn(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!P0(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};To(s=>{const o=this.getAxisMotionValue(s);if(o&&this.constraints!==!1){const l=o.get();a[s]=Zle({min:l,max:l},this.constraints[s])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),To(s=>{if(!Sx(s,t,null))return;const o=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];o.set(Qn(l,c,a[s]))})}addListeners(){if(!this.visualElement.current)return;rce.set(this.visualElement,this);const t=this.visualElement.current,r=qg(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();P0(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Zn.read(n);const s=Kv(window,"resize",()=>this.scalePositionWithinConstraints()),o=a.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(To(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{s(),r(),i(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:s=OE,dragMomentum:o=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:s,dragMomentum:o}}}function Sx(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function ace(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class ice extends Qf{constructor(t){super(t),this.removeGroupControls=jo,this.removeListeners=jo,this.controls=new nce(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||jo}unmount(){this.removeGroupControls(),this.removeListeners()}}const $j=e=>(t,r)=>{e&&Zn.postRender(()=>e(t,r))};class sce extends Qf{constructor(){super(...arguments),this.removePointerDownListener=jo}onPointerDown(t){this.session=new iz(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:az(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:$j(t),onStart:$j(r),onMove:n,onEnd:(i,s)=>{delete this.session,a&&Zn.postRender(()=>a(i,s))}}}mount(){this.removePointerDownListener=qg(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const _2={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Bj(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ym={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Er.test(e))e=parseFloat(e);else return e;const r=Bj(e,t.target.x),n=Bj(e,t.target.y);return`${r}% ${n}%`}},oce={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=Uf.parse(e);if(a.length>5)return n;const i=Uf.createTransformer(e),s=typeof a[0]!="number"?1:0,o=r.x.scale*t.x,l=r.y.scale*t.y;a[0+s]/=o,a[1+s]/=l;const c=Qn(o,l,.5);return typeof a[2+s]=="number"&&(a[2+s]/=c),typeof a[3+s]=="number"&&(a[3+s]/=c),i(a)}};class lce extends F.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=t;Hoe(cce),i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),_2.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,{projection:s}=n;return s&&(s.isPresent=i,a||t.layoutDependency!==r||r===void 0||t.isPresent!==i?s.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?s.promote():s.relegate()||Zn.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),zk.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function oz(e){const[t,r]=DV(),n=F.useContext(wk);return d.jsx(lce,{...e,layoutGroup:n,switchLayoutGroup:F.useContext(BV),isPresent:t,safeToRemove:r})}const cce={borderRadius:{...Ym,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ym,borderTopRightRadius:Ym,borderBottomLeftRadius:Ym,borderBottomRightRadius:Ym,boxShadow:oce};function lz(e,t,r){const n=ai(e)?e:oh(e);return n.start(eC("",n,t,r)),n.animation}const uce=(e,t)=>e.depth-t.depth;class fce{constructor(){this.children=[],this.isDirty=!1}add(t){Ak(this.children,t),this.isDirty=!0}remove(t){C5(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(uce),this.isDirty=!1,this.children.forEach(t)}}function dce(e,t){const r=js.now(),n=({timestamp:a})=>{const i=a-r;i>=t&&(eu(n),e(i-t))};return Zn.setup(n,!0),()=>eu(n)}const cz=["TopLeft","TopRight","BottomLeft","BottomRight"],hce=cz.length,Uj=e=>typeof e=="string"?parseFloat(e):e,Vj=e=>typeof e=="number"||Er.test(e);function pce(e,t,r,n,a,i){a?(e.opacity=Qn(0,r.opacity??1,mce(n)),e.opacityExit=Qn(t.opacity??1,0,gce(n))):i&&(e.opacity=Qn(t.opacity??1,r.opacity??1,n));for(let s=0;s<hce;s++){const o=`border${cz[s]}Radius`;let l=zj(t,o),c=zj(r,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Vj(l)===Vj(c)?(e[o]=Math.max(Qn(Uj(l),Uj(c),n),0),(tc.test(c)||tc.test(l))&&(e[o]+="%")):e[o]=c}(t.rotate||r.rotate)&&(e.rotate=Qn(t.rotate||0,r.rotate||0,n))}function zj(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const mce=uz(0,.5,YU),gce=uz(.5,.95,jo);function uz(e,t,r){return n=>n<e?0:n>t?1:r(bp(e,t,n))}function qj(e,t){e.min=t.min,e.max=t.max}function xo(e,t){qj(e.x,t.x),qj(e.y,t.y)}function Wj(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Hj(e,t,r,n,a){return e-=t,e=Tb(e,1/r,n),a!==void 0&&(e=Tb(e,1/a,n)),e}function vce(e,t=0,r=1,n=.5,a,i=e,s=e){if(tc.test(t)&&(t=parseFloat(t),t=Qn(s.min,s.max,t/100)-s.min),typeof t!="number")return;let o=Qn(i.min,i.max,n);e===i&&(o-=t),e.min=Hj(e.min,t,r,o,a),e.max=Hj(e.max,t,r,o,a)}function Gj(e,t,[r,n,a],i,s){vce(e,t[r],t[n],t[a],t.scale,i,s)}const yce=["x","scaleX","originX"],xce=["y","scaleY","originY"];function Kj(e,t,r,n){Gj(e.x,t,yce,r?r.x:void 0,n?n.x:void 0),Gj(e.y,t,xce,r?r.y:void 0,n?n.y:void 0)}function Yj(e){return e.translate===0&&e.scale===1}function fz(e){return Yj(e.x)&&Yj(e.y)}function Xj(e,t){return e.min===t.min&&e.max===t.max}function bce(e,t){return Xj(e.x,t.x)&&Xj(e.y,t.y)}function Qj(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function dz(e,t){return Qj(e.x,t.x)&&Qj(e.y,t.y)}function Jj(e){return ds(e.x)/ds(e.y)}function Zj(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class wce{constructor(){this.members=[]}add(t){Ak(this.members,t),t.scheduleRender()}remove(t){if(C5(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function _ce(e,t,r){let n="";const a=e.x.translate/t.x,i=e.y.translate/t.y,s=(r==null?void 0:r.z)||0;if((a||i||s)&&(n=`translate3d(${a}px, ${i}px, ${s}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:c,rotate:u,rotateX:f,rotateY:h,skewX:p,skewY:g}=r;c&&(n=`perspective(${c}px) ${n}`),u&&(n+=`rotate(${u}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),p&&(n+=`skewX(${p}deg) `),g&&(n+=`skewY(${g}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const BS=["","X","Y","Z"],Sce={visibility:"hidden"},Ace=1e3;let Ece=0;function US(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function hz(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=YV(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Zn,!(a||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&hz(n)}function pz({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(s={},o=t==null?void 0:t()){this.id=Ece++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(kce),this.nodes.forEach(jce),this.nodes.forEach(Dce),this.nodes.forEach(Cce)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new fce)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new Tk),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l&&l.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=Wk(s)&&!jV(s),this.instance=s;const{layoutId:o,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),e){let u;const f=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=dce(f,250),_2.hasAnimatedSinceResize&&(_2.hasAnimatedSinceResize=!1,this.nodes.forEach(tD))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||c.getDefaultTransition()||$ce,{onLayoutAnimationStart:m,onLayoutAnimationComplete:y}=c.getProps(),v=!this.targetLayout||!dz(this.targetLayout,p),b=!f&&h;if(this.options.layoutRoot||this.resumeFrom||b||f&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(u,b);const w={...Uk(g,"layout"),onPlay:m,onComplete:y};(c.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else f||tD(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),eu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Lce),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&hz(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(eD);return}this.isUpdating||this.nodes.forEach(Oce),this.isUpdating=!1,this.nodes.forEach(Ice),this.nodes.forEach(Tce),this.nodes.forEach(Nce),this.clearAllSnapshots();const o=js.now();pi.delta=Jc(0,1e3/60,o-pi.timestamp),pi.timestamp=o,pi.isProcessing=!0,OS.update.process(pi),OS.preRender.process(pi),OS.render.process(pi),pi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,zk.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Pce),this.sharedNodes.forEach(Mce)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Zn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Zn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ds(this.snapshot.measuredBox.x)&&!ds(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ca(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&this.instance){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!a)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!fz(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;s&&this.instance&&(o||Sd(this.latestValues)||u)&&(a(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),Bce(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:s}=this.options;if(!s)return ca();const o=s.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(Uce))){const{scroll:u}=this.root;u&&(I0(o.x,u.offset.x),I0(o.y,u.offset.y))}return o}removeElementScroll(s){var l;const o=ca();if(xo(o,s),(l=this.scroll)!=null&&l.wasRoot)return o;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:f,options:h}=u;u!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&xo(o,s),I0(o.x,f.offset.x),I0(o.y,f.offset.y))}return o}applyTransform(s,o=!1){const l=ca();xo(l,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&j0(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Sd(u.latestValues)&&j0(l,u.latestValues)}return Sd(this.latestValues)&&j0(l,this.latestValues),l}removeTransform(s){const o=ca();xo(o,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Sd(c.latestValues))continue;CE(c.latestValues)&&c.updateSnapshot();const u=ca(),f=c.measurePageBox();xo(u,f),Kj(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Sd(this.latestValues)&&Kj(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==pi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var h;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(s||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:f}=this.options;if(!(!this.layout||!(u||f))){if(this.resolvedRelativeTargetAt=pi.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ca(),this.relativeTargetOrigin=ca(),Hg(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),xo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ca(),this.targetWithTransforms=ca()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),qle(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):xo(this.target,this.layout.layoutBox),rz(this.target,this.targetDelta)):xo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ca(),this.relativeTargetOrigin=ca(),Hg(this.relativeTargetOrigin,this.target,p.target),xo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||CE(this.parent.latestValues)||tz(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var g;const s=this.getLead(),o=!!this.resumingFrom||this!==s;let l=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===pi.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;xo(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;Wle(this.layoutCorrected,this.treeScale,this.path,o),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=ca());const{target:p}=s;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Wj(this.prevProjectionDelta.x,this.projectionDelta.x),Wj(this.prevProjectionDelta.y,this.projectionDelta.y)),Wg(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!Zj(this.projectionDelta.x,this.prevProjectionDelta.x)||!Zj(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=O0(),this.projectionDelta=O0(),this.projectionDeltaWithTransform=O0()}setAnimationOrigin(s,o=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=O0();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=ca(),p=l?l.source:void 0,g=this.layout?this.layout.source:void 0,m=p!==g,y=this.getStack(),v=!y||y.members.length<=1,b=!!(m&&!v&&this.options.crossfade===!0&&!this.path.some(Fce));this.animationProgress=0;let w;this.mixTargetDelta=D=>{const P=D/1e3;rD(f.x,s.x,P),rD(f.y,s.y,P),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Hg(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Rce(this.relativeTarget,this.relativeTargetOrigin,h,P),w&&bce(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=ca()),xo(w,this.relativeTarget)),m&&(this.animationValues=u,pce(u,c,this.latestValues,P,b,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){var o,l,c;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(!1),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(!1),this.pendingAnimation&&(eu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Zn.update(()=>{_2.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=oh(0)),this.currentAnimation=lz(this.motionValue,[0,1e3],{...s,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),s.onUpdate&&s.onUpdate(u)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ace),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:u}=s;if(!(!o||!l||!c)){if(this!==s&&this.layout&&c&&mz(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||ca();const f=ds(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const h=ds(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}xo(o,l),j0(o,u),Wg(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new wce),this.sharedNodes.get(s).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var o;const{layoutId:s}=this.options;return s?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:s}=this.options;return s?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&US("z",s,c,this.animationValues);for(let u=0;u<BS.length;u++)US(`rotate${BS[u]}`,s,c,this.animationValues),US(`skew${BS[u]}`,s,c,this.animationValues);s.render();for(const u in c)s.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);s.scheduleRender()}getProjectionStyles(s){if(!this.instance||this.isSVG)return;if(!this.isVisible)return Sce;const o={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,o.opacity="",o.pointerEvents=w2(s==null?void 0:s.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none",o;const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){const p={};return this.options.layoutId&&(p.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,p.pointerEvents=w2(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!Sd(this.latestValues)&&(p.transform=l?l({},""):"none",this.hasProjected=!1),p}const u=c.animationValues||c.latestValues;this.applyTransformsToTarget(),o.transform=_ce(this.projectionDeltaWithTransform,this.treeScale,u),l&&(o.transform=l(u,o.transform));const{x:f,y:h}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${h.origin*100}% 0`,c.animationValues?o.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const p in Hv){if(u[p]===void 0)continue;const{correct:g,applyTo:m,isCSSVariable:y}=Hv[p],v=o.transform==="none"?u[p]:g(u[p],c);if(m){const b=m.length;for(let w=0;w<b;w++)o[m[w]]=v}else y?this.options.visualElement.renderState.vars[p]=v:o[p]=v}return this.options.layoutId&&(o.pointerEvents=c===this?w2(s==null?void 0:s.pointerEvents)||"":"none"),o}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)==null?void 0:o.stop(!1)}),this.root.nodes.forEach(eD),this.root.sharedNodes.clear()}}}function Tce(e){e.updateLayout()}function Nce(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:i}=e.options,s=t.source!==e.layout.source;i==="size"?To(f=>{const h=s?t.measuredBox[f]:t.layoutBox[f],p=ds(h);h.min=n[f].min,h.max=h.min+p}):mz(i,t.layoutBox,n)&&To(f=>{const h=s?t.measuredBox[f]:t.layoutBox[f],p=ds(n[f]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+p)});const o=O0();Wg(o,n,t.layoutBox);const l=O0();s?Wg(l,e.applyTransform(a,!0),t.measuredBox):Wg(l,n,t.layoutBox);const c=!fz(o);let u=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const g=ca();Hg(g,t.layoutBox,h.layoutBox);const m=ca();Hg(m,n,p.layoutBox),dz(g,m)||(u=!0),f.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=g,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function kce(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Cce(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Pce(e){e.clearSnapshot()}function eD(e){e.clearMeasurements()}function Oce(e){e.isLayoutDirty=!1}function Ice(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function tD(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function jce(e){e.resolveTargetDelta()}function Dce(e){e.calcProjection()}function Lce(e){e.resetSkewAndRotation()}function Mce(e){e.removeLeadSnapshot()}function rD(e,t,r){e.translate=Qn(t.translate,0,r),e.scale=Qn(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function nD(e,t,r,n){e.min=Qn(t.min,r.min,n),e.max=Qn(t.max,r.max,n)}function Rce(e,t,r,n){nD(e.x,t.x,r.x,n),nD(e.y,t.y,r.y,n)}function Fce(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const $ce={duration:.45,ease:[.4,0,.1,1]},aD=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),iD=aD("applewebkit/")&&!aD("chrome/")?Math.round:jo;function sD(e){e.min=iD(e.min),e.max=iD(e.max)}function Bce(e){sD(e.x),sD(e.y)}function mz(e,t,r){return e==="position"||e==="preserve-aspect"&&!zle(Jj(t),Jj(r),.2)}function Uce(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const Vce=pz({attachResizeListener:(e,t)=>Kv(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),VS={current:void 0},gz=pz({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!VS.current){const e=new Vce({});e.mount(window),e.setOptions({layoutScroll:!0}),VS.current=e}return VS.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),zce={pan:{Feature:sce},drag:{Feature:ice,ProjectionNode:gz,MeasureLayout:oz}};function oD(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=n[a];i&&Zn.postRender(()=>i(t,ly(t)))}class qce extends Qf{mount(){const{current:t}=this.node;t&&(this.unmount=yoe(t,(r,n)=>(oD(this.node,n,"Start"),a=>oD(this.node,a,"End"))))}unmount(){}}class Wce extends Qf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=iy(Kv(this.node.current,"focus",()=>this.onFocus()),Kv(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function lD(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=n[a];i&&Zn.postRender(()=>i(t,ly(t)))}class Hce extends Qf{mount(){const{current:t}=this.node;t&&(this.unmount=_oe(t,(r,n)=>(lD(this.node,n,"Start"),(a,{success:i})=>lD(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const IE=new WeakMap,zS=new WeakMap,Gce=e=>{const t=IE.get(e.target);t&&t(e)},Kce=e=>{e.forEach(Gce)};function Yce({root:e,...t}){const r=e||document;zS.has(r)||zS.set(r,{});const n=zS.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(Kce,{root:e,...t})),n[a]}function Xce(e,t,r){const n=Yce(t);return IE.set(e,r),n.observe(e),()=>{IE.delete(e),n.unobserve(e)}}const Qce={some:0,all:1};class Jce extends Qf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=t,s={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:Qce[a]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),h=c?u:f;h&&h(l)};return Xce(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(Zce(t,r))&&this.startObserver()}unmount(){}}function Zce({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const eue={inView:{Feature:Jce},tap:{Feature:Hce},focus:{Feature:Wce},hover:{Feature:qce}},tue={layout:{ProjectionNode:gz,MeasureLayout:oz}},jE={current:null},vz={current:!1};function rue(){if(vz.current=!0,!!_k)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>jE.current=e.matches;e.addListener(t),t()}else jE.current=!1}const Yv=new WeakMap;function nue(e,t,r){for(const n in t){const a=t[n],i=r[n];if(ai(a))e.addValue(n,a);else if(ai(i))e.addValue(n,oh(a,{owner:e}));else if(i!==a)if(e.hasValue(n)){const s=e.getValue(n);s.liveStyle===!0?s.jump(a):s.hasAnimated||s.set(a)}else{const s=e.getStaticValue(n);e.addValue(n,oh(s!==void 0?s:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const cD=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class yz{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Fk,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=js.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Zn.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=j5(r),this.isVariantNode=FV(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const p=f[h];l[h]!==void 0&&ai(p)&&p.set(l[h],!1)}}mount(t){this.current=t,Yv.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),vz.current||rue(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:jE.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),eu(this.notifyUpdate),eu(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=lm.has(t);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Zn.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),i(),s&&s(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in wp){const r=wp[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ca()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<cD.length;n++){const a=cD[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,s=t[i];s&&(this.propEventSubscriptions[a]=this.on(a,s))}this.prevMotionValues=nue(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=oh(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&($U(n)||UU(n))?n=parseFloat(n):!Eoe(n)&&Uf.test(r)&&(n=NV(t,r)),this.setBaseTarget(t,ai(n)?n.get():n)),ai(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const s=Jk(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);s&&(n=s[t])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!ai(a)?a:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new Tk),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class xz extends yz{constructor(){super(...arguments),this.KeyframeResolver=poe}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ai(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function bz(e,{style:t,vars:r},n,a){Object.assign(e.style,t,a&&a.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}function aue(e){return window.getComputedStyle(e)}class wz extends xz{constructor(){super(...arguments),this.type="html",this.renderInstance=bz}readValueFromInstance(t,r){var n;if(lm.has(r))return(n=this.projection)!=null&&n.isProjecting?bE(r):Ose(t,r);{const a=aue(t),i=(Ck(r)?a.getPropertyValue(r):a[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return nz(t,r)}build(t,r,n){Yk(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return Zk(t,r,n)}}const _z=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function iue(e,t,r,n){bz(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(_z.has(a)?a:Kk(a),t.attrs[a])}class Sz extends xz{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ca}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(lm.has(r)){const n=TV(r);return n&&n.default||0}return r=_z.has(r)?r:Kk(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return KV(t,r,n)}build(t,r,n){qV(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,a){iue(t,r,n,a)}mount(t){this.isSVGTag=HV(t.tagName),super.mount(t)}}const sue=(e,t)=>Qk(e)?new Sz(t):new wz(t,{allowProjection:e!==F.Fragment}),oue=cle({...Lle,...eue,...zce,...tue},sue),ra=Doe(oue);function DE(e){const t=ay(()=>oh(e)),{isStatic:r}=F.useContext(P5);if(r){const[,n]=F.useState(e);F.useEffect(()=>t.on("change",n),[])}return t}function Az(e,t){const r=DE(t()),n=()=>r.set(t());return n(),Sk(()=>{const a=()=>Zn.preRender(n,!1,!0),i=e.map(s=>s.on("change",a));return()=>{i.forEach(s=>s()),eu(n)}}),r}function lue(e){zg.current=[],e();const t=Az(zg.current,e);return zg.current=void 0,t}function uD(e,t,r,n){if(typeof e=="function")return lue(e);const a=typeof t=="function"?t:Soe(t,r,n);return Array.isArray(e)?fD(e,a):fD([e],([i])=>a(i))}function fD(e,t){const r=ay(()=>[]);return Az(e,()=>{r.length=0;const n=e.length;for(let a=0;a<n;a++)r[a]=e[a].get();return t(r)})}function rC(e){return typeof e=="object"&&!Array.isArray(e)}function Ez(e,t,r,n){return typeof e=="string"&&rC(t)?kV(e,r,n):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function cue(e,t,r){return e*(t+1)}function dD(e,t,r,n){return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?r:n.get(t)??e}function uue(e,t,r){for(let n=0;n<e.length;n++){const a=e[n];a.at>t&&a.at<r&&(C5(e,a),n--)}}function fue(e,t,r,n,a,i){uue(e,a,i);for(let s=0;s<t.length;s++)e.push({value:t[s],at:Qn(a,i,n[s]),easing:ZU(r,s)})}function due(e,t){for(let r=0;r<e.length;r++)e[r]=e[r]/(t+1)}function hue(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const pue="easeInOut";function mue(e,{defaultTransition:t={},...r}={},n,a){const i=t.duration||.3,s=new Map,o=new Map,l={},c=new Map;let u=0,f=0,h=0;for(let p=0;p<e.length;p++){const g=e[p];if(typeof g=="string"){c.set(g,f);continue}else if(!Array.isArray(g)){c.set(g.name,dD(f,g.at,u,c));continue}let[m,y,v={}]=g;v.at!==void 0&&(f=dD(f,v.at,u,c));let b=0;const w=(D,P,j,E=0,_=0)=>{const S=gue(D),{delay:I=0,times:T=mV(S),type:N="keyframes",repeat:O,repeatType:U,repeatDelay:Y=0,...K}=P;let{ease:J=t.ease||"easeOut",duration:q}=P;const V=typeof I=="function"?I(E,_):I,ee=S.length,Z=$k(N)?N:a==null?void 0:a[N];if(ee<=2&&Z){let G=100;if(ee===2&&xue(S)){const ce=S[1]-S[0];G=Math.abs(ce)}const Q={...K};q!==void 0&&(Q.duration=bl(q));const oe=fV(Q,G,Z);J=oe.ease,q=oe.duration}q??(q=i);const k=f+V;T.length===1&&T[0]===0&&(T[1]=1);const R=T.length-S.length;if(R>0&&pV(T,R),S.length===1&&S.unshift(null),O){q=cue(q,O);const G=[...S],Q=[...T];J=Array.isArray(J)?[...J]:[J];const oe=[...J];for(let ce=0;ce<O;ce++){S.push(...G);for(let ne=0;ne<G.length;ne++)T.push(Q[ne]+(ce+1)),J.push(ne===0?"linear":ZU(oe,ne-1))}due(T,O)}const z=k+q;fue(j,S,J,T,k,z),b=Math.max(V+q,b),h=Math.max(z,h)};if(ai(m)){const D=hD(m,o);w(y,v,pD("default",D))}else{const D=Ez(m,y,n,l),P=D.length;for(let j=0;j<P;j++){y=y,v=v;const E=D[j],_=hD(E,o);for(const S in y)w(y[S],vue(v,S),pD(S,_),j,P)}}u=f,f+=b}return o.forEach((p,g)=>{for(const m in p){const y=p[m];y.sort(hue);const v=[],b=[],w=[];for(let P=0;P<y.length;P++){const{at:j,value:E,easing:_}=y[P];v.push(E),b.push(bp(0,h,j)),w.push(_||"easeOut")}b[0]!==0&&(b.unshift(0),v.unshift(v[0]),w.unshift(pue)),b[b.length-1]!==1&&(b.push(1),v.push(null)),s.has(g)||s.set(g,{keyframes:{},transition:{}});const D=s.get(g);D.keyframes[m]=v,D.transition[m]={...t,duration:h,ease:w,times:b,...r}}}),s}function hD(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function pD(e,t){return t[e]||(t[e]=[]),t[e]}function gue(e){return Array.isArray(e)?e:[e]}function vue(e,t){return e&&e[t]?{...e,...e[t]}:{...e}}const yue=e=>typeof e=="number",xue=e=>e.every(yue);function bue(e,t){return e in t}class wue extends yz{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,r){if(bue(r,t)){const n=t[r];if(typeof n=="string"||typeof n=="number")return n}}getBaseTargetFromProps(){}removeValueFromRenderState(t,r){delete r.output[t]}measureInstanceViewportBox(){return ca()}build(t,r){Object.assign(t.output,r)}renderInstance(t,{output:r}){Object.assign(t,r)}sortInstanceNodePosition(){return 0}}function _ue(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},r=Wk(e)&&!jV(e)?new Sz(t):new wz(t);r.mount(e),Yv.set(e,r)}function Sue(e){const t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},r=new wue(t);r.mount(e),Yv.set(e,r)}function Aue(e,t){return ai(e)||typeof e=="number"||typeof e=="string"&&!rC(t)}function Tz(e,t,r,n){const a=[];if(Aue(e,t))a.push(lz(e,rC(t)&&t.default||t,r&&(r.default||r)));else{const i=Ez(e,t,n),s=i.length;for(let o=0;o<s;o++){const l=i[o],c=l instanceof Element?_ue:Sue;Yv.has(l)||c(l);const u=Yv.get(l),f={...r};"delay"in f&&typeof f.delay=="function"&&(f.delay=f.delay(o,s)),a.push(...tC(u,{...t,transition:f},{}))}}return a}function Eue(e,t,r){const n=[];return mue(e,t,r,{spring:qv}).forEach(({keyframes:i,transition:s},o)=>{n.push(...Tz(o,i,s))}),n}function Tue(e){return Array.isArray(e)&&e.some(Array.isArray)}function Nue(e){function t(r,n,a){let i=[];return Tue(r)?i=Eue(r,n,e):i=Tz(r,n,a,e),new roe(i)}return t}const mD=Nue(),kue=()=>{const{user:e,logout:t}=ma(),r=K1(),{isDarkMode:n}=ln(),[a,i]=F.useState(!1),s=p=>p.split(" ").map(g=>g[0]).join("").toUpperCase().slice(0,2),o=async()=>{r("/login"),t()},l=()=>{i(!a)},c=()=>{i(!1)},u=()=>{switch(e==null?void 0:e.role){case"fahiz":return"Fahiz Stock";case"aphy":return"APHY Stock";case"supply_serve":default:return"Supply & Serve"}},f=[{to:"/",icon:d.jsx(bee,{size:20}),label:"Dashboard",roles:["admin"]},{to:"/add",icon:d.jsx(Si,{size:20}),label:"Add",roles:["admin","staff"]},{to:"/stock",icon:d.jsx(MO,{size:20}),label:"Inbound",roles:["admin","staff"]},{to:"/outbound-stock",icon:d.jsx(See,{size:20}),label:"Outbound",roles:["admin","staff"]},{to:"/inventory",icon:d.jsx(dee,{size:20}),label:"Inventory",roles:["admin"]},{to:"/jobs",icon:d.jsx(hee,{size:20}),label:"Jobs",roles:["admin","staff"]},{to:"/warehouse-locations",icon:d.jsx(CN,{size:20}),label:"Locations",roles:["admin","staff"]},{to:"/orders",icon:d.jsx(Nee,{size:20}),label:"Orders",roles:[""]},{to:"/reports-analytics",icon:d.jsx(fee,{size:20}),label:"Reports",roles:["admin","staff"]},{to:"/warehouse-operations",icon:d.jsx(cee,{size:20}),label:"Logs",roles:["admin","staff"]},{to:"/settings",icon:d.jsx(Tee,{size:20}),label:"Settings",roles:["admin","staff"]},{to:"/supply-serve",icon:d.jsx(MO,{size:20}),label:u(),roles:["supply_serve","fahiz","aphy"]}],h=e?f.filter(p=>p.roles.includes(e.role)):[];return d.jsxs(ra.header,{initial:{y:-100},animate:{y:0},transition:{type:"spring",stiffness:100},className:`${n?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} border-b sticky top-0 z-10`,children:[d.jsx("div",{className:"container mx-auto px-4 md:px-6 lg:px-8",children:d.jsxs("div",{className:"flex items-center justify-between h-16",children:[d.jsx(ra.div,{className:"flex items-center",whileHover:{scale:1.02},transition:{type:"spring",stiffness:400,damping:10},children:d.jsx(bS,{to:"/",className:"flex items-center gap-2 font-semibold text-lg",children:d.jsx(ra.span,{className:`font-bold ${n?"text-blue-400":"text-blue-600"}`,whileHover:{scale:1.05},transition:{type:"spring",stiffness:400,damping:10},children:"AZTEC"})})}),d.jsx("nav",{className:"hidden md:flex items-center justify-center flex-1 space-x-1",children:h.map((p,g)=>d.jsx(ra.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:g*.1},children:d.jsx("div",{className:"group relative",children:d.jsx(bS,{to:p.to,className:({isActive:m})=>`flex items-center h-10 rounded-lg transition-all duration-300 overflow-hidden ${m?`px-3 ${n?"bg-slate-700 text-white":"bg-blue-100 text-blue-700"}`:`group-hover:px-3 ${n?"text-slate-300 hover:bg-slate-700 hover:text-white":"text-slate-700 hover:bg-slate-100"}`}`,...p.to==="/"?{end:!0}:{},children:({isActive:m})=>d.jsxs(d.Fragment,{children:[d.jsx(ra.div,{className:"flex items-center justify-center w-10 h-10 flex-shrink-0",whileHover:{scale:1.05},whileTap:{scale:.95},children:p.icon}),d.jsx("span",{className:`text-sm font-medium whitespace-nowrap transition-all duration-300 overflow-hidden ${m?"opacity-100 w-auto ml-1":"opacity-0 w-0 group-hover:opacity-100 group-hover:w-auto group-hover:ml-1"}`,children:p.label})]})})})},p.to))}),d.jsxs("div",{className:"flex items-center gap-4",children:[e&&d.jsxs(ra.div,{className:"hidden md:flex items-center gap-3",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},children:[d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:`text-sm font-medium ${n?"text-white":"text-slate-700"}`,children:e.name}),d.jsx("p",{className:`text-xs ${n?"text-slate-400":"text-slate-500"} capitalize`,children:e.role})]}),d.jsx(ra.div,{className:`h-8 w-8 rounded-full overflow-hidden ${n?"bg-blue-900/50":"bg-blue-100"} flex items-center justify-center`,whileHover:{scale:1.1},whileTap:{scale:.9},children:d.jsx("span",{className:`text-sm font-semibold ${n?"text-blue-400":"text-blue-600"}`,children:s(e.name)})}),d.jsx(ra.button,{onClick:o,className:`p-2 ${n?"text-slate-300 hover:text-red-400 hover:bg-slate-700":"text-slate-600 hover:text-red-600 hover:bg-slate-100"} rounded-full transition-colors`,"aria-label":"Logout",whileHover:{scale:1.1},whileTap:{scale:.9},children:d.jsx(LO,{size:20})})]}),d.jsx(ra.button,{onClick:l,className:`md:hidden p-2 ${n?"text-slate-300 hover:bg-slate-700":"text-slate-600 hover:bg-slate-100"} rounded-lg`,"aria-label":a?"Close menu":"Open menu",whileHover:{scale:1.1},whileTap:{scale:.9},children:a?d.jsx(Kc,{size:24}):d.jsx(_ee,{size:24})})]})]})}),d.jsx(LV,{children:a&&d.jsx(ra.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:`md:hidden ${n?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} border-t`,children:d.jsxs("div",{className:"container mx-auto px-4 py-3 space-y-1",children:[h.map((p,g)=>d.jsx(ra.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:g*.1},children:d.jsx(bS,{to:p.to,className:({isActive:m})=>`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${m?n?"bg-slate-700 text-white":"bg-blue-100 text-blue-700":n?"text-slate-300 hover:bg-slate-700 hover:text-white":"text-slate-700 hover:bg-slate-100"}`,onClick:c,...p.to==="/"?{end:!0}:{},children:d.jsxs(ra.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-3",children:[p.icon,d.jsx("span",{className:"text-sm font-medium",children:p.label})]})})},p.to)),d.jsx(ra.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:`border-t ${n?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:e&&d.jsxs("div",{className:"flex items-center justify-between py-2",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(ra.div,{className:`h-8 w-8 rounded-full overflow-hidden ${n?"bg-blue-900/50":"bg-blue-100"} flex items-center justify-center`,whileHover:{scale:1.1},whileTap:{scale:.9},children:d.jsx("span",{className:`text-sm font-semibold ${n?"text-blue-400":"text-blue-600"}`,children:s(e.name)})}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm font-medium ${n?"text-white":"text-slate-700"}`,children:e.name}),d.jsx("p",{className:`text-xs ${n?"text-slate-400":"text-slate-500"} capitalize`,children:e.role})]})]}),d.jsxs(ra.button,{onClick:o,className:`flex items-center gap-2 px-3 py-2 ${n?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-red-50"} rounded-lg transition-colors`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[d.jsx(LO,{size:18}),d.jsx("span",{children:"Logout"})]})]})})]})})})]})};var gD;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(gD||(gD={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vD;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(vD||(vD={}));var yD;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(yD||(yD={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD=["user","model","function","system"];var bD;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(bD||(bD={}));var wD;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(wD||(wD={}));var _D;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(_D||(_D={}));var SD;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(SD||(SD={}));var Gg;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"})(Gg||(Gg={}));var AD;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(AD||(AD={}));var ED;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(ED||(ED={}));var TD;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(TD||(TD={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class t0 extends Wi{constructor(t,r){super(t),this.response=r}}class Nz extends Wi{constructor(t,r,n,a){super(t),this.status=r,this.statusText=n,this.errorDetails=a}}class Tf extends Wi{}class kz extends Wi{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cue="https://generativelanguage.googleapis.com",Pue="v1beta",Oue="0.24.1",Iue="genai-js";var lh;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(lh||(lh={}));class jue{constructor(t,r,n,a,i){this.model=t,this.task=r,this.apiKey=n,this.stream=a,this.requestOptions=i}toString(){var t,r;const n=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||Pue;let i=`${((r=this.requestOptions)===null||r===void 0?void 0:r.baseUrl)||Cue}/${n}/${this.model}:${this.task}`;return this.stream&&(i+="?alt=sse"),i}}function Due(e){const t=[];return e!=null&&e.apiClient&&t.push(e.apiClient),t.push(`${Iue}/${Oue}`),t.join(" ")}async function Lue(e){var t;const r=new Headers;r.append("Content-Type","application/json"),r.append("x-goog-api-client",Due(e.requestOptions)),r.append("x-goog-api-key",e.apiKey);let n=(t=e.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(n){if(!(n instanceof Headers))try{n=new Headers(n)}catch(a){throw new Tf(`unable to convert customHeaders value ${JSON.stringify(n)} to Headers: ${a.message}`)}for(const[a,i]of n.entries()){if(a==="x-goog-api-key")throw new Tf(`Cannot set reserved header name ${a}`);if(a==="x-goog-api-client")throw new Tf(`Header name ${a} can only be set using the apiClient field`);r.append(a,i)}}return r}async function Mue(e,t,r,n,a,i){const s=new jue(e,t,r,n,i);return{url:s.toString(),fetchOptions:Object.assign(Object.assign({},Bue(i)),{method:"POST",headers:await Lue(s),body:a})}}async function cy(e,t,r,n,a,i={},s=fetch){const{url:o,fetchOptions:l}=await Mue(e,t,r,n,a,i);return Rue(o,l,s)}async function Rue(e,t,r=fetch){let n;try{n=await r(e,t)}catch(a){Fue(a,e)}return n.ok||await $ue(n,e),n}function Fue(e,t){let r=e;throw r.name==="AbortError"?(r=new kz(`Request aborted when fetching ${t.toString()}: ${e.message}`),r.stack=e.stack):e instanceof Nz||e instanceof Tf||(r=new Wi(`Error fetching from ${t.toString()}: ${e.message}`),r.stack=e.stack),r}async function $ue(e,t){let r="",n;try{const a=await e.json();r=a.error.message,a.error.details&&(r+=` ${JSON.stringify(a.error.details)}`,n=a.error.details)}catch{}throw new Nz(`Error fetching from ${t.toString()}: [${e.status} ${e.statusText}] ${r}`,e.status,e.statusText,n)}function Bue(e){const t={};if((e==null?void 0:e.signal)!==void 0||(e==null?void 0:e.timeout)>=0){const r=new AbortController;(e==null?void 0:e.timeout)>=0&&setTimeout(()=>r.abort(),e.timeout),e!=null&&e.signal&&e.signal.addEventListener("abort",()=>{r.abort()}),t.signal=r.signal}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),S2(e.candidates[0]))throw new t0(`${Yu(e)}`,e);return Uue(e)}else if(e.promptFeedback)throw new t0(`Text not available. ${Yu(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),S2(e.candidates[0]))throw new t0(`${Yu(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),ND(e)[0]}else if(e.promptFeedback)throw new t0(`Function call not available. ${Yu(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),S2(e.candidates[0]))throw new t0(`${Yu(e)}`,e);return ND(e)}else if(e.promptFeedback)throw new t0(`Function call not available. ${Yu(e)}`,e)},e}function Uue(e){var t,r,n,a;const i=[];if(!((r=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||r===void 0)&&r.parts)for(const s of(a=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||a===void 0?void 0:a.parts)s.text&&i.push(s.text),s.executableCode&&i.push("\n```"+s.executableCode.language+`
`+s.executableCode.code+"\n```\n"),s.codeExecutionResult&&i.push("\n```\n"+s.codeExecutionResult.output+"\n```\n");return i.length>0?i.join(""):""}function ND(e){var t,r,n,a;const i=[];if(!((r=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||r===void 0)&&r.parts)for(const s of(a=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||a===void 0?void 0:a.parts)s.functionCall&&i.push(s.functionCall);if(i.length>0)return i}const Vue=[Gg.RECITATION,Gg.SAFETY,Gg.LANGUAGE];function S2(e){return!!e.finishReason&&Vue.includes(e.finishReason)}function Yu(e){var t,r,n;let a="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)a+="Response was blocked",!((t=e.promptFeedback)===null||t===void 0)&&t.blockReason&&(a+=` due to ${e.promptFeedback.blockReason}`),!((r=e.promptFeedback)===null||r===void 0)&&r.blockReasonMessage&&(a+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((n=e.candidates)===null||n===void 0)&&n[0]){const i=e.candidates[0];S2(i)&&(a+=`Candidate was blocked due to ${i.finishReason}`,i.finishMessage&&(a+=`: ${i.finishMessage}`))}return a}function Xv(e){return this instanceof Xv?(this.v=e,this):new Xv(e)}function zue(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,i=[];return a={},s("next"),s("throw"),s("return"),a[Symbol.asyncIterator]=function(){return this},a;function s(h){n[h]&&(a[h]=function(p){return new Promise(function(g,m){i.push([h,p,g,m])>1||o(h,p)})})}function o(h,p){try{l(n[h](p))}catch(g){f(i[0][3],g)}}function l(h){h.value instanceof Xv?Promise.resolve(h.value.v).then(c,u):f(i[0][2],h)}function c(h){o("next",h)}function u(h){o("throw",h)}function f(h,p){h(p),i.shift(),i.length&&o(i[0][0],i[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function que(e){const t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),r=Gue(t),[n,a]=r.tee();return{stream:Hue(n),response:Wue(a)}}async function Wue(e){const t=[],r=e.getReader();for(;;){const{done:n,value:a}=await r.read();if(n)return nC(Kue(t));t.push(a)}}function Hue(e){return zue(this,arguments,function*(){const r=e.getReader();for(;;){const{value:n,done:a}=yield Xv(r.read());if(a)break;yield yield Xv(nC(n))}})}function Gue(e){const t=e.getReader();return new ReadableStream({start(n){let a="";return i();function i(){return t.read().then(({value:s,done:o})=>{if(o){if(a.trim()){n.error(new Wi("Failed to parse stream"));return}n.close();return}a+=s;let l=a.match(kD),c;for(;l;){try{c=JSON.parse(l[1])}catch{n.error(new Wi(`Error parsing JSON response: "${l[1]}"`));return}n.enqueue(c),a=a.substring(l[0].length),l=a.match(kD)}return i()}).catch(s=>{let o=s;throw o.stack=s.stack,o.name==="AbortError"?o=new kz("Request aborted when reading from the stream"):o=new Wi("Error reading from the stream"),o})}}})}function Kue(e){const t=e[e.length-1],r={promptFeedback:t==null?void 0:t.promptFeedback};for(const n of e){if(n.candidates){let a=0;for(const i of n.candidates)if(r.candidates||(r.candidates=[]),r.candidates[a]||(r.candidates[a]={index:a}),r.candidates[a].citationMetadata=i.citationMetadata,r.candidates[a].groundingMetadata=i.groundingMetadata,r.candidates[a].finishReason=i.finishReason,r.candidates[a].finishMessage=i.finishMessage,r.candidates[a].safetyRatings=i.safetyRatings,i.content&&i.content.parts){r.candidates[a].content||(r.candidates[a].content={role:i.content.role||"user",parts:[]});const s={};for(const o of i.content.parts)o.text&&(s.text=o.text),o.functionCall&&(s.functionCall=o.functionCall),o.executableCode&&(s.executableCode=o.executableCode),o.codeExecutionResult&&(s.codeExecutionResult=o.codeExecutionResult),Object.keys(s).length===0&&(s.text=""),r.candidates[a].content.parts.push(s)}a++}n.usageMetadata&&(r.usageMetadata=n.usageMetadata)}return r}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cz(e,t,r,n){const a=await cy(t,lh.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(r),n);return que(a)}async function Pz(e,t,r,n){const i=await(await cy(t,lh.GENERATE_CONTENT,e,!1,JSON.stringify(r),n)).json();return{response:nC(i)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oz(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function Qv(e){let t=[];if(typeof e=="string")t=[{text:e}];else for(const r of e)typeof r=="string"?t.push({text:r}):t.push(r);return Yue(t)}function Yue(e){const t={role:"user",parts:[]},r={role:"function",parts:[]};let n=!1,a=!1;for(const i of e)"functionResponse"in i?(r.parts.push(i),a=!0):(t.parts.push(i),n=!0);if(n&&a)throw new Wi("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!n&&!a)throw new Wi("No content is provided for sending chat message.");return n?t:r}function Xue(e,t){var r;let n={model:t==null?void 0:t.model,generationConfig:t==null?void 0:t.generationConfig,safetySettings:t==null?void 0:t.safetySettings,tools:t==null?void 0:t.tools,toolConfig:t==null?void 0:t.toolConfig,systemInstruction:t==null?void 0:t.systemInstruction,cachedContent:(r=t==null?void 0:t.cachedContent)===null||r===void 0?void 0:r.name,contents:[]};const a=e.generateContentRequest!=null;if(e.contents){if(a)throw new Tf("CountTokensRequest must have one of contents or generateContentRequest, not both.");n.contents=e.contents}else if(a)n=Object.assign(Object.assign({},n),e.generateContentRequest);else{const i=Qv(e);n.contents=[i]}return{generateContentRequest:n}}function CD(e){let t;return e.contents?t=e:t={contents:[Qv(e)]},e.systemInstruction&&(t.systemInstruction=Oz(e.systemInstruction)),t}function Que(e){return typeof e=="string"||Array.isArray(e)?{content:Qv(e)}:e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],Jue={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function Zue(e){let t=!1;for(const r of e){const{role:n,parts:a}=r;if(!t&&n!=="user")throw new Wi(`First content should be with role 'user', got ${n}`);if(!xD.includes(n))throw new Wi(`Each item should include role field. Got ${n} but valid roles are: ${JSON.stringify(xD)}`);if(!Array.isArray(a))throw new Wi("Content should have 'parts' property with an array of Parts");if(a.length===0)throw new Wi("Each Content should have at least one part");const i={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const o of a)for(const l of PD)l in o&&(i[l]+=1);const s=Jue[n];for(const o of PD)if(!s.includes(o)&&i[o]>0)throw new Wi(`Content with role '${n}' can't contain '${o}' part`);t=!0}}function OD(e){var t;if(e.candidates===void 0||e.candidates.length===0)return!1;const r=(t=e.candidates[0])===null||t===void 0?void 0:t.content;if(r===void 0||r.parts===void 0||r.parts.length===0)return!1;for(const n of r.parts)if(n===void 0||Object.keys(n).length===0||n.text!==void 0&&n.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID="SILENT_ERROR";class efe{constructor(t,r,n,a={}){this.model=r,this.params=n,this._requestOptions=a,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,n!=null&&n.history&&(Zue(n.history),this._history=n.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,r={}){var n,a,i,s,o,l;await this._sendPromise;const c=Qv(t),u={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(a=this.params)===null||a===void 0?void 0:a.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(s=this.params)===null||s===void 0?void 0:s.toolConfig,systemInstruction:(o=this.params)===null||o===void 0?void 0:o.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,c]},f=Object.assign(Object.assign({},this._requestOptions),r);let h;return this._sendPromise=this._sendPromise.then(()=>Pz(this._apiKey,this.model,u,f)).then(p=>{var g;if(OD(p.response)){this._history.push(c);const m=Object.assign({parts:[],role:"model"},(g=p.response.candidates)===null||g===void 0?void 0:g[0].content);this._history.push(m)}else{const m=Yu(p.response);m&&console.warn(`sendMessage() was unsuccessful. ${m}. Inspect response object for details.`)}h=p}).catch(p=>{throw this._sendPromise=Promise.resolve(),p}),await this._sendPromise,h}async sendMessageStream(t,r={}){var n,a,i,s,o,l;await this._sendPromise;const c=Qv(t),u={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(a=this.params)===null||a===void 0?void 0:a.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(s=this.params)===null||s===void 0?void 0:s.toolConfig,systemInstruction:(o=this.params)===null||o===void 0?void 0:o.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,c]},f=Object.assign(Object.assign({},this._requestOptions),r),h=Cz(this._apiKey,this.model,u,f);return this._sendPromise=this._sendPromise.then(()=>h).catch(p=>{throw new Error(ID)}).then(p=>p.response).then(p=>{if(OD(p)){this._history.push(c);const g=Object.assign({},p.candidates[0].content);g.role||(g.role="model"),this._history.push(g)}else{const g=Yu(p);g&&console.warn(`sendMessageStream() was unsuccessful. ${g}. Inspect response object for details.`)}}).catch(p=>{p.message!==ID&&console.error(p)}),h}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tfe(e,t,r,n){return(await cy(t,lh.COUNT_TOKENS,e,!1,JSON.stringify(r),n)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rfe(e,t,r,n){return(await cy(t,lh.EMBED_CONTENT,e,!1,JSON.stringify(r),n)).json()}async function nfe(e,t,r,n){const a=r.requests.map(s=>Object.assign(Object.assign({},s),{model:t}));return(await cy(t,lh.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:a}),n)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(t,r,n={}){this.apiKey=t,this._requestOptions=n,r.model.includes("/")?this.model=r.model:this.model=`models/${r.model}`,this.generationConfig=r.generationConfig||{},this.safetySettings=r.safetySettings||[],this.tools=r.tools,this.toolConfig=r.toolConfig,this.systemInstruction=Oz(r.systemInstruction),this.cachedContent=r.cachedContent}async generateContent(t,r={}){var n;const a=CD(t),i=Object.assign(Object.assign({},this._requestOptions),r);return Pz(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},a),i)}async generateContentStream(t,r={}){var n;const a=CD(t),i=Object.assign(Object.assign({},this._requestOptions),r);return Cz(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},a),i)}startChat(t){var r;return new efe(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},t),this._requestOptions)}async countTokens(t,r={}){const n=Xue(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),a=Object.assign(Object.assign({},this._requestOptions),r);return tfe(this.apiKey,this.model,n,a)}async embedContent(t,r={}){const n=Que(t),a=Object.assign(Object.assign({},this._requestOptions),r);return rfe(this.apiKey,this.model,n,a)}async batchEmbedContents(t,r={}){const n=Object.assign(Object.assign({},this._requestOptions),r);return nfe(this.apiKey,this.model,t,n)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class afe{constructor(t){this.apiKey=t}getGenerativeModel(t,r){if(!t.model)throw new Wi("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new jD(this.apiKey,t,r)}getGenerativeModelFromCachedContent(t,r,n){if(!t.name)throw new Tf("Cached content must contain a `name` field.");if(!t.model)throw new Tf("Cached content must contain a `model` field.");const a=["model","systemInstruction"];for(const s of a)if(r!=null&&r[s]&&t[s]&&(r==null?void 0:r[s])!==t[s]){if(s==="model"){const o=r.model.startsWith("models/")?r.model.replace("models/",""):r.model,l=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(o===l)continue}throw new Tf(`Different value for "${s}" specified in modelParams (${r[s]}) and cachedContent (${t[s]})`)}const i=Object.assign(Object.assign({},r),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new jD(this.apiKey,i,n)}}const Ax={GEMINI_API_KEY:"AIzaSyArdcN1yk66v1pj5VSdDqOaMRmbTMZa1wQ",ENABLED:!1,MODEL:"gemini-1.5-flash",MAX_HISTORY:50,RESPONSE_TIMEOUT:3e4,FEATURES:{VOICE_INTERFACE:!0,SMART_SUGGESTIONS:!0,DATA_ANALYSIS:!0,CONTEXT_AWARENESS:!0}};class ife{constructor(){this.chatHistory=[];try{this.genAI=new afe(Ax.GEMINI_API_KEY),this.model=this.genAI.getGenerativeModel({model:Ax.MODEL}),console.log("Gemini AI service initialized successfully")}catch(t){console.error("Failed to initialize Gemini AI service:",t)}}async chat(t,r={}){if(!this.model)return"AI service is not available. Please configure your Gemini API key.";try{this.addToHistory("user",t);const a=`${this.createSystemPrompt(r)}

User: ${t}`,s=(await this.model.generateContent(a)).response.text();return this.addToHistory("assistant",s),s}catch(n){if(console.error("Error in AI chat:",n),n instanceof Error){if(n.message.includes("API_KEY_INVALID"))return"API key is invalid. Please check your Gemini API key configuration.";if(n.message.includes("QUOTA_EXCEEDED"))return"API quota exceeded. Please try again later.";if(n.message.includes("PERMISSION_DENIED"))return"Permission denied. Please check your API key permissions."}return"Sorry, I encountered an error. Please try again."}}async analyzeData(t,r){if(!this.model)return"AI service is not available.";try{const n=`
        Analyze the following warehouse data and answer the query: "${r}"
        
        Data: ${JSON.stringify(t,null,2)}
        
        Please provide insights, trends, or recommendations based on the data.
      `;return(await this.model.generateContent(n)).response.text()}catch(n){return console.error("Error in data analysis:",n),"Unable to analyze data at this time."}}async searchInventory(t,r){if(!this.model)return r;try{const n=`
        Based on the user query "${t}", help me find relevant products from this inventory data.
        Return a JSON array of the most relevant products.
        
        Inventory data: ${JSON.stringify(r.slice(0,100),null,2)}
        
        Consider product names, descriptions, categories, and any other relevant fields.
        Return only the JSON array, no additional text.
      `,i=(await this.model.generateContent(n)).response.text();try{return JSON.parse(i)}catch{return r}}catch(n){return console.error("Error in AI search:",n),r}}async generateSuggestions(t){if(!this.model)return[];try{const r=`
        Based on the current context, provide 3-5 helpful suggestions for the user.
        
        Context:
        - Current page: ${t.currentPage}
        - User role: ${t.userRole}
        - Recent actions: ${t.recentActions.join(", ")}
        
        Provide practical, actionable suggestions that would help with warehouse management tasks.
        Return as a simple list, one suggestion per line.
      `;return(await this.model.generateContent(r)).response.text().split(`
`).filter(i=>i.trim().length>0)}catch(r){return console.error("Error generating suggestions:",r),[]}}createSystemPrompt(t){var r;return`
      You are an AI assistant for a warehouse management system. You help users with:
      
      - Inventory management and stock tracking
      - Order processing and job management
      - Data analysis and reporting
      - Workflow optimization
      - Product search and recommendations
      
      Current context:
      - Page: ${t.currentPage||"Unknown"}
      - User role: ${t.userRole||"Unknown"}
      - Recent actions: ${((r=t.recentActions)==null?void 0:r.join(", "))||"None"}
      
      Be helpful, concise, and focus on warehouse management tasks. Provide practical advice and actionable insights.
    `}addToHistory(t,r){this.chatHistory.push({role:t,content:r,timestamp:new Date}),this.chatHistory.length>Ax.MAX_HISTORY&&(this.chatHistory=this.chatHistory.slice(-Ax.MAX_HISTORY))}getChatHistory(){return[...this.chatHistory]}clearHistory(){this.chatHistory=[]}isAvailable(){return!!this.model}}const r0=new ife,Iz=({message:e,type:t,onClose:r,duration:n=3e3})=>{const[a,i]=F.useState(!1),[s,o]=F.useState(!1);F.useEffect(()=>{requestAnimationFrame(()=>{o(!0)});const f=setTimeout(()=>{i(!0),setTimeout(r,300)},n);return()=>clearTimeout(f)},[n,r]);const l={success:d.jsx(q4,{className:"text-green-500",size:20}),error:d.jsx(RO,{className:"text-red-500",size:20}),warning:d.jsx(nh,{className:"text-yellow-500",size:20}),info:d.jsx(xee,{className:"text-blue-500",size:20})},c={success:"bg-green-50 border-green-200",error:"bg-red-50 border-red-200",warning:"bg-yellow-50 border-yellow-200",info:"bg-blue-50 border-blue-200"},u={success:"text-green-800",error:"text-red-800",warning:"text-yellow-800",info:"text-blue-800"};return d.jsx("div",{className:"fixed top-4 right-4 z-50",children:d.jsxs("div",{className:`transform transition-all duration-300 ease-in-out
          ${a?"translate-x-full opacity-0":s?"translate-x-0 opacity-100":"translate-x-full opacity-0"}
          flex items-center gap-3 px-4 py-3 rounded-lg border ${c[t]} ${u[t]} shadow-lg`,children:[l[t],d.jsx("p",{className:"text-sm font-medium",children:e}),d.jsx("button",{onClick:()=>{i(!0),setTimeout(r,300)},className:"ml-2 text-slate-400 hover:text-slate-600 transition-colors",children:d.jsx(RO,{size:18})})]})})},jz=F.createContext(void 0),Nl=()=>{const e=F.useContext(jz);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},sfe=({children:e})=>{const[t,r]=F.useState(null),n=(i,s)=>{r({message:i,type:s})},a=()=>{r(null)};return d.jsxs(jz.Provider,{value:{showToast:n},children:[e,t&&d.jsx(Iz,{message:t.message,type:t.type,onClose:a})]})},Dz=F.createContext(void 0),ofe=({children:e})=>{const[t,r]=F.useState([]),[n,a]=F.useState(!1),[i,s]=F.useState({currentPage:window.location.pathname,userRole:"unknown",currentData:null,recentActions:[]}),{user:o}=ma(),{showToast:l}=Nl();Re.useEffect(()=>{s(y=>({...y,userRole:(o==null?void 0:o.role)||"unknown",currentPage:window.location.pathname}))},[o]);const c=F.useCallback(async y=>{if(y.trim()){a(!0);try{const v=await r0.chat(y,i);r(b=>[...b,{role:"user",content:y,timestamp:new Date},{role:"assistant",content:v,timestamp:new Date}]),s(b=>({...b,recentActions:[...b.recentActions.slice(-4),`Asked: ${y.substring(0,50)}...`]}))}catch(v){console.error("Error sending message:",v),l("Failed to send message. Please try again.","error")}finally{a(!1)}}},[i,l]),u=F.useCallback(()=>{r([]),r0.clearHistory()},[]),f=F.useCallback(y=>{s(v=>({...v,...y}))},[]),h=F.useCallback(async()=>{try{return await r0.generateSuggestions(i)}catch(y){return console.error("Error generating suggestions:",y),[]}},[i]),p=F.useCallback(async(y,v)=>{try{return await r0.analyzeData(y,v)}catch(b){return console.error("Error analyzing data:",b),"Unable to analyze data at this time."}},[]),g=F.useCallback(async(y,v)=>{try{return await r0.searchInventory(y,v)}catch(b){return console.error("Error searching inventory:",b),v}},[]),m={chatHistory:t,isLoading:n,sendMessage:c,clearHistory:u,currentContext:i,updateContext:f,isAvailable:r0.isAvailable(),generateSuggestions:h,analyzeData:p,searchInventory:g};return d.jsx(Dz.Provider,{value:m,children:e})},aC=()=>{const e=F.useContext(Dz);if(e===void 0)throw new Error("useAI must be used within an AIProvider");return e},it=({children:e,variant:t="primary",size:r="md",isLoading:n=!1,icon:a,className:i="",...s})=>{const o={primary:"bg-blue-700 hover:bg-blue-800 text-white",secondary:"bg-slate-100 hover:bg-slate-200 text-slate-700 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-200",outline:"bg-white border border-slate-300 hover:bg-slate-50 text-slate-700 dark:bg-transparent dark:border-slate-600 dark:hover:bg-slate-700 dark:text-slate-200",danger:"bg-red-600 hover:bg-red-700 text-white",ghost:"bg-transparent hover:bg-slate-100 text-slate-500 dark:hover:bg-slate-700/50 dark:text-slate-400",success:"bg-green-600 hover:bg-green-700 text-white"},l={sm:"text-sm px-3 py-1.5",md:"px-4 py-2",lg:"text-lg px-5 py-2.5"};return d.jsxs("button",{className:`
        ${o[t]} 
        ${l[r]} 
        rounded-lg font-medium transition-colors 
        flex items-center justify-center gap-2
        focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-blue-500
        disabled:opacity-60 disabled:cursor-not-allowed
        ${i}
      `,disabled:n||s.disabled,...s,children:[n&&d.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),!n&&a,e]})},Ct=({label:e,error:t,icon:r,fullWidth:n=!1,className:a="",darkMode:i,...s})=>{const{isDarkMode:o}=ln(),l=i??o;return d.jsxs("div",{className:`${n?"w-full":""} ${a}`,children:[e&&d.jsx("label",{className:`block text-sm font-medium ${l?"text-slate-200":"text-slate-700"} mb-1`,children:e}),d.jsxs("div",{className:"relative",children:[r&&d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:Re.cloneElement(r,{size:20,className:l?"text-white":"text-slate-400"})}),d.jsx("input",{...s,className:`
            block w-full rounded-lg border px-3 py-2
            ${l?"bg-slate-800 border-slate-700 text-slate-200 placeholder-slate-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-700/50 disabled:text-slate-400":"bg-white border-slate-300 text-slate-900 placeholder-slate-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-50 disabled:text-slate-500"}
            ${t?"border-red-500 focus:border-red-500 focus:ring-red-500":""}
            ${r?"pl-10":""}
          `})]}),t&&d.jsx("p",{className:"mt-1 text-sm text-red-500",children:t})]})},Lz=({onClose:e,className:t=""})=>{const[r,n]=F.useState(""),[a,i]=F.useState([]),{chatHistory:s,isLoading:o,sendMessage:l,clearHistory:c,isAvailable:u,generateSuggestions:f}=aC(),h=F.useRef(null);F.useEffect(()=>{var v;(v=h.current)==null||v.scrollIntoView({behavior:"smooth"})},[s]),F.useEffect(()=>{},[]),F.useEffect(()=>{(async()=>{if(u){const b=await f();i(b)}})()},[f,u]);const p=async()=>{if(!r.trim()||o)return;const v=r.trim();n(""),await l(v)},g=v=>{v.key==="Enter"&&!v.shiftKey&&(v.preventDefault(),p())},m=async v=>{n(v),await l(v)},y=v=>v.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return u?d.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-lg shadow-lg flex flex-col h-96 ${t}`,children:[d.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Nc,{className:"w-6 h-6 text-blue-600"}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"AI Assistant"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(it,{variant:"ghost",size:"sm",onClick:c,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"Clear"}),e&&d.jsx(it,{variant:"ghost",size:"sm",onClick:e,children:d.jsx(Kc,{className:"w-4 h-4"})})]})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[s.length===0?d.jsxs("div",{className:"text-center py-8",children:[d.jsx(Nc,{className:"w-12 h-12 text-blue-600 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Hi! I'm your AI assistant. How can I help you with warehouse management?"}),a.length>0&&d.jsxs("div",{className:"space-y-2",children:[d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:"Try asking:"}),d.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:a.slice(0,3).map((v,b)=>d.jsx("button",{onClick:()=>m(v),className:"px-3 py-1 bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 rounded-full text-sm hover:bg-blue-200 dark:hover:bg-blue-800 transition-colors",children:v},b))})]})]}):s.map((v,b)=>d.jsxs("div",{className:`flex gap-3 ${v.role==="user"?"justify-end":"justify-start"}`,children:[v.role==="assistant"&&d.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center flex-shrink-0",children:d.jsx(Nc,{className:"w-4 h-4 text-white"})}),d.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${v.role==="user"?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white"}`,children:[d.jsx("p",{className:"text-sm whitespace-pre-wrap",children:v.content}),d.jsx("p",{className:`text-xs mt-1 ${v.role==="user"?"text-blue-100":"text-gray-500 dark:text-gray-400"}`,children:y(v.timestamp)})]}),v.role==="user"&&d.jsx("div",{className:"w-8 h-8 bg-gray-600 rounded-full flex items-center justify-center flex-shrink-0",children:d.jsx(ib,{className:"w-4 h-4 text-white"})})]},b)),o&&d.jsxs("div",{className:"flex gap-3 justify-start",children:[d.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center flex-shrink-0",children:d.jsx(Nc,{className:"w-4 h-4 text-white"})}),d.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 rounded-lg px-4 py-2",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(xi,{className:"w-4 h-4 animate-spin text-blue-600"}),d.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Thinking..."})]})})]}),d.jsx("div",{ref:h})]}),d.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Ct,{value:r,onChange:v=>n(v.target.value),onKeyPress:g,placeholder:"Ask me anything about warehouse management...",disabled:o,className:"flex-1"}),d.jsx(it,{onClick:p,disabled:!r.trim()||o,className:"px-4",children:o?d.jsx(xi,{className:"w-4 h-4 animate-spin"}):d.jsx(Eee,{className:"w-4 h-4"})})]})})]}):d.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 ${t}`,children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Nc,{className:"w-6 h-6 text-blue-600"}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"AI Assistant"})]}),e&&d.jsx(it,{variant:"ghost",size:"sm",onClick:e,children:d.jsx(Kc,{className:"w-4 h-4"})})]}),d.jsxs("div",{className:"text-center py-8",children:[d.jsx(Nc,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:"AI Assistant is not available"}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:"Please configure your Gemini API key to enable AI features."})]})]})},lfe=()=>{const[e,t]=F.useState(!1),{isAvailable:r}=aC();return r?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:d.jsx(it,{onClick:()=>t(!0),className:"w-14 h-14 rounded-full bg-blue-600 hover:bg-blue-700 text-white shadow-lg hover:shadow-xl transition-all duration-200 flex items-center justify-center group",size:"lg",children:e?d.jsx(Kc,{className:"w-6 h-6"}):d.jsxs("div",{className:"relative",children:[d.jsx(Nc,{className:"w-6 h-6"}),d.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-500 rounded-full animate-pulse"})]})})}),e&&d.jsxs("div",{className:"fixed inset-0 z-40 flex items-end justify-end p-4 sm:p-6",children:[d.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-25 backdrop-blur-sm",onClick:()=>t(!1)}),d.jsx("div",{className:"relative w-full max-w-md h-96 animate-in slide-in-from-bottom-4 duration-300",children:d.jsx(Lz,{onClose:()=>t(!1)})})]})]}):null},cfe=()=>{const{isAuthenticated:e}=ma(),t=K1(),{isDarkMode:r}=ln();return Re.useEffect(()=>{e||t("/login")},[e,t]),e?d.jsxs("div",{className:`flex flex-col min-h-screen ${r?"bg-slate-900":"bg-slate-50"}`,children:[d.jsx(kue,{}),d.jsx("main",{className:"flex-grow container mx-auto px-4 py-6 md:px-6 lg:px-8",children:d.jsx(qZ,{})}),d.jsx(lfe,{})]}):null},Hu=({label:e,error:t,fullWidth:r=!1,className:n="",darkMode:a,...i})=>{const[s,o]=F.useState(!1),{isDarkMode:l}=ln(),c=a??l,u=()=>{o(!s)};return d.jsxs("div",{className:"relative",children:[d.jsx(Ct,{label:e,type:s?"text":"password",error:t,fullWidth:r,className:n,darkMode:c,...i}),d.jsx("button",{type:"button",onClick:u,className:`absolute right-3 top-[38px] ${c?"text-slate-400 hover:text-slate-300":"text-slate-500 hover:text-slate-700"}`,children:s?d.jsx(vee,{size:18}):d.jsx(W4,{size:18})})]})},ufe=()=>{const[e,t]=F.useState(""),[r,n]=F.useState(""),[a,i]=F.useState(""),{login:s,isAuthenticated:o,isLoading:l,user:c}=ma(),{showToast:u}=Nl(),{isDarkMode:f,toggleDarkMode:h}=ln(),p=K1();F.useEffect(()=>{o&&c&&(u(`Welcome back, ${c.name}!`,"success"),c.role==="staff"&&p("/add"),c.role==="supply_serve"||c.role==="fahiz"||c.role==="aphy"?p("/supply-serve"):p("/"))},[o,c,p,u]);const g=async m=>{if(m.preventDefault(),i(""),!e||!r){i("Please enter both username and password");return}await s(e,r)||(i("Invalid username or password"),u("Invalid username or password","error"))};return d.jsxs("div",{className:`min-h-screen flex overflow-hidden ${f?"bg-slate-900":"bg-slate-100"}`,children:[d.jsx(ra.div,{className:"hidden lg:flex lg:w-1/2 bg-blue-700 text-white items-center justify-center",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8,ease:"easeOut"},children:d.jsxs("div",{className:"max-w-md p-8 text-center",children:[d.jsx("h1",{className:"text-4xl font-bold mb-4",children:"AZTEC"}),d.jsx("p",{className:"text-xl text-blue-100",children:"Warehouse Management System"})]})}),d.jsx(ra.div,{className:"w-full lg:w-1/2 flex items-center justify-center p-4 sm:p-6 lg:p-8",initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.8,ease:"easeOut"},children:d.jsxs("div",{className:"w-full max-w-md",children:[d.jsxs("div",{className:"lg:hidden text-center mb-6 space-y-2",children:[d.jsx(Aee,{size:48,className:"mx-auto text-blue-600"}),d.jsx("h1",{className:`text-2xl font-bold ${f?"text-white":"text-slate-800"}`,children:"AZTEC"}),d.jsx("p",{className:f?"text-slate-400":"text-slate-600",children:"Warehouse Management System"})]}),d.jsxs("div",{className:`${f?"bg-slate-800 border-slate-700 shadow-xl":"bg-white border-slate-200 shadow-lg"} rounded-xl p-6 sm:p-8 border`,children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h2",{className:`text-2xl font-bold ${f?"text-white":"text-slate-800"}`,children:"Welcome back"}),d.jsx("button",{onClick:h,className:`p-2 rounded-lg transition-colors ${f?"text-yellow-400 hover:bg-slate-700":"text-slate-600 hover:bg-slate-100"}`,"aria-label":f?"Switch to light mode":"Switch to dark mode",children:f?d.jsx(q9,{size:20}):d.jsx(V9,{size:20})})]}),a&&d.jsx(ra.div,{className:`${f?"bg-red-900/50 text-red-200":"bg-red-50 text-red-700"} p-4 rounded-lg mb-6 text-sm`,initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},children:a}),d.jsxs("form",{onSubmit:g,className:"space-y-6",children:[d.jsx(Ct,{label:"Username",type:"text",id:"username",value:e,onChange:m=>t(m.target.value),icon:d.jsx(ib,{size:20}),placeholder:"Enter your username",autoComplete:"username",fullWidth:!0,darkMode:f}),d.jsx(Hu,{label:"Password",name:"password",value:r,onChange:m=>n(m.target.value),placeholder:"Enter your password",autoComplete:"current-password",fullWidth:!0,darkMode:f}),d.jsx(it,{type:"submit",isLoading:l,className:"w-full",size:"lg",children:"Sign In"})]})]})]})})]})},mi=({title:e,value:t,icon:r,change:n})=>{const{isDarkMode:a}=ln(),i=DE(0),s=DE(0),o=uD(i,Math.round),l=uD(s,Math.round);return Re.useEffect(()=>{if(typeof t=="number"){const c=mD(i,t,{duration:1});if(n){const u=mD(s,n.value,{duration:1});return()=>{c.stop(),u.stop()}}return()=>c.stop()}},[t,n]),d.jsx("div",{className:`p-6 rounded-lg shadow-sm border ${a?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:`text-sm font-medium ${a?"text-slate-400":"text-slate-500"}`,children:e}),d.jsx("h3",{className:`text-2xl font-semibold ${a?"text-white":"text-slate-800"} mt-1`,children:typeof t=="number"?d.jsx(ra.span,{children:o}):t}),n&&d.jsxs("div",{className:"flex items-center mt-2",children:[n.customIcon||d.jsx("span",{className:`text-sm ${n.isPositive?"text-green-500":"text-red-500"}`,children:n.isPositive?"↑":"↓"}),d.jsx(ra.span,{className:`text-sm font-medium ${n.isPositive?"text-green-500":"text-red-500"}`,children:l}),n.label&&d.jsx("span",{className:`text-xs ${a?"text-slate-400":"text-slate-500"} ml-1`,children:n.label})]})]}),d.jsx("div",{className:`p-3 rounded-full ${a?"bg-slate-700":"bg-slate-100"}`,children:r})]})})},lf=()=>{const{isDarkMode:e}=ln();return d.jsxs("div",{className:`p-6 rounded-lg shadow-sm border ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:`h-4 w-24 rounded ${e?"bg-slate-700":"bg-slate-200"}`}),d.jsx("div",{className:`h-8 w-16 rounded ${e?"bg-slate-700":"bg-slate-200"}`})]}),d.jsx("div",{className:`p-3 rounded-full ${e?"bg-slate-700":"bg-slate-100"}`,children:d.jsx("div",{className:`h-6 w-6 rounded ${e?"bg-slate-600":"bg-slate-200"}`})})]}),d.jsx("div",{className:"mt-4",children:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:`h-4 w-12 rounded ${e?"bg-slate-700":"bg-slate-200"}`}),d.jsx("div",{className:`h-4 w-24 rounded ${e?"bg-slate-700":"bg-slate-200"}`})]})})]})},qS=({title:e,children:t,className:r=""})=>{const{isDarkMode:n}=ln();return d.jsxs("div",{className:`rounded-lg shadow-sm border ${n?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} ${r}`,children:[e&&d.jsx("div",{className:`px-6 py-4 border-b ${n?"border-slate-700":"border-slate-200"}`,children:d.jsx("h3",{className:`text-lg font-medium ${n?"text-white":"text-slate-800"}`,children:e})}),d.jsx("div",{className:"p-6",children:t})]})};function vn(e){"@babel/helpers - typeof";return vn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vn(e)}function Zi(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Br(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function $r(e){Br(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||vn(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function ffe(e,t){Br(2,arguments);var r=$r(e),n=Zi(t);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function Mz(e,t){Br(2,arguments);var r=$r(e),n=Zi(t);if(isNaN(n))return new Date(NaN);if(!n)return r;var a=r.getDate(),i=new Date(r.getTime());i.setMonth(r.getMonth()+n+1,0);var s=i.getDate();return a>=s?i:(r.setFullYear(i.getFullYear(),i.getMonth(),a),r)}function Rz(e,t){Br(2,arguments);var r=$r(e).getTime(),n=Zi(t);return new Date(r+n)}var dfe=36e5;function hfe(e,t){Br(2,arguments);var r=Zi(t);return Rz(e,r*dfe)}var pfe={};function _h(){return pfe}function mfe(e,t){var r,n,a,i,s,o;Br(1,arguments);var l=_h(),c=Zi((r=(n=(a=(i=void 0)!==null&&i!==void 0?i:void 0)!==null&&a!==void 0?a:l.weekStartsOn)!==null&&n!==void 0?n:(s=l.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&r!==void 0?r:0);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=$r(e),f=u.getDay(),h=(f<c?7:0)+f-c;return u.setDate(u.getDate()-h),u.setHours(0,0,0,0),u}function LE(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function _p(e){Br(1,arguments);var t=$r(e);return t.setHours(0,0,0,0),t}function A2(e,t){Br(2,arguments);var r=$r(e),n=$r(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}var Fz=6e4,$z=36e5;function DD(e,t){Br(2,arguments);var r=_p(e),n=_p(t);return r.getTime()===n.getTime()}function gfe(e){return Br(1,arguments),e instanceof Date||vn(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function vfe(e){if(Br(1,arguments),!gfe(e)&&typeof e!="number")return!1;var t=$r(e);return!isNaN(Number(t))}function yfe(e,t){Br(2,arguments);var r=$r(e),n=$r(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function xfe(e,t){return Br(2,arguments),$r(e).getTime()-$r(t).getTime()}var LD={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},bfe="trunc";function wfe(e){return e?LD[e]:LD[bfe]}function Jv(e){Br(1,arguments);var t=$r(e);return t.setHours(23,59,59,999),t}function Bz(e){Br(1,arguments);var t=$r(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function _fe(e){Br(1,arguments);var t=$r(e);return Jv(t).getTime()===Bz(t).getTime()}function Sfe(e,t){Br(2,arguments);var r=$r(e),n=$r(t),a=A2(r,n),i=Math.abs(yfe(r,n)),s;if(i<1)s=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);var o=A2(r,n)===-a;_fe($r(e))&&i===1&&A2(e,n)===1&&(o=!1),s=a*(i-Number(o))}return s===0?0:s}function Afe(e,t,r){Br(2,arguments);var n=xfe(e,t)/1e3;return wfe(void 0)(n)}function Efe(e,t){var r;Br(1,arguments);var n=e||{},a=$r(n.start),i=$r(n.end),s=i.getTime();if(!(a.getTime()<=s))throw new RangeError("Invalid interval");var o=[],l=a;l.setHours(0,0,0,0);var c=Number((r=void 0)!==null&&r!==void 0?r:1);if(c<1||isNaN(c))throw new RangeError("`options.step` must be a number greater than 1");for(;l.getTime()<=s;)o.push($r(l)),l.setDate(l.getDate()+c),l.setHours(0,0,0,0);return o}function Tfe(e){Br(1,arguments);var t=$r(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Nfe(e,t){var r,n,a,i,s,o;Br(1,arguments);var l=_h(),c=Zi((r=(n=(a=(i=void 0)!==null&&i!==void 0?i:void 0)!==null&&a!==void 0?a:l.weekStartsOn)!==null&&n!==void 0?n:(s=l.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&r!==void 0?r:0);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=$r(e),f=u.getDay(),h=(f<c?-7:0)+6-(f-c);return u.setDate(u.getDate()+h),u.setHours(23,59,59,999),u}function kfe(e,t){Br(2,arguments);var r=Zi(t);return Rz(e,-r)}var Cfe=864e5;function Pfe(e){Br(1,arguments);var t=$r(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),a=r-n;return Math.floor(a/Cfe)+1}function Nb(e){Br(1,arguments);var t=1,r=$r(e),n=r.getUTCDay(),a=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-a),r.setUTCHours(0,0,0,0),r}function Uz(e){Br(1,arguments);var t=$r(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var a=Nb(n),i=new Date(0);i.setUTCFullYear(r,0,4),i.setUTCHours(0,0,0,0);var s=Nb(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=s.getTime()?r:r-1}function Ofe(e){Br(1,arguments);var t=Uz(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=Nb(r);return n}var Ife=6048e5;function jfe(e){Br(1,arguments);var t=$r(e),r=Nb(t).getTime()-Ofe(t).getTime();return Math.round(r/Ife)+1}function kb(e,t){var r,n,a,i,s,o,l,c;Br(1,arguments);var u=_h(),f=Zi((r=(n=(a=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&a!==void 0?a:u.weekStartsOn)!==null&&n!==void 0?n:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=$r(e),p=h.getUTCDay(),g=(p<f?7:0)+p-f;return h.setUTCDate(h.getUTCDate()-g),h.setUTCHours(0,0,0,0),h}function Vz(e,t){var r,n,a,i,s,o,l,c;Br(1,arguments);var u=$r(e),f=u.getUTCFullYear(),h=_h(),p=Zi((r=(n=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&a!==void 0?a:h.firstWeekContainsDate)!==null&&n!==void 0?n:(l=h.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(f+1,0,p),g.setUTCHours(0,0,0,0);var m=kb(g,t),y=new Date(0);y.setUTCFullYear(f,0,p),y.setUTCHours(0,0,0,0);var v=kb(y,t);return u.getTime()>=m.getTime()?f+1:u.getTime()>=v.getTime()?f:f-1}function Dfe(e,t){var r,n,a,i,s,o,l,c;Br(1,arguments);var u=_h(),f=Zi((r=(n=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&a!==void 0?a:u.firstWeekContainsDate)!==null&&n!==void 0?n:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1),h=Vz(e,t),p=new Date(0);p.setUTCFullYear(h,0,f),p.setUTCHours(0,0,0,0);var g=kb(p,t);return g}var Lfe=6048e5;function Mfe(e,t){Br(1,arguments);var r=$r(e),n=kb(r,t).getTime()-Dfe(r,t).getTime();return Math.round(n/Lfe)+1}function Tn(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var Uu={y:function(t,r){var n=t.getUTCFullYear(),a=n>0?n:1-n;return Tn(r==="yy"?a%100:a,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):Tn(n+1,2)},d:function(t,r){return Tn(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return Tn(t.getUTCHours()%12||12,r.length)},H:function(t,r){return Tn(t.getUTCHours(),r.length)},m:function(t,r){return Tn(t.getUTCMinutes(),r.length)},s:function(t,r){return Tn(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,a=t.getUTCMilliseconds(),i=Math.floor(a*Math.pow(10,n-3));return Tn(i,r.length)}},n0={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Rfe={G:function(t,r,n){var a=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var a=t.getUTCFullYear(),i=a>0?a:1-a;return n.ordinalNumber(i,{unit:"year"})}return Uu.y(t,r)},Y:function(t,r,n,a){var i=Vz(t,a),s=i>0?i:1-i;if(r==="YY"){var o=s%100;return Tn(o,2)}return r==="Yo"?n.ordinalNumber(s,{unit:"year"}):Tn(s,r.length)},R:function(t,r){var n=Uz(t);return Tn(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return Tn(n,r.length)},Q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return Tn(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return Tn(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,r,n){var a=t.getUTCMonth();switch(r){case"M":case"MM":return Uu.M(t,r);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(t,r,n){var a=t.getUTCMonth();switch(r){case"L":return String(a+1);case"LL":return Tn(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(t,r,n,a){var i=Mfe(t,a);return r==="wo"?n.ordinalNumber(i,{unit:"week"}):Tn(i,r.length)},I:function(t,r,n){var a=jfe(t);return r==="Io"?n.ordinalNumber(a,{unit:"week"}):Tn(a,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):Uu.d(t,r)},D:function(t,r,n){var a=Pfe(t);return r==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):Tn(a,r.length)},E:function(t,r,n){var a=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(t,r,n,a){var i=t.getUTCDay(),s=(i-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(s);case"ee":return Tn(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,r,n,a){var i=t.getUTCDay(),s=(i-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(s);case"cc":return Tn(s,r.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,r,n){var a=t.getUTCDay(),i=a===0?7:a;switch(r){case"i":return String(i);case"ii":return Tn(i,r.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(t,r,n){var a=t.getUTCHours(),i=a/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,r,n){var a=t.getUTCHours(),i;switch(a===12?i=n0.noon:a===0?i=n0.midnight:i=a/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,r,n){var a=t.getUTCHours(),i;switch(a>=17?i=n0.evening:a>=12?i=n0.afternoon:a>=4?i=n0.morning:i=n0.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return Uu.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Uu.H(t,r)},K:function(t,r,n){var a=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(a,{unit:"hour"}):Tn(a,r.length)},k:function(t,r,n){var a=t.getUTCHours();return a===0&&(a=24),r==="ko"?n.ordinalNumber(a,{unit:"hour"}):Tn(a,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Uu.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Uu.s(t,r)},S:function(t,r){return Uu.S(t,r)},X:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();if(s===0)return"Z";switch(r){case"X":return RD(s);case"XXXX":case"XX":return Ad(s);case"XXXXX":case"XXX":default:return Ad(s,":")}},x:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();switch(r){case"x":return RD(s);case"xxxx":case"xx":return Ad(s);case"xxxxx":case"xxx":default:return Ad(s,":")}},O:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+MD(s,":");case"OOOO":default:return"GMT"+Ad(s,":")}},z:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+MD(s,":");case"zzzz":default:return"GMT"+Ad(s,":")}},t:function(t,r,n,a){var i=a._originalDate||t,s=Math.floor(i.getTime()/1e3);return Tn(s,r.length)},T:function(t,r,n,a){var i=a._originalDate||t,s=i.getTime();return Tn(s,r.length)}};function MD(e,t){var r=e>0?"-":"+",n=Math.abs(e),a=Math.floor(n/60),i=n%60;if(i===0)return r+String(a);var s=t;return r+String(a)+s+Tn(i,2)}function RD(e,t){if(e%60===0){var r=e>0?"-":"+";return r+Tn(Math.abs(e)/60,2)}return Ad(e,t)}function Ad(e,t){var r=t||"",n=e>0?"-":"+",a=Math.abs(e),i=Tn(Math.floor(a/60),2),s=Tn(a%60,2);return n+i+r+s}var FD=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},zz=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Ffe=function(t,r){var n=t.match(/(P+)(p+)?/)||[],a=n[1],i=n[2];if(!i)return FD(t,r);var s;switch(a){case"P":s=r.dateTime({width:"short"});break;case"PP":s=r.dateTime({width:"medium"});break;case"PPP":s=r.dateTime({width:"long"});break;case"PPPP":default:s=r.dateTime({width:"full"});break}return s.replace("{{date}}",FD(a,r)).replace("{{time}}",zz(i,r))},$fe={p:zz,P:Ffe},Bfe=["D","DD"],Ufe=["YY","YYYY"];function Vfe(e){return Bfe.indexOf(e)!==-1}function zfe(e){return Ufe.indexOf(e)!==-1}function $D(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var qfe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Wfe=function(t,r,n){var a,i=qfe[t];return typeof i=="string"?a=i:r===1?a=i.one:a=i.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function WS(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var Hfe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Gfe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Kfe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Yfe={date:WS({formats:Hfe,defaultWidth:"full"}),time:WS({formats:Gfe,defaultWidth:"full"}),dateTime:WS({formats:Kfe,defaultWidth:"full"})},Xfe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Qfe=function(t,r,n,a){return Xfe[t]};function Xm(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",a;if(n==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,s=r!=null&&r.width?String(r.width):i;a=e.formattingValues[s]||e.formattingValues[i]}else{var o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}var c=e.argumentCallback?e.argumentCallback(t):t;return a[c]}}var Jfe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Zfe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ede={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},tde={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},rde={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},nde={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ade=function(t,r){var n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},ide={ordinalNumber:ade,era:Xm({values:Jfe,defaultWidth:"wide"}),quarter:Xm({values:Zfe,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Xm({values:ede,defaultWidth:"wide"}),day:Xm({values:tde,defaultWidth:"wide"}),dayPeriod:Xm({values:rde,defaultWidth:"wide",formattingValues:nde,defaultFormattingWidth:"wide"})};function Qm(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;var s=i[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?ode(o,function(f){return f.test(s)}):sde(o,function(f){return f.test(s)}),c;c=e.valueCallback?e.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;var u=t.slice(s.length);return{value:c,rest:u}}}function sde(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function ode(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function lde(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var a=n[0],i=t.match(e.parsePattern);if(!i)return null;var s=e.valueCallback?e.valueCallback(i[0]):i[0];s=r.valueCallback?r.valueCallback(s):s;var o=t.slice(a.length);return{value:s,rest:o}}}var cde=/^(\d+)(th|st|nd|rd)?/i,ude=/\d+/i,fde={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},dde={any:[/^b/i,/^(a|c)/i]},hde={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},pde={any:[/1/i,/2/i,/3/i,/4/i]},mde={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},gde={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},vde={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},yde={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},xde={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},bde={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},wde={ordinalNumber:lde({matchPattern:cde,parsePattern:ude,valueCallback:function(t){return parseInt(t,10)}}),era:Qm({matchPatterns:fde,defaultMatchWidth:"wide",parsePatterns:dde,defaultParseWidth:"any"}),quarter:Qm({matchPatterns:hde,defaultMatchWidth:"wide",parsePatterns:pde,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Qm({matchPatterns:mde,defaultMatchWidth:"wide",parsePatterns:gde,defaultParseWidth:"any"}),day:Qm({matchPatterns:vde,defaultMatchWidth:"wide",parsePatterns:yde,defaultParseWidth:"any"}),dayPeriod:Qm({matchPatterns:xde,defaultMatchWidth:"any",parsePatterns:bde,defaultParseWidth:"any"})},qz={code:"en-US",formatDistance:Wfe,formatLong:Yfe,formatRelative:Qfe,localize:ide,match:wde,options:{weekStartsOn:0,firstWeekContainsDate:1}},_de=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Sde=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ade=/^'([^]*?)'?$/,Ede=/''/g,Tde=/[a-zA-Z]/;function zt(e,t,r){var n,a,i,s,o,l,c,u,f,h,p,g,m,y;Br(2,arguments);var v=String(t),b=_h(),w=(n=(a=void 0)!==null&&a!==void 0?a:b.locale)!==null&&n!==void 0?n:qz,D=Zi((i=(s=(o=(l=void 0)!==null&&l!==void 0?l:void 0)!==null&&o!==void 0?o:b.firstWeekContainsDate)!==null&&s!==void 0?s:(c=b.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(D>=1&&D<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var P=Zi((f=(h=(p=(g=void 0)!==null&&g!==void 0?g:void 0)!==null&&p!==void 0?p:b.weekStartsOn)!==null&&h!==void 0?h:(m=b.locale)===null||m===void 0||(y=m.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&f!==void 0?f:0);if(!(P>=0&&P<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!w.localize)throw new RangeError("locale must contain localize property");if(!w.formatLong)throw new RangeError("locale must contain formatLong property");var j=$r(e);if(!vfe(j))throw new RangeError("Invalid time value");var E=LE(j),_=kfe(j,E),S={firstWeekContainsDate:D,weekStartsOn:P,locale:w,_originalDate:j},I=v.match(Sde).map(function(T){var N=T[0];if(N==="p"||N==="P"){var O=$fe[N];return O(T,w.formatLong)}return T}).join("").match(_de).map(function(T){if(T==="''")return"'";var N=T[0];if(N==="'")return Nde(T);var O=Rfe[N];if(O)return zfe(T)&&$D(T,t,String(e)),Vfe(T)&&$D(T,t,String(e)),O(_,T,w.localize,S);if(N.match(Tde))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return T}).join("");return I}function Nde(e){var t=e.match(Ade);return t?t[1].replace(Ede,"'"):e}function Wz(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function kde(e){return Wz({},e)}var BD=1440,Cde=2520,HS=43200,Pde=86400;function Ode(e,t,r){var n,a;Br(2,arguments);var i=_h(),s=(n=(a=r==null?void 0:r.locale)!==null&&a!==void 0?a:i.locale)!==null&&n!==void 0?n:qz;if(!s.formatDistance)throw new RangeError("locale must contain formatDistance property");var o=A2(e,t);if(isNaN(o))throw new RangeError("Invalid time value");var l=Wz(kde(r),{addSuffix:!!(r!=null&&r.addSuffix),comparison:o}),c,u;o>0?(c=$r(t),u=$r(e)):(c=$r(e),u=$r(t));var f=Afe(u,c),h=(LE(u)-LE(c))/1e3,p=Math.round((f-h)/60),g;if(p<2)return r!=null&&r.includeSeconds?f<5?s.formatDistance("lessThanXSeconds",5,l):f<10?s.formatDistance("lessThanXSeconds",10,l):f<20?s.formatDistance("lessThanXSeconds",20,l):f<40?s.formatDistance("halfAMinute",0,l):f<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):p===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",p,l);if(p<45)return s.formatDistance("xMinutes",p,l);if(p<90)return s.formatDistance("aboutXHours",1,l);if(p<BD){var m=Math.round(p/60);return s.formatDistance("aboutXHours",m,l)}else{if(p<Cde)return s.formatDistance("xDays",1,l);if(p<HS){var y=Math.round(p/BD);return s.formatDistance("xDays",y,l)}else if(p<Pde)return g=Math.round(p/HS),s.formatDistance("aboutXMonths",g,l)}if(g=Sfe(u,c),g<12){var v=Math.round(p/HS);return s.formatDistance("xMonths",v,l)}else{var b=g%12,w=Math.floor(g/12);return b<3?s.formatDistance("aboutXYears",w,l):b<9?s.formatDistance("overXYears",w,l):s.formatDistance("almostXYears",w+1,l)}}function Ide(e,t){return Br(1,arguments),Ode(e,Date.now(),t)}function UD(e,t){Br(2,arguments);var r=$r(e),n=$r(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function VD(e,t){Br(2,arguments);var r=$r(e).getTime(),n=$r(t.start).getTime(),a=$r(t.end).getTime();if(!(n<=a))throw new RangeError("Invalid interval");return r>=n&&r<=a}function Rr(e,t){Br(2,arguments);var r=Zi(t);return ffe(e,-r)}function jde(e,t){var r;Br(1,arguments);var n=Zi((r=void 0)!==null&&r!==void 0?r:2);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var a=Rde(e),i;if(a.date){var s=Fde(a.date,n);i=$de(s.restDateString,s.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var o=i.getTime(),l=0,c;if(a.time&&(l=Bde(a.time),isNaN(l)))return new Date(NaN);if(a.timezone){if(c=Ude(a.timezone),isNaN(c))return new Date(NaN)}else{var u=new Date(o+l),f=new Date(0);return f.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),f.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),f}return new Date(o+l+c)}var Ex={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Dde=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Lde=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Mde=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Rde(e){var t={},r=e.split(Ex.dateTimeDelimiter),n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Ex.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Ex.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){var a=Ex.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function Fde(e,t){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};var a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function $de(e,t){if(t===null)return new Date(NaN);var r=e.match(Dde);if(!r)return new Date(NaN);var n=!!r[4],a=Jm(r[1]),i=Jm(r[2])-1,s=Jm(r[3]),o=Jm(r[4]),l=Jm(r[5])-1;if(n)return Hde(t,o,l)?Vde(t,o,l):new Date(NaN);var c=new Date(0);return!qde(t,i,s)||!Wde(t,a)?new Date(NaN):(c.setUTCFullYear(t,i,Math.max(a,s)),c)}function Jm(e){return e?parseInt(e):1}function Bde(e){var t=e.match(Lde);if(!t)return NaN;var r=GS(t[1]),n=GS(t[2]),a=GS(t[3]);return Gde(r,n,a)?r*$z+n*Fz+a*1e3:NaN}function GS(e){return e&&parseFloat(e.replace(",","."))||0}function Ude(e){if(e==="Z")return 0;var t=e.match(Mde);if(!t)return 0;var r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return Kde(n,a)?r*(n*$z+a*Fz):NaN}function Vde(e,t,r){var n=new Date(0);n.setUTCFullYear(e,0,4);var a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}var zde=[31,null,31,30,31,30,31,31,30,31,30,31];function Hz(e){return e%400===0||e%4===0&&e%100!==0}function qde(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(zde[t]||(Hz(e)?29:28))}function Wde(e,t){return t>=1&&t<=(Hz(e)?366:365)}function Hde(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function Gde(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function Kde(e,t){return t>=0&&t<=59}function Yde(e,t){Br(2,arguments);var r=Zi(t);return Mz(e,-r)}function zD(e,t){Br(2,arguments);var r=Zi(t);return hfe(e,-r)}const Xde=()=>{const[e,t]=F.useState(!0),[r,n]=F.useState([]),[a,i]=F.useState([]),[s,o]=F.useState([]),[l,c]=F.useState({totalOrders:0,totalStock:0,totalInventoryValue:0,todayDamagedProducts:0,yesterdayDamagedProducts:0,yesterdayOrders:0,yesterdayStockChange:0,yesterdayRevenue:0,totalDeductions:0,yesterdayDeductions:0,todayStockAdditions:0,todayInventoryValueAdditions:0}),{isDarkMode:u}=ln(),f=async()=>{t(!0);try{const m=new Date,y=Rr(m,30),v=Rr(m,1),b=m,w=or(mt(Xe,"orders"),ar("createdAt",">=",ir.fromDate(y)),ar("createdAt","<=",ir.fromDate(m))),D=or(mt(Xe,"orders"),ar("createdAt",">=",ir.fromDate(v)),ar("createdAt","<=",ir.fromDate(b))),P=or(mt(Xe,"inventory")),j=or(mt(Xe,"inventory"),ar("lastUpdated",">=",ir.fromDate(v)),ar("lastUpdated","<=",ir.fromDate(b))),[E,_,S,I]=await Promise.all([cr(w),cr(D),cr(P),cr(j)]),T=E.docs.map(_e=>({id:_e.id,..._e.data()})),N=_.docs.map(_e=>({id:_e.id,..._e.data()})),O=_.docs.length,U=S.docs.reduce((_e,De)=>{const Ne=De.data();return _e+(Ne.quantity||0)},0),Y=I.docs.reduce((_e,De)=>{const Ne=De.data();return _e+(Ne.quantityChange||0)},0),K=S.docs.reduce((_e,De)=>{const Ne=De.data();return _e+(Ne.quantity||0)*(Ne.price||0)},0),J=T.length,q=N.reduce((_e,De)=>_e+(De.totalAmount||0),0),V=or(mt(Xe,"inventory")),Z=(await cr(V)).docs.map(_e=>({id:_e.id,..._e.data()})),k=Z.filter(_e=>_e.quantity<=10),R=Z.filter(_e=>_e.quantity>10&&_e.quantity<=25);console.log("All stock items:",Z),console.log("Critical items:",k),console.log("Low stock items:",R),i(k),o(R);const z=new Date,G=_p(z),Q=Jv(z),oe=_p(Rr(z,1)),ce=Jv(Rr(z,1)),ne=or(mt(Xe,"activityLogs"),ar("time",">=",G.toISOString()),ar("time","<=",Q.toISOString())),he=or(mt(Xe,"activityLogs"),ar("time",">=",oe.toISOString()),ar("time","<=",ce.toISOString())),[ye,W]=await Promise.all([cr(ne),cr(he)]),Ce=ye.docs.map(_e=>_e.data()),ke=W.docs.map(_e=>_e.data()),Ee=Ce.reduce((_e,De)=>{const Ne=De.detail.match(/(\d+) units deducted/);return _e+(Ne?parseInt(Ne[1]):0)},0),ie=ke.reduce((_e,De)=>{const Ne=De.detail.match(/(\d+) units deducted/);return _e+(Ne?parseInt(Ne[1]):0)},0),Fe=Ce.reduce((_e,De)=>{const Ne=De.detail.match(/added new product "[^"]+" with total quantity (\d+)/);return _e+(Ne?parseInt(Ne[1]):0)},0),Ye=Ce.reduce((_e,De)=>{const Ne=De.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(Ne){const[,qe,at]=Ne,nt=S.docs.find(ut=>ut.data().name===qe);if(nt){const ut=nt.data().price||0;return _e+parseInt(at)*ut}}return _e},0),Se=Ce.reduce((_e,De)=>{const Ne=De.detail.toLowerCase();if(/reason:\s*damaged/i.test(Ne)||/damaged/i.test(Ne)||/damageditems/i.test(Ne)||/damaged items/i.test(Ne)){const qe=[/(\d+)\s*units?\s*damaged/i,/damageditems?:\s*(\d+)/i,/quantity:\s*(\d+)/i,/edited product "[^"]+": quantity from (\d+) to (\d+)/i];for(const at of qe){const nt=Ne.match(at);if(nt)if(nt.length===3){const ut=parseInt(nt[1]),Tt=parseInt(nt[2]);return _e+Math.abs(ut-Tt)}else return _e+parseInt(nt[1])}return _e+1}return _e},0),$e=ke.reduce((_e,De)=>{const Ne=De.detail.toLowerCase();if(/reason:\s*damaged/i.test(Ne)||/damaged/i.test(Ne)||/damageditems/i.test(Ne)||/damaged items/i.test(Ne)){const qe=[/(\d+)\s*units?\s*damaged/i,/damageditems?:\s*(\d+)/i,/quantity:\s*(\d+)/i,/edited product "[^"]+": quantity from (\d+) to (\d+)/i];for(const at of qe){const nt=Ne.match(at);if(nt)if(nt.length===3){const ut=parseInt(nt[1]),Tt=parseInt(nt[2]);return _e+Math.abs(ut-Tt)}else return _e+parseInt(nt[1])}return _e+1}return _e},0);c({totalOrders:J,totalStock:U,totalInventoryValue:K,todayDamagedProducts:Se,yesterdayDamagedProducts:$e,yesterdayOrders:O,yesterdayStockChange:Y,yesterdayRevenue:q,totalDeductions:Ee,yesterdayDeductions:ie,todayStockAdditions:Fe,todayInventoryValueAdditions:Ye})}catch(m){console.error("Error fetching stats:",m)}finally{t(!1)}},h=async()=>{try{const m=or(mt(Xe,"activityLogs"),La("time","desc"),xg(5)),v=(await cr(m)).docs.map(b=>({id:b.id,...b.data()}));n(v)}catch(m){console.error("Error fetching recent activities:",m)}},p=async()=>{await Promise.all([f(),h()])};F.useEffect(()=>{p()},[]);const g=()=>{const{isDarkMode:m}=ln();return d.jsxs("div",{className:"animate-pulse",children:[d.jsx("div",{className:`h-10 ${m?"bg-slate-700":"bg-slate-200"} rounded mb-4`}),[...Array(5)].map((y,v)=>d.jsx("div",{className:`h-16 ${m?"bg-slate-700":"bg-slate-200"} rounded mb-2`},v))]})};return d.jsxs("div",{className:`space-y-6 ${u?"bg-slate-900 text-white":"bg-slate-50 text-slate-800"}`,children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h1",{className:`text-2xl font-bold ${u?"text-white":"text-slate-800"}`,children:"Admin Dashboard"}),d.jsx("p",{className:`${u?"text-slate-400":"text-slate-500"} mt-1`,children:"View your warehouse performance at a glance"})]}),d.jsx(it,{variant:"secondary",onClick:p,className:`flex items-center gap-2 ${e?"opacity-50 cursor-not-allowed":""}`,disabled:e,children:d.jsx(ri,{size:16,className:e?"animate-spin":""})})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e?d.jsxs(d.Fragment,{children:[d.jsx(lf,{}),d.jsx(lf,{}),d.jsx(lf,{}),d.jsx(lf,{})]}):d.jsxs(d.Fragment,{children:[d.jsx(mi,{title:"Total Stock",value:l.totalStock,icon:d.jsx(ah,{size:24,className:"text-blue-600"}),change:{value:l.todayStockAdditions,isPositive:!0,customIcon:d.jsx(Si,{size:16,className:"text-green-500 mr-1"}),label:l.todayStockAdditions===0?"no additions today":l.todayStockAdditions===1?"unit added today":"units added today"}}),d.jsx(mi,{title:"Total Units Deducted Today",value:l.totalDeductions,icon:d.jsx(W9,{size:24,className:"text-blue-600"}),change:{value:l.yesterdayDeductions,isPositive:l.totalDeductions>=l.yesterdayDeductions,label:l.yesterdayDeductions===1?"unit deducted yesterday":"units deducted yesterday"}}),d.jsx(mi,{title:"Damaged Products Today",value:l.todayDamagedProducts,icon:d.jsx(nh,{size:24,className:"text-red-600"}),change:{value:l.yesterdayDamagedProducts,isPositive:l.todayDamagedProducts<=l.yesterdayDamagedProducts,label:l.yesterdayDamagedProducts===0?"no damage yesterday":l.yesterdayDamagedProducts===1?"unit damaged yesterday":"units damaged yesterday"}}),d.jsx(mi,{title:"Total Inventory Value",value:l.totalInventoryValue,icon:d.jsx(ab,{size:24,className:"text-blue-600"}),animateValue:!0,formatValue:m=>`£${m.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})}`,change:{value:l.todayInventoryValueAdditions,isPositive:!0,customIcon:d.jsx(Si,{size:16,className:"text-green-500 mr-1"}),label:l.todayInventoryValueAdditions===0?"no value added today":"£ added today"}})]})}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsx(qS,{title:"Recent Activity",className:`${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:e?d.jsx(g,{}):r.length>0?d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{className:`${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"User"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Role"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Activity"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Time"})]})}),d.jsx("tbody",{className:`divide-y ${u?"divide-slate-700":"divide-slate-200"}`,children:r.slice(0,5).map(m=>d.jsxs("tr",{className:`${u?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm font-medium ${u?"text-white":"text-slate-900"}`,children:m.user}),d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:m.role}),d.jsx("td",{className:`px-6 py-4 text-sm ${u?"text-slate-400":"text-slate-500"}`,children:d.jsx("div",{className:"max-w-xs truncate",title:m.detail,children:m.detail})}),d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:Ide(new Date(m.time),{addSuffix:!0})})]},m.id))})]})}):d.jsx("div",{className:`text-center py-8 ${u?"text-slate-400":"text-slate-500"}`,children:"No recent activities found"})}),d.jsx(qS,{title:"Low Stock Items",className:`${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:e?d.jsx(g,{}):s.length>0?d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{className:`${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Product"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Current Stock"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Status"})]})}),d.jsx("tbody",{className:`divide-y ${u?"divide-slate-700":"divide-slate-200"}`,children:s.slice(0,5).map(m=>d.jsxs("tr",{className:`${u?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[d.jsx("td",{className:`px-6 py-4 text-sm font-medium ${u?"text-white":"text-slate-900"}`,children:d.jsx("div",{className:"max-w-xs truncate",title:m.name,children:m.name})}),d.jsxs("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:[m.locationCode,"-",m.shelfNumber]}),d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:m.quantity}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-amber-100 text-amber-800",children:"Low"})})]},m.id))})]})}):d.jsx("div",{className:`text-center py-8 ${u?"text-slate-400":"text-slate-500"}`,children:"No low stock items found"})})]}),d.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:d.jsx(qS,{title:"Critical Stock Items",className:`${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:e?d.jsx(g,{}):a.length>0?d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{className:`${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Product"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Current Stock"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Status"})]})}),d.jsx("tbody",{className:`divide-y ${u?"divide-slate-700":"divide-slate-200"}`,children:a.slice(0,5).map(m=>d.jsxs("tr",{className:`${u?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[d.jsx("td",{className:`px-6 py-4 text-sm font-medium ${u?"text-white":"text-slate-900"}`,children:d.jsx("div",{className:"max-w-xs truncate",title:m.name,children:m.name})}),d.jsxs("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:[m.locationCode,"-",m.shelfNumber]}),d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:m.quantity}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"Critical"})})]},m.id))})]})}):d.jsx("div",{className:`text-center py-8 ${u?"text-slate-400":"text-slate-500"}`,children:"No critical stock items found"})})}),d.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6"})]})},hn=({isOpen:e,onClose:t,title:r,children:n,size:a="md",closeOnOutsideClick:i=!0})=>{const{isDarkMode:s}=ln(),o=F.useRef(null);if(F.useEffect(()=>{const c=u=>{u.key==="Escape"&&t()};return e&&window.addEventListener("keydown",c),()=>{window.removeEventListener("keydown",c)}},[e,t]),F.useEffect(()=>{const c=u=>{i&&o.current&&!o.current.contains(u.target)&&t()};return e&&document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[e,t,i]),!e)return null;const l={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-2xl"};return d.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:d.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4 text-center",children:[d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:i?t:void 0}),d.jsxs("div",{className:`relative transform overflow-hidden rounded-lg ${l[a]} w-full ${s?"bg-slate-800":"bg-white"} p-6 text-left shadow-xl transition-all`,children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:`text-lg font-medium ${s?"text-white":"text-slate-900"}`,children:r}),d.jsx("button",{onClick:t,className:`rounded-md p-1.5 ${s?"text-slate-400 hover:text-slate-300 hover:bg-slate-700":"text-slate-500 hover:text-slate-700 hover:bg-slate-100"} transition-colors`,children:d.jsx(Kc,{size:20})})]}),d.jsx("div",{className:`${s?"text-slate-200":"text-slate-700"}`,children:n})]})]})})},Sh=({isOpen:e,onClose:t,onBarcodeScanned:r})=>{const[n,a]=F.useState(!1),i=F.useRef(null);return F.useEffect(()=>{let s="",o=Date.now();const l=c=>{if(!e||!n)return;const u=Date.now();u-o>2e3&&(s=""),o=u,c.key==="Enter"&&s.length>0?(c.preventDefault(),r(s),s="",t()):c.key.length===1&&(s+=c.key)};return e?(a(!0),document.addEventListener("keydown",l),setTimeout(()=>{i.current&&i.current.focus()},100)):a(!1),()=>{document.removeEventListener("keydown",l)}},[e,n,r,t]),d.jsx(hn,{isOpen:e,onClose:t,title:"Scan Barcode",size:"sm",children:d.jsxs("div",{ref:i,className:"flex flex-col items-center justify-center p-6 space-y-4",tabIndex:-1,onKeyDown:s=>{s.preventDefault()},children:[d.jsx("div",{className:"w-16 h-16 bg-blue-50 rounded-full flex items-center justify-center",children:d.jsx(Gc,{size:32,className:"text-blue-500"})}),d.jsx("p",{className:"text-center text-slate-600",children:n?"Please scan the barcode now...":"Ready to scan..."}),d.jsxs("div",{className:"text-center text-sm text-slate-500",children:[d.jsx("p",{children:"Point your barcode scanner at the product"}),d.jsx("p",{children:"and scan the barcode"})]})]})})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Gz=1252,Qde=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],iC={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},sC=function(e){Qde.indexOf(e)!=-1&&(Gz=iC[0]=e)};function Jde(){sC(1252)}var ml=function(e){sC(e)};function Kz(){ml(1200),Jde()}function qD(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function Zde(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function Yz(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var _g=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?Zde(e.slice(2)):t==254&&r==255?Yz(e.slice(2)):t==65279?e.slice(1):e},Tx=function(t){return String.fromCharCode(t)},WD=function(t){return String.fromCharCode(t)},ef,cf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function HD(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0,l=0,c=0;c<e.length;)r=e.charCodeAt(c++),i=r>>2,n=e.charCodeAt(c++),s=(r&3)<<4|n>>4,a=e.charCodeAt(c++),o=(n&15)<<2|a>>6,l=a&63,isNaN(n)?o=l=64:isNaN(a)&&(l=64),t+=cf.charAt(i)+cf.charAt(s)+cf.charAt(o)+cf.charAt(l);return t}function so(e){var t="",r=0,n=0,a=0,i=0,s=0,o=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<e.length;)i=cf.indexOf(e.charAt(c++)),s=cf.indexOf(e.charAt(c++)),r=i<<2|s>>4,t+=String.fromCharCode(r),o=cf.indexOf(e.charAt(c++)),n=(s&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),l=cf.indexOf(e.charAt(c++)),a=(o&3)<<6|l,l!==64&&(t+=String.fromCharCode(a));return t}var Zr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Ah=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Vf(e){return Zr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function GD(e){return Zr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var hl=function(t){return Zr?Ah(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Eh(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function oC(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return oC(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var tf=Zr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Ah(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function ehe(e){for(var t=[],r=0,n=e.length+250,a=Vf(e.length+255),i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s<128)a[r++]=s;else if(s<2048)a[r++]=192|s>>6&31,a[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=e.charCodeAt(++i)&1023;a[r++]=240|s>>8&7,a[r++]=128|s>>2&63,a[r++]=128|o>>6&15|(s&3)<<4,a[r++]=128|o&63}else a[r++]=224|s>>12&15,a[r++]=128|s>>6&63,a[r++]=128|s&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Vf(65535),n=65530)}return t.push(a.slice(0,r)),tf(t)}var vs=/\u0000/g,Sg=/[\u0001-\u0006]/g;function G0(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function gl(e,t){var r=""+e;return r.length>=t?r:ha("0",t-r.length)+r}function lC(e,t){var r=""+e;return r.length>=t?r:ha(" ",t-r.length)+r}function Cb(e,t){var r=""+e;return r.length>=t?r:r+ha(" ",t-r.length)}function the(e,t){var r=""+Math.round(e);return r.length>=t?r:ha("0",t-r.length)+r}function rhe(e,t){var r=""+e;return r.length>=t?r:ha("0",t-r.length)+r}var KD=Math.pow(2,32);function a0(e,t){if(e>KD||e<-KD)return the(e,t);var r=Math.round(e);return rhe(r,t)}function Pb(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var YD=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],KS=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function nhe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',e}var Fr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},XD={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},ahe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Ob(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,s=1,o=0,l=1,c=0,u=0,f=Math.floor(a);c<t&&(f=Math.floor(a),o=f*s+i,u=f*c+l,!(a-f<5e-8));)a=1/(a-f),i=s,s=o,l=c,c=u;if(u>t&&(c>t?(u=l,o=i):(u=c,o=s)),!r)return[0,n*o,u];var h=Math.floor(n*o/u);return[h,n*o-h*u,u]}function Rd(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,s=[],o={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)s=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],i=l.getDay(),n<60&&(i=(i+6)%7),r&&(i=uhe(l,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=i,o}var Xz=new Date(1899,11,31,0,0,0),ihe=Xz.getTime(),she=new Date(1900,2,1,0,0,0);function Qz(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=she&&(r+=24*60*60*1e3),(r-(ihe+(e.getTimezoneOffset()-Xz.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function cC(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function ohe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function lhe(e){var t=e<0?12:11,r=cC(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function che(e){var t=cC(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Zv(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=lhe(e):t===10?r=e.toFixed(10).substr(0,12):r=che(e),cC(ohe(r.toUpperCase()))}function ch(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Zv(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return $o(14,Qz(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function uhe(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function fhe(e,t,r,n){var a="",i=0,s=0,o=r.y,l,c=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(t.length){case 1:case 2:l=r.m,c=t.length;break;case 3:return KS[r.m-1][1];case 5:return KS[r.m-1][0];default:return KS[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=r.d,c=t.length;break;case 3:return YD[r.q][0];default:return YD[r.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(r.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=r.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=r.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?gl(r.S,t.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,i=Math.round(s*(r.S+r.u)),i>=60*s&&(i=0),t==="s"?i===0?"0":""+i/s:(a=gl(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}c=t.length===3?1:2;break;case 101:l=o,c=1;break}var u=c>0?gl(l,c):"";return u}function uf(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var Jz=/%/g;function dhe(e,t,r){var n=t.replace(Jz,""),a=t.length-n.length;return Rc(e,n,r*Math.pow(10,2*a))+ha("%",a)}function hhe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Rc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function Zz(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Zz(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var eq=/# (\?+)( ?)\/( ?)(\d+)/;function phe(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),s=a-i*n,o=n;return r+(i===0?"":""+i)+" "+(s===0?ha(" ",e[1].length+1+e[4].length):lC(s,e[1].length)+e[2]+"/"+e[3]+gl(o,e[4].length))}function mhe(e,t,r){return r+(t===0?"":""+t)+ha(" ",e[1].length+2+e[4].length)}var tq=/^#*0*\.([0#]+)/,rq=/\).*[0#]/,nq=/\(###\) ###\\?-####/;function cs(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function QD(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function JD(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function ghe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function vhe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Eo(e,t,r){if(e.charCodeAt(0)===40&&!t.match(rq)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Eo("n",n,r):"("+Eo("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return hhe(e,t,r);if(t.indexOf("%")!==-1)return dhe(e,t,r);if(t.indexOf("E")!==-1)return Zz(t,r);if(t.charCodeAt(0)===36)return"$"+Eo(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+a0(l,t.length);if(t.match(/^[#?]+$/))return a=a0(r,0),a==="0"&&(a=""),a.length>t.length?a:cs(t.substr(0,t.length-a.length))+a;if(i=t.match(eq))return phe(i,l,c);if(t.match(/^#+0+$/))return c+a0(l,t.length-t.indexOf("0"));if(i=t.match(tq))return a=QD(r,i[1].length).replace(/^([^\.]+)$/,"$1."+cs(i[1])).replace(/\.$/,"."+cs(i[1])).replace(/\.(\d*)$/,function(g,m){return"."+m+ha("0",cs(i[1]).length-m.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+QD(l,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+uf(a0(l,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Eo(e,t,-r):uf(""+(Math.floor(r)+ghe(r,i[1].length)))+"."+gl(JD(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return Eo(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=G0(Eo(e,t.replace(/[\\-]/g,""),r)),s=0,G0(G0(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return s<a.length?a.charAt(s++):g==="0"?"0":""}));if(t.match(nq))return a=Eo(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=Ob(l,Math.pow(10,s)-1,!1),a=""+c,u=Rc("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=Cb(o[2],s),u.length<i[4].length&&(u=cs(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=Ob(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?lC(o[1],s)+i[2]+"/"+i[3]+Cb(o[2],s):ha(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=a0(r,0),t.length<=a.length?a:cs(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=t.indexOf(".")-s,h=t.length-a.length-f;return cs(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return s=JD(r,i[1].length),r<0?"-"+Eo(e,t,-r):uf(vhe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?gl(0,3-g.length):"")+g})+"."+gl(s,i[1].length);switch(t){case"###,##0.00":return Eo(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=uf(a0(l,0));return p!=="0"?c+p:"";case"###,###.00":return Eo(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Eo(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function yhe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Rc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function xhe(e,t,r){var n=t.replace(Jz,""),a=t.length-n.length;return Rc(e,n,r*Math.pow(10,2*a))+ha("%",a)}function aq(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+aq(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Ul(e,t,r){if(e.charCodeAt(0)===40&&!t.match(rq)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ul("n",n,r):"("+Ul("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return yhe(e,t,r);if(t.indexOf("%")!==-1)return xhe(e,t,r);if(t.indexOf("E")!==-1)return aq(t,r);if(t.charCodeAt(0)===36)return"$"+Ul(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+gl(l,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:cs(t.substr(0,t.length-a.length))+a;if(i=t.match(eq))return mhe(i,l,c);if(t.match(/^#+0+$/))return c+gl(l,t.length-t.indexOf("0"));if(i=t.match(tq))return a=(""+r).replace(/^([^\.]+)$/,"$1."+cs(i[1])).replace(/\.$/,"."+cs(i[1])),a=a.replace(/\.(\d*)$/,function(g,m){return"."+m+ha("0",cs(i[1]).length-m.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+uf(""+l);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ul(e,t,-r):uf(""+r)+"."+ha("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Ul(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=G0(Ul(e,t.replace(/[\\-]/g,""),r)),s=0,G0(G0(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return s<a.length?a.charAt(s++):g==="0"?"0":""}));if(t.match(nq))return a=Ul(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=Ob(l,Math.pow(10,s)-1,!1),a=""+c,u=Rc("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=Cb(o[2],s),u.length<i[4].length&&(u=cs(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=Ob(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?lC(o[1],s)+i[2]+"/"+i[3]+Cb(o[2],s):ha(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:cs(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=t.indexOf(".")-s,h=t.length-a.length-f;return cs(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Ul(e,t,-r):uf(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?gl(0,3-g.length):"")+g})+"."+gl(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=uf(""+l);return p!=="0"?c+p:"";default:if(t.match(/\.[0#?]*$/))return Ul(e,t.slice(0,t.lastIndexOf(".")),r)+cs(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Rc(e,t,r){return(r|0)===r?Ul(e,t,r):Eo(e,t,r)}function bhe(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var iq=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function cm(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":Pb(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="上午/下午")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(iq))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function whe(e,t,r,n){for(var a=[],i="",s=0,o="",l="t",c,u,f,h="H";s<e.length;)switch(o=e.charAt(s)){case"G":if(!Pb(e,s))throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"G",v:"General"},s+=7;break;case'"':for(i="";(f=e.charCodeAt(++s))!==34&&s<e.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++s;break;case"\\":var p=e.charAt(++s),g=p==="("||p===")"?p:"t";a[a.length]={t:g,v:p},++s;break;case"_":a[a.length]={t:"t",v:" "},s+=2;break;case"@":a[a.length]={t:"T",v:t},++s;break;case"B":case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2"){if(c==null&&(c=Rd(t,r,e.charAt(s+1)==="2"),c==null))return"";a[a.length]={t:"X",v:e.substr(s,2)},l=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||c==null&&(c=Rd(t,r),c==null))return"";for(i=o;++s<e.length&&e.charAt(s).toLowerCase()===o;)i+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),a[a.length]={t:o,v:i},l=o;break;case"A":case"a":case"上":var m={t:o,v:o};if(c==null&&(c=Rd(t,r)),e.substr(s,3).toUpperCase()==="A/P"?(c!=null&&(m.v=c.H>=12?"P":"A"),m.t="T",h="h",s+=3):e.substr(s,5).toUpperCase()==="AM/PM"?(c!=null&&(m.v=c.H>=12?"PM":"AM"),m.t="T",s+=5,h="h"):e.substr(s,5).toUpperCase()==="上午/下午"?(c!=null&&(m.v=c.H>=12?"下午":"上午"),m.t="T",s+=5,h="h"):(m.t="t",++s),c==null&&m.t==="T")return"";a[a.length]=m,l=o;break;case"[":for(i=o;e.charAt(s++)!=="]"&&s<e.length;)i+=e.charAt(s);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(iq)){if(c==null&&(c=Rd(t,r),c==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},l=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",cm(e)||(a[a.length]={t:"t",v:i}));break;case".":if(c!=null){for(i=o;++s<e.length&&(o=e.charAt(s))==="0";)i+=o;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++s<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(s))>-1;)i+=o;a[a.length]={t:"n",v:i};break;case"?":for(i=o;e.charAt(++s)===o;)i+=o;a[a.length]={t:o,v:i},l=o;break;case"*":++s,(e.charAt(s)==" "||e.charAt(s)=="*")&&++s;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1;)i+=e.charAt(s);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:o,v:o},++s;break;case"$":a[a.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"t",v:o},++s;break}var y=0,v=0,b;for(s=a.length-1,l="t";s>=0;--s)switch(a[s].t){case"h":case"H":a[s].t=h,l="h",y<1&&(y=1);break;case"s":(b=a[s].v.match(/\.0+$/))&&(v=Math.max(v,b[0].length-1)),y<3&&(y=3);case"d":case"y":case"M":case"e":l=a[s].t;break;case"m":l==="s"&&(a[s].t="M",y<2&&(y=2));break;case"X":break;case"Z":y<1&&a[s].v.match(/[Hh]/)&&(y=1),y<2&&a[s].v.match(/[Mm]/)&&(y=2),y<3&&a[s].v.match(/[Ss]/)&&(y=3)}switch(y){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var w="",D;for(s=0;s<a.length;++s)switch(a[s].t){case"t":case"T":case" ":case"D":break;case"X":a[s].v="",a[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[s].v=fhe(a[s].t.charCodeAt(0),a[s].v,c,v),a[s].t="t";break;case"n":case"?":for(D=s+1;a[D]!=null&&((o=a[D].t)==="?"||o==="D"||(o===" "||o==="t")&&a[D+1]!=null&&(a[D+1].t==="?"||a[D+1].t==="t"&&a[D+1].v==="/")||a[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[D].v==="/"||a[D].v===" "&&a[D+1]!=null&&a[D+1].t=="?"));)a[s].v+=a[D].v,a[D]={v:"",t:";"},++D;w+=a[s].v,s=D-1;break;case"G":a[s].t="t",a[s].v=ch(t,r);break}var P="",j,E;if(w.length>0){w.charCodeAt(0)==40?(j=t<0&&w.charCodeAt(0)===45?-t:t,E=Rc("n",w,j)):(j=t<0&&n>1?-t:t,E=Rc("n",w,j),j<0&&a[0]&&a[0].t=="t"&&(E=E.substr(1),a[0].v="-"+a[0].v)),D=E.length-1;var _=a.length;for(s=0;s<a.length;++s)if(a[s]!=null&&a[s].t!="t"&&a[s].v.indexOf(".")>-1){_=s;break}var S=a.length;if(_===a.length&&E.indexOf("E")===-1){for(s=a.length-1;s>=0;--s)a[s]==null||"n?".indexOf(a[s].t)===-1||(D>=a[s].v.length-1?(D-=a[s].v.length,a[s].v=E.substr(D+1,a[s].v.length)):D<0?a[s].v="":(a[s].v=E.substr(0,D+1),D=-1),a[s].t="t",S=s);D>=0&&S<a.length&&(a[S].v=E.substr(0,D+1)+a[S].v)}else if(_!==a.length&&E.indexOf("E")===-1){for(D=E.indexOf(".")-1,s=_;s>=0;--s)if(!(a[s]==null||"n?".indexOf(a[s].t)===-1)){for(u=a[s].v.indexOf(".")>-1&&s===_?a[s].v.indexOf(".")-1:a[s].v.length-1,P=a[s].v.substr(u+1);u>=0;--u)D>=0&&(a[s].v.charAt(u)==="0"||a[s].v.charAt(u)==="#")&&(P=E.charAt(D--)+P);a[s].v=P,a[s].t="t",S=s}for(D>=0&&S<a.length&&(a[S].v=E.substr(0,D+1)+a[S].v),D=E.indexOf(".")+1,s=_;s<a.length;++s)if(!(a[s]==null||"n?(".indexOf(a[s].t)===-1&&s!==_)){for(u=a[s].v.indexOf(".")>-1&&s===_?a[s].v.indexOf(".")+1:0,P=a[s].v.substr(0,u);u<a[s].v.length;++u)D<E.length&&(P+=E.charAt(D++));a[s].v=P,a[s].t="t",S=s}}}for(s=0;s<a.length;++s)a[s]!=null&&"n?".indexOf(a[s].t)>-1&&(j=n>1&&t<0&&s>0&&a[s-1].v==="-"?-t:t,a[s].v=Rc(a[s].t,a[s].v,j),a[s].t="t");var I="";for(s=0;s!==a.length;++s)a[s]!=null&&(I+=a[s].v);return I}var ZD=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function e8(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function _he(e,t){var r=bhe(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(ZD),o=r[1].match(ZD);return e8(t,s)?[n,r[0]]:e8(t,o)?[n,r[1]]:[n,r[s!=null&&o!=null?2:1]]}return[n,i]}function $o(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Fr)[e],n==null&&(n=r.table&&r.table[XD[e]]||Fr[XD[e]]),n==null&&(n=ahe[e]||"General");break}if(Pb(n,0))return ch(t,r);t instanceof Date&&(t=Qz(t,r.date1904));var a=_he(n,t);if(Pb(a[1]))return ch(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return whe(a[1],t,r,a[0])}function Gd(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Fr[r]==null){t<0&&(t=r);continue}if(Fr[r]==e){t=r;break}}t<0&&(t=391)}return Fr[t]=e,t}function sq(){Fr=nhe()}var She={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},oq=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Ahe(e){var t=typeof e=="number"?Fr[e]:e;return t=t.replace(oq,"(\\d+)"),new RegExp("^"+t+"$")}function Ehe(e,t,r){var n=-1,a=-1,i=-1,s=-1,o=-1,l=-1;(t.match(oq)||[]).forEach(function(f,h){var p=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=p;break;case"d":i=p;break;case"h":s=p;break;case"s":l=p;break;case"m":s>=0?o=p:a=p;break}}),l>=0&&o==-1&&a>=0&&(o=a,a=-1);var c=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return s==-1&&o==-1&&l==-1?c:n==-1&&a==-1&&i==-1?u:c+"T"+u}var The=function(){var e={};e.version="1.2.0";function t(){for(var E=0,_=new Array(256),S=0;S!=256;++S)E=S,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,_[S]=E;return typeof Int32Array<"u"?new Int32Array(_):_}var r=t();function n(E){var _=0,S=0,I=0,T=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(I=0;I!=256;++I)T[I]=E[I];for(I=0;I!=256;++I)for(S=E[I],_=256+I;_<4096;_+=256)S=T[_]=S>>>8^E[S&255];var N=[];for(I=1;I!=16;++I)N[I-1]=typeof Int32Array<"u"?T.subarray(I*256,I*256+256):T.slice(I*256,I*256+256);return N}var a=n(r),i=a[0],s=a[1],o=a[2],l=a[3],c=a[4],u=a[5],f=a[6],h=a[7],p=a[8],g=a[9],m=a[10],y=a[11],v=a[12],b=a[13],w=a[14];function D(E,_){for(var S=_^-1,I=0,T=E.length;I<T;)S=S>>>8^r[(S^E.charCodeAt(I++))&255];return~S}function P(E,_){for(var S=_^-1,I=E.length-15,T=0;T<I;)S=w[E[T++]^S&255]^b[E[T++]^S>>8&255]^v[E[T++]^S>>16&255]^y[E[T++]^S>>>24]^m[E[T++]]^g[E[T++]]^p[E[T++]]^h[E[T++]]^f[E[T++]]^u[E[T++]]^c[E[T++]]^l[E[T++]]^o[E[T++]]^s[E[T++]]^i[E[T++]]^r[E[T++]];for(I+=15;T<I;)S=S>>>8^r[(S^E[T++])&255];return~S}function j(E,_){for(var S=_^-1,I=0,T=E.length,N=0,O=0;I<T;)N=E.charCodeAt(I++),N<128?S=S>>>8^r[(S^N)&255]:N<2048?(S=S>>>8^r[(S^(192|N>>6&31))&255],S=S>>>8^r[(S^(128|N&63))&255]):N>=55296&&N<57344?(N=(N&1023)+64,O=E.charCodeAt(I++)&1023,S=S>>>8^r[(S^(240|N>>8&7))&255],S=S>>>8^r[(S^(128|N>>2&63))&255],S=S>>>8^r[(S^(128|O>>6&15|(N&3)<<4))&255],S=S>>>8^r[(S^(128|O&63))&255]):(S=S>>>8^r[(S^(224|N>>12&15))&255],S=S>>>8^r[(S^(128|N>>6&63))&255],S=S>>>8^r[(S^(128|N&63))&255]);return~S}return e.table=r,e.bstr=D,e.buf=P,e.str=j,e}(),an=function(){var t={};t.version="1.2.1";function r(ae,be){for(var me=ae.split("/"),ge=be.split("/"),xe=0,we=0,Ge=Math.min(me.length,ge.length);xe<Ge;++xe){if(we=me[xe].length-ge[xe].length)return we;if(me[xe]!=ge[xe])return me[xe]<ge[xe]?-1:1}return me.length-ge.length}function n(ae){if(ae.charAt(ae.length-1)=="/")return ae.slice(0,-1).indexOf("/")===-1?ae:n(ae.slice(0,-1));var be=ae.lastIndexOf("/");return be===-1?ae:ae.slice(0,be+1)}function a(ae){if(ae.charAt(ae.length-1)=="/")return a(ae.slice(0,-1));var be=ae.lastIndexOf("/");return be===-1?ae:ae.slice(be+1)}function i(ae,be){typeof be=="string"&&(be=new Date(be));var me=be.getHours();me=me<<6|be.getMinutes(),me=me<<5|be.getSeconds()>>>1,ae.write_shift(2,me);var ge=be.getFullYear()-1980;ge=ge<<4|be.getMonth()+1,ge=ge<<5|be.getDate(),ae.write_shift(2,ge)}function s(ae){var be=ae.read_shift(2)&65535,me=ae.read_shift(2)&65535,ge=new Date,xe=me&31;me>>>=5;var we=me&15;me>>>=4,ge.setMilliseconds(0),ge.setFullYear(me+1980),ge.setMonth(we-1),ge.setDate(xe);var Ge=be&31;be>>>=5;var rt=be&63;return be>>>=6,ge.setHours(be),ge.setMinutes(rt),ge.setSeconds(Ge<<1),ge}function o(ae){vi(ae,0);for(var be={},me=0;ae.l<=ae.length-4;){var ge=ae.read_shift(2),xe=ae.read_shift(2),we=ae.l+xe,Ge={};switch(ge){case 21589:me=ae.read_shift(1),me&1&&(Ge.mtime=ae.read_shift(4)),xe>5&&(me&2&&(Ge.atime=ae.read_shift(4)),me&4&&(Ge.ctime=ae.read_shift(4))),Ge.mtime&&(Ge.mt=new Date(Ge.mtime*1e3));break}ae.l=we,be[ge]=Ge}return be}var l;function c(){return l||(l={})}function u(ae,be){if(ae[0]==80&&ae[1]==75)return ht(ae,be);if((ae[0]|32)==109&&(ae[1]|32)==105)return st(ae,be);if(ae.length<512)throw new Error("CFB file size "+ae.length+" < 512");var me=3,ge=512,xe=0,we=0,Ge=0,rt=0,We=0,Qe=[],Je=ae.slice(0,512);vi(Je,0);var St=f(Je);switch(me=St[0],me){case 3:ge=512;break;case 4:ge=4096;break;case 0:if(St[1]==0)return ht(ae,be);default:throw new Error("Major Version: Expected 3 or 4 saw "+me)}ge!==512&&(Je=ae.slice(0,ge),vi(Je,28));var jt=ae.slice(0,ge);h(Je,me);var Bt=Je.read_shift(4,"i");if(me===3&&Bt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Bt);Je.l+=4,Ge=Je.read_shift(4,"i"),Je.l+=4,Je.chk("00100000","Mini Stream Cutoff Size: "),rt=Je.read_shift(4,"i"),xe=Je.read_shift(4,"i"),We=Je.read_shift(4,"i"),we=Je.read_shift(4,"i");for(var Pt=-1,Rt=0;Rt<109&&(Pt=Je.read_shift(4,"i"),!(Pt<0));++Rt)Qe[Rt]=Pt;var dr=p(ae,ge);y(We,we,dr,ge,Qe);var Gr=b(dr,Ge,Qe,ge);Gr[Ge].name="!Directory",xe>0&&rt!==O&&(Gr[rt].name="!MiniFAT"),Gr[Qe[0]].name="!FAT",Gr.fat_addrs=Qe,Gr.ssz=ge;var Kr={},xn=[],Ka=[],Bs=[];w(Ge,Gr,dr,xn,xe,Kr,Ka,rt),g(Ka,Bs,xn),xn.shift();var de={FileIndex:Ka,FullPaths:Bs};return be&&be.raw&&(de.raw={header:jt,sectors:dr}),de}function f(ae){if(ae[ae.l]==80&&ae[ae.l+1]==75)return[0,0];ae.chk(U,"Header Signature: "),ae.l+=16;var be=ae.read_shift(2,"u");return[ae.read_shift(2,"u"),be]}function h(ae,be){var me=9;switch(ae.l+=2,me=ae.read_shift(2)){case 9:if(be!=3)throw new Error("Sector Shift: Expected 9 saw "+me);break;case 12:if(be!=4)throw new Error("Sector Shift: Expected 12 saw "+me);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+me)}ae.chk("0600","Mini Sector Shift: "),ae.chk("000000000000","Reserved: ")}function p(ae,be){for(var me=Math.ceil(ae.length/be)-1,ge=[],xe=1;xe<me;++xe)ge[xe-1]=ae.slice(xe*be,(xe+1)*be);return ge[me-1]=ae.slice(me*be),ge}function g(ae,be,me){for(var ge=0,xe=0,we=0,Ge=0,rt=0,We=me.length,Qe=[],Je=[];ge<We;++ge)Qe[ge]=Je[ge]=ge,be[ge]=me[ge];for(;rt<Je.length;++rt)ge=Je[rt],xe=ae[ge].L,we=ae[ge].R,Ge=ae[ge].C,Qe[ge]===ge&&(xe!==-1&&Qe[xe]!==xe&&(Qe[ge]=Qe[xe]),we!==-1&&Qe[we]!==we&&(Qe[ge]=Qe[we])),Ge!==-1&&(Qe[Ge]=ge),xe!==-1&&ge!=Qe[ge]&&(Qe[xe]=Qe[ge],Je.lastIndexOf(xe)<rt&&Je.push(xe)),we!==-1&&ge!=Qe[ge]&&(Qe[we]=Qe[ge],Je.lastIndexOf(we)<rt&&Je.push(we));for(ge=1;ge<We;++ge)Qe[ge]===ge&&(we!==-1&&Qe[we]!==we?Qe[ge]=Qe[we]:xe!==-1&&Qe[xe]!==xe&&(Qe[ge]=Qe[xe]));for(ge=1;ge<We;++ge)if(ae[ge].type!==0){if(rt=ge,rt!=Qe[rt])do rt=Qe[rt],be[ge]=be[rt]+"/"+be[ge];while(rt!==0&&Qe[rt]!==-1&&rt!=Qe[rt]);Qe[ge]=-1}for(be[0]+="/",ge=1;ge<We;++ge)ae[ge].type!==2&&(be[ge]+="/")}function m(ae,be,me){for(var ge=ae.start,xe=ae.size,we=[],Ge=ge;me&&xe>0&&Ge>=0;)we.push(be.slice(Ge*N,Ge*N+N)),xe-=N,Ge=Cd(me,Ge*4);return we.length===0?Ba(0):tf(we).slice(0,ae.size)}function y(ae,be,me,ge,xe){var we=O;if(ae===O){if(be!==0)throw new Error("DIFAT chain shorter than expected")}else if(ae!==-1){var Ge=me[ae],rt=(ge>>>2)-1;if(!Ge)return;for(var We=0;We<rt&&(we=Cd(Ge,We*4))!==O;++We)xe.push(we);y(Cd(Ge,ge-4),be-1,me,ge,xe)}}function v(ae,be,me,ge,xe){var we=[],Ge=[];xe||(xe=[]);var rt=ge-1,We=0,Qe=0;for(We=be;We>=0;){xe[We]=!0,we[we.length]=We,Ge.push(ae[We]);var Je=me[Math.floor(We*4/ge)];if(Qe=We*4&rt,ge<4+Qe)throw new Error("FAT boundary crossed: "+We+" 4 "+ge);if(!ae[Je])break;We=Cd(ae[Je],Qe)}return{nodes:we,data:u8([Ge])}}function b(ae,be,me,ge){var xe=ae.length,we=[],Ge=[],rt=[],We=[],Qe=ge-1,Je=0,St=0,jt=0,Bt=0;for(Je=0;Je<xe;++Je)if(rt=[],jt=Je+be,jt>=xe&&(jt-=xe),!Ge[jt]){We=[];var Pt=[];for(St=jt;St>=0;){Pt[St]=!0,Ge[St]=!0,rt[rt.length]=St,We.push(ae[St]);var Rt=me[Math.floor(St*4/ge)];if(Bt=St*4&Qe,ge<4+Bt)throw new Error("FAT boundary crossed: "+St+" 4 "+ge);if(!ae[Rt]||(St=Cd(ae[Rt],Bt),Pt[St]))break}we[jt]={nodes:rt,data:u8([We])}}return we}function w(ae,be,me,ge,xe,we,Ge,rt){for(var We=0,Qe=ge.length?2:0,Je=be[ae].data,St=0,jt=0,Bt;St<Je.length;St+=128){var Pt=Je.slice(St,St+128);vi(Pt,64),jt=Pt.read_shift(2),Bt=pC(Pt,0,jt-Qe),ge.push(Bt);var Rt={name:Bt,type:Pt.read_shift(1),color:Pt.read_shift(1),L:Pt.read_shift(4,"i"),R:Pt.read_shift(4,"i"),C:Pt.read_shift(4,"i"),clsid:Pt.read_shift(16),state:Pt.read_shift(4,"i"),start:0,size:0},dr=Pt.read_shift(2)+Pt.read_shift(2)+Pt.read_shift(2)+Pt.read_shift(2);dr!==0&&(Rt.ct=D(Pt,Pt.l-8));var Gr=Pt.read_shift(2)+Pt.read_shift(2)+Pt.read_shift(2)+Pt.read_shift(2);Gr!==0&&(Rt.mt=D(Pt,Pt.l-8)),Rt.start=Pt.read_shift(4,"i"),Rt.size=Pt.read_shift(4,"i"),Rt.size<0&&Rt.start<0&&(Rt.size=Rt.type=0,Rt.start=O,Rt.name=""),Rt.type===5?(We=Rt.start,xe>0&&We!==O&&(be[We].name="!StreamData")):Rt.size>=4096?(Rt.storage="fat",be[Rt.start]===void 0&&(be[Rt.start]=v(me,Rt.start,be.fat_addrs,be.ssz)),be[Rt.start].name=Rt.name,Rt.content=be[Rt.start].data.slice(0,Rt.size)):(Rt.storage="minifat",Rt.size<0?Rt.size=0:We!==O&&Rt.start!==O&&be[We]&&(Rt.content=m(Rt,be[We].data,(be[rt]||{}).data))),Rt.content&&vi(Rt.content,0),we[Bt]=Rt,Ge.push(Rt)}}function D(ae,be){return new Date((Js(ae,be+4)/1e7*Math.pow(2,32)+Js(ae,be)/1e7-11644473600)*1e3)}function P(ae,be){return c(),u(l.readFileSync(ae),be)}function j(ae,be){var me=be&&be.type;switch(me||Zr&&Buffer.isBuffer(ae)&&(me="buffer"),me||"base64"){case"file":return P(ae,be);case"base64":return u(hl(so(ae)),be);case"binary":return u(hl(ae),be)}return u(ae,be)}function E(ae,be){var me=be||{},ge=me.root||"Root Entry";if(ae.FullPaths||(ae.FullPaths=[]),ae.FileIndex||(ae.FileIndex=[]),ae.FullPaths.length!==ae.FileIndex.length)throw new Error("inconsistent CFB structure");ae.FullPaths.length===0&&(ae.FullPaths[0]=ge+"/",ae.FileIndex[0]={name:ge,type:5}),me.CLSID&&(ae.FileIndex[0].clsid=me.CLSID),_(ae)}function _(ae){var be="Sh33tJ5";if(!an.find(ae,"/"+be)){var me=Ba(4);me[0]=55,me[1]=me[3]=50,me[2]=54,ae.FileIndex.push({name:be,type:2,content:me,size:4,L:69,R:69,C:69}),ae.FullPaths.push(ae.FullPaths[0]+be),S(ae)}}function S(ae,be){E(ae);for(var me=!1,ge=!1,xe=ae.FullPaths.length-1;xe>=0;--xe){var we=ae.FileIndex[xe];switch(we.type){case 0:ge?me=!0:(ae.FileIndex.pop(),ae.FullPaths.pop());break;case 1:case 2:case 5:ge=!0,isNaN(we.R*we.L*we.C)&&(me=!0),we.R>-1&&we.L>-1&&we.R==we.L&&(me=!0);break;default:me=!0;break}}if(!(!me&&!be)){var Ge=new Date(1987,1,19),rt=0,We=Object.create?Object.create(null):{},Qe=[];for(xe=0;xe<ae.FullPaths.length;++xe)We[ae.FullPaths[xe]]=!0,ae.FileIndex[xe].type!==0&&Qe.push([ae.FullPaths[xe],ae.FileIndex[xe]]);for(xe=0;xe<Qe.length;++xe){var Je=n(Qe[xe][0]);ge=We[Je],ge||(Qe.push([Je,{name:a(Je).replace("/",""),type:1,clsid:K,ct:Ge,mt:Ge,content:null}]),We[Je]=!0)}for(Qe.sort(function(Bt,Pt){return r(Bt[0],Pt[0])}),ae.FullPaths=[],ae.FileIndex=[],xe=0;xe<Qe.length;++xe)ae.FullPaths[xe]=Qe[xe][0],ae.FileIndex[xe]=Qe[xe][1];for(xe=0;xe<Qe.length;++xe){var St=ae.FileIndex[xe],jt=ae.FullPaths[xe];if(St.name=a(jt).replace("/",""),St.L=St.R=St.C=-(St.color=1),St.size=St.content?St.content.length:0,St.start=0,St.clsid=St.clsid||K,xe===0)St.C=Qe.length>1?1:-1,St.size=0,St.type=5;else if(jt.slice(-1)=="/"){for(rt=xe+1;rt<Qe.length&&n(ae.FullPaths[rt])!=jt;++rt);for(St.C=rt>=Qe.length?-1:rt,rt=xe+1;rt<Qe.length&&n(ae.FullPaths[rt])!=n(jt);++rt);St.R=rt>=Qe.length?-1:rt,St.type=1}else n(ae.FullPaths[xe+1]||"")==n(jt)&&(St.R=xe+1),St.type=2}}}function I(ae,be){var me=be||{};if(me.fileType=="mad")return He(ae,me);switch(S(ae),me.fileType){case"zip":return Ht(ae,me)}var ge=function(Bt){for(var Pt=0,Rt=0,dr=0;dr<Bt.FileIndex.length;++dr){var Gr=Bt.FileIndex[dr];if(Gr.content){var Kr=Gr.content.length;Kr>0&&(Kr<4096?Pt+=Kr+63>>6:Rt+=Kr+511>>9)}}for(var xn=Bt.FullPaths.length+3>>2,Ka=Pt+7>>3,Bs=Pt+127>>7,de=Ka+Rt+xn+Bs,Pe=de+127>>7,wt=Pe<=109?0:Math.ceil((Pe-109)/127);de+Pe+wt+127>>7>Pe;)wt=++Pe<=109?0:Math.ceil((Pe-109)/127);var Ft=[1,wt,Pe,Bs,xn,Rt,Pt,0];return Bt.FileIndex[0].size=Pt<<6,Ft[7]=(Bt.FileIndex[0].start=Ft[0]+Ft[1]+Ft[2]+Ft[3]+Ft[4]+Ft[5])+(Ft[6]+7>>3),Ft}(ae),xe=Ba(ge[7]<<9),we=0,Ge=0;{for(we=0;we<8;++we)xe.write_shift(1,Y[we]);for(we=0;we<8;++we)xe.write_shift(2,0);for(xe.write_shift(2,62),xe.write_shift(2,3),xe.write_shift(2,65534),xe.write_shift(2,9),xe.write_shift(2,6),we=0;we<3;++we)xe.write_shift(2,0);for(xe.write_shift(4,0),xe.write_shift(4,ge[2]),xe.write_shift(4,ge[0]+ge[1]+ge[2]+ge[3]-1),xe.write_shift(4,0),xe.write_shift(4,4096),xe.write_shift(4,ge[3]?ge[0]+ge[1]+ge[2]-1:O),xe.write_shift(4,ge[3]),xe.write_shift(-4,ge[1]?ge[0]-1:O),xe.write_shift(4,ge[1]),we=0;we<109;++we)xe.write_shift(-4,we<ge[2]?ge[1]+we:-1)}if(ge[1])for(Ge=0;Ge<ge[1];++Ge){for(;we<236+Ge*127;++we)xe.write_shift(-4,we<ge[2]?ge[1]+we:-1);xe.write_shift(-4,Ge===ge[1]-1?O:Ge+1)}var rt=function(Bt){for(Ge+=Bt;we<Ge-1;++we)xe.write_shift(-4,we+1);Bt&&(++we,xe.write_shift(-4,O))};for(Ge=we=0,Ge+=ge[1];we<Ge;++we)xe.write_shift(-4,J.DIFSECT);for(Ge+=ge[2];we<Ge;++we)xe.write_shift(-4,J.FATSECT);rt(ge[3]),rt(ge[4]);for(var We=0,Qe=0,Je=ae.FileIndex[0];We<ae.FileIndex.length;++We)Je=ae.FileIndex[We],Je.content&&(Qe=Je.content.length,!(Qe<4096)&&(Je.start=Ge,rt(Qe+511>>9)));for(rt(ge[6]+7>>3);xe.l&511;)xe.write_shift(-4,J.ENDOFCHAIN);for(Ge=we=0,We=0;We<ae.FileIndex.length;++We)Je=ae.FileIndex[We],Je.content&&(Qe=Je.content.length,!(!Qe||Qe>=4096)&&(Je.start=Ge,rt(Qe+63>>6)));for(;xe.l&511;)xe.write_shift(-4,J.ENDOFCHAIN);for(we=0;we<ge[4]<<2;++we){var St=ae.FullPaths[we];if(!St||St.length===0){for(We=0;We<17;++We)xe.write_shift(4,0);for(We=0;We<3;++We)xe.write_shift(4,-1);for(We=0;We<12;++We)xe.write_shift(4,0);continue}Je=ae.FileIndex[we],we===0&&(Je.start=Je.size?Je.start-1:O);var jt=we===0&&me.root||Je.name;if(Qe=2*(jt.length+1),xe.write_shift(64,jt,"utf16le"),xe.write_shift(2,Qe),xe.write_shift(1,Je.type),xe.write_shift(1,Je.color),xe.write_shift(-4,Je.L),xe.write_shift(-4,Je.R),xe.write_shift(-4,Je.C),Je.clsid)xe.write_shift(16,Je.clsid,"hex");else for(We=0;We<4;++We)xe.write_shift(4,0);xe.write_shift(4,Je.state||0),xe.write_shift(4,0),xe.write_shift(4,0),xe.write_shift(4,0),xe.write_shift(4,0),xe.write_shift(4,Je.start),xe.write_shift(4,Je.size),xe.write_shift(4,0)}for(we=1;we<ae.FileIndex.length;++we)if(Je=ae.FileIndex[we],Je.size>=4096)if(xe.l=Je.start+1<<9,Zr&&Buffer.isBuffer(Je.content))Je.content.copy(xe,xe.l,0,Je.size),xe.l+=Je.size+511&-512;else{for(We=0;We<Je.size;++We)xe.write_shift(1,Je.content[We]);for(;We&511;++We)xe.write_shift(1,0)}for(we=1;we<ae.FileIndex.length;++we)if(Je=ae.FileIndex[we],Je.size>0&&Je.size<4096)if(Zr&&Buffer.isBuffer(Je.content))Je.content.copy(xe,xe.l,0,Je.size),xe.l+=Je.size+63&-64;else{for(We=0;We<Je.size;++We)xe.write_shift(1,Je.content[We]);for(;We&63;++We)xe.write_shift(1,0)}if(Zr)xe.l=xe.length;else for(;xe.l<xe.length;)xe.write_shift(1,0);return xe}function T(ae,be){var me=ae.FullPaths.map(function(We){return We.toUpperCase()}),ge=me.map(function(We){var Qe=We.split("/");return Qe[Qe.length-(We.slice(-1)=="/"?2:1)]}),xe=!1;be.charCodeAt(0)===47?(xe=!0,be=me[0].slice(0,-1)+be):xe=be.indexOf("/")!==-1;var we=be.toUpperCase(),Ge=xe===!0?me.indexOf(we):ge.indexOf(we);if(Ge!==-1)return ae.FileIndex[Ge];var rt=!we.match(Sg);for(we=we.replace(vs,""),rt&&(we=we.replace(Sg,"!")),Ge=0;Ge<me.length;++Ge)if((rt?me[Ge].replace(Sg,"!"):me[Ge]).replace(vs,"")==we||(rt?ge[Ge].replace(Sg,"!"):ge[Ge]).replace(vs,"")==we)return ae.FileIndex[Ge];return null}var N=64,O=-2,U="d0cf11e0a1b11ae1",Y=[208,207,17,224,161,177,26,225],K="00000000000000000000000000000000",J={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:O,FREESECT:-1,HEADER_SIGNATURE:U,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:K,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function q(ae,be,me){c();var ge=I(ae,me);l.writeFileSync(be,ge)}function V(ae){for(var be=new Array(ae.length),me=0;me<ae.length;++me)be[me]=String.fromCharCode(ae[me]);return be.join("")}function ee(ae,be){var me=I(ae,be);switch(be&&be.type||"buffer"){case"file":return c(),l.writeFileSync(be.filename,me),me;case"binary":return typeof me=="string"?me:V(me);case"base64":return HD(typeof me=="string"?me:V(me));case"buffer":if(Zr)return Buffer.isBuffer(me)?me:Ah(me);case"array":return typeof me=="string"?hl(me):me}return me}var Z;function k(ae){try{var be=ae.InflateRaw,me=new be;if(me._processChunk(new Uint8Array([3,0]),me._finishFlushFlag),me.bytesRead)Z=ae;else throw new Error("zlib does not expose bytesRead")}catch(ge){console.error("cannot use native zlib: "+(ge.message||ge))}}function R(ae,be){if(!Z)return Me(ae,be);var me=Z.InflateRaw,ge=new me,xe=ge._processChunk(ae.slice(ae.l),ge._finishFlushFlag);return ae.l+=ge.bytesRead,xe}function z(ae){return Z?Z.deflateRawSync(ae):_t(ae)}var G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Q=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],oe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ce(ae){var be=(ae<<1|ae<<11)&139536|(ae<<5|ae<<15)&558144;return(be>>16|be>>8|be)&255}for(var ne=typeof Uint8Array<"u",he=ne?new Uint8Array(256):[],ye=0;ye<256;++ye)he[ye]=ce(ye);function W(ae,be){var me=he[ae&255];return be<=8?me>>>8-be:(me=me<<8|he[ae>>8&255],be<=16?me>>>16-be:(me=me<<8|he[ae>>16&255],me>>>24-be))}function Ce(ae,be){var me=be&7,ge=be>>>3;return(ae[ge]|(me<=6?0:ae[ge+1]<<8))>>>me&3}function ke(ae,be){var me=be&7,ge=be>>>3;return(ae[ge]|(me<=5?0:ae[ge+1]<<8))>>>me&7}function Ee(ae,be){var me=be&7,ge=be>>>3;return(ae[ge]|(me<=4?0:ae[ge+1]<<8))>>>me&15}function ie(ae,be){var me=be&7,ge=be>>>3;return(ae[ge]|(me<=3?0:ae[ge+1]<<8))>>>me&31}function Fe(ae,be){var me=be&7,ge=be>>>3;return(ae[ge]|(me<=1?0:ae[ge+1]<<8))>>>me&127}function Ye(ae,be,me){var ge=be&7,xe=be>>>3,we=(1<<me)-1,Ge=ae[xe]>>>ge;return me<8-ge||(Ge|=ae[xe+1]<<8-ge,me<16-ge)||(Ge|=ae[xe+2]<<16-ge,me<24-ge)||(Ge|=ae[xe+3]<<24-ge),Ge&we}function Se(ae,be,me){var ge=be&7,xe=be>>>3;return ge<=5?ae[xe]|=(me&7)<<ge:(ae[xe]|=me<<ge&255,ae[xe+1]=(me&7)>>8-ge),be+3}function $e(ae,be,me){var ge=be&7,xe=be>>>3;return me=(me&1)<<ge,ae[xe]|=me,be+1}function _e(ae,be,me){var ge=be&7,xe=be>>>3;return me<<=ge,ae[xe]|=me&255,me>>>=8,ae[xe+1]=me,be+8}function De(ae,be,me){var ge=be&7,xe=be>>>3;return me<<=ge,ae[xe]|=me&255,me>>>=8,ae[xe+1]=me&255,ae[xe+2]=me>>>8,be+16}function Ne(ae,be){var me=ae.length,ge=2*me>be?2*me:be+5,xe=0;if(me>=be)return ae;if(Zr){var we=GD(ge);if(ae.copy)ae.copy(we);else for(;xe<ae.length;++xe)we[xe]=ae[xe];return we}else if(ne){var Ge=new Uint8Array(ge);if(Ge.set)Ge.set(ae);else for(;xe<me;++xe)Ge[xe]=ae[xe];return Ge}return ae.length=ge,ae}function qe(ae){for(var be=new Array(ae),me=0;me<ae;++me)be[me]=0;return be}function at(ae,be,me){var ge=1,xe=0,we=0,Ge=0,rt=0,We=ae.length,Qe=ne?new Uint16Array(32):qe(32);for(we=0;we<32;++we)Qe[we]=0;for(we=We;we<me;++we)ae[we]=0;We=ae.length;var Je=ne?new Uint16Array(We):qe(We);for(we=0;we<We;++we)Qe[xe=ae[we]]++,ge<xe&&(ge=xe),Je[we]=0;for(Qe[0]=0,we=1;we<=ge;++we)Qe[we+16]=rt=rt+Qe[we-1]<<1;for(we=0;we<We;++we)rt=ae[we],rt!=0&&(Je[we]=Qe[rt+16]++);var St=0;for(we=0;we<We;++we)if(St=ae[we],St!=0)for(rt=W(Je[we],ge)>>ge-St,Ge=(1<<ge+4-St)-1;Ge>=0;--Ge)be[rt|Ge<<St]=St&15|we<<4;return ge}var nt=ne?new Uint16Array(512):qe(512),ut=ne?new Uint16Array(32):qe(32);if(!ne){for(var Tt=0;Tt<512;++Tt)nt[Tt]=0;for(Tt=0;Tt<32;++Tt)ut[Tt]=0}(function(){for(var ae=[],be=0;be<32;be++)ae.push(5);at(ae,ut,32);var me=[];for(be=0;be<=143;be++)me.push(8);for(;be<=255;be++)me.push(9);for(;be<=279;be++)me.push(7);for(;be<=287;be++)me.push(8);at(me,nt,288)})();var kt=function(){for(var be=ne?new Uint8Array(32768):[],me=0,ge=0;me<oe.length-1;++me)for(;ge<oe[me+1];++ge)be[ge]=me;for(;ge<32768;++ge)be[ge]=29;var xe=ne?new Uint8Array(259):[];for(me=0,ge=0;me<Q.length-1;++me)for(;ge<Q[me+1];++ge)xe[ge]=me;function we(rt,We){for(var Qe=0;Qe<rt.length;){var Je=Math.min(65535,rt.length-Qe),St=Qe+Je==rt.length;for(We.write_shift(1,+St),We.write_shift(2,Je),We.write_shift(2,~Je&65535);Je-- >0;)We[We.l++]=rt[Qe++]}return We.l}function Ge(rt,We){for(var Qe=0,Je=0,St=ne?new Uint16Array(32768):[];Je<rt.length;){var jt=Math.min(65535,rt.length-Je);if(jt<10){for(Qe=Se(We,Qe,+(Je+jt==rt.length)),Qe&7&&(Qe+=8-(Qe&7)),We.l=Qe/8|0,We.write_shift(2,jt),We.write_shift(2,~jt&65535);jt-- >0;)We[We.l++]=rt[Je++];Qe=We.l*8;continue}Qe=Se(We,Qe,+(Je+jt==rt.length)+2);for(var Bt=0;jt-- >0;){var Pt=rt[Je];Bt=(Bt<<5^Pt)&32767;var Rt=-1,dr=0;if((Rt=St[Bt])&&(Rt|=Je&-32768,Rt>Je&&(Rt-=32768),Rt<Je))for(;rt[Rt+dr]==rt[Je+dr]&&dr<250;)++dr;if(dr>2){Pt=xe[dr],Pt<=22?Qe=_e(We,Qe,he[Pt+1]>>1)-1:(_e(We,Qe,3),Qe+=5,_e(We,Qe,he[Pt-23]>>5),Qe+=3);var Gr=Pt<8?0:Pt-4>>2;Gr>0&&(De(We,Qe,dr-Q[Pt]),Qe+=Gr),Pt=be[Je-Rt],Qe=_e(We,Qe,he[Pt]>>3),Qe-=3;var Kr=Pt<4?0:Pt-2>>1;Kr>0&&(De(We,Qe,Je-Rt-oe[Pt]),Qe+=Kr);for(var xn=0;xn<dr;++xn)St[Bt]=Je&32767,Bt=(Bt<<5^rt[Je])&32767,++Je;jt-=dr-1}else Pt<=143?Pt=Pt+48:Qe=$e(We,Qe,1),Qe=_e(We,Qe,he[Pt]),St[Bt]=Je&32767,++Je}Qe=_e(We,Qe,0)-1}return We.l=(Qe+7)/8|0,We.l}return function(We,Qe){return We.length<8?we(We,Qe):Ge(We,Qe)}}();function _t(ae){var be=Ba(50+Math.floor(ae.length*1.1)),me=kt(ae,be);return be.slice(0,me)}var ct=ne?new Uint16Array(32768):qe(32768),tr=ne?new Uint16Array(32768):qe(32768),Wt=ne?new Uint16Array(128):qe(128),Hr=1,lr=1;function qr(ae,be){var me=ie(ae,be)+257;be+=5;var ge=ie(ae,be)+1;be+=5;var xe=Ee(ae,be)+4;be+=4;for(var we=0,Ge=ne?new Uint8Array(19):qe(19),rt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],We=1,Qe=ne?new Uint8Array(8):qe(8),Je=ne?new Uint8Array(8):qe(8),St=Ge.length,jt=0;jt<xe;++jt)Ge[G[jt]]=we=ke(ae,be),We<we&&(We=we),Qe[we]++,be+=3;var Bt=0;for(Qe[0]=0,jt=1;jt<=We;++jt)Je[jt]=Bt=Bt+Qe[jt-1]<<1;for(jt=0;jt<St;++jt)(Bt=Ge[jt])!=0&&(rt[jt]=Je[Bt]++);var Pt=0;for(jt=0;jt<St;++jt)if(Pt=Ge[jt],Pt!=0){Bt=he[rt[jt]]>>8-Pt;for(var Rt=(1<<7-Pt)-1;Rt>=0;--Rt)Wt[Bt|Rt<<Pt]=Pt&7|jt<<3}var dr=[];for(We=1;dr.length<me+ge;)switch(Bt=Wt[Fe(ae,be)],be+=Bt&7,Bt>>>=3){case 16:for(we=3+Ce(ae,be),be+=2,Bt=dr[dr.length-1];we-- >0;)dr.push(Bt);break;case 17:for(we=3+ke(ae,be),be+=3;we-- >0;)dr.push(0);break;case 18:for(we=11+Fe(ae,be),be+=7;we-- >0;)dr.push(0);break;default:dr.push(Bt),We<Bt&&(We=Bt);break}var Gr=dr.slice(0,me),Kr=dr.slice(me);for(jt=me;jt<286;++jt)Gr[jt]=0;for(jt=ge;jt<30;++jt)Kr[jt]=0;return Hr=at(Gr,ct,286),lr=at(Kr,tr,30),be}function Ie(ae,be){if(ae[0]==3&&!(ae[1]&3))return[Vf(be),2];for(var me=0,ge=0,xe=GD(be||1<<18),we=0,Ge=xe.length>>>0,rt=0,We=0;!(ge&1);){if(ge=ke(ae,me),me+=3,ge>>>1)ge>>1==1?(rt=9,We=5):(me=qr(ae,me),rt=Hr,We=lr);else{me&7&&(me+=8-(me&7));var Qe=ae[me>>>3]|ae[(me>>>3)+1]<<8;if(me+=32,Qe>0)for(!be&&Ge<we+Qe&&(xe=Ne(xe,we+Qe),Ge=xe.length);Qe-- >0;)xe[we++]=ae[me>>>3],me+=8;continue}for(;;){!be&&Ge<we+32767&&(xe=Ne(xe,we+32767),Ge=xe.length);var Je=Ye(ae,me,rt),St=ge>>>1==1?nt[Je]:ct[Je];if(me+=St&15,St>>>=4,!(St>>>8&255))xe[we++]=St;else{if(St==256)break;St-=257;var jt=St<8?0:St-4>>2;jt>5&&(jt=0);var Bt=we+Q[St];jt>0&&(Bt+=Ye(ae,me,jt),me+=jt),Je=Ye(ae,me,We),St=ge>>>1==1?ut[Je]:tr[Je],me+=St&15,St>>>=4;var Pt=St<4?0:St-2>>1,Rt=oe[St];for(Pt>0&&(Rt+=Ye(ae,me,Pt),me+=Pt),!be&&Ge<Bt&&(xe=Ne(xe,Bt+100),Ge=xe.length);we<Bt;)xe[we]=xe[we-Rt],++we}}}return be?[xe,me+7>>>3]:[xe.slice(0,we),me+7>>>3]}function Me(ae,be){var me=ae.slice(ae.l||0),ge=Ie(me,be);return ae.l+=ge[1],ge[0]}function Ke(ae,be){if(ae)typeof console<"u"&&console.error(be);else throw new Error(be)}function ht(ae,be){var me=ae;vi(me,0);var ge=[],xe=[],we={FileIndex:ge,FullPaths:xe};E(we,{root:be.root});for(var Ge=me.length-4;(me[Ge]!=80||me[Ge+1]!=75||me[Ge+2]!=5||me[Ge+3]!=6)&&Ge>=0;)--Ge;me.l=Ge+4,me.l+=4;var rt=me.read_shift(2);me.l+=6;var We=me.read_shift(4);for(me.l=We,Ge=0;Ge<rt;++Ge){me.l+=20;var Qe=me.read_shift(4),Je=me.read_shift(4),St=me.read_shift(2),jt=me.read_shift(2),Bt=me.read_shift(2);me.l+=8;var Pt=me.read_shift(4),Rt=o(me.slice(me.l+St,me.l+St+jt));me.l+=St+jt+Bt;var dr=me.l;me.l=Pt+4,Dt(me,Qe,Je,we,Rt),me.l=dr}return we}function Dt(ae,be,me,ge,xe){ae.l+=2;var we=ae.read_shift(2),Ge=ae.read_shift(2),rt=s(ae);if(we&8257)throw new Error("Unsupported ZIP encryption");for(var We=ae.read_shift(4),Qe=ae.read_shift(4),Je=ae.read_shift(4),St=ae.read_shift(2),jt=ae.read_shift(2),Bt="",Pt=0;Pt<St;++Pt)Bt+=String.fromCharCode(ae[ae.l++]);if(jt){var Rt=o(ae.slice(ae.l,ae.l+jt));(Rt[21589]||{}).mt&&(rt=Rt[21589].mt),((xe||{})[21589]||{}).mt&&(rt=xe[21589].mt)}ae.l+=jt;var dr=ae.slice(ae.l,ae.l+Qe);switch(Ge){case 8:dr=R(ae,Je);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ge)}var Gr=!1;we&8&&(We=ae.read_shift(4),We==134695760&&(We=ae.read_shift(4),Gr=!0),Qe=ae.read_shift(4),Je=ae.read_shift(4)),Qe!=be&&Ke(Gr,"Bad compressed size: "+be+" != "+Qe),Je!=me&&Ke(Gr,"Bad uncompressed size: "+me+" != "+Je),sr(ge,Bt,dr,{unsafe:!0,mt:rt})}function Ht(ae,be){var me=be||{},ge=[],xe=[],we=Ba(1),Ge=me.compression?8:0,rt=0,We=0,Qe=0,Je=0,St=0,jt=ae.FullPaths[0],Bt=jt,Pt=ae.FileIndex[0],Rt=[],dr=0;for(We=1;We<ae.FullPaths.length;++We)if(Bt=ae.FullPaths[We].slice(jt.length),Pt=ae.FileIndex[We],!(!Pt.size||!Pt.content||Bt=="Sh33tJ5")){var Gr=Je,Kr=Ba(Bt.length);for(Qe=0;Qe<Bt.length;++Qe)Kr.write_shift(1,Bt.charCodeAt(Qe)&127);Kr=Kr.slice(0,Kr.l),Rt[St]=The.buf(Pt.content,0);var xn=Pt.content;Ge==8&&(xn=z(xn)),we=Ba(30),we.write_shift(4,67324752),we.write_shift(2,20),we.write_shift(2,rt),we.write_shift(2,Ge),Pt.mt?i(we,Pt.mt):we.write_shift(4,0),we.write_shift(-4,Rt[St]),we.write_shift(4,xn.length),we.write_shift(4,Pt.content.length),we.write_shift(2,Kr.length),we.write_shift(2,0),Je+=we.length,ge.push(we),Je+=Kr.length,ge.push(Kr),Je+=xn.length,ge.push(xn),we=Ba(46),we.write_shift(4,33639248),we.write_shift(2,0),we.write_shift(2,20),we.write_shift(2,rt),we.write_shift(2,Ge),we.write_shift(4,0),we.write_shift(-4,Rt[St]),we.write_shift(4,xn.length),we.write_shift(4,Pt.content.length),we.write_shift(2,Kr.length),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(4,0),we.write_shift(4,Gr),dr+=we.l,xe.push(we),dr+=Kr.length,xe.push(Kr),++St}return we=Ba(22),we.write_shift(4,101010256),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(2,St),we.write_shift(2,St),we.write_shift(4,dr),we.write_shift(4,Je),we.write_shift(2,0),tf([tf(ge),tf(xe),we])}var Mt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Ot(ae,be){if(ae.ctype)return ae.ctype;var me=ae.name||"",ge=me.match(/\.([^\.]+)$/);return ge&&Mt[ge[1]]||be&&(ge=(me=be).match(/[\.\\]([^\.\\])+$/),ge&&Mt[ge[1]])?Mt[ge[1]]:"application/octet-stream"}function Zt(ae){for(var be=HD(ae),me=[],ge=0;ge<be.length;ge+=76)me.push(be.slice(ge,ge+76));return me.join(`\r
`)+`\r
`}function br(ae){var be=ae.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Qe){var Je=Qe.charCodeAt(0).toString(16).toUpperCase();return"="+(Je.length==1?"0"+Je:Je)});be=be.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),be.charAt(0)==`
`&&(be="=0D"+be.slice(1)),be=be.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var me=[],ge=be.split(`\r
`),xe=0;xe<ge.length;++xe){var we=ge[xe];if(we.length==0){me.push("");continue}for(var Ge=0;Ge<we.length;){var rt=76,We=we.slice(Ge,Ge+rt);We.charAt(rt-1)=="="?rt--:We.charAt(rt-2)=="="?rt-=2:We.charAt(rt-3)=="="&&(rt-=3),We=we.slice(Ge,Ge+rt),Ge+=rt,Ge<we.length&&(We+="="),me.push(We)}}return me.join(`\r
`)}function wr(ae){for(var be=[],me=0;me<ae.length;++me){for(var ge=ae[me];me<=ae.length&&ge.charAt(ge.length-1)=="=";)ge=ge.slice(0,ge.length-1)+ae[++me];be.push(ge)}for(var xe=0;xe<be.length;++xe)be[xe]=be[xe].replace(/[=][0-9A-Fa-f]{2}/g,function(we){return String.fromCharCode(parseInt(we.slice(1),16))});return hl(be.join(`\r
`))}function Te(ae,be,me){for(var ge="",xe="",we="",Ge,rt=0;rt<10;++rt){var We=be[rt];if(!We||We.match(/^\s*$/))break;var Qe=We.match(/^(.*?):\s*([^\s].*)$/);if(Qe)switch(Qe[1].toLowerCase()){case"content-location":ge=Qe[2].trim();break;case"content-type":we=Qe[2].trim();break;case"content-transfer-encoding":xe=Qe[2].trim();break}}switch(++rt,xe.toLowerCase()){case"base64":Ge=hl(so(be.slice(rt).join("")));break;case"quoted-printable":Ge=wr(be.slice(rt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+xe)}var Je=sr(ae,ge.slice(me.length),Ge,{unsafe:!0});we&&(Je.ctype=we)}function st(ae,be){if(V(ae.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var me=be&&be.root||"",ge=(Zr&&Buffer.isBuffer(ae)?ae.toString("binary"):V(ae)).split(`\r
`),xe=0,we="";for(xe=0;xe<ge.length;++xe)if(we=ge[xe],!!/^Content-Location:/i.test(we)&&(we=we.slice(we.indexOf("file")),me||(me=we.slice(0,we.lastIndexOf("/")+1)),we.slice(0,me.length)!=me))for(;me.length>0&&(me=me.slice(0,me.length-1),me=me.slice(0,me.lastIndexOf("/")+1),we.slice(0,me.length)!=me););var Ge=(ge[1]||"").match(/boundary="(.*?)"/);if(!Ge)throw new Error("MAD cannot find boundary");var rt="--"+(Ge[1]||""),We=[],Qe=[],Je={FileIndex:We,FullPaths:Qe};E(Je);var St,jt=0;for(xe=0;xe<ge.length;++xe){var Bt=ge[xe];Bt!==rt&&Bt!==rt+"--"||(jt++&&Te(Je,ge.slice(St,xe),me),St=xe)}return Je}function He(ae,be){var me=be||{},ge=me.boundary||"SheetJS";ge="------="+ge;for(var xe=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ge.slice(2)+'"',"","",""],we=ae.FullPaths[0],Ge=we,rt=ae.FileIndex[0],We=1;We<ae.FullPaths.length;++We)if(Ge=ae.FullPaths[We].slice(we.length),rt=ae.FileIndex[We],!(!rt.size||!rt.content||Ge=="Sh33tJ5")){Ge=Ge.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(dr){return"_x"+dr.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(dr){return"_u"+dr.charCodeAt(0).toString(16)+"_"});for(var Qe=rt.content,Je=Zr&&Buffer.isBuffer(Qe)?Qe.toString("binary"):V(Qe),St=0,jt=Math.min(1024,Je.length),Bt=0,Pt=0;Pt<=jt;++Pt)(Bt=Je.charCodeAt(Pt))>=32&&Bt<128&&++St;var Rt=St>=jt*4/5;xe.push(ge),xe.push("Content-Location: "+(me.root||"file:///C:/SheetJS/")+Ge),xe.push("Content-Transfer-Encoding: "+(Rt?"quoted-printable":"base64")),xe.push("Content-Type: "+Ot(rt,Ge)),xe.push(""),xe.push(Rt?br(Je):Zt(Je))}return xe.push(ge+`--\r
`),xe.join(`\r
`)}function er(ae){var be={};return E(be,ae),be}function sr(ae,be,me,ge){var xe=ge&&ge.unsafe;xe||E(ae);var we=!xe&&an.find(ae,be);if(!we){var Ge=ae.FullPaths[0];be.slice(0,Ge.length)==Ge?Ge=be:(Ge.slice(-1)!="/"&&(Ge+="/"),Ge=(Ge+be).replace("//","/")),we={name:a(be),type:2},ae.FileIndex.push(we),ae.FullPaths.push(Ge),xe||an.utils.cfb_gc(ae)}return we.content=me,we.size=me?me.length:0,ge&&(ge.CLSID&&(we.clsid=ge.CLSID),ge.mt&&(we.mt=ge.mt),ge.ct&&(we.ct=ge.ct)),we}function Lr(ae,be){E(ae);var me=an.find(ae,be);if(me){for(var ge=0;ge<ae.FileIndex.length;++ge)if(ae.FileIndex[ge]==me)return ae.FileIndex.splice(ge,1),ae.FullPaths.splice(ge,1),!0}return!1}function _r(ae,be,me){E(ae);var ge=an.find(ae,be);if(ge){for(var xe=0;xe<ae.FileIndex.length;++xe)if(ae.FileIndex[xe]==ge)return ae.FileIndex[xe].name=a(me),ae.FullPaths[xe]=me,!0}return!1}function Ur(ae){S(ae,!0)}return t.find=T,t.read=j,t.parse=u,t.write=ee,t.writeFile=q,t.utils={cfb_new:er,cfb_add:sr,cfb_del:Lr,cfb_mov:_r,cfb_gc:Ur,ReadShift:Kg,CheckField:Cq,prep_blob:vi,bconcat:tf,use_zlib:k,_deflateRaw:_t,_inflateRaw:Me,consts:J},t}();function Nhe(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function sc(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function uC(e){for(var t=[],r=sc(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}var Ib=new Date(1899,11,30,0,0,0);function ys(e,t){var r=e.getTime(),n=Ib.getTime()+(e.getTimezoneOffset()-Ib.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var lq=new Date,khe=Ib.getTime()+(lq.getTimezoneOffset()-Ib.getTimezoneOffset())*6e4,t8=lq.getTimezoneOffset();function D5(e){var t=new Date;return t.setTime(e*24*60*60*1e3+khe),t.getTimezoneOffset()!==t8&&t.setTime(t.getTime()+(t.getTimezoneOffset()-t8)*6e4),t}function Che(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(r=1,i>3&&(n=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[i],10)}return t}var r8=new Date("2017-02-19T19:06:09.000Z"),cq=isNaN(r8.getFullYear())?new Date("2/19/17"):r8,Phe=cq.getFullYear()==2017;function si(e,t){var r=new Date(e);if(Phe)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(cq.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function uh(e,t){if(Zr&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Eg(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Eg(Yz(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Eg(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Eg(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function Ai(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Ai(e[r]));return t}function ha(e,t){for(var r="";r.length<t;)r+=e;return r}function wl(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var Ohe=["january","february","march","april","may","june","july","august","september","october","november","december"];function Sp(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&Ohe.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var Ihe=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var i=r.split(n),s=[i[0]],o=1;o<i.length;++o)s.push(a),s.push(i[o]);return s}}();function uq(e){return e?e.content&&e.type?uh(e.content,!0):e.data?_g(e.data):e.asNodeBuffer&&Zr?_g(e.asNodeBuffer().toString("binary")):e.asBinary?_g(e.asBinary()):e._data&&e._data.getContent?_g(uh(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function fq(e){if(!e)return null;if(e.data)return qD(e.data);if(e.asNodeBuffer&&Zr)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?qD(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function jhe(e){return e&&e.name.slice(-4)===".bin"?fq(e):uq(e)}function No(e,t){for(var r=e.FullPaths||sc(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),i=0;i<r.length;++i){var s=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==s||a==s)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function fC(e,t){var r=No(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function Pa(e,t,r){if(!r)return jhe(fC(e,t));if(!t)return null;try{return Pa(e,t)}catch{return null}}function Zs(e,t,r){if(!r)return uq(fC(e,t));if(!t)return null;try{return Zs(e,t)}catch{return null}}function Dhe(e,t,r){return fq(fC(e,t))}function n8(e){for(var t=e.FullPaths||sc(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function Lhe(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Zr?n=Ah(r):n=ehe(r),an.utils.cfb_add(e,t,n)}an.utils.cfb_add(e,t,r)}else e.file(t,r)}function dq(e,t){switch(t.type){case"base64":return an.read(e,{type:"base64"});case"binary":return an.read(e,{type:"binary"});case"buffer":case"array":return an.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function Ag(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var hq=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Mhe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,a8=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,Rhe=/<[^>]*>/g,ts=hq.match(a8)?a8:Rhe,Fhe=/<\w*:/,$he=/<(\/?)\w+:/;function Tr(e,t,r){for(var n={},a=0,i=0;a!==e.length&&!((i=e.charCodeAt(a))===32||i===10||i===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var s=e.match(Mhe),o=0,l="",c=0,u="",f="",h=1;if(s)for(c=0;c!=s.length;++c){for(f=s[c],i=0;i!=f.length&&f.charCodeAt(i)!==61;++i);for(u=f.slice(0,i).trim();f.charCodeAt(i+1)==32;)++i;for(h=(a=f.charCodeAt(i+1))==34||a==39?1:0,l=f.slice(i+1+h,f.length-h),o=0;o!=u.length&&u.charCodeAt(o)!==58;++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),n[u]=l,n[u.toLowerCase()]=l;else{var p=(o===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(o+1);if(n[p]&&u.slice(o-3,o)=="ext")continue;n[p]=l,n[p.toLowerCase()]=l}}return n}function lc(e){return e.replace($he,"<$1")}var pq={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Bhe=uC(pq),dn=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(e,function(o,l){return pq[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,l){return String.fromCharCode(parseInt(l,16))});var s=a.indexOf("]]>");return r(a.slice(0,i))+a.slice(i+9,s)+r(a.slice(s+3))}}(),Uhe=/[&<>'"]/g,Vhe=/[\u0000-\u001f]/g;function dC(e){var t=e+"";return t.replace(Uhe,function(r){return Bhe[r]}).replace(/\n/g,"<br/>").replace(Vhe,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var i8=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function Yn(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function YS(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=a&63,t+=String.fromCharCode(s);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}s=e.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(i&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function s8(e){var t=Vf(2*e.length),r,n,a=1,i=0,s=0,o;for(n=0;n<e.length;n+=a)a=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(t[i++]=s&255,t[i++]=s>>>8,s=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function o8(e){return Ah(e,"binary").toString("utf8")}var Nx="foo bar bazâð£",Un=Zr&&(o8(Nx)==YS(Nx)&&o8||s8(Nx)==YS(Nx)&&s8)||YS,Eg=Zr?function(e){return Ah(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},e1=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),mq=function(){var e=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),zhe=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),qhe=/<\/?(?:vt:)?variant>/g,Whe=/<(?:vt:)([^>]*)>([\s\S]*)</;function l8(e,t){var r=Tr(e),n=e.match(zhe(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(i){var s=i.replace(qhe,"").match(Whe);s&&a.push({v:Un(s[2]),t:s[1]})}),a}var Hhe=/(^\s|\s$|\n)/;function Ghe(e){return sc(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Khe(e,t,r){return"<"+e+(r!=null?Ghe(r):"")+(t!=null?(t.match(Hhe)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function hC(e){if(Zr&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Un(Eh(oC(e)));throw new Error("Bad input format: expected Buffer or string")}var t1=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Yhe={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Xhe=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function Qhe(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function Jhe(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,s=n?-t:t;isFinite(s)?s==0?a=i=0:(a=Math.floor(Math.log(s)/Math.LN2),i=s*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var o=0;o<=5;++o,i/=256)e[r+o]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var c8=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},u8=Zr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Ah(t)})):c8(e)}:c8,f8=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(Oc(e,a)));return n.join("").replace(vs,"")},pC=Zr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(vs,""):f8(e,t,r)}:f8,d8=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},gq=Zr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):d8(e,t,r)}:d8,h8=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(p0(e,a)));return n.join("")},uy=Zr?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):h8(t,r,n)}:h8,vq=function(e,t){var r=Js(e,t);return r>0?uy(e,t+4,t+4+r-1):""},yq=vq,xq=function(e,t){var r=Js(e,t);return r>0?uy(e,t+4,t+4+r-1):""},bq=xq,wq=function(e,t){var r=2*Js(e,t);return r>0?uy(e,t+4,t+4+r-1):""},_q=wq,Sq=function(t,r){var n=Js(t,r);return n>0?pC(t,r+4,r+4+n):""},Aq=Sq,Eq=function(e,t){var r=Js(e,t);return r>0?uy(e,t+4,t+4+r):""},Tq=Eq,Nq=function(e,t){return Qhe(e,t)},jb=Nq,kq=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Zr&&(yq=function(t,r){if(!Buffer.isBuffer(t))return vq(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},bq=function(t,r){if(!Buffer.isBuffer(t))return xq(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},_q=function(t,r){if(!Buffer.isBuffer(t))return wq(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},Aq=function(t,r){if(!Buffer.isBuffer(t))return Sq(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},Tq=function(t,r){if(!Buffer.isBuffer(t))return Eq(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},jb=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):Nq(t,r)},kq=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var p0=function(e,t){return e[t]},Oc=function(e,t){return e[t+1]*256+e[t]},Zhe=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Js=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Cd=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},e0e=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Kg(e,t){var r="",n,a,i=[],s,o,l,c;switch(t){case"dbcs":if(c=this.l,Zr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)r+=String.fromCharCode(Oc(this,c)),c+=2;e*=2;break;case"utf8":r=uy(this,this.l,this.l+e);break;case"utf16le":e*=2,r=pC(this,this.l,this.l+e);break;case"wstr":return Kg.call(this,e,"dbcs");case"lpstr-ansi":r=yq(this,this.l),e=4+Js(this,this.l);break;case"lpstr-cp":r=bq(this,this.l),e=4+Js(this,this.l);break;case"lpwstr":r=_q(this,this.l),e=4+2*Js(this,this.l);break;case"lpp4":e=4+Js(this,this.l),r=Aq(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Js(this,this.l),r=Tq(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(s=p0(this,this.l+e++))!==0;)i.push(Tx(s));r=i.join("");break;case"_wstr":for(e=0,r="";(s=Oc(this,this.l+e))!==0;)i.push(Tx(s)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",c=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=p0(this,c),this.l=c+1,o=Kg.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(Tx(Oc(this,c))),c+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",c=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=p0(this,c),this.l=c+1,o=Kg.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(Tx(p0(this,c))),c+=1}r=i.join("");break;default:switch(e){case 1:return n=p0(this,this.l),this.l++,n;case 2:return n=(t==="i"?Zhe:Oc)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?Cd:e0e)(this,this.l),this.l+=4,n):(a=Js(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=jb(this,this.l):a=jb([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=gq(this,this.l,e);break}}return this.l+=e,r}var t0e=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},r0e=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},n0e=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function a0e(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)n0e(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var s=t.charCodeAt(a);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,t0e(this,t,this.l);break;case 8:if(n=8,r==="f"){Jhe(this,t,this.l);break}case 16:break;case-4:n=4,r0e(this,t,this.l);break}return this.l+=n,this}function Cq(e,t){var r=gq(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function vi(e,t){e.l=t,e.read_shift=Kg,e.chk=Cq,e.write_shift=a0e}function es(e,t){e.l+=t}function Ba(e){var t=Vf(e);return vi(t,0),t}function fu(e,t,r){if(e){var n,a,i;vi(e,e.l||0);for(var s=e.length,o=0,l=0;e.l<s;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var c=$b[o]||$b[65535];for(n=e.read_shift(1),i=n&127,a=1;a<4&&n&128;++a)i+=((n=e.read_shift(1))&127)<<7*a;l=e.l+i;var u=c.f&&c.f(e,i,r);if(e.l=l,t(u,c,o))return}}}function ME(){var e=[],t=Zr?256:2048,r=function(c){var u=Ba(c);return vi(u,0),u},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(c){return n&&c<n.length-n.l?n:(a(),n=r(Math.max(c+1,t)))},s=function(){return a(),tf(e)},o=function(c){a(),n=c,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:o,end:s,_bufs:e}}function Yg(e,t,r){var n=Ai(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function p8(e,t,r){var n=Ai(e);return n.s=Yg(n.s,t.s,r),n.e=Yg(n.e,t.s,r),n}function Xg(e,t){if(e.cRel&&e.c<0)for(e=Ai(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Ai(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Dr(e);return!e.cRel&&e.cRel!=null&&(r=o0e(r)),!e.rRel&&e.rRel!=null&&(r=i0e(r)),r}function XS(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+za(e.s.c)+":"+(e.e.cRel?"":"$")+za(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Ei(e.s.r)+":"+(e.e.rRel?"":"$")+Ei(e.e.r):Xg(e.s,t.biff)+":"+Xg(e.e,t.biff)}function mC(e){return parseInt(s0e(e),10)-1}function Ei(e){return""+(e+1)}function i0e(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function s0e(e){return e.replace(/\$(\d+)$/,"$1")}function gC(e){for(var t=l0e(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function za(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function o0e(e){return e.replace(/^([A-Z])/,"$$$1")}function l0e(e){return e.replace(/^\$([A-Z])/,"$1")}function c0e(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function hs(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function Dr(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function um(e){var t=e.indexOf(":");return t==-1?{s:hs(e),e:hs(e)}:{s:hs(e.slice(0,t)),e:hs(e.slice(t+1))}}function on(e,t){return typeof t>"u"||typeof t=="number"?on(e.s,e.e):(typeof e!="string"&&(e=Dr(e)),typeof t!="string"&&(t=Dr(t)),e==t?e:e+":"+t)}function ga(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function m8(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=$o(e.z,r?ys(t):t)}catch{}try{return e.w=$o((e.XF||{}).numFmtId||(r?14:0),r?ys(t):t)}catch{return""+t}}function tu(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?kh[e.v]||e.v:t==null?m8(e,e.v):m8(e,t))}function Jf(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function Pq(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),s=0,o=0;if(i&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?hs(n.origin):n.origin;s=l.r,o=l.c}i["!ref"]||(i["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=ga(i["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),s==-1&&(c.e.r=s=u.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var p={v:t[f][h]},g=s+f,m=o+h;if(c.s.r>g&&(c.s.r=g),c.s.c>m&&(c.s.c=m),c.e.r<g&&(c.e.r=g),c.e.c<m&&(c.e.c=m),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))p=t[f][h];else if(Array.isArray(p.v)&&(p.f=t[f][h][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(n.nullError)p.t="e",p.v=0;else if(n.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=n.dateNF||Fr[14],n.cellDates?(p.t="d",p.w=$o(p.z,ys(p.v))):(p.t="n",p.v=ys(p.v),p.w=$o(p.z,p.v))):p.t="s";if(a)i[g]||(i[g]=[]),i[g][m]&&i[g][m].z&&(p.z=i[g][m].z),i[g][m]=p;else{var y=Dr({c:m,r:g});i[y]&&i[y].z&&(p.z=i[y].z),i[y]=p}}}return c.s.c<1e7&&(i["!ref"]=on(c)),i}function fm(e,t){return Pq(null,e,t)}function u0e(e){return e.read_shift(4,"i")}function Qi(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function f0e(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function vC(e,t){var r=e.l,n=e.read_shift(1),a=Qi(e),i=[],s={t:a,h:a};if(n&1){for(var o=e.read_shift(4),l=0;l!=o;++l)i.push(f0e(e));s.r=i}else s.r=[{ich:0,ifnt:0}];return e.l=r+t,s}var d0e=vC;function Uo(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Th(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var h0e=Qi;function yC(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var p0e=Qi,RE=yC;function xC(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?jb([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Cd(t,0)>>2;return r?a/100:a}function Oq(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var Nh=Oq;function Hi(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function m0e(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),s=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var c=Kd[a];c&&(t.rgb=n1(c));break;case 2:t.rgb=n1([s,o,l]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function g0e(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function Iq(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function v0e(e){return Iq(e,1)}function y0e(e){return Iq(e,2)}var bC=2,Ts=3,kx=11,g8=12,Db=19,Cx=64,x0e=65,b0e=71,w0e=4108,_0e=4126,Ja=80,jq=81,S0e=[Ja,jq],A0e={1:{n:"CodePage",t:bC},2:{n:"Category",t:Ja},3:{n:"PresentationFormat",t:Ja},4:{n:"ByteCount",t:Ts},5:{n:"LineCount",t:Ts},6:{n:"ParagraphCount",t:Ts},7:{n:"SlideCount",t:Ts},8:{n:"NoteCount",t:Ts},9:{n:"HiddenCount",t:Ts},10:{n:"MultimediaClipCount",t:Ts},11:{n:"ScaleCrop",t:kx},12:{n:"HeadingPairs",t:w0e},13:{n:"TitlesOfParts",t:_0e},14:{n:"Manager",t:Ja},15:{n:"Company",t:Ja},16:{n:"LinksUpToDate",t:kx},17:{n:"CharacterCount",t:Ts},19:{n:"SharedDoc",t:kx},22:{n:"HyperlinksChanged",t:kx},23:{n:"AppVersion",t:Ts,p:"version"},24:{n:"DigSig",t:x0e},26:{n:"ContentType",t:Ja},27:{n:"ContentStatus",t:Ja},28:{n:"Language",t:Ja},29:{n:"Version",t:Ja},255:{},2147483648:{n:"Locale",t:Db},2147483651:{n:"Behavior",t:Db},1919054434:{}},E0e={1:{n:"CodePage",t:bC},2:{n:"Title",t:Ja},3:{n:"Subject",t:Ja},4:{n:"Author",t:Ja},5:{n:"Keywords",t:Ja},6:{n:"Comments",t:Ja},7:{n:"Template",t:Ja},8:{n:"LastAuthor",t:Ja},9:{n:"RevNumber",t:Ja},10:{n:"EditTime",t:Cx},11:{n:"LastPrinted",t:Cx},12:{n:"CreatedDate",t:Cx},13:{n:"ModifiedDate",t:Cx},14:{n:"PageCount",t:Ts},15:{n:"WordCount",t:Ts},16:{n:"CharCount",t:Ts},17:{n:"Thumbnail",t:b0e},18:{n:"Application",t:Ja},19:{n:"DocSecurity",t:Ts},255:{},2147483648:{n:"Locale",t:Db},2147483651:{n:"Behavior",t:Db},1919054434:{}},v8={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},T0e=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function N0e(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var k0e=N0e([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Kd=Ai(k0e),kh={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Dq={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},y8={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function C0e(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function P0e(e){var t=C0e();if(!e||!e.match)return t;var r={};if((e.match(ts)||[]).forEach(function(n){var a=Tr(n);switch(a[0].replace(Fhe,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[y8[a.ContentType]]!==void 0&&t[y8[a.ContentType]].push(a.PartName);break}}),t.xmlns!==Yhe.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var D0={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function FE(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Qg(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(ts)||[]).forEach(function(a){var i=Tr(a);if(i[0]==="<Relationship"){var s={};s.Type=i.Type,s.Target=i.Target,s.Id=i.Id,i.TargetMode&&(s.TargetMode=i.TargetMode);var o=i.TargetMode==="External"?i.Target:Ag(i.Target,t);r[o]=s,n[i.Id]=s}}),r["!id"]=n,r}var O0e="application/vnd.oasis.opendocument.spreadsheet";function I0e(e,t){for(var r=hC(e),n,a;n=t1.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=Tr(n[0],!1),a.path=="/"&&a.type!==O0e)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var Jg=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],j0e=function(){for(var e=new Array(Jg.length),t=0;t<Jg.length;++t){var r=Jg[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function Lq(e){var t={};e=Un(e);for(var r=0;r<Jg.length;++r){var n=Jg[r],a=e.match(j0e[r]);a!=null&&a.length>0&&(t[n[1]]=dn(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=si(t[n[1]]))}return t}var D0e=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function Mq(e,t,r,n){var a=[];if(typeof e=="string")a=l8(e,n);else for(var i=0;i<e.length;++i)a=a.concat(e[i].map(function(u){return{v:u}}));var s=typeof t=="string"?l8(t,n).map(function(u){return u.v}):t,o=0,l=0;if(s.length>0)for(var c=0;c!==a.length;c+=2){switch(l=+a[c+1].v,a[c].v){case"Worksheets":case"工作表":case"Листы":case"أوراق العمل":case"ワークシート":case"גליונות עבודה":case"Arbeitsblätter":case"Çalışma Sayfaları":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de cálculo":case"Planilhas":case"Regneark":case"Hojas de cálculo":case"Werkbladen":r.Worksheets=l,r.SheetNames=s.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"名前付き一覧":case"Benannte Bereiche":case"Navngivne områder":r.NamedRanges=l,r.DefinedNames=s.slice(o,o+l);break;case"Charts":case"Diagramme":r.Chartsheets=l,r.ChartNames=s.slice(o,o+l);break}o+=l}}function L0e(e,t,r){var n={};return t||(t={}),e=Un(e),D0e.forEach(function(a){var i=(e.match(e1(a[0]))||[])[1];switch(a[2]){case"string":i&&(t[a[1]]=dn(i));break;case"bool":t[a[1]]=i==="true";break;case"raw":var s=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));s&&s.length>0&&(n[a[1]]=s[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&Mq(n.HeadingPairs,n.TitlesOfParts,t,r),t}var M0e=/<[^>]+>[^<]*/g;function R0e(e,t){var r={},n="",a=e.match(M0e);if(a)for(var i=0;i!=a.length;++i){var s=a[i],o=Tr(s);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=dn(o.name);break;case"</property>":n=null;break;default:if(s.indexOf("<vt:")===0){var l=s.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":r[n]=dn(u);break;case"bool":r[n]=Yn(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(u,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(u);break;case"filetime":case"date":r[n]=si(u);break;case"cy":case"error":r[n]=dn(u);break;default:if(c.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",s,c,l)}}else if(s.slice(0,2)!=="</"){if(t.WTF)throw new Error(s)}}}return r}var F0e={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},QS;function $0e(e,t,r){QS||(QS=uC(F0e)),t=QS[t]||t,e[t]=r}function wC(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function Rq(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function Fq(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function $q(e,t,r){return t===31?Fq(e):Rq(e,t,r)}function $E(e,t,r){return $q(e,t,r===!1?0:4)}function B0e(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return $q(e,t,0)}function U0e(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(vs,""),e.l-a&2&&(e.l+=2)}return r}function V0e(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(vs,"");return r}function z0e(e){var t=e.l,r=Lb(e,jq);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=Lb(e,Ts);return[r,n]}function q0e(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(z0e(e));return r}function x8(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var i=e.read_shift(4),s=e.read_shift(4);n[i]=e.read_shift(s,t===1200?"utf16le":"utf8").replace(vs,"").replace(Sg,"!"),t===1200&&s%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function Bq(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function W0e(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function Lb(e,t,r){var n=e.read_shift(2),a,i=r||{};if(e.l+=2,t!==g8&&n!==t&&S0e.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===g8?n:t){case 2:return a=e.read_shift(2,"i"),i.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return Rq(e,n,4).replace(vs,"");case 31:return Fq(e);case 64:return wC(e);case 65:return Bq(e);case 71:return W0e(e);case 80:return $E(e,n,!i.raw).replace(vs,"");case 81:return B0e(e,n).replace(vs,"");case 4108:return q0e(e);case 4126:case 4127:return n==4127?U0e(e):V0e(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function b8(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0,o=0,l=-1,c={};for(s=0;s!=a;++s){var u=e.read_shift(4),f=e.read_shift(4);i[s]=[u,f+r]}i.sort(function(b,w){return b[1]-w[1]});var h={};for(s=0;s!=a;++s){if(e.l!==i[s][1]){var p=!0;if(s>0&&t)switch(t[i[s-1][0]].t){case 2:e.l+2===i[s][1]&&(e.l+=2,p=!1);break;case 80:e.l<=i[s][1]&&(e.l=i[s][1],p=!1);break;case 4108:e.l<=i[s][1]&&(e.l=i[s][1],p=!1);break}if((!t||s==0)&&e.l<=i[s][1]&&(p=!1,e.l=i[s][1]),p)throw new Error("Read Error: Expected address "+i[s][1]+" at "+e.l+" :"+s)}if(t){var g=t[i[s][0]];if(h[g.n]=Lb(e,g.t,{raw:!0}),g.p==="version"&&(h[g.n]=String(h[g.n]>>16)+"."+("0000"+String(h[g.n]&65535)).slice(-4)),g.n=="CodePage")switch(h[g.n]){case 0:h[g.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:ml(o=h[g.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[g.n])}}else if(i[s][0]===1){if(o=h.CodePage=Lb(e,bC),ml(o),l!==-1){var m=e.l;e.l=i[l][1],c=x8(e,o),e.l=m}}else if(i[s][0]===0){if(o===0){l=s,e.l=i[s+1][1];continue}c=x8(e,o)}else{var y=c[i[s][0]],v;switch(e[e.l]){case 65:e.l+=4,v=Bq(e);break;case 30:e.l+=4,v=$E(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,v=$E(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,v=e.read_shift(4,"i");break;case 19:e.l+=4,v=e.read_shift(4);break;case 5:e.l+=4,v=e.read_shift(8,"f");break;case 11:e.l+=4,v=xa(e,4);break;case 64:e.l+=4,v=si(wC(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[y]=v}}return e.l=r+n,h}function w8(e,t,r){var n=e.content;if(!n)return{};vi(n,0);var a,i,s,o,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var c=n.read_shift(4),u=n.read_shift(16);if(u!==an.utils.consts.HEADER_CLSID&&u!==r)throw new Error("Bad PropertySet CLSID "+u);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=n.read_shift(16),o=n.read_shift(4),a===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);a===2&&(s=n.read_shift(16),l=n.read_shift(4));var f=b8(n,t),h={SystemIdentifier:c};for(var p in f)h[p]=f[p];if(h.FMTID=i,a===1)return h;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);var g;try{g=b8(n,null)}catch{}for(p in g)h[p]=g[p];return h.FMTID=[i,s],h}function Vu(e,t){return e.read_shift(t),null}function H0e(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function xa(e,t){return e.read_shift(t)===1}function Oa(e){return e.read_shift(2,"u")}function Uq(e,t){return H0e(e,t,Oa)}function G0e(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function fy(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var s=n?e.read_shift(n,a):"";return s}function K0e(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,i=1+(r&1),s=0,o,l={};a&&(s=e.read_shift(2)),n&&(o=e.read_shift(4));var c=i==2?"dbcs-cont":"sbcs-cont",u=t===0?"":e.read_shift(t,c);return a&&(e.l+=4*s),n&&(e.l+=o),l.t=u,a||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function fh(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function dy(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):fh(e,n,r)}function Ch(e,t,r){if(r.biff>5)return dy(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function Y0e(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function X0e(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(vs,"");return n&&(e.l+=24),a}function Q0e(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=e.read_shift(i>>1,"utf16le").replace(vs,"");return r+s}function J0e(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return X0e(e);case"0303000000000000c000000000000046":return Q0e(e);default:throw new Error("Unsupported Moniker "+r)}}function Px(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(vs,""):"";return r}function Z0e(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var i,s,o,l,c="",u,f;a&16&&(i=Px(e,r-e.l)),a&128&&(s=Px(e,r-e.l)),(a&257)===257&&(o=Px(e,r-e.l)),(a&257)===1&&(l=J0e(e,r-e.l)),a&8&&(c=Px(e,r-e.l)),a&32&&(u=e.read_shift(16)),a&64&&(f=wC(e)),e.l=r;var h=s||o||l||"";h&&c&&(h+="#"+c),h||(h="#"+c),a&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var p={Target:h};return u&&(p.guid=u),f&&(p.time=f),i&&(p.Tooltip=i),p}function Vq(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function zq(e,t){var r=Vq(e);return r[3]=0,r}function cc(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function epe(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function tpe(e,t,r){return t===0?"":Ch(e,t,r)}function rpe(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),s=e.read_shift(n,"i");return[a,i,s]}function qq(e){var t=e.read_shift(2),r=xC(e);return[t,r]}function npe(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=fy(e,t,r),i=e.read_shift(2);if(n-=e.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return e.l+=i,a}function L5(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function Wq(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var ape=Wq;function Hq(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function ipe(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function spe(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Ii(e){e.l+=2,e.l+=e.read_shift(2)}var ope={0:Ii,4:Ii,5:Ii,6:Ii,7:spe,8:Ii,9:Ii,10:Ii,11:Ii,12:Ii,13:ipe,14:Ii,15:Ii,16:Ii,17:Ii,18:Ii,19:Ii,20:Ii,21:Hq};function lpe(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(ope[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function Ox(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function cpe(e,t){return t===0||e.read_shift(2),1200}function upe(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=Ch(e,0,r);return e.read_shift(t+n-e.l),a}function fpe(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function dpe(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var s=fy(e,0,r);return s.length===0&&(s="Sheet1"),{pos:n,hs:a,dt:i,name:s}}function hpe(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0;s!=a&&e.l<r;++s)i.push(K0e(e));return i.Count=n,i.Unique=a,i}function ppe(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function mpe(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function gpe(e){var t=epe(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function vpe(e){return e.read_shift(2),e.read_shift(4)}function _8(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,a]}function ype(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:i,CurTab:s,FirstTab:o,Selected:l,TabRatio:c}}function xpe(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function bpe(){}function wpe(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=fy(e,0,r),n}function _pe(e){var t=cc(e);return t.isst=e.read_shift(4),t}function Spe(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=cc(e);r.biff==2&&e.l++;var i=dy(e,n-e.l,r);return a.val=i,a}function Ape(e,t,r){var n=e.read_shift(2),a=Ch(e,0,r);return[n,a]}var Epe=Ch;function S8(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,i=e.read_shift(a),s=e.read_shift(a),o=e.read_shift(2),l=e.read_shift(2);return e.l=n,{s:{r:i,c:o},e:{r:s,c:l}}}function Tpe(e){var t=e.read_shift(2),r=e.read_shift(2),n=qq(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function Npe(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(qq(e));if(e.l!==r)throw new Error("MulRK read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:s,rkrec:i}}function kpe(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:s,ixfe:i}}function Cpe(e,t,r,n){var a={},i=e.read_shift(4),s=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(2);return a.patternType=T0e[o>>26],n.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=s&15,a.dgRight=s>>4&15,a.dgTop=s>>8&15,a.dgBottom=s>>12&15,a.icvLeft=s>>16&127,a.icvRight=s>>23&127,a.grbitDiag=s>>30&3,a.icvTop=o&127,a.icvBottom=o>>7&127,a.icvDiag=o>>14&127,a.dgDiag=o>>21&15,a.icvFore=l&127,a.icvBack=l>>7&127,a.fsxButton=l>>14&1),a}function Ppe(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=Cpe(e,t,n.fStyle,r),n}function Ope(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function A8(e,t,r){var n=cc(e);(r.biff==2||t==9)&&++e.l;var a=G0e(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function Ipe(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=cc(e),a=Hi(e);return n.val=a,n}var E8=tpe;function jpe(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var s=fh(e,i),o=[];n>e.l;)o.push(dy(e));return[i,a,s,o]}function T8(e,t,r){var n=e.read_shift(2),a,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=npe(e,t-2,r)),i.body=a||e.read_shift(t-2),typeof a=="string"&&(i.Name=a),i}var Dpe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function N8(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(1),s=e.read_shift(1),o=e.read_shift(r&&r.biff==2?1:2),l=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),l=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var c=fh(e,s,r);a&32&&(c=Dpe[c.charCodeAt(0)]);var u=n-e.l;r&&r.biff==2&&--u;var f=n==e.l||o===0||!(u>0)?[]:m1e(e,u,r,o);return{chKey:i,Name:c,itab:l,rgce:f}}function Gq(e,t,r){if(r.biff<8)return Lpe(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(rpe(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function Lpe(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=fy(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function Mpe(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),i=fh(e,n,r),s=fh(e,a,r);return[i,s]}function Rpe(e,t,r){var n=Wq(e);e.l++;var a=e.read_shift(1);return t-=8,[g1e(e,t,r),a,n]}function k8(e,t,r){var n=ape(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,h1e(e,t,r)]}function Fpe(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function $pe(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=Ch(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},o,s,i]}}function Bpe(e,t,r){return $pe(e,t,r)}function Upe(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(L5(e));return r}function Vpe(e,t,r){if(r&&r.biff<8)return qpe(e,t,r);var n=Hq(e),a=lpe(e,t-22,n[1]);return{cmo:n,ft:a}}var zpe={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function qpe(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var s=[];return s.push((zpe[n]||es)(e,t,r)),{cmo:[a,n,i],ft:s}}function Wpe(e,t,r){var n=e.l,a="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:s=Y0e(e,6,r);var o=e.read_shift(2);e.read_shift(2),Oa(e,2);var l=e.read_shift(2);e.l+=l;for(var c=1;c<e.lens.length-1;++c){if(e.l-n!=e.lens[c])throw new Error("TxO: bad continue record");var u=e[e.l],f=fh(e,e.lens[c+1]-e.lens[c]-1);if(a+=f,a.length>=(u?o:2*o))break}if(a.length!==o&&a.length!==o*2)throw new Error("cchText: "+o+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function Hpe(e,t){var r=L5(e);e.l+=16;var n=Z0e(e,t-24);return[r,n]}function Gpe(e,t){e.read_shift(2);var r=L5(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(vs,""),[r,n]}function Kpe(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=v8[r]||r,r=e.read_shift(2),t[1]=v8[r]||r,t}function Ype(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(zq(e));return r}function Xpe(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(zq(e));return r}function Qpe(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function Kq(e,t,r){if(!r.cellStyles)return es(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(2);n==2&&(e.l+=2);var c={s:a,e:i,w:s,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(c.level=l>>8&7),c}function Jpe(e,t){var r={};return t<32||(e.l+=16,r.header=Hi(e),r.footer=Hi(e),e.l+=2),r}function Zpe(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}var eme=cc,tme=Uq,rme=dy;function nme(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function ame(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=cc(e);++e.l;var a=Ch(e,t-7,r);return n.t="str",n.val=a,n}function ime(e){var t=cc(e);++e.l;var r=Hi(e);return t.t="n",t.val=r,t}function sme(e){var t=cc(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function ome(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function lme(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function cme(e,t,r){var n=e.l+t,a=cc(e),i=e.read_shift(2),s=fh(e,i,r);return e.l=n,a.t="str",a.val=s,a}var ume=[2,3,48,49,131,139,140,245],C8=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=uC({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var c=[],u=Vf(1);switch(l.type){case"base64":u=hl(so(o));break;case"binary":u=hl(o);break;case"buffer":case"array":u=o;break}vi(u,0);var f=u.read_shift(1),h=!!(f&136),p=!1,g=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,h=!0;break;case 49:p=!0,h=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var m=0,y=521;f==2&&(m=u.read_shift(2)),u.l+=3,f!=2&&(m=u.read_shift(4)),m>1048576&&(m=1e6),f!=2&&(y=u.read_shift(2));var v=u.read_shift(2),b=l.codepage||1252;f!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(b=e[u[u.l]]),u.l+=1,u.l+=2),g&&(u.l+=36);for(var w=[],D={},P=Math.min(u.length,f==2?521:y-10-(p?264:0)),j=g?32:11;u.l<P&&u[u.l]!=13;)switch(D={},D.name=ef.utils.decode(b,u.slice(u.l,u.l+j)).replace(/[\u0000\r\n].*$/g,""),u.l+=j,D.type=String.fromCharCode(u.read_shift(1)),f!=2&&!g&&(D.offset=u.read_shift(4)),D.len=u.read_shift(1),f==2&&(D.offset=u.read_shift(2)),D.dec=u.read_shift(1),D.name.length&&w.push(D),f!=2&&(u.l+=g?13:14),D.type){case"B":(!p||D.len!=8)&&l.WTF&&console.log("Skipping "+D.name+":"+D.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+D.name+":"+D.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+D.type)}if(u[u.l]!==13&&(u.l=y-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=y;var E=0,_=0;for(c[0]=[],_=0;_!=w.length;++_)c[0][_]=w[_].name;for(;m-- >0;){if(u[u.l]===42){u.l+=v;continue}for(++u.l,c[++E]=[],_=0,_=0;_!=w.length;++_){var S=u.slice(u.l,u.l+w[_].len);u.l+=w[_].len,vi(S,0);var I=ef.utils.decode(b,S);switch(w[_].type){case"C":I.trim().length&&(c[E][_]=I.replace(/\s+$/,""));break;case"D":I.length===8?c[E][_]=new Date(+I.slice(0,4),+I.slice(4,6)-1,+I.slice(6,8)):c[E][_]=I;break;case"F":c[E][_]=parseFloat(I.trim());break;case"+":case"I":c[E][_]=g?S.read_shift(-4,"i")^2147483648:S.read_shift(4,"i");break;case"L":switch(I.trim().toUpperCase()){case"Y":case"T":c[E][_]=!0;break;case"N":case"F":c[E][_]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+I+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));c[E][_]="##MEMO##"+(g?parseInt(I.trim(),10):S.read_shift(4));break;case"N":I=I.replace(/\u0000/g,"").trim(),I&&I!="."&&(c[E][_]=+I||0);break;case"@":c[E][_]=new Date(S.read_shift(-8,"f")-621356832e5);break;case"T":c[E][_]=new Date((S.read_shift(4)-2440588)*864e5+S.read_shift(4));break;case"Y":c[E][_]=S.read_shift(4,"i")/1e4+S.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[E][_]=-S.read_shift(-8,"f");break;case"B":if(p&&w[_].len==8){c[E][_]=S.read_shift(8,"f");break}case"G":case"P":S.l+=w[_].len;break;case"0":if(w[_].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+w[_].type)}}}if(f!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=w,c}function n(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=fm(r(o,c),c);return u["!cols"]=c.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete c.DBF,u}function a(o,l){try{return Jf(n(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,l){var c=l||{};if(+c.codepage>=0&&ml(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=ME(),f=HE(o,{header:1,raw:!0,cellDates:!0}),h=f[0],p=f.slice(1),g=o["!cols"]||[],m=0,y=0,v=0,b=1;for(m=0;m<h.length;++m){if(((g[m]||{}).DBF||{}).name){h[m]=g[m].DBF.name,++v;continue}if(h[m]!=null){if(++v,typeof h[m]=="number"&&(h[m]=h[m].toString(10)),typeof h[m]!="string")throw new Error("DBF Invalid column name "+h[m]+" |"+typeof h[m]+"|");if(h.indexOf(h[m])!==m){for(y=0;y<1024;++y)if(h.indexOf(h[m]+"_"+y)==-1){h[m]+="_"+y;break}}}}var w=ga(o["!ref"]),D=[],P=[],j=[];for(m=0;m<=w.e.c-w.s.c;++m){var E="",_="",S=0,I=[];for(y=0;y<p.length;++y)p[y][m]!=null&&I.push(p[y][m]);if(I.length==0||h[m]==null){D[m]="?";continue}for(y=0;y<I.length;++y){switch(typeof I[y]){case"number":_="B";break;case"string":_="C";break;case"boolean":_="L";break;case"object":_=I[y]instanceof Date?"D":"C";break;default:_="C"}S=Math.max(S,String(I[y]).length),E=E&&E!=_?"C":_}S>250&&(S=250),_=((g[m]||{}).DBF||{}).type,_=="C"&&g[m].DBF.len>S&&(S=g[m].DBF.len),E=="B"&&_=="N"&&(E="N",j[m]=g[m].DBF.dec,S=g[m].DBF.len),P[m]=E=="C"||_=="N"?S:i[E]||0,b+=P[m],D[m]=E}var T=u.next(32);for(T.write_shift(4,318902576),T.write_shift(4,p.length),T.write_shift(2,296+32*v),T.write_shift(2,b),m=0;m<4;++m)T.write_shift(4,0);for(T.write_shift(4,0|(+t[Gz]||3)<<8),m=0,y=0;m<h.length;++m)if(h[m]!=null){var N=u.next(32),O=(h[m].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);N.write_shift(1,O,"sbcs"),N.write_shift(1,D[m]=="?"?"C":D[m],"sbcs"),N.write_shift(4,y),N.write_shift(1,P[m]||i[D[m]]||0),N.write_shift(1,j[m]||0),N.write_shift(1,2),N.write_shift(4,0),N.write_shift(1,0),N.write_shift(4,0),N.write_shift(4,0),y+=P[m]||i[D[m]]||0}var U=u.next(264);for(U.write_shift(4,13),m=0;m<65;++m)U.write_shift(4,0);for(m=0;m<p.length;++m){var Y=u.next(b);for(Y.write_shift(1,0),y=0;y<h.length;++y)if(h[y]!=null)switch(D[y]){case"L":Y.write_shift(1,p[m][y]==null?63:p[m][y]?84:70);break;case"B":Y.write_shift(8,p[m][y]||0,"f");break;case"N":var K="0";for(typeof p[m][y]=="number"&&(K=p[m][y].toFixed(j[y]||0)),v=0;v<P[y]-K.length;++v)Y.write_shift(1,32);Y.write_shift(1,K,"sbcs");break;case"D":p[m][y]?(Y.write_shift(4,("0000"+p[m][y].getFullYear()).slice(-4),"sbcs"),Y.write_shift(2,("00"+(p[m][y].getMonth()+1)).slice(-2),"sbcs"),Y.write_shift(2,("00"+p[m][y].getDate()).slice(-2),"sbcs")):Y.write_shift(8,"00000000","sbcs");break;case"C":var J=String(p[m][y]!=null?p[m][y]:"").slice(0,P[y]);for(Y.write_shift(1,J,"sbcs"),v=0;v<P[y]-J.length;++v)Y.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:a,to_sheet:n,from_sheet:s}}(),fme=function(){var e={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+sc(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,p){var g=e[p];return typeof g=="number"?WD(g):g},n=function(h,p,g){var m=p.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return m==59?h:WD(m)};e["|"]=254;function a(h,p){switch(p.type){case"base64":return i(so(h),p);case"binary":return i(h,p);case"buffer":return i(Zr&&Buffer.isBuffer(h)?h.toString("binary"):Eh(h),p);case"array":return i(uh(h),p)}throw new Error("Unrecognized type "+p.type)}function i(h,p){var g=h.split(/[\n\r]+/),m=-1,y=-1,v=0,b=0,w=[],D=[],P=null,j={},E=[],_=[],S=[],I=0,T;for(+p.codepage>=0&&ml(+p.codepage);v!==g.length;++v){I=0;var N=g[v].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),O=N.replace(/;;/g,"\0").split(";").map(function(G){return G.replace(/\u0000/g,";")}),U=O[0],Y;if(N.length>0)switch(U){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":O[1].charAt(0)=="P"&&D.push(N.slice(3).replace(/;;/g,";"));break;case"C":var K=!1,J=!1,q=!1,V=!1,ee=-1,Z=-1;for(b=1;b<O.length;++b)switch(O[b].charAt(0)){case"A":break;case"X":y=parseInt(O[b].slice(1))-1,J=!0;break;case"Y":for(m=parseInt(O[b].slice(1))-1,J||(y=0),T=w.length;T<=m;++T)w[T]=[];break;case"K":Y=O[b].slice(1),Y.charAt(0)==='"'?Y=Y.slice(1,Y.length-1):Y==="TRUE"?Y=!0:Y==="FALSE"?Y=!1:isNaN(wl(Y))?isNaN(Sp(Y).getDate())||(Y=si(Y)):(Y=wl(Y),P!==null&&cm(P)&&(Y=D5(Y))),K=!0;break;case"E":V=!0;var k=K0(O[b].slice(1),{r:m,c:y});w[m][y]=[w[m][y],k];break;case"S":q=!0,w[m][y]=[w[m][y],"S5S"];break;case"G":break;case"R":ee=parseInt(O[b].slice(1))-1;break;case"C":Z=parseInt(O[b].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+N)}if(K&&(w[m][y]&&w[m][y].length==2?w[m][y][0]=Y:w[m][y]=Y,P=null),q){if(V)throw new Error("SYLK shared formula cannot have own formula");var R=ee>-1&&w[ee][Z];if(!R||!R[1])throw new Error("SYLK shared formula cannot find base");w[m][y][1]=aW(R[1],{r:m-ee,c:y-Z})}break;case"F":var z=0;for(b=1;b<O.length;++b)switch(O[b].charAt(0)){case"X":y=parseInt(O[b].slice(1))-1,++z;break;case"Y":for(m=parseInt(O[b].slice(1))-1,T=w.length;T<=m;++T)w[T]=[];break;case"M":I=parseInt(O[b].slice(1))/20;break;case"F":break;case"G":break;case"P":P=D[parseInt(O[b].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(S=O[b].slice(1).split(" "),T=parseInt(S[0],10);T<=parseInt(S[1],10);++T)I=parseInt(S[2],10),_[T-1]=I===0?{hidden:!0}:{wch:I},Ap(_[T-1]);break;case"C":y=parseInt(O[b].slice(1))-1,_[y]||(_[y]={});break;case"R":m=parseInt(O[b].slice(1))-1,E[m]||(E[m]={}),I>0?(E[m].hpt=I,E[m].hpx=a1(I)):I===0&&(E[m].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+N)}z<1&&(P=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+N)}}return E.length>0&&(j["!rows"]=E),_.length>0&&(j["!cols"]=_),p&&p.sheetRows&&(w=w.slice(0,p.sheetRows)),[w,j]}function s(h,p){var g=a(h,p),m=g[0],y=g[1],v=fm(m,p);return sc(y).forEach(function(b){v[b]=y[b]}),v}function o(h,p){return Jf(s(h,p),p)}function l(h,p,g,m){var y="C;Y"+(g+1)+";X"+(m+1)+";K";switch(h.t){case"n":y+=h.v||0,h.f&&!h.F&&(y+=";E"+Qge(h.f,{r:g,c:m}));break;case"b":y+=h.v?"TRUE":"FALSE";break;case"e":y+=h.w||h.v;break;case"d":y+='"'+(h.w||h.v)+'"';break;case"s":y+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return y}function c(h,p){p.forEach(function(g,m){var y="F;W"+(m+1)+" "+(m+1)+" ";g.hidden?y+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=Rb(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=Fb(g.wpx)),typeof g.wch=="number"&&(y+=Math.round(g.wch))),y.charAt(y.length-1)!=" "&&h.push(y)})}function u(h,p){p.forEach(function(g,m){var y="F;";g.hidden?y+="M0;":g.hpt?y+="M"+20*g.hpt+";":g.hpx&&(y+="M"+20*tW(g.hpx)+";"),y.length>2&&h.push(y+"R"+(m+1))})}function f(h,p){var g=["ID;PWXL;N;E"],m=[],y=ga(h["!ref"]),v,b=Array.isArray(h),w=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),h["!cols"]&&c(g,h["!cols"]),h["!rows"]&&u(g,h["!rows"]),g.push("B;Y"+(y.e.r-y.s.r+1)+";X"+(y.e.c-y.s.c+1)+";D"+[y.s.c,y.s.r,y.e.c,y.e.r].join(" "));for(var D=y.s.r;D<=y.e.r;++D)for(var P=y.s.c;P<=y.e.c;++P){var j=Dr({r:D,c:P});v=b?(h[D]||[])[P]:h[j],!(!v||v.v==null&&(!v.f||v.F))&&m.push(l(v,h,D,P))}return g.join(w)+w+m.join(w)+w+"E"+w}return{to_workbook:o,to_sheet:s,from_sheet:f}}(),dme=function(){function e(i,s){switch(s.type){case"base64":return t(so(i),s);case"binary":return t(i,s);case"buffer":return t(Zr&&Buffer.isBuffer(i)?i.toString("binary"):Eh(i),s);case"array":return t(uh(i),s)}throw new Error("Unrecognized type "+s.type)}function t(i,s){for(var o=i.split(`
`),l=-1,c=-1,u=0,f=[];u!==o.length;++u){if(o[u].trim()==="BOT"){f[++l]=[],c=0;continue}if(!(l<0)){var h=o[u].trim().split(","),p=h[0],g=h[1];++u;for(var m=o[u]||"";(m.match(/["]/g)||[]).length&1&&u<o.length-1;)m+=`
`+o[++u];switch(m=m.trim(),+p){case-1:if(m==="BOT"){f[++l]=[],c=0;continue}else if(m!=="EOD")throw new Error("Unrecognized DIF special command "+m);break;case 0:m==="TRUE"?f[l][c]=!0:m==="FALSE"?f[l][c]=!1:isNaN(wl(g))?isNaN(Sp(g).getDate())?f[l][c]=g:f[l][c]=si(g):f[l][c]=wl(g),++c;break;case 1:m=m.slice(1,m.length-1),m=m.replace(/""/g,'"'),m&&m.match(/^=".*"$/)&&(m=m.slice(2,-1)),f[l][c++]=m!==""?m:null;break}if(m==="EOD")break}}return s&&s.sheetRows&&(f=f.slice(0,s.sheetRows)),f}function r(i,s){return fm(e(i,s),s)}function n(i,s){return Jf(r(i,s),s)}var a=function(){var i=function(l,c,u,f,h){l.push(c),l.push(u+","+f),l.push('"'+h.replace(/"/g,'""')+'"')},s=function(l,c,u,f){l.push(c+","+u),l.push(c==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var c=[],u=ga(l["!ref"]),f,h=Array.isArray(l);i(c,"TABLE",0,1,"sheetjs"),i(c,"VECTORS",0,u.e.r-u.s.r+1,""),i(c,"TUPLES",0,u.e.c-u.s.c+1,""),i(c,"DATA",0,0,"");for(var p=u.s.r;p<=u.e.r;++p){s(c,-1,0,"BOT");for(var g=u.s.c;g<=u.e.c;++g){var m=Dr({r:p,c:g});if(f=h?(l[p]||[])[g]:l[m],!f){s(c,1,0,"");continue}switch(f.t){case"n":var y=f.w;!y&&f.v!=null&&(y=f.v),y==null?f.f&&!f.F?s(c,1,0,"="+f.f):s(c,1,0,""):s(c,0,y,"V");break;case"b":s(c,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":s(c,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=$o(f.z||Fr[14],ys(si(f.v)))),s(c,0,f.w,"V");break;default:s(c,1,0,"")}}}s(c,-1,0,"EOD");var v=`\r
`,b=c.join(v);return b}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),hme=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var p=f.split(`
`),g=-1,m=-1,y=0,v=[];y!==p.length;++y){var b=p[y].trim().split(":");if(b[0]==="cell"){var w=hs(b[1]);if(v.length<=w.r)for(g=v.length;g<=w.r;++g)v[g]||(v[g]=[]);switch(g=w.r,m=w.c,b[2]){case"t":v[g][m]=e(b[3]);break;case"v":v[g][m]=+b[3];break;case"vtf":var D=b[b.length-1];case"vtc":switch(b[3]){case"nl":v[g][m]=!!+b[4];break;default:v[g][m]=+b[4];break}b[2]=="vtf"&&(v[g][m]=[v[g][m],D])}}}return h&&h.sheetRows&&(v=v.slice(0,h.sheetRows)),v}function n(f,h){return fm(r(f,h),h)}function a(f,h){return Jf(n(f,h),h)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(f){if(!f||!f["!ref"])return"";for(var h=[],p=[],g,m="",y=um(f["!ref"]),v=Array.isArray(f),b=y.s.r;b<=y.e.r;++b)for(var w=y.s.c;w<=y.e.c;++w)if(m=Dr({r:b,c:w}),g=v?(f[b]||[])[w]:f[m],!(!g||g.v==null||g.t==="z")){switch(p=["cell",m,"t"],g.t){case"s":case"str":p.push(t(g.v));break;case"n":g.f?(p[2]="vtf",p[3]="n",p[4]=g.v,p[5]=t(g.f)):(p[2]="v",p[3]=g.v);break;case"b":p[2]="vt"+(g.f?"f":"c"),p[3]="nl",p[4]=g.v?"1":"0",p[5]=t(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var D=ys(si(g.v));p[2]="vtc",p[3]="nd",p[4]=""+D,p[5]=g.w||$o(g.z||Fr[14],D);break;case"e":continue}h.push(p.join(":"))}return h.push("sheet:c:"+(y.e.c-y.s.c+1)+":r:"+(y.e.r-y.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function u(f){return[i,s,o,s,c(f),l].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:u}}(),r1=function(){function e(u,f,h,p,g){g.raw?f[h][p]=u:u===""||(u==="TRUE"?f[h][p]=!0:u==="FALSE"?f[h][p]=!1:isNaN(wl(u))?isNaN(Sp(u).getDate())?f[h][p]=u:f[h][p]=si(u):f[h][p]=wl(u))}function t(u,f){var h=f||{},p=[];if(!u||u.length===0)return p;for(var g=u.split(/[\r\n]/),m=g.length-1;m>=0&&g[m].length===0;)--m;for(var y=10,v=0,b=0;b<=m;++b)v=g[b].indexOf(" "),v==-1?v=g[b].length:v++,y=Math.max(y,v);for(b=0;b<=m;++b){p[b]=[];var w=0;for(e(g[b].slice(0,y).trim(),p,b,w,h),w=1;w<=(g[b].length-y)/10+1;++w)e(g[b].slice(y+(w-1)*10,y+w*10).trim(),p,b,w,h)}return h.sheetRows&&(p=p.slice(0,h.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(u){for(var f={},h=!1,p=0,g=0;p<u.length;++p)(g=u.charCodeAt(p))==34?h=!h:!h&&g in r&&(f[g]=(f[g]||0)+1);g=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&g.push([f[p],p]);if(!g.length){f=n;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&g.push([f[p],p])}return g.sort(function(m,y){return m[0]-y[0]||n[m[1]]-n[y[1]]}),r[g.pop()[1]]||44}function i(u,f){var h=f||{},p="",g=h.dense?[]:{},m={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(p=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(p=u.charAt(4),u=u.slice(6)):p=a(u.slice(0,1024)):h&&h.FS?p=h.FS:p=a(u.slice(0,1024));var y=0,v=0,b=0,w=0,D=0,P=p.charCodeAt(0),j=!1,E=0,_=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var S=h.dateNF!=null?Ahe(h.dateNF):null;function I(){var T=u.slice(w,D),N={};if(T.charAt(0)=='"'&&T.charAt(T.length-1)=='"'&&(T=T.slice(1,-1).replace(/""/g,'"')),T.length===0)N.t="z";else if(h.raw)N.t="s",N.v=T;else if(T.trim().length===0)N.t="s",N.v=T;else if(T.charCodeAt(0)==61)T.charCodeAt(1)==34&&T.charCodeAt(T.length-1)==34?(N.t="s",N.v=T.slice(2,-1).replace(/""/g,'"')):Zge(T)?(N.t="n",N.f=T.slice(1)):(N.t="s",N.v=T);else if(T=="TRUE")N.t="b",N.v=!0;else if(T=="FALSE")N.t="b",N.v=!1;else if(!isNaN(b=wl(T)))N.t="n",h.cellText!==!1&&(N.w=T),N.v=b;else if(!isNaN(Sp(T).getDate())||S&&T.match(S)){N.z=h.dateNF||Fr[14];var O=0;S&&T.match(S)&&(T=Ehe(T,h.dateNF,T.match(S)||[]),O=1),h.cellDates?(N.t="d",N.v=si(T,O)):(N.t="n",N.v=ys(si(T,O))),h.cellText!==!1&&(N.w=$o(N.z,N.v instanceof Date?ys(N.v):N.v)),h.cellNF||delete N.z}else N.t="s",N.v=T;if(N.t=="z"||(h.dense?(g[y]||(g[y]=[]),g[y][v]=N):g[Dr({c:v,r:y})]=N),w=D+1,_=u.charCodeAt(w),m.e.c<v&&(m.e.c=v),m.e.r<y&&(m.e.r=y),E==P)++v;else if(v=0,++y,h.sheetRows&&h.sheetRows<=y)return!0}e:for(;D<u.length;++D)switch(E=u.charCodeAt(D)){case 34:_===34&&(j=!j);break;case P:case 10:case 13:if(!j&&I())break e;break}return D-w>0&&I(),g["!ref"]=on(m),g}function s(u,f){return!(f&&f.PRN)||f.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?i(u,f):fm(t(u,f),f)}function o(u,f){var h="",p=f.type=="string"?[0,0,0,0]:CC(u,f);switch(f.type){case"base64":h=so(u);break;case"binary":h=u;break;case"buffer":f.codepage==65001?h=u.toString("utf8"):f.codepage&&typeof ef<"u"?h=ef.utils.decode(f.codepage,u):h=Zr&&Buffer.isBuffer(u)?u.toString("binary"):Eh(u);break;case"array":h=uh(u);break;case"string":h=u;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?h=Un(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=Un(h):f.type=="binary"&&typeof ef<"u"&&f.codepage&&(h=ef.utils.decode(f.codepage,ef.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?hme.to_sheet(f.type=="string"?h:Un(h),f):s(h,f)}function l(u,f){return Jf(o(u,f),f)}function c(u){for(var f=[],h=ga(u["!ref"]),p,g=Array.isArray(u),m=h.s.r;m<=h.e.r;++m){for(var y=[],v=h.s.c;v<=h.e.c;++v){var b=Dr({r:m,c:v});if(p=g?(u[m]||[])[v]:u[b],!p||p.v==null){y.push("          ");continue}for(var w=(p.w||(tu(p),p.w)||"").slice(0,10);w.length<10;)w+=" ";y.push(w+(v===0?" ":""))}f.push(y.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}}();function pme(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=fme.to_workbook(e,r);return r.WTF=n,a}catch(i){if(r.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return r1.to_workbook(e,t)}}var Zg=function(){function e(k,R,z){if(k){vi(k,k.l||0);for(var G=z.Enum||ee;k.l<k.length;){var Q=k.read_shift(2),oe=G[Q]||G[65535],ce=k.read_shift(2),ne=k.l+ce,he=oe.f&&oe.f(k,ce,z);if(k.l=ne,R(he,oe,Q))return}}}function t(k,R){switch(R.type){case"base64":return r(hl(so(k)),R);case"binary":return r(hl(k),R);case"buffer":case"array":return r(k,R)}throw"Unsupported type "+R.type}function r(k,R){if(!k)return k;var z=R||{},G=z.dense?[]:{},Q="Sheet1",oe="",ce=0,ne={},he=[],ye=[],W={s:{r:0,c:0},e:{r:0,c:0}},Ce=z.sheetRows||0;if(k[2]==0&&(k[3]==8||k[3]==9)&&k.length>=16&&k[14]==5&&k[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(k[2]==2)z.Enum=ee,e(k,function(Fe,Ye,Se){switch(Se){case 0:z.vers=Fe,Fe>=4096&&(z.qpro=!0);break;case 6:W=Fe;break;case 204:Fe&&(oe=Fe);break;case 222:oe=Fe;break;case 15:case 51:z.qpro||(Fe[1].v=Fe[1].v.slice(1));case 13:case 14:case 16:Se==14&&(Fe[2]&112)==112&&(Fe[2]&15)>1&&(Fe[2]&15)<15&&(Fe[1].z=z.dateNF||Fr[14],z.cellDates&&(Fe[1].t="d",Fe[1].v=D5(Fe[1].v))),z.qpro&&Fe[3]>ce&&(G["!ref"]=on(W),ne[Q]=G,he.push(Q),G=z.dense?[]:{},W={s:{r:0,c:0},e:{r:0,c:0}},ce=Fe[3],Q=oe||"Sheet"+(ce+1),oe="");var $e=z.dense?(G[Fe[0].r]||[])[Fe[0].c]:G[Dr(Fe[0])];if($e){$e.t=Fe[1].t,$e.v=Fe[1].v,Fe[1].z!=null&&($e.z=Fe[1].z),Fe[1].f!=null&&($e.f=Fe[1].f);break}z.dense?(G[Fe[0].r]||(G[Fe[0].r]=[]),G[Fe[0].r][Fe[0].c]=Fe[1]):G[Dr(Fe[0])]=Fe[1];break}},z);else if(k[2]==26||k[2]==14)z.Enum=Z,k[2]==14&&(z.qpro=!0,k.l=0),e(k,function(Fe,Ye,Se){switch(Se){case 204:Q=Fe;break;case 22:Fe[1].v=Fe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Fe[3]>ce&&(G["!ref"]=on(W),ne[Q]=G,he.push(Q),G=z.dense?[]:{},W={s:{r:0,c:0},e:{r:0,c:0}},ce=Fe[3],Q="Sheet"+(ce+1)),Ce>0&&Fe[0].r>=Ce)break;z.dense?(G[Fe[0].r]||(G[Fe[0].r]=[]),G[Fe[0].r][Fe[0].c]=Fe[1]):G[Dr(Fe[0])]=Fe[1],W.e.c<Fe[0].c&&(W.e.c=Fe[0].c),W.e.r<Fe[0].r&&(W.e.r=Fe[0].r);break;case 27:Fe[14e3]&&(ye[Fe[14e3][0]]=Fe[14e3][1]);break;case 1537:ye[Fe[0]]=Fe[1],Fe[0]==ce&&(Q=Fe[1]);break}},z);else throw new Error("Unrecognized LOTUS BOF "+k[2]);if(G["!ref"]=on(W),ne[oe||Q]=G,he.push(oe||Q),!ye.length)return{SheetNames:he,Sheets:ne};for(var ke={},Ee=[],ie=0;ie<ye.length;++ie)ne[he[ie]]?(Ee.push(ye[ie]||he[ie]),ke[ye[ie]]=ne[ye[ie]]||ne[he[ie]]):(Ee.push(ye[ie]),ke[ye[ie]]={"!ref":"A1"});return{SheetNames:Ee,Sheets:ke}}function n(k,R){var z=R||{};if(+z.codepage>=0&&ml(+z.codepage),z.type=="string")throw new Error("Cannot write WK1 to JS string");var G=ME(),Q=ga(k["!ref"]),oe=Array.isArray(k),ce=[];tl(G,0,i(1030)),tl(G,6,l(Q));for(var ne=Math.min(Q.e.r,8191),he=Q.s.r;he<=ne;++he)for(var ye=Ei(he),W=Q.s.c;W<=Q.e.c;++W){he===Q.s.r&&(ce[W]=za(W));var Ce=ce[W]+ye,ke=oe?(k[he]||[])[W]:k[Ce];if(!(!ke||ke.t=="z"))if(ke.t=="n")(ke.v|0)==ke.v&&ke.v>=-32768&&ke.v<=32767?tl(G,13,p(he,W,ke.v)):tl(G,14,m(he,W,ke.v));else{var Ee=tu(ke);tl(G,15,f(he,W,Ee.slice(0,239)))}}return tl(G,1),G.end()}function a(k,R){var z=R||{};if(+z.codepage>=0&&ml(+z.codepage),z.type=="string")throw new Error("Cannot write WK3 to JS string");var G=ME();tl(G,0,s(k));for(var Q=0,oe=0;Q<k.SheetNames.length;++Q)(k.Sheets[k.SheetNames[Q]]||{})["!ref"]&&tl(G,27,V(k.SheetNames[Q],oe++));var ce=0;for(Q=0;Q<k.SheetNames.length;++Q){var ne=k.Sheets[k.SheetNames[Q]];if(!(!ne||!ne["!ref"])){for(var he=ga(ne["!ref"]),ye=Array.isArray(ne),W=[],Ce=Math.min(he.e.r,8191),ke=he.s.r;ke<=Ce;++ke)for(var Ee=Ei(ke),ie=he.s.c;ie<=he.e.c;++ie){ke===he.s.r&&(W[ie]=za(ie));var Fe=W[ie]+Ee,Ye=ye?(ne[ke]||[])[ie]:ne[Fe];if(!(!Ye||Ye.t=="z"))if(Ye.t=="n")tl(G,23,I(ke,ie,ce,Ye.v));else{var Se=tu(Ye);tl(G,22,E(ke,ie,ce,Se.slice(0,239)))}}++ce}}return tl(G,1),G.end()}function i(k){var R=Ba(2);return R.write_shift(2,k),R}function s(k){var R=Ba(26);R.write_shift(2,4096),R.write_shift(2,4),R.write_shift(4,0);for(var z=0,G=0,Q=0,oe=0;oe<k.SheetNames.length;++oe){var ce=k.SheetNames[oe],ne=k.Sheets[ce];if(!(!ne||!ne["!ref"])){++Q;var he=um(ne["!ref"]);z<he.e.r&&(z=he.e.r),G<he.e.c&&(G=he.e.c)}}return z>8191&&(z=8191),R.write_shift(2,z),R.write_shift(1,Q),R.write_shift(1,G),R.write_shift(2,0),R.write_shift(2,0),R.write_shift(1,1),R.write_shift(1,2),R.write_shift(4,0),R.write_shift(4,0),R}function o(k,R,z){var G={s:{c:0,r:0},e:{c:0,r:0}};return R==8&&z.qpro?(G.s.c=k.read_shift(1),k.l++,G.s.r=k.read_shift(2),G.e.c=k.read_shift(1),k.l++,G.e.r=k.read_shift(2),G):(G.s.c=k.read_shift(2),G.s.r=k.read_shift(2),R==12&&z.qpro&&(k.l+=2),G.e.c=k.read_shift(2),G.e.r=k.read_shift(2),R==12&&z.qpro&&(k.l+=2),G.s.c==65535&&(G.s.c=G.e.c=G.s.r=G.e.r=0),G)}function l(k){var R=Ba(8);return R.write_shift(2,k.s.c),R.write_shift(2,k.s.r),R.write_shift(2,k.e.c),R.write_shift(2,k.e.r),R}function c(k,R,z){var G=[{c:0,r:0},{t:"n",v:0},0,0];return z.qpro&&z.vers!=20768?(G[0].c=k.read_shift(1),G[3]=k.read_shift(1),G[0].r=k.read_shift(2),k.l+=2):(G[2]=k.read_shift(1),G[0].c=k.read_shift(2),G[0].r=k.read_shift(2)),G}function u(k,R,z){var G=k.l+R,Q=c(k,R,z);if(Q[1].t="s",z.vers==20768){k.l++;var oe=k.read_shift(1);return Q[1].v=k.read_shift(oe,"utf8"),Q}return z.qpro&&k.l++,Q[1].v=k.read_shift(G-k.l,"cstr"),Q}function f(k,R,z){var G=Ba(7+z.length);G.write_shift(1,255),G.write_shift(2,R),G.write_shift(2,k),G.write_shift(1,39);for(var Q=0;Q<G.length;++Q){var oe=z.charCodeAt(Q);G.write_shift(1,oe>=128?95:oe)}return G.write_shift(1,0),G}function h(k,R,z){var G=c(k,R,z);return G[1].v=k.read_shift(2,"i"),G}function p(k,R,z){var G=Ba(7);return G.write_shift(1,255),G.write_shift(2,R),G.write_shift(2,k),G.write_shift(2,z,"i"),G}function g(k,R,z){var G=c(k,R,z);return G[1].v=k.read_shift(8,"f"),G}function m(k,R,z){var G=Ba(13);return G.write_shift(1,255),G.write_shift(2,R),G.write_shift(2,k),G.write_shift(8,z,"f"),G}function y(k,R,z){var G=k.l+R,Q=c(k,R,z);if(Q[1].v=k.read_shift(8,"f"),z.qpro)k.l=G;else{var oe=k.read_shift(2);D(k.slice(k.l,k.l+oe),Q),k.l+=oe}return Q}function v(k,R,z){var G=R&32768;return R&=-32769,R=(G?k:0)+(R>=8192?R-16384:R),(G?"":"$")+(z?za(R):Ei(R))}var b={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function D(k,R){vi(k,0);for(var z=[],G=0,Q="",oe="",ce="",ne="";k.l<k.length;){var he=k[k.l++];switch(he){case 0:z.push(k.read_shift(8,"f"));break;case 1:oe=v(R[0].c,k.read_shift(2),!0),Q=v(R[0].r,k.read_shift(2),!1),z.push(oe+Q);break;case 2:{var ye=v(R[0].c,k.read_shift(2),!0),W=v(R[0].r,k.read_shift(2),!1);oe=v(R[0].c,k.read_shift(2),!0),Q=v(R[0].r,k.read_shift(2),!1),z.push(ye+W+":"+oe+Q)}break;case 3:if(k.l<k.length){console.error("WK1 premature formula end");return}break;case 4:z.push("("+z.pop()+")");break;case 5:z.push(k.read_shift(2));break;case 6:{for(var Ce="";he=k[k.l++];)Ce+=String.fromCharCode(he);z.push('"'+Ce.replace(/"/g,'""')+'"')}break;case 8:z.push("-"+z.pop());break;case 23:z.push("+"+z.pop());break;case 22:z.push("NOT("+z.pop()+")");break;case 20:case 21:ne=z.pop(),ce=z.pop(),z.push(["AND","OR"][he-20]+"("+ce+","+ne+")");break;default:if(he<32&&w[he])ne=z.pop(),ce=z.pop(),z.push(ce+w[he]+ne);else if(b[he]){if(G=b[he][1],G==69&&(G=k[k.l++]),G>z.length){console.error("WK1 bad formula parse 0x"+he.toString(16)+":|"+z.join("|")+"|");return}var ke=z.slice(-G);z.length-=G,z.push(b[he][0]+"("+ke.join(",")+")")}else return he<=7?console.error("WK1 invalid opcode "+he.toString(16)):he<=24?console.error("WK1 unsupported op "+he.toString(16)):he<=30?console.error("WK1 invalid opcode "+he.toString(16)):he<=115?console.error("WK1 unsupported function opcode "+he.toString(16)):console.error("WK1 unrecognized opcode "+he.toString(16))}}z.length==1?R[1].f=""+z[0]:console.error("WK1 bad formula parse |"+z.join("|")+"|")}function P(k){var R=[{c:0,r:0},{t:"n",v:0},0];return R[0].r=k.read_shift(2),R[3]=k[k.l++],R[0].c=k[k.l++],R}function j(k,R){var z=P(k);return z[1].t="s",z[1].v=k.read_shift(R-4,"cstr"),z}function E(k,R,z,G){var Q=Ba(6+G.length);Q.write_shift(2,k),Q.write_shift(1,z),Q.write_shift(1,R),Q.write_shift(1,39);for(var oe=0;oe<G.length;++oe){var ce=G.charCodeAt(oe);Q.write_shift(1,ce>=128?95:ce)}return Q.write_shift(1,0),Q}function _(k,R){var z=P(k);z[1].v=k.read_shift(2);var G=z[1].v>>1;if(z[1].v&1)switch(G&7){case 0:G=(G>>3)*5e3;break;case 1:G=(G>>3)*500;break;case 2:G=(G>>3)/20;break;case 3:G=(G>>3)/200;break;case 4:G=(G>>3)/2e3;break;case 5:G=(G>>3)/2e4;break;case 6:G=(G>>3)/16;break;case 7:G=(G>>3)/64;break}return z[1].v=G,z}function S(k,R){var z=P(k),G=k.read_shift(4),Q=k.read_shift(4),oe=k.read_shift(2);if(oe==65535)return G===0&&Q===3221225472?(z[1].t="e",z[1].v=15):G===0&&Q===3489660928?(z[1].t="e",z[1].v=42):z[1].v=0,z;var ce=oe&32768;return oe=(oe&32767)-16446,z[1].v=(1-ce*2)*(Q*Math.pow(2,oe+32)+G*Math.pow(2,oe)),z}function I(k,R,z,G){var Q=Ba(14);if(Q.write_shift(2,k),Q.write_shift(1,z),Q.write_shift(1,R),G==0)return Q.write_shift(4,0),Q.write_shift(4,0),Q.write_shift(2,65535),Q;var oe=0,ce=0,ne=0,he=0;return G<0&&(oe=1,G=-G),ce=Math.log2(G)|0,G/=Math.pow(2,ce-31),he=G>>>0,he&2147483648||(G/=2,++ce,he=G>>>0),G-=he,he|=2147483648,he>>>=0,G*=Math.pow(2,32),ne=G>>>0,Q.write_shift(4,ne),Q.write_shift(4,he),ce+=16383+(oe?32768:0),Q.write_shift(2,ce),Q}function T(k,R){var z=S(k);return k.l+=R-14,z}function N(k,R){var z=P(k),G=k.read_shift(4);return z[1].v=G>>6,z}function O(k,R){var z=P(k),G=k.read_shift(8,"f");return z[1].v=G,z}function U(k,R){var z=O(k);return k.l+=R-10,z}function Y(k,R){return k[k.l+R-1]==0?k.read_shift(R,"cstr"):""}function K(k,R){var z=k[k.l++];z>R-1&&(z=R-1);for(var G="";G.length<z;)G+=String.fromCharCode(k[k.l++]);return G}function J(k,R,z){if(!(!z.qpro||R<21)){var G=k.read_shift(1);k.l+=17,k.l+=1,k.l+=2;var Q=k.read_shift(R-21,"cstr");return[G,Q]}}function q(k,R){for(var z={},G=k.l+R;k.l<G;){var Q=k.read_shift(2);if(Q==14e3){for(z[Q]=[0,""],z[Q][0]=k.read_shift(2);k[k.l];)z[Q][1]+=String.fromCharCode(k[k.l]),k.l++;k.l++}}return z}function V(k,R){var z=Ba(5+k.length);z.write_shift(2,14e3),z.write_shift(2,R);for(var G=0;G<k.length;++G){var Q=k.charCodeAt(G);z[z.l++]=Q>127?95:Q}return z[z.l++]=0,z}var ee={0:{n:"BOF",f:Oa},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:g},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:y},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Y},222:{n:"SHEETNAMELP",f:K},65535:{n:""}},Z={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:j},23:{n:"NUMBER17",f:S},24:{n:"NUMBER18",f:_},25:{n:"FORMULA19",f:T},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:q},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:N},38:{n:"??"},39:{n:"NUMBER27",f:O},40:{n:"FORMULA28",f:U},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Y},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:J},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function mme(e){var t={},r=e.match(ts),n=0,a=!1;if(r)for(;n!=r.length;++n){var i=Tr(r[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=iC[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return t}var gme=function(){var e=e1("t"),t=e1("rPr");function r(i){var s=i.match(e);if(!s)return{t:"s",v:""};var o={t:"s",v:dn(s[1])},l=i.match(t);return l&&(o.s=mme(l[1])),o}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(s){return s.replace(n,"").split(a).map(r).filter(function(o){return o.v})}}(),vme=function(){var t=/(\r\n|\n)/g;function r(a,i,s){var o=[];a.u&&o.push("text-decoration: underline;"),a.uval&&o.push("text-underline-style:"+a.uval+";"),a.sz&&o.push("font-size:"+a.sz+"pt;"),a.outline&&o.push("text-effect: outline;"),a.shadow&&o.push("text-shadow: auto;"),i.push('<span style="'+o.join("")+'">'),a.b&&(i.push("<b>"),s.push("</b>")),a.i&&(i.push("<i>"),s.push("</i>")),a.strike&&(i.push("<s>"),s.push("</s>"));var l=a.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(i.push("<"+l+">"),s.push("</"+l+">")),s.push("</span>"),a}function n(a){var i=[[],a.v,[]];return a.v?(a.s&&r(a.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}}(),yme=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,xme=/<(?:\w+:)?r>/,bme=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function _C(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=dn(Un(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Un(e),r&&(n.h=dC(n.t))):e.match(xme)&&(n.r=Un(e),n.t=dn(Un((e.replace(bme,"").match(yme)||[]).join("").replace(ts,""))),r&&(n.h=vme(gme(n.r)))),n):{t:""}}var wme=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,_me=/<(?:\w+:)?(?:si|sstItem)>/g,Sme=/<\/(?:\w+:)?(?:si|sstItem)>/;function Ame(e,t){var r=[],n="";if(!e)return r;var a=e.match(wme);if(a){n=a[2].replace(_me,"").split(Sme);for(var i=0;i!=n.length;++i){var s=_C(n[i].trim(),t);s!=null&&(r[r.length]=s)}a=Tr(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}function Eme(e){return[e.read_shift(4),e.read_shift(4)]}function Tme(e,t){var r=[],n=!1;return fu(e,function(i,s,o){switch(o){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(s.T,!n||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function Yq(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function Fc(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function Nme(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=Fc(e,4),t.U=Fc(e,4),t.W=Fc(e,4),t}function kme(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),i=[];a-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function Cme(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(kme(e));return t}function Pme(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function Ome(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Fc(e,4),t.U=Fc(e,4),t.W=Fc(e,4),t}function Ime(e){var t=Ome(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function Xq(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function Qq(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function jme(e){var t=Fc(e);switch(t.Minor){case 2:return[t.Minor,Dme(e)];case 3:return[t.Minor,Lme()];case 4:return[t.Minor,Mme(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function Dme(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=Xq(e,r),a=Qq(e,e.length-e.l);return{t:"Std",h:n,v:a}}function Lme(){throw new Error("File is password-protected: ECMA-376 Extensible")}function Mme(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(ts,function(i){var s=Tr(i);switch(lc(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){n[o]=s[o]});break;case"<dataIntegrity":n.encryptedHmacKey=s.encryptedHmacKey,n.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(s);break;default:throw s[0]}}),n}function Rme(e,t){var r={},n=r.EncryptionVersionInfo=Fc(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=Xq(e,a),t-=a,r.EncryptionVerifier=Qq(e,t),r}function Fme(e){var t={},r=t.EncryptionVersionInfo=Fc(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function $me(e){var t=0,r,n=Yq(e),a=n.length+1,i,s,o,l,c;for(r=Vf(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)s=r[i],o=t&16384?1:0,l=t<<1&32767,c=o|l,t=c^s;return t^52811}var Jq=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(s){return(s/2|s*128)&255},a=function(s,o){return n(s^o)},i=function(s){for(var o=t[s.length-1],l=104,c=s.length-1;c>=0;--c)for(var u=s[c],f=0;f!=7;++f)u&64&&(o^=r[l]),u*=2,--l;return o};return function(s){for(var o=Yq(s),l=i(o),c=o.length,u=Vf(16),f=0;f!=16;++f)u[f]=0;var h,p,g;for((c&1)===1&&(h=l>>8,u[c]=a(e[0],h),--c,h=l&255,p=o[o.length-1],u[c]=a(p,h));c>0;)--c,h=l>>8,u[c]=a(o[c],h),--c,h=l&255,u[c]=a(o[c],h);for(c=15,g=15-o.length;g>0;)h=l>>8,u[c]=a(e[g],h),--c,--g,h=l&255,u[c]=a(o[c],h),--c,--g;return u}}(),Bme=function(e,t,r,n,a){a||(a=t),n||(n=Jq(e));var i,s;for(i=0;i!=t.length;++i)s=t[i],s^=n[r],s=(s>>5|s<<3)&255,a[i]=s,++r;return[a,r,n]},Ume=function(e){var t=0,r=Jq(e);return function(n){var a=Bme("",n,t,r);return t=a[1],a[0]}};function Vme(e,t,r,n){var a={key:Oa(e),verificationBytes:Oa(e)};return r.password&&(a.verifier=$me(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=Ume(r.password)),a}function zme(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=Fme(e):n.Data=Rme(e,t),n}function qme(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?zme(e,t-2,n):Vme(e,r.biff>=8?t:t-2,r,n),n}var Wme=function(){function e(a,i){switch(i.type){case"base64":return t(so(a),i);case"binary":return t(a,i);case"buffer":return t(Zr&&Buffer.isBuffer(a)?a.toString("binary"):Eh(a),i);case"array":return t(uh(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var s=i||{},o=s.dense?[]:{},l=a.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(u,f){Array.isArray(o)&&(o[f]=[]);for(var h=/\\\w+\b/g,p=0,g,m=-1;g=h.exec(u);){switch(g[0]){case"\\cell":var y=u.slice(p,h.lastIndex-g[0].length);if(y[0]==" "&&(y=y.slice(1)),++m,y.length){var v={v:y,t:"s"};Array.isArray(o)?o[f][m]=v:o[Dr({r:f,c:m})]=v}break}p=h.lastIndex}m>c.e.c&&(c.e.c=m)}),o["!ref"]=on(c),o}function r(a,i){return Jf(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],s=ga(a["!ref"]),o,l=Array.isArray(a),c=s.s.r;c<=s.e.r;++c){i.push("\\trowd\\trautofit1");for(var u=s.s.c;u<=s.e.c;++u)i.push("\\cellx"+(u+1));for(i.push("\\pard\\intbl"),u=s.s.c;u<=s.e.c;++u){var f=Dr({r:c,c:u});o=l?(a[c]||[])[u]:a[f],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(tu(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function Hme(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function n1(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function Gme(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),i=Math.min(t,r,n),s=a-i;if(s===0)return[0,0,t];var o=0,l=0,c=a+i;switch(l=s/(c>1?2-c:c),a){case t:o=((r-n)/s+6)%6;break;case r:o=(n-t)/s+2;break;case n:o=(t-r)/s+4;break}return[o/6,l,c/2]}function Kme(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),i=n-a/2,s=[i,i,i],o=6*t,l;if(r!==0)switch(o|0){case 0:case 6:l=a*o,s[0]+=a,s[1]+=l;break;case 1:l=a*(2-o),s[0]+=l,s[1]+=a;break;case 2:l=a*(o-2),s[1]+=a,s[2]+=l;break;case 3:l=a*(4-o),s[1]+=l,s[2]+=a;break;case 4:l=a*(o-4),s[2]+=a,s[0]+=l;break;case 5:l=a*(6-o),s[2]+=l,s[0]+=a;break}for(var c=0;c!=3;++c)s[c]=Math.round(s[c]*255);return s}function Mb(e,t){if(t===0)return e;var r=Gme(Hme(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),n1(Kme(r))}var Zq=6,Yme=15,Xme=1,us=Zq;function Rb(e){return Math.floor((e+Math.round(128/us)/256)*us)}function Fb(e){return Math.floor((e-5)/us*100+.5)/100}function BE(e){return Math.round((e*us+5)/us*256)/256}function JS(e){return BE(Fb(Rb(e)))}function SC(e){var t=Math.abs(e-JS(e)),r=us;if(t>.005)for(us=Xme;us<Yme;++us)Math.abs(e-JS(e))<=t&&(t=Math.abs(e-JS(e)),r=us);us=r}function Ap(e){e.width?(e.wpx=Rb(e.width),e.wch=Fb(e.wpx),e.MDW=us):e.wpx?(e.wch=Fb(e.wpx),e.width=BE(e.wch),e.MDW=us):typeof e.wch=="number"&&(e.width=BE(e.wch),e.wpx=Rb(e.width),e.MDW=us),e.customWidth&&delete e.customWidth}var Qme=96,eW=Qme;function tW(e){return e*96/eW}function a1(e){return e*eW/96}var Jme={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function Zme(e,t,r,n){t.Borders=[];var a={},i=!1;(e[0].match(ts)||[]).forEach(function(s){var o=Tr(s);switch(lc(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},o.diagonalUp&&(a.diagonalUp=Yn(o.diagonalUp)),o.diagonalDown&&(a.diagonalDown=Yn(o.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in borders")}})}function ege(e,t,r,n){t.Fills=[];var a={},i=!1;(e[0].match(ts)||[]).forEach(function(s){var o=Tr(s);switch(lc(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":o.patternType&&(a.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),o.indexed&&(a.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(a.bgColor.theme=parseInt(o.theme,10)),o.tint&&(a.bgColor.tint=parseFloat(o.tint)),o.rgb&&(a.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),o.theme&&(a.fgColor.theme=parseInt(o.theme,10)),o.tint&&(a.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(a.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fills")}})}function tge(e,t,r,n){t.Fonts=[];var a={},i=!1;(e[0].match(ts)||[]).forEach(function(s){var o=Tr(s);switch(lc(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":o.val&&(a.name=Un(o.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=o.val?Yn(o.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=o.val?Yn(o.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(o.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=o.val?Yn(o.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=o.val?Yn(o.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=o.val?Yn(o.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=o.val?Yn(o.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=o.val?Yn(o.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":o.val&&(a.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(a.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(a.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(a.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=iC[parseInt(o.val,10)];break;case"<color":if(a.color||(a.color={}),o.auto&&(a.color.auto=Yn(o.auto)),o.rgb)a.color.rgb=o.rgb.slice(-6);else if(o.indexed){a.color.index=parseInt(o.indexed,10);var l=Kd[a.color.index];a.color.index==81&&(l=Kd[1]),l||(l=Kd[1]),a.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(a.color.theme=parseInt(o.theme,10),o.tint&&(a.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=Mb(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fonts")}})}function rge(e,t,r){t.NumberFmt=[];for(var n=sc(Fr),a=0;a<n.length;++a)t.NumberFmt[n[a]]=Fr[n[a]];var i=e[0].match(ts);if(i)for(a=0;a<i.length;++a){var s=Tr(i[a]);switch(lc(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=dn(Un(s.formatCode)),l=parseInt(s.numFmtId,10);if(t.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&t.NumberFmt[l]!=null;--l);t.NumberFmt[l]=o}Gd(o,l)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}var Ix=["numFmtId","fillId","fontId","borderId","xfId"],jx=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function nge(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(ts)||[]).forEach(function(i){var s=Tr(i),o=0;switch(lc(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=s,delete n[0],o=0;o<Ix.length;++o)n[Ix[o]]&&(n[Ix[o]]=parseInt(n[Ix[o]],10));for(o=0;o<jx.length;++o)n[jx[o]]&&(n[jx[o]]=Yn(n[jx[o]]));if(t.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[o]){n.numFmtId=o;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};s.vertical&&(l.vertical=s.vertical),s.horizontal&&(l.horizontal=s.horizontal),s.textRotation!=null&&(l.textRotation=s.textRotation),s.indent&&(l.indent=s.indent),s.wrapText&&(l.wrapText=Yn(s.wrapText)),n.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}var age=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,c){var u={};if(!o)return u;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=o.match(t))&&rge(f,u,c),(f=o.match(a))&&tge(f,u,l,c),(f=o.match(n))&&ege(f,u,l,c),(f=o.match(i))&&Zme(f,u,l,c),(f=o.match(r))&&nge(f,u,c),u}}();function ige(e,t){var r=e.read_shift(2),n=Qi(e);return[r,n]}function sge(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=g0e(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=e.read_shift(1);s!=0&&(n.underline=s);var o=e.read_shift(1);o>0&&(n.family=o);var l=e.read_shift(1);switch(l>0&&(n.charset=l),e.l++,n.color=m0e(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Qi(e),n}var oge=es;function lge(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}var cge=es;function uge(e,t,r){var n={};n.NumberFmt=[];for(var a in Fr)n.NumberFmt[a]=Fr[a];n.CellXf=[],n.Fonts=[];var i=[],s=!1;return fu(e,function(l,c,u){switch(u){case 44:n.NumberFmt[l[0]]=l[1],Gd(l[1],l[0]);break;case 43:n.Fonts.push(l),l.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(l.color.rgb=Mb(t.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:i.push(u),s=!0;break;case 38:i.pop(),s=!1;break;default:if(c.T>0)i.push(u);else if(c.T<0)i.pop();else if(!s||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),n}var fge=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function dge(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(ts)||[]).forEach(function(a){var i=Tr(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[fge.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function hge(){}function pge(){}var mge=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,gge=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,vge=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function yge(e,t,r){t.themeElements={};var n;[["clrScheme",mge,dge],["fontScheme",gge,hge],["fmtScheme",vge,pge]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var xge=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function rW(e,t){(!e||e.length===0)&&(e=bge());var r,n={};if(!(r=e.match(xge)))throw new Error("themeElements not found in theme");return yge(r[0],n,t),n.raw=e,n}function bge(e,t){var r=[hq];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function wge(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var i=e.slice(e.l);e.l=n;var s;try{s=dq(i,{type:"array"})}catch{return}var o=Zs(s,"theme/theme/theme1.xml",!0);if(o)return rW(o,r)}}function _ge(e){return e.read_shift(4)}function Sge(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=Age(e,4);break;case 2:t.xclrValue=Vq(e);break;case 3:t.xclrValue=_ge(e);break;case 4:e.l+=4;break}return e.l+=8,t}function Age(e,t){return es(e,t)}function Ege(e,t){return es(e,t)}function Tge(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=Sge(e);break;case 6:n[1]=Ege(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function Nge(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),i=[];a-- >0;)i.push(Tge(e,r-e.l));return{ixfe:n,ext:i}}function kge(e,t){t.forEach(function(r){switch(r[0]){}})}function Cge(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Qi(e)}}function Pge(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function Oge(e){return e.l+=4,e.read_shift(4)!=0}function Ige(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},i=[],s=!1,o=2;return fu(e,function(l,c,u){switch(u){case 335:n.Types.push({name:l.name});break;case 51:l.forEach(function(f){o==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):o==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:i.push(u),s=!0;break;case 36:i.pop(),s=!1;break;default:if(!c.T){if(!s||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),n}function jge(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,i=2,s;return e.replace(ts,function(o){var l=Tr(o);switch(lc(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<n.Types.length;++c)n.Types[c].name==l.name&&(s=n.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[l.t-1].name,index:+l.v}):i==0&&n.Value.push({type:n.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+l.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),n}function Dge(e){var t=[];if(!e)return t;var r=1;return(e.match(ts)||[]).forEach(function(n){var a=Tr(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function Lge(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Dr(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function Mge(e,t,r){var n=[];return fu(e,function(i,s,o){switch(o){case 63:n.push(i);break;default:if(!s.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function Rge(e,t,r,n){if(!e)return e;var a=n||{},i=!1;fu(e,function(o,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!l.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},a)}function Fge(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}function P8(e,t,r,n){var a=Array.isArray(e),i;t.forEach(function(s){var o=hs(s.ref);if(a?(e[o.r]||(e[o.r]=[]),i=e[o.r][o.c]):i=e[s.ref],!i){i={t:"z"},a?e[o.r][o.c]=i:e[s.ref]=i;var l=ga(e["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var c=on(l);c!==e["!ref"]&&(e["!ref"]=c)}i.c||(i.c=[]);var u={a:s.author,t:s.t,r:s.r,T:r};s.h&&(u.h=s.h);for(var f=i.c.length-1;f>=0;--f){if(!r&&i.c[f].T)return;r&&!i.c[f].T&&i.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(u.a==n[f].id){u.a=n[f].name||u.a;break}}i.c.push(u)})}function $ge(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=Tr(o[0]),c={author:l.authorId&&r[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},u=hs(l.ref);if(!(t.sheetRows&&t.sheetRows<=u.r)){var f=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&_C(f[1])||{r:"",t:"",h:""};c.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),c.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(c.h=h.h),n.push(c)}}}}),n}function Bge(e,t){var r=[],n=!1,a={},i=0;return e.replace(ts,function(o,l){var c=Tr(o);switch(lc(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":i=l+o.length;break;case"</text>":a.t=e.slice(i,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return o}),r}function Uge(e,t){var r=[],n=!1;return e.replace(ts,function(i){var s=Tr(i);switch(lc(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return i}),r}function Vge(e){var t={};t.iauthor=e.read_shift(4);var r=Nh(e);return t.rfx=r.s,t.ref=Dr(r.s),e.l+=16,t}var zge=Qi;function qge(e,t){var r=[],n=[],a={},i=!1;return fu(e,function(o,l,c){switch(c){case 632:n.push(o);break;case 635:a=o;break;case 637:a.t=o.t,a.h=o.h,a.r=o.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),r}var Wge="application/vnd.ms-office.vbaProject";function Hge(e){var t=an.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");an.utils.cfb_add(t,a,e.FileIndex[n].content)}}),an.write(t)}function Gge(){return{"!type":"dialog"}}function Kge(){return{"!type":"dialog"}}function Yge(){return{"!type":"macro"}}function Xge(){return{"!type":"macro"}}var K0=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,s){var o=!1,l=!1;i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var c=i.length>0?parseInt(i,10)|0:0,u=s.length>0?parseInt(s,10)|0:0;return o?u+=t.c:--u,l?c+=t.r:--c,a+(o?"":"$")+za(u)+(l?"":"$")+Ei(c)}return function(a,i){return t=i,a.replace(e,r)}}(),nW=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Qge=function(){return function(t,r){return t.replace(nW,function(n,a,i,s,o,l){var c=gC(s)-(i?0:r.c),u=mC(l)-(o?0:r.r),f=u==0?"":o?u+1:"["+u+"]",h=c==0?"":i?c+1:"["+c+"]";return a+"R"+f+"C"+h})}}();function aW(e,t){return e.replace(nW,function(r,n,a,i,s,o){return n+(a=="$"?a+i:za(gC(i)+t.c))+(s=="$"?s+o:Ei(mC(o)+t.r))})}function Jge(e,t,r){var n=um(t),a=n.s,i=hs(r),s={r:i.r-a.r,c:i.c-a.c};return aW(e,s)}function Zge(e){return e.length!=1}function O8(e){return e.replace(/_xlfn\./g,"")}function ka(e){e.l+=1}function zf(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function iW(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return sW(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),s=zf(e),o=zf(e);return{s:{r:a,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function sW(e){var t=zf(e),r=zf(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function eve(e,t,r){if(r.biff<8)return sW(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=zf(e),s=zf(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}function oW(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return tve(e);var n=e.read_shift(r&&r.biff==12?4:2),a=zf(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function tve(e){var t=zf(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function rve(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function nve(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return ave(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),s=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;a>524287;)a-=1048576;if(s==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:s,rRel:o}}function ave(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function ive(e,t,r){var n=(e[e.l++]&96)>>5,a=iW(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function sve(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var s=iW(e,i,r);return[n,a,s]}function ove(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function lve(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function cve(e,t,r){var n=(e[e.l++]&96)>>5,a=eve(e,t-1,r);return[n,a]}function uve(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function I8(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function fve(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function dve(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function hve(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function pve(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function mve(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function lW(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function gve(e){return e.read_shift(2),lW(e)}function vve(e){return e.read_shift(2),lW(e)}function yve(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=oW(e,0,r);return[n,a]}function xve(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=nve(e,0,r);return[n,a]}function bve(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=oW(e,0,r);return[n,a,i]}function wve(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[_1e[a],fW[a],n]}function _ve(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:Sve(e);return[a,(i[0]===0?fW:w1e)[i[1]]]}function Sve(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function Ave(e,t,r){e.l+=r&&r.biff==2?3:4}function Eve(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Tve(e){return e.l++,kh[e.read_shift(1)]}function Nve(e){return e.l++,e.read_shift(2)}function kve(e){return e.l++,e.read_shift(1)!==0}function Cve(e){return e.l++,Hi(e)}function Pve(e,t,r){return e.l++,fy(e,t-1,r)}function Ove(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=xa(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=kh[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Hi(e);break;case 2:r[1]=Ch(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function Ive(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?Nh:L5)(e));return a}function jve(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,s=[];i!=n&&(s[i]=[]);++i)for(var o=0;o!=a;++o)s[i][o]=Ove(e,r.biff);return s}function Dve(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function Lve(e,t,r){if(r.biff==5)return Mve(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function Mve(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function Rve(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Fve(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function $ve(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function Bve(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var Uve=es,Vve=es,zve=es;function hy(e,t,r){return e.l+=2,[rve(e)]}function AC(e){return e.l+=6,[]}var qve=hy,Wve=AC,Hve=AC,Gve=hy;function cW(e){return e.l+=2,[Oa(e),e.read_shift(2)&1]}var Kve=hy,Yve=cW,Xve=AC,Qve=hy,Jve=hy,Zve=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function e1e(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),s=Zve[r>>2&31];return{ixti:t,coltype:r&3,rt:s,idx:n,c:a,C:i}}function t1e(e){return e.l+=2,[e.read_shift(4)]}function r1e(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function n1e(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function a1e(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function i1e(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function s1e(e){return e.l+=4,[0,0]}var j8={1:{n:"PtgExp",f:Eve},2:{n:"PtgTbl",f:zve},3:{n:"PtgAdd",f:ka},4:{n:"PtgSub",f:ka},5:{n:"PtgMul",f:ka},6:{n:"PtgDiv",f:ka},7:{n:"PtgPower",f:ka},8:{n:"PtgConcat",f:ka},9:{n:"PtgLt",f:ka},10:{n:"PtgLe",f:ka},11:{n:"PtgEq",f:ka},12:{n:"PtgGe",f:ka},13:{n:"PtgGt",f:ka},14:{n:"PtgNe",f:ka},15:{n:"PtgIsect",f:ka},16:{n:"PtgUnion",f:ka},17:{n:"PtgRange",f:ka},18:{n:"PtgUplus",f:ka},19:{n:"PtgUminus",f:ka},20:{n:"PtgPercent",f:ka},21:{n:"PtgParen",f:ka},22:{n:"PtgMissArg",f:ka},23:{n:"PtgStr",f:Pve},26:{n:"PtgSheet",f:r1e},27:{n:"PtgEndSheet",f:n1e},28:{n:"PtgErr",f:Tve},29:{n:"PtgBool",f:kve},30:{n:"PtgInt",f:Nve},31:{n:"PtgNum",f:Cve},32:{n:"PtgArray",f:uve},33:{n:"PtgFunc",f:wve},34:{n:"PtgFuncVar",f:_ve},35:{n:"PtgName",f:Dve},36:{n:"PtgRef",f:yve},37:{n:"PtgArea",f:ive},38:{n:"PtgMemArea",f:Rve},39:{n:"PtgMemErr",f:Uve},40:{n:"PtgMemNoMem",f:Vve},41:{n:"PtgMemFunc",f:Fve},42:{n:"PtgRefErr",f:$ve},43:{n:"PtgAreaErr",f:ove},44:{n:"PtgRefN",f:xve},45:{n:"PtgAreaN",f:cve},46:{n:"PtgMemAreaN",f:a1e},47:{n:"PtgMemNoMemN",f:i1e},57:{n:"PtgNameX",f:Lve},58:{n:"PtgRef3d",f:bve},59:{n:"PtgArea3d",f:sve},60:{n:"PtgRefErr3d",f:Bve},61:{n:"PtgAreaErr3d",f:lve},255:{}},o1e={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},l1e={1:{n:"PtgElfLel",f:cW},2:{n:"PtgElfRw",f:Qve},3:{n:"PtgElfCol",f:qve},6:{n:"PtgElfRwV",f:Jve},7:{n:"PtgElfColV",f:Gve},10:{n:"PtgElfRadical",f:Kve},11:{n:"PtgElfRadicalS",f:Xve},13:{n:"PtgElfColS",f:Wve},15:{n:"PtgElfColSV",f:Hve},16:{n:"PtgElfRadicalLel",f:Yve},25:{n:"PtgList",f:e1e},29:{n:"PtgSxName",f:t1e},255:{}},c1e={0:{n:"PtgAttrNoop",f:s1e},1:{n:"PtgAttrSemi",f:mve},2:{n:"PtgAttrIf",f:hve},4:{n:"PtgAttrChoose",f:fve},8:{n:"PtgAttrGoto",f:dve},16:{n:"PtgAttrSum",f:Ave},32:{n:"PtgAttrBaxcel",f:I8},33:{n:"PtgAttrBaxcel",f:I8},64:{n:"PtgAttrSpace",f:gve},65:{n:"PtgAttrSpaceSemi",f:vve},128:{n:"PtgAttrIfError",f:pve},255:{}};function py(e,t,r,n){if(n.biff<8)return es(e,t);for(var a=e.l+t,i=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=jve(e,0,n),i.push(r[s][1]);break;case"PtgMemArea":r[s][2]=Ive(e,r[s][1],n),i.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=e.read_shift(4),i.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return t=a-e.l,t!==0&&i.push(es(e,t)),i}function my(e,t,r){for(var n=e.l+t,a,i,s=[];n!=e.l;)t=n-e.l,i=e[e.l],a=j8[i]||j8[o1e[i]],(i===24||i===25)&&(a=(i===24?l1e:c1e)[e[e.l+1]]),!a||!a.f?es(e,t):s.push([a.n,a.f(e,t,r)]);return s}function u1e(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var s=n[i];if(s)switch(s[0]){case 2:a.push('"'+s[1].replace(/"/g,'""')+'"');break;default:a.push(s[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var f1e={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function d1e(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function uW(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function D8(e,t,r){var n=uW(e,t,r);return n=="#REF"?n:d1e(n,r)}function Bi(e,t,r,n,a){var i=a&&a.biff||8,s={s:{c:0,r:0},e:{c:0,r:0}},o=[],l,c,u,f=0,h=0,p,g="";if(!e[0]||!e[0][0])return"";for(var m=-1,y="",v=0,b=e[0].length;v<b;++v){var w=e[0][v];switch(w[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),m>=0){switch(e[0][m][1][0]){case 0:y=ha(" ",e[0][m][1][1]);break;case 1:y=ha("\r",e[0][m][1][1]);break;default:if(y="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}c=c+y,m=-1}o.push(c+f1e[w[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=Yg(w[1][1],s,a),o.push(Xg(u,i));break;case"PtgRefN":u=r?Yg(w[1][1],r,a):w[1][1],o.push(Xg(u,i));break;case"PtgRef3d":f=w[1][1],u=Yg(w[1][2],s,a),g=D8(n,f,a),o.push(g+"!"+Xg(u,i));break;case"PtgFunc":case"PtgFuncVar":var D=w[1][0],P=w[1][1];D||(D=0),D&=127;var j=D==0?[]:o.slice(-D);o.length-=D,P==="User"&&(P=j.shift()),o.push(P+"("+j.join(",")+")");break;case"PtgBool":o.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(w[1]);break;case"PtgNum":o.push(String(w[1]));break;case"PtgStr":o.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(w[1]);break;case"PtgAreaN":p=p8(w[1][1],r?{s:r}:s,a),o.push(XS(p,a));break;case"PtgArea":p=p8(w[1][1],s,a),o.push(XS(p,a));break;case"PtgArea3d":f=w[1][1],p=w[1][2],g=D8(n,f,a),o.push(g+"!"+XS(p,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=w[1][2];var E=(n.names||[])[h-1]||(n[0]||[])[h],_=E?E.Name:"SH33TJSNAME"+String(h);_&&_.slice(0,6)=="_xlfn."&&!a.xlfn&&(_=_.slice(6)),o.push(_);break;case"PtgNameX":var S=w[1][1];h=w[1][2];var I;if(a.biff<=5)S<0&&(S=-S),n[S]&&(I=n[S][h]);else{var T="";if(((n[S]||[])[0]||[])[0]==14849||(((n[S]||[])[0]||[])[0]==1025?n[S][h]&&n[S][h].itab>0&&(T=n.SheetNames[n[S][h].itab-1]+"!"):T=n.SheetNames[h-1]+"!"),n[S]&&n[S][h])T+=n[S][h].Name;else if(n[0]&&n[0][h])T+=n[0][h].Name;else{var N=(uW(n,S,a)||"").split(";;");N[h-1]?T=N[h-1]:T+="SH33TJSERRX"}o.push(T);break}I||(I={Name:"SH33TJSERRY"}),o.push(I.Name);break;case"PtgParen":var O="(",U=")";if(m>=0){switch(y="",e[0][m][1][0]){case 2:O=ha(" ",e[0][m][1][1])+O;break;case 3:O=ha("\r",e[0][m][1][1])+O;break;case 4:U=ha(" ",e[0][m][1][1])+U;break;case 5:U=ha("\r",e[0][m][1][1])+U;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}m=-1}o.push(O+o.pop()+U);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:w[1][1],r:w[1][0]};var Y={c:r.c,r:r.r};if(n.sharedf[Dr(u)]){var K=n.sharedf[Dr(u)];o.push(Bi(K,s,Y,n,a))}else{var J=!1;for(l=0;l!=n.arrayf.length;++l)if(c=n.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){o.push(Bi(c[1],s,Y,n,a)),J=!0;break}J||o.push(w[1])}break;case"PtgArray":o.push("{"+u1e(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=v;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w))}var q=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&m>=0&&q.indexOf(e[0][v][0])==-1){w=e[0][m];var V=!0;switch(w[1][0]){case 4:V=!1;case 0:y=ha(" ",w[1][1]);break;case 5:V=!1;case 1:y=ha("\r",w[1][1]);break;default:if(y="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}o.push((V?y:"")+o.pop()+(V?"":y)),m=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function h1e(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],es(e,t-2)];var o=my(e,s,r);return t!==s+a&&(i=py(e,t-s-a,o,r)),e.l=n,[o,i]}function p1e(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],es(e,t-2)];var o=my(e,s,r);return t!==s+a&&(i=py(e,t-s-a,o,r)),e.l=n,[o,i]}function m1e(e,t,r,n){var a=e.l+t,i=my(e,n,r),s;return a!==e.l&&(s=py(e,a-e.l,i,r)),[i,s]}function g1e(e,t,r){var n=e.l+t,a,i=e.read_shift(2),s=my(e,i,r);return i==65535?[[],es(e,t-2)]:(t!==i+2&&(a=py(e,n-i-2,s,r)),[s,a])}function v1e(e){var t;if(Oc(e,e.l+6)!==65535)return[Hi(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function ZS(e,t,r){var n=e.l+t,a=cc(e);r.biff==2&&++e.l;var i=v1e(e),s=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=p1e(e,n-e.l,r);return{cell:a,val:i[0],formula:o,shared:s>>3&1,tt:i[1]}}function M5(e,t,r){var n=e.read_shift(4),a=my(e,n,r),i=e.read_shift(4),s=i>0?py(e,i,a,r):null;return[a,s]}var y1e=M5,R5=M5,x1e=M5,b1e=M5,w1e={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},fW={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},_1e={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function L8(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function eA(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var ev={},Y0={};function tv(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function dW(e,t,r,n,a,i){try{n.cellNF&&(e.z=Fr[t])}catch(o){if(n.WTF)throw o}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=si(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(Fr[t]==null&&Gd(She[t]||"General",t),e.t==="e")e.w=e.w||kh[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Zv(e.v);else if(e.t==="d"){var s=ys(e.v);(s|0)===s?e.w=s.toString(10):e.w=Zv(s)}else{if(e.v===void 0)return"";e.w=ch(e.v,Y0)}else e.t==="d"?e.w=$o(t,ys(e.v),Y0):e.w=$o(t,e.v,Y0)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=Mb(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=Mb(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&i.Fills)throw o}}}function S1e(e,t){var r=ga(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=on(r))}var A1e=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,E1e=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,T1e=/<(?:\w:)?hyperlink [^>]*>/mg,N1e=/"(\w*:\w*)"/,k1e=/<(?:\w:)?col\b[^>]*[\/]?>/g,C1e=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,P1e=/<(?:\w:)?pageMargins[^>]*\/>/g,hW=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,O1e=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,I1e=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function j1e(e,t,r,n,a,i,s){if(!e)return e;n||(n={"!id":{}});var o=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",f=e.match(E1e);f?(c=e.slice(0,f.index),u=e.slice(f.index+f[0].length)):c=u=e;var h=c.match(hW);h?EC(h[0],o,a,r):(h=c.match(O1e))&&D1e(h[0],h[1]||"",o,a,r);var p=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var g=c.slice(p,p+50).match(N1e);g&&S1e(o,g[1])}var m=c.match(I1e);m&&m[1]&&B1e(m[1],a);var y=[];if(t.cellStyles){var v=c.match(k1e);v&&R1e(y,v)}f&&U1e(f[1],o,t,l,i,s);var b=u.match(C1e);b&&(o["!autofilter"]=F1e(b[0]));var w=[],D=u.match(A1e);if(D)for(p=0;p!=D.length;++p)w[p]=ga(D[p].slice(D[p].indexOf('"')+1));var P=u.match(T1e);P&&L1e(o,P,n);var j=u.match(P1e);if(j&&(o["!margins"]=M1e(Tr(j[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=on(l)),t.sheetRows>0&&o["!ref"]){var E=ga(o["!ref"]);t.sheetRows<=+E.e.r&&(E.e.r=t.sheetRows-1,E.e.r>l.e.r&&(E.e.r=l.e.r),E.e.r<E.s.r&&(E.s.r=E.e.r),E.e.c>l.e.c&&(E.e.c=l.e.c),E.e.c<E.s.c&&(E.s.c=E.e.c),o["!fullref"]=o["!ref"],o["!ref"]=on(E))}return y.length>0&&(o["!cols"]=y),w.length>0&&(o["!merges"]=w),o}function EC(e,t,r,n){var a=Tr(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=dn(Un(a.codeName)))}function D1e(e,t,r,n,a){EC(e.slice(0,e.indexOf(">")),r,n,a)}function L1e(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var i=Tr(Un(t[a]),!0);if(!i.ref)return;var s=((r||{})["!id"]||[])[i.id];s?(i.Target=s.Target,i.location&&(i.Target+="#"+dn(i.location))):(i.Target="#"+dn(i.location),s={Target:i.Target,TargetMode:"Internal"}),i.Rel=s,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var o=ga(i.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var u=Dr({c,r:l});n?(e[l]||(e[l]=[]),e[l][c]||(e[l][c]={t:"z",v:void 0}),e[l][c].l=i):(e[u]||(e[u]={t:"z",v:void 0}),e[u].l=i)}}}function M1e(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function R1e(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=Tr(t[n],!0);a.hidden&&(a.hidden=Yn(a.hidden));var i=parseInt(a.min,10)-1,s=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,SC(a.width)),Ap(a);i<=s;)e[i++]=Ai(a)}}function F1e(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var $1e=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function B1e(e,t){t.Views||(t.Views=[{}]),(e.match($1e)||[]).forEach(function(r,n){var a=Tr(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),Yn(a.rightToLeft)&&(t.Views[n].RTL=!0)})}var U1e=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=e1("v"),s=e1("f");return function(l,c,u,f,h,p){for(var g=0,m="",y=[],v=[],b=0,w=0,D=0,P="",j,E,_=0,S=0,I,T,N=0,O=0,U=Array.isArray(p.CellXf),Y,K=[],J=[],q=Array.isArray(c),V=[],ee={},Z=!1,k=!!u.sheetStubs,R=l.split(t),z=0,G=R.length;z!=G;++z){m=R[z].trim();var Q=m.length;if(Q!==0){var oe=0;e:for(g=0;g<Q;++g)switch(m[g]){case">":if(m[g-1]!="/"){++g;break e}if(u&&u.cellStyles){if(E=Tr(m.slice(oe,g),!0),_=E.r!=null?parseInt(E.r,10):_+1,S=-1,u.sheetRows&&u.sheetRows<_)continue;ee={},Z=!1,E.ht&&(Z=!0,ee.hpt=parseFloat(E.ht),ee.hpx=a1(ee.hpt)),E.hidden=="1"&&(Z=!0,ee.hidden=!0),E.outlineLevel!=null&&(Z=!0,ee.level=+E.outlineLevel),Z&&(V[_-1]=ee)}break;case"<":oe=g;break}if(oe>=g)break;if(E=Tr(m.slice(oe,g),!0),_=E.r!=null?parseInt(E.r,10):_+1,S=-1,!(u.sheetRows&&u.sheetRows<_)){f.s.r>_-1&&(f.s.r=_-1),f.e.r<_-1&&(f.e.r=_-1),u&&u.cellStyles&&(ee={},Z=!1,E.ht&&(Z=!0,ee.hpt=parseFloat(E.ht),ee.hpx=a1(ee.hpt)),E.hidden=="1"&&(Z=!0,ee.hidden=!0),E.outlineLevel!=null&&(Z=!0,ee.level=+E.outlineLevel),Z&&(V[_-1]=ee)),y=m.slice(g).split(e);for(var ce=0;ce!=y.length&&y[ce].trim().charAt(0)=="<";++ce);for(y=y.slice(ce),g=0;g!=y.length;++g)if(m=y[g].trim(),m.length!==0){if(v=m.match(r),b=g,w=0,D=0,m="<c "+(m.slice(0,1)=="<"?">":"")+m,v!=null&&v.length===2){for(b=0,P=v[1],w=0;w!=P.length&&!((D=P.charCodeAt(w)-64)<1||D>26);++w)b=26*b+D;--b,S=b}else++S;for(w=0;w!=m.length&&m.charCodeAt(w)!==62;++w);if(++w,E=Tr(m.slice(0,w),!0),E.r||(E.r=Dr({r:_-1,c:S})),P=m.slice(w),j={t:""},(v=P.match(i))!=null&&v[1]!==""&&(j.v=dn(v[1])),u.cellFormula){if((v=P.match(s))!=null&&v[1]!==""){if(j.f=dn(Un(v[1])).replace(/\r\n/g,`
`),u.xlfn||(j.f=O8(j.f)),v[0].indexOf('t="array"')>-1)j.F=(P.match(a)||[])[1],j.F.indexOf(":")>-1&&K.push([ga(j.F),j.F]);else if(v[0].indexOf('t="shared"')>-1){T=Tr(v[0]);var ne=dn(Un(v[1]));u.xlfn||(ne=O8(ne)),J[parseInt(T.si,10)]=[T,ne,E.r]}}else(v=P.match(/<f[^>]*\/>/))&&(T=Tr(v[0]),J[T.si]&&(j.f=Jge(J[T.si][1],J[T.si][2],E.r)));var he=hs(E.r);for(w=0;w<K.length;++w)he.r>=K[w][0].s.r&&he.r<=K[w][0].e.r&&he.c>=K[w][0].s.c&&he.c<=K[w][0].e.c&&(j.F=K[w][1])}if(E.t==null&&j.v===void 0)if(j.f||j.F)j.v=0,j.t="n";else if(k)j.t="z";else continue;else j.t=E.t||"n";switch(f.s.c>S&&(f.s.c=S),f.e.c<S&&(f.e.c=S),j.t){case"n":if(j.v==""||j.v==null){if(!k)continue;j.t="z"}else j.v=parseFloat(j.v);break;case"s":if(typeof j.v>"u"){if(!k)continue;j.t="z"}else I=ev[parseInt(j.v,10)],j.v=I.t,j.r=I.r,u.cellHTML&&(j.h=I.h);break;case"str":j.t="s",j.v=j.v!=null?Un(j.v):"",u.cellHTML&&(j.h=dC(j.v));break;case"inlineStr":v=P.match(n),j.t="s",v!=null&&(I=_C(v[1]))?(j.v=I.t,u.cellHTML&&(j.h=I.h)):j.v="";break;case"b":j.v=Yn(j.v);break;case"d":u.cellDates?j.v=si(j.v,1):(j.v=ys(si(j.v,1)),j.t="n");break;case"e":(!u||u.cellText!==!1)&&(j.w=j.v),j.v=Dq[j.v];break}if(N=O=0,Y=null,U&&E.s!==void 0&&(Y=p.CellXf[E.s],Y!=null&&(Y.numFmtId!=null&&(N=Y.numFmtId),u.cellStyles&&Y.fillId!=null&&(O=Y.fillId))),dW(j,N,O,u,h,p),u.cellDates&&U&&j.t=="n"&&cm(Fr[N])&&(j.t="d",j.v=D5(j.v)),E.cm&&u.xlmeta){var ye=(u.xlmeta.Cell||[])[+E.cm-1];ye&&ye.type=="XLDAPR"&&(j.D=!0)}if(q){var W=hs(E.r);c[W.r]||(c[W.r]=[]),c[W.r][W.c]=j}else c[E.r]=j}}}}V.length>0&&(c["!rows"]=V)}}();function V1e(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}var z1e=Nh;function q1e(){}function W1e(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=h0e(e),r}function H1e(e){var t=Uo(e);return[t]}function G1e(e){var t=Th(e);return[t]}function K1e(e){var t=Uo(e),r=e.read_shift(1);return[t,r,"b"]}function Y1e(e){var t=Th(e),r=e.read_shift(1);return[t,r,"b"]}function X1e(e){var t=Uo(e),r=e.read_shift(1);return[t,r,"e"]}function Q1e(e){var t=Th(e),r=e.read_shift(1);return[t,r,"e"]}function J1e(e){var t=Uo(e),r=e.read_shift(4);return[t,r,"s"]}function Z1e(e){var t=Th(e),r=e.read_shift(4);return[t,r,"s"]}function eye(e){var t=Uo(e),r=Hi(e);return[t,r,"n"]}function pW(e){var t=Th(e),r=Hi(e);return[t,r,"n"]}function tye(e){var t=Uo(e),r=xC(e);return[t,r,"n"]}function rye(e){var t=Th(e),r=xC(e);return[t,r,"n"]}function nye(e){var t=Uo(e),r=vC(e);return[t,r,"is"]}function aye(e){var t=Uo(e),r=Qi(e);return[t,r,"str"]}function iye(e){var t=Th(e),r=Qi(e);return[t,r,"str"]}function sye(e,t,r){var n=e.l+t,a=Uo(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"b"];if(r.cellFormula){e.l+=2;var o=R5(e,n-e.l,r);s[3]=Bi(o,null,a,r.supbooks,r)}else e.l=n;return s}function oye(e,t,r){var n=e.l+t,a=Uo(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"e"];if(r.cellFormula){e.l+=2;var o=R5(e,n-e.l,r);s[3]=Bi(o,null,a,r.supbooks,r)}else e.l=n;return s}function lye(e,t,r){var n=e.l+t,a=Uo(e);a.r=r["!row"];var i=Hi(e),s=[a,i,"n"];if(r.cellFormula){e.l+=2;var o=R5(e,n-e.l,r);s[3]=Bi(o,null,a,r.supbooks,r)}else e.l=n;return s}function cye(e,t,r){var n=e.l+t,a=Uo(e);a.r=r["!row"];var i=Qi(e),s=[a,i,"str"];if(r.cellFormula){e.l+=2;var o=R5(e,n-e.l,r);s[3]=Bi(o,null,a,r.supbooks,r)}else e.l=n;return s}var uye=Nh;function fye(e,t){var r=e.l+t,n=Nh(e),a=yC(e),i=Qi(e),s=Qi(e),o=Qi(e);e.l=r;var l={rfx:n,relId:a,loc:i,display:o};return s&&(l.Tooltip=s),l}function dye(){}function hye(e,t,r){var n=e.l+t,a=Oq(e),i=e.read_shift(1),s=[a];if(s[2]=i,r.cellFormula){var o=y1e(e,n-e.l,r);s[1]=o}else e.l=n;return s}function pye(e,t,r){var n=e.l+t,a=Nh(e),i=[a];if(r.cellFormula){var s=b1e(e,n-e.l,r);i[1]=s,e.l=n}else e.l=n;return i}var mye=["left","right","top","bottom","header","footer"];function gye(e){var t={};return mye.forEach(function(r){t[r]=Hi(e)}),t}function vye(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function yye(){}function xye(){}function bye(e,t,r,n,a,i,s){if(!e)return e;var o=t||{};n||(n={"!id":{}});var l=o.dense?[]:{},c,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,p,g,m,y,v,b,w,D,P,j=[];o.biff=12,o["!row"]=0;var E=0,_=!1,S=[],I={},T=o.supbooks||a.supbooks||[[]];if(T.sharedf=I,T.arrayf=S,T.SheetNames=a.SheetNames||a.Sheets.map(function(q){return q.name}),!o.supbooks&&(o.supbooks=T,a.Names))for(var N=0;N<a.Names.length;++N)T[0][N+1]=a.Names[N];var O=[],U=[],Y=!1;$b[16]={n:"BrtShortReal",f:pW};var K;if(fu(e,function(V,ee,Z){if(!h)switch(Z){case 148:c=V;break;case 0:p=V,o.sheetRows&&o.sheetRows<=p.r&&(h=!0),D=Ei(y=p.r),o["!row"]=p.r,(V.hidden||V.hpt||V.level!=null)&&(V.hpt&&(V.hpx=a1(V.hpt)),U[V.r]=V);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(g={t:V[2]},V[2]){case"n":g.v=V[1];break;case"s":w=ev[V[1]],g.v=w.t,g.r=w.r;break;case"b":g.v=!!V[1];break;case"e":g.v=V[1],o.cellText!==!1&&(g.w=kh[g.v]);break;case"str":g.t="s",g.v=V[1];break;case"is":g.t="s",g.v=V[1].t;break}if((m=s.CellXf[V[0].iStyleRef])&&dW(g,m.numFmtId,null,o,i,s),v=V[0].c==-1?v+1:V[0].c,o.dense?(l[y]||(l[y]=[]),l[y][v]=g):l[za(v)+D]=g,o.cellFormula){for(_=!1,E=0;E<S.length;++E){var k=S[E];p.r>=k[0].s.r&&p.r<=k[0].e.r&&v>=k[0].s.c&&v<=k[0].e.c&&(g.F=on(k[0]),_=!0)}!_&&V.length>3&&(g.f=V[3])}if(u.s.r>p.r&&(u.s.r=p.r),u.s.c>v&&(u.s.c=v),u.e.r<p.r&&(u.e.r=p.r),u.e.c<v&&(u.e.c=v),o.cellDates&&m&&g.t=="n"&&cm(Fr[m.numFmtId])){var R=Rd(g.v);R&&(g.t="d",g.v=new Date(R.y,R.m-1,R.d,R.H,R.M,R.S,R.u))}K&&(K.type=="XLDAPR"&&(g.D=!0),K=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;g={t:"z",v:void 0},v=V[0].c==-1?v+1:V[0].c,o.dense?(l[y]||(l[y]=[]),l[y][v]=g):l[za(v)+D]=g,u.s.r>p.r&&(u.s.r=p.r),u.s.c>v&&(u.s.c=v),u.e.r<p.r&&(u.e.r=p.r),u.e.c<v&&(u.e.c=v),K&&(K.type=="XLDAPR"&&(g.D=!0),K=void 0);break;case 176:j.push(V);break;case 49:K=((o.xlmeta||{}).Cell||[])[V-1];break;case 494:var z=n["!id"][V.relId];for(z?(V.Target=z.Target,V.loc&&(V.Target+="#"+V.loc),V.Rel=z):V.relId==""&&(V.Target="#"+V.loc),y=V.rfx.s.r;y<=V.rfx.e.r;++y)for(v=V.rfx.s.c;v<=V.rfx.e.c;++v)o.dense?(l[y]||(l[y]=[]),l[y][v]||(l[y][v]={t:"z",v:void 0}),l[y][v].l=V):(b=Dr({c:v,r:y}),l[b]||(l[b]={t:"z",v:void 0}),l[b].l=V);break;case 426:if(!o.cellFormula)break;S.push(V),P=o.dense?l[y][v]:l[za(v)+D],P.f=Bi(V[1],u,{r:p.r,c:v},T,o),P.F=on(V[0]);break;case 427:if(!o.cellFormula)break;I[Dr(V[0].s)]=V[1],P=o.dense?l[y][v]:l[za(v)+D],P.f=Bi(V[1],u,{r:p.r,c:v},T,o);break;case 60:if(!o.cellStyles)break;for(;V.e>=V.s;)O[V.e--]={width:V.w/256,hidden:!!(V.flags&1),level:V.level},Y||(Y=!0,SC(V.w/256)),Ap(O[V.e+1]);break;case 161:l["!autofilter"]={ref:on(V)};break;case 476:l["!margins"]=V;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),V.name&&(a.Sheets[r].CodeName=V.name),(V.above||V.left)&&(l["!outline"]={above:V.above,left:V.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),V.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!ee.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+Z.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(u.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=on(c||u)),o.sheetRows&&l["!ref"]){var J=ga(l["!ref"]);o.sheetRows<=+J.e.r&&(J.e.r=o.sheetRows-1,J.e.r>u.e.r&&(J.e.r=u.e.r),J.e.r<J.s.r&&(J.s.r=J.e.r),J.e.c>u.e.c&&(J.e.c=u.e.c),J.e.c<J.s.c&&(J.s.c=J.e.c),l["!fullref"]=l["!ref"],l["!ref"]=on(J))}return j.length>0&&(l["!merges"]=j),O.length>0&&(l["!cols"]=O),U.length>0&&(l["!rows"]=U),l}function wye(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var s=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(t[+s[1]]=r?+s[2]:s[2])});var a=dn((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[t,a,n]}function _ye(e,t,r,n,a,i){var s=i||{"!type":"chart"};if(!e)return i;var o=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=wye(f);u.s.r=u.s.c=0,u.e.c=o,c=za(o),h[0].forEach(function(p,g){s[c+Ei(g)]={t:"n",v:p,z:h[1]},l=g}),u.e.r<l&&(u.e.r=l),++o}),o>0&&(s["!ref"]=on(u)),s}function Sye(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s,o=e.match(hW);return o&&EC(o[0],i,a,r),(s=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=s[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function Aye(e,t){e.l+=10;var r=Qi(e);return{name:r}}function Eye(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s=!1;return fu(e,function(l,c,u){switch(u){case 550:i["!rel"]=l;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),l.name&&(a.Sheets[r].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!s||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},t),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var mW=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],Tye=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],Nye=[],kye=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function M8(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var i=t[a];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=Yn(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function R8(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=Yn(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function gW(e){R8(e.WBProps,mW),R8(e.CalcPr,kye),M8(e.WBView,Tye),M8(e.Sheets,Nye),Y0.date1904=Yn(e.WBProps.date1904)}var Cye="][*?/\\".split("");function Pye(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return Cye.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var Oye=/<\w+:workbook/;function Iye(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",i={},s=0;if(e.replace(ts,function(l,c){var u=Tr(l);switch(lc(u[0])){case"<?xml":break;case"<workbook":l.match(Oye)&&(a="xmlns"+l.match(/<(\w+):/)[1]),r.xmlns=u[a];break;case"</workbook>":break;case"<fileVersion":delete u[0],r.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":mW.forEach(function(f){if(u[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=Yn(u[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(u[f[0]],10);break;default:r.WBProps[f[0]]=u[f[0]]}}),u.codeName&&(r.WBProps.CodeName=Un(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],r.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=dn(Un(u.name)),delete u[0],r.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=Un(u.name),u.comment&&(i.Comment=u.comment),u.localSheetId&&(i.Sheet=+u.localSheetId),Yn(u.hidden||"0")&&(i.Hidden=!0),s=c+l.length;break;case"</definedName>":i.Ref=dn(Un(e.slice(s,c))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete u[0],r.CalcPr=u;break;case"<calcPr/>":delete u[0],r.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return l}),Xhe.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return gW(r),r}function jye(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=RE(e),r.name=Qi(e),r}function Dye(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Qi(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function Lye(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function Mye(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=p0e(e),s=x1e(e,0,r),o=yC(e);e.l=n;var l={Name:i,Ptg:s};return a<268435455&&(l.Sheet=a),o&&(l.Comment=o),l}function Rye(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var i=[],s=[[]];return s.SheetNames=[],s.XTI=[],$b[16]={n:"BrtFRTArchID$",f:Lye},fu(e,function(l,c,u){switch(u){case 156:s.SheetNames.push(l.name),r.Sheets.push(l);break;case 153:r.WBProps=l;break;case 39:l.Sheet!=null&&(t.SID=l.Sheet),l.Ref=Bi(l.Ptg,null,null,s,t),delete t.SID,delete l.Ptg,i.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([u,l]):s[0]=[u,l],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(l),s.XTI=s.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(u),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(u),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!c.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},t),gW(r),r.Names=i,r.supbooks=s,r}function Fye(e,t,r){return t.slice(-4)===".bin"?Rye(e,r):Iye(e,r)}function $ye(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?bye(e,n,r,a,i,s,o):j1e(e,n,r,a,i,s,o)}function Bye(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?Eye(e,n,r,a,i):Sye(e,n,r,a,i)}function Uye(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?Yge():Xge()}function Vye(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?Gge():Kge()}function zye(e,t,r,n){return t.slice(-4)===".bin"?uge(e,r,n):age(e,r,n)}function qye(e,t,r){return rW(e,r)}function Wye(e,t,r){return t.slice(-4)===".bin"?Tme(e,r):Ame(e,r)}function Hye(e,t,r){return t.slice(-4)===".bin"?qge(e,r):$ge(e,r)}function Gye(e,t,r){return t.slice(-4)===".bin"?Mge(e):Dge(e)}function Kye(e,t,r,n){return r.slice(-4)===".bin"?Rge(e,t,r,n):void 0}function Yye(e,t,r){return t.slice(-4)===".bin"?Ige(e,t,r):jge(e,t,r)}var vW=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,yW=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function el(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(vW),i,s,o,l;if(a)for(l=0;l!=a.length;++l)i=a[l].match(yW),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(s+1),n[o]=i[2].slice(1,i[2].length-1));return n}function Xye(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(vW),a,i,s,o;if(n)for(o=0;o!=n.length;++o)a=n[o].match(yW),(i=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?s="xmlns"+a[1].slice(6):s=a[1].slice(i+1),r[s]=a[2].slice(1,a[2].length-1));return r}var rv;function Qye(e,t){var r=rv[e]||dn(e);return r==="General"?ch(t):$o(r,t)}function Jye(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=Yn(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=si(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[dn(t)]=a}function Zye(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||kh[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Zv(e.v):e.w=ch(e.v):e.w=Qye(t||"General",e.v)}catch(i){if(r.WTF)throw i}try{var n=rv[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&cm(n)){var a=Rd(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(r.WTF)throw i}}}function exe(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=Jme[n.Pattern]||n.Pattern)}e[t.ID]=t}function txe(e,t,r,n,a,i,s,o,l,c){var u="General",f=n.StyleID,h={};c=c||{};var p=[],g=0;for(f===void 0&&o&&(f=o.StyleID),f===void 0&&s&&(f=s.StyleID);i[f]!==void 0&&(i[f].nf&&(u=i[f].nf),i[f].Interior&&p.push(i[f].Interior),!!i[f].Parent);)f=i[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Yn(e);break;case"String":n.t="s",n.r=i8(dn(e)),n.v=e.indexOf("<")>-1?dn(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(si(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=dn(e):n.v<60&&(n.v=n.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=Dq[e],c.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=i8(t||e));break}if(Zye(n,u,c),c.cellFormula!==!1)if(n.Formula){var m=dn(n.Formula);m.charCodeAt(0)==61&&(m=m.slice(1)),n.f=K0(m,a),delete n.Formula,n.ArrayRange=="RC"?n.F=K0("RC:RC",a):n.ArrayRange&&(n.F=K0(n.ArrayRange,a),l.push([ga(n.F),n.F]))}else for(g=0;g<l.length;++g)a.r>=l[g][0].s.r&&a.r<=l[g][0].e.r&&a.c>=l[g][0].s.c&&a.c<=l[g][0].e.c&&(n.F=l[g][1]);c.cellStyles&&(p.forEach(function(y){!h.patternType&&y.patternType&&(h.patternType=y.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function rxe(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function tA(e,t){var r=t||{};sq();var n=_g(hC(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=Un(n));var a=n.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var s=Ai(r);return s.type="string",r1.to_workbook(n,s)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Ye){a.indexOf("<"+Ye)>=0&&(i=!0)}),i)return fxe(n,r);rv={"General Number":"General","General Date":Fr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Fr[15],"Short Date":Fr[14],"Long Time":Fr[19],"Medium Time":Fr[18],"Short Time":Fr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Fr[2],Standard:Fr[4],Percent:Fr[10],Scientific:Fr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],c,u={},f=[],h=r.dense?[]:{},p="",g={},m={},y=el('<Data ss:Type="String">'),v=0,b=0,w=0,D={s:{r:2e6,c:2e6},e:{r:0,c:0}},P={},j={},E="",_=0,S=[],I={},T={},N=0,O=[],U=[],Y={},K=[],J,q=!1,V=[],ee=[],Z={},k=0,R=0,z={Sheets:[],WBProps:{date1904:!1}},G={};t1.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var Q="";o=t1.exec(n);)switch(o[3]=(Q=o[3]).toLowerCase()){case"data":if(Q=="data"){if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?txe(n.slice(v,o.index),E,y,l[l.length-1][0]=="comment"?Y:g,{c:b,r:w},P,K[b],m,V,r):(E="",y=el(o[0]),v=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(U.length>0&&(g.c=U),(!r.sheetRows||r.sheetRows>w)&&g.v!==void 0&&(r.dense?(h[w]||(h[w]=[]),h[w][b]=g):h[za(b)+Ei(w)]=g),g.HRef&&(g.l={Target:dn(g.HRef)},g.HRefScreenTip&&(g.l.Tooltip=g.HRefScreenTip),delete g.HRef,delete g.HRefScreenTip),(g.MergeAcross||g.MergeDown)&&(k=b+(parseInt(g.MergeAcross,10)|0),R=w+(parseInt(g.MergeDown,10)|0),S.push({s:{c:b,r:w},e:{c:k,r:R}})),!r.sheetStubs)g.MergeAcross?b=k+1:++b;else if(g.MergeAcross||g.MergeDown){for(var oe=b;oe<=k;++oe)for(var ce=w;ce<=R;++ce)(oe>b||ce>w)&&(r.dense?(h[ce]||(h[ce]=[]),h[ce][oe]={t:"z"}):h[za(oe)+Ei(ce)]={t:"z"});b=k+1}else++b;else g=Xye(o[0]),g.Index&&(b=+g.Index-1),b<D.s.c&&(D.s.c=b),b>D.e.c&&(D.e.c=b),o[0].slice(-2)==="/>"&&++b,U=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(w<D.s.r&&(D.s.r=w),w>D.e.r&&(D.e.r=w),o[0].slice(-2)==="/>"&&(m=el(o[0]),m.Index&&(w=+m.Index-1)),b=0,++w):(m=el(o[0]),m.Index&&(w=+m.Index-1),Z={},(m.AutoFitHeight=="0"||m.Height)&&(Z.hpx=parseInt(m.Height,10),Z.hpt=tW(Z.hpx),ee[w]=Z),m.Hidden=="1"&&(Z.hidden=!0,ee[w]=Z));break;case"worksheet":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));f.push(p),D.s.r<=D.e.r&&D.s.c<=D.e.c&&(h["!ref"]=on(D),r.sheetRows&&r.sheetRows<=D.e.r&&(h["!fullref"]=h["!ref"],D.e.r=r.sheetRows-1,h["!ref"]=on(D))),S.length&&(h["!merges"]=S),K.length>0&&(h["!cols"]=K),ee.length>0&&(h["!rows"]=ee),u[p]=h}else D={s:{r:2e6,c:2e6},e:{r:0,c:0}},w=b=0,l.push([o[3],!1]),c=el(o[0]),p=dn(c.Name),h=r.dense?[]:{},S=[],V=[],ee=[],G={name:p,Hidden:0},z.Sheets.push(G);break;case"table":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),K=[],q=!1}break;case"style":o[1]==="/"?exe(P,j,r):j=el(o[0]);break;case"numberformat":j.nf=dn(el(o[0]).Format||"General"),rv[j.nf]&&(j.nf=rv[j.nf]);for(var ne=0;ne!=392&&Fr[ne]!=j.nf;++ne);if(ne==392){for(ne=57;ne!=392;++ne)if(Fr[ne]==null){Gd(j.nf,ne);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(J=el(o[0]),J.Hidden&&(J.hidden=!0,delete J.Hidden),J.Width&&(J.wpx=parseInt(J.Width,10)),!q&&J.wpx>10){q=!0,us=Zq;for(var he=0;he<K.length;++he)K[he]&&Ap(K[he])}q&&Ap(J),K[J.Index-1||K.length]=J;for(var ye=0;ye<+J.Span;++ye)K[K.length]=Ai(J);break;case"namedrange":if(o[1]==="/")break;z.Names||(z.Names=[]);var W=Tr(o[0]),Ce={Name:W.Name,Ref:K0(W.RefersTo.slice(1),{r:0,c:0})};z.Sheets.length>0&&(Ce.Sheet=z.Sheets.length-1),z.Names.push(Ce);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?E+=n.slice(_,o.index):_=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;j.Interior=el(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?$0e(I,Q,n.slice(N,o.index)):N=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));rxe(Y),U.push(Y)}else l.push([o[3],!1]),c=el(o[0]),Y={a:c.Author};break;case"autofilter":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var ke=el(o[0]);h["!autofilter"]={ref:K0(ke.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return z8(n,r);var Ee=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Ee=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Ee=!1}break;case"excelworkbook":switch(o[3]){case"date1904":z.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Ee=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:Ee=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(N,o.index)){case"SheetHidden":G.Hidden=1;break;case"SheetVeryHidden":G.Hidden=2;break}else N=o.index+o[0].length;break;case"header":h["!margins"]||tv(h["!margins"]={},"xlml"),isNaN(+Tr(o[0]).Margin)||(h["!margins"].header=+Tr(o[0]).Margin);break;case"footer":h["!margins"]||tv(h["!margins"]={},"xlml"),isNaN(+Tr(o[0]).Margin)||(h["!margins"].footer=+Tr(o[0]).Margin);break;case"pagemargins":var ie=Tr(o[0]);h["!margins"]||tv(h["!margins"]={},"xlml"),isNaN(+ie.Top)||(h["!margins"].top=+ie.Top),isNaN(+ie.Left)||(h["!margins"].left=+ie.Left),isNaN(+ie.Right)||(h["!margins"].right=+ie.Right),isNaN(+ie.Bottom)||(h["!margins"].bottom=+ie.Bottom);break;case"displayrighttoleft":z.Views||(z.Views=[]),z.Views[0]||(z.Views[0]={}),z.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Ee=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Ee=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Ee=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Ee=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Ee=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Ee=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Ee=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Ee=!1}break;case"smarttags":break;default:Ee=!1;break}if(Ee||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?Jye(T,Q,O,n.slice(N,o.index)):(O=o,N=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var Fe={};return!r.bookSheets&&!r.bookProps&&(Fe.Sheets=u),Fe.SheetNames=f,Fe.Workbook=z,Fe.SSF=Ai(Fr),Fe.Props=I,Fe.Custprops=T,Fe}function UE(e,t){switch(kC(t=t||{}),t.type||"base64"){case"base64":return tA(so(e),t);case"binary":case"buffer":case"file":return tA(e,t);case"array":return tA(Eh(e),t)}}function nxe(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=v0e(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=y0e(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var axe=[60,1084,2066,2165,2175];function ixe(e,t,r,n,a){var i=n,s=[],o=r.slice(r.l,r.l+i);if(a&&a.enc&&a.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(o)}s.push(o),r.l+=i;for(var l=Oc(r,r.l),c=VE[l],u=0;c!=null&&axe.indexOf(l)>-1;)i=Oc(r,r.l+2),u=r.l+4,l==2066?u+=4:(l==2165||l==2175)&&(u+=12),o=r.slice(u,r.l+4+i),s.push(o),r.l+=4+i,c=VE[l=Oc(r,r.l)];var f=tf(s);vi(f,0);var h=0;f.lens=[];for(var p=0;p<s.length;++p)f.lens.push(h),h+=s[p].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,a)}function Bl(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Fr[n])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||kh[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Zv(e.v):e.w=ch(e.v):e.w=$o(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&n&&e.t=="n"&&cm(Fr[n]||String(n))){var a=Rd(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function Dx(e,t,r){return{v:e,ixfe:t,t:r}}function sxe(e,t){var r={opts:{}},n={},a=t.dense?[]:{},i={},s={},o=null,l=[],c="",u={},f,h="",p,g,m,y,v={},b=[],w,D,P=[],j=[],E={Sheets:[],WBProps:{date1904:!1},Views:[{}]},_={},S=function(_t){return _t<8?Kd[_t]:_t<64&&j[_t-8]||Kd[_t]},I=function(_t,ct,tr){var Wt=ct.XF.data;if(!(!Wt||!Wt.patternType||!tr||!tr.cellStyles)){ct.s={},ct.s.patternType=Wt.patternType;var Hr;(Hr=n1(S(Wt.icvFore)))&&(ct.s.fgColor={rgb:Hr}),(Hr=n1(S(Wt.icvBack)))&&(ct.s.bgColor={rgb:Hr})}},T=function(_t,ct,tr){if(!(Z>1)&&!(tr.sheetRows&&_t.r>=tr.sheetRows)){if(tr.cellStyles&&ct.XF&&ct.XF.data&&I(_t,ct,tr),delete ct.ixfe,delete ct.XF,f=_t,h=Dr(_t),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),_t.r<s.s.r&&(s.s.r=_t.r),_t.c<s.s.c&&(s.s.c=_t.c),_t.r+1>s.e.r&&(s.e.r=_t.r+1),_t.c+1>s.e.c&&(s.e.c=_t.c+1),tr.cellFormula&&ct.f){for(var Wt=0;Wt<b.length;++Wt)if(!(b[Wt][0].s.c>_t.c||b[Wt][0].s.r>_t.r)&&!(b[Wt][0].e.c<_t.c||b[Wt][0].e.r<_t.r)){ct.F=on(b[Wt][0]),(b[Wt][0].s.c!=_t.c||b[Wt][0].s.r!=_t.r)&&delete ct.f,ct.f&&(ct.f=""+Bi(b[Wt][1],s,_t,V,N));break}}tr.dense?(a[_t.r]||(a[_t.r]=[]),a[_t.r][_t.c]=ct):a[h]=ct}},N={enc:!1,sbcch:0,snames:[],sharedf:v,arrayf:b,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(N.password=t.password);var O,U=[],Y=[],K=[],J=[],q=!1,V=[];V.SheetNames=N.snames,V.sharedf=N.sharedf,V.arrayf=N.arrayf,V.names=[],V.XTI=[];var ee=0,Z=0,k=0,R=[],z=[],G;N.codepage=1200,ml(1200);for(var Q=!1;e.l<e.length-1;){var oe=e.l,ce=e.read_shift(2);if(ce===0&&ee===10)break;var ne=e.l===e.length?0:e.read_shift(2),he=VE[ce];if(he&&he.f){if(t.bookSheets&&ee===133&&ce!==133)break;if(ee=ce,he.r===2||he.r==12){var ye=e.read_shift(2);if(ne-=2,!N.enc&&ye!==ce&&((ye&255)<<8|ye>>8)!==ce)throw new Error("rt mismatch: "+ye+"!="+ce);he.r==12&&(e.l+=10,ne-=10)}var W={};if(ce===10?W=he.f(e,ne,N):W=ixe(ce,he,e,ne,N),Z==0&&[9,521,1033,2057].indexOf(ee)===-1)continue;switch(ce){case 34:r.opts.Date1904=E.WBProps.date1904=W;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(N.enc||(e.l=0),N.enc=W,!t.password)throw new Error("File is password-protected");if(W.valid==null)throw new Error("Encryption scheme unsupported");if(!W.valid)throw new Error("Password is incorrect");break;case 92:N.lastuser=W;break;case 66:var Ce=Number(W);switch(Ce){case 21010:Ce=1200;break;case 32768:Ce=1e4;break;case 32769:Ce=1252;break}ml(N.codepage=Ce),Q=!0;break;case 317:N.rrtabid=W;break;case 25:N.winlocked=W;break;case 439:r.opts.RefreshAll=W;break;case 12:r.opts.CalcCount=W;break;case 16:r.opts.CalcDelta=W;break;case 17:r.opts.CalcIter=W;break;case 13:r.opts.CalcMode=W;break;case 14:r.opts.CalcPrecision=W;break;case 95:r.opts.CalcSaveRecalc=W;break;case 15:N.CalcRefMode=W;break;case 2211:r.opts.FullCalc=W;break;case 129:W.fDialog&&(a["!type"]="dialog"),W.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),W.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:P.push(W);break;case 430:V.push([W]),V[V.length-1].XTI=[];break;case 35:case 547:V[V.length-1].push(W);break;case 24:case 536:G={Name:W.Name,Ref:Bi(W.rgce,s,null,V,N)},W.itab>0&&(G.Sheet=W.itab-1),V.names.push(G),V[0]||(V[0]=[],V[0].XTI=[]),V[V.length-1].push(W),W.Name=="_xlnm._FilterDatabase"&&W.itab>0&&W.rgce&&W.rgce[0]&&W.rgce[0][0]&&W.rgce[0][0][0]=="PtgArea3d"&&(z[W.itab-1]={ref:on(W.rgce[0][0][1][2])});break;case 22:N.ExternCount=W;break;case 23:V.length==0&&(V[0]=[],V[0].XTI=[]),V[V.length-1].XTI=V[V.length-1].XTI.concat(W),V.XTI=V.XTI.concat(W);break;case 2196:if(N.biff<8)break;G!=null&&(G.Comment=W[1]);break;case 18:a["!protect"]=W;break;case 19:W!==0&&N.WTF&&console.error("Password verifier: "+W);break;case 133:i[W.pos]=W,N.snames.push(W.name);break;case 10:{if(--Z)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,a["!ref"]=on(s),t.sheetRows&&t.sheetRows<=s.e.r){var ke=s.e.r;s.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=on(s),s.e.r=ke}s.e.r++,s.e.c++}U.length>0&&(a["!merges"]=U),Y.length>0&&(a["!objects"]=Y),K.length>0&&(a["!cols"]=K),J.length>0&&(a["!rows"]=J),E.Sheets.push(_)}c===""?u=a:n[c]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(N.biff===8&&(N.biff={9:2,521:3,1033:4}[ce]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[W.BIFFVer]||8),N.biffguess=W.BIFFVer==0,W.BIFFVer==0&&W.dt==4096&&(N.biff=5,Q=!0,ml(N.codepage=28591)),N.biff==8&&W.BIFFVer==0&&W.dt==16&&(N.biff=2),Z++)break;if(a=t.dense?[]:{},N.biff<8&&!Q&&(Q=!0,ml(N.codepage=t.codepage||1252)),N.biff<5||W.BIFFVer==0&&W.dt==4096){c===""&&(c="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var Ee={pos:e.l-ne,name:c};i[Ee.pos]=Ee,N.snames.push(c)}else c=(i[oe]||{name:""}).name;W.dt==32&&(a["!type"]="chart"),W.dt==64&&(a["!type"]="macro"),U=[],Y=[],N.arrayf=b=[],K=[],J=[],q=!1,_={Hidden:(i[oe]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[W.r]||[])[W.c]:a[Dr({c:W.c,r:W.r})])&&++W.c,w={ixfe:W.ixfe,XF:P[W.ixfe]||{},v:W.val,t:"n"},k>0&&(w.z=R[w.ixfe>>8&63]),Bl(w,t,r.opts.Date1904),T({c:W.c,r:W.r},w,t);break;case 5:case 517:w={ixfe:W.ixfe,XF:P[W.ixfe],v:W.val,t:W.t},k>0&&(w.z=R[w.ixfe>>8&63]),Bl(w,t,r.opts.Date1904),T({c:W.c,r:W.r},w,t);break;case 638:w={ixfe:W.ixfe,XF:P[W.ixfe],v:W.rknum,t:"n"},k>0&&(w.z=R[w.ixfe>>8&63]),Bl(w,t,r.opts.Date1904),T({c:W.c,r:W.r},w,t);break;case 189:for(var ie=W.c;ie<=W.C;++ie){var Fe=W.rkrec[ie-W.c][0];w={ixfe:Fe,XF:P[Fe],v:W.rkrec[ie-W.c][1],t:"n"},k>0&&(w.z=R[w.ixfe>>8&63]),Bl(w,t,r.opts.Date1904),T({c:ie,r:W.r},w,t)}break;case 6:case 518:case 1030:{if(W.val=="String"){o=W;break}if(w=Dx(W.val,W.cell.ixfe,W.tt),w.XF=P[w.ixfe],t.cellFormula){var Ye=W.formula;if(Ye&&Ye[0]&&Ye[0][0]&&Ye[0][0][0]=="PtgExp"){var Se=Ye[0][0][1][0],$e=Ye[0][0][1][1],_e=Dr({r:Se,c:$e});v[_e]?w.f=""+Bi(W.formula,s,W.cell,V,N):w.F=((t.dense?(a[Se]||[])[$e]:a[_e])||{}).F}else w.f=""+Bi(W.formula,s,W.cell,V,N)}k>0&&(w.z=R[w.ixfe>>8&63]),Bl(w,t,r.opts.Date1904),T(W.cell,w,t),o=W}break;case 7:case 519:if(o)o.val=W,w=Dx(W,o.cell.ixfe,"s"),w.XF=P[w.ixfe],t.cellFormula&&(w.f=""+Bi(o.formula,s,o.cell,V,N)),k>0&&(w.z=R[w.ixfe>>8&63]),Bl(w,t,r.opts.Date1904),T(o.cell,w,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{b.push(W);var De=Dr(W[0].s);if(p=t.dense?(a[W[0].s.r]||[])[W[0].s.c]:a[De],t.cellFormula&&p){if(!o||!De||!p)break;p.f=""+Bi(W[1],s,W[0],V,N),p.F=on(W[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!o)break;v[Dr(o.cell)]=W[0],p=t.dense?(a[o.cell.r]||[])[o.cell.c]:a[Dr(o.cell)],(p||{}).f=""+Bi(W[0],s,f,V,N)}}break;case 253:w=Dx(l[W.isst].t,W.ixfe,"s"),l[W.isst].h&&(w.h=l[W.isst].h),w.XF=P[w.ixfe],k>0&&(w.z=R[w.ixfe>>8&63]),Bl(w,t,r.opts.Date1904),T({c:W.c,r:W.r},w,t);break;case 513:t.sheetStubs&&(w={ixfe:W.ixfe,XF:P[W.ixfe],t:"z"},k>0&&(w.z=R[w.ixfe>>8&63]),Bl(w,t,r.opts.Date1904),T({c:W.c,r:W.r},w,t));break;case 190:if(t.sheetStubs)for(var Ne=W.c;Ne<=W.C;++Ne){var qe=W.ixfe[Ne-W.c];w={ixfe:qe,XF:P[qe],t:"z"},k>0&&(w.z=R[w.ixfe>>8&63]),Bl(w,t,r.opts.Date1904),T({c:Ne,r:W.r},w,t)}break;case 214:case 516:case 4:w=Dx(W.val,W.ixfe,"s"),w.XF=P[w.ixfe],k>0&&(w.z=R[w.ixfe>>8&63]),Bl(w,t,r.opts.Date1904),T({c:W.c,r:W.r},w,t);break;case 0:case 512:Z===1&&(s=W);break;case 252:l=W;break;case 1054:if(N.biff==4){R[k++]=W[1];for(var at=0;at<k+163&&Fr[at]!=W[1];++at);at>=163&&Gd(W[1],k+163)}else Gd(W[1],W[0]);break;case 30:{R[k++]=W;for(var nt=0;nt<k+163&&Fr[nt]!=W;++nt);nt>=163&&Gd(W,k+163)}break;case 229:U=U.concat(W);break;case 93:Y[W.cmo[0]]=N.lastobj=W;break;case 438:N.lastobj.TxO=W;break;case 127:N.lastobj.ImData=W;break;case 440:for(y=W[0].s.r;y<=W[0].e.r;++y)for(m=W[0].s.c;m<=W[0].e.c;++m)p=t.dense?(a[y]||[])[m]:a[Dr({c:m,r:y})],p&&(p.l=W[1]);break;case 2048:for(y=W[0].s.r;y<=W[0].e.r;++y)for(m=W[0].s.c;m<=W[0].e.c;++m)p=t.dense?(a[y]||[])[m]:a[Dr({c:m,r:y})],p&&p.l&&(p.l.Tooltip=W[1]);break;case 28:{if(N.biff<=5&&N.biff>=2)break;p=t.dense?(a[W[0].r]||[])[W[0].c]:a[Dr(W[0])];var ut=Y[W[2]];p||(t.dense?(a[W[0].r]||(a[W[0].r]=[]),p=a[W[0].r][W[0].c]={t:"z"}):p=a[Dr(W[0])]={t:"z"},s.e.r=Math.max(s.e.r,W[0].r),s.s.r=Math.min(s.s.r,W[0].r),s.e.c=Math.max(s.e.c,W[0].c),s.s.c=Math.min(s.s.c,W[0].c)),p.c||(p.c=[]),g={a:W[1],t:ut.TxO.t},p.c.push(g)}break;case 2173:kge(P[W.ixfe],W.ext);break;case 125:{if(!N.cellStyles)break;for(;W.e>=W.s;)K[W.e--]={width:W.w/256,level:W.level||0,hidden:!!(W.flags&1)},q||(q=!0,SC(W.w/256)),Ap(K[W.e+1])}break;case 520:{var Tt={};W.level!=null&&(J[W.r]=Tt,Tt.level=W.level),W.hidden&&(J[W.r]=Tt,Tt.hidden=!0),W.hpt&&(J[W.r]=Tt,Tt.hpt=W.hpt,Tt.hpx=a1(W.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||tv(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ce]]=W;break;case 161:a["!margins"]||tv(a["!margins"]={}),a["!margins"].header=W.header,a["!margins"].footer=W.footer;break;case 574:W.RTL&&(E.Views[0].RTL=!0);break;case 146:j=W;break;case 2198:O=W;break;case 140:D=W;break;case 442:c?_.CodeName=W||_.name:E.WBProps.CodeName=W||"ThisWorkbook";break}}else he||console.error("Missing Info for XLS Record 0x"+ce.toString(16)),e.l+=ne}return r.SheetNames=sc(i).sort(function(kt,_t){return Number(kt)-Number(_t)}).map(function(kt){return i[kt].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&u["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=u)):r.Preamble=u,r.Sheets&&z.forEach(function(kt,_t){r.Sheets[r.SheetNames[_t]]["!autofilter"]=kt}),r.Strings=l,r.SSF=Ai(Fr),N.enc&&(r.Encryption=N.enc),O&&(r.Themes=O),r.Metadata={},D!==void 0&&(r.Metadata.Country=D),V.names.length>0&&(E.Names=V.names),r.Workbook=E,r}var F8={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function oxe(e,t,r){var n=an.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=w8(n,A0e,F8.DSI);for(var i in a)t[i]=a[i]}catch(c){if(r.WTF)throw c}var s=an.find(e,"/!SummaryInformation");if(s&&s.size>0)try{var o=w8(s,E0e,F8.SI);for(var l in o)t[l]==null&&(t[l]=o[l])}catch(c){if(r.WTF)throw c}t.HeadingPairs&&t.TitlesOfParts&&(Mq(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function xW(e,t){t||(t={}),kC(t),Kz(),t.codepage&&sC(t.codepage);var r,n;if(e.FullPaths){if(an.find(e,"/encryption"))throw new Error("File is password-protected");r=an.find(e,"!CompObj"),n=an.find(e,"/Workbook")||an.find(e,"/Book")}else{switch(t.type){case"base64":e=hl(so(e));break;case"binary":e=hl(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}vi(e,0),n={content:e}}var a,i;if(r&&nxe(r),t.bookProps&&!t.bookSheets)a={};else{var s=Zr?"buffer":"array";if(n&&n.content)a=sxe(n.content,t);else if((i=an.find(e,"PerfectOffice_MAIN"))&&i.content)a=Zg.to_workbook(i.content,(t.type=s,t));else if((i=an.find(e,"NativeContent_MAIN"))&&i.content)a=Zg.to_workbook(i.content,(t.type=s,t));else throw(i=an.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&an.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=Hge(e))}var o={};return e.FullPaths&&oxe(e,o,t),a.Props=a.Custprops=o,t.bookFiles&&(a.cfb=e),a}var $b={0:{f:V1e},1:{f:H1e},2:{f:tye},3:{f:X1e},4:{f:K1e},5:{f:eye},6:{f:aye},7:{f:J1e},8:{f:cye},9:{f:lye},10:{f:sye},11:{f:oye},12:{f:G1e},13:{f:rye},14:{f:Q1e},15:{f:Y1e},16:{f:pW},17:{f:iye},18:{f:Z1e},19:{f:vC},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Mye},40:{},42:{},43:{f:sge},44:{f:ige},45:{f:oge},46:{f:cge},47:{f:lge},48:{},49:{f:u0e},50:{},51:{f:Pge},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Kq},62:{f:nye},63:{f:Lge},64:{f:yye},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:es,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:vye},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:W1e},148:{f:z1e,p:16},151:{f:dye},152:{},153:{f:Dye},154:{},155:{},156:{f:jye},157:{},158:{},159:{T:1,f:Eme},160:{T:-1},161:{T:1,f:Nh},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:uye},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Cge},336:{T:-1},337:{f:Oge,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:RE},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Gq},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:hye},427:{f:pye},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:gye},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:q1e},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:fye},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:RE},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:zge},633:{T:1},634:{T:-1},635:{T:1,f:Vge},636:{T:-1},637:{f:d0e},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Aye},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:xye},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},VE={6:{f:ZS},10:{f:Vu},12:{f:Oa},13:{f:Oa},14:{f:xa},15:{f:xa},16:{f:Hi},17:{f:xa},18:{f:xa},19:{f:Oa},20:{f:E8},21:{f:E8},23:{f:Gq},24:{f:N8},25:{f:xa},26:{},27:{},28:{f:Bpe},29:{},34:{f:xa},35:{f:T8},38:{f:Hi},39:{f:Hi},40:{f:Hi},41:{f:Hi},42:{f:xa},43:{f:xa},47:{f:qme},49:{f:wpe},51:{f:Oa},60:{},61:{f:ype},64:{f:xa},65:{f:bpe},66:{f:Oa},77:{},80:{},81:{},82:{},85:{f:Oa},89:{},90:{},91:{},92:{f:upe},93:{f:Vpe},94:{},95:{f:xa},96:{},97:{},99:{f:xa},125:{f:Kq},128:{f:Ope},129:{f:fpe},130:{f:Oa},131:{f:xa},132:{f:xa},133:{f:dpe},134:{},140:{f:Kpe},141:{f:Oa},144:{},146:{f:Xpe},151:{},152:{},153:{},154:{},155:{},156:{f:Oa},157:{},158:{},160:{f:tme},161:{f:Jpe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:Npe},190:{f:kpe},193:{f:Vu},197:{},198:{},199:{},200:{},201:{},202:{f:xa},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Oa},220:{},221:{f:xa},222:{},224:{f:Ppe},225:{f:cpe},226:{f:Vu},227:{},229:{f:Upe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:hpe},253:{f:_pe},255:{f:ppe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:Uq},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:xa},353:{f:Vu},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:jpe},431:{f:xa},432:{},433:{},434:{},437:{},438:{f:Wpe},439:{f:xa},440:{f:Hpe},441:{},442:{f:dy},443:{},444:{f:Oa},445:{},446:{},448:{f:Vu},449:{f:vpe,r:2},450:{f:Vu},512:{f:S8},513:{f:eme},515:{f:Ipe},516:{f:Spe},517:{f:A8},519:{f:rme},520:{f:mpe},523:{},545:{f:k8},549:{f:_8},566:{},574:{f:xpe},638:{f:Tpe},659:{},1048:{},1054:{f:Ape},1084:{},1212:{f:Rpe},2048:{f:Gpe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Ox},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Vu},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:Qpe,r:12},2173:{f:Nge,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:xa,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:Mpe,r:12},2197:{},2198:{f:wge,r:12},2199:{},2200:{},2201:{},2202:{f:Fpe,r:12},2203:{f:Vu},2204:{},2205:{},2206:{},2207:{},2211:{f:gpe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Oa},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:Zpe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:Ype},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:S8},1:{},2:{f:sme},3:{f:ime},4:{f:ame},5:{f:A8},7:{f:ome},8:{},9:{f:Ox},11:{},22:{f:Oa},30:{f:Epe},31:{},32:{},33:{f:k8},36:{},37:{f:_8},50:{f:lme},62:{},52:{},67:{},68:{f:Oa},69:{},86:{},126:{},127:{f:nme},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:cme},223:{},234:{},354:{},421:{},518:{f:ZS},521:{f:Ox},536:{f:N8},547:{f:T8},561:{},579:{},1030:{f:ZS},1033:{f:Ox},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function tl(e,t,r,n){var a=t;if(!isNaN(a)){var i=(r||[]).length||0,s=e.next(4);s.write_shift(2,a),s.write_shift(2,i),i>0&&kq(r)&&e.push(r)}}function $8(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),s=a.index,o=i&&i.index||e.length,l=Ihe(e.slice(s,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,u=0,f=0,h=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},g=[];for(s=0;s<l.length;++s){var m=l[s].trim(),y=m.slice(0,3).toLowerCase();if(y=="<tr"){if(++c,r.sheetRows&&r.sheetRows<=c){--c;break}u=0;continue}if(!(y!="<td"&&y!="<th")){var v=m.split(/<\/t[dh]>/i);for(o=0;o<v.length;++o){var b=v[o].trim();if(b.match(/<t[dh]/i)){for(var w=b,D=0;w.charAt(0)=="<"&&(D=w.indexOf(">"))>-1;)w=w.slice(D+1);for(var P=0;P<g.length;++P){var j=g[P];j.s.c==u&&j.s.r<c&&c<=j.e.r&&(u=j.e.c+1,P=-1)}var E=Tr(b.slice(0,b.indexOf(">")));h=E.colspan?+E.colspan:1,((f=+E.rowspan)>1||h>1)&&g.push({s:{r:c,c:u},e:{r:c+(f||1)-1,c:u+h-1}});var _=E.t||E["data-t"]||"";if(!w.length){u+=h;continue}if(w=mq(w),p.s.r>c&&(p.s.r=c),p.e.r<c&&(p.e.r=c),p.s.c>u&&(p.s.c=u),p.e.c<u&&(p.e.c=u),!w.length){u+=h;continue}var S={t:"s",v:w};r.raw||!w.trim().length||_=="s"||(w==="TRUE"?S={t:"b",v:!0}:w==="FALSE"?S={t:"b",v:!1}:isNaN(wl(w))?isNaN(Sp(w).getDate())||(S={t:"d",v:si(w)},r.cellDates||(S={t:"n",v:ys(S.v)}),S.z=r.dateNF||Fr[14]):S={t:"n",v:wl(w)}),r.dense?(n[c]||(n[c]=[]),n[c][u]=S):n[Dr({r:c,c:u})]=S,u+=h}}}}return n["!ref"]=on(p),g.length&&(n["!merges"]=g),n}function lxe(e,t,r,n){for(var a=e["!merges"]||[],i=[],s=t.s.c;s<=t.e.c;++s){for(var o=0,l=0,c=0;c<a.length;++c)if(!(a[c].s.r>r||a[c].s.c>s)&&!(a[c].e.r<r||a[c].e.c<s)){if(a[c].s.r<r||a[c].s.c<s){o=-1;break}o=a[c].e.r-a[c].s.r+1,l=a[c].e.c-a[c].s.c+1;break}if(!(o<0)){var u=Dr({r,c:s}),f=n.dense?(e[r]||[])[s]:e[u],h=f&&f.v!=null&&(f.h||dC(f.w||(tu(f),f.w)||""))||"",p={};o>1&&(p.rowspan=o),l>1&&(p.colspan=l),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),p.id=(n.id||"sjs")+"-"+u,i.push(Khe("td",h,p))}}var g="<tr>";return g+i.join("")+"</tr>"}var cxe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',uxe="</body></html>";function fxe(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Jf($8(r[0],t),t);var n=PC();return r.forEach(function(a,i){OC(n,$8(a,t),"Sheet"+(i+1))}),n}function dxe(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function hxe(e,t){var r=t||{},n=r.header!=null?r.header:cxe,a=r.footer!=null?r.footer:uxe,i=[n],s=um(e["!ref"]);r.dense=Array.isArray(e),i.push(dxe(e,s,r));for(var o=s.s.r;o<=s.e.r;++o)i.push(lxe(e,s,o,r));return i.push("</table>"+a),i.join("")}function bW(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var s=typeof n.origin=="string"?hs(n.origin):n.origin;a=s.r,i=s.c}var o=t.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var u=um(e["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),a==-1&&(c.e.r=a=u.e.r+1)}var f=[],h=0,p=e["!rows"]||(e["!rows"]=[]),g=0,m=0,y=0,v=0,b=0,w=0;for(e["!cols"]||(e["!cols"]=[]);g<o.length&&m<l;++g){var D=o[g];if(B8(D)){if(n.display)continue;p[m]={hidden:!0}}var P=D.children;for(y=v=0;y<P.length;++y){var j=P[y];if(!(n.display&&B8(j))){var E=j.hasAttribute("data-v")?j.getAttribute("data-v"):j.hasAttribute("v")?j.getAttribute("v"):mq(j.innerHTML),_=j.getAttribute("data-z")||j.getAttribute("z");for(h=0;h<f.length;++h){var S=f[h];S.s.c==v+i&&S.s.r<m+a&&m+a<=S.e.r&&(v=S.e.c+1-i,h=-1)}w=+j.getAttribute("colspan")||1,((b=+j.getAttribute("rowspan")||1)>1||w>1)&&f.push({s:{r:m+a,c:v+i},e:{r:m+a+(b||1)-1,c:v+i+(w||1)-1}});var I={t:"s",v:E},T=j.getAttribute("data-t")||j.getAttribute("t")||"";E!=null&&(E.length==0?I.t=T||"z":n.raw||E.trim().length==0||T=="s"||(E==="TRUE"?I={t:"b",v:!0}:E==="FALSE"?I={t:"b",v:!1}:isNaN(wl(E))?isNaN(Sp(E).getDate())||(I={t:"d",v:si(E)},n.cellDates||(I={t:"n",v:ys(I.v)}),I.z=n.dateNF||Fr[14]):I={t:"n",v:wl(E)})),I.z===void 0&&_!=null&&(I.z=_);var N="",O=j.getElementsByTagName("A");if(O&&O.length)for(var U=0;U<O.length&&!(O[U].hasAttribute("href")&&(N=O[U].getAttribute("href"),N.charAt(0)!="#"));++U);N&&N.charAt(0)!="#"&&(I.l={Target:N}),n.dense?(e[m+a]||(e[m+a]=[]),e[m+a][v+i]=I):e[Dr({c:v+i,r:m+a})]=I,c.e.c<v+i&&(c.e.c=v+i),v+=w}}++m}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),c.e.r=Math.max(c.e.r,m-1+a),e["!ref"]=on(c),m>=l&&(e["!fullref"]=on((c.e.r=o.length-g+m-1+a,c))),e}function wW(e,t){var r=t||{},n=r.dense?[]:{};return bW(n,e,t)}function pxe(e,t){return Jf(wW(e,t),t)}function B8(e){var t="",r=mxe(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function mxe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function gxe(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=dn(t.replace(/<[^>]*>/g,""));return[r]}var U8={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function _W(e,t){var r=t||{},n=hC(e),a=[],i,s,o={name:""},l="",c=0,u,f,h={},p=[],g=r.dense?[]:{},m,y,v={value:""},b="",w=0,D=[],P=-1,j=-1,E={s:{r:1e6,c:1e7},e:{r:0,c:0}},_=0,S={},I=[],T={},N=0,O=0,U=[],Y=1,K=1,J=[],q={Names:[]},V={},ee=["",""],Z=[],k={},R="",z=0,G=!1,Q=!1,oe=0;for(t1.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");m=t1.exec(n);)switch(m[3]=m[3].replace(/_.*$/,"")){case"table":case"工作表":m[1]==="/"?(E.e.c>=E.s.c&&E.e.r>=E.s.r?g["!ref"]=on(E):g["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=E.e.r&&(g["!fullref"]=g["!ref"],E.e.r=r.sheetRows-1,g["!ref"]=on(E)),I.length&&(g["!merges"]=I),U.length&&(g["!rows"]=U),u.name=u.名称||u.name,typeof JSON<"u"&&JSON.stringify(u),p.push(u.name),h[u.name]=g,Q=!1):m[0].charAt(m[0].length-2)!=="/"&&(u=Tr(m[0],!1),P=j=-1,E.s.r=E.s.c=1e7,E.e.r=E.e.c=0,g=r.dense?[]:{},I=[],U=[],Q=!0);break;case"table-row-group":m[1]==="/"?--_:++_;break;case"table-row":case"行":if(m[1]==="/"){P+=Y,Y=1;break}if(f=Tr(m[0],!1),f.行号?P=f.行号-1:P==-1&&(P=0),Y=+f["number-rows-repeated"]||1,Y<10)for(oe=0;oe<Y;++oe)_>0&&(U[P+oe]={level:_});j=-1;break;case"covered-table-cell":m[1]!=="/"&&++j,r.sheetStubs&&(r.dense?(g[P]||(g[P]=[]),g[P][j]={t:"z"}):g[Dr({r:P,c:j})]={t:"z"}),b="",D=[];break;case"table-cell":case"数据":if(m[0].charAt(m[0].length-2)==="/")++j,v=Tr(m[0],!1),K=parseInt(v["number-columns-repeated"]||"1",10),y={t:"z",v:null},v.formula&&r.cellFormula!=!1&&(y.f=L8(dn(v.formula))),(v.数据类型||v["value-type"])=="string"&&(y.t="s",y.v=dn(v["string-value"]||""),r.dense?(g[P]||(g[P]=[]),g[P][j]=y):g[Dr({r:P,c:j})]=y),j+=K-1;else if(m[1]!=="/"){++j,b="",w=0,D=[],K=1;var ce=Y?P+Y-1:P;if(j>E.e.c&&(E.e.c=j),j<E.s.c&&(E.s.c=j),P<E.s.r&&(E.s.r=P),ce>E.e.r&&(E.e.r=ce),v=Tr(m[0],!1),Z=[],k={},y={t:v.数据类型||v["value-type"],v:null},r.cellFormula)if(v.formula&&(v.formula=dn(v.formula)),v["number-matrix-columns-spanned"]&&v["number-matrix-rows-spanned"]&&(N=parseInt(v["number-matrix-rows-spanned"],10)||0,O=parseInt(v["number-matrix-columns-spanned"],10)||0,T={s:{r:P,c:j},e:{r:P+N-1,c:j+O-1}},y.F=on(T),J.push([T,y.F])),v.formula)y.f=L8(v.formula);else for(oe=0;oe<J.length;++oe)P>=J[oe][0].s.r&&P<=J[oe][0].e.r&&j>=J[oe][0].s.c&&j<=J[oe][0].e.c&&(y.F=J[oe][1]);switch((v["number-columns-spanned"]||v["number-rows-spanned"])&&(N=parseInt(v["number-rows-spanned"],10)||0,O=parseInt(v["number-columns-spanned"],10)||0,T={s:{r:P,c:j},e:{r:P+N-1,c:j+O-1}},I.push(T)),v["number-columns-repeated"]&&(K=parseInt(v["number-columns-repeated"],10)),y.t){case"boolean":y.t="b",y.v=Yn(v["boolean-value"]);break;case"float":y.t="n",y.v=parseFloat(v.value);break;case"percentage":y.t="n",y.v=parseFloat(v.value);break;case"currency":y.t="n",y.v=parseFloat(v.value);break;case"date":y.t="d",y.v=si(v["date-value"]),r.cellDates||(y.t="n",y.v=ys(y.v)),y.z="m/d/yy";break;case"time":y.t="n",y.v=Che(v["time-value"])/86400,r.cellDates&&(y.t="d",y.v=D5(y.v)),y.z="HH:MM:SS";break;case"number":y.t="n",y.v=parseFloat(v.数据数值);break;default:if(y.t==="string"||y.t==="text"||!y.t)y.t="s",v["string-value"]!=null&&(b=dn(v["string-value"]),D=[]);else throw new Error("Unsupported value type "+y.t)}}else{if(G=!1,y.t==="s"&&(y.v=b||"",D.length&&(y.R=D),G=w==0),V.Target&&(y.l=V),Z.length>0&&(y.c=Z,Z=[]),b&&r.cellText!==!1&&(y.w=b),G&&(y.t="z",delete y.v),(!G||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=P))for(var ne=0;ne<Y;++ne){if(K=parseInt(v["number-columns-repeated"]||"1",10),r.dense)for(g[P+ne]||(g[P+ne]=[]),g[P+ne][j]=ne==0?y:Ai(y);--K>0;)g[P+ne][j+K]=Ai(y);else for(g[Dr({r:P+ne,c:j})]=y;--K>0;)g[Dr({r:P+ne,c:j+K})]=Ai(y);E.e.c<=j&&(E.e.c=j)}K=parseInt(v["number-columns-repeated"]||"1",10),j+=K-1,K=0,y={},b="",D=[]}V={};break;case"document":case"document-content":case"电子表格文档":case"spreadsheet":case"主体":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(m[1]==="/"){if((i=a.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!0]);break;case"annotation":if(m[1]==="/"){if((i=a.pop())[0]!==m[3])throw"Bad state: "+i;k.t=b,D.length&&(k.R=D),k.a=R,Z.push(k)}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!1]);R="",z=0,b="",w=0,D=[];break;case"creator":m[1]==="/"?R=n.slice(z,m.index):z=m.index+m[0].length;break;case"meta":case"元数据":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(m[1]==="/"){if((i=a.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!1]);b="",w=0,D=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(m[1]==="/"){if(S[o.name]=l,(i=a.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&(l="",o=Tr(m[0],!1),a.push([m[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":s=Tr(m[0],!1),l+=U8[m[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":s=Tr(m[0],!1),l+=U8[m[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(m[0].slice(-2)==="/>")break;if(m[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":l+=n.slice(c,m.index);break}else c=m.index+m[0].length;break;case"named-range":s=Tr(m[0],!1),ee=eA(s["cell-range-address"]);var he={Name:s.name,Ref:ee[0]+"!"+ee[1]};Q&&(he.Sheet=p.length),q.Names.push(he);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"电子表格":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"文本串":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(m[1]==="/"&&(!v||!v["string-value"])){var ye=gxe(n.slice(w,m.index));b=(b.length>0?b+`
`:"")+ye[0]}else Tr(m[0],!1),w=m.index+m[0].length;break;case"s":break;case"database-range":if(m[1]==="/")break;try{ee=eA(Tr(m[0])["target-range-address"]),h[ee[0]]["!autofilter"]={ref:ee[1]}}catch{}break;case"date":break;case"object":break;case"title":case"标题":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(m[1]!=="/"){if(V=Tr(m[0],!1),!V.href)break;V.Target=dn(V.href),delete V.href,V.Target.charAt(0)=="#"&&V.Target.indexOf(".")>-1?(ee=eA(V.Target.slice(1)),V.Target="#"+ee[0]+"!"+ee[1]):V.Target.match(/^\.\.[\\\/]/)&&(V.Target=V.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(m[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"表:":case"字:":break;default:if(r.WTF)throw new Error(m)}}var W={Sheets:h,SheetNames:p,Workbook:q};return r.bookSheets&&delete W.Sheets,W}function V8(e,t){t=t||{},No(e,"META-INF/manifest.xml")&&I0e(Pa(e,"META-INF/manifest.xml"),t);var r=Zs(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=_W(Un(r),t);return No(e,"meta.xml")&&(n.Props=Lq(Pa(e,"meta.xml"))),n}function z8(e,t){return _W(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function TC(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function zE(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Un(Eh(e))}function qE(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function q8(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function vxe(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function i1(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Ha(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Ki(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=i1(e,r),i=a&7;a=Math.floor(a/8);var s=0,o;if(a==0)break;switch(i){case 0:{for(var l=r[0];e[r[0]++]>=128;);o=e.slice(l,r[0])}break;case 5:s=4,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=i1(e,r),o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var c={data:o,type:i};t[a]==null?t[a]=[c]:t[a].push(c)}return t}function NC(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function yxe(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=i1(e,n),i=Ki(e.slice(n[0],n[0]+a));n[0]+=a;var s={id:Ha(i[1][0].data),messages:[]};i[2].forEach(function(o){var l=Ki(o.data),c=Ha(l[3][0].data);s.messages.push({meta:l,data:e.slice(n[0],n[0]+c)}),n[0]+=c}),(t=i[3])!=null&&t[0]&&(s.merge=Ha(i[3][0].data)>>>0>0),r.push(s)}return r}function xxe(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=i1(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var s=t[r[0]++]>>2;if(s<60)++s;else{var o=s-59;s=t[r[0]],o>1&&(s|=t[r[0]+1]<<8),o>2&&(s|=t[r[0]+2]<<16),o>3&&(s|=t[r[0]+3]<<24),s>>>=0,s++,r[0]+=o}a.push(t.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var l=0,c=0;if(i==1?(c=(t[r[0]]>>2&7)+4,l=(t[r[0]++]&224)<<3,l|=t[r[0]++]):(c=(t[r[0]++]>>2)+1,i==2?(l=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(l=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[qE(a)],l==0)throw new Error("Invalid offset 0");if(l>a[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(a.push(a[0].slice(-l)),c-=l;c>=a[a.length-1].length;)a.push(a[a.length-1]),c-=a[a.length-1].length;a.push(a[0].slice(-l,-l+c))}}var u=qE(a);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function bxe(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(xxe(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return qE(t)}function wxe(e,t,r,n){var a=TC(e),i=a.getUint32(4,!0),s=(n>1?12:8)+q8(i&(n>1?3470:398))*4,o=-1,l=-1,c=NaN,u=new Date(2001,0,1);i&512&&(o=a.getUint32(s,!0),s+=4),s+=q8(i&(n>1?12288:4096))*4,i&16&&(l=a.getUint32(s,!0),s+=4),i&32&&(c=a.getFloat64(s,!0),s+=8),i&64&&(u.setTime(u.getTime()+a.getFloat64(s,!0)*1e3),s+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else if(l>-1)f={t:"s",v:t[l]};else if(!isNaN(c))f={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function _xe(e,t,r){var n=TC(e),a=n.getUint32(8,!0),i=12,s=-1,o=-1,l=NaN,c=NaN,u=new Date(2001,0,1);a&1&&(l=vxe(e,i),i+=16),a&2&&(c=n.getFloat64(i,!0),i+=8),a&4&&(u.setTime(u.getTime()+n.getFloat64(i,!0)*1e3),i+=8),a&8&&(o=n.getUint32(i,!0),i+=4),a&16&&(s=n.getUint32(i,!0),i+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:t[o]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(s>-1)f={t:"s",v:r[s]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function Sxe(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return wxe(e,t,r,e[0]);case 5:return _xe(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Nf(e){var t=Ki(e);return i1(t[1][0].data)}function W8(e,t){var r=Ki(t.data),n=Ha(r[1][0].data),a=r[3],i=[];return(a||[]).forEach(function(s){var o=Ki(s.data),l=Ha(o[1][0].data)>>>0;switch(n){case 1:i[l]=zE(o[3][0].data);break;case 8:{var c=e[Nf(o[9][0].data)][0],u=Ki(c.data),f=e[Nf(u[1][0].data)][0],h=Ha(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var p=Ki(f.data);i[l]=p[3].map(function(g){return zE(g.data)}).join("")}break}}),i}function Axe(e,t){var r,n,a,i,s,o,l,c,u,f,h,p,g,m,y=Ki(e),v=Ha(y[1][0].data)>>>0,b=Ha(y[2][0].data)>>>0,w=((n=(r=y[8])==null?void 0:r[0])==null?void 0:n.data)&&Ha(y[8][0].data)>0||!1,D,P;if((i=(a=y[7])==null?void 0:a[0])!=null&&i.data&&t!=0)D=(o=(s=y[7])==null?void 0:s[0])==null?void 0:o.data,P=(c=(l=y[6])==null?void 0:l[0])==null?void 0:c.data;else if((f=(u=y[4])==null?void 0:u[0])!=null&&f.data&&t!=1)D=(p=(h=y[4])==null?void 0:h[0])==null?void 0:p.data,P=(m=(g=y[3])==null?void 0:g[0])==null?void 0:m.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var j=w?4:1,E=TC(D),_=[],S=0;S<D.length/2;++S){var I=E.getUint16(S*2,!0);I<65535&&_.push([S,I])}if(_.length!=b)throw"Expected ".concat(b," cells, found ").concat(_.length);var T=[];for(S=0;S<_.length-1;++S)T[_[S][0]]=P.subarray(_[S][1]*j,_[S+1][1]*j);return _.length>=1&&(T[_[_.length-1][0]]=P.subarray(_[_.length-1][1]*j)),{R:v,cells:T}}function Exe(e,t){var r,n=Ki(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?Ha(n[7][0].data)>>>0>0?1:0:-1,i=NC(n[5],function(s){return Axe(s,a)});return{nrows:Ha(n[4][0].data)>>>0,data:i.reduce(function(s,o){return s[o.R]||(s[o.R]=[]),o.cells.forEach(function(l,c){if(s[o.R][c])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(c));s[o.R][c]=l}),s},[])}}function Txe(e,t,r){var n,a=Ki(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(Ha(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(Ha(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=on(i);var s=Ki(a[4][0].data),o=W8(e,e[Nf(s[4][0].data)][0]),l=(n=s[17])!=null&&n[0]?W8(e,e[Nf(s[17][0].data)][0]):[],c=Ki(s[3][0].data),u=0;c[1].forEach(function(f){var h=Ki(f.data),p=e[Nf(h[2][0].data)][0],g=Ha(p.meta[1][0].data);if(g!=6002)throw new Error("6001 unexpected reference to ".concat(g));var m=Exe(e,p);m.data.forEach(function(y,v){y.forEach(function(b,w){var D=Dr({r:u+v,c:w}),P=Sxe(b,o,l);P&&(r[D]=P)})}),u+=m.nrows})}function Nxe(e,t){var r=Ki(t.data),n={"!ref":"A1"},a=e[Nf(r[2][0].data)],i=Ha(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return Txe(e,a[0],n),n}function kxe(e,t){var r,n=Ki(t.data),a={name:(r=n[1])!=null&&r[0]?zE(n[1][0].data):"",sheets:[]},i=NC(n[2],Nf);return i.forEach(function(s){e[s].forEach(function(o){var l=Ha(o.meta[1][0].data);l==6e3&&a.sheets.push(Nxe(e,o))})}),a}function Cxe(e,t){var r=PC(),n=Ki(t.data),a=NC(n[1],Nf);if(a.forEach(function(i){e[i].forEach(function(s){var o=Ha(s.meta[1][0].data);if(o==2){var l=kxe(e,s);l.sheets.forEach(function(c,u){OC(r,c,u==0?l.name:l.name+"_"+u,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function rA(e){var t,r,n,a,i={},s=[];if(e.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=bxe(l.content)}catch(f){return console.log("?? "+l.content.length+" "+(f.message||f))}var u;try{u=yxe(c)}catch(f){return console.log("## "+(f.message||f))}u.forEach(function(f){i[f.id]=f.messages,s.push(f.id)})}}),!s.length)throw new Error("File has no messages");var o=((a=(n=(r=(t=i==null?void 0:i[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&Ha(i[1][0].meta[1][0].data)==1&&i[1][0];if(o||s.forEach(function(l){i[l].forEach(function(c){var u=Ha(c.meta[1][0].data)>>>0;if(u==1)if(!o)o=c;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return Cxe(i,o)}function Pxe(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function kC(e){Pxe([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function Oxe(e){return D0.WS.indexOf(e)>-1?"sheet":e==D0.CS?"chart":e==D0.DS?"dialog":e==D0.MS?"macro":e&&e.length?e:"sheet"}function Ixe(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,Oxe(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function jxe(e,t,r,n,a,i,s,o,l,c,u,f){try{i[n]=Qg(Zs(e,r,!0),t);var h=Pa(e,t),p;switch(o){case"sheet":p=$ye(h,t,a,l,i[n],c,u,f);break;case"chart":if(p=Bye(h,t,a,l,i[n],c,u,f),!p||!p["!drawel"])break;var g=Ag(p["!drawel"].Target,t),m=FE(g),y=Fge(Zs(e,g,!0),Qg(Zs(e,m,!0),g)),v=Ag(y,g),b=FE(v);p=_ye(Zs(e,v,!0),v,l,Qg(Zs(e,b,!0),v),c,p);break;case"macro":p=Uye(h,t,a,l,i[n],c,u,f);break;case"dialog":p=Vye(h,t,a,l,i[n],c,u,f);break;default:throw new Error("Unrecognized sheet type "+o)}s[n]=p;var w=[];i&&i[n]&&sc(i[n]).forEach(function(D){var P="";if(i[n][D].Type==D0.CMNT){P=Ag(i[n][D].Target,t);var j=Hye(Pa(e,P,!0),P,l);if(!j||!j.length)return;P8(p,j,!1)}i[n][D].Type==D0.TCMNT&&(P=Ag(i[n][D].Target,t),w=w.concat(Bge(Pa(e,P,!0),l)))}),w&&w.length&&P8(p,w,!0,l.people||[])}catch(D){if(l.WTF)throw D}}function bo(e){return e.charAt(0)=="/"?e.slice(1):e}function Dxe(e,t){if(sq(),t=t||{},kC(t),No(e,"META-INF/manifest.xml")||No(e,"objectdata.xml"))return V8(e,t);if(No(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof rA<"u"){if(e.FileIndex)return rA(e);var r=an.utils.cfb_new();return n8(e).forEach(function(U){Lhe(r,U,Dhe(e,U))}),rA(r)}throw new Error("Unsupported NUMBERS file")}if(!No(e,"[Content_Types].xml"))throw No(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):No(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=n8(e),a=P0e(Zs(e,"[Content_Types].xml")),i=!1,s,o;if(a.workbooks.length===0&&(o="xl/workbook.xml",Pa(e,o,!0)&&a.workbooks.push(o)),a.workbooks.length===0){if(o="xl/workbook.bin",!Pa(e,o,!0))throw new Error("Could not find workbook");a.workbooks.push(o),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var l={},c={};if(!t.bookSheets&&!t.bookProps){if(ev=[],a.sst)try{ev=Wye(Pa(e,bo(a.sst)),a.sst,t)}catch(U){if(t.WTF)throw U}t.cellStyles&&a.themes.length&&(l=qye(Zs(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(c=zye(Pa(e,bo(a.style)),a.style,l,t))}a.links.map(function(U){try{var Y=Qg(Zs(e,FE(bo(U))),U);return Kye(Pa(e,bo(U)),Y,U,t)}catch{}});var u=Fye(Pa(e,bo(a.workbooks[0])),a.workbooks[0],t),f={},h="";a.coreprops.length&&(h=Pa(e,bo(a.coreprops[0]),!0),h&&(f=Lq(h)),a.extprops.length!==0&&(h=Pa(e,bo(a.extprops[0]),!0),h&&L0e(h,f,t)));var p={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(h=Zs(e,bo(a.custprops[0]),!0),h&&(p=R0e(h,t)));var g={};if((t.bookSheets||t.bookProps)&&(u.Sheets?s=u.Sheets.map(function(Y){return Y.name}):f.Worksheets&&f.SheetNames.length>0&&(s=f.SheetNames),t.bookProps&&(g.Props=f,g.Custprops=p),t.bookSheets&&typeof s<"u"&&(g.SheetNames=s),t.bookSheets?g.SheetNames:t.bookProps))return g;s={};var m={};t.bookDeps&&a.calcchain&&(m=Gye(Pa(e,bo(a.calcchain)),a.calcchain));var y=0,v={},b,w;{var D=u.Sheets;f.Worksheets=D.length,f.SheetNames=[];for(var P=0;P!=D.length;++P)f.SheetNames[P]=D[P].name}var j=i?"bin":"xml",E=a.workbooks[0].lastIndexOf("/"),_=(a.workbooks[0].slice(0,E+1)+"_rels/"+a.workbooks[0].slice(E+1)+".rels").replace(/^\//,"");No(e,_)||(_="xl/_rels/workbook."+j+".rels");var S=Qg(Zs(e,_,!0),_.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=Yye(Pa(e,bo(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=Uge(Pa(e,bo(a.people[0])),t)),S&&(S=Ixe(S,u.Sheets));var I=Pa(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(y=0;y!=f.Worksheets;++y){var T="sheet";if(S&&S[y]?(b="xl/"+S[y][1].replace(/[\/]?xl\//,""),No(e,b)||(b=S[y][1]),No(e,b)||(b=_.replace(/_rels\/.*$/,"")+S[y][1]),T=S[y][2]):(b="xl/worksheets/sheet"+(y+1-I)+"."+j,b=b.replace(/sheet0\./,"sheet.")),w=b.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(y!=t.sheets)continue e;break;case"string":if(f.SheetNames[y].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var N=!1,O=0;O!=t.sheets.length;++O)typeof t.sheets[O]=="number"&&t.sheets[O]==y&&(N=1),typeof t.sheets[O]=="string"&&t.sheets[O].toLowerCase()==f.SheetNames[y].toLowerCase()&&(N=1);if(!N)continue e}}jxe(e,b,w,f.SheetNames[y],y,v,s,T,t,u,l,c)}return g={Directory:a,Workbook:u,Props:f,Custprops:p,Deps:m,Sheets:s,SheetNames:f.SheetNames,Strings:ev,Styles:c,Themes:l,SSF:Ai(Fr)},t&&t.bookFiles&&(e.files?(g.keys=n,g.files=e.files):(g.keys=[],g.files={},e.FullPaths.forEach(function(U,Y){U=U.replace(/^Root Entry[\/]/,""),g.keys.push(U),g.files[U]=e.FileIndex[Y]}))),t&&t.bookVBA&&(a.vba.length>0?g.vbaraw=Pa(e,bo(a.vba[0]),!0):a.defaults&&a.defaults.bin===Wge&&(g.vbaraw=Pa(e,"xl/vbaProject.bin",!0))),g}function Lxe(e,t){var r=t||{},n="Workbook",a=an.find(e,n);try{if(n="/!DataSpaces/Version",a=an.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(Nme(a.content),n="/!DataSpaces/DataSpaceMap",a=an.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=Cme(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=an.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=Pme(a.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=an.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);Ime(a.content)}catch{}if(n="/EncryptionInfo",a=an.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=jme(a.content);if(n="/EncryptedPackage",a=an.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],a.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function CC(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=so(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function Mxe(e,t){return an.find(e,"EncryptedPackage")?Lxe(e,t):xW(e,t)}function Rxe(e,t){var r,n=e,a=t||{};return a.type||(a.type=Zr&&Buffer.isBuffer(e)?"buffer":"base64"),r=dq(n,a),Dxe(r,a)}function SW(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return UE(e.slice(r),t);default:break e}return r1.to_workbook(e,t)}function Fxe(e,t){var r="",n=CC(e,t);switch(t.type){case"base64":r=so(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=uh(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=Un(r)),t.type="binary",SW(r,t)}function $xe(e,t){var r=e;return t.type=="base64"&&(r=so(r)),r=ef.utils.decode(1200,r.slice(2),"str"),t.type="binary",SW(r,t)}function Bxe(e){return e.match(/[^\x00-\x7F]/)?Eg(e):e}function nA(e,t,r,n){return n?(r.type="string",r1.to_workbook(e,r)):r1.to_workbook(t,r)}function WE(e,t){Kz();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return WE(new Uint8Array(e),(r=Ai(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Y0={},r.dateNF&&(Y0.dateNF=r.dateNF),r.type||(r.type=Zr&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Zr?"buffer":"binary",n=Nhe(e),typeof Uint8Array<"u"&&!Zr&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,n=Bxe(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),o=new Uint8Array(s);if(o.foo="bar",!o.foo)return r=Ai(r),r.type="array",WE(oC(n),r)}switch((a=CC(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return Mxe(an.read(n,r),r);break;case 9:if(a[1]<=8)return xW(n,r);break;case 60:return UE(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return pme(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return dme.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?Rxe(n,r):nA(e,n,r,i);case 239:return a[3]===60?UE(n,r):nA(e,n,r,i);case 255:if(a[1]===254)return $xe(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return Zg.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return Zg.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return C8.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return Wme.to_workbook(n,r);break;case 10:case 13:case 32:return Fxe(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return ume.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?C8.to_workbook(n,r):nA(e,n,r,i)}function Uxe(e,t,r,n,a,i,s,o){var l=Ei(r),c=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!s||e[r])for(var p=t.s.c;p<=t.e.c;++p){var g=s?e[r][p]:e[n[p]+l];if(g===void 0||g.t===void 0){if(c===void 0)continue;i[p]!=null&&(h[i[p]]=c);continue}var m=g.v;switch(g.t){case"z":if(m==null)break;continue;case"e":m=m==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(i[p]!=null){if(m==null)if(g.t=="e"&&m===null)h[i[p]]=null;else if(c!==void 0)h[i[p]]=c;else if(u&&m===null)h[i[p]]=null;else continue;else h[i[p]]=u&&(g.t!=="n"||g.t==="n"&&o.rawNumbers!==!1)?m:tu(g,m,o);m!=null&&(f=!1)}}return{row:h,isempty:f}}function HE(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],s=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},u=c.range!=null?c.range:e["!ref"];switch(c.header===1?n=1:c.header==="A"?n=2:Array.isArray(c.header)?n=3:c.header==null&&(n=0),typeof u){case"string":l=ga(u);break;case"number":l=ga(e["!ref"]),l.s.r=u;break;default:l=u}n>0&&(a=0);var f=Ei(l.s.r),h=[],p=[],g=0,m=0,y=Array.isArray(e),v=l.s.r,b=0,w={};y&&!e[v]&&(e[v]=[]);var D=c.skipHidden&&e["!cols"]||[],P=c.skipHidden&&e["!rows"]||[];for(b=l.s.c;b<=l.e.c;++b)if(!(D[b]||{}).hidden)switch(h[b]=za(b),r=y?e[v][b]:e[h[b]+f],n){case 1:i[b]=b-l.s.c;break;case 2:i[b]=h[b];break;case 3:i[b]=c.header[b-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=s=tu(r,null,c),m=w[s]||0,!m)w[s]=1;else{do o=s+"_"+m++;while(w[o]);w[s]=m,w[o]=1}i[b]=o}for(v=l.s.r+a;v<=l.e.r;++v)if(!(P[v]||{}).hidden){var j=Uxe(e,l,v,h,n,i,y,c);(j.isempty===!1||(n===1?c.blankrows!==!1:c.blankrows))&&(p[g++]=j.row)}return p.length=g,p}var H8=/"/g;function Vxe(e,t,r,n,a,i,s,o){for(var l=!0,c=[],u="",f=Ei(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var p=o.dense?(e[r]||[])[h]:e[n[h]+f];if(p==null)u="";else if(p.v!=null){l=!1,u=""+(o.rawNumbers&&p.t=="n"?p.v:tu(p,null,o));for(var g=0,m=0;g!==u.length;++g)if((m=u.charCodeAt(g))===a||m===i||m===34||o.forceQuotes){u='"'+u.replace(H8,'""')+'"';break}u=="ID"&&(u='"ID"')}else p.f!=null&&!p.F?(l=!1,u="="+p.f,u.indexOf(",")>=0&&(u='"'+u.replace(H8,'""')+'"')):u="";c.push(u)}return o.blankrows===!1&&l?null:c.join(s)}function AW(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=ga(e["!ref"]),i=n.FS!==void 0?n.FS:",",s=i.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),c=new RegExp((i=="|"?"\\|":i)+"+$"),u="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],p=n.skipHidden&&e["!rows"]||[],g=a.s.c;g<=a.e.c;++g)(h[g]||{}).hidden||(f[g]=za(g));for(var m=0,y=a.s.r;y<=a.e.r;++y)(p[y]||{}).hidden||(u=Vxe(e,a,y,f,s,l,i,n),u!=null&&(n.strip&&(u=u.replace(c,"")),(u||n.blankrows!==!1)&&r.push((m++?o:"")+u)));return delete n.dense,r.join("")}function zxe(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=AW(e,t);return r}function qxe(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=ga(e["!ref"]),i="",s=[],o,l=[],c=Array.isArray(e);for(o=a.s.c;o<=a.e.c;++o)s[o]=za(o);for(var u=a.s.r;u<=a.e.r;++u)for(i=Ei(u),o=a.s.c;o<=a.e.c;++o)if(t=s[o]+i,r=c?(e[u]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=t+"="+n}return l}function EW(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},s=0,o=0;if(i&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?hs(n.origin):n.origin;s=l.r,o=l.c}var c,u={s:{c:0,r:0},e:{c:o,r:s+t.length-1+a}};if(i["!ref"]){var f=ga(i["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),s==-1&&(s=f.e.r+1,u.e.r=s+t.length-1+a)}else s==-1&&(s=0,u.e.r=t.length-1+a);var h=n.header||[],p=0;t.forEach(function(m,y){sc(m).forEach(function(v){(p=h.indexOf(v))==-1&&(h[p=h.length]=v);var b=m[v],w="z",D="",P=Dr({c:o+p,r:s+y+a});c=s1(i,P),b&&typeof b=="object"&&!(b instanceof Date)?i[P]=b:(typeof b=="number"?w="n":typeof b=="boolean"?w="b":typeof b=="string"?w="s":b instanceof Date?(w="d",n.cellDates||(w="n",b=ys(b)),D=n.dateNF||Fr[14]):b===null&&n.nullError&&(w="e",b=0),c?(c.t=w,c.v=b,delete c.w,delete c.R,D&&(c.z=D)):i[P]=c={t:w,v:b},D&&(c.z=D))})}),u.e.c=Math.max(u.e.c,o+h.length-1);var g=Ei(s);if(a)for(p=0;p<h.length;++p)i[za(p+o)+g]={t:"s",v:h[p]};return i["!ref"]=on(u),i}function Wxe(e,t){return EW(null,e,t)}function s1(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=hs(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?s1(e,Dr(t)):s1(e,Dr({r:t,c:r||0}))}function Hxe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function PC(){return{SheetNames:[],Sheets:{}}}function OC(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var s=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=s+a)!=-1;++a);}if(Pye(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function Gxe(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=Hxe(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function Kxe(e,t){return e.z=t,e}function TW(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function Yxe(e,t,r){return TW(e,"#"+t,r)}function Xxe(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function Qxe(e,t,r,n){for(var a=typeof t!="string"?t:ga(t),i=typeof t=="string"?t:on(t),s=a.s.r;s<=a.e.r;++s)for(var o=a.s.c;o<=a.e.c;++o){var l=s1(e,s,o);l.t="n",l.F=i,delete l.v,s==a.s.r&&o==a.s.c&&(l.f=r,n&&(l.D=!0))}return e}var Jxe={encode_col:za,encode_row:Ei,encode_cell:Dr,encode_range:on,decode_col:gC,decode_row:mC,split_cell:c0e,decode_cell:hs,decode_range:um,format_cell:tu,sheet_add_aoa:Pq,sheet_add_json:EW,sheet_add_dom:bW,aoa_to_sheet:fm,json_to_sheet:Wxe,table_to_sheet:wW,table_to_book:pxe,sheet_to_csv:AW,sheet_to_txt:zxe,sheet_to_json:HE,sheet_to_html:hxe,sheet_to_formulae:qxe,sheet_to_row_object_array:HE,sheet_get_cell:s1,book_new:PC,book_append_sheet:OC,book_set_sheet_visibility:Gxe,cell_set_number_format:Kxe,cell_set_hyperlink:TW,cell_set_internal_link:Yxe,cell_add_comment:Xxe,sheet_set_array_formula:Qxe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},NW={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((r,n)=>{e.exports=n()})(fg,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},a,i=!n.document&&!!n.postMessage,s=n.IS_PAPA_WORKER||!1,o={},l=0,c={};function u(_){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(S){var I=P(S);I.chunkSize=parseInt(I.chunkSize),S.step||S.chunk||(I.chunkSize=null),this._handle=new m(I),(this._handle.streamer=this)._config=I}).call(this,_),this.parseChunk=function(S,I){var T=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<T){let O=this._config.newline;O||(N=this._config.quoteChar||'"',O=this._handle.guessLineEndings(S,N)),S=[...S.split(O).slice(T)].join(O)}this.isFirstChunk&&E(this._config.beforeFirstChunk)&&(N=this._config.beforeFirstChunk(S))!==void 0&&(S=N),this.isFirstChunk=!1,this._halted=!1;var T=this._partialLine+S,N=(this._partialLine="",this._handle.parse(T,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(S=N.meta.cursor,T=(this._finished||(this._partialLine=T.substring(S-this._baseIndex),this._baseIndex=S),N&&N.data&&(this._rowCount+=N.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),s)n.postMessage({results:N,workerId:c.WORKER_ID,finished:T});else if(E(this._config.chunk)&&!I){if(this._config.chunk(N,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=N=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(N.data),this._completeResults.errors=this._completeResults.errors.concat(N.errors),this._completeResults.meta=N.meta),this._completed||!T||!E(this._config.complete)||N&&N.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),T||N&&N.meta.paused||this._nextChunk(),N}this._halted=!0},this._sendError=function(S){E(this._config.error)?this._config.error(S):s&&this._config.error&&n.postMessage({workerId:c.WORKER_ID,error:S,finished:!1})}}function f(_){var S;(_=_||{}).chunkSize||(_.chunkSize=c.RemoteChunkSize),u.call(this,_),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(I){this._input=I,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(S=new XMLHttpRequest,this._config.withCredentials&&(S.withCredentials=this._config.withCredentials),i||(S.onload=j(this._chunkLoaded,this),S.onerror=j(this._chunkError,this)),S.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var I,T=this._config.downloadRequestHeaders;for(I in T)S.setRequestHeader(I,T[I])}var N;this._config.chunkSize&&(N=this._start+this._config.chunkSize-1,S.setRequestHeader("Range","bytes="+this._start+"-"+N));try{S.send(this._config.downloadRequestBody)}catch(O){this._chunkError(O.message)}i&&S.status===0&&this._chunkError()}},this._chunkLoaded=function(){S.readyState===4&&(S.status<200||400<=S.status?this._chunkError():(this._start+=this._config.chunkSize||S.responseText.length,this._finished=!this._config.chunkSize||this._start>=(I=>(I=I.getResponseHeader("Content-Range"))!==null?parseInt(I.substring(I.lastIndexOf("/")+1)):-1)(S),this.parseChunk(S.responseText)))},this._chunkError=function(I){I=S.statusText||I,this._sendError(new Error(I))}}function h(_){(_=_||{}).chunkSize||(_.chunkSize=c.LocalChunkSize),u.call(this,_);var S,I,T=typeof FileReader<"u";this.stream=function(N){this._input=N,I=N.slice||N.webkitSlice||N.mozSlice,T?((S=new FileReader).onload=j(this._chunkLoaded,this),S.onerror=j(this._chunkError,this)):S=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var N=this._input,O=(this._config.chunkSize&&(O=Math.min(this._start+this._config.chunkSize,this._input.size),N=I.call(N,this._start,O)),S.readAsText(N,this._config.encoding));T||this._chunkLoaded({target:{result:O}})},this._chunkLoaded=function(N){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(N.target.result)},this._chunkError=function(){this._sendError(S.error)}}function p(_){var S;u.call(this,_=_||{}),this.stream=function(I){return S=I,this._nextChunk()},this._nextChunk=function(){var I,T;if(!this._finished)return I=this._config.chunkSize,S=I?(T=S.substring(0,I),S.substring(I)):(T=S,""),this._finished=!S,this.parseChunk(T)}}function g(_){u.call(this,_=_||{});var S=[],I=!0,T=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(N){this._input=N,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){T&&S.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),S.length?this.parseChunk(S.shift()):I=!0},this._streamData=j(function(N){try{S.push(typeof N=="string"?N:N.toString(this._config.encoding)),I&&(I=!1,this._checkIsFinished(),this.parseChunk(S.shift()))}catch(O){this._streamError(O)}},this),this._streamError=j(function(N){this._streamCleanUp(),this._sendError(N)},this),this._streamEnd=j(function(){this._streamCleanUp(),T=!0,this._streamData("")},this),this._streamCleanUp=j(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function m(_){var S,I,T,N,O=Math.pow(2,53),U=-O,Y=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,K=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,J=this,q=0,V=0,ee=!1,Z=!1,k=[],R={data:[],errors:[],meta:{}};function z(ce){return _.skipEmptyLines==="greedy"?ce.join("").trim()==="":ce.length===1&&ce[0].length===0}function G(){if(R&&T&&(oe("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),T=!1),_.skipEmptyLines&&(R.data=R.data.filter(function(ye){return!z(ye)})),Q()){let ye=function(W,Ce){E(_.transformHeader)&&(W=_.transformHeader(W,Ce)),k.push(W)};if(R)if(Array.isArray(R.data[0])){for(var ce=0;Q()&&ce<R.data.length;ce++)R.data[ce].forEach(ye);R.data.splice(0,1)}else R.data.forEach(ye)}function ne(ye,W){for(var Ce=_.header?{}:[],ke=0;ke<ye.length;ke++){var Ee=ke,ie=ye[ke],ie=((Fe,Ye)=>(Se=>(_.dynamicTypingFunction&&_.dynamicTyping[Se]===void 0&&(_.dynamicTyping[Se]=_.dynamicTypingFunction(Se)),(_.dynamicTyping[Se]||_.dynamicTyping)===!0))(Fe)?Ye==="true"||Ye==="TRUE"||Ye!=="false"&&Ye!=="FALSE"&&((Se=>{if(Y.test(Se)&&(Se=parseFloat(Se),U<Se&&Se<O))return 1})(Ye)?parseFloat(Ye):K.test(Ye)?new Date(Ye):Ye===""?null:Ye):Ye)(Ee=_.header?ke>=k.length?"__parsed_extra":k[ke]:Ee,ie=_.transform?_.transform(ie,Ee):ie);Ee==="__parsed_extra"?(Ce[Ee]=Ce[Ee]||[],Ce[Ee].push(ie)):Ce[Ee]=ie}return _.header&&(ke>k.length?oe("FieldMismatch","TooManyFields","Too many fields: expected "+k.length+" fields but parsed "+ke,V+W):ke<k.length&&oe("FieldMismatch","TooFewFields","Too few fields: expected "+k.length+" fields but parsed "+ke,V+W)),Ce}var he;R&&(_.header||_.dynamicTyping||_.transform)&&(he=1,!R.data.length||Array.isArray(R.data[0])?(R.data=R.data.map(ne),he=R.data.length):R.data=ne(R.data,0),_.header&&R.meta&&(R.meta.fields=k),V+=he)}function Q(){return _.header&&k.length===0}function oe(ce,ne,he,ye){ce={type:ce,code:ne,message:he},ye!==void 0&&(ce.row=ye),R.errors.push(ce)}E(_.step)&&(N=_.step,_.step=function(ce){R=ce,Q()?G():(G(),R.data.length!==0&&(q+=ce.data.length,_.preview&&q>_.preview?I.abort():(R.data=R.data[0],N(R,J))))}),this.parse=function(ce,ne,he){var ye=_.quoteChar||'"',ye=(_.newline||(_.newline=this.guessLineEndings(ce,ye)),T=!1,_.delimiter?E(_.delimiter)&&(_.delimiter=_.delimiter(ce),R.meta.delimiter=_.delimiter):((ye=((W,Ce,ke,Ee,ie)=>{var Fe,Ye,Se,$e;ie=ie||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var _e=0;_e<ie.length;_e++){for(var De,Ne=ie[_e],qe=0,at=0,nt=0,ut=(Se=void 0,new v({comments:Ee,delimiter:Ne,newline:Ce,preview:10}).parse(W)),Tt=0;Tt<ut.data.length;Tt++)ke&&z(ut.data[Tt])?nt++:(De=ut.data[Tt].length,at+=De,Se===void 0?Se=De:0<De&&(qe+=Math.abs(De-Se),Se=De));0<ut.data.length&&(at/=ut.data.length-nt),(Ye===void 0||qe<=Ye)&&($e===void 0||$e<at)&&1.99<at&&(Ye=qe,Fe=Ne,$e=at)}return{successful:!!(_.delimiter=Fe),bestDelimiter:Fe}})(ce,_.newline,_.skipEmptyLines,_.comments,_.delimitersToGuess)).successful?_.delimiter=ye.bestDelimiter:(T=!0,_.delimiter=c.DefaultDelimiter),R.meta.delimiter=_.delimiter),P(_));return _.preview&&_.header&&ye.preview++,S=ce,I=new v(ye),R=I.parse(S,ne,he),G(),ee?{meta:{paused:!0}}:R||{meta:{paused:!1}}},this.paused=function(){return ee},this.pause=function(){ee=!0,I.abort(),S=E(_.chunk)?"":S.substring(I.getCharIndex())},this.resume=function(){J.streamer._halted?(ee=!1,J.streamer.parseChunk(S,!0)):setTimeout(J.resume,3)},this.aborted=function(){return Z},this.abort=function(){Z=!0,I.abort(),R.meta.aborted=!0,E(_.complete)&&_.complete(R),S=""},this.guessLineEndings=function(W,ye){W=W.substring(0,1048576);var ye=new RegExp(y(ye)+"([^]*?)"+y(ye),"gm"),he=(W=W.replace(ye,"")).split("\r"),ye=W.split(`
`),W=1<ye.length&&ye[0].length<he[0].length;if(he.length===1||W)return`
`;for(var Ce=0,ke=0;ke<he.length;ke++)he[ke][0]===`
`&&Ce++;return Ce>=he.length/2?`\r
`:"\r"}}function y(_){return _.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function v(_){var S=(_=_||{}).delimiter,I=_.newline,T=_.comments,N=_.step,O=_.preview,U=_.fastMode,Y=null,K=!1,J=_.quoteChar==null?'"':_.quoteChar,q=J;if(_.escapeChar!==void 0&&(q=_.escapeChar),(typeof S!="string"||-1<c.BAD_DELIMITERS.indexOf(S))&&(S=","),T===S)throw new Error("Comment character same as delimiter");T===!0?T="#":(typeof T!="string"||-1<c.BAD_DELIMITERS.indexOf(T))&&(T=!1),I!==`
`&&I!=="\r"&&I!==`\r
`&&(I=`
`);var V=0,ee=!1;this.parse=function(Z,k,R){if(typeof Z!="string")throw new Error("Input must be a string");var z=Z.length,G=S.length,Q=I.length,oe=T.length,ce=E(N),ne=[],he=[],ye=[],W=V=0;if(!Z)return qe();if(U||U!==!1&&Z.indexOf(J)===-1){for(var Ce=Z.split(I),ke=0;ke<Ce.length;ke++){if(ye=Ce[ke],V+=ye.length,ke!==Ce.length-1)V+=I.length;else if(R)return qe();if(!T||ye.substring(0,oe)!==T){if(ce){if(ne=[],$e(ye.split(S)),at(),ee)return qe()}else $e(ye.split(S));if(O&&O<=ke)return ne=ne.slice(0,O),qe(!0)}}return qe()}for(var Ee=Z.indexOf(S,V),ie=Z.indexOf(I,V),Fe=new RegExp(y(q)+y(J),"g"),Ye=Z.indexOf(J,V);;)if(Z[V]===J)for(Ye=V,V++;;){if((Ye=Z.indexOf(J,Ye+1))===-1)return R||he.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ne.length,index:V}),De();if(Ye===z-1)return De(Z.substring(V,Ye).replace(Fe,J));if(J===q&&Z[Ye+1]===q)Ye++;else if(J===q||Ye===0||Z[Ye-1]!==q){Ee!==-1&&Ee<Ye+1&&(Ee=Z.indexOf(S,Ye+1));var Se=_e((ie=ie!==-1&&ie<Ye+1?Z.indexOf(I,Ye+1):ie)===-1?Ee:Math.min(Ee,ie));if(Z.substr(Ye+1+Se,G)===S){ye.push(Z.substring(V,Ye).replace(Fe,J)),Z[V=Ye+1+Se+G]!==J&&(Ye=Z.indexOf(J,V)),Ee=Z.indexOf(S,V),ie=Z.indexOf(I,V);break}if(Se=_e(ie),Z.substring(Ye+1+Se,Ye+1+Se+Q)===I){if(ye.push(Z.substring(V,Ye).replace(Fe,J)),Ne(Ye+1+Se+Q),Ee=Z.indexOf(S,V),Ye=Z.indexOf(J,V),ce&&(at(),ee))return qe();if(O&&ne.length>=O)return qe(!0);break}he.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ne.length,index:V}),Ye++}}else if(T&&ye.length===0&&Z.substring(V,V+oe)===T){if(ie===-1)return qe();V=ie+Q,ie=Z.indexOf(I,V),Ee=Z.indexOf(S,V)}else if(Ee!==-1&&(Ee<ie||ie===-1))ye.push(Z.substring(V,Ee)),V=Ee+G,Ee=Z.indexOf(S,V);else{if(ie===-1)break;if(ye.push(Z.substring(V,ie)),Ne(ie+Q),ce&&(at(),ee))return qe();if(O&&ne.length>=O)return qe(!0)}return De();function $e(nt){ne.push(nt),W=V}function _e(nt){var ut=0;return ut=nt!==-1&&(nt=Z.substring(Ye+1,nt))&&nt.trim()===""?nt.length:ut}function De(nt){return R||(nt===void 0&&(nt=Z.substring(V)),ye.push(nt),V=z,$e(ye),ce&&at()),qe()}function Ne(nt){V=nt,$e(ye),ye=[],ie=Z.indexOf(I,V)}function qe(nt){if(_.header&&!k&&ne.length&&!K){var ut=ne[0],Tt=Object.create(null),kt=new Set(ut);let _t=!1;for(let ct=0;ct<ut.length;ct++){let tr=ut[ct];if(Tt[tr=E(_.transformHeader)?_.transformHeader(tr,ct):tr]){let Wt,Hr=Tt[tr];for(;Wt=tr+"_"+Hr,Hr++,kt.has(Wt););kt.add(Wt),ut[ct]=Wt,Tt[tr]++,_t=!0,(Y=Y===null?{}:Y)[Wt]=tr}else Tt[tr]=1,ut[ct]=tr;kt.add(tr)}_t&&console.warn("Duplicate headers found and renamed."),K=!0}return{data:ne,errors:he,meta:{delimiter:S,linebreak:I,aborted:ee,truncated:!!nt,cursor:W+(k||0),renamedHeaders:Y}}}function at(){N(qe()),ne=[],he=[]}},this.abort=function(){ee=!0},this.getCharIndex=function(){return V}}function b(_){var S=_.data,I=o[S.workerId],T=!1;if(S.error)I.userError(S.error,S.file);else if(S.results&&S.results.data){var N={abort:function(){T=!0,w(S.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:D,resume:D};if(E(I.userStep)){for(var O=0;O<S.results.data.length&&(I.userStep({data:S.results.data[O],errors:S.results.errors,meta:S.results.meta},N),!T);O++);delete S.results}else E(I.userChunk)&&(I.userChunk(S.results,N,S.file),delete S.results)}S.finished&&!T&&w(S.workerId,S.results)}function w(_,S){var I=o[_];E(I.userComplete)&&I.userComplete(S),I.terminate(),delete o[_]}function D(){throw new Error("Not implemented.")}function P(_){if(typeof _!="object"||_===null)return _;var S,I=Array.isArray(_)?[]:{};for(S in _)I[S]=P(_[S]);return I}function j(_,S){return function(){_.apply(S,arguments)}}function E(_){return typeof _=="function"}return c.parse=function(_,S){var I=(S=S||{}).dynamicTyping||!1;if(E(I)&&(S.dynamicTypingFunction=I,I={}),S.dynamicTyping=I,S.transform=!!E(S.transform)&&S.transform,!S.worker||!c.WORKERS_SUPPORTED)return I=null,c.NODE_STREAM_INPUT,typeof _=="string"?(_=(T=>T.charCodeAt(0)!==65279?T:T.slice(1))(_),I=new(S.download?f:p)(S)):_.readable===!0&&E(_.read)&&E(_.on)?I=new g(S):(n.File&&_ instanceof File||_ instanceof Object)&&(I=new h(S)),I.stream(_);(I=(()=>{var T;return!!c.WORKERS_SUPPORTED&&(T=(()=>{var N=n.URL||n.webkitURL||null,O=r.toString();return c.BLOB_URL||(c.BLOB_URL=N.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",O,")();"],{type:"text/javascript"})))})(),(T=new n.Worker(T)).onmessage=b,T.id=l++,o[T.id]=T)})()).userStep=S.step,I.userChunk=S.chunk,I.userComplete=S.complete,I.userError=S.error,S.step=E(S.step),S.chunk=E(S.chunk),S.complete=E(S.complete),S.error=E(S.error),delete S.worker,I.postMessage({input:_,config:S,workerId:I.id})},c.unparse=function(_,S){var I=!1,T=!0,N=",",O=`\r
`,U='"',Y=U+U,K=!1,J=null,q=!1,V=((()=>{if(typeof S=="object"){if(typeof S.delimiter!="string"||c.BAD_DELIMITERS.filter(function(k){return S.delimiter.indexOf(k)!==-1}).length||(N=S.delimiter),typeof S.quotes!="boolean"&&typeof S.quotes!="function"&&!Array.isArray(S.quotes)||(I=S.quotes),typeof S.skipEmptyLines!="boolean"&&typeof S.skipEmptyLines!="string"||(K=S.skipEmptyLines),typeof S.newline=="string"&&(O=S.newline),typeof S.quoteChar=="string"&&(U=S.quoteChar),typeof S.header=="boolean"&&(T=S.header),Array.isArray(S.columns)){if(S.columns.length===0)throw new Error("Option columns is empty");J=S.columns}S.escapeChar!==void 0&&(Y=S.escapeChar+U),S.escapeFormulae instanceof RegExp?q=S.escapeFormulae:typeof S.escapeFormulae=="boolean"&&S.escapeFormulae&&(q=/^[=+\-@\t\r].*$/)}})(),new RegExp(y(U),"g"));if(typeof _=="string"&&(_=JSON.parse(_)),Array.isArray(_)){if(!_.length||Array.isArray(_[0]))return ee(null,_,K);if(typeof _[0]=="object")return ee(J||Object.keys(_[0]),_,K)}else if(typeof _=="object")return typeof _.data=="string"&&(_.data=JSON.parse(_.data)),Array.isArray(_.data)&&(_.fields||(_.fields=_.meta&&_.meta.fields||J),_.fields||(_.fields=Array.isArray(_.data[0])?_.fields:typeof _.data[0]=="object"?Object.keys(_.data[0]):[]),Array.isArray(_.data[0])||typeof _.data[0]=="object"||(_.data=[_.data])),ee(_.fields||[],_.data||[],K);throw new Error("Unable to serialize unrecognized input");function ee(k,R,z){var G="",Q=(typeof k=="string"&&(k=JSON.parse(k)),typeof R=="string"&&(R=JSON.parse(R)),Array.isArray(k)&&0<k.length),oe=!Array.isArray(R[0]);if(Q&&T){for(var ce=0;ce<k.length;ce++)0<ce&&(G+=N),G+=Z(k[ce],ce);0<R.length&&(G+=O)}for(var ne=0;ne<R.length;ne++){var he=(Q?k:R[ne]).length,ye=!1,W=Q?Object.keys(R[ne]).length===0:R[ne].length===0;if(z&&!Q&&(ye=z==="greedy"?R[ne].join("").trim()==="":R[ne].length===1&&R[ne][0].length===0),z==="greedy"&&Q){for(var Ce=[],ke=0;ke<he;ke++){var Ee=oe?k[ke]:ke;Ce.push(R[ne][Ee])}ye=Ce.join("").trim()===""}if(!ye){for(var ie=0;ie<he;ie++){0<ie&&!W&&(G+=N);var Fe=Q&&oe?k[ie]:ie;G+=Z(R[ne][Fe],ie)}ne<R.length-1&&(!z||0<he&&!W)&&(G+=O)}}return G}function Z(k,R){var z,G;return k==null?"":k.constructor===Date?JSON.stringify(k).slice(1,25):(G=!1,q&&typeof k=="string"&&q.test(k)&&(k="'"+k,G=!0),z=k.toString().replace(V,Y),(G=G||I===!0||typeof I=="function"&&I(k,R)||Array.isArray(I)&&I[R]||((Q,oe)=>{for(var ce=0;ce<oe.length;ce++)if(-1<Q.indexOf(oe[ce]))return!0;return!1})(z,c.BAD_DELIMITERS)||-1<z.indexOf(N)||z.charAt(0)===" "||z.charAt(z.length-1)===" ")?U+z+U:z)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!i&&!!n.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=v,c.ParserHandle=m,c.NetworkStreamer=f,c.FileStreamer=h,c.StringStreamer=p,c.ReadableStreamStreamer=g,n.jQuery&&((a=n.jQuery).fn.parse=function(_){var S=_.config||{},I=[];return this.each(function(O){if(!(a(this).prop("tagName").toUpperCase()==="INPUT"&&a(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var U=0;U<this.files.length;U++)I.push({file:this.files[U],inputElem:this,instanceConfig:a.extend({},S)})}),T(),this;function T(){if(I.length===0)E(_.complete)&&_.complete();else{var O,U,Y,K,J=I[0];if(E(_.before)){var q=_.before(J.file,J.inputElem);if(typeof q=="object"){if(q.action==="abort")return O="AbortError",U=J.file,Y=J.inputElem,K=q.reason,void(E(_.error)&&_.error({name:O},U,Y,K));if(q.action==="skip")return void N();typeof q.config=="object"&&(J.instanceConfig=a.extend(J.instanceConfig,q.config))}else if(q==="skip")return void N()}var V=J.instanceConfig.complete;J.instanceConfig.complete=function(ee){E(V)&&V(ee,J.file,J.inputElem),N()},c.parse(J.file,J.instanceConfig)}}function N(){I.splice(0,1),T()}}),s&&(n.onmessage=function(_){_=_.data,c.WORKER_ID===void 0&&_&&(c.WORKER_ID=_.workerId),typeof _.input=="string"?n.postMessage({workerId:c.WORKER_ID,results:c.parse(_.input,_.config),finished:!0}):(n.File&&_.input instanceof File||_.input instanceof Object)&&(_=c.parse(_.input,_.config))&&n.postMessage({workerId:c.WORKER_ID,results:_,finished:!0})}),(f.prototype=Object.create(u.prototype)).constructor=f,(h.prototype=Object.create(u.prototype)).constructor=h,(p.prototype=Object.create(p.prototype)).constructor=p,(g.prototype=Object.create(u.prototype)).constructor=g,c})})(NW);var Zxe=NW.exports;const e2e=On(Zxe),kW=()=>{const{user:e}=ma(),{isDarkMode:t}=ln(),[r,n]=F.useState(!1),[a,i]=F.useState([]),[s,o]=F.useState(!1),[l,c]=F.useState({name:"",unit:"",asin:"",barcode:""}),[u,f]=F.useState(null),[h,p]=F.useState(null),[g,m]=F.useState(!1),[y,v]=F.useState(!1),[b,w]=F.useState(null),[D,P]=F.useState(null),[j,E]=F.useState(!1),[_,S]=F.useState(""),[I,T]=F.useState(null),[N,O]=F.useState(null),U=Re.useRef(null),[Y,K]=F.useState(null),[J,q]=F.useState(!1),[V,ee]=F.useState([]);F.useEffect(()=>{Z(),k()},[]);const Z=async W=>{o(!0);try{let Ce;if(W&&W.trim()!==""){const ke=or(mt(Xe,"scannedProducts"),ar("name",">=",W),ar("name","<=",W+""),La("name"),xg(100)),Ee=or(mt(Xe,"scannedProducts"),ar("barcode",">=",W),ar("barcode","<=",W+""),La("barcode"),xg(100)),ie=or(mt(Xe,"scannedProducts"),ar("asin",">=",W),ar("asin","<=",W+""),La("asin"),xg(100)),[Fe,Ye,Se]=await Promise.all([cr(ke),cr(Ee),cr(ie)]),$e=[...Fe.docs,...Ye.docs,...Se.docs].reduce((_e,De)=>(_e.some(Ne=>Ne.id===De.id)||_e.push(De),_e),[]);i($e.map(_e=>{const De=_e.data();return{id:_e.id,name:De.name,unit:De.unit,asin:De.asin||"",barcode:De.barcode,createdAt:De.createdAt instanceof ir?De.createdAt.toDate():new Date(De.createdAt)}}))}else{Ce=or(mt(Xe,"scannedProducts"),La("createdAt","desc"),xg(100));const Ee=(await cr(Ce)).docs.map(ie=>{const Fe=ie.data();return{id:ie.id,name:Fe.name,unit:Fe.unit,asin:Fe.asin||"",barcode:Fe.barcode,createdAt:Fe.createdAt instanceof ir?Fe.createdAt.toDate():new Date(Fe.createdAt)}});i(Ee)}}catch{f("Failed to fetch products")}finally{o(!1)}},k=async()=>{try{const W=mt(Xe,"scannedProducts"),Ce=await bk(W);K(Ce.data().count)}catch{K(null)}},R=()=>{const W={};a.forEach(ke=>{W[ke.name]||(W[ke.name]=[]),W[ke.name].push(ke)});const Ce=Object.entries(W).filter(([,ke])=>ke.length>1).map(([ke,Ee])=>({name:ke,products:Ee.sort((ie,Fe)=>new Date(Fe.createdAt).getTime()-new Date(ie.createdAt).getTime())})).sort((ke,Ee)=>Ee.products.length-ke.products.length);ee(Ce),q(!0)},z=()=>{q(!1),ee([])},G=W=>{W?(c({name:W.name||"",unit:W.unit||"",asin:W.asin||"",barcode:W.barcode||""}),p(W)):(c({name:"",unit:"",asin:"",barcode:""}),p(null)),n(!0),f(null)},Q=()=>{n(!1),f(null)},oe=W=>{c({...l,[W.target.name]:W.target.value})},ce=async W=>{c(Ce=>({...Ce,barcode:W})),m(!1),w(null),v(!0);try{const ke=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${W}`,ie=await(await fetch(ke)).json();if(ie&&ie.items&&ie.items.length>0){const Fe=ie.items[0];c(Ye=>({...Ye,name:Fe.title||Ye.name,asin:Fe.asin||Fe.amazon_asin||""}))}else w("No product info found for this barcode.")}catch{w("Failed to fetch product info.")}finally{v(!1)}},ne=async W=>{if(W.preventDefault(),!l.name.trim()||!l.unit.trim()||!l.barcode.trim()){f("Name, Unit, and Barcode are required");return}o(!0);try{const Ce=l.name.toUpperCase();if(h){const ke=yr(Xe,"scannedProducts",h.id);if(await Ln(ke,{name:Ce,unit:l.unit,barcode:l.barcode,asin:l.asin}),e&&h){const Ee=[];h.name!==Ce&&Ee.push(`name from "${h.name}" to "${Ce}"`),h.unit!==l.unit&&Ee.push(`unit from ${h.unit||"none"} to ${l.unit||"none"}`),h.barcode!==l.barcode&&Ee.push(`barcode from "${h.barcode||"none"}" to "${l.barcode||"none"}"`),h.asin!==l.asin&&Ee.push(`asin from "${h.asin||"none"}" to "${l.asin||"none"}"`),Ee.length>0&&await pr(mt(Xe,"activityLogs"),{user:e.name,role:e.role,detail:`edited product "${Ce}": ${Ee.join(", ")}`,time:new Date().toISOString()})}}else await pr(mt(Xe,"scannedProducts"),{name:Ce,unit:l.unit,barcode:l.barcode,asin:l.asin,createdAt:ir.fromDate(new Date)}),e&&await pr(mt(Xe,"activityLogs"),{user:e.name,role:e.role,detail:`added new product "${Ce}" with barcode ${l.barcode}`,time:new Date().toISOString()});n(!1),p(null),Z()}catch{f("Failed to save product")}finally{o(!1)}},he=async()=>{if(D){E(!0);try{const W=a.find(Ce=>Ce.id===D);await Is(yr(Xe,"scannedProducts",D)),e&&W&&await pr(mt(Xe,"activityLogs"),{user:e.name,role:e.role,detail:`deleted product "${W.name}" with barcode ${W.barcode}`,time:new Date().toISOString()}),P(null),Z()}catch{}finally{E(!1)}}},ye=async W=>{var Ee;const Ce=(Ee=W.target.files)==null?void 0:Ee[0];if(!Ce)return;let ke=[];try{if(Ce.name.endsWith(".csv")){const ie=await Ce.text(),Ye=e2e.parse(ie,{header:!0}).data;ke=Ye.map($e=>{var _e,De,Ne,qe;return{name:((_e=$e.Description)==null?void 0:_e.toString().trim())||"",unit:((De=$e.Unit)==null?void 0:De.toString().trim())||"",asin:((Ne=$e.ASIN)==null?void 0:Ne.toString().trim())||"",barcode:((qe=$e.EAN)==null?void 0:qe.toString().trim())||""}}).filter($e=>$e.name||$e.unit||$e.barcode);const Se=Ye.length-ke.length;Se>0&&(console.log(`${Se} rows skipped (all columns empty).`),O({type:"error",message:`${Se} rows skipped (all columns empty).`}))}else if(Ce.name.endsWith(".xlsx")){const ie=await Ce.arrayBuffer(),Fe=WE(ie,{type:"array"}),Ye=Fe.Sheets[Fe.SheetNames[0]],Se=Jxe.sheet_to_json(Ye);ke=Se.map(_e=>{var De,Ne,qe,at;return{name:((De=_e.Description)==null?void 0:De.toString().trim())||"",unit:((Ne=_e.Unit)==null?void 0:Ne.toString().trim())||"",asin:((qe=_e.ASIN)==null?void 0:qe.toString().trim())||"",barcode:((at=_e.EAN)==null?void 0:at.toString().trim())||""}}).filter(_e=>_e.name||_e.unit||_e.barcode);const $e=Se.length-ke.length;$e>0&&(console.log(`${$e} rows skipped (all columns empty).`),O({type:"error",message:`${$e} rows skipped (all columns empty).`}))}else{console.log("Unsupported file type. Please upload a .csv or .xlsx file."),O({type:"error",message:"Unsupported file type. Please upload a .csv or .xlsx file."});return}if(ke.length===0){console.log("No valid products found in file."),O({type:"error",message:"No valid products found in file."});return}for(const ie of ke)await pr(mt(Xe,"scannedProducts"),{name:ie.name.toUpperCase(),unit:ie.unit,barcode:ie.barcode,asin:"",createdAt:ir.fromDate(new Date)});e&&await pr(mt(Xe,"activityLogs"),{user:e.name,role:e.role,detail:`bulk uploaded ${ke.length} products from file "${Ce.name}"`,time:new Date().toISOString()}),O({type:"success",message:`Uploaded ${ke.length} products successfully!`}),console.log(`Uploaded ${ke.length} products successfully!`),Z()}catch{console.log("Failed to upload products."),O({type:"error",message:"Failed to upload products."})}};return!e||e.role!=="admin"&&e.role!=="staff"&&e.role!=="supply_serve"?d.jsx("div",{className:"p-8 text-center text-red-500 font-semibold",children:"You are not authorized to access this page."}):d.jsxs("div",{className:t?"bg-slate-900 text-white min-h-screen":"bg-slate-50 text-slate-800 min-h-screen",children:[d.jsxs("div",{className:"flex items-center justify-between py-4",children:[d.jsx("h1",{className:"text-2xl font-bold",children:"Add Products"}),d.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${t?"bg-slate-800 text-blue-300":"bg-blue-100 text-blue-700"}`,children:["Total Scanned Products: ",Y!==null?Y:d.jsx("span",{className:"animate-pulse",children:"..."})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center mb-6 gap-4",children:[d.jsx("div",{children:d.jsx("p",{className:`${t?"text-slate-400":"text-slate-500"} mt-1 text-left md:text-left`,children:"Scan and add new products to your warehouse inventory"})}),d.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:gap-2 w-full md:w-auto",children:[d.jsx(it,{variant:"secondary",onClick:()=>Z(),className:`flex items-center gap-2 w-full md:w-auto ${s?"opacity-50 cursor-not-allowed":""}`,disabled:s,icon:d.jsx(ri,{size:18,className:s?"animate-spin":""})}),d.jsx(it,{variant:J?"primary":"secondary",onClick:J?z:R,className:"w-full md:w-auto",icon:J?d.jsx(ri,{size:18}):d.jsxs("svg",{width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M3 6h18"}),d.jsx("path",{d:"M7 12h10"}),d.jsx("path",{d:"M9 18h6"})]}),children:J?"Clear Filter":"Show Duplicates"}),d.jsx(it,{icon:d.jsx(Cee,{size:18}),onClick:()=>{var W;return(W=U.current)==null?void 0:W.click()},className:"w-full md:w-auto",children:"Upload CSV/XLSX"}),d.jsx("input",{type:"file",accept:".csv,.xlsx",ref:U,onChange:ye,style:{display:"none"}}),d.jsx(it,{icon:d.jsx(Si,{size:18}),onClick:()=>G(),className:"w-full md:w-auto",children:"Add Product"})]})]}),d.jsx("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:d.jsxs("div",{className:"flex-1 relative",children:[d.jsx(Ct,{type:"text",placeholder:"Search by name, barcode, or ASIN",value:_,onChange:W=>{const Ce=W.target.value;S(Ce),Z(Ce.toUpperCase())},className:"pl-10",fullWidth:!0}),d.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",children:d.jsxs("svg",{width:"16",height:"16",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-search",children:[d.jsx("circle",{cx:"7",cy:"7",r:"6"}),d.jsx("path",{d:"m15 15-3.5-3.5"})]})})]})}),d.jsx(hn,{isOpen:r,onClose:Q,title:h?"Edit Product":"Add Product",size:"sm",children:d.jsxs("form",{onSubmit:ne,className:"space-y-4",children:[d.jsx(Ct,{label:"Product Name",name:"name",value:l.name,onChange:oe,placeholder:"Enter product name",required:!0,fullWidth:!0}),d.jsx(Ct,{label:"Unit",name:"unit",value:l.unit,onChange:oe,placeholder:"e.g. 350ML, 75GM, 1PC",required:!0,fullWidth:!0}),d.jsx(Ct,{label:"ASIN",name:"asin",value:l.asin,onChange:oe,placeholder:"Amazon Standard Identification Number",fullWidth:!0}),d.jsxs("div",{className:"relative w-full",children:[d.jsx(Ct,{label:"Barcode",name:"barcode",value:l.barcode,onChange:oe,placeholder:"Enter barcode",required:!0,fullWidth:!0,style:{paddingRight:44}}),d.jsx("button",{type:"button",onClick:async()=>{if(l.barcode.trim()&&!y){w(null),v(!0);try{await ce(l.barcode)}finally{v(!1)}}},className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:y,children:y?d.jsx(xi,{size:18,className:"animate-spin text-blue-500"}):d.jsx(Gc,{size:18,className:"text-blue-500"})})]}),u&&d.jsx("div",{className:"text-red-500 text-sm",children:u}),b&&d.jsxs("div",{className:"text-red-500 text-sm",children:[b," Please enter details manually."]}),y&&d.jsxs("div",{className:"flex items-center gap-2 text-blue-500 text-sm",children:[d.jsx(xi,{className:"w-4 h-4 animate-spin"}),"Fetching product info..."]}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(it,{type:"button",variant:"secondary",onClick:()=>m(!0),children:"Scan"}),d.jsx(it,{type:"submit",isLoading:s,children:h?"Save Changes":"Add"})]})]})}),d.jsx(Sh,{isOpen:g,onClose:()=>m(!1),onBarcodeScanned:ce}),d.jsx("div",{className:"hidden md:block overflow-x-auto overflow-y-hidden rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800",children:d.jsxs("table",{className:`min-w-full divide-y ${t?"divide-slate-700":"divide-slate-200"} ${t?"bg-slate-800":"bg-white"} rounded-lg`,children:[d.jsx("thead",{className:t?"bg-slate-700/50":"bg-slate-100",children:d.jsxs("tr",{children:[d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Unit"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Barcode"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Created At"}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),d.jsx("tbody",{className:`divide-y ${t?"divide-slate-700":"divide-slate-200"}`,children:s?d.jsx("tr",{children:d.jsx("td",{colSpan:6,style:{border:0,padding:0},children:d.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[200px] w-full py-12",children:[d.jsx(xi,{className:`w-8 h-8 ${t?"text-blue-400":"text-blue-600"} animate-spin`}),d.jsx("p",{className:t?"text-slate-400":"text-slate-600",children:"Loading products..."})]})})}):J&&V.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:6,className:`text-center py-8 ${t?"text-slate-400":"text-slate-500"}`,children:"No duplicate products found."})}):J&&V.length>0?V.flatMap((W,Ce)=>[d.jsx("tr",{className:`${t?"bg-slate-700/30":"bg-slate-100/50"}`,children:d.jsxs("td",{colSpan:6,className:`px-4 py-2 text-sm font-semibold ${t?"text-blue-300":"text-blue-600"}`,children:[W.name," - ",W.products.length," duplicates"]})},`header-${W.name}`),...W.products.map((ke,Ee)=>d.jsxs(ra.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:Ce*.1+Ee*.05,ease:"easeOut"},className:`hover:${t?"bg-slate-700/50":"bg-slate-50"} cursor-pointer ${t?"bg-slate-800/50":"bg-slate-50/50"}`,onClick:()=>T(ke),children:[d.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-blue-400":"text-blue-700"} font-medium`,children:ke.name}),d.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:ke.unit||"-"}),d.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:ke.asin||"-"}),d.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:ke.barcode}),d.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:zt(ke.createdAt,"MMM d, yyyy, h:mm a")}),d.jsxs("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"} text-right`,children:[d.jsx("button",{onClick:ie=>{ie.stopPropagation(),G(ke)},className:`p-1 ${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,title:"Edit",children:d.jsx(fs,{size:16})}),d.jsx("button",{onClick:ie=>{ie.stopPropagation(),P(ke.id)},className:`p-1 ml-2 ${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,title:"Delete",disabled:j&&D===ke.id,children:d.jsx(ni,{size:16})})]})]},ke.id))]):a.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:6,className:`text-center py-8 ${t?"text-slate-400":"text-slate-500"}`,children:"No products found."})}):a.map((W,Ce)=>d.jsxs(ra.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:Ce*.05,ease:"easeOut"},className:`hover:${t?"bg-slate-700/50":"bg-slate-50"} cursor-pointer`,onClick:()=>T(W),children:[d.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-blue-400":"text-blue-700"} font-medium`,children:W.name}),d.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:W.unit||"-"}),d.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:W.asin||"-"}),d.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:W.barcode}),d.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:zt(W.createdAt,"MMM d, yyyy, h:mm a")}),d.jsxs("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"} text-right`,children:[d.jsx("button",{onClick:ke=>{ke.stopPropagation(),G(W)},className:`p-1 ${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,title:"Edit",children:d.jsx(fs,{size:16})}),d.jsx("button",{onClick:ke=>{ke.stopPropagation(),P(W.id)},className:`p-1 ml-2 ${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,title:"Delete",disabled:j&&D===W.id,children:d.jsx(ni,{size:16})})]})]},W.id))})]})}),d.jsx("div",{className:"md:hidden flex flex-col gap-4",children:s?d.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[200px] w-full py-12",children:[d.jsx(xi,{className:`w-8 h-8 ${t?"text-blue-400":"text-blue-600"} animate-spin`}),d.jsx("p",{className:t?"text-slate-400":"text-slate-600",children:"Loading products..."})]}):J&&V.length===0?d.jsx("div",{className:`text-center py-8 ${t?"text-slate-400":"text-slate-500"}`,children:"No duplicate products found."}):J&&V.length>0?V.map(W=>d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:`text-center py-2 px-4 rounded-lg ${t?"bg-slate-700/30 text-blue-300":"bg-slate-100/50 text-blue-600"} font-semibold`,children:[W.name," - ",W.products.length," duplicates"]}),W.products.map(Ce=>d.jsxs("div",{className:`rounded-lg shadow p-4 flex flex-col gap-2 ${t?"bg-slate-800/50":"bg-slate-50/50"} cursor-pointer`,onClick:()=>T(Ce),children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:`font-semibold ${t?"text-blue-300":"text-blue-700"}`,children:Ce.name}),d.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Unit: ",Ce.unit||"-"]}),d.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["ASIN: ",Ce.asin||"-"]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(it,{variant:"ghost",size:"sm",onClick:ke=>{ke.stopPropagation(),G(Ce)},className:`${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:d.jsx(fs,{size:16})}),d.jsx(it,{variant:"ghost",size:"sm",onClick:ke=>{ke.stopPropagation(),P(Ce.id)},className:`${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,disabled:j&&D===Ce.id,children:d.jsx(ni,{size:16})})]})]}),d.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Barcode: ",d.jsx("span",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:Ce.barcode})]}),d.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Created: ",d.jsx("span",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:zt(Ce.createdAt,"MMM d, yyyy, h:mm a")})]})]},Ce.id))]},W.name)):a.length===0?d.jsx("div",{className:`text-center py-8 ${t?"text-slate-400":"text-slate-500"}`,children:"No products found."}):a.map(W=>d.jsxs("div",{className:`rounded-lg shadow p-4 flex flex-col gap-2 ${t?"bg-slate-800":"bg-white"} cursor-pointer`,onClick:()=>T(W),children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:`font-semibold ${t?"text-blue-300":"text-blue-700"}`,children:W.name}),d.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Unit: ",W.unit||"-"]}),d.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["ASIN: ",W.asin||"-"]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(it,{variant:"ghost",size:"sm",onClick:Ce=>{Ce.stopPropagation(),G(W)},className:`${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:d.jsx(fs,{size:16})}),d.jsx(it,{variant:"ghost",size:"sm",onClick:Ce=>{Ce.stopPropagation(),P(W.id)},className:`${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,disabled:j&&D===W.id,children:d.jsx(ni,{size:16})})]})]}),d.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Barcode: ",d.jsx("span",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:W.barcode})]}),d.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Created: ",d.jsx("span",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:zt(W.createdAt,"MMM d, yyyy, h:mm a")})]})]},W.id))}),d.jsx(hn,{isOpen:!!D,onClose:()=>P(null),title:"Delete Product",size:"sm",children:d.jsxs("div",{className:"space-y-4",children:[d.jsx("p",{children:"Are you sure you want to delete this product?"}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(it,{variant:"secondary",onClick:()=>P(null),disabled:j,children:"Cancel"}),d.jsxs(it,{variant:"danger",onClick:he,isLoading:j,className:"flex items-center justify-center",children:[j&&d.jsx(xi,{className:"w-4 h-4 animate-spin mx-auto"}),"Delete"]})]})]})}),d.jsx(hn,{isOpen:!!I,onClose:()=>T(null),title:I?I.name:"Product Details",size:"xl",children:I&&d.jsx("div",{className:"space-y-6",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-slate-500"}`,children:"Unit"}),d.jsx("p",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:I.unit||"-"})]}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-slate-500"}`,children:"ASIN"}),d.jsx("p",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:I.asin||"-"})]}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-slate-500"}`,children:"Barcode"}),d.jsx("p",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:I.barcode||"-"})]}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-slate-500"}`,children:"Created At"}),d.jsx("p",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:zt(I.createdAt,"MMM d, yyyy, h:mm a")})]})]})})}),N&&d.jsx(Iz,{type:N.type,message:N.message,onClose:()=>O(null)})]})]})},t2e=()=>{const{user:e}=ma();if(!e)return null;switch(e.role){case"admin":return d.jsx(Xde,{});case"staff":return d.jsx(kW,{});default:return null}},sn=({label:e,error:t,options:r,fullWidth:n=!1,className:a="",...i})=>{const{isDarkMode:s}=ln();return d.jsxs("div",{className:`${n?"w-full":""} ${a}`,children:[e&&d.jsx("label",{className:`block text-sm font-medium ${s?"text-slate-200":"text-slate-700"} mb-1`,children:e}),d.jsx("select",{...i,className:`
          block w-full rounded-lg border px-3 py-2
          ${s?"bg-slate-800 border-slate-700 text-slate-200 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-700/50 disabled:text-slate-400":"bg-white border-slate-300 text-slate-900 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-50 disabled:text-slate-500"}
          ${t?"border-red-500 focus:border-red-500 focus:ring-red-500":""}
        `,children:r.map(o=>d.jsx("option",{value:o.value,children:o.label},o.value))}),t&&d.jsx("p",{className:"mt-1 text-sm text-red-600",children:t})]})},r2e=({isOpen:e,onClose:t,onSuccess:r})=>{const{user:n}=ma(),[a,i]=F.useState({name:"",unit:"",barcode:""}),[s,o]=F.useState(null),[l,c]=F.useState(!1),[u,f]=F.useState(!1),[h,p]=F.useState(!1),[g,m]=F.useState(null),y=D=>{i({...a,[D.target.name]:D.target.value})},v=async D=>{i(P=>({...P,barcode:D})),f(!1),m(null),p(!0);try{const j=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${D}`,_=await(await fetch(j)).json();if(_&&_.items&&_.items.length>0){const S=_.items[0];i(I=>({...I,name:S.title||I.name}))}else m("No product info found for this barcode.")}catch{m("Failed to fetch product info.")}finally{p(!1)}},b=async D=>{if(D.preventDefault(),!a.name.trim()||!a.unit.trim()||!a.barcode.trim()){o("All fields are required");return}c(!0);try{const P=a.name.toUpperCase();await pr(mt(Xe,"scannedProducts"),{name:P,unit:a.unit,barcode:a.barcode,createdAt:ir.fromDate(new Date)}),n&&await pr(mt(Xe,"activityLogs"),{user:n.name,role:n.role,detail:`added new product "${P}" with barcode ${a.barcode}`,time:new Date().toISOString()}),i({name:"",unit:"",barcode:""}),o(null),m(null),t(),r&&r()}catch{o("Failed to save product")}finally{c(!1)}},w=()=>{i({name:"",unit:"",barcode:""}),o(null),m(null),t()};return d.jsxs(d.Fragment,{children:[d.jsx(hn,{isOpen:e,onClose:w,title:"Add Product",size:"sm",children:d.jsxs("form",{onSubmit:b,className:"space-y-4",children:[d.jsx(Ct,{label:"Product Name",name:"name",value:a.name,onChange:y,placeholder:"Enter product name",required:!0,fullWidth:!0}),d.jsx(Ct,{label:"Unit",name:"unit",value:a.unit,onChange:y,placeholder:"e.g. 350ML, 75GM, 1PC",required:!0,fullWidth:!0}),d.jsxs("div",{className:"relative w-full",children:[d.jsx(Ct,{label:"Barcode",name:"barcode",value:a.barcode,onChange:y,placeholder:"Enter barcode",required:!0,fullWidth:!0,style:{paddingRight:44}}),d.jsx("button",{type:"button",onClick:async()=>{if(a.barcode.trim()&&!h){m(null),p(!0);try{await v(a.barcode)}finally{p(!1)}}},className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:h,children:h?d.jsx(xi,{size:18,className:"animate-spin text-blue-500"}):d.jsx(Gc,{size:18,className:"text-blue-500"})})]}),s&&d.jsx("div",{className:"text-red-500 text-sm",children:s}),g&&d.jsxs("div",{className:"text-red-500 text-sm",children:[g," Please enter details manually."]}),h&&d.jsxs("div",{className:"flex items-center gap-2 text-blue-500 text-sm",children:[d.jsx(xi,{className:"w-4 h-4 animate-spin"}),"Fetching product info..."]}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(it,{type:"button",variant:"secondary",onClick:()=>f(!0),children:"Scan"}),d.jsx(it,{type:"submit",isLoading:l,children:"Add"})]})]})}),d.jsx(Sh,{isOpen:u,onClose:()=>f(!1),onBarcodeScanned:v})]})},n2e=({isOpen:e,onClose:t,onUseLocation:r,onManualLocation:n,hiddenProduct:a})=>d.jsx(hn,{isOpen:e,onClose:t,title:"Location Reminder",size:"md",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(CN,{className:"w-6 h-6 text-blue-500 mt-1 flex-shrink-0"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Your previous product ",d.jsxs("strong",{children:['"',a.name,'"']})," was located at:"]}),d.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:[d.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200 font-medium",children:["Location: ",d.jsxs("strong",{children:[a.locationCode,"-",a.shelfNumber]})]}),d.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1",children:["Previous quantity: ",a.quantity," units"]})]}),d.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Do you want to place this product at the same location?"})]})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[d.jsx(it,{variant:"secondary",onClick:n,children:"No, I'll choose manually"}),d.jsx(it,{onClick:()=>r(a.locationCode,a.shelfNumber),className:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500",children:"Yes, use same location"})]})]})}),a2e=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,isLoading:i=!1,confirmLabel:s="Yes",cancelLabel:o="No"})=>{const{isDarkMode:l}=ln();return d.jsx(hn,{isOpen:e,onClose:t,title:n,size:"md",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-3 text-amber-600",children:[d.jsx(Ov,{size:24}),d.jsx("p",{className:l?"text-slate-200":"text-slate-700",children:a})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[d.jsx(it,{variant:"secondary",onClick:t,disabled:i,className:l?"text-slate-100":"text-slate-700",children:o}),d.jsx(it,{variant:"success",onClick:r,isLoading:i,children:s})]})]})})},kf=e=>{const r=(e.startsWith("O")||e.startsWith("P"))&&e.length===2&&/^[1-8]$/.test(e[1])?7:5;return Array.from({length:r+1},(n,a)=>({value:a.toString(),label:a.toString()}))},i2e=[{value:"A1",label:"A1"},{value:"A2",label:"A2"},{value:"A3",label:"A3"},{value:"A4",label:"A4"},{value:"A5",label:"A5"},{value:"A6",label:"A6"},{value:"A7",label:"A7"},{value:"A8",label:"A8"},{value:"B1",label:"B1"},{value:"B2",label:"B2"},{value:"B3",label:"B3"},{value:"B4",label:"B4"},{value:"B5",label:"B5"},{value:"B6",label:"B6"},{value:"B7",label:"B7"},{value:"B8",label:"B8"},{value:"C1",label:"C1"},{value:"C2",label:"C2"},{value:"C3",label:"C3"},{value:"C4",label:"C4"},{value:"C5",label:"C5"},{value:"C6",label:"C6"},{value:"C7",label:"C7"},{value:"C8",label:"C8"},{value:"D1",label:"D1"},{value:"D2",label:"D2"},{value:"D3",label:"D3"},{value:"D4",label:"D4"},{value:"D5",label:"D5"},{value:"D6",label:"D6"},{value:"D7",label:"D7"},{value:"D8",label:"D8"},{value:"E1",label:"E1"},{value:"E2",label:"E2"},{value:"E3",label:"E3"},{value:"E4",label:"E4"},{value:"E5",label:"E5"},{value:"E6",label:"E6"},{value:"E7",label:"E7"},{value:"E8",label:"E8"},{value:"F1",label:"F1"},{value:"F2",label:"F2"},{value:"F3",label:"F3"},{value:"F4",label:"F4"},{value:"F5",label:"F5"},{value:"F6",label:"F6"},{value:"F7",label:"F7"},{value:"F8",label:"F8"},{value:"G1",label:"G1"},{value:"G2",label:"G2"},{value:"G3",label:"G3"},{value:"G4",label:"G4"},{value:"G5",label:"G5"},{value:"G6",label:"G6"},{value:"G7",label:"G7"},{value:"G8",label:"G8"},{value:"H1",label:"H1"},{value:"H2",label:"H2"},{value:"H3",label:"H3"},{value:"H4",label:"H4"},{value:"H5",label:"H5"},{value:"H6",label:"H6"},{value:"H7",label:"H7"},{value:"H8",label:"H8"},{value:"I1",label:"I1"},{value:"I2",label:"I2"},{value:"I3",label:"I3"},{value:"I4",label:"I4"},{value:"I5",label:"I5"},{value:"I6",label:"I6"},{value:"I7",label:"I7"},{value:"I8",label:"I8"},{value:"J1",label:"J1"},{value:"J2",label:"J2"},{value:"J3",label:"J3"},{value:"J4",label:"J4"},{value:"J5",label:"J5"},{value:"J6",label:"J6"},{value:"J7",label:"J7"},{value:"J8",label:"J8"},{value:"K1",label:"K1"},{value:"K2",label:"K2"},{value:"K3",label:"K3"},{value:"K4",label:"K4"},{value:"K5",label:"K5"},{value:"K6",label:"K6"},{value:"K7",label:"K7"},{value:"K8",label:"K8"},{value:"L1",label:"L1"},{value:"L2",label:"L2"},{value:"L3",label:"L3"},{value:"L4",label:"L4"},{value:"L5",label:"L5"},{value:"L6",label:"L6"},{value:"L7",label:"L7"},{value:"L8",label:"L8"},{value:"M1",label:"M1"},{value:"M2",label:"M2"},{value:"M3",label:"M3"},{value:"M4",label:"M4"},{value:"M5",label:"M5"},{value:"M6",label:"M6"},{value:"M7",label:"M7"},{value:"M8",label:"M8"},{value:"N1",label:"N1"},{value:"N2",label:"N2"},{value:"N3",label:"N3"},{value:"N4",label:"N4"},{value:"N5",label:"N5"},{value:"N6",label:"N6"},{value:"N7",label:"N7"},{value:"N8",label:"N8"},{value:"O1",label:"O1"},{value:"O2",label:"O2"},{value:"O3",label:"O3"},{value:"O4",label:"O4"},{value:"O5",label:"O5"},{value:"O6",label:"O6"},{value:"O7",label:"O7"},{value:"O8",label:"O8"},{value:"P1",label:"P1"},{value:"P2",label:"P2"},{value:"P3",label:"P3"},{value:"P4",label:"P4"},{value:"P5",label:"P5"},{value:"P6",label:"P6"},{value:"P7",label:"P7"},{value:"P8",label:"P8"},{value:"Q1",label:"Q1"},{value:"Q2",label:"Q2"},{value:"Q3",label:"Q3"},{value:"Q4",label:"Q4"},{value:"Q5",label:"Q5"},{value:"Q6",label:"Q6"},{value:"Q7",label:"Q7"},{value:"Q8",label:"Q8"},{value:"R1",label:"R1"},{value:"R2",label:"R2"},{value:"R3",label:"R3"},{value:"R4",label:"R4"},{value:"R5",label:"R5"},{value:"R6",label:"R6"},{value:"R7",label:"R7"},{value:"R8",label:"R8"},{value:"S1",label:"S1"},{value:"S2",label:"S2"},{value:"S3",label:"S3"},{value:"S4",label:"S4"},{value:"S5",label:"S5"},{value:"S6",label:"S6"},{value:"S7",label:"S7"},{value:"S8",label:"S8"},{value:"T1",label:"T1"},{value:"T2",label:"T2"},{value:"T3",label:"T3"},{value:"T4",label:"T4"},{value:"T5",label:"T5"},{value:"T6",label:"T6"},{value:"T7",label:"T7"},{value:"T8",label:"T8"},{value:"U1",label:"U1"},{value:"U2",label:"U2"},{value:"U3",label:"U3"},{value:"U4",label:"U4"},{value:"U5",label:"U5"},{value:"U6",label:"U6"},{value:"U7",label:"U7"},{value:"U8",label:"U8"},{value:"V1",label:"V1"},{value:"V2",label:"V2"},{value:"V3",label:"V3"},{value:"V4",label:"V4"},{value:"V5",label:"V5"},{value:"V6",label:"V6"},{value:"V7",label:"V7"},{value:"V8",label:"V8"},{value:"W1",label:"W1"},{value:"W2",label:"W2"},{value:"W3",label:"W3"},{value:"W4",label:"W4"},{value:"W5",label:"W5"},{value:"W6",label:"W6"},{value:"W7",label:"W7"},{value:"W8",label:"W8"},{value:"X1",label:"X1"},{value:"X2",label:"X2"},{value:"X3",label:"X3"},{value:"X4",label:"X4"},{value:"X5",label:"X5"},{value:"X6",label:"X6"},{value:"X7",label:"X7"},{value:"X8",label:"X8"},{value:"Y1",label:"Y1"},{value:"Y2",label:"Y2"},{value:"Y3",label:"Y3"},{value:"Y4",label:"Y4"},{value:"Y5",label:"Y5"},{value:"Y6",label:"Y6"},{value:"Y7",label:"Y7"},{value:"Y8",label:"Y8"},{value:"Z1",label:"Z1"},{value:"Z2",label:"Z2"},{value:"Z3",label:"Z3"},{value:"Z4",label:"Z4"},{value:"Z5",label:"Z5"},{value:"Z6",label:"Z6"},{value:"Z7",label:"Z7"},{value:"Z8",label:"Z8"},{value:"Awaiting Location",label:"Awaiting Location"}],s2e=e=>kf(e),aA=[{value:"Rayburns Trading",label:"RAYBURNS TRADING"},{value:"Intamarque",label:"INTAMARQUE"},{value:"Sian Wholesale",label:"SIAN WHOLESALE"},{value:"DMG",label:"DMG"},{value:"CVT",label:"CVT"},{value:"Wholesale Trading Supplies",label:"WHOLESALE TRADING SUPPLIES"},{value:"HJA",label:"HJA"},{value:"Price Check",label:"PRICE CHECK"},{value:"other",label:"OTHER"}],CW=({onSubmit:e,isLoading:t=!1,existingStockItems:r,isSupplyServe:n=!1,onShowProductLocationInfo:a})=>{const{user:i}=ma(),s=()=>{switch(i==null?void 0:i.role){case"fahiz":return"fahiz";case"aphy":return"APHY";case"supply_serve":return"supply & serve";default:return"supply & serve"}},[o,l]=F.useState({name:"",price:"",unit:"",supplier:aA[0].value,asin:"",status:"pending",damagedItems:"0",fulfillmentType:"mf",storeName:s(),selectedAsins:[]}),[c,u]=F.useState([{locationCode:"A1",shelfNumber:"0",quantity:""}]),[f,h]=F.useState({}),[p,g]=F.useState(!1),[m,y]=F.useState(!1),[v,b]=F.useState(""),{isDarkMode:w}=ln(),[D,P]=F.useState(null),[j,E]=F.useState(!1),[_,S]=F.useState(null),[I,T]=F.useState(!1),[N,O]=F.useState(""),[U,Y]=F.useState(!1),[K,J]=F.useState(null),[q,V]=F.useState(null),[ee,Z]=F.useState(!1),[k,R]=F.useState(""),[z,G]=F.useState(!1),[Q,oe]=F.useState(null),[ce,ne]=F.useState([]),[he,ye]=F.useState(!1),[W,Ce]=F.useState(null),[ke,Ee]=F.useState([]),[ie,Fe]=F.useState(!1),[Ye,Se]=F.useState(null);F.useEffect(()=>{o.storeName==="supply & serve"&&o.fulfillmentType!=="mf"&&l(Me=>({...Me,fulfillmentType:"mf"}))},[o.storeName,o.fulfillmentType]);const $e=Me=>{const{name:Ke,value:ht}=Me.target;if(l(Dt=>({...Dt,[Ke]:ht})),Ke==="supplier"&&(T(ht==="other"),ht!=="other"&&O("")),f[Ke]&&h(Dt=>{const Ht={...Dt};return delete Ht[Ke],Ht}),Ke==="barcode"&&ht.length===13&&!j){Q&&clearTimeout(Q);const Dt=setTimeout(()=>{ht.length===13&&nt(ht)},500);oe(Dt)}else Ke==="barcode"&&ht.length!==13&&Q&&(clearTimeout(Q),oe(null))},_e=(Me,Ke,ht)=>{u(Dt=>{const Ht=[...Dt];if(Ht[Me]={...Ht[Me],[Ke]:ht},Ke==="locationCode"&&(Ht[Me].shelfNumber="0"),Ke==="shelfNumber"){const Mt=Ht[Me].locationCode,Ot=kf(Mt).length-1;parseInt(ht)>Ot&&(Ht[Me].shelfNumber="0")}return Ht})},De=()=>{u(Me=>[...Me,{locationCode:"A1",shelfNumber:"0",quantity:""}])},Ne=Me=>{u(Ke=>Ke.filter((ht,Dt)=>Dt!==Me))},qe=async Me=>{l(ht=>({...ht,barcode:Me})),P(null),S(null),E(!0);let Ke=!1;try{const ht=or(mt(Xe,"scannedProducts"),ar("barcode","==",Me)),Dt=await cr(ht);if(Dt.empty){const Mt=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${Me}`,Zt=await(await fetch(Mt)).json();if(Zt&&Zt.items&&Zt.items.length>0){const br=Zt.items[0],wr=br.asin||br.amazon_asin||"";if(wr&&wr.includes(" ")){const Te=wr.split(" ").filter(st=>st.trim());if(Te.length>1){ne(Te),Ee([]),Ce({name:br.title||"",unit:"",asin:Te[0]}),ye(!0),P("Multiple ASINs detected. Please select one or more."),Ke=!0;return}}l(Te=>({...Te,name:br.title||Te.name,asin:wr||Te.asin,selectedAsins:wr?[wr]:[]})),P("Product name and ASIN auto-filled from external database."),a&&br.title&&a(br.title,Me),Ke=!0}else P("No product found for this barcode. Please enter details manually.")}else{const Ht=Dt.docs[0].data(),Mt=Ht.asin||"";if(Mt&&Mt.includes(" ")){const Ot=Mt.split(" ").filter(Zt=>Zt.trim());if(Ot.length>1){ne(Ot),Ee([]),Ce({name:Ht.name||"",unit:Ht.unit||"",asin:Ot[0]}),ye(!0),P("Multiple ASINs detected. Please select one or more."),Ke=!0;return}}l(Ot=>({...Ot,name:Ht.name||Ot.name,unit:Ht.unit||Ot.unit,asin:Mt||Ot.asin,selectedAsins:Mt?[Mt]:[]})),P("Product name, unit, and ASIN auto-filled from scanned products."),a&&Ht.name&&a(Ht.name,Me),Ke=!0}}catch{S("Failed to fetch product info."),P("Failed to search for product. Please enter details manually.")}finally{E(!1),!Ke&&Me.length===13&&setTimeout(()=>{nt(Me)},100)}},at=async Me=>{try{const Ke=or(mt(Xe,"inventory"),ar("barcode","==",Me),ar("quantity","==",0)),ht=await cr(Ke);if(!ht.empty){const Dt=ht.docs[0].data();return Se({hiddenProduct:{...Dt,id:ht.docs[0].id,lastUpdated:Dt.lastUpdated instanceof Date?Dt.lastUpdated:new Date(Dt.lastUpdated)},newProductName:o.name||"New Product"}),Fe(!0),!0}return!1}catch(Ke){return console.error("Error checking for hidden products:",Ke),!1}},nt=async Me=>{const Ke=Me||o.barcode;if(!(!Ke||j)){S(null),E(!0);try{const ht=or(mt(Xe,"scannedProducts"),ar("barcode","==",Ke)),Dt=await cr(ht);if(!Dt.empty){const br=Dt.docs[0].data(),wr=br.asin||"";if(wr&&wr.includes(" ")){const Te=wr.split(" ").filter(st=>st.trim());if(Te.length>1){ne(Te),Ee([]),Ce({name:br.name||"",unit:br.unit||"",asin:Te[0]}),ye(!0),P("Multiple ASINs detected. Please select one or more."),E(!1);return}}l(Te=>({...Te,name:br.name||Te.name,unit:br.unit||Te.unit,asin:wr||Te.asin,selectedAsins:wr?[wr]:[]})),P("Product name, unit, and ASIN auto-filled from scanned products."),a&&br.name&&a(br.name,Ke),E(!1);return}const Mt=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${Ke}`,Zt=await(await fetch(Mt)).json();if(Zt&&Zt.items&&Zt.items.length>0){const br=Zt.items[0],wr=br.asin||br.amazon_asin||"";if(wr&&wr.includes(" ")){const Te=wr.split(" ").filter(st=>st.trim());if(Te.length>1){ne(Te),Ee([]),Ce({name:br.title||"",unit:"",asin:Te[0]}),ye(!0),P("Multiple ASINs detected. Please select one or more."),E(!1);return}}l(Te=>({...Te,name:br.title||Te.name,asin:wr||Te.asin,selectedAsins:wr?[wr]:[]})),P("Product name and ASIN auto-filled from UPC database."),a&&br.title&&a(br.title,Ke)}else S("No product info found for this barcode.")}catch{S("Failed to fetch product info.")}finally{E(!1),await at(Ke)}}},ut=()=>{const Me={};return o.name.trim()||(Me.name="Product name is required"),c.forEach((Ke,ht)=>{Ke.quantity?(isNaN(Number(Ke.quantity))||Number(Ke.quantity)<0)&&(Me[`location_${ht}_quantity`]="Quantity must be a positive number"):Me[`location_${ht}_quantity`]="Quantity is required"}),h(Me),Object.keys(Me).length===0},Tt=async Me=>{if(Me.preventDefault(),ut()){const Ke=o.supplier||aA[0].value,ht=o.storeName||"supply & serve",Dt=o.selectedAsins.length>0?o.selectedAsins:o.asin?[o.asin]:[],Ht=c.map(Ot=>({name:o.name,quantity:parseInt(Ot.quantity),price:(i==null?void 0:i.role)==="admin"||(i==null?void 0:i.role)==="fahiz"||(i==null?void 0:i.role)==="aphy"||(i==null?void 0:i.role)==="supply_serve"?parseFloat(o.price):0,unit:o.unit||null,supplier:Ke==="other"?N:Ke,locationCode:Ot.locationCode,shelfNumber:Ot.shelfNumber,asin:Dt.length>0?Dt.join(", "):null,status:o.status,damagedItems:parseInt(o.damagedItems),barcode:o.barcode||null,fulfillmentType:o.fulfillmentType,lastUpdated:new Date,storeName:ht==="other"?v:ht}));console.log("AddStockForm submitting data:",Ht),console.log("Location entries:",c);const Mt=Ht.find(Ot=>r.some(Zt=>Zt.name.trim().toLowerCase()===Ot.name.trim().toLowerCase()&&(Zt.barcode||"")===(Ot.barcode||"")&&Zt.locationCode===Ot.locationCode&&Zt.shelfNumber===Ot.shelfNumber));if(Mt){console.log("Duplicate found:",Mt),V({name:Mt.name,location:`${Mt.locationCode}-${Mt.shelfNumber}`}),J(Ht),Y(!0);return}try{console.log("Calling onSubmit with stockData:",Ht),await e(Ht)}catch(Ot){console.error("Error adding stock:",Ot)}}},kt=async()=>{if(K){try{await e(K)}catch(Me){console.error("Error adding stock:",Me)}Y(!1),J(null),V(null)}},_t=()=>{Y(!1),J(null),V(null)},ct=()=>{G(!0)},tr=()=>{R("Product has been successfully added to the database!"),Z(!0)},Wt=Me=>{W&&(l(Ke=>({...Ke,name:W.name||Ke.name,unit:W.unit||Ke.unit,asin:Me.join(", "),selectedAsins:Me})),P(`Product info and ${Me.length} selected ASIN(s) auto-filled.`)),ye(!1),ne([]),Ce(null),Ee([])},Hr=()=>{ye(!1),ne([]),Ce(null),Ee([]),P("ASIN selection cancelled. Please enter details manually.")},lr=Me=>{Ee(Ke=>Ke.includes(Me)?Ke.filter(Dt=>Dt!==Me):[...Ke,Me])},qr=(Me,Ke)=>{c.length>0&&u(ht=>{const Dt=[...ht];return Dt[0]={...Dt[0],locationCode:Me,shelfNumber:Ke},Dt}),Fe(!1),Se(null)},Ie=()=>{Fe(!1),Se(null)};return d.jsxs(d.Fragment,{children:[d.jsxs("form",{onSubmit:Tt,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(Ct,{label:"Product Name",name:"name",value:o.name,onChange:$e,error:f.name,placeholder:"Enter product name",required:!0,fullWidth:!0}),d.jsx("div",{children:d.jsx(sn,{label:"Supplier",name:"supplier",value:o.supplier,onChange:$e,options:aA,required:!0,fullWidth:!0})})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[((i==null?void 0:i.role)==="admin"||(i==null?void 0:i.role)==="fahiz"||(i==null?void 0:i.role)==="aphy"||(i==null?void 0:i.role)==="supply_serve")&&d.jsx(Ct,{label:"Price",name:"price",type:"number",value:o.price,onChange:$e,placeholder:"Enter price",min:"0",step:"0.01",fullWidth:!0}),!I&&d.jsx(Ct,{label:"Unit (Optional)",name:"unit",value:o.unit,onChange:$e,placeholder:"e.g. ML, GM, PC, etc.",fullWidth:!0}),I&&d.jsx(Ct,{label:"Other Supplier",value:N,onChange:Me=>O(Me.target.value),placeholder:"Enter supplier name",required:I,fullWidth:!0})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:I&&d.jsx(Ct,{label:"Unit (Optional)",name:"unit",value:o.unit,onChange:$e,placeholder:"e.g. ML, GM, PC, etc.",fullWidth:!0})}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h3",{className:"text-lg font-medium",children:"Location Entries"}),d.jsx(it,{type:"button",onClick:De,variant:"primary",icon:d.jsx(Si,{size:18}),children:"Add Location"})]}),c.map((Me,Ke)=>d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-end",children:[d.jsx(sn,{label:"Location Code",value:Me.locationCode,onChange:ht=>_e(Ke,"locationCode",ht.target.value),options:i2e,required:!0,fullWidth:!0}),d.jsx(sn,{label:"Shelf Number",value:Me.shelfNumber,onChange:ht=>_e(Ke,"shelfNumber",ht.target.value),options:s2e(Me.locationCode),required:!0,fullWidth:!0}),d.jsx(Ct,{label:"Quantity",type:"number",value:Me.quantity,onChange:ht=>_e(Ke,"quantity",ht.target.value),error:f[`location_${Ke}_quantity`],placeholder:"Enter quantity",min:"0",required:!0,fullWidth:!0}),c.length>1&&d.jsx(it,{type:"button",onClick:()=>Ne(Ke),variant:"danger",icon:d.jsx(ni,{size:18}),children:"Remove"})]},Ke))]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(sn,{label:"Fulfillment Type",name:"fulfillmentType",value:o.fulfillmentType,onChange:$e,options:o.storeName==="supply & serve"?[{value:"mf",label:"MF"}]:[{value:"fba",label:"FBA"},{value:"mf",label:"MF"}],fullWidth:!0}),d.jsx(sn,{label:"Status",name:"status",value:o.status,onChange:$e,options:[{value:"pending",label:"Pending"},{value:"active",label:"Active"}],fullWidth:!0,required:!0})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"flex gap-2 relative w-full",children:[d.jsx(Ct,{label:"Barcode",name:"barcode",value:o.barcode||"",onChange:$e,placeholder:"Enter barcode manually",fullWidth:!0,style:{paddingRight:44}}),d.jsx("button",{type:"button",onClick:()=>nt(),className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:j,children:j?d.jsxs("svg",{className:"animate-spin text-blue-500",width:"18",height:"18",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):d.jsx(Gc,{size:18,className:"text-blue-500"})})]}),d.jsx(Ct,{label:"ASIN (separated by commas, if multiple)",name:"asin",value:o.asin,onChange:$e,placeholder:"Enter Amazon ASIN",fullWidth:!0}),_&&d.jsxs("div",{className:"text-red-500 text-sm",children:[_," Please enter details manually."]}),D&&d.jsx("div",{className:"flex items-center text-xs mt-1 text-green-600 dark:text-green-400 pl-1",children:D})]}),!n&&((i==null?void 0:i.role)==="admin"||(i==null?void 0:i.role)==="staff")&&d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx("div",{children:d.jsx(sn,{label:"Store Name",value:o.storeName,onChange:Me=>{const Ke=Me.target.value;l(ht=>({...ht,storeName:Ke,fulfillmentType:Ke==="supply & serve"?"mf":ht.fulfillmentType})),y(Ke==="other"),Ke!=="other"&&b("")},options:[{value:"supply & serve",label:"SUPPLY & SERVE"},{value:"APHY",label:"APHY"},{value:"AZTEC",label:"AZTEC"},{value:"ZK",label:"ZK"},{value:"Fahiz",label:"FAHIZ"},{value:"other",label:"OTHER"}]})}),m&&d.jsxs("div",{children:[d.jsx("label",{className:`block text-sm font-medium ${w?"text-slate-200":"text-slate-700"} mb-1`,children:"Other Store Name"}),d.jsx(Ct,{type:"text",value:v,onChange:Me=>b(Me.target.value),placeholder:"Enter store name",required:m})]})]}),d.jsx("div",{className:"flex items-center justify-end gap-4 pt-2",children:d.jsxs("div",{className:"flex gap-2",children:[d.jsx(it,{type:"button",onClick:ct,variant:"primary",icon:d.jsx(Si,{size:18}),children:"Add New Product"}),d.jsx(it,{type:"submit",isLoading:t,variant:"success",icon:d.jsx(Si,{size:18}),children:"Confirm"})]})})]}),d.jsx(Sh,{isOpen:p,onClose:()=>g(!1),onBarcodeScanned:qe}),d.jsx(r2e,{isOpen:z,onClose:()=>G(!1),onSuccess:tr}),d.jsx(a2e,{isOpen:U,onClose:_t,onConfirm:kt,title:"Duplicate Stock Detected",message:q?`A product with the same name and barcode already exists at location ${q.location}. Do you want to add stock anyway?`:"",isLoading:t,confirmLabel:"Yes",cancelLabel:"No"}),d.jsx(hn,{isOpen:ee,onClose:()=>Z(!1),title:"Success!",size:"sm",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-3 text-green-600",children:[d.jsx(IO,{size:24}),d.jsx("p",{className:w?"text-slate-200":"text-slate-700",children:k})]}),d.jsx("div",{className:"flex justify-end pt-4",children:d.jsx(it,{variant:"primary",onClick:()=>Z(!1),children:"OK"})})]})}),d.jsx(hn,{isOpen:he,onClose:Hr,title:"Multiple ASINs Detected",size:"md",children:d.jsxs("div",{className:"space-y-4",children:[d.jsx("p",{className:w?"text-slate-200":"text-slate-700",children:"Multiple ASINs were found for this product. Please select one or more:"}),d.jsx("div",{className:"space-y-3",children:ce.map((Me,Ke)=>d.jsx("div",{className:`p-3 rounded-lg border cursor-pointer transition-colors ${ke.includes(Me)?w?"border-blue-400 bg-blue-900/20":"border-blue-400 bg-blue-50":w?"border-slate-600 hover:border-blue-400 hover:bg-slate-700":"border-slate-300 hover:border-blue-400 hover:bg-blue-50"}`,onClick:()=>lr(Me),children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:`font-mono text-sm ${w?"text-slate-200":"text-slate-800"}`,children:Me}),d.jsxs("div",{className:"flex items-center gap-2",children:[ke.includes(Me)&&d.jsx(IO,{size:16,className:"text-blue-500"}),d.jsxs("span",{className:`text-xs ${w?"text-slate-400":"text-slate-500"}`,children:["ASIN ",Ke+1]})]})]})},Ke))}),d.jsxs("div",{className:"flex justify-between items-center pt-4",children:[d.jsx("div",{className:"text-sm text-slate-500",children:ke.length>0?`${ke.length} ASIN(s) selected`:"No ASINs selected"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(it,{variant:"secondary",onClick:Hr,children:"Cancel"}),d.jsx(it,{variant:"primary",onClick:()=>Wt(ke),disabled:ke.length===0,children:"Confirm Selection"})]})]})]})}),(Ye==null?void 0:Ye.hiddenProduct)&&d.jsx(n2e,{isOpen:ie,onClose:()=>Fe(!1),onUseLocation:qr,onManualLocation:Ie,hiddenProduct:Ye.hiddenProduct,newProductName:Ye.newProductName||"New Product"})]})},o2e=[{value:"A1",label:"A1"},{value:"A2",label:"A2"},{value:"A3",label:"A3"},{value:"A4",label:"A4"},{value:"A5",label:"A5"},{value:"A6",label:"A6"},{value:"A7",label:"A7"},{value:"A8",label:"A8"},{value:"B1",label:"B1"},{value:"B2",label:"B2"},{value:"B3",label:"B3"},{value:"B4",label:"B4"},{value:"B5",label:"B5"},{value:"B6",label:"B6"},{value:"B7",label:"B7"},{value:"B8",label:"B8"},{value:"C1",label:"C1"},{value:"C2",label:"C2"},{value:"C3",label:"C3"},{value:"C4",label:"C4"},{value:"C5",label:"C5"},{value:"C6",label:"C6"},{value:"C7",label:"C7"},{value:"C8",label:"C8"},{value:"D1",label:"D1"},{value:"D2",label:"D2"},{value:"D3",label:"D3"},{value:"D4",label:"D4"},{value:"D5",label:"D5"},{value:"D6",label:"D6"},{value:"D7",label:"D7"},{value:"D8",label:"D8"},{value:"E1",label:"E1"},{value:"E2",label:"E2"},{value:"E3",label:"E3"},{value:"E4",label:"E4"},{value:"E5",label:"E5"},{value:"E6",label:"E6"},{value:"E7",label:"E7"},{value:"E8",label:"E8"},{value:"F1",label:"F1"},{value:"F2",label:"F2"},{value:"F3",label:"F3"},{value:"F4",label:"F4"},{value:"F5",label:"F5"},{value:"F6",label:"F6"},{value:"F7",label:"F7"},{value:"F8",label:"F8"},{value:"G1",label:"G1"},{value:"G2",label:"G2"},{value:"G3",label:"G3"},{value:"G4",label:"G4"},{value:"G5",label:"G5"},{value:"G6",label:"G6"},{value:"G7",label:"G7"},{value:"G8",label:"G8"},{value:"H1",label:"H1"},{value:"H2",label:"H2"},{value:"H3",label:"H3"},{value:"H4",label:"H4"},{value:"H5",label:"H5"},{value:"H6",label:"H6"},{value:"H7",label:"H7"},{value:"H8",label:"H8"},{value:"I1",label:"I1"},{value:"I2",label:"I2"},{value:"I3",label:"I3"},{value:"I4",label:"I4"},{value:"I5",label:"I5"},{value:"I6",label:"I6"},{value:"I7",label:"I7"},{value:"I8",label:"I8"},{value:"J1",label:"J1"},{value:"J2",label:"J2"},{value:"J3",label:"J3"},{value:"J4",label:"J4"},{value:"J5",label:"J5"},{value:"J6",label:"J6"},{value:"J7",label:"J7"},{value:"J8",label:"J8"},{value:"K1",label:"K1"},{value:"K2",label:"K2"},{value:"K3",label:"K3"},{value:"K4",label:"K4"},{value:"K5",label:"K5"},{value:"K6",label:"K6"},{value:"K7",label:"K7"},{value:"K8",label:"K8"},{value:"L1",label:"L1"},{value:"L2",label:"L2"},{value:"L3",label:"L3"},{value:"L4",label:"L4"},{value:"L5",label:"L5"},{value:"L6",label:"L6"},{value:"L7",label:"L7"},{value:"L8",label:"L8"},{value:"M1",label:"M1"},{value:"M2",label:"M2"},{value:"M3",label:"M3"},{value:"M4",label:"M4"},{value:"M5",label:"M5"},{value:"M6",label:"M6"},{value:"M7",label:"M7"},{value:"M8",label:"M8"},{value:"N1",label:"N1"},{value:"N2",label:"N2"},{value:"N3",label:"N3"},{value:"N4",label:"N4"},{value:"N5",label:"N5"},{value:"N6",label:"N6"},{value:"N7",label:"N7"},{value:"N8",label:"N8"},{value:"O1",label:"O1"},{value:"O2",label:"O2"},{value:"O3",label:"O3"},{value:"O4",label:"O4"},{value:"O5",label:"O5"},{value:"O6",label:"O6"},{value:"O7",label:"O7"},{value:"O8",label:"O8"},{value:"P1",label:"P1"},{value:"P2",label:"P2"},{value:"P3",label:"P3"},{value:"P4",label:"P4"},{value:"P5",label:"P5"},{value:"P6",label:"P6"},{value:"P7",label:"P7"},{value:"P8",label:"P8"},{value:"Q1",label:"Q1"},{value:"Q2",label:"Q2"},{value:"Q3",label:"Q3"},{value:"Q4",label:"Q4"},{value:"Q5",label:"Q5"},{value:"Q6",label:"Q6"},{value:"Q7",label:"Q7"},{value:"Q8",label:"Q8"},{value:"R1",label:"R1"},{value:"R2",label:"R2"},{value:"R3",label:"R3"},{value:"R4",label:"R4"},{value:"R5",label:"R5"},{value:"R6",label:"R6"},{value:"R7",label:"R7"},{value:"R8",label:"R8"},{value:"S1",label:"S1"},{value:"S2",label:"S2"},{value:"S3",label:"S3"},{value:"S4",label:"S4"},{value:"S5",label:"S5"},{value:"S6",label:"S6"},{value:"S7",label:"S7"},{value:"S8",label:"S8"},{value:"T1",label:"T1"},{value:"T2",label:"T2"},{value:"T3",label:"T3"},{value:"T4",label:"T4"},{value:"T5",label:"T5"},{value:"T6",label:"T6"},{value:"T7",label:"T7"},{value:"T8",label:"T8"},{value:"U1",label:"U1"},{value:"U2",label:"U2"},{value:"U3",label:"U3"},{value:"U4",label:"U4"},{value:"U5",label:"U5"},{value:"U6",label:"U6"},{value:"U7",label:"U7"},{value:"U8",label:"U8"},{value:"V1",label:"V1"},{value:"V2",label:"V2"},{value:"V3",label:"V3"},{value:"V4",label:"V4"},{value:"V5",label:"V5"},{value:"V6",label:"V6"},{value:"V7",label:"V7"},{value:"V8",label:"V8"},{value:"W1",label:"W1"},{value:"W2",label:"W2"},{value:"W3",label:"W3"},{value:"W4",label:"W4"},{value:"W5",label:"W5"},{value:"W6",label:"W6"},{value:"W7",label:"W7"},{value:"W8",label:"W8"},{value:"X1",label:"X1"},{value:"X2",label:"X2"},{value:"X3",label:"X3"},{value:"X4",label:"X4"},{value:"X5",label:"X5"},{value:"X6",label:"X6"},{value:"X7",label:"X7"},{value:"X8",label:"X8"},{value:"Y1",label:"Y1"},{value:"Y2",label:"Y2"},{value:"Y3",label:"Y3"},{value:"Y4",label:"Y4"},{value:"Y5",label:"Y5"},{value:"Y6",label:"Y6"},{value:"Y7",label:"Y7"},{value:"Y8",label:"Y8"},{value:"Z1",label:"Z1"},{value:"Z2",label:"Z2"},{value:"Z3",label:"Z3"},{value:"Z4",label:"Z4"},{value:"Z5",label:"Z5"},{value:"Z6",label:"Z6"},{value:"Z7",label:"Z7"},{value:"Z8",label:"Z8"},{value:"Awaiting Location",label:"Awaiting Location"}],l2e=e=>kf(e),c2e=["supply & serve","APHY","AZTEC","ZK","Fahiz"],G8=[{value:"Rayburns Trading",label:"RAYBURNS TRADING"},{value:"Intamarque",label:"INTAMARQUE"},{value:"Sian Wholesale",label:"SIAN WHOLESALE"},{value:"DMG",label:"DMG"},{value:"CVT",label:"CVT"},{value:"Wholesale Trading Supplies",label:"WHOLESALE TRADING SUPPLIES"},{value:"HJA",label:"HJA"},{value:"Price Check",label:"PRICE CHECK"},{value:"other",label:"OTHER"}],PW=({item:e,onSubmit:t,isLoading:r=!1})=>{const{isDarkMode:n}=ln(),{user:a}=ma(),[i,s]=F.useState(null),o=()=>{switch(a==null?void 0:a.role){case"fahiz":return"fahiz";case"aphy":return"APHY";case"supply_serve":return"supply & serve";default:return e.storeName}},l=(a==null?void 0:a.role)==="admin"?e.storeName:o(),c=l&&!c2e.includes(l),u=G8.some(O=>O.value===(e.supplier||"")),f=u?e.supplier||"":"other",h=u?"":e.supplier||"",[p,g]=F.useState({name:e.name,quantity:e.quantity.toString(),price:e.price.toString(),unit:e.unit||"",supplier:f,locationCode:e.locationCode,shelfNumber:e.shelfNumber,asin:e.asin||"",status:e.status,damagedItems:e.damagedItems.toString(),fulfillmentType:(c?"other":e.storeName||"supply & serve")==="supply & serve"?"mf":e.fulfillmentType,storeName:c?"other":e.storeName||"supply & serve",barcode:e.barcode||""}),[m,y]=F.useState(c),[v,b]=F.useState(c?l:""),[w,D]=F.useState(f==="other"),[P,j]=F.useState(h),[E,_]=F.useState(!1);F.useEffect(()=>{p.storeName==="supply & serve"&&p.fulfillmentType!=="mf"&&g(O=>({...O,fulfillmentType:"mf"}))},[p.storeName,p.fulfillmentType]);const S=O=>{const{name:U,value:Y}=O.target;if(U==="damagedItems"){const K=Number(Y),J=Number(p.quantity);if(K<0){s("Damaged items cannot be negative");return}s(null),g(q=>({...q,damagedItems:Y,quantity:(J-(K-Number(q.damagedItems))).toString()}));return}U==="supplier"&&(D(Y==="other"),Y!=="other"&&j("")),g(K=>({...K,[U]:Y}))},I=O=>{g(U=>({...U,barcode:O})),_(!1)},T=async O=>{if(O.preventDefault(),N())try{const U={id:e.id,name:p.name,quantity:parseInt(p.quantity),price:(a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="fahiz"||(a==null?void 0:a.role)==="aphy"||(a==null?void 0:a.role)==="supply_serve"?parseFloat(p.price):e.price,unit:p.unit||null,supplier:p.supplier==="other"?P:p.supplier||null,locationCode:p.locationCode,shelfNumber:p.shelfNumber,asin:p.asin||null,status:(a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="fahiz"||(a==null?void 0:a.role)==="aphy"||(a==null?void 0:a.role)==="supply_serve"?p.status:"pending",damagedItems:parseInt(p.damagedItems),fulfillmentType:p.fulfillmentType,lastUpdated:new Date,storeName:p.storeName==="other"?v:p.storeName,barcode:p.barcode||null};await t(U,e)}catch(U){console.error("Error updating stock:",U),s("Failed to update stock. Please try again.")}},N=()=>p.name.trim()?!p.quantity||parseInt(p.quantity)<0?(s("Quantity must be a positive number"),!1):((a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="fahiz"||(a==null?void 0:a.role)==="aphy"||(a==null?void 0:a.role)==="supply_serve")&&(!p.price||parseFloat(p.price)<0)?(s("Price must be a positive number"),!1):!p.locationCode||!p.shelfNumber?(s("Location and shelf number are required"),!1):(s(null),!0):(s("Product name is required"),!1);return d.jsxs("form",{onSubmit:T,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(Ct,{label:"Product Name",name:"name",value:p.name,onChange:S,placeholder:"Enter product name",required:!0,fullWidth:!0}),(a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="fahiz"||(a==null?void 0:a.role)==="aphy"||(a==null?void 0:a.role)==="supply_serve"?d.jsx(sn,{label:"Status",name:"status",value:p.status,onChange:S,options:[{value:"pending",label:"Pending"},{value:"active",label:"Active"}],fullWidth:!0,required:!0}):d.jsx(Ct,{label:"Status",name:"status",value:"pending",disabled:!0,fullWidth:!0})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(Ct,{label:"Quantity",name:"quantity",type:"number",value:p.quantity,onChange:S,placeholder:"Enter quantity",min:"0",required:!0,fullWidth:!0}),((a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="fahiz"||(a==null?void 0:a.role)==="aphy"||(a==null?void 0:a.role)==="supply_serve")&&d.jsx(Ct,{label:"Price",name:"price",type:"number",value:p.price,onChange:S,placeholder:"Enter price",min:"0",step:"0.01",fullWidth:!0}),d.jsx(Ct,{label:"Unit (Optional)",name:"unit",value:p.unit,onChange:S,placeholder:"e.g. ML, GM, PC, etc.",fullWidth:!0}),d.jsx(sn,{label:"Fulfillment Type",name:"fulfillmentType",value:p.fulfillmentType,onChange:S,options:p.storeName==="supply & serve"?[{value:"mf",label:"MF"}]:[{value:"fba",label:"FBA"},{value:"mf",label:"MF"}],fullWidth:!0})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(sn,{label:"Location Code",name:"locationCode",value:p.locationCode,onChange:S,options:o2e,required:!0,fullWidth:!0}),d.jsx(sn,{label:"Shelf Number",name:"shelfNumber",value:p.shelfNumber,onChange:S,options:l2e(p.locationCode),required:!0,fullWidth:!0})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"flex gap-2 relative w-full",children:[d.jsx(Ct,{label:"Barcode",name:"barcode",value:p.barcode||"",onChange:S,placeholder:"Enter barcode manually",fullWidth:!0,style:{paddingRight:44}}),d.jsx("button",{type:"button",onClick:()=>_(!0),className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Scan barcode",tabIndex:0,"aria-label":"Scan barcode",children:d.jsx(Gc,{size:18,className:"text-blue-500"})})]}),d.jsx(Ct,{label:"ASIN",name:"asin",value:p.asin,onChange:S,placeholder:"Enter Amazon ASIN",fullWidth:!0})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx("div",{children:d.jsx(sn,{label:"Supplier",name:"supplier",value:p.supplier,onChange:S,options:G8,required:!0,fullWidth:!0})}),((a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="staff")&&d.jsxs("div",{children:[d.jsx("label",{className:`block text-sm font-medium ${n?"text-slate-300":"text-slate-700"} mb-1`,children:"Store Name"}),d.jsx(sn,{value:p.storeName,onChange:O=>{const U=O.target.value;g(Y=>({...Y,storeName:U,fulfillmentType:U==="supply & serve"?"mf":Y.fulfillmentType})),y(U==="other"),U!=="other"&&b("")},options:[{value:"supply & serve",label:"SUPPLY & SERVE"},{value:"APHY",label:"APHY"},{value:"AZTEC",label:"AZTEC"},{value:"ZK",label:"ZK"},{value:"Fahiz",label:"FAHIZ"},{value:"other",label:"OTHER"}]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w&&d.jsx(Ct,{label:"Other Supplier",value:P,onChange:O=>j(O.target.value),placeholder:"Enter supplier name",required:w,fullWidth:!0}),((a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="staff")&&m&&!w&&d.jsxs("div",{children:[d.jsx("label",{className:`block text-sm font-medium ${n?"text-slate-300":"text-slate-700"} mb-1`,children:"Other Store Name"}),d.jsx(Ct,{type:"text",value:v,onChange:O=>b(O.target.value),placeholder:"Enter store name",required:m})]}),((a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="staff")&&m&&w&&d.jsxs("div",{children:[d.jsx("label",{className:`block text-sm font-medium ${n?"text-slate-300":"text-slate-700"} mb-1`,children:"Other Store Name"}),d.jsx(Ct,{type:"text",value:v,onChange:O=>b(O.target.value),placeholder:"Enter store name",required:m})]}),d.jsxs("div",{children:[d.jsx(Ct,{label:"Damaged Items",name:"damagedItems",type:"number",value:p.damagedItems,onChange:S,placeholder:"Enter number of damaged items",min:"0",fullWidth:!0,className:i?"border-red-500 focus:border-red-500":""}),i&&d.jsx("p",{className:"mt-1 text-sm text-red-500",children:i})]})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"}),d.jsx("div",{className:"flex justify-end",children:d.jsx(it,{type:"submit",isLoading:r,icon:d.jsx(Si,{size:18}),children:"Update Product"})}),d.jsx(Sh,{isOpen:E,onClose:()=>_(!1),onBarcodeScanned:I})]})},u2e=[{value:"A1",label:"A1"},{value:"A2",label:"A2"},{value:"A3",label:"A3"},{value:"A4",label:"A4"},{value:"A5",label:"A5"},{value:"A6",label:"A6"},{value:"A7",label:"A7"},{value:"A8",label:"A8"},{value:"B1",label:"B1"},{value:"B2",label:"B2"},{value:"B3",label:"B3"},{value:"B4",label:"B4"},{value:"B5",label:"B5"},{value:"B6",label:"B6"},{value:"B7",label:"B7"},{value:"B8",label:"B8"},{value:"C1",label:"C1"},{value:"C2",label:"C2"},{value:"C3",label:"C3"},{value:"C4",label:"C4"},{value:"C5",label:"C5"},{value:"C6",label:"C6"},{value:"C7",label:"C7"},{value:"C8",label:"C8"},{value:"D1",label:"D1"},{value:"D2",label:"D2"},{value:"D3",label:"D3"},{value:"D4",label:"D4"},{value:"D5",label:"D5"},{value:"D6",label:"D6"},{value:"D7",label:"D7"},{value:"D8",label:"D8"},{value:"E1",label:"E1"},{value:"E2",label:"E2"},{value:"E3",label:"E3"},{value:"E4",label:"E4"},{value:"E5",label:"E5"},{value:"E6",label:"E6"},{value:"E7",label:"E7"},{value:"E8",label:"E8"},{value:"F1",label:"F1"},{value:"F2",label:"F2"},{value:"F3",label:"F3"},{value:"F4",label:"F4"},{value:"F5",label:"F5"},{value:"F6",label:"F6"},{value:"F7",label:"F7"},{value:"F8",label:"F8"},{value:"G1",label:"G1"},{value:"G2",label:"G2"},{value:"G3",label:"G3"},{value:"G4",label:"G4"},{value:"G5",label:"G5"},{value:"G6",label:"G6"},{value:"G7",label:"G7"},{value:"G8",label:"G8"},{value:"H1",label:"H1"},{value:"H2",label:"H2"},{value:"H3",label:"H3"},{value:"H4",label:"H4"},{value:"H5",label:"H5"},{value:"H6",label:"H6"},{value:"H7",label:"H7"},{value:"H8",label:"H8"},{value:"I1",label:"I1"},{value:"I2",label:"I2"},{value:"I3",label:"I3"},{value:"I4",label:"I4"},{value:"I5",label:"I5"},{value:"I6",label:"I6"},{value:"I7",label:"I7"},{value:"I8",label:"I8"},{value:"J1",label:"J1"},{value:"J2",label:"J2"},{value:"J3",label:"J3"},{value:"J4",label:"J4"},{value:"J5",label:"J5"},{value:"J6",label:"J6"},{value:"J7",label:"J7"},{value:"J8",label:"J8"},{value:"K1",label:"K1"},{value:"K2",label:"K2"},{value:"K3",label:"K3"},{value:"K4",label:"K4"},{value:"K5",label:"K5"},{value:"K6",label:"K6"},{value:"K7",label:"K7"},{value:"K8",label:"K8"},{value:"L1",label:"L1"},{value:"L2",label:"L2"},{value:"L3",label:"L3"},{value:"L4",label:"L4"},{value:"L5",label:"L5"},{value:"L6",label:"L6"},{value:"L7",label:"L7"},{value:"L8",label:"L8"},{value:"M1",label:"M1"},{value:"M2",label:"M2"},{value:"M3",label:"M3"},{value:"M4",label:"M4"},{value:"M5",label:"M5"},{value:"M6",label:"M6"},{value:"M7",label:"M7"},{value:"M8",label:"M8"},{value:"N1",label:"N1"},{value:"N2",label:"N2"},{value:"N3",label:"N3"},{value:"N4",label:"N4"},{value:"N5",label:"N5"},{value:"N6",label:"N6"},{value:"N7",label:"N7"},{value:"N8",label:"N8"},{value:"O1",label:"O1"},{value:"O2",label:"O2"},{value:"O3",label:"O3"},{value:"O4",label:"O4"},{value:"O5",label:"O5"},{value:"O6",label:"O6"},{value:"O7",label:"O7"},{value:"O8",label:"O8"},{value:"P1",label:"P1"},{value:"P2",label:"P2"},{value:"P3",label:"P3"},{value:"P4",label:"P4"},{value:"P5",label:"P5"},{value:"P6",label:"P6"},{value:"P7",label:"P7"},{value:"P8",label:"P8"},{value:"Q1",label:"Q1"},{value:"Q2",label:"Q2"},{value:"Q3",label:"Q3"},{value:"Q4",label:"Q4"},{value:"Q5",label:"Q5"},{value:"Q6",label:"Q6"},{value:"Q7",label:"Q7"},{value:"Q8",label:"Q8"},{value:"R1",label:"R1"},{value:"R2",label:"R2"},{value:"R3",label:"R3"},{value:"R4",label:"R4"},{value:"R5",label:"R5"},{value:"R6",label:"R6"},{value:"R7",label:"R7"},{value:"R8",label:"R8"},{value:"S1",label:"S1"},{value:"S2",label:"S2"},{value:"S3",label:"S3"},{value:"S4",label:"S4"},{value:"S5",label:"S5"},{value:"S6",label:"S6"},{value:"S7",label:"S7"},{value:"S8",label:"S8"},{value:"T1",label:"T1"},{value:"T2",label:"T2"},{value:"T3",label:"T3"},{value:"T4",label:"T4"},{value:"T5",label:"T5"},{value:"T6",label:"T6"},{value:"T7",label:"T7"},{value:"T8",label:"T8"},{value:"U1",label:"U1"},{value:"U2",label:"U2"},{value:"U3",label:"U3"},{value:"U4",label:"U4"},{value:"U5",label:"U5"},{value:"U6",label:"U6"},{value:"U7",label:"U7"},{value:"U8",label:"U8"},{value:"V1",label:"V1"},{value:"V2",label:"V2"},{value:"V3",label:"V3"},{value:"V4",label:"V4"},{value:"V5",label:"V5"},{value:"V6",label:"V6"},{value:"V7",label:"V7"},{value:"V8",label:"V8"},{value:"W1",label:"W1"},{value:"W2",label:"W2"},{value:"W3",label:"W3"},{value:"W4",label:"W4"},{value:"W5",label:"W5"},{value:"W6",label:"W6"},{value:"W7",label:"W7"},{value:"W8",label:"W8"},{value:"X1",label:"X1"},{value:"X2",label:"X2"},{value:"X3",label:"X3"},{value:"X4",label:"X4"},{value:"X5",label:"X5"},{value:"X6",label:"X6"},{value:"X7",label:"X7"},{value:"X8",label:"X8"},{value:"Y1",label:"Y1"},{value:"Y2",label:"Y2"},{value:"Y3",label:"Y3"},{value:"Y4",label:"Y4"},{value:"Y5",label:"Y5"},{value:"Y6",label:"Y6"},{value:"Y7",label:"Y7"},{value:"Y8",label:"Y8"},{value:"Z1",label:"Z1"},{value:"Z2",label:"Z2"},{value:"Z3",label:"Z3"},{value:"Z4",label:"Z4"},{value:"Z5",label:"Z5"},{value:"Z6",label:"Z6"},{value:"Z7",label:"Z7"},{value:"Z8",label:"Z8"},{value:"Awaiting Location",label:"Awaiting Location"}],OW=({onSubmit:e,onClose:t,isLoading:r=!1})=>{const[n,a]=F.useState([]),[i,s]=F.useState({name:"",locationCode:"A1",shelfNumber:"0",barcode:"",quantity:""}),[o,l]=F.useState({}),[c,u]=F.useState(!1),[f,h]=F.useState(null),[p,g]=F.useState(!1),[m,y]=F.useState(null),v=F.useRef(null);F.useEffect(()=>{a(kf(i.locationCode))},[]),F.useEffect(()=>{a(kf(i.locationCode));const _=kf(i.locationCode).length-1;parseInt(i.shelfNumber)>_&&s(S=>({...S,shelfNumber:"0"}))},[i.locationCode]);const b=_=>{const{name:S,value:I}=_.target;s(T=>({...T,[S]:I})),o[S]&&l(T=>{const N={...T};return delete N[S],N}),S==="barcode"&&I.length===13&&!p?(v.current&&clearTimeout(v.current),v.current=setTimeout(()=>{I.length===13&&P(I)},500)):S==="barcode"&&I.length!==13&&v.current&&(clearTimeout(v.current),v.current=null)},w=()=>{u(!0)},D=async _=>{s(I=>({...I,barcode:_})),h(null),y(null),g(!0);let S=!1;try{const I=or(mt(Xe,"scannedProducts"),ar("barcode","==",_)),T=await cr(I);if(T.empty){const O=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${_}`,Y=await(await fetch(O)).json();if(Y&&Y.items&&Y.items.length>0){const K=Y.items[0];s(J=>({...J,name:K.title||J.name})),h("Product name auto-filled from external database."),S=!0}else h("No product found for this barcode. Please enter details manually.")}else{const N=T.docs[0].data();s(O=>({...O,name:N.name||O.name})),h("Product name auto-filled from scanned products."),S=!0}}catch{y("Failed to fetch product info."),h("Failed to search for product. Please enter details manually.")}finally{g(!1),!S&&_.length===13&&setTimeout(()=>{P(_)},100)}},P=async _=>{const S=_||i.barcode;if(!(!S||p)){y(null),g(!0);try{const I=or(mt(Xe,"scannedProducts"),ar("barcode","==",S)),T=await cr(I);if(T.empty){const O=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${S}`,Y=await(await fetch(O)).json();if(Y&&Y.items&&Y.items.length>0){const K=Y.items[0];s(J=>({...J,name:K.title||J.name})),h("Product name auto-filled from external database.")}else y("No product info found for this barcode.")}else{const N=T.docs[0].data();s(O=>({...O,name:N.name||O.name})),h("Product name auto-filled from scanned products.")}}catch{y("Failed to fetch product info.")}finally{g(!1)}}},j=()=>{const _={};return i.name.trim()||(_.name="Product name is required"),i.locationCode||(_.locationCode="Location is required"),i.shelfNumber||(_.shelfNumber="Shelf number is required"),(!i.quantity||parseInt(i.quantity)<=0)&&(_.quantity="Quantity must be greater than 0"),l(_),Object.keys(_).length===0},E=async _=>{if(_.preventDefault(),!j())return;const S={name:i.name.toUpperCase(),quantity:parseInt(i.quantity),price:0,unit:null,supplier:"not set",lastUpdated:new Date,locationCode:i.locationCode,shelfNumber:i.shelfNumber,barcode:i.barcode||null,asin:null,status:"pending",damagedItems:0,fulfillmentType:"fba",storeName:"not set"};try{await e([S]),t()}catch(I){console.error("Error adding stock:",I)}};return d.jsxs(d.Fragment,{children:[d.jsxs("form",{onSubmit:E,className:"space-y-4",children:[d.jsx(Ct,{label:"Product Name",name:"name",value:i.name,onChange:b,placeholder:"Enter product name",error:o.name,required:!0,fullWidth:!0}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(sn,{label:"Location Code",name:"locationCode",value:i.locationCode,onChange:b,options:u2e,error:o.locationCode,required:!0,fullWidth:!0}),d.jsx(sn,{label:"Shelf Number",name:"shelfNumber",value:i.shelfNumber,onChange:b,options:n,error:o.shelfNumber,required:!0,fullWidth:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex gap-2 relative w-full",children:[d.jsx(Ct,{label:"Barcode",name:"barcode",value:i.barcode,onChange:b,placeholder:"Enter barcode",fullWidth:!0,style:{paddingRight:44}}),d.jsx("button",{type:"button",onClick:async()=>{if(i.barcode.trim()&&!p){y(null),g(!0);try{await P()}finally{g(!1)}}},className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:p,children:p?d.jsxs("svg",{className:"animate-spin text-blue-500",width:"18",height:"18",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):d.jsx(Gc,{size:18,className:"text-blue-500"})})]}),m&&d.jsxs("div",{className:"text-red-500 text-sm",children:[m," Please enter details manually."]}),f&&d.jsx("div",{className:"flex items-center text-xs mt-1 text-green-600 dark:text-green-400 pl-1",children:f}),p&&d.jsxs("div",{className:"flex items-center gap-2 text-blue-500 text-sm",children:[d.jsxs("svg",{className:"w-4 h-4 animate-spin",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Fetching product info..."]})]}),d.jsx(Ct,{label:"Quantity",name:"quantity",type:"number",value:i.quantity,onChange:b,placeholder:"Enter quantity",error:o.quantity,min:"1",required:!0,fullWidth:!0}),d.jsxs("div",{className:"flex items-center justify-end gap-4 pt-2",children:[d.jsx(it,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(it,{type:"submit",isLoading:r,icon:d.jsx(Si,{size:18}),children:"Quick Add"}),d.jsx(it,{type:"button",onClick:w,variant:"primary",icon:d.jsx(Gc,{size:18}),className:"whitespace-nowrap",children:"Scan"})]})]})]}),d.jsx(Sh,{isOpen:c,onClose:()=>u(!1),onBarcodeScanned:D})]})},gy=({isOpen:e,onClose:t,item:r})=>{var i,s;const{isDarkMode:n}=ln(),{user:a}=ma();return r?d.jsx(hn,{isOpen:e,onClose:t,title:r.name,size:"xl",children:d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"flex flex-col md:flex-row gap-6",children:d.jsxs("div",{className:"w-full",children:[d.jsx("div",{className:"mb-4 flex items-center justify-between",children:d.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${r.quantity<10?"bg-red-100 text-red-800 ":r.quantity<=25?"bg-yellow-100 text-yellow-800 ":"bg-green-100 text-green-800 "}`,children:r.quantity<10?"Critical Low Stock":r.quantity<=25?"Low Stock":"In Stock"})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Quantity"}),d.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.quantity})]}),(a==null?void 0:a.role)==="admin"&&d.jsxs("div",{children:[d.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Price"}),d.jsx("p",{className:`mt-1 text-sm ${n?"text-slate-200":"text-slate-900"}`,children:Number(r.price)>0?`£${Number(r.price).toFixed(2)}`:"Not set yet"})]}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Unit"}),d.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.unit||"-"})]}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Supplier"}),d.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:((i=r.supplier)==null?void 0:i.toUpperCase())||"-"})]}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Location"}),d.jsxs("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:[r.locationCode," - ",r.shelfNumber]})]}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"ASIN"}),d.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.asin?r.asin.includes(",")?r.asin.split(",").map((o,l)=>d.jsx("span",{className:"block",children:o.trim()},l)):r.asin:"-"})]}),d.jsxs("div",{children:[d.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Status"}),d.jsx("p",{className:"mt-1",children:d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:r.status==="active"?"Active":"Pending"})})]}),d.jsxs("div",{children:[d.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Damaged Items"}),d.jsx("p",{className:"mt-1",children:d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r.damagedItems>0?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:r.damagedItems>0?`${r.damagedItems} Damaged`:"None"})})]}),d.jsxs("div",{children:[d.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Fulfillment Type"}),d.jsx("p",{className:"mt-1",children:d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r.fulfillmentType==="fba"?"bg-blue-100 text-blue-700":r.fulfillmentType==="mf"?"bg-purple-100 text-purple-700":"bg-indigo-100 text-indigo-700"}`,children:r.fulfillmentType==="fba"?"FBA":r.fulfillmentType==="mf"?"MF":"None"})})]}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Barcode"}),d.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.barcode||"-"})]}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Last Updated"}),d.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.lastUpdated&&!isNaN(new Date(r.lastUpdated).getTime())?zt(new Date(r.lastUpdated),"MMM d, yyyy"):"Unknown"})]}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Store Name"}),d.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:((s=r.storeName)==null?void 0:s.toUpperCase())||"-"})]})]})]})}),d.jsxs("div",{className:`pt-3 border-t ${n?"border-slate-700":"border-slate-200"}`,children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("span",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-700"}`,children:"Stock Level"}),d.jsxs("span",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:[r.quantity," units"]})]}),d.jsxs("div",{className:`h-2 w-full ${n?"bg-slate-700":"bg-slate-200"} rounded-full overflow-hidden relative`,children:[d.jsx("div",{className:`h-full ${r.quantity<10?"bg-red-500":r.quantity<=25?"bg-orange-500":"bg-green-500"}`,style:{width:`${Math.min(r.quantity/50*100,100)}%`}}),d.jsx("div",{className:`absolute top-0 h-full w-0.5 ${n?"bg-red-400":"bg-red-600"}`,style:{left:`calc(${10/50*100}% - 1px)`},title:"Critical Threshold (10 units)"}),d.jsx("div",{className:`absolute top-0 h-full w-0.5 ${n?"bg-orange-400":"bg-orange-600"}`,style:{left:`calc(${25/50*100}% - 1px)`},title:"Low Stock Threshold (25 units)"})]}),d.jsxs("div",{className:`mt-1 flex justify-between text-xs ${n?"text-slate-400":"text-slate-500"}`,children:[d.jsx("span",{children:"0"}),d.jsx("span",{children:"Critical: <10"}),d.jsx("span",{children:"Low: 10-25"}),d.jsx("span",{children:"25+"})]})]})]})}):null},dh=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,isLoading:i=!1})=>{const{isDarkMode:s}=ln();return d.jsx(hn,{isOpen:e,onClose:t,title:n,size:"md",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-3 text-amber-600",children:[d.jsx(Ov,{size:24}),d.jsx("p",{className:s?"text-slate-200":"text-slate-700",children:a})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[d.jsx(it,{variant:"secondary",onClick:t,disabled:i,className:s?"text-slate-100":"text-slate-700",children:"Cancel"}),d.jsx(it,{variant:"danger",onClick:r,isLoading:i,children:"Delete"})]})]})})},IW=({isOpen:e,onClose:t,onConfirm:r,onCancel:n,onMerge:a,locationCode:i,shelfNumber:s,existingProducts:o,newProductName:l,newProductBarcode:c})=>{const u=o.filter(m=>m.quantity>0),f=u.length,h=u.reduce((m,y)=>m+y.quantity,0),p=c&&u.some(m=>m.barcode===c),g=p?u.find(m=>m.barcode===c):null;return d.jsx(hn,{isOpen:e,onClose:t,title:"Location Already Occupied",size:"md",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(Ov,{className:"w-6 h-6 text-amber-500 mt-1 flex-shrink-0"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["The location ",d.jsxs("strong",{children:[i,"-",s]})," already contains products."]}),d.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-3",children:u.length>0?d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-200 font-medium",children:"Current products in this location:"}),d.jsx("ul",{className:"mt-2 space-y-1",children:u.map((m,y)=>d.jsxs("li",{className:"text-sm text-amber-700 dark:text-amber-300",children:["• ",m.name," (",m.quantity," units)",m.barcode&&d.jsxs("span",{className:"text-xs text-amber-600 dark:text-amber-400 ml-2",children:["Barcode: ",m.barcode]})]},y))}),d.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-200 mt-2",children:["Total: ",f," product",f!==1?"s":""," (",h," units)"]})]}):d.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-200 font-medium",children:"This location appears to be empty (all products have 0 quantity)."})}),p&&g&&d.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:[d.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200 font-medium",children:"Merge Available!"}),d.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1",children:['The product "',l,'" has the same barcode (',c,') as "',g.name,'" which is already in this location. You can merge them to add quantity instead of creating a duplicate entry.']})]}),d.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Do you still want to add ",d.jsx("strong",{children:l})," to this location?"]})]})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[d.jsx(it,{variant:"secondary",onClick:n,children:"Cancel"}),p&&a&&d.jsx(it,{onClick:a,className:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500",children:"Merge Products"}),d.jsx(it,{onClick:r,className:"bg-amber-600 hover:bg-amber-700 focus:ring-amber-500",children:"Yes, Add Product"})]})]})})},f2e=({isOpen:e,onClose:t,productName:r,barcode:n,existingLocations:a})=>{const{isDarkMode:i}=ln();return d.jsx(hn,{isOpen:e,onClose:t,title:"Product Location Information",size:"lg",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:`${i?"bg-blue-900/20 border-blue-800":"bg-blue-50 border-blue-200"} border rounded-lg p-4`,children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(ah,{className:`w-5 h-5 ${i?"text-blue-400":"text-blue-600"}`}),d.jsx("h3",{className:`font-semibold ${i?"text-blue-200":"text-blue-900"}`,children:"Product Details"})]}),d.jsxs("div",{className:`text-sm ${i?"text-blue-300":"text-blue-800"}`,children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Name:"})," ",r]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Barcode:"})," ",n]})]})]}),d.jsxs("div",{className:`${i?"bg-green-900/20 border-green-800":"bg-green-50 border-green-200"} border rounded-lg p-4`,children:[d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx(CN,{className:`w-5 h-5 ${i?"text-green-400":"text-green-600"}`}),d.jsxs("h3",{className:`font-semibold ${i?"text-green-200":"text-green-900"}`,children:["Current Locations (",a.length,")"]})]}),a.length>0?d.jsx("div",{className:"space-y-2",children:a.map((s,o)=>d.jsx("div",{className:`${i?"bg-slate-700 border-slate-600":"bg-white border-slate-200"} rounded-lg p-3 border`,children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("p",{className:`font-medium ${i?"text-slate-100":"text-slate-900"}`,children:[s.locationCode," - ",s.shelfNumber]}),d.jsxs("p",{className:`text-sm font-semibold ${i?"text-slate-200":"text-slate-700"}`,children:[s.quantity," units"]})]})},o))}):d.jsx("p",{className:`text-sm ${i?"text-green-300":"text-green-700"}`,children:"This product is not currently in any location."})]}),d.jsx("div",{className:"flex justify-end pt-4",children:d.jsx(it,{variant:"secondary",onClick:t,className:i?"text-slate-100":"text-slate-700",children:"Close"})})]})})},d2e=()=>{const{sendMessage:e,isLoading:t,currentContext:r,updateContext:n,isAvailable:a,generateSuggestions:i,analyzeData:s,searchInventory:o}=aC(),l=F.useCallback(async m=>{if(!a)return"AI service is not available. Please configure your API key.";await e(m)},[e,a]),c=F.useCallback(async()=>{const m=window.location.pathname;let y="";switch(m){case"/stock":y="Help me understand how to manage inventory and search for products.";break;case"/jobs":y="Help me with job creation and workflow optimization.";break;case"/reports-analytics":y="Help me analyze reports and understand the data.";break;case"/warehouse-locations":y="Help me understand warehouse locations and product placement.";break;default:y="Help me with warehouse management tasks."}await l(y)},[l]),u=F.useCallback(async()=>a?await i():[],[i,a]),f=F.useCallback(async(m,y)=>a?await s(m,y):"AI service is not available.",[s,a]),h=F.useCallback(async(m,y)=>a?await o(m,y):y,[o,a]),p=F.useCallback(m=>{n({currentPage:window.location.pathname,currentData:m})},[n]),g=F.useCallback(m=>{n({recentActions:[...r.recentActions.slice(-4),m]})},[n,r.recentActions]);return{askAI:l,getContextualHelp:c,getSmartSuggestions:u,analyzeCurrentData:f,searchWithAI:h,updatePageContext:p,addRecentAction:g,currentContext:r,isLoading:t,isAvailable:a}},jW=({context:e,className:t="",variant:r="button"})=>{const[n,a]=F.useState(!1),{getContextualHelp:i,isAvailable:s}=d2e();if(!s)return null;const o=async()=>{e&&await i(),a(!0)},l=()=>{switch(r){case"icon":return d.jsx(it,{variant:"ghost",size:"sm",onClick:o,className:`p-2 text-gray-500 hover:text-blue-600 dark:text-gray-400 dark:hover:text-blue-400 ${t}`,children:d.jsx(yee,{className:"w-4 h-4"})});case"text":return d.jsxs("button",{onClick:o,className:`text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 text-sm font-medium flex items-center gap-1 ${t}`,children:[d.jsx(Nc,{className:"w-4 h-4"}),"Ask AI"]});default:return d.jsxs(it,{variant:"outline",size:"sm",onClick:o,className:`flex items-center gap-2 ${t}`,children:[d.jsx(Nc,{className:"w-4 h-4"}),"AI Help"]})}};return d.jsxs(d.Fragment,{children:[l(),n&&d.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[d.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-25 backdrop-blur-sm",onClick:()=>a(!1)}),d.jsx("div",{className:"relative w-full max-w-2xl max-h-[80vh] overflow-hidden",children:d.jsx(Lz,{onClose:()=>a(!1)})})]})]})},h2e=()=>{var wr;const[e,t]=F.useState(""),[r,n]=F.useState(""),[a,i]=F.useState("name"),[s,o]=F.useState(!1),[l,c]=F.useState("date"),[u,f]=F.useState(!1),[h,p]=F.useState(!1),[g,m]=F.useState(!1),[y,v]=F.useState(!1),[b,w]=F.useState(!1),[D,P]=F.useState(null),[j,E]=F.useState([]),[_,S]=F.useState(new Set),[I,T]=F.useState(!1),{showToast:N}=Nl(),{isDarkMode:O}=ln(),{user:U}=ma(),[Y,K]=F.useState(!1),[J,q]=F.useState(null),[V,ee]=F.useState(!1),[Z,k]=F.useState(!1),[R,z]=F.useState(null),[G,Q]=F.useState(null),[oe,ce]=F.useState(null),[ne,he]=F.useState(!1),[ye,W]=F.useState("all"),[Ce,ke]=F.useState(!1),[Ee,ie]=F.useState(null),[Fe,Ye]=F.useState(!1),[Se,$e]=F.useState(null);F.useEffect(()=>{const Te=setTimeout(()=>{n(e)},300);return()=>{clearTimeout(Te)}},[e]);const _e=F.useCallback(async()=>{w(!0);try{const Te=or(mt(Xe,"inventory"),La("name")),He=(await cr(Te)).docs.map(er=>{const sr=er.data();return{id:er.id,...sr,lastUpdated:sr.lastUpdated instanceof ir?sr.lastUpdated.toDate():new Date(sr.lastUpdated)}});E(He)}catch(Te){console.error("Error fetching stock items:",Te),N("Failed to fetch stock items","error")}finally{w(!1)}},[N]),De=F.useCallback(async()=>{try{const Te=mt(Xe,"inventory"),st=await bk(Te);ie(st.data().count)}catch{ie(null)}},[]);F.useEffect(()=>{_e(),De()},[_e,De]),F.useEffect(()=>{const Te=st=>{const He=st.target;He.closest(".store-filter-dropdown")||he(!1),He.closest(".status-filter-dropdown")||ke(!1),He.closest(".search-type-dropdown")||o(!1)};return(ne||Ce||s)&&document.addEventListener("mousedown",Te),()=>{document.removeEventListener("mousedown",Te)}},[ne,Ce,s]);const Ne=F.useMemo(()=>[{value:"date",label:"Date Updated"},{value:"quantity",label:"Quantity (High-Low)"},{value:"name",label:"Name (A-Z)"},{value:"price",label:"Price (High-Low)"}],[]),qe=F.useMemo(()=>["supply & serve","APHY","AZTEC","ZK","Fahiz"],[]),at=F.useCallback(Te=>({"supply & serve":"bg-blue-100 text-blue-700",APHY:"bg-green-100 text-green-700",AZTEC:"bg-purple-100 text-purple-700",ZK:"bg-orange-100 text-orange-700",Fahiz:"bg-pink-100 text-pink-700"})[Te]||"bg-gray-100 text-gray-700",[]),nt=F.useMemo(()=>{const Te=r.toLowerCase();return j.filter(st=>{if(st.quantity===0)return!1;let He=!0;if(r!=="")switch(a){case"name":He=st.name.toLowerCase().includes(Te);break;case"barcode":He=!!(st.barcode&&st.barcode.toLowerCase().includes(Te));break;case"asin":He=!!(st.asin&&st.asin.split(",").some(Lr=>Lr.trim().toLowerCase().includes(Te)));break;case"location":He=`${st.locationCode}-${st.shelfNumber}`.toLowerCase().includes(Te);break;default:He=!0}const er=oe?oe.fulfillmentType==="all"?oe.storeName==="other"?!qe.includes(st.storeName):st.storeName===oe.storeName:oe.storeName==="other"?!qe.includes(st.storeName)&&st.fulfillmentType===oe.fulfillmentType:st.storeName===oe.storeName&&st.fulfillmentType===oe.fulfillmentType:!0,sr=ye==="all"||st.status===ye;return He&&er&&sr}).sort((st,He)=>l==="name"?st.name.localeCompare(He.name):l==="quantity"?He.quantity-st.quantity:l==="price"?He.price-st.price:l==="date"?new Date(He.lastUpdated).getTime()-new Date(st.lastUpdated).getTime():0)},[j,r,a,oe,ye,l,qe]),ut=F.useCallback((Te,st)=>j.filter(He=>He.locationCode===Te&&He.shelfNumber===st),[j]),Tt=F.useCallback(Te=>j.filter(st=>st.barcode===Te&&st.quantity>0),[j]),kt=F.useCallback((Te,st)=>{const He=Tt(st);He.length>0&&($e({productName:Te,barcode:st,existingLocations:He}),Ye(!0))},[Tt]),_t=F.useCallback(async Te=>{w(!0);try{const st=[];for(const He of Te)if(He.barcode){const er=or(mt(Xe,"inventory"),ar("barcode","==",He.barcode),ar("quantity","==",0)),sr=await cr(er);if(!sr.empty){const Lr=sr.docs[0];if(await Is(yr(Xe,"inventory",Lr.id)),E(_r=>_r.filter(Ur=>Ur.id!==Lr.id)),U){const _r=Lr.data();await pr(mt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`deleted hidden product "${_r.name}" with barcode ${He.barcode} from location ${_r.locationCode}-${_r.shelfNumber}`,time:new Date().toISOString()})}}}for(const He of Te){const er=await pr(mt(Xe,"inventory"),{...He,lastUpdated:ir.fromDate(new Date)});st.push({...He,id:er.id,lastUpdated:new Date})}if(U){const He=Te.reduce((sr,Lr)=>sr+Lr.quantity,0),er=Te.map(sr=>`${sr.quantity} at ${sr.locationCode}-${sr.shelfNumber}`).join(", ");await pr(mt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`added new product "${Te[0].name}" with total quantity ${He} (${er})`,time:new Date().toISOString()})}E(He=>[...He,...st]),f(!1),ee(!1),N("Stock items added successfully","success")}catch(st){console.error("Error adding stock:",st),N("Failed to add stock items","error")}finally{w(!1)}},[U,N]),ct=F.useCallback(async Te=>{console.log("handleAddStock called with data:",Te);const st=[];for(const He of Te){console.log(`Checking location ${He.locationCode}-${He.shelfNumber} for existing products`);const er=ut(He.locationCode,He.shelfNumber);console.log(`Found ${er.length} existing products at ${He.locationCode}-${He.shelfNumber}:`,er),er.length>0&&st.push({locationCode:He.locationCode,shelfNumber:He.shelfNumber,products:er})}if(console.log("Locations with products:",st),st.length>0){console.log("Showing location confirmation modal");const He=st[0];Q({locationCode:He.locationCode,shelfNumber:He.shelfNumber,existingProducts:He.products,newProductName:Te[0].name,newProductBarcode:Te[0].barcode||void 0}),z(Te),k(!0);return}console.log("No existing products found, proceeding with add stock"),await _t(Te)},[ut,_t]),tr=F.useCallback(async()=>{R&&(await _t(R),k(!1),z(null),Q(null),f(!1),ee(!1))},[R,_t]),Wt=F.useCallback(()=>{k(!1),z(null),Q(null),f(!1),ee(!1)},[]),Hr=F.useCallback(async()=>{if(R&&G)try{w(!0);const Te=G.existingProducts.find(st=>st.barcode===G.newProductBarcode);if(Te){const st=Te.quantity+R[0].quantity,He=yr(Xe,"inventory",Te.id);await Ln(He,{quantity:st,lastUpdated:ir.fromDate(new Date)}),U&&(await pr(mt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`merged ${R[0].quantity} units of "${R[0].name}" with existing stock "${Te.name}" at location ${G.locationCode}-${G.shelfNumber}`,time:new Date().toISOString()}),await pr(mt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`edited product "${Te.name}": quantity from ${Te.quantity} to ${st}`,time:new Date().toISOString()})),await _e(),N("Products merged successfully","success")}}catch(Te){console.error("Error merging products:",Te),N("Failed to merge products","error")}finally{w(!1),k(!1),z(null),Q(null),f(!1),ee(!1)}},[R,G,U,_e,N]),lr=F.useCallback(async(Te,st)=>{w(!0);try{const He=new Date,er={},sr=[];if(Te.name!==st.name&&(er.name=Te.name,sr.push(`name from "${st.name}" to "${Te.name}"`)),Te.price!==st.price){er.price=Te.price;const Lr=Number(st.price||0).toFixed(2),_r=Number(Te.price||0).toFixed(2);sr.push(`price from £${Lr} to £${_r}`)}if((Te.locationCode!==st.locationCode||Te.shelfNumber!==st.shelfNumber)&&(er.locationCode=Te.locationCode,er.shelfNumber=Te.shelfNumber,sr.push(`location from ${st.locationCode}-${st.shelfNumber} to ${Te.locationCode}-${Te.shelfNumber}`)),Te.supplier!==st.supplier&&(er.supplier=Te.supplier,sr.push(`supplier from "${st.supplier||"none"}" to "${Te.supplier||"none"}"`)),Te.asin!==st.asin&&(er.asin=Te.asin,sr.push(`ASIN from "${st.asin||"none"}" to "${Te.asin||"none"}"`)),Te.status!==st.status&&(er.status=Te.status,sr.push(`status from "${st.status}" to "${Te.status}"`)),Te.damagedItems!==st.damagedItems&&(er.damagedItems=Te.damagedItems,sr.push(`damaged items from ${st.damagedItems} to ${Te.damagedItems}`)),Te.fulfillmentType!==st.fulfillmentType&&(er.fulfillmentType=Te.fulfillmentType,sr.push(`fulfillment type from "${st.fulfillmentType.toUpperCase()}" to "${Te.fulfillmentType.toUpperCase()}"`)),Te.storeName!==st.storeName&&(er.storeName=Te.storeName,sr.push(`store name from "${st.storeName}" to "${Te.storeName}"`)),Te.unit!==st.unit&&(er.unit=Te.unit,sr.push(`unit from "${st.unit||"none"}" to "${Te.unit||"none"}"`)),Te.barcode!==st.barcode&&(er.barcode=Te.barcode,sr.push(`barcode from "${st.barcode||"none"}" to "${Te.barcode||"none"}"`)),Object.keys(er).length>0){const Lr=yr(Xe,"inventory",Te.id);await Ln(Lr,{...er,lastUpdated:ir.fromDate(He)}),U&&sr.length>0&&await pr(mt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`edited product "${Te.name}": ${sr.join(", ")}`,time:He.toISOString()});const _r=j.map(Ur=>Ur.id===Te.id?{...Ur,...er,lastUpdated:He}:Ur);E(_r),N("Stock details updated successfully","success"),p(!1),P(null)}if(Te.quantity>st.quantity)q({itemId:Te.id,newQuantity:Te.quantity}),K(!0),p(!1);else if(Te.quantity!==st.quantity){const Lr=yr(Xe,"inventory",Te.id);await Ln(Lr,{quantity:Te.quantity,lastUpdated:ir.fromDate(He)}),U&&await pr(mt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`edited product "${Te.name}": quantity from ${st.quantity} to ${Te.quantity}`,time:He.toISOString()});const _r=j.map(Ur=>Ur.id===Te.id?{...Ur,quantity:Te.quantity,lastUpdated:He}:Ur);E(_r),N("Stock quantity updated","success"),p(!1),P(null)}else p(!1),P(null)}catch(He){console.error("Error updating stock:",He),N("Failed to update stock item","error")}finally{w(!1)}},[j,U,N]),qr=F.useCallback(async()=>{if(J){w(!0);try{const{itemId:Te,newQuantity:st}=J,He=new Date,er=j.find(_r=>_r.id===Te),sr=yr(Xe,"inventory",Te);await Ln(sr,{quantity:st,lastUpdated:ir.fromDate(He)}),U&&er&&await pr(mt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`edited product "${er.name}": quantity from ${er.quantity} to ${st}`,time:He.toISOString()});const Lr=j.map(_r=>_r.id===Te?{..._r,quantity:st,lastUpdated:He}:_r);E(Lr),N("Stock quantity updated successfully","success"),P(null)}catch(Te){console.error("Error updating quantity:",Te),N("Failed to update quantity","error")}finally{w(!1),K(!1),q(null)}}},[J,j,U,N]),Ie=F.useCallback(async Te=>{w(!0);try{const st=j.find(He=>He.id===Te);await Is(yr(Xe,"inventory",Te)),U&&st&&await pr(mt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`deleted product "${st.name}" (${st.quantity} units) from location ${st.locationCode}-${st.shelfNumber}`,time:new Date().toISOString()}),E(j.filter(He=>He.id!==Te)),m(!1),P(null),N("Stock item deleted successfully","success")}catch(st){console.error("Error deleting stock:",st),N("Failed to delete stock item","error")}finally{w(!1)}},[j,U,N]),Me=F.useCallback(Te=>{P(Te)},[]),Ke=F.useCallback((Te,st)=>{Te.stopPropagation(),P(st),p(!0)},[]),ht=F.useCallback((Te,st)=>{Te.stopPropagation(),P(st),m(!0)},[]),Dt=F.useCallback(()=>{_.size===nt.length?S(new Set):S(new Set(nt.map(Te=>Te.id)))},[nt,_.size]),Ht=F.useCallback(Te=>{const st=new Set(_);st.has(Te)?st.delete(Te):st.add(Te),S(st)},[_]),Mt=F.useCallback(async()=>{if(_.size!==0){w(!0);try{const Te=j.filter(He=>_.has(He.id)),st=Array.from(_).map(He=>Is(yr(Xe,"inventory",He)));if(await Promise.all(st),U){const He=Te.map(er=>`"${er.name}" (${er.quantity} units) from ${er.locationCode}-${er.shelfNumber}`).join(", ");await pr(mt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`Bulk deleted ${_.size} products: ${He}`,time:new Date().toISOString()})}E(j.filter(He=>!_.has(He.id))),S(new Set),T(!1),v(!1),N(`Successfully deleted ${_.size} items`,"success")}catch(Te){console.error("Error deleting items:",Te),N("Failed to delete selected items","error")}finally{w(!1)}}},[_,j,U,N]),Ot=F.useCallback(async()=>{if(_.size!==0){w(!0);try{const Te=j.filter(He=>_.has(He.id)&&He.status==="pending");if(Te.length===0){N("No pending items selected to activate","error");return}const st=Te.map(He=>Ln(yr(Xe,"inventory",He.id),{status:"active",lastUpdated:ir.fromDate(new Date)}));if(await Promise.all(st),U){const He=Te.map(er=>`"${er.name}" from ${er.locationCode}-${er.shelfNumber}`).join(", ");await pr(mt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`Bulk activated ${Te.length} pending products: ${He}`,time:new Date().toISOString()})}E(j.map(He=>_.has(He.id)&&He.status==="pending"?{...He,status:"active",lastUpdated:new Date}:He)),S(new Set),T(!1),N(`Successfully activated ${Te.length} items`,"success")}catch(Te){console.error("Error activating items:",Te),N("Failed to activate selected items","error")}finally{w(!1)}}},[_,j,U,N]),Zt=F.useCallback(()=>{T(!I),I||S(new Set)},[I]),br=F.useCallback(({item:Te})=>{var st;return d.jsxs("tr",{className:`hover:${O?"bg-slate-700/50":"bg-slate-50"} cursor-pointer`,onClick:()=>Me(Te),children:[I&&d.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-slate-200":"text-slate-800"}`,onClick:He=>He.stopPropagation(),children:d.jsx("input",{type:"checkbox",checked:_.has(Te.id),onChange:()=>Ht(Te.id),className:`h-4 w-4 text-blue-600 rounded ${O?"border-slate-600 bg-slate-700":"border-slate-300"} focus:ring-blue-500`})}),d.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-blue-400":"text-blue-700"} font-medium`,children:Te.name}),d.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-slate-200":"text-slate-800"}`,children:Te.unit||"-"}),d.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-slate-200":"text-slate-800"}`,children:d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Te.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:Te.status==="active"?"Active":"Pending"})}),d.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-slate-200":"text-slate-800"}`,children:Te.storeName&&Te.storeName!=="not set"?d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full whitespace-nowrap ${at(Te.storeName)}`,children:(st=Te.storeName)==null?void 0:st.toUpperCase()}):d.jsx("span",{className:"text-slate-400",children:"-"})}),d.jsxs("td",{className:`px-4 py-3 text-sm ${O?"text-slate-200":"text-slate-800"}`,children:[Te.locationCode," - ",Te.shelfNumber]}),d.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-slate-200":"text-slate-800"}`,children:Te.asin?Te.asin.split(",").length>3?Te.asin.split(",").slice(0,3).map(He=>He.trim()).join(", ")+"...":Te.asin.split(",").map(He=>He.trim()).join(", "):"-"}),(U==null?void 0:U.role)==="admin"&&d.jsxs(d.Fragment,{children:[d.jsx("td",{className:`px-4 py-3 text-right text-sm ${O?"text-slate-200":"text-slate-900"}`,children:Number(Te.price)>0?`£${Number(Te.price).toFixed(2)}`:"(Not set)"}),d.jsx("td",{className:`px-4 py-3 text-right text-sm ${O?"text-slate-200":"text-slate-900"}`,children:Number(Te.quantity*Te.price)>0?`£${Number(Te.quantity*Te.price).toFixed(2)}`:"(Not set)"})]}),d.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-slate-200":"text-slate-800"} text-right`,children:d.jsxs("div",{className:"flex items-center justify-end gap-2",children:[Te.quantity<=10&&d.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-red-100 text-red-700 text-center",children:"Critical Low"}),Te.quantity>10&&Te.quantity<=25&&d.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-yellow-100 text-yellow-700 text-center",children:"Low Stock"}),d.jsx("span",{children:Te.quantity})]})}),d.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-slate-200":"text-slate-800"}`,children:zt(new Date(Te.lastUpdated),"MMM d, yyyy")}),d.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-slate-200":"text-slate-800"} text-right`,children:d.jsxs("div",{className:"flex items-center justify-end gap-2",children:[d.jsx("button",{onClick:He=>Ke(He,Te),className:`p-1 ${O?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,children:d.jsx(fs,{size:16})}),d.jsx("button",{onClick:He=>ht(He,Te),className:`p-1 ${O?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,children:d.jsx(ni,{size:16})})]})})]},Te.id)},[I,_,O,U,Me,Ht,Ke,ht,at]);return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between py-4",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("h1",{className:`text-2xl font-bold ${O?"text-white":"text-gray-900"}`,children:"Inbound"}),d.jsx(jW,{context:"stock",variant:"icon"})]}),d.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${O?"bg-slate-800 text-blue-300":"bg-blue-100 text-blue-700"}`,children:["Total Products: ",Ee!==null?Ee:d.jsx("span",{className:"animate-pulse",children:"..."})]})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-4",children:[d.jsx("div",{children:d.jsx("p",{className:`${O?"text-slate-400":"text-slate-500"} mt-1`,children:"Manage your inbound stock, track quantities, and monitor product status"})}),d.jsx("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:I?d.jsxs(d.Fragment,{children:[ye==="pending"&&d.jsxs(it,{onClick:Ot,variant:"primary",className:"flex items-center gap-2 w-full sm:w-auto",disabled:b||_.size===0,children:[d.jsx(z9,{size:16}),"Go Live (",_.size,")"]}),d.jsxs(it,{onClick:()=>v(!0),variant:"danger",className:"flex items-center gap-2 w-full sm:w-auto",disabled:b||_.size===0,children:[d.jsx(ni,{size:16}),"Delete Selected (",_.size,")"]}),d.jsx(it,{onClick:Zt,variant:"secondary",className:"flex items-center gap-2 w-full sm:w-auto",children:"Cancel"})]}):d.jsxs(d.Fragment,{children:[d.jsxs(it,{onClick:Zt,variant:"secondary",className:"flex items-center gap-2 w-full sm:w-auto",children:[d.jsx(d2,{size:16}),"Select Items"]}),d.jsxs(it,{variant:"secondary",onClick:()=>ee(!0),className:"flex items-center gap-2 w-full sm:w-auto",children:[d.jsx(Si,{size:16}),"Quick Add"]}),d.jsxs(it,{variant:"primary",onClick:()=>f(!0),className:"flex items-center gap-2 w-full sm:w-auto",children:[d.jsx(Si,{size:16}),"Add New Stock"]})]})})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[d.jsx("div",{className:"flex-1",children:d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsx(Al,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),d.jsx(Ct,{type:"text",placeholder:`Search by ${a}...`,value:e,onChange:Te=>t(Te.target.value),className:"pl-10"})]}),d.jsxs("div",{className:"relative search-type-dropdown",children:[d.jsxs(it,{variant:"secondary",onClick:()=>o(!s),className:`flex items-center gap-2 ${a!=="name"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[a==="name"?"Name":a==="barcode"?"Barcode":a==="asin"?"ASIN":"Location",d.jsx(Xl,{size:16})]}),s&&d.jsx("div",{className:`absolute top-full left-0 mt-1 w-32 z-50 rounded-lg border ${O?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:d.jsxs("div",{className:"p-2",children:[d.jsx("div",{className:`text-sm font-medium mb-2 ${O?"text-slate-200":"text-slate-700"}`,children:"Search by"}),[{value:"name",label:"Name"},{value:"barcode",label:"Barcode"},{value:"asin",label:"ASIN"},{value:"location",label:"Location"}].map(Te=>d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${O?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${a===Te.value?O?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{i(Te.value),t(""),o(!1)},children:Te.label},Te.value))]})})]})]})}),d.jsx("div",{className:"w-full sm:w-48",children:d.jsx(sn,{value:l,onChange:Te=>c(Te.target.value),options:Ne})}),d.jsxs("div",{className:"flex flex-row gap-2",children:[d.jsxs("div",{className:"relative status-filter-dropdown",children:[d.jsxs(it,{variant:"secondary",onClick:()=>ke(!Ce),className:`flex items-center gap-2 ${ye!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[ye==="all"?"Status Filter":ye==="active"?"Active":"Pending",d.jsx(Xl,{size:16})]}),Ce&&d.jsx("div",{className:`absolute top-full left-0 mt-1 w-32 z-50 rounded-lg border ${O?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:d.jsxs("div",{className:"p-2",children:[d.jsx("div",{className:`text-sm font-medium mb-2 ${O?"text-slate-200":"text-slate-700"}`,children:"Filter by Status"}),d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${O?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${ye==="all"?O?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{W("all"),ke(!1)},children:"All"}),d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${O?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${ye==="active"?O?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{W("active"),ke(!1)},children:"Active"}),d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${O?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${ye==="pending"?O?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{W("pending"),ke(!1)},children:"Pending"}),d.jsx("div",{className:`border-t ${O?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:d.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${O?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{W("all"),ke(!1)},children:"Clear Filter"})})]})})]}),d.jsxs("div",{className:"relative store-filter-dropdown",children:[d.jsxs(it,{variant:"secondary",onClick:()=>he(!ne),className:`flex items-center gap-2 ${oe?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[oe?`${oe.storeName==="other"?"OTHER":(wr=oe.storeName)==null?void 0:wr.toUpperCase()}${oe.fulfillmentType!=="all"?` - ${oe.fulfillmentType.toUpperCase()}`:""}`:"Store Filter",d.jsx(Xl,{size:16})]}),ne&&d.jsx("div",{className:`absolute top-full left-0 mt-1 w-64 z-50 rounded-lg border ${O?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:d.jsxs("div",{className:"p-2",children:[d.jsx("div",{className:`text-sm font-medium mb-2 ${O?"text-slate-200":"text-slate-700"}`,children:"Filter by Store"}),["supply & serve","APHY","AZTEC","ZK","Fahiz","other"].map(Te=>d.jsx("div",{children:d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${O?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(oe==null?void 0:oe.storeName)===Te?O?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{ce({storeName:Te,fulfillmentType:"all"}),he(!1)},children:Te.toUpperCase()})},Te)),d.jsx("div",{className:`border-t ${O?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:d.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${O?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{ce(null),he(!1)},children:"Clear Filter"})})]})})]})]}),d.jsx(it,{variant:"secondary",onClick:_e,className:`flex items-center gap-2 ${b?"opacity-50 cursor-not-allowed":""}`,disabled:b,children:d.jsx(ri,{size:16,className:b?"animate-spin":""})})]}),b?d.jsx("div",{className:`text-center py-12 ${O?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:d.jsxs("div",{className:"flex flex-col items-center gap-4",children:[d.jsx(xi,{className:`w-8 h-8 ${O?"text-blue-400":"text-blue-600"} animate-spin`}),d.jsx("p",{className:O?"text-slate-400":"text-slate-600",children:"Loading stock items..."})]})}):nt.length>0?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"hidden md:block overflow-x-auto overflow-y-hidden",children:d.jsxs("table",{className:`min-w-full divide-y ${O?"divide-slate-700":"divide-slate-200"} ${O?"bg-slate-800":"bg-white"} rounded-lg border ${O?"border-slate-700":"border-slate-200"}`,children:[d.jsx("thead",{className:O?"bg-slate-700/50":"bg-slate-100",children:d.jsxs("tr",{children:[I&&d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",checked:_.size===nt.length,onChange:Dt,className:`h-4 w-4 text-blue-600 rounded ${O?"border-slate-600 bg-slate-700":"border-slate-300"} focus:ring-blue-500`}),d.jsx("span",{children:"Select"})]})}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Unit"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Status"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Store"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),(U==null?void 0:U.role)==="admin"&&d.jsxs(d.Fragment,{children:[d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Price"}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Total Price"})]}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Quantity"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Last Updated"}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),d.jsx("tbody",{className:`divide-y ${O?"divide-slate-700":"divide-slate-200"}`,children:nt.map((Te,st)=>d.jsx(br,{item:Te,index:st},Te.id))})]})}),d.jsx("div",{className:"block md:hidden space-y-4",children:nt.map(Te=>d.jsxs("div",{className:`rounded-lg border ${O?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-4 shadow-sm flex flex-col gap-2`,onClick:()=>Me(Te),children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:`font-semibold ${O?"text-blue-400":"text-blue-700"}`,children:Te.name}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Te.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:Te.status==="active"?"Active":"Pending"}),Te.storeName&&Te.storeName!=="not set"?d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full whitespace-nowrap ${at(Te.storeName)}`,children:Te.storeName}):d.jsx("span",{className:"text-slate-400",children:"-"})]})]}),d.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[d.jsxs("span",{className:O?"text-slate-300":"text-slate-600",children:["Location: ",d.jsxs("span",{className:"font-medium",children:[Te.locationCode," - ",Te.shelfNumber]})]}),d.jsxs("span",{className:O?"text-slate-300":"text-slate-600",children:["Qty: ",d.jsx("span",{className:"font-medium",children:Te.quantity})]}),Te.asin&&d.jsxs("span",{className:O?"text-slate-300":"text-slate-600",children:["ASIN: ",d.jsx("span",{className:"font-medium",children:Te.asin})]}),(U==null?void 0:U.role)==="admin"&&d.jsxs(d.Fragment,{children:[d.jsxs("span",{className:O?"text-slate-300":"text-slate-600",children:["Price: ",d.jsx("span",{className:"font-medium",children:Number(Te.price)>0?`£${Number(Te.price).toFixed(2)}`:"(Not set)"})]}),d.jsxs("span",{className:O?"text-slate-300":"text-slate-600",children:["Total: ",d.jsx("span",{className:"font-medium",children:Number(Te.quantity*Te.price)>0?`£${Number(Te.quantity*Te.price).toFixed(2)}`:"(Not set)"})]})]}),d.jsxs("span",{className:O?"text-slate-300":"text-slate-600",children:["Updated: ",d.jsx("span",{className:"font-medium",children:zt(new Date(Te.lastUpdated),"MMM d, yyyy")})]})]}),d.jsxs("div",{className:"flex gap-2 mt-2",children:[d.jsxs(it,{size:"sm",variant:"secondary",onClick:st=>{st.stopPropagation(),Ke(st,Te)},children:[d.jsx(fs,{size:14})," Edit"]}),d.jsxs(it,{size:"sm",variant:"danger",onClick:st=>{st.stopPropagation(),ht(st,Te)},children:[d.jsx(ni,{size:14})," Delete"]})]})]},Te.id))})]}):d.jsx("div",{className:`text-center py-12 ${O?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:d.jsx("p",{className:O?"text-slate-400":"text-slate-500",children:"No stock items found. Try adjusting your search."})}),d.jsx(hn,{isOpen:u,onClose:()=>f(!1),title:"Add New Stock Item",size:"xl",children:d.jsx(CW,{onSubmit:ct,onCancel:()=>f(!1),isLoading:b,existingStockItems:j,onShowProductLocationInfo:kt})}),d.jsx(hn,{isOpen:V,onClose:()=>ee(!1),title:"Quick Add Stock",size:"md",children:d.jsx(OW,{onSubmit:ct,onClose:()=>ee(!1),isLoading:b})}),d.jsx(hn,{isOpen:h,onClose:()=>p(!1),title:"Edit Stock",size:"xl",children:D&&d.jsx(PW,{item:D,onSubmit:lr,onCancel:()=>p(!1),isLoading:b})}),D&&d.jsx(dh,{isOpen:g,onClose:()=>{m(!1),P(null)},onConfirm:()=>Ie(D.id),title:"Delete Stock Item",message:`Are you sure you want to delete "${D.name}"? This action cannot be undone.`,isLoading:b}),D&&!h&&!g&&!Y&&d.jsx(gy,{isOpen:!!D,onClose:()=>P(null),item:D}),d.jsx(dh,{isOpen:y,onClose:()=>{v(!1),S(new Set)},onConfirm:Mt,title:"Delete Selected Items",message:`Are you sure you want to delete ${_.size} selected item${_.size>1?"s":""}? This action cannot be undone.`,isLoading:b}),d.jsx(hn,{isOpen:Y,onClose:()=>{K(!1),q(null)},title:"Confirm Quantity Update",children:d.jsxs("div",{children:[d.jsx("p",{children:"This product is already in stock in this location. Are you sure you want to add more quantity?"}),d.jsxs("div",{className:"flex justify-end gap-4 mt-4",children:[d.jsx(it,{variant:"secondary",onClick:()=>{K(!1),q(null)},children:"No"}),d.jsx(it,{onClick:qr,isLoading:b,children:"Yes"})]})]})}),G&&d.jsx(IW,{isOpen:Z,onClose:Wt,onConfirm:tr,onCancel:Wt,onMerge:Hr,locationCode:G.locationCode,shelfNumber:G.shelfNumber,existingProducts:G.existingProducts,newProductName:G.newProductName,newProductBarcode:G.newProductBarcode}),Se&&d.jsx(f2e,{isOpen:Fe,onClose:()=>{Ye(!1),$e(null)},productName:Se.productName,barcode:Se.barcode,existingLocations:Se.existingLocations})]})},p2e=()=>{const{isDarkMode:e}=ln(),{showToast:t}=Nl(),{user:r}=ma();ma();const[n,a]=F.useState(!1),[i,s]=F.useState([]),[o,l]=F.useState(""),[c,u]=F.useState(null),[f,h]=F.useState(""),[p,g]=F.useState(null),[m,y]=F.useState("all"),[v,b]=F.useState("all"),[w,D]=F.useState(!1),[P,j]=F.useState(!1),[E,_]=F.useState(null),S=async Z=>{if(r)try{await pr(mt(Xe,"activityLogs"),{user:r.name,role:r.role,detail:Z,time:new Date().toISOString()})}catch(k){console.error("Failed to log activity:",k)}},I=F.useCallback(async()=>{a(!0);try{const Z=or(mt(Xe,"inventory"),La("name")),R=(await cr(Z)).docs.map(z=>{const G=z.data();return{id:z.id,...G,lastUpdated:G.lastUpdated instanceof ir?G.lastUpdated.toDate():new Date(G.lastUpdated)}});s(R)}catch(Z){console.error("Failed to fetch inventory",Z),t("Failed to fetch inventory","error")}finally{a(!1)}},[t]),T=F.useCallback(async()=>{try{const Z=mt(Xe,"inventory"),k=await bk(Z);g(k.data().count)}catch{g(null)}},[]);F.useEffect(()=>{I(),T()},[I,T]),F.useEffect(()=>{const Z=k=>{const R=k.target;R.closest(".damage-filter-dropdown")||D(!1),R.closest(".duplicate-filter-dropdown")||j(!1)};return(w||P)&&document.addEventListener("mousedown",Z),()=>{document.removeEventListener("mousedown",Z)}},[w,P]);const N=F.useMemo(()=>{const Z={};for(const k of i){const R=(k.name||"").trim().toLowerCase();if(!R)continue;const z=`${k.locationCode||""}-${k.shelfNumber||""}`.trim().toLowerCase();Z[R]||(Z[R]=new Set),Z[R].add(z)}return Z},[i]),U=((Z,k)=>{const[R,z]=F.useState(Z);return F.useEffect(()=>{const G=setTimeout(()=>z(Z),k);return()=>clearTimeout(G)},[Z,k]),R})(o,300),Y=F.useMemo(()=>{const Z=U.trim().toLowerCase();return i.filter(k=>{var W,Ce;const R=((W=k.name)==null?void 0:W.toLowerCase())||"",z=(k.asin||"").toLowerCase(),G=(k.barcode||"").toLowerCase(),Q=Z?R.includes(Z)||z.includes(Z)||G.includes(Z):!0,oe=m==="all"?!0:m==="damaged"?(k.damagedItems||0)>0:(k.damagedItems||0)<=0,ce=(k.name||"").trim().toLowerCase(),he=(ce&&((Ce=N[ce])==null?void 0:Ce.size)||0)>1;return Q&&oe&&(v==="all"?!0:v==="duplicates"?he:!he)})},[i,U,m,v,N]),K=F.useMemo(()=>U.trim()?Y.reduce((Z,k)=>Z+(k.quantity||0),0):0,[Y,U]),J=F.useMemo(()=>{var ne;const Z=Y.length;let k=0,R=0,z=0,G=0,Q=0;for(const he of Y){(he.damagedItems||0)>0&&k++,he.status==="active"&&R++,he.status==="pending"&&z++,Number(he.price)>0&&G++;const ye=(he.name||"").trim().toLowerCase();(ye&&((ne=N[ye])==null?void 0:ne.size)||0)>1&&Q++}const oe=Z-Q,ce=Z-G;return{total:Z,damaged:k,duplicates:Q,unique:oe,active:R,pending:z,priceSet:G,noPrice:ce}},[Y,N]),q=Z=>{u(Z.id),h(Z.price!=null?String(Z.price):"")},V=()=>{u(null),h("")},ee=async Z=>{const k=Number(f);if(Number.isNaN(k)||k<0){t("Enter a valid non-negative price","error");return}a(!0);try{const R=new Date,z=yr(Xe,"inventory",Z.id);await Ln(z,{price:k,lastUpdated:ir.fromDate(R)}),await S(`updated price for ${Z.name} (barcode: ${Z.barcode}) from £${Z.price||0} to £${k.toFixed(2)}`),s(G=>G.map(Q=>Q.id===Z.id?{...Q,price:k,lastUpdated:R}:Q)),t("Price updated","success"),u(null),h("")}catch(R){console.error("Failed to update price",R),t("Failed to update price","error")}finally{a(!1)}};return d.jsxs("div",{className:"space-y-4 p-2 sm:p-4 md:p-6",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 py-2 sm:py-4",children:[d.jsx("h1",{className:`text-xl sm:text-2xl font-bold ${e?"text-white":"text-gray-900"}`,children:"Inventory"}),d.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[d.jsxs("span",{className:`px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-semibold ${e?"bg-slate-800 text-blue-300":"bg-blue-100 text-blue-700"}`,children:["Total: ",p!==null?p:d.jsx("span",{className:"animate-pulse",children:"..."})]}),d.jsxs(it,{variant:"secondary",onClick:()=>{I(),T()},className:`flex items-center gap-1 ${n?"opacity-50 cursor-not-allowed":""}`,disabled:n,size:"sm",children:[d.jsx(ri,{size:14,className:n?"animate-spin":""}),d.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-4 md:gap-6",children:[U.trim()?d.jsx(mi,{title:"Total Quantity",value:K,icon:d.jsx(ah,{size:20,className:"text-blue-600"})}):d.jsx(mi,{title:"Products",value:J.total,icon:d.jsx(ah,{size:20,className:"text-blue-600"})}),d.jsx(mi,{title:"Damaged",value:J.damaged,icon:d.jsx(nh,{size:20,className:"text-blue-600"})}),d.jsx(mi,{title:"Duplicates",value:J.duplicates,icon:d.jsx(gee,{size:20,className:"text-blue-600"})}),d.jsx(mi,{title:"Unique",value:J.unique,icon:d.jsx(q4,{size:20,className:"text-blue-600"})})]}),d.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-4 md:gap-6 mt-2 sm:mt-4",children:[d.jsx(mi,{title:"Active",value:J.active,icon:d.jsx(q4,{size:20,className:"text-blue-600"})}),d.jsx(mi,{title:"Pending",value:J.pending,icon:d.jsx(nh,{size:20,className:"text-blue-600"})}),d.jsx(mi,{title:"With Price",value:J.priceSet,icon:d.jsx(ab,{size:20,className:"text-blue-600"})}),d.jsx(mi,{title:"No Price",value:J.noPrice,icon:d.jsx(ab,{size:20,className:"text-blue-600"})})]}),d.jsxs("div",{className:"flex flex-col gap-2 sm:gap-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx(Al,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),d.jsx(Ct,{type:"text",placeholder:"Search by name, ASIN or barcode",value:o,onChange:Z=>l(Z.target.value),className:"pl-10 text-sm sm:text-base"})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4",children:[d.jsxs("div",{className:"relative damage-filter-dropdown flex-1",children:[d.jsxs(it,{variant:"secondary",onClick:()=>D(!w),className:`flex items-center justify-between gap-2 w-full ${m!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,size:"sm",children:[d.jsx("span",{className:"truncate",children:m==="all"?"Damage: All":m==="damaged"?"Damage: Damaged":"Damage: Not Damaged"}),d.jsx(Xl,{size:16})]}),w&&d.jsx("div",{className:`absolute top-full left-0 mt-1 w-full z-50 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:d.jsxs("div",{className:"p-2",children:[d.jsx("div",{className:`text-xs sm:text-sm font-medium mb-1 ${e?"text-slate-200":"text-slate-700"}`,children:"Filter by Damage"}),d.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${m==="all"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{y("all"),D(!1)},children:"All"}),d.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${m==="damaged"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{y("damaged"),D(!1)},children:"Damaged"}),d.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${m==="notDamaged"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{y("notDamaged"),D(!1)},children:"Not Damaged"})]})})]}),d.jsxs("div",{className:"relative duplicate-filter-dropdown flex-1",children:[d.jsxs(it,{variant:"secondary",onClick:()=>j(!P),className:`flex items-center justify-between gap-2 w-full ${v!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,size:"sm",children:[d.jsx("span",{className:"truncate",children:v==="all"?"Duplicates: All":v==="duplicates"?"Duplicates: Duplicates":"Duplicates: Unique"}),d.jsx(Xl,{size:16})]}),P&&d.jsx("div",{className:`absolute top-full left-0 mt-1 w-full z-50 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:d.jsxs("div",{className:"p-2",children:[d.jsx("div",{className:`text-xs sm:text-sm font-medium mb-1 ${e?"text-slate-200":"text-slate-700"}`,children:"Filter by Duplicates"}),d.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${v==="all"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{b("all"),j(!1)},children:"All"}),d.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${v==="duplicates"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{b("duplicates"),j(!1)},children:"Duplicates Only"}),d.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${v==="unique"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{b("unique"),j(!1)},children:"Unique Only"})]})})]})]})]}),n?d.jsx("div",{className:`text-center py-8 sm:py-12 ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:d.jsxs("div",{className:"flex flex-col items-center gap-2 sm:gap-4",children:[d.jsx(xi,{className:`w-6 h-6 sm:w-8 sm:h-8 ${e?"text-blue-400":"text-blue-600"} animate-spin`}),d.jsx("p",{className:`text-sm sm:text-base ${e?"text-slate-400":"text-slate-600"}`,children:"Loading inventory..."})]})}):Y.length>0?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"hidden md:block overflow-x-auto overflow-y-hidden",children:d.jsxs("table",{className:`min-w-full divide-y ${e?"divide-slate-700":"divide-slate-200"} ${e?"bg-slate-800":"bg-white"} rounded-lg border ${e?"border-slate-700":"border-slate-200"}`,children:[d.jsx("thead",{className:e?"bg-slate-700/50":"bg-slate-100",children:d.jsxs("tr",{children:[d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Price"}),d.jsx("th",{className:`px-4 py-3 text-center text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Quantity"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Barcode"}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"View"})]})}),d.jsx("tbody",{className:`divide-y ${e?"divide-slate-700":"divide-slate-200"}`,children:Y.map(Z=>d.jsxs("tr",{className:"transition-all duration-100 hover:bg-opacity-10 hover:bg-blue-500",children:[d.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-blue-400":"text-blue-700"} font-medium`,children:Z.name}),d.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-800"}`,children:Z.asin?Z.asin.split(",").length>3?Z.asin.split(",").slice(0,3).map(k=>k.trim()).join(", ")+"...":Z.asin.split(",").map(k=>k.trim()).join(", "):"-"}),d.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-900"} text-right`,children:c===Z.id?d.jsxs("div",{className:"flex items-center justify-end gap-2",onClick:k=>k.stopPropagation(),children:[d.jsx(Ct,{type:"number",step:"0.01",value:f,onChange:k=>h(k.target.value),className:"w-28 text-right"}),d.jsx(it,{size:"sm",onClick:()=>ee(Z),isLoading:n,children:d.jsx(jO,{size:14})}),d.jsx(it,{size:"sm",variant:"secondary",onClick:V,disabled:n,children:d.jsx(Kc,{size:14})})]}):d.jsx("button",{onClick:k=>{k.stopPropagation(),q(Z)},className:`${e?"text-slate-200 hover:text-blue-300":"text-slate-900 hover:text-blue-700"} transition-colors`,children:Number(Z.price)>0?`£${Number(Z.price).toFixed(2)}`:"(Not set)"})}),d.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-800"} text-center`,children:Z.quantity}),d.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-800"}`,children:Z.barcode||"-"}),d.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-800"} text-right`,children:d.jsx("button",{onClick:()=>_(Z),className:`${e?"text-slate-300 hover:text-blue-300":"text-slate-600 hover:text-blue-700"} p-1`,"aria-label":"View details",children:d.jsx(W4,{size:16})})})]},Z.id))})]})}),d.jsx("div",{className:"block md:hidden space-y-3",children:Y.map(Z=>{var k;return d.jsxs("div",{className:`rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-3 shadow-sm flex flex-col gap-2`,children:[d.jsxs("div",{className:"flex justify-between items-start gap-2",children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h3",{className:`font-semibold truncate ${e?"text-blue-400":"text-blue-700"}`,children:Z.name}),d.jsxs("div",{className:"flex flex-wrap gap-x-2 gap-y-1 text-xs mt-1",children:[d.jsxs("span",{className:e?"text-slate-300":"text-slate-600",children:["ASIN: ",d.jsx("span",{className:"font-medium",children:((k=Z.asin)==null?void 0:k.split(",")[0])||"-"})]}),d.jsxs("span",{className:e?"text-slate-300":"text-slate-600",children:["Barcode: ",d.jsx("span",{className:"font-medium",children:Z.barcode||"-"})]}),d.jsxs("span",{className:e?"text-slate-300":"text-slate-600",children:["Quantity: ",d.jsx("span",{className:"font-medium",children:Z.quantity})]})]})]}),d.jsxs("div",{className:"flex flex-col items-end gap-1",children:[d.jsx("span",{className:`text-sm font-medium ${e?"text-slate-200":"text-slate-800"}`,children:Number(Z.price)>0?`£${Number(Z.price).toFixed(2)}`:"No price"}),d.jsxs("div",{className:"flex gap-1",children:[c===Z.id?d.jsxs(d.Fragment,{children:[d.jsx(it,{size:"sm",onClick:()=>ee(Z),isLoading:n,children:d.jsx(jO,{size:12})}),d.jsx(it,{size:"sm",variant:"secondary",onClick:R=>{R.stopPropagation(),V()},disabled:n,children:d.jsx(Kc,{size:12})})]}):d.jsx(it,{size:"sm",variant:"secondary",onClick:R=>{R.stopPropagation(),q(Z)},children:d.jsx(fs,{size:12})}),d.jsx(it,{size:"sm",variant:"secondary",onClick:()=>_(Z),children:d.jsx(W4,{size:12})})]})]})]}),c===Z.id&&d.jsx("div",{className:"mt-1",children:d.jsx(Ct,{type:"number",step:"0.01",value:f,onChange:R=>h(R.target.value),placeholder:"Enter new price",className:"w-full text-sm"})})]},Z.id)})})]}):d.jsx("div",{className:`text-center py-8 sm:py-12 ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:d.jsx("p",{className:`text-sm sm:text-base ${e?"text-slate-400":"text-slate-500"}`,children:"No items found. Try adjusting your search."})}),E&&d.jsx(gy,{isOpen:!!E,onClose:()=>_(null),item:E})]})},DW=({startDate:e,endDate:t,onStartDateChange:r,onEndDateChange:n,onClear:a,className:i=""})=>{const{isDarkMode:s}=ln(),[o,l]=F.useState(!1),c=p=>{const g=p.target.value?new Date(p.target.value):null;r(g)},u=p=>{const g=p.target.value?new Date(p.target.value):null;n(g)},f=()=>{a(),l(!1)},h=()=>!e&&!t?"Select date range":e&&t?`${zt(e,"MMM d, yyyy")} - ${zt(t,"MMM d, yyyy")}`:e?`From ${zt(e,"MMM d, yyyy")}`:t?`To ${zt(t,"MMM d, yyyy")}`:"Select date range";return d.jsxs("div",{className:`relative ${i}`,children:[d.jsxs("button",{onClick:()=>l(!o),className:`flex items-center justify-between w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600 focus:ring-slate-400":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50 focus:ring-slate-500"}`,children:[d.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[d.jsx(B9,{className:"h-4 w-4 flex-shrink-0"}),d.jsx("span",{className:"whitespace-nowrap overflow-hidden text-ellipsis",children:h()})]}),(e||t)&&d.jsx("span",{onClick:p=>{p.stopPropagation(),f()},className:`ml-3 p-1 rounded-full hover:bg-opacity-80 flex-shrink-0 cursor-pointer ${s?"hover:bg-slate-600":"hover:bg-slate-200"}`,title:"Clear date range",role:"button",tabIndex:0,onKeyDown:p=>{(p.key==="Enter"||p.key===" ")&&(p.preventDefault(),f())},children:d.jsx(Kc,{className:"h-3 w-3"})})]}),o&&d.jsx("div",{className:`absolute top-full left-0 right-0 mt-1 z-50 p-4 border rounded-md shadow-lg ${s?"bg-slate-800 border-slate-600 text-white":"bg-white border-slate-200 text-slate-800"}`,children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:`block text-sm font-medium mb-2 ${s?"text-slate-200":"text-slate-700"}`,children:"Start Date"}),d.jsx("input",{type:"date",value:e?zt(e,"yyyy-MM-dd"):"",onChange:c,className:`w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border-slate-600 text-slate-200 bg-slate-700 focus:ring-slate-400":"border-slate-300 text-slate-700 bg-white focus:ring-slate-500"}`})]}),d.jsxs("div",{children:[d.jsx("label",{className:`block text-sm font-medium mb-2 ${s?"text-slate-200":"text-slate-700"}`,children:"End Date"}),d.jsx("input",{type:"date",value:t?zt(t,"yyyy-MM-dd"):"",onChange:u,min:e?zt(e,"yyyy-MM-dd"):void 0,className:`w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border-slate-600 text-slate-200 bg-slate-700 focus:ring-slate-400":"border-slate-300 text-slate-700 bg-white focus:ring-slate-500"}`})]}),d.jsxs("div",{className:"flex gap-2 pt-2 border-t border-slate-200 dark:border-slate-600",children:[d.jsx("button",{onClick:()=>l(!1),className:`flex-1 px-3 py-2 text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600 focus:ring-slate-400":"border border-slate-300 text-slate-700 bg-white hover:bg-slate-50 focus:ring-slate-500"}`,children:"Apply"}),d.jsx("button",{onClick:f,className:`px-3 py-2 text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 ${s?"border border-red-600 text-red-200 bg-red-700 hover:bg-red-600 focus:ring-red-400":"border border-red-300 text-red-700 bg-white hover:bg-red-50 focus:ring-red-500"}`,children:"Clear"})]})]})})]})},m2e=({item:e,onSubmit:t,onCancel:r,isLoading:n})=>{const[a,i]=F.useState(""),[s,o]=F.useState("stock sold"),[l,c]=F.useState(""),[u,f]=F.useState(""),[h,p]=F.useState([]),[g,m]=F.useState(""),[y,v]=F.useState(!1),{isDarkMode:b}=ln();F.useEffect(()=>{(async()=>{v(!0);try{let S=or(mt(Xe,"inventory"),ar("barcode","==",e.barcode)),I=await cr(S);if(I.empty&&e.barcode){const O=String(e.barcode).trim();S=or(mt(Xe,"inventory"),ar("barcode","==",O)),I=await cr(S)}I.empty&&e.name&&(S=or(mt(Xe,"inventory"),ar("name","==",e.name)),I=await cr(S));const T=[];I.docs.forEach(O=>{const U=O.data();U.locationCode&&U.shelfNumber&&T.push({locationCode:U.locationCode,shelfNumber:U.shelfNumber,quantity:U.quantity||0,storeName:U.storeName||"Unknown"})});const N=T.filter((O,U,Y)=>U===Y.findIndex(K=>K.locationCode===O.locationCode&&K.shelfNumber===O.shelfNumber)).sort((O,U)=>O.locationCode.localeCompare(U.locationCode));if(p(N),N.length>0){const O=N[0];m(`${O.locationCode}-${O.shelfNumber}`),f(O.storeName)}}catch(S){console.error("Error fetching locations:",S)}finally{v(!1)}})()},[e.barcode]);const w=_=>{if(m(_),_){const[S,I]=_.split("-"),T=h.find(N=>N.locationCode===S&&N.shelfNumber===I);T&&f(T.storeName)}},D=async _=>{_.preventDefault();const S=Number(a);if(!a||S<0)return;const I=P();if(S>I||!g)return;const T=s==="other"?l:s,N=u.trim(),[O,U]=g.split("-");await t({id:e.id,quantity:e.quantity-S,reason:T,storeName:N,locationCode:O,shelfNumber:U})},P=()=>{if(!g)return e.quantity;const[_,S]=g.split("-"),I=h.find(T=>T.locationCode===_&&T.shelfNumber===S);return I?I.quantity:e.quantity},E=(()=>{const _=Number(a);if(!a||_<0)return"Quantity to deduct must be 0 or greater";const S=P();return _>S?`Cannot deduct more than current stock at selected location (${S} units)`:s?s==="other"&&!l.trim()?"Please specify the reason":g?null:"Please select a location":"Please select a reason"})();return d.jsxs("form",{onSubmit:D,className:`space-y-6 ${b?"text-white":"text-gray-900"}`,children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:`p-4 rounded-lg ${b?"bg-slate-800":"bg-slate-50"}`,children:[d.jsx("h3",{className:`text-lg font-semibold ${b?"text-white":"text-gray-900"}`,children:e.name}),d.jsx("p",{className:`text-sm ${b?"text-slate-400":"text-slate-500"}`,children:g&&d.jsxs("span",{className:` ${b?"text-slate-300":"text-slate-600"}`,children:["Selected Location: ",P()," units"]})}),d.jsxs("p",{className:`text-sm ${b?"text-slate-400":"text-slate-500"}`,children:["Barcode: ",e.barcode]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"location",className:`block text-sm font-medium ${b?"text-slate-300":"text-gray-700"}`,children:"Select Location"}),y?d.jsxs("div",{className:`flex items-center gap-2 text-sm ${b?"text-slate-400":"text-slate-500"}`,children:[d.jsx(xi,{size:16,className:"animate-spin"}),"Loading locations..."]}):h.length>0?d.jsx(sn,{id:"location",value:g,onChange:_=>w(_.target.value),required:!0,options:[{value:"",label:"Select a location"},...h.map(_=>{var S;return{value:`${_.locationCode}-${_.shelfNumber}`,label:`${_.locationCode} - Shelf ${_.shelfNumber} (${_.quantity} units) - ${(S=_.storeName)==null?void 0:S.toUpperCase()}${_.quantity===0?" - Out of Stock":""}`}})],className:`${b?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${E?"border-red-500 focus:border-red-500":""}`}):d.jsx("div",{className:`text-sm ${b?"text-slate-400":"text-slate-500"}`,children:"No locations found for this product"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"deductQuantity",className:`block text-sm font-medium ${b?"text-slate-300":"text-gray-700"}`,children:"Quantity to Deduct"}),d.jsx(Ct,{id:"deductQuantity",type:"number",min:"0",max:P(),value:a,onChange:_=>i(_.target.value.replace(/^0+(?!$)/,"")),placeholder:"Enter quantity to deduct",required:!0,className:`${b?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${E?"border-red-500 focus:border-red-500":""}`}),g&&d.jsxs("p",{className:`text-xs ${b?"text-slate-400":"text-slate-500"}`,children:["Max available at selected location: ",P()," units"]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"reason",className:`block text-sm font-medium ${b?"text-slate-300":"text-gray-700"}`,children:"Reason for Deduction"}),d.jsx(sn,{id:"reason",value:s,onChange:_=>o(_.target.value),required:!0,options:[{value:"",label:"Select a reason"},{value:"stock sold",label:"Stock Sold"},{value:"moved to fba",label:"Moved to FBA"},{value:"moved to mf",label:"Moved to MF"},{value:"damaged",label:"Damaged"},{value:"other",label:"Other"}],className:`${b?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${E?"border-red-500 focus:border-red-500":""}`})]}),s==="other"&&d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"otherReason",className:`block text-sm font-medium ${b?"text-slate-300":"text-gray-700"}`,children:"Specify Reason"}),d.jsx(Ct,{id:"otherReason",type:"text",value:l,onChange:_=>c(_.target.value),placeholder:"Enter the reason",required:!0,className:`${b?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${E?"border-red-500 focus:border-red-500":""}`})]}),g&&u&&d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:`block text-sm font-medium ${b?"text-slate-300":"text-gray-700"}`,children:"Store Name"}),d.jsxs("div",{className:`p-3 rounded-lg ${b?"bg-slate-700 border-slate-600":"bg-slate-100 border-slate-300"} border`,children:[d.jsx("span",{className:`text-sm font-medium ${b?"text-slate-200":"text-slate-800"}`,children:u==null?void 0:u.toUpperCase()}),d.jsx("p",{className:`text-xs ${b?"text-slate-400":"text-slate-500"} mt-1`,children:"Automatically selected based on location"})]})]}),E?d.jsxs("div",{className:`flex items-center space-x-2 text-sm ${b?"text-red-400":"text-red-600"}`,children:[d.jsx(nh,{size:16}),d.jsx("span",{children:E})]}):d.jsx("p",{className:`text-xs ${b?"text-slate-400":"text-gray-500"}`,children:"Enter the quantity to be deducted from current stock"})]}),d.jsxs("div",{className:"flex justify-end space-x-3",children:[d.jsx(it,{type:"button",variant:"secondary",onClick:r,disabled:n,children:"Cancel"}),d.jsx(it,{type:"submit",disabled:n||!!E,className:"min-w-[100px]",children:n?d.jsxs(d.Fragment,{children:[d.jsx(xi,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):"Update"})]})]})},g2e=({isOpen:e,onClose:t})=>{const[r,n]=F.useState("0"),[a,i]=F.useState(null),[s,o]=F.useState(null),[l,c]=F.useState(!1),u=()=>{n("0"),i(null),o(null),c(!1)},f=v=>{l?(n(v),c(!1)):n(r==="0"?v:r+v)},h=()=>{l?(n("0."),c(!1)):r.indexOf(".")===-1&&n(r+".")},p=v=>{const b=parseFloat(r);if(a===null)i(b);else if(s){const D=g(a||0,b,s);n(String(D)),i(D)}c(!0),o(v)},g=(v,b,w)=>{switch(w){case"+":return v+b;case"-":return v-b;case"×":return v*b;case"÷":return v/b;default:return b}},y=[{label:"C",onClick:u,className:"bg-red-500 hover:bg-red-600 text-white"},{label:"±",onClick:()=>n(String(-parseFloat(r))),className:"bg-gray-500 hover:bg-gray-600 text-white"},{label:"%",onClick:()=>n(String(parseFloat(r)/100)),className:"bg-gray-500 hover:bg-gray-600 text-white"},{label:"÷",onClick:()=>p("÷"),className:"bg-orange-500 hover:bg-orange-600 text-white"},{label:"7",onClick:()=>f("7"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"8",onClick:()=>f("8"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"9",onClick:()=>f("9"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"×",onClick:()=>p("×"),className:"bg-orange-500 hover:bg-orange-600 text-white"},{label:"4",onClick:()=>f("4"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"5",onClick:()=>f("5"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"6",onClick:()=>f("6"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"-",onClick:()=>p("-"),className:"bg-orange-500 hover:bg-orange-600 text-white"},{label:"1",onClick:()=>f("1"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"2",onClick:()=>f("2"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"3",onClick:()=>f("3"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"+",onClick:()=>p("+"),className:"bg-orange-500 hover:bg-orange-600 text-white"},{label:"0",onClick:()=>f("0"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white col-span-2"},{label:".",onClick:h,className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"=",onClick:()=>{if(!a||!s)return;const v=parseFloat(r),b=g(a,v,s);n(String(b)),i(null),o(null),c(!1)},className:"bg-orange-500 hover:bg-orange-600 text-white"}];return d.jsx(hn,{isOpen:e,onClose:t,title:"Calculator",size:"sm",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg",children:[d.jsx("div",{className:"text-right text-2xl font-mono text-gray-800 dark:text-white",children:r}),s&&d.jsxs("div",{className:"text-right text-sm text-gray-500 dark:text-gray-400",children:[a," ",s]})]}),d.jsx("div",{className:"grid grid-cols-4 gap-2",children:y.map((v,b)=>d.jsx("button",{onClick:v.onClick,className:`p-4 text-lg font-medium rounded-lg transition-colors ${v.className}`,children:v.label},b))}),d.jsx("div",{className:"pt-2",children:d.jsx(it,{variant:"secondary",onClick:t,className:"w-full",children:"Close"})})]})})};function LW(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=LW(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function pn(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=LW(e))&&(n&&(n+=" "),n+=t);return n}var v2e=Array.isArray,Fs=v2e,y2e=typeof fg=="object"&&fg&&fg.Object===Object&&fg,MW=y2e,x2e=MW,b2e=typeof self=="object"&&self&&self.Object===Object&&self,w2e=x2e||b2e||Function("return this")(),uc=w2e,_2e=uc,S2e=_2e.Symbol,vy=S2e,K8=vy,RW=Object.prototype,A2e=RW.hasOwnProperty,E2e=RW.toString,Zm=K8?K8.toStringTag:void 0;function T2e(e){var t=A2e.call(e,Zm),r=e[Zm];try{e[Zm]=void 0;var n=!0}catch{}var a=E2e.call(e);return n&&(t?e[Zm]=r:delete e[Zm]),a}var N2e=T2e,k2e=Object.prototype,C2e=k2e.toString;function P2e(e){return C2e.call(e)}var O2e=P2e,Y8=vy,I2e=N2e,j2e=O2e,D2e="[object Null]",L2e="[object Undefined]",X8=Y8?Y8.toStringTag:void 0;function M2e(e){return e==null?e===void 0?L2e:D2e:X8&&X8 in Object(e)?I2e(e):j2e(e)}var du=M2e;function R2e(e){return e!=null&&typeof e=="object"}var hu=R2e,F2e=du,$2e=hu,B2e="[object Symbol]";function U2e(e){return typeof e=="symbol"||$2e(e)&&F2e(e)==B2e}var dm=U2e,V2e=Fs,z2e=dm,q2e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,W2e=/^\w*$/;function H2e(e,t){if(V2e(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||z2e(e)?!0:W2e.test(e)||!q2e.test(e)||t!=null&&e in Object(t)}var IC=H2e;function G2e(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Zf=G2e;const hm=On(Zf);var K2e=du,Y2e=Zf,X2e="[object AsyncFunction]",Q2e="[object Function]",J2e="[object GeneratorFunction]",Z2e="[object Proxy]";function ebe(e){if(!Y2e(e))return!1;var t=K2e(e);return t==Q2e||t==J2e||t==X2e||t==Z2e}var jC=ebe;const Vr=On(jC);var tbe=uc,rbe=tbe["__core-js_shared__"],nbe=rbe,iA=nbe,Q8=function(){var e=/[^.]+$/.exec(iA&&iA.keys&&iA.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function abe(e){return!!Q8&&Q8 in e}var ibe=abe,sbe=Function.prototype,obe=sbe.toString;function lbe(e){if(e!=null){try{return obe.call(e)}catch{}try{return e+""}catch{}}return""}var FW=lbe,cbe=jC,ube=ibe,fbe=Zf,dbe=FW,hbe=/[\\^$.*+?()[\]{}|]/g,pbe=/^\[object .+?Constructor\]$/,mbe=Function.prototype,gbe=Object.prototype,vbe=mbe.toString,ybe=gbe.hasOwnProperty,xbe=RegExp("^"+vbe.call(ybe).replace(hbe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function bbe(e){if(!fbe(e)||ube(e))return!1;var t=cbe(e)?xbe:pbe;return t.test(dbe(e))}var wbe=bbe;function _be(e,t){return e==null?void 0:e[t]}var Sbe=_be,Abe=wbe,Ebe=Sbe;function Tbe(e,t){var r=Ebe(e,t);return Abe(r)?r:void 0}var Ph=Tbe,Nbe=Ph,kbe=Nbe(Object,"create"),F5=kbe,J8=F5;function Cbe(){this.__data__=J8?J8(null):{},this.size=0}var Pbe=Cbe;function Obe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Ibe=Obe,jbe=F5,Dbe="__lodash_hash_undefined__",Lbe=Object.prototype,Mbe=Lbe.hasOwnProperty;function Rbe(e){var t=this.__data__;if(jbe){var r=t[e];return r===Dbe?void 0:r}return Mbe.call(t,e)?t[e]:void 0}var Fbe=Rbe,$be=F5,Bbe=Object.prototype,Ube=Bbe.hasOwnProperty;function Vbe(e){var t=this.__data__;return $be?t[e]!==void 0:Ube.call(t,e)}var zbe=Vbe,qbe=F5,Wbe="__lodash_hash_undefined__";function Hbe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=qbe&&t===void 0?Wbe:t,this}var Gbe=Hbe,Kbe=Pbe,Ybe=Ibe,Xbe=Fbe,Qbe=zbe,Jbe=Gbe;function pm(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}pm.prototype.clear=Kbe;pm.prototype.delete=Ybe;pm.prototype.get=Xbe;pm.prototype.has=Qbe;pm.prototype.set=Jbe;var Zbe=pm;function ewe(){this.__data__=[],this.size=0}var twe=ewe;function rwe(e,t){return e===t||e!==e&&t!==t}var DC=rwe,nwe=DC;function awe(e,t){for(var r=e.length;r--;)if(nwe(e[r][0],t))return r;return-1}var $5=awe,iwe=$5,swe=Array.prototype,owe=swe.splice;function lwe(e){var t=this.__data__,r=iwe(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():owe.call(t,r,1),--this.size,!0}var cwe=lwe,uwe=$5;function fwe(e){var t=this.__data__,r=uwe(t,e);return r<0?void 0:t[r][1]}var dwe=fwe,hwe=$5;function pwe(e){return hwe(this.__data__,e)>-1}var mwe=pwe,gwe=$5;function vwe(e,t){var r=this.__data__,n=gwe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var ywe=vwe,xwe=twe,bwe=cwe,wwe=dwe,_we=mwe,Swe=ywe;function mm(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}mm.prototype.clear=xwe;mm.prototype.delete=bwe;mm.prototype.get=wwe;mm.prototype.has=_we;mm.prototype.set=Swe;var B5=mm,Awe=Ph,Ewe=uc,Twe=Awe(Ewe,"Map"),LC=Twe,Z8=Zbe,Nwe=B5,kwe=LC;function Cwe(){this.size=0,this.__data__={hash:new Z8,map:new(kwe||Nwe),string:new Z8}}var Pwe=Cwe;function Owe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Iwe=Owe,jwe=Iwe;function Dwe(e,t){var r=e.__data__;return jwe(t)?r[typeof t=="string"?"string":"hash"]:r.map}var U5=Dwe,Lwe=U5;function Mwe(e){var t=Lwe(this,e).delete(e);return this.size-=t?1:0,t}var Rwe=Mwe,Fwe=U5;function $we(e){return Fwe(this,e).get(e)}var Bwe=$we,Uwe=U5;function Vwe(e){return Uwe(this,e).has(e)}var zwe=Vwe,qwe=U5;function Wwe(e,t){var r=qwe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Hwe=Wwe,Gwe=Pwe,Kwe=Rwe,Ywe=Bwe,Xwe=zwe,Qwe=Hwe;function gm(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}gm.prototype.clear=Gwe;gm.prototype.delete=Kwe;gm.prototype.get=Ywe;gm.prototype.has=Xwe;gm.prototype.set=Qwe;var MC=gm,$W=MC,Jwe="Expected a function";function RC(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Jwe);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var s=e.apply(this,n);return r.cache=i.set(a,s)||i,s};return r.cache=new(RC.Cache||$W),r}RC.Cache=$W;var BW=RC;const Zwe=On(BW);var e5e=BW,t5e=500;function r5e(e){var t=e5e(e,function(n){return r.size===t5e&&r.clear(),n}),r=t.cache;return t}var n5e=r5e,a5e=n5e,i5e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s5e=/\\(\\)?/g,o5e=a5e(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(i5e,function(r,n,a,i){t.push(a?i.replace(s5e,"$1"):n||r)}),t}),l5e=o5e;function c5e(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var FC=c5e,eL=vy,u5e=FC,f5e=Fs,d5e=dm,h5e=1/0,tL=eL?eL.prototype:void 0,rL=tL?tL.toString:void 0;function UW(e){if(typeof e=="string")return e;if(f5e(e))return u5e(e,UW)+"";if(d5e(e))return rL?rL.call(e):"";var t=e+"";return t=="0"&&1/e==-h5e?"-0":t}var p5e=UW,m5e=p5e;function g5e(e){return e==null?"":m5e(e)}var VW=g5e,v5e=Fs,y5e=IC,x5e=l5e,b5e=VW;function w5e(e,t){return v5e(e)?e:y5e(e,t)?[e]:x5e(b5e(e))}var zW=w5e,_5e=dm,S5e=1/0;function A5e(e){if(typeof e=="string"||_5e(e))return e;var t=e+"";return t=="0"&&1/e==-S5e?"-0":t}var V5=A5e,E5e=zW,T5e=V5;function N5e(e,t){t=E5e(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[T5e(t[r++])];return r&&r==n?e:void 0}var $C=N5e,k5e=$C;function C5e(e,t,r){var n=e==null?void 0:k5e(e,t);return n===void 0?r:n}var qW=C5e;const Do=On(qW);function P5e(e){return e==null}var O5e=P5e;const Jr=On(O5e);var I5e=du,j5e=Fs,D5e=hu,L5e="[object String]";function M5e(e){return typeof e=="string"||!j5e(e)&&D5e(e)&&I5e(e)==L5e}var R5e=M5e;const hh=On(R5e);var WW={exports:{}},kn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BC=Symbol.for("react.element"),UC=Symbol.for("react.portal"),z5=Symbol.for("react.fragment"),q5=Symbol.for("react.strict_mode"),W5=Symbol.for("react.profiler"),H5=Symbol.for("react.provider"),G5=Symbol.for("react.context"),F5e=Symbol.for("react.server_context"),K5=Symbol.for("react.forward_ref"),Y5=Symbol.for("react.suspense"),X5=Symbol.for("react.suspense_list"),Q5=Symbol.for("react.memo"),J5=Symbol.for("react.lazy"),$5e=Symbol.for("react.offscreen"),HW;HW=Symbol.for("react.module.reference");function Vo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case BC:switch(e=e.type,e){case z5:case W5:case q5:case Y5:case X5:return e;default:switch(e=e&&e.$$typeof,e){case F5e:case G5:case K5:case J5:case Q5:case H5:return e;default:return t}}case UC:return t}}}kn.ContextConsumer=G5;kn.ContextProvider=H5;kn.Element=BC;kn.ForwardRef=K5;kn.Fragment=z5;kn.Lazy=J5;kn.Memo=Q5;kn.Portal=UC;kn.Profiler=W5;kn.StrictMode=q5;kn.Suspense=Y5;kn.SuspenseList=X5;kn.isAsyncMode=function(){return!1};kn.isConcurrentMode=function(){return!1};kn.isContextConsumer=function(e){return Vo(e)===G5};kn.isContextProvider=function(e){return Vo(e)===H5};kn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===BC};kn.isForwardRef=function(e){return Vo(e)===K5};kn.isFragment=function(e){return Vo(e)===z5};kn.isLazy=function(e){return Vo(e)===J5};kn.isMemo=function(e){return Vo(e)===Q5};kn.isPortal=function(e){return Vo(e)===UC};kn.isProfiler=function(e){return Vo(e)===W5};kn.isStrictMode=function(e){return Vo(e)===q5};kn.isSuspense=function(e){return Vo(e)===Y5};kn.isSuspenseList=function(e){return Vo(e)===X5};kn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===z5||e===W5||e===q5||e===Y5||e===X5||e===$5e||typeof e=="object"&&e!==null&&(e.$$typeof===J5||e.$$typeof===Q5||e.$$typeof===H5||e.$$typeof===G5||e.$$typeof===K5||e.$$typeof===HW||e.getModuleId!==void 0)};kn.typeOf=Vo;WW.exports=kn;var B5e=WW.exports,U5e=du,V5e=hu,z5e="[object Number]";function q5e(e){return typeof e=="number"||V5e(e)&&U5e(e)==z5e}var GW=q5e;const W5e=On(GW);var H5e=GW;function G5e(e){return H5e(e)&&e!=+e}var K5e=G5e;const yy=On(K5e);var vl=function(t){return t===0?0:t>0?1:-1},Fd=function(t){return hh(t)&&t.indexOf("%")===t.length-1},$t=function(t){return W5e(t)&&!yy(t)},qa=function(t){return $t(t)||hh(t)},Y5e=0,xy=function(t){var r=++Y5e;return"".concat(t||"").concat(r)},ph=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!$t(t)&&!hh(t))return n;var i;if(Fd(t)){var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return yy(i)&&(i=n),a&&i>r&&(i=r),i},rf=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},X5e=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},dl=function(t,r){return $t(t)&&$t(r)?function(n){return t+n*(r-t)}:function(){return r}};function Bb(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Do(n,t))===r})}var Q5e=function(t,r){return $t(t)&&$t(r)?t-r:hh(t)&&hh(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function X0(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function GE(e){"@babel/helpers - typeof";return GE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},GE(e)}var J5e=["viewBox","children"],Z5e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],nL=["points","pathLength"],sA={svg:J5e,polygon:nL,polyline:nL},VC=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Ub=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(F.isValidElement(t)&&(n=t.props),!hm(n))return null;var a={};return Object.keys(n).forEach(function(i){VC.includes(i)&&(a[i]=r||function(s){return n[i](n,s)})}),a},e_e=function(t,r,n){return function(a){return t(r,n,a),null}},Vb=function(t,r,n){if(!hm(t)||GE(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var s=t[i];VC.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=e_e(s,r,n))}),a},t_e=["children"],r_e=["children"];function aL(e,t){if(e==null)return{};var r=n_e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function n_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function KE(e){"@babel/helpers - typeof";return KE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},KE(e)}var iL={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},$c=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},sL=null,oA=null,zC=function e(t){if(t===sL&&Array.isArray(oA))return oA;var r=[];return F.Children.forEach(t,function(n){Jr(n)||(B5e.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),oA=r,sL=t,r};function Lo(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return $c(a)}):n=[$c(t)],zC(e).forEach(function(a){var i=Do(a,"type.displayName")||Do(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function Qs(e,t){var r=Lo(e,t);return r&&r[0]}var oL=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!$t(n)||n<=0||!$t(a)||a<=0)},a_e=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],i_e=function(t){return t&&t.type&&hh(t.type)&&a_e.indexOf(t.type)>=0},s_e=function(t){return t&&KE(t)==="object"&&"clipDot"in t},o_e=function(t,r,n,a){var i,s=(i=sA==null?void 0:sA[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Vr(t)&&(a&&s.includes(r)||Z5e.includes(r))||n&&VC.includes(r)},en=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(F.isValidElement(t)&&(a=t.props),!hm(a))return null;var i={};return Object.keys(a).forEach(function(s){var o;o_e((o=a)===null||o===void 0?void 0:o[s],s,r,n)&&(i[s]=a[s])}),i},YE=function e(t,r){if(t===r)return!0;var n=F.Children.count(t);if(n!==F.Children.count(r))return!1;if(n===0)return!0;if(n===1)return lL(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],s=r[a];if(Array.isArray(i)||Array.isArray(s)){if(!e(i,s))return!1}else if(!lL(i,s))return!1}return!0},lL=function(t,r){if(Jr(t)&&Jr(r))return!0;if(!Jr(t)&&!Jr(r)){var n=t.props||{},a=n.children,i=aL(n,t_e),s=r.props||{},o=s.children,l=aL(s,r_e);return a&&o?X0(i,l)&&YE(a,o):!a&&!o?X0(i,l):!1}return!1},cL=function(t,r){var n=[],a={};return zC(t).forEach(function(i,s){if(i_e(i))n.push(i);else if(i){var o=$c(i.type),l=r[o]||{},c=l.handler,u=l.once;if(c&&(!u||!a[o])){var f=c(i,o,s);n.push(f),a[o]=!0}}}),n},l_e=function(t){var r=t&&t.type;return r&&iL[r]?iL[r]:null},c_e=function(t,r){return zC(r).indexOf(t)},u_e=["children","width","height","viewBox","className","style","title","desc"];function XE(){return XE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},XE.apply(this,arguments)}function f_e(e,t){if(e==null)return{};var r=d_e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function d_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function QE(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,s=e.style,o=e.title,l=e.desc,c=f_e(e,u_e),u=a||{width:r,height:n,x:0,y:0},f=pn("recharts-surface",i);return Re.createElement("svg",XE({},en(c,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),Re.createElement("title",null,o),Re.createElement("desc",null,l),t)}var h_e=["children","className"];function JE(){return JE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},JE.apply(this,arguments)}function p_e(e,t){if(e==null)return{};var r=m_e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function m_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Ea=Re.forwardRef(function(e,t){var r=e.children,n=e.className,a=p_e(e,h_e),i=pn("recharts-layer",n);return Re.createElement("g",JE({className:i},en(a,!0),{ref:t}),r)}),Bc=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function g_e(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var v_e=g_e,y_e=v_e;function x_e(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:y_e(e,t,r)}var b_e=x_e,w_e="\\ud800-\\udfff",__e="\\u0300-\\u036f",S_e="\\ufe20-\\ufe2f",A_e="\\u20d0-\\u20ff",E_e=__e+S_e+A_e,T_e="\\ufe0e\\ufe0f",N_e="\\u200d",k_e=RegExp("["+N_e+w_e+E_e+T_e+"]");function C_e(e){return k_e.test(e)}var KW=C_e;function P_e(e){return e.split("")}var O_e=P_e,YW="\\ud800-\\udfff",I_e="\\u0300-\\u036f",j_e="\\ufe20-\\ufe2f",D_e="\\u20d0-\\u20ff",L_e=I_e+j_e+D_e,M_e="\\ufe0e\\ufe0f",R_e="["+YW+"]",ZE="["+L_e+"]",eT="\\ud83c[\\udffb-\\udfff]",F_e="(?:"+ZE+"|"+eT+")",XW="[^"+YW+"]",QW="(?:\\ud83c[\\udde6-\\uddff]){2}",JW="[\\ud800-\\udbff][\\udc00-\\udfff]",$_e="\\u200d",ZW=F_e+"?",eH="["+M_e+"]?",B_e="(?:"+$_e+"(?:"+[XW,QW,JW].join("|")+")"+eH+ZW+")*",U_e=eH+ZW+B_e,V_e="(?:"+[XW+ZE+"?",ZE,QW,JW,R_e].join("|")+")",z_e=RegExp(eT+"(?="+eT+")|"+V_e+U_e,"g");function q_e(e){return e.match(z_e)||[]}var W_e=q_e,H_e=O_e,G_e=KW,K_e=W_e;function Y_e(e){return G_e(e)?K_e(e):H_e(e)}var X_e=Y_e,Q_e=b_e,J_e=KW,Z_e=X_e,eSe=VW;function tSe(e){return function(t){t=eSe(t);var r=J_e(t)?Z_e(t):void 0,n=r?r[0]:t.charAt(0),a=r?Q_e(r,1).join(""):t.slice(1);return n[e]()+a}}var rSe=tSe,nSe=rSe,aSe=nSe("toUpperCase"),iSe=aSe;const Z5=On(iSe);function $n(e){return function(){return e}}const tH=Math.cos,zb=Math.sin,kl=Math.sqrt,qb=Math.PI,e_=2*qb,tT=Math.PI,rT=2*tT,Ed=1e-6,sSe=rT-Ed;function rH(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function oSe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return rH;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class lSe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?rH:oSe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,o=this._y1,l=n-t,c=a-r,u=s-t,f=o-r,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Ed)if(!(Math.abs(f*l-c*u)>Ed)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-s,g=a-o,m=l*l+c*c,y=p*p+g*g,v=Math.sqrt(m),b=Math.sqrt(h),w=i*Math.tan((tT-Math.acos((m+h-y)/(2*v*b)))/2),D=w/b,P=w/v;Math.abs(D-1)>Ed&&this._append`L${t+D*u},${r+D*f}`,this._append`A${i},${i},0,0,${+(f*p>u*g)},${this._x1=t+P*l},${this._y1=r+P*c}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),l=n*Math.sin(a),c=t+o,u=r+l,f=1^s,h=s?a-i:i-a;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Ed||Math.abs(this._y1-u)>Ed)&&this._append`L${c},${u}`,n&&(h<0&&(h=h%rT+rT),h>sSe?this._append`A${n},${n},0,1,${f},${t-o},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=u}`:h>Ed&&this._append`A${n},${n},0,${+(h>=tT)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function qC(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new lSe(t)}function WC(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function nH(e){this._context=e}nH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function t_(e){return new nH(e)}function aH(e){return e[0]}function iH(e){return e[1]}function sH(e,t){var r=$n(!0),n=null,a=t_,i=null,s=qC(o);e=typeof e=="function"?e:e===void 0?aH:$n(e),t=typeof t=="function"?t:t===void 0?iH:$n(t);function o(l){var c,u=(l=WC(l)).length,f,h=!1,p;for(n==null&&(i=a(p=s())),c=0;c<=u;++c)!(c<u&&r(f=l[c],c,l))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,c,l),+t(f,c,l));if(p)return i=null,p+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:$n(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:$n(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:$n(!!l),o):r},o.curve=function(l){return arguments.length?(a=l,n!=null&&(i=a(n)),o):a},o.context=function(l){return arguments.length?(l==null?n=i=null:i=a(n=l),o):n},o}function Lx(e,t,r){var n=null,a=$n(!0),i=null,s=t_,o=null,l=qC(c);e=typeof e=="function"?e:e===void 0?aH:$n(+e),t=typeof t=="function"?t:$n(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?iH:$n(+r);function c(f){var h,p,g,m=(f=WC(f)).length,y,v=!1,b,w=new Array(m),D=new Array(m);for(i==null&&(o=s(b=l())),h=0;h<=m;++h){if(!(h<m&&a(y=f[h],h,f))===v)if(v=!v)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=h-1;g>=p;--g)o.point(w[g],D[g]);o.lineEnd(),o.areaEnd()}v&&(w[h]=+e(y,h,f),D[h]=+t(y,h,f),o.point(n?+n(y,h,f):w[h],r?+r(y,h,f):D[h]))}if(b)return o=null,b+""||null}function u(){return sH().defined(a).curve(s).context(i)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:$n(+f),n=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:$n(+f),c):e},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:$n(+f),c):n},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:$n(+f),r=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:$n(+f),c):t},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:$n(+f),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(f){return arguments.length?(a=typeof f=="function"?f:$n(!!f),c):a},c.curve=function(f){return arguments.length?(s=f,i!=null&&(o=s(i)),c):s},c.context=function(f){return arguments.length?(f==null?i=o=null:o=s(i=f),c):i},c}class oH{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function cSe(e){return new oH(e,!0)}function uSe(e){return new oH(e,!1)}const HC={draw(e,t){const r=kl(t/qb);e.moveTo(r,0),e.arc(0,0,r,0,e_)}},fSe={draw(e,t){const r=kl(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},lH=kl(1/3),dSe=lH*2,hSe={draw(e,t){const r=kl(t/dSe),n=r*lH;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},pSe={draw(e,t){const r=kl(t),n=-r/2;e.rect(n,n,r,r)}},mSe=.8908130915292852,cH=zb(qb/10)/zb(7*qb/10),gSe=zb(e_/10)*cH,vSe=-tH(e_/10)*cH,ySe={draw(e,t){const r=kl(t*mSe),n=gSe*r,a=vSe*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const s=e_*i/5,o=tH(s),l=zb(s);e.lineTo(l*r,-o*r),e.lineTo(o*n-l*a,l*n+o*a)}e.closePath()}},lA=kl(3),xSe={draw(e,t){const r=-kl(t/(lA*3));e.moveTo(0,r*2),e.lineTo(-lA*r,-r),e.lineTo(lA*r,-r),e.closePath()}},wo=-.5,_o=kl(3)/2,nT=1/kl(12),bSe=(nT/2+1)*3,wSe={draw(e,t){const r=kl(t/bSe),n=r/2,a=r*nT,i=n,s=r*nT+r,o=-i,l=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(o,l),e.lineTo(wo*n-_o*a,_o*n+wo*a),e.lineTo(wo*i-_o*s,_o*i+wo*s),e.lineTo(wo*o-_o*l,_o*o+wo*l),e.lineTo(wo*n+_o*a,wo*a-_o*n),e.lineTo(wo*i+_o*s,wo*s-_o*i),e.lineTo(wo*o+_o*l,wo*l-_o*o),e.closePath()}};function _Se(e,t){let r=null,n=qC(a);e=typeof e=="function"?e:$n(e||HC),t=typeof t=="function"?t:$n(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:$n(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:$n(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Wb(){}function Hb(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function uH(e){this._context=e}uH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Hb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Hb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function SSe(e){return new uH(e)}function fH(e){this._context=e}fH.prototype={areaStart:Wb,areaEnd:Wb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Hb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ASe(e){return new fH(e)}function dH(e){this._context=e}dH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Hb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ESe(e){return new dH(e)}function hH(e){this._context=e}hH.prototype={areaStart:Wb,areaEnd:Wb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function TSe(e){return new hH(e)}function uL(e){return e<0?-1:1}function fL(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),o=(i*a+s*n)/(n+a);return(uL(i)+uL(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function dL(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function cA(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,a+o*t,i-o,s-o*r,i,s)}function Gb(e){this._context=e}Gb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:cA(this,this._t0,dL(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,cA(this,dL(this,r=fL(this,e,t)),r);break;default:cA(this,this._t0,r=fL(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function pH(e){this._context=new mH(e)}(pH.prototype=Object.create(Gb.prototype)).point=function(e,t){Gb.prototype.point.call(this,t,e)};function mH(e){this._context=e}mH.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function NSe(e){return new Gb(e)}function kSe(e){return new pH(e)}function gH(e){this._context=e}gH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=hL(e),a=hL(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function hL(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function CSe(e){return new gH(e)}function r_(e,t){this._context=e,this._t=t}r_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function PSe(e){return new r_(e,.5)}function OSe(e){return new r_(e,0)}function ISe(e){return new r_(e,1)}function Ep(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,o=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function aT(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function jSe(e,t){return e[t]}function DSe(e){const t=[];return t.key=e,t}function LSe(){var e=$n([]),t=aT,r=Ep,n=jSe;function a(i){var s=Array.from(e.apply(this,arguments),DSe),o,l=s.length,c=-1,u;for(const f of i)for(o=0,++c;o<l;++o)(s[o][c]=[0,+n(f,s[o].key,c,i)]).data=f;for(o=0,u=WC(t(s));o<l;++o)s[u[o]].index=o;return r(s,u),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:$n(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:$n(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?aT:typeof i=="function"?i:$n(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Ep,a):r},a}function MSe(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}Ep(e,t)}}function RSe(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,o=0;s<a;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}Ep(e,t)}}function FSe(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var o=0,l=0,c=0;o<s;++o){for(var u=e[t[o]],f=u[n][1]||0,h=u[n-1][1]||0,p=(f-h)/2,g=0;g<o;++g){var m=e[t[g]],y=m[n][1]||0,v=m[n-1][1]||0;p+=y-v}l+=f,c+=p*f}a[n-1][1]+=a[n-1][0]=r,l&&(r-=c/l)}a[n-1][1]+=a[n-1][0]=r,Ep(e,t)}}function o1(e){"@babel/helpers - typeof";return o1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o1(e)}var $Se=["type","size","sizeType"];function iT(){return iT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iT.apply(this,arguments)}function pL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pL(Object(r),!0).forEach(function(n){BSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BSe(e,t,r){return t=USe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function USe(e){var t=VSe(e,"string");return o1(t)=="symbol"?t:t+""}function VSe(e,t){if(o1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(o1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zSe(e,t){if(e==null)return{};var r=qSe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qSe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var vH={symbolCircle:HC,symbolCross:fSe,symbolDiamond:hSe,symbolSquare:pSe,symbolStar:ySe,symbolTriangle:xSe,symbolWye:wSe},WSe=Math.PI/180,HSe=function(t){var r="symbol".concat(Z5(t));return vH[r]||HC},GSe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*WSe;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},KSe=function(t,r){vH["symbol".concat(Z5(t))]=r},GC=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,s=t.sizeType,o=s===void 0?"area":s,l=zSe(t,$Se),c=mL(mL({},l),{},{type:n,size:i,sizeType:o}),u=function(){var y=HSe(n),v=_Se().type(y).size(GSe(i,o,n));return v()},f=c.className,h=c.cx,p=c.cy,g=en(c,!0);return h===+h&&p===+p&&i===+i?Re.createElement("path",iT({},g,{className:pn("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};GC.registerSymbol=KSe;function Tp(e){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tp(e)}function sT(){return sT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sT.apply(this,arguments)}function gL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function YSe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gL(Object(r),!0).forEach(function(n){l1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QSe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xH(n.key),n)}}function JSe(e,t,r){return t&&QSe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZSe(e,t,r){return t=Kb(t),eAe(e,yH()?Reflect.construct(t,r||[],Kb(e).constructor):t.apply(e,r))}function eAe(e,t){if(t&&(Tp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tAe(e)}function tAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yH=function(){return!!e})()}function Kb(e){return Kb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kb(e)}function rAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oT(e,t)}function oT(e,t){return oT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},oT(e,t)}function l1(e,t,r){return t=xH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xH(e){var t=nAe(e,"string");return Tp(t)=="symbol"?t:t+""}function nAe(e,t){if(Tp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var So=32,KC=function(e){function t(){return XSe(this,t),ZSe(this,t,arguments)}return rAe(t,e),JSe(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=So/2,s=So/6,o=So/3,l=n.inactive?a:n.color;if(n.type==="plainline")return Re.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:So,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return Re.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(So,"M").concat(2*o,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return Re.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(So/8,"h").concat(So,"v").concat(So*3/4,"h").concat(-So,"z"),className:"recharts-legend-icon"});if(Re.isValidElement(n.legendIcon)){var c=YSe({},n);return delete c.legendIcon,Re.cloneElement(n.legendIcon,c)}return Re.createElement(GC,{fill:l,cx:i,cy:i,size:So,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,s=a.iconSize,o=a.layout,l=a.formatter,c=a.inactiveColor,u={x:0,y:0,width:So,height:So},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,g){var m=p.formatter||l,y=pn(l1(l1({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var v=Vr(p.value)?null:p.value;Bc(!Vr(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?c:p.color;return Re.createElement("li",sT({className:y,style:f,key:"legend-item-".concat(g)},Vb(n.props,p,g)),Re.createElement(QE,{width:s,height:s,viewBox:u,style:h},n.renderIcon(p)),Re.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},m?m(v,p,g):v))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,s=n.align;if(!a||!a.length)return null;var o={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return Re.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(F.PureComponent);l1(KC,"displayName","Legend");l1(KC,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var aAe=B5;function iAe(){this.__data__=new aAe,this.size=0}var sAe=iAe;function oAe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var lAe=oAe;function cAe(e){return this.__data__.get(e)}var uAe=cAe;function fAe(e){return this.__data__.has(e)}var dAe=fAe,hAe=B5,pAe=LC,mAe=MC,gAe=200;function vAe(e,t){var r=this.__data__;if(r instanceof hAe){var n=r.__data__;if(!pAe||n.length<gAe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new mAe(n)}return r.set(e,t),this.size=r.size,this}var yAe=vAe,xAe=B5,bAe=sAe,wAe=lAe,_Ae=uAe,SAe=dAe,AAe=yAe;function vm(e){var t=this.__data__=new xAe(e);this.size=t.size}vm.prototype.clear=bAe;vm.prototype.delete=wAe;vm.prototype.get=_Ae;vm.prototype.has=SAe;vm.prototype.set=AAe;var bH=vm,EAe="__lodash_hash_undefined__";function TAe(e){return this.__data__.set(e,EAe),this}var NAe=TAe;function kAe(e){return this.__data__.has(e)}var CAe=kAe,PAe=MC,OAe=NAe,IAe=CAe;function Yb(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new PAe;++t<r;)this.add(e[t])}Yb.prototype.add=Yb.prototype.push=OAe;Yb.prototype.has=IAe;var wH=Yb;function jAe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var _H=jAe;function DAe(e,t){return e.has(t)}var SH=DAe,LAe=wH,MAe=_H,RAe=SH,FAe=1,$Ae=2;function BAe(e,t,r,n,a,i){var s=r&FAe,o=e.length,l=t.length;if(o!=l&&!(s&&l>o))return!1;var c=i.get(e),u=i.get(t);if(c&&u)return c==t&&u==e;var f=-1,h=!0,p=r&$Ae?new LAe:void 0;for(i.set(e,t),i.set(t,e);++f<o;){var g=e[f],m=t[f];if(n)var y=s?n(m,g,f,t,e,i):n(g,m,f,e,t,i);if(y!==void 0){if(y)continue;h=!1;break}if(p){if(!MAe(t,function(v,b){if(!RAe(p,b)&&(g===v||a(g,v,r,n,i)))return p.push(b)})){h=!1;break}}else if(!(g===m||a(g,m,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var AH=BAe,UAe=uc,VAe=UAe.Uint8Array,zAe=VAe;function qAe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var WAe=qAe;function HAe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var YC=HAe,vL=vy,yL=zAe,GAe=DC,KAe=AH,YAe=WAe,XAe=YC,QAe=1,JAe=2,ZAe="[object Boolean]",e4e="[object Date]",t4e="[object Error]",r4e="[object Map]",n4e="[object Number]",a4e="[object RegExp]",i4e="[object Set]",s4e="[object String]",o4e="[object Symbol]",l4e="[object ArrayBuffer]",c4e="[object DataView]",xL=vL?vL.prototype:void 0,uA=xL?xL.valueOf:void 0;function u4e(e,t,r,n,a,i,s){switch(r){case c4e:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case l4e:return!(e.byteLength!=t.byteLength||!i(new yL(e),new yL(t)));case ZAe:case e4e:case n4e:return GAe(+e,+t);case t4e:return e.name==t.name&&e.message==t.message;case a4e:case s4e:return e==t+"";case r4e:var o=YAe;case i4e:var l=n&QAe;if(o||(o=XAe),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;n|=JAe,s.set(e,t);var u=KAe(o(e),o(t),n,a,i,s);return s.delete(e),u;case o4e:if(uA)return uA.call(e)==uA.call(t)}return!1}var f4e=u4e;function d4e(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var EH=d4e,h4e=EH,p4e=Fs;function m4e(e,t,r){var n=t(e);return p4e(e)?n:h4e(n,r(e))}var g4e=m4e;function v4e(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var s=e[r];t(s,r,e)&&(i[a++]=s)}return i}var y4e=v4e;function x4e(){return[]}var b4e=x4e,w4e=y4e,_4e=b4e,S4e=Object.prototype,A4e=S4e.propertyIsEnumerable,bL=Object.getOwnPropertySymbols,E4e=bL?function(e){return e==null?[]:(e=Object(e),w4e(bL(e),function(t){return A4e.call(e,t)}))}:_4e,T4e=E4e;function N4e(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var k4e=N4e,C4e=du,P4e=hu,O4e="[object Arguments]";function I4e(e){return P4e(e)&&C4e(e)==O4e}var j4e=I4e,wL=j4e,D4e=hu,TH=Object.prototype,L4e=TH.hasOwnProperty,M4e=TH.propertyIsEnumerable,R4e=wL(function(){return arguments}())?wL:function(e){return D4e(e)&&L4e.call(e,"callee")&&!M4e.call(e,"callee")},XC=R4e,Xb={exports:{}};function F4e(){return!1}var $4e=F4e;Xb.exports;(function(e,t){var r=uc,n=$4e,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===a,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||n;e.exports=c})(Xb,Xb.exports);var NH=Xb.exports,B4e=9007199254740991,U4e=/^(?:0|[1-9]\d*)$/;function V4e(e,t){var r=typeof e;return t=t??B4e,!!t&&(r=="number"||r!="symbol"&&U4e.test(e))&&e>-1&&e%1==0&&e<t}var QC=V4e,z4e=9007199254740991;function q4e(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=z4e}var JC=q4e,W4e=du,H4e=JC,G4e=hu,K4e="[object Arguments]",Y4e="[object Array]",X4e="[object Boolean]",Q4e="[object Date]",J4e="[object Error]",Z4e="[object Function]",eEe="[object Map]",tEe="[object Number]",rEe="[object Object]",nEe="[object RegExp]",aEe="[object Set]",iEe="[object String]",sEe="[object WeakMap]",oEe="[object ArrayBuffer]",lEe="[object DataView]",cEe="[object Float32Array]",uEe="[object Float64Array]",fEe="[object Int8Array]",dEe="[object Int16Array]",hEe="[object Int32Array]",pEe="[object Uint8Array]",mEe="[object Uint8ClampedArray]",gEe="[object Uint16Array]",vEe="[object Uint32Array]",qn={};qn[cEe]=qn[uEe]=qn[fEe]=qn[dEe]=qn[hEe]=qn[pEe]=qn[mEe]=qn[gEe]=qn[vEe]=!0;qn[K4e]=qn[Y4e]=qn[oEe]=qn[X4e]=qn[lEe]=qn[Q4e]=qn[J4e]=qn[Z4e]=qn[eEe]=qn[tEe]=qn[rEe]=qn[nEe]=qn[aEe]=qn[iEe]=qn[sEe]=!1;function yEe(e){return G4e(e)&&H4e(e.length)&&!!qn[W4e(e)]}var xEe=yEe;function bEe(e){return function(t){return e(t)}}var kH=bEe,Qb={exports:{}};Qb.exports;(function(e,t){var r=MW,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,s=i&&r.process,o=function(){try{var l=a&&a.require&&a.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o})(Qb,Qb.exports);var wEe=Qb.exports,_Ee=xEe,SEe=kH,_L=wEe,SL=_L&&_L.isTypedArray,AEe=SL?SEe(SL):_Ee,CH=AEe,EEe=k4e,TEe=XC,NEe=Fs,kEe=NH,CEe=QC,PEe=CH,OEe=Object.prototype,IEe=OEe.hasOwnProperty;function jEe(e,t){var r=NEe(e),n=!r&&TEe(e),a=!r&&!n&&kEe(e),i=!r&&!n&&!a&&PEe(e),s=r||n||a||i,o=s?EEe(e.length,String):[],l=o.length;for(var c in e)(t||IEe.call(e,c))&&!(s&&(c=="length"||a&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||CEe(c,l)))&&o.push(c);return o}var DEe=jEe,LEe=Object.prototype;function MEe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||LEe;return e===r}var REe=MEe;function FEe(e,t){return function(r){return e(t(r))}}var PH=FEe,$Ee=PH,BEe=$Ee(Object.keys,Object),UEe=BEe,VEe=REe,zEe=UEe,qEe=Object.prototype,WEe=qEe.hasOwnProperty;function HEe(e){if(!VEe(e))return zEe(e);var t=[];for(var r in Object(e))WEe.call(e,r)&&r!="constructor"&&t.push(r);return t}var GEe=HEe,KEe=jC,YEe=JC;function XEe(e){return e!=null&&YEe(e.length)&&!KEe(e)}var by=XEe,QEe=DEe,JEe=GEe,ZEe=by;function eTe(e){return ZEe(e)?QEe(e):JEe(e)}var n_=eTe,tTe=g4e,rTe=T4e,nTe=n_;function aTe(e){return tTe(e,nTe,rTe)}var iTe=aTe,AL=iTe,sTe=1,oTe=Object.prototype,lTe=oTe.hasOwnProperty;function cTe(e,t,r,n,a,i){var s=r&sTe,o=AL(e),l=o.length,c=AL(t),u=c.length;if(l!=u&&!s)return!1;for(var f=l;f--;){var h=o[f];if(!(s?h in t:lTe.call(t,h)))return!1}var p=i.get(e),g=i.get(t);if(p&&g)return p==t&&g==e;var m=!0;i.set(e,t),i.set(t,e);for(var y=s;++f<l;){h=o[f];var v=e[h],b=t[h];if(n)var w=s?n(b,v,h,t,e,i):n(v,b,h,e,t,i);if(!(w===void 0?v===b||a(v,b,r,n,i):w)){m=!1;break}y||(y=h=="constructor")}if(m&&!y){var D=e.constructor,P=t.constructor;D!=P&&"constructor"in e&&"constructor"in t&&!(typeof D=="function"&&D instanceof D&&typeof P=="function"&&P instanceof P)&&(m=!1)}return i.delete(e),i.delete(t),m}var uTe=cTe,fTe=Ph,dTe=uc,hTe=fTe(dTe,"DataView"),pTe=hTe,mTe=Ph,gTe=uc,vTe=mTe(gTe,"Promise"),yTe=vTe,xTe=Ph,bTe=uc,wTe=xTe(bTe,"Set"),OH=wTe,_Te=Ph,STe=uc,ATe=_Te(STe,"WeakMap"),ETe=ATe,lT=pTe,cT=LC,uT=yTe,fT=OH,dT=ETe,IH=du,ym=FW,EL="[object Map]",TTe="[object Object]",TL="[object Promise]",NL="[object Set]",kL="[object WeakMap]",CL="[object DataView]",NTe=ym(lT),kTe=ym(cT),CTe=ym(uT),PTe=ym(fT),OTe=ym(dT),Td=IH;(lT&&Td(new lT(new ArrayBuffer(1)))!=CL||cT&&Td(new cT)!=EL||uT&&Td(uT.resolve())!=TL||fT&&Td(new fT)!=NL||dT&&Td(new dT)!=kL)&&(Td=function(e){var t=IH(e),r=t==TTe?e.constructor:void 0,n=r?ym(r):"";if(n)switch(n){case NTe:return CL;case kTe:return EL;case CTe:return TL;case PTe:return NL;case OTe:return kL}return t});var ITe=Td,fA=bH,jTe=AH,DTe=f4e,LTe=uTe,PL=ITe,OL=Fs,IL=NH,MTe=CH,RTe=1,jL="[object Arguments]",DL="[object Array]",Mx="[object Object]",FTe=Object.prototype,LL=FTe.hasOwnProperty;function $Te(e,t,r,n,a,i){var s=OL(e),o=OL(t),l=s?DL:PL(e),c=o?DL:PL(t);l=l==jL?Mx:l,c=c==jL?Mx:c;var u=l==Mx,f=c==Mx,h=l==c;if(h&&IL(e)){if(!IL(t))return!1;s=!0,u=!1}if(h&&!u)return i||(i=new fA),s||MTe(e)?jTe(e,t,r,n,a,i):DTe(e,t,l,r,n,a,i);if(!(r&RTe)){var p=u&&LL.call(e,"__wrapped__"),g=f&&LL.call(t,"__wrapped__");if(p||g){var m=p?e.value():e,y=g?t.value():t;return i||(i=new fA),a(m,y,r,n,i)}}return h?(i||(i=new fA),LTe(e,t,r,n,a,i)):!1}var BTe=$Te,UTe=BTe,ML=hu;function jH(e,t,r,n,a){return e===t?!0:e==null||t==null||!ML(e)&&!ML(t)?e!==e&&t!==t:UTe(e,t,r,n,jH,a)}var ZC=jH,VTe=bH,zTe=ZC,qTe=1,WTe=2;function HTe(e,t,r,n){var a=r.length,i=a,s=!n;if(e==null)return!i;for(e=Object(e);a--;){var o=r[a];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++a<i;){o=r[a];var l=o[0],c=e[l],u=o[1];if(s&&o[2]){if(c===void 0&&!(l in e))return!1}else{var f=new VTe;if(n)var h=n(c,u,l,e,t,f);if(!(h===void 0?zTe(u,c,qTe|WTe,n,f):h))return!1}}return!0}var GTe=HTe,KTe=Zf;function YTe(e){return e===e&&!KTe(e)}var DH=YTe,XTe=DH,QTe=n_;function JTe(e){for(var t=QTe(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,XTe(a)]}return t}var ZTe=JTe;function e3e(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var LH=e3e,t3e=GTe,r3e=ZTe,n3e=LH;function a3e(e){var t=r3e(e);return t.length==1&&t[0][2]?n3e(t[0][0],t[0][1]):function(r){return r===e||t3e(r,e,t)}}var i3e=a3e;function s3e(e,t){return e!=null&&t in Object(e)}var o3e=s3e,l3e=zW,c3e=XC,u3e=Fs,f3e=QC,d3e=JC,h3e=V5;function p3e(e,t,r){t=l3e(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var s=h3e(t[n]);if(!(i=e!=null&&r(e,s)))break;e=e[s]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&d3e(a)&&f3e(s,a)&&(u3e(e)||c3e(e)))}var m3e=p3e,g3e=o3e,v3e=m3e;function y3e(e,t){return e!=null&&v3e(e,t,g3e)}var x3e=y3e,b3e=ZC,w3e=qW,_3e=x3e,S3e=IC,A3e=DH,E3e=LH,T3e=V5,N3e=1,k3e=2;function C3e(e,t){return S3e(e)&&A3e(t)?E3e(T3e(e),t):function(r){var n=w3e(r,e);return n===void 0&&n===t?_3e(r,e):b3e(t,n,N3e|k3e)}}var P3e=C3e;function O3e(e){return e}var xm=O3e;function I3e(e){return function(t){return t==null?void 0:t[e]}}var j3e=I3e,D3e=$C;function L3e(e){return function(t){return D3e(t,e)}}var M3e=L3e,R3e=j3e,F3e=M3e,$3e=IC,B3e=V5;function U3e(e){return $3e(e)?R3e(B3e(e)):F3e(e)}var V3e=U3e,z3e=i3e,q3e=P3e,W3e=xm,H3e=Fs,G3e=V3e;function K3e(e){return typeof e=="function"?e:e==null?W3e:typeof e=="object"?H3e(e)?q3e(e[0],e[1]):z3e(e):G3e(e)}var ed=K3e;function Y3e(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var MH=Y3e;function X3e(e){return e!==e}var Q3e=X3e;function J3e(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var Z3e=J3e,eNe=MH,tNe=Q3e,rNe=Z3e;function nNe(e,t,r){return t===t?rNe(e,t,r):eNe(e,tNe,r)}var aNe=nNe,iNe=aNe;function sNe(e,t){var r=e==null?0:e.length;return!!r&&iNe(e,t,0)>-1}var oNe=sNe;function lNe(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var cNe=lNe;function uNe(){}var fNe=uNe,dA=OH,dNe=fNe,hNe=YC,pNe=1/0,mNe=dA&&1/hNe(new dA([,-0]))[1]==pNe?function(e){return new dA(e)}:dNe,gNe=mNe,vNe=wH,yNe=oNe,xNe=cNe,bNe=SH,wNe=gNe,_Ne=YC,SNe=200;function ANe(e,t,r){var n=-1,a=yNe,i=e.length,s=!0,o=[],l=o;if(r)s=!1,a=xNe;else if(i>=SNe){var c=t?null:wNe(e);if(c)return _Ne(c);s=!1,a=bNe,l=new vNe}else l=t?[]:o;e:for(;++n<i;){var u=e[n],f=t?t(u):u;if(u=r||u!==0?u:0,s&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;t&&l.push(f),o.push(u)}else a(l,f,r)||(l!==o&&l.push(f),o.push(u))}return o}var ENe=ANe,TNe=ed,NNe=ENe;function kNe(e,t){return e&&e.length?NNe(e,TNe(t)):[]}var CNe=kNe;const RL=On(CNe);function RH(e,t,r){return t===!0?RL(e,r):Vr(t)?RL(e,t):e}function Np(e){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Np(e)}var PNe=["ref"];function FL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FL(Object(r),!0).forEach(function(n){a_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ONe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $L(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$H(n.key),n)}}function INe(e,t,r){return t&&$L(e.prototype,t),r&&$L(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function jNe(e,t,r){return t=Jb(t),DNe(e,FH()?Reflect.construct(t,r||[],Jb(e).constructor):t.apply(e,r))}function DNe(e,t){if(t&&(Np(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LNe(e)}function LNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FH=function(){return!!e})()}function Jb(e){return Jb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jb(e)}function MNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hT(e,t)}function hT(e,t){return hT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hT(e,t)}function a_(e,t,r){return t=$H(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $H(e){var t=RNe(e,"string");return Np(t)=="symbol"?t:t+""}function RNe(e,t){if(Np(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FNe(e,t){if(e==null)return{};var r=$Ne(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $Ne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function BNe(e){return e.value}function UNe(e,t){if(Re.isValidElement(e))return Re.cloneElement(e,t);if(typeof e=="function")return Re.createElement(e,t);t.ref;var r=FNe(t,PNe);return Re.createElement(KC,r)}var BL=1,_l=function(e){function t(){var r;ONe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=jNe(this,t,[].concat(a)),a_(r,"lastBoundingBox",{width:-1,height:-1}),r}return MNe(t,e),INe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>BL||Math.abs(a.height-this.lastBoundingBox.height)>BL)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Sc({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,s=a.align,o=a.verticalAlign,l=a.margin,c=a.chartWidth,u=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((c||0)-p.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var g=this.getBBoxSnapshot();h={top:((u||0)-g.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Sc(Sc({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,s=a.width,o=a.height,l=a.wrapperStyle,c=a.payloadUniqBy,u=a.payload,f=Sc(Sc({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return Re.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},UNe(i,Sc(Sc({},this.props),{},{payload:RH(u,c,BNe)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Sc(Sc({},this.defaultProps),n.props),s=i.layout;return s==="vertical"&&$t(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||a}:null}}])}(F.PureComponent);a_(_l,"displayName","Legend");a_(_l,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var UL=vy,VNe=XC,zNe=Fs,VL=UL?UL.isConcatSpreadable:void 0;function qNe(e){return zNe(e)||VNe(e)||!!(VL&&e&&e[VL])}var WNe=qNe,HNe=EH,GNe=WNe;function BH(e,t,r,n,a){var i=-1,s=e.length;for(r||(r=GNe),a||(a=[]);++i<s;){var o=e[i];t>0&&r(o)?t>1?BH(o,t-1,r,n,a):HNe(a,o):n||(a[a.length]=o)}return a}var UH=BH;function KNe(e){return function(t,r,n){for(var a=-1,i=Object(t),s=n(t),o=s.length;o--;){var l=s[e?o:++a];if(r(i[l],l,i)===!1)break}return t}}var YNe=KNe,XNe=YNe,QNe=XNe(),JNe=QNe,ZNe=JNe,eke=n_;function tke(e,t){return e&&ZNe(e,t,eke)}var VH=tke,rke=by;function nke(e,t){return function(r,n){if(r==null)return r;if(!rke(r))return e(r,n);for(var a=r.length,i=t?a:-1,s=Object(r);(t?i--:++i<a)&&n(s[i],i,s)!==!1;);return r}}var ake=nke,ike=VH,ske=ake,oke=ske(ike),eP=oke,lke=eP,cke=by;function uke(e,t){var r=-1,n=cke(e)?Array(e.length):[];return lke(e,function(a,i,s){n[++r]=t(a,i,s)}),n}var zH=uke;function fke(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var dke=fke,zL=dm;function hke(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=zL(e),s=t!==void 0,o=t===null,l=t===t,c=zL(t);if(!o&&!c&&!i&&e>t||i&&s&&l&&!o&&!c||n&&s&&l||!r&&l||!a)return 1;if(!n&&!i&&!c&&e<t||c&&r&&a&&!n&&!i||o&&r&&a||!s&&a||!l)return-1}return 0}var pke=hke,mke=pke;function gke(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,s=a.length,o=r.length;++n<s;){var l=mke(a[n],i[n]);if(l){if(n>=o)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return e.index-t.index}var vke=gke,hA=FC,yke=$C,xke=ed,bke=zH,wke=dke,_ke=kH,Ske=vke,Ake=xm,Eke=Fs;function Tke(e,t,r){t.length?t=hA(t,function(i){return Eke(i)?function(s){return yke(s,i.length===1?i[0]:i)}:i}):t=[Ake];var n=-1;t=hA(t,_ke(xke));var a=bke(e,function(i,s,o){var l=hA(t,function(c){return c(i)});return{criteria:l,index:++n,value:i}});return wke(a,function(i,s){return Ske(i,s,r)})}var Nke=Tke;function kke(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Cke=kke,Pke=Cke,qL=Math.max;function Oke(e,t,r){return t=qL(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=qL(n.length-t,0),s=Array(i);++a<i;)s[a]=n[t+a];a=-1;for(var o=Array(t+1);++a<t;)o[a]=n[a];return o[t]=r(s),Pke(e,this,o)}}var Ike=Oke;function jke(e){return function(){return e}}var Dke=jke,Lke=Ph,Mke=function(){try{var e=Lke(Object,"defineProperty");return e({},"",{}),e}catch{}}(),qH=Mke,Rke=Dke,WL=qH,Fke=xm,$ke=WL?function(e,t){return WL(e,"toString",{configurable:!0,enumerable:!1,value:Rke(t),writable:!0})}:Fke,Bke=$ke,Uke=800,Vke=16,zke=Date.now;function qke(e){var t=0,r=0;return function(){var n=zke(),a=Vke-(n-r);if(r=n,a>0){if(++t>=Uke)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Wke=qke,Hke=Bke,Gke=Wke,Kke=Gke(Hke),Yke=Kke,Xke=xm,Qke=Ike,Jke=Yke;function Zke(e,t){return Jke(Qke(e,t,Xke),e+"")}var eCe=Zke,tCe=DC,rCe=by,nCe=QC,aCe=Zf;function iCe(e,t,r){if(!aCe(r))return!1;var n=typeof t;return(n=="number"?rCe(r)&&nCe(t,r.length):n=="string"&&t in r)?tCe(r[t],e):!1}var i_=iCe,sCe=UH,oCe=Nke,lCe=eCe,HL=i_,cCe=lCe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&HL(e,t[0],t[1])?t=[]:r>2&&HL(t[0],t[1],t[2])&&(t=[t[0]]),oCe(e,sCe(t,1),[])}),uCe=cCe;const tP=On(uCe);function c1(e){"@babel/helpers - typeof";return c1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c1(e)}function pT(){return pT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pT.apply(this,arguments)}function fCe(e,t){return mCe(e)||pCe(e,t)||hCe(e,t)||dCe()}function dCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hCe(e,t){if(e){if(typeof e=="string")return GL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GL(e,t)}}function GL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function mCe(e){if(Array.isArray(e))return e}function KL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KL(Object(r),!0).forEach(function(n){gCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gCe(e,t,r){return t=vCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vCe(e){var t=yCe(e,"string");return c1(t)=="symbol"?t:t+""}function yCe(e,t){if(c1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(c1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xCe(e){return Array.isArray(e)&&qa(e[0])&&qa(e[1])?e.join(" ~ "):e}var bCe=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,s=t.itemStyle,o=s===void 0?{}:s,l=t.labelStyle,c=l===void 0?{}:l,u=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,g=t.labelClassName,m=t.label,y=t.labelFormatter,v=t.accessibilityLayer,b=v===void 0?!1:v,w=function(){if(u&&u.length){var N={padding:0,margin:0},O=(h?tP(u,h):u).map(function(U,Y){if(U.type==="none")return null;var K=pA({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},o),J=U.formatter||f||xCe,q=U.value,V=U.name,ee=q,Z=V;if(J&&ee!=null&&Z!=null){var k=J(q,V,U,Y,u);if(Array.isArray(k)){var R=fCe(k,2);ee=R[0],Z=R[1]}else ee=k}return Re.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Y),style:K},qa(Z)?Re.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,qa(Z)?Re.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Re.createElement("span",{className:"recharts-tooltip-item-value"},ee),Re.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return Re.createElement("ul",{className:"recharts-tooltip-item-list",style:N},O)}return null},D=pA({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),P=pA({margin:0},c),j=!Jr(m),E=j?m:"",_=pn("recharts-default-tooltip",p),S=pn("recharts-tooltip-label",g);j&&y&&u!==void 0&&u!==null&&(E=y(m,u));var I=b?{role:"status","aria-live":"assertive"}:{};return Re.createElement("div",pT({className:_,style:D},I),Re.createElement("p",{className:S,style:P},Re.isValidElement(E)?E:"".concat(E)),w())};function u1(e){"@babel/helpers - typeof";return u1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u1(e)}function Rx(e,t,r){return t=wCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wCe(e){var t=_Ce(e,"string");return u1(t)=="symbol"?t:t+""}function _Ce(e,t){if(u1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(u1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eg="recharts-tooltip-wrapper",SCe={visibility:"hidden"};function ACe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return pn(eg,Rx(Rx(Rx(Rx({},"".concat(eg,"-right"),$t(r)&&t&&$t(t.x)&&r>=t.x),"".concat(eg,"-left"),$t(r)&&t&&$t(t.x)&&r<t.x),"".concat(eg,"-bottom"),$t(n)&&t&&$t(t.y)&&n>=t.y),"".concat(eg,"-top"),$t(n)&&t&&$t(t.y)&&n<t.y))}function YL(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,s=e.reverseDirection,o=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(i&&$t(i[n]))return i[n];var u=r[n]-o-a,f=r[n]+a;if(t[n])return s[n]?u:f;if(s[n]){var h=u,p=l[n];return h<p?Math.max(f,l[n]):Math.max(u,l[n])}var g=f+o,m=l[n]+c;return g>m?Math.max(u,l[n]):Math.max(f,l[n])}function ECe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function TCe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,s=e.tooltipBox,o=e.useTranslate3d,l=e.viewBox,c,u,f;return s.height>0&&s.width>0&&r?(u=YL({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=YL({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=ECe({translateX:u,translateY:f,useTranslate3d:o})):c=SCe,{cssProperties:c,cssClasses:ACe({translateX:u,translateY:f,coordinate:r})}}function kp(e){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kp(e)}function XL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function QL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XL(Object(r),!0).forEach(function(n){gT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kCe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HH(n.key),n)}}function CCe(e,t,r){return t&&kCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function PCe(e,t,r){return t=Zb(t),OCe(e,WH()?Reflect.construct(t,r||[],Zb(e).constructor):t.apply(e,r))}function OCe(e,t){if(t&&(kp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ICe(e)}function ICe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WH=function(){return!!e})()}function Zb(e){return Zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zb(e)}function jCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mT(e,t)}function mT(e,t){return mT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},mT(e,t)}function gT(e,t,r){return t=HH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HH(e){var t=DCe(e,"string");return kp(t)=="symbol"?t:t+""}function DCe(e,t){if(kp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JL=1,LCe=function(e){function t(){var r;NCe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=PCe(this,t,[].concat(a)),gT(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),gT(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,c,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),r}return jCe(t,e),CCe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>JL||Math.abs(n.height-this.state.lastBoundingBox.height)>JL)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,l=a.animationEasing,c=a.children,u=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,p=a.offset,g=a.position,m=a.reverseDirection,y=a.useTranslate3d,v=a.viewBox,b=a.wrapperStyle,w=TCe({allowEscapeViewBox:s,coordinate:u,offsetTopLeft:p,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:v}),D=w.cssClasses,P=w.cssProperties,j=QL(QL({transition:h&&i?"transform ".concat(o,"ms ").concat(l):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return Re.createElement("div",{tabIndex:-1,className:D,style:j,ref:function(_){n.wrapperNode=_}},c)}}])}(F.PureComponent),MCe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Uc={isSsr:MCe(),get:function(t){return Uc[t]},set:function(t,r){if(typeof t=="string")Uc[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){Uc[a]=t[a]})}}};function Cp(e){"@babel/helpers - typeof";return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cp(e)}function ZL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZL(Object(r),!0).forEach(function(n){rP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FCe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KH(n.key),n)}}function $Ce(e,t,r){return t&&FCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function BCe(e,t,r){return t=ew(t),UCe(e,GH()?Reflect.construct(t,r||[],ew(e).constructor):t.apply(e,r))}function UCe(e,t){if(t&&(Cp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VCe(e)}function VCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GH=function(){return!!e})()}function ew(e){return ew=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ew(e)}function zCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vT(e,t)}function vT(e,t){return vT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},vT(e,t)}function rP(e,t,r){return t=KH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KH(e){var t=qCe(e,"string");return Cp(t)=="symbol"?t:t+""}function qCe(e,t){if(Cp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WCe(e){return e.dataKey}function HCe(e,t){return Re.isValidElement(e)?Re.cloneElement(e,t):typeof e=="function"?Re.createElement(e,t):Re.createElement(bCe,t)}var ks=function(e){function t(){return RCe(this,t),BCe(this,t,arguments)}return zCe(t,e),$Ce(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,l=a.animationEasing,c=a.content,u=a.coordinate,f=a.filterNull,h=a.isAnimationActive,p=a.offset,g=a.payload,m=a.payloadUniqBy,y=a.position,v=a.reverseDirection,b=a.useTranslate3d,w=a.viewBox,D=a.wrapperStyle,P=g??[];f&&P.length&&(P=RH(g.filter(function(E){return E.value!=null&&(E.hide!==!0||n.props.includeHidden)}),m,WCe));var j=P.length>0;return Re.createElement(LCe,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:h,active:i,coordinate:u,hasPayload:j,offset:p,position:y,reverseDirection:v,useTranslate3d:b,viewBox:w,wrapperStyle:D},HCe(c,eM(eM({},this.props),{},{payload:P})))}}])}(F.PureComponent);rP(ks,"displayName","Tooltip");rP(ks,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Uc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var GCe=uc,KCe=function(){return GCe.Date.now()},YCe=KCe,XCe=/\s/;function QCe(e){for(var t=e.length;t--&&XCe.test(e.charAt(t)););return t}var JCe=QCe,ZCe=JCe,ePe=/^\s+/;function tPe(e){return e&&e.slice(0,ZCe(e)+1).replace(ePe,"")}var rPe=tPe,nPe=rPe,tM=Zf,aPe=dm,rM=NaN,iPe=/^[-+]0x[0-9a-f]+$/i,sPe=/^0b[01]+$/i,oPe=/^0o[0-7]+$/i,lPe=parseInt;function cPe(e){if(typeof e=="number")return e;if(aPe(e))return rM;if(tM(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=tM(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=nPe(e);var r=sPe.test(e);return r||oPe.test(e)?lPe(e.slice(2),r?2:8):iPe.test(e)?rM:+e}var YH=cPe,uPe=Zf,mA=YCe,nM=YH,fPe="Expected a function",dPe=Math.max,hPe=Math.min;function pPe(e,t,r){var n,a,i,s,o,l,c=0,u=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(fPe);t=nM(t)||0,uPe(r)&&(u=!!r.leading,f="maxWait"in r,i=f?dPe(nM(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(j){var E=n,_=a;return n=a=void 0,c=j,s=e.apply(_,E),s}function g(j){return c=j,o=setTimeout(v,t),u?p(j):s}function m(j){var E=j-l,_=j-c,S=t-E;return f?hPe(S,i-_):S}function y(j){var E=j-l,_=j-c;return l===void 0||E>=t||E<0||f&&_>=i}function v(){var j=mA();if(y(j))return b(j);o=setTimeout(v,m(j))}function b(j){return o=void 0,h&&n?p(j):(n=a=void 0,s)}function w(){o!==void 0&&clearTimeout(o),c=0,n=l=a=o=void 0}function D(){return o===void 0?s:b(mA())}function P(){var j=mA(),E=y(j);if(n=arguments,a=this,l=j,E){if(o===void 0)return g(l);if(f)return clearTimeout(o),o=setTimeout(v,t),p(l)}return o===void 0&&(o=setTimeout(v,t)),s}return P.cancel=w,P.flush=D,P}var mPe=pPe,gPe=mPe,vPe=Zf,yPe="Expected a function";function xPe(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(yPe);return vPe(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),gPe(e,t,{leading:n,maxWait:t,trailing:a})}var bPe=xPe;const XH=On(bPe);function f1(e){"@babel/helpers - typeof";return f1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f1(e)}function aM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aM(Object(r),!0).forEach(function(n){wPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wPe(e,t,r){return t=_Pe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Pe(e){var t=SPe(e,"string");return f1(t)=="symbol"?t:t+""}function SPe(e,t){if(f1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(f1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function APe(e,t){return kPe(e)||NPe(e,t)||TPe(e,t)||EPe()}function EPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TPe(e,t){if(e){if(typeof e=="string")return iM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iM(e,t)}}function iM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function NPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function kPe(e){if(Array.isArray(e))return e}var nv=F.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,s=i===void 0?"100%":i,o=e.height,l=o===void 0?"100%":o,c=e.minWidth,u=c===void 0?0:c,f=e.minHeight,h=e.maxHeight,p=e.children,g=e.debounce,m=g===void 0?0:g,y=e.id,v=e.className,b=e.onResize,w=e.style,D=w===void 0?{}:w,P=F.useRef(null),j=F.useRef();j.current=b,F.useImperativeHandle(t,function(){return Object.defineProperty(P.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),P.current},configurable:!0})});var E=F.useState({containerWidth:a.width,containerHeight:a.height}),_=APe(E,2),S=_[0],I=_[1],T=F.useCallback(function(O,U){I(function(Y){var K=Math.round(O),J=Math.round(U);return Y.containerWidth===K&&Y.containerHeight===J?Y:{containerWidth:K,containerHeight:J}})},[]);F.useEffect(function(){var O=function(V){var ee,Z=V[0].contentRect,k=Z.width,R=Z.height;T(k,R),(ee=j.current)===null||ee===void 0||ee.call(j,k,R)};m>0&&(O=XH(O,m,{trailing:!0,leading:!1}));var U=new ResizeObserver(O),Y=P.current.getBoundingClientRect(),K=Y.width,J=Y.height;return T(K,J),U.observe(P.current),function(){U.disconnect()}},[T,m]);var N=F.useMemo(function(){var O=S.containerWidth,U=S.containerHeight;if(O<0||U<0)return null;Bc(Fd(s)||Fd(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),Bc(!r||r>0,"The aspect(%s) must be greater than zero.",r);var Y=Fd(s)?O:s,K=Fd(l)?U:l;r&&r>0&&(Y?K=Y/r:K&&(Y=K*r),h&&K>h&&(K=h)),Bc(Y>0||K>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Y,K,s,l,u,f,r);var J=!Array.isArray(p)&&$c(p.type).endsWith("Chart");return Re.Children.map(p,function(q){return Re.isValidElement(q)?F.cloneElement(q,Fx({width:Y,height:K},J?{style:Fx({height:"100%",width:"100%",maxHeight:K,maxWidth:Y},q.props.style)}:{})):q})},[r,p,l,h,f,u,S,s]);return Re.createElement("div",{id:y?"".concat(y):void 0,className:pn("recharts-responsive-container",v),style:Fx(Fx({},D),{},{width:s,height:l,minWidth:u,minHeight:f,maxHeight:h}),ref:P},N)}),QH=function(t){return null};QH.displayName="Cell";function d1(e){"@babel/helpers - typeof";return d1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d1(e)}function sM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sM(Object(r),!0).forEach(function(n){CPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CPe(e,t,r){return t=PPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PPe(e){var t=OPe(e,"string");return d1(t)=="symbol"?t:t+""}function OPe(e,t){if(d1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(d1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var i0={widthCache:{},cacheCount:0},IPe=2e3,jPe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},oM="recharts_measurement_span";function DPe(e){var t=yT({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var av=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Uc.isSsr)return{width:0,height:0};var n=DPe(r),a=JSON.stringify({text:t,copyStyle:n});if(i0.widthCache[a])return i0.widthCache[a];try{var i=document.getElementById(oM);i||(i=document.createElement("span"),i.setAttribute("id",oM),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=yT(yT({},jPe),n);Object.assign(i.style,s),i.textContent="".concat(t);var o=i.getBoundingClientRect(),l={width:o.width,height:o.height};return i0.widthCache[a]=l,++i0.cacheCount>IPe&&(i0.cacheCount=0,i0.widthCache={}),l}catch{return{width:0,height:0}}},LPe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function h1(e){"@babel/helpers - typeof";return h1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h1(e)}function tw(e,t){return $Pe(e)||FPe(e,t)||RPe(e,t)||MPe()}function MPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RPe(e,t){if(e){if(typeof e=="string")return lM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lM(e,t)}}function lM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function FPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function $Pe(e){if(Array.isArray(e))return e}function BPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VPe(n.key),n)}}function UPe(e,t,r){return t&&cM(e.prototype,t),r&&cM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function VPe(e){var t=zPe(e,"string");return h1(t)=="symbol"?t:t+""}function zPe(e,t){if(h1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(h1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var uM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,fM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,qPe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,WPe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,JH={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},HPe=Object.keys(JH),L0="NaN";function GPe(e,t){return e*JH[t]}var $x=function(){function e(t,r){BPe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!qPe.test(r)&&(this.num=NaN,this.unit=""),HPe.includes(r)&&(this.num=GPe(t,r),this.unit="px")}return UPe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=WPe.exec(r))!==null&&n!==void 0?n:[],i=tw(a,3),s=i[1],o=i[2];return new e(parseFloat(s),o??"")}}])}();function ZH(e){if(e.includes(L0))return L0;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=uM.exec(t))!==null&&r!==void 0?r:[],a=tw(n,4),i=a[1],s=a[2],o=a[3],l=$x.parse(i??""),c=$x.parse(o??""),u=s==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return L0;t=t.replace(uM,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=fM.exec(t))!==null&&f!==void 0?f:[],p=tw(h,4),g=p[1],m=p[2],y=p[3],v=$x.parse(g??""),b=$x.parse(y??""),w=m==="+"?v.add(b):v.subtract(b);if(w.isNaN())return L0;t=t.replace(fM,w.toString())}return t}var dM=/\(([^()]*)\)/;function KPe(e){for(var t=e;t.includes("(");){var r=dM.exec(t),n=tw(r,2),a=n[1];t=t.replace(dM,ZH(a))}return t}function YPe(e){var t=e.replace(/\s+/g,"");return t=KPe(t),t=ZH(t),t}function XPe(e){try{return YPe(e)}catch{return L0}}function gA(e){var t=XPe(e.slice(5,-1));return t===L0?"":t}var QPe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],JPe=["dx","dy","angle","className","breakAll"];function xT(){return xT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xT.apply(this,arguments)}function hM(e,t){if(e==null)return{};var r=ZPe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ZPe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function pM(e,t){return n6e(e)||r6e(e,t)||t6e(e,t)||e6e()}function e6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t6e(e,t){if(e){if(typeof e=="string")return mM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mM(e,t)}}function mM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function r6e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function n6e(e){if(Array.isArray(e))return e}var eG=/[ \f\n\r\t\v\u2028\u2029]+/,tG=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];Jr(r)||(n?i=r.toString().split(""):i=r.toString().split(eG));var s=i.map(function(l){return{word:l,width:av(l,a).width}}),o=n?0:av(" ",a).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},a6e=function(t,r,n,a,i){var s=t.maxLines,o=t.children,l=t.style,c=t.breakAll,u=$t(s),f=o,h=function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Y.reduce(function(K,J){var q=J.word,V=J.width,ee=K[K.length-1];if(ee&&(a==null||i||ee.width+V+n<Number(a)))ee.words.push(q),ee.width+=V+n;else{var Z={words:[q],width:V};K.push(Z)}return K},[])},p=h(r),g=function(Y){return Y.reduce(function(K,J){return K.width>J.width?K:J})};if(!u)return p;for(var m="…",y=function(Y){var K=f.slice(0,Y),J=tG({breakAll:c,style:l,children:K+m}).wordsWithComputedWidth,q=h(J),V=q.length>s||g(q).width>Number(a);return[V,q]},v=0,b=f.length-1,w=0,D;v<=b&&w<=f.length-1;){var P=Math.floor((v+b)/2),j=P-1,E=y(j),_=pM(E,2),S=_[0],I=_[1],T=y(P),N=pM(T,1),O=N[0];if(!S&&!O&&(v=P+1),S&&O&&(b=P-1),!S&&O){D=I;break}w++}return D||p},gM=function(t){var r=Jr(t)?[]:t.toString().split(eG);return[{words:r}]},i6e=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,s=t.breakAll,o=t.maxLines;if((r||n)&&!Uc.isSsr){var l,c,u=tG({breakAll:s,children:a,style:i});if(u){var f=u.wordsWithComputedWidth,h=u.spaceWidth;l=f,c=h}else return gM(a);return a6e({breakAll:s,children:a,maxLines:o,style:i},l,c,r,n)}return gM(a)},vM="#808080",rw=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.lineHeight,o=s===void 0?"1em":s,l=t.capHeight,c=l===void 0?"0.71em":l,u=t.scaleToFit,f=u===void 0?!1:u,h=t.textAnchor,p=h===void 0?"start":h,g=t.verticalAnchor,m=g===void 0?"end":g,y=t.fill,v=y===void 0?vM:y,b=hM(t,QPe),w=F.useMemo(function(){return i6e({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),D=b.dx,P=b.dy,j=b.angle,E=b.className,_=b.breakAll,S=hM(b,JPe);if(!qa(n)||!qa(i))return null;var I=n+($t(D)?D:0),T=i+($t(P)?P:0),N;switch(m){case"start":N=gA("calc(".concat(c,")"));break;case"middle":N=gA("calc(".concat((w.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:N=gA("calc(".concat(w.length-1," * -").concat(o,")"));break}var O=[];if(f){var U=w[0].width,Y=b.width;O.push("scale(".concat(($t(Y)?Y/U:1)/U,")"))}return j&&O.push("rotate(".concat(j,", ").concat(I,", ").concat(T,")")),O.length&&(S.transform=O.join(" ")),Re.createElement("text",xT({},en(S,!0),{x:I,y:T,className:pn("recharts-text",E),textAnchor:p,fill:v.includes("url")?vM:v}),w.map(function(K,J){var q=K.words.join(_?"":" ");return Re.createElement("tspan",{x:I,dy:J===0?N:o,key:"".concat(q,"-").concat(J)},q)}))};function Cf(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function s6e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function nP(e){let t,r,n;e.length!==2?(t=Cf,r=(o,l)=>Cf(e(o),l),n=(o,l)=>e(o)-l):(t=e===Cf||e===s6e?e:o6e,r=e,n=e);function a(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<0?c=f+1:u=f}while(c<u)}return c}function i(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function s(o,l,c=0,u=o.length){const f=a(o,l,c,u-1);return f>c&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:a,center:s,right:i}}function o6e(){return 0}function rG(e){return e===null?NaN:+e}function*l6e(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const c6e=nP(Cf),wy=c6e.right;nP(rG).center;class yM extends Map{constructor(t,r=d6e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(xM(this,t))}has(t){return super.has(xM(this,t))}set(t,r){return super.set(u6e(this,t),r)}delete(t){return super.delete(f6e(this,t))}}function xM({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function u6e({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function f6e({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function d6e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function h6e(e=Cf){if(e===Cf)return nG;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function nG(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const p6e=Math.sqrt(50),m6e=Math.sqrt(10),g6e=Math.sqrt(2);function nw(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=p6e?10:i>=m6e?5:i>=g6e?2:1;let o,l,c;return a<0?(c=Math.pow(10,-a)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=r&&r<2?nw(e,t,r*2):[o,l,c]}function bT(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?nw(t,e,r):nw(e,t,r);if(!(i>=a))return[];const o=i-a+1,l=new Array(o);if(n)if(s<0)for(let c=0;c<o;++c)l[c]=(i-c)/-s;else for(let c=0;c<o;++c)l[c]=(i-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(a+c)/-s;else for(let c=0;c<o;++c)l[c]=(a+c)*s;return l}function wT(e,t,r){return t=+t,e=+e,r=+r,nw(e,t,r)[2]}function _T(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?wT(t,e,r):wT(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function bM(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function wM(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function aG(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?nG:h6e(a);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,u=Math.log(l),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(t-c*f/l+h)),g=Math.min(n,Math.floor(t+(l-c)*f/l+h));aG(e,t,p,g,a)}const i=e[t];let s=r,o=n;for(tg(e,r,t),a(e[n],i)>0&&tg(e,r,n);s<o;){for(tg(e,s,o),++s,--o;a(e[s],i)<0;)++s;for(;a(e[o],i)>0;)--o}a(e[r],i)===0?tg(e,r,o):(++o,tg(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function tg(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function v6e(e,t,r){if(e=Float64Array.from(l6e(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return wM(e);if(t>=1)return bM(e);var n,a=(n-1)*t,i=Math.floor(a),s=bM(aG(e,i).subarray(0,i+1)),o=wM(e.subarray(i+1));return s+(o-s)*(a-i)}}function y6e(e,t,r=rG){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),o=+r(e[i+1],i+1,e);return s+(o-s)*(a-i)}}function x6e(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function zo(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function pu(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const ST=Symbol("implicit");function aP(){var e=new yM,t=[],r=[],n=ST;function a(i){let s=e.get(i);if(s===void 0){if(n!==ST)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new yM;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return aP(t,r).unknown(n)},zo.apply(a,arguments),a}function p1(){var e=aP().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,o=!1,l=0,c=0,u=.5;delete e.unknown;function f(){var h=t().length,p=a<n,g=p?a:n,m=p?n:a;i=(m-g)/Math.max(1,h-l+c*2),o&&(i=Math.floor(i)),g+=(m-g-i*(h-l))*u,s=i*(1-l),o&&(g=Math.round(g),s=Math.round(s));var y=x6e(h).map(function(v){return g+i*v});return r(p?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},e.copy=function(){return p1(t(),[n,a]).round(o).paddingInner(l).paddingOuter(c).align(u)},zo.apply(f(),arguments)}function iG(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return iG(t())},e}function iv(){return iG(p1.apply(null,arguments).paddingInner(1))}function iP(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function sG(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function _y(){}var m1=.7,aw=1/m1,Q0="\\s*([+-]?\\d+)\\s*",g1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",rc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",b6e=/^#([0-9a-f]{3,8})$/,w6e=new RegExp(`^rgb\\(${Q0},${Q0},${Q0}\\)$`),_6e=new RegExp(`^rgb\\(${rc},${rc},${rc}\\)$`),S6e=new RegExp(`^rgba\\(${Q0},${Q0},${Q0},${g1}\\)$`),A6e=new RegExp(`^rgba\\(${rc},${rc},${rc},${g1}\\)$`),E6e=new RegExp(`^hsl\\(${g1},${rc},${rc}\\)$`),T6e=new RegExp(`^hsla\\(${g1},${rc},${rc},${g1}\\)$`),_M={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};iP(_y,v1,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:SM,formatHex:SM,formatHex8:N6e,formatHsl:k6e,formatRgb:AM,toString:AM});function SM(){return this.rgb().formatHex()}function N6e(){return this.rgb().formatHex8()}function k6e(){return oG(this).formatHsl()}function AM(){return this.rgb().formatRgb()}function v1(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=b6e.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?EM(t):r===3?new Ds(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Bx(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Bx(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=w6e.exec(e))?new Ds(t[1],t[2],t[3],1):(t=_6e.exec(e))?new Ds(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=S6e.exec(e))?Bx(t[1],t[2],t[3],t[4]):(t=A6e.exec(e))?Bx(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=E6e.exec(e))?kM(t[1],t[2]/100,t[3]/100,1):(t=T6e.exec(e))?kM(t[1],t[2]/100,t[3]/100,t[4]):_M.hasOwnProperty(e)?EM(_M[e]):e==="transparent"?new Ds(NaN,NaN,NaN,0):null}function EM(e){return new Ds(e>>16&255,e>>8&255,e&255,1)}function Bx(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ds(e,t,r,n)}function C6e(e){return e instanceof _y||(e=v1(e)),e?(e=e.rgb(),new Ds(e.r,e.g,e.b,e.opacity)):new Ds}function AT(e,t,r,n){return arguments.length===1?C6e(e):new Ds(e,t,r,n??1)}function Ds(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}iP(Ds,AT,sG(_y,{brighter(e){return e=e==null?aw:Math.pow(aw,e),new Ds(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?m1:Math.pow(m1,e),new Ds(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ds(Yd(this.r),Yd(this.g),Yd(this.b),iw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:TM,formatHex:TM,formatHex8:P6e,formatRgb:NM,toString:NM}));function TM(){return`#${$d(this.r)}${$d(this.g)}${$d(this.b)}`}function P6e(){return`#${$d(this.r)}${$d(this.g)}${$d(this.b)}${$d((isNaN(this.opacity)?1:this.opacity)*255)}`}function NM(){const e=iw(this.opacity);return`${e===1?"rgb(":"rgba("}${Yd(this.r)}, ${Yd(this.g)}, ${Yd(this.b)}${e===1?")":`, ${e})`}`}function iw(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Yd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function $d(e){return e=Yd(e),(e<16?"0":"")+e.toString(16)}function kM(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new pl(e,t,r,n)}function oG(e){if(e instanceof pl)return new pl(e.h,e.s,e.l,e.opacity);if(e instanceof _y||(e=v1(e)),!e)return new pl;if(e instanceof pl)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,o=i-a,l=(i+a)/2;return o?(t===i?s=(r-n)/o+(r<n)*6:r===i?s=(n-t)/o+2:s=(t-r)/o+4,o/=l<.5?i+a:2-i-a,s*=60):o=l>0&&l<1?0:s,new pl(s,o,l,e.opacity)}function O6e(e,t,r,n){return arguments.length===1?oG(e):new pl(e,t,r,n??1)}function pl(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}iP(pl,O6e,sG(_y,{brighter(e){return e=e==null?aw:Math.pow(aw,e),new pl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?m1:Math.pow(m1,e),new pl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Ds(vA(e>=240?e-240:e+120,a,n),vA(e,a,n),vA(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new pl(CM(this.h),Ux(this.s),Ux(this.l),iw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=iw(this.opacity);return`${e===1?"hsl(":"hsla("}${CM(this.h)}, ${Ux(this.s)*100}%, ${Ux(this.l)*100}%${e===1?")":`, ${e})`}`}}));function CM(e){return e=(e||0)%360,e<0?e+360:e}function Ux(e){return Math.max(0,Math.min(1,e||0))}function vA(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const sP=e=>()=>e;function I6e(e,t){return function(r){return e+r*t}}function j6e(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function D6e(e){return(e=+e)==1?lG:function(t,r){return r-t?j6e(t,r,e):sP(isNaN(t)?r:t)}}function lG(e,t){var r=t-e;return r?I6e(e,r):sP(isNaN(e)?t:e)}const PM=function e(t){var r=D6e(t);function n(a,i){var s=r((a=AT(a)).r,(i=AT(i)).r),o=r(a.g,i.g),l=r(a.b,i.b),c=lG(a.opacity,i.opacity);return function(u){return a.r=s(u),a.g=o(u),a.b=l(u),a.opacity=c(u),a+""}}return n.gamma=e,n}(1);function L6e(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function M6e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function R6e(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=bm(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(o){for(s=0;s<n;++s)i[s]=a[s](o);return i}}function F6e(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function sw(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function $6e(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=bm(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var ET=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yA=new RegExp(ET.source,"g");function B6e(e){return function(){return e}}function U6e(e){return function(t){return e(t)+""}}function V6e(e,t){var r=ET.lastIndex=yA.lastIndex=0,n,a,i,s=-1,o=[],l=[];for(e=e+"",t=t+"";(n=ET.exec(e))&&(a=yA.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,l.push({i:s,x:sw(n,a)})),r=yA.lastIndex;return r<t.length&&(i=t.slice(r),o[s]?o[s]+=i:o[++s]=i),o.length<2?l[0]?U6e(l[0].x):B6e(t):(t=l.length,function(c){for(var u=0,f;u<t;++u)o[(f=l[u]).i]=f.x(c);return o.join("")})}function bm(e,t){var r=typeof t,n;return t==null||r==="boolean"?sP(t):(r==="number"?sw:r==="string"?(n=v1(t))?(t=n,PM):V6e:t instanceof v1?PM:t instanceof Date?F6e:M6e(t)?L6e:Array.isArray(t)?R6e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?$6e:sw)(e,t)}function oP(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function z6e(e,t){t===void 0&&(t=e,e=bm);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[o](s-o)}}function q6e(e){return function(){return e}}function ow(e){return+e}var OM=[0,1];function ps(e){return e}function TT(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:q6e(isNaN(t)?NaN:.5)}function W6e(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function H6e(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=TT(a,n),i=r(s,i)):(n=TT(n,a),i=r(i,s)),function(o){return i(n(o))}}function G6e(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=TT(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(o){var l=wy(e,o,1,n)-1;return i[l](a[l](o))}}function Sy(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function s_(){var e=OM,t=OM,r=bm,n,a,i,s=ps,o,l,c;function u(){var h=Math.min(e.length,t.length);return s!==ps&&(s=W6e(e[0],e[h-1])),o=h>2?G6e:H6e,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?i:(l||(l=o(e.map(n),t,r)))(n(s(h)))}return f.invert=function(h){return s(a((c||(c=o(t,e.map(n),sw)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,ow),u()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=oP,u()},f.clamp=function(h){return arguments.length?(s=h?!0:ps,u()):s!==ps},f.interpolate=function(h){return arguments.length?(r=h,u()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,a=p,u()}}function lP(){return s_()(ps,ps)}function K6e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function lw(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Pp(e){return e=lw(Math.abs(e)),e?e[1]:NaN}function Y6e(e,t){return function(r,n){for(var a=r.length,i=[],s=0,o=e[0],l=0;a>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),i.push(r.substring(a-=o,a+o)),!((l+=o+1)>n));)o=e[s=(s+1)%e.length];return i.reverse().join(t)}}function X6e(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Q6e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function y1(e){if(!(t=Q6e.exec(e)))throw new Error("invalid format: "+e);var t;return new cP({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}y1.prototype=cP.prototype;function cP(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}cP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function J6e(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var cG;function Z6e(e,t){var r=lw(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(cG=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+lw(e,Math.max(0,t+i-1))[0]}function IM(e,t){var r=lw(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const jM={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:K6e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>IM(e*100,t),r:IM,s:Z6e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function DM(e){return e}var LM=Array.prototype.map,MM=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function eOe(e){var t=e.grouping===void 0||e.thousands===void 0?DM:Y6e(LM.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?DM:X6e(LM.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=y1(f);var h=f.fill,p=f.align,g=f.sign,m=f.symbol,y=f.zero,v=f.width,b=f.comma,w=f.precision,D=f.trim,P=f.type;P==="n"?(b=!0,P="g"):jM[P]||(w===void 0&&(w=12),D=!0,P="g"),(y||h==="0"&&p==="=")&&(y=!0,h="0",p="=");var j=m==="$"?r:m==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",E=m==="$"?n:/[%p]/.test(P)?s:"",_=jM[P],S=/[defgprs%]/.test(P);w=w===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function I(T){var N=j,O=E,U,Y,K;if(P==="c")O=_(T)+O,T="";else{T=+T;var J=T<0||1/T<0;if(T=isNaN(T)?l:_(Math.abs(T),w),D&&(T=J6e(T)),J&&+T==0&&g!=="+"&&(J=!1),N=(J?g==="("?g:o:g==="-"||g==="("?"":g)+N,O=(P==="s"?MM[8+cG/3]:"")+O+(J&&g==="("?")":""),S){for(U=-1,Y=T.length;++U<Y;)if(K=T.charCodeAt(U),48>K||K>57){O=(K===46?a+T.slice(U+1):T.slice(U))+O,T=T.slice(0,U);break}}}b&&!y&&(T=t(T,1/0));var q=N.length+T.length+O.length,V=q<v?new Array(v-q+1).join(h):"";switch(b&&y&&(T=t(V+T,V.length?v-O.length:1/0),V=""),p){case"<":T=N+T+O+V;break;case"=":T=N+V+T+O;break;case"^":T=V.slice(0,q=V.length>>1)+N+T+O+V.slice(q);break;default:T=V+N+T+O;break}return i(T)}return I.toString=function(){return f+""},I}function u(f,h){var p=c((f=y1(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Pp(h)/3)))*3,m=Math.pow(10,-g),y=MM[8+g/3];return function(v){return p(m*v)+y}}return{format:c,formatPrefix:u}}var Vx,uP,uG;tOe({thousands:",",grouping:[3],currency:["$",""]});function tOe(e){return Vx=eOe(e),uP=Vx.format,uG=Vx.formatPrefix,Vx}function rOe(e){return Math.max(0,-Pp(Math.abs(e)))}function nOe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Pp(t)/3)))*3-Pp(Math.abs(e)))}function aOe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Pp(t)-Pp(e))+1}function fG(e,t,r,n){var a=_T(e,t,r),i;switch(n=y1(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=nOe(a,s))&&(n.precision=i),uG(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=aOe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=rOe(a))&&(n.precision=i-(n.type==="%")*2);break}}return uP(n)}function td(e){var t=e.domain;return e.ticks=function(r){var n=t();return bT(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return fG(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],o=n[i],l,c,u=10;for(o<s&&(c=s,s=o,o=c,c=a,a=i,i=c);u-- >0;){if(c=wT(s,o,r),c===l)return n[a]=s,n[i]=o,t(n);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return e},e}function cw(){var e=lP();return e.copy=function(){return Sy(e,cw())},zo.apply(e,arguments),td(e)}function dG(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,ow),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return dG(e).unknown(t)},e=arguments.length?Array.from(e,ow):[0,1],td(r)}function hG(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function RM(e){return Math.log(e)}function FM(e){return Math.exp(e)}function iOe(e){return-Math.log(-e)}function sOe(e){return-Math.exp(-e)}function oOe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function lOe(e){return e===10?oOe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function cOe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function $M(e){return(t,r)=>-e(-t,r)}function fP(e){const t=e(RM,FM),r=t.domain;let n=10,a,i;function s(){return a=cOe(n),i=lOe(n),r()[0]<0?(a=$M(a),i=$M(i),e(iOe,sOe)):e(RM,FM),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const l=r();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let h=a(c),p=a(u),g,m;const y=o==null?10:+o;let v=[];if(!(n%1)&&p-h<y){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(g=1;g<n;++g)if(m=h<0?g/i(-h):g*i(h),!(m<c)){if(m>u)break;v.push(m)}}else for(;h<=p;++h)for(g=n-1;g>=1;--g)if(m=h>0?g/i(-h):g*i(h),!(m<c)){if(m>u)break;v.push(m)}v.length*2<y&&(v=bT(c,u,y))}else v=bT(h,p,Math.min(p-h,y)).map(i);return f?v.reverse():v},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=y1(l)).precision==null&&(l.trim=!0),l=uP(l)),o===1/0)return l;const c=Math.max(1,n*o/t.ticks().length);return u=>{let f=u/i(Math.round(a(u)));return f*n<n-.5&&(f*=n),f<=c?l(u):""}},t.nice=()=>r(hG(r(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),t}function pG(){const e=fP(s_()).domain([1,10]);return e.copy=()=>Sy(e,pG()).base(e.base()),zo.apply(e,arguments),e}function BM(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function UM(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function dP(e){var t=1,r=e(BM(t),UM(t));return r.constant=function(n){return arguments.length?e(BM(t=+n),UM(t)):t},td(r)}function mG(){var e=dP(s_());return e.copy=function(){return Sy(e,mG()).constant(e.constant())},zo.apply(e,arguments)}function VM(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function uOe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function fOe(e){return e<0?-e*e:e*e}function hP(e){var t=e(ps,ps),r=1;function n(){return r===1?e(ps,ps):r===.5?e(uOe,fOe):e(VM(r),VM(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},td(t)}function pP(){var e=hP(s_());return e.copy=function(){return Sy(e,pP()).exponent(e.exponent())},zo.apply(e,arguments),e}function dOe(){return pP.apply(null,arguments).exponent(.5)}function zM(e){return Math.sign(e)*e*e}function hOe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function gG(){var e=lP(),t=[0,1],r=!1,n;function a(i){var s=hOe(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert(zM(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,ow)).map(zM)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return gG(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},zo.apply(a,arguments),td(a)}function vG(){var e=[],t=[],r=[],n;function a(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=y6e(e,s/o);return i}function i(s){return s==null||isNaN(s=+s)?n:t[wy(r,s)]}return i.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Cf),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return vG().domain(e).range(t).unknown(n)},zo.apply(i,arguments)}function yG(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(l){return l!=null&&l<=l?a[wy(n,l,0,r)]:i}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,o()):a.slice()},s.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},s.unknown=function(l){return arguments.length&&(i=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return yG().domain([e,t]).range(a).unknown(i)},zo.apply(td(s),arguments)}function xG(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[wy(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return xG().domain(e).range(t).unknown(r)},zo.apply(a,arguments)}const xA=new Date,bA=new Date;function Ga(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),o=a.ceil(i);return i-s<o-i?s:o},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,o)=>{const l=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return l;let c;do l.push(c=new Date(+i)),t(i,o),e(i);while(c<i&&i<s);return l},a.filter=i=>Ga(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!i(s););else for(;--o>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(xA.setTime(+i),bA.setTime(+s),e(xA),e(bA),Math.floor(r(xA,bA))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const uw=Ga(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);uw.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ga(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):uw);uw.range;const Ic=1e3,Oo=Ic*60,jc=Oo*60,ru=jc*24,mP=ru*7,qM=ru*30,wA=ru*365,Bd=Ga(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ic)},(e,t)=>(t-e)/Ic,e=>e.getUTCSeconds());Bd.range;const gP=Ga(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ic)},(e,t)=>{e.setTime(+e+t*Oo)},(e,t)=>(t-e)/Oo,e=>e.getMinutes());gP.range;const vP=Ga(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Oo)},(e,t)=>(t-e)/Oo,e=>e.getUTCMinutes());vP.range;const yP=Ga(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ic-e.getMinutes()*Oo)},(e,t)=>{e.setTime(+e+t*jc)},(e,t)=>(t-e)/jc,e=>e.getHours());yP.range;const xP=Ga(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*jc)},(e,t)=>(t-e)/jc,e=>e.getUTCHours());xP.range;const Ay=Ga(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Oo)/ru,e=>e.getDate()-1);Ay.range;const o_=Ga(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ru,e=>e.getUTCDate()-1);o_.range;const bG=Ga(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ru,e=>Math.floor(e/ru));bG.range;function Oh(e){return Ga(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Oo)/mP)}const l_=Oh(0),fw=Oh(1),pOe=Oh(2),mOe=Oh(3),Op=Oh(4),gOe=Oh(5),vOe=Oh(6);l_.range;fw.range;pOe.range;mOe.range;Op.range;gOe.range;vOe.range;function Ih(e){return Ga(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/mP)}const c_=Ih(0),dw=Ih(1),yOe=Ih(2),xOe=Ih(3),Ip=Ih(4),bOe=Ih(5),wOe=Ih(6);c_.range;dw.range;yOe.range;xOe.range;Ip.range;bOe.range;wOe.range;const bP=Ga(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());bP.range;const wP=Ga(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());wP.range;const nu=Ga(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());nu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ga(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});nu.range;const au=Ga(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());au.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ga(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});au.range;function wG(e,t,r,n,a,i){const s=[[Bd,1,Ic],[Bd,5,5*Ic],[Bd,15,15*Ic],[Bd,30,30*Ic],[i,1,Oo],[i,5,5*Oo],[i,15,15*Oo],[i,30,30*Oo],[a,1,jc],[a,3,3*jc],[a,6,6*jc],[a,12,12*jc],[n,1,ru],[n,2,2*ru],[r,1,mP],[t,1,qM],[t,3,3*qM],[e,1,wA]];function o(c,u,f){const h=u<c;h&&([c,u]=[u,c]);const p=f&&typeof f.range=="function"?f:l(c,u,f),g=p?p.range(c,+u+1):[];return h?g.reverse():g}function l(c,u,f){const h=Math.abs(u-c)/f,p=nP(([,,y])=>y).right(s,h);if(p===s.length)return e.every(_T(c/wA,u/wA,f));if(p===0)return uw.every(Math.max(_T(c,u,f),1));const[g,m]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return g.every(m)}return[o,l]}const[_Oe,SOe]=wG(au,wP,c_,bG,xP,vP),[AOe,EOe]=wG(nu,bP,l_,Ay,yP,gP);function _A(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function SA(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function rg(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function TOe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=ng(a),u=ag(a),f=ng(i),h=ag(i),p=ng(s),g=ag(s),m=ng(o),y=ag(o),v=ng(l),b=ag(l),w={a:J,A:q,b:V,B:ee,c:null,d:XM,e:XM,f:YOe,g:iIe,G:oIe,H:HOe,I:GOe,j:KOe,L:_G,m:XOe,M:QOe,p:Z,q:k,Q:ZM,s:eR,S:JOe,u:ZOe,U:eIe,V:tIe,w:rIe,W:nIe,x:null,X:null,y:aIe,Y:sIe,Z:lIe,"%":JM},D={a:R,A:z,b:G,B:Q,c:null,d:QM,e:QM,f:dIe,g:_Ie,G:AIe,H:cIe,I:uIe,j:fIe,L:AG,m:hIe,M:pIe,p:oe,q:ce,Q:ZM,s:eR,S:mIe,u:gIe,U:vIe,V:yIe,w:xIe,W:bIe,x:null,X:null,y:wIe,Y:SIe,Z:EIe,"%":JM},P={a:I,A:T,b:N,B:O,c:U,d:KM,e:KM,f:VOe,g:GM,G:HM,H:YM,I:YM,j:FOe,L:UOe,m:ROe,M:$Oe,p:S,q:MOe,Q:qOe,s:WOe,S:BOe,u:OOe,U:IOe,V:jOe,w:POe,W:DOe,x:Y,X:K,y:GM,Y:HM,Z:LOe,"%":zOe};w.x=j(r,w),w.X=j(n,w),w.c=j(t,w),D.x=j(r,D),D.X=j(n,D),D.c=j(t,D);function j(ne,he){return function(ye){var W=[],Ce=-1,ke=0,Ee=ne.length,ie,Fe,Ye;for(ye instanceof Date||(ye=new Date(+ye));++Ce<Ee;)ne.charCodeAt(Ce)===37&&(W.push(ne.slice(ke,Ce)),(Fe=WM[ie=ne.charAt(++Ce)])!=null?ie=ne.charAt(++Ce):Fe=ie==="e"?" ":"0",(Ye=he[ie])&&(ie=Ye(ye,Fe)),W.push(ie),ke=Ce+1);return W.push(ne.slice(ke,Ce)),W.join("")}}function E(ne,he){return function(ye){var W=rg(1900,void 0,1),Ce=_(W,ne,ye+="",0),ke,Ee;if(Ce!=ye.length)return null;if("Q"in W)return new Date(W.Q);if("s"in W)return new Date(W.s*1e3+("L"in W?W.L:0));if(he&&!("Z"in W)&&(W.Z=0),"p"in W&&(W.H=W.H%12+W.p*12),W.m===void 0&&(W.m="q"in W?W.q:0),"V"in W){if(W.V<1||W.V>53)return null;"w"in W||(W.w=1),"Z"in W?(ke=SA(rg(W.y,0,1)),Ee=ke.getUTCDay(),ke=Ee>4||Ee===0?dw.ceil(ke):dw(ke),ke=o_.offset(ke,(W.V-1)*7),W.y=ke.getUTCFullYear(),W.m=ke.getUTCMonth(),W.d=ke.getUTCDate()+(W.w+6)%7):(ke=_A(rg(W.y,0,1)),Ee=ke.getDay(),ke=Ee>4||Ee===0?fw.ceil(ke):fw(ke),ke=Ay.offset(ke,(W.V-1)*7),W.y=ke.getFullYear(),W.m=ke.getMonth(),W.d=ke.getDate()+(W.w+6)%7)}else("W"in W||"U"in W)&&("w"in W||(W.w="u"in W?W.u%7:"W"in W?1:0),Ee="Z"in W?SA(rg(W.y,0,1)).getUTCDay():_A(rg(W.y,0,1)).getDay(),W.m=0,W.d="W"in W?(W.w+6)%7+W.W*7-(Ee+5)%7:W.w+W.U*7-(Ee+6)%7);return"Z"in W?(W.H+=W.Z/100|0,W.M+=W.Z%100,SA(W)):_A(W)}}function _(ne,he,ye,W){for(var Ce=0,ke=he.length,Ee=ye.length,ie,Fe;Ce<ke;){if(W>=Ee)return-1;if(ie=he.charCodeAt(Ce++),ie===37){if(ie=he.charAt(Ce++),Fe=P[ie in WM?he.charAt(Ce++):ie],!Fe||(W=Fe(ne,ye,W))<0)return-1}else if(ie!=ye.charCodeAt(W++))return-1}return W}function S(ne,he,ye){var W=c.exec(he.slice(ye));return W?(ne.p=u.get(W[0].toLowerCase()),ye+W[0].length):-1}function I(ne,he,ye){var W=p.exec(he.slice(ye));return W?(ne.w=g.get(W[0].toLowerCase()),ye+W[0].length):-1}function T(ne,he,ye){var W=f.exec(he.slice(ye));return W?(ne.w=h.get(W[0].toLowerCase()),ye+W[0].length):-1}function N(ne,he,ye){var W=v.exec(he.slice(ye));return W?(ne.m=b.get(W[0].toLowerCase()),ye+W[0].length):-1}function O(ne,he,ye){var W=m.exec(he.slice(ye));return W?(ne.m=y.get(W[0].toLowerCase()),ye+W[0].length):-1}function U(ne,he,ye){return _(ne,t,he,ye)}function Y(ne,he,ye){return _(ne,r,he,ye)}function K(ne,he,ye){return _(ne,n,he,ye)}function J(ne){return s[ne.getDay()]}function q(ne){return i[ne.getDay()]}function V(ne){return l[ne.getMonth()]}function ee(ne){return o[ne.getMonth()]}function Z(ne){return a[+(ne.getHours()>=12)]}function k(ne){return 1+~~(ne.getMonth()/3)}function R(ne){return s[ne.getUTCDay()]}function z(ne){return i[ne.getUTCDay()]}function G(ne){return l[ne.getUTCMonth()]}function Q(ne){return o[ne.getUTCMonth()]}function oe(ne){return a[+(ne.getUTCHours()>=12)]}function ce(ne){return 1+~~(ne.getUTCMonth()/3)}return{format:function(ne){var he=j(ne+="",w);return he.toString=function(){return ne},he},parse:function(ne){var he=E(ne+="",!1);return he.toString=function(){return ne},he},utcFormat:function(ne){var he=j(ne+="",D);return he.toString=function(){return ne},he},utcParse:function(ne){var he=E(ne+="",!0);return he.toString=function(){return ne},he}}}var WM={"-":"",_:" ",0:"0"},oi=/^\s*\d+/,NOe=/^%/,kOe=/[\\^$*+?|[\]().{}]/g;function mn(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function COe(e){return e.replace(kOe,"\\$&")}function ng(e){return new RegExp("^(?:"+e.map(COe).join("|")+")","i")}function ag(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function POe(e,t,r){var n=oi.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function OOe(e,t,r){var n=oi.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function IOe(e,t,r){var n=oi.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function jOe(e,t,r){var n=oi.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function DOe(e,t,r){var n=oi.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function HM(e,t,r){var n=oi.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function GM(e,t,r){var n=oi.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function LOe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function MOe(e,t,r){var n=oi.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function ROe(e,t,r){var n=oi.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function KM(e,t,r){var n=oi.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function FOe(e,t,r){var n=oi.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function YM(e,t,r){var n=oi.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function $Oe(e,t,r){var n=oi.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function BOe(e,t,r){var n=oi.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function UOe(e,t,r){var n=oi.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function VOe(e,t,r){var n=oi.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function zOe(e,t,r){var n=NOe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function qOe(e,t,r){var n=oi.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function WOe(e,t,r){var n=oi.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function XM(e,t){return mn(e.getDate(),t,2)}function HOe(e,t){return mn(e.getHours(),t,2)}function GOe(e,t){return mn(e.getHours()%12||12,t,2)}function KOe(e,t){return mn(1+Ay.count(nu(e),e),t,3)}function _G(e,t){return mn(e.getMilliseconds(),t,3)}function YOe(e,t){return _G(e,t)+"000"}function XOe(e,t){return mn(e.getMonth()+1,t,2)}function QOe(e,t){return mn(e.getMinutes(),t,2)}function JOe(e,t){return mn(e.getSeconds(),t,2)}function ZOe(e){var t=e.getDay();return t===0?7:t}function eIe(e,t){return mn(l_.count(nu(e)-1,e),t,2)}function SG(e){var t=e.getDay();return t>=4||t===0?Op(e):Op.ceil(e)}function tIe(e,t){return e=SG(e),mn(Op.count(nu(e),e)+(nu(e).getDay()===4),t,2)}function rIe(e){return e.getDay()}function nIe(e,t){return mn(fw.count(nu(e)-1,e),t,2)}function aIe(e,t){return mn(e.getFullYear()%100,t,2)}function iIe(e,t){return e=SG(e),mn(e.getFullYear()%100,t,2)}function sIe(e,t){return mn(e.getFullYear()%1e4,t,4)}function oIe(e,t){var r=e.getDay();return e=r>=4||r===0?Op(e):Op.ceil(e),mn(e.getFullYear()%1e4,t,4)}function lIe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+mn(t/60|0,"0",2)+mn(t%60,"0",2)}function QM(e,t){return mn(e.getUTCDate(),t,2)}function cIe(e,t){return mn(e.getUTCHours(),t,2)}function uIe(e,t){return mn(e.getUTCHours()%12||12,t,2)}function fIe(e,t){return mn(1+o_.count(au(e),e),t,3)}function AG(e,t){return mn(e.getUTCMilliseconds(),t,3)}function dIe(e,t){return AG(e,t)+"000"}function hIe(e,t){return mn(e.getUTCMonth()+1,t,2)}function pIe(e,t){return mn(e.getUTCMinutes(),t,2)}function mIe(e,t){return mn(e.getUTCSeconds(),t,2)}function gIe(e){var t=e.getUTCDay();return t===0?7:t}function vIe(e,t){return mn(c_.count(au(e)-1,e),t,2)}function EG(e){var t=e.getUTCDay();return t>=4||t===0?Ip(e):Ip.ceil(e)}function yIe(e,t){return e=EG(e),mn(Ip.count(au(e),e)+(au(e).getUTCDay()===4),t,2)}function xIe(e){return e.getUTCDay()}function bIe(e,t){return mn(dw.count(au(e)-1,e),t,2)}function wIe(e,t){return mn(e.getUTCFullYear()%100,t,2)}function _Ie(e,t){return e=EG(e),mn(e.getUTCFullYear()%100,t,2)}function SIe(e,t){return mn(e.getUTCFullYear()%1e4,t,4)}function AIe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ip(e):Ip.ceil(e),mn(e.getUTCFullYear()%1e4,t,4)}function EIe(){return"+0000"}function JM(){return"%"}function ZM(e){return+e}function eR(e){return Math.floor(+e/1e3)}var s0,TG,NG;TIe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function TIe(e){return s0=TOe(e),TG=s0.format,s0.parse,NG=s0.utcFormat,s0.utcParse,s0}function NIe(e){return new Date(e)}function kIe(e){return e instanceof Date?+e:+new Date(+e)}function _P(e,t,r,n,a,i,s,o,l,c){var u=lP(),f=u.invert,h=u.domain,p=c(".%L"),g=c(":%S"),m=c("%I:%M"),y=c("%I %p"),v=c("%a %d"),b=c("%b %d"),w=c("%B"),D=c("%Y");function P(j){return(l(j)<j?p:o(j)<j?g:s(j)<j?m:i(j)<j?y:n(j)<j?a(j)<j?v:b:r(j)<j?w:D)(j)}return u.invert=function(j){return new Date(f(j))},u.domain=function(j){return arguments.length?h(Array.from(j,kIe)):h().map(NIe)},u.ticks=function(j){var E=h();return e(E[0],E[E.length-1],j??10)},u.tickFormat=function(j,E){return E==null?P:c(E)},u.nice=function(j){var E=h();return(!j||typeof j.range!="function")&&(j=t(E[0],E[E.length-1],j??10)),j?h(hG(E,j)):u},u.copy=function(){return Sy(u,_P(e,t,r,n,a,i,s,o,l,c))},u}function CIe(){return zo.apply(_P(AOe,EOe,nu,bP,l_,Ay,yP,gP,Bd,TG).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function PIe(){return zo.apply(_P(_Oe,SOe,au,wP,c_,o_,xP,vP,Bd,NG).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function u_(){var e=0,t=1,r,n,a,i,s=ps,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(a===0?.5:(f=(i(f)-r)*a,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(s=f,c):s};function u(f){return function(h){var p,g;return arguments.length?([p,g]=h,s=f(p,g),c):[s(0),s(1)]}}return c.range=u(bm),c.rangeRound=u(oP),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),c}}function rd(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function kG(){var e=td(u_()(ps));return e.copy=function(){return rd(e,kG())},pu.apply(e,arguments)}function CG(){var e=fP(u_()).domain([1,10]);return e.copy=function(){return rd(e,CG()).base(e.base())},pu.apply(e,arguments)}function PG(){var e=dP(u_());return e.copy=function(){return rd(e,PG()).constant(e.constant())},pu.apply(e,arguments)}function SP(){var e=hP(u_());return e.copy=function(){return rd(e,SP()).exponent(e.exponent())},pu.apply(e,arguments)}function OIe(){return SP.apply(null,arguments).exponent(.5)}function OG(){var e=[],t=ps;function r(n){if(n!=null&&!isNaN(n=+n))return t((wy(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Cf),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>v6e(e,i/n))},r.copy=function(){return OG(t).domain(e)},pu.apply(r,arguments)}function f_(){var e=0,t=.5,r=1,n=1,a,i,s,o,l,c=ps,u,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+u(m))-i)*(n*m<n*i?o:l),c(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,a=u(e=+e),i=u(t=+t),s=u(r=+r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(c=m,p):c};function g(m){return function(y){var v,b,w;return arguments.length?([v,b,w]=y,c=z6e(m,[v,b,w]),p):[c(0),c(.5),c(1)]}}return p.range=g(bm),p.rangeRound=g(oP),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return u=m,a=m(e),i=m(t),s=m(r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,p}}function IG(){var e=td(f_()(ps));return e.copy=function(){return rd(e,IG())},pu.apply(e,arguments)}function jG(){var e=fP(f_()).domain([.1,1,10]);return e.copy=function(){return rd(e,jG()).base(e.base())},pu.apply(e,arguments)}function DG(){var e=dP(f_());return e.copy=function(){return rd(e,DG()).constant(e.constant())},pu.apply(e,arguments)}function AP(){var e=hP(f_());return e.copy=function(){return rd(e,AP()).exponent(e.exponent())},pu.apply(e,arguments)}function IIe(){return AP.apply(null,arguments).exponent(.5)}const tR=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:p1,scaleDiverging:IG,scaleDivergingLog:jG,scaleDivergingPow:AP,scaleDivergingSqrt:IIe,scaleDivergingSymlog:DG,scaleIdentity:dG,scaleImplicit:ST,scaleLinear:cw,scaleLog:pG,scaleOrdinal:aP,scalePoint:iv,scalePow:pP,scaleQuantile:vG,scaleQuantize:yG,scaleRadial:gG,scaleSequential:kG,scaleSequentialLog:CG,scaleSequentialPow:SP,scaleSequentialQuantile:OG,scaleSequentialSqrt:OIe,scaleSequentialSymlog:PG,scaleSqrt:dOe,scaleSymlog:mG,scaleThreshold:xG,scaleTime:CIe,scaleUtc:PIe,tickFormat:fG},Symbol.toStringTag,{value:"Module"}));var jIe=dm;function DIe(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],s=t(i);if(s!=null&&(o===void 0?s===s&&!jIe(s):r(s,o)))var o=s,l=i}return l}var LG=DIe;function LIe(e,t){return e>t}var MIe=LIe,RIe=LG,FIe=MIe,$Ie=xm;function BIe(e){return e&&e.length?RIe(e,$Ie,FIe):void 0}var UIe=BIe;const d_=On(UIe);function VIe(e,t){return e<t}var zIe=VIe,qIe=LG,WIe=zIe,HIe=xm;function GIe(e){return e&&e.length?qIe(e,HIe,WIe):void 0}var KIe=GIe;const h_=On(KIe);var YIe=FC,XIe=ed,QIe=zH,JIe=Fs;function ZIe(e,t){var r=JIe(e)?YIe:QIe;return r(e,XIe(t))}var eje=ZIe,tje=UH,rje=eje;function nje(e,t){return tje(rje(e,t),1)}var aje=nje;const ije=On(aje);var sje=ZC;function oje(e,t){return sje(e,t)}var lje=oje;const p_=On(lje);var wm=1e9,cje={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},TP,Jn=!0,Bo="[DecimalError] ",Xd=Bo+"Invalid argument: ",EP=Bo+"Exponent out of range: ",_m=Math.floor,Nd=Math.pow,uje=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,eo,Za=1e7,Wn=7,MG=9007199254740991,hw=_m(MG/Wn),Jt={};Jt.absoluteValue=Jt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Jt.comparedTo=Jt.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Jt.decimalPlaces=Jt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Wn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Jt.dividedBy=Jt.div=function(e){return Vc(this,new this.constructor(e))};Jt.dividedToIntegerBy=Jt.idiv=function(e){var t=this,r=t.constructor;return Mn(Vc(t,new r(e),0,1),r.precision)};Jt.equals=Jt.eq=function(e){return!this.cmp(e)};Jt.exponent=function(){return Ma(this)};Jt.greaterThan=Jt.gt=function(e){return this.cmp(e)>0};Jt.greaterThanOrEqualTo=Jt.gte=function(e){return this.cmp(e)>=0};Jt.isInteger=Jt.isint=function(){return this.e>this.d.length-2};Jt.isNegative=Jt.isneg=function(){return this.s<0};Jt.isPositive=Jt.ispos=function(){return this.s>0};Jt.isZero=function(){return this.s===0};Jt.lessThan=Jt.lt=function(e){return this.cmp(e)<0};Jt.lessThanOrEqualTo=Jt.lte=function(e){return this.cmp(e)<1};Jt.logarithm=Jt.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(eo))throw Error(Bo+"NaN");if(r.s<1)throw Error(Bo+(r.s?"NaN":"-Infinity"));return r.eq(eo)?new n(0):(Jn=!1,t=Vc(x1(r,i),x1(e,i),i),Jn=!0,Mn(t,a))};Jt.minus=Jt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?$G(t,e):RG(t,(e.s=-e.s,e))};Jt.modulo=Jt.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Bo+"NaN");return r.s?(Jn=!1,t=Vc(r,e,0,1).times(e),Jn=!0,r.minus(t)):Mn(new n(r),a)};Jt.naturalExponential=Jt.exp=function(){return FG(this)};Jt.naturalLogarithm=Jt.ln=function(){return x1(this)};Jt.negated=Jt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Jt.plus=Jt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?RG(t,e):$G(t,(e.s=-e.s,e))};Jt.precision=Jt.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Xd+e);if(t=Ma(a)+1,n=a.d.length-1,r=n*Wn+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Jt.squareRoot=Jt.sqrt=function(){var e,t,r,n,a,i,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Bo+"NaN")}for(e=Ma(o),Jn=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=Hl(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=_m((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=s=r+3;;)if(i=n,n=i.plus(Vc(o,i,s+2)).times(.5),Hl(i.d).slice(0,s)===(t=Hl(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(Mn(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(t!="9999")break;s+=4}return Jn=!0,Mn(n,r)};Jt.times=Jt.mul=function(e){var t,r,n,a,i,s,o,l,c,u=this,f=u.constructor,h=u.d,p=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,r=u.e+e.e,l=h.length,c=p.length,l<c&&(i=h,h=p,p=i,s=l,l=c,c=s),i=[],s=l+c,n=s;n--;)i.push(0);for(n=c;--n>=0;){for(t=0,a=l+n;a>n;)o=i[a]+p[n]*h[a-n-1]+t,i[a--]=o%Za|0,t=o/Za|0;i[a]=(i[a]+t)%Za|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Jn?Mn(e,f.precision):e};Jt.toDecimalPlaces=Jt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(oc(e,0,wm),t===void 0?t=n.rounding:oc(t,0,8),Mn(r,e+Ma(r)+1,t))};Jt.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=mh(n,!0):(oc(e,0,wm),t===void 0?t=a.rounding:oc(t,0,8),n=Mn(new a(n),e+1,t),r=mh(n,!0,e+1)),r};Jt.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?mh(a):(oc(e,0,wm),t===void 0?t=i.rounding:oc(t,0,8),n=Mn(new i(a),e+Ma(a)+1,t),r=mh(n.abs(),!1,e+Ma(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Jt.toInteger=Jt.toint=function(){var e=this,t=e.constructor;return Mn(new t(e),Ma(e)+1,t.rounding)};Jt.toNumber=function(){return+this};Jt.toPower=Jt.pow=function(e){var t,r,n,a,i,s,o=this,l=o.constructor,c=12,u=+(e=new l(e));if(!e.s)return new l(eo);if(o=new l(o),!o.s){if(e.s<1)throw Error(Bo+"Infinity");return o}if(o.eq(eo))return o;if(n=l.precision,e.eq(eo))return Mn(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=o.s,s){if((r=u<0?-u:u)<=MG){for(a=new l(eo),t=Math.ceil(n/Wn+4),Jn=!1;r%2&&(a=a.times(o),nR(a.d,t)),r=_m(r/2),r!==0;)o=o.times(o),nR(o.d,t);return Jn=!0,e.s<0?new l(eo).div(a):Mn(a,n)}}else if(i<0)throw Error(Bo+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,Jn=!1,a=e.times(x1(o,n+c)),Jn=!0,a=FG(a),a.s=i,a};Jt.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Ma(a),n=mh(a,r<=i.toExpNeg||r>=i.toExpPos)):(oc(e,1,wm),t===void 0?t=i.rounding:oc(t,0,8),a=Mn(new i(a),e,t),r=Ma(a),n=mh(a,e<=r||r<=i.toExpNeg,e)),n};Jt.toSignificantDigits=Jt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(oc(e,1,wm),t===void 0?t=n.rounding:oc(t,0,8)),Mn(new n(r),e,t)};Jt.toString=Jt.valueOf=Jt.val=Jt.toJSON=Jt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ma(e),r=e.constructor;return mh(e,t<=r.toExpNeg||t>=r.toExpPos)};function RG(e,t){var r,n,a,i,s,o,l,c,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),Jn?Mn(t,f):t;if(l=e.d,c=t.d,s=e.e,a=t.e,l=l.slice(),i=s-a,i){for(i<0?(n=l,i=-i,o=c.length):(n=c,a=s,o=l.length),s=Math.ceil(f/Wn),o=s>o?s+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=l.length,i=c.length,o-i<0&&(i=o,n=c,c=l,l=n),r=0;i;)r=(l[--i]=l[i]+c[i]+r)/Za|0,l[i]%=Za;for(r&&(l.unshift(r),++a),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=a,Jn?Mn(t,f):t}function oc(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Xd+e)}function Hl(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=Wn-n.length,r&&(i+=Xu(r)),i+=n;s=e[t],n=s+"",r=Wn-n.length,r&&(i+=Xu(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var Vc=function(){function e(n,a){var i,s=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+s,n[o]=i%Za|0,s=i/Za|0;return s&&n.unshift(s),n}function t(n,a,i,s){var o,l;if(i!=s)l=i>s?1:-1;else for(o=l=0;o<i;o++)if(n[o]!=a[o]){l=n[o]>a[o]?1:-1;break}return l}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*Za+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var o,l,c,u,f,h,p,g,m,y,v,b,w,D,P,j,E,_,S=n.constructor,I=n.s==a.s?1:-1,T=n.d,N=a.d;if(!n.s)return new S(n);if(!a.s)throw Error(Bo+"Division by zero");for(l=n.e-a.e,E=N.length,P=T.length,p=new S(I),g=p.d=[],c=0;N[c]==(T[c]||0);)++c;if(N[c]>(T[c]||0)&&--l,i==null?b=i=S.precision:s?b=i+(Ma(n)-Ma(a))+1:b=i,b<0)return new S(0);if(b=b/Wn+2|0,c=0,E==1)for(u=0,N=N[0],b++;(c<P||u)&&b--;c++)w=u*Za+(T[c]||0),g[c]=w/N|0,u=w%N|0;else{for(u=Za/(N[0]+1)|0,u>1&&(N=e(N,u),T=e(T,u),E=N.length,P=T.length),D=E,m=T.slice(0,E),y=m.length;y<E;)m[y++]=0;_=N.slice(),_.unshift(0),j=N[0],N[1]>=Za/2&&++j;do u=0,o=t(N,m,E,y),o<0?(v=m[0],E!=y&&(v=v*Za+(m[1]||0)),u=v/j|0,u>1?(u>=Za&&(u=Za-1),f=e(N,u),h=f.length,y=m.length,o=t(f,m,h,y),o==1&&(u--,r(f,E<h?_:N,h))):(u==0&&(o=u=1),f=N.slice()),h=f.length,h<y&&f.unshift(0),r(m,f,y),o==-1&&(y=m.length,o=t(N,m,E,y),o<1&&(u++,r(m,E<y?_:N,y))),y=m.length):o===0&&(u++,m=[0]),g[c++]=u,o&&m[0]?m[y++]=T[D]||0:(m=[T[D]],y=1);while((D++<P||m[0]!==void 0)&&b--)}return g[0]||g.shift(),p.e=l,Mn(p,s?i+Ma(p)+1:i)}}();function FG(e,t){var r,n,a,i,s,o,l=0,c=0,u=e.constructor,f=u.precision;if(Ma(e)>16)throw Error(EP+Ma(e));if(!e.s)return new u(eo);for(t==null?(Jn=!1,o=f):o=t,s=new u(.03125);e.abs().gte(.1);)e=e.times(s),c+=5;for(n=Math.log(Nd(2,c))/Math.LN10*2+5|0,o+=n,r=a=i=new u(eo),u.precision=o;;){if(a=Mn(a.times(e),o),r=r.times(++l),s=i.plus(Vc(a,r,o)),Hl(s.d).slice(0,o)===Hl(i.d).slice(0,o)){for(;c--;)i=Mn(i.times(i),o);return u.precision=f,t==null?(Jn=!0,Mn(i,f)):i}i=s}}function Ma(e){for(var t=e.e*Wn,r=e.d[0];r>=10;r/=10)t++;return t}function AA(e,t,r){if(t>e.LN10.sd())throw Jn=!0,r&&(e.precision=r),Error(Bo+"LN10 precision limit exceeded");return Mn(new e(e.LN10),t)}function Xu(e){for(var t="";e--;)t+="0";return t}function x1(e,t){var r,n,a,i,s,o,l,c,u,f=1,h=10,p=e,g=p.d,m=p.constructor,y=m.precision;if(p.s<1)throw Error(Bo+(p.s?"NaN":"-Infinity"));if(p.eq(eo))return new m(0);if(t==null?(Jn=!1,c=y):c=t,p.eq(10))return t==null&&(Jn=!0),AA(m,c);if(c+=h,m.precision=c,r=Hl(g),n=r.charAt(0),i=Ma(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Hl(p.d),n=r.charAt(0),f++;i=Ma(p),n>1?(p=new m("0."+r),i++):p=new m(n+"."+r.slice(1))}else return l=AA(m,c+2,y).times(i+""),p=x1(new m(n+"."+r.slice(1)),c-h).plus(l),m.precision=y,t==null?(Jn=!0,Mn(p,y)):p;for(o=s=p=Vc(p.minus(eo),p.plus(eo),c),u=Mn(p.times(p),c),a=3;;){if(s=Mn(s.times(u),c),l=o.plus(Vc(s,new m(a),c)),Hl(l.d).slice(0,c)===Hl(o.d).slice(0,c))return o=o.times(2),i!==0&&(o=o.plus(AA(m,c+2,y).times(i+""))),o=Vc(o,new m(f),c),m.precision=y,t==null?(Jn=!0,Mn(o,y)):o;o=l,a+=2}}function rR(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=_m(r/Wn),e.d=[],n=(r+1)%Wn,r<0&&(n+=Wn),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Wn;n<a;)e.d.push(+t.slice(n,n+=Wn));t=t.slice(n),n=Wn-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Jn&&(e.e>hw||e.e<-hw))throw Error(EP+r)}else e.s=0,e.e=0,e.d=[0];return e}function Mn(e,t,r){var n,a,i,s,o,l,c,u,f=e.d;for(s=1,i=f[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=Wn,a=t,c=f[u=0];else{if(u=Math.ceil((n+1)/Wn),i=f.length,u>=i)return e;for(c=i=f[u],s=1;i>=10;i/=10)s++;n%=Wn,a=n-Wn+s}if(r!==void 0&&(i=Nd(10,s-a-1),o=c/i%10|0,l=t<0||f[u+1]!==void 0||c%i,l=r<4?(o||l)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?a>0?c/Nd(10,s-a):0:f[u-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(i=Ma(e),f.length=1,t=t-i-1,f[0]=Nd(10,(Wn-t%Wn)%Wn),e.e=_m(-t/Wn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=u,i=1,u--):(f.length=u+1,i=Nd(10,Wn-n),f[u]=a>0?(c/Nd(10,s-a)%Nd(10,a)|0)*i:0),l)for(;;)if(u==0){(f[0]+=i)==Za&&(f[0]=1,++e.e);break}else{if(f[u]+=i,f[u]!=Za)break;f[u--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Jn&&(e.e>hw||e.e<-hw))throw Error(EP+Ma(e));return e}function $G(e,t){var r,n,a,i,s,o,l,c,u,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Jn?Mn(t,p):t;if(l=e.d,f=t.d,n=t.e,c=e.e,l=l.slice(),s=c-n,s){for(u=s<0,u?(r=l,s=-s,o=f.length):(r=f,n=c,o=l.length),a=Math.max(Math.ceil(p/Wn),o)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=l.length,o=f.length,u=a<o,u&&(o=a),a=0;a<o;a++)if(l[a]!=f[a]){u=l[a]<f[a];break}s=0}for(u&&(r=l,l=f,f=r,t.s=-t.s),o=l.length,a=f.length-o;a>0;--a)l[o++]=0;for(a=f.length;a>s;){if(l[--a]<f[a]){for(i=a;i&&l[--i]===0;)l[i]=Za-1;--l[i],l[a]+=Za}l[a]-=f[a]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Jn?Mn(t,p):t):new h(0)}function mh(e,t,r){var n,a=Ma(e),i=Hl(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+Xu(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Xu(-a-1)+i,r&&(n=r-s)>0&&(i+=Xu(n))):a>=s?(i+=Xu(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+Xu(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=Xu(n))),e.s<0?"-"+i:i}function nR(e,t){if(e.length>t)return e.length=t,!0}function BG(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Xd+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return rR(s,i.toString())}else if(typeof i!="string")throw Error(Xd+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,uje.test(i))rR(s,i);else throw Error(Xd+i)}if(a.prototype=Jt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=BG,a.config=a.set=fje,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function fje(e){if(!e||typeof e!="object")throw Error(Bo+"Object expected");var t,r,n,a=["precision",1,wm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(_m(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Xd+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Xd+r+": "+n);return this}var TP=BG(cje);eo=new TP(1);const Pn=TP;function dje(e){return gje(e)||mje(e)||pje(e)||hje()}function hje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pje(e,t){if(e){if(typeof e=="string")return NT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NT(e,t)}}function mje(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function gje(e){if(Array.isArray(e))return NT(e)}function NT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var vje=function(t){return t},UG={"@@functional/placeholder":!0},VG=function(t){return t===UG},aR=function(t){return function r(){return arguments.length===0||arguments.length===1&&VG(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},yje=function e(t,r){return t===1?r:aR(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.filter(function(o){return o!==UG}).length;return s>=t?r.apply(void 0,a):e(t-s,aR(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=a.map(function(f){return VG(f)?l.shift():f});return r.apply(void 0,dje(u).concat(l))}))})},m_=function(t){return yje(t.length,t)},kT=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},xje=m_(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),bje=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return vje;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(o,l){return l(o)},i.apply(void 0,arguments))}},CT=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},zG=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r&&i.every(function(o,l){return o===r[l]})||(r=i,n=t.apply(void 0,i)),n}};function wje(e){var t;return e===0?t=1:t=Math.floor(new Pn(e).abs().log(10).toNumber())+1,t}function _je(e,t,r){for(var n=new Pn(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var Sje=m_(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),Aje=m_(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),Eje=m_(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const g_={rangeStep:_je,getDigitCount:wje,interpolateNumber:Sje,uninterpolateNumber:Aje,uninterpolateTruncation:Eje};function PT(e){return kje(e)||Nje(e)||qG(e)||Tje()}function Tje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nje(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function kje(e){if(Array.isArray(e))return OT(e)}function b1(e,t){return Oje(e)||Pje(e,t)||qG(e,t)||Cje()}function Cje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qG(e,t){if(e){if(typeof e=="string")return OT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OT(e,t)}}function OT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Pje(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var s=e[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(t&&r.length===t));n=!0);}catch(l){a=!0,i=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(a)throw i}}return r}}function Oje(e){if(Array.isArray(e))return e}function WG(e){var t=b1(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function HG(e,t,r){if(e.lte(0))return new Pn(0);var n=g_.getDigitCount(e.toNumber()),a=new Pn(10).pow(n),i=e.div(a),s=n!==1?.05:.1,o=new Pn(Math.ceil(i.div(s).toNumber())).add(r).mul(s),l=o.mul(a);return t?l:new Pn(Math.ceil(l))}function Ije(e,t,r){var n=1,a=new Pn(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Pn(10).pow(g_.getDigitCount(e)-1),a=new Pn(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Pn(Math.floor(e)))}else e===0?a=new Pn(Math.floor((t-1)/2)):r||(a=new Pn(Math.floor(e)));var s=Math.floor((t-1)/2),o=bje(xje(function(l){return a.add(new Pn(l-s).mul(n)).toNumber()}),kT);return o(0,t)}function GG(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Pn(0),tickMin:new Pn(0),tickMax:new Pn(0)};var i=HG(new Pn(t).sub(e).div(r-1),n,a),s;e<=0&&t>=0?s=new Pn(0):(s=new Pn(e).add(t).div(2),s=s.sub(new Pn(s).mod(i)));var o=Math.ceil(s.sub(e).div(i).toNumber()),l=Math.ceil(new Pn(t).sub(s).div(i).toNumber()),c=o+l+1;return c>r?GG(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,o=t>0?o:o+(r-c)),{step:i,tickMin:s.sub(new Pn(o).mul(i)),tickMax:s.add(new Pn(l).mul(i))})}function jje(e){var t=b1(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),o=WG([r,n]),l=b1(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var f=u===1/0?[c].concat(PT(kT(0,a-1).map(function(){return 1/0}))):[].concat(PT(kT(0,a-1).map(function(){return-1/0})),[u]);return r>n?CT(f):f}if(c===u)return Ije(c,a,i);var h=GG(c,u,s,i),p=h.step,g=h.tickMin,m=h.tickMax,y=g_.rangeStep(g,m.add(new Pn(.1).mul(p)),p);return r>n?CT(y):y}function Dje(e,t){var r=b1(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=WG([n,a]),o=b1(s,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[n,a];if(l===c)return[l];var u=Math.max(t,2),f=HG(new Pn(c).sub(l).div(u-1),i,0),h=[].concat(PT(g_.rangeStep(new Pn(l),new Pn(c).sub(new Pn(.99).mul(f)),f)),[c]);return n>a?CT(h):h}var Lje=zG(jje),Mje=zG(Dje),Rje="Invariant failed";function gh(e,t){throw new Error(Rje)}var Fje=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function jp(e){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jp(e)}function pw(){return pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pw.apply(this,arguments)}function $je(e,t){return zje(e)||Vje(e,t)||Uje(e,t)||Bje()}function Bje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uje(e,t){if(e){if(typeof e=="string")return iR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iR(e,t)}}function iR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Vje(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function zje(e){if(Array.isArray(e))return e}function qje(e,t){if(e==null)return{};var r=Wje(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Wje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Hje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gje(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XG(n.key),n)}}function Kje(e,t,r){return t&&Gje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yje(e,t,r){return t=mw(t),Xje(e,KG()?Reflect.construct(t,r||[],mw(e).constructor):t.apply(e,r))}function Xje(e,t){if(t&&(jp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qje(e)}function Qje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KG=function(){return!!e})()}function mw(e){return mw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mw(e)}function Jje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&IT(e,t)}function IT(e,t){return IT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},IT(e,t)}function YG(e,t,r){return t=XG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XG(e){var t=Zje(e,"string");return jp(t)=="symbol"?t:t+""}function Zje(e,t){if(jp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(jp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ey=function(e){function t(){return Hje(this,t),Yje(this,t,arguments)}return Jje(t,e),Kje(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,s=n.width,o=n.dataKey,l=n.data,c=n.dataPointFormatter,u=n.xAxis,f=n.yAxis,h=qje(n,Fje),p=en(h,!1);this.props.direction==="x"&&u.type!=="number"&&gh();var g=l.map(function(m){var y=c(m,o),v=y.x,b=y.y,w=y.value,D=y.errorVal;if(!D)return null;var P=[],j,E;if(Array.isArray(D)){var _=$je(D,2);j=_[0],E=_[1]}else j=E=D;if(i==="vertical"){var S=u.scale,I=b+a,T=I+s,N=I-s,O=S(w-j),U=S(w+E);P.push({x1:U,y1:T,x2:U,y2:N}),P.push({x1:O,y1:I,x2:U,y2:I}),P.push({x1:O,y1:T,x2:O,y2:N})}else if(i==="horizontal"){var Y=f.scale,K=v+a,J=K-s,q=K+s,V=Y(w-j),ee=Y(w+E);P.push({x1:J,y1:ee,x2:q,y2:ee}),P.push({x1:K,y1:V,x2:K,y2:ee}),P.push({x1:J,y1:V,x2:q,y2:V})}return Re.createElement(Ea,pw({className:"recharts-errorBar",key:"bar-".concat(P.map(function(Z){return"".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))},p),P.map(function(Z){return Re.createElement("line",pw({},Z,{key:"line-".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))}))});return Re.createElement(Ea,{className:"recharts-errorBars"},g)}}])}(Re.Component);YG(Ey,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});YG(Ey,"displayName","ErrorBar");function w1(e){"@babel/helpers - typeof";return w1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w1(e)}function sR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sR(Object(r),!0).forEach(function(n){eDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eDe(e,t,r){return t=tDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tDe(e){var t=rDe(e,"string");return w1(t)=="symbol"?t:t+""}function rDe(e,t){if(w1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(w1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QG=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,s=Qs(r,_l);if(!s)return null;var o=_l.defaultProps,l=o!==void 0?xd(xd({},o),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:i==="children"?c=(n||[]).reduce(function(u,f){var h=f.item,p=f.props,g=p.sectors||p.data||[];return u.concat(g.map(function(m){return{type:s.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):c=(n||[]).map(function(u){var f=u.item,h=f.type.defaultProps,p=h!==void 0?xd(xd({},h),f.props):{},g=p.dataKey,m=p.name,y=p.legendType,v=p.hide;return{inactive:v,dataKey:g,type:l.iconType||y||"square",color:NP(f),value:m||g,payload:p}}),xd(xd(xd({},l),_l.getWithHeight(s,a)),{},{payload:c,item:s})};function _1(e){"@babel/helpers - typeof";return _1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_1(e)}function oR(e){return sDe(e)||iDe(e)||aDe(e)||nDe()}function nDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aDe(e,t){if(e){if(typeof e=="string")return jT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jT(e,t)}}function iDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sDe(e){if(Array.isArray(e))return jT(e)}function jT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lR(Object(r),!0).forEach(function(n){J0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J0(e,t,r){return t=oDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oDe(e){var t=lDe(e,"string");return _1(t)=="symbol"?t:t+""}function lDe(e,t){if(_1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oo(e,t,r){return Jr(e)||Jr(t)?r:qa(t)?Do(e,t,r):Vr(t)?t(e):r}function sv(e,t,r,n){var a=ije(e,function(o){return oo(o,t)});if(r==="number"){var i=a.filter(function(o){return $t(o)||parseFloat(o)});return i.length?[h_(i),d_(i)]:[1/0,-1/0]}var s=n?a.filter(function(o){return!Jr(o)}):a;return s.map(function(o){return qa(o)||o instanceof Date?o:""})}var cDe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var l=i.range,c=0;c<o;c++){var u=c>0?a[c-1].coordinate:a[o-1].coordinate,f=a[c].coordinate,h=c>=o-1?a[0].coordinate:a[c+1].coordinate,p=void 0;if(vl(f-u)!==vl(h-f)){var g=[];if(vl(h-f)===vl(l[1]-l[0])){p=h;var m=f+l[1]-l[0];g[0]=Math.min(m,(m+u)/2),g[1]=Math.max(m,(m+u)/2)}else{p=u;var y=h+l[1]-l[0];g[0]=Math.min(f,(y+f)/2),g[1]=Math.max(f,(y+f)/2)}var v=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>v[0]&&t<=v[1]||t>=g[0]&&t<=g[1]){s=a[c].index;break}}else{var b=Math.min(u,h),w=Math.max(u,h);if(t>(b+f)/2&&t<=(w+f)/2){s=a[c].index;break}}}else for(var D=0;D<o;D++)if(D===0&&t<=(n[D].coordinate+n[D+1].coordinate)/2||D>0&&D<o-1&&t>(n[D].coordinate+n[D-1].coordinate)/2&&t<=(n[D].coordinate+n[D+1].coordinate)/2||D===o-1&&t>(n[D].coordinate+n[D-1].coordinate)/2){s=n[D].index;break}return s},NP=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?pa(pa({},t.type.defaultProps),t.props):t.props,s=i.stroke,o=i.fill,l;switch(a){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},uDe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},o=Object.keys(i),l=0,c=o.length;l<c;l++)for(var u=i[o[l]].stackGroups,f=Object.keys(u),h=0,p=f.length;h<p;h++){var g=u[f[h]],m=g.items,y=g.cateAxisId,v=m.filter(function(E){return $c(E.type).indexOf("Bar")>=0});if(v&&v.length){var b=v[0].type.defaultProps,w=b!==void 0?pa(pa({},b),v[0].props):v[0].props,D=w.barSize,P=w[y];s[P]||(s[P]=[]);var j=Jr(D)?r:D;s[P].push({item:v[0],stackList:v.slice(1),barSize:Jr(j)?void 0:ph(j,n,0)})}}return s},fDe=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,s=i===void 0?[]:i,o=t.maxBarSize,l=s.length;if(l<1)return null;var c=ph(r,a,0,!0),u,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,p=a/l,g=s.reduce(function(D,P){return D+P.barSize||0},0);g+=(l-1)*c,g>=a&&(g-=(l-1)*c,c=0),g>=a&&p>0&&(h=!0,p*=.9,g=l*p);var m=(a-g)/2>>0,y={offset:m-c,size:0};u=s.reduce(function(D,P){var j={item:P.item,position:{offset:y.offset+y.size+c,size:h?p:P.barSize}},E=[].concat(oR(D),[j]);return y=E[E.length-1].position,P.stackList&&P.stackList.length&&P.stackList.forEach(function(_){E.push({item:_,position:y})}),E},f)}else{var v=ph(n,a,0,!0);a-2*v-(l-1)*c<=0&&(c=0);var b=(a-2*v-(l-1)*c)/l;b>1&&(b>>=0);var w=o===+o?Math.min(b,o):b;u=s.reduce(function(D,P,j){var E=[].concat(oR(D),[{item:P.item,position:{offset:v+(b+c)*j+(b-w)/2,size:w}}]);return P.stackList&&P.stackList.length&&P.stackList.forEach(function(_){E.push({item:_,position:E[E.length-1].position})}),E},f)}return u},dDe=function(t,r,n,a){var i=n.children,s=n.width,o=n.margin,l=s-(o.left||0)-(o.right||0),c=QG({children:i,legendWidth:l});if(c){var u=a||{},f=u.width,h=u.height,p=c.align,g=c.verticalAlign,m=c.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&p!=="center"&&$t(t[p]))return pa(pa({},t),{},J0({},p,t[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&g!=="middle"&&$t(t[g]))return pa(pa({},t),{},J0({},g,t[g]+(h||0)))}return t},hDe=function(t,r,n){return Jr(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},JG=function(t,r,n,a,i){var s=r.props.children,o=Lo(s,Ey).filter(function(c){return hDe(a,i,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return t.reduce(function(c,u){var f=oo(u,n);if(Jr(f))return c;var h=Array.isArray(f)?[h_(f),d_(f)]:[f,f],p=l.reduce(function(g,m){var y=oo(u,m,0),v=h[0]-Math.abs(Array.isArray(y)?y[0]:y),b=h[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(v,g[0]),Math.max(b,g[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},pDe=function(t,r,n,a,i){var s=r.map(function(o){return JG(t,o,n,i,a)}).filter(function(o){return!Jr(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},ZG=function(t,r,n,a,i){var s=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&JG(t,l,c,a)||sv(t,c,n,i)});if(n==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,c){for(var u=0,f=c.length;u<f;u++)o[c[u]]||(o[c[u]]=!0,l.push(c[u]));return l},[])},eK=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},tK=function(t,r,n,a){if(a)return t.map(function(l){return l.coordinate});var i,s,o=t.map(function(l){return l.coordinate===r&&(i=!0),l.coordinate===n&&(s=!0),l.coordinate});return i||o.push(r),s||o.push(n),o},Dc=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,s=t.type,o=t.range,l=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,c=(r||n)&&s==="category"&&a.bandwidth?a.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?vl(o[0]-o[1])*2*c:c,r&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+c,value:f,offset:c}});return u.filter(function(f){return!yy(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+c,value:f,index:h,offset:c}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+c,value:f,offset:c}}):a.domain().map(function(f,h){return{coordinate:a(f)+c,value:i?i[f]:f,index:h,offset:c}})},EA=new WeakMap,zx=function(t,r){if(typeof r!="function")return t;EA.has(t)||EA.set(t,new WeakMap);var n=EA.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},mDe=function(t,r,n){var a=t.scale,i=t.type,s=t.layout,o=t.axisType;if(a==="auto")return s==="radial"&&o==="radiusAxis"?{scale:p1(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:cw(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:iv(),realScaleType:"point"}:i==="category"?{scale:p1(),realScaleType:"band"}:{scale:cw(),realScaleType:"linear"};if(hh(a)){var l="scale".concat(Z5(a));return{scale:(tR[l]||iv)(),realScaleType:tR[l]?l:"point"}}return Vr(a)?{scale:a}:{scale:iv(),realScaleType:"point"}},cR=1e-4,gDe=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-cR,s=Math.max(a[0],a[1])+cR,o=t(r[0]),l=t(r[n-1]);(o<i||o>s||l<i||l>s)&&t.domain([r[0],r[n-1]])}},vDe=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},yDe=function(t,r){if(!r||r.length!==2||!$t(r[0])||!$t(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!$t(t[0])||t[0]<n)&&(i[0]=n),(!$t(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},xDe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0,o=0;o<r;++o){var l=yy(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1])}},bDe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0;s<r;++s){var o=yy(t[s][n][1])?t[s][n][0]:t[s][n][1];o>=0?(t[s][n][0]=i,t[s][n][1]=i+o,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},wDe={sign:xDe,expand:MSe,none:Ep,silhouette:RSe,wiggle:FSe,positive:bDe},_De=function(t,r,n){var a=r.map(function(o){return o.props.dataKey}),i=wDe[n],s=LSe().keys(a).value(function(o,l){return+oo(o,l,0)}).order(aT).offset(i);return s(t)},SDe=function(t,r,n,a,i,s){if(!t)return null;var o=s?r.reverse():r,l={},c=o.reduce(function(f,h){var p,g=(p=h.type)!==null&&p!==void 0&&p.defaultProps?pa(pa({},h.type.defaultProps),h.props):h.props,m=g.stackId,y=g.hide;if(y)return f;var v=g[n],b=f[v]||{hasStack:!1,stackGroups:{}};if(qa(m)){var w=b.stackGroups[m]||{numericAxisId:n,cateAxisId:a,items:[]};w.items.push(h),b.hasStack=!0,b.stackGroups[m]=w}else b.stackGroups[xy("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return pa(pa({},f),{},J0({},v,b))},l),u={};return Object.keys(c).reduce(function(f,h){var p=c[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,y){var v=p.stackGroups[y];return pa(pa({},m),{},J0({},y,{numericAxisId:n,cateAxisId:a,items:v.items,stackedData:_De(t,v.items,i)}))},g)}return pa(pa({},f),{},J0({},h,p))},u)},ADe=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,s=r.originalDomain,o=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=t.domain();if(!c.length)return null;var u=Lje(c,i,o);return t.domain([h_(u),d_(u)]),{niceTicks:u}}if(i&&a==="number"){var f=t.domain(),h=Mje(f,i,o);return{niceTicks:h}}return null};function uR(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,s=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Jr(a[t.dataKey])){var o=Bb(r,"value",a[t.dataKey]);if(o)return o.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var l=oo(a,Jr(s)?t.dataKey:s);return Jr(l)?null:t.scale(l)}var fR=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,s=t.entry,o=t.index;if(r.type==="category")return n[o]?n[o].coordinate+a:null;var l=oo(s,r.dataKey,r.domain[o]);return Jr(l)?null:r.scale(l)-i/2+a},EDe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},TDe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?pa(pa({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(qa(i)){var s=r[i];if(s){var o=s.items.indexOf(t);return o>=0?s.stackedData[o]:null}}return null},NDe=function(t){return t.reduce(function(r,n){return[h_(n.concat([r[0]]).filter($t)),d_(n.concat([r[1]]).filter($t))]},[1/0,-1/0])},rK=function(t,r,n){return Object.keys(t).reduce(function(a,i){var s=t[i],o=s.stackedData,l=o.reduce(function(c,u){var f=NDe(u.slice(r,n+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},dR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,hR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,DT=function(t,r,n){if(Vr(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if($t(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(dR.test(t[0])){var i=+dR.exec(t[0])[1];a[0]=r[0]-i}else Vr(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if($t(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(hR.test(t[1])){var s=+hR.exec(t[1])[1];a[1]=r[1]+s}else Vr(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},gw=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=tP(r,function(f){return f.coordinate}),s=1/0,o=1,l=i.length;o<l;o++){var c=i[o],u=i[o-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},pR=function(t,r,n){return!t||!t.length||p_(t,Do(n,"type.defaultProps.domain"))?r:t},nK=function(t,r){var n=t.type.defaultProps?pa(pa({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,s=n.unit,o=n.formatter,l=n.tooltipType,c=n.chartType,u=n.hide;return pa(pa({},en(t,!1)),{},{dataKey:a,unit:s,formatter:o,name:i||a,color:NP(t),value:oo(r,a),type:l,payload:r,chartType:c,hide:u})};function S1(e){"@babel/helpers - typeof";return S1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S1(e)}function mR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mR(Object(r),!0).forEach(function(n){kDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kDe(e,t,r){return t=CDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CDe(e){var t=PDe(e,"string");return S1(t)=="symbol"?t:t+""}function PDe(e,t){if(S1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(S1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vw=Math.PI/180,ODe=function(t){return t*180/Math.PI},wi=function(t,r,n,a){return{x:t+Math.cos(-vw*a)*n,y:r+Math.sin(-vw*a)*n}},IDe=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-s,2))},jDe=function(t,r){var n=t.x,a=t.y,i=r.cx,s=r.cy,o=IDe({x:n,y:a},{x:i,y:s});if(o<=0)return{radius:o};var l=(n-i)/o,c=Math.acos(l);return a>s&&(c=2*Math.PI-c),{radius:o,angle:ODe(c),angleInRadian:c}},DDe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return{startAngle:r-s*360,endAngle:n-s*360}},LDe=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),s=Math.floor(a/360),o=Math.min(i,s);return t+o*360},vR=function(t,r){var n=t.x,a=t.y,i=jDe({x:n,y:a},r),s=i.radius,o=i.angle,l=r.innerRadius,c=r.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var u=DDe(r),f=u.startAngle,h=u.endAngle,p=o,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?gR(gR({},r),{},{radius:s,angle:LDe(p,r)}):null};function A1(e){"@babel/helpers - typeof";return A1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A1(e)}var MDe=["offset"];function RDe(e){return UDe(e)||BDe(e)||$De(e)||FDe()}function FDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $De(e,t){if(e){if(typeof e=="string")return LT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LT(e,t)}}function BDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function UDe(e){if(Array.isArray(e))return LT(e)}function LT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function VDe(e,t){if(e==null)return{};var r=zDe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zDe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function yR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $a(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yR(Object(r),!0).forEach(function(n){qDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qDe(e,t,r){return t=WDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WDe(e){var t=HDe(e,"string");return A1(t)=="symbol"?t:t+""}function HDe(e,t){if(A1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(A1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E1(){return E1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E1.apply(this,arguments)}var GDe=function(t){var r=t.value,n=t.formatter,a=Jr(t.children)?r:t.children;return Vr(n)?n(a):a},KDe=function(t,r){var n=vl(r-t),a=Math.min(Math.abs(r-t),360);return n*a},YDe=function(t,r,n){var a=t.position,i=t.viewBox,s=t.offset,o=t.className,l=i,c=l.cx,u=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,g=l.endAngle,m=l.clockWise,y=(f+h)/2,v=KDe(p,g),b=v>=0?1:-1,w,D;a==="insideStart"?(w=p+b*s,D=m):a==="insideEnd"?(w=g-b*s,D=!m):a==="end"&&(w=g+b*s,D=m),D=v<=0?D:!D;var P=wi(c,u,y,w),j=wi(c,u,y,w+(D?1:-1)*359),E="M".concat(P.x,",").concat(P.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(D?0:1,`,
    `).concat(j.x,",").concat(j.y),_=Jr(t.id)?xy("recharts-radial-line-"):t.id;return Re.createElement("text",E1({},n,{dominantBaseline:"central",className:pn("recharts-radial-bar-label",o)}),Re.createElement("defs",null,Re.createElement("path",{id:_,d:E})),Re.createElement("textPath",{xlinkHref:"#".concat(_)},r))},XDe=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,s=i.cx,o=i.cy,l=i.innerRadius,c=i.outerRadius,u=i.startAngle,f=i.endAngle,h=(u+f)/2;if(a==="outside"){var p=wi(s,o,c+n,h),g=p.x,m=p.y;return{x:g,y:m,textAnchor:g>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var y=(l+c)/2,v=wi(s,o,y,h),b=v.x,w=v.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},QDe=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,s=r,o=s.x,l=s.y,c=s.width,u=s.height,f=u>=0?1:-1,h=f*a,p=f>0?"end":"start",g=f>0?"start":"end",m=c>=0?1:-1,y=m*a,v=m>0?"end":"start",b=m>0?"start":"end";if(i==="top"){var w={x:o+c/2,y:l-f*a,textAnchor:"middle",verticalAnchor:p};return $a($a({},w),n?{height:Math.max(l-n.y,0),width:c}:{})}if(i==="bottom"){var D={x:o+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:g};return $a($a({},D),n?{height:Math.max(n.y+n.height-(l+u),0),width:c}:{})}if(i==="left"){var P={x:o-y,y:l+u/2,textAnchor:v,verticalAnchor:"middle"};return $a($a({},P),n?{width:Math.max(P.x-n.x,0),height:u}:{})}if(i==="right"){var j={x:o+c+y,y:l+u/2,textAnchor:b,verticalAnchor:"middle"};return $a($a({},j),n?{width:Math.max(n.x+n.width-j.x,0),height:u}:{})}var E=n?{width:c,height:u}:{};return i==="insideLeft"?$a({x:o+y,y:l+u/2,textAnchor:b,verticalAnchor:"middle"},E):i==="insideRight"?$a({x:o+c-y,y:l+u/2,textAnchor:v,verticalAnchor:"middle"},E):i==="insideTop"?$a({x:o+c/2,y:l+h,textAnchor:"middle",verticalAnchor:g},E):i==="insideBottom"?$a({x:o+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:p},E):i==="insideTopLeft"?$a({x:o+y,y:l+h,textAnchor:b,verticalAnchor:g},E):i==="insideTopRight"?$a({x:o+c-y,y:l+h,textAnchor:v,verticalAnchor:g},E):i==="insideBottomLeft"?$a({x:o+y,y:l+u-h,textAnchor:b,verticalAnchor:p},E):i==="insideBottomRight"?$a({x:o+c-y,y:l+u-h,textAnchor:v,verticalAnchor:p},E):hm(i)&&($t(i.x)||Fd(i.x))&&($t(i.y)||Fd(i.y))?$a({x:o+ph(i.x,c),y:l+ph(i.y,u),textAnchor:"end",verticalAnchor:"end"},E):$a({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},E)},JDe=function(t){return"cx"in t&&$t(t.cx)};function zi(e){var t=e.offset,r=t===void 0?5:t,n=VDe(e,MDe),a=$a({offset:r},n),i=a.viewBox,s=a.position,o=a.value,l=a.children,c=a.content,u=a.className,f=u===void 0?"":u,h=a.textBreakAll;if(!i||Jr(o)&&Jr(l)&&!F.isValidElement(c)&&!Vr(c))return null;if(F.isValidElement(c))return F.cloneElement(c,a);var p;if(Vr(c)){if(p=F.createElement(c,a),F.isValidElement(p))return p}else p=GDe(a);var g=JDe(i),m=en(a,!0);if(g&&(s==="insideStart"||s==="insideEnd"||s==="end"))return YDe(a,p,m);var y=g?XDe(a):QDe(a);return Re.createElement(rw,E1({className:pn("recharts-label",f)},m,y,{breakAll:h}),p)}zi.displayName="Label";var aK=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,s=t.endAngle,o=t.r,l=t.radius,c=t.innerRadius,u=t.outerRadius,f=t.x,h=t.y,p=t.top,g=t.left,m=t.width,y=t.height,v=t.clockWise,b=t.labelViewBox;if(b)return b;if($t(m)&&$t(y)){if($t(f)&&$t(h))return{x:f,y:h,width:m,height:y};if($t(p)&&$t(g))return{x:p,y:g,width:m,height:y}}return $t(f)&&$t(h)?{x:f,y:h,width:0,height:0}:$t(r)&&$t(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:s||a||0,innerRadius:c||0,outerRadius:u||l||o||0,clockWise:v}:t.viewBox?t.viewBox:{}},ZDe=function(t,r){return t?t===!0?Re.createElement(zi,{key:"label-implicit",viewBox:r}):qa(t)?Re.createElement(zi,{key:"label-implicit",viewBox:r,value:t}):F.isValidElement(t)?t.type===zi?F.cloneElement(t,{key:"label-implicit",viewBox:r}):Re.createElement(zi,{key:"label-implicit",content:t,viewBox:r}):Vr(t)?Re.createElement(zi,{key:"label-implicit",content:t,viewBox:r}):hm(t)?Re.createElement(zi,E1({viewBox:r},t,{key:"label-implicit"})):null:null},e8e=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=aK(t),s=Lo(a,zi).map(function(l,c){return F.cloneElement(l,{viewBox:r||i,key:"label-".concat(c)})});if(!n)return s;var o=ZDe(t.label,r||i);return[o].concat(RDe(s))};zi.parseViewBox=aK;zi.renderCallByParent=e8e;function t8e(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var r8e=t8e;const n8e=On(r8e);function T1(e){"@babel/helpers - typeof";return T1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T1(e)}var a8e=["valueAccessor"],i8e=["data","dataKey","clockWise","id","textBreakAll"];function s8e(e){return u8e(e)||c8e(e)||l8e(e)||o8e()}function o8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l8e(e,t){if(e){if(typeof e=="string")return MT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MT(e,t)}}function c8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function u8e(e){if(Array.isArray(e))return MT(e)}function MT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yw(){return yw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yw.apply(this,arguments)}function xR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xR(Object(r),!0).forEach(function(n){f8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f8e(e,t,r){return t=d8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d8e(e){var t=h8e(e,"string");return T1(t)=="symbol"?t:t+""}function h8e(e,t){if(T1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(T1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wR(e,t){if(e==null)return{};var r=p8e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function p8e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var m8e=function(t){return Array.isArray(t.value)?n8e(t.value):t.value};function Pf(e){var t=e.valueAccessor,r=t===void 0?m8e:t,n=wR(e,a8e),a=n.data,i=n.dataKey,s=n.clockWise,o=n.id,l=n.textBreakAll,c=wR(n,i8e);return!a||!a.length?null:Re.createElement(Ea,{className:"recharts-label-list"},a.map(function(u,f){var h=Jr(i)?r(u,f):oo(u&&u.payload,i),p=Jr(o)?{}:{id:"".concat(o,"-").concat(f)};return Re.createElement(zi,yw({},en(u,!0),c,p,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:zi.parseViewBox(Jr(s)?u:bR(bR({},u),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}Pf.displayName="LabelList";function g8e(e,t){return e?e===!0?Re.createElement(Pf,{key:"labelList-implicit",data:t}):Re.isValidElement(e)||Vr(e)?Re.createElement(Pf,{key:"labelList-implicit",data:t,content:e}):hm(e)?Re.createElement(Pf,yw({data:t},e,{key:"labelList-implicit"})):null:null}function v8e(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Lo(n,Pf).map(function(s,o){return F.cloneElement(s,{data:t,key:"labelList-".concat(o)})});if(!r)return a;var i=g8e(e.label,t);return[i].concat(s8e(a))}Pf.renderCallByParent=v8e;function N1(e){"@babel/helpers - typeof";return N1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N1(e)}function RT(){return RT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},RT.apply(this,arguments)}function _R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function SR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_R(Object(r),!0).forEach(function(n){y8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_R(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y8e(e,t,r){return t=x8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x8e(e){var t=b8e(e,"string");return N1(t)=="symbol"?t:t+""}function b8e(e,t){if(N1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(N1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var w8e=function(t,r){var n=vl(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},qx=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,s=t.sign,o=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,u=l*(o?1:-1)+a,f=Math.asin(l/u)/vw,h=c?i:i+s*f,p=wi(r,n,u,h),g=wi(r,n,a,h),m=c?i-s*f:i,y=wi(r,n,u*Math.cos(f*vw),m);return{center:p,circleTangency:g,lineTangency:y,theta:f}},iK=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.startAngle,o=t.endAngle,l=w8e(s,o),c=s+l,u=wi(r,n,i,s),f=wi(r,n,i,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=wi(r,n,a,s),g=wi(r,n,a,c);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},_8e=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.cornerRadius,o=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,u=t.endAngle,f=vl(u-c),h=qx({cx:r,cy:n,radius:i,angle:c,sign:f,cornerRadius:s,cornerIsExternal:l}),p=h.circleTangency,g=h.lineTangency,m=h.theta,y=qx({cx:r,cy:n,radius:i,angle:u,sign:-f,cornerRadius:s,cornerIsExternal:l}),v=y.circleTangency,b=y.lineTangency,w=y.theta,D=l?Math.abs(c-u):Math.abs(c-u)-m-w;if(D<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):iK({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:c,endAngle:u});var P="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(D>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var j=qx({cx:r,cy:n,radius:a,angle:c,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),E=j.circleTangency,_=j.lineTangency,S=j.theta,I=qx({cx:r,cy:n,radius:a,angle:u,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),T=I.circleTangency,N=I.lineTangency,O=I.theta,U=l?Math.abs(c-u):Math.abs(c-u)-S-O;if(U<0&&s===0)return"".concat(P,"L").concat(r,",").concat(n,"Z");P+="L".concat(N.x,",").concat(N.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(U>180),",").concat(+(f>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,"Z")}else P+="L".concat(r,",").concat(n,"Z");return P},S8e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},sK=function(t){var r=SR(SR({},S8e),t),n=r.cx,a=r.cy,i=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,u=r.startAngle,f=r.endAngle,h=r.className;if(s<i||u===f)return null;var p=pn("recharts-sector",h),g=s-i,m=ph(o,g,0,!0),y;return m>0&&Math.abs(u-f)<360?y=_8e({cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(m,g/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:f}):y=iK({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:u,endAngle:f}),Re.createElement("path",RT({},en(r,!0),{className:p,d:y,role:"img"}))};function k1(e){"@babel/helpers - typeof";return k1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k1(e)}function FT(){return FT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},FT.apply(this,arguments)}function AR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ER(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AR(Object(r),!0).forEach(function(n){A8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function A8e(e,t,r){return t=E8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E8e(e){var t=T8e(e,"string");return k1(t)=="symbol"?t:t+""}function T8e(e,t){if(k1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(k1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TR={curveBasisClosed:ASe,curveBasisOpen:ESe,curveBasis:SSe,curveBumpX:cSe,curveBumpY:uSe,curveLinearClosed:TSe,curveLinear:t_,curveMonotoneX:NSe,curveMonotoneY:kSe,curveNatural:CSe,curveStep:PSe,curveStepAfter:ISe,curveStepBefore:OSe},Wx=function(t){return t.x===+t.x&&t.y===+t.y},ig=function(t){return t.x},sg=function(t){return t.y},N8e=function(t,r){if(Vr(t))return t;var n="curve".concat(Z5(t));return(n==="curveMonotone"||n==="curveBump")&&r?TR["".concat(n).concat(r==="vertical"?"Y":"X")]:TR[n]||t_},k8e=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,s=t.baseLine,o=t.layout,l=t.connectNulls,c=l===void 0?!1:l,u=N8e(n,o),f=c?i.filter(function(m){return Wx(m)}):i,h;if(Array.isArray(s)){var p=c?s.filter(function(m){return Wx(m)}):s,g=f.map(function(m,y){return ER(ER({},m),{},{base:p[y]})});return o==="vertical"?h=Lx().y(sg).x1(ig).x0(function(m){return m.base.x}):h=Lx().x(ig).y1(sg).y0(function(m){return m.base.y}),h.defined(Wx).curve(u),h(g)}return o==="vertical"&&$t(s)?h=Lx().y(sg).x1(ig).x0(s):$t(s)?h=Lx().x(ig).y1(sg).y0(s):h=sH().x(ig).y(sg),h.defined(Wx).curve(u),h(f)},$T=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var s=n&&n.length?k8e(t):a;return Re.createElement("path",FT({},en(t,!1),Ub(t),{className:pn("recharts-curve",r),d:s,ref:i}))},oK={exports:{}},C8e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",P8e=C8e,O8e=P8e;function lK(){}function cK(){}cK.resetWarningCache=lK;var I8e=function(){function e(n,a,i,s,o,l){if(l!==O8e){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:cK,resetWarningCache:lK};return r.PropTypes=r,r};oK.exports=I8e();var j8e=oK.exports;const Sn=On(j8e);var D8e=Object.getOwnPropertyNames,L8e=Object.getOwnPropertySymbols,M8e=Object.prototype.hasOwnProperty;function NR(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function Hx(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,s=i.get(r),o=i.get(n);if(s&&o)return s===n&&o===r;i.set(r,n),i.set(n,r);var l=e(r,n,a);return i.delete(r),i.delete(n),l}}function kR(e){return D8e(e).concat(L8e(e))}var R8e=Object.hasOwn||function(e,t){return M8e.call(e,t)};function jh(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var F8e="__v",$8e="__o",B8e="_owner",CR=Object.getOwnPropertyDescriptor,PR=Object.keys;function U8e(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function V8e(e,t){return jh(e.getTime(),t.getTime())}function z8e(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function q8e(e,t){return e===t}function OR(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),s,o,l=0;(s=i.next())&&!s.done;){for(var c=t.entries(),u=!1,f=0;(o=c.next())&&!o.done;){if(a[f]){f++;continue}var h=s.value,p=o.value;if(r.equals(h[0],p[0],l,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){u=a[f]=!0;break}f++}if(!u)return!1;l++}return!0}var W8e=jh;function H8e(e,t,r){var n=PR(e),a=n.length;if(PR(t).length!==a)return!1;for(;a-- >0;)if(!uK(e,t,r,n[a]))return!1;return!0}function og(e,t,r){var n=kR(e),a=n.length;if(kR(t).length!==a)return!1;for(var i,s,o;a-- >0;)if(i=n[a],!uK(e,t,r,i)||(s=CR(e,i),o=CR(t,i),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function G8e(e,t){return jh(e.valueOf(),t.valueOf())}function K8e(e,t){return e.source===t.source&&e.flags===t.flags}function IR(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),s,o;(s=i.next())&&!s.done;){for(var l=t.values(),c=!1,u=0;(o=l.next())&&!o.done;){if(!a[u]&&r.equals(s.value,o.value,s.value,o.value,e,t,r)){c=a[u]=!0;break}u++}if(!c)return!1}return!0}function Y8e(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function X8e(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function uK(e,t,r,n){return(n===B8e||n===$8e||n===F8e)&&(e.$$typeof||t.$$typeof)?!0:R8e(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var Q8e="[object Arguments]",J8e="[object Boolean]",Z8e="[object Date]",eLe="[object Error]",tLe="[object Map]",rLe="[object Number]",nLe="[object Object]",aLe="[object RegExp]",iLe="[object Set]",sLe="[object String]",oLe="[object URL]",lLe=Array.isArray,jR=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,DR=Object.assign,cLe=Object.prototype.toString.call.bind(Object.prototype.toString);function uLe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,s=e.areNumbersEqual,o=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(g,m,y){if(g===m)return!0;if(g==null||m==null)return!1;var v=typeof g;if(v!==typeof m)return!1;if(v!=="object")return v==="number"?s(g,m,y):v==="function"?a(g,m,y):!1;var b=g.constructor;if(b!==m.constructor)return!1;if(b===Object)return o(g,m,y);if(lLe(g))return t(g,m,y);if(jR!=null&&jR(g))return f(g,m,y);if(b===Date)return r(g,m,y);if(b===RegExp)return c(g,m,y);if(b===Map)return i(g,m,y);if(b===Set)return u(g,m,y);var w=cLe(g);return w===Z8e?r(g,m,y):w===aLe?c(g,m,y):w===tLe?i(g,m,y):w===iLe?u(g,m,y):w===nLe?typeof g.then!="function"&&typeof m.then!="function"&&o(g,m,y):w===oLe?h(g,m,y):w===eLe?n(g,m,y):w===Q8e?o(g,m,y):w===J8e||w===rLe||w===sLe?l(g,m,y):!1}}function fLe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?og:U8e,areDatesEqual:V8e,areErrorsEqual:z8e,areFunctionsEqual:q8e,areMapsEqual:n?NR(OR,og):OR,areNumbersEqual:W8e,areObjectsEqual:n?og:H8e,arePrimitiveWrappersEqual:G8e,areRegExpsEqual:K8e,areSetsEqual:n?NR(IR,og):IR,areTypedArraysEqual:n?og:Y8e,areUrlsEqual:X8e};if(r&&(a=DR({},a,r(a))),t){var i=Hx(a.areArraysEqual),s=Hx(a.areMapsEqual),o=Hx(a.areObjectsEqual),l=Hx(a.areSetsEqual);a=DR({},a,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return a}function dLe(e){return function(t,r,n,a,i,s,o){return e(t,r,o)}}function hLe(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(l,c){var u=n(),f=u.cache,h=f===void 0?t?new WeakMap:void 0:f,p=u.meta;return r(l,c,{cache:h,equals:a,meta:p,strict:i})};if(t)return function(l,c){return r(l,c,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var s={cache:void 0,equals:a,meta:void 0,strict:i};return function(l,c){return r(l,c,s)}}var pLe=nd();nd({strict:!0});nd({circular:!0});nd({circular:!0,strict:!0});nd({createInternalComparator:function(){return jh}});nd({strict:!0,createInternalComparator:function(){return jh}});nd({circular:!0,createInternalComparator:function(){return jh}});nd({circular:!0,createInternalComparator:function(){return jh},strict:!0});function nd(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,s=i===void 0?!1:i,o=fLe(e),l=uLe(o),c=n?n(l):dLe(l);return hLe({circular:r,comparator:l,createState:a,equals:c,strict:s})}function mLe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function LR(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):mLe(a)};requestAnimationFrame(n)}function BT(e){"@babel/helpers - typeof";return BT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},BT(e)}function gLe(e){return bLe(e)||xLe(e)||yLe(e)||vLe()}function vLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yLe(e,t){if(e){if(typeof e=="string")return MR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MR(e,t)}}function MR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bLe(e){if(Array.isArray(e))return e}function wLe(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var s=i,o=gLe(s),l=o[0],c=o.slice(1);if(typeof l=="number"){LR(a.bind(null,c),l);return}a(l),LR(a.bind(null,c));return}BT(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function C1(e){"@babel/helpers - typeof";return C1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C1(e)}function RR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function FR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RR(Object(r),!0).forEach(function(n){fK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fK(e,t,r){return t=_Le(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Le(e){var t=SLe(e,"string");return C1(t)==="symbol"?t:String(t)}function SLe(e,t){if(C1(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(C1(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ALe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},ELe=function(t){return t},TLe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},ov=function(t,r){return Object.keys(r).reduce(function(n,a){return FR(FR({},n),{},fK({},a,t(a,r[a])))},{})},$R=function(t,r,n){return t.map(function(a){return"".concat(TLe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function NLe(e,t){return PLe(e)||CLe(e,t)||dK(e,t)||kLe()}function kLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CLe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function PLe(e){if(Array.isArray(e))return e}function OLe(e){return DLe(e)||jLe(e)||dK(e)||ILe()}function ILe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dK(e,t){if(e){if(typeof e=="string")return UT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UT(e,t)}}function jLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function DLe(e){if(Array.isArray(e))return UT(e)}function UT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var xw=1e-4,hK=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},pK=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},BR=function(t,r){return function(n){var a=hK(t,r);return pK(a,n)}},LLe=function(t,r){return function(n){var a=hK(t,r),i=[].concat(OLe(a.map(function(s,o){return s*o}).slice(1)),[0]);return pK(i,n)}},UR=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,s=1,o=1;break;case"ease":a=.25,i=.1,s=.25,o=1;break;case"ease-in":a=.42,i=0,s=1,o=1;break;case"ease-out":a=.42,i=0,s=.58,o=1;break;case"ease-in-out":a=0,i=0,s=.58,o=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),u=NLe(c,4);a=u[0],i=u[1],s=u[2],o=u[3]}}}var f=BR(a,s),h=BR(i,o),p=LLe(a,s),g=function(v){return v>1?1:v<0?0:v},m=function(v){for(var b=v>1?1:v,w=b,D=0;D<8;++D){var P=f(w)-b,j=p(w);if(Math.abs(P-b)<xw||j<xw)return h(w);w=g(w-P/j)}return h(w)};return m.isStepper=!1,m},MLe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,s=t.dt,o=s===void 0?17:s,l=function(u,f,h){var p=-(u-f)*n,g=h*i,m=h+(p-g)*o/1e3,y=h*o/1e3+u;return Math.abs(y-f)<xw&&Math.abs(m)<xw?[f,0]:[y,m]};return l.isStepper=!0,l.dt=o,l},RLe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return UR(a);case"spring":return MLe();default:if(a.split("(")[0]==="cubic-bezier")return UR(a)}return typeof a=="function"?a:null};function P1(e){"@babel/helpers - typeof";return P1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P1(e)}function VR(e){return BLe(e)||$Le(e)||mK(e)||FLe()}function FLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Le(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function BLe(e){if(Array.isArray(e))return zT(e)}function zR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function di(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zR(Object(r),!0).forEach(function(n){VT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VT(e,t,r){return t=ULe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ULe(e){var t=VLe(e,"string");return P1(t)==="symbol"?t:String(t)}function VLe(e,t){if(P1(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(P1(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zLe(e,t){return HLe(e)||WLe(e,t)||mK(e,t)||qLe()}function qLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mK(e,t){if(e){if(typeof e=="string")return zT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zT(e,t)}}function zT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function WLe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function HLe(e){if(Array.isArray(e))return e}var bw=function(t,r,n){return t+(r-t)*n},qT=function(t){var r=t.from,n=t.to;return r!==n},GLe=function e(t,r,n){var a=ov(function(i,s){if(qT(s)){var o=t(s.from,s.to,s.velocity),l=zLe(o,2),c=l[0],u=l[1];return di(di({},s),{},{from:c,velocity:u})}return s},r);return n<1?ov(function(i,s){return qT(s)?di(di({},s),{},{velocity:bw(s.velocity,a[i].velocity,n),from:bw(s.from,a[i].from,n)}):s},r):e(t,a,n-1)};const KLe=function(e,t,r,n,a){var i=ALe(e,t),s=i.reduce(function(y,v){return di(di({},y),{},VT({},v,[e[v],t[v]]))},{}),o=i.reduce(function(y,v){return di(di({},y),{},VT({},v,{from:e[v],velocity:0,to:t[v]}))},{}),l=-1,c,u,f=function(){return null},h=function(){return ov(function(v,b){return b.from},o)},p=function(){return!Object.values(o).filter(qT).length},g=function(v){c||(c=v);var b=v-c,w=b/r.dt;o=GLe(r,o,w),a(di(di(di({},e),t),h())),c=v,p()||(l=requestAnimationFrame(f))},m=function(v){u||(u=v);var b=(v-u)/n,w=ov(function(P,j){return bw.apply(void 0,VR(j).concat([r(b)]))},s);if(a(di(di(di({},e),t),w)),b<1)l=requestAnimationFrame(f);else{var D=ov(function(P,j){return bw.apply(void 0,VR(j).concat([r(1)]))},s);a(di(di(di({},e),t),D))}};return f=r.isStepper?g:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Dp(e){"@babel/helpers - typeof";return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dp(e)}var YLe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function XLe(e,t){if(e==null)return{};var r=QLe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function QLe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function TA(e){return tMe(e)||eMe(e)||ZLe(e)||JLe()}function JLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZLe(e,t){if(e){if(typeof e=="string")return WT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WT(e,t)}}function eMe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tMe(e){if(Array.isArray(e))return WT(e)}function WT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qR(Object(r),!0).forEach(function(n){Tg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tg(e,t,r){return t=gK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nMe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gK(n.key),n)}}function aMe(e,t,r){return t&&nMe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gK(e){var t=iMe(e,"string");return Dp(t)==="symbol"?t:String(t)}function iMe(e,t){if(Dp(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HT(e,t)}function HT(e,t){return HT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},HT(e,t)}function oMe(e){var t=lMe();return function(){var n=ww(e),a;if(t){var i=ww(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return GT(this,a)}}function GT(e,t){if(t&&(Dp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KT(e)}function KT(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lMe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ww(e){return ww=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ww(e)}var iu=function(e){sMe(r,e);var t=oMe(r);function r(n,a){var i;rMe(this,r),i=t.call(this,n,a);var s=i.props,o=s.isActive,l=s.attributeName,c=s.from,u=s.to,f=s.steps,h=s.children,p=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind(KT(i)),i.changeStyle=i.changeStyle.bind(KT(i)),!o||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:u}),GT(i);if(f&&f.length)i.state={style:f[0].style};else if(c){if(typeof h=="function")return i.state={style:c},GT(i);i.state={style:l?Tg({},l,c):c}}else i.state={style:{}};return i}return aMe(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,o=i.canBegin,l=i.attributeName,c=i.shouldReAnimate,u=i.to,f=i.from,h=this.state.style;if(o){if(!s){var p={style:l?Tg({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(p);return}if(!(pLe(a.to,u)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||c?f:a.to;if(this.state&&h){var y={style:l?Tg({},l,m):m};(l&&h[l]!==m||!l&&h!==m)&&this.setState(y)}this.runAnimation(rl(rl({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,o=a.to,l=a.duration,c=a.easing,u=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,p=KLe(s,o,RLe(c),l,this.changeStyle),g=function(){i.stopJSAnimation=p()};this.manager.start([h,u,g,l,f])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,o=a.begin,l=a.onAnimationStart,c=s[0],u=c.style,f=c.duration,h=f===void 0?0:f,p=function(m,y,v){if(v===0)return m;var b=y.duration,w=y.easing,D=w===void 0?"ease":w,P=y.style,j=y.properties,E=y.onAnimationEnd,_=v>0?s[v-1]:y,S=j||Object.keys(P);if(typeof D=="function"||D==="spring")return[].concat(TA(m),[i.runJSAnimation.bind(i,{from:_.style,to:P,duration:b,easing:D}),b]);var I=$R(S,b,D),T=rl(rl(rl({},_.style),P),{},{transition:I});return[].concat(TA(m),[T,b,E]).filter(ELe)};return this.manager.start([l].concat(TA(s.reduce(p,[u,Math.max(h,o)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=wLe());var i=a.begin,s=a.duration,o=a.attributeName,l=a.to,c=a.easing,u=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,p=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var m=o?Tg({},o,l):l,y=$R(Object.keys(m),s,c);g.start([u,i,rl(rl({},m),{},{transition:y}),s,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var o=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=XLe(a,YLe),c=F.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!o||c===0||s<=0)return i;var f=function(p){var g=p.props,m=g.style,y=m===void 0?{}:m,v=g.className,b=F.cloneElement(p,rl(rl({},l),{},{style:rl(rl({},y),u),className:v}));return b};return c===1?f(F.Children.only(i)):Re.createElement("div",null,F.Children.map(i,function(h){return f(h)}))}}]),r}(F.PureComponent);iu.displayName="Animate";iu.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};iu.propTypes={from:Sn.oneOfType([Sn.object,Sn.string]),to:Sn.oneOfType([Sn.object,Sn.string]),attributeName:Sn.string,duration:Sn.number,begin:Sn.number,easing:Sn.oneOfType([Sn.string,Sn.func]),steps:Sn.arrayOf(Sn.shape({duration:Sn.number.isRequired,style:Sn.object.isRequired,easing:Sn.oneOfType([Sn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Sn.func]),properties:Sn.arrayOf("string"),onAnimationEnd:Sn.func})),children:Sn.oneOfType([Sn.node,Sn.func]),isActive:Sn.bool,canBegin:Sn.bool,onAnimationEnd:Sn.func,shouldReAnimate:Sn.bool,onAnimationStart:Sn.func,onAnimationReStart:Sn.func};function O1(e){"@babel/helpers - typeof";return O1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O1(e)}function _w(){return _w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_w.apply(this,arguments)}function cMe(e,t){return hMe(e)||dMe(e,t)||fMe(e,t)||uMe()}function uMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fMe(e,t){if(e){if(typeof e=="string")return WR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WR(e,t)}}function WR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dMe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function hMe(e){if(Array.isArray(e))return e}function HR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function GR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HR(Object(r),!0).forEach(function(n){pMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pMe(e,t,r){return t=mMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mMe(e){var t=gMe(e,"string");return O1(t)=="symbol"?t:t+""}function gMe(e,t){if(O1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(O1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KR=function(t,r,n,a,i){var s=Math.min(Math.abs(n)/2,Math.abs(a)/2),o=a>=0?1:-1,l=n>=0?1:-1,c=a>=0&&n>=0||a<0&&n<0?1:0,u;if(s>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=i[h]>s?s:i[h];u="M".concat(t,",").concat(r+o*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(t+l*f[0],",").concat(r)),u+="L ".concat(t+n-l*f[1],",").concat(r),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(r+o*f[1])),u+="L ".concat(t+n,",").concat(r+a-o*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(t+n-l*f[2],",").concat(r+a)),u+="L ".concat(t+l*f[3],",").concat(r+a),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(r+a-o*f[3])),u+="Z"}else if(s>0&&i===+i&&i>0){var g=Math.min(s,i);u="M ".concat(t,",").concat(r+o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+l*g,",").concat(r,`
            L `).concat(t+n-l*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+n,",").concat(r+o*g,`
            L `).concat(t+n,",").concat(r+a-o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+n-l*g,",").concat(r+a,`
            L `).concat(t+l*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t,",").concat(r+a-o*g," Z")}else u="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return u},vMe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,s=r.y,o=r.width,l=r.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(i,i+o),u=Math.max(i,i+o),f=Math.min(s,s+l),h=Math.max(s,s+l);return n>=c&&n<=u&&a>=f&&a<=h}return!1},yMe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},kP=function(t){var r=GR(GR({},yMe),t),n=F.useRef(),a=F.useState(-1),i=cMe(a,2),s=i[0],o=i[1];F.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var D=n.current.getTotalLength();D&&o(D)}catch{}},[]);var l=r.x,c=r.y,u=r.width,f=r.height,h=r.radius,p=r.className,g=r.animationEasing,m=r.animationDuration,y=r.animationBegin,v=r.isAnimationActive,b=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var w=pn("recharts-rectangle",p);return b?Re.createElement(iu,{canBegin:s>0,from:{width:u,height:f,x:l,y:c},to:{width:u,height:f,x:l,y:c},duration:m,animationEasing:g,isActive:b},function(D){var P=D.width,j=D.height,E=D.x,_=D.y;return Re.createElement(iu,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:m,isActive:v,easing:g},Re.createElement("path",_w({},en(r,!0),{className:w,d:KR(E,_,P,j,h),ref:n})))}):Re.createElement("path",_w({},en(r,!0),{className:w,d:KR(l,c,u,f,h)}))};function YT(){return YT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},YT.apply(this,arguments)}var CP=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,s=pn("recharts-dot",i);return r===+r&&n===+n&&a===+a?Re.createElement("circle",YT({},en(t,!1),Ub(t),{className:s,cx:r,cy:n,r:a})):null};function I1(e){"@babel/helpers - typeof";return I1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I1(e)}var xMe=["x","y","top","left","width","height","className"];function XT(){return XT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},XT.apply(this,arguments)}function YR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bMe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YR(Object(r),!0).forEach(function(n){wMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wMe(e,t,r){return t=_Me(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Me(e){var t=SMe(e,"string");return I1(t)=="symbol"?t:t+""}function SMe(e,t){if(I1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(I1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AMe(e,t){if(e==null)return{};var r=EMe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function EMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var TMe=function(t,r,n,a,i,s){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(s,",").concat(r,"h").concat(n)},NMe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.top,o=s===void 0?0:s,l=t.left,c=l===void 0?0:l,u=t.width,f=u===void 0?0:u,h=t.height,p=h===void 0?0:h,g=t.className,m=AMe(t,xMe),y=bMe({x:n,y:i,top:o,left:c,width:f,height:p},m);return!$t(n)||!$t(i)||!$t(f)||!$t(p)||!$t(o)||!$t(c)?null:Re.createElement("path",XT({},en(y,!0),{className:pn("recharts-cross",g),d:TMe(n,i,f,p,o,c)}))},kMe=PH,CMe=kMe(Object.getPrototypeOf,Object),PMe=CMe,OMe=du,IMe=PMe,jMe=hu,DMe="[object Object]",LMe=Function.prototype,MMe=Object.prototype,vK=LMe.toString,RMe=MMe.hasOwnProperty,FMe=vK.call(Object);function $Me(e){if(!jMe(e)||OMe(e)!=DMe)return!1;var t=IMe(e);if(t===null)return!0;var r=RMe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&vK.call(r)==FMe}var BMe=$Me;const UMe=On(BMe);var VMe=du,zMe=hu,qMe="[object Boolean]";function WMe(e){return e===!0||e===!1||zMe(e)&&VMe(e)==qMe}var HMe=WMe;const GMe=On(HMe);function j1(e){"@babel/helpers - typeof";return j1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j1(e)}function Sw(){return Sw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sw.apply(this,arguments)}function KMe(e,t){return JMe(e)||QMe(e,t)||XMe(e,t)||YMe()}function YMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XMe(e,t){if(e){if(typeof e=="string")return XR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XR(e,t)}}function XR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function QMe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function JMe(e){if(Array.isArray(e))return e}function QR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function JR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QR(Object(r),!0).forEach(function(n){ZMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZMe(e,t,r){return t=eRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eRe(e){var t=tRe(e,"string");return j1(t)=="symbol"?t:t+""}function tRe(e,t){if(j1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(j1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZR=function(t,r,n,a,i){var s=n-a,o;return o="M ".concat(t,",").concat(r),o+="L ".concat(t+n,",").concat(r),o+="L ".concat(t+n-s/2,",").concat(r+i),o+="L ".concat(t+n-s/2-a,",").concat(r+i),o+="L ".concat(t,",").concat(r," Z"),o},rRe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},nRe=function(t){var r=JR(JR({},rRe),t),n=F.useRef(),a=F.useState(-1),i=KMe(a,2),s=i[0],o=i[1];F.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&o(w)}catch{}},[]);var l=r.x,c=r.y,u=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,g=r.animationEasing,m=r.animationDuration,y=r.animationBegin,v=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||h!==+h||u===0&&f===0||h===0)return null;var b=pn("recharts-trapezoid",p);return v?Re.createElement(iu,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:f,height:h,x:l,y:c},duration:m,animationEasing:g,isActive:v},function(w){var D=w.upperWidth,P=w.lowerWidth,j=w.height,E=w.x,_=w.y;return Re.createElement(iu,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:m,easing:g},Re.createElement("path",Sw({},en(r,!0),{className:b,d:ZR(E,_,D,P,j),ref:n})))}):Re.createElement("g",null,Re.createElement("path",Sw({},en(r,!0),{className:b,d:ZR(l,c,u,f,h)})))},aRe=["option","shapeType","propTransformer","activeClassName","isActive"];function D1(e){"@babel/helpers - typeof";return D1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D1(e)}function iRe(e,t){if(e==null)return{};var r=sRe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function eF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Aw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eF(Object(r),!0).forEach(function(n){oRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oRe(e,t,r){return t=lRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lRe(e){var t=cRe(e,"string");return D1(t)=="symbol"?t:t+""}function cRe(e,t){if(D1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(D1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uRe(e,t){return Aw(Aw({},t),e)}function fRe(e,t){return e==="symbols"}function tF(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return Re.createElement(kP,r);case"trapezoid":return Re.createElement(nRe,r);case"sector":return Re.createElement(sK,r);case"symbols":if(fRe(t))return Re.createElement(GC,r);break;default:return null}}function dRe(e){return F.isValidElement(e)?e.props:e}function hRe(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?uRe:n,i=e.activeClassName,s=i===void 0?"recharts-active-shape":i,o=e.isActive,l=iRe(e,aRe),c;if(F.isValidElement(t))c=F.cloneElement(t,Aw(Aw({},l),dRe(t)));else if(Vr(t))c=t(l);else if(UMe(t)&&!GMe(t)){var u=a(t,l);c=Re.createElement(tF,{shapeType:r,elementProps:u})}else{var f=l;c=Re.createElement(tF,{shapeType:r,elementProps:f})}return o?Re.createElement(Ea,{className:s},c):c}function v_(e,t){return t!=null&&"trapezoids"in e.props}function y_(e,t){return t!=null&&"sectors"in e.props}function L1(e,t){return t!=null&&"points"in e.props}function pRe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function mRe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function gRe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function vRe(e,t){var r;return v_(e,t)?r=pRe:y_(e,t)?r=mRe:L1(e,t)&&(r=gRe),r}function yRe(e,t){var r;return v_(e,t)?r="trapezoids":y_(e,t)?r="sectors":L1(e,t)&&(r="points"),r}function xRe(e,t){if(v_(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(y_(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return L1(e,t)?t.payload:{}}function bRe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=yRe(r,t),i=xRe(r,t),s=n.filter(function(l,c){var u=p_(i,l),f=r.props[a].filter(function(g){var m=vRe(r,t);return m(g,t)}),h=r.props[a].indexOf(f[f.length-1]),p=c===h;return u&&p}),o=n.indexOf(s[s.length-1]);return o}var wRe=Math.ceil,_Re=Math.max;function SRe(e,t,r,n){for(var a=-1,i=_Re(wRe((t-e)/(r||1)),0),s=Array(i);i--;)s[n?i:++a]=e,e+=r;return s}var ARe=SRe,ERe=YH,rF=1/0,TRe=17976931348623157e292;function NRe(e){if(!e)return e===0?e:0;if(e=ERe(e),e===rF||e===-rF){var t=e<0?-1:1;return t*TRe}return e===e?e:0}var yK=NRe,kRe=ARe,CRe=i_,NA=yK;function PRe(e){return function(t,r,n){return n&&typeof n!="number"&&CRe(t,r,n)&&(r=n=void 0),t=NA(t),r===void 0?(r=t,t=0):r=NA(r),n=n===void 0?t<r?1:-1:NA(n),kRe(t,r,n,e)}}var ORe=PRe,IRe=ORe,jRe=IRe(),DRe=jRe;const Ew=On(DRe);function M1(e){"@babel/helpers - typeof";return M1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M1(e)}function nF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nF(Object(r),!0).forEach(function(n){xK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xK(e,t,r){return t=LRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LRe(e){var t=MRe(e,"string");return M1(t)=="symbol"?t:t+""}function MRe(e,t){if(M1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(M1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RRe=["Webkit","Moz","O","ms"],FRe=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=RRe.reduce(function(i,s){return aF(aF({},i),{},xK({},s+n,r))},{});return a[t]=r,a};function Lp(e){"@babel/helpers - typeof";return Lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lp(e)}function Tw(){return Tw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tw.apply(this,arguments)}function iF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iF(Object(r),!0).forEach(function(n){Ys(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wK(n.key),n)}}function BRe(e,t,r){return t&&sF(e.prototype,t),r&&sF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function URe(e,t,r){return t=Nw(t),VRe(e,bK()?Reflect.construct(t,r||[],Nw(e).constructor):t.apply(e,r))}function VRe(e,t){if(t&&(Lp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zRe(e)}function zRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bK=function(){return!!e})()}function Nw(e){return Nw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nw(e)}function qRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&QT(e,t)}function QT(e,t){return QT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},QT(e,t)}function Ys(e,t,r){return t=wK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wK(e){var t=WRe(e,"string");return Lp(t)=="symbol"?t:t+""}function WRe(e,t){if(Lp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Lp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HRe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,s=t.width,o=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=iv().domain(Ew(0,l)).range([i,i+s-o]),u=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(a),scale:c,scaleValues:u}},oF=function(t){return t.changedTouches&&!!t.changedTouches.length},Mp=function(e){function t(r){var n;return $Re(this,t),n=URe(this,t,[r]),Ys(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Ys(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Ys(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,s=a.onDragEnd,o=a.startIndex;s==null||s({endIndex:i,startIndex:o})}),n.detachDragEndListener()}),Ys(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Ys(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Ys(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Ys(n,"handleSlideDragStart",function(a){var i=oF(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return qRe(t,e),BRe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,s=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,u=c.length-1,f=Math.min(a,i),h=Math.max(a,i),p=t.getIndexInRange(s,f),g=t.getIndexInRange(s,h);return{startIndex:p-p%l,endIndex:g===u?u:g-g%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,s=a.tickFormatter,o=a.dataKey,l=oo(i[n],o,n);return Vr(s)?s(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,s=a.startX,o=a.endX,l=this.props,c=l.x,u=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,g=l.onChange,m=n.pageX-i;m>0?m=Math.min(m,c+u-f-o,c+u-f-s):m<0&&(m=Math.max(m,c-s,c-o));var y=this.getIndex({startX:s+m,endX:o+m});(y.startIndex!==h||y.endIndex!==p)&&g&&g(y),this.setState({startX:s+m,endX:o+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=oF(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,o=a.endX,l=a.startX,c=this.state[s],u=this.props,f=u.x,h=u.width,p=u.travellerWidth,g=u.onChange,m=u.gap,y=u.data,v={startX:this.state.startX,endX:this.state.endX},b=n.pageX-i;b>0?b=Math.min(b,f+h-p-c):b<0&&(b=Math.max(b,f-c)),v[s]=c+b;var w=this.getIndex(v),D=w.startIndex,P=w.endIndex,j=function(){var _=y.length-1;return s==="startX"&&(o>l?D%m===0:P%m===0)||o<l&&P===_||s==="endX"&&(o>l?P%m===0:D%m===0)||o>l&&P===_};this.setState(Ys(Ys({},s,c+b),"brushMoveStartX",n.pageX),function(){g&&j()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,s=this.state,o=s.scaleValues,l=s.startX,c=s.endX,u=this.state[a],f=o.indexOf(u);if(f!==-1){var h=f+n;if(!(h===-1||h>=o.length)){var p=o[h];a==="startX"&&p>=c||a==="endX"&&p<=l||this.setState(Ys({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.fill,c=n.stroke;return Re.createElement("rect",{stroke:c,fill:l,x:a,y:i,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.data,c=n.children,u=n.padding,f=F.Children.only(c);return f?Re.cloneElement(f,{x:a,y:i,width:s,height:o,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,s,o=this,l=this.props,c=l.y,u=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,g=l.data,m=l.startIndex,y=l.endIndex,v=Math.max(n,this.props.x),b=kA(kA({},en(this.props,!1)),{},{x:v,y:c,width:u,height:f}),w=p||"Min value: ".concat((i=g[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=g[y])===null||s===void 0?void 0:s.name);return Re.createElement(Ea,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(P){["ArrowLeft","ArrowRight"].includes(P.key)&&(P.preventDefault(),P.stopPropagation(),o.handleTravellerMoveKeyboard(P.key==="ArrowRight"?1:-1,a))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,b))}},{key:"renderSlide",value:function(n,a){var i=this.props,s=i.y,o=i.height,l=i.stroke,c=i.travellerWidth,u=Math.min(n,a)+c,f=Math.max(Math.abs(a-n)-c,0);return Re.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:s,width:f,height:o})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,s=n.y,o=n.height,l=n.travellerWidth,c=n.stroke,u=this.state,f=u.startX,h=u.endX,p=5,g={pointerEvents:"none",fill:c};return Re.createElement(Ea,{className:"recharts-brush-texts"},Re.createElement(rw,Tw({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:s+o/2},g),this.getTextOfTick(a)),Re.createElement(rw,Tw({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:s+o/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,s=n.children,o=n.x,l=n.y,c=n.width,u=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,g=h.endX,m=h.isTextActive,y=h.isSlideMoving,v=h.isTravellerMoving,b=h.isTravellerFocused;if(!a||!a.length||!$t(o)||!$t(l)||!$t(c)||!$t(u)||c<=0||u<=0)return null;var w=pn("recharts-brush",i),D=Re.Children.count(s)===1,P=FRe("userSelect","none");return Re.createElement(Ea,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:P},this.renderBackground(),D&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(m||y||v||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,s=n.width,o=n.height,l=n.stroke,c=Math.floor(i+o/2)-1;return Re.createElement(Re.Fragment,null,Re.createElement("rect",{x:a,y:i,width:s,height:o,fill:l,stroke:"none"}),Re.createElement("line",{x1:a+1,y1:c,x2:a+s-1,y2:c,fill:"none",stroke:"#fff"}),Re.createElement("line",{x1:a+1,y1:c+2,x2:a+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return Re.isValidElement(n)?i=Re.cloneElement(n,a):Vr(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,s=n.width,o=n.x,l=n.travellerWidth,c=n.updateId,u=n.startIndex,f=n.endIndex;if(i!==a.prevData||c!==a.prevUpdateId)return kA({prevData:i,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s},i&&i.length?HRe({data:i,width:s,x:o,travellerWidth:l,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||o!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([o,o+s-l]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,s=0,o=i-1;o-s>1;){var l=Math.floor((s+o)/2);n[l]>a?o=l:s=l}return a>=n[o]?o:s}}])}(F.PureComponent);Ys(Mp,"displayName","Brush");Ys(Mp,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var GRe=eP;function KRe(e,t){var r;return GRe(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var YRe=KRe,XRe=_H,QRe=ed,JRe=YRe,ZRe=Fs,eFe=i_;function tFe(e,t,r){var n=ZRe(e)?XRe:JRe;return r&&eFe(e,t,r)&&(t=void 0),n(e,QRe(t))}var rFe=tFe;const nFe=On(rFe);var nc=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},lF=qH;function aFe(e,t,r){t=="__proto__"&&lF?lF(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var iFe=aFe,sFe=iFe,oFe=VH,lFe=ed;function cFe(e,t){var r={};return t=lFe(t),oFe(e,function(n,a,i){sFe(r,a,t(n,a,i))}),r}var uFe=cFe;const fFe=On(uFe);function dFe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var hFe=dFe,pFe=eP;function mFe(e,t){var r=!0;return pFe(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var gFe=mFe,vFe=hFe,yFe=gFe,xFe=ed,bFe=Fs,wFe=i_;function _Fe(e,t,r){var n=bFe(e)?vFe:yFe;return r&&wFe(e,t,r)&&(t=void 0),n(e,xFe(t))}var SFe=_Fe;const _K=On(SFe);var AFe=["x","y"];function R1(e){"@babel/helpers - typeof";return R1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R1(e)}function JT(){return JT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},JT.apply(this,arguments)}function cF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cF(Object(r),!0).forEach(function(n){EFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EFe(e,t,r){return t=TFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TFe(e){var t=NFe(e,"string");return R1(t)=="symbol"?t:t+""}function NFe(e,t){if(R1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(R1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kFe(e,t){if(e==null)return{};var r=CFe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function CFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function PFe(e,t){var r=e.x,n=e.y,a=kFe(e,AFe),i="".concat(r),s=parseInt(i,10),o="".concat(n),l=parseInt(o,10),c="".concat(t.height||a.height),u=parseInt(c,10),f="".concat(t.width||a.width),h=parseInt(f,10);return lg(lg(lg(lg(lg({},t),a),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function uF(e){return Re.createElement(hRe,JT({shapeType:"rectangle",propTransformer:PFe,activeClassName:"recharts-active-bar"},e))}var OFe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=typeof n=="number";return i?t(n,a):(i||gh(),r)}},IFe=["value","background"],SK;function Rp(e){"@babel/helpers - typeof";return Rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rp(e)}function jFe(e,t){if(e==null)return{};var r=DFe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function DFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function kw(){return kw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kw.apply(this,arguments)}function fF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ia(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fF(Object(r),!0).forEach(function(n){ff(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EK(n.key),n)}}function MFe(e,t,r){return t&&dF(e.prototype,t),r&&dF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function RFe(e,t,r){return t=Cw(t),FFe(e,AK()?Reflect.construct(t,r||[],Cw(e).constructor):t.apply(e,r))}function FFe(e,t){if(t&&(Rp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Fe(e)}function $Fe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AK=function(){return!!e})()}function Cw(e){return Cw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cw(e)}function BFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZT(e,t)}function ZT(e,t){return ZT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ZT(e,t)}function ff(e,t,r){return t=EK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EK(e){var t=UFe(e,"string");return Rp(t)=="symbol"?t:t+""}function UFe(e,t){if(Rp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Rp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ty=function(e){function t(){var r;LFe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=RFe(this,t,[].concat(a)),ff(r,"state",{isAnimationFinished:!1}),ff(r,"id",xy("recharts-bar-")),ff(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),ff(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return BFe(t,e),MFe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,s=i.shape,o=i.dataKey,l=i.activeIndex,c=i.activeBar,u=en(this.props,!1);return n&&n.map(function(f,h){var p=h===l,g=p?c:s,m=Ia(Ia(Ia({},u),f),{},{isActive:p,option:g,index:h,dataKey:o,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return Re.createElement(Ea,kw({className:"recharts-bar-rectangle"},Vb(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),Re.createElement(uF,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,s=a.layout,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,f=a.animationId,h=this.state.prevData;return Re.createElement(iu,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,m=i.map(function(y,v){var b=h&&h[v];if(b){var w=dl(b.x,y.x),D=dl(b.y,y.y),P=dl(b.width,y.width),j=dl(b.height,y.height);return Ia(Ia({},y),{},{x:w(g),y:D(g),width:P(g),height:j(g)})}if(s==="horizontal"){var E=dl(0,y.height),_=E(g);return Ia(Ia({},y),{},{y:y.y+y.height-_,height:_})}var S=dl(0,y.width),I=S(g);return Ia(Ia({},y),{},{width:I})});return Re.createElement(Ea,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,s=this.state.prevData;return i&&a&&a.length&&(!s||!p_(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,s=a.dataKey,o=a.activeIndex,l=en(this.props.background,!1);return i.map(function(c,u){c.value;var f=c.background,h=jFe(c,IFe);if(!f)return null;var p=Ia(Ia(Ia(Ia(Ia({},h),{},{fill:"#eee"},f),l),Vb(n.props,c,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:u,className:"recharts-bar-background-rectangle"});return Re.createElement(uF,kw({key:"background-bar-".concat(u),option:n.props.background,isActive:u===o},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.data,o=i.xAxis,l=i.yAxis,c=i.layout,u=i.children,f=Lo(u,Ey);if(!f)return null;var h=c==="vertical"?s[0].height/2:s[0].width/2,p=function(y,v){var b=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:b,errorVal:oo(y,v)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return Re.createElement(Ea,g,f.map(function(m){return Re.cloneElement(m,{key:"error-bar-".concat(a,"-").concat(m.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,s=n.className,o=n.xAxis,l=n.yAxis,c=n.left,u=n.top,f=n.width,h=n.height,p=n.isAnimationActive,g=n.background,m=n.id;if(a||!i||!i.length)return null;var y=this.state.isAnimationFinished,v=pn("recharts-bar",s),b=o&&o.allowDataOverflow,w=l&&l.allowDataOverflow,D=b||w,P=Jr(m)?this.id:m;return Re.createElement(Ea,{className:v},b||w?Re.createElement("defs",null,Re.createElement("clipPath",{id:"clipPath-".concat(P)},Re.createElement("rect",{x:b?c:c-f/2,y:w?u:u-h/2,width:b?f:f*2,height:w?h:h*2}))):null,Re.createElement(Ea,{className:"recharts-bar-rectangles",clipPath:D?"url(#clipPath-".concat(P,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(D,P),(!p||y)&&Pf.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(F.PureComponent);SK=Ty;ff(Ty,"displayName","Bar");ff(Ty,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Uc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ff(Ty,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,s=e.yAxis,o=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,f=e.displayedData,h=e.offset,p=vDe(n,r);if(!p)return null;var g=t.layout,m=r.type.defaultProps,y=m!==void 0?Ia(Ia({},m),r.props):r.props,v=y.dataKey,b=y.children,w=y.minPointSize,D=g==="horizontal"?s:i,P=c?D.scale.domain():null,j=EDe({numericAxis:D}),E=Lo(b,QH),_=f.map(function(S,I){var T,N,O,U,Y,K;c?T=yDe(c[u+I],P):(T=oo(S,v),Array.isArray(T)||(T=[j,T]));var J=OFe(w,SK.defaultProps.minPointSize)(T[1],I);if(g==="horizontal"){var q,V=[s.scale(T[0]),s.scale(T[1])],ee=V[0],Z=V[1];N=fR({axis:i,ticks:o,bandSize:a,offset:p.offset,entry:S,index:I}),O=(q=Z??ee)!==null&&q!==void 0?q:void 0,U=p.size;var k=ee-Z;if(Y=Number.isNaN(k)?0:k,K={x:N,y:s.y,width:U,height:s.height},Math.abs(J)>0&&Math.abs(Y)<Math.abs(J)){var R=vl(Y||J)*(Math.abs(J)-Math.abs(Y));O-=R,Y+=R}}else{var z=[i.scale(T[0]),i.scale(T[1])],G=z[0],Q=z[1];if(N=G,O=fR({axis:s,ticks:l,bandSize:a,offset:p.offset,entry:S,index:I}),U=Q-G,Y=p.size,K={x:i.x,y:O,width:i.width,height:Y},Math.abs(J)>0&&Math.abs(U)<Math.abs(J)){var oe=vl(U||J)*(Math.abs(J)-Math.abs(U));U+=oe}}return Ia(Ia(Ia({},S),{},{x:N,y:O,width:U,height:Y,value:c?T:T[1],payload:S,background:K},E&&E[I]&&E[I].props),{},{tooltipPayload:[nK(r,S)],tooltipPosition:{x:N+U/2,y:O+Y/2}})});return Ia({data:_,layout:g},h)});function F1(e){"@babel/helpers - typeof";return F1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F1(e)}function VFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TK(n.key),n)}}function zFe(e,t,r){return t&&hF(e.prototype,t),r&&hF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function pF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pF(Object(r),!0).forEach(function(n){x_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x_(e,t,r){return t=TK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TK(e){var t=qFe(e,"string");return F1(t)=="symbol"?t:t+""}function qFe(e,t){if(F1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(F1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WFe=function(t,r,n,a,i){var s=t.width,o=t.height,l=t.layout,c=t.children,u=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},h=!!Qs(c,Ty);return u.reduce(function(p,g){var m=r[g],y=m.orientation,v=m.domain,b=m.padding,w=b===void 0?{}:b,D=m.mirror,P=m.reversed,j="".concat(y).concat(D?"Mirror":""),E,_,S,I,T;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var N=v[1]-v[0],O=1/0,U=m.categoricalDomain.sort(Q5e);if(U.forEach(function(z,G){G>0&&(O=Math.min((z||0)-(U[G-1]||0),O))}),Number.isFinite(O)){var Y=O/N,K=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(E=Y*K/2),m.padding==="no-gap"){var J=ph(t.barCategoryGap,Y*K),q=Y*K/2;E=q-J-(q-J)/K*J}}}a==="xAxis"?_=[n.left+(w.left||0)+(E||0),n.left+n.width-(w.right||0)-(E||0)]:a==="yAxis"?_=l==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(E||0),n.top+n.height-(w.bottom||0)-(E||0)]:_=m.range,P&&(_=[_[1],_[0]]);var V=mDe(m,i,h),ee=V.scale,Z=V.realScaleType;ee.domain(v).range(_),gDe(ee);var k=ADe(ee,cl(cl({},m),{},{realScaleType:Z}));a==="xAxis"?(T=y==="top"&&!D||y==="bottom"&&D,S=n.left,I=f[j]-T*m.height):a==="yAxis"&&(T=y==="left"&&!D||y==="right"&&D,S=f[j]-T*m.width,I=n.top);var R=cl(cl(cl({},m),k),{},{realScaleType:Z,x:S,y:I,scale:ee,width:a==="xAxis"?n.width:m.width,height:a==="yAxis"?n.height:m.height});return R.bandSize=gw(R,k),!m.hide&&a==="xAxis"?f[j]+=(T?-1:1)*R.height:m.hide||(f[j]+=(T?-1:1)*R.width),cl(cl({},p),{},x_({},g,R))},{})},NK=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return{x:Math.min(n,i),y:Math.min(a,s),width:Math.abs(i-n),height:Math.abs(s-a)}},HFe=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return NK({x:r,y:n},{x:a,y:i})},kK=function(){function e(t){VFe(this,e),this.scale=t}return zFe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();x_(kK,"EPS",1e-4);var PP=function(t){var r=Object.keys(t).reduce(function(n,a){return cl(cl({},n),{},x_({},a,kK.create(t[a])))},{});return cl(cl({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,o=i.position;return fFe(a,function(l,c){return r[c].apply(l,{bandAware:s,position:o})})},isInRange:function(a){return _K(a,function(i,s){return r[s].isInRange(i)})}})};function GFe(e){return(e%180+180)%180}var KFe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=GFe(a),s=i*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},YFe=ed,XFe=by,QFe=n_;function JFe(e){return function(t,r,n){var a=Object(t);if(!XFe(t)){var i=YFe(r);t=QFe(t),r=function(o){return i(a[o],o,a)}}var s=e(t,r,n);return s>-1?a[i?t[s]:s]:void 0}}var ZFe=JFe,e7e=yK;function t7e(e){var t=e7e(e),r=t%1;return t===t?r?t-r:t:0}var r7e=t7e,n7e=MH,a7e=ed,i7e=r7e,s7e=Math.max;function o7e(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:i7e(r);return a<0&&(a=s7e(n+a,0)),n7e(e,a7e(t),a)}var l7e=o7e,c7e=ZFe,u7e=l7e,f7e=c7e(u7e),d7e=f7e;const h7e=On(d7e);var p7e=Zwe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),OP=F.createContext(void 0),IP=F.createContext(void 0),CK=F.createContext(void 0),PK=F.createContext({}),OK=F.createContext(void 0),IK=F.createContext(0),jK=F.createContext(0),mF=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,s=t.clipPathId,o=t.children,l=t.width,c=t.height,u=p7e(i);return Re.createElement(OP.Provider,{value:n},Re.createElement(IP.Provider,{value:a},Re.createElement(PK.Provider,{value:i},Re.createElement(CK.Provider,{value:u},Re.createElement(OK.Provider,{value:s},Re.createElement(IK.Provider,{value:c},Re.createElement(jK.Provider,{value:l},o)))))))},m7e=function(){return F.useContext(OK)},DK=function(t){var r=F.useContext(OP);r==null&&gh();var n=r[t];return n==null&&gh(),n},g7e=function(){var t=F.useContext(OP);return rf(t)},v7e=function(){var t=F.useContext(IP),r=h7e(t,function(n){return _K(n.domain,Number.isFinite)});return r||rf(t)},LK=function(t){var r=F.useContext(IP);r==null&&gh();var n=r[t];return n==null&&gh(),n},y7e=function(){var t=F.useContext(CK);return t},x7e=function(){return F.useContext(PK)},jP=function(){return F.useContext(jK)},DP=function(){return F.useContext(IK)};function Fp(e){"@babel/helpers - typeof";return Fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fp(e)}function b7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w7e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RK(n.key),n)}}function _7e(e,t,r){return t&&w7e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function S7e(e,t,r){return t=Pw(t),A7e(e,MK()?Reflect.construct(t,r||[],Pw(e).constructor):t.apply(e,r))}function A7e(e,t){if(t&&(Fp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E7e(e)}function E7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MK=function(){return!!e})()}function Pw(e){return Pw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pw(e)}function T7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&e3(e,t)}function e3(e,t){return e3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},e3(e,t)}function gF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gF(Object(r),!0).forEach(function(n){LP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LP(e,t,r){return t=RK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RK(e){var t=N7e(e,"string");return Fp(t)=="symbol"?t:t+""}function N7e(e,t){if(Fp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function k7e(e,t){return I7e(e)||O7e(e,t)||P7e(e,t)||C7e()}function C7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P7e(e,t){if(e){if(typeof e=="string")return yF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yF(e,t)}}function yF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function O7e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function I7e(e){if(Array.isArray(e))return e}function t3(){return t3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t3.apply(this,arguments)}var j7e=function(t,r){var n;return Re.isValidElement(t)?n=Re.cloneElement(t,r):Vr(t)?n=t(r):n=Re.createElement("line",t3({},r,{className:"recharts-reference-line-line"})),n},D7e=function(t,r,n,a,i,s,o,l,c){var u=i.x,f=i.y,h=i.width,p=i.height;if(n){var g=c.y,m=t.y.apply(g,{position:s});if(nc(c,"discard")&&!t.y.isInRange(m))return null;var y=[{x:u+h,y:m},{x:u,y:m}];return l==="left"?y.reverse():y}if(r){var v=c.x,b=t.x.apply(v,{position:s});if(nc(c,"discard")&&!t.x.isInRange(b))return null;var w=[{x:b,y:f+p},{x:b,y:f}];return o==="top"?w.reverse():w}if(a){var D=c.segment,P=D.map(function(j){return t.apply(j,{position:s})});return nc(c,"discard")&&nFe(P,function(j){return!t.isInRange(j)})?null:P}return null};function L7e(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,s=e.shape,o=e.className,l=e.alwaysShow,c=m7e(),u=DK(a),f=LK(i),h=y7e();if(!c||!h)return null;Bc(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=PP({x:u.scale,y:f.scale}),g=qa(t),m=qa(r),y=n&&n.length===2,v=D7e(p,g,m,y,h,e.position,u.orientation,f.orientation,e);if(!v)return null;var b=k7e(v,2),w=b[0],D=w.x,P=w.y,j=b[1],E=j.x,_=j.y,S=nc(e,"hidden")?"url(#".concat(c,")"):void 0,I=vF(vF({clipPath:S},en(e,!0)),{},{x1:D,y1:P,x2:E,y2:_});return Re.createElement(Ea,{className:pn("recharts-reference-line",o)},j7e(s,I),zi.renderCallByParent(e,HFe({x1:D,y1:P,x2:E,y2:_})))}var MP=function(e){function t(){return b7e(this,t),S7e(this,t,arguments)}return T7e(t,e),_7e(t,[{key:"render",value:function(){return Re.createElement(L7e,this.props)}}])}(Re.Component);LP(MP,"displayName","ReferenceLine");LP(MP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function r3(){return r3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r3.apply(this,arguments)}function $p(e){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$p(e)}function xF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xF(Object(r),!0).forEach(function(n){b_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R7e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$K(n.key),n)}}function F7e(e,t,r){return t&&R7e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $7e(e,t,r){return t=Ow(t),B7e(e,FK()?Reflect.construct(t,r||[],Ow(e).constructor):t.apply(e,r))}function B7e(e,t){if(t&&($p(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U7e(e)}function U7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FK=function(){return!!e})()}function Ow(e){return Ow=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ow(e)}function V7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n3(e,t)}function n3(e,t){return n3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},n3(e,t)}function b_(e,t,r){return t=$K(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $K(e){var t=z7e(e,"string");return $p(t)=="symbol"?t:t+""}function z7e(e,t){if($p(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($p(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var q7e=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,s=PP({x:a.scale,y:i.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return nc(t,"discard")&&!s.isInRange(o)?null:o},w_=function(e){function t(){return M7e(this,t),$7e(this,t,arguments)}return V7e(t,e),F7e(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,s=n.r,o=n.alwaysShow,l=n.clipPathId,c=qa(a),u=qa(i);if(Bc(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var f=q7e(this.props);if(!f)return null;var h=f.x,p=f.y,g=this.props,m=g.shape,y=g.className,v=nc(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=bF(bF({clipPath:v},en(this.props,!0)),{},{cx:h,cy:p});return Re.createElement(Ea,{className:pn("recharts-reference-dot",y)},t.renderDot(m,b),zi.renderCallByParent(this.props,{x:h-s,y:p-s,width:2*s,height:2*s}))}}])}(Re.Component);b_(w_,"displayName","ReferenceDot");b_(w_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});b_(w_,"renderDot",function(e,t){var r;return Re.isValidElement(e)?r=Re.cloneElement(e,t):Vr(e)?r=e(t):r=Re.createElement(CP,r3({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function a3(){return a3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a3.apply(this,arguments)}function Bp(e){"@babel/helpers - typeof";return Bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bp(e)}function wF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _F(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wF(Object(r),!0).forEach(function(n){__(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H7e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UK(n.key),n)}}function G7e(e,t,r){return t&&H7e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function K7e(e,t,r){return t=Iw(t),Y7e(e,BK()?Reflect.construct(t,r||[],Iw(e).constructor):t.apply(e,r))}function Y7e(e,t){if(t&&(Bp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X7e(e)}function X7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BK=function(){return!!e})()}function Iw(e){return Iw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Iw(e)}function Q7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i3(e,t)}function i3(e,t){return i3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},i3(e,t)}function __(e,t,r){return t=UK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UK(e){var t=J7e(e,"string");return Bp(t)=="symbol"?t:t+""}function J7e(e,t){if(Bp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Z7e=function(t,r,n,a,i){var s=i.x1,o=i.x2,l=i.y1,c=i.y2,u=i.xAxis,f=i.yAxis;if(!u||!f)return null;var h=PP({x:u.scale,y:f.scale}),p={x:t?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(c,{position:"end"}):h.y.rangeMax};return nc(i,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:NK(p,g)},S_=function(e){function t(){return W7e(this,t),K7e(this,t,arguments)}return Q7e(t,e),G7e(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,s=n.y1,o=n.y2,l=n.className,c=n.alwaysShow,u=n.clipPathId;Bc(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=qa(a),h=qa(i),p=qa(s),g=qa(o),m=this.props.shape;if(!f&&!h&&!p&&!g&&!m)return null;var y=Z7e(f,h,p,g,this.props);if(!y&&!m)return null;var v=nc(this.props,"hidden")?"url(#".concat(u,")"):void 0;return Re.createElement(Ea,{className:pn("recharts-reference-area",l)},t.renderRect(m,_F(_F({clipPath:v},en(this.props,!0)),y)),zi.renderCallByParent(this.props,y))}}])}(Re.Component);__(S_,"displayName","ReferenceArea");__(S_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});__(S_,"renderRect",function(e,t){var r;return Re.isValidElement(e)?r=Re.cloneElement(e,t):Vr(e)?r=e(t):r=Re.createElement(kP,a3({},t,{className:"recharts-reference-area-rect"})),r});function VK(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function e$e(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return KFe(n,r)}function t$e(e,t,r){var n=r==="width",a=e.x,i=e.y,s=e.width,o=e.height;return t===1?{start:n?a:i,end:n?a+s:i+o}:{start:n?a+s:i+o,end:n?a:i}}function jw(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function r$e(e,t){return VK(e,t+1)}function n$e(e,t,r,n,a){for(var i=(n||[]).slice(),s=t.start,o=t.end,l=0,c=1,u=s,f=function(){var g=n==null?void 0:n[l];if(g===void 0)return{v:VK(n,c)};var m=l,y,v=function(){return y===void 0&&(y=r(g,m)),y},b=g.coordinate,w=l===0||jw(e,b,v,u,o);w||(l=0,u=s,c+=1),w&&(u=b+e*(v()/2+a),l+=c)},h;c<=i.length;)if(h=f(),h)return h.v;return[]}function $1(e){"@babel/helpers - typeof";return $1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$1(e)}function SF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SF(Object(r),!0).forEach(function(n){a$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a$e(e,t,r){return t=i$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i$e(e){var t=s$e(e,"string");return $1(t)=="symbol"?t:t+""}function s$e(e,t){if($1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function o$e(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,o=t.start,l=t.end,c=function(h){var p=i[h],g,m=function(){return g===void 0&&(g=r(p,h)),g};if(h===s-1){var y=e*(p.coordinate+e*m()/2-l);i[h]=p=Fi(Fi({},p),{},{tickCoord:y>0?p.coordinate-y*e:p.coordinate})}else i[h]=p=Fi(Fi({},p),{},{tickCoord:p.coordinate});var v=jw(e,p.tickCoord,m,o,l);v&&(l=p.tickCoord-e*(m()/2+a),i[h]=Fi(Fi({},p),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return i}function l$e(e,t,r,n,a,i){var s=(n||[]).slice(),o=s.length,l=t.start,c=t.end;if(i){var u=n[o-1],f=r(u,o-1),h=e*(u.coordinate+e*f/2-c);s[o-1]=u=Fi(Fi({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate});var p=jw(e,u.tickCoord,function(){return f},l,c);p&&(c=u.tickCoord-e*(f/2+a),s[o-1]=Fi(Fi({},u),{},{isShow:!0}))}for(var g=i?o-1:o,m=function(b){var w=s[b],D,P=function(){return D===void 0&&(D=r(w,b)),D};if(b===0){var j=e*(w.coordinate-e*P()/2-l);s[b]=w=Fi(Fi({},w),{},{tickCoord:j<0?w.coordinate-j*e:w.coordinate})}else s[b]=w=Fi(Fi({},w),{},{tickCoord:w.coordinate});var E=jw(e,w.tickCoord,P,l,c);E&&(l=w.tickCoord+e*(P()/2+a),s[b]=Fi(Fi({},w),{},{isShow:!0}))},y=0;y<g;y++)m(y);return s}function RP(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,s=e.minTickGap,o=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if($t(l)||Uc.isSsr)return r$e(a,typeof l=="number"&&$t(l)?l:0);var h=[],p=o==="top"||o==="bottom"?"width":"height",g=u&&p==="width"?av(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(w,D){var P=Vr(c)?c(w.value,D):w.value;return p==="width"?e$e(av(P,{fontSize:t,letterSpacing:r}),g,f):av(P,{fontSize:t,letterSpacing:r})[p]},y=a.length>=2?vl(a[1].coordinate-a[0].coordinate):1,v=t$e(i,y,p);return l==="equidistantPreserveStart"?n$e(y,v,m,a,s):(l==="preserveStart"||l==="preserveStartEnd"?h=l$e(y,v,m,a,s,l==="preserveStartEnd"):h=o$e(y,v,m,a,s),h.filter(function(b){return b.isShow}))}var c$e=["viewBox"],u$e=["viewBox"],f$e=["ticks"];function Up(e){"@babel/helpers - typeof";return Up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Up(e)}function M0(){return M0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M0.apply(this,arguments)}function AF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ss(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AF(Object(r),!0).forEach(function(n){FP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CA(e,t){if(e==null)return{};var r=d$e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function d$e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function h$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qK(n.key),n)}}function p$e(e,t,r){return t&&EF(e.prototype,t),r&&EF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function m$e(e,t,r){return t=Dw(t),g$e(e,zK()?Reflect.construct(t,r||[],Dw(e).constructor):t.apply(e,r))}function g$e(e,t){if(t&&(Up(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v$e(e)}function v$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zK=function(){return!!e})()}function Dw(e){return Dw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dw(e)}function y$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s3(e,t)}function s3(e,t){return s3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},s3(e,t)}function FP(e,t,r){return t=qK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qK(e){var t=x$e(e,"string");return Up(t)=="symbol"?t:t+""}function x$e(e,t){if(Up(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Up(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sm=function(e){function t(r){var n;return h$e(this,t),n=m$e(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return y$e(t,e),p$e(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,s=CA(n,c$e),o=this.props,l=o.viewBox,c=CA(o,u$e);return!X0(i,l)||!X0(s,c)||!X0(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,s=a.y,o=a.width,l=a.height,c=a.orientation,u=a.tickSize,f=a.mirror,h=a.tickMargin,p,g,m,y,v,b,w=f?-1:1,D=n.tickSize||u,P=$t(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":p=g=n.coordinate,y=s+ +!f*l,m=y-w*D,b=m-w*h,v=P;break;case"left":m=y=n.coordinate,g=i+ +!f*o,p=g-w*D,v=p-w*h,b=P;break;case"right":m=y=n.coordinate,g=i+ +f*o,p=g+w*D,v=p+w*h,b=P;break;default:p=g=n.coordinate,y=s+ +f*l,m=y+w*D,b=m+w*h,v=P;break}return{line:{x1:p,y1:m,x2:g,y2:y},tick:{x:v,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s;switch(a){case"left":s=i?"start":"end";break;case"right":s=i?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=i?"start":"end";break;default:s=i?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.orientation,c=n.mirror,u=n.axisLine,f=ss(ss(ss({},en(this.props,!1)),en(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=ss(ss({},f),{},{x1:a,y1:i+h*o,x2:a+s,y2:i+h*o})}else{var p=+(l==="left"&&!c||l==="right"&&c);f=ss(ss({},f),{},{x1:a+p*s,y1:i,x2:a+p*s,y2:i+o})}return Re.createElement("line",M0({},f,{className:pn("recharts-cartesian-axis-line",Do(u,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var s=this,o=this.props,l=o.tickLine,c=o.stroke,u=o.tick,f=o.tickFormatter,h=o.unit,p=RP(ss(ss({},this.props),{},{ticks:n}),a,i),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),y=en(this.props,!1),v=en(u,!1),b=ss(ss({},y),{},{fill:"none"},en(l,!1)),w=p.map(function(D,P){var j=s.getTickLineCoord(D),E=j.line,_=j.tick,S=ss(ss(ss(ss({textAnchor:g,verticalAnchor:m},y),{},{stroke:"none",fill:c},v),_),{},{index:P,payload:D,visibleTicksCount:p.length,tickFormatter:f});return Re.createElement(Ea,M0({className:"recharts-cartesian-axis-tick",key:"tick-".concat(D.value,"-").concat(D.coordinate,"-").concat(D.tickCoord)},Vb(s.props,D,P)),l&&Re.createElement("line",M0({},b,E,{className:pn("recharts-cartesian-axis-tick-line",Do(l,"className"))})),u&&t.renderTickItem(u,S,"".concat(Vr(f)?f(D.value,P):D.value).concat(h||"")))});return Re.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,s=a.width,o=a.height,l=a.ticksGenerator,c=a.className,u=a.hide;if(u)return null;var f=this.props,h=f.ticks,p=CA(f,f$e),g=h;return Vr(l)&&(g=h&&h.length>0?l(this.props):l(p)),s<=0||o<=0||!g||!g.length?null:Re.createElement(Ea,{className:pn("recharts-cartesian-axis",c),ref:function(y){n.layerReference=y}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),zi.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var s;return Re.isValidElement(n)?s=Re.cloneElement(n,a):Vr(n)?s=n(a):s=Re.createElement(rw,M0({},a,{className:"recharts-cartesian-axis-tick-value"}),i),s}}])}(F.Component);FP(Sm,"displayName","CartesianAxis");FP(Sm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var b$e=["x1","y1","x2","y2","key"],w$e=["offset"];function vh(e){"@babel/helpers - typeof";return vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vh(e)}function TF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TF(Object(r),!0).forEach(function(n){_$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _$e(e,t,r){return t=S$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S$e(e){var t=A$e(e,"string");return vh(t)=="symbol"?t:t+""}function A$e(e,t){if(vh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ud(){return Ud=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ud.apply(this,arguments)}function NF(e,t){if(e==null)return{};var r=E$e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function E$e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var T$e=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,s=t.width,o=t.height,l=t.ry;return Re.createElement("rect",{x:a,y:i,ry:l,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function WK(e,t){var r;if(Re.isValidElement(e))r=Re.cloneElement(e,t);else if(Vr(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,s=t.y2,o=t.key,l=NF(t,b$e),c=en(l,!1);c.offset;var u=NF(c,w$e);r=Re.createElement("line",Ud({},u,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:o}))}return r}function N$e(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,l){var c=qi(qi({},e),{},{x1:t,y1:o,x2:t+r,y2:o,key:"line-".concat(l),index:l});return WK(a,c)});return Re.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function k$e(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,l){var c=qi(qi({},e),{},{x1:o,y1:t,x2:o,y2:t+r,key:"line-".concat(l),index:l});return WK(a,c)});return Re.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function C$e(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,s=e.height,o=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var u=o.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==u[0]&&u.unshift(0);var f=u.map(function(h,p){var g=!u[p+1],m=g?a+s-h:u[p+1]-h;if(m<=0)return null;var y=p%t.length;return Re.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:i,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Re.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function P$e(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,s=e.y,o=e.width,l=e.height,c=e.verticalPoints;if(!r||!n||!n.length)return null;var u=c.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==u[0]&&u.unshift(0);var f=u.map(function(h,p){var g=!u[p+1],m=g?i+o-h:u[p+1]-h;if(m<=0)return null;var y=p%n.length;return Re.createElement("rect",{key:"react-".concat(p),x:h,y:s,width:m,height:l,stroke:"none",fill:n[y],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return Re.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var O$e=function(t,r){var n=t.xAxis,a=t.width,i=t.height,s=t.offset;return tK(RP(qi(qi(qi({},Sm.defaultProps),n),{},{ticks:Dc(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.left,s.left+s.width,r)},I$e=function(t,r){var n=t.yAxis,a=t.width,i=t.height,s=t.offset;return tK(RP(qi(qi(qi({},Sm.defaultProps),n),{},{ticks:Dc(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.top,s.top+s.height,r)},o0={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Z0(e){var t,r,n,a,i,s,o=jP(),l=DP(),c=x7e(),u=qi(qi({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:o0.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:o0.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:o0.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:o0.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:o0.vertical,verticalFill:(s=e.verticalFill)!==null&&s!==void 0?s:o0.verticalFill,x:$t(e.x)?e.x:c.left,y:$t(e.y)?e.y:c.top,width:$t(e.width)?e.width:c.width,height:$t(e.height)?e.height:c.height}),f=u.x,h=u.y,p=u.width,g=u.height,m=u.syncWithTicks,y=u.horizontalValues,v=u.verticalValues,b=g7e(),w=v7e();if(!$t(p)||p<=0||!$t(g)||g<=0||!$t(f)||f!==+f||!$t(h)||h!==+h)return null;var D=u.verticalCoordinatesGenerator||O$e,P=u.horizontalCoordinatesGenerator||I$e,j=u.horizontalPoints,E=u.verticalPoints;if((!j||!j.length)&&Vr(P)){var _=y&&y.length,S=P({yAxis:w?qi(qi({},w),{},{ticks:_?y:w.ticks}):void 0,width:o,height:l,offset:c},_?!0:m);Bc(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(vh(S),"]")),Array.isArray(S)&&(j=S)}if((!E||!E.length)&&Vr(D)){var I=v&&v.length,T=D({xAxis:b?qi(qi({},b),{},{ticks:I?v:b.ticks}):void 0,width:o,height:l,offset:c},I?!0:m);Bc(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(vh(T),"]")),Array.isArray(T)&&(E=T)}return Re.createElement("g",{className:"recharts-cartesian-grid"},Re.createElement(T$e,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),Re.createElement(N$e,Ud({},u,{offset:c,horizontalPoints:j,xAxis:b,yAxis:w})),Re.createElement(k$e,Ud({},u,{offset:c,verticalPoints:E,xAxis:b,yAxis:w})),Re.createElement(C$e,Ud({},u,{horizontalPoints:j})),Re.createElement(P$e,Ud({},u,{verticalPoints:E})))}Z0.displayName="CartesianGrid";var j$e=["type","layout","connectNulls","ref"],D$e=["key"];function Vp(e){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vp(e)}function kF(e,t){if(e==null)return{};var r=L$e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function L$e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function lv(){return lv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lv.apply(this,arguments)}function CF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ks(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CF(Object(r),!0).forEach(function(n){ul(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l0(e){return $$e(e)||F$e(e)||R$e(e)||M$e()}function M$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R$e(e,t){if(e){if(typeof e=="string")return o3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o3(e,t)}}function F$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $$e(e){if(Array.isArray(e))return o3(e)}function o3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function B$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GK(n.key),n)}}function U$e(e,t,r){return t&&PF(e.prototype,t),r&&PF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function V$e(e,t,r){return t=Lw(t),z$e(e,HK()?Reflect.construct(t,r||[],Lw(e).constructor):t.apply(e,r))}function z$e(e,t){if(t&&(Vp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q$e(e)}function q$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HK=function(){return!!e})()}function Lw(e){return Lw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lw(e)}function W$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l3(e,t)}function l3(e,t){return l3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},l3(e,t)}function ul(e,t,r){return t=GK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GK(e){var t=H$e(e,"string");return Vp(t)=="symbol"?t:t+""}function H$e(e,t){if(Vp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yi=function(e){function t(){var r;B$e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=V$e(this,t,[].concat(a)),ul(r,"state",{isAnimationFinished:!0,totalLength:0}),ul(r,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),ul(r,"getStrokeDasharray",function(s,o,l){var c=l.reduce(function(v,b){return v+b});if(!c)return r.generateSimpleStrokeDasharray(o,s);for(var u=Math.floor(s/c),f=s%c,h=o-s,p=[],g=0,m=0;g<l.length;m+=l[g],++g)if(m+l[g]>f){p=[].concat(l0(l.slice(0,g)),[f-m]);break}var y=p.length%2===0?[0,h]:[h];return[].concat(l0(t.repeat(l,u)),l0(p),y).map(function(v){return"".concat(v,"px")}).join(", ")}),ul(r,"id",xy("recharts-line-")),ul(r,"pathRef",function(s){r.mainCurve=s}),ul(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),ul(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return W$e(t,e),U$e(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.points,o=i.xAxis,l=i.yAxis,c=i.layout,u=i.children,f=Lo(u,Ey);if(!f)return null;var h=function(m,y){return{x:m.x,y:m.y,value:m.value,errorVal:oo(m.payload,y)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return Re.createElement(Ea,p,f.map(function(g){return Re.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,i){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,c=o.points,u=o.dataKey,f=en(this.props,!1),h=en(l,!0),p=c.map(function(m,y){var v=Ks(Ks(Ks({key:"dot-".concat(y),r:3},f),h),{},{index:y,cx:m.x,cy:m.y,value:m.value,dataKey:u,payload:m.payload,points:c});return t.renderDotItem(l,v)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return Re.createElement(Ea,lv({className:"recharts-line-dots",key:"dots"},g),p)}},{key:"renderCurveStatically",value:function(n,a,i,s){var o=this.props,l=o.type,c=o.layout,u=o.connectNulls;o.ref;var f=kF(o,j$e),h=Ks(Ks(Ks({},en(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},s),{},{type:l,layout:c,connectNulls:u});return Re.createElement($T,lv({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,s=this.props,o=s.points,l=s.strokeDasharray,c=s.isAnimationActive,u=s.animationBegin,f=s.animationDuration,h=s.animationEasing,p=s.animationId,g=s.animateNewValues,m=s.width,y=s.height,v=this.state,b=v.prevPoints,w=v.totalLength;return Re.createElement(iu,{begin:u,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(D){var P=D.t;if(b){var j=b.length/o.length,E=o.map(function(N,O){var U=Math.floor(O*j);if(b[U]){var Y=b[U],K=dl(Y.x,N.x),J=dl(Y.y,N.y);return Ks(Ks({},N),{},{x:K(P),y:J(P)})}if(g){var q=dl(m*2,N.x),V=dl(y/2,N.y);return Ks(Ks({},N),{},{x:q(P),y:V(P)})}return Ks(Ks({},N),{},{x:N.x,y:N.y})});return i.renderCurveStatically(E,n,a)}var _=dl(0,w),S=_(P),I;if(l){var T="".concat(l).split(/[,\s]+/gim).map(function(N){return parseFloat(N)});I=i.getStrokeDasharray(S,w,T)}else I=i.generateSimpleStrokeDasharray(w,S);return i.renderCurveStatically(o,n,a,{strokeDasharray:I})})}},{key:"renderCurve",value:function(n,a){var i=this.props,s=i.points,o=i.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return o&&s&&s.length&&(!c&&u>0||!p_(c,s))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(s,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,s=a.dot,o=a.points,l=a.className,c=a.xAxis,u=a.yAxis,f=a.top,h=a.left,p=a.width,g=a.height,m=a.isAnimationActive,y=a.id;if(i||!o||!o.length)return null;var v=this.state.isAnimationFinished,b=o.length===1,w=pn("recharts-line",l),D=c&&c.allowDataOverflow,P=u&&u.allowDataOverflow,j=D||P,E=Jr(y)?this.id:y,_=(n=en(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},S=_.r,I=S===void 0?3:S,T=_.strokeWidth,N=T===void 0?2:T,O=s_e(s)?s:{},U=O.clipDot,Y=U===void 0?!0:U,K=I*2+N;return Re.createElement(Ea,{className:w},D||P?Re.createElement("defs",null,Re.createElement("clipPath",{id:"clipPath-".concat(E)},Re.createElement("rect",{x:D?h:h-p/2,y:P?f:f-g/2,width:D?p:p*2,height:P?g:g*2})),!Y&&Re.createElement("clipPath",{id:"clipPath-dots-".concat(E)},Re.createElement("rect",{x:h-K/2,y:f-K/2,width:p+K,height:g+K}))):null,!b&&this.renderCurve(j,E),this.renderErrorBar(j,E),(b||s)&&this.renderDots(j,Y,E),(!m||v)&&Pf.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(l0(n),[0]):n,s=[],o=0;o<a;++o)s=[].concat(l0(s),l0(i));return s}},{key:"renderDotItem",value:function(n,a){var i;if(Re.isValidElement(n))i=Re.cloneElement(n,a);else if(Vr(n))i=n(a);else{var s=a.key,o=kF(a,D$e),l=pn("recharts-line-dot",typeof n!="boolean"?n.className:"");i=Re.createElement(CP,lv({key:s},o,{className:l}))}return i}}])}(F.PureComponent);ul(yi,"displayName","Line");ul(yi,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Uc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ul(yi,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,s=e.dataKey,o=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout,f=l.map(function(h,p){var g=oo(h,s);return u==="horizontal"?{x:uR({axis:r,ticks:a,bandSize:o,entry:h,index:p}),y:Jr(g)?null:n.scale(g),value:g,payload:h}:{x:Jr(g)?null:r.scale(g),y:uR({axis:n,ticks:i,bandSize:o,entry:h,index:p}),value:g,payload:h}});return Ks({points:f,layout:u},c)});function zp(e){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zp(e)}function G$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K$e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XK(n.key),n)}}function Y$e(e,t,r){return t&&K$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function X$e(e,t,r){return t=Mw(t),Q$e(e,KK()?Reflect.construct(t,r||[],Mw(e).constructor):t.apply(e,r))}function Q$e(e,t){if(t&&(zp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J$e(e)}function J$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KK=function(){return!!e})()}function Mw(e){return Mw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mw(e)}function Z$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c3(e,t)}function c3(e,t){return c3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},c3(e,t)}function YK(e,t,r){return t=XK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XK(e){var t=e9e(e,"string");return zp(t)=="symbol"?t:t+""}function e9e(e,t){if(zp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u3(){return u3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u3.apply(this,arguments)}function t9e(e){var t=e.xAxisId,r=jP(),n=DP(),a=DK(t);return a==null?null:Re.createElement(Sm,u3({},a,{className:pn("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return Dc(s,!0)}}))}var Of=function(e){function t(){return G$e(this,t),X$e(this,t,arguments)}return Z$e(t,e),Y$e(t,[{key:"render",value:function(){return Re.createElement(t9e,this.props)}}])}(Re.Component);YK(Of,"displayName","XAxis");YK(Of,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function qp(e){"@babel/helpers - typeof";return qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qp(e)}function r9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n9e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ZK(n.key),n)}}function a9e(e,t,r){return t&&n9e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function i9e(e,t,r){return t=Rw(t),s9e(e,QK()?Reflect.construct(t,r||[],Rw(e).constructor):t.apply(e,r))}function s9e(e,t){if(t&&(qp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o9e(e)}function o9e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QK=function(){return!!e})()}function Rw(e){return Rw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rw(e)}function l9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f3(e,t)}function f3(e,t){return f3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},f3(e,t)}function JK(e,t,r){return t=ZK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZK(e){var t=c9e(e,"string");return qp(t)=="symbol"?t:t+""}function c9e(e,t){if(qp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function d3(){return d3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d3.apply(this,arguments)}var u9e=function(t){var r=t.yAxisId,n=jP(),a=DP(),i=LK(r);return i==null?null:Re.createElement(Sm,d3({},i,{className:pn("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(o){return Dc(o,!0)}}))},If=function(e){function t(){return r9e(this,t),i9e(this,t,arguments)}return l9e(t,e),a9e(t,[{key:"render",value:function(){return Re.createElement(u9e,this.props)}}])}(Re.Component);JK(If,"displayName","YAxis");JK(If,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function OF(e){return p9e(e)||h9e(e)||d9e(e)||f9e()}function f9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d9e(e,t){if(e){if(typeof e=="string")return h3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h3(e,t)}}function h9e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function p9e(e){if(Array.isArray(e))return h3(e)}function h3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var p3=function(t,r,n,a,i){var s=Lo(t,MP),o=Lo(t,w_),l=[].concat(OF(s),OF(o)),c=Lo(t,S_),u="".concat(a,"Id"),f=a[0],h=r;if(l.length&&(h=l.reduce(function(m,y){if(y.props[u]===n&&nc(y.props,"extendDomain")&&$t(y.props[f])){var v=y.props[f];return[Math.min(m[0],v),Math.max(m[1],v)]}return m},h)),c.length){var p="".concat(f,"1"),g="".concat(f,"2");h=c.reduce(function(m,y){if(y.props[u]===n&&nc(y.props,"extendDomain")&&$t(y.props[p])&&$t(y.props[g])){var v=y.props[p],b=y.props[g];return[Math.min(m[0],v,b),Math.max(m[1],v,b)]}return m},h)}return i&&i.length&&(h=i.reduce(function(m,y){return $t(y)?[Math.min(m[0],y),Math.max(m[1],y)]:m},h)),h},eY={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function i(l,c,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new a(u,f||l,h),g=r?r+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)t.call(u,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=r?r+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},o.prototype.listenerCount=function(c){var u=r?r+c:c,f=this._events[u];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,u,f,h,p,g){var m=r?r+c:c;if(!this._events[m])return!1;var y=this._events[m],v=arguments.length,b,w;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,f),!0;case 4:return y.fn.call(y.context,u,f,h),!0;case 5:return y.fn.call(y.context,u,f,h,p),!0;case 6:return y.fn.call(y.context,u,f,h,p,g),!0}for(w=1,b=new Array(v-1);w<v;w++)b[w-1]=arguments[w];y.fn.apply(y.context,b)}else{var D=y.length,P;for(w=0;w<D;w++)switch(y[w].once&&this.removeListener(c,y[w].fn,void 0,!0),v){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,u);break;case 3:y[w].fn.call(y[w].context,u,f);break;case 4:y[w].fn.call(y[w].context,u,f,h);break;default:if(!b)for(P=1,b=new Array(v-1);P<v;P++)b[P-1]=arguments[P];y[w].fn.apply(y[w].context,b)}}return!0},o.prototype.on=function(c,u,f){return i(this,c,u,f,!1)},o.prototype.once=function(c,u,f){return i(this,c,u,f,!0)},o.prototype.removeListener=function(c,u,f,h){var p=r?r+c:c;if(!this._events[p])return this;if(!u)return s(this,p),this;var g=this._events[p];if(g.fn)g.fn===u&&(!h||g.once)&&(!f||g.context===f)&&s(this,p);else{for(var m=0,y=[],v=g.length;m<v;m++)(g[m].fn!==u||h&&!g[m].once||f&&g[m].context!==f)&&y.push(g[m]);y.length?this._events[p]=y.length===1?y[0]:y:s(this,p)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&s(this,u)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(eY);var m9e=eY.exports;const g9e=On(m9e);var PA=new g9e,OA="recharts.syncMouseEvents";function B1(e){"@babel/helpers - typeof";return B1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B1(e)}function v9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y9e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tY(n.key),n)}}function x9e(e,t,r){return t&&y9e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function IA(e,t,r){return t=tY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tY(e){var t=b9e(e,"string");return B1(t)=="symbol"?t:t+""}function b9e(e,t){if(B1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(B1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var w9e=function(){function e(){v9e(this,e),IA(this,"activeIndex",0),IA(this,"coordinateList",[]),IA(this,"layout","horizontal")}return x9e(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,s=r.container,o=s===void 0?null:s,l=r.layout,c=l===void 0?null:l,u=r.offset,f=u===void 0?null:u,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,o=a.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+l+c,h=s+this.offset.top+o/2+u;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function _9e(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&$t(n)&&$t(a))return!0}return!1}function S9e(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function rY(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,s=wi(t,r,n,a),o=wi(t,r,n,i);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function A9e(e,t,r){var n,a,i,s;if(e==="horizontal")n=t.x,i=n,a=r.top,s=r.top+r.height;else if(e==="vertical")a=t.y,s=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var o=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,f=t.angle,h=wi(o,l,c,f),p=wi(o,l,u,f);n=h.x,a=h.y,i=p.x,s=p.y}else return rY(t);return[{x:n,y:a},{x:i,y:s}]}function U1(e){"@babel/helpers - typeof";return U1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U1(e)}function IF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IF(Object(r),!0).forEach(function(n){E9e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function E9e(e,t,r){return t=T9e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T9e(e){var t=N9e(e,"string");return U1(t)=="symbol"?t:t+""}function N9e(e,t){if(U1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(U1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function k9e(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,s=e.activeCoordinate,o=e.activePayload,l=e.offset,c=e.activeTooltipIndex,u=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!s||h!=="ScatterChart"&&a!=="axis")return null;var g,m=$T;if(h==="ScatterChart")g=s,m=NMe;else if(h==="BarChart")g=S9e(f,s,l,u),m=kP;else if(f==="radial"){var y=rY(s),v=y.cx,b=y.cy,w=y.radius,D=y.startAngle,P=y.endAngle;g={cx:v,cy:b,startAngle:D,endAngle:P,innerRadius:w,outerRadius:w},m=sK}else g={points:A9e(f,s,l)},m=$T;var j=Gx(Gx(Gx(Gx({stroke:"#ccc",pointerEvents:"none"},l),g),en(p,!1)),{},{payload:o,payloadIndex:c,className:pn("recharts-tooltip-cursor",p.className)});return F.isValidElement(p)?F.cloneElement(p,j):F.createElement(m,j)}var C9e=["item"],P9e=["children","className","width","height","style","compact","title","desc"];function Wp(e){"@babel/helpers - typeof";return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wp(e)}function R0(){return R0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R0.apply(this,arguments)}function jF(e,t){return j9e(e)||I9e(e,t)||aY(e,t)||O9e()}function O9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I9e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function j9e(e){if(Array.isArray(e))return e}function DF(e,t){if(e==null)return{};var r=D9e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function D9e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function L9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M9e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iY(n.key),n)}}function R9e(e,t,r){return t&&M9e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function F9e(e,t,r){return t=Fw(t),$9e(e,nY()?Reflect.construct(t,r||[],Fw(e).constructor):t.apply(e,r))}function $9e(e,t){if(t&&(Wp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B9e(e)}function B9e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nY=function(){return!!e})()}function Fw(e){return Fw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fw(e)}function U9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m3(e,t)}function m3(e,t){return m3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},m3(e,t)}function Hp(e){return q9e(e)||z9e(e)||aY(e)||V9e()}function V9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aY(e,t){if(e){if(typeof e=="string")return g3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g3(e,t)}}function z9e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function q9e(e){if(Array.isArray(e))return g3(e)}function g3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function LF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LF(Object(r),!0).forEach(function(n){mr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mr(e,t,r){return t=iY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iY(e){var t=W9e(e,"string");return Wp(t)=="symbol"?t:t+""}function W9e(e,t){if(Wp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var H9e={xAxis:["bottom","top"],yAxis:["left","right"]},G9e={width:"100%",height:"100%"},sY={x:0,y:0};function Kx(e){return e}var K9e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},Y9e=function(t,r,n,a){var i=r.find(function(u){return u&&u.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,o=a.radius;return dt(dt(dt({},a),wi(a.cx,a.cy,o,s)),{},{angle:s,radius:o})}var l=i.coordinate,c=a.angle;return dt(dt(dt({},a),wi(a.cx,a.cy,l,c)),{},{angle:c,radius:l})}return sY},A_=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,s=(n??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(Hp(o),Hp(c)):o},[]);return s.length>0?s:t&&t.length&&$t(a)&&$t(i)?t.slice(a,i+1):[]};function oY(e){return e==="number"?[0,"auto"]:void 0}var v3=function(t,r,n,a){var i=t.graphicalItems,s=t.tooltipAxis,o=A_(r,t);return n<0||!i||!i.length||n>=o.length?null:i.reduce(function(l,c){var u,f=(u=c.props.data)!==null&&u!==void 0?u:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var p=f===void 0?o:f;h=Bb(p,s.dataKey,a)}else h=f&&f[n]||o[n];return h?[].concat(Hp(l),[nK(c,h)]):l},[])},MF=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},s=K9e(i,n),o=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,u=cDe(s,o,c,l);if(u>=0&&c){var f=c[u]&&c[u].value,h=v3(t,r,u,f),p=Y9e(n,o,u,i);return{activeTooltipIndex:u,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},X9e=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,f=t.children,h=t.stackOffset,p=eK(u,i);return n.reduce(function(g,m){var y,v=m.type.defaultProps!==void 0?dt(dt({},m.type.defaultProps),m.props):m.props,b=v.type,w=v.dataKey,D=v.allowDataOverflow,P=v.allowDuplicatedCategory,j=v.scale,E=v.ticks,_=v.includeHidden,S=v[s];if(g[S])return g;var I=A_(t.data,{graphicalItems:a.filter(function(k){var R,z=s in k.props?k.props[s]:(R=k.type.defaultProps)===null||R===void 0?void 0:R[s];return z===S}),dataStartIndex:l,dataEndIndex:c}),T=I.length,N,O,U;_9e(v.domain,D,b)&&(N=DT(v.domain,null,D),p&&(b==="number"||j!=="auto")&&(U=sv(I,w,"category")));var Y=oY(b);if(!N||N.length===0){var K,J=(K=v.domain)!==null&&K!==void 0?K:Y;if(w){if(N=sv(I,w,b),b==="category"&&p){var q=X5e(N);P&&q?(O=N,N=Ew(0,T)):P||(N=pR(J,N,m).reduce(function(k,R){return k.indexOf(R)>=0?k:[].concat(Hp(k),[R])},[]))}else if(b==="category")P?N=N.filter(function(k){return k!==""&&!Jr(k)}):N=pR(J,N,m).reduce(function(k,R){return k.indexOf(R)>=0||R===""||Jr(R)?k:[].concat(Hp(k),[R])},[]);else if(b==="number"){var V=pDe(I,a.filter(function(k){var R,z,G=s in k.props?k.props[s]:(R=k.type.defaultProps)===null||R===void 0?void 0:R[s],Q="hide"in k.props?k.props.hide:(z=k.type.defaultProps)===null||z===void 0?void 0:z.hide;return G===S&&(_||!Q)}),w,i,u);V&&(N=V)}p&&(b==="number"||j!=="auto")&&(U=sv(I,w,"category"))}else p?N=Ew(0,T):o&&o[S]&&o[S].hasStack&&b==="number"?N=h==="expand"?[0,1]:rK(o[S].stackGroups,l,c):N=ZG(I,a.filter(function(k){var R=s in k.props?k.props[s]:k.type.defaultProps[s],z="hide"in k.props?k.props.hide:k.type.defaultProps.hide;return R===S&&(_||!z)}),b,u,!0);if(b==="number")N=p3(f,N,S,i,E),J&&(N=DT(J,N,D));else if(b==="category"&&J){var ee=J,Z=N.every(function(k){return ee.indexOf(k)>=0});Z&&(N=ee)}}return dt(dt({},g),{},mr({},S,dt(dt({},v),{},{axisType:i,domain:N,categoricalDomain:U,duplicateDomain:O,originalDomain:(y=v.domain)!==null&&y!==void 0?y:Y,isCategorical:p,layout:u})))},{})},Q9e=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,f=t.children,h=A_(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),p=h.length,g=eK(u,i),m=-1;return n.reduce(function(y,v){var b=v.type.defaultProps!==void 0?dt(dt({},v.type.defaultProps),v.props):v.props,w=b[s],D=oY("number");if(!y[w]){m++;var P;return g?P=Ew(0,p):o&&o[w]&&o[w].hasStack?(P=rK(o[w].stackGroups,l,c),P=p3(f,P,w,i)):(P=DT(D,ZG(h,n.filter(function(j){var E,_,S=s in j.props?j.props[s]:(E=j.type.defaultProps)===null||E===void 0?void 0:E[s],I="hide"in j.props?j.props.hide:(_=j.type.defaultProps)===null||_===void 0?void 0:_.hide;return S===w&&!I}),"number",u),a.defaultProps.allowDataOverflow),P=p3(f,P,w,i)),dt(dt({},y),{},mr({},w,dt(dt({axisType:i},a.defaultProps),{},{hide:!0,orientation:Do(H9e,"".concat(i,".").concat(m%2),null),domain:P,originalDomain:D,isCategorical:g,layout:u})))}return y},{})},J9e=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.children,f="".concat(a,"Id"),h=Lo(u,i),p={};return h&&h.length?p=X9e(t,{axes:h,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(p=Q9e(t,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),p},Z9e=function(t){var r=rf(t),n=Dc(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:tP(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:gw(r,n)}},RF=function(t){var r=t.children,n=t.defaultShowTooltip,a=Qs(r,Mp),i=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},eBe=function(t){return!t||!t.length?!1:t.some(function(r){var n=$c(r&&r.type);return n&&n.indexOf("Bar")>=0})},FF=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},tBe=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,s=i===void 0?{}:i,o=t.yAxisMap,l=o===void 0?{}:o,c=n.width,u=n.height,f=n.children,h=n.margin||{},p=Qs(f,Mp),g=Qs(f,_l),m=Object.keys(l).reduce(function(P,j){var E=l[j],_=E.orientation;return!E.mirror&&!E.hide?dt(dt({},P),{},mr({},_,P[_]+E.width)):P},{left:h.left||0,right:h.right||0}),y=Object.keys(s).reduce(function(P,j){var E=s[j],_=E.orientation;return!E.mirror&&!E.hide?dt(dt({},P),{},mr({},_,Do(P,"".concat(_))+E.height)):P},{top:h.top||0,bottom:h.bottom||0}),v=dt(dt({},y),m),b=v.bottom;p&&(v.bottom+=p.props.height||Mp.defaultProps.height),g&&r&&(v=dDe(v,a,n,r));var w=c-v.left-v.right,D=u-v.top-v.bottom;return dt(dt({brushBottom:b},v),{},{width:Math.max(w,0),height:Math.max(D,0)})},rBe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},nBe=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,s=t.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=t.axisComponents,c=t.legendContent,u=t.formatAxisMap,f=t.defaultProps,h=function(v,b){var w=b.graphicalItems,D=b.stackGroups,P=b.offset,j=b.updateId,E=b.dataStartIndex,_=b.dataEndIndex,S=v.barSize,I=v.layout,T=v.barGap,N=v.barCategoryGap,O=v.maxBarSize,U=FF(I),Y=U.numericAxisName,K=U.cateAxisName,J=eBe(w),q=[];return w.forEach(function(V,ee){var Z=A_(v.data,{graphicalItems:[V],dataStartIndex:E,dataEndIndex:_}),k=V.type.defaultProps!==void 0?dt(dt({},V.type.defaultProps),V.props):V.props,R=k.dataKey,z=k.maxBarSize,G=k["".concat(Y,"Id")],Q=k["".concat(K,"Id")],oe={},ce=l.reduce(function(_e,De){var Ne=b["".concat(De.axisType,"Map")],qe=k["".concat(De.axisType,"Id")];Ne&&Ne[qe]||De.axisType==="zAxis"||gh();var at=Ne[qe];return dt(dt({},_e),{},mr(mr({},De.axisType,at),"".concat(De.axisType,"Ticks"),Dc(at)))},oe),ne=ce[K],he=ce["".concat(K,"Ticks")],ye=D&&D[G]&&D[G].hasStack&&TDe(V,D[G].stackGroups),W=$c(V.type).indexOf("Bar")>=0,Ce=gw(ne,he),ke=[],Ee=J&&uDe({barSize:S,stackGroups:D,totalSize:rBe(ce,K)});if(W){var ie,Fe,Ye=Jr(z)?O:z,Se=(ie=(Fe=gw(ne,he,!0))!==null&&Fe!==void 0?Fe:Ye)!==null&&ie!==void 0?ie:0;ke=fDe({barGap:T,barCategoryGap:N,bandSize:Se!==Ce?Se:Ce,sizeList:Ee[Q],maxBarSize:Ye}),Se!==Ce&&(ke=ke.map(function(_e){return dt(dt({},_e),{},{position:dt(dt({},_e.position),{},{offset:_e.position.offset-Se/2})})}))}var $e=V&&V.type&&V.type.getComposedData;$e&&q.push({props:dt(dt({},$e(dt(dt({},ce),{},{displayedData:Z,props:v,dataKey:R,item:V,bandSize:Ce,barPosition:ke,offset:P,stackedData:ye,layout:I,dataStartIndex:E,dataEndIndex:_}))),{},mr(mr(mr({key:V.key||"item-".concat(ee)},Y,ce[Y]),K,ce[K]),"animationId",j)),childIndex:c_e(V,v.children),item:V})}),q},p=function(v,b){var w=v.props,D=v.dataStartIndex,P=v.dataEndIndex,j=v.updateId;if(!oL({props:w}))return null;var E=w.children,_=w.layout,S=w.stackOffset,I=w.data,T=w.reverseStackOrder,N=FF(_),O=N.numericAxisName,U=N.cateAxisName,Y=Lo(E,n),K=SDe(I,Y,"".concat(O,"Id"),"".concat(U,"Id"),S,T),J=l.reduce(function(k,R){var z="".concat(R.axisType,"Map");return dt(dt({},k),{},mr({},z,J9e(w,dt(dt({},R),{},{graphicalItems:Y,stackGroups:R.axisType===O&&K,dataStartIndex:D,dataEndIndex:P}))))},{}),q=tBe(dt(dt({},J),{},{props:w,graphicalItems:Y}),b==null?void 0:b.legendBBox);Object.keys(J).forEach(function(k){J[k]=u(w,J[k],q,k.replace("Map",""),r)});var V=J["".concat(U,"Map")],ee=Z9e(V),Z=h(w,dt(dt({},J),{},{dataStartIndex:D,dataEndIndex:P,updateId:j,graphicalItems:Y,stackGroups:K,offset:q}));return dt(dt({formattedGraphicalItems:Z,graphicalItems:Y,offset:q,stackGroups:K},ee),J)},g=function(y){function v(b){var w,D,P;return L9e(this,v),P=F9e(this,v,[b]),mr(P,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),mr(P,"accessibilityManager",new w9e),mr(P,"handleLegendBBoxUpdate",function(j){if(j){var E=P.state,_=E.dataStartIndex,S=E.dataEndIndex,I=E.updateId;P.setState(dt({legendBBox:j},p({props:P.props,dataStartIndex:_,dataEndIndex:S,updateId:I},dt(dt({},P.state),{},{legendBBox:j}))))}}),mr(P,"handleReceiveSyncEvent",function(j,E,_){if(P.props.syncId===j){if(_===P.eventEmitterSymbol&&typeof P.props.syncMethod!="function")return;P.applySyncEvent(E)}}),mr(P,"handleBrushChange",function(j){var E=j.startIndex,_=j.endIndex;if(E!==P.state.dataStartIndex||_!==P.state.dataEndIndex){var S=P.state.updateId;P.setState(function(){return dt({dataStartIndex:E,dataEndIndex:_},p({props:P.props,dataStartIndex:E,dataEndIndex:_,updateId:S},P.state))}),P.triggerSyncEvent({dataStartIndex:E,dataEndIndex:_})}}),mr(P,"handleMouseEnter",function(j){var E=P.getMouseInfo(j);if(E){var _=dt(dt({},E),{},{isTooltipActive:!0});P.setState(_),P.triggerSyncEvent(_);var S=P.props.onMouseEnter;Vr(S)&&S(_,j)}}),mr(P,"triggeredAfterMouseMove",function(j){var E=P.getMouseInfo(j),_=E?dt(dt({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};P.setState(_),P.triggerSyncEvent(_);var S=P.props.onMouseMove;Vr(S)&&S(_,j)}),mr(P,"handleItemMouseEnter",function(j){P.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),mr(P,"handleItemMouseLeave",function(){P.setState(function(){return{isTooltipActive:!1}})}),mr(P,"handleMouseMove",function(j){j.persist(),P.throttleTriggeredAfterMouseMove(j)}),mr(P,"handleMouseLeave",function(j){P.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};P.setState(E),P.triggerSyncEvent(E);var _=P.props.onMouseLeave;Vr(_)&&_(E,j)}),mr(P,"handleOuterEvent",function(j){var E=l_e(j),_=Do(P.props,"".concat(E));if(E&&Vr(_)){var S,I;/.*touch.*/i.test(E)?I=P.getMouseInfo(j.changedTouches[0]):I=P.getMouseInfo(j),_((S=I)!==null&&S!==void 0?S:{},j)}}),mr(P,"handleClick",function(j){var E=P.getMouseInfo(j);if(E){var _=dt(dt({},E),{},{isTooltipActive:!0});P.setState(_),P.triggerSyncEvent(_);var S=P.props.onClick;Vr(S)&&S(_,j)}}),mr(P,"handleMouseDown",function(j){var E=P.props.onMouseDown;if(Vr(E)){var _=P.getMouseInfo(j);E(_,j)}}),mr(P,"handleMouseUp",function(j){var E=P.props.onMouseUp;if(Vr(E)){var _=P.getMouseInfo(j);E(_,j)}}),mr(P,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&P.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),mr(P,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&P.handleMouseDown(j.changedTouches[0])}),mr(P,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&P.handleMouseUp(j.changedTouches[0])}),mr(P,"handleDoubleClick",function(j){var E=P.props.onDoubleClick;if(Vr(E)){var _=P.getMouseInfo(j);E(_,j)}}),mr(P,"handleContextMenu",function(j){var E=P.props.onContextMenu;if(Vr(E)){var _=P.getMouseInfo(j);E(_,j)}}),mr(P,"triggerSyncEvent",function(j){P.props.syncId!==void 0&&PA.emit(OA,P.props.syncId,j,P.eventEmitterSymbol)}),mr(P,"applySyncEvent",function(j){var E=P.props,_=E.layout,S=E.syncMethod,I=P.state.updateId,T=j.dataStartIndex,N=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)P.setState(dt({dataStartIndex:T,dataEndIndex:N},p({props:P.props,dataStartIndex:T,dataEndIndex:N,updateId:I},P.state)));else if(j.activeTooltipIndex!==void 0){var O=j.chartX,U=j.chartY,Y=j.activeTooltipIndex,K=P.state,J=K.offset,q=K.tooltipTicks;if(!J)return;if(typeof S=="function")Y=S(q,j);else if(S==="value"){Y=-1;for(var V=0;V<q.length;V++)if(q[V].value===j.activeLabel){Y=V;break}}var ee=dt(dt({},J),{},{x:J.left,y:J.top}),Z=Math.min(O,ee.x+ee.width),k=Math.min(U,ee.y+ee.height),R=q[Y]&&q[Y].value,z=v3(P.state,P.props.data,Y),G=q[Y]?{x:_==="horizontal"?q[Y].coordinate:Z,y:_==="horizontal"?k:q[Y].coordinate}:sY;P.setState(dt(dt({},j),{},{activeLabel:R,activeCoordinate:G,activePayload:z,activeTooltipIndex:Y}))}else P.setState(j)}),mr(P,"renderCursor",function(j){var E,_=P.state,S=_.isTooltipActive,I=_.activeCoordinate,T=_.activePayload,N=_.offset,O=_.activeTooltipIndex,U=_.tooltipAxisBandSize,Y=P.getTooltipEventType(),K=(E=j.props.active)!==null&&E!==void 0?E:S,J=P.props.layout,q=j.key||"_recharts-cursor";return Re.createElement(k9e,{key:q,activeCoordinate:I,activePayload:T,activeTooltipIndex:O,chartName:r,element:j,isActive:K,layout:J,offset:N,tooltipAxisBandSize:U,tooltipEventType:Y})}),mr(P,"renderPolarAxis",function(j,E,_){var S=Do(j,"type.axisType"),I=Do(P.state,"".concat(S,"Map")),T=j.type.defaultProps,N=T!==void 0?dt(dt({},T),j.props):j.props,O=I&&I[N["".concat(S,"Id")]];return F.cloneElement(j,dt(dt({},O),{},{className:pn(S,O.className),key:j.key||"".concat(E,"-").concat(_),ticks:Dc(O,!0)}))}),mr(P,"renderPolarGrid",function(j){var E=j.props,_=E.radialLines,S=E.polarAngles,I=E.polarRadius,T=P.state,N=T.radiusAxisMap,O=T.angleAxisMap,U=rf(N),Y=rf(O),K=Y.cx,J=Y.cy,q=Y.innerRadius,V=Y.outerRadius;return F.cloneElement(j,{polarAngles:Array.isArray(S)?S:Dc(Y,!0).map(function(ee){return ee.coordinate}),polarRadius:Array.isArray(I)?I:Dc(U,!0).map(function(ee){return ee.coordinate}),cx:K,cy:J,innerRadius:q,outerRadius:V,key:j.key||"polar-grid",radialLines:_})}),mr(P,"renderLegend",function(){var j=P.state.formattedGraphicalItems,E=P.props,_=E.children,S=E.width,I=E.height,T=P.props.margin||{},N=S-(T.left||0)-(T.right||0),O=QG({children:_,formattedGraphicalItems:j,legendWidth:N,legendContent:c});if(!O)return null;var U=O.item,Y=DF(O,C9e);return F.cloneElement(U,dt(dt({},Y),{},{chartWidth:S,chartHeight:I,margin:T,onBBoxUpdate:P.handleLegendBBoxUpdate}))}),mr(P,"renderTooltip",function(){var j,E=P.props,_=E.children,S=E.accessibilityLayer,I=Qs(_,ks);if(!I)return null;var T=P.state,N=T.isTooltipActive,O=T.activeCoordinate,U=T.activePayload,Y=T.activeLabel,K=T.offset,J=(j=I.props.active)!==null&&j!==void 0?j:N;return F.cloneElement(I,{viewBox:dt(dt({},K),{},{x:K.left,y:K.top}),active:J,label:Y,payload:J?U:[],coordinate:O,accessibilityLayer:S})}),mr(P,"renderBrush",function(j){var E=P.props,_=E.margin,S=E.data,I=P.state,T=I.offset,N=I.dataStartIndex,O=I.dataEndIndex,U=I.updateId;return F.cloneElement(j,{key:j.key||"_recharts-brush",onChange:zx(P.handleBrushChange,j.props.onChange),data:S,x:$t(j.props.x)?j.props.x:T.left,y:$t(j.props.y)?j.props.y:T.top+T.height+T.brushBottom-(_.bottom||0),width:$t(j.props.width)?j.props.width:T.width,startIndex:N,endIndex:O,updateId:"brush-".concat(U)})}),mr(P,"renderReferenceElement",function(j,E,_){if(!j)return null;var S=P,I=S.clipPathId,T=P.state,N=T.xAxisMap,O=T.yAxisMap,U=T.offset,Y=j.type.defaultProps||{},K=j.props,J=K.xAxisId,q=J===void 0?Y.xAxisId:J,V=K.yAxisId,ee=V===void 0?Y.yAxisId:V;return F.cloneElement(j,{key:j.key||"".concat(E,"-").concat(_),xAxis:N[q],yAxis:O[ee],viewBox:{x:U.left,y:U.top,width:U.width,height:U.height},clipPathId:I})}),mr(P,"renderActivePoints",function(j){var E=j.item,_=j.activePoint,S=j.basePoint,I=j.childIndex,T=j.isRange,N=[],O=E.props.key,U=E.item.type.defaultProps!==void 0?dt(dt({},E.item.type.defaultProps),E.item.props):E.item.props,Y=U.activeDot,K=U.dataKey,J=dt(dt({index:I,dataKey:K,cx:_.x,cy:_.y,r:4,fill:NP(E.item),strokeWidth:2,stroke:"#fff",payload:_.payload,value:_.value},en(Y,!1)),Ub(Y));return N.push(v.renderActiveDot(Y,J,"".concat(O,"-activePoint-").concat(I))),S?N.push(v.renderActiveDot(Y,dt(dt({},J),{},{cx:S.x,cy:S.y}),"".concat(O,"-basePoint-").concat(I))):T&&N.push(null),N}),mr(P,"renderGraphicChild",function(j,E,_){var S=P.filterFormatItem(j,E,_);if(!S)return null;var I=P.getTooltipEventType(),T=P.state,N=T.isTooltipActive,O=T.tooltipAxis,U=T.activeTooltipIndex,Y=T.activeLabel,K=P.props.children,J=Qs(K,ks),q=S.props,V=q.points,ee=q.isRange,Z=q.baseLine,k=S.item.type.defaultProps!==void 0?dt(dt({},S.item.type.defaultProps),S.item.props):S.item.props,R=k.activeDot,z=k.hide,G=k.activeBar,Q=k.activeShape,oe=!!(!z&&N&&J&&(R||G||Q)),ce={};I!=="axis"&&J&&J.props.trigger==="click"?ce={onClick:zx(P.handleItemMouseEnter,j.props.onClick)}:I!=="axis"&&(ce={onMouseLeave:zx(P.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:zx(P.handleItemMouseEnter,j.props.onMouseEnter)});var ne=F.cloneElement(j,dt(dt({},S.props),ce));function he(De){return typeof O.dataKey=="function"?O.dataKey(De.payload):null}if(oe)if(U>=0){var ye,W;if(O.dataKey&&!O.allowDuplicatedCategory){var Ce=typeof O.dataKey=="function"?he:"payload.".concat(O.dataKey.toString());ye=Bb(V,Ce,Y),W=ee&&Z&&Bb(Z,Ce,Y)}else ye=V==null?void 0:V[U],W=ee&&Z&&Z[U];if(Q||G){var ke=j.props.activeIndex!==void 0?j.props.activeIndex:U;return[F.cloneElement(j,dt(dt(dt({},S.props),ce),{},{activeIndex:ke})),null,null]}if(!Jr(ye))return[ne].concat(Hp(P.renderActivePoints({item:S,activePoint:ye,basePoint:W,childIndex:U,isRange:ee})))}else{var Ee,ie=(Ee=P.getItemByXY(P.state.activeCoordinate))!==null&&Ee!==void 0?Ee:{graphicalItem:ne},Fe=ie.graphicalItem,Ye=Fe.item,Se=Ye===void 0?j:Ye,$e=Fe.childIndex,_e=dt(dt(dt({},S.props),ce),{},{activeIndex:$e});return[F.cloneElement(Se,_e),null,null]}return ee?[ne,null,null]:[ne,null]}),mr(P,"renderCustomized",function(j,E,_){return F.cloneElement(j,dt(dt({key:"recharts-customized-".concat(_)},P.props),P.state))}),mr(P,"renderMap",{CartesianGrid:{handler:Kx,once:!0},ReferenceArea:{handler:P.renderReferenceElement},ReferenceLine:{handler:Kx},ReferenceDot:{handler:P.renderReferenceElement},XAxis:{handler:Kx},YAxis:{handler:Kx},Brush:{handler:P.renderBrush,once:!0},Bar:{handler:P.renderGraphicChild},Line:{handler:P.renderGraphicChild},Area:{handler:P.renderGraphicChild},Radar:{handler:P.renderGraphicChild},RadialBar:{handler:P.renderGraphicChild},Scatter:{handler:P.renderGraphicChild},Pie:{handler:P.renderGraphicChild},Funnel:{handler:P.renderGraphicChild},Tooltip:{handler:P.renderCursor,once:!0},PolarGrid:{handler:P.renderPolarGrid,once:!0},PolarAngleAxis:{handler:P.renderPolarAxis},PolarRadiusAxis:{handler:P.renderPolarAxis},Customized:{handler:P.renderCustomized}}),P.clipPathId="".concat((w=b.id)!==null&&w!==void 0?w:xy("recharts"),"-clip"),P.throttleTriggeredAfterMouseMove=XH(P.triggeredAfterMouseMove,(D=b.throttleDelay)!==null&&D!==void 0?D:1e3/60),P.state={},P}return U9e(v,y),R9e(v,[{key:"componentDidMount",value:function(){var w,D;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(D=this.props.margin.top)!==null&&D!==void 0?D:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,D=w.children,P=w.data,j=w.height,E=w.layout,_=Qs(D,ks);if(_){var S=_.props.defaultIndex;if(!(typeof S!="number"||S<0||S>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[S]&&this.state.tooltipTicks[S].value,T=v3(this.state,P,S,I),N=this.state.tooltipTicks[S].coordinate,O=(this.state.offset.top+j)/2,U=E==="horizontal",Y=U?{x:N,y:O}:{y:N,x:O},K=this.state.formattedGraphicalItems.find(function(q){var V=q.item;return V.type.name==="Scatter"});K&&(Y=dt(dt({},Y),K.props.points[S].tooltipPosition),T=K.props.points[S].tooltipPayload);var J={activeTooltipIndex:S,isTooltipActive:!0,activeLabel:I,activePayload:T,activeCoordinate:Y};this.setState(J),this.renderCursor(_),this.accessibilityManager.setIndex(S)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,D){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==D.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var P,j;this.accessibilityManager.setDetails({offset:{left:(P=this.props.margin.left)!==null&&P!==void 0?P:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(w){YE([Qs(w.children,ks)],[Qs(this.props.children,ks)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Qs(this.props.children,ks);if(w&&typeof w.props.shared=="boolean"){var D=w.props.shared?"axis":"item";return o.indexOf(D)>=0?D:i}return i}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var D=this.container,P=D.getBoundingClientRect(),j=LPe(P),E={chartX:Math.round(w.pageX-j.left),chartY:Math.round(w.pageY-j.top)},_=P.width/D.offsetWidth||1,S=this.inRange(E.chartX,E.chartY,_);if(!S)return null;var I=this.state,T=I.xAxisMap,N=I.yAxisMap,O=this.getTooltipEventType(),U=MF(this.state,this.props.data,this.props.layout,S);if(O!=="axis"&&T&&N){var Y=rf(T).scale,K=rf(N).scale,J=Y&&Y.invert?Y.invert(E.chartX):null,q=K&&K.invert?K.invert(E.chartY):null;return dt(dt({},E),{},{xValue:J,yValue:q},U)}return U?dt(dt({},E),U):null}},{key:"inRange",value:function(w,D){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,E=w/P,_=D/P;if(j==="horizontal"||j==="vertical"){var S=this.state.offset,I=E>=S.left&&E<=S.left+S.width&&_>=S.top&&_<=S.top+S.height;return I?{x:E,y:_}:null}var T=this.state,N=T.angleAxisMap,O=T.radiusAxisMap;if(N&&O){var U=rf(N);return vR({x:E,y:_},U)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,D=this.getTooltipEventType(),P=Qs(w,ks),j={};P&&D==="axis"&&(P.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=Ub(this.props,this.handleOuterEvent);return dt(dt({},E),j)}},{key:"addListener",value:function(){PA.on(OA,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){PA.removeListener(OA,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,D,P){for(var j=this.state.formattedGraphicalItems,E=0,_=j.length;E<_;E++){var S=j[E];if(S.item===w||S.props.key===w.key||D===$c(S.item.type)&&P===S.childIndex)return S}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,D=this.state.offset,P=D.left,j=D.top,E=D.height,_=D.width;return Re.createElement("defs",null,Re.createElement("clipPath",{id:w},Re.createElement("rect",{x:P,y:j,height:E,width:_})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(D,P){var j=jF(P,2),E=j[0],_=j[1];return dt(dt({},D),{},mr({},E,_.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(D,P){var j=jF(P,2),E=j[0],_=j[1];return dt(dt({},D),{},mr({},E,_.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var D;return(D=this.state.xAxisMap)===null||D===void 0||(D=D[w])===null||D===void 0?void 0:D.scale}},{key:"getYScaleByAxisId",value:function(w){var D;return(D=this.state.yAxisMap)===null||D===void 0||(D=D[w])===null||D===void 0?void 0:D.scale}},{key:"getItemByXY",value:function(w){var D=this.state,P=D.formattedGraphicalItems,j=D.activeItem;if(P&&P.length)for(var E=0,_=P.length;E<_;E++){var S=P[E],I=S.props,T=S.item,N=T.type.defaultProps!==void 0?dt(dt({},T.type.defaultProps),T.props):T.props,O=$c(T.type);if(O==="Bar"){var U=(I.data||[]).find(function(q){return vMe(w,q)});if(U)return{graphicalItem:S,payload:U}}else if(O==="RadialBar"){var Y=(I.data||[]).find(function(q){return vR(w,q)});if(Y)return{graphicalItem:S,payload:Y}}else if(v_(S,j)||y_(S,j)||L1(S,j)){var K=bRe({graphicalItem:S,activeTooltipItem:j,itemData:N.data}),J=N.activeIndex===void 0?K:N.activeIndex;return{graphicalItem:dt(dt({},S),{},{childIndex:J}),payload:L1(S,j)?N.data[K]:S.props.data[K]}}}return null}},{key:"render",value:function(){var w=this;if(!oL(this))return null;var D=this.props,P=D.children,j=D.className,E=D.width,_=D.height,S=D.style,I=D.compact,T=D.title,N=D.desc,O=DF(D,P9e),U=en(O,!1);if(I)return Re.createElement(mF,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Re.createElement(QE,R0({},U,{width:E,height:_,title:T,desc:N}),this.renderClipPath(),cL(P,this.renderMap)));if(this.props.accessibilityLayer){var Y,K;U.tabIndex=(Y=this.props.tabIndex)!==null&&Y!==void 0?Y:0,U.role=(K=this.props.role)!==null&&K!==void 0?K:"application",U.onKeyDown=function(q){w.accessibilityManager.keyboardEvent(q)},U.onFocus=function(){w.accessibilityManager.focus()}}var J=this.parseEventsOfWrapper();return Re.createElement(mF,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Re.createElement("div",R0({className:pn("recharts-wrapper",j),style:dt({position:"relative",cursor:"default",width:E,height:_},S)},J,{ref:function(V){w.container=V}}),Re.createElement(QE,R0({},U,{width:E,height:_,title:T,desc:N,style:G9e}),this.renderClipPath(),cL(P,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(F.Component);mr(g,"displayName",r),mr(g,"defaultProps",dt({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),mr(g,"getDerivedStateFromProps",function(y,v){var b=y.dataKey,w=y.data,D=y.children,P=y.width,j=y.height,E=y.layout,_=y.stackOffset,S=y.margin,I=v.dataStartIndex,T=v.dataEndIndex;if(v.updateId===void 0){var N=RF(y);return dt(dt(dt({},N),{},{updateId:0},p(dt(dt({props:y},N),{},{updateId:0}),v)),{},{prevDataKey:b,prevData:w,prevWidth:P,prevHeight:j,prevLayout:E,prevStackOffset:_,prevMargin:S,prevChildren:D})}if(b!==v.prevDataKey||w!==v.prevData||P!==v.prevWidth||j!==v.prevHeight||E!==v.prevLayout||_!==v.prevStackOffset||!X0(S,v.prevMargin)){var O=RF(y),U={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},Y=dt(dt({},MF(v,w,E)),{},{updateId:v.updateId+1}),K=dt(dt(dt({},O),U),Y);return dt(dt(dt({},K),p(dt({props:y},K),v)),{},{prevDataKey:b,prevData:w,prevWidth:P,prevHeight:j,prevLayout:E,prevStackOffset:_,prevMargin:S,prevChildren:D})}if(!YE(D,v.prevChildren)){var J,q,V,ee,Z=Qs(D,Mp),k=Z&&(J=(q=Z.props)===null||q===void 0?void 0:q.startIndex)!==null&&J!==void 0?J:I,R=Z&&(V=(ee=Z.props)===null||ee===void 0?void 0:ee.endIndex)!==null&&V!==void 0?V:T,z=k!==I||R!==T,G=!Jr(w),Q=G&&!z?v.updateId:v.updateId+1;return dt(dt({updateId:Q},p(dt(dt({props:y},v),{},{updateId:Q,dataStartIndex:k,dataEndIndex:R}),v)),{},{prevChildren:D,dataStartIndex:k,dataEndIndex:R})}return null}),mr(g,"renderActiveDot",function(y,v,b){var w;return F.isValidElement(y)?w=F.cloneElement(y,v):Vr(y)?w=y(v):w=Re.createElement(CP,v),Re.createElement(Ea,{className:"recharts-active-dot",key:b},w)});var m=F.forwardRef(function(v,b){return Re.createElement(g,R0({},v,{ref:b}))});return m.displayName=g.displayName,m},cv=nBe({chartName:"LineChart",GraphicalChild:yi,axisComponents:[{axisType:"xAxis",AxisComp:Of},{axisType:"yAxis",AxisComp:If}],formatAxisMap:WFe});const aBe=()=>{const{isDarkMode:e}=ln(),{showToast:t}=Nl(),{user:r}=ma(),[n,a]=F.useState(!1),[i,s]=F.useState([]),[o,l]=F.useState(!1),[c,u]=F.useState([]),[f,h]=F.useState([]),[p,g]=F.useState(null),[m,y]=F.useState(null),[v,b]=F.useState(null),[w,D]=F.useState(!1),[P,j]=F.useState(!1),[E,_]=F.useState(!1),[S,I]=F.useState(!1),[T,N]=F.useState(""),[O,U]=F.useState(!1),[Y,K]=F.useState(null),[J,q]=F.useState(null),[V,ee]=F.useState(0),[Z,k]=F.useState(new Set),[R,z]=F.useState(!1),[G,Q]=F.useState(!1),[oe,ce]=F.useState(0),[ne,he]=F.useState(new Set),[ye,W]=F.useState(new Set),[Ce,ke]=F.useState(!1),[Ee,ie]=F.useState(""),[Fe,Ye]=F.useState([]),[Se,$e]=F.useState(!1),[_e,De]=F.useState("name"),[Ne,qe]=F.useState(!1),[at,nt]=F.useState(null),[ut,Tt]=F.useState(null),[kt,_t]=F.useState("all"),[ct,tr]=F.useState(""),[Wt,Hr]=F.useState([]),[lr,qr]=F.useState(()=>{const de=new Date;return de.setHours(0,0,0,0),de}),[Ie,Me]=F.useState(""),[Ke,ht]=F.useState(()=>{const de=new Date,Pe=new Date;return Pe.setDate(Pe.getDate()-6),Pe.setHours(0,0,0,0),de.setHours(23,59,59,999),{start:Pe,end:de}}),[Dt,Ht]=F.useState({dailyStats:[],userStats:[]}),[Mt,Ot]=F.useState(!1),Zt=de=>{const Pe=new Date,wt=new Date(Pe.getFullYear(),Pe.getMonth(),Pe.getDate());return de.createdAt<wt&&de.status==="completed"},br=de=>{if(!at&&!ut)return!0;const Pe=de.createdAt;return at&&ut?Pe>=at&&Pe<=ut:at?Pe>=at:ut?Pe<=ut:!0},wr=()=>{const de=new Set(i.map(Pe=>Pe.createdBy));return Array.from(de).sort()},Te=de=>kt==="all"?!0:de.createdBy===kt,st=de=>{if(!ct.trim())return!0;const Pe=ct.toLowerCase().trim();return de.jobId.toLowerCase().includes(Pe)?!0:de.items.some(wt=>wt.name&&wt.name.toLowerCase().includes(Pe))},He=i.filter(de=>P?Zt(de)&&br(de)&&Te(de)&&st(de):w?de.status==="completed"&&!Zt(de):E?de.status==="picking":de.status!=="completed"),er=()=>{const de=i.filter(wt=>wt.status==="picking"),Pe=Wt.filter(wt=>wt.isActive);return{databaseJobs:de,uiSessions:Pe,totalCount:de.length+Pe.length}},sr=F.useCallback(async()=>{try{const de=new Date(Date.now()-36e5),Pe=or(mt(Xe,"liveJobSessions"),ar("startTime","<",de)),wt=await cr(Pe),Ft=[];if(wt.forEach(ft=>{(ft.data().items||[]).length===0&&Ft.push(ft.id)}),Ft.length>0){console.log(`Cleaning up ${Ft.length} old live job sessions with no items`);const ft=Ft.map(yt=>Is(yr(Xe,"liveJobSessions",yt)));await Promise.all(ft),console.log(`Successfully cleaned up ${Ft.length} old live job sessions`)}}catch(de){console.error("Error cleaning up old live job sessions:",de)}},[]),Lr=F.useCallback(async de=>{Ot(!0);try{const Pe=new Date(de);Pe.setHours(0,0,0,0);const wt=new Date(de);wt.setHours(23,59,59,999);const Ft=i.filter(Gt=>{const rr=Gt.createdAt;return rr>=Pe&&rr<=wt}),ft=[];for(let Gt=6;Gt>=0;Gt--){const rr=new Date(de);rr.setDate(rr.getDate()-Gt);const Nr=new Date(rr);Nr.setHours(0,0,0,0);const Sr=new Date(rr);Sr.setHours(23,59,59,999);const bn=i.filter(cn=>{const ta=cn.createdAt;return ta>=Nr&&ta<=Sr}),tn=bn.reduce((cn,ta)=>cn+ta.items.reduce((rs,kr)=>rs+kr.quantity,0),0),ea=bn.filter(cn=>cn.status==="completed").length;ft.push({date:rr.toLocaleDateString("en-US",{month:"short",day:"numeric"}),itemsPicked:tn,jobsCompleted:ea})}const yt=[],Lt=new Set(Ft.map(Gt=>Gt.createdBy));for(const Gt of Lt){const rr=Ft.filter(cn=>cn.createdBy===Gt),Nr=rr.filter(cn=>cn.status==="completed"),Sr=rr.reduce((cn,ta)=>cn+ta.items.reduce((rs,kr)=>rs+kr.quantity,0),0);let bn=0,tn=0;Nr.forEach(cn=>{cn.pickingTime&&cn.pickingTime>0&&(bn+=cn.pickingTime,tn++)});const ea=tn>0?bn/tn:0;yt.push({name:Gt,jobsCreated:rr.length,jobsCompleted:Nr.length,itemsPicked:Sr,avgTimePerJob:ea,totalTime:bn})}yt.sort((Gt,rr)=>rr.itemsPicked-Gt.itemsPicked),Ht({dailyStats:ft,userStats:yt})}catch(Pe){console.error("Error generating reports:",Pe),t("Failed to generate reports","error")}finally{Ot(!1)}},[i,t]),_r=async de=>{if(r)try{await pr(mt(Xe,"activityLogs"),{user:r.name,role:r.role,detail:de,time:new Date().toISOString()})}catch(Pe){console.error("Failed to log activity:",Pe)}},Ur=de=>{if(de<60)return`${Math.round(de)}s`;if(de<3600){const Pe=Math.floor(de/60),wt=Math.round(de%60);return`${Pe}m ${wt}s`}else{const Pe=Math.floor(de/3600),wt=Math.floor(de%3600/60),Ft=Math.round(de%60);return`${Pe}h ${wt}m ${Ft}s`}},ae=F.useCallback(async()=>{a(!0),D(!1),j(!1),_(!1),I(!1),nt(null),Tt(null),_t("all"),he(new Set);try{const de=or(mt(Xe,"jobs"),La("createdAt","desc")),wt=(await cr(de)).docs.map(ft=>{const yt=ft.data();return{id:ft.id,jobId:yt.jobId||"",createdAt:yt.createdAt instanceof ir?yt.createdAt.toDate():new Date,createdBy:yt.createdBy||"Unknown",status:yt.status||"picking",picker:yt.picker??null,packer:yt.packer??null,items:Array.isArray(yt.items)?yt.items.map(Lt=>({barcode:String(Lt.barcode||""),name:Lt.name??null,asin:Lt.asin??null,quantity:Number(Lt.quantity||1),verified:!!Lt.verified,locationCode:Lt.locationCode,shelfNumber:Lt.shelfNumber,reason:Lt.reason||"Unknown",storeName:Lt.storeName||"Unknown"})):[],pickingTime:yt.pickingTime||0}}),Ft=await Promise.all(wt.map(async ft=>{const yt=await Promise.all(ft.items.map(async Lt=>{if(Lt.name)return Lt;try{const Gt=or(mt(Xe,"inventory"),ar("barcode","==",Lt.barcode)),rr=await cr(Gt);if(!rr.empty){const Nr=rr.docs[0].data();return{...Lt,name:Nr.name||null}}}catch(Gt){console.error("Error fetching product name for barcode:",Lt.barcode,Gt)}return Lt}));return{...ft,items:yt}}));s(Ft)}catch(de){console.error(de),t("Failed to fetch jobs","error")}finally{a(!1)}},[t]);F.useEffect(()=>{ae()},[ae]),F.useEffect(()=>{sr()},[sr]),F.useEffect(()=>{const de=setInterval(()=>{sr()},18e5);return()=>clearInterval(de)},[sr]),F.useEffect(()=>()=>{he(new Set),W(new Set)},[i]),F.useEffect(()=>{P&&!at&&!ut&&Je()},[P,at,ut]),F.useEffect(()=>{if(!E)return;sr();const de=Tie(mt(Xe,"liveJobSessions"),Pe=>{const wt=[];Pe.forEach(Ft=>{const ft=Ft.data();ft.isActive&&wt.push({id:Ft.id,createdBy:ft.createdBy||"Unknown",startTime:ft.startTime instanceof ir?ft.startTime.toDate():new Date(ft.startTime),items:ft.items||[],isActive:ft.isActive||!1})}),Hr(wt)},Pe=>{console.error("Error listening to live job sessions:",Pe)});return()=>de()},[E,sr]),F.useEffect(()=>{S&&(console.log("Generating reports for date:",lr.toISOString(),lr.toLocaleDateString("en-GB")),Lr(lr))},[S,lr,Lr]),F.useEffect(()=>{S&&(console.log("Date range changed:",Ke.start.toLocaleDateString("en-GB"),"to",Ke.end.toLocaleDateString("en-GB")),qr(new Date(Ke.end)))},[Ke,S]),F.useEffect(()=>{if(S&&i.length>0){const de=Array.from(new Set(i.map(Pe=>Pe.createdBy)));de.length>0&&!Ie&&Me(de[0])}},[S,i,Ie]),F.useEffect(()=>{S&&console.log("Report date changed:",lr.toISOString(),lr.toLocaleDateString("en-GB"))},[lr,S]);const be=de=>{W(Pe=>{const wt=new Set(Pe);return wt.has(de)?wt.delete(de):wt.add(de),wt})};F.useEffect(()=>{let de;return J&&(de=setInterval(()=>{const wt=Math.floor((new Date().getTime()-J.getTime())/1e3);ee(wt),wt>=600&&!G&&(Q(!0),ce(600)),wt>=600&&wt%300===0&&wt!==oe&&(Q(!0),ce(wt))},1e3)),()=>{de&&clearInterval(de)}},[J,G,oe]);const me=de=>{const Pe=Math.floor(de/60),wt=de%60;return`${Pe}:${wt.toString().padStart(2,"0")}`},ge=()=>{N(""),u([]),h([]),q(new Date),ee(0),Q(!1),ce(0),l(!0);const de=`session_${Date.now()}_${(r==null?void 0:r.name)||"Unknown"}`;pr(mt(Xe,"liveJobSessions"),{id:de,createdBy:(r==null?void 0:r.name)||"Unknown",startTime:kc(),items:[],isActive:!0,createdAt:kc()}).catch(Pe=>{console.error("Error creating live job session:",Pe)})},xe=async de=>{try{const Pe=or(mt(Xe,"inventory"),ar("barcode","==",de));return!(await cr(Pe)).empty}catch(Pe){return console.error("Error checking barcode:",Pe),!1}},we=async de=>{de.preventDefault();const Pe=T.trim();if(!Pe)return;if(!await xe(Pe)){t(`Product with barcode ${Pe} does not exist`,"error");return}try{const Ft=or(mt(Xe,"inventory"),ar("barcode","==",Pe)),ft=await cr(Ft);if(!ft.empty){const yt=ft.docs[0].data(),Lt={...yt,id:ft.docs[0].id,lastUpdated:yt.lastUpdated instanceof ir?yt.lastUpdated.toDate():new Date(yt.lastUpdated)};K(Lt),U(!0),l(!1)}}catch(Ft){console.error("Error fetching stock item:",Ft),t("Error fetching stock item details","error")}},Ge=async de=>{if(!Y)return;const Pe=Y.quantity-de.quantity,wt=or(mt(Xe,"inventory"),ar("barcode","==",Y.barcode),ar("locationCode","==",de.locationCode),ar("shelfNumber","==",de.shelfNumber)),Ft=await cr(wt);if(Ft.empty){t("Stock item not found for this location","error");return}const ft={...Y,id:Ft.docs[0].id,quantity:Ft.docs[0].data().quantity||0};h(Gt=>[...Gt,{stockItem:ft,deductedQuantity:Pe,reason:de.reason,storeName:de.storeName,locationCode:de.locationCode,shelfNumber:de.shelfNumber}]),Y.barcode&&u(Gt=>{const rr=Y.barcode,Nr=Gt.findIndex(Sr=>Sr.barcode===rr&&Sr.locationCode===de.locationCode&&Sr.shelfNumber===de.shelfNumber);if(Nr>=0){const Sr=[...Gt];return Sr[Nr]={...Sr[Nr],quantity:Sr[Nr].quantity+Pe},Sr}else return[...Gt,{barcode:rr,name:Y.name,quantity:Pe,verified:!1,locationCode:de.locationCode,shelfNumber:de.shelfNumber,reason:de.reason,storeName:de.storeName}]}),t("Item added to job","success"),U(!1),K(null),l(!0),N("");const yt=or(mt(Xe,"liveJobSessions"),ar("createdBy","==",r==null?void 0:r.name),ar("isActive","==",!0)),Lt=await cr(yt);if(!Lt.empty){const Gt=Lt.docs[0],rr=Gt.data().items||[],Nr={barcode:Y.barcode,name:Y.name,quantity:Pe,verified:!1,locationCode:de.locationCode,shelfNumber:de.shelfNumber,reason:de.reason,storeName:de.storeName};await Ln(yr(Xe,"liveJobSessions",Gt.id),{items:[...rr,Nr]})}We()},rt=()=>{U(!1),K(null),l(!0),We()},We=()=>{ie(""),Ye([]),De("name"),qe(!1)},Qe=()=>{P?Je():(nt(null),Tt(null))},Je=()=>{const de=new Date,Pe=new Date(de);Pe.setDate(de.getDate()-1);const wt=new Date(Pe.getFullYear(),Pe.getMonth(),Pe.getDate()),Ft=new Date(de.getFullYear(),de.getMonth(),de.getDate(),23,59,59,999);nt(wt),Tt(Ft)},St=()=>{P?Je():(nt(null),Tt(null)),_t("all"),tr("")},jt=async()=>{if(c.length===0){t("Add at least one item to create a job","error");return}if(R){t("Job creation is already in progress. Please wait for the current job to be created.","warning");return}z(!0),a(!0);try{for(const ft of f){const yt=yr(Xe,"inventory",ft.stockItem.id);await Ln(yt,{quantity:ft.stockItem.quantity-ft.deductedQuantity,lastUpdated:kc()}),await pr(mt(Xe,"activityLogs"),{detail:`${ft.deductedQuantity} units deducted from stock "${ft.stockItem.name}"  (Reason: ${ft.reason}, Store: ${ft.storeName}) by ${r==null?void 0:r.role} from location ${ft.locationCode} shelf ${ft.shelfNumber}`,time:new Date().toISOString(),user:r==null?void 0:r.name,role:r==null?void 0:r.role})}for(const ft of c)if(!f.some(Lt=>Lt.stockItem.barcode===ft.barcode&&Lt.locationCode===ft.locationCode&&Lt.shelfNumber===ft.shelfNumber)){const Lt=or(mt(Xe,"inventory"),ar("barcode","==",ft.barcode),ar("locationCode","==",ft.locationCode),ar("shelfNumber","==",ft.shelfNumber)),Gt=await cr(Lt);if(!Gt.empty){const rr=Gt.docs[0],Sr=rr.data().quantity||0;await Ln(yr(Xe,"inventory",rr.id),{quantity:Sr-ft.quantity,lastUpdated:kc()})}}const de=Date.now().toString(),Pe=await pr(mt(Xe,"jobs"),{jobId:de,createdAt:kc(),createdBy:(r==null?void 0:r.name)||"Unknown",status:"awaiting_pack",picker:(r==null?void 0:r.name)||null,packer:null,items:c,pickingTime:V});await Ln(Pe,{docId:Pe.id}),await _r(`created new job ${de} with ${c.length} items (${c.reduce((ft,yt)=>ft+yt.quantity,0)} total units)`),t(`Job ${de} created and awaiting pack`,"success"),l(!1),u([]),h([]),N(""),q(null),ee(0),Q(!1),ce(0);const wt=or(mt(Xe,"liveJobSessions"),ar("createdBy","==",r==null?void 0:r.name),ar("isActive","==",!0)),Ft=await cr(wt);Ft.empty||await Is(yr(Xe,"liveJobSessions",Ft.docs[0].id)),ae()}catch(de){console.error(de),t("Failed to create job","error")}finally{a(!1),z(!1)}},Bt=async de=>{try{await Ln(yr(Xe,"jobs",de.id),{status:"awaiting_pack",picker:(r==null?void 0:r.name)||de.picker||null}),await _r(`completed picking for job ${de.jobId} with ${de.items.length} items (${de.items.reduce((Pe,wt)=>Pe+wt.quantity,0)} total units)`),t(`Job ${de.jobId} completed and awaiting pack`,"success"),ae()}catch{t("Failed to update job","error")}},Pt=async(de,Pe,wt)=>{const Ft=`${de.id}-${Pe}`;k(ft=>new Set(ft).add(Ft));try{if(!de.id||!Pe){t("Invalid job or barcode","error");return}he(wt?ft=>new Set(ft).add(Ft):ft=>{const yt=new Set(ft);return yt.delete(Ft),yt})}catch(ft){console.error("Error verifying item:",ft),t("Failed to verify item","error")}finally{k(ft=>{const yt=new Set(ft);return yt.delete(Ft),yt})}},Rt=async de=>{try{const Pe=Array.from(ne).filter(ft=>ft.startsWith(de.id)).map(ft=>ft.split("-")[1]),wt=de.items.filter(ft=>ft.verified||Pe.includes(ft.barcode)).length,Ft=de.items.map(ft=>({...ft,verified:Pe.includes(ft.barcode)||ft.verified}));await Ln(yr(Xe,"jobs",de.id),{status:"completed",packer:(r==null?void 0:r.name)||de.packer||null,items:Ft}),await _r(`completed packing for job ${de.jobId} with ${de.items.length} items (${de.items.reduce((ft,yt)=>ft+yt.quantity,0)} total units) - ${wt} items verified`),he(ft=>{const yt=new Set(ft);return Pe.forEach(Lt=>{yt.delete(`${de.id}-${Lt}`)}),yt}),t(`Job ${de.jobId} completed successfully with ${wt}/${de.items.length} items verified`,"success"),ae()}catch(Pe){console.error("Error completing job:",Pe),t("Failed to complete job","error")}},dr=de=>{b(de)},Gr=async()=>{if(v)try{await _r(`deleted job ${v.jobId} (status: ${v.status} with ${v.items.length} items (${v.items.reduce((de,Pe)=>de+Pe.quantity,0)} total units))`),await Is(yr(Xe,"jobs",v.id)),he(de=>{const Pe=new Set(de);return v.items.forEach(wt=>{Pe.delete(`${v.id}-${wt.barcode}`)}),Pe}),t("Job deleted","success"),b(null),ae()}catch{t("Failed to delete job","error")}},Kr=async(de,Pe,wt,Ft)=>{try{const ft=[...de.items];ft[Pe]={...ft[Pe],barcode:wt,quantity:Ft},await Ln(yr(Xe,"jobs",de.id),{items:ft}),await _r(`updated job item in job ${de.jobId}: barcode ${de.items[Pe].barcode} → ${wt}, quantity ${de.items[Pe].quantity} → ${Ft}`),t("Job item updated successfully","success"),y(null),ae()}catch{t("Failed to update job item","error")}},xn=async(de,Pe)=>{try{const wt=de.items.filter((Ft,ft)=>ft!==Pe);await Ln(yr(Xe,"jobs",de.id),{items:wt}),await _r(`removed item ${de.items[Pe].barcode} (qty: ${de.items[Pe].quantity}) from job ${de.jobId}`),t("Job item removed successfully","success"),ae()}catch{t("Failed to remove job item","error")}},Ka=async(de,Pe)=>{if(!de.trim()){Ye([]);return}$e(!0);try{let wt;switch(Pe){case"barcode":wt=or(mt(Xe,"inventory"),ar("barcode","==",de.trim()));break;case"asin":wt=or(mt(Xe,"inventory"),ar("asin","==",de.trim()));break;case"name":default:wt=or(mt(Xe,"inventory"),ar("name",">=",de.trim().toUpperCase()),ar("name","<=",de.trim().toUpperCase()+""));break}const ft=(await cr(wt)).docs.map(yt=>{const Lt=yt.data();return{id:yt.id,name:Lt.name||"",quantity:Lt.quantity||0,price:Lt.price||0,unit:Lt.unit||null,supplier:Lt.supplier||null,lastUpdated:Lt.lastUpdated instanceof ir?Lt.lastUpdated.toDate():new Date,locationCode:Lt.locationCode||"",shelfNumber:Lt.shelfNumber||"",barcode:Lt.barcode||null,asin:Lt.asin||null,status:Lt.status||"pending",damagedItems:Lt.damagedItems||0,fulfillmentType:Lt.fulfillmentType||"fba",storeName:Lt.storeName||""}});Ye(ft)}catch(wt){console.error("Search error:",wt),t("Failed to search inventory","error"),Ye([])}finally{$e(!1)}},Bs=({job:de})=>{const Pe=de.status==="awaiting_pack",wt=de.status==="picking",Ft=de.status==="completed",ft=ye.has(de.id);return d.jsxs("div",{className:`${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} rounded-lg shadow-sm border`,children:[d.jsx("div",{className:`p-3 sm:p-4 border-b ${e?"border-slate-700":"border-slate-200"}`,children:d.jsx("div",{className:"flex flex-col gap-3",children:d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-3",children:[d.jsxs("div",{className:"flex items-start gap-3 min-w-0 flex-1",children:[d.jsx("div",{className:`${e?"bg-slate-700":"bg-slate-100"} p-2 rounded-lg flex-shrink-0`,children:d.jsx(wS,{className:`${e?"text-blue-400":"text-blue-600"}`,size:18})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 mb-2",children:[d.jsxs("h3",{className:`text-base sm:text-lg font-semibold ${e?"text-white":"text-slate-800"} break-all`,children:["Job ",de.jobId]}),d.jsx("button",{onClick:()=>be(de.id),className:`flex items-center gap-1 px-2 py-1 rounded text-xs font-medium transition-colors flex-shrink-0 ${e?"text-slate-300 hover:text-white hover:bg-slate-700":"text-slate-600 hover:text-slate-800 hover:bg-slate-200"}`,children:ft?d.jsxs(d.Fragment,{children:[d.jsx(U9,{size:14}),d.jsx("span",{className:"hidden sm:inline",children:"Hide Items"})," (",de.items.length,")"]}):d.jsxs(d.Fragment,{children:[d.jsx(Xl,{size:14}),d.jsx("span",{className:"hidden sm:inline",children:"Show Items"})," (",de.items.length,")"]})})]}),d.jsxs("p",{className:`${e?"text-slate-400":"text-slate-500"} text-xs leading-relaxed`,children:["Created by ",de.createdBy," • ",de.createdAt.toLocaleString(),de.pickingTime&&de.pickingTime>0&&d.jsxs("span",{className:`ml-2 ${e?"text-blue-400":"text-blue-600"}`,children:["• Picking: ",Ur(de.pickingTime)]})]}),(w||P)&&de.packer&&d.jsxs("p",{className:`${e?"text-slate-400":"text-slate-500"} text-xs leading-relaxed`,children:["Verified by ",de.packer]}),!ft&&de.items.length>0&&d.jsxs("div",{className:`${e?"text-slate-400":"text-slate-500"} text-xs mt-2`,children:[de.items.length," item",de.items.length!==1?"s":""," • Total Qty: ",de.items.reduce((yt,Lt)=>yt+Lt.quantity,0),Pe&&d.jsxs("span",{className:"ml-2",children:["• Verified: ",de.items.filter(yt=>yt.verified||ne.has(`${de.id}-${yt.barcode}`)).length,"/",de.items.length]})]})]})]}),d.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[d.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Ft?"bg-green-100 text-green-700":Pe?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:Ft?"Completed":Pe?"Awaiting Pack":"Picking"}),d.jsx(it,{variant:"secondary",onClick:ae,size:"sm",className:"h-8 w-8 p-0",children:d.jsx(ri,{size:14})}),d.jsx(it,{variant:"danger",onClick:()=>dr(de),size:"sm",className:"h-8 w-8 p-0",children:d.jsx(ni,{size:14})})]})]})})}),ft&&d.jsxs("div",{className:"p-3 sm:p-4 space-y-4",children:[d.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[wt&&d.jsxs(it,{onClick:()=>U(!0),className:"flex items-center gap-1",size:"sm",children:[d.jsx(wS,{size:14})," ",d.jsx("span",{className:"hidden sm:inline",children:"Scan"})]}),Pe&&d.jsxs("div",{className:`text-sm ${e?"text-slate-300":"text-slate-600"} bg-slate-100 dark:bg-slate-700 px-3 py-2 rounded-lg`,children:["Verification Status: ",de.items.filter(yt=>yt.verified||ne.has(`${de.id}-${yt.barcode}`)).length,"/",de.items.length," items verified"]})]}),d.jsxs("div",{className:"space-y-3",children:[de.items.map((yt,Lt)=>d.jsx("div",{className:`p-3 rounded-lg ${e?"bg-slate-700":"bg-slate-100"}`,children:(m==null?void 0:m.jobId)===de.id&&(m==null?void 0:m.itemIndex)===Lt?d.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 flex-1",children:[d.jsx(Ct,{value:m.barcode,onChange:Gt=>y({...m,barcode:Gt.target.value}),className:"w-full sm:w-32 text-sm",placeholder:"Barcode"}),d.jsx(Ct,{type:"number",value:m.quantity.toString(),onChange:Gt=>y({...m,quantity:Number(Gt.target.value)||1}),className:"w-full sm:w-20 text-sm",min:"1",placeholder:"Qty"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(it,{size:"sm",onClick:()=>Kr(de,Lt,m.barcode,m.quantity),className:"h-8 px-3",children:"✓"}),d.jsx(it,{variant:"secondary",size:"sm",onClick:()=>y(null),className:"h-8 px-3",children:"✕"})]})]}):d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:`${e?"text-white":"text-slate-800"} text-sm font-medium break-words`,children:yt.name||yt.barcode}),yt.name&&d.jsxs("div",{className:`${e?"text-slate-400":"text-slate-500"} text-xs mt-1 break-all`,children:["Barcode: ",yt.barcode]})]}),d.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[Pe&&d.jsx(it,{variant:yt.verified||ne.has(`${de.id}-${yt.barcode}`)?"success":"primary",size:"sm",onClick:()=>Pt(de,yt.barcode,!(yt.verified||ne.has(`${de.id}-${yt.barcode}`))),disabled:Z.has(`${de.id}-${yt.barcode}`),className:`h-7 px-2 text-xs transition-all duration-200 ${yt.verified||ne.has(`${de.id}-${yt.barcode}`)?"bg-green-500 hover:bg-green-600 text-white":"bg-blue-500 hover:bg-blue-600 text-white"}`,children:Z.has(`${de.id}-${yt.barcode}`)?d.jsx(ri,{size:12,className:"animate-spin"}):d.jsx("span",{className:"hidden sm:inline",children:yt.verified||ne.has(`${de.id}-${yt.barcode}`)?"Verified":"Verify"})}),Pe&&!m&&d.jsx(d.Fragment,{children:d.jsx(it,{variant:"danger",size:"sm",onClick:()=>xn(de,Lt),className:"h-8 w-8 p-0 flex items-center justify-center",title:"Remove item",children:d.jsx(ni,{size:16})})})]})]}),d.jsxs("div",{className:`${e?"text-slate-400":"text-slate-500"} text-xs space-y-1`,children:[d.jsxs("div",{children:["Qty: ",yt.quantity]}),yt.locationCode&&yt.shelfNumber&&d.jsxs("div",{children:["Location: ",yt.locationCode,"-",yt.shelfNumber]}),yt.reason&&d.jsxs("div",{children:["Reason: ",yt.reason]}),yt.storeName&&d.jsxs("div",{children:["Store: ",yt.storeName]})]})]})},`${yt.barcode}-${Lt}-${de.id}`)),de.items.length===0&&d.jsx("div",{className:`${e?"text-slate-400":"text-slate-500"} text-sm text-center py-4`,children:"No items scanned yet."})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-2 pt-2 border-t border-slate-200 dark:border-slate-700",children:[wt&&d.jsxs(it,{onClick:()=>Bt(de),size:"sm",className:"flex items-center gap-1 w-full sm:w-auto",children:[d.jsx(d2,{size:14})," ",d.jsx("span",{className:"hidden sm:inline",children:"Finish Picking"})]}),Pe&&d.jsxs(it,{onClick:()=>Rt(de),size:"sm",className:"flex items-center gap-1 w-full sm:w-auto",children:[d.jsx(d2,{size:14})," ",d.jsx("span",{className:"hidden sm:inline",children:"Complete Job"})]})]})]})]})};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("h1",{className:`text-xl sm:text-2xl font-bold ${e?"text-white":"text-slate-900"}`,children:[P?"Archived":w?"Completed":E?"Live":S?"Reports":"Active"," Jobs"]}),d.jsx(jW,{context:"jobs",variant:"icon"})]}),E&&d.jsx("p",{className:`text-sm ${e?"text-slate-400":"text-slate-600"}`,children:"Showing jobs currently being created (in progress)"}),S&&d.jsx("p",{className:`text-sm ${e?"text-slate-400":"text-slate-600"}`,children:"Analytics and performance reports for warehouse operations"})]}),d.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[d.jsx(it,{variant:"secondary",onClick:ae,className:`flex items-center gap-1 ${n?"opacity-50 cursor-not-allowed":""}`,disabled:n,size:"sm",children:d.jsx(ri,{size:16,className:n?"animate-spin":""})}),d.jsxs(it,{onClick:ge,className:"flex items-center gap-1",size:"sm",children:[d.jsx(Si,{size:16})," ",d.jsx("span",{className:"sm:inline hidden",children:"New Job"})]}),d.jsx(it,{variant:!w&&!P&&!E&&!S?"primary":"secondary",onClick:()=>{D(!1),j(!1),_(!1),I(!1)},size:"sm",children:"Active Jobs"}),d.jsx(it,{variant:w?"primary":"secondary",onClick:()=>{D(!0),j(!1),_(!1),I(!1)},size:"sm",children:"Completed Jobs"}),d.jsx(it,{variant:P?"primary":"secondary",onClick:()=>{D(!1),j(!0),_(!1),I(!1),Je()},size:"sm",children:"Archived Jobs"}),(r==null?void 0:r.role)==="admin"&&d.jsx(it,{variant:E?"primary":"secondary",onClick:()=>{D(!1),j(!1),_(!0),I(!1)},size:"sm",children:"Live Jobs"}),d.jsx(it,{variant:S?"primary":"secondary",onClick:()=>{D(!1),j(!1),_(!1),I(!0)},size:"sm",children:"Reports"})]})]}),d.jsx("div",{className:"flex flex-col gap-4",children:P&&d.jsx("div",{className:"w-full",children:d.jsxs("div",{className:"flex flex-col gap-4 p-4 bg-slate-50 dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("label",{className:`text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Search Jobs:"}),d.jsxs("div",{className:"relative",children:[d.jsx(Al,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 ${e?"text-slate-400":"text-slate-500"}`}),d.jsx("input",{type:"text",placeholder:"Search by job ID or item name...",value:ct,onChange:de=>tr(de.target.value),className:`pl-10 pr-3 py-2 border rounded-md text-sm w-full ${e?"bg-slate-700 border-slate-600 text-white placeholder-slate-400":"bg-white border-slate-300 text-slate-900 placeholder-slate-500"}`})]})]}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("label",{className:`text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Filter by User:"}),d.jsxs("select",{value:kt,onChange:de=>_t(de.target.value),className:`px-3 py-2 border rounded-md text-sm w-full ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`,children:[d.jsx("option",{value:"all",children:"All Users"}),wr().map(de=>d.jsx("option",{value:de,children:de},de))]})]}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("label",{className:`text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Filter by Date Range:"}),d.jsx(DW,{startDate:at,endDate:ut,onStartDateChange:nt,onEndDateChange:Tt,onClear:Qe,className:"w-full"})]})]}),d.jsx("div",{className:"flex justify-end",children:d.jsx(it,{variant:"secondary",onClick:St,size:"sm",className:"w-full sm:w-auto",children:"Clear All Filters"})})]})})})]}),d.jsxs("div",{className:"space-y-4",children:[P&&(at||ut||kt!=="all"||ct.trim())&&d.jsx("div",{className:`p-3 rounded-lg border ${e?"bg-slate-800 border-slate-700 text-slate-300":"bg-slate-50 border-slate-200 text-slate-700"}`,children:d.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 text-sm",children:[d.jsx("span",{className:"font-medium",children:"Active Filters:"}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[ct.trim()&&d.jsxs("span",{className:"px-2 py-1 bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 rounded text-xs",children:['Search: "',ct,'"']}),kt!=="all"&&d.jsxs("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded text-xs",children:["User: ",kt]}),at&&d.jsxs("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded text-xs",children:["From: ",at.toLocaleDateString()]}),ut&&d.jsxs("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded text-xs",children:["To: ",ut.toLocaleDateString()]}),d.jsxs("span",{className:"px-2 py-1 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 rounded text-xs",children:[He.length," jobs found"]})]})]})}),!S&&He.map(de=>d.jsx(Bs,{job:de},de.id)),E&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("h2",{className:`text-lg font-semibold ${e?"text-white":"text-slate-800"}`,children:"Live Job Sessions"}),d.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-700 dark:bg-orange-900 dark:text-orange-300",children:[er().totalCount," active"]})]}),d.jsxs(it,{variant:"secondary",onClick:()=>{ae(),sr()},className:"flex items-center gap-2",size:"sm",children:[d.jsx(ri,{size:16}),"Refresh Live Jobs"]})]}),er().uiSessions.map(de=>d.jsx("div",{className:`${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} rounded-lg shadow-sm border border-dashed`,children:d.jsx("div",{className:`p-3 sm:p-4 border-b ${e?"border-slate-700":"border-slate-200"}`,children:d.jsx("div",{className:"flex flex-col gap-3",children:d.jsx("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-3",children:d.jsxs("div",{className:"flex items-start gap-3 min-w-0 flex-1",children:[d.jsx("div",{className:`${e?"bg-orange-700":"bg-orange-100"} p-2 rounded-lg flex-shrink-0`,children:d.jsx(wS,{className:`${e?"text-orange-300":"text-orange-600"}`,size:18})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 mb-2",children:[d.jsx("h3",{className:`text-base sm:text-lg font-semibold ${e?"text-white":"text-slate-800"}`,children:"Creating New Job"}),d.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-700 dark:bg-orange-900 dark:text-orange-300",children:"In Progress"})]}),d.jsxs("p",{className:`${e?"text-slate-400":"text-slate-500"} text-xs leading-relaxed`,children:["Created by ",de.createdBy," • Started at ",de.startTime.toLocaleString()]}),d.jsxs("div",{className:`${e?"text-slate-400":"text-slate-500"} text-xs mt-2`,children:[de.items.length," item",de.items.length!==1?"s":""," scanned"]})]})]})})})})},de.id))]}),S&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("h2",{className:`text-lg font-semibold ${e?"text-white":"text-slate-800"}`,children:"Warehouse Performance Reports"}),d.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300",children:(()=>{const de=String(lr.getDate()).padStart(2,"0"),Pe=String(lr.getMonth()+1).padStart(2,"0"),wt=lr.getFullYear();return`${de}/${Pe}/${wt}`})()})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("input",{type:"date",value:(()=>{const de=lr.getFullYear(),Pe=String(lr.getMonth()+1).padStart(2,"0"),wt=String(lr.getDate()).padStart(2,"0");return`${de}-${Pe}-${wt}`})(),onChange:de=>{const Pe=new Date(de.target.value);qr(Pe),Lr(Pe)},className:`px-3 py-2 border rounded-md text-sm ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`}),d.jsx(it,{variant:"secondary",onClick:()=>Lr(lr),className:"flex items-center gap-2",size:"sm",disabled:Mt,children:d.jsx(ri,{size:16,className:Mt?"animate-spin":""})})]})]}),Mt?d.jsxs("div",{className:`text-center py-8 ${e?"text-slate-400":"text-slate-500"}`,children:[d.jsx(ri,{size:24,className:"animate-spin mx-auto mb-2"}),d.jsx("p",{children:"Generating reports..."})]}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[d.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[d.jsx("div",{className:`text-xs sm:text-sm ${e?"text-slate-400":"text-slate-500"} mb-1`,children:"Total Items Picked Today"}),d.jsx("div",{className:`text-xl sm:text-2xl font-bold ${e?"text-blue-400":"text-blue-600"}`,children:Dt.userStats.reduce((de,Pe)=>de+Pe.itemsPicked,0)})]}),d.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[d.jsx("div",{className:`text-xs sm:text-sm ${e?"text-slate-400":"text-slate-500"} mb-1`,children:"Total Jobs Completed"}),d.jsx("div",{className:`text-xl sm:text-2xl font-bold ${e?"text-green-400":"text-green-600"}`,children:Dt.userStats.reduce((de,Pe)=>de+Pe.jobsCompleted,0)})]}),d.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} sm:col-span-2 lg:col-span-1`,children:[d.jsx("div",{className:`text-xs sm:text-sm ${e?"text-slate-400":"text-slate-500"} mb-1`,children:"Active Users Today"}),d.jsx("div",{className:`text-xl sm:text-2xl font-bold ${e?"text-purple-400":"text-purple-600"}`,children:Dt.userStats.length})]})]}),d.jsxs("div",{className:`p-4 sm:p-6 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[d.jsxs("h3",{className:`text-base sm:text-lg font-semibold mb-3 sm:mb-4 ${e?"text-white":"text-slate-800"}`,children:["User Performance - ",lr.toLocaleDateString()]}),Dt.userStats.length>0?d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full min-w-[600px]",children:[d.jsx("thead",{children:d.jsxs("tr",{className:`border-b ${e?"border-slate-700":"border-slate-200"}`,children:[d.jsx("th",{className:`text-left py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"User"}),d.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Jobs Created"}),d.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Jobs Completed"}),d.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Items Picked"}),d.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Avg Time/Job"}),d.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-600"}`,children:"Total Time"})]})}),d.jsx("tbody",{children:Dt.userStats.map((de,Pe)=>d.jsxs("tr",{className:`border-b ${e?"border-slate-700":"border-slate-200"}`,children:[d.jsx("td",{className:`py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-white":"text-slate-800"}`,children:de.name}),d.jsx("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-slate-300":"text-slate-600"}`,children:de.jobsCreated}),d.jsx("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-slate-300":"text-slate-600"}`,children:de.jobsCompleted}),d.jsx("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-blue-400":"text-blue-600"} font-semibold`,children:de.itemsPicked}),d.jsx("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-slate-300":"text-slate-600"}`,children:Ur(de.avgTimePerJob)}),d.jsx("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-slate-300":"text-slate-600"}`,children:Ur(de.totalTime)})]},Pe))})]})}):d.jsx("div",{className:`text-center py-6 sm:py-8 ${e?"text-slate-400":"text-slate-500"}`,children:"No data available for selected date"})]}),d.jsxs("div",{className:`p-4 sm:p-6 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[d.jsx("h3",{className:`text-base sm:text-lg font-semibold mb-3 sm:mb-4 ${e?"text-white":"text-slate-800"}`,children:"Last 7 Days Performance Overview"}),d.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-7 gap-1 sm:gap-2",children:(()=>{const de=[];for(let Pe=6;Pe>=0;Pe--){const wt=new Date;wt.setDate(wt.getDate()-Pe);const Ft=new Date(wt);Ft.setHours(0,0,0,0);const ft=new Date(wt);ft.setHours(23,59,59,999);const yt=i.filter(Nr=>{const Sr=Nr.createdAt;return Sr>=Ft&&Sr<=ft}),Lt=yt.reduce((Nr,Sr)=>Nr+Sr.items.reduce((bn,tn)=>bn+tn.quantity,0),0),Gt=yt.filter(Nr=>Nr.status==="completed").length,rr=zt(wt,"MMM dd");de.push({date:rr,itemsPicked:Lt,jobsCompleted:Gt})}return de})().map((de,Pe)=>d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:`text-xs ${e?"text-slate-400":"text-slate-500"} mb-1`,children:de.date}),d.jsx("div",{className:`text-lg font-bold ${e?"text-blue-400":"text-blue-600"}`,children:de.itemsPicked}),d.jsxs("div",{className:`text-xs ${e?"text-slate-500":"text-slate-600"}`,children:[de.jobsCompleted," jobs"]})]},Pe))})]}),d.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[d.jsx("h3",{className:`text-base sm:text-lg font-semibold mb-3 sm:mb-4 ${e?"text-white":"text-slate-800"}`,children:"Chart Date Range"}),d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{className:`block text-xs sm:text-sm font-medium mb-1 ${e?"text-slate-300":"text-slate-700"}`,children:"Start Date"}),d.jsx("input",{type:"date",value:(()=>{const de=Ke.start.getFullYear(),Pe=String(Ke.start.getMonth()+1).padStart(2,"0"),wt=String(Ke.start.getDate()).padStart(2,"0");return`${de}-${Pe}-${wt}`})(),onChange:de=>{const Pe=new Date(de.target.value);Pe.setHours(0,0,0,0),Pe<=Ke.end&&ht(wt=>({...wt,start:Pe}))},className:`w-full px-2 sm:px-3 py-2 border rounded-md text-xs sm:text-sm ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`})]}),d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{className:`block text-xs sm:text-sm font-medium mb-1 ${e?"text-slate-300":"text-slate-700"}`,children:"End Date"}),d.jsx("input",{type:"date",value:(()=>{const de=Ke.end.getFullYear(),Pe=String(Ke.end.getMonth()+1).padStart(2,"0"),wt=String(Ke.end.getDate()).padStart(2,"0");return`${de}-${Pe}-${wt}`})(),onChange:de=>{const Pe=new Date(de.target.value);Pe.setHours(23,59,59,999),Pe>=Ke.start&&ht(wt=>({...wt,end:Pe}))},className:`w-full px-2 sm:px-3 py-2 border rounded-md text-xs sm:text-sm ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`})]})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[d.jsx("button",{onClick:()=>{const de=new Date,Pe=new Date;Pe.setDate(Pe.getDate()-6),Pe.setHours(0,0,0,0),de.setHours(23,59,59,999),ht({start:Pe,end:de})},className:`px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-medium transition-all duration-200 ${(()=>{const de=new Date,Pe=new Date;return Pe.setDate(Pe.getDate()-6),Pe.setHours(0,0,0,0),de.setHours(23,59,59,999),Ke.start.getTime()===Pe.getTime()&&Ke.end.getTime()===de.getTime()})()?"bg-blue-600 text-white shadow-lg shadow-blue-600/25":"bg-slate-600 hover:bg-slate-500 text-white hover:shadow-md"}`,children:"Last 7 Days"}),d.jsx("button",{onClick:()=>{const de=new Date,Pe=new Date;Pe.setDate(Pe.getDate()-29),Pe.setHours(0,0,0,0),de.setHours(23,59,59,999),ht({start:Pe,end:de})},className:`px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-medium transition-all duration-200 ${(()=>{const de=new Date,Pe=new Date;return Pe.setDate(Pe.getDate()-29),Pe.setHours(0,0,0,0),de.setHours(23,59,59,999),Ke.start.getTime()===Pe.getTime()&&Ke.end.getTime()===de.getTime()})()?"bg-blue-600 text-white shadow-lg shadow-blue-600/25":"bg-slate-600 hover:bg-slate-500 text-white hover:shadow-md"}`,children:"Last 30 Days"})]})]})]}),d.jsxs("div",{className:"space-y-3 sm:space-y-4 md:space-y-6",children:[d.jsxs("div",{className:`${e?"bg-slate-800":"bg-white"} p-3 sm:p-4 rounded-lg shadow-sm`,children:[d.jsxs("h3",{className:`text-sm sm:text-base md:text-lg font-medium ${e?"text-white":"text-slate-800"} mb-2 sm:mb-3 md:mb-4`,children:["Jobs Performance - Daily Overview (",Ke.start.toLocaleDateString("en-GB")," to ",Ke.end.toLocaleDateString("en-GB"),")"]}),d.jsx("div",{className:"h-48 sm:h-64 md:h-80",children:d.jsx(nv,{width:"100%",height:"100%",children:d.jsxs(cv,{data:(()=>{const de=[],Pe=new Map,wt=new Date(Ke.start),Ft=new Date(Ke.end),ft=Math.ceil((Ft.getTime()-wt.getTime())/(1e3*60*60*24));for(let yt=0;yt<=ft;yt++){const Lt=new Date(wt);Lt.setDate(wt.getDate()+yt);const Gt=new Date(Lt);Gt.setHours(0,0,0,0);const rr=new Date(Lt);rr.setHours(23,59,59,999);const Nr=i.filter(cn=>{const ta=cn.createdAt;return ta>=Gt&&ta<=rr}),Sr=Nr.reduce((cn,ta)=>cn+ta.items.reduce((rs,kr)=>rs+kr.quantity,0),0),bn=Nr.filter(cn=>cn.status==="completed").length,tn=Nr.length,ea=zt(Lt,"MMM dd");Pe.set(ea,{itemsPicked:Sr,jobsCompleted:bn,jobsCreated:tn})}return Pe.forEach((yt,Lt)=>{de.push({date:Lt,itemsPicked:yt.itemsPicked,jobsCompleted:yt.jobsCompleted,jobsCreated:yt.jobsCreated})}),de.sort((yt,Lt)=>{const Gt=new Date(yt.date),rr=new Date(Lt.date);return Gt.getTime()-rr.getTime()})})(),children:[d.jsx(Z0,{strokeDasharray:"3 3",stroke:e?"#334155":"#e2e8f0"}),d.jsx(Of,{dataKey:"date",stroke:e?"#94a3b8":"#64748b"}),d.jsx(If,{stroke:e?"#94a3b8":"#64748b"}),d.jsx(ks,{contentStyle:{backgroundColor:e?"#1e293b":"#ffffff",border:e?"1px solid #334155":"1px solid #e2e8f0",color:e?"#e2e8f0":"#1e293b"},formatter:(de,Pe)=>Pe==="Items Picked"?[`${de} items`,Pe]:Pe==="Jobs Completed"?[`${de} jobs`,Pe]:Pe==="Jobs Created"?[`${de} jobs`,Pe]:[de,Pe],labelFormatter:de=>`Date: ${de}`}),d.jsx(_l,{}),d.jsx(yi,{type:"monotone",dataKey:"itemsPicked",stroke:"#10b981",name:"Items Picked",strokeWidth:2}),d.jsx(yi,{type:"monotone",dataKey:"jobsCompleted",stroke:"#3b82f6",name:"Jobs Completed",strokeWidth:2}),d.jsx(yi,{type:"monotone",dataKey:"jobsCreated",stroke:"#f59e0b",name:"Jobs Created",strokeWidth:2})]})})})]}),d.jsxs("div",{className:`${e?"bg-slate-800":"bg-white"} p-3 sm:p-4 rounded-lg shadow-sm`,children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2 sm:gap-0 mb-2 sm:mb-3 md:mb-4",children:[d.jsxs("h3",{className:`text-sm sm:text-base md:text-lg font-medium ${e?"text-white":"text-slate-800"}`,children:["User Performance - ",Ke.start.toLocaleDateString("en-GB")," to ",Ke.end.toLocaleDateString("en-GB")]}),d.jsx("select",{value:Ie||(()=>{const de=Array.from(new Set(i.map(Pe=>Pe.createdBy)));return de.length>0?de[0]:""})(),onChange:de=>{Me(de.target.value)},className:`px-2 sm:px-3 py-1 border rounded-md text-xs sm:text-sm ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`,children:Array.from(new Set(i.map(Pe=>Pe.createdBy))).map(Pe=>d.jsx("option",{value:Pe,children:Pe},Pe))})]}),d.jsx("div",{className:"h-48 sm:h-64 md:h-80",children:d.jsx(nv,{width:"100%",height:"100%",children:d.jsxs(cv,{data:(()=>{const de=[],Pe=new Map,wt=Array.from(new Set(i.map(Gt=>Gt.createdBy))),Ft=Ie||(wt.length>0?wt[0]:""),ft=new Date(Ke.start),yt=new Date(Ke.end),Lt=Math.ceil((yt.getTime()-ft.getTime())/(1e3*60*60*24));for(let Gt=0;Gt<=Lt;Gt++){const rr=new Date(ft);rr.setDate(ft.getDate()+Gt);const Nr=new Date(rr);Nr.setHours(0,0,0,0);const Sr=new Date(rr);Sr.setHours(23,59,59,999);const bn=i.filter(kr=>{const ws=kr.createdAt;return ws>=Nr&&ws<=Sr&&kr.createdBy===Ft}),tn=bn.reduce((kr,ws)=>kr+ws.items.reduce((qo,Us)=>qo+Us.quantity,0),0),ea=bn.filter(kr=>kr.status==="completed").length,cn=bn.length;let ta=0;bn.forEach(kr=>{kr.pickingTime&&kr.pickingTime>0&&(ta+=kr.pickingTime)});const rs=zt(rr,"MMM dd");Pe.set(rs,{itemsPicked:tn,jobsCompleted:ea,jobsCreated:cn,totalPickingTime:ta})}return Pe.forEach((Gt,rr)=>{de.push({date:rr,itemsPicked:Gt.itemsPicked,jobsCompleted:Gt.jobsCompleted,jobsCreated:Gt.jobsCreated,totalPickingTime:Gt.totalPickingTime})}),de.sort((Gt,rr)=>{const Nr=new Date(Gt.date),Sr=new Date(rr.date);return Nr.getTime()-Sr.getTime()})})(),children:[d.jsx(Z0,{strokeDasharray:"3 3",stroke:e?"#334155":"#e2e8f0"}),d.jsx(Of,{dataKey:"date",stroke:e?"#94a3b8":"#64748b"}),d.jsx(If,{stroke:e?"#94a3b8":"#64748b"}),d.jsx(ks,{contentStyle:{backgroundColor:e?"#1e293b":"#ffffff",border:e?"1px solid #334155":"1px solid #e2e8f0",color:e?"#e2e8f0":"#1e293b"},formatter:(de,Pe)=>Pe==="Items Picked"?[`${de} items`,Pe]:Pe==="Jobs Completed"?[`${de} jobs`,Pe]:Pe==="Jobs Created"?[`${de} jobs`,Pe]:Pe==="Total Picking Time"?[`${Ur(de)}`,Pe]:[de,Pe],labelFormatter:de=>`Date: ${de}`}),d.jsx(_l,{}),d.jsx(yi,{type:"monotone",dataKey:"itemsPicked",stroke:"#10b981",name:"Items Picked",strokeWidth:2}),d.jsx(yi,{type:"monotone",dataKey:"jobsCompleted",stroke:"#3b82f6",name:"Jobs Completed",strokeWidth:2}),d.jsx(yi,{type:"monotone",dataKey:"jobsCreated",stroke:"#f59e0b",name:"Jobs Created",strokeWidth:2}),d.jsx(yi,{type:"monotone",dataKey:"totalPickingTime",stroke:"#8b5cf6",name:"Total Picking Time",strokeWidth:2})]})})})]})]})]})]}),!S&&He.length===0&&er().uiSessions.length===0&&d.jsx("div",{className:`${e?"text-slate-400":"text-slate-500"} text-center py-8`,children:P?d.jsxs("div",{className:"space-y-2",children:[d.jsx("p",{children:"No archived jobs found."}),(at||ut||kt!=="all")&&d.jsx("p",{className:"text-sm",children:"Try adjusting your filters or clearing them to see more results."})]}):w?"No completed jobs found.":E?"No live jobs found.":"No active jobs found."})]}),d.jsx(hn,{isOpen:o,onClose:()=>{l(!1),q(null),ee(0),Q(!1),ce(0),qe(!1);const de=or(mt(Xe,"liveJobSessions"),ar("createdBy","==",r==null?void 0:r.name),ar("isActive","==",!0));cr(de).then(Pe=>{Pe.empty||Is(yr(Xe,"liveJobSessions",Pe.docs[0].id))}).catch(Pe=>{console.error("Error deleting session:",Pe)})},title:Ne?"Search Product from Inventory":"Add Barcode to Job",size:"md",closeOnOutsideClick:!1,children:d.jsxs("div",{className:"space-y-4",children:[!Ne&&d.jsxs("div",{className:"flex justify-between items-center gap-2",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:()=>qe(!0),className:"flex items-center gap-2 px-3 py-2 rounded-md transition-colors bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-600",title:"Show search section",children:[d.jsx(Al,{size:16}),d.jsx("span",{className:"text-sm font-medium",children:"Search Product"})]}),d.jsx(it,{variant:"secondary",onClick:()=>ke(!0),size:"sm",className:"px-3 py-2",children:d.jsx(OO,{size:16})})]}),d.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-md ${V>=600?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"}`,children:[d.jsx(DO,{size:16}),d.jsx("span",{className:"text-sm font-mono font-medium",children:me(V)})]})]}),G&&d.jsx("div",{className:`p-3 rounded-md border-l-4 ${e?"bg-red-900/20 border-red-500 text-red-200":"bg-red-50 border-red-500 text-red-800"}`,children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"animate-pulse",children:"⚠️"}),d.jsx("span",{className:"font-medium",children:V>=600&&V<900?"Hurry up! You've been working on this job for 10+ minutes.":`Time Alert: ${Math.floor(V/60)} minutes elapsed. Please complete the job soon.`}),d.jsx("button",{onClick:()=>Q(!1),className:`ml-auto px-2 py-1 rounded text-xs ${e?"bg-red-800 hover:bg-red-700 text-red-200":"bg-red-200 hover:bg-red-300 text-red-800"}`,children:"Dismiss"})]})}),Ne&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between gap-2",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("button",{onClick:()=>qe(!1),className:`flex items-center gap-2 px-3 py-2 rounded-md transition-colors ${e?"bg-slate-700 text-slate-300 hover:bg-slate-600 hover:text-white":"bg-slate-200 text-slate-700 hover:bg-slate-300 hover:text-slate-800"}`,title:"Back to Add Barcode",children:[d.jsx(uee,{size:16}),d.jsx("span",{className:"text-sm font-medium",children:"Back to Add Barcode"})]}),d.jsx(it,{variant:"secondary",onClick:()=>ke(!0),size:"sm",className:"px-3 py-2",children:d.jsx(OO,{size:16})})]}),d.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-md ${V>=600?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"}`,children:[d.jsx(DO,{size:16}),d.jsx("span",{className:"text-sm font-mono font-medium",children:me(V)})]})]}),d.jsx("div",{className:"flex gap-2 mb-3",children:["name","barcode","asin"].map(de=>d.jsx("button",{onClick:()=>De(de),className:`px-3 py-1 text-xs rounded-md transition-colors ${_e===de?"bg-blue-500 text-white":e?"bg-slate-700 text-slate-300 hover:bg-slate-600":"bg-slate-200 text-slate-700 hover:bg-slate-300"}`,children:de.charAt(0).toUpperCase()+de.slice(1)},de))}),d.jsxs("div",{className:"flex gap-2 mb-3",children:[d.jsx(Ct,{value:Ee,onChange:de=>ie(de.target.value),placeholder:`Search by ${_e}...`,className:"flex-1",onKeyPress:de=>de.key==="Enter"&&Ka(Ee,_e)}),d.jsx(it,{onClick:()=>Ka(Ee,_e),disabled:Se||!Ee.trim(),size:"sm",className:"px-4",children:Se?d.jsx(ri,{size:14,className:"animate-spin"}):"Search"})]}),Fe.length>0&&d.jsxs("div",{className:"space-y-2 max-h-48 overflow-auto",children:[d.jsxs("h5",{className:`text-xs font-medium ${e?"text-slate-400":"text-slate-600"}`,children:["Found ",Fe.length," product",Fe.length!==1?"s":"",":"]}),Fe.map(de=>d.jsxs("div",{className:`p-2 rounded text-sm ${e?"bg-slate-700 border border-slate-600":"bg-slate-100 border border-slate-200"}`,children:[d.jsx("div",{className:`font-medium ${e?"text-white":"text-slate-800"}`,children:de.name}),d.jsxs("div",{className:`text-xs ${e?"text-slate-400":"text-slate-600"}`,children:[de.barcode&&d.jsxs("span",{className:"mr-3",children:["Barcode: ",de.barcode]}),de.asin&&d.jsxs("span",{className:"mr-3",children:["ASIN: ",de.asin]}),de.locationCode&&de.shelfNumber&&d.jsxs("span",{className:"mr-3",children:["Location: ",de.locationCode,"-",de.shelfNumber]}),d.jsxs("span",{className:"mr-3",children:["Qty: ",de.quantity]}),d.jsxs("span",{children:["Store: ",de.storeName]})]})]},de.id))]}),Ee&&Fe.length===0&&!Se&&d.jsxs("div",{className:`text-center text-sm ${e?"text-slate-400":"text-slate-500"}`,children:['No products found for "',Ee,'"']})]}),!Ne&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-200",children:"Barcode"}),d.jsxs("form",{onSubmit:we,className:"flex gap-2",children:[d.jsx(Ct,{name:"manualBarcode",type:"text",value:T,onChange:de=>N(de.target.value),placeholder:"Enter barcode manually",fullWidth:!0}),d.jsxs(it,{type:"submit",className:"flex items-center gap-1 whitespace-nowrap",size:"sm",children:[d.jsx(Si,{size:16})," Add"]})]})]}),d.jsx("div",{className:"text-center text-sm text-slate-500 dark:text-slate-400",children:"Enter a barcode to update stock quantity for this job"})]}),!Ne&&c.length>0&&d.jsxs("div",{className:"space-y-2",children:[d.jsx("h4",{className:`text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Current Job Items:"}),d.jsx("div",{className:"max-h-32 overflow-auto space-y-1",children:c.map((de,Pe)=>{var wt;return d.jsx("div",{className:`flex items-center justify-between p-2 rounded text-sm ${e?"bg-slate-800":"bg-slate-100"}`,children:(p==null?void 0:p.index)===Pe?d.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[d.jsx(Ct,{value:p.barcode,onChange:Ft=>g({...p,barcode:Ft.target.value}),className:"w-24 text-sm"}),d.jsx(Ct,{type:"number",value:p.quantity,onChange:Ft=>g({...p,quantity:Number(Ft.target.value)||1}),className:"w-16 text-sm",min:"1"}),d.jsxs("div",{className:"flex gap-1",children:[d.jsx(it,{size:"sm",onClick:()=>{const Ft=c[Pe].quantity,ft=Number(p.quantity),yt=ft-Ft;u(Gt=>{const rr=[...Gt];return rr[Pe]={...rr[Pe],barcode:p.barcode,quantity:ft,reason:p.reason||"Unknown",storeName:p.storeName||"Unknown",name:p.name||null},rr}),h(Gt=>{const rr=[...Gt],Nr=rr.findIndex(Sr=>Sr.stockItem.barcode===p.barcode&&Sr.locationCode===c[Pe].locationCode&&Sr.shelfNumber===c[Pe].shelfNumber);return Nr>=0&&(rr[Nr]={...rr[Nr],deductedQuantity:rr[Nr].deductedQuantity+yt}),rr});const Lt=or(mt(Xe,"liveJobSessions"),ar("createdBy","==",r==null?void 0:r.name),ar("isActive","==",!0));cr(Lt).then(Gt=>{if(!Gt.empty){const rr=Gt.docs[0],Sr=(rr.data().items||[]).map(bn=>bn.barcode===c[Pe].barcode&&bn.locationCode===c[Pe].locationCode&&bn.shelfNumber===c[Pe].shelfNumber?{...bn,barcode:p.barcode,quantity:ft,reason:p.reason||"Unknown",storeName:p.storeName||"Unknown",name:p.name||null}:bn);Ln(yr(Xe,"liveJobSessions",rr.id),{items:Sr})}}).catch(Gt=>{console.error("Error updating session items:",Gt)}),g(null)},className:"h-6 px-2",children:"✓"}),d.jsx(it,{variant:"secondary",size:"sm",onClick:()=>g(null),className:"h-6 px-2",children:"✕"})]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("span",{className:"truncate block font-medium",children:de.name||de.barcode}),de.name&&d.jsxs("span",{className:"text-xs text-slate-500 block",children:["Barcode: ",de.barcode]}),de.locationCode&&de.shelfNumber&&d.jsxs("span",{className:"text-xs text-slate-500 block",children:["Location: ",de.locationCode," - Shelf ",de.shelfNumber]}),de.reason&&d.jsxs("span",{className:"text-xs text-slate-500 block",children:["Reason: ",de.reason]}),de.storeName&&d.jsxs("span",{className:"text-xs text-slate-500 block",children:["Store: ",(wt=de.storeName)==null?void 0:wt.toUpperCase()]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:"text-xs text-slate-500",children:["Qty: ",de.quantity]}),d.jsx(it,{variant:"secondary",size:"sm",onClick:()=>g({index:Pe,barcode:de.barcode,quantity:de.quantity,reason:de.reason,storeName:de.storeName,name:de.name}),className:"h-6 px-2",children:"Edit"}),d.jsx("button",{type:"button",onClick:()=>{u(yt=>yt.filter((Lt,Gt)=>Gt!==Pe));const Ft=c[Pe];h(yt=>yt.filter(Lt=>!(Lt.stockItem.barcode===Ft.barcode&&Lt.locationCode===Ft.locationCode&&Lt.shelfNumber===Ft.shelfNumber)));const ft=or(mt(Xe,"liveJobSessions"),ar("createdBy","==",r==null?void 0:r.name),ar("isActive","==",!0));cr(ft).then(yt=>{if(!yt.empty){const Lt=yt.docs[0],rr=(Lt.data().items||[]).filter(Nr=>!(Nr.barcode===Ft.barcode&&Nr.locationCode===Ft.locationCode&&Nr.shelfNumber===Ft.shelfNumber));Ln(yr(Xe,"liveJobSessions",Lt.id),{items:rr})}}).catch(yt=>{console.error("Error updating session items:",yt)})},className:"h-6 w-6 rounded flex items-center justify-center text-white bg-red-500 hover:bg-red-600 transition-colors hover:bg-red-600",title:"Remove item",children:"×"})]})]})},`${de.barcode}-${de.locationCode}-${de.shelfNumber}-${Pe}`)})}),d.jsx("div",{className:"pt-2",children:d.jsxs(it,{onClick:jt,disabled:c.length===0||R,isLoading:R,className:"w-full flex items-center justify-center gap-2",size:"sm",children:[d.jsx(d2,{size:16}),R?"Creating Job...":"Finish Picking"]})})]})]})}),d.jsx(dh,{isOpen:!!v,onClose:()=>b(null),onConfirm:Gr,title:"Delete Job",message:v?`Are you sure you want to delete Job ${v.jobId}? This action cannot be undone.`:"",isLoading:!1}),d.jsx(hn,{isOpen:O,onClose:()=>U(!1),title:"Update Stock for Job",size:"lg",closeOnOutsideClick:!1,children:Y&&d.jsx(m2e,{item:Y,onSubmit:Ge,onCancel:rt,isLoading:!1})}),d.jsx(g2e,{isOpen:Ce,onClose:()=>ke(!1)})]})},iBe=({children:e,variant:t="primary",size:r="md",className:n=""})=>{const a={primary:"bg-blue-100 text-blue-800",success:"bg-green-100 text-green-800",warning:"bg-amber-100 text-amber-800",danger:"bg-red-100 text-red-800",info:"bg-slate-100 text-slate-800"},i={sm:"text-xs px-2 py-0.5",md:"text-sm px-2.5 py-0.5"};return d.jsx("span",{className:`
        ${a[t]} 
        ${i[r]} 
        inline-flex items-center justify-center font-medium rounded-full
        ${n}
      `,children:e})},lY=({status:e})=>{const t=()=>{switch(e){case"pending":return"info";case"processing":return"primary";case"shipped":return"warning";case"delivered":return"success";case"cancelled":return"danger";case"completed":return"success";default:return"info"}},r=()=>e.charAt(0).toUpperCase()+e.slice(1);return d.jsx(iBe,{variant:t(),children:r()})},sBe=({order:e,onClick:t,editButton:r})=>{const{isDarkMode:n}=ln();return d.jsx("div",{className:`border ${n?"border-slate-700 bg-slate-800":"border-slate-200 bg-white"} rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-pointer`,onClick:t,children:d.jsxs("div",{className:"p-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("h3",{className:`font-medium ${n?"text-white":"text-slate-800"}`,children:e.orderNumber}),d.jsxs("div",{className:"flex items-center gap-2",children:[r,d.jsx(lY,{status:e.status})]})]}),d.jsx("p",{className:`${n?"text-slate-300":"text-slate-700"} mb-2`,children:e.customerName}),d.jsx("div",{className:"space-y-1 mb-3",children:d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsxs("span",{className:`${n?"text-slate-400":"text-slate-600"}`,children:["Total Products: ",e.items.length]}),d.jsxs("span",{className:`${n?"text-slate-200":"text-slate-800"} font-medium`,children:["Total Quantity: ",e.items.reduce((a,i)=>a+i.quantity,0)]})]})}),d.jsxs("div",{className:`pt-2 border-t ${n?"border-slate-700":"border-slate-200"} flex items-center justify-between`,children:[d.jsx("span",{className:`text-xs ${n?"text-slate-400":"text-slate-500"}`,children:zt(e.createdAt,"MMM d, yyyy")}),d.jsxs("span",{className:`font-medium ${n?"text-white":"text-slate-900"}`,children:["Total: $",e.totalAmount.toFixed(2)]})]})]})})},oBe=({isOpen:e,onClose:t,order:r})=>r?(console.log("Order in OrderDetailsModal:",r),console.log("Order status in modal:",r.status),console.log("Shipped Time in modal (before conditional):",r.shippedTime,typeof r.shippedTime),d.jsx(hn,{isOpen:e,onClose:t,title:`Order ${r.orderNumber}`,size:"xl",children:d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex flex-wrap justify-between gap-4 pb-4 border-b border-slate-200",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Status"}),d.jsx("div",{className:"mt-1",children:d.jsx(lY,{status:r.status})})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Customer"}),d.jsx("p",{className:"text-slate-800 font-medium",children:r.customerName})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Order Date"}),d.jsx("p",{className:"text-slate-800",children:r.createdAt?zt(r.createdAt,"MMM d, yyyy h:mm a"):"N/A"})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Last Updated"}),d.jsx("p",{className:"text-slate-800",children:r.updatedAt?zt(r.updatedAt,"MMM d, yyyy h:mm a"):"N/A"})]}),r.status==="shipped"&&r.shippedTime&&d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Shipped Time"}),d.jsx("p",{className:"text-slate-800",children:r.shippedTime?zt(r.shippedTime,"MMM d, yyyy h:mm a"):"N/A"})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800 mb-3",children:"Order Items"}),d.jsx("div",{className:"bg-slate-50 rounded-lg border border-slate-200 overflow-hidden",children:d.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[d.jsx("thead",{className:"bg-slate-100",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Product"}),d.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Quantity"}),d.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Unit Price"}),d.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Total"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:r.items.map(n=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-800",children:n.productName}),d.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-800 text-right",children:n.quantity}),d.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-800 text-right",children:["$",n.unitPrice.toFixed(2)]}),d.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-slate-900 text-right",children:["$",n.totalPrice.toFixed(2)]})]},n.id))}),d.jsx("tfoot",{className:"bg-slate-50",children:d.jsxs("tr",{children:[d.jsx("td",{colSpan:3,className:"px-4 py-3 text-sm font-medium text-slate-700 text-right",children:"Total"}),d.jsxs("td",{className:"px-4 py-3 text-sm font-bold text-slate-900 text-right",children:["$",r.totalAmount.toFixed(2)]})]})})]})})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Shipping Address"}),d.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200",children:[d.jsx("p",{className:"text-sm text-slate-800",children:r.shippingAddress.street}),d.jsxs("p",{className:"text-sm text-slate-800",children:[r.shippingAddress.city,", ",r.shippingAddress.state," ",r.shippingAddress.zipCode]}),d.jsx("p",{className:"text-sm text-slate-800",children:r.shippingAddress.country})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Billing Address"}),d.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200",children:[d.jsx("p",{className:"text-sm text-slate-800",children:r.billingAddress.street}),d.jsxs("p",{className:"text-sm text-slate-800",children:[r.billingAddress.city,", ",r.billingAddress.state," ",r.billingAddress.zipCode]}),d.jsx("p",{className:"text-sm text-slate-800",children:r.billingAddress.country})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Payment Method"}),d.jsx("p",{className:"text-slate-700",children:r.paymentMethod})]}),r.notes&&d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Notes"}),d.jsx("p",{className:"text-slate-700",children:r.notes})]})]})]})})):null,$w=[{id:"stock1",name:"Wireless Earbuds",quantity:150,price:89.99,supplier:"Tech Supplies Inc.",lastUpdated:new Date,locationCode:"A1",shelfNumber:3},{id:"stock2",name:"Premium T-Shirt",quantity:300,price:24.99,supplier:"Fashion Forward",lastUpdated:Rr(new Date,2),locationCode:"A2",shelfNumber:1},{id:"stock3",name:"Office Chair",quantity:45,price:149.99,supplier:"Office Comfort LLC",lastUpdated:Rr(new Date,5),locationCode:"B1",shelfNumber:2},{id:"stock4",name:"Smartphone Case",quantity:200,price:19.99,supplier:"Tech Accessories Co.",lastUpdated:Rr(new Date,1),locationCode:"B2",shelfNumber:4},{id:"stock5",name:"Protein Bars",quantity:500,price:2.99,supplier:"Nutrition Wholesale",lastUpdated:Rr(new Date,3),locationCode:"C1",shelfNumber:2},{id:"stock6",name:"Laptop Backpack",quantity:75,price:59.99,supplier:"Travel Gear Ltd.",lastUpdated:Rr(new Date,7),locationCode:"C2",shelfNumber:3},{id:"stock7",name:"Wireless Mouse",quantity:120,price:29.99,supplier:"Tech Supplies Inc.",lastUpdated:Rr(new Date,4),locationCode:"D1",shelfNumber:2},{id:"stock8",name:"Denim Jeans",quantity:180,price:49.99,supplier:"Fashion Forward",lastUpdated:Rr(new Date,6),locationCode:"D2",shelfNumber:4}],lBe=[{id:"order1",orderNumber:"ORD-2025-001",customerName:"Jane Smith",items:[{id:"item1",productId:"stock1",productName:"Wireless Earbuds",quantity:2,unitPrice:89.99,totalPrice:179.98},{id:"item2",productId:"stock4",productName:"Smartphone Case",quantity:1,unitPrice:19.99,totalPrice:19.99}],status:"pending",createdAt:Rr(new Date,1),updatedAt:Rr(new Date,1),shippingAddress:{street:"123 Main St",city:"Boston",state:"MA",zipCode:"02108",country:"USA"},billingAddress:{street:"123 Main St",city:"Boston",state:"MA",zipCode:"02108",country:"USA"},paymentMethod:"Credit Card",totalAmount:199.97},{id:"order2",orderNumber:"ORD-2025-002",customerName:"John Doe",items:[{id:"item3",productId:"stock3",productName:"Office Chair",quantity:1,unitPrice:149.99,totalPrice:149.99}],status:"processing",createdAt:Rr(new Date,2),updatedAt:Rr(new Date,1),shippingAddress:{street:"456 Park Ave",city:"New York",state:"NY",zipCode:"10022",country:"USA"},billingAddress:{street:"456 Park Ave",city:"New York",state:"NY",zipCode:"10022",country:"USA"},paymentMethod:"PayPal",totalAmount:149.99},{id:"order3",orderNumber:"ORD-2025-003",customerName:"Bob Johnson",items:[{id:"item4",productId:"stock2",productName:"Premium T-Shirt",quantity:3,unitPrice:24.99,totalPrice:74.97},{id:"item5",productId:"stock8",productName:"Denim Jeans",quantity:2,unitPrice:49.99,totalPrice:99.98}],status:"shipped",createdAt:Rr(new Date,5),updatedAt:Rr(new Date,3),shippingAddress:{street:"789 Oak Dr",city:"Chicago",state:"IL",zipCode:"60601",country:"USA"},billingAddress:{street:"789 Oak Dr",city:"Chicago",state:"IL",zipCode:"60601",country:"USA"},paymentMethod:"Credit Card",totalAmount:174.95},{id:"order4",orderNumber:"ORD-2025-004",customerName:"Alice Williams",items:[{id:"item6",productId:"stock5",productName:"Protein Bars",quantity:10,unitPrice:2.99,totalPrice:29.9}],status:"delivered",createdAt:Rr(new Date,10),updatedAt:Rr(new Date,7),shippingAddress:{street:"101 Pine St",city:"San Francisco",state:"CA",zipCode:"94111",country:"USA"},billingAddress:{street:"101 Pine St",city:"San Francisco",state:"CA",zipCode:"94111",country:"USA"},paymentMethod:"Credit Card",totalAmount:29.9},{id:"order5",orderNumber:"ORD-2025-005",customerName:"Thomas Clark",items:[{id:"item7",productId:"stock7",productName:"Wireless Mouse",quantity:1,unitPrice:29.99,totalPrice:29.99},{id:"item8",productId:"stock6",productName:"Laptop Backpack",quantity:1,unitPrice:59.99,totalPrice:59.99}],status:"delivered",createdAt:Rr(new Date,15),updatedAt:Rr(new Date,12),shippingAddress:{street:"202 Maple Rd",city:"Austin",state:"TX",zipCode:"78701",country:"USA"},billingAddress:{street:"202 Maple Rd",city:"Austin",state:"TX",zipCode:"78701",country:"USA"},paymentMethod:"PayPal",totalAmount:89.98}];lBe.filter(e=>e.status==="delivered"||e.status==="cancelled");Array.from({length:30},(e,t)=>{const r=Math.floor(Math.random()*6e3)+2e3;return{date:zt(Rr(new Date,29-t),"MMM dd"),amount:r}});Rr(new Date,1),Rr(new Date,1),Rr(new Date,3),Rr(new Date,4),Rr(new Date,5);const cBe=[{value:"pending",label:"Pending"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"},{value:"returned",label:"Returned"}],uBe=[{value:"Credit Card",label:"Credit Card"},{value:"Cash",label:"Cash"}],jA={productId:"",productName:"",quantity:1,unitPrice:0,totalPrice:0},$F={street:"",city:"",state:"",zipCode:"",country:""};function fBe(){const e=new Date,t=i=>i.toString().padStart(2,"0"),r=`${e.getFullYear()}${t(e.getMonth()+1)}${t(e.getDate())}`,n=`${t(e.getHours())}${t(e.getMinutes())}${t(e.getSeconds())}`,a=Math.floor(Math.random()*1e4).toString().padStart(4,"0");return`ORD-${r}-${n}-${a}`}const dBe=e=>typeof e=="object"&&e!==null&&!Array.isArray(e)&&"street"in e&&"city"in e&&"state"in e&&"zipCode"in e&&"country"in e,BF=e=>dBe(e)?e:{street:"",city:"",state:"",zipCode:"",country:""},hBe=({isOpen:e,onClose:t,onAdd:r,isLoading:n})=>{const[a,i]=F.useState(""),[s,o]=F.useState(""),[l,c]=F.useState("pending"),[u,f]=F.useState(""),[h,p]=F.useState([{...jA}]),[g,m]=F.useState({...$F}),[y,v]=F.useState({...$F}),[b,w]=F.useState("Credit Card"),[D,P]=F.useState(""),[j,E]=F.useState([]),[_,S]=F.useState(!1);F.useEffect(()=>{e&&(i(fBe()),f(zt(new Date,"yyyy-MM-dd")),p([{...jA}]),c("pending"))},[e]),F.useEffect(()=>{e&&(async()=>{S(!0);try{const K=or(mt(Xe,"inventory"),La("name")),q=(await cr(K)).docs.map(V=>({id:V.id,...V.data()}));E(q.length>0?q:$w)}catch{E($w)}finally{S(!1)}})()},[e]);const I=(Y,K,J)=>{p(q=>q.map((V,ee)=>{if(ee!==Y)return V;if(K==="productName"){const Z=j.find(k=>k.name===J);return Z?{...V,productId:Z.id,productName:Z.name,unitPrice:Z.price,quantity:1,totalPrice:Z.price*1}:V}if(K==="quantity"){const Z=Number(J);return{...V,quantity:Z,totalPrice:V.unitPrice*Z}}return{...V,[K]:J}}))},T=()=>{p([...h,{...jA}])},N=Y=>{p(K=>K.filter((J,q)=>q!==Y))},O=(Y,K,J)=>{Y==="shipping"?m(q=>({...BF(q),[K]:J})):v(q=>({...BF(q),[K]:J}))},U=Y=>{if(Y.preventDefault(),h.some(q=>!q.productId||!q.productName)){alert("Please select a product for each order item.");return}const K=new Date,J={orderNumber:a,customerName:s,status:l,createdAt:u?new Date(u):K,updatedAt:K,items:h.map((q,V)=>({...q,id:`item${V+1}`})),shippingAddress:g,billingAddress:y,paymentMethod:b,totalAmount:h.reduce((q,V)=>q+(V.totalPrice||0),0)};D&&(J.notes=D),r(J),t()};return d.jsx(hn,{isOpen:e,onClose:t,title:"Add New Order",size:"xl",children:d.jsxs("form",{onSubmit:U,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(Ct,{label:"Order Number",value:a,readOnly:!0,required:!0,fullWidth:!0}),d.jsx(Ct,{label:"Customer Name",value:s,onChange:Y=>o(Y.target.value),required:!0,fullWidth:!0})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(sn,{label:"Status",value:l,onChange:Y=>c(Y.target.value),options:cBe,required:!0,fullWidth:!0,disabled:!0}),d.jsx(sn,{label:"Payment Method",value:b,onChange:Y=>w(Y.target.value),options:uBe,required:!0,fullWidth:!0})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:d.jsx(Ct,{label:"Order Date",type:"date",value:u,onChange:Y=>f(Y.target.value),required:!0,fullWidth:!0})}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Order Items"}),h.map((Y,K)=>d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-2 mb-2 items-end",children:[d.jsx(sn,{label:"Product Name",value:Y.productName,onChange:J=>I(K,"productName",J.target.value),options:[{value:"",label:"Select product..."},...j.map(J=>({value:J.name,label:J.name}))],required:!0,fullWidth:!0,disabled:_}),d.jsx(Ct,{label:"Quantity",type:"number",value:Y.quantity,onChange:J=>I(K,"quantity",Number(J.target.value)),min:1,required:!0,fullWidth:!0,disabled:!Y.productName}),d.jsx(Ct,{label:"Unit Price",type:"number",value:Y.unitPrice,disabled:!0,fullWidth:!0}),d.jsx(Ct,{label:"Total Price",type:"number",value:Y.totalPrice,disabled:!0,fullWidth:!0}),d.jsx(it,{type:"button",variant:"danger",size:"sm",icon:d.jsx(ni,{size:16}),onClick:()=>N(K),children:"Remove"})]},K)),d.jsx(it,{type:"button",variant:"primary",icon:d.jsx(Si,{size:16}),onClick:T,disabled:_,children:"Add Item"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Shipping Address"}),d.jsx(Ct,{label:"Street",value:g.street,onChange:Y=>O("shipping","street",Y.target.value),required:!0,fullWidth:!0}),d.jsx(Ct,{label:"City",value:g.city,onChange:Y=>O("shipping","city",Y.target.value),required:!0,fullWidth:!0}),d.jsx(Ct,{label:"State",value:g.state,onChange:Y=>O("shipping","state",Y.target.value),required:!0,fullWidth:!0}),d.jsx(Ct,{label:"Zip Code",value:g.zipCode,onChange:Y=>O("shipping","zipCode",Y.target.value),required:!0,fullWidth:!0}),d.jsx(Ct,{label:"Country",value:g.country,onChange:Y=>O("shipping","country",Y.target.value),required:!0,fullWidth:!0})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Billing Address"}),d.jsx(Ct,{label:"Street",value:y.street,onChange:Y=>O("billing","street",Y.target.value),required:!0,fullWidth:!0}),d.jsx(Ct,{label:"City",value:y.city,onChange:Y=>O("billing","city",Y.target.value),required:!0,fullWidth:!0}),d.jsx(Ct,{label:"State",value:y.state,onChange:Y=>O("billing","state",Y.target.value),required:!0,fullWidth:!0}),d.jsx(Ct,{label:"Zip Code",value:y.zipCode,onChange:Y=>O("billing","zipCode",Y.target.value),required:!0,fullWidth:!0}),d.jsx(Ct,{label:"Country",value:y.country,onChange:Y=>O("billing","country",Y.target.value),required:!0,fullWidth:!0})]})]}),d.jsx(Ct,{label:"Notes (optional)",value:D,onChange:Y=>P(Y.target.value),fullWidth:!0}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(it,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),d.jsx(it,{type:"submit",isLoading:n,variant:"primary",children:"Add Order"})]})]})})},pBe=[{value:"pending",label:"Pending"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"},{value:"returned",label:"Returned"}],mBe=[{value:"Credit Card",label:"Credit Card"},{value:"Cash",label:"Cash"}],UF={productId:"",productName:"",quantity:1,unitPrice:0,totalPrice:0},VF={street:"",city:"",state:"",zipCode:"",country:""},gBe=({isOpen:e,onClose:t,onEdit:r,isLoading:n,order:a})=>{const[i,s]=F.useState(""),[o,l]=F.useState(""),[c,u]=F.useState("pending"),[f,h]=F.useState(""),[p,g]=F.useState(""),[m,y]=F.useState([{...UF}]),[v,b]=F.useState({...VF}),[w,D]=F.useState({...VF}),[P,j]=F.useState("Credit Card"),[E,_]=F.useState(""),[S,I]=F.useState([]),[T,N]=F.useState(!1);F.useEffect(()=>{e&&a&&(s(a.orderNumber),l(a.customerName),u(a.status),h(zt(a.createdAt,"yyyy-MM-dd")),y(a.items.map(ee=>({...ee}))),b(a.shippingAddress),D(a.billingAddress),j(a.paymentMethod),_(a.notes||""),a.status==="shipped"&&a.shippedTime?g(zt(a.shippedTime,"yyyy-MM-dd'T'HH:mm")):g(""))},[e,a]),F.useEffect(()=>{e&&(async()=>{N(!0);try{const Z=or(mt(Xe,"inventory"),La("name")),R=(await cr(Z)).docs.map(z=>({id:z.id,...z.data()}));I(R.length>0?R:$w)}catch{I($w)}finally{N(!1)}})()},[e]);const O=(ee,Z,k)=>{y(R=>R.map((z,G)=>{if(G!==ee)return z;if(Z==="productName"){const Q=S.find(oe=>oe.name===k);return Q?{...z,productId:Q.id,productName:Q.name,unitPrice:Q.price,quantity:1,totalPrice:Q.price*1}:z}if(Z==="quantity"){const Q=Number(k);return{...z,quantity:Q,totalPrice:z.unitPrice*Q}}return{...z,[Z]:k}}))},U=()=>{y([...m,{...UF}])},Y=ee=>{y(Z=>Z.filter((k,R)=>R!==ee))},K=(ee,Z,k)=>{ee==="shipping"?b(R=>({...V(R),[Z]:k})):D(R=>({...V(R),[Z]:k}))},J=ee=>{if(ee.preventDefault(),m.some(R=>!R.productId||!R.productName)){alert("Please select a product for each order item.");return}const Z={orderNumber:i,customerName:o,status:c,items:m.map((R,z)=>{let G;return typeof R.id=="string"&&R.id?G=R.id:G=`item${z+1}`,{...R,id:G}}),shippingAddress:v,billingAddress:w,paymentMethod:P,totalAmount:m.reduce((R,z)=>R+(z.totalPrice||0),0)};E&&(Z.notes=E),c==="shipped"&&p?Z.shippedTime=jde(p):a!=null&&a.shippedTime&&c!=="shipped"&&(Z.shippedTime=null);const k={id:(a==null?void 0:a.id)||"",createdAt:(a==null?void 0:a.createdAt)||new Date,updatedAt:new Date,...Z};r(k),t()},q=ee=>typeof ee=="object"&&ee!==null&&!Array.isArray(ee)&&"street"in ee&&"city"in ee&&"state"in ee&&"zipCode"in ee&&"country"in ee,V=ee=>q(ee)?ee:{street:"",city:"",state:"",zipCode:"",country:""};return d.jsx(hn,{isOpen:e,onClose:t,title:"Edit Order",size:"xl",children:d.jsxs("form",{onSubmit:J,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(Ct,{label:"Order Number",value:i,readOnly:!0,required:!0,fullWidth:!0}),d.jsx(Ct,{label:"Customer Name",value:o,onChange:ee=>l(ee.target.value),required:!0,fullWidth:!0})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(sn,{label:"Status",value:c,onChange:ee=>u(ee.target.value),options:pBe,required:!0,fullWidth:!0}),d.jsx(sn,{label:"Payment Method",value:P,onChange:ee=>j(ee.target.value),options:mBe,required:!0,fullWidth:!0})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(Ct,{label:"Order Date",type:"date",value:f,onChange:ee=>h(ee.target.value),required:!0,fullWidth:!0}),c==="shipped"&&d.jsx(Ct,{label:"Shipped Time",type:"datetime-local",value:p,onChange:ee=>g(ee.target.value),required:!0,fullWidth:!0})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Order Items"}),m.map((ee,Z)=>d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-2 mb-2 items-end",children:[d.jsx(sn,{label:"Product Name",value:ee.productName,onChange:k=>O(Z,"productName",k.target.value),options:[{value:"",label:"Select product..."},...S.map(k=>({value:k.name,label:k.name}))],required:!0,fullWidth:!0,disabled:T}),d.jsx(Ct,{label:"Quantity",type:"number",value:ee.quantity,onChange:k=>O(Z,"quantity",Number(k.target.value)),min:1,required:!0,fullWidth:!0,disabled:!ee.productName}),d.jsx(Ct,{label:"Unit Price",type:"number",value:ee.unitPrice,disabled:!0,fullWidth:!0}),d.jsx(Ct,{label:"Total Price",type:"number",value:ee.totalPrice,disabled:!0,fullWidth:!0}),d.jsx(it,{type:"button",variant:"danger",size:"sm",icon:d.jsx(ni,{size:16}),onClick:()=>Y(Z),children:"Remove"})]},Z)),d.jsx(it,{type:"button",variant:"primary",icon:d.jsx(Si,{size:16}),onClick:U,disabled:T,children:"Add Item"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Shipping Address"}),d.jsx(Ct,{label:"Street",value:v.street,onChange:ee=>K("shipping","street",ee.target.value),required:!0,fullWidth:!0}),d.jsx(Ct,{label:"City",value:v.city,onChange:ee=>K("shipping","city",ee.target.value),required:!0,fullWidth:!0}),d.jsx(Ct,{label:"State",value:v.state,onChange:ee=>K("shipping","state",ee.target.value),required:!0,fullWidth:!0}),d.jsx(Ct,{label:"Zip Code",value:v.zipCode,onChange:ee=>K("shipping","zipCode",ee.target.value),required:!0,fullWidth:!0}),d.jsx(Ct,{label:"Country",value:v.country,onChange:ee=>K("shipping","country",ee.target.value),required:!0,fullWidth:!0})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Billing Address"}),d.jsx(Ct,{label:"Street",value:w.street,onChange:ee=>K("billing","street",ee.target.value),required:!0,fullWidth:!0}),d.jsx(Ct,{label:"City",value:w.city,onChange:ee=>K("billing","city",ee.target.value),required:!0,fullWidth:!0}),d.jsx(Ct,{label:"State",value:w.state,onChange:ee=>K("billing","state",ee.target.value),required:!0,fullWidth:!0}),d.jsx(Ct,{label:"Zip Code",value:w.zipCode,onChange:ee=>K("billing","zipCode",ee.target.value),required:!0,fullWidth:!0}),d.jsx(Ct,{label:"Country",value:w.country,onChange:ee=>K("billing","country",ee.target.value),required:!0,fullWidth:!0})]})]}),d.jsx(Ct,{label:"Notes (optional)",value:E,onChange:ee=>_(ee.target.value),fullWidth:!0}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(it,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),d.jsx(it,{type:"submit",isLoading:n,variant:"primary",children:"Save Changes"})]})]})})},vBe=()=>{const[e,t]=F.useState(""),[r,n]=F.useState("all"),[a,i]=F.useState("date"),[s,o]=F.useState(null),[l,c]=F.useState("grid"),[u,f]=F.useState(!1),[h,p]=F.useState(!1),[g,m]=F.useState([]),[y,v]=F.useState(null),[b,w]=F.useState(!1),{showToast:D}=Nl(),{user:P}=ma(),{isDarkMode:j}=ln(),E=async()=>{p(!0);try{const q=or(mt(Xe,"orders"),La("createdAt","desc")),ee=(await cr(q)).docs.map(Z=>{const k=Z.data();return{id:Z.id,orderNumber:k.orderNumber||"",customerName:k.customerName||"",items:k.items||[],status:k.status||"pending",createdAt:k.createdAt instanceof ir?k.createdAt.toDate():new Date(k.createdAt),updatedAt:k.updatedAt instanceof ir?k.updatedAt.toDate():new Date(k.updatedAt),shippingAddress:k.shippingAddress||{},billingAddress:k.billingAddress||{},paymentMethod:k.paymentMethod||"",totalAmount:k.totalAmount||0,notes:k.notes||"",shippedTime:k.shippedTime instanceof ir?k.shippedTime.toDate():k.shippedTime?new Date(k.shippedTime):void 0}});m(ee)}catch(q){console.error("Error fetching orders:",q),D("Failed to fetch orders","error")}finally{p(!1)}};F.useEffect(()=>{E()},[]);const _=g.filter(q=>{const V=q.orderNumber.toLowerCase().includes(e.toLowerCase())||q.customerName.toLowerCase().includes(e.toLowerCase()),ee=r==="all"||q.status===r;return V&&ee}).sort((q,V)=>a==="date"?new Date(V.createdAt).getTime()-new Date(q.createdAt).getTime():a==="amount"?V.totalAmount-q.totalAmount:0),S=q=>{o(q)},I=[{value:"all",label:"All Statuses"},{value:"pending",label:"Pending"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"},{value:"returned",label:"Returned"}],T=[{value:"date",label:"Date (Newest First)"},{value:"amount",label:"Amount (Highest First)"}],N=async q=>{p(!0);try{console.log("Adding new order with status:",q.status),await pr(mt(Xe,"orders"),{...q,createdAt:kc(),updatedAt:kc()}),await pr(mt(Xe,"activityLogs"),{user:P==null?void 0:P.name,role:P==null?void 0:P.role,detail:`created new order #${q.orderNumber} for '${q.customerName}' with ${q.items.length} items (${q.items.map(V=>`${V.quantity} ${V.productName}`).join(", ")}) - Total: $${q.totalAmount.toFixed(2)}`,time:new Date().toISOString()}),q.status==="shipped"&&(console.log("Order is shipped, updating inventory..."),await Yx(q.items,!0)),await E(),f(!1),D("Order added successfully!","success")}catch(V){console.error("Error in handleAddOrder:",V),alert("Error adding order: "+((V==null?void 0:V.message)||V))}finally{p(!1)}},O=async q=>{p(!0);try{const V=yr(Xe,"orders",q.id),Z=(await qd(V)).data();console.log("Previous order status:",Z==null?void 0:Z.status),console.log("New order status:",q.status);const k={status:q.status,updatedAt:kc()},R=[];if((Z==null?void 0:Z.status)!==q.status&&R.push(`status from "${Z==null?void 0:Z.status}" to "${q.status}"`),(Z==null?void 0:Z.customerName)!==q.customerName&&R.push(`customer from "${Z==null?void 0:Z.customerName}" to "${q.customerName}"`),JSON.stringify(Z==null?void 0:Z.items)!==JSON.stringify(q.items)){const G=[];q.items.forEach(Q=>{const oe=Z==null?void 0:Z.items.find(ce=>ce.id===Q.id);oe?oe.quantity!==Q.quantity&&G.push(`changed ${Q.productName} quantity from ${oe.quantity} to ${Q.quantity}`):G.push(`added ${Q.quantity} ${Q.productName}`)}),Z==null||Z.items.forEach(Q=>{q.items.find(oe=>oe.id===Q.id)||G.push(`removed ${Q.quantity} ${Q.productName}`)}),G.length>0&&R.push(`items: ${G.join(", ")}`)}(Z==null?void 0:Z.totalAmount)!==q.totalAmount&&R.push(`total amount from $${Z==null?void 0:Z.totalAmount.toFixed(2)} to $${q.totalAmount.toFixed(2)}`),q.status==="shipped"&&(Z==null?void 0:Z.status)!=="shipped"?(console.log("Status changed to shipped, updating inventory..."),await Yx(q.items,!0),q.shippedTime?k.shippedTime=ir.fromDate(q.shippedTime):k.shippedTime=kc()):(Z==null?void 0:Z.status)==="shipped"&&q.status!=="shipped"?(console.log("Status changed from shipped, restoring inventory..."),await Yx(q.items,!1),k.shippedTime=XI()):(q.status==="cancelled"||q.status==="returned")&&(Z==null?void 0:Z.status)!=="cancelled"&&(Z==null?void 0:Z.status)!=="returned"?(console.log(`Status changed to ${q.status}, restoring inventory...`),await Yx(q.items,!1),k.shippedTime=XI()):Z!=null&&Z.shippedTime&&(k.shippedTime=ir.fromDate(Z.shippedTime));const{...z}=q;Object.assign(k,z),await Ln(V,k),R.length>0&&await pr(mt(Xe,"activityLogs"),{user:P==null?void 0:P.name,role:P==null?void 0:P.role,detail:`edited order #${q.orderNumber}: ${R.join("; ")}`,time:new Date().toISOString()}),await E(),v(null),D("Order updated successfully!","success")}catch(V){console.error("Error updating order:",V),D("Failed to update order","error")}finally{p(!1)}},U=()=>{v(null)},Y=async q=>{p(!0);try{const V=yr(Xe,"orders",q),Z=(await qd(V)).data();Z&&(await pr(mt(Xe,"activityLogs"),{user:P==null?void 0:P.name,role:P==null?void 0:P.role,detail:`deleted order #${Z.orderNumber} for '${Z.customerName}' with ${Z.items.length} items (${Z.items.map(k=>`${k.quantity} ${k.productName}`).join(", ")}) - Total: $${Z.totalAmount.toFixed(2)}`,time:new Date().toISOString()}),await Is(V),await E(),w(!1),o(null),D("Order deleted successfully!","success"))}catch(V){console.error("Error deleting order:",V),D("Failed to delete order","error")}finally{p(!1)}},K=(q,V)=>{q.stopPropagation(),o(V),w(!0)},J=(q,V)=>{q.stopPropagation(),v(V)};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h1",{className:`text-2xl font-bold ${j?"text-white":"text-slate-800"}`,children:"Current Orders"}),d.jsx("p",{className:`${j?"text-slate-400":"text-slate-500"} mt-1`,children:"Track and manage your active orders"})]}),d.jsx(it,{onClick:()=>f(!0),className:"flex items-center gap-2",children:d.jsx("span",{className:"hidden sm:inline",children:"Add New Order"})})]}),d.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[d.jsx("div",{className:"md:flex-1",children:d.jsx(Ct,{placeholder:"Search by order number or customer...",value:e,onChange:q=>t(q.target.value),icon:d.jsx(Al,{size:18}),fullWidth:!0})}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx(sn,{options:I,value:r,onChange:q=>n(q.target.value)}),d.jsx(sn,{options:T,value:a,onChange:q=>i(q.target.value)})]})]}),d.jsx("div",{className:"flex justify-end mb-4",children:d.jsxs("div",{className:"relative inline-block",children:[d.jsxs("button",{className:`px-4 py-2 text-sm font-medium rounded-l-md focus:outline-none transition-colors 
              ${l==="grid"?"bg-blue-600 text-white shadow-sm":j?"bg-slate-800 text-slate-300 hover:bg-slate-700 border border-slate-700":"bg-white text-slate-700 hover:bg-slate-50 border border-slate-300"}`,onClick:()=>c("grid"),children:[d.jsx(wee,{size:18,className:"inline mr-1"})," Grid"]}),d.jsxs("button",{className:`px-4 py-2 text-sm font-medium rounded-r-md focus:outline-none transition-colors 
              ${l==="table"?"bg-blue-600 text-white shadow-sm":j?"bg-slate-800 text-slate-300 hover:bg-slate-700 border border-slate-700":"bg-white text-slate-700 hover:bg-slate-50 border border-slate-300"}`,onClick:()=>c("table"),children:[d.jsx(kee,{size:18,className:"inline mr-1"})," Table"]})]})}),h?d.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[d.jsx(xi,{className:`w-8 h-8 ${j?"text-blue-400":"text-blue-500"} animate-spin`}),d.jsx("p",{className:`mt-2 ${j?"text-slate-400":"text-slate-600"}`,children:"Loading orders..."})]}):l==="grid"?_.length>0?d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:_.map(q=>d.jsx("div",{className:"flex flex-col",children:d.jsx(sBe,{order:q,onClick:()=>S(q),editButton:d.jsx("button",{onClick:V=>J(V,q),className:`p-2 ${j?"hover:bg-slate-700":"hover:bg-slate-100"} rounded-full transition-colors`,children:d.jsx(fs,{className:`w-4 h-4 ${j?"text-blue-400":"text-blue-500"}`})})})},q.id))}):d.jsx("div",{className:`text-center py-12 ${j?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:d.jsx("p",{className:`${j?"text-slate-400":"text-slate-500"}`,children:"No orders found. Try adjusting your filters."})}):_.length>0?d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:`min-w-full divide-y ${j?"divide-slate-700 bg-slate-800 border-slate-700":"divide-slate-200 bg-white border-slate-200"} rounded-lg border`,children:[d.jsx("thead",{className:j?"bg-slate-900":"bg-slate-100",children:d.jsxs("tr",{children:[d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${j?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Order #"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${j?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Customer"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${j?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Status"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${j?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Date"}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${j?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Total"}),d.jsx("th",{className:`px-4 py-3 text-center text-xs font-medium ${j?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),d.jsx("tbody",{className:`${j?"divide-slate-700":"divide-slate-200"}`,children:_.map(q=>d.jsxs("tr",{className:`${j?"hover:bg-slate-700":"hover:bg-slate-50"} cursor-pointer`,onClick:()=>S(q),children:[d.jsx("td",{className:`px-4 py-3 text-sm ${j?"text-blue-400":"text-blue-700"} font-medium`,children:q.orderNumber}),d.jsx("td",{className:`px-4 py-3 text-sm ${j?"text-slate-300":"text-slate-800"}`,children:q.customerName}),d.jsx("td",{className:`px-4 py-3 text-sm ${j?"text-slate-300":"text-slate-800"} capitalize`,children:q.status}),d.jsx("td",{className:`px-4 py-3 text-sm ${j?"text-slate-300":"text-slate-800"}`,children:new Date(q.createdAt).toLocaleDateString()}),d.jsxs("td",{className:`px-4 py-3 text-sm font-bold ${j?"text-slate-200":"text-slate-900"} text-right`,children:["$",q.totalAmount.toFixed(2)]}),d.jsx("td",{className:"px-4 py-3 text-center",children:d.jsxs("div",{className:"flex items-center justify-center gap-2",children:[d.jsx("button",{onClick:V=>{V.stopPropagation(),v(q)},className:`p-1 ${j?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,children:d.jsx(fs,{size:16})}),d.jsx("button",{onClick:V=>K(V,q),className:`p-1 ${j?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,children:d.jsx(ni,{size:16})})]})})]},q.id))})]})}):d.jsx("div",{className:`text-center py-12 ${j?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:d.jsx("p",{className:`${j?"text-slate-400":"text-slate-500"}`,children:"No orders found. Try adjusting your filters."})}),s&&d.jsx(oBe,{isOpen:!!s,onClose:()=>o(null),order:s}),d.jsx(hBe,{isOpen:u,onClose:()=>f(!1),onAdd:N,isLoading:h}),d.jsx(gBe,{isOpen:!!y,onClose:U,onEdit:O,isLoading:h,order:y}),s&&d.jsx(dh,{isOpen:b,onClose:()=>{w(!1),o(null)},onConfirm:()=>Y(s.id),title:"Delete Order",message:`Are you sure you want to delete order "${s.orderNumber}"? This action cannot be undone.`,isLoading:h})]})},Yx=async(e,t)=>{console.log("Updating inventory quantities...",e,t);const r=Cie(Xe),n=[];for(const a of e){const i=yr(Xe,"inventory",a.productId),s=await qd(i);if(s.exists()){const o=s.data().quantity,l=t?o-a.quantity:o+a.quantity;r.update(i,{quantity:l}),n.push({productName:a.productName,quantity:a.quantity,action:t?"deducted":"restored"})}}if(await r.commit(),n.length>0){const a=t?"deducted from":"restored to",i=n.map(s=>`${s.quantity} units of "${s.productName}"`).join(", ");await pr(mt(Xe,"activityLogs"),{user:user==null?void 0:user.name,role:user==null?void 0:user.role,detail:`${a} inventory: ${i}`,time:new Date().toISOString()})}},yBe="modulepreload",xBe=function(e){return"/"+e},zF={},y3=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=xBe(l),l in zF)return;zF[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":yBe,c||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return a.then(s=>{for(const o of s||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})};var Gi=Uint8Array,no=Uint16Array,$P=Int32Array,E_=new Gi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),T_=new Gi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),x3=new Gi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),cY=function(e,t){for(var r=new no(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new $P(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},uY=cY(E_,2),fY=uY.b,b3=uY.r;fY[28]=258,b3[258]=28;var dY=cY(T_,0),bBe=dY.b,qF=dY.r,w3=new no(32768);for(var Gn=0;Gn<32768;++Gn){var zu=(Gn&43690)>>1|(Gn&21845)<<1;zu=(zu&52428)>>2|(zu&13107)<<2,zu=(zu&61680)>>4|(zu&3855)<<4,w3[Gn]=((zu&65280)>>8|(zu&255)<<8)>>1}var ac=function(e,t,r){for(var n=e.length,a=0,i=new no(t);a<n;++a)e[a]&&++i[e[a]-1];var s=new no(t);for(a=1;a<t;++a)s[a]=s[a-1]+i[a-1]<<1;var o;if(r){o=new no(1<<t);var l=15-t;for(a=0;a<n;++a)if(e[a])for(var c=a<<4|e[a],u=t-e[a],f=s[e[a]-1]++<<u,h=f|(1<<u)-1;f<=h;++f)o[w3[f]>>l]=c}else for(o=new no(n),a=0;a<n;++a)e[a]&&(o[a]=w3[s[e[a]-1]++]>>15-e[a]);return o},qf=new Gi(288);for(var Gn=0;Gn<144;++Gn)qf[Gn]=8;for(var Gn=144;Gn<256;++Gn)qf[Gn]=9;for(var Gn=256;Gn<280;++Gn)qf[Gn]=7;for(var Gn=280;Gn<288;++Gn)qf[Gn]=8;var V1=new Gi(32);for(var Gn=0;Gn<32;++Gn)V1[Gn]=5;var wBe=ac(qf,9,0),_Be=ac(qf,9,1),SBe=ac(V1,5,0),ABe=ac(V1,5,1),DA=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},nl=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},LA=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},BP=function(e){return(e+7)/8|0},hY=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Gi(e.subarray(t,r))},EBe=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ol=function(e,t,r){var n=new Error(t||EBe[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,ol),!r)throw n;return n},TBe=function(e,t,r,n){var a=e.length,i=0;if(!a||t.f&&!t.l)return r||new Gi(0);var s=!r,o=s||t.i!=2,l=t.i;s&&(r=new Gi(a*3));var c=function(ye){var W=r.length;if(ye>W){var Ce=new Gi(Math.max(W*2,ye));Ce.set(r),r=Ce}},u=t.f||0,f=t.p||0,h=t.b||0,p=t.l,g=t.d,m=t.m,y=t.n,v=a*8;do{if(!p){u=nl(e,f,1);var b=nl(e,f+1,3);if(f+=3,b)if(b==1)p=_Be,g=ABe,m=9,y=5;else if(b==2){var j=nl(e,f,31)+257,E=nl(e,f+10,15)+4,_=j+nl(e,f+5,31)+1;f+=14;for(var S=new Gi(_),I=new Gi(19),T=0;T<E;++T)I[x3[T]]=nl(e,f+T*3,7);f+=E*3;for(var N=DA(I),O=(1<<N)-1,U=ac(I,N,1),T=0;T<_;){var Y=U[nl(e,f,O)];f+=Y&15;var w=Y>>4;if(w<16)S[T++]=w;else{var K=0,J=0;for(w==16?(J=3+nl(e,f,3),f+=2,K=S[T-1]):w==17?(J=3+nl(e,f,7),f+=3):w==18&&(J=11+nl(e,f,127),f+=7);J--;)S[T++]=K}}var q=S.subarray(0,j),V=S.subarray(j);m=DA(q),y=DA(V),p=ac(q,m,1),g=ac(V,y,1)}else ol(1);else{var w=BP(f)+4,D=e[w-4]|e[w-3]<<8,P=w+D;if(P>a){l&&ol(0);break}o&&c(h+D),r.set(e.subarray(w,P),h),t.b=h+=D,t.p=f=P*8,t.f=u;continue}if(f>v){l&&ol(0);break}}o&&c(h+131072);for(var ee=(1<<m)-1,Z=(1<<y)-1,k=f;;k=f){var K=p[LA(e,f)&ee],R=K>>4;if(f+=K&15,f>v){l&&ol(0);break}if(K||ol(2),R<256)r[h++]=R;else if(R==256){k=f,p=null;break}else{var z=R-254;if(R>264){var T=R-257,G=E_[T];z=nl(e,f,(1<<G)-1)+fY[T],f+=G}var Q=g[LA(e,f)&Z],oe=Q>>4;Q||ol(3),f+=Q&15;var V=bBe[oe];if(oe>3){var G=T_[oe];V+=LA(e,f)&(1<<G)-1,f+=G}if(f>v){l&&ol(0);break}o&&c(h+131072);var ce=h+z;if(h<V){var ne=i-V,he=Math.min(V,ce);for(ne+h<0&&ol(3);h<he;++h)r[h]=n[ne+h]}for(;h<ce;++h)r[h]=r[h-V]}}t.l=p,t.p=k,t.b=h,t.f=u,p&&(u=1,t.m=m,t.d=g,t.n=y)}while(!u);return h!=r.length&&s?hY(r,0,h):r.subarray(0,h)},Ac=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},cg=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},MA=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:mY,l:0};if(a==1){var s=new Gi(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(P,j){return P.f-j.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],c=0,u=1,f=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=a-1;)o=r[r[c].f<r[f].f?c++:f++],l=r[c!=u&&r[c].f<r[f].f?c++:f++],r[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var h=i[0].s,n=1;n<a;++n)i[n].s>h&&(h=i[n].s);var p=new no(h+1),g=_3(r[u-1],p,0);if(g>t){var n=0,m=0,y=g-t,v=1<<y;for(i.sort(function(j,E){return p[E.s]-p[j.s]||j.f-E.f});n<a;++n){var b=i[n].s;if(p[b]>t)m+=v-(1<<g-p[b]),p[b]=t;else break}for(m>>=y;m>0;){var w=i[n].s;p[w]<t?m-=1<<t-p[w]++-1:++n}for(;n>=0&&m;--n){var D=i[n].s;p[D]==t&&(--p[D],++m)}g=t}return{t:new Gi(p),l:g}},_3=function(e,t,r){return e.s==-1?Math.max(_3(e.l,t,r+1),_3(e.r,t,r+1)):t[e.s]=r},WF=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new no(++t),n=0,a=e[0],i=1,s=function(l){r[n++]=l},o=1;o<=t;++o)if(e[o]==a&&o!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(a),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(a);i=1,a=e[o]}return{c:r.subarray(0,n),n:t}},ug=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},pY=function(e,t,r){var n=r.length,a=BP(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},HF=function(e,t,r,n,a,i,s,o,l,c,u){Ac(t,u++,r),++a[256];for(var f=MA(a,15),h=f.t,p=f.l,g=MA(i,15),m=g.t,y=g.l,v=WF(h),b=v.c,w=v.n,D=WF(m),P=D.c,j=D.n,E=new no(19),_=0;_<b.length;++_)++E[b[_]&31];for(var _=0;_<P.length;++_)++E[P[_]&31];for(var S=MA(E,7),I=S.t,T=S.l,N=19;N>4&&!I[x3[N-1]];--N);var O=c+5<<3,U=ug(a,qf)+ug(i,V1)+s,Y=ug(a,h)+ug(i,m)+s+14+3*N+ug(E,I)+2*E[16]+3*E[17]+7*E[18];if(l>=0&&O<=U&&O<=Y)return pY(t,u,e.subarray(l,l+c));var K,J,q,V;if(Ac(t,u,1+(Y<U)),u+=2,Y<U){K=ac(h,p,0),J=h,q=ac(m,y,0),V=m;var ee=ac(I,T,0);Ac(t,u,w-257),Ac(t,u+5,j-1),Ac(t,u+10,N-4),u+=14;for(var _=0;_<N;++_)Ac(t,u+3*_,I[x3[_]]);u+=3*N;for(var Z=[b,P],k=0;k<2;++k)for(var R=Z[k],_=0;_<R.length;++_){var z=R[_]&31;Ac(t,u,ee[z]),u+=I[z],z>15&&(Ac(t,u,R[_]>>5&127),u+=R[_]>>12)}}else K=wBe,J=qf,q=SBe,V=V1;for(var _=0;_<o;++_){var G=n[_];if(G>255){var z=G>>18&31;cg(t,u,K[z+257]),u+=J[z+257],z>7&&(Ac(t,u,G>>23&31),u+=E_[z]);var Q=G&31;cg(t,u,q[Q]),u+=V[Q],Q>3&&(cg(t,u,G>>5&8191),u+=T_[Q])}else cg(t,u,K[G]),u+=J[G]}return cg(t,u,K[256]),u+J[256]},NBe=new $P([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),mY=new Gi(0),kBe=function(e,t,r,n,a,i){var s=i.z||e.length,o=new Gi(n+s+5*(1+Math.ceil(s/7e3))+a),l=o.subarray(n,o.length-a),c=i.l,u=(i.r||0)&7;if(t){u&&(l[0]=i.r>>3);for(var f=NBe[t-1],h=f>>13,p=f&8191,g=(1<<r)-1,m=i.p||new no(32768),y=i.h||new no(g+1),v=Math.ceil(r/3),b=2*v,w=function(ke){return(e[ke]^e[ke+1]<<v^e[ke+2]<<b)&g},D=new $P(25e3),P=new no(288),j=new no(32),E=0,_=0,S=i.i||0,I=0,T=i.w||0,N=0;S+2<s;++S){var O=w(S),U=S&32767,Y=y[O];if(m[U]=Y,y[O]=U,T<=S){var K=s-S;if((E>7e3||I>24576)&&(K>423||!c)){u=HF(e,l,0,D,P,j,_,I,N,S-N,u),I=E=_=0,N=S;for(var J=0;J<286;++J)P[J]=0;for(var J=0;J<30;++J)j[J]=0}var q=2,V=0,ee=p,Z=U-Y&32767;if(K>2&&O==w(S-Z))for(var k=Math.min(h,K)-1,R=Math.min(32767,S),z=Math.min(258,K);Z<=R&&--ee&&U!=Y;){if(e[S+q]==e[S+q-Z]){for(var G=0;G<z&&e[S+G]==e[S+G-Z];++G);if(G>q){if(q=G,V=Z,G>k)break;for(var Q=Math.min(Z,G-2),oe=0,J=0;J<Q;++J){var ce=S-Z+J&32767,ne=m[ce],he=ce-ne&32767;he>oe&&(oe=he,Y=ce)}}}U=Y,Y=m[U],Z+=U-Y&32767}if(V){D[I++]=268435456|b3[q]<<18|qF[V];var ye=b3[q]&31,W=qF[V]&31;_+=E_[ye]+T_[W],++P[257+ye],++j[W],T=S+q,++E}else D[I++]=e[S],++P[e[S]]}}for(S=Math.max(S,T);S<s;++S)D[I++]=e[S],++P[e[S]];u=HF(e,l,c,D,P,j,_,I,N,S-N,u),c||(i.r=u&7|l[u/8|0]<<3,u-=7,i.h=y,i.p=m,i.i=S,i.w=T)}else{for(var S=i.w||0;S<s+c;S+=65535){var Ce=S+65535;Ce>=s&&(l[u/8|0]=c,Ce=s),u=pY(l,u+1,e.subarray(S,Ce))}i.i=s}return hY(o,0,n+BP(u)+a)},gY=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length|0,s=0;s!=i;){for(var o=Math.min(s+2655,i);s<o;++s)a+=n+=r[s];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},CBe=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),s=new Gi(i.length+e.length);s.set(i),s.set(e,i.length),e=s,a.w=i.length}return kBe(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},vY=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},PBe=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=gY();a.p(t.dictionary),vY(e,2,a.d())}},OBe=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&ol(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&ol(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function S3(e,t){t||(t={});var r=gY();r.p(e);var n=CBe(e,t,t.dictionary?6:2,4);return PBe(n,t),vY(n,n.length-4,r.d()),n}function IBe(e,t){return TBe(e.subarray(OBe(e,t),-4),{i:2},t,t)}var jBe=typeof TextDecoder<"u"&&new TextDecoder,DBe=0;try{jBe.decode(mY,{stream:!0}),DBe=1}catch{}var vr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function RA(){vr.console&&typeof vr.console.log=="function"&&vr.console.log.apply(vr.console,arguments)}var Dn={log:RA,warn:function(e){vr.console&&(typeof vr.console.warn=="function"?vr.console.warn.apply(vr.console,arguments):RA.call(null,arguments))},error:function(e){vr.console&&(typeof vr.console.error=="function"?vr.console.error.apply(vr.console,arguments):RA(e))}};function FA(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){kd(n.response,t,r)},n.onerror=function(){Dn.error("could not download file")},n.send()}function GF(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Xx(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var uv,A3,kd=vr.saveAs||((typeof window>"u"?"undefined":vn(window))!=="object"||window!==vr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=vr.URL||vr.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?GF(a.href)?FA(e,t,r):Xx(a,a.target="_blank"):Xx(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){Xx(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(GF(e))FA(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){Xx(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:vn(i)!=="object"&&(Dn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return FA(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(vr.HTMLElement)||vr.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||a&&i)&&(typeof FileReader>"u"?"undefined":vn(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=s?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},o.readAsDataURL(e)}else{var l=vr.URL||vr.webkitURL,c=l.createObjectURL(e);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function yY(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,s=a.exec(e);s&&(t=i(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function $A(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=ji(r,n,a,i,t[0],7,-680876936),i=ji(i,r,n,a,t[1],12,-389564586),a=ji(a,i,r,n,t[2],17,606105819),n=ji(n,a,i,r,t[3],22,-1044525330),r=ji(r,n,a,i,t[4],7,-176418897),i=ji(i,r,n,a,t[5],12,1200080426),a=ji(a,i,r,n,t[6],17,-1473231341),n=ji(n,a,i,r,t[7],22,-45705983),r=ji(r,n,a,i,t[8],7,1770035416),i=ji(i,r,n,a,t[9],12,-1958414417),a=ji(a,i,r,n,t[10],17,-42063),n=ji(n,a,i,r,t[11],22,-1990404162),r=ji(r,n,a,i,t[12],7,1804603682),i=ji(i,r,n,a,t[13],12,-40341101),a=ji(a,i,r,n,t[14],17,-1502002290),r=Di(r,n=ji(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=Di(i,r,n,a,t[6],9,-1069501632),a=Di(a,i,r,n,t[11],14,643717713),n=Di(n,a,i,r,t[0],20,-373897302),r=Di(r,n,a,i,t[5],5,-701558691),i=Di(i,r,n,a,t[10],9,38016083),a=Di(a,i,r,n,t[15],14,-660478335),n=Di(n,a,i,r,t[4],20,-405537848),r=Di(r,n,a,i,t[9],5,568446438),i=Di(i,r,n,a,t[14],9,-1019803690),a=Di(a,i,r,n,t[3],14,-187363961),n=Di(n,a,i,r,t[8],20,1163531501),r=Di(r,n,a,i,t[13],5,-1444681467),i=Di(i,r,n,a,t[2],9,-51403784),a=Di(a,i,r,n,t[7],14,1735328473),r=Li(r,n=Di(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=Li(i,r,n,a,t[8],11,-2022574463),a=Li(a,i,r,n,t[11],16,1839030562),n=Li(n,a,i,r,t[14],23,-35309556),r=Li(r,n,a,i,t[1],4,-1530992060),i=Li(i,r,n,a,t[4],11,1272893353),a=Li(a,i,r,n,t[7],16,-155497632),n=Li(n,a,i,r,t[10],23,-1094730640),r=Li(r,n,a,i,t[13],4,681279174),i=Li(i,r,n,a,t[0],11,-358537222),a=Li(a,i,r,n,t[3],16,-722521979),n=Li(n,a,i,r,t[6],23,76029189),r=Li(r,n,a,i,t[9],4,-640364487),i=Li(i,r,n,a,t[12],11,-421815835),a=Li(a,i,r,n,t[15],16,530742520),r=Mi(r,n=Li(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=Mi(i,r,n,a,t[7],10,1126891415),a=Mi(a,i,r,n,t[14],15,-1416354905),n=Mi(n,a,i,r,t[5],21,-57434055),r=Mi(r,n,a,i,t[12],6,1700485571),i=Mi(i,r,n,a,t[3],10,-1894986606),a=Mi(a,i,r,n,t[10],15,-1051523),n=Mi(n,a,i,r,t[1],21,-2054922799),r=Mi(r,n,a,i,t[8],6,1873313359),i=Mi(i,r,n,a,t[15],10,-30611744),a=Mi(a,i,r,n,t[6],15,-1560198380),n=Mi(n,a,i,r,t[13],21,1309151649),r=Mi(r,n,a,i,t[4],6,-145523070),i=Mi(i,r,n,a,t[11],10,-1120210379),a=Mi(a,i,r,n,t[2],15,718787259),n=Mi(n,a,i,r,t[9],21,-343485551),e[0]=df(r,e[0]),e[1]=df(n,e[1]),e[2]=df(a,e[2]),e[3]=df(i,e[3])}function N_(e,t,r,n,a,i){return t=df(df(t,e),df(n,i)),df(t<<a|t>>>32-a,r)}function ji(e,t,r,n,a,i,s){return N_(t&r|~t&n,e,t,a,i,s)}function Di(e,t,r,n,a,i,s){return N_(t&n|r&~n,e,t,a,i,s)}function Li(e,t,r,n,a,i,s){return N_(t^r^n,e,t,a,i,s)}function Mi(e,t,r,n,a,i,s){return N_(r^(t|~n),e,t,a,i,s)}function xY(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)$A(n,LBe(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for($A(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,$A(n,a),n}function LBe(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}uv=vr.atob.bind(vr),A3=vr.btoa.bind(vr);var KF="0123456789abcdef".split("");function MBe(e){for(var t="",r=0;r<4;r++)t+=KF[e>>8*r+4&15]+KF[e>>8*r&15];return t}function RBe(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function E3(e){return xY(e).map(RBe).join("")}var FBe=function(e){for(var t=0;t<e.length;t++)e[t]=MBe(e[t]);return e.join("")}(xY("hello"))!="5d41402abc4b2a76b9719d911017c592";function df(e,t){if(FBe){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function T3(e,t){var r,n,a,i;if(e!==r){for(var s=(a=e,i=1+(256/e.length>>0),new Array(i+1).join(a)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+s.charCodeAt(l))%256,o[l]=o[c],o[c]=u}r=e,n=o}else o=n;var f=t.length,h=0,p=0,g="";for(l=0;l<f;l++)p=(p+(u=o[h=(h+1)%256]))%256,o[h]=o[p],o[p]=u,s=o[(o[h]+o[p])%256],g+=String.fromCharCode(t.charCodeAt(l)^s);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var YF={print:4,modify:8,copy:16,"annot-forms":32};function m0(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(o){if(YF.perm!==void 0)throw new Error("Invalid permission: "+o);a+=YF[o]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(t+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,s),this.P=-(1+(255^a)),this.encryptionKey=E3(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=T3(this.encryptionKey,this.padding)}function g0(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[n]}return t}function XF(e){if(vn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var s=t[r][i];try{s[0].apply(e,n)}catch(o){vr.console&&Dn.error("jsPDF PubSub Error",o.message,o)}s[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Bw(e){if(!(this instanceof Bw))return new Bw(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function bY(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Pd(e,t,r,n,a){if(!(this instanceof Pd))return new Pd(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,bY.call(this,n,a)}function F0(e,t,r,n,a){if(!(this instanceof F0))return new F0(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,bY.call(this,n,a)}function gr(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],s=[],o=1,l=16,c="S",u=null;vn(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),s=e.filters||(i===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,h={},p={internal:{},__private__:{}};p.__private__.PubSub=XF;var g="1.3",m=p.__private__.getPdfVersion=function(){return g};p.__private__.setPdfVersion=function(L){g=L};var y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return y};var v=p.__private__.getPageFormat=function(L){return y[L]};a=a||"a4";var b={COMPAT:"compat",ADVANCED:"advanced"},w=b.COMPAT;function D(){this.saveGraphicsState(),ie(new He(ct,0,0,-ct,0,ki()*ct).toString()+" cm"),this.setFontSize(this.getFontSize()/ct),c="n",w=b.ADVANCED}function P(){this.restoreGraphicsState(),c="S",w=b.COMPAT}var j=p.__private__.combineFontStyleAndFontWeight=function(L,te){if(L=="bold"&&te=="normal"||L=="bold"&&te==400||L=="normal"&&te=="italic"||L=="bold"&&te=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return te&&(L=te==400||te==="normal"?L==="italic"?"italic":"normal":te!=700&&te!=="bold"||L!=="normal"?(te==700?"bold":te)+""+L:"bold"),L};p.advancedAPI=function(L){var te=w===b.COMPAT;return te&&D.call(this),typeof L!="function"||(L(this),te&&P.call(this)),this},p.compatAPI=function(L){var te=w===b.ADVANCED;return te&&P.call(this),typeof L!="function"||(L(this),te&&D.call(this)),this},p.isAdvancedAPI=function(){return w===b.ADVANCED};var E,_=function(L){if(w!==b.ADVANCED)throw new Error(L+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},S=p.roundToPrecision=p.__private__.roundToPrecision=function(L,te){var Ae=t||te;if(isNaN(L)||isNaN(Ae))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return L.toFixed(Ae).replace(/0+$/,"")};E=p.hpf=p.__private__.hpf=typeof l=="number"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return S(L,l)}:l==="smart"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return S(L,L>-1&&L<1?16:5)}:function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return S(L,16)};var I=p.f2=p.__private__.f2=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f2");return S(L,2)},T=p.__private__.f3=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f3");return S(L,3)},N=p.scale=p.__private__.scale=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.scale");return w===b.COMPAT?L*ct:w===b.ADVANCED?L:void 0},O=function(L){return w===b.COMPAT?ki()-L:w===b.ADVANCED?L:void 0},U=function(L){return N(O(L))};p.__private__.setPrecision=p.setPrecision=function(L){typeof parseInt(L,10)=="number"&&(t=parseInt(L,10))};var Y,K="00000000000000000000000000000000",J=p.__private__.getFileId=function(){return K},q=p.__private__.setFileId=function(L){return K=L!==void 0&&/^[a-fA-F0-9]{32}$/.test(L)?L.toUpperCase():K.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Vn=new m0(u.userPermissions,u.userPassword,u.ownerPassword,K)),K};p.setFileId=function(L){return q(L),this},p.getFileId=function(){return J()};var V=p.__private__.convertDateToPDFDate=function(L){var te=L.getTimezoneOffset(),Ae=te<0?"+":"-",Oe=Math.floor(Math.abs(te/60)),Ve=Math.abs(te%60),lt=[Ae,z(Oe),"'",z(Ve),"'"].join("");return["D:",L.getFullYear(),z(L.getMonth()+1),z(L.getDate()),z(L.getHours()),z(L.getMinutes()),z(L.getSeconds()),lt].join("")},ee=p.__private__.convertPDFDateToDate=function(L){var te=parseInt(L.substr(2,4),10),Ae=parseInt(L.substr(6,2),10)-1,Oe=parseInt(L.substr(8,2),10),Ve=parseInt(L.substr(10,2),10),lt=parseInt(L.substr(12,2),10),Et=parseInt(L.substr(14,2),10);return new Date(te,Ae,Oe,Ve,lt,Et,0)},Z=p.__private__.setCreationDate=function(L){var te;if(L===void 0&&(L=new Date),L instanceof Date)te=V(L);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(L))throw new Error("Invalid argument passed to jsPDF.setCreationDate");te=L}return Y=te},k=p.__private__.getCreationDate=function(L){var te=Y;return L==="jsDate"&&(te=ee(Y)),te};p.setCreationDate=function(L){return Z(L),this},p.getCreationDate=function(L){return k(L)};var R,z=p.__private__.padd2=function(L){return("0"+parseInt(L)).slice(-2)},G=p.__private__.padd2Hex=function(L){return("00"+(L=L.toString())).substr(L.length)},Q=0,oe=[],ce=[],ne=0,he=[],ye=[],W=!1,Ce=ce,ke=function(){Q=0,ne=0,ce=[],oe=[],he=[],me=Ur(),ge=Ur()};p.__private__.setCustomOutputDestination=function(L){W=!0,Ce=L};var Ee=function(L){W||(Ce=L)};p.__private__.resetCustomOutputDestination=function(){W=!1,Ce=ce};var ie=p.__private__.out=function(L){return L=L.toString(),ne+=L.length+1,Ce.push(L),Ce},Fe=p.__private__.write=function(L){return ie(arguments.length===1?L.toString():Array.prototype.join.call(arguments," "))},Ye=p.__private__.getArrayBuffer=function(L){for(var te=L.length,Ae=new ArrayBuffer(te),Oe=new Uint8Array(Ae);te--;)Oe[te]=L.charCodeAt(te);return Ae},Se=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Se};var $e=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(L){return $e=w===b.ADVANCED?L/ct:L,this};var _e,De=p.__private__.getFontSize=p.getFontSize=function(){return w===b.COMPAT?$e:$e*ct},Ne=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(L){return Ne=L,this},p.__private__.getR2L=p.getR2L=function(){return Ne};var qe,at=p.__private__.setZoomMode=function(L){var te=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(L))_e=L;else if(isNaN(L)){if(te.indexOf(L)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+L+'" is not recognized.');_e=L}else _e=parseInt(L,10)};p.__private__.getZoomMode=function(){return _e};var nt,ut=p.__private__.setPageMode=function(L){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(L)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+L+'" is not recognized.');qe=L};p.__private__.getPageMode=function(){return qe};var Tt=p.__private__.setLayoutMode=function(L){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(L)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+L+'" is not recognized.');nt=L};p.__private__.getLayoutMode=function(){return nt},p.__private__.setDisplayMode=p.setDisplayMode=function(L,te,Ae){return at(L),Tt(te),ut(Ae),this};var kt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(L){if(Object.keys(kt).indexOf(L)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return kt[L]},p.__private__.getDocumentProperties=function(){return kt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(L){for(var te in kt)kt.hasOwnProperty(te)&&L[te]&&(kt[te]=L[te]);return this},p.__private__.setDocumentProperty=function(L,te){if(Object.keys(kt).indexOf(L)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return kt[L]=te};var _t,ct,tr,Wt,Hr,lr={},qr={},Ie=[],Me={},Ke={},ht={},Dt={},Ht=null,Mt=0,Ot=[],Zt=new XF(p),br=e.hotfixes||[],wr={},Te={},st=[],He=function L(te,Ae,Oe,Ve,lt,Et){if(!(this instanceof L))return new L(te,Ae,Oe,Ve,lt,Et);isNaN(te)&&(te=1),isNaN(Ae)&&(Ae=0),isNaN(Oe)&&(Oe=0),isNaN(Ve)&&(Ve=1),isNaN(lt)&&(lt=0),isNaN(Et)&&(Et=0),this._matrix=[te,Ae,Oe,Ve,lt,Et]};Object.defineProperty(He.prototype,"sx",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(He.prototype,"shy",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(He.prototype,"shx",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(He.prototype,"sy",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(He.prototype,"tx",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(He.prototype,"ty",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(He.prototype,"a",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(He.prototype,"b",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(He.prototype,"c",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(He.prototype,"d",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(He.prototype,"e",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(He.prototype,"f",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(He.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(He.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(He.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(He.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),He.prototype.join=function(L){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(E).join(L)},He.prototype.multiply=function(L){var te=L.sx*this.sx+L.shy*this.shx,Ae=L.sx*this.shy+L.shy*this.sy,Oe=L.shx*this.sx+L.sy*this.shx,Ve=L.shx*this.shy+L.sy*this.sy,lt=L.tx*this.sx+L.ty*this.shx+this.tx,Et=L.tx*this.shy+L.ty*this.sy+this.ty;return new He(te,Ae,Oe,Ve,lt,Et)},He.prototype.decompose=function(){var L=this.sx,te=this.shy,Ae=this.shx,Oe=this.sy,Ve=this.tx,lt=this.ty,Et=Math.sqrt(L*L+te*te),Vt=(L/=Et)*Ae+(te/=Et)*Oe;Ae-=L*Vt,Oe-=te*Vt;var A=Math.sqrt(Ae*Ae+Oe*Oe);return Vt/=A,L*(Oe/=A)<te*(Ae/=A)&&(L=-L,te=-te,Vt=-Vt,Et=-Et),{scale:new He(Et,0,0,A,0,0),translate:new He(1,0,0,1,Ve,lt),rotate:new He(L,te,-te,L,0,0),skew:new He(1,0,Vt,1,0,0)}},He.prototype.toString=function(L){return this.join(" ")},He.prototype.inversed=function(){var L=this.sx,te=this.shy,Ae=this.shx,Oe=this.sy,Ve=this.tx,lt=this.ty,Et=1/(L*Oe-te*Ae),Vt=Oe*Et,A=-te*Et,B=-Ae*Et,X=L*Et;return new He(Vt,A,B,X,-Vt*Ve-B*lt,-A*Ve-X*lt)},He.prototype.applyToPoint=function(L){var te=L.x*this.sx+L.y*this.shx+this.tx,Ae=L.x*this.shy+L.y*this.sy+this.ty;return new pc(te,Ae)},He.prototype.applyToRectangle=function(L){var te=this.applyToPoint(L),Ae=this.applyToPoint(new pc(L.x+L.w,L.y+L.h));return new Eu(te.x,te.y,Ae.x-te.x,Ae.y-te.y)},He.prototype.clone=function(){var L=this.sx,te=this.shy,Ae=this.shx,Oe=this.sy,Ve=this.tx,lt=this.ty;return new He(L,te,Ae,Oe,Ve,lt)},p.Matrix=He;var er=p.matrixMult=function(L,te){return te.multiply(L)},sr=new He(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=sr;var Lr=function(L,te){if(!Ke[L]){var Ae=(te instanceof Pd?"Sh":"P")+(Object.keys(Me).length+1).toString(10);te.id=Ae,Ke[L]=Ae,Me[Ae]=te,Zt.publish("addPattern",te)}};p.ShadingPattern=Pd,p.TilingPattern=F0,p.addShadingPattern=function(L,te){return _("addShadingPattern()"),Lr(L,te),this},p.beginTilingPattern=function(L){_("beginTilingPattern()"),Tu(L.boundingBox[0],L.boundingBox[1],L.boundingBox[2]-L.boundingBox[0],L.boundingBox[3]-L.boundingBox[1],L.matrix)},p.endTilingPattern=function(L,te){_("endTilingPattern()"),te.stream=ye[R].join(`
`),Lr(L,te),Zt.publish("endTilingPattern",te),st.pop().restore()};var _r=p.__private__.newObject=function(){var L=Ur();return ae(L,!0),L},Ur=p.__private__.newObjectDeferred=function(){return Q++,oe[Q]=function(){return ne},Q},ae=function(L,te){return te=typeof te=="boolean"&&te,oe[L]=ne,te&&ie(L+" 0 obj"),L},be=p.__private__.newAdditionalObject=function(){var L={objId:Ur(),content:""};return he.push(L),L},me=Ur(),ge=Ur(),xe=p.__private__.decodeColorString=function(L){var te=L.split(" ");if(te.length!==2||te[1]!=="g"&&te[1]!=="G")te.length===5&&(te[4]==="k"||te[4]==="K")&&(te=[(1-te[0])*(1-te[3]),(1-te[1])*(1-te[3]),(1-te[2])*(1-te[3]),"r"]);else{var Ae=parseFloat(te[0]);te=[Ae,Ae,Ae,"r"]}for(var Oe="#",Ve=0;Ve<3;Ve++)Oe+=("0"+Math.floor(255*parseFloat(te[Ve])).toString(16)).slice(-2);return Oe},we=p.__private__.encodeColorString=function(L){var te;typeof L=="string"&&(L={ch1:L});var Ae=L.ch1,Oe=L.ch2,Ve=L.ch3,lt=L.ch4,Et=L.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ae=="string"&&Ae.charAt(0)!=="#"){var Vt=new yY(Ae);if(Vt.ok)Ae=Vt.toHex();else if(!/^\d*\.?\d*$/.test(Ae))throw new Error('Invalid color "'+Ae+'" passed to jsPDF.encodeColorString.')}if(typeof Ae=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ae)&&(Ae="#"+Ae[1]+Ae[1]+Ae[2]+Ae[2]+Ae[3]+Ae[3]),typeof Ae=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ae)){var A=parseInt(Ae.substr(1),16);Ae=A>>16&255,Oe=A>>8&255,Ve=255&A}if(Oe===void 0||lt===void 0&&Ae===Oe&&Oe===Ve)if(typeof Ae=="string")te=Ae+" "+Et[0];else switch(L.precision){case 2:te=I(Ae/255)+" "+Et[0];break;case 3:default:te=T(Ae/255)+" "+Et[0]}else if(lt===void 0||vn(lt)==="object"){if(lt&&!isNaN(lt.a)&&lt.a===0)return te=["1.","1.","1.",Et[1]].join(" ");if(typeof Ae=="string")te=[Ae,Oe,Ve,Et[1]].join(" ");else switch(L.precision){case 2:te=[I(Ae/255),I(Oe/255),I(Ve/255),Et[1]].join(" ");break;default:case 3:te=[T(Ae/255),T(Oe/255),T(Ve/255),Et[1]].join(" ")}}else if(typeof Ae=="string")te=[Ae,Oe,Ve,lt,Et[2]].join(" ");else switch(L.precision){case 2:te=[I(Ae),I(Oe),I(Ve),I(lt),Et[2]].join(" ");break;case 3:default:te=[T(Ae),T(Oe),T(Ve),T(lt),Et[2]].join(" ")}return te},Ge=p.__private__.getFilters=function(){return s},rt=p.__private__.putStream=function(L){var te=(L=L||{}).data||"",Ae=L.filters||Ge(),Oe=L.alreadyAppliedFilters||[],Ve=L.addLength1||!1,lt=te.length,Et=L.objectId,Vt=function(Or){return Or};if(u!==null&&Et===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Vt=Vn.encryptor(Et,0));var A={};Ae===!0&&(Ae=["FlateEncode"]);var B=L.additionalKeyValues||[],X=(A=gr.API.processDataByFilters!==void 0?gr.API.processDataByFilters(te,Ae):{data:te,reverseChain:[]}).reverseChain+(Array.isArray(Oe)?Oe.join(" "):Oe.toString());if(A.data.length!==0&&(B.push({key:"Length",value:A.data.length}),Ve===!0&&B.push({key:"Length1",value:lt})),X.length!=0)if(X.split("/").length-1==1)B.push({key:"Filter",value:X});else{B.push({key:"Filter",value:"["+X+"]"});for(var ue=0;ue<B.length;ue+=1)if(B[ue].key==="DecodeParms"){for(var Ue=[],tt=0;tt<A.reverseChain.split("/").length-1;tt+=1)Ue.push("null");Ue.push(B[ue].value),B[ue].value="["+Ue.join(" ")+"]"}}ie("<<");for(var Nt=0;Nt<B.length;Nt++)ie("/"+B[Nt].key+" "+B[Nt].value);ie(">>"),A.data.length!==0&&(ie("stream"),ie(Vt(A.data)),ie("endstream"))},We=p.__private__.putPage=function(L){var te=L.number,Ae=L.data,Oe=L.objId,Ve=L.contentsObjId;ae(Oe,!0),ie("<</Type /Page"),ie("/Parent "+L.rootDictionaryObjId+" 0 R"),ie("/Resources "+L.resourceDictionaryObjId+" 0 R"),ie("/MediaBox ["+parseFloat(E(L.mediaBox.bottomLeftX))+" "+parseFloat(E(L.mediaBox.bottomLeftY))+" "+E(L.mediaBox.topRightX)+" "+E(L.mediaBox.topRightY)+"]"),L.cropBox!==null&&ie("/CropBox ["+E(L.cropBox.bottomLeftX)+" "+E(L.cropBox.bottomLeftY)+" "+E(L.cropBox.topRightX)+" "+E(L.cropBox.topRightY)+"]"),L.bleedBox!==null&&ie("/BleedBox ["+E(L.bleedBox.bottomLeftX)+" "+E(L.bleedBox.bottomLeftY)+" "+E(L.bleedBox.topRightX)+" "+E(L.bleedBox.topRightY)+"]"),L.trimBox!==null&&ie("/TrimBox ["+E(L.trimBox.bottomLeftX)+" "+E(L.trimBox.bottomLeftY)+" "+E(L.trimBox.topRightX)+" "+E(L.trimBox.topRightY)+"]"),L.artBox!==null&&ie("/ArtBox ["+E(L.artBox.bottomLeftX)+" "+E(L.artBox.bottomLeftY)+" "+E(L.artBox.topRightX)+" "+E(L.artBox.topRightY)+"]"),typeof L.userUnit=="number"&&L.userUnit!==1&&ie("/UserUnit "+L.userUnit),Zt.publish("putPage",{objId:Oe,pageContext:Ot[te],pageNumber:te,page:Ae}),ie("/Contents "+Ve+" 0 R"),ie(">>"),ie("endobj");var lt=Ae.join(`
`);return w===b.ADVANCED&&(lt+=`
Q`),ae(Ve,!0),rt({data:lt,filters:Ge(),objectId:Ve}),ie("endobj"),Oe},Qe=p.__private__.putPages=function(){var L,te,Ae=[];for(L=1;L<=Mt;L++)Ot[L].objId=Ur(),Ot[L].contentsObjId=Ur();for(L=1;L<=Mt;L++)Ae.push(We({number:L,data:ye[L],objId:Ot[L].objId,contentsObjId:Ot[L].contentsObjId,mediaBox:Ot[L].mediaBox,cropBox:Ot[L].cropBox,bleedBox:Ot[L].bleedBox,trimBox:Ot[L].trimBox,artBox:Ot[L].artBox,userUnit:Ot[L].userUnit,rootDictionaryObjId:me,resourceDictionaryObjId:ge}));ae(me,!0),ie("<</Type /Pages");var Oe="/Kids [";for(te=0;te<Mt;te++)Oe+=Ae[te]+" 0 R ";ie(Oe+"]"),ie("/Count "+Mt),ie(">>"),ie("endobj"),Zt.publish("postPutPages")},Je=function(L){Zt.publish("putFont",{font:L,out:ie,newObject:_r,putStream:rt}),L.isAlreadyPutted!==!0&&(L.objectNumber=_r(),ie("<<"),ie("/Type /Font"),ie("/BaseFont /"+g0(L.postScriptName)),ie("/Subtype /Type1"),typeof L.encoding=="string"&&ie("/Encoding /"+L.encoding),ie("/FirstChar 32"),ie("/LastChar 255"),ie(">>"),ie("endobj"))},St=function(){for(var L in lr)lr.hasOwnProperty(L)&&(f===!1||f===!0&&h.hasOwnProperty(L))&&Je(lr[L])},jt=function(L){L.objectNumber=_r();var te=[];te.push({key:"Type",value:"/XObject"}),te.push({key:"Subtype",value:"/Form"}),te.push({key:"BBox",value:"["+[E(L.x),E(L.y),E(L.x+L.width),E(L.y+L.height)].join(" ")+"]"}),te.push({key:"Matrix",value:"["+L.matrix.toString()+"]"});var Ae=L.pages[1].join(`
`);rt({data:Ae,additionalKeyValues:te,objectId:L.objectNumber}),ie("endobj")},Bt=function(){for(var L in wr)wr.hasOwnProperty(L)&&jt(wr[L])},Pt=function(L,te){var Ae,Oe=[],Ve=1/(te-1);for(Ae=0;Ae<1;Ae+=Ve)Oe.push(Ae);if(Oe.push(1),L[0].offset!=0){var lt={offset:0,color:L[0].color};L.unshift(lt)}if(L[L.length-1].offset!=1){var Et={offset:1,color:L[L.length-1].color};L.push(Et)}for(var Vt="",A=0,B=0;B<Oe.length;B++){for(Ae=Oe[B];Ae>L[A+1].offset;)A++;var X=L[A].offset,ue=(Ae-X)/(L[A+1].offset-X),Ue=L[A].color,tt=L[A+1].color;Vt+=G(Math.round((1-ue)*Ue[0]+ue*tt[0]).toString(16))+G(Math.round((1-ue)*Ue[1]+ue*tt[1]).toString(16))+G(Math.round((1-ue)*Ue[2]+ue*tt[2]).toString(16))}return Vt.trim()},Rt=function(L,te){te||(te=21);var Ae=_r(),Oe=Pt(L.colors,te),Ve=[];Ve.push({key:"FunctionType",value:"0"}),Ve.push({key:"Domain",value:"[0.0 1.0]"}),Ve.push({key:"Size",value:"["+te+"]"}),Ve.push({key:"BitsPerSample",value:"8"}),Ve.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ve.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),rt({data:Oe,additionalKeyValues:Ve,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ae}),ie("endobj"),L.objectNumber=_r(),ie("<< /ShadingType "+L.type),ie("/ColorSpace /DeviceRGB");var lt="/Coords ["+E(parseFloat(L.coords[0]))+" "+E(parseFloat(L.coords[1]))+" ";L.type===2?lt+=E(parseFloat(L.coords[2]))+" "+E(parseFloat(L.coords[3])):lt+=E(parseFloat(L.coords[2]))+" "+E(parseFloat(L.coords[3]))+" "+E(parseFloat(L.coords[4]))+" "+E(parseFloat(L.coords[5])),ie(lt+="]"),L.matrix&&ie("/Matrix ["+L.matrix.toString()+"]"),ie("/Function "+Ae+" 0 R"),ie("/Extend [true true]"),ie(">>"),ie("endobj")},dr=function(L,te){var Ae=Ur(),Oe=_r();te.push({resourcesOid:Ae,objectOid:Oe}),L.objectNumber=Oe;var Ve=[];Ve.push({key:"Type",value:"/Pattern"}),Ve.push({key:"PatternType",value:"1"}),Ve.push({key:"PaintType",value:"1"}),Ve.push({key:"TilingType",value:"1"}),Ve.push({key:"BBox",value:"["+L.boundingBox.map(E).join(" ")+"]"}),Ve.push({key:"XStep",value:E(L.xStep)}),Ve.push({key:"YStep",value:E(L.yStep)}),Ve.push({key:"Resources",value:Ae+" 0 R"}),L.matrix&&Ve.push({key:"Matrix",value:"["+L.matrix.toString()+"]"}),rt({data:L.stream,additionalKeyValues:Ve,objectId:L.objectNumber}),ie("endobj")},Gr=function(L){var te;for(te in Me)Me.hasOwnProperty(te)&&(Me[te]instanceof Pd?Rt(Me[te]):Me[te]instanceof F0&&dr(Me[te],L))},Kr=function(L){for(var te in L.objectNumber=_r(),ie("<<"),L)switch(te){case"opacity":ie("/ca "+I(L[te]));break;case"stroke-opacity":ie("/CA "+I(L[te]))}ie(">>"),ie("endobj")},xn=function(){var L;for(L in ht)ht.hasOwnProperty(L)&&Kr(ht[L])},Ka=function(){for(var L in ie("/XObject <<"),wr)wr.hasOwnProperty(L)&&wr[L].objectNumber>=0&&ie("/"+L+" "+wr[L].objectNumber+" 0 R");Zt.publish("putXobjectDict"),ie(">>")},Bs=function(){Vn.oid=_r(),ie("<<"),ie("/Filter /Standard"),ie("/V "+Vn.v),ie("/R "+Vn.r),ie("/U <"+Vn.toHexString(Vn.U)+">"),ie("/O <"+Vn.toHexString(Vn.O)+">"),ie("/P "+Vn.P),ie(">>"),ie("endobj")},de=function(){for(var L in ie("/Font <<"),lr)lr.hasOwnProperty(L)&&(f===!1||f===!0&&h.hasOwnProperty(L))&&ie("/"+L+" "+lr[L].objectNumber+" 0 R");ie(">>")},Pe=function(){if(Object.keys(Me).length>0){for(var L in ie("/Shading <<"),Me)Me.hasOwnProperty(L)&&Me[L]instanceof Pd&&Me[L].objectNumber>=0&&ie("/"+L+" "+Me[L].objectNumber+" 0 R");Zt.publish("putShadingPatternDict"),ie(">>")}},wt=function(L){if(Object.keys(Me).length>0){for(var te in ie("/Pattern <<"),Me)Me.hasOwnProperty(te)&&Me[te]instanceof p.TilingPattern&&Me[te].objectNumber>=0&&Me[te].objectNumber<L&&ie("/"+te+" "+Me[te].objectNumber+" 0 R");Zt.publish("putTilingPatternDict"),ie(">>")}},Ft=function(){if(Object.keys(ht).length>0){var L;for(L in ie("/ExtGState <<"),ht)ht.hasOwnProperty(L)&&ht[L].objectNumber>=0&&ie("/"+L+" "+ht[L].objectNumber+" 0 R");Zt.publish("putGStateDict"),ie(">>")}},ft=function(L){ae(L.resourcesOid,!0),ie("<<"),ie("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),de(),Pe(),wt(L.objectOid),Ft(),Ka(),ie(">>"),ie("endobj")},yt=function(){var L=[];St(),xn(),Bt(),Gr(L),Zt.publish("putResources"),L.forEach(ft),ft({resourcesOid:ge,objectOid:Number.MAX_SAFE_INTEGER}),Zt.publish("postPutResources")},Lt=function(){Zt.publish("putAdditionalObjects");for(var L=0;L<he.length;L++){var te=he[L];ae(te.objId,!0),ie(te.content),ie("endobj")}Zt.publish("postPutAdditionalObjects")},Gt=function(L){qr[L.fontName]=qr[L.fontName]||{},qr[L.fontName][L.fontStyle]=L.id},rr=function(L,te,Ae,Oe,Ve){var lt={id:"F"+(Object.keys(lr).length+1).toString(10),postScriptName:L,fontName:te,fontStyle:Ae,encoding:Oe,isStandardFont:Ve||!1,metadata:{}};return Zt.publish("addFont",{font:lt,instance:this}),lr[lt.id]=lt,Gt(lt),lt.id},Nr=function(L){for(var te=0,Ae=Se.length;te<Ae;te++){var Oe=rr.call(this,L[te][0],L[te][1],L[te][2],Se[te][3],!0);f===!1&&(h[Oe]=!0);var Ve=L[te][0].split("-");Gt({id:Oe,fontName:Ve[0],fontStyle:Ve[1]||""})}Zt.publish("addFonts",{fonts:lr,dictionary:qr})},Sr=function(L){return L.foo=function(){try{return L.apply(this,arguments)}catch(Oe){var te=Oe.stack||"";~te.indexOf(" at ")&&(te=te.split(" at ")[1]);var Ae="Error in function "+te.split(`
`)[0].split("<")[0]+": "+Oe.message;if(!vr.console)throw new Error(Ae);vr.console.error(Ae,Oe),vr.alert&&alert(Ae)}},L.foo.bar=L,L.foo},bn=function(L,te){var Ae,Oe,Ve,lt,Et,Vt,A,B,X;if(Ve=(te=te||{}).sourceEncoding||"Unicode",Et=te.outputEncoding,(te.autoencode||Et)&&lr[_t].metadata&&lr[_t].metadata[Ve]&&lr[_t].metadata[Ve].encoding&&(lt=lr[_t].metadata[Ve].encoding,!Et&&lr[_t].encoding&&(Et=lr[_t].encoding),!Et&&lt.codePages&&(Et=lt.codePages[0]),typeof Et=="string"&&(Et=lt[Et]),Et)){for(A=!1,Vt=[],Ae=0,Oe=L.length;Ae<Oe;Ae++)(B=Et[L.charCodeAt(Ae)])?Vt.push(String.fromCharCode(B)):Vt.push(L[Ae]),Vt[Ae].charCodeAt(0)>>8&&(A=!0);L=Vt.join("")}for(Ae=L.length;A===void 0&&Ae!==0;)L.charCodeAt(Ae-1)>>8&&(A=!0),Ae--;if(!A)return L;for(Vt=te.noBOM?[]:[254,255],Ae=0,Oe=L.length;Ae<Oe;Ae++){if((X=(B=L.charCodeAt(Ae))>>8)>>8)throw new Error("Character at position "+Ae+" of string '"+L+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Vt.push(X),Vt.push(B-(X<<8))}return String.fromCharCode.apply(void 0,Vt)},tn=p.__private__.pdfEscape=p.pdfEscape=function(L,te){return bn(L,te).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ea=p.__private__.beginPage=function(L){ye[++Mt]=[],Ot[Mt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(L[0]),topRightY:Number(L[1])}},rs(Mt),Ee(ye[R])},cn=function(L,te){var Ae,Oe,Ve;switch(r=te||r,typeof L=="string"&&(Ae=v(L.toLowerCase()),Array.isArray(Ae)&&(Oe=Ae[0],Ve=Ae[1])),Array.isArray(L)&&(Oe=L[0]*ct,Ve=L[1]*ct),isNaN(Oe)&&(Oe=a[0],Ve=a[1]),(Oe>14400||Ve>14400)&&(Dn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Oe=Math.min(14400,Oe),Ve=Math.min(14400,Ve)),a=[Oe,Ve],r.substr(0,1)){case"l":Ve>Oe&&(a=[Ve,Oe]);break;case"p":Oe>Ve&&(a=[Ve,Oe])}ea(a),ld(od),ie(li),fd!==0&&ie(fd+" J"),Au!==0&&ie(Au+" j"),Zt.publish("addPage",{pageNumber:Mt})},ta=function(L){L>0&&L<=Mt&&(ye.splice(L,1),Ot.splice(L,1),Mt--,R>Mt&&(R=Mt),this.setPage(R))},rs=function(L){L>0&&L<=Mt&&(R=L)},kr=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return ye.length-1},ws=function(L,te,Ae){var Oe,Ve=void 0;return Ae=Ae||{},L=L!==void 0?L:lr[_t].fontName,te=te!==void 0?te:lr[_t].fontStyle,Oe=L.toLowerCase(),qr[Oe]!==void 0&&qr[Oe][te]!==void 0?Ve=qr[Oe][te]:qr[L]!==void 0&&qr[L][te]!==void 0?Ve=qr[L][te]:Ae.disableWarning===!1&&Dn.warn("Unable to look up font label for font '"+L+"', '"+te+"'. Refer to getFontList() for available fonts."),Ve||Ae.noFallback||(Ve=qr.times[te])==null&&(Ve=qr.times.normal),Ve},qo=p.__private__.putInfo=function(){var L=_r(),te=function(Oe){return Oe};for(var Ae in u!==null&&(te=Vn.encryptor(L,0)),ie("<<"),ie("/Producer ("+tn(te("jsPDF "+gr.version))+")"),kt)kt.hasOwnProperty(Ae)&&kt[Ae]&&ie("/"+Ae.substr(0,1).toUpperCase()+Ae.substr(1)+" ("+tn(te(kt[Ae]))+")");ie("/CreationDate ("+tn(te(Y))+")"),ie(">>"),ie("endobj")},Us=p.__private__.putCatalog=function(L){var te=(L=L||{}).rootDictionaryObjId||me;switch(_r(),ie("<<"),ie("/Type /Catalog"),ie("/Pages "+te+" 0 R"),_e||(_e="fullwidth"),_e){case"fullwidth":ie("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ie("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ie("/OpenAction [3 0 R /Fit]");break;case"original":ie("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ae=""+_e;Ae.substr(Ae.length-1)==="%"&&(_e=parseInt(_e)/100),typeof _e=="number"&&ie("/OpenAction [3 0 R /XYZ null null "+I(_e)+"]")}switch(nt||(nt="continuous"),nt){case"continuous":ie("/PageLayout /OneColumn");break;case"single":ie("/PageLayout /SinglePage");break;case"two":case"twoleft":ie("/PageLayout /TwoColumnLeft");break;case"tworight":ie("/PageLayout /TwoColumnRight")}qe&&ie("/PageMode /"+qe),Zt.publish("putCatalog"),ie(">>"),ie("endobj")},Am=p.__private__.putTrailer=function(){ie("trailer"),ie("<<"),ie("/Size "+(Q+1)),ie("/Root "+Q+" 0 R"),ie("/Info "+(Q-1)+" 0 R"),u!==null&&ie("/Encrypt "+Vn.oid+" 0 R"),ie("/ID [ <"+K+"> <"+K+"> ]"),ie(">>")},Lh=p.__private__.putHeader=function(){ie("%PDF-"+g),ie("%ºß¬à")},Em=p.__private__.putXRef=function(){var L="0000000000";ie("xref"),ie("0 "+(Q+1)),ie("0000000000 65535 f ");for(var te=1;te<=Q;te++)typeof oe[te]=="function"?ie((L+oe[te]()).slice(-10)+" 00000 n "):oe[te]!==void 0?ie((L+oe[te]).slice(-10)+" 00000 n "):ie("0000000000 00000 n ")},Wo=p.__private__.buildDocument=function(){ke(),Ee(ce),Zt.publish("buildDocument"),Lh(),Qe(),Lt(),yt(),u!==null&&Bs(),qo(),Us();var L=ne;return Em(),Am(),ie("startxref"),ie(""+L),ie("%%EOF"),Ee(ye[R]),ce.join(`
`)},mu=p.__private__.getBlob=function(L){return new Blob([Ye(L)],{type:"application/pdf"})},gu=p.output=p.__private__.output=Sr(function(L,te){switch(typeof(te=te||{})=="string"?te={filename:te}:te.filename=te.filename||"generated.pdf",L){case void 0:return Wo();case"save":p.save(te.filename);break;case"arraybuffer":return Ye(Wo());case"blob":return mu(Wo());case"bloburi":case"bloburl":if(vr.URL!==void 0&&typeof vr.URL.createObjectURL=="function")return vr.URL&&vr.URL.createObjectURL(mu(Wo()))||void 0;Dn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ae="",Oe=Wo();try{Ae=A3(Oe)}catch{Ae=A3(unescape(encodeURIComponent(Oe)))}return"data:application/pdf;filename="+te.filename+";base64,"+Ae;case"pdfobjectnewwindow":if(Object.prototype.toString.call(vr)==="[object Window]"){var Ve="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",lt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';te.pdfObjectUrl&&(Ve=te.pdfObjectUrl,lt="");var Et='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ve+'"'+lt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(te)+");<\/script></body></html>",Vt=vr.open();return Vt!==null&&Vt.document.write(Et),Vt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(vr)==="[object Window]"){var A='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(te.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+te.filename+'" width="500px" height="400px" /></body></html>',B=vr.open();if(B!==null){B.document.write(A);var X=this;B.document.documentElement.querySelector("#pdfViewer").onload=function(){B.document.title=te.filename,B.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(X.output("bloburl"))}}return B}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(vr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ue='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",te)+'"></iframe></body></html>',Ue=vr.open();if(Ue!==null&&(Ue.document.write(ue),Ue.document.title=te.filename),Ue||typeof safari>"u")return Ue;break;case"datauri":case"dataurl":return vr.document.location.href=this.output("datauristring",te);default:return null}}),Ol=function(L){return Array.isArray(br)===!0&&br.indexOf(L)>-1};switch(n){case"pt":ct=1;break;case"mm":ct=72/25.4;break;case"cm":ct=72/2.54;break;case"in":ct=72;break;case"px":ct=Ol("px_scaling")==1?.75:96/72;break;case"pc":case"em":ct=12;break;case"ex":ct=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);ct=n}var Vn=null;Z(),q();var Mh=function(L){return u!==null?Vn.encryptor(L,0):function(te){return te}},ad=p.__private__.getPageInfo=p.getPageInfo=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ot[L].objId,pageNumber:L,pageContext:Ot[L]}},Ar=p.__private__.getPageInfoByObjId=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var te in Ot)if(Ot[te].objId===L)break;return ad(te)},Il=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Ot[R].objId,pageNumber:R,pageContext:Ot[R]}};p.addPage=function(){return cn.apply(this,arguments),this},p.setPage=function(){return rs.apply(this,arguments),Ee.call(this,ye[R]),this},p.insertPage=function(L){return this.addPage(),this.movePage(R,L),this},p.movePage=function(L,te){var Ae,Oe;if(L>te){Ae=ye[L],Oe=Ot[L];for(var Ve=L;Ve>te;Ve--)ye[Ve]=ye[Ve-1],Ot[Ve]=Ot[Ve-1];ye[te]=Ae,Ot[te]=Oe,this.setPage(te)}else if(L<te){Ae=ye[L],Oe=Ot[L];for(var lt=L;lt<te;lt++)ye[lt]=ye[lt+1],Ot[lt]=Ot[lt+1];ye[te]=Ae,Ot[te]=Oe,this.setPage(te)}return this},p.deletePage=function(){return ta.apply(this,arguments),this},p.__private__.text=p.text=function(L,te,Ae,Oe,Ve){var lt,Et,Vt,A,B,X,ue,Ue,tt,Nt=(Oe=Oe||{}).scope||this;if(typeof L=="number"&&typeof te=="number"&&(typeof Ae=="string"||Array.isArray(Ae))){var Or=Ae;Ae=te,te=L,L=Or}if(arguments[3]instanceof He?(_("The transform parameter of text() with a Matrix value"),tt=Ve):(Vt=arguments[4],A=arguments[5],vn(ue=arguments[3])==="object"&&ue!==null||(typeof Vt=="string"&&(A=Vt,Vt=null),typeof ue=="string"&&(A=ue,ue=null),typeof ue=="number"&&(Vt=ue,ue=null),Oe={flags:ue,angle:Vt,align:A})),isNaN(te)||isNaN(Ae)||L==null)throw new Error("Invalid arguments passed to jsPDF.text");if(L.length===0)return Nt;var Yr="",Ir=!1,_n=typeof Oe.lineHeightFactor=="number"?Oe.lineHeightFactor:wn,In=Nt.internal.scaleFactor;function Xo(Rn){return Rn=Rn.split("	").join(Array(Oe.TabLen||9).join(" ")),tn(Rn,ue)}function ci(Rn){for(var Fn,ya=Rn.concat(),Fa=[],xc=ya.length;xc--;)typeof(Fn=ya.shift())=="string"?Fa.push(Fn):Array.isArray(Rn)&&(Fn.length===1||Fn[1]===void 0&&Fn[2]===void 0)?Fa.push(Fn[0]):Fa.push([Fn[0],Fn[1],Fn[2]]);return Fa}function Ml(Rn,Fn){var ya;if(typeof Rn=="string")ya=Fn(Rn)[0];else if(Array.isArray(Rn)){for(var Fa,xc,Dm=Rn.concat(),Yh=[],Oy=Dm.length;Oy--;)typeof(Fa=Dm.shift())=="string"?Yh.push(Fn(Fa)[0]):Array.isArray(Fa)&&typeof Fa[0]=="string"&&(xc=Fn(Fa[0],Fa[1],Fa[2]),Yh.push([xc[0],xc[1],xc[2]]));ya=Yh}return ya}var Rl=!1,Nm=!0;if(typeof L=="string")Rl=!0;else if(Array.isArray(L)){var km=L.concat();Et=[];for(var Uh,ui=km.length;ui--;)(typeof(Uh=km.shift())!="string"||Array.isArray(Uh)&&typeof Uh[0]!="string")&&(Nm=!1);Rl=Nm}if(Rl===!1)throw new Error('Type of text must be string or Array. "'+L+'" is not recognized.');typeof L=="string"&&(L=L.match(/[\r?\n]/)?L.split(/\r\n|\r|\n/g):[L]);var Vh=$e/Nt.internal.scaleFactor,zh=Vh*(_n-1);switch(Oe.baseline){case"bottom":Ae-=zh;break;case"top":Ae+=Vh-zh;break;case"hanging":Ae+=Vh-2*zh;break;case"middle":Ae+=Vh/2-zh}if((X=Oe.maxWidth||0)>0&&(typeof L=="string"?L=Nt.splitTextToSize(L,X):Object.prototype.toString.call(L)==="[object Array]"&&(L=L.reduce(function(Rn,Fn){return Rn.concat(Nt.splitTextToSize(Fn,X))},[]))),lt={text:L,x:te,y:Ae,options:Oe,mutex:{pdfEscape:tn,activeFontKey:_t,fonts:lr,activeFontSize:$e}},Zt.publish("preProcessText",lt),L=lt.text,Vt=(Oe=lt.options).angle,!(tt instanceof He)&&Vt&&typeof Vt=="number"){Vt*=Math.PI/180,Oe.rotationDirection===0&&(Vt=-Vt),w===b.ADVANCED&&(Vt=-Vt);var qh=Math.cos(Vt),Cm=Math.sin(Vt);tt=new He(qh,Cm,-Cm,qh,0,0)}else Vt&&Vt instanceof He&&(tt=Vt);w!==b.ADVANCED||tt||(tt=sr),(B=Oe.charSpace||hc)!==void 0&&(Yr+=E(N(B))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ue=Oe.horizontalScale)!==void 0&&(Yr+=E(100*Ue)+` Tz
`),Oe.lang;var _s=-1,C_=Oe.renderingMode!==void 0?Oe.renderingMode:Oe.stroke,Pm=Nt.internal.getCurrentPageInfo().pageContext;switch(C_){case 0:case!1:case"fill":_s=0;break;case 1:case!0:case"stroke":_s=1;break;case 2:case"fillThenStroke":_s=2;break;case 3:case"invisible":_s=3;break;case 4:case"fillAndAddForClipping":_s=4;break;case 5:case"strokeAndAddPathForClipping":_s=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":_s=6;break;case 7:case"addToPathForClipping":_s=7}var Ny=Pm.usedRenderingMode!==void 0?Pm.usedRenderingMode:-1;_s!==-1?Yr+=_s+` Tr
`:Ny!==-1&&(Yr+=`0 Tr
`),_s!==-1&&(Pm.usedRenderingMode=_s),A=Oe.align||"left";var fo,Wh=$e*_n,ky=Nt.internal.pageSize.getWidth(),Cy=lr[_t];B=Oe.charSpace||hc,X=Oe.maxWidth||0,ue=Object.assign({autoencode:!0,noBOM:!0},Oe.flags);var Cu=[],dd=function(Rn){return Nt.getStringUnitWidth(Rn,{font:Cy,charSpace:B,fontSize:$e,doKerning:!1})*$e/In};if(Object.prototype.toString.call(L)==="[object Array]"){var Ss;Et=ci(L),A!=="left"&&(fo=Et.map(dd));var ns,Pu=0;if(A==="right"){te-=fo[0],L=[],ui=Et.length;for(var gc=0;gc<ui;gc++)gc===0?(ns=qs(te),Ss=Ra(Ae)):(ns=N(Pu-fo[gc]),Ss=-Wh),L.push([Et[gc],ns,Ss]),Pu=fo[gc]}else if(A==="center"){te-=fo[0]/2,L=[],ui=Et.length;for(var vc=0;vc<ui;vc++)vc===0?(ns=qs(te),Ss=Ra(Ae)):(ns=N((Pu-fo[vc])/2),Ss=-Wh),L.push([Et[vc],ns,Ss]),Pu=fo[vc]}else if(A==="left"){L=[],ui=Et.length;for(var Hh=0;Hh<ui;Hh++)L.push(Et[Hh])}else if(A==="justify"&&Cy.encoding==="Identity-H"){L=[],ui=Et.length,X=X!==0?X:ky;for(var yc=0,va=0;va<ui;va++)if(Ss=va===0?Ra(Ae):-Wh,ns=va===0?qs(te):yc,va<ui-1){var Om=N((X-fo[va])/(Et[va].split(" ").length-1)),as=Et[va].split(" ");L.push([as[0]+" ",ns,Ss]),yc=0;for(var ho=1;ho<as.length;ho++){var Gh=(dd(as[ho-1]+" "+as[ho])-dd(as[ho]))*In+Om;ho==as.length-1?L.push([as[ho],Gh,0]):L.push([as[ho]+" ",Gh,0]),yc-=Gh}}else L.push([Et[va],ns,Ss]);L.push(["",yc,0])}else{if(A!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(L=[],ui=Et.length,X=X!==0?X:ky,va=0;va<ui;va++)Ss=va===0?Ra(Ae):-Wh,ns=va===0?qs(te):0,va<ui-1?Cu.push(E(N((X-fo[va])/(Et[va].split(" ").length-1)))):Cu.push(0),L.push([Et[va],ns,Ss])}}var Py=typeof Oe.R2L=="boolean"?Oe.R2L:Ne;Py===!0&&(L=Ml(L,function(Rn,Fn,ya){return[Rn.split("").reverse().join(""),Fn,ya]})),lt={text:L,x:te,y:Ae,options:Oe,mutex:{pdfEscape:tn,activeFontKey:_t,fonts:lr,activeFontSize:$e}},Zt.publish("postProcessText",lt),L=lt.text,Ir=lt.mutex.isHex||!1;var Im=lr[_t].encoding;Im!=="WinAnsiEncoding"&&Im!=="StandardEncoding"||(L=Ml(L,function(Rn,Fn,ya){return[Xo(Rn),Fn,ya]})),Et=ci(L),L=[];for(var hd,pd,Ou,md=0,Kh=1,gd=Array.isArray(Et[0])?Kh:md,Iu="",jm=function(Rn,Fn,ya){var Fa="";return ya instanceof He?(ya=typeof Oe.angle=="number"?er(ya,new He(1,0,0,1,Rn,Fn)):er(new He(1,0,0,1,Rn,Fn),ya),w===b.ADVANCED&&(ya=er(new He(1,0,0,-1,0,0),ya)),Fa=ya.join(" ")+` Tm
`):Fa=E(Rn)+" "+E(Fn)+` Td
`,Fa},po=0;po<Et.length;po++){switch(Iu="",gd){case Kh:Ou=(Ir?"<":"(")+Et[po][0]+(Ir?">":")"),hd=parseFloat(Et[po][1]),pd=parseFloat(Et[po][2]);break;case md:Ou=(Ir?"<":"(")+Et[po]+(Ir?">":")"),hd=qs(te),pd=Ra(Ae)}Cu!==void 0&&Cu[po]!==void 0&&(Iu=Cu[po]+` Tw
`),po===0?L.push(Iu+jm(hd,pd,tt)+Ou):gd===md?L.push(Iu+Ou):gd===Kh&&L.push(Iu+jm(hd,pd,tt)+Ou)}L=gd===md?L.join(` Tj
T* `):L.join(` Tj
`),L+=` Tj
`;var mo=`BT
/`;return mo+=_t+" "+$e+` Tf
`,mo+=E($e*_n)+` TL
`,mo+=Ko+`
`,mo+=Yr,mo+=L,ie(mo+="ET"),h[_t]=!0,Nt};var Tm=p.__private__.clip=p.clip=function(L){return ie(L==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Tm("evenodd")},p.__private__.discardPath=p.discardPath=function(){return ie("n"),this};var uo=p.__private__.isValidStyle=function(L){var te=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(L)!==-1&&(te=!0),te};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(L){return uo(L)&&(c=L),this};var Rh=p.__private__.getStyle=p.getStyle=function(L){var te=c;switch(L){case"D":case"S":te="S";break;case"F":te="f";break;case"FD":case"DF":te="B";break;case"f":case"f*":case"B":case"B*":te=L}return te},Vs=p.close=function(){return ie("h"),this};p.stroke=function(){return ie("S"),this},p.fill=function(L){return vu("f",L),this},p.fillEvenOdd=function(L){return vu("f*",L),this},p.fillStroke=function(L){return vu("B",L),this},p.fillStrokeEvenOdd=function(L){return vu("B*",L),this};var vu=function(L,te){vn(te)==="object"?xu(te,L):ie(L)},id=function(L){L===null||w===b.ADVANCED&&L===void 0||(L=Rh(L),ie(L))};function yu(L,te,Ae,Oe,Ve){var lt=new F0(te||this.boundingBox,Ae||this.xStep,Oe||this.yStep,this.gState,Ve||this.matrix);lt.stream=this.stream;var Et=L+"$$"+this.cloneIndex+++"$$";return Lr(Et,lt),lt}var xu=function(L,te){var Ae=Ke[L.key],Oe=Me[Ae];if(Oe instanceof Pd)ie("q"),ie(Fh(te)),Oe.gState&&p.setGState(Oe.gState),ie(L.matrix.toString()+" cm"),ie("/"+Ae+" sh"),ie("Q");else if(Oe instanceof F0){var Ve=new He(1,0,0,-1,0,ki());L.matrix&&(Ve=Ve.multiply(L.matrix||sr),Ae=yu.call(Oe,L.key,L.boundingBox,L.xStep,L.yStep,Ve).id),ie("q"),ie("/Pattern cs"),ie("/"+Ae+" scn"),Oe.gState&&p.setGState(Oe.gState),ie(te),ie("Q")}},Fh=function(L){switch(L){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ho=p.moveTo=function(L,te){return ie(E(N(L))+" "+E(U(te))+" m"),this},zs=p.lineTo=function(L,te){return ie(E(N(L))+" "+E(U(te))+" l"),this},Go=p.curveTo=function(L,te,Ae,Oe,Ve,lt){return ie([E(N(L)),E(U(te)),E(N(Ae)),E(U(Oe)),E(N(Ve)),E(U(lt)),"c"].join(" ")),this};p.__private__.line=p.line=function(L,te,Ae,Oe,Ve){if(isNaN(L)||isNaN(te)||isNaN(Ae)||isNaN(Oe)||!uo(Ve))throw new Error("Invalid arguments passed to jsPDF.line");return w===b.COMPAT?this.lines([[Ae-L,Oe-te]],L,te,[1,1],Ve||"S"):this.lines([[Ae-L,Oe-te]],L,te,[1,1]).stroke()},p.__private__.lines=p.lines=function(L,te,Ae,Oe,Ve,lt){var Et,Vt,A,B,X,ue,Ue,tt,Nt,Or,Yr,Ir;if(typeof L=="number"&&(Ir=Ae,Ae=te,te=L,L=Ir),Oe=Oe||[1,1],lt=lt||!1,isNaN(te)||isNaN(Ae)||!Array.isArray(L)||!Array.isArray(Oe)||!uo(Ve)||typeof lt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ho(te,Ae),Et=Oe[0],Vt=Oe[1],B=L.length,Or=te,Yr=Ae,A=0;A<B;A++)(X=L[A]).length===2?(Or=X[0]*Et+Or,Yr=X[1]*Vt+Yr,zs(Or,Yr)):(ue=X[0]*Et+Or,Ue=X[1]*Vt+Yr,tt=X[2]*Et+Or,Nt=X[3]*Vt+Yr,Or=X[4]*Et+Or,Yr=X[5]*Vt+Yr,Go(ue,Ue,tt,Nt,Or,Yr));return lt&&Vs(),id(Ve),this},p.path=function(L){for(var te=0;te<L.length;te++){var Ae=L[te],Oe=Ae.c;switch(Ae.op){case"m":Ho(Oe[0],Oe[1]);break;case"l":zs(Oe[0],Oe[1]);break;case"c":Go.apply(this,Oe);break;case"h":Vs()}}return this},p.__private__.rect=p.rect=function(L,te,Ae,Oe,Ve){if(isNaN(L)||isNaN(te)||isNaN(Ae)||isNaN(Oe)||!uo(Ve))throw new Error("Invalid arguments passed to jsPDF.rect");return w===b.COMPAT&&(Oe=-Oe),ie([E(N(L)),E(U(te)),E(N(Ae)),E(N(Oe)),"re"].join(" ")),id(Ve),this},p.__private__.triangle=p.triangle=function(L,te,Ae,Oe,Ve,lt,Et){if(isNaN(L)||isNaN(te)||isNaN(Ae)||isNaN(Oe)||isNaN(Ve)||isNaN(lt)||!uo(Et))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ae-L,Oe-te],[Ve-Ae,lt-Oe],[L-Ve,te-lt]],L,te,[1,1],Et,!0),this},p.__private__.roundedRect=p.roundedRect=function(L,te,Ae,Oe,Ve,lt,Et){if(isNaN(L)||isNaN(te)||isNaN(Ae)||isNaN(Oe)||isNaN(Ve)||isNaN(lt)||!uo(Et))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Vt=4/3*(Math.SQRT2-1);return Ve=Math.min(Ve,.5*Ae),lt=Math.min(lt,.5*Oe),this.lines([[Ae-2*Ve,0],[Ve*Vt,0,Ve,lt-lt*Vt,Ve,lt],[0,Oe-2*lt],[0,lt*Vt,-Ve*Vt,lt,-Ve,lt],[2*Ve-Ae,0],[-Ve*Vt,0,-Ve,-lt*Vt,-Ve,-lt],[0,2*lt-Oe],[0,-lt*Vt,Ve*Vt,-lt,Ve,-lt]],L+Ve,te,[1,1],Et,!0),this},p.__private__.ellipse=p.ellipse=function(L,te,Ae,Oe,Ve){if(isNaN(L)||isNaN(te)||isNaN(Ae)||isNaN(Oe)||!uo(Ve))throw new Error("Invalid arguments passed to jsPDF.ellipse");var lt=4/3*(Math.SQRT2-1)*Ae,Et=4/3*(Math.SQRT2-1)*Oe;return Ho(L+Ae,te),Go(L+Ae,te-Et,L+lt,te-Oe,L,te-Oe),Go(L-lt,te-Oe,L-Ae,te-Et,L-Ae,te),Go(L-Ae,te+Et,L-lt,te+Oe,L,te+Oe),Go(L+lt,te+Oe,L+Ae,te+Et,L+Ae,te),id(Ve),this},p.__private__.circle=p.circle=function(L,te,Ae,Oe){if(isNaN(L)||isNaN(te)||isNaN(Ae)||!uo(Oe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(L,te,Ae,Ae,Oe)},p.setFont=function(L,te,Ae){return Ae&&(te=j(te,Ae)),_t=ws(L,te,{disableWarning:!1}),this};var sd=p.__private__.getFont=p.getFont=function(){return lr[ws.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var L,te,Ae={};for(L in qr)if(qr.hasOwnProperty(L))for(te in Ae[L]=[],qr[L])qr[L].hasOwnProperty(te)&&Ae[L].push(te);return Ae},p.addFont=function(L,te,Ae,Oe,Ve){var lt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&lt.indexOf(arguments[3])!==-1?Ve=arguments[3]:arguments[3]&&lt.indexOf(arguments[3])==-1&&(Ae=j(Ae,Oe)),Ve=Ve||"Identity-H",rr.call(this,L,te,Ae,Ve)};var wn,od=e.lineWidth||.200025,bu=p.__private__.getLineWidth=p.getLineWidth=function(){return od},ld=p.__private__.setLineWidth=p.setLineWidth=function(L){return od=L,ie(E(N(L))+" w"),this};p.__private__.setLineDash=gr.API.setLineDash=gr.API.setLineDashPattern=function(L,te){if(L=L||[],te=te||0,isNaN(te)||!Array.isArray(L))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return L=L.map(function(Ae){return E(N(Ae))}).join(" "),te=E(N(te)),ie("["+L+"] "+te+" d"),this};var cd=p.__private__.getLineHeight=p.getLineHeight=function(){return $e*wn};p.__private__.getLineHeight=p.getLineHeight=function(){return $e*wn};var ud=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(L){return typeof(L=L||1.15)=="number"&&(wn=L),this},dc=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return wn};ud(e.lineHeight);var qs=p.__private__.getHorizontalCoordinate=function(L){return N(L)},Ra=p.__private__.getVerticalCoordinate=function(L){return w===b.ADVANCED?L:Ot[R].mediaBox.topRightY-Ot[R].mediaBox.bottomLeftY-N(L)},$h=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(L){return E(qs(L))},jl=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(L){return E(Ra(L))},li=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return xe(li)},p.__private__.setStrokeColor=p.setDrawColor=function(L,te,Ae,Oe){return li=we({ch1:L,ch2:te,ch3:Ae,ch4:Oe,pdfColorType:"draw",precision:2}),ie(li),this};var wu=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return xe(wu)},p.__private__.setFillColor=p.setFillColor=function(L,te,Ae,Oe){return wu=we({ch1:L,ch2:te,ch3:Ae,ch4:Oe,pdfColorType:"fill",precision:2}),ie(wu),this};var Ko=e.textColor||"0 g",_u=p.__private__.getTextColor=p.getTextColor=function(){return xe(Ko)};p.__private__.setTextColor=p.setTextColor=function(L,te,Ae,Oe){return Ko=we({ch1:L,ch2:te,ch3:Ae,ch4:Oe,pdfColorType:"text",precision:3}),this};var hc=e.charSpace,Su=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(hc||0)};p.__private__.setCharSpace=p.setCharSpace=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return hc=L,this};var fd=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(L){var te=p.CapJoinStyles[L];if(te===void 0)throw new Error("Line cap style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return fd=te,ie(te+" J"),this};var Au=0;p.__private__.setLineJoin=p.setLineJoin=function(L){var te=p.CapJoinStyles[L];if(te===void 0)throw new Error("Line join style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Au=te,ie(te+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(L){if(L=L||0,isNaN(L))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ie(E(N(L))+" M"),this},p.GState=Bw,p.setGState=function(L){(L=typeof L=="string"?ht[Dt[L]]:Dl(null,L)).equals(Ht)||(ie("/"+L.id+" gs"),Ht=L)};var Dl=function(L,te){if(!L||!Dt[L]){var Ae=!1;for(var Oe in ht)if(ht.hasOwnProperty(Oe)&&ht[Oe].equals(te)){Ae=!0;break}if(Ae)te=ht[Oe];else{var Ve="GS"+(Object.keys(ht).length+1).toString(10);ht[Ve]=te,te.id=Ve}return L&&(Dt[L]=te.id),Zt.publish("addGState",te),te}};p.addGState=function(L,te){return Dl(L,te),this},p.saveGraphicsState=function(){return ie("q"),Ie.push({key:_t,size:$e,color:Ko}),this},p.restoreGraphicsState=function(){ie("Q");var L=Ie.pop();return _t=L.key,$e=L.size,Ko=L.color,Ht=null,this},p.setCurrentTransformationMatrix=function(L){return ie(L.toString()+" cm"),this},p.comment=function(L){return ie("#"+L),this};var pc=function(L,te){var Ae=L||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ae},set:function(lt){isNaN(lt)||(Ae=parseFloat(lt))}});var Oe=te||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Oe},set:function(lt){isNaN(lt)||(Oe=parseFloat(lt))}});var Ve="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ve},set:function(lt){Ve=lt.toString()}}),this},Eu=function(L,te,Ae,Oe){pc.call(this,L,te),this.type="rect";var Ve=Ae||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ve},set:function(Et){isNaN(Et)||(Ve=parseFloat(Et))}});var lt=Oe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return lt},set:function(Et){isNaN(Et)||(lt=parseFloat(Et))}}),this},mc=function(){this.page=Mt,this.currentPage=R,this.pages=ye.slice(0),this.pagesContext=Ot.slice(0),this.x=tr,this.y=Wt,this.matrix=Hr,this.width=Ll(R),this.height=ki(R),this.outputDestination=Ce,this.id="",this.objectNumber=-1};mc.prototype.restore=function(){Mt=this.page,R=this.currentPage,Ot=this.pagesContext,ye=this.pages,tr=this.x,Wt=this.y,Hr=this.matrix,Nu(R,this.width),ku(R,this.height),Ce=this.outputDestination};var Tu=function(L,te,Ae,Oe,Ve){st.push(new mc),Mt=R=0,ye=[],tr=L,Wt=te,Hr=Ve,ea([Ae,Oe])},Bh=function(L){if(Te[L])st.pop().restore();else{var te=new mc,Ae="Xo"+(Object.keys(wr).length+1).toString(10);te.id=Ae,Te[L]=Ae,wr[Ae]=te,Zt.publish("addFormObject",te),st.pop().restore()}};for(var Yo in p.beginFormObject=function(L,te,Ae,Oe,Ve){return Tu(L,te,Ae,Oe,Ve),this},p.endFormObject=function(L){return Bh(L),this},p.doFormObject=function(L,te){var Ae=wr[Te[L]];return ie("q"),ie(te.toString()+" cm"),ie("/"+Ae.id+" Do"),ie("Q"),this},p.getFormObject=function(L){var te=wr[Te[L]];return{x:te.x,y:te.y,width:te.width,height:te.height,matrix:te.matrix}},p.save=function(L,te){return L=L||"generated.pdf",(te=te||{}).returnPromise=te.returnPromise||!1,te.returnPromise===!1?(kd(mu(Wo()),L),typeof kd.unload=="function"&&vr.setTimeout&&setTimeout(kd.unload,911),this):new Promise(function(Ae,Oe){try{var Ve=kd(mu(Wo()),L);typeof kd.unload=="function"&&vr.setTimeout&&setTimeout(kd.unload,911),Ae(Ve)}catch(lt){Oe(lt.message)}})},gr.API)gr.API.hasOwnProperty(Yo)&&(Yo==="events"&&gr.API.events.length?function(L,te){var Ae,Oe,Ve;for(Ve=te.length-1;Ve!==-1;Ve--)Ae=te[Ve][0],Oe=te[Ve][1],L.subscribe.apply(L,[Ae].concat(typeof Oe=="function"?[Oe]:Oe))}(Zt,gr.API.events):p[Yo]=gr.API[Yo]);var Ll=p.getPageWidth=function(L){return(Ot[L=L||R].mediaBox.topRightX-Ot[L].mediaBox.bottomLeftX)/ct},Nu=p.setPageWidth=function(L,te){Ot[L].mediaBox.topRightX=te*ct+Ot[L].mediaBox.bottomLeftX},ki=p.getPageHeight=function(L){return(Ot[L=L||R].mediaBox.topRightY-Ot[L].mediaBox.bottomLeftY)/ct},ku=p.setPageHeight=function(L,te){Ot[L].mediaBox.topRightY=te*ct+Ot[L].mediaBox.bottomLeftY};return p.internal={pdfEscape:tn,getStyle:Rh,getFont:sd,getFontSize:De,getCharSpace:Su,getTextColor:_u,getLineHeight:cd,getLineHeightFactor:dc,getLineWidth:bu,write:Fe,getHorizontalCoordinate:qs,getVerticalCoordinate:Ra,getCoordinateString:$h,getVerticalCoordinateString:jl,collections:{},newObject:_r,newAdditionalObject:be,newObjectDeferred:Ur,newObjectDeferredBegin:ae,getFilters:Ge,putStream:rt,events:Zt,scaleFactor:ct,pageSize:{getWidth:function(){return Ll(R)},setWidth:function(L){Nu(R,L)},getHeight:function(){return ki(R)},setHeight:function(L){ku(R,L)}},encryptionOptions:u,encryption:Vn,getEncryptor:Mh,output:gu,getNumberOfPages:kr,pages:ye,out:ie,f2:I,f3:T,getPageInfo:ad,getPageInfoByObjId:Ar,getCurrentPageInfo:Il,getPDFVersion:m,Point:pc,Rectangle:Eu,Matrix:He,hasHotfix:Ol},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Ll(R)},set:function(L){Nu(R,L)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return ki(R)},set:function(L){ku(R,L)},enumerable:!0,configurable:!0}),Nr.call(p,Se),_t="F1",cn(a,r),Zt.publish("initialized"),p}m0.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},m0.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},m0.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},m0.prototype.processOwnerPassword=function(e,t){return T3(E3(t).substr(0,5),e)},m0.prototype.encryptor=function(e,t){var r=E3(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return T3(r,n)}},Bw.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||vn(e)!==vn(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},gr.API={events:[]},gr.version="3.0.1";var ua=gr.API,UP=1,Dh=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},c0=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},jr=function(e){return e.toFixed(2)},qu=function(e){return e.toFixed(5)};ua.__acroform__={};var $s=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},QF=function(e){return e*UP},Vl=function(e){var t=new _Y,r=nr.internal.getHeight(e)||0,n=nr.internal.getWidth(e)||0;return t.BBox=[0,0,Number(jr(n)),Number(jr(r))],t},$Be=ua.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},BBe=ua.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},UBe=ua.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},_a=ua.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return UBe(e,t-1)},Sa=ua.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return $Be(e,t-1)},Aa=ua.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return BBe(e,t-1)},VBe=ua.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],s=e[2],o=e[3],l={};return l.lowerLeft_X=r(a)||0,l.lowerLeft_Y=n(i+o)||0,l.upperRight_X=r(a+s)||0,l.upperRight_Y=n(i)||0,[Number(jr(l.lowerLeft_X)),Number(jr(l.lowerLeft_Y)),Number(jr(l.upperRight_X)),Number(jr(l.upperRight_Y))]},zBe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=N3(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+jr(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Vl(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},N3=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(T){return T.split(`
`)}):a.map(function(T){return[T]});var i=r,s=nr.internal.getHeight(e)||0;s=s<0?-s:s;var o=nr.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(T,N,O){if(T+1<a.length){var U=N+" "+a[T+1][0];return Qx(U,e,O).width<=o-4}return!1};i++;e:for(;i>0;){t="",i--;var c,u,f=Qx("3",e,i).height,h=e.multiline?s-i:(s-f)/2,p=h+=2,g=0,m=0,y=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+Qx(t,e,i=12).width+", FieldWidth:"+o+`
`;break}for(var v="",b=0,w=0;w<a.length;w++)if(a.hasOwnProperty(w)){var D=!1;if(a[w].length!==1&&y!==a[w].length-1){if((f+2)*(b+2)+2>s)continue e;v+=a[w][y],D=!0,m=w,w--}else{v=(v+=a[w][y]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var P=parseInt(w),j=l(P,v,i),E=w>=a.length-1;if(j&&!E){v+=" ",y=0;continue}if(j||E){if(E)m=P;else if(e.multiline&&(f+2)*(b+2)+2>s)continue e}else{if(!e.multiline||(f+2)*(b+2)+2>s)continue e;m=P}}for(var _="",S=g;S<=m;S++){var I=a[S];if(e.multiline){if(S===m){_+=I[y]+" ",y=(y+1)%I.length;continue}if(S===g){_+=I[I.length-1]+" ";continue}}_+=I[0]+" "}switch(_=_.substr(_.length-1)==" "?_.substr(0,_.length-1):_,u=Qx(_,e,i).width,e.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;case"left":default:c=2}t+=jr(c)+" "+jr(p)+` Td
`,t+="("+Dh(_)+`) Tj
`,t+=-jr(c)+` 0 Td
`,p=-(i+2),u=0,g=D?m:m+1,b++,v=""}break}return n.text=t,n.fontSize=i,n},Qx=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},qBe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},WBe=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},HBe=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,a=e[r];t.internal.newObjectDeferredBegin(a.objId,!0),vn(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[n]}},GBe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Cl.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(qBe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");UP=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new SY,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&WBe(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var s in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],l=[],c=o.Rect;if(o.Rect&&(o.Rect=VBe(o.Rect,a)),a.internal.newObjectDeferredBegin(o.objId,!0),o.DA=nr.createDefaultAppearanceStream(o),vn(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=zBe(o);l.push({key:"AP",value:"<</N "+u+">>"}),a.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var f="";for(var h in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(h)){var p=o.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var s in p)if(p.hasOwnProperty(s)){var g=p[s];typeof g=="function"&&(g=g.call(a,o)),f+="/"+s+" "+g+" ",a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g)}}else typeof(g=p)=="function"&&(g=g.call(a,o)),f+="/"+s+" "+g,a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:l,objectId:o.objId}),a.internal.out("endobj")}i&&HBe(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},wY=ua.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(s){return s};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),vn(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+Dh(n(e[i].toString()))+")"):a+=e[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},BA=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Dh(n(e))+")"},Gl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Gl.prototype.toString=function(){return this.objId+" 0 R"},Gl.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Gl.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:wY(a,this.objId,this.scope)}):a instanceof Gl?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var _Y=function(){Gl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};$s(_Y,Gl);var SY=function(){Gl.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Dh(r(e))+")"}},set:function(r){e=r}})};$s(SY,Gl);var Cl=function e(){Gl.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');t=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!_a(t,3)},set:function(v){v?this.F=Sa(t,3):this.F=Aa(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');r=v}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(v){n=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(v){n[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(v){n[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(v){n[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(v){n[3]=v}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Uw)return;i="FieldObject"+e.FieldNum++}var v=function(b){return b};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+Dh(v(i))+")"},set:function(v){i=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(v){i=v}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(v){s=v}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/UP:c},set:function(v){c=v}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(v){u=v}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Uw||this instanceof Qd))return BA(f,this.objId,this.scope)},set:function(v){v=v.toString(),f=v}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof ti?h:BA(h,this.objId,this.scope)},set:function(v){v=v.toString(),h=this instanceof ti?v:v.substr(0,1)==="("?c0(v.substr(1,v.length-2)):c0(v)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ti?c0(h.substr(1,h.length-1)):h},set:function(v){v=v.toString(),h=this instanceof ti?"/"+v:v}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof ti?p:BA(p,this.objId,this.scope)},set:function(v){v=v.toString(),p=this instanceof ti?v:v.substr(0,1)==="("?c0(v.substr(1,v.length-2)):c0(v)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ti?c0(p.substr(1,p.length-1)):p},set:function(v){v=v.toString(),p=this instanceof ti?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(v){v=!!v,m=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(v){g=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,1)},set:function(v){v?this.Ff=Sa(this.Ff,1):this.Ff=Aa(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,2)},set:function(v){v?this.Ff=Sa(this.Ff,2):this.Ff=Aa(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,3)},set:function(v){v?this.Ff=Sa(this.Ff,3):this.Ff=Aa(this.Ff,3)}});var y=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(y!==null)return y},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');y=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(y){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:y=2;break;case"center":case 1:y=1;break;case"left":case 0:default:y=0}}})};$s(Cl,Gl);var ep=function(){Cl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return wY(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,s,o){o||(o=1);for(var l,c=[];l=s.exec(i);)c.push(l[o]);return c}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,18)},set:function(r){r?this.Ff=Sa(this.Ff,18):this.Ff=Aa(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Sa(this.Ff,19):this.Ff=Aa(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,20)},set:function(r){r?(this.Ff=Sa(this.Ff,20),t.sort()):this.Ff=Aa(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,22)},set:function(r){r?this.Ff=Sa(this.Ff,22):this.Ff=Aa(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,23)},set:function(r){r?this.Ff=Sa(this.Ff,23):this.Ff=Aa(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,27)},set:function(r){r?this.Ff=Sa(this.Ff,27):this.Ff=Aa(this.Ff,27)}}),this.hasAppearanceStream=!1};$s(ep,Cl);var tp=function(){ep.call(this),this.fontName="helvetica",this.combo=!1};$s(tp,ep);var rp=function(){tp.call(this),this.combo=!0};$s(rp,tp);var E2=function(){rp.call(this),this.edit=!0};$s(E2,rp);var ti=function(){Cl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,15)},set:function(r){r?this.Ff=Sa(this.Ff,15):this.Ff=Aa(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,16)},set:function(r){r?this.Ff=Sa(this.Ff,16):this.Ff=Aa(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,17)},set:function(r){r?this.Ff=Sa(this.Ff,17):this.Ff=Aa(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,26)},set:function(r){r?this.Ff=Sa(this.Ff,26):this.Ff=Aa(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+Dh(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){vn(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};$s(ti,Cl);var T2=function(){ti.call(this),this.pushButton=!0};$s(T2,ti);var np=function(){ti.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};$s(np,ti);var Uw=function(){var e,t;Cl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(o){return o};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,s=[];for(i in s.push("<<"),n)s.push("/"+i+" ("+Dh(a(n[i]))+")");return s.push(">>"),s.join(`
`)},set:function(a){vn(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=nr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};$s(Uw,Cl),np.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},np.prototype.createOption=function(e){var t=new Uw;return t.Parent=this,t.optionName=e,this.Kids.push(t),KBe.call(this.scope,t),t};var N2=function(){ti.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=nr.CheckBox.createAppearanceStream()};$s(N2,ti);var Qd=function(){Cl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,13)},set:function(t){t?this.Ff=Sa(this.Ff,13):this.Ff=Aa(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,21)},set:function(t){t?this.Ff=Sa(this.Ff,21):this.Ff=Aa(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,23)},set:function(t){t?this.Ff=Sa(this.Ff,23):this.Ff=Aa(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,24)},set:function(t){t?this.Ff=Sa(this.Ff,24):this.Ff=Aa(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,25)},set:function(t){t?this.Ff=Sa(this.Ff,25):this.Ff=Aa(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,26)},set:function(t){t?this.Ff=Sa(this.Ff,26):this.Ff=Aa(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};$s(Qd,Cl);var k2=function(){Qd.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!_a(this.Ff,14)},set:function(e){e?this.Ff=Sa(this.Ff,14):this.Ff=Aa(this.Ff,14)}}),this.password=!0};$s(k2,Qd);var nr={CheckBox:{createAppearanceStream:function(){return{N:{On:nr.CheckBox.YesNormal},D:{On:nr.CheckBox.YesPushDown,Off:nr.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Vl(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=N3(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+jr(nr.internal.getWidth(e))+" "+jr(nr.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+jr(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Vl(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=nr.internal.getHeight(e),s=nr.internal.getWidth(e),o=N3(e,e.caption);return a.push("1 g"),a.push("0 0 "+jr(s)+" "+jr(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+jr(s-1)+" "+jr(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+jr(o.fontSize)+" Tf "+n),a.push(o.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=Vl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+jr(nr.internal.getWidth(e))+" "+jr(nr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:nr.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=nr.RadioButton.Circle.YesNormal,t.D[e]=nr.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Vl(e);t.scope=e.scope;var r=[],n=nr.internal.getWidth(e)<=nr.internal.getHeight(e)?nr.internal.getWidth(e)/4:nr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=nr.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+qu(nr.internal.getWidth(e)/2)+" "+qu(nr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Vl(e);t.scope=e.scope;var r=[],n=nr.internal.getWidth(e)<=nr.internal.getHeight(e)?nr.internal.getWidth(e)/4:nr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*nr.internal.Bezier_C).toFixed(5)),s=Number((n*nr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+qu(nr.internal.getWidth(e)/2)+" "+qu(nr.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+qu(nr.internal.getWidth(e)/2)+" "+qu(nr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Vl(e);t.scope=e.scope;var r=[],n=nr.internal.getWidth(e)<=nr.internal.getHeight(e)?nr.internal.getWidth(e)/4:nr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*nr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+qu(nr.internal.getWidth(e)/2)+" "+qu(nr.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:nr.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=nr.RadioButton.Cross.YesNormal,t.D[e]=nr.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Vl(e);t.scope=e.scope;var r=[],n=nr.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+jr(nr.internal.getWidth(e)-2)+" "+jr(nr.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(jr(n.x1.x)+" "+jr(n.x1.y)+" m"),r.push(jr(n.x2.x)+" "+jr(n.x2.y)+" l"),r.push(jr(n.x4.x)+" "+jr(n.x4.y)+" m"),r.push(jr(n.x3.x)+" "+jr(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Vl(e);t.scope=e.scope;var r=nr.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+jr(nr.internal.getWidth(e))+" "+jr(nr.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+jr(nr.internal.getWidth(e)-2)+" "+jr(nr.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(jr(r.x1.x)+" "+jr(r.x1.y)+" m"),n.push(jr(r.x2.x)+" "+jr(r.x2.y)+" l"),n.push(jr(r.x4.x)+" "+jr(r.x4.y)+" m"),n.push(jr(r.x3.x)+" "+jr(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Vl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+jr(nr.internal.getWidth(e))+" "+jr(nr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};nr.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=nr.internal.getWidth(e),r=nr.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},nr.internal.getWidth=function(e){var t=0;return vn(e)==="object"&&(t=QF(e.Rect[2])),t},nr.internal.getHeight=function(e){var t=0;return vn(e)==="object"&&(t=QF(e.Rect[3])),t};var KBe=ua.addField=function(e){if(GBe(this,e),!(e instanceof Cl))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};ua.AcroFormChoiceField=ep,ua.AcroFormListBox=tp,ua.AcroFormComboBox=rp,ua.AcroFormEditBox=E2,ua.AcroFormButton=ti,ua.AcroFormPushButton=T2,ua.AcroFormRadioButton=np,ua.AcroFormCheckBox=N2,ua.AcroFormTextField=Qd,ua.AcroFormPasswordField=k2,ua.AcroFormAppearance=nr,ua.AcroForm={ChoiceField:ep,ListBox:tp,ComboBox:rp,EditBox:E2,Button:ti,PushButton:T2,RadioButton:np,CheckBox:N2,TextField:Qd,PasswordField:k2,Appearance:nr},gr.AcroForm={ChoiceField:ep,ListBox:tp,ComboBox:rp,EditBox:E2,Button:ti,PushButton:T2,RadioButton:np,CheckBox:N2,TextField:Qd,PasswordField:k2,Appearance:nr};function AY(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(T,N){var O,U,Y,K,J,q=t;if((N=N||t)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(j(T))for(J in r)for(Y=r[J],O=0;O<Y.length;O+=1){for(K=!0,U=0;U<Y[O].length;U+=1)if(Y[O][U]!==void 0&&Y[O][U]!==T[U]){K=!1;break}if(K===!0){q=J;break}}else for(J in r)for(Y=r[J],O=0;O<Y.length;O+=1){for(K=!0,U=0;U<Y[O].length;U+=1)if(Y[O][U]!==void 0&&Y[O][U]!==T.charCodeAt(U)){K=!1;break}if(K===!0){q=J;break}}return q===t&&N!==t&&(q=N),q},a=function T(N){for(var O=this.internal.write,U=this.internal.putStream,Y=(0,this.internal.getFilters)();Y.indexOf("FlateEncode")!==-1;)Y.splice(Y.indexOf("FlateEncode"),1);N.objectId=this.internal.newObject();var K=[];if(K.push({key:"Type",value:"/XObject"}),K.push({key:"Subtype",value:"/Image"}),K.push({key:"Width",value:N.width}),K.push({key:"Height",value:N.height}),N.colorSpace===y.INDEXED?K.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(N.palette.length/3-1)+" "+("sMask"in N&&N.sMask!==void 0?N.objectId+2:N.objectId+1)+" 0 R]"}):(K.push({key:"ColorSpace",value:"/"+N.colorSpace}),N.colorSpace===y.DEVICE_CMYK&&K.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),K.push({key:"BitsPerComponent",value:N.bitsPerComponent}),"decodeParameters"in N&&N.decodeParameters!==void 0&&K.push({key:"DecodeParms",value:"<<"+N.decodeParameters+">>"}),"transparency"in N&&Array.isArray(N.transparency)){for(var J="",q=0,V=N.transparency.length;q<V;q++)J+=N.transparency[q]+" "+N.transparency[q]+" ";K.push({key:"Mask",value:"["+J+"]"})}N.sMask!==void 0&&K.push({key:"SMask",value:N.objectId+1+" 0 R"});var ee=N.filter!==void 0?["/"+N.filter]:void 0;if(U({data:N.data,additionalKeyValues:K,alreadyAppliedFilters:ee,objectId:N.objectId}),O("endobj"),"sMask"in N&&N.sMask!==void 0){var Z="/Predictor "+N.predictor+" /Colors 1 /BitsPerComponent "+N.bitsPerComponent+" /Columns "+N.width,k={width:N.width,height:N.height,colorSpace:"DeviceGray",bitsPerComponent:N.bitsPerComponent,decodeParameters:Z,data:N.sMask};"filter"in N&&(k.filter=N.filter),T.call(this,k)}if(N.colorSpace===y.INDEXED){var R=this.internal.newObject();U({data:_(new Uint8Array(N.palette)),objectId:R}),O("endobj")}},i=function(){var T=this.internal.collections.addImage_images;for(var N in T)a.call(this,T[N])},s=function(){var T,N=this.internal.collections.addImage_images,O=this.internal.write;for(var U in N)O("/I"+(T=N[U]).index,T.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",s))},l=function(){var T=this.internal.collections.addImage_images;return o.call(this),T},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(T){return typeof e["process"+T.toUpperCase()]=="function"},f=function(T){return vn(T)==="object"&&T.nodeType===1},h=function(T,N){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var O=""+T.getAttribute("src");if(O.indexOf("data:image/")===0)return uv(unescape(O).split("base64,").pop());var U=e.loadFile(O,!0);if(U!==void 0)return U}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var Y;switch(N){case"PNG":Y="image/png";break;case"WEBP":Y="image/webp";break;case"JPEG":case"JPG":default:Y="image/jpeg"}return uv(T.toDataURL(Y,1).split("base64,").pop())}},p=function(T){var N=this.internal.collections.addImage_images;if(N){for(var O in N)if(T===N[O].alias)return N[O]}},g=function(T,N,O){return T||N||(T=-96,N=-96),T<0&&(T=-1*O.width*72/T/this.internal.scaleFactor),N<0&&(N=-1*O.height*72/N/this.internal.scaleFactor),T===0&&(T=N*O.width/O.height),N===0&&(N=T*O.height/O.width),[T,N]},m=function(T,N,O,U,Y,K){var J=g.call(this,O,U,Y),q=this.internal.getCoordinateString,V=this.internal.getVerticalCoordinateString,ee=l.call(this);if(O=J[0],U=J[1],ee[Y.index]=Y,K){K*=Math.PI/180;var Z=Math.cos(K),k=Math.sin(K),R=function(G){return G.toFixed(4)},z=[R(Z),R(k),R(-1*k),R(Z),0,0,"cm"]}this.internal.write("q"),K?(this.internal.write([1,"0","0",1,q(T),V(N+U),"cm"].join(" ")),this.internal.write(z.join(" ")),this.internal.write([q(O),"0","0",q(U),"0","0","cm"].join(" "))):this.internal.write([q(O),"0","0",q(U),q(T),V(N+U),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Y.index+" Do"),this.internal.write("Q")},y=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=e.__addimage__.sHashCode=function(T){var N,O,U=0;if(typeof T=="string")for(O=T.length,N=0;N<O;N++)U=(U<<5)-U+T.charCodeAt(N),U|=0;else if(j(T))for(O=T.byteLength/2,N=0;N<O;N++)U=(U<<5)-U+T[N],U|=0;return U},w=e.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var N=!0;return T.length===0&&(N=!1),T.length%4!=0&&(N=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(N=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(N=!1),N},D=e.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var N=T.indexOf(",");return N<0?null:T.substring(0,N).trim().endsWith("base64")?T.substring(N+1):null},P=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(T){return P()&&T instanceof ArrayBuffer};var j=e.__addimage__.isArrayBufferView=function(T){return P()&&typeof Uint32Array<"u"&&(T instanceof Int8Array||T instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array)},E=e.__addimage__.binaryStringToUint8Array=function(T){for(var N=T.length,O=new Uint8Array(N),U=0;U<N;U++)O[U]=T.charCodeAt(U);return O},_=e.__addimage__.arrayBufferToBinaryString=function(T){for(var N="",O=j(T)?T:new Uint8Array(T),U=0;U<O.length;U+=8192)N+=String.fromCharCode.apply(null,O.subarray(U,U+8192));return N};e.addImage=function(){var T,N,O,U,Y,K,J,q,V;if(typeof arguments[1]=="number"?(N=t,O=arguments[1],U=arguments[2],Y=arguments[3],K=arguments[4],J=arguments[5],q=arguments[6],V=arguments[7]):(N=arguments[1],O=arguments[2],U=arguments[3],Y=arguments[4],K=arguments[5],J=arguments[6],q=arguments[7],V=arguments[8]),vn(T=arguments[0])==="object"&&!f(T)&&"imageData"in T){var ee=T;T=ee.imageData,N=ee.format||N||t,O=ee.x||O||0,U=ee.y||U||0,Y=ee.w||ee.width||Y,K=ee.h||ee.height||K,J=ee.alias||J,q=ee.compression||q,V=ee.rotation||ee.angle||V}var Z=this.internal.getFilters();if(q===void 0&&Z.indexOf("FlateEncode")!==-1&&(q="SLOW"),isNaN(O)||isNaN(U))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var k=S.call(this,T,N,J,q);return m.call(this,O,U,Y,K,k,V),this};var S=function(T,N,O,U){var Y,K,J;if(typeof T=="string"&&n(T)===t){T=unescape(T);var q=I(T,!1);(q!==""||(q=e.loadFile(T,!0))!==void 0)&&(T=q)}if(f(T)&&(T=h(T,N)),N=n(T,N),!u(N))throw new Error("addImage does not support files of type '"+N+"', please ensure that a plugin for '"+N+"' support is added.");if(((J=O)==null||J.length===0)&&(O=function(V){return typeof V=="string"||j(V)?b(V):j(V.data)?b(V.data):null}(T)),(Y=p.call(this,O))||(P()&&(T instanceof Uint8Array||N==="RGBA"||(K=T,T=E(T))),Y=this["process"+N.toUpperCase()](T,c.call(this),O,function(V){return V&&typeof V=="string"&&(V=V.toUpperCase()),V in e.image_compression?V:v.NONE}(U),K)),!Y)throw new Error("An unknown error occurred whilst processing the image.");return Y},I=e.__addimage__.convertBase64ToBinaryString=function(T,N){N=typeof N!="boolean"||N;var O,U="";if(typeof T=="string"){var Y;O=(Y=D(T))!==null&&Y!==void 0?Y:T;try{U=uv(O)}catch(K){if(N)throw w(O)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+K.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return U};e.getImageProperties=function(T){var N,O,U="";if(f(T)&&(T=h(T)),typeof T=="string"&&n(T)===t&&((U=I(T,!1))===""&&(U=e.loadFile(T)||""),T=U),O=n(T),!u(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(!P()||T instanceof Uint8Array||(T=E(T)),!(N=this["process"+O.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return N.fileType=O,N}})(gr.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};gr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,u=!1,f=0;f<c.length&&!u;f++)switch((n=c[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var h=0;h<c.length;h++){n=c[h];var p=this.internal.pdfEscape,g=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),y=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(m.objId),b=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+p(v(n.contents))+")",i+=" /Popup "+y.objId+" 0 R",i+=" /P "+l.objId+" 0 R",i+=" /T ("+p(v(b))+") >>",m.content=i;var w=m.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+w,n.open&&(i+=" /Open true"),i+=" >>",y.content=i,this.internal.write(m.objId,"0 R",y.objId,"0 R");break;case"freetext":a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var D=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+p(g(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+D+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var P=this.annotations._nameMap[n.options.name];n.options.pageNumber=P.page,n.options.top=P.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+p(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var j=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+j+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,s){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+a),h:c(n+i)},options:s,type:"link"})},e.textWithLink=function(r,n,a,i){var s,o,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var u=this.splitTextToSize(r,o).length;s=Math.ceil(c*u)}else o=l,s=c;return this.text(r,n,a,i),a+=.2*c,i.align==="center"&&(n-=l/2),i.align==="right"&&(n-=l),this.link(n,a-c,o,s,i),l},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(gr.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(m){return t[m.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},o=e.__arabicParser__.isArabicEndLetter=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(m){return s(m)&&a.indexOf(m.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(m){var y=0,v=r,b="",w=0;for(y=0;y<m.length;y+=1)v[m.charCodeAt(y)]!==void 0?(w++,typeof(v=v[m.charCodeAt(y)])=="number"&&(b+=String.fromCharCode(v),v=r,w=0),y===m.length-1&&(v=r,b+=m.charAt(y-(w-1)),y-=w-1,w=0)):(v=r,b+=m.charAt(y-w),y-=w,w=0);return b};e.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&n[m.charCodeAt(0)]!==void 0};var h=e.__arabicParser__.getCorrectForm=function(m,y,v){return s(m)?i(m)===!1?-1:!c(m)||!s(y)&&!s(v)||!s(v)&&o(y)||o(m)&&!s(y)||o(m)&&l(y)||o(m)&&o(y)?0:u(m)&&s(y)&&!o(y)&&s(v)&&c(v)?3:o(m)||!s(v)?1:2:-1},p=function(m){var y=0,v=0,b=0,w="",D="",P="",j=(m=m||"").split("\\s+"),E=[];for(y=0;y<j.length;y+=1){for(E.push(""),v=0;v<j[y].length;v+=1)w=j[y][v],D=j[y][v-1],P=j[y][v+1],s(w)?(b=h(w,D,P),E[y]+=b!==-1?String.fromCharCode(t[w.charCodeAt(0)][b]):w):E[y]+=w;E[y]=f(E[y])}return E.join(" ")},g=e.__arabicParser__.processArabic=e.processArabic=function(){var m,y=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(y)){var b=0;for(v=[],b=0;b<y.length;b+=1)Array.isArray(y[b])?v.push([p(y[b][0]),y[b][1],y[b][2]]):v.push([p(y[b])]);m=v}else m=p(y);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};e.events.push(["preProcessText",g])}(gr.API),gr.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(o){a=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(gr.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(m){l=m}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(m){c=m}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(m){f=m}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(m){p=m}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(m){g=m}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,c){n.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),h=c.scaleFactor||this.internal.scaleFactor,p=0,g=0,m=0,y=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var v=c.maxWidth;v>0?typeof l=="string"?l=this.splitTextToSize(l,v):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(w,D){return w.concat(y.splitTextToSize(D,v))},[])):l=Array.isArray(l)?l:[l];for(var b=0;b<l.length;b++)p<(m=this.getStringUnitWidth(l[b],{font:f})*u)&&(p=m);return p!==0&&(g=l.length),{w:p/=h,h:Math.max((g*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/h,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var l;l=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,p&&h&&(this.printHeaderRow(l.lineNumber,!0),l.y+=h[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};e.table=function(l,c,u,f,h){if(n.call(this),!u)throw new Error("No data for PDF table.");var p,g,m,y,v=[],b=[],w=[],D={},P={},j=[],E=[],_=(h=h||{}).autoSize||!1,S=h.printHeaders!==!1,I=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,T=h.margins||Object.assign({width:this.getPageWidth()},t),N=typeof h.padding=="number"?h.padding:3,O=h.headerBackgroundColor||"#c8c8c8",U=h.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=S,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=I,this.internal.__cell__.padding=N,this.internal.__cell__.headerBackgroundColor=O,this.internal.__cell__.headerTextColor=U,this.setFontSize(I),f==null)b=v=Object.keys(u[0]),w=v.map(function(){return"left"});else if(Array.isArray(f)&&vn(f[0])==="object")for(v=f.map(function(ee){return ee.name}),b=f.map(function(ee){return ee.prompt||ee.name||""}),w=f.map(function(ee){return ee.align||"left"}),p=0;p<f.length;p+=1)P[f[p].name]=f[p].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(b=v=f,w=v.map(function(){return"left"}));if(_||Array.isArray(f)&&typeof f[0]=="string")for(p=0;p<v.length;p+=1){for(D[y=v[p]]=u.map(function(ee){return ee[y]}),this.setFont(void 0,"bold"),j.push(this.getTextDimensions(b[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=D[y],this.setFont(void 0,"normal"),m=0;m<g.length;m+=1)j.push(this.getTextDimensions(g[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);P[y]=Math.max.apply(null,j)+N+N,j=[]}if(S){var Y={};for(p=0;p<v.length;p+=1)Y[v[p]]={},Y[v[p]].text=b[p],Y[v[p]].align=w[p];var K=o.call(this,Y,P);E=v.map(function(ee){return new i(l,c,P[ee],K,Y[ee].text,void 0,Y[ee].align)}),this.setTableHeaderRow(E),this.printHeaderRow(1,!1)}var J=f.reduce(function(ee,Z){return ee[Z.name]=Z.align,ee},{});for(p=0;p<u.length;p+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:p,data:u[p]},this);var q=o.call(this,u[p],P);for(m=0;m<v.length;m+=1){var V=u[p][v[m]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:p,col:m,data:V},this),s.call(this,new i(l,c,P[v[m]],q,V,p+2,J[v[m]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(l).map(function(p){var g=l[p];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,c[p]-u-u)},this).map(function(p){return this.getLineHeightFactor()*p.length*f/h+u+u},this).reduce(function(p,g){return Math.max(p,g)},0)};e.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){u=this.internal.__cell__.tableHeaderRow[p].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,h.push(u)),u.lineNumber=l;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,u),this.setTextColor(g)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}}(gr.API);var EY={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},TY=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],k3=AY(TY),NY=[100,200,300,400,500,600,700,800,900],YBe=AY(NY);function C3(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return EY[i=i||"normal"]?i:"normal"}(e.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(i){return typeof k3[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function JF(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var XBe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},ZF={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function e7(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function QBe(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},XBe,r.genericFontFamilies||{}),i=null,s=null,o=0;o<t.length;++o)if(a[(i=C3(t[o])).family]&&(i.family=a[i.family]),e.hasOwnProperty(i.family)){s=e[i.family];break}if(!(s=s||e[n]))throw new Error("Could not find a font-family for the rule '"+e7(i)+"' and default family '"+n+"'.");if(s=function(l,c){if(c[l])return c[l];var u=k3[l],f=u<=k3.normal?-1:1,h=JF(c,TY,u,f);if(!h)throw new Error("Could not find a matching font-stretch value for "+l);return h}(i.stretch,s),s=function(l,c){if(c[l])return c[l];for(var u=EY[l],f=0;f<u.length;++f)if(c[u[f]])return c[u[f]];throw new Error("Could not find a matching font-style for "+l)}(i.style,s),!(s=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var u=YBe[l],f=JF(c,NY,u,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f}(i.weight,s)))throw new Error("Failed to resolve a font for the rule '"+e7(i)+"'.");return s}function t7(e){return e.trimLeft()}function JBe(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function ZBe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Jx,r7,n7,UA=["times"];(function(e){var t,r,n,a,i,s,o,l,c,u=function(k){return k=k||{},this.isStrokeTransparent=k.isStrokeTransparent||!1,this.strokeOpacity=k.strokeOpacity||1,this.strokeStyle=k.strokeStyle||"#000000",this.fillStyle=k.fillStyle||"#000000",this.isFillTransparent=k.isFillTransparent||!1,this.fillOpacity=k.fillOpacity||1,this.font=k.font||"10px sans-serif",this.textBaseline=k.textBaseline||"alphabetic",this.textAlign=k.textAlign||"left",this.lineWidth=k.lineWidth||1,this.lineJoin=k.lineJoin||"miter",this.lineCap=k.lineCap||"butt",this.path=k.path||[],this.transform=k.transform!==void 0?k.transform.clone():new l,this.globalCompositeOperation=k.globalCompositeOperation||"normal",this.globalAlpha=k.globalAlpha||1,this.clip_path=k.clip_path||[],this.currentPoint=k.currentPoint||new s,this.miterLimit=k.miterLimit||10,this.lastPoint=k.lastPoint||new s,this.lineDashOffset=k.lineDashOffset||0,this.lineDash=k.lineDash||[],this.margin=k.margin||[0,0,0,0],this.prevPageLastElemOffset=k.prevPageLastElemOffset||0,this.ignoreClearRect=typeof k.ignoreClearRect!="boolean"||k.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var f=function(k){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var R=k;Object.defineProperty(this,"pdf",{get:function(){return R}});var z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return z},set:function(Ee){z=!!Ee}});var G=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return G},set:function(Ee){G=!!Ee}});var Q=0;Object.defineProperty(this,"posX",{get:function(){return Q},set:function(Ee){isNaN(Ee)||(Q=Ee)}});var oe=0;Object.defineProperty(this,"posY",{get:function(){return oe},set:function(Ee){isNaN(Ee)||(oe=Ee)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(Ee){var ie;typeof Ee=="number"?ie=[Ee,Ee,Ee,Ee]:((ie=new Array(4))[0]=Ee[0],ie[1]=Ee.length>=2?Ee[1]:ie[0],ie[2]=Ee.length>=3?Ee[2]:ie[0],ie[3]=Ee.length>=4?Ee[3]:ie[1]),c.margin=ie}});var ce=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ce},set:function(Ee){ce=Ee}});var ne=0;Object.defineProperty(this,"lastBreak",{get:function(){return ne},set:function(Ee){ne=Ee}});var he=[];Object.defineProperty(this,"pageBreaks",{get:function(){return he},set:function(Ee){he=Ee}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(Ee){Ee instanceof u&&(c=Ee)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(Ee){c.path=Ee}});var ye=[];Object.defineProperty(this,"ctxStack",{get:function(){return ye},set:function(Ee){ye=Ee}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ee){var ie;ie=h(Ee),this.ctx.fillStyle=ie.style,this.ctx.isFillTransparent=ie.a===0,this.ctx.fillOpacity=ie.a,this.pdf.setFillColor(ie.r,ie.g,ie.b,{a:ie.a}),this.pdf.setTextColor(ie.r,ie.g,ie.b,{a:ie.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ee){var ie=h(Ee);this.ctx.strokeStyle=ie.style,this.ctx.isStrokeTransparent=ie.a===0,this.ctx.strokeOpacity=ie.a,ie.a===0?this.pdf.setDrawColor(255,255,255):(ie.a,this.pdf.setDrawColor(ie.r,ie.g,ie.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ee){["butt","round","square"].indexOf(Ee)!==-1&&(this.ctx.lineCap=Ee,this.pdf.setLineCap(Ee))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ee){isNaN(Ee)||(this.ctx.lineWidth=Ee,this.pdf.setLineWidth(Ee))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ee){["bevel","round","miter"].indexOf(Ee)!==-1&&(this.ctx.lineJoin=Ee,this.pdf.setLineJoin(Ee))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ee){isNaN(Ee)||(this.ctx.miterLimit=Ee,this.pdf.setMiterLimit(Ee))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ee){this.ctx.textBaseline=Ee}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ee){["right","end","center","left","start"].indexOf(Ee)!==-1&&(this.ctx.textAlign=Ee)}});var W=null;function Ce(Ee,ie){if(W===null){var Fe=function(Ye){var Se=[];return Object.keys(Ye).forEach(function($e){Ye[$e].forEach(function(_e){var De=null;switch(_e){case"bold":De={family:$e,weight:"bold"};break;case"italic":De={family:$e,style:"italic"};break;case"bolditalic":De={family:$e,weight:"bold",style:"italic"};break;case"":case"normal":De={family:$e}}De!==null&&(De.ref={name:$e,style:_e},Se.push(De))})}),Se}(Ee.getFontList());W=function(Ye){for(var Se={},$e=0;$e<Ye.length;++$e){var _e=C3(Ye[$e]),De=_e.family,Ne=_e.stretch,qe=_e.style,at=_e.weight;Se[De]=Se[De]||{},Se[De][Ne]=Se[De][Ne]||{},Se[De][Ne][qe]=Se[De][Ne][qe]||{},Se[De][Ne][qe][at]=_e}return Se}(Fe.concat(ie))}return W}var ke=null;Object.defineProperty(this,"fontFaces",{get:function(){return ke},set:function(Ee){W=null,ke=Ee}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ee){var ie;if(this.ctx.font=Ee,(ie=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ee))!==null){var Fe=ie[1];ie[2];var Ye=ie[3],Se=ie[4];ie[5];var $e=ie[6],_e=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Se)[2];Se=Math.floor(_e==="px"?parseFloat(Se)*this.pdf.internal.scaleFactor:_e==="em"?parseFloat(Se)*this.pdf.getFontSize():parseFloat(Se)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Se);var De=function(kt){var _t,ct,tr=[],Wt=kt.trim();if(Wt==="")return UA;if(Wt in ZF)return[ZF[Wt]];for(;Wt!=="";){switch(ct=null,_t=(Wt=t7(Wt)).charAt(0)){case'"':case"'":ct=JBe(Wt.substring(1),_t);break;default:ct=ZBe(Wt)}if(ct===null||(tr.push(ct[0]),(Wt=t7(ct[1]))!==""&&Wt.charAt(0)!==","))return UA;Wt=Wt.replace(/^,/,"")}return tr}($e);if(this.fontFaces){var Ne=QBe(Ce(this.pdf,this.fontFaces),De.map(function(kt){return{family:kt,stretch:"normal",weight:Ye,style:Fe}}));this.pdf.setFont(Ne.ref.name,Ne.ref.style)}else{var qe="";(Ye==="bold"||parseInt(Ye,10)>=700||Fe==="bold")&&(qe="bold"),Fe==="italic"&&(qe+="italic"),qe.length===0&&(qe="normal");for(var at="",nt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ut=0;ut<De.length;ut++){if(this.pdf.internal.getFont(De[ut],qe,{noFallback:!0,disableWarning:!0})!==void 0){at=De[ut];break}if(qe==="bolditalic"&&this.pdf.internal.getFont(De[ut],"bold",{noFallback:!0,disableWarning:!0})!==void 0)at=De[ut],qe="bold";else if(this.pdf.internal.getFont(De[ut],"normal",{noFallback:!0,disableWarning:!0})!==void 0){at=De[ut],qe="normal";break}}if(at===""){for(var Tt=0;Tt<De.length;Tt++)if(nt[De[Tt]]){at=nt[De[Tt]];break}}at=at===""?"Times":at,this.pdf.setFont(at,qe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ee){this.ctx.globalCompositeOperation=Ee}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ee){this.ctx.globalAlpha=Ee}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ee){this.ctx.lineDashOffset=Ee,Z.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ee){this.ctx.lineDash=Ee,Z.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ee){this.ctx.ignoreClearRect=!!Ee}})};f.prototype.setLineDash=function(k){this.lineDash=k},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){D.call(this,"fill",!1)},f.prototype.stroke=function(){D.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(k,R){if(isNaN(k)||isNaN(R))throw Dn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var z=this.ctx.transform.applyToPoint(new s(k,R));this.path.push({type:"mt",x:z.x,y:z.y}),this.ctx.lastPoint=new s(k,R)},f.prototype.closePath=function(){var k=new s(0,0),R=0;for(R=this.path.length-1;R!==-1;R--)if(this.path[R].type==="begin"&&vn(this.path[R+1])==="object"&&typeof this.path[R+1].x=="number"){k=new s(this.path[R+1].x,this.path[R+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(k.x,k.y)},f.prototype.lineTo=function(k,R){if(isNaN(k)||isNaN(R))throw Dn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var z=this.ctx.transform.applyToPoint(new s(k,R));this.path.push({type:"lt",x:z.x,y:z.y}),this.ctx.lastPoint=new s(z.x,z.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),D.call(this,null,!0)},f.prototype.quadraticCurveTo=function(k,R,z,G){if(isNaN(z)||isNaN(G)||isNaN(k)||isNaN(R))throw Dn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Q=this.ctx.transform.applyToPoint(new s(z,G)),oe=this.ctx.transform.applyToPoint(new s(k,R));this.path.push({type:"qct",x1:oe.x,y1:oe.y,x:Q.x,y:Q.y}),this.ctx.lastPoint=new s(Q.x,Q.y)},f.prototype.bezierCurveTo=function(k,R,z,G,Q,oe){if(isNaN(Q)||isNaN(oe)||isNaN(k)||isNaN(R)||isNaN(z)||isNaN(G))throw Dn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ce=this.ctx.transform.applyToPoint(new s(Q,oe)),ne=this.ctx.transform.applyToPoint(new s(k,R)),he=this.ctx.transform.applyToPoint(new s(z,G));this.path.push({type:"bct",x1:ne.x,y1:ne.y,x2:he.x,y2:he.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new s(ce.x,ce.y)},f.prototype.arc=function(k,R,z,G,Q,oe){if(isNaN(k)||isNaN(R)||isNaN(z)||isNaN(G)||isNaN(Q))throw Dn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(oe=!!oe,!this.ctx.transform.isIdentity){var ce=this.ctx.transform.applyToPoint(new s(k,R));k=ce.x,R=ce.y;var ne=this.ctx.transform.applyToPoint(new s(0,z)),he=this.ctx.transform.applyToPoint(new s(0,0));z=Math.sqrt(Math.pow(ne.x-he.x,2)+Math.pow(ne.y-he.y,2))}Math.abs(Q-G)>=2*Math.PI&&(G=0,Q=2*Math.PI),this.path.push({type:"arc",x:k,y:R,radius:z,startAngle:G,endAngle:Q,counterclockwise:oe})},f.prototype.arcTo=function(k,R,z,G,Q){throw new Error("arcTo not implemented.")},f.prototype.rect=function(k,R,z,G){if(isNaN(k)||isNaN(R)||isNaN(z)||isNaN(G))throw Dn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(k,R),this.lineTo(k+z,R),this.lineTo(k+z,R+G),this.lineTo(k,R+G),this.lineTo(k,R),this.lineTo(k+z,R),this.lineTo(k,R)},f.prototype.fillRect=function(k,R,z,G){if(isNaN(k)||isNaN(R)||isNaN(z)||isNaN(G))throw Dn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var Q={};this.lineCap!=="butt"&&(Q.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Q.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(k,R,z,G),this.fill(),Q.hasOwnProperty("lineCap")&&(this.lineCap=Q.lineCap),Q.hasOwnProperty("lineJoin")&&(this.lineJoin=Q.lineJoin)}},f.prototype.strokeRect=function(k,R,z,G){if(isNaN(k)||isNaN(R)||isNaN(z)||isNaN(G))throw Dn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(k,R,z,G),this.stroke())},f.prototype.clearRect=function(k,R,z,G){if(isNaN(k)||isNaN(R)||isNaN(z)||isNaN(G))throw Dn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(k,R,z,G))},f.prototype.save=function(k){k=typeof k!="boolean"||k;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("q");if(this.pdf.setPage(R),k){this.ctx.fontSize=this.pdf.internal.getFontSize();var G=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=G}},f.prototype.restore=function(k){k=typeof k!="boolean"||k;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("Q");this.pdf.setPage(R),k&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(k){var R,z,G,Q;if(k.isCanvasGradient===!0&&(k=k.getColor()),!k)return{r:0,g:0,b:0,a:0,style:k};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(k))R=0,z=0,G=0,Q=0;else{var oe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(k);if(oe!==null)R=parseInt(oe[1]),z=parseInt(oe[2]),G=parseInt(oe[3]),Q=1;else if((oe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(k))!==null)R=parseInt(oe[1]),z=parseInt(oe[2]),G=parseInt(oe[3]),Q=parseFloat(oe[4]);else{if(Q=1,typeof k=="string"&&k.charAt(0)!=="#"){var ce=new yY(k);k=ce.ok?ce.toHex():"#000000"}k.length===4?(R=k.substring(1,2),R+=R,z=k.substring(2,3),z+=z,G=k.substring(3,4),G+=G):(R=k.substring(1,3),z=k.substring(3,5),G=k.substring(5,7)),R=parseInt(R,16),z=parseInt(z,16),G=parseInt(G,16)}}return{r:R,g:z,b:G,a:Q,style:k}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(k,R,z,G){if(isNaN(R)||isNaN(z)||typeof k!="string")throw Dn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(G=isNaN(G)?void 0:G,!p.call(this)){var Q=q(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;N.call(this,{text:k,x:R,y:z,scale:oe,angle:Q,align:this.textAlign,maxWidth:G})}},f.prototype.strokeText=function(k,R,z,G){if(isNaN(R)||isNaN(z)||typeof k!="string")throw Dn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){G=isNaN(G)?void 0:G;var Q=q(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;N.call(this,{text:k,x:R,y:z,scale:oe,renderingMode:"stroke",angle:Q,align:this.textAlign,maxWidth:G})}},f.prototype.measureText=function(k){if(typeof k!="string")throw Dn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var R=this.pdf,z=this.pdf.internal.scaleFactor,G=R.internal.getFontSize(),Q=R.getStringUnitWidth(k)*G/R.internal.scaleFactor,oe=function(ce){var ne=(ce=ce||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ne}}),this};return new oe({width:Q*=Math.round(96*z/72*1e4)/1e4})},f.prototype.scale=function(k,R){if(isNaN(k)||isNaN(R))throw Dn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var z=new l(k,0,0,R,0,0);this.ctx.transform=this.ctx.transform.multiply(z)},f.prototype.rotate=function(k){if(isNaN(k))throw Dn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var R=new l(Math.cos(k),Math.sin(k),-Math.sin(k),Math.cos(k),0,0);this.ctx.transform=this.ctx.transform.multiply(R)},f.prototype.translate=function(k,R){if(isNaN(k)||isNaN(R))throw Dn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var z=new l(1,0,0,1,k,R);this.ctx.transform=this.ctx.transform.multiply(z)},f.prototype.transform=function(k,R,z,G,Q,oe){if(isNaN(k)||isNaN(R)||isNaN(z)||isNaN(G)||isNaN(Q)||isNaN(oe))throw Dn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ce=new l(k,R,z,G,Q,oe);this.ctx.transform=this.ctx.transform.multiply(ce)},f.prototype.setTransform=function(k,R,z,G,Q,oe){k=isNaN(k)?1:k,R=isNaN(R)?0:R,z=isNaN(z)?0:z,G=isNaN(G)?1:G,Q=isNaN(Q)?0:Q,oe=isNaN(oe)?0:oe,this.ctx.transform=new l(k,R,z,G,Q,oe)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(k,R,z,G,Q,oe,ce,ne,he){var ye=this.pdf.getImageProperties(k),W=1,Ce=1,ke=1,Ee=1;G!==void 0&&ne!==void 0&&(ke=ne/G,Ee=he/Q,W=ye.width/G*ne/G,Ce=ye.height/Q*he/Q),oe===void 0&&(oe=R,ce=z,R=0,z=0),G!==void 0&&ne===void 0&&(ne=G,he=Q),G===void 0&&ne===void 0&&(ne=ye.width,he=ye.height);for(var ie,Fe=this.ctx.transform.decompose(),Ye=q(Fe.rotate.shx),Se=new l,$e=(Se=(Se=(Se=Se.multiply(Fe.translate)).multiply(Fe.skew)).multiply(Fe.scale)).applyToRectangle(new o(oe-R*ke,ce-z*Ee,G*W,Q*Ce)),_e=y.call(this,$e),De=[],Ne=0;Ne<_e.length;Ne+=1)De.indexOf(_e[Ne])===-1&&De.push(_e[Ne]);if(w(De),this.autoPaging)for(var qe=De[0],at=De[De.length-1],nt=qe;nt<at+1;nt++){this.pdf.setPage(nt);var ut=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Tt=nt===1?this.posY+this.margin[0]:this.margin[0],kt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_t=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ct=nt===1?0:kt+(nt-2)*_t;if(this.ctx.clip_path.length!==0){var tr=this.path;ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(ie,this.posX+this.margin[3],-ct+Tt+this.ctx.prevPageLastElemOffset),P.call(this,"fill",!0),this.path=tr}var Wt=JSON.parse(JSON.stringify($e));Wt=b([Wt],this.posX+this.margin[3],-ct+Tt+this.ctx.prevPageLastElemOffset)[0];var Hr=(nt>qe||nt<at)&&m.call(this);Hr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ut,_t,null).clip().discardPath()),this.pdf.addImage(k,"JPEG",Wt.x,Wt.y,Wt.w,Wt.h,null,null,Ye),Hr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(k,"JPEG",$e.x,$e.y,$e.w,$e.h,null,null,Ye)};var y=function(k,R,z){var G=[];R=R||this.pdf.internal.pageSize.width,z=z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Q=this.posY+this.ctx.prevPageLastElemOffset;switch(k.type){default:case"mt":case"lt":G.push(Math.floor((k.y+Q)/z)+1);break;case"arc":G.push(Math.floor((k.y+Q-k.radius)/z)+1),G.push(Math.floor((k.y+Q+k.radius)/z)+1);break;case"qct":var oe=V(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x,k.y);G.push(Math.floor((oe.y+Q)/z)+1),G.push(Math.floor((oe.y+oe.h+Q)/z)+1);break;case"bct":var ce=ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x2,k.y2,k.x,k.y);G.push(Math.floor((ce.y+Q)/z)+1),G.push(Math.floor((ce.y+ce.h+Q)/z)+1);break;case"rect":G.push(Math.floor((k.y+Q)/z)+1),G.push(Math.floor((k.y+k.h+Q)/z)+1)}for(var ne=0;ne<G.length;ne+=1)for(;this.pdf.internal.getNumberOfPages()<G[ne];)v.call(this);return G},v=function(){var k=this.fillStyle,R=this.strokeStyle,z=this.font,G=this.lineCap,Q=this.lineWidth,oe=this.lineJoin;this.pdf.addPage(),this.fillStyle=k,this.strokeStyle=R,this.font=z,this.lineCap=G,this.lineWidth=Q,this.lineJoin=oe},b=function(k,R,z){for(var G=0;G<k.length;G++)switch(k[G].type){case"bct":k[G].x2+=R,k[G].y2+=z;case"qct":k[G].x1+=R,k[G].y1+=z;case"mt":case"lt":case"arc":default:k[G].x+=R,k[G].y+=z}return k},w=function(k){return k.sort(function(R,z){return R-z})},D=function(k,R){for(var z,G,Q=this.fillStyle,oe=this.strokeStyle,ce=this.lineCap,ne=this.lineWidth,he=Math.abs(ne*this.ctx.transform.scaleX),ye=this.lineJoin,W=JSON.parse(JSON.stringify(this.path)),Ce=JSON.parse(JSON.stringify(this.path)),ke=[],Ee=0;Ee<Ce.length;Ee++)if(Ce[Ee].x!==void 0)for(var ie=y.call(this,Ce[Ee]),Fe=0;Fe<ie.length;Fe+=1)ke.indexOf(ie[Fe])===-1&&ke.push(ie[Fe]);for(var Ye=0;Ye<ke.length;Ye++)for(;this.pdf.internal.getNumberOfPages()<ke[Ye];)v.call(this);if(w(ke),this.autoPaging)for(var Se=ke[0],$e=ke[ke.length-1],_e=Se;_e<$e+1;_e++){this.pdf.setPage(_e),this.fillStyle=Q,this.strokeStyle=oe,this.lineCap=ce,this.lineWidth=he,this.lineJoin=ye;var De=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ne=_e===1?this.posY+this.margin[0]:this.margin[0],qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],at=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],nt=_e===1?0:qe+(_e-2)*at;if(this.ctx.clip_path.length!==0){var ut=this.path;z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(z,this.posX+this.margin[3],-nt+Ne+this.ctx.prevPageLastElemOffset),P.call(this,k,!0),this.path=ut}if(G=JSON.parse(JSON.stringify(W)),this.path=b(G,this.posX+this.margin[3],-nt+Ne+this.ctx.prevPageLastElemOffset),R===!1||_e===0){var Tt=(_e>Se||_e<$e)&&m.call(this);Tt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],De,at,null).clip().discardPath()),P.call(this,k,R),Tt&&this.pdf.restoreGraphicsState()}this.lineWidth=ne}else this.lineWidth=he,P.call(this,k,R),this.lineWidth=ne;this.path=W},P=function(k,R){if((k!=="stroke"||R||!g.call(this))&&(k==="stroke"||R||!p.call(this))){for(var z,G,Q=[],oe=this.path,ce=0;ce<oe.length;ce++){var ne=oe[ce];switch(ne.type){case"begin":Q.push({begin:!0});break;case"close":Q.push({close:!0});break;case"mt":Q.push({start:ne,deltas:[],abs:[]});break;case"lt":var he=Q.length;if(oe[ce-1]&&!isNaN(oe[ce-1].x)&&(z=[ne.x-oe[ce-1].x,ne.y-oe[ce-1].y],he>0)){for(;he>=0;he--)if(Q[he-1].close!==!0&&Q[he-1].begin!==!0){Q[he-1].deltas.push(z),Q[he-1].abs.push(ne);break}}break;case"bct":z=[ne.x1-oe[ce-1].x,ne.y1-oe[ce-1].y,ne.x2-oe[ce-1].x,ne.y2-oe[ce-1].y,ne.x-oe[ce-1].x,ne.y-oe[ce-1].y],Q[Q.length-1].deltas.push(z);break;case"qct":var ye=oe[ce-1].x+2/3*(ne.x1-oe[ce-1].x),W=oe[ce-1].y+2/3*(ne.y1-oe[ce-1].y),Ce=ne.x+2/3*(ne.x1-ne.x),ke=ne.y+2/3*(ne.y1-ne.y),Ee=ne.x,ie=ne.y;z=[ye-oe[ce-1].x,W-oe[ce-1].y,Ce-oe[ce-1].x,ke-oe[ce-1].y,Ee-oe[ce-1].x,ie-oe[ce-1].y],Q[Q.length-1].deltas.push(z);break;case"arc":Q.push({deltas:[],abs:[],arc:!0}),Array.isArray(Q[Q.length-1].abs)&&Q[Q.length-1].abs.push(ne)}}G=R?null:k==="stroke"?"stroke":"fill";for(var Fe=!1,Ye=0;Ye<Q.length;Ye++)if(Q[Ye].arc)for(var Se=Q[Ye].abs,$e=0;$e<Se.length;$e++){var _e=Se[$e];_e.type==="arc"?_.call(this,_e.x,_e.y,_e.radius,_e.startAngle,_e.endAngle,_e.counterclockwise,void 0,R,!Fe):O.call(this,_e.x,_e.y),Fe=!0}else if(Q[Ye].close===!0)this.pdf.internal.out("h"),Fe=!1;else if(Q[Ye].begin!==!0){var De=Q[Ye].start.x,Ne=Q[Ye].start.y;U.call(this,Q[Ye].deltas,De,Ne),Fe=!0}G&&S.call(this,G),R&&I.call(this)}},j=function(k){var R=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,z=R*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return k-z;case"top":return k+R-z;case"hanging":return k+R-2*z;case"middle":return k+R/2-z;case"ideographic":return k;case"alphabetic":default:return k}},E=function(k){return k+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var k=function(){};return k.colorStops=[],k.addColorStop=function(R,z){this.colorStops.push([R,z])},k.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},k.isCanvasGradient=!0,k},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var _=function(k,R,z,G,Q,oe,ce,ne,he){for(var ye=K.call(this,z,G,Q,oe),W=0;W<ye.length;W++){var Ce=ye[W];W===0&&(he?T.call(this,Ce.x1+k,Ce.y1+R):O.call(this,Ce.x1+k,Ce.y1+R)),Y.call(this,k,R,Ce.x2,Ce.y2,Ce.x3,Ce.y3,Ce.x4,Ce.y4)}ne?I.call(this):S.call(this,ce)},S=function(k){switch(k){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},I=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(k,R){this.pdf.internal.out(r(k)+" "+n(R)+" m")},N=function(k){var R;switch(k.align){case"right":case"end":R="right";break;case"center":R="center";break;case"left":case"start":default:R="left"}var z=this.pdf.getTextDimensions(k.text),G=j.call(this,k.y),Q=E.call(this,G)-z.h,oe=this.ctx.transform.applyToPoint(new s(k.x,G)),ce=this.ctx.transform.decompose(),ne=new l;ne=(ne=(ne=ne.multiply(ce.translate)).multiply(ce.skew)).multiply(ce.scale);for(var he,ye,W,Ce=this.ctx.transform.applyToRectangle(new o(k.x,G,z.w,z.h)),ke=ne.applyToRectangle(new o(k.x,Q,z.w,z.h)),Ee=y.call(this,ke),ie=[],Fe=0;Fe<Ee.length;Fe+=1)ie.indexOf(Ee[Fe])===-1&&ie.push(Ee[Fe]);if(w(ie),this.autoPaging)for(var Ye=ie[0],Se=ie[ie.length-1],$e=Ye;$e<Se+1;$e++){this.pdf.setPage($e);var _e=$e===1?this.posY+this.margin[0]:this.margin[0],De=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ne=this.pdf.internal.pageSize.height-this.margin[2],qe=Ne-this.margin[0],at=this.pdf.internal.pageSize.width-this.margin[1],nt=at-this.margin[3],ut=$e===1?0:De+($e-2)*qe;if(this.ctx.clip_path.length!==0){var Tt=this.path;he=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(he,this.posX+this.margin[3],-1*ut+_e),P.call(this,"fill",!0),this.path=Tt}var kt=b([JSON.parse(JSON.stringify(ke))],this.posX+this.margin[3],-ut+_e+this.ctx.prevPageLastElemOffset)[0];k.scale>=.01&&(ye=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ye*k.scale),W=this.lineWidth,this.lineWidth=W*k.scale);var _t=this.autoPaging!=="text";if(_t||kt.y+kt.h<=Ne){if(_t||kt.y>=_e&&kt.x<=at){var ct=_t?k.text:this.pdf.splitTextToSize(k.text,k.maxWidth||at-kt.x)[0],tr=b([JSON.parse(JSON.stringify(Ce))],this.posX+this.margin[3],-ut+_e+this.ctx.prevPageLastElemOffset)[0],Wt=_t&&($e>Ye||$e<Se)&&m.call(this);Wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],nt,qe,null).clip().discardPath()),this.pdf.text(ct,tr.x,tr.y,{angle:k.angle,align:R,renderingMode:k.renderingMode}),Wt&&this.pdf.restoreGraphicsState()}}else kt.y<Ne&&(this.ctx.prevPageLastElemOffset+=Ne-kt.y);k.scale>=.01&&(this.pdf.setFontSize(ye),this.lineWidth=W)}else k.scale>=.01&&(ye=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ye*k.scale),W=this.lineWidth,this.lineWidth=W*k.scale),this.pdf.text(k.text,oe.x+this.posX,oe.y+this.posY,{angle:k.angle,align:R,renderingMode:k.renderingMode,maxWidth:k.maxWidth}),k.scale>=.01&&(this.pdf.setFontSize(ye),this.lineWidth=W)},O=function(k,R,z,G){z=z||0,G=G||0,this.pdf.internal.out(r(k+z)+" "+n(R+G)+" l")},U=function(k,R,z){return this.pdf.lines(k,R,z,null,null)},Y=function(k,R,z,G,Q,oe,ce,ne){this.pdf.internal.out([t(a(z+k)),t(i(G+R)),t(a(Q+k)),t(i(oe+R)),t(a(ce+k)),t(i(ne+R)),"c"].join(" "))},K=function(k,R,z,G){for(var Q=2*Math.PI,oe=Math.PI/2;R>z;)R-=Q;var ce=Math.abs(z-R);ce<Q&&G&&(ce=Q-ce);for(var ne=[],he=G?-1:1,ye=R;ce>1e-5;){var W=ye+he*Math.min(ce,oe);ne.push(J.call(this,k,ye,W)),ce-=Math.abs(W-ye),ye=W}return ne},J=function(k,R,z){var G=(z-R)/2,Q=k*Math.cos(G),oe=k*Math.sin(G),ce=Q,ne=-oe,he=ce*ce+ne*ne,ye=he+ce*Q+ne*oe,W=4/3*(Math.sqrt(2*he*ye)-ye)/(ce*oe-ne*Q),Ce=ce-W*ne,ke=ne+W*ce,Ee=Ce,ie=-ke,Fe=G+R,Ye=Math.cos(Fe),Se=Math.sin(Fe);return{x1:k*Math.cos(R),y1:k*Math.sin(R),x2:Ce*Ye-ke*Se,y2:Ce*Se+ke*Ye,x3:Ee*Ye-ie*Se,y3:Ee*Se+ie*Ye,x4:k*Math.cos(z),y4:k*Math.sin(z)}},q=function(k){return 180*k/Math.PI},V=function(k,R,z,G,Q,oe){var ce=k+.5*(z-k),ne=R+.5*(G-R),he=Q+.5*(z-Q),ye=oe+.5*(G-oe),W=Math.min(k,Q,ce,he),Ce=Math.max(k,Q,ce,he),ke=Math.min(R,oe,ne,ye),Ee=Math.max(R,oe,ne,ye);return new o(W,ke,Ce-W,Ee-ke)},ee=function(k,R,z,G,Q,oe,ce,ne){var he,ye,W,Ce,ke,Ee,ie,Fe,Ye,Se,$e,_e,De,Ne,qe=z-k,at=G-R,nt=Q-z,ut=oe-G,Tt=ce-Q,kt=ne-oe;for(ye=0;ye<41;ye++)Ye=(ie=(W=k+(he=ye/40)*qe)+he*((ke=z+he*nt)-W))+he*(ke+he*(Q+he*Tt-ke)-ie),Se=(Fe=(Ce=R+he*at)+he*((Ee=G+he*ut)-Ce))+he*(Ee+he*(oe+he*kt-Ee)-Fe),ye==0?($e=Ye,_e=Se,De=Ye,Ne=Se):($e=Math.min($e,Ye),_e=Math.min(_e,Se),De=Math.max(De,Ye),Ne=Math.max(Ne,Se));return new o(Math.round($e),Math.round(_e),Math.round(De-$e),Math.round(Ne-_e))},Z=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var k,R,z=(k=this.ctx.lineDash,R=this.ctx.lineDashOffset,JSON.stringify({lineDash:k,lineDashOffset:R}));this.prevLineDash!==z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=z)}}})(gr.API),function(e){var t=function(i){var s,o,l,c,u,f,h,p,g,m;for(o=[],l=0,c=(i+=s="\0\0\0\0".slice(i.length%4||4)).length;c>l;l+=4)(u=(i.charCodeAt(l)<<24)+(i.charCodeAt(l+1)<<16)+(i.charCodeAt(l+2)<<8)+i.charCodeAt(l+3))!==0?(f=(u=((u=((u=((u=(u-(m=u%85))/85)-(g=u%85))/85)-(p=u%85))/85)-(h=u%85))/85)%85,o.push(f+33,h+33,p+33,g+33,m+33)):o.push(122);return function(y,v){for(var b=v;b>0;b--)y.pop()}(o,s.length),String.fromCharCode.apply(String,o)+"~>"},r=function(i){var s,o,l,c,u,f=String,h="length",p=255,g="charCodeAt",m="slice",y="replace";for(i[m](-2),i=i[m](0,-2)[y](/\s/g,"")[y]("z","!!!!!"),l=[],c=0,u=(i+=s="uuuuu"[m](i[h]%5||5))[h];u>c;c+=5)o=52200625*(i[g](c)-33)+614125*(i[g](c+1)-33)+7225*(i[g](c+2)-33)+85*(i[g](c+3)-33)+(i[g](c+4)-33),l.push(p&o>>24,p&o>>16,p&o>>8,p&o);return function(v,b){for(var w=b;w>0;w--)v.pop()}(l,s[h]),f.fromCharCode.apply(f,l)},n=function(i){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),s.test(i)===!1)return"";for(var o="",l=0;l<i.length;l+=2)o+=String.fromCharCode("0x"+(i[l]+i[l+1]));return o},a=function(i){for(var s=new Uint8Array(i.length),o=i.length;o--;)s[o]=i.charCodeAt(o);return i=(s=S3(s)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};e.processDataByFilters=function(i,s){var o=0,l=i||"",c=[];for(typeof(s=s||[])=="string"&&(s=[s]),o=0;o<s.length;o+=1)switch(s[o]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=a(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[o]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(gr.API),function(e){e.loadFile=function(t,r,n){return function(a,i,s){i=i!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(l,c,u){var f=new XMLHttpRequest,h=0,p=function(g){var m=g.length,y=[],v=String.fromCharCode;for(h=0;h<m;h+=1)y.push(v(255&g.charCodeAt(h)));return y.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?u(p(this.responseText)):u(void 0)}),f.send(null),c&&f.status===200)return p(f.responseText)}(a,i,s)}catch{}return o}(t,r,n)},e.loadImageFile=e.loadFile}(gr.API),function(e){function t(){return(vr.html2canvas?Promise.resolve(vr.html2canvas):y3(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function r(){return(vr.DOMPurify?Promise.resolve(vr.DOMPurify):y3(()=>import("./purify.es-BFmuJLeH.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var n=function(s){var o=vn(s);return o==="undefined"?"undefined":o==="string"||s instanceof String?"string":o==="number"||s instanceof Number?"number":o==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":o==="object"?"object":"unknown"},a=function(s,o){var l=document.createElement(s);for(var c in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[c]=o.style[c];return l},i=function s(o){var l=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),c=s.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,s,1,[s])).set(o)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(s,o){return s.__proto__=o||i.prototype,s},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(s,o){return this.then(function(){switch(o=o||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(r).then(function(l){return this.set({src:a("div",{innerHTML:s,dompurify:l})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},i.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(c,u){for(var f=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),h=c.firstChild;h;h=h.nextSibling)u!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(l(h,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(f.width=c.width,f.height=c.height,f.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(f.value=c.value),f.addEventListener("load",function(){f.scrollTop=c.scrollTop,f.scrollLeft=c.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(o){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var h=0;h<c.length;++h){var p=c[h],g=p.src.find(function(m){return m.format==="truetype"});g&&l.addFont(g.url,p.ref.name,p.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),o(this.prop.container,f)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(s,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(s,o):this.outputPdf(s,o)},i.prototype.outputPdf=function(s,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,o)})},i.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},i.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(s){if(n(s)!=="object")return this;var o=Object.keys(s||{}).map(function(l){if(l in i.template.prop)return function(){this.prop[l]=s[l]};switch(l){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[l]=s[l]}}},this);return this.then(function(){return this.thenList(o)})},i.prototype.get=function(s,o){return this.then(function(){var l=s in i.template.prop?this.prop[s]:this.opt[s];return o?o(l):l})},i.prototype.setMargin=function(s){return this.then(function(){switch(n(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},i.prototype.setPageSize=function(s){function o(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(s=s||gr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:o(s.inner.width,s.k),height:o(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},i.prototype.setProgress=function(s,o,l,c){return s!=null&&(this.progress.val=s),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(s,o,l,c){return this.setProgress(s?this.progress.val+s:null,o||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},i.prototype.then=function(s,o){var l=this;return this.thenCore(s,o,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,c),f}).then(c,u).then(function(f){return l.updateProgress(1),f})})},i.prototype.thenCore=function(s,o,l){l=l||Promise.prototype.then,s&&(s=s.bind(this)),o&&(o=o.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),u=l.call(c,s,o);return i.convert(u,this.__proto__)},i.prototype.thenExternal=function(s,o){return Promise.prototype.then.call(this,s,o)},i.prototype.thenList=function(s){var o=this;return s.forEach(function(l){o=o.thenCore(l)}),o},i.prototype.catch=function(s){s&&(s=s.bind(this));var o=Promise.prototype.catch.call(this,s);return i.convert(o,this)},i.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},i.prototype.error=function(s){return this.then(function(){throw new Error(s)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,gr.getPageSize=function(s,o,l){if(vn(s)==="object"){var c=s;s=c.orientation,o=c.unit||o,l=c.format||l}o=o||"mm",l=l||"a4",s=(""+(s||"P")).toLowerCase();var u,f=(""+l).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+o}var p,g=0,m=0;if(h.hasOwnProperty(f))g=h[f][1]/u,m=h[f][0]/u;else try{g=l[1],m=l[0]}catch{throw new Error("Invalid format: "+l)}if(s==="p"||s==="portrait")s="p",m>g&&(p=m,m=g,g=p);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",g>m&&(p=m,m=g,g=p)}return{width:m,height:g,unit:o,k:u,orientation:s}},e.html=function(s,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(C3):null;var l=new i(o);return o.worker?l:l.from(s).doCallback()}}(gr.API),gr.API.addJS=function(e){return n7=e,this.internal.events.subscribe("postPutResources",function(){Jx=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Jx+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),r7=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+n7+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Jx!==void 0&&r7!==void 0&&this.internal.out("/Names <</JavaScript "+Jx+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var s=a[i],o=n.exec(s);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(i=0;i<c;i++){var f=r.internal.newObject();u.push(f);var h=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<u.length;i++)r.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var s={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var s=n.children[i];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var l=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(gr.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,s,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=function(f){for(var h,p=256*f.charCodeAt(4)+f.charCodeAt(5),g=f.length,m={width:0,height:0,numcomponents:1},y=4;y<g;y+=2){if(y+=p,t.indexOf(f.charCodeAt(y+1))!==-1){h=256*f.charCodeAt(y+5)+f.charCodeAt(y+6),m={width:256*f.charCodeAt(y+7)+f.charCodeAt(y+8),height:h,numcomponents:f.charCodeAt(y+9)};break}p=256*f.charCodeAt(y+2)+f.charCodeAt(y+3)}return m}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:n,alias:a}}return u}}(gr.API);var u0,Zx,a7,i7,s7,eUe=function(){var e,t,r;function n(i){var s,o,l,c,u,f,h,p,g,m,y,v,b,w;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(s=this.readUInt32(),g=(function(){var D,P;for(P=[],D=0;D<4;++D)P.push(String.fromCharCode(this.data[this.pos++]));return P}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,f.delay=1e3*u/c,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(g==="fdAT"&&(this.pos+=4,s-=4),i=(f!=null?f.data:void 0)||this.imgData,v=0;0<=s?v<s:v>s;0<=s?++v:--v)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((m=l-this.transparency.indexed.length)>0)for(b=0;0<=m?b<m:b>m;0<=m?++b:--b)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":h=(y=this.read(s)).indexOf(0),p=String.fromCharCode.apply(String,y.slice(0,h)),this.text[p]=String.fromCharCode.apply(String,y.slice(h+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(w=this.colorType)===4||w===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var s,o;for(o=[],s=0;0<=i?s<i:s>i;0<=i?++s:--s)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var s=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*s),l=0,c=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function u(f,h,p,g){var m,y,v,b,w,D,P,j,E,_,S,I,T,N,O,U,Y,K,J,q,V,ee=Math.ceil((c.width-f)/p),Z=Math.ceil((c.height-h)/g),k=c.width==ee&&c.height==Z;for(N=s*ee,I=k?o:new Uint8Array(N*Z),D=i.length,T=0,y=0;T<Z&&l<D;){switch(i[l++]){case 0:for(b=Y=0;Y<N;b=Y+=1)I[y++]=i[l++];break;case 1:for(b=K=0;K<N;b=K+=1)m=i[l++],w=b<s?0:I[y-s],I[y++]=(m+w)%256;break;case 2:for(b=J=0;J<N;b=J+=1)m=i[l++],v=(b-b%s)/s,O=T&&I[(T-1)*N+v*s+b%s],I[y++]=(O+m)%256;break;case 3:for(b=q=0;q<N;b=q+=1)m=i[l++],v=(b-b%s)/s,w=b<s?0:I[y-s],O=T&&I[(T-1)*N+v*s+b%s],I[y++]=(m+Math.floor((w+O)/2))%256;break;case 4:for(b=V=0;V<N;b=V+=1)m=i[l++],v=(b-b%s)/s,w=b<s?0:I[y-s],T===0?O=U=0:(O=I[(T-1)*N+v*s+b%s],U=v&&I[(T-1)*N+(v-1)*s+b%s]),P=w+O-U,j=Math.abs(P-w),_=Math.abs(P-O),S=Math.abs(P-U),E=j<=_&&j<=S?w:_<=S?O:U,I[y++]=(m+E)%256;break;default:throw new Error("Invalid filter algorithm: "+i[l-1])}if(!k){var R=((h+T*g)*c.width+f)*s,z=T*N;for(b=0;b<ee;b+=1){for(var G=0;G<s;G+=1)o[R++]=I[z++];R+=(p-1)*s}}T++}}return i=IBe(i),c.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),o},n.prototype.decodePalette=function(){var i,s,o,l,c,u,f,h,p;for(o=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+o.length),l=0,i=0,s=f=0,h=o.length;f<h;s=f+=3)c[l++]=o[s],c[l++]=o[s+1],c[l++]=o[s+2],c[l++]=(p=u[i++])!=null?p:255;return c},n.prototype.copyToImageData=function(i,s){var o,l,c,u,f,h,p,g,m,y,v;if(l=this.colors,m=null,o=this.hasAlphaChannel,this.palette.length&&(m=(v=this._decodedPalette)!=null?v:this._decodedPalette=this.decodePalette(),l=4,o=!0),g=(c=i.data||i).length,f=m||s,u=h=0,l===1)for(;u<g;)p=m?4*s[u/4]:h,y=f[p++],c[u++]=y,c[u++]=y,c[u++]=y,c[u++]=o?f[p++]:255,h=p;else for(;u<g;)p=m?4*s[u/4]:h,c[u++]=f[p++],c[u++]=f[p++],c[u++]=f[p++],c[u++]=o?f[p++]:255,h=p},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(vr)==="[object Window]"){try{t=vr.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(i){var s;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(s=new Image).src=t.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var s,o,l,c,u,f,h,p;if(this.animation){for(p=[],o=u=0,f=(h=this.animation.frames).length;u<f;o=++u)s=h[o],l=i.createImageData(s.width,s.height),c=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(l,c),s.imageData=l,p.push(s.image=e(l));return p}},n.prototype.renderFrame=function(i,s){var o,l,c;return o=(l=this.animation.frames)[s],c=l[s-1],s===0&&i.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?i.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&i.putImageData(c.imageData,c.xOffset,c.yOffset),o.blendOp===0&&i.clearRect(o.xOffset,o.yOffset,o.width,o.height),i.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(i){var s,o,l,c,u,f,h=this;return o=0,f=this.animation,c=f.numFrames,l=f.frames,u=f.numPlays,(s=function(){var p,g;if(p=o++%c,g=l[p],h.renderFrame(i,p),c>1&&o/c<u)return h.animation._timeout=setTimeout(s,g.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var s,o;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,s=i.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(o=s.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),s.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function tUe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,s=1<<(7&a)+1;e[t++],e[t++];var o=null,l=null;i&&(o=t,l=s,t+=3*s);var c=!0,u=[],f=0,h=null,p=0,g=null;for(this.width=r,this.height=n;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,g=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var m=e[t++];f=e[t++]|e[t++]<<8,h=e[t++],!(1&m)&&(h=null),p=m>>2&7,t++;break;case 254:for(;;){if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var y=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,D=e[t++],P=D>>6&1,j=1<<(7&D)+1,E=o,_=l,S=!1;D>>7&&(S=!0,E=t,_=j,t+=3*j);var I=t;for(t++;;){var T;if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}u.push({x:y,y:v,width:b,height:w,has_local_palette:S,palette_offset:E,palette_size:_,data_offset:I,data_length:t-I,transparent_index:h,interlaced:!!P,delay:f,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return g},this.frameInfo=function(N){if(N<0||N>=u.length)throw new Error("Frame index out of range.");return u[N]},this.decodeAndBlitFrameBGRA=function(N,O){var U=this.frameInfo(N),Y=U.width*U.height,K=new Uint8Array(Y);o7(e,U.data_offset,K,Y);var J=U.palette_offset,q=U.transparent_index;q===null&&(q=256);var V=U.width,ee=r-V,Z=V,k=4*(U.y*r+U.x),R=4*((U.y+U.height)*r+U.x),z=k,G=4*ee;U.interlaced===!0&&(G+=4*r*7);for(var Q=8,oe=0,ce=K.length;oe<ce;++oe){var ne=K[oe];if(Z===0&&(Z=V,(z+=G)>=R&&(G=4*ee+4*r*(Q-1),z=k+(V+ee)*(Q<<1),Q>>=1)),ne===q)z+=4;else{var he=e[J+3*ne],ye=e[J+3*ne+1],W=e[J+3*ne+2];O[z++]=W,O[z++]=ye,O[z++]=he,O[z++]=255}--Z}},this.decodeAndBlitFrameRGBA=function(N,O){var U=this.frameInfo(N),Y=U.width*U.height,K=new Uint8Array(Y);o7(e,U.data_offset,K,Y);var J=U.palette_offset,q=U.transparent_index;q===null&&(q=256);var V=U.width,ee=r-V,Z=V,k=4*(U.y*r+U.x),R=4*((U.y+U.height)*r+U.x),z=k,G=4*ee;U.interlaced===!0&&(G+=4*r*7);for(var Q=8,oe=0,ce=K.length;oe<ce;++oe){var ne=K[oe];if(Z===0&&(Z=V,(z+=G)>=R&&(G=4*ee+4*r*(Q-1),z=k+(V+ee)*(Q<<1),Q>>=1)),ne===q)z+=4;else{var he=e[J+3*ne],ye=e[J+3*ne+1],W=e[J+3*ne+2];O[z++]=he,O[z++]=ye,O[z++]=W,O[z++]=255}--Z}}}function o7(e,t,r,n){for(var a=e[t++],i=1<<a,s=i+1,o=s+1,l=a+1,c=(1<<l)-1,u=0,f=0,h=0,p=e[t++],g=new Int32Array(4096),m=null;;){for(;u<16&&p!==0;)f|=e[t++]<<u,u+=8,p===1?p=e[t++]:--p;if(u<l)break;var y=f&c;if(f>>=l,u-=l,y!==i){if(y===s)break;for(var v=y<o?y:m,b=0,w=v;w>i;)w=g[w]>>8,++b;var D=w;if(h+b+(v!==y?1:0)>n)return void Dn.log("Warning, gif stream longer than expected.");r[h++]=D;var P=h+=b;for(v!==y&&(r[h++]=D),w=v;b--;)w=g[w],r[--P]=255&w,w>>=8;m!==null&&o<4096&&(g[o++]=m<<8|D,o>=c+1&&l<12&&(++l,c=c<<1|1)),m=y}else o=s+1,c=(1<<(l=a+1))-1,m=null}return h!==n&&Dn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function VA(e){var t,r,n,a,i,s=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),f=new Array(65535),h=new Array(65535),p=new Array(64),g=new Array(64),m=[],y=0,v=7,b=new Array(64),w=new Array(64),D=new Array(64),P=new Array(256),j=new Array(2048),E=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],_=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],S=[0,1,2,3,4,5,6,7,8,9,10,11],I=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],N=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Y=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function K(k,R){for(var z=0,G=0,Q=new Array,oe=1;oe<=16;oe++){for(var ce=1;ce<=k[oe];ce++)Q[R[G]]=[],Q[R[G]][0]=z,Q[R[G]][1]=oe,G++,z++;z*=2}return Q}function J(k){for(var R=k[0],z=k[1]-1;z>=0;)R&1<<z&&(y|=1<<v),z--,--v<0&&(y==255?(q(255),q(0)):q(y),v=7,y=0)}function q(k){m.push(k)}function V(k){q(k>>8&255),q(255&k)}function ee(k,R,z,G,Q){for(var oe,ce=Q[0],ne=Q[240],he=function(Se,$e){var _e,De,Ne,qe,at,nt,ut,Tt,kt,_t,ct=0;for(kt=0;kt<8;++kt){_e=Se[ct],De=Se[ct+1],Ne=Se[ct+2],qe=Se[ct+3],at=Se[ct+4],nt=Se[ct+5],ut=Se[ct+6];var tr=_e+(Tt=Se[ct+7]),Wt=_e-Tt,Hr=De+ut,lr=De-ut,qr=Ne+nt,Ie=Ne-nt,Me=qe+at,Ke=qe-at,ht=tr+Me,Dt=tr-Me,Ht=Hr+qr,Mt=Hr-qr;Se[ct]=ht+Ht,Se[ct+4]=ht-Ht;var Ot=.707106781*(Mt+Dt);Se[ct+2]=Dt+Ot,Se[ct+6]=Dt-Ot;var Zt=.382683433*((ht=Ke+Ie)-(Mt=lr+Wt)),br=.5411961*ht+Zt,wr=1.306562965*Mt+Zt,Te=.707106781*(Ht=Ie+lr),st=Wt+Te,He=Wt-Te;Se[ct+5]=He+br,Se[ct+3]=He-br,Se[ct+1]=st+wr,Se[ct+7]=st-wr,ct+=8}for(ct=0,kt=0;kt<8;++kt){_e=Se[ct],De=Se[ct+8],Ne=Se[ct+16],qe=Se[ct+24],at=Se[ct+32],nt=Se[ct+40],ut=Se[ct+48];var er=_e+(Tt=Se[ct+56]),sr=_e-Tt,Lr=De+ut,_r=De-ut,Ur=Ne+nt,ae=Ne-nt,be=qe+at,me=qe-at,ge=er+be,xe=er-be,we=Lr+Ur,Ge=Lr-Ur;Se[ct]=ge+we,Se[ct+32]=ge-we;var rt=.707106781*(Ge+xe);Se[ct+16]=xe+rt,Se[ct+48]=xe-rt;var We=.382683433*((ge=me+ae)-(Ge=_r+sr)),Qe=.5411961*ge+We,Je=1.306562965*Ge+We,St=.707106781*(we=ae+_r),jt=sr+St,Bt=sr-St;Se[ct+40]=Bt+Qe,Se[ct+24]=Bt-Qe,Se[ct+8]=jt+Je,Se[ct+56]=jt-Je,ct++}for(kt=0;kt<64;++kt)_t=Se[kt]*$e[kt],p[kt]=_t>0?_t+.5|0:_t-.5|0;return p}(k,R),ye=0;ye<64;++ye)g[E[ye]]=he[ye];var W=g[0]-z;z=g[0],W==0?J(G[0]):(J(G[h[oe=32767+W]]),J(f[oe]));for(var Ce=63;Ce>0&&g[Ce]==0;)Ce--;if(Ce==0)return J(ce),z;for(var ke,Ee=1;Ee<=Ce;){for(var ie=Ee;g[Ee]==0&&Ee<=Ce;)++Ee;var Fe=Ee-ie;if(Fe>=16){ke=Fe>>4;for(var Ye=1;Ye<=ke;++Ye)J(ne);Fe&=15}oe=32767+g[Ee],J(Q[(Fe<<4)+h[oe]]),J(f[oe]),Ee++}return Ce!=63&&J(ce),z}function Z(k){k=Math.min(Math.max(k,1),100),i!=k&&(function(R){for(var z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],G=0;G<64;G++){var Q=s((z[G]*R+50)/100);Q=Math.min(Math.max(Q,1),255),o[E[G]]=Q}for(var oe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ce=0;ce<64;ce++){var ne=s((oe[ce]*R+50)/100);ne=Math.min(Math.max(ne,1),255),l[E[ce]]=ne}for(var he=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ye=0,W=0;W<8;W++)for(var Ce=0;Ce<8;Ce++)c[ye]=1/(o[E[ye]]*he[W]*he[Ce]*8),u[ye]=1/(l[E[ye]]*he[W]*he[Ce]*8),ye++}(k<50?Math.floor(5e3/k):Math.floor(200-2*k)),i=k)}this.encode=function(k,R){R&&Z(R),m=new Array,y=0,v=7,V(65496),V(65504),V(16),q(74),q(70),q(73),q(70),q(0),q(1),q(1),q(0),V(1),V(1),q(0),q(0),function(){V(65499),V(132),q(0);for(var De=0;De<64;De++)q(o[De]);q(1);for(var Ne=0;Ne<64;Ne++)q(l[Ne])}(),function(De,Ne){V(65472),V(17),q(8),V(Ne),V(De),q(3),q(1),q(17),q(0),q(2),q(17),q(1),q(3),q(17),q(1)}(k.width,k.height),function(){V(65476),V(418),q(0);for(var De=0;De<16;De++)q(_[De+1]);for(var Ne=0;Ne<=11;Ne++)q(S[Ne]);q(16);for(var qe=0;qe<16;qe++)q(I[qe+1]);for(var at=0;at<=161;at++)q(T[at]);q(1);for(var nt=0;nt<16;nt++)q(N[nt+1]);for(var ut=0;ut<=11;ut++)q(O[ut]);q(17);for(var Tt=0;Tt<16;Tt++)q(U[Tt+1]);for(var kt=0;kt<=161;kt++)q(Y[kt])}(),V(65498),V(12),q(3),q(1),q(0),q(2),q(17),q(3),q(17),q(0),q(63),q(0);var z=0,G=0,Q=0;y=0,v=7,this.encode.displayName="_encode_";for(var oe,ce,ne,he,ye,W,Ce,ke,Ee,ie=k.data,Fe=k.width,Ye=k.height,Se=4*Fe,$e=0;$e<Ye;){for(oe=0;oe<Se;){for(ye=Se*$e+oe,Ce=-1,ke=0,Ee=0;Ee<64;Ee++)W=ye+(ke=Ee>>3)*Se+(Ce=4*(7&Ee)),$e+ke>=Ye&&(W-=Se*($e+1+ke-Ye)),oe+Ce>=Se&&(W-=oe+Ce-Se+4),ce=ie[W++],ne=ie[W++],he=ie[W++],b[Ee]=(j[ce]+j[ne+256>>0]+j[he+512>>0]>>16)-128,w[Ee]=(j[ce+768>>0]+j[ne+1024>>0]+j[he+1280>>0]>>16)-128,D[Ee]=(j[ce+1280>>0]+j[ne+1536>>0]+j[he+1792>>0]>>16)-128;z=ee(b,c,z,t,n),G=ee(w,u,G,r,a),Q=ee(D,u,Q,r,a),oe+=32}$e+=8}if(v>=0){var _e=[];_e[1]=v+1,_e[0]=(1<<v+1)-1,J(_e)}return V(65497),new Uint8Array(m)},e=e||50,function(){for(var k=String.fromCharCode,R=0;R<256;R++)P[R]=k(R)}(),t=K(_,S),r=K(N,O),n=K(I,T),a=K(U,Y),function(){for(var k=1,R=2,z=1;z<=15;z++){for(var G=k;G<R;G++)h[32767+G]=z,f[32767+G]=[],f[32767+G][1]=z,f[32767+G][0]=G;for(var Q=-(R-1);Q<=-k;Q++)h[32767+Q]=z,f[32767+Q]=[],f[32767+Q][1]=z,f[32767+Q][0]=R-1+Q;k<<=1,R<<=1}}(),function(){for(var k=0;k<256;k++)j[k]=19595*k,j[k+256>>0]=38470*k,j[k+512>>0]=7471*k+32768,j[k+768>>0]=-11059*k,j[k+1024>>0]=-21709*k,j[k+1280>>0]=32768*k+8421375,j[k+1536>>0]=-27439*k,j[k+1792>>0]=-5329*k}(),Z(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function al(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function l7(e){function t(_){if(!_)throw Error("assert :P")}function r(_,S,I){for(var T=0;4>T;T++)if(_[S+T]!=I.charCodeAt(T))return!0;return!1}function n(_,S,I,T,N){for(var O=0;O<N;O++)_[S+O]=I[T+O]}function a(_,S,I,T){for(var N=0;N<T;N++)_[S+N]=I}function i(_){return new Int32Array(_)}function s(_,S){for(var I=[],T=0;T<_;T++)I.push(new S);return I}function o(_,S){var I=[];return function T(N,O,U){for(var Y=U[O],K=0;K<Y&&(N.push(U.length>O+1?[]:new S),!(U.length<O+1));K++)T(N[K],O+1,U)}(I,0,_),I}var l=function(){var _=this;function S(x,C){for(var M=1<<C-1>>>0;x&M;)M>>>=1;return M?(x&M-1)+M:x}function I(x,C,M,H,re){t(!(H%M));do x[C+(H-=M)]=re;while(0<H)}function T(x,C,M,H,re){if(t(2328>=re),512>=re)var se=i(512);else if((se=i(re))==null)return 0;return function(le,fe,pe,ve,je,Ze){var et,ze,xt=fe,ot=1<<pe,Le=i(16),Be=i(16);for(t(je!=0),t(ve!=null),t(le!=null),t(0<pe),ze=0;ze<je;++ze){if(15<ve[ze])return 0;++Le[ve[ze]]}if(Le[0]==je)return 0;for(Be[1]=0,et=1;15>et;++et){if(Le[et]>1<<et)return 0;Be[et+1]=Be[et]+Le[et]}for(ze=0;ze<je;++ze)et=ve[ze],0<ve[ze]&&(Ze[Be[et]++]=ze);if(Be[15]==1)return(ve=new N).g=0,ve.value=Ze[0],I(le,xt,1,ot,ve),ot;var pt,At=-1,vt=ot-1,Yt=0,Ut=1,hr=1,qt=1<<pe;for(ze=0,et=1,je=2;et<=pe;++et,je<<=1){if(Ut+=hr<<=1,0>(hr-=Le[et]))return 0;for(;0<Le[et];--Le[et])(ve=new N).g=et,ve.value=Ze[ze++],I(le,xt+Yt,je,qt,ve),Yt=S(Yt,et)}for(et=pe+1,je=2;15>=et;++et,je<<=1){if(Ut+=hr<<=1,0>(hr-=Le[et]))return 0;for(;0<Le[et];--Le[et]){if(ve=new N,(Yt&vt)!=At){for(xt+=qt,pt=1<<(At=et)-pe;15>At&&!(0>=(pt-=Le[At]));)++At,pt<<=1;ot+=qt=1<<(pt=At-pe),le[fe+(At=Yt&vt)].g=pt+pe,le[fe+At].value=xt-fe-At}ve.g=et-pe,ve.value=Ze[ze++],I(le,xt+(Yt>>pe),je,qt,ve),Yt=S(Yt,et)}}return Ut!=2*Be[15]-1?0:ot}(x,C,M,H,re,se)}function N(){this.value=this.g=0}function O(){this.value=this.g=0}function U(){this.G=s(5,N),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(ui,O)}function Y(x,C,M,H){t(x!=null),t(C!=null),t(2147483648>H),x.Ca=254,x.I=0,x.b=-8,x.Ka=0,x.oa=C,x.pa=M,x.Jd=C,x.Yc=M+H,x.Zc=4<=H?M+H-4+1:M,oe(x)}function K(x,C){for(var M=0;0<C--;)M|=ne(x,128)<<C;return M}function J(x,C){var M=K(x,C);return ce(x)?-M:M}function q(x,C,M,H){var re,se=0;for(t(x!=null),t(C!=null),t(4294967288>H),x.Sb=H,x.Ra=0,x.u=0,x.h=0,4<H&&(H=4),re=0;re<H;++re)se+=C[M+re]<<8*re;x.Ra=se,x.bb=H,x.oa=C,x.pa=M}function V(x){for(;8<=x.u&&x.bb<x.Sb;)x.Ra>>>=8,x.Ra+=x.oa[x.pa+x.bb]<<qh-8>>>0,++x.bb,x.u-=8;z(x)&&(x.h=1,x.u=0)}function ee(x,C){if(t(0<=C),!x.h&&C<=zh){var M=R(x)&Vh[C];return x.u+=C,V(x),M}return x.h=1,x.u=0}function Z(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function k(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function R(x){return x.Ra>>>(x.u&qh-1)>>>0}function z(x){return t(x.bb<=x.Sb),x.h||x.bb==x.Sb&&x.u>qh}function G(x,C){x.u=C,x.h=z(x)}function Q(x){x.u>=Cm&&(t(x.u>=Cm),V(x))}function oe(x){t(x!=null&&x.oa!=null),x.pa<x.Zc?(x.I=(x.oa[x.pa++]|x.I<<8)>>>0,x.b+=8):(t(x!=null&&x.oa!=null),x.pa<x.Yc?(x.b+=8,x.I=x.oa[x.pa++]|x.I<<8):x.Ka?x.b=0:(x.I<<=8,x.b+=8,x.Ka=1))}function ce(x){return K(x,1)}function ne(x,C){var M=x.Ca;0>x.b&&oe(x);var H=x.b,re=M*C>>>8,se=(x.I>>>H>re)+0;for(se?(M-=re,x.I-=re+1<<H>>>0):M=re+1,H=M,re=0;256<=H;)re+=8,H>>=8;return H=7^re+_s[H],x.b-=H,x.Ca=(M<<H)-1,se}function he(x,C,M){x[C+0]=M>>24&255,x[C+1]=M>>16&255,x[C+2]=M>>8&255,x[C+3]=M>>0&255}function ye(x,C){return x[C+0]<<0|x[C+1]<<8}function W(x,C){return ye(x,C)|x[C+2]<<16}function Ce(x,C){return ye(x,C)|ye(x,C+2)<<16}function ke(x,C){var M=1<<C;return t(x!=null),t(0<C),x.X=i(M),x.X==null?0:(x.Mb=32-C,x.Xa=C,1)}function Ee(x,C){t(x!=null),t(C!=null),t(x.Xa==C.Xa),n(C.X,0,x.X,0,1<<C.Xa)}function ie(){this.X=[],this.Xa=this.Mb=0}function Fe(x,C,M,H){t(M!=null),t(H!=null);var re=M[0],se=H[0];return re==0&&(re=(x*se+C/2)/C),se==0&&(se=(C*re+x/2)/x),0>=re||0>=se?0:(M[0]=re,H[0]=se,1)}function Ye(x,C){return x+(1<<C)-1>>>C}function Se(x,C){return((4278255360&x)+(4278255360&C)>>>0&4278255360)+((16711935&x)+(16711935&C)>>>0&16711935)>>>0}function $e(x,C){_[C]=function(M,H,re,se,le,fe,pe){var ve;for(ve=0;ve<le;++ve){var je=_[x](fe[pe+ve-1],re,se+ve);fe[pe+ve]=Se(M[H+ve],je)}}}function _e(){this.ud=this.hd=this.jd=0}function De(x,C){return((4278124286&(x^C))>>>1)+(x&C)>>>0}function Ne(x){return 0<=x&&256>x?x:0>x?0:255<x?255:void 0}function qe(x,C){return Ne(x+(x-C+.5>>1))}function at(x,C,M){return Math.abs(C-M)-Math.abs(x-M)}function nt(x,C,M,H,re,se,le){for(H=se[le-1],M=0;M<re;++M)se[le+M]=H=Se(x[C+M],H)}function ut(x,C,M,H,re){var se;for(se=0;se<M;++se){var le=x[C+se],fe=le>>8&255,pe=16711935&(pe=(pe=16711935&le)+((fe<<16)+fe));H[re+se]=(4278255360&le)+pe>>>0}}function Tt(x,C){C.jd=x>>0&255,C.hd=x>>8&255,C.ud=x>>16&255}function kt(x,C,M,H,re,se){var le;for(le=0;le<H;++le){var fe=C[M+le],pe=fe>>>8,ve=fe,je=255&(je=(je=fe>>>16)+((x.jd<<24>>24)*(pe<<24>>24)>>>5));ve=255&(ve=(ve=ve+((x.hd<<24>>24)*(pe<<24>>24)>>>5))+((x.ud<<24>>24)*(je<<24>>24)>>>5)),re[se+le]=(4278255360&fe)+(je<<16)+ve}}function _t(x,C,M,H,re){_[C]=function(se,le,fe,pe,ve,je,Ze,et,ze){for(pe=Ze;pe<et;++pe)for(Ze=0;Ze<ze;++Ze)ve[je++]=re(fe[H(se[le++])])},_[x]=function(se,le,fe,pe,ve,je,Ze){var et=8>>se.b,ze=se.Ea,xt=se.K[0],ot=se.w;if(8>et)for(se=(1<<se.b)-1,ot=(1<<et)-1;le<fe;++le){var Le,Be=0;for(Le=0;Le<ze;++Le)Le&se||(Be=H(pe[ve++])),je[Ze++]=re(xt[Be&ot]),Be>>=et}else _["VP8LMapColor"+M](pe,ve,xt,ot,je,Ze,le,fe,ze)}}function ct(x,C,M,H,re){for(M=C+M;C<M;){var se=x[C++];H[re++]=se>>16&255,H[re++]=se>>8&255,H[re++]=se>>0&255}}function tr(x,C,M,H,re){for(M=C+M;C<M;){var se=x[C++];H[re++]=se>>16&255,H[re++]=se>>8&255,H[re++]=se>>0&255,H[re++]=se>>24&255}}function Wt(x,C,M,H,re){for(M=C+M;C<M;){var se=(le=x[C++])>>16&240|le>>12&15,le=le>>0&240|le>>28&15;H[re++]=se,H[re++]=le}}function Hr(x,C,M,H,re){for(M=C+M;C<M;){var se=(le=x[C++])>>16&248|le>>13&7,le=le>>5&224|le>>3&31;H[re++]=se,H[re++]=le}}function lr(x,C,M,H,re){for(M=C+M;C<M;){var se=x[C++];H[re++]=se>>0&255,H[re++]=se>>8&255,H[re++]=se>>16&255}}function qr(x,C,M,H,re,se){if(se==0)for(M=C+M;C<M;)he(H,((se=x[C++])[0]>>24|se[1]>>8&65280|se[2]<<8&16711680|se[3]<<24)>>>0),re+=32;else n(H,re,x,C,M)}function Ie(x,C){_[C][0]=_[x+"0"],_[C][1]=_[x+"1"],_[C][2]=_[x+"2"],_[C][3]=_[x+"3"],_[C][4]=_[x+"4"],_[C][5]=_[x+"5"],_[C][6]=_[x+"6"],_[C][7]=_[x+"7"],_[C][8]=_[x+"8"],_[C][9]=_[x+"9"],_[C][10]=_[x+"10"],_[C][11]=_[x+"11"],_[C][12]=_[x+"12"],_[C][13]=_[x+"13"],_[C][14]=_[x+"0"],_[C][15]=_[x+"0"]}function Me(x){return x==I_||x==j_||x==Ry||x==D_}function Ke(){this.eb=[],this.size=this.A=this.fb=0}function ht(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Dt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ke,this.f.kb=new ht,this.sd=null}function Ht(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Mt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ot(x){return alert("todo:WebPSamplerProcessPlane"),x.T}function Zt(x,C){var M=x.T,H=C.ba.f.RGBA,re=H.eb,se=H.fb+x.ka*H.A,le=vo[C.ba.S],fe=x.y,pe=x.O,ve=x.f,je=x.N,Ze=x.ea,et=x.W,ze=C.cc,xt=C.dc,ot=C.Mc,Le=C.Nc,Be=x.ka,pt=x.ka+x.T,At=x.U,vt=At+1>>1;for(Be==0?le(fe,pe,null,null,ve,je,Ze,et,ve,je,Ze,et,re,se,null,null,At):(le(C.ec,C.fc,fe,pe,ze,xt,ot,Le,ve,je,Ze,et,re,se-H.A,re,se,At),++M);Be+2<pt;Be+=2)ze=ve,xt=je,ot=Ze,Le=et,je+=x.Rc,et+=x.Rc,se+=2*H.A,le(fe,(pe+=2*x.fa)-x.fa,fe,pe,ze,xt,ot,Le,ve,je,Ze,et,re,se-H.A,re,se,At);return pe+=x.fa,x.j+pt<x.o?(n(C.ec,C.fc,fe,pe,At),n(C.cc,C.dc,ve,je,vt),n(C.Mc,C.Nc,Ze,et,vt),M--):1&pt||le(fe,pe,null,null,ve,je,Ze,et,ve,je,Ze,et,re,se+H.A,null,null,At),M}function br(x,C,M){var H=x.F,re=[x.J];if(H!=null){var se=x.U,le=C.ba.S,fe=le==My||le==Ry;C=C.ba.f.RGBA;var pe=[0],ve=x.ka;pe[0]=x.T,x.Kb&&(ve==0?--pe[0]:(--ve,re[0]-=x.width),x.j+x.ka+x.T==x.o&&(pe[0]=x.o-x.j-ve));var je=C.eb;ve=C.fb+ve*C.A,x=Fn(H,re[0],x.width,se,pe,je,ve+(fe?0:3),C.A),t(M==pe),x&&Me(le)&&mo(je,ve,fe,se,pe,C.A)}return 0}function wr(x){var C=x.ma,M=C.ba.S,H=11>M,re=M==Dy||M==Ly||M==My||M==O_||M==12||Me(M);if(C.memory=null,C.Ib=null,C.Jb=null,C.Nd=null,!Nm(C.Oa,x,re?11:12))return 0;if(re&&Me(M)&&Et(),x.da)alert("todo:use_scaling");else{if(H){if(C.Ib=Ot,x.Kb){if(M=x.U+1>>1,C.memory=i(x.U+2*M),C.memory==null)return 0;C.ec=C.memory,C.fc=0,C.cc=C.ec,C.dc=C.fc+x.U,C.Mc=C.cc,C.Nc=C.dc+M,C.Ib=Zt,Et()}}else alert("todo:EmitYUV");re&&(C.Jb=br,H&&Ve())}if(H&&!JP){for(x=0;256>x;++x)cX[x]=89858*(x-128)+$y>>Fy,dX[x]=-22014*(x-128)+$y,fX[x]=-45773*(x-128),uX[x]=113618*(x-128)+$y>>Fy;for(x=Mm;x<R_;++x)C=76283*(x-16)+$y>>Fy,hX[x-Mm]=_n(C,255),pX[x-Mm]=_n(C+8>>4,15);JP=1}return 1}function Te(x){var C=x.ma,M=x.U,H=x.T;return t(!(1&x.ka)),0>=M||0>=H?0:(M=C.Ib(x,C),C.Jb!=null&&C.Jb(x,C,M),C.Dc+=M,1)}function st(x){x.ma.memory=null}function He(x,C,M,H){return ee(x,8)!=47?0:(C[0]=ee(x,14)+1,M[0]=ee(x,14)+1,H[0]=ee(x,1),ee(x,3)!=0?0:!x.h)}function er(x,C){if(4>x)return x+1;var M=x-2>>1;return(2+(1&x)<<M)+ee(C,M)+1}function sr(x,C){return 120<C?C-120:1<=(M=((M=YY[C-1])>>4)*x+(8-(15&M)))?M:1;var M}function Lr(x,C,M){var H=R(M),re=x[C+=255&H].g-8;return 0<re&&(G(M,M.u+8),H=R(M),C+=x[C].value,C+=H&(1<<re)-1),G(M,M.u+x[C].g),x[C].value}function _r(x,C,M){return M.g+=x.g,M.value+=x.value<<C>>>0,t(8>=M.g),x.g}function Ur(x,C,M){var H=x.xc;return t((C=H==0?0:x.vc[x.md*(M>>H)+(C>>H)])<x.Wb),x.Ya[C]}function ae(x,C,M,H){var re=x.ab,se=x.c*C,le=x.C;C=le+C;var fe=M,pe=H;for(H=x.Ta,M=x.Ua;0<re--;){var ve=x.gc[re],je=le,Ze=C,et=fe,ze=pe,xt=(pe=H,fe=M,ve.Ea);switch(t(je<Ze),t(Ze<=ve.nc),ve.hc){case 2:Ny(et,ze,(Ze-je)*xt,pe,fe);break;case 0:var ot=je,Le=Ze,Be=pe,pt=fe,At=(qt=ve).Ea;ot==0&&(C_(et,ze,null,null,1,Be,pt),nt(et,ze+1,0,0,At-1,Be,pt+1),ze+=At,pt+=At,++ot);for(var vt=1<<qt.b,Yt=vt-1,Ut=Ye(At,qt.b),hr=qt.K,qt=qt.w+(ot>>qt.b)*Ut;ot<Le;){var gn=hr,An=qt,un=1;for(Pm(et,ze,Be,pt-At,1,Be,pt);un<At;){var Xr=(un&~Yt)+vt;Xr>At&&(Xr=At),(0,Cu[gn[An++]>>8&15])(et,ze+ +un,Be,pt+un-At,Xr-un,Be,pt+un),un=Xr}ze+=At,pt+=At,++ot&Yt||(qt+=Ut)}Ze!=ve.nc&&n(pe,fe-xt,pe,fe+(Ze-je-1)*xt,xt);break;case 1:for(xt=et,Le=ze,At=(et=ve.Ea)-(pt=et&~(Be=(ze=1<<ve.b)-1)),ot=Ye(et,ve.b),vt=ve.K,ve=ve.w+(je>>ve.b)*ot;je<Ze;){for(Yt=vt,Ut=ve,hr=new _e,qt=Le+pt,gn=Le+et;Le<qt;)Tt(Yt[Ut++],hr),dd(hr,xt,Le,ze,pe,fe),Le+=ze,fe+=ze;Le<gn&&(Tt(Yt[Ut++],hr),dd(hr,xt,Le,At,pe,fe),Le+=At,fe+=At),++je&Be||(ve+=ot)}break;case 3:if(et==pe&&ze==fe&&0<ve.b){for(Le=pe,et=xt=fe+(Ze-je)*xt-(pt=(Ze-je)*Ye(ve.Ea,ve.b)),ze=pe,Be=fe,ot=[],pt=(At=pt)-1;0<=pt;--pt)ot[pt]=ze[Be+pt];for(pt=At-1;0<=pt;--pt)Le[et+pt]=ot[pt];fo(ve,je,Ze,pe,xt,pe,fe)}else fo(ve,je,Ze,et,ze,pe,fe)}fe=H,pe=M}pe!=M&&n(H,M,fe,pe,se)}function be(x,C){var M=x.V,H=x.Ba+x.c*x.C,re=C-x.C;if(t(C<=x.l.o),t(16>=re),0<re){var se=x.l,le=x.Ta,fe=x.Ua,pe=se.width;if(ae(x,re,M,H),re=fe=[fe],t((M=x.C)<(H=C)),t(se.v<se.va),H>se.o&&(H=se.o),M<se.j){var ve=se.j-M;M=se.j,re[0]+=ve*pe}if(M>=H?M=0:(re[0]+=4*se.v,se.ka=M-se.j,se.U=se.va-se.v,se.T=H-M,M=1),M){if(fe=fe[0],11>(M=x.ca).S){var je=M.f.RGBA,Ze=(H=M.S,re=se.U,se=se.T,ve=je.eb,je.A),et=se;for(je=je.fb+x.Ma*je.A;0<et--;){var ze=le,xt=fe,ot=re,Le=ve,Be=je;switch(H){case jy:Ss(ze,xt,ot,Le,Be);break;case Dy:ns(ze,xt,ot,Le,Be);break;case I_:ns(ze,xt,ot,Le,Be),mo(Le,Be,0,ot,1,0);break;case VP:vc(ze,xt,ot,Le,Be);break;case Ly:qr(ze,xt,ot,Le,Be,1);break;case j_:qr(ze,xt,ot,Le,Be,1),mo(Le,Be,0,ot,1,0);break;case My:qr(ze,xt,ot,Le,Be,0);break;case Ry:qr(ze,xt,ot,Le,Be,0),mo(Le,Be,1,ot,1,0);break;case O_:Pu(ze,xt,ot,Le,Be);break;case D_:Pu(ze,xt,ot,Le,Be),Rn(Le,Be,ot,1,0);break;case zP:gc(ze,xt,ot,Le,Be);break;default:t(0)}fe+=pe,je+=Ze}x.Ma+=se}else alert("todo:EmitRescaledRowsYUVA");t(x.Ma<=M.height)}}x.C=C,t(x.C<=x.i)}function me(x){var C;if(0<x.ua)return 0;for(C=0;C<x.Wb;++C){var M=x.Ya[C].G,H=x.Ya[C].H;if(0<M[1][H[1]+0].g||0<M[2][H[2]+0].g||0<M[3][H[3]+0].g)return 0}return 1}function ge(x,C,M,H,re,se){if(x.Z!=0){var le=x.qd,fe=x.rd;for(t(Du[x.Z]!=null);C<M;++C)Du[x.Z](le,fe,H,re,H,re,se),le=H,fe=re,re+=se;x.qd=le,x.rd=fe}}function xe(x,C){var M=x.l.ma,H=M.Z==0||M.Z==1?x.l.j:x.C;if(H=x.C<H?H:x.C,t(C<=x.l.o),C>H){var re=x.l.width,se=M.ca,le=M.tb+re*H,fe=x.V,pe=x.Ba+x.c*H,ve=x.gc;t(x.ab==1),t(ve[0].hc==3),ky(ve[0],H,C,fe,pe,se,le),ge(M,H,C,se,le,re)}x.C=x.Ma=C}function we(x,C,M,H,re,se,le){var fe=x.$/H,pe=x.$%H,ve=x.m,je=x.s,Ze=M+x.$,et=Ze;re=M+H*re;var ze=M+H*se,xt=280+je.ua,ot=x.Pb?fe:16777216,Le=0<je.ua?je.Wa:null,Be=je.wc,pt=Ze<ze?Ur(je,pe,fe):null;t(x.C<se),t(ze<=re);var At=!1;e:for(;;){for(;At||Ze<ze;){var vt=0;if(fe>=ot){var Yt=Ze-M;t((ot=x).Pb),ot.wd=ot.m,ot.xd=Yt,0<ot.s.ua&&Ee(ot.s.Wa,ot.s.vb),ot=fe+QY}if(pe&Be||(pt=Ur(je,pe,fe)),t(pt!=null),pt.Qb&&(C[Ze]=pt.qb,At=!0),!At)if(Q(ve),pt.jc){vt=ve,Yt=C;var Ut=Ze,hr=pt.pd[R(vt)&ui-1];t(pt.jc),256>hr.g?(G(vt,vt.u+hr.g),Yt[Ut]=hr.value,vt=0):(G(vt,vt.u+hr.g-256),t(256<=hr.value),vt=hr.value),vt==0&&(At=!0)}else vt=Lr(pt.G[0],pt.H[0],ve);if(ve.h)break;if(At||256>vt){if(!At)if(pt.nd)C[Ze]=(pt.qb|vt<<8)>>>0;else{if(Q(ve),At=Lr(pt.G[1],pt.H[1],ve),Q(ve),Yt=Lr(pt.G[2],pt.H[2],ve),Ut=Lr(pt.G[3],pt.H[3],ve),ve.h)break;C[Ze]=(Ut<<24|At<<16|vt<<8|Yt)>>>0}if(At=!1,++Ze,++pe>=H&&(pe=0,++fe,le!=null&&fe<=se&&!(fe%16)&&le(x,fe),Le!=null))for(;et<Ze;)vt=C[et++],Le.X[(506832829*vt&4294967295)>>>Le.Mb]=vt}else if(280>vt){if(vt=er(vt-256,ve),Yt=Lr(pt.G[4],pt.H[4],ve),Q(ve),Yt=sr(H,Yt=er(Yt,ve)),ve.h)break;if(Ze-M<Yt||re-Ze<vt)break e;for(Ut=0;Ut<vt;++Ut)C[Ze+Ut]=C[Ze+Ut-Yt];for(Ze+=vt,pe+=vt;pe>=H;)pe-=H,++fe,le!=null&&fe<=se&&!(fe%16)&&le(x,fe);if(t(Ze<=re),pe&Be&&(pt=Ur(je,pe,fe)),Le!=null)for(;et<Ze;)vt=C[et++],Le.X[(506832829*vt&4294967295)>>>Le.Mb]=vt}else{if(!(vt<xt))break e;for(At=vt-280,t(Le!=null);et<Ze;)vt=C[et++],Le.X[(506832829*vt&4294967295)>>>Le.Mb]=vt;vt=Ze,t(!(At>>>(Yt=Le).Xa)),C[vt]=Yt.X[At],At=!0}At||t(ve.h==z(ve))}if(x.Pb&&ve.h&&Ze<re)t(x.m.h),x.a=5,x.m=x.wd,x.$=x.xd,0<x.s.ua&&Ee(x.s.vb,x.s.Wa);else{if(ve.h)break e;le!=null&&le(x,fe>se?se:fe),x.a=0,x.$=Ze-M}return 1}return x.a=3,0}function Ge(x){t(x!=null),x.vc=null,x.yc=null,x.Ya=null;var C=x.Wa;C!=null&&(C.X=null),x.vb=null,t(x!=null)}function rt(){var x=new Bh;return x==null?null:(x.a=0,x.xb=HP,Ie("Predictor","VP8LPredictors"),Ie("Predictor","VP8LPredictors_C"),Ie("PredictorAdd","VP8LPredictorsAdd"),Ie("PredictorAdd","VP8LPredictorsAdd_C"),Ny=ut,dd=kt,Ss=ct,ns=tr,Pu=Wt,gc=Hr,vc=lr,_.VP8LMapColor32b=Wh,_.VP8LMapColor8b=Cy,x)}function We(x,C,M,H,re){var se=1,le=[x],fe=[C],pe=H.m,ve=H.s,je=null,Ze=0;e:for(;;){if(M)for(;se&&ee(pe,1);){var et=le,ze=fe,xt=H,ot=1,Le=xt.m,Be=xt.gc[xt.ab],pt=ee(Le,2);if(xt.Oc&1<<pt)se=0;else{switch(xt.Oc|=1<<pt,Be.hc=pt,Be.Ea=et[0],Be.nc=ze[0],Be.K=[null],++xt.ab,t(4>=xt.ab),pt){case 0:case 1:Be.b=ee(Le,3)+2,ot=We(Ye(Be.Ea,Be.b),Ye(Be.nc,Be.b),0,xt,Be.K),Be.K=Be.K[0];break;case 3:var At,vt=ee(Le,8)+1,Yt=16<vt?0:4<vt?1:2<vt?2:3;if(et[0]=Ye(Be.Ea,Yt),Be.b=Yt,At=ot=We(vt,1,0,xt,Be.K)){var Ut,hr=vt,qt=Be,gn=1<<(8>>qt.b),An=i(gn);if(An==null)At=0;else{var un=qt.K[0],Xr=qt.w;for(An[0]=qt.K[0][0],Ut=1;Ut<1*hr;++Ut)An[Ut]=Se(un[Xr+Ut],An[Ut-1]);for(;Ut<4*gn;++Ut)An[Ut]=0;qt.K[0]=null,qt.K[0]=An,At=1}}ot=At;break;case 2:break;default:t(0)}se=ot}}if(le=le[0],fe=fe[0],se&&ee(pe,1)&&!(se=1<=(Ze=ee(pe,4))&&11>=Ze)){H.a=3;break e}var jn;if(jn=se)t:{var Cn,Mr,Ta,As=H,Na=le,Es=fe,En=Ze,Hs=M,Gs=As.m,Ya=As.s,fi=[null],is=1,yo=0,Fl=XY[En];r:for(;;){if(Hs&&ee(Gs,1)){var Xa=ee(Gs,3)+2,wc=Ye(Na,Xa),vd=Ye(Es,Xa),Xh=wc*vd;if(!We(wc,vd,0,As,fi))break r;for(fi=fi[0],Ya.xc=Xa,Cn=0;Cn<Xh;++Cn){var Lu=fi[Cn]>>8&65535;fi[Cn]=Lu,Lu>=is&&(is=Lu+1)}}if(Gs.h)break r;for(Mr=0;5>Mr;++Mr){var la=qP[Mr];!Mr&&0<En&&(la+=1<<En),yo<la&&(yo=la)}var F_=s(is*Fl,N),t6=is,r6=s(t6,U);if(r6==null)var Uy=null;else t(65536>=t6),Uy=r6;var Rm=i(yo);if(Uy==null||Rm==null||F_==null){As.a=1;break r}var Vy=F_;for(Cn=Ta=0;Cn<is;++Cn){var Jo=Uy[Cn],Qh=Jo.G,Jh=Jo.H,n6=0,zy=1,a6=0;for(Mr=0;5>Mr;++Mr){la=qP[Mr],Qh[Mr]=Vy,Jh[Mr]=Ta,!Mr&&0<En&&(la+=1<<En);a:{var qy,$_=la,Wy=As,Fm=Rm,vX=Vy,yX=Ta,B_=0,Mu=Wy.m,xX=ee(Mu,1);if(a(Fm,0,0,$_),xX){var bX=ee(Mu,1)+1,wX=ee(Mu,1),i6=ee(Mu,wX==0?1:8);Fm[i6]=1,bX==2&&(Fm[i6=ee(Mu,8)]=1);var Hy=1}else{var s6=i(19),o6=ee(Mu,4)+4;if(19<o6){Wy.a=3;var Gy=0;break a}for(qy=0;qy<o6;++qy)s6[KY[qy]]=ee(Mu,3);var U_=void 0,$m=void 0,l6=Wy,_X=s6,Ky=$_,c6=Fm,V_=0,Ru=l6.m,u6=8,f6=s(128,N);n:for(;T(f6,0,7,_X,19);){if(ee(Ru,1)){var SX=2+2*ee(Ru,3);if((U_=2+ee(Ru,SX))>Ky)break n}else U_=Ky;for($m=0;$m<Ky&&U_--;){Q(Ru);var d6=f6[0+(127&R(Ru))];G(Ru,Ru.u+d6.g);var Zh=d6.value;if(16>Zh)c6[$m++]=Zh,Zh!=0&&(u6=Zh);else{var AX=Zh==16,h6=Zh-16,EX=HY[h6],p6=ee(Ru,WY[h6])+EX;if($m+p6>Ky)break n;for(var TX=AX?u6:0;0<p6--;)c6[$m++]=TX}}V_=1;break n}V_||(l6.a=3),Hy=V_}(Hy=Hy&&!Mu.h)&&(B_=T(vX,yX,8,Fm,$_)),Hy&&B_!=0?Gy=B_:(Wy.a=3,Gy=0)}if(Gy==0)break r;if(zy&&GY[Mr]==1&&(zy=Vy[Ta].g==0),n6+=Vy[Ta].g,Ta+=Gy,3>=Mr){var Bm,z_=Rm[0];for(Bm=1;Bm<la;++Bm)Rm[Bm]>z_&&(z_=Rm[Bm]);a6+=z_}}if(Jo.nd=zy,Jo.Qb=0,zy&&(Jo.qb=(Qh[3][Jh[3]+0].value<<24|Qh[1][Jh[1]+0].value<<16|Qh[2][Jh[2]+0].value)>>>0,n6==0&&256>Qh[0][Jh[0]+0].value&&(Jo.Qb=1,Jo.qb+=Qh[0][Jh[0]+0].value<<8)),Jo.jc=!Jo.Qb&&6>a6,Jo.jc){var Yy,_c=Jo;for(Yy=0;Yy<ui;++Yy){var Fu=Yy,$u=_c.pd[Fu],Xy=_c.G[0][_c.H[0]+Fu];256<=Xy.value?($u.g=Xy.g+256,$u.value=Xy.value):($u.g=0,$u.value=0,Fu>>=_r(Xy,8,$u),Fu>>=_r(_c.G[1][_c.H[1]+Fu],16,$u),Fu>>=_r(_c.G[2][_c.H[2]+Fu],0,$u),_r(_c.G[3][_c.H[3]+Fu],24,$u))}}}Ya.vc=fi,Ya.Wb=is,Ya.Ya=Uy,Ya.yc=F_,jn=1;break t}jn=0}if(!(se=jn)){H.a=3;break e}if(0<Ze){if(ve.ua=1<<Ze,!ke(ve.Wa,Ze)){H.a=1,se=0;break e}}else ve.ua=0;var q_=H,m6=le,NX=fe,W_=q_.s,H_=W_.xc;if(q_.c=m6,q_.i=NX,W_.md=Ye(m6,H_),W_.wc=H_==0?-1:(1<<H_)-1,M){H.xb=aX;break e}if((je=i(le*fe))==null){H.a=1,se=0;break e}se=(se=we(H,je,0,le,fe,fe,null))&&!pe.h;break e}return se?(re!=null?re[0]=je:(t(je==null),t(M)),H.$=0,M||Ge(ve)):Ge(ve),se}function Qe(x,C){var M=x.c*x.i,H=M+C+16*C;return t(x.c<=C),x.V=i(H),x.V==null?(x.Ta=null,x.Ua=0,x.a=1,0):(x.Ta=x.V,x.Ua=x.Ba+M+C,1)}function Je(x,C){var M=x.C,H=C-M,re=x.V,se=x.Ba+x.c*M;for(t(C<=x.l.o);0<H;){var le=16<H?16:H,fe=x.l.ma,pe=x.l.width,ve=pe*le,je=fe.ca,Ze=fe.tb+pe*M,et=x.Ta,ze=x.Ua;ae(x,le,re,se),ya(et,ze,je,Ze,ve),ge(fe,M,M+le,je,Ze,pe),H-=le,re+=le*x.c,M+=le}t(M==C),x.C=x.Ma=C}function St(){this.ub=this.yd=this.td=this.Rb=0}function jt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Bt(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Pt(){this.Yb=function(){var x=[];return function C(M,H,re){for(var se=re[H],le=0;le<se&&(M.push(re.length>H+1?[]:0),!(re.length<H+1));le++)C(M[le],H+1,re)}(x,0,[3,11]),x}()}function Rt(){this.jb=i(3),this.Wc=o([4,8],Pt),this.Xc=o([4,17],Pt)}function dr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Gr(){this.ld=this.La=this.dd=this.tc=0}function Kr(){this.Na=this.la=0}function xn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ka(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Bs(){this.uc=this.M=this.Nb=0,this.wa=Array(new Gr),this.Y=0,this.ya=Array(new Ka),this.aa=0,this.l=new wt}function de(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Pe(){this.cb=this.a=0,this.sc="",this.m=new Z,this.Od=new St,this.Kc=new jt,this.ed=new dr,this.Qa=new Bt,this.Ic=this.$c=this.Aa=0,this.D=new Bs,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,Z),this.ia=0,this.pb=s(4,xn),this.Pa=new Rt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new de),this.Hd=0,this.rb=Array(new Kr),this.sb=0,this.wa=Array(new Gr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ka),this.L=this.aa=0,this.gd=o([4,2],Gr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function wt(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ft(){var x=new Pe;return x!=null&&(x.a=0,x.sc="OK",x.cb=0,x.Xb=0,Lm||(Lm=Gt)),x}function ft(x,C,M){return x.a==0&&(x.a=C,x.sc=M,x.cb=0),0}function yt(x,C,M){return 3<=M&&x[C+0]==157&&x[C+1]==1&&x[C+2]==42}function Lt(x,C){if(x==null)return 0;if(x.a=0,x.sc="OK",C==null)return ft(x,2,"null VP8Io passed to VP8GetHeaders()");var M=C.data,H=C.w,re=C.ha;if(4>re)return ft(x,7,"Truncated header.");var se=M[H+0]|M[H+1]<<8|M[H+2]<<16,le=x.Od;if(le.Rb=!(1&se),le.td=se>>1&7,le.yd=se>>4&1,le.ub=se>>5,3<le.td)return ft(x,3,"Incorrect keyframe parameters.");if(!le.yd)return ft(x,4,"Frame not displayable.");H+=3,re-=3;var fe=x.Kc;if(le.Rb){if(7>re)return ft(x,7,"cannot parse picture header");if(!yt(M,H,re))return ft(x,3,"Bad code word");fe.c=16383&(M[H+4]<<8|M[H+3]),fe.Td=M[H+4]>>6,fe.i=16383&(M[H+6]<<8|M[H+5]),fe.Ud=M[H+6]>>6,H+=7,re-=7,x.za=fe.c+15>>4,x.Ub=fe.i+15>>4,C.width=fe.c,C.height=fe.i,C.Da=0,C.j=0,C.v=0,C.va=C.width,C.o=C.height,C.da=0,C.ib=C.width,C.hb=C.height,C.U=C.width,C.T=C.height,a((se=x.Pa).jb,0,255,se.jb.length),t((se=x.Qa)!=null),se.Cb=0,se.Bb=0,se.Fb=1,a(se.Zb,0,0,se.Zb.length),a(se.Lb,0,0,se.Lb)}if(le.ub>re)return ft(x,7,"bad partition length");Y(se=x.m,M,H,le.ub),H+=le.ub,re-=le.ub,le.Rb&&(fe.Ld=ce(se),fe.Kd=ce(se)),fe=x.Qa;var pe,ve=x.Pa;if(t(se!=null),t(fe!=null),fe.Cb=ce(se),fe.Cb){if(fe.Bb=ce(se),ce(se)){for(fe.Fb=ce(se),pe=0;4>pe;++pe)fe.Zb[pe]=ce(se)?J(se,7):0;for(pe=0;4>pe;++pe)fe.Lb[pe]=ce(se)?J(se,6):0}if(fe.Bb)for(pe=0;3>pe;++pe)ve.jb[pe]=ce(se)?K(se,8):255}else fe.Bb=0;if(se.Ka)return ft(x,3,"cannot parse segment header");if((fe=x.ed).zd=ce(se),fe.Tb=K(se,6),fe.wb=K(se,3),fe.Pc=ce(se),fe.Pc&&ce(se)){for(ve=0;4>ve;++ve)ce(se)&&(fe.vd[ve]=J(se,6));for(ve=0;4>ve;++ve)ce(se)&&(fe.od[ve]=J(se,6))}if(x.L=fe.Tb==0?0:fe.zd?1:2,se.Ka)return ft(x,3,"cannot parse filter header");var je=re;if(re=pe=H,H=pe+je,fe=je,x.Xb=(1<<K(x.m,2))-1,je<3*(ve=x.Xb))M=7;else{for(pe+=3*ve,fe-=3*ve,je=0;je<ve;++je){var Ze=M[re+0]|M[re+1]<<8|M[re+2]<<16;Ze>fe&&(Ze=fe),Y(x.Jc[+je],M,pe,Ze),pe+=Ze,fe-=Ze,re+=3}Y(x.Jc[+ve],M,pe,fe),M=pe<H?0:5}if(M!=0)return ft(x,M,"cannot parse partitions");for(M=K(pe=x.m,7),re=ce(pe)?J(pe,4):0,H=ce(pe)?J(pe,4):0,fe=ce(pe)?J(pe,4):0,ve=ce(pe)?J(pe,4):0,pe=ce(pe)?J(pe,4):0,je=x.Qa,Ze=0;4>Ze;++Ze){if(je.Cb){var et=je.Zb[Ze];je.Fb||(et+=M)}else{if(0<Ze){x.pb[Ze]=x.pb[0];continue}et=M}var ze=x.pb[Ze];ze.Sc[0]=L_[_n(et+re,127)],ze.Sc[1]=M_[_n(et+0,127)],ze.Eb[0]=2*L_[_n(et+H,127)],ze.Eb[1]=101581*M_[_n(et+fe,127)]>>16,8>ze.Eb[1]&&(ze.Eb[1]=8),ze.Qc[0]=L_[_n(et+ve,117)],ze.Qc[1]=M_[_n(et+pe,127)],ze.lc=et+pe}if(!le.Rb)return ft(x,4,"Not a key frame.");for(ce(se),le=x.Pa,M=0;4>M;++M){for(re=0;8>re;++re)for(H=0;3>H;++H)for(fe=0;11>fe;++fe)ve=ne(se,rX[M][re][H][fe])?K(se,8):eX[M][re][H][fe],le.Wc[M][re].Yb[H][fe]=ve;for(re=0;17>re;++re)le.Xc[M][re]=le.Wc[M][nX[re]]}return x.kc=ce(se),x.kc&&(x.Bd=K(se,8)),x.cb=1}function Gt(x,C,M,H,re,se,le){var fe=C[re].Yb[M];for(M=0;16>re;++re){if(!ne(x,fe[M+0]))return re;for(;!ne(x,fe[M+1]);)if(fe=C[++re].Yb[0],M=0,re==16)return 16;var pe=C[re+1].Yb;if(ne(x,fe[M+2])){var ve=x,je=0;if(ne(ve,(et=fe)[(Ze=M)+3]))if(ne(ve,et[Ze+6])){for(fe=0,Ze=2*(je=ne(ve,et[Ze+8]))+(et=ne(ve,et[Ze+9+je])),je=0,et=JY[Ze];et[fe];++fe)je+=je+ne(ve,et[fe]);je+=3+(8<<Ze)}else ne(ve,et[Ze+7])?(je=7+2*ne(ve,165),je+=ne(ve,145)):je=5+ne(ve,159);else je=ne(ve,et[Ze+4])?3+ne(ve,et[Ze+5]):2;fe=pe[2]}else je=1,fe=pe[1];pe=le+ZY[re],0>(ve=x).b&&oe(ve);var Ze,et=ve.b,ze=(Ze=ve.Ca>>1)-(ve.I>>et)>>31;--ve.b,ve.Ca+=ze,ve.Ca|=1,ve.I-=(Ze+1&ze)<<et,se[pe]=((je^ze)-ze)*H[(0<re)+0]}return 16}function rr(x){var C=x.rb[x.sb-1];C.la=0,C.Na=0,a(x.zc,0,0,x.zc.length),x.ja=0}function Nr(x,C){if(x==null)return 0;if(C==null)return ft(x,2,"NULL VP8Io parameter in VP8Decode().");if(!x.cb&&!Lt(x,C))return 0;if(t(x.cb),C.ac==null||C.ac(C)){C.ob&&(x.L=0);var M=By[x.L];if(x.L==2?(x.yb=0,x.zb=0):(x.yb=C.v-M>>4,x.zb=C.j-M>>4,0>x.yb&&(x.yb=0),0>x.zb&&(x.zb=0)),x.Va=C.o+15+M>>4,x.Hb=C.va+15+M>>4,x.Hb>x.za&&(x.Hb=x.za),x.Va>x.Ub&&(x.Va=x.Ub),0<x.L){var H=x.ed;for(M=0;4>M;++M){var re;if(x.Qa.Cb){var se=x.Qa.Lb[M];x.Qa.Fb||(se+=H.Tb)}else se=H.Tb;for(re=0;1>=re;++re){var le=x.gd[M][re],fe=se;if(H.Pc&&(fe+=H.vd[0],re&&(fe+=H.od[0])),0<(fe=0>fe?0:63<fe?63:fe)){var pe=fe;0<H.wb&&(pe=4<H.wb?pe>>2:pe>>1)>9-H.wb&&(pe=9-H.wb),1>pe&&(pe=1),le.dd=pe,le.tc=2*fe+pe,le.ld=40<=fe?2:15<=fe?1:0}else le.tc=0;le.La=re}}}M=0}else ft(x,6,"Frame setup failed"),M=x.a;if(M=M==0){if(M){x.$c=0,0<x.Aa||(x.Ic=gX);e:{M=x.Ic,H=4*(pe=x.za);var ve=32*pe,je=pe+1,Ze=0<x.L?pe*(0<x.Aa?2:1):0,et=(x.Aa==2?2:1)*pe;if((le=H+832+(re=3*(16*M+By[x.L])/2*ve)+(se=x.Fa!=null&&0<x.Fa.length?x.Kc.c*x.Kc.i:0))!=le)M=0;else{if(le>x.Vb){if(x.Vb=0,x.Ec=i(le),x.Fc=0,x.Ec==null){M=ft(x,1,"no memory during frame initialization.");break e}x.Vb=le}le=x.Ec,fe=x.Fc,x.Ac=le,x.Bc=fe,fe+=H,x.Gd=s(ve,de),x.Hd=0,x.rb=s(je+1,Kr),x.sb=1,x.wa=Ze?s(Ze,Gr):null,x.Y=0,x.D.Nb=0,x.D.wa=x.wa,x.D.Y=x.Y,0<x.Aa&&(x.D.Y+=pe),t(!0),x.oc=le,x.pc=fe,fe+=832,x.ya=s(et,Ka),x.aa=0,x.D.ya=x.ya,x.D.aa=x.aa,x.Aa==2&&(x.D.aa+=pe),x.R=16*pe,x.B=8*pe,pe=(ve=By[x.L])*x.R,ve=ve/2*x.B,x.sa=le,x.ta=fe+pe,x.qa=x.sa,x.ra=x.ta+16*M*x.R+ve,x.Ha=x.qa,x.Ia=x.ra+8*M*x.B+ve,x.$c=0,fe+=re,x.mb=se?le:null,x.nb=se?fe:null,t(fe+se<=x.Fc+x.Vb),rr(x),a(x.Ac,x.Bc,0,H),M=1}}if(M){if(C.ka=0,C.y=x.sa,C.O=x.ta,C.f=x.qa,C.N=x.ra,C.ea=x.Ha,C.Vd=x.Ia,C.fa=x.R,C.Rc=x.B,C.F=null,C.J=0,!Oy){for(M=-255;255>=M;++M)Fa[255+M]=0>M?-M:M;for(M=-1020;1020>=M;++M)xc[1020+M]=-128>M?-128:127<M?127:M;for(M=-112;112>=M;++M)Dm[112+M]=-16>M?-16:15<M?15:M;for(M=-255;510>=M;++M)Yh[255+M]=0>M?0:255<M?255:M;Oy=1}Hh=qo,yc=ta,Om=rs,as=kr,ho=ws,va=cn,Gh=wu,Py=Ko,Im=Su,hd=fd,pd=_u,Ou=hc,md=Au,Kh=Dl,gd=dc,Iu=qs,jm=Ra,po=$h,Qo[0]=uo,Qo[1]=Am,Qo[2]=Il,Qo[3]=Tm,Qo[4]=Rh,Qo[5]=vu,Qo[6]=Vs,Qo[7]=id,Qo[8]=xu,Qo[9]=yu,ju[0]=Ol,ju[1]=Em,ju[2]=Wo,ju[3]=mu,ju[4]=Vn,ju[5]=Mh,ju[6]=ad,bc[0]=Go,bc[1]=Lh,bc[2]=Fh,bc[3]=Ho,bc[4]=wn,bc[5]=sd,bc[6]=od,M=1}else M=0}M&&(M=function(ze,xt){for(ze.M=0;ze.M<ze.Va;++ze.M){var ot,Le=ze.Jc[ze.M&ze.Xb],Be=ze.m,pt=ze;for(ot=0;ot<pt.za;++ot){var At=Be,vt=pt,Yt=vt.Ac,Ut=vt.Bc+4*ot,hr=vt.zc,qt=vt.ya[vt.aa+ot];if(vt.Qa.Bb?qt.$b=ne(At,vt.Pa.jb[0])?2+ne(At,vt.Pa.jb[2]):ne(At,vt.Pa.jb[1]):qt.$b=0,vt.kc&&(qt.Ad=ne(At,vt.Bd)),qt.Za=!ne(At,145)+0,qt.Za){var gn=qt.Ob,An=0;for(vt=0;4>vt;++vt){var un,Xr=hr[0+vt];for(un=0;4>un;++un){Xr=tX[Yt[Ut+un]][Xr];for(var jn=WP[ne(At,Xr[0])];0<jn;)jn=WP[2*jn+ne(At,Xr[jn])];Xr=-jn,Yt[Ut+un]=Xr}n(gn,An,Yt,Ut,4),An+=4,hr[0+vt]=Xr}}else Xr=ne(At,156)?ne(At,128)?1:3:ne(At,163)?2:0,qt.Ob[0]=Xr,a(Yt,Ut,Xr,4),a(hr,0,Xr,4);qt.Dd=ne(At,142)?ne(At,114)?ne(At,183)?1:3:2:0}if(pt.m.Ka)return ft(ze,7,"Premature end-of-partition0 encountered.");for(;ze.ja<ze.za;++ze.ja){if(pt=Le,At=(Be=ze).rb[Be.sb-1],Yt=Be.rb[Be.sb+Be.ja],ot=Be.ya[Be.aa+Be.ja],Ut=Be.kc?ot.Ad:0)At.la=Yt.la=0,ot.Za||(At.Na=Yt.Na=0),ot.Hc=0,ot.Gc=0,ot.ia=0;else{var Cn,Mr;if(At=Yt,Yt=pt,Ut=Be.Pa.Xc,hr=Be.ya[Be.aa+Be.ja],qt=Be.pb[hr.$b],vt=hr.ad,gn=0,An=Be.rb[Be.sb-1],Xr=un=0,a(vt,gn,0,384),hr.Za)var Ta=0,As=Ut[3];else{jn=i(16);var Na=At.Na+An.Na;if(Na=Lm(Yt,Ut[1],Na,qt.Eb,0,jn,0),At.Na=An.Na=(0<Na)+0,1<Na)Hh(jn,0,vt,gn);else{var Es=jn[0]+3>>3;for(jn=0;256>jn;jn+=16)vt[gn+jn]=Es}Ta=1,As=Ut[0]}var En=15&At.la,Hs=15&An.la;for(jn=0;4>jn;++jn){var Gs=1&Hs;for(Es=Mr=0;4>Es;++Es)En=En>>1|(Gs=(Na=Lm(Yt,As,Na=Gs+(1&En),qt.Sc,Ta,vt,gn))>Ta)<<7,Mr=Mr<<2|(3<Na?3:1<Na?2:vt[gn+0]!=0),gn+=16;En>>=4,Hs=Hs>>1|Gs<<7,un=(un<<8|Mr)>>>0}for(As=En,Ta=Hs>>4,Cn=0;4>Cn;Cn+=2){for(Mr=0,En=At.la>>4+Cn,Hs=An.la>>4+Cn,jn=0;2>jn;++jn){for(Gs=1&Hs,Es=0;2>Es;++Es)Na=Gs+(1&En),En=En>>1|(Gs=0<(Na=Lm(Yt,Ut[2],Na,qt.Qc,0,vt,gn)))<<3,Mr=Mr<<2|(3<Na?3:1<Na?2:vt[gn+0]!=0),gn+=16;En>>=2,Hs=Hs>>1|Gs<<5}Xr|=Mr<<4*Cn,As|=En<<4<<Cn,Ta|=(240&Hs)<<Cn}At.la=As,An.la=Ta,hr.Hc=un,hr.Gc=Xr,hr.ia=43690&Xr?0:qt.ia,Ut=!(un|Xr)}if(0<Be.L&&(Be.wa[Be.Y+Be.ja]=Be.gd[ot.$b][ot.Za],Be.wa[Be.Y+Be.ja].La|=!Ut),pt.Ka)return ft(ze,7,"Premature end-of-file encountered.")}if(rr(ze),Be=xt,pt=1,ot=(Le=ze).D,At=0<Le.L&&Le.M>=Le.zb&&Le.M<=Le.Va,Le.Aa==0)e:{if(ot.M=Le.M,ot.uc=At,Ml(Le,ot),pt=1,ot=(Mr=Le.D).Nb,At=(Xr=By[Le.L])*Le.R,Yt=Xr/2*Le.B,jn=16*ot*Le.R,Es=8*ot*Le.B,Ut=Le.sa,hr=Le.ta-At+jn,qt=Le.qa,vt=Le.ra-Yt+Es,gn=Le.Ha,An=Le.Ia-Yt+Es,Hs=(En=Mr.M)==0,un=En>=Le.Va-1,Le.Aa==2&&Ml(Le,Mr),Mr.uc)for(Gs=(Na=Le).D.M,t(Na.D.uc),Mr=Na.yb;Mr<Na.Hb;++Mr){Ta=Mr,As=Gs;var Ya=(fi=(la=Na).D).Nb;Cn=la.R;var fi=fi.wa[fi.Y+Ta],is=la.sa,yo=la.ta+16*Ya*Cn+16*Ta,Fl=fi.dd,Xa=fi.tc;if(Xa!=0)if(t(3<=Xa),la.L==1)0<Ta&&Iu(is,yo,Cn,Xa+4),fi.La&&po(is,yo,Cn,Xa),0<As&&gd(is,yo,Cn,Xa+4),fi.La&&jm(is,yo,Cn,Xa);else{var wc=la.B,vd=la.qa,Xh=la.ra+8*Ya*wc+8*Ta,Lu=la.Ha,la=la.Ia+8*Ya*wc+8*Ta;Ya=fi.ld,0<Ta&&(Py(is,yo,Cn,Xa+4,Fl,Ya),hd(vd,Xh,Lu,la,wc,Xa+4,Fl,Ya)),fi.La&&(Ou(is,yo,Cn,Xa,Fl,Ya),Kh(vd,Xh,Lu,la,wc,Xa,Fl,Ya)),0<As&&(Gh(is,yo,Cn,Xa+4,Fl,Ya),Im(vd,Xh,Lu,la,wc,Xa+4,Fl,Ya)),fi.La&&(pd(is,yo,Cn,Xa,Fl,Ya),md(vd,Xh,Lu,la,wc,Xa,Fl,Ya))}}if(Le.ia&&alert("todo:DitherRow"),Be.put!=null){if(Mr=16*En,En=16*(En+1),Hs?(Be.y=Le.sa,Be.O=Le.ta+jn,Be.f=Le.qa,Be.N=Le.ra+Es,Be.ea=Le.Ha,Be.W=Le.Ia+Es):(Mr-=Xr,Be.y=Ut,Be.O=hr,Be.f=qt,Be.N=vt,Be.ea=gn,Be.W=An),un||(En-=Xr),En>Be.o&&(En=Be.o),Be.F=null,Be.J=null,Le.Fa!=null&&0<Le.Fa.length&&Mr<En&&(Be.J=ku(Le,Be,Mr,En-Mr),Be.F=Le.mb,Be.F==null&&Be.F.length==0)){pt=ft(Le,3,"Could not decode alpha data.");break e}Mr<Be.j&&(Xr=Be.j-Mr,Mr=Be.j,t(!(1&Xr)),Be.O+=Le.R*Xr,Be.N+=Le.B*(Xr>>1),Be.W+=Le.B*(Xr>>1),Be.F!=null&&(Be.J+=Be.width*Xr)),Mr<En&&(Be.O+=Be.v,Be.N+=Be.v>>1,Be.W+=Be.v>>1,Be.F!=null&&(Be.J+=Be.v),Be.ka=Mr-Be.j,Be.U=Be.va-Be.v,Be.T=En-Mr,pt=Be.put(Be))}ot+1!=Le.Ic||un||(n(Le.sa,Le.ta-At,Ut,hr+16*Le.R,At),n(Le.qa,Le.ra-Yt,qt,vt+8*Le.B,Yt),n(Le.Ha,Le.Ia-Yt,gn,An+8*Le.B,Yt))}if(!pt)return ft(ze,6,"Output aborted.")}return 1}(x,C)),C.bc!=null&&C.bc(C),M&=1}return M?(x.cb=0,M):0}function Sr(x,C,M,H,re){re=x[C+M+32*H]+(re>>3),x[C+M+32*H]=-256&re?0>re?0:255:re}function bn(x,C,M,H,re,se){Sr(x,C,0,M,H+re),Sr(x,C,1,M,H+se),Sr(x,C,2,M,H-se),Sr(x,C,3,M,H-re)}function tn(x){return(20091*x>>16)+x}function ea(x,C,M,H){var re,se=0,le=i(16);for(re=0;4>re;++re){var fe=x[C+0]+x[C+8],pe=x[C+0]-x[C+8],ve=(35468*x[C+4]>>16)-tn(x[C+12]),je=tn(x[C+4])+(35468*x[C+12]>>16);le[se+0]=fe+je,le[se+1]=pe+ve,le[se+2]=pe-ve,le[se+3]=fe-je,se+=4,C++}for(re=se=0;4>re;++re)fe=(x=le[se+0]+4)+le[se+8],pe=x-le[se+8],ve=(35468*le[se+4]>>16)-tn(le[se+12]),Sr(M,H,0,0,fe+(je=tn(le[se+4])+(35468*le[se+12]>>16))),Sr(M,H,1,0,pe+ve),Sr(M,H,2,0,pe-ve),Sr(M,H,3,0,fe-je),se++,H+=32}function cn(x,C,M,H){var re=x[C+0]+4,se=35468*x[C+4]>>16,le=tn(x[C+4]),fe=35468*x[C+1]>>16;bn(M,H,0,re+le,x=tn(x[C+1]),fe),bn(M,H,1,re+se,x,fe),bn(M,H,2,re-se,x,fe),bn(M,H,3,re-le,x,fe)}function ta(x,C,M,H,re){ea(x,C,M,H),re&&ea(x,C+16,M,H+4)}function rs(x,C,M,H){yc(x,C+0,M,H,1),yc(x,C+32,M,H+128,1)}function kr(x,C,M,H){var re;for(x=x[C+0]+4,re=0;4>re;++re)for(C=0;4>C;++C)Sr(M,H,C,re,x)}function ws(x,C,M,H){x[C+0]&&as(x,C+0,M,H),x[C+16]&&as(x,C+16,M,H+4),x[C+32]&&as(x,C+32,M,H+128),x[C+48]&&as(x,C+48,M,H+128+4)}function qo(x,C,M,H){var re,se=i(16);for(re=0;4>re;++re){var le=x[C+0+re]+x[C+12+re],fe=x[C+4+re]+x[C+8+re],pe=x[C+4+re]-x[C+8+re],ve=x[C+0+re]-x[C+12+re];se[0+re]=le+fe,se[8+re]=le-fe,se[4+re]=ve+pe,se[12+re]=ve-pe}for(re=0;4>re;++re)le=(x=se[0+4*re]+3)+se[3+4*re],fe=se[1+4*re]+se[2+4*re],pe=se[1+4*re]-se[2+4*re],ve=x-se[3+4*re],M[H+0]=le+fe>>3,M[H+16]=ve+pe>>3,M[H+32]=le-fe>>3,M[H+48]=ve-pe>>3,H+=64}function Us(x,C,M){var H,re=C-32,se=Ws,le=255-x[re-1];for(H=0;H<M;++H){var fe,pe=se,ve=le+x[C-1];for(fe=0;fe<M;++fe)x[C+fe]=pe[ve+x[re+fe]];C+=32}}function Am(x,C){Us(x,C,4)}function Lh(x,C){Us(x,C,8)}function Em(x,C){Us(x,C,16)}function Wo(x,C){var M;for(M=0;16>M;++M)n(x,C+32*M,x,C-32,16)}function mu(x,C){var M;for(M=16;0<M;--M)a(x,C,x[C-1],16),C+=32}function gu(x,C,M){var H;for(H=0;16>H;++H)a(C,M+32*H,x,16)}function Ol(x,C){var M,H=16;for(M=0;16>M;++M)H+=x[C-1+32*M]+x[C+M-32];gu(H>>5,x,C)}function Vn(x,C){var M,H=8;for(M=0;16>M;++M)H+=x[C-1+32*M];gu(H>>4,x,C)}function Mh(x,C){var M,H=8;for(M=0;16>M;++M)H+=x[C+M-32];gu(H>>4,x,C)}function ad(x,C){gu(128,x,C)}function Ar(x,C,M){return x+2*C+M+2>>2}function Il(x,C){var M,H=C-32;for(H=new Uint8Array([Ar(x[H-1],x[H+0],x[H+1]),Ar(x[H+0],x[H+1],x[H+2]),Ar(x[H+1],x[H+2],x[H+3]),Ar(x[H+2],x[H+3],x[H+4])]),M=0;4>M;++M)n(x,C+32*M,H,0,H.length)}function Tm(x,C){var M=x[C-1],H=x[C-1+32],re=x[C-1+64],se=x[C-1+96];he(x,C+0,16843009*Ar(x[C-1-32],M,H)),he(x,C+32,16843009*Ar(M,H,re)),he(x,C+64,16843009*Ar(H,re,se)),he(x,C+96,16843009*Ar(re,se,se))}function uo(x,C){var M,H=4;for(M=0;4>M;++M)H+=x[C+M-32]+x[C-1+32*M];for(H>>=3,M=0;4>M;++M)a(x,C+32*M,H,4)}function Rh(x,C){var M=x[C-1+0],H=x[C-1+32],re=x[C-1+64],se=x[C-1-32],le=x[C+0-32],fe=x[C+1-32],pe=x[C+2-32],ve=x[C+3-32];x[C+0+96]=Ar(H,re,x[C-1+96]),x[C+1+96]=x[C+0+64]=Ar(M,H,re),x[C+2+96]=x[C+1+64]=x[C+0+32]=Ar(se,M,H),x[C+3+96]=x[C+2+64]=x[C+1+32]=x[C+0+0]=Ar(le,se,M),x[C+3+64]=x[C+2+32]=x[C+1+0]=Ar(fe,le,se),x[C+3+32]=x[C+2+0]=Ar(pe,fe,le),x[C+3+0]=Ar(ve,pe,fe)}function Vs(x,C){var M=x[C+1-32],H=x[C+2-32],re=x[C+3-32],se=x[C+4-32],le=x[C+5-32],fe=x[C+6-32],pe=x[C+7-32];x[C+0+0]=Ar(x[C+0-32],M,H),x[C+1+0]=x[C+0+32]=Ar(M,H,re),x[C+2+0]=x[C+1+32]=x[C+0+64]=Ar(H,re,se),x[C+3+0]=x[C+2+32]=x[C+1+64]=x[C+0+96]=Ar(re,se,le),x[C+3+32]=x[C+2+64]=x[C+1+96]=Ar(se,le,fe),x[C+3+64]=x[C+2+96]=Ar(le,fe,pe),x[C+3+96]=Ar(fe,pe,pe)}function vu(x,C){var M=x[C-1+0],H=x[C-1+32],re=x[C-1+64],se=x[C-1-32],le=x[C+0-32],fe=x[C+1-32],pe=x[C+2-32],ve=x[C+3-32];x[C+0+0]=x[C+1+64]=se+le+1>>1,x[C+1+0]=x[C+2+64]=le+fe+1>>1,x[C+2+0]=x[C+3+64]=fe+pe+1>>1,x[C+3+0]=pe+ve+1>>1,x[C+0+96]=Ar(re,H,M),x[C+0+64]=Ar(H,M,se),x[C+0+32]=x[C+1+96]=Ar(M,se,le),x[C+1+32]=x[C+2+96]=Ar(se,le,fe),x[C+2+32]=x[C+3+96]=Ar(le,fe,pe),x[C+3+32]=Ar(fe,pe,ve)}function id(x,C){var M=x[C+0-32],H=x[C+1-32],re=x[C+2-32],se=x[C+3-32],le=x[C+4-32],fe=x[C+5-32],pe=x[C+6-32],ve=x[C+7-32];x[C+0+0]=M+H+1>>1,x[C+1+0]=x[C+0+64]=H+re+1>>1,x[C+2+0]=x[C+1+64]=re+se+1>>1,x[C+3+0]=x[C+2+64]=se+le+1>>1,x[C+0+32]=Ar(M,H,re),x[C+1+32]=x[C+0+96]=Ar(H,re,se),x[C+2+32]=x[C+1+96]=Ar(re,se,le),x[C+3+32]=x[C+2+96]=Ar(se,le,fe),x[C+3+64]=Ar(le,fe,pe),x[C+3+96]=Ar(fe,pe,ve)}function yu(x,C){var M=x[C-1+0],H=x[C-1+32],re=x[C-1+64],se=x[C-1+96];x[C+0+0]=M+H+1>>1,x[C+2+0]=x[C+0+32]=H+re+1>>1,x[C+2+32]=x[C+0+64]=re+se+1>>1,x[C+1+0]=Ar(M,H,re),x[C+3+0]=x[C+1+32]=Ar(H,re,se),x[C+3+32]=x[C+1+64]=Ar(re,se,se),x[C+3+64]=x[C+2+64]=x[C+0+96]=x[C+1+96]=x[C+2+96]=x[C+3+96]=se}function xu(x,C){var M=x[C-1+0],H=x[C-1+32],re=x[C-1+64],se=x[C-1+96],le=x[C-1-32],fe=x[C+0-32],pe=x[C+1-32],ve=x[C+2-32];x[C+0+0]=x[C+2+32]=M+le+1>>1,x[C+0+32]=x[C+2+64]=H+M+1>>1,x[C+0+64]=x[C+2+96]=re+H+1>>1,x[C+0+96]=se+re+1>>1,x[C+3+0]=Ar(fe,pe,ve),x[C+2+0]=Ar(le,fe,pe),x[C+1+0]=x[C+3+32]=Ar(M,le,fe),x[C+1+32]=x[C+3+64]=Ar(H,M,le),x[C+1+64]=x[C+3+96]=Ar(re,H,M),x[C+1+96]=Ar(se,re,H)}function Fh(x,C){var M;for(M=0;8>M;++M)n(x,C+32*M,x,C-32,8)}function Ho(x,C){var M;for(M=0;8>M;++M)a(x,C,x[C-1],8),C+=32}function zs(x,C,M){var H;for(H=0;8>H;++H)a(C,M+32*H,x,8)}function Go(x,C){var M,H=8;for(M=0;8>M;++M)H+=x[C+M-32]+x[C-1+32*M];zs(H>>4,x,C)}function sd(x,C){var M,H=4;for(M=0;8>M;++M)H+=x[C+M-32];zs(H>>3,x,C)}function wn(x,C){var M,H=4;for(M=0;8>M;++M)H+=x[C-1+32*M];zs(H>>3,x,C)}function od(x,C){zs(128,x,C)}function bu(x,C,M){var H=x[C-M],re=x[C+0],se=3*(re-H)+P_[1020+x[C-2*M]-x[C+M]],le=Iy[112+(se+4>>3)];x[C-M]=Ws[255+H+Iy[112+(se+3>>3)]],x[C+0]=Ws[255+re-le]}function ld(x,C,M,H){var re=x[C+0],se=x[C+M];return go[255+x[C-2*M]-x[C-M]]>H||go[255+se-re]>H}function cd(x,C,M,H){return 4*go[255+x[C-M]-x[C+0]]+go[255+x[C-2*M]-x[C+M]]<=H}function ud(x,C,M,H,re){var se=x[C-3*M],le=x[C-2*M],fe=x[C-M],pe=x[C+0],ve=x[C+M],je=x[C+2*M],Ze=x[C+3*M];return 4*go[255+fe-pe]+go[255+le-ve]>H?0:go[255+x[C-4*M]-se]<=re&&go[255+se-le]<=re&&go[255+le-fe]<=re&&go[255+Ze-je]<=re&&go[255+je-ve]<=re&&go[255+ve-pe]<=re}function dc(x,C,M,H){var re=2*H+1;for(H=0;16>H;++H)cd(x,C+H,M,re)&&bu(x,C+H,M)}function qs(x,C,M,H){var re=2*H+1;for(H=0;16>H;++H)cd(x,C+H*M,1,re)&&bu(x,C+H*M,1)}function Ra(x,C,M,H){var re;for(re=3;0<re;--re)dc(x,C+=4*M,M,H)}function $h(x,C,M,H){var re;for(re=3;0<re;--re)qs(x,C+=4,M,H)}function jl(x,C,M,H,re,se,le,fe){for(se=2*se+1;0<re--;){if(ud(x,C,M,se,le))if(ld(x,C,M,fe))bu(x,C,M);else{var pe=x,ve=C,je=M,Ze=pe[ve-2*je],et=pe[ve-je],ze=pe[ve+0],xt=pe[ve+je],ot=pe[ve+2*je],Le=27*(pt=P_[1020+3*(ze-et)+P_[1020+Ze-xt]])+63>>7,Be=18*pt+63>>7,pt=9*pt+63>>7;pe[ve-3*je]=Ws[255+pe[ve-3*je]+pt],pe[ve-2*je]=Ws[255+Ze+Be],pe[ve-je]=Ws[255+et+Le],pe[ve+0]=Ws[255+ze-Le],pe[ve+je]=Ws[255+xt-Be],pe[ve+2*je]=Ws[255+ot-pt]}C+=H}}function li(x,C,M,H,re,se,le,fe){for(se=2*se+1;0<re--;){if(ud(x,C,M,se,le))if(ld(x,C,M,fe))bu(x,C,M);else{var pe=x,ve=C,je=M,Ze=pe[ve-je],et=pe[ve+0],ze=pe[ve+je],xt=Iy[112+((ot=3*(et-Ze))+4>>3)],ot=Iy[112+(ot+3>>3)],Le=xt+1>>1;pe[ve-2*je]=Ws[255+pe[ve-2*je]+Le],pe[ve-je]=Ws[255+Ze+ot],pe[ve+0]=Ws[255+et-xt],pe[ve+je]=Ws[255+ze-Le]}C+=H}}function wu(x,C,M,H,re,se){jl(x,C,M,1,16,H,re,se)}function Ko(x,C,M,H,re,se){jl(x,C,1,M,16,H,re,se)}function _u(x,C,M,H,re,se){var le;for(le=3;0<le;--le)li(x,C+=4*M,M,1,16,H,re,se)}function hc(x,C,M,H,re,se){var le;for(le=3;0<le;--le)li(x,C+=4,1,M,16,H,re,se)}function Su(x,C,M,H,re,se,le,fe){jl(x,C,re,1,8,se,le,fe),jl(M,H,re,1,8,se,le,fe)}function fd(x,C,M,H,re,se,le,fe){jl(x,C,1,re,8,se,le,fe),jl(M,H,1,re,8,se,le,fe)}function Au(x,C,M,H,re,se,le,fe){li(x,C+4*re,re,1,8,se,le,fe),li(M,H+4*re,re,1,8,se,le,fe)}function Dl(x,C,M,H,re,se,le,fe){li(x,C+4,1,re,8,se,le,fe),li(M,H+4,1,re,8,se,le,fe)}function pc(){this.ba=new Dt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Mt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Eu(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function mc(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Tu(){this.ua=0,this.Wa=new ie,this.vb=new ie,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new U,this.yc=new N}function Bh(){this.xb=this.a=0,this.l=new wt,this.ca=new Dt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new k,this.Pb=0,this.wd=new k,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Tu,this.ab=0,this.gc=s(4,mc),this.Oc=0}function Yo(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new wt,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ll(x,C,M,H,re,se,le){for(x=x==null?0:x[C+0],C=0;C<le;++C)re[se+C]=x+M[H+C]&255,x=re[se+C]}function Nu(x,C,M,H,re,se,le){var fe;if(x==null)Ll(null,null,M,H,re,se,le);else for(fe=0;fe<le;++fe)re[se+fe]=x[C+fe]+M[H+fe]&255}function ki(x,C,M,H,re,se,le){if(x==null)Ll(null,null,M,H,re,se,le);else{var fe,pe=x[C+0],ve=pe,je=pe;for(fe=0;fe<le;++fe)ve=je+(pe=x[C+fe])-ve,je=M[H+fe]+(-256&ve?0>ve?0:255:ve)&255,ve=pe,re[se+fe]=je}}function ku(x,C,M,H){var re=C.width,se=C.o;if(t(x!=null&&C!=null),0>M||0>=H||M+H>se)return null;if(!x.Cc){if(x.ga==null){var le;if(x.ga=new Yo,(le=x.ga==null)||(le=C.width*C.o,t(x.Gb.length==0),x.Gb=i(le),x.Uc=0,x.Gb==null?le=0:(x.mb=x.Gb,x.nb=x.Uc,x.rc=null,le=1),le=!le),!le){le=x.ga;var fe=x.Fa,pe=x.P,ve=x.qc,je=x.mb,Ze=x.nb,et=pe+1,ze=ve-1,xt=le.l;if(t(fe!=null&&je!=null&&C!=null),Du[0]=null,Du[1]=Ll,Du[2]=Nu,Du[3]=ki,le.ca=je,le.tb=Ze,le.c=C.width,le.i=C.height,t(0<le.c&&0<le.i),1>=ve)C=0;else if(le.$a=fe[pe+0]>>0&3,le.Z=fe[pe+0]>>2&3,le.Lc=fe[pe+0]>>4&3,pe=fe[pe+0]>>6&3,0>le.$a||1<le.$a||4<=le.Z||1<le.Lc||pe)C=0;else if(xt.put=Te,xt.ac=wr,xt.bc=st,xt.ma=le,xt.width=C.width,xt.height=C.height,xt.Da=C.Da,xt.v=C.v,xt.va=C.va,xt.j=C.j,xt.o=C.o,le.$a)e:{t(le.$a==1),C=rt();t:for(;;){if(C==null){C=0;break e}if(t(le!=null),le.mc=C,C.c=le.c,C.i=le.i,C.l=le.l,C.l.ma=le,C.l.width=le.c,C.l.height=le.i,C.a=0,q(C.m,fe,et,ze),!We(le.c,le.i,1,C,null)||(C.ab==1&&C.gc[0].hc==3&&me(C.s)?(le.ic=1,fe=C.c*C.i,C.Ta=null,C.Ua=0,C.V=i(fe),C.Ba=0,C.V==null?(C.a=1,C=0):C=1):(le.ic=0,C=Qe(C,le.c)),!C))break t;C=1;break e}le.mc=null,C=0}else C=ze>=le.c*le.i;le=!C}if(le)return null;x.ga.Lc!=1?x.Ga=0:H=se-M}t(x.ga!=null),t(M+H<=se);e:{if(C=(fe=x.ga).c,se=fe.l.o,fe.$a==0){if(et=x.rc,ze=x.Vc,xt=x.Fa,pe=x.P+1+M*C,ve=x.mb,je=x.nb+M*C,t(pe<=x.P+x.qc),fe.Z!=0)for(t(Du[fe.Z]!=null),le=0;le<H;++le)Du[fe.Z](et,ze,xt,pe,ve,je,C),et=ve,ze=je,je+=C,pe+=C;else for(le=0;le<H;++le)n(ve,je,xt,pe,C),et=ve,ze=je,je+=C,pe+=C;x.rc=et,x.Vc=ze}else{if(t(fe.mc!=null),C=M+H,t((le=fe.mc)!=null),t(C<=le.i),le.C>=C)C=1;else if(fe.ic||Ve(),fe.ic){fe=le.V,et=le.Ba,ze=le.c;var ot=le.i,Le=(xt=1,pe=le.$/ze,ve=le.$%ze,je=le.m,Ze=le.s,le.$),Be=ze*ot,pt=ze*C,At=Ze.wc,vt=Le<pt?Ur(Ze,ve,pe):null;t(Le<=Be),t(C<=ot),t(me(Ze));t:for(;;){for(;!je.h&&Le<pt;){if(ve&At||(vt=Ur(Ze,ve,pe)),t(vt!=null),Q(je),256>(ot=Lr(vt.G[0],vt.H[0],je)))fe[et+Le]=ot,++Le,++ve>=ze&&(ve=0,++pe<=C&&!(pe%16)&&xe(le,pe));else{if(!(280>ot)){xt=0;break t}ot=er(ot-256,je);var Yt,Ut=Lr(vt.G[4],vt.H[4],je);if(Q(je),!(Le>=(Ut=sr(ze,Ut=er(Ut,je)))&&Be-Le>=ot)){xt=0;break t}for(Yt=0;Yt<ot;++Yt)fe[et+Le+Yt]=fe[et+Le+Yt-Ut];for(Le+=ot,ve+=ot;ve>=ze;)ve-=ze,++pe<=C&&!(pe%16)&&xe(le,pe);Le<pt&&ve&At&&(vt=Ur(Ze,ve,pe))}t(je.h==z(je))}xe(le,pe>C?C:pe);break t}!xt||je.h&&Le<Be?(xt=0,le.a=je.h?5:3):le.$=Le,C=xt}else C=we(le,le.V,le.Ba,le.c,le.i,C,Je);if(!C){H=0;break e}}M+H>=se&&(x.Cc=1),H=1}if(!H)return null;if(x.Cc&&((H=x.ga)!=null&&(H.mc=null),x.ga=null,0<x.Ga))return alert("todo:WebPDequantizeLevels"),null}return x.nb+M*re}function L(x,C,M,H,re,se){for(;0<re--;){var le,fe=x,pe=C+(M?1:0),ve=x,je=C+(M?0:3);for(le=0;le<H;++le){var Ze=ve[je+4*le];Ze!=255&&(Ze*=32897,fe[pe+4*le+0]=fe[pe+4*le+0]*Ze>>23,fe[pe+4*le+1]=fe[pe+4*le+1]*Ze>>23,fe[pe+4*le+2]=fe[pe+4*le+2]*Ze>>23)}C+=se}}function te(x,C,M,H,re){for(;0<H--;){var se;for(se=0;se<M;++se){var le=x[C+2*se+0],fe=15&(ve=x[C+2*se+1]),pe=4369*fe,ve=(240&ve|ve>>4)*pe>>16;x[C+2*se+0]=(240&le|le>>4)*pe>>16&240|(15&le|le<<4)*pe>>16>>4&15,x[C+2*se+1]=240&ve|fe}C+=re}}function Ae(x,C,M,H,re,se,le,fe){var pe,ve,je=255;for(ve=0;ve<re;++ve){for(pe=0;pe<H;++pe){var Ze=x[C+pe];se[le+4*pe]=Ze,je&=Ze}C+=M,le+=fe}return je!=255}function Oe(x,C,M,H,re){var se;for(se=0;se<re;++se)M[H+se]=x[C+se]>>8}function Ve(){mo=L,Rn=te,Fn=Ae,ya=Oe}function lt(x,C,M){_[x]=function(H,re,se,le,fe,pe,ve,je,Ze,et,ze,xt,ot,Le,Be,pt,At){var vt,Yt=At-1>>1,Ut=fe[pe+0]|ve[je+0]<<16,hr=Ze[et+0]|ze[xt+0]<<16;t(H!=null);var qt=3*Ut+hr+131074>>2;for(C(H[re+0],255&qt,qt>>16,ot,Le),se!=null&&(qt=3*hr+Ut+131074>>2,C(se[le+0],255&qt,qt>>16,Be,pt)),vt=1;vt<=Yt;++vt){var gn=fe[pe+vt]|ve[je+vt]<<16,An=Ze[et+vt]|ze[xt+vt]<<16,un=Ut+gn+hr+An+524296,Xr=un+2*(gn+hr)>>3;qt=Xr+Ut>>1,Ut=(un=un+2*(Ut+An)>>3)+gn>>1,C(H[re+2*vt-1],255&qt,qt>>16,ot,Le+(2*vt-1)*M),C(H[re+2*vt-0],255&Ut,Ut>>16,ot,Le+(2*vt-0)*M),se!=null&&(qt=un+hr>>1,Ut=Xr+An>>1,C(se[le+2*vt-1],255&qt,qt>>16,Be,pt+(2*vt-1)*M),C(se[le+2*vt+0],255&Ut,Ut>>16,Be,pt+(2*vt+0)*M)),Ut=gn,hr=An}1&At||(qt=3*Ut+hr+131074>>2,C(H[re+At-1],255&qt,qt>>16,ot,Le+(At-1)*M),se!=null&&(qt=3*hr+Ut+131074>>2,C(se[le+At-1],255&qt,qt>>16,Be,pt+(At-1)*M)))}}function Et(){vo[jy]=iX,vo[Dy]=GP,vo[VP]=sX,vo[Ly]=KP,vo[My]=YP,vo[O_]=XP,vo[zP]=oX,vo[I_]=GP,vo[j_]=KP,vo[Ry]=YP,vo[D_]=XP}function Vt(x){return x&~lX?0>x?0:255:x>>QP}function A(x,C){return Vt((19077*x>>8)+(26149*C>>8)-14234)}function B(x,C,M){return Vt((19077*x>>8)-(6419*C>>8)-(13320*M>>8)+8708)}function X(x,C){return Vt((19077*x>>8)+(33050*C>>8)-17685)}function ue(x,C,M,H,re){H[re+0]=A(x,M),H[re+1]=B(x,C,M),H[re+2]=X(x,C)}function Ue(x,C,M,H,re){H[re+0]=X(x,C),H[re+1]=B(x,C,M),H[re+2]=A(x,M)}function tt(x,C,M,H,re){var se=B(x,C,M);C=se<<3&224|X(x,C)>>3,H[re+0]=248&A(x,M)|se>>5,H[re+1]=C}function Nt(x,C,M,H,re){var se=240&X(x,C)|15;H[re+0]=240&A(x,M)|B(x,C,M)>>4,H[re+1]=se}function Or(x,C,M,H,re){H[re+0]=255,ue(x,C,M,H,re+1)}function Yr(x,C,M,H,re){Ue(x,C,M,H,re),H[re+3]=255}function Ir(x,C,M,H,re){ue(x,C,M,H,re),H[re+3]=255}function _n(x,C){return 0>x?0:x>C?C:x}function In(x,C,M){_[x]=function(H,re,se,le,fe,pe,ve,je,Ze){for(var et=je+(-2&Ze)*M;je!=et;)C(H[re+0],se[le+0],fe[pe+0],ve,je),C(H[re+1],se[le+0],fe[pe+0],ve,je+M),re+=2,++le,++pe,je+=2*M;1&Ze&&C(H[re+0],se[le+0],fe[pe+0],ve,je)}}function Xo(x,C,M){return M==0?x==0?C==0?6:5:C==0?4:0:M}function ci(x,C,M,H,re){switch(x>>>30){case 3:yc(C,M,H,re,0);break;case 2:va(C,M,H,re);break;case 1:as(C,M,H,re)}}function Ml(x,C){var M,H,re=C.M,se=C.Nb,le=x.oc,fe=x.pc+40,pe=x.oc,ve=x.pc+584,je=x.oc,Ze=x.pc+600;for(M=0;16>M;++M)le[fe+32*M-1]=129;for(M=0;8>M;++M)pe[ve+32*M-1]=129,je[Ze+32*M-1]=129;for(0<re?le[fe-1-32]=pe[ve-1-32]=je[Ze-1-32]=129:(a(le,fe-32-1,127,21),a(pe,ve-32-1,127,9),a(je,Ze-32-1,127,9)),H=0;H<x.za;++H){var et=C.ya[C.aa+H];if(0<H){for(M=-1;16>M;++M)n(le,fe+32*M-4,le,fe+32*M+12,4);for(M=-1;8>M;++M)n(pe,ve+32*M-4,pe,ve+32*M+4,4),n(je,Ze+32*M-4,je,Ze+32*M+4,4)}var ze=x.Gd,xt=x.Hd+H,ot=et.ad,Le=et.Hc;if(0<re&&(n(le,fe-32,ze[xt].y,0,16),n(pe,ve-32,ze[xt].f,0,8),n(je,Ze-32,ze[xt].ea,0,8)),et.Za){var Be=le,pt=fe-32+16;for(0<re&&(H>=x.za-1?a(Be,pt,ze[xt].y[15],4):n(Be,pt,ze[xt+1].y,0,4)),M=0;4>M;M++)Be[pt+128+M]=Be[pt+256+M]=Be[pt+384+M]=Be[pt+0+M];for(M=0;16>M;++M,Le<<=2)Be=le,pt=fe+ZP[M],Qo[et.Ob[M]](Be,pt),ci(Le,ot,16*+M,Be,pt)}else if(Be=Xo(H,re,et.Ob[0]),ju[Be](le,fe),Le!=0)for(M=0;16>M;++M,Le<<=2)ci(Le,ot,16*+M,le,fe+ZP[M]);for(M=et.Gc,Be=Xo(H,re,et.Dd),bc[Be](pe,ve),bc[Be](je,Ze),Le=ot,Be=pe,pt=ve,255&(et=M>>0)&&(170&et?Om(Le,256,Be,pt):ho(Le,256,Be,pt)),et=je,Le=Ze,255&(M>>=8)&&(170&M?Om(ot,320,et,Le):ho(ot,320,et,Le)),re<x.Ub-1&&(n(ze[xt].y,0,le,fe+480,16),n(ze[xt].f,0,pe,ve+224,8),n(ze[xt].ea,0,je,Ze+224,8)),M=8*se*x.B,ze=x.sa,xt=x.ta+16*H+16*se*x.R,ot=x.qa,et=x.ra+8*H+M,Le=x.Ha,Be=x.Ia+8*H+M,M=0;16>M;++M)n(ze,xt+M*x.R,le,fe+32*M,16);for(M=0;8>M;++M)n(ot,et+M*x.B,pe,ve+32*M,8),n(Le,Be+M*x.B,je,Ze+32*M,8)}}function Rl(x,C,M,H,re,se,le,fe,pe){var ve=[0],je=[0],Ze=0,et=pe!=null?pe.kd:0,ze=pe??new Eu;if(x==null||12>M)return 7;ze.data=x,ze.w=C,ze.ha=M,C=[C],M=[M],ze.gb=[ze.gb];e:{var xt=C,ot=M,Le=ze.gb;if(t(x!=null),t(ot!=null),t(Le!=null),Le[0]=0,12<=ot[0]&&!r(x,xt[0],"RIFF")){if(r(x,xt[0]+8,"WEBP")){Le=3;break e}var Be=Ce(x,xt[0]+4);if(12>Be||4294967286<Be){Le=3;break e}if(et&&Be>ot[0]-8){Le=7;break e}Le[0]=Be,xt[0]+=12,ot[0]-=12}Le=0}if(Le!=0)return Le;for(Be=0<ze.gb[0],M=M[0];;){e:{var pt=x;ot=C,Le=M;var At=ve,vt=je,Yt=xt=[0];if((qt=Ze=[Ze])[0]=0,8>Le[0])Le=7;else{if(!r(pt,ot[0],"VP8X")){if(Ce(pt,ot[0]+4)!=10){Le=3;break e}if(18>Le[0]){Le=7;break e}var Ut=Ce(pt,ot[0]+8),hr=1+W(pt,ot[0]+12);if(2147483648<=hr*(pt=1+W(pt,ot[0]+15))){Le=3;break e}Yt!=null&&(Yt[0]=Ut),At!=null&&(At[0]=hr),vt!=null&&(vt[0]=pt),ot[0]+=18,Le[0]-=18,qt[0]=1}Le=0}}if(Ze=Ze[0],xt=xt[0],Le!=0)return Le;if(ot=!!(2&xt),!Be&&Ze)return 3;if(se!=null&&(se[0]=!!(16&xt)),le!=null&&(le[0]=ot),fe!=null&&(fe[0]=0),le=ve[0],xt=je[0],Ze&&ot&&pe==null){Le=0;break}if(4>M){Le=7;break}if(Be&&Ze||!Be&&!Ze&&!r(x,C[0],"ALPH")){M=[M],ze.na=[ze.na],ze.P=[ze.P],ze.Sa=[ze.Sa];e:{Ut=x,Le=C,Be=M;var qt=ze.gb;At=ze.na,vt=ze.P,Yt=ze.Sa,hr=22,t(Ut!=null),t(Be!=null),pt=Le[0];var gn=Be[0];for(t(At!=null),t(Yt!=null),At[0]=null,vt[0]=null,Yt[0]=0;;){if(Le[0]=pt,Be[0]=gn,8>gn){Le=7;break e}var An=Ce(Ut,pt+4);if(4294967286<An){Le=3;break e}var un=8+An+1&-2;if(hr+=un,0<qt&&hr>qt){Le=3;break e}if(!r(Ut,pt,"VP8 ")||!r(Ut,pt,"VP8L")){Le=0;break e}if(gn[0]<un){Le=7;break e}r(Ut,pt,"ALPH")||(At[0]=Ut,vt[0]=pt+8,Yt[0]=An),pt+=un,gn-=un}}if(M=M[0],ze.na=ze.na[0],ze.P=ze.P[0],ze.Sa=ze.Sa[0],Le!=0)break}M=[M],ze.Ja=[ze.Ja],ze.xa=[ze.xa];e:if(qt=x,Le=C,Be=M,At=ze.gb[0],vt=ze.Ja,Yt=ze.xa,Ut=Le[0],pt=!r(qt,Ut,"VP8 "),hr=!r(qt,Ut,"VP8L"),t(qt!=null),t(Be!=null),t(vt!=null),t(Yt!=null),8>Be[0])Le=7;else{if(pt||hr){if(qt=Ce(qt,Ut+4),12<=At&&qt>At-12){Le=3;break e}if(et&&qt>Be[0]-8){Le=7;break e}vt[0]=qt,Le[0]+=8,Be[0]-=8,Yt[0]=hr}else Yt[0]=5<=Be[0]&&qt[Ut+0]==47&&!(qt[Ut+4]>>5),vt[0]=Be[0];Le=0}if(M=M[0],ze.Ja=ze.Ja[0],ze.xa=ze.xa[0],C=C[0],Le!=0)break;if(4294967286<ze.Ja)return 3;if(fe==null||ot||(fe[0]=ze.xa?2:1),le=[le],xt=[xt],ze.xa){if(5>M){Le=7;break}fe=le,et=xt,ot=se,x==null||5>M?x=0:5<=M&&x[C+0]==47&&!(x[C+4]>>5)?(Be=[0],qt=[0],At=[0],q(vt=new k,x,C,M),He(vt,Be,qt,At)?(fe!=null&&(fe[0]=Be[0]),et!=null&&(et[0]=qt[0]),ot!=null&&(ot[0]=At[0]),x=1):x=0):x=0}else{if(10>M){Le=7;break}fe=xt,x==null||10>M||!yt(x,C+3,M-3)?x=0:(et=x[C+0]|x[C+1]<<8|x[C+2]<<16,ot=16383&(x[C+7]<<8|x[C+6]),x=16383&(x[C+9]<<8|x[C+8]),1&et||3<(et>>1&7)||!(et>>4&1)||et>>5>=ze.Ja||!ot||!x?x=0:(le&&(le[0]=ot),fe&&(fe[0]=x),x=1))}if(!x||(le=le[0],xt=xt[0],Ze&&(ve[0]!=le||je[0]!=xt)))return 3;pe!=null&&(pe[0]=ze,pe.offset=C-pe.w,t(4294967286>C-pe.w),t(pe.offset==pe.ha-M));break}return Le==0||Le==7&&Ze&&pe==null?(se!=null&&(se[0]|=ze.na!=null&&0<ze.na.length),H!=null&&(H[0]=le),re!=null&&(re[0]=xt),0):Le}function Nm(x,C,M){var H=C.width,re=C.height,se=0,le=0,fe=H,pe=re;if(C.Da=x!=null&&0<x.Da,C.Da&&(fe=x.cd,pe=x.bd,se=x.v,le=x.j,11>M||(se&=-2,le&=-2),0>se||0>le||0>=fe||0>=pe||se+fe>H||le+pe>re))return 0;if(C.v=se,C.j=le,C.va=se+fe,C.o=le+pe,C.U=fe,C.T=pe,C.da=x!=null&&0<x.da,C.da){if(!Fe(fe,pe,M=[x.ib],se=[x.hb]))return 0;C.ib=M[0],C.hb=se[0]}return C.ob=x!=null&&x.ob,C.Kb=x==null||!x.Sd,C.da&&(C.ob=C.ib<3*H/4&&C.hb<3*re/4,C.Kb=0),1}function km(x){if(x==null)return 2;if(11>x.S){var C=x.f.RGBA;C.fb+=(x.height-1)*C.A,C.A=-C.A}else C=x.f.kb,x=x.height,C.O+=(x-1)*C.fa,C.fa=-C.fa,C.N+=(x-1>>1)*C.Ab,C.Ab=-C.Ab,C.W+=(x-1>>1)*C.Db,C.Db=-C.Db,C.F!=null&&(C.J+=(x-1)*C.lb,C.lb=-C.lb);return 0}function Uh(x,C,M,H){if(H==null||0>=x||0>=C)return 2;if(M!=null){if(M.Da){var re=M.cd,se=M.bd,le=-2&M.v,fe=-2&M.j;if(0>le||0>fe||0>=re||0>=se||le+re>x||fe+se>C)return 2;x=re,C=se}if(M.da){if(!Fe(x,C,re=[M.ib],se=[M.hb]))return 2;x=re[0],C=se[0]}}H.width=x,H.height=C;e:{var pe=H.width,ve=H.height;if(x=H.S,0>=pe||0>=ve||!(x>=jy&&13>x))x=2;else{if(0>=H.Rd&&H.sd==null){le=se=re=C=0;var je=(fe=pe*e6[x])*ve;if(11>x||(se=(ve+1)/2*(C=(pe+1)/2),x==12&&(le=(re=pe)*ve)),(ve=i(je+2*se+le))==null){x=1;break e}H.sd=ve,11>x?((pe=H.f.RGBA).eb=ve,pe.fb=0,pe.A=fe,pe.size=je):((pe=H.f.kb).y=ve,pe.O=0,pe.fa=fe,pe.Fd=je,pe.f=ve,pe.N=0+je,pe.Ab=C,pe.Cd=se,pe.ea=ve,pe.W=0+je+se,pe.Db=C,pe.Ed=se,x==12&&(pe.F=ve,pe.J=0+je+2*se),pe.Tc=le,pe.lb=re)}if(C=1,re=H.S,se=H.width,le=H.height,re>=jy&&13>re)if(11>re)x=H.f.RGBA,C&=(fe=Math.abs(x.A))*(le-1)+se<=x.size,C&=fe>=se*e6[re],C&=x.eb!=null;else{x=H.f.kb,fe=(se+1)/2,je=(le+1)/2,pe=Math.abs(x.fa),ve=Math.abs(x.Ab);var Ze=Math.abs(x.Db),et=Math.abs(x.lb),ze=et*(le-1)+se;C&=pe*(le-1)+se<=x.Fd,C&=ve*(je-1)+fe<=x.Cd,C=(C&=Ze*(je-1)+fe<=x.Ed)&pe>=se&ve>=fe&Ze>=fe,C&=x.y!=null,C&=x.f!=null,C&=x.ea!=null,re==12&&(C&=et>=se,C&=ze<=x.Tc,C&=x.F!=null)}else C=0;x=C?0:2}}return x!=0||M!=null&&M.fd&&(x=km(H)),x}var ui=64,Vh=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],zh=24,qh=32,Cm=8,_s=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];$e("Predictor0","PredictorAdd0"),_.Predictor0=function(){return 4278190080},_.Predictor1=function(x){return x},_.Predictor2=function(x,C,M){return C[M+0]},_.Predictor3=function(x,C,M){return C[M+1]},_.Predictor4=function(x,C,M){return C[M-1]},_.Predictor5=function(x,C,M){return De(De(x,C[M+1]),C[M+0])},_.Predictor6=function(x,C,M){return De(x,C[M-1])},_.Predictor7=function(x,C,M){return De(x,C[M+0])},_.Predictor8=function(x,C,M){return De(C[M-1],C[M+0])},_.Predictor9=function(x,C,M){return De(C[M+0],C[M+1])},_.Predictor10=function(x,C,M){return De(De(x,C[M-1]),De(C[M+0],C[M+1]))},_.Predictor11=function(x,C,M){var H=C[M+0];return 0>=at(H>>24&255,x>>24&255,(C=C[M-1])>>24&255)+at(H>>16&255,x>>16&255,C>>16&255)+at(H>>8&255,x>>8&255,C>>8&255)+at(255&H,255&x,255&C)?H:x},_.Predictor12=function(x,C,M){var H=C[M+0];return(Ne((x>>24&255)+(H>>24&255)-((C=C[M-1])>>24&255))<<24|Ne((x>>16&255)+(H>>16&255)-(C>>16&255))<<16|Ne((x>>8&255)+(H>>8&255)-(C>>8&255))<<8|Ne((255&x)+(255&H)-(255&C)))>>>0},_.Predictor13=function(x,C,M){var H=C[M-1];return(qe((x=De(x,C[M+0]))>>24&255,H>>24&255)<<24|qe(x>>16&255,H>>16&255)<<16|qe(x>>8&255,H>>8&255)<<8|qe(x>>0&255,H>>0&255))>>>0};var C_=_.PredictorAdd0;_.PredictorAdd1=nt,$e("Predictor2","PredictorAdd2"),$e("Predictor3","PredictorAdd3"),$e("Predictor4","PredictorAdd4"),$e("Predictor5","PredictorAdd5"),$e("Predictor6","PredictorAdd6"),$e("Predictor7","PredictorAdd7"),$e("Predictor8","PredictorAdd8"),$e("Predictor9","PredictorAdd9"),$e("Predictor10","PredictorAdd10"),$e("Predictor11","PredictorAdd11"),$e("Predictor12","PredictorAdd12"),$e("Predictor13","PredictorAdd13");var Pm=_.PredictorAdd2;_t("ColorIndexInverseTransform","MapARGB","32b",function(x){return x>>8&255},function(x){return x}),_t("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(x){return x},function(x){return x>>8&255});var Ny,fo=_.ColorIndexInverseTransform,Wh=_.MapARGB,ky=_.VP8LColorIndexInverseTransformAlpha,Cy=_.MapAlpha,Cu=_.VP8LPredictorsAdd=[];Cu.length=16,(_.VP8LPredictors=[]).length=16,(_.VP8LPredictorsAdd_C=[]).length=16,(_.VP8LPredictors_C=[]).length=16;var dd,Ss,ns,Pu,gc,vc,Hh,yc,va,Om,as,ho,Gh,Py,Im,hd,pd,Ou,md,Kh,gd,Iu,jm,po,mo,Rn,Fn,ya,Fa=i(511),xc=i(2041),Dm=i(225),Yh=i(767),Oy=0,P_=xc,Iy=Dm,Ws=Yh,go=Fa,jy=0,Dy=1,VP=2,Ly=3,My=4,O_=5,zP=6,I_=7,j_=8,Ry=9,D_=10,WY=[2,3,7],HY=[3,3,11],qP=[280,256,256,256,40],GY=[0,1,1,1,0],KY=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],YY=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],XY=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],QY=8,L_=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],M_=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Lm=null,JY=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],ZY=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],WP=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],eX=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],tX=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],rX=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],nX=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ju=[],Qo=[],bc=[],aX=1,HP=2,Du=[],vo=[];lt("UpsampleRgbLinePair",ue,3),lt("UpsampleBgrLinePair",Ue,3),lt("UpsampleRgbaLinePair",Ir,4),lt("UpsampleBgraLinePair",Yr,4),lt("UpsampleArgbLinePair",Or,4),lt("UpsampleRgba4444LinePair",Nt,2),lt("UpsampleRgb565LinePair",tt,2);var iX=_.UpsampleRgbLinePair,sX=_.UpsampleBgrLinePair,GP=_.UpsampleRgbaLinePair,KP=_.UpsampleBgraLinePair,YP=_.UpsampleArgbLinePair,XP=_.UpsampleRgba4444LinePair,oX=_.UpsampleRgb565LinePair,Fy=16,$y=1<<Fy-1,Mm=-227,R_=482,QP=6,lX=(256<<QP)-1,JP=0,cX=i(256),uX=i(256),fX=i(256),dX=i(256),hX=i(R_-Mm),pX=i(R_-Mm);In("YuvToRgbRow",ue,3),In("YuvToBgrRow",Ue,3),In("YuvToRgbaRow",Ir,4),In("YuvToBgraRow",Yr,4),In("YuvToArgbRow",Or,4),In("YuvToRgba4444Row",Nt,2),In("YuvToRgb565Row",tt,2);var ZP=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],By=[0,2,8],mX=[8,7,6,4,4,2,2,2,1,1,1,1],gX=1;this.WebPDecodeRGBA=function(x,C,M,H,re){var se=Dy,le=new pc,fe=new Dt;le.ba=fe,fe.S=se,fe.width=[fe.width],fe.height=[fe.height];var pe=fe.width,ve=fe.height,je=new Ht;if(je==null||x==null)var Ze=2;else t(je!=null),Ze=Rl(x,C,M,je.width,je.height,je.Pd,je.Qd,je.format,null);if(Ze!=0?pe=0:(pe!=null&&(pe[0]=je.width[0]),ve!=null&&(ve[0]=je.height[0]),pe=1),pe){fe.width=fe.width[0],fe.height=fe.height[0],H!=null&&(H[0]=fe.width),re!=null&&(re[0]=fe.height);e:{if(H=new wt,(re=new Eu).data=x,re.w=C,re.ha=M,re.kd=1,C=[0],t(re!=null),((x=Rl(re.data,re.w,re.ha,null,null,null,C,null,re))==0||x==7)&&C[0]&&(x=4),(C=x)==0){if(t(le!=null),H.data=re.data,H.w=re.w+re.offset,H.ha=re.ha-re.offset,H.put=Te,H.ac=wr,H.bc=st,H.ma=le,re.xa){if((x=rt())==null){le=1;break e}if(function(et,ze){var xt=[0],ot=[0],Le=[0];t:for(;;){if(et==null)return 0;if(ze==null)return et.a=2,0;if(et.l=ze,et.a=0,q(et.m,ze.data,ze.w,ze.ha),!He(et.m,xt,ot,Le)){et.a=3;break t}if(et.xb=HP,ze.width=xt[0],ze.height=ot[0],!We(xt[0],ot[0],1,et,null))break t;return 1}return t(et.a!=0),0}(x,H)){if(H=(C=Uh(H.width,H.height,le.Oa,le.ba))==0){t:{H=x;r:for(;;){if(H==null){H=0;break t}if(t(H.s.yc!=null),t(H.s.Ya!=null),t(0<H.s.Wb),t((M=H.l)!=null),t((re=M.ma)!=null),H.xb!=0){if(H.ca=re.ba,H.tb=re.tb,t(H.ca!=null),!Nm(re.Oa,M,Ly)){H.a=2;break r}if(!Qe(H,M.width)||M.da)break r;if((M.da||Me(H.ca.S))&&Ve(),11>H.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),H.ca.f.kb.F!=null&&Ve()),H.Pb&&0<H.s.ua&&H.s.vb.X==null&&!ke(H.s.vb,H.s.Wa.Xa)){H.a=1;break r}H.xb=0}if(!we(H,H.V,H.Ba,H.c,H.i,M.o,be))break r;re.Dc=H.Ma,H=1;break t}t(H.a!=0),H=0}H=!H}H&&(C=x.a)}else C=x.a}else{if((x=new Ft)==null){le=1;break e}if(x.Fa=re.na,x.P=re.P,x.qc=re.Sa,Lt(x,H)){if((C=Uh(H.width,H.height,le.Oa,le.ba))==0){if(x.Aa=0,M=le.Oa,t((re=x)!=null),M!=null){if(0<(pe=0>(pe=M.Md)?0:100<pe?255:255*pe/100)){for(ve=je=0;4>ve;++ve)12>(Ze=re.pb[ve]).lc&&(Ze.ia=pe*mX[0>Ze.lc?0:Ze.lc]>>3),je|=Ze.ia;je&&(alert("todo:VP8InitRandom"),re.ia=1)}re.Ga=M.Id,100<re.Ga?re.Ga=100:0>re.Ga&&(re.Ga=0)}Nr(x,H)||(C=x.a)}}else C=x.a}C==0&&le.Oa!=null&&le.Oa.fd&&(C=km(le.ba))}le=C}se=le!=0?null:11>se?fe.f.RGBA.eb:fe.f.kb.y}else se=null;return se};var e6=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(_,S){for(var I="",T=0;T<4;T++)I+=String.fromCharCode(_[S++]);return I}function u(_,S){return(_[S+0]<<0|_[S+1]<<8|_[S+2]<<16)>>>0}function f(_,S){return(_[S+0]<<0|_[S+1]<<8|_[S+2]<<16|_[S+3]<<24)>>>0}new l;var h=[0],p=[0],g=[],m=new l,y=e,v=function(_,S){var I={},T=0,N=!1,O=0,U=0;if(I.frames=[],!function(R,z,G,Q){for(var oe=0;oe<Q;oe++)if(R[z+oe]!=G.charCodeAt(oe))return!0;return!1}(_,S,"RIFF",4)){for(f(_,S+=4),S+=8;S<_.length;){var Y=c(_,S),K=f(_,S+=4);S+=4;var J=K+(1&K);switch(Y){case"VP8 ":case"VP8L":I.frames[T]===void 0&&(I.frames[T]={}),(ee=I.frames[T]).src_off=N?U:S-8,ee.src_size=O+K+8,T++,N&&(N=!1,O=0,U=0);break;case"VP8X":(ee=I.header={}).feature_flags=_[S];var q=S+4;ee.canvas_width=1+u(_,q),q+=3,ee.canvas_height=1+u(_,q),q+=3;break;case"ALPH":N=!0,O=J+8,U=S-8;break;case"ANIM":(ee=I.header).bgcolor=f(_,S),q=S+4,ee.loop_count=(Z=_)[(k=q)+0]<<0|Z[k+1]<<8,q+=2;break;case"ANMF":var V,ee;(ee=I.frames[T]={}).offset_x=2*u(_,S),S+=3,ee.offset_y=2*u(_,S),S+=3,ee.width=1+u(_,S),S+=3,ee.height=1+u(_,S),S+=3,ee.duration=u(_,S),S+=3,V=_[S++],ee.dispose=1&V,ee.blend=V>>1&1}Y!="ANMF"&&(S+=J)}var Z,k;return I}}(y,0);v.response=y,v.rgbaoutput=!0,v.dataurl=!1;var b=v.header?v.header:null,w=v.frames?v.frames:null;if(b){b.loop_counter=b.loop_count,h=[b.canvas_height],p=[b.canvas_width];for(var D=0;D<w.length&&w[D].blend!=0;D++);}var P=w[0],j=m.WebPDecodeRGBA(y,P.src_off,P.src_size,p,h);P.rgba=j,P.imgwidth=p[0],P.imgheight=h[0];for(var E=0;E<p[0]*h[0]*4;E++)g[E]=j[E];return this.width=p,this.height=h,this.data=g,this}(function(e){var t=function(){return typeof S3=="function"},r=function(h,p,g,m){var y=4,v=s;switch(m){case e.image_compression.FAST:y=1,v=i;break;case e.image_compression.MEDIUM:y=6,v=o;break;case e.image_compression.SLOW:y=9,v=l}h=n(h,p,g,v);var b=S3(h,{level:y});return e.__addimage__.arrayBufferToBinaryString(b)},n=function(h,p,g,m){for(var y,v,b,w=h.length/p,D=new Uint8Array(h.length+w),P=u(),j=0;j<w;j+=1){if(b=j*p,y=h.subarray(b,b+p),m)D.set(m(y,g,v),b+j);else{for(var E,_=P.length,S=[];E<_;E+=1)S[E]=P[E](y,g,v);var I=f(S.concat());D.set(S[I],b+j)}v=y}return D},a=function(h){var p=Array.apply([],h);return p.unshift(0),p},i=function(h,p){var g,m=[],y=h.length;m[0]=1;for(var v=0;v<y;v+=1)g=h[v-p]||0,m[v+1]=h[v]-g+256&255;return m},s=function(h,p,g){var m,y=[],v=h.length;y[0]=2;for(var b=0;b<v;b+=1)m=g&&g[b]||0,y[b+1]=h[b]-m+256&255;return y},o=function(h,p,g){var m,y,v=[],b=h.length;v[0]=3;for(var w=0;w<b;w+=1)m=h[w-p]||0,y=g&&g[w]||0,v[w+1]=h[w]+256-(m+y>>>1)&255;return v},l=function(h,p,g){var m,y,v,b,w=[],D=h.length;w[0]=4;for(var P=0;P<D;P+=1)m=h[P-p]||0,y=g&&g[P]||0,v=g&&g[P-p]||0,b=c(m,y,v),w[P+1]=h[P]-b+256&255;return w},c=function(h,p,g){if(h===p&&p===g)return h;var m=Math.abs(p-g),y=Math.abs(h-g),v=Math.abs(h+p-g-g);return m<=y&&m<=v?h:y<=v?p:g},u=function(){return[a,i,s,o,l]},f=function(h){var p=h.map(function(g){return g.reduce(function(m,y){return m+Math.abs(y)},0)});return p.indexOf(Math.min.apply(null,p))};e.processPNG=function(h,p,g,m){var y,v,b,w,D,P,j,E,_,S,I,T,N,O,U,Y=this.decode.FLATE_DECODE,K="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(b=new eUe(h)).imgData,v=b.bits,y=b.colorSpace,D=b.colors,[4,6].indexOf(b.colorType)!==-1){if(b.bits===8){_=(E=b.pixelBitlength==32?new Uint32Array(b.decodePixels().buffer):b.pixelBitlength==16?new Uint16Array(b.decodePixels().buffer):new Uint8Array(b.decodePixels().buffer)).length,I=new Uint8Array(_*b.colors),S=new Uint8Array(_);var J,q=b.pixelBitlength-b.bits;for(O=0,U=0;O<_;O++){for(N=E[O],J=0;J<q;)I[U++]=N>>>J&255,J+=b.bits;S[O]=N>>>J&255}}if(b.bits===16){_=(E=new Uint32Array(b.decodePixels().buffer)).length,I=new Uint8Array(_*(32/b.pixelBitlength)*b.colors),S=new Uint8Array(_*(32/b.pixelBitlength)),T=b.colors>1,O=0,U=0;for(var V=0;O<_;)N=E[O++],I[U++]=N>>>0&255,T&&(I[U++]=N>>>16&255,N=E[O++],I[U++]=N>>>0&255),S[V++]=N>>>16&255;v=8}m!==e.image_compression.NONE&&t()?(h=r(I,b.width*b.colors,b.colors,m),j=r(S,b.width,1,m)):(h=I,j=S,Y=void 0)}if(b.colorType===3&&(y=this.color_spaces.INDEXED,P=b.palette,b.transparency.indexed)){var ee=b.transparency.indexed,Z=0;for(O=0,_=ee.length;O<_;++O)Z+=ee[O];if((Z/=255)===_-1&&ee.indexOf(0)!==-1)w=[ee.indexOf(0)];else if(Z!==_){for(E=b.decodePixels(),S=new Uint8Array(E.length),O=0,_=E.length;O<_;O++)S[O]=ee[E[O]];j=r(S,b.width,1)}}var k=function(R){var z;switch(R){case e.image_compression.FAST:z=11;break;case e.image_compression.MEDIUM:z=13;break;case e.image_compression.SLOW:z=14;break;default:z=12}return z}(m);return Y===this.decode.FLATE_DECODE&&(K="/Predictor "+k+" "),K+="/Colors "+D+" /BitsPerComponent "+v+" /Columns "+b.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(j&&this.__addimage__.isArrayBuffer(j)||this.__addimage__.isArrayBufferView(j))&&(j=this.__addimage__.arrayBufferToBinaryString(j)),{alias:g,data:h,index:p,filter:Y,decodeParameters:K,transparency:w,palette:P,sMask:j,predictor:k,width:b.width,height:b.height,bitsPerComponent:v,colorSpace:y}}}})(gr.API),function(e){e.processGIF89A=function(t,r,n,a){var i=new tUe(t),s=i.width,o=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:o},u=new VA(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)},e.processGIF87A=e.processGIF89A}(gr.API),al.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},al.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Dn.log("bit decode error:"+r)}},al.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var l=this.palette[i>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},al.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*a*4,o=i>>4,l=15&i,c=this.palette[o];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*a+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},al.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var s=this.palette[a];this.data[i]=s.red,this.data[i+1]=s.green,this.data[i+2]=s.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},al.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(i&t)/t*255|0,o=(i>>5&t)/t*255|0,l=(i>>10&t)/t*255|0,c=i>>15?255:0,u=n*this.width*4+4*a;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=s,this.data[u+3]=c}this.pos+=e}},al.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,l=(s>>5&r)/r*255|0,c=(s>>11)/t*255|0,u=a*this.width*4+4*i;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=e}},al.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},al.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=s}},al.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var i=new al(t,!1),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},c=new VA(100).encode(l,100);return e.processJPEG.call(this,c,r,n,a)}}(gr.API),l7.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var i=new l7(t),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},c=new VA(100).encode(l,100);return e.processJPEG.call(this,c,r,n,a)}}(gr.API),gr.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),s=new Uint8Array(a/4),o=0,l=0,c=0;c<a;c+=4){var u=n[c],f=n[c+1],h=n[c+2],p=n[c+3];i[o++]=u,i[o++]=f,i[o++]=h,s[l++]=p}var g=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:g,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},gr.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},u0=gr.API,Zx=u0.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:a.metadata.Unicode.widths,l=o.fof?o.fof:1,c=t.kerning?t.kerning:a.metadata.Unicode.kerning,u=c.fof?c.fof:1,f=t.doKerning!==!1,h=0,p=e.length,g=0,m=o[0]||l,y=[];for(r=0;r<p;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?y.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+s*(1e3/i)||0)/1e3):(h=f&&vn(c[n])==="object"&&!isNaN(parseInt(c[n][g],10))?c[n][g]/u:0,y.push((o[n]||m)/l+h)),g=n;return y},a7=u0.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return u0.processArabic&&(e=u0.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:Zx.apply(this,arguments).reduce(function(i,s){return i+s},0)},i7=function(e,t,r,n){for(var a=[],i=0,s=e.length,o=0;i!==s&&o+t[i]<r;)o+=t[i],i++;a.push(e.slice(0,i));var l=i;for(o=0;i!==s;)o+t[i]>n&&(a.push(e.slice(l,i)),o=0,l=i),o+=t[i],i++;return l!==i&&a.push(e.slice(l,i)),a},s7=function(e,t,r){r||(r={});var n,a,i,s,o,l,c,u=[],f=[u],h=r.textIndent||0,p=0,g=0,m=e.split(" "),y=Zx.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?m[0].length+2:r.lineIndent||0){var v=Array(l).join(" "),b=[];m.map(function(D){(D=D.split(/\s*\n/)).length>1?b=b.concat(D.map(function(P,j){return(j&&P.length?`
`:"")+P})):b.push(D[0])}),m=b,l=a7.apply(this,[v,r])}for(i=0,s=m.length;i<s;i++){var w=0;if(n=m[i],l&&n[0]==`
`&&(n=n.substr(1),w=1),h+p+(g=(a=Zx.apply(this,[n,r])).reduce(function(D,P){return D+P},0))>t||w){if(g>t){for(o=i7.apply(this,[n,a,t-(h+p),t]),u.push(o.shift()),u=[o.pop()];o.length;)f.push([o.shift()]);g=a.slice(n.length-(u[0]?u[0].length:0)).reduce(function(D,P){return D+P},0)}else u=[n];f.push(u),h=g+l,p=y}else u.push(n),h+=p+g,p=y}return c=l?function(D,P){return(P?v:"")+D.join(" ")}:function(D){return D.join(" ")},f.map(c)},u0.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var f=this.internal.getFont(u.fontName,u.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var o,l,c=[];for(o=0,l=n.length;o<l;o++)c=c.concat(s7.apply(this,[n[o],s,i]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},a=0;a<t.length;a++)r[t[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=t[a];var i=function(f){return"0x"+parseInt(f,10).toString(16)},s=e.__fontmetrics__.compress=function(f){var h,p,g,m,y=["{"];for(var v in f){if(h=f[v],isNaN(parseInt(v,10))?p="'"+v+"'":(v=parseInt(v,10),p=(p=i(v).slice(2)).slice(0,-1)+n[p.slice(-1)]),typeof h=="number")h<0?(g=i(h).slice(3),m="-"):(g=i(h).slice(2),m=""),g=m+g.slice(0,-1)+n[g.slice(-1)];else{if(vn(h)!=="object")throw new Error("Don't know what to do with value type "+vn(h)+".");g=s(h)}y.push(p+g)}return y.push("}"),y.join("")},o=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,p,g,m,y={},v=1,b=y,w=[],D="",P="",j=f.length-1,E=1;E<j;E+=1)(m=f[E])=="'"?h?(g=h.join(""),h=void 0):h=[]:h?h.push(m):m=="{"?(w.push([b,g]),b={},g=void 0):m=="}"?((p=w.pop())[0][p[1]]=b,g=void 0,b=p[0]):m=="-"?v=-1:g===void 0?r.hasOwnProperty(m)?(D+=r[m],g=parseInt(D,16)*v,v=1,D=""):D+=m:r.hasOwnProperty(m)?(P+=r[m],b[g]=parseInt(P,16)*v,v=1,g=void 0,P=""):P+=m;return y},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var h=f.font,p=u.Unicode[h.postScriptName];p&&(h.metadata.Unicode={},h.metadata.Unicode.widths=p.widths,h.metadata.Unicode.kerning=p.kerning);var g=c.Unicode[h.postScriptName];g&&(h.metadata.Unicode.encoding=g,h.encoding=g.codePages[0])}])}(gr.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(uv(o)),s.metadata=e.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(a,n)}}])}(gr),function(e){function t(){return(vr.canvg?Promise.resolve(vr.canvg):y3(()=>import("./index.es-B5jynyL7.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}gr.API.addSvgAsImage=function(r,n,a,i,s,o,l,c){if(isNaN(n)||isNaN(a))throw Dn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(s))throw Dn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=i,u.height=s;var f=u.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,u.width,u.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return t().then(function(g){return g.fromString(f,r,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(h)}).then(function(){p.addImage(u.toDataURL("image/jpeg",1),n,a,i,s,l,c)})}}(),gr.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},gr.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],c=0,u=0,f=0;function h(g,m){var y,v=!1;for(y=0;y<g.length;y+=1)g[y]===m&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var p=o.length;for(f=0;f<p;f+=1)r[o[f]].value=r[o[f]].defaultValue,r[o[f]].explicitSet=!1}if(vn(e)==="object"){for(a in e)if(i=e[a],h(o,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&h(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(c=0;c<i.length;c+=1)if(n=!0,i[c].length===1&&typeof i[c][0]=="number")l.push(String(i[c]-1));else if(i[c].length>1){for(u=0;u<i[c].length;u+=1)typeof i[c][u]!="number"&&(n=!1);n===!0&&l.push([i[c][0]-1,i[c][1]-1].join(" "))}r[a].value="["+l.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,m=[];for(g in r)r[g].explicitSet===!0&&(r[g].type==="name"?m.push("/"+g+" /"+r[g].value):m.push("/"+g+" "+r[g].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=i.length+s.length+o.length+a.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(a+i+s+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(gr.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,s){for(var o,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],f=0,h=i.length;f<h;++f){if(o=s.metadata.characterToGlyph(i.charCodeAt(f)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=i.charCodeAt(f),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},n=function(i){var s,o,l,c,u,f,h;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,h=(o=Object.keys(i).sort(function(p,g){return p-g})).length;f<h;f++)s=o[f],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),i[s]!==void 0&&i[s]!==null&&typeof i[s].toString=="function"&&(c=("0000"+i[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,h=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),p="",g=0;g<h.length;g++)p+=String.fromCharCode(h[g]);var m=c();u({data:p,addLength1:!0,objectId:m}),l("endobj");var y=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:y}),l("endobj");var v=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+g0(o.fontName)),l("/FontFile2 "+m+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var b=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+g0(o.fontName)),l("/FontDescriptor "+v+" 0 R"),l("/W "+e.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+y+" 0 R"),l("/BaseFont /"+g0(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+b+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,h="",p=0;p<f.length;p++)h+=String.fromCharCode(f[p]);var g=c();u({data:h,addLength1:!0,objectId:g}),l("endobj");var m=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:m}),l("endobj");var y=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+g+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+g0(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var v=0;v<o.metadata.hmtx.widths.length;v++)o.metadata.hmtx.widths[v]=parseInt(o.metadata.hmtx.widths[v]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+g0(o.fontName)+"/FontDescriptor "+y+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]);var a=function(i){var s,o=i.text||"",l=i.x,c=i.y,u=i.options||{},f=i.mutex||{},h=f.pdfEscape,p=f.activeFontKey,g=f.fonts,m=p,y="",v=0,b="",w=g[m].encoding;if(g[m].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:f};for(b=o,m=p,Array.isArray(o)&&(b=o[0]),v=0;v<b.length;v+=1)g[m].metadata.hasOwnProperty("cmap")&&(s=g[m].metadata.cmap.unicode.codeMap[b[v].charCodeAt(0)]),s||b[v].charCodeAt(0)<256&&g[m].metadata.hasOwnProperty("Unicode")?y+=b[v]:y+="";var D="";return parseInt(m.slice(1))<14||w==="WinAnsiEncoding"?D=h(y,m).split("").map(function(P){return P.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(D=r(y,g[m])),f.isHex=!0,{text:D,x:l,y:c,options:u,mutex:f}};t.events.push(["postProcessText",function(i){var s=i.text||"",o=[],l={text:s,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?o.push([a(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):o.push(a(Object.assign({},l,{text:s[c]})).text);i.text=o}else i.text=a(Object.assign({},l,{text:s})).text}])}(gr),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(gr.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,s,o,l,c,u,f=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},y=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,w=0;this.__bidiEngine__={};var D=function(T){var N=T.charCodeAt(),O=N>>8,U=m[O];return U!==void 0?f[256*U+(255&N)]:O===252||O===253?"AL":v.test(O)?"L":O===8?"R":"N"},P=function(T){for(var N,O=0;O<T.length;O++){if((N=D(T.charAt(O)))==="L")return!1;if(N==="R")return!0}return!1},j=function(T,N,O,U){var Y,K,J,q,V=N[U];switch(V){case"L":case"R":b=!1;break;case"N":case"AN":break;case"EN":b&&(V="AN");break;case"AL":b=!0,V="R";break;case"WS":V="N";break;case"CS":U<1||U+1>=N.length||(Y=O[U-1])!=="EN"&&Y!=="AN"||(K=N[U+1])!=="EN"&&K!=="AN"?V="N":b&&(K="AN"),V=K===Y?K:"N";break;case"ES":V=(Y=U>0?O[U-1]:"B")==="EN"&&U+1<N.length&&N[U+1]==="EN"?"EN":"N";break;case"ET":if(U>0&&O[U-1]==="EN"){V="EN";break}if(b){V="N";break}for(J=U+1,q=N.length;J<q&&N[J]==="ET";)J++;V=J<q&&N[J]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(q=N.length,J=U+1;J<q&&N[J]==="NSM";)J++;if(J<q){var ee=T[U],Z=ee>=1425&&ee<=2303||ee===64286;if(Y=N[J],Z&&(Y==="R"||Y==="AL")){V="R";break}}}V=U<1||(Y=N[U-1])==="B"?"N":O[U-1];break;case"B":b=!1,a=!0,V=w;break;case"S":i=!0,V="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"BN":V="N"}return V},E=function(T,N,O){var U=T.split("");return O&&_(U,O,{hiLevel:w}),U.reverse(),N&&N.reverse(),U.join("")},_=function(T,N,O){var U,Y,K,J,q,V=-1,ee=T.length,Z=0,k=[],R=w?p:h,z=[];for(b=!1,a=!1,i=!1,Y=0;Y<ee;Y++)z[Y]=D(T[Y]);for(K=0;K<ee;K++){if(q=Z,k[K]=j(T,z,k,K),U=240&(Z=R[q][g[k[K]]]),Z&=15,N[K]=J=R[Z][5],U>0)if(U===16){for(Y=V;Y<K;Y++)N[Y]=1;V=-1}else V=-1;if(R[Z][6])V===-1&&(V=K);else if(V>-1){for(Y=V;Y<K;Y++)N[Y]=J;V=-1}z[K]==="B"&&(N[K]=0),O.hiLevel|=J}i&&function(G,Q,oe){for(var ce=0;ce<oe;ce++)if(G[ce]==="S"){Q[ce]=w;for(var ne=ce-1;ne>=0&&G[ne]==="WS";ne--)Q[ne]=w}}(z,N,ee)},S=function(T,N,O,U,Y){if(!(Y.hiLevel<T)){if(T===1&&w===1&&!a)return N.reverse(),void(O&&O.reverse());for(var K,J,q,V,ee=N.length,Z=0;Z<ee;){if(U[Z]>=T){for(q=Z+1;q<ee&&U[q]>=T;)q++;for(V=Z,J=q-1;V<J;V++,J--)K=N[V],N[V]=N[J],N[J]=K,O&&(K=O[V],O[V]=O[J],O[J]=K);Z=q}Z++}}},I=function(T,N,O){var U=T.split(""),Y={hiLevel:w};return O||(O=[]),_(U,O,Y),function(K,J,q){if(q.hiLevel!==0&&u)for(var V,ee=0;ee<K.length;ee++)J[ee]===1&&(V=y.indexOf(K[ee]))>=0&&(K[ee]=y[V+1])}(U,O,Y),S(2,U,N,O,Y),S(1,U,N,O,Y),U.join("")};return this.__bidiEngine__.doBidiReorder=function(T,N,O){if(function(Y,K){if(K)for(var J=0;J<Y.length;J++)K[J]=J;o===void 0&&(o=P(Y)),c===void 0&&(c=P(Y))}(T,N),s||!l||c)if(s&&l&&o^c)w=o?1:0,T=E(T,N,O);else if(!s&&l&&c)w=o?1:0,T=I(T,N,O),T=E(T,N);else if(!s||o||l||c){if(s&&!l&&o^c)T=E(T,N),o?(w=0,T=I(T,N,O)):(w=1,T=I(T,N,O),T=E(T,N));else if(s&&o&&!l&&c)w=1,T=I(T,N,O),T=E(T,N);else if(!s&&!l&&o^c){var U=u;o?(w=1,T=I(T,N,O),w=0,u=!1,T=I(T,N,O),u=U):(w=0,T=I(T,N,O),T=E(T,N),w=1,u=!1,T=I(T,N,O),u=U,T=E(T,N))}}else w=0,T=I(T,N,O);else w=o?1:0,T=I(T,N,O);return T},this.__bidiEngine__.setOptions=function(T){T&&(s=T.isInputVisual,l=T.isOutputVisual,o=T.isInputRtl,c=T.isOutputRtl,u=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var s=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var o=0;for(s=[],o=0;o<a.length;o+=1)Object.prototype.toString.call(a[o])==="[object Array]"?s.push([r.doBidiReorder(a[o][0]),a[o][1],a[o][2]]):s.push([r.doBidiReorder(a[o])]);n.text=s}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(gr),gr.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Wf(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new gUe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new rUe(this.contents),this.head=new aUe(this),this.name=new cUe(this),this.cmap=new kY(this),this.toUnicode={},this.hhea=new iUe(this),this.maxp=new uUe(this),this.hmtx=new fUe(this),this.post=new oUe(this),this.os2=new sUe(this),this.loca=new mUe(this),this.glyf=new dUe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,l,c;for(c=[],s=0,o=(l=this.bbox).length;s<o;s++)t=l[s],c.push(Math.round(t*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,s,o;for(s=0,i=0,o=(t=""+t).length;0<=o?i<o:i>o;i=0<=o?++i:--i)a=t.charCodeAt(i),s+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return s*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var Pl,Wf=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,s,o,l;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^s)+256*(255^o)+(255^l)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*s+256*o+l},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),rUe=function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,s,o,l,c,u,f,h,p,g,m;for(m in p=Object.keys(r).length,l=Math.log(2),f=16*Math.floor(Math.log(p)/l),s=Math.floor(f/l),u=16*p-f,(a=new Wf).writeInt(this.scalarType),a.writeShort(p),a.writeShort(f),a.writeShort(s),a.writeShort(u),i=16*p,c=a.pos+i,o=null,g=[],r)for(h=r[m],a.writeString(m),a.writeInt(e(h)),a.writeInt(c),a.writeInt(h.length),g=g.concat(h),m==="head"&&(o=c),c+=h.length;c%4;)g.push(0),c++;return a.write(g),n=2981146554-e(a.data),a.pos=o+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,s;for(r=CY.call(r);r.length%4;)r.push(0);for(i=new Wf(r),a=0,n=0,s=r.length;n<s;n=n+=4)a+=i.readUInt32();return 4294967295&a},t}(),nUe={}.hasOwnProperty,fc=function(e,t){for(var r in t)nUe.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Pl=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var aUe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return fc(t,Pl),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new Wf).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),c7=function(){function e(t,r){var n,a,i,s,o,l,c,u,f,h,p,g,m,y,v,b,w;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(p=t.readUInt16(),h=p/2,t.pos+=6,i=function(){var D,P;for(P=[],l=D=0;0<=h?D<h:D>h;l=0<=h?++D:--D)P.push(t.readUInt16());return P}(),t.pos+=2,m=function(){var D,P;for(P=[],l=D=0;0<=h?D<h:D>h;l=0<=h?++D:--D)P.push(t.readUInt16());return P}(),c=function(){var D,P;for(P=[],l=D=0;0<=h?D<h:D>h;l=0<=h?++D:--D)P.push(t.readUInt16());return P}(),u=function(){var D,P;for(P=[],l=D=0;0<=h?D<h:D>h;l=0<=h?++D:--D)P.push(t.readUInt16());return P}(),a=(this.length-t.pos+this.offset)/2,o=function(){var D,P;for(P=[],l=D=0;0<=a?D<a:D>a;l=0<=a?++D:--D)P.push(t.readUInt16());return P}(),l=v=0,w=i.length;v<w;l=++v)for(y=i[l],n=b=g=m[l];g<=y?b<=y:b>=y;n=g<=y?++b:--b)u[l]===0?s=n+c[l]:(s=o[u[l]/2+(n-g)-(h-l)]||0)!==0&&(s+=c[l]),this.codeMap[n]=65535&s}t.pos=f}return e.encode=function(t,r){var n,a,i,s,o,l,c,u,f,h,p,g,m,y,v,b,w,D,P,j,E,_,S,I,T,N,O,U,Y,K,J,q,V,ee,Z,k,R,z,G,Q,oe,ce,ne,he,ye,W;switch(U=new Wf,s=Object.keys(t).sort(function(Ce,ke){return Ce-ke}),r){case"macroman":for(m=0,y=function(){var Ce=[];for(g=0;g<256;++g)Ce.push(0);return Ce}(),b={0:0},i={},Y=0,V=s.length;Y<V;Y++)b[ne=t[a=s[Y]]]==null&&(b[ne]=++m),i[a]={old:t[a],new:b[t[a]]},y[a]=b[t[a]];return U.writeUInt16(1),U.writeUInt16(0),U.writeUInt32(12),U.writeUInt16(0),U.writeUInt16(262),U.writeUInt16(0),U.write(y),{charMap:i,subtable:U.data,maxGlyphID:m+1};case"unicode":for(N=[],f=[],w=0,b={},n={},v=c=null,K=0,ee=s.length;K<ee;K++)b[P=t[a=s[K]]]==null&&(b[P]=++w),n[a]={old:P,new:b[P]},o=b[P]-a,v!=null&&o===c||(v&&f.push(v),N.push(a),c=o),v=a;for(v&&f.push(v),f.push(65535),N.push(65535),I=2*(S=N.length),_=2*Math.pow(Math.log(S)/Math.LN2,2),h=Math.log(_/2)/Math.LN2,E=2*S-_,l=[],j=[],p=[],g=J=0,Z=N.length;J<Z;g=++J){if(T=N[g],u=f[g],T===65535){l.push(0),j.push(0);break}if(T-(O=n[T].new)>=32768)for(l.push(0),j.push(2*(p.length+S-g)),a=q=T;T<=u?q<=u:q>=u;a=T<=u?++q:--q)p.push(n[a].new);else l.push(O-T),j.push(0)}for(U.writeUInt16(3),U.writeUInt16(1),U.writeUInt32(12),U.writeUInt16(4),U.writeUInt16(16+8*S+2*p.length),U.writeUInt16(0),U.writeUInt16(I),U.writeUInt16(_),U.writeUInt16(h),U.writeUInt16(E),oe=0,k=f.length;oe<k;oe++)a=f[oe],U.writeUInt16(a);for(U.writeUInt16(0),ce=0,R=N.length;ce<R;ce++)a=N[ce],U.writeUInt16(a);for(he=0,z=l.length;he<z;he++)o=l[he],U.writeUInt16(o);for(ye=0,G=j.length;ye<G;ye++)D=j[ye],U.writeUInt16(D);for(W=0,Q=p.length;W<Q;W++)m=p[W],U.writeUInt16(m);return{charMap:n,subtable:U.data,maxGlyphID:w+1}}},e}(),kY=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return fc(t,Pl),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new c7(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var a,i;return n==null&&(n="macroman"),a=c7.encode(r,n),(i=new Wf).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},t}(),iUe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return fc(t,Pl),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),sUe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return fc(t,Pl),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),oUe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return fc(t,Pl),t.prototype.tag="post",t.prototype.parse=function(r){var n,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var s;for(a=r.readUInt16(),this.glyphNameIndex=[],s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var o,l,c;for(c=[],s=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;s=0<=l?++o:--o)c.push(r.readUInt32());return c}).call(this)}},t}(),lUe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},cUe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return fc(t,Pl),t.prototype.tag="name",t.prototype.parse=function(r){var n,a,i,s,o,l,c,u,f,h,p;for(r.pos=this.offset,r.readShort(),n=r.readShort(),l=r.readShort(),a=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(c={},s=f=0,h=a.length;f<h;s=++f)i=a[s],r.pos=i.offset,u=r.readString(i.length),o=new lUe(u,i),c[p=i.nameID]==null&&(c[p]=[]),c[i.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t}(),uUe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return fc(t,Pl),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),fUe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return fc(t,Pl),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,a,i,s,o,l,c;for(r.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,f;for(f=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)f.push(r.readInt16());return f}(),this.widths=(function(){var u,f,h,p;for(p=[],u=0,f=(h=this.metrics).length;u<f;u++)s=h[u],p.push(s.advance);return p}).call(this),a=this.widths[this.widths.length-1],c=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)c.push(this.widths.push(a));return c},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),CY=[].slice,dUe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return fc(t,Pl),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,a,i,s,o,l,c,u,f,h;return r in this.cache?this.cache[r]:(s=this.file.loca,n=this.file.contents,a=s.indexOf(r),(i=s.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,o=(l=new Wf(n.read(i))).readShort(),u=l.readShort(),h=l.readShort(),c=l.readShort(),f=l.readShort(),this.cache[r]=o===-1?new pUe(l,u,h,c,f):new hUe(l,o,u,h,c,f),this.cache[r]))},t.prototype.encode=function(r,n,a){var i,s,o,l,c;for(o=[],s=[],l=0,c=n.length;l<c;l++)i=r[n[l]],s.push(o.length),i&&(o=o.concat(i.encode(a)));return s.push(o.length),{table:o,offsets:s}},t}(),hUe=function(){function e(t,r,n,a,i,s){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),pUe=function(){function e(t,r,n,a,i){var s,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Wf(CY.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),mUe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return fc(t,Pl),t.prototype.tag="loca",t.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=2)s.push(2*r.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=4)s.push(r.readUInt32());return s}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<a.length;++o)if(a[o]=i,s<n.length&&n[s]==o){++s,a[o]=i;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(i+=c)}for(var u=new Array(4*a.length),f=0;f<a.length;++f)u[4*f+3]=255&a[f],u[4*f+2]=(65280&a[f])>>8,u[4*f+1]=(16711680&a[f])>>16,u[4*f]=(4278190080&a[f])>>24;return u},t}(),gUe=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,s,o,l;for(a={},s=0,o=t.length;s<o;s++)a[i=t[s]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in l=this.glyphsFor(r))n=l[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,s,o,l,c,u,f,h,p,g,m,y,v;for(a in n=kY.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),p={0:0},v=n.charMap)p[(l=v[a]).old]=l.new;for(g in h=n.maxGlyphID,s)g in p||(p[g]=h++);return u=function(b){var w,D;for(w in D={},b)D[b[w]]=w;return D}(p),f=Object.keys(u).sort(function(b,w){return b-w}),m=function(){var b,w,D;for(D=[],b=0,w=f.length;b<w;b++)o=f[b],D.push(u[o]);return D}(),i=this.font.glyf.encode(s,m,p),c=this.font.loca.encode(i.offsets,m),y={cmap:this.font.cmap.raw(),glyf:i.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(y["OS/2"]=this.font.os2.raw()),this.font.directory.encode(y)},e}();gr.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,s;if(Array.isArray(r))return"["+function(){var o,l,c;for(c=[],o=0,l=r.length;o<l;o++)n=r[o],c.push(t.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)s=r[a],i.push("/"+a+" "+t.convert(s));return i.push(">>"),i.join(`
`)}return""+r},t}();function PY(e,t,r,n,a){n=n||{};var i=1.15,s=a.internal.scaleFactor,o=a.internal.getFontSize()/s,l=a.getLineHeightFactor?a.getLineHeightFactor():i,c=o*l,u=/\r\n|\r|\n/g,f="",h=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(f=typeof e=="string"?e.split(u):e,h=f.length||1),r+=o*(2-i),n.valign==="middle"?r-=h/2*c:n.valign==="bottom"&&(r-=h*c),n.halign==="center"||n.halign==="right"){var p=o;if(n.halign==="center"&&(p*=.5),f&&h>=1){for(var g=0;g<f.length;g++)a.text(f[g],t-a.getStringUnitWidth(f[g])*p,r),r+=c;return a}t-=a.getStringUnitWidth(e)*p}return n.halign==="justify"?a.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(e,t,r),a}var u7={},ap=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:u7=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,a,i;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var s=this.jsPDFDocument.internal.getFont(),o=s.fontStyle,l=s.fontName;if(t.font&&(l=t.font),t.fontStyle){o=t.fontStyle;var c=this.getFontList()[l];c&&c.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),o=c[0])}if(this.jsPDFDocument.setFont(l,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var u=e.unifyColor(t.fillColor);u&&(n=this.jsPDFDocument).setFillColor.apply(n,u),u=e.unifyColor(t.textColor),u&&(a=this.jsPDFDocument).setTextColor.apply(a,u),u=e.unifyColor(t.lineColor),u&&(i=this.jsPDFDocument).setDrawColor.apply(i,u),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,a,i){return this.jsPDFDocument.rect(t,r,n,a,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return u7||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),P3=function(e,t){return P3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},P3(e,t)};function OY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");P3(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var IY=function(e){OY(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t}(Array);function vUe(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function yUe(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function Vw(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],a=n.map(function(i){return r.getTextWidth(i)}).reduce(function(i,s){return Math.max(i,s)},0);return a}function jY(e,t,r,n){var a=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:a,lineColor:i});var s=DY(a,!1);s&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,s)}function DY(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function k_(e,t){var r,n,a,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(a=e.right)!==null&&a!==void 0?a:t,bottom:(i=e.bottom)!==null&&i!==void 0?i:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function LY(e,t){var r=k_(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function xUe(e,t,r,n,a){var i={},s=1.3333333333333333,o=zA(t,function(w){return a.getComputedStyle(w).backgroundColor});o!=null&&(i.fillColor=o);var l=zA(t,function(w){return a.getComputedStyle(w).color});l!=null&&(i.textColor=l);var c=wUe(n,r);c&&(i.cellPadding=c);var u="borderTopColor",f=s*r,h=n.borderTopWidth;if(n.borderBottomWidth===h&&n.borderRightWidth===h&&n.borderLeftWidth===h){var p=(parseFloat(h)||0)/f;p&&(i.lineWidth=p)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/f,right:(parseFloat(n.borderRightWidth)||0)/f,bottom:(parseFloat(n.borderBottomWidth)||0)/f,left:(parseFloat(n.borderLeftWidth)||0)/f},i.lineWidth.top||(i.lineWidth.right?u="borderRightColor":i.lineWidth.bottom?u="borderBottomColor":i.lineWidth.left&&(u="borderLeftColor"));var g=zA(t,function(w){return a.getComputedStyle(w)[u]});g!=null&&(i.lineColor=g);var m=["left","right","center","justify"];m.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),m=["middle","bottom","top"],m.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var y=parseInt(n.fontSize||"");isNaN(y)||(i.fontSize=y/s);var v=bUe(n);v&&(i.fontStyle=v);var b=(n.fontFamily||"").toLowerCase();return e.indexOf(b)!==-1&&(i.font=b),i}function bUe(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function zA(e,t){var r=MY(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function MY(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:MY(e.parentElement,t):r}function wUe(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),a=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=r.map(function(o){return parseInt(o||"0")/n}),s=k_(i,0);return a>s.top&&(s.top=a),a>s.bottom&&(s.bottom=a),s}function RY(e,t,r,n,a){var i,s;n===void 0&&(n=!1),a===void 0&&(a=!1);var o;typeof t=="string"?o=r.document.querySelector(t):o=t;var l=Object.keys(e.getFontList()),c=e.scaleFactor(),u=[],f=[],h=[];if(!o)return console.error("Html table could not be found with input: ",t),{head:u,body:f,foot:h};for(var p=0;p<o.rows.length;p++){var g=o.rows[p],m=(s=(i=g==null?void 0:g.parentElement)===null||i===void 0?void 0:i.tagName)===null||s===void 0?void 0:s.toLowerCase(),y=_Ue(l,c,r,g,n,a);y&&(m==="thead"?u.push(y):m==="tfoot"?h.push(y):f.push(y))}return{head:u,body:f,foot:h}}function _Ue(e,t,r,n,a,i){for(var s=new IY(n),o=0;o<n.cells.length;o++){var l=n.cells[o],c=r.getComputedStyle(l);if(a||c.display!=="none"){var u=void 0;i&&(u=xUe(e,l,t,c,r)),s.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:u,_element:l,content:SUe(l)})}}var f=r.getComputedStyle(n);if(s.length>0&&(a||f.display!=="none"))return s}function SUe(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function AUe(e,t,r){for(var n=0,a=[e,t,r];n<a.length;n++){var i=a[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function Lc(e,t,r,n,a){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),s=1;s<arguments.length;s++){var o=arguments[s];if(o!=null)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(i[l]=o[l])}return i}function FY(e,t){var r=new ap(e),n=r.getDocumentOptions(),a=r.getGlobalOptions();AUe(a,n,t);var i=Lc({},a,n,t),s;typeof window<"u"&&(s=window);var o=EUe(a,n,t),l=TUe(a,n,t),c=NUe(r,i),u=CUe(r,i,s);return{id:t.tableId,content:u,hooks:l,styles:o,settings:c}}function EUe(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(l){if(l==="columnStyles"){var c=e[l],u=t[l],f=r[l];n.columnStyles=Lc({},c,u,f)}else{var h=[e,t,r],p=h.map(function(g){return g[l]||{}});n[l]=Lc({},p[0],p[1],p[2])}},i=0,s=Object.keys(n);i<s.length;i++){var o=s[i];a(o)}return n}function TUe(e,t,r){for(var n=[e,t,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,s=n;i<s.length;i++){var o=s[i];o.didParseCell&&a.didParseCell.push(o.didParseCell),o.willDrawCell&&a.willDrawCell.push(o.willDrawCell),o.didDrawCell&&a.didDrawCell.push(o.didDrawCell),o.willDrawPage&&a.willDrawPage.push(o.willDrawPage),o.didDrawPage&&a.didDrawPage.push(o.didDrawPage)}return a}function NUe(e,t){var r,n,a,i,s,o,l,c,u,f,h,p,g=k_(t.margin,40/e.scaleFactor()),m=(r=kUe(e,t.startY))!==null&&r!==void 0?r:g.top,y;t.showFoot===!0?y="everyPage":t.showFoot===!1?y="never":y=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var v;t.showHead===!0?v="everyPage":t.showHead===!1?v="never":v=(a=t.showHead)!==null&&a!==void 0?a:"everyPage";var b=(i=t.useCss)!==null&&i!==void 0?i:!1,w=t.theme||(b?"plain":"striped"),D=!!t.horizontalPageBreak,P=(s=t.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(o=t.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:b,theme:w,startY:m,margin:g,pageBreak:(l=t.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(c=t.rowPageBreak)!==null&&c!==void 0?c:"auto",tableWidth:(u=t.tableWidth)!==null&&u!==void 0?u:"auto",showHead:v,showFoot:y,tableLineWidth:(f=t.tableLineWidth)!==null&&f!==void 0?f:0,tableLineColor:(h=t.tableLineColor)!==null&&h!==void 0?h:200,horizontalPageBreak:D,horizontalPageBreakRepeat:P,horizontalPageBreakBehaviour:(p=t.horizontalPageBreakBehaviour)!==null&&p!==void 0?p:"afterAllRows"}}function kUe(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),a=e.pageNumber(),i=!1;if(r&&r.startPageNumber){var s=r.startPageNumber+r.pageNumber-1;i=s===a}return typeof t=="number"?t:(t==null||t===!1)&&i&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function CUe(e,t,r){var n=t.head||[],a=t.body||[],i=t.foot||[];if(t.html){var s=t.includeHiddenHtml;if(r){var o=RY(e,t.html,r,s,t.useCss)||{};n=o.head||n,a=o.body||n,i=o.foot||n}else console.error("Cannot parse html in non browser environment")}var l=t.columns||PUe(n,a,i);return{columns:l,head:n,body:a,foot:i}}function PUe(e,t,r){var n=e[0]||t[0]||r[0]||[],a=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var s=1,o;Array.isArray(n)?o=n[parseInt(i)]:o=n[i],typeof o=="object"&&!Array.isArray(o)&&(s=(o==null?void 0:o.colSpan)||1);for(var l=0;l<s;l++){var c=void 0;Array.isArray(n)?c=a.length:c=i+(l>0?"_".concat(l):"");var u={dataKey:c};a.push(u)}}),a}var O3=function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e}(),OUe=function(e){OY(t,e);function t(r,n,a,i,s,o){var l=e.call(this,r,n,o)||this;return l.cell=a,l.row=i,l.column=s,l.section=i.section,l}return t}(O3),IUe=function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,a,i,s){for(var o=0,l=r;o<l.length;o++){var c=l[o],u=new OUe(t,this,n,a,i,s),f=c(u)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],f)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var i=a[n];i(new O3(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var i=a[n];i(new O3(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,i){return a+i.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e}(),$Y=function(){function e(t,r,n,a,i){i===void 0&&(i=!1),this.height=0,this.raw=t,t instanceof IY&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,a){var i;return Math.max(n,((i=r.cells[a.index])===null||i===void 0?void 0:i.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(a,i){var s=n.cells[i.index];if(!s)return 0;var o=r.getLineHeight(s.styles.fontSize),l=s.padding("vertical"),c=l+o;return c>a?c:a},0)},e}(),BY=function(){function e(t,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var i=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=(a=t.content)!==null&&a!==void 0?a:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var s=i!=null?""+i:"",o=/\r\n|\r|\n/g;this.text=s.split(o)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/t*r,i=n*a+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=k_(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e}(),jUe=function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,a=t.allRows();n<a.length;n++){var i=a[n],s=i.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(r=Math.max(r,s.styles.cellWidth))}return r},e}();function DUe(e,t){LUe(e,t);var r=[],n=0;t.columns.forEach(function(i){var s=i.getMaxCustomCellWidth(t);s?i.width=s:(i.width=i.wrappedWidth,r.push(i)),n+=i.width});var a=t.getWidth(e.pageSize().width)-n;a&&(a=I3(r,a,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),a&&(a=I3(r,a,function(i){return i.minWidth})),a=Math.abs(a),!t.settings.horizontalPageBreak&&a>.1/e.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),RUe(t),FUe(t,e),MUe(t)}function LUe(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,a=LY(e,t);t.allRows().forEach(function(i){for(var s=0,o=t.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c){var u=t.hooks.didParseCell;t.callCellHooks(e,u,c,i,l,null);var f=c.padding("horizontal");c.contentWidth=Vw(c.text,c.styles,e)+f;var h=Vw(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,e);if(c.minReadableWidth=h+c.padding("horizontal"),typeof c.styles.cellWidth=="number")c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if(c.styles.cellWidth==="wrap"||n===!0)c.contentWidth>a?(c.minWidth=a,c.wrappedWidth=a):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var p=10/r;c.minWidth=c.styles.minCellWidth||p,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}}),t.allRows().forEach(function(i){for(var s=0,o=t.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c&&c.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,c.wrappedWidth),l.minWidth=Math.max(l.minWidth,c.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,c.minReadableWidth);else{var u=t.styles.columnStyles[l.dataKey]||t.styles.columnStyles[l.index]||{},f=u.cellWidth||u.minCellWidth;f&&typeof f=="number"&&(l.minWidth=f,l.wrappedWidth=f)}c&&(c.colSpan>1&&!l.minWidth&&(l.minWidth=c.minWidth),c.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=c.minWidth))}})}function I3(e,t,r){for(var n=t,a=e.reduce(function(p,g){return p+g.wrappedWidth},0),i=0;i<e.length;i++){var s=e[i],o=s.wrappedWidth/a,l=n*o,c=s.width+l,u=r(s),f=c<u?u:c;t-=f-s.width,s.width=f}if(t=Math.round(t*1e10)/1e10,t){var h=e.filter(function(p){return t<0?p.width>r(p):!0});h.length&&(t=I3(h,t,r))}return t}function MUe(e){for(var t={},r=1,n=e.allRows(),a=0;a<n.length;a++)for(var i=n[a],s=0,o=e.columns;s<o.length;s++){var l=o[s],c=t[l.index];if(r>1)r--,delete i.cells[l.index];else if(c)c.cell.height+=i.height,r=c.cell.colSpan,delete i.cells[l.index],c.left--,c.left<=1&&delete t[l.index];else{var u=i.cells[l.index];if(!u)continue;if(u.height=i.height,u.rowSpan>1){var f=n.length-a,h=u.rowSpan>f?f:u.rowSpan;t[l.index]={cell:u,left:h,row:i}}}}}function RUe(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],a=null,i=0,s=0,o=0;o<e.columns.length;o++){var l=e.columns[o];if(s-=1,s>1&&e.columns[o+1])i+=l.width,delete n.cells[l.index];else if(a){var c=a;delete n.cells[l.index],a=null,c.width=l.width+i}else{var c=n.cells[l.index];if(!c)continue;if(s=c.colSpan,i=0,c.colSpan>1){a=c,i+=l.width;continue}c.width=l.width+i}}}function FUe(e,t){for(var r={count:0,height:0},n=0,a=e.allRows();n<a.length;n++){for(var i=a[n],s=0,o=e.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c){t.applyStyles(c.styles,!0);var u=c.width-c.padding("horizontal");if(c.styles.overflow==="linebreak")c.text=t.splitTextToSize(c.text,u+1/t.scaleFactor(),{fontSize:c.styles.fontSize});else if(c.styles.overflow==="ellipsize")c.text=f7(c.text,u,c.styles,t,"...");else if(c.styles.overflow==="hidden")c.text=f7(c.text,u,c.styles,t,"");else if(typeof c.styles.overflow=="function"){var f=c.styles.overflow(c.text,u);typeof f=="string"?c.text=[f]:c.text=f}c.contentHeight=c.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var h=c.contentHeight/c.rowSpan;c.rowSpan>1&&r.count*r.height<h*c.rowSpan?r={height:h,count:c.rowSpan}:r&&r.count>0&&r.height>h&&(h=r.height),h>i.height&&(i.height=h)}}r.count--}}function f7(e,t,r,n,a){return e.map(function(i){return $Ue(i,t,r,n,a)})}function $Ue(e,t,r,n,a){var i=1e4*n.scaleFactor();if(t=Math.ceil(t*i)/i,t>=Vw(e,r,n))return e;for(;t<Vw(e+a,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+a}function UY(e,t){var r=new ap(e),n=BUe(t,r.scaleFactor()),a=new IUe(t,n);return DUe(r,a),r.applyStyles(r.userStyles),a}function BUe(e,t){var r=e.content,n=VUe(r.columns);if(r.head.length===0){var a=d7(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=d7(n,"foot");a&&r.foot.push(a)}var i=e.settings.theme,s=e.styles;return{columns:n,head:qA("head",r.head,n,s,i,t),body:qA("body",r.body,n,s,i,t),foot:qA("foot",r.foot,n,s,i,t)}}function qA(e,t,r,n,a,i){var s={},o=t.map(function(l,c){for(var u=0,f={},h=0,p=0,g=0,m=r;g<m.length;g++){var y=m[g];if(s[y.index]==null||s[y.index].left===0)if(p===0){var v=void 0;Array.isArray(l)?v=l[y.index-h-u]:v=l[y.dataKey];var b={};typeof v=="object"&&!Array.isArray(v)&&(b=(v==null?void 0:v.styles)||{});var w=zUe(e,y,c,a,n,i,b),D=new BY(v,w,e);f[y.dataKey]=D,f[y.index]=D,p=D.colSpan-1,s[y.index]={left:D.rowSpan-1,times:p}}else p--,h++;else s[y.index].left--,p=s[y.index].times,u++}return new $Y(l,c,e,f)});return o}function d7(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var a=UUe(t,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function UUe(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function VUe(e){return e.map(function(t,r){var n,a;return typeof t=="object"?a=(n=t.dataKey)!==null&&n!==void 0?n:r:a=r,new jUe(a,t,r)})}function zUe(e,t,r,n,a,i,s){var o=yUe(n),l;e==="head"?l=a.headStyles:e==="body"?l=a.bodyStyles:e==="foot"&&(l=a.footStyles);var c=Lc({},o.table,o[e],a.styles,l),u=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},f=e==="body"?u:{},h=e==="body"&&r%2===0?Lc({},o.alternateRow,a.alternateRowStyles):{},p=vUe(i),g=Lc({},p,c,h,f);return Lc(g,s)}function qUe(e,t,r){var n;r===void 0&&(r={});var a=LY(e,t),i=new Map,s=[],o=[],l=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?l=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(l=[t.settings.horizontalPageBreakRepeat]),l.forEach(function(h){var p=t.columns.find(function(g){return g.dataKey===h||g.index===h});p&&!i.has(p.index)&&(i.set(p.index,!0),s.push(p.index),o.push(t.columns[p.index]),a-=p.wrappedWidth)});for(var c=!0,u=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;u<t.columns.length;){if(i.has(u)){u++;continue}var f=t.columns[u].wrappedWidth;if(c||a>=f)c=!1,s.push(u),o.push(t.columns[u]),a-=f;else break;u++}return{colIndexes:s,columns:o,lastIndex:u-1}}function WUe(e,t){for(var r=[],n=0;n<t.columns.length;n++){var a=qUe(e,t,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function VY(e,t){var r=t.settings,n=r.startY,a=r.margin,i={x:a.left,y:n},s=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),o=n+a.bottom+s;if(r.pageBreak==="avoid"){var l=t.body,c=l.reduce(function(h,p){return h+p.height},0);o+=c}var u=new ap(e);(r.pageBreak==="always"||r.startY!=null&&o>u.pageSize().height)&&(qY(u),i.y=a.top),t.callWillDrawPageHooks(u,i);var f=Lc({},i);t.startPageNumber=u.pageNumber(),r.horizontalPageBreak?HUe(u,t,f,i):(u.applyStyles(u.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(h){return su(u,t,h,i,t.columns)}),u.applyStyles(u.userStyles),t.body.forEach(function(h,p){var g=p===t.body.length-1;zw(u,t,h,g,f,i,t.columns)}),u.applyStyles(u.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(h){return su(u,t,h,i,t.columns)})),jY(u,t,f,i),t.callEndPageHooks(u,i),t.finalY=i.y,e.lastAutoTable=t,u.applyStyles(u.userStyles)}function HUe(e,t,r,n){var a=WUe(e,t),i=t.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(c,u){e.applyStyles(e.userStyles),u>0?fv(e,t,r,n,c.columns,!0):h7(e,t,n,c.columns),GUe(e,t,r,n,c.columns),WA(e,t,n,c.columns)});else for(var s=-1,o=a[0],l=function(){var c=s;if(o){e.applyStyles(e.userStyles);var u=o.columns;s>=0?fv(e,t,r,n,u,!0):h7(e,t,n,u),c=p7(e,t,s+1,n,u),WA(e,t,n,u)}var f=c-s;a.slice(1).forEach(function(h){e.applyStyles(e.userStyles),fv(e,t,r,n,h.columns,!0),p7(e,t,s+1,n,h.columns,f),WA(e,t,n,h.columns)}),s=c};s<t.body.length-1;)l()}function h7(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&t.head.forEach(function(i){return su(e,t,i,r,n)})}function GUe(e,t,r,n,a){e.applyStyles(e.userStyles),t.body.forEach(function(i,s){var o=s===t.body.length-1;zw(e,t,i,o,r,n,a)})}function p7(e,t,r,n,a,i){e.applyStyles(e.userStyles),i=i??t.body.length;var s=Math.min(r+i,t.body.length),o=-1;return t.body.slice(r,s).forEach(function(l,c){var u=r+c===t.body.length-1,f=zY(e,t,u,n);l.canEntireRowFit(f,a)&&(su(e,t,l,n,a),o=r+c)}),o}function WA(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&t.foot.forEach(function(i){return su(e,t,i,r,n)})}function KUe(e,t,r){var n=r.getLineHeight(e.styles.fontSize),a=e.padding("vertical"),i=Math.floor((t-a)/n);return Math.max(0,i)}function YUe(e,t,r,n){var a={};e.spansMultiplePages=!0,e.height=0;for(var i=0,s=0,o=r.columns;s<o.length;s++){var l=o[s],c=e.cells[l.index];if(c){Array.isArray(c.text)||(c.text=[c.text]);var u=new BY(c.raw,c.styles,c.section);u=Lc(u,c),u.text=[];var f=KUe(c,t,n);c.text.length>f&&(u.text=c.text.splice(f,c.text.length));var h=n.scaleFactor(),p=n.getLineHeightFactor();c.contentHeight=c.getContentHeight(h,p),c.contentHeight>=t&&(c.contentHeight=t,u.styles.minCellHeight-=t),c.contentHeight>e.height&&(e.height=c.contentHeight),u.contentHeight=u.getContentHeight(h,p),u.contentHeight>i&&(i=u.contentHeight),a[l.index]=u}}var g=new $Y(e.raw,-1,e.section,a,!0);g.height=i;for(var m=0,y=r.columns;m<y.length;m++){var l=y[m],u=g.cells[l.index];u&&(u.height=g.height);var c=e.cells[l.index];c&&(c.height=e.height)}return g}function XUe(e,t,r,n){var a=e.pageSize().height,i=n.settings.margin,s=i.top+i.bottom,o=a-s;t.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var l=t.getMinimumRowHeight(n.columns,e),c=l<r;if(l>o)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!c)return!1;var u=t.hasRowSpan(n.columns),f=t.getMaxCellHeight(n.columns)>o;return f?(u&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||n.settings.rowPageBreak==="avoid")}function zw(e,t,r,n,a,i,s){var o=zY(e,t,n,i);if(r.canEntireRowFit(o,s))su(e,t,r,i,s);else if(XUe(e,r,o,t)){var l=YUe(r,o,t,e);su(e,t,r,i,s),fv(e,t,a,i,s),zw(e,t,l,n,a,i,s)}else fv(e,t,a,i,s),zw(e,t,r,n,a,i,s)}function su(e,t,r,n,a){n.x=t.settings.margin.left;for(var i=0,s=a;i<s.length;i++){var o=s[i],l=r.cells[o.index];if(!l){n.x+=o.width;continue}e.applyStyles(l.styles),l.x=n.x,l.y=n.y;var c=t.callCellHooks(e,t.hooks.willDrawCell,l,r,o,n);if(c===!1){n.x+=o.width;continue}QUe(e,l,n);var u=l.getTextPos();PY(l.text,u.x,u.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,l,r,o,n),n.x+=o.width}n.y+=r.height}function QUe(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=DY(n.lineWidth,n.fillColor);a&&e.rect(t.x,r.y,t.width,t.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),JUe(e,t,r,n.lineWidth))}function JUe(e,t,r,n){var a,i,s,o;n.top&&(a=r.x,i=r.y,s=r.x+t.width,o=r.y,n.right&&(s+=.5*n.right),n.left&&(a-=.5*n.left),l(n.top,a,i,s,o)),n.bottom&&(a=r.x,i=r.y+t.height,s=r.x+t.width,o=r.y+t.height,n.right&&(s+=.5*n.right),n.left&&(a-=.5*n.left),l(n.bottom,a,i,s,o)),n.left&&(a=r.x,i=r.y,s=r.x,o=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.left,a,i,s,o)),n.right&&(a=r.x+t.width,i=r.y,s=r.x+t.width,o=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.right,a,i,s,o));function l(c,u,f,h,p){e.getDocument().setLineWidth(c),e.getDocument().line(u,f,h,p,"S")}}function zY(e,t,r,n){var a=t.settings.margin.bottom,i=t.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(a+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-a}function fv(e,t,r,n,a,i){a===void 0&&(a=[]),i===void 0&&(i=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!i&&t.foot.forEach(function(o){return su(e,t,o,n,a)}),t.callEndPageHooks(e,n);var s=t.settings.margin;jY(e,t,r,n),qY(e),t.pageNumber++,n.x=s.left,n.y=s.top,r.y=s.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(o){return su(e,t,o,n,a)}),e.applyStyles(e.userStyles))}function qY(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function ZUe(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],a=FY(this,n),i=UY(this,a);return VY(this,i),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,a){PY(t,r,n,a,this)},e.API.autoTableSetDefaults=function(t){return ap.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){ap.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new ap(this),i=RY(a,t,window,r,!1),s=i.head,o=i.body,l=((n=s[0])===null||n===void 0?void 0:n.map(function(c){return c.content}))||[];return{columns:l,rows:o,data:o}}}var HA;function eVe(e,t){var r=FY(e,t),n=UY(e,r);VY(e,n)}try{if(typeof window<"u"&&window){var m7=window,g7=m7.jsPDF||((HA=m7.jspdf)===null||HA===void 0?void 0:HA.jsPDF);g7&&ZUe(g7)}}catch(e){console.error("Could not apply autoTable plugin",e)}const tVe=()=>{const[e,t]=F.useState([]),[r,n]=F.useState(!0),[a,i]=F.useState(new Date),[s,o]=F.useState(new Date),[l,c]=F.useState("all"),[u,f]=F.useState("all"),[h,p]=F.useState(""),[g,m]=F.useState([]),{showToast:y}=Nl(),{isDarkMode:v}=ln(),{user:b}=ma(),w=async()=>{try{const T=(await cr(mt(Xe,"users"))).docs.map(N=>({id:N.id,...N.data()}));m(T)}catch(I){console.error("Error fetching users:",I),y("Failed to fetch users","error")}},D=async()=>{n(!0);try{let I=or(mt(Xe,"activityLogs"),La("time","desc"));a&&s?I=or(mt(Xe,"activityLogs"),ar("time",">=",_p(a).toISOString()),ar("time","<=",Jv(s).toISOString()),La("time","desc")):a?I=or(mt(Xe,"activityLogs"),ar("time",">=",_p(a).toISOString()),La("time","desc")):s&&(I=or(mt(Xe,"activityLogs"),ar("time","<=",Jv(s).toISOString()),La("time","desc")));let N=(await cr(I)).docs.map(O=>({id:O.id,user:O.data().user,role:O.data().role,detail:O.data().detail,time:O.data().time}));if(b&&b.role==="staff"&&(N=N.filter(O=>O.role!=="admin")),l!=="all"&&(N=N.filter(O=>O.user===l)),u!=="all"&&(N=N.filter(O=>{const U=O.detail.toLowerCase();return u==="inbound"?U.includes("added new product")||U.includes("edited product")||U.includes("quantity from")||U.includes("quantity to"):u==="outbound"?U.includes("units deducted from stock")||U.includes("deducted from stock"):!0})),h.trim()){const O=h.toLowerCase();N=N.filter(U=>{const Y=U.detail.toLowerCase(),K=U.user.toLowerCase(),J=U.role.toLowerCase(),q=Y.match(/"([^"]+)"/),V=q?q[1].toLowerCase():"";return Y.includes(O)||K.includes(O)||J.includes(O)||V.includes(O)})}t(N)}catch(I){console.error("Error fetching activity logs:",I),y("Failed to fetch activity logs","error")}finally{n(!1)}};F.useEffect(()=>{w()},[]),F.useEffect(()=>{D()},[a,s,l,u,h,b]);const P=()=>{let I=g;return b&&b.role==="staff"&&(I=g.filter(T=>T.role!=="admin")),[{value:"all",label:"All Users"},...I.map(T=>({value:T.name,label:T.name}))]},j=[{value:"all",label:"All Activities"},{value:"inbound",label:"Inbound"},{value:"outbound",label:"Outbound"}],E=()=>{i(null),o(null)},_=()=>{try{const T=[["User","Role","Activity","Time"].join(","),...e.map(Y=>[Y.user,Y.role,`"${Y.detail.replace(/"/g,'""')}"`,zt(new Date(Y.time),"MMM d, yyyy h:mm a")].join(","))].join(`
`),N=new Blob([T],{type:"text/csv;charset=utf-8;"}),O=document.createElement("a"),U=URL.createObjectURL(N);O.setAttribute("href",U),O.setAttribute("download",`activity_logs_${zt(new Date,"yyyy-MM-dd")}.csv`),O.style.visibility="hidden",document.body.appendChild(O),O.click(),document.body.removeChild(O)}catch(I){console.error("Error exporting to CSV:",I),y("Failed to export to CSV","error")}},S=()=>{var I,T;try{const N=new gr;N.setFontSize(16),N.text("Activity Logs Report",14,15),N.setFontSize(10);const O=a&&s?`${zt(a,"MMM d, yyyy")} - ${zt(s,"MMM d, yyyy")}`:a?`From ${zt(a,"MMM d, yyyy")}`:s?`To ${zt(s,"MMM d, yyyy")}`:"All Time";N.text(`Date Range: ${O}`,14,25),N.text(`User Filter: ${(I=P().find(U=>U.value===l))==null?void 0:I.label}`,14,30),N.text(`Activity Filter: ${(T=j.find(U=>U.value===u))==null?void 0:T.label}`,14,35),eVe(N,{startY:40,head:[["User","Role","Activity","Time"]],body:e.map(U=>[U.user,U.role,U.detail,zt(new Date(U.time),"MMM d, yyyy h:mm a")]),styles:{fontSize:8},headStyles:{fillColor:[51,65,85]}}),N.save(`activity_logs_${zt(new Date,"yyyy-MM-dd")}.pdf`)}catch(N){console.error("Error exporting to PDF:",N),y("Failed to export to PDF","error")}};return d.jsx("div",{className:`space-y-6 ${v?"bg-slate-900 text-white":"bg-white text-slate-800"}`,children:d.jsxs("div",{className:`rounded-lg shadow-sm border ${v?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[d.jsxs("div",{className:`flex flex-col sm:flex-row sm:justify-between sm:items-center p-6 border-b gap-4 ${v?"border-slate-700":"border-slate-200"}`,children:[d.jsx("h2",{className:`text-xl font-semibold ${v?"text-white":"text-slate-800"}`,children:"Activity Logs"}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[d.jsxs("button",{onClick:_,className:`inline-flex items-center px-3 py-2 border shadow-sm text-sm leading-4 font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 w-full sm:w-auto ${v?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,children:[d.jsx(nb,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),d.jsxs("button",{onClick:S,className:`inline-flex items-center px-3 py-2 border shadow-sm text-sm leading-4 font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 w-full sm:w-auto ${v?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,children:[d.jsx(nb,{className:"h-4 w-4 mr-2"}),"Export PDF"]})]})]}),d.jsxs("div",{className:`flex flex-col sm:flex-row sm:justify-between sm:items-center p-6 border-b gap-2 ${v?"border-slate-700":"border-slate-200"}`,children:[d.jsx("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto items-stretch sm:items-center",children:d.jsx(Ct,{type:"text",placeholder:"Search activities, product names, users...",value:h,onChange:I=>p(I.target.value),className:"w-full sm:w-96",icon:d.jsx(Al,{size:16})})}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-1 w-full sm:w-auto items-stretch sm:items-center",children:[d.jsx(sn,{value:l,onChange:I=>c(I.target.value),options:P(),className:"w-full sm:w-40"}),d.jsx(sn,{value:u,onChange:I=>f(I.target.value),options:j,className:"w-full sm:w-40"}),d.jsx(DW,{startDate:a,endDate:s,onStartDateChange:i,onEndDateChange:o,onClear:E,className:"w-full sm:w-80"}),d.jsx(it,{variant:"secondary",onClick:D,className:"flex items-center gap-2 w-full sm:w-auto",children:d.jsx(ri,{size:16})})]})]}),r?d.jsx("div",{className:"flex justify-center items-center h-32",children:d.jsx("div",{className:`animate-spin rounded-full h-8 w-8 border-b-2 ${v?"border-white":"border-slate-800"}`})}):e.length>0?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"hidden md:block overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{className:`${v?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${v?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"User"}),d.jsx("th",{className:`px-2 py-3 text-left text-xs font-medium ${v?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Role"}),d.jsx("th",{className:`px-2 py-3 text-left text-xs font-medium ${v?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Activity"}),d.jsx("th",{className:`px-2 py-3 text-left text-xs font-medium ${v?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Time"})]})}),d.jsx("tbody",{className:`divide-y ${v?"divide-slate-700":"divide-slate-200"}`,children:d.jsx(LV,{children:e.map(I=>d.jsxs(ra.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:`${v?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[d.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${v?"text-slate-200":"text-slate-800"}`,children:I.user}),d.jsx("td",{className:`px-2 py-4 whitespace-nowrap text-sm ${v?"text-slate-200":"text-slate-800"}`,children:I.role}),d.jsx("td",{className:`px-2 py-4 text-sm ${v?"text-slate-200":"text-slate-800"}`,children:I.detail}),d.jsx("td",{className:`px-2 py-4 whitespace-nowrap text-sm ${v?"text-slate-200":"text-slate-800"}`,children:zt(new Date(I.time),"MMM d, yyyy h:mm:ss a")})]},I.id))})})]})}),d.jsx("div",{className:"block md:hidden space-y-4 p-4",children:e.map(I=>d.jsxs("div",{className:`rounded-lg border ${v?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-4 shadow-sm flex flex-col gap-2`,children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:`font-semibold ${v?"text-blue-400":"text-blue-700"}`,children:I.user}),d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${v?"bg-slate-700 text-slate-200":"bg-slate-100 text-slate-700"}`,children:I.role})]}),d.jsxs("div",{className:v?"text-slate-200":"text-slate-800",children:[d.jsx("span",{className:"block text-xs font-medium mb-1",children:"Activity:"}),d.jsx("span",{className:"text-sm",children:I.detail})]}),d.jsx("div",{className:"text-xs mt-1",children:d.jsxs("span",{className:v?"text-slate-400":"text-slate-600",children:["Time: ",d.jsx("span",{className:"font-medium",children:zt(new Date(I.time),"MMM d, yyyy h:mm:ss a")})]})})]},I.id))})]}):d.jsx("div",{className:`text-center py-8 ${v?"text-slate-400":"text-slate-500"}`,children:"No activity logs found"})]})})},rVe=({startDate:e,endDate:t,onStartDateChange:r,onEndDateChange:n,onClear:a,className:i=""})=>{const{isDarkMode:s}=ln(),[o,l]=F.useState(!1),[c,u]=F.useState(new Date),[f,h]=F.useState(null);F.useEffect(()=>{const I=T=>{T.target.closest(".calendar-date-range-picker")||l(!1)};return o&&document.addEventListener("mousedown",I),()=>{document.removeEventListener("mousedown",I)}},[o]);const p=I=>{!e||e&&t?(r(I),n(null)):e&&!t&&(I<e?(n(e),r(I)):n(I))},g=()=>{a(),l(!1)},m=()=>!e&&!t?"Select date range":e&&t?`${zt(e,"MMM d, yyyy")} - ${zt(t,"MMM d, yyyy")}`:e?`From ${zt(e,"MMM d, yyyy")}`:t?`To ${zt(t,"MMM d, yyyy")}`:"Select date range",y=I=>!e||!t?!1:VD(I,{start:e,end:t}),v=I=>e&&DD(I,e)||t&&DD(I,t),b=I=>!f||!e||t?!1:VD(I,{start:e<f?e:f,end:e<f?f:e}),w=I=>{const T="w-8 h-8 flex items-center justify-center text-sm rounded-full cursor-pointer transition-colors",N=UD(I,c),O=v(I),U=y(I),Y=b(I);return N?O?`${T} bg-blue-600 text-white font-semibold`:U?`${T} bg-blue-100 text-blue-900`:Y?`${T} ${s?"bg-slate-600 text-white":"bg-slate-200 text-slate-800"}`:`${T} ${s?"text-slate-200 hover:bg-slate-600":"text-slate-700 hover:bg-slate-100"}`:`${T} ${s?"text-slate-500":"text-slate-300"}`},D=Tfe(c),P=Bz(c),j=mfe(D),E=Nfe(P),_=Efe({start:j,end:E}),S=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return d.jsxs("div",{className:`relative calendar-date-range-picker ${i}`,children:[d.jsxs("button",{onClick:()=>l(!o),className:`flex items-center justify-between w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600 focus:ring-slate-400":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50 focus:ring-slate-500"}`,children:[d.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[d.jsx(B9,{className:"h-4 w-4 flex-shrink-0"}),d.jsx("span",{className:"whitespace-nowrap overflow-hidden text-ellipsis",children:m()})]}),(e||t)&&d.jsx("span",{onClick:I=>{I.stopPropagation(),g()},className:`ml-3 p-1 rounded-full hover:bg-opacity-80 flex-shrink-0 cursor-pointer ${s?"hover:bg-slate-600":"hover:bg-slate-200"}`,title:"Clear date range",role:"button",tabIndex:0,onKeyDown:I=>{(I.key==="Enter"||I.key===" ")&&(I.preventDefault(),g())},children:d.jsx(Kc,{className:"h-3 w-3"})})]}),o&&d.jsx("div",{className:`absolute top-full left-0 mt-1 z-50 p-4 border rounded-lg shadow-lg w-80 ${s?"bg-slate-800 border-slate-600 text-white":"bg-white border-slate-200 text-slate-800"}`,children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("button",{onClick:()=>u(Yde(c,1)),className:`p-1 rounded-md hover:bg-opacity-80 ${s?"hover:bg-slate-600":"hover:bg-slate-100"}`,children:d.jsx(pee,{className:"h-4 w-4"})}),d.jsx("h3",{className:`text-lg font-semibold ${s?"text-white":"text-slate-800"}`,children:zt(c,"MMMM yyyy")}),d.jsx("button",{onClick:()=>u(Mz(c,1)),className:`p-1 rounded-md hover:bg-opacity-80 ${s?"hover:bg-slate-600":"hover:bg-slate-100"}`,children:d.jsx(mee,{className:"h-4 w-4"})})]}),d.jsx("div",{className:"grid grid-cols-7 gap-1",children:S.map(I=>d.jsx("div",{className:`text-center text-xs font-medium py-2 ${s?"text-slate-400":"text-slate-500"}`,children:I},I))}),d.jsx("div",{className:"grid grid-cols-7 gap-1",children:_.map(I=>d.jsx("button",{onClick:()=>p(I),onMouseEnter:()=>h(I),onMouseLeave:()=>h(null),className:w(I),disabled:!UD(I,c),children:zt(I,"d")},I.toISOString()))}),d.jsxs("div",{className:"flex gap-2 pt-2 border-t border-slate-200 dark:border-slate-600",children:[d.jsx("button",{onClick:()=>l(!1),className:`flex-1 px-3 py-2 text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600 focus:ring-slate-400":"border border-slate-300 text-slate-700 bg-white hover:bg-slate-50 focus:ring-slate-500"}`,children:"Apply"}),d.jsx("button",{onClick:g,className:`px-3 py-2 text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 ${s?"border border-red-600 text-red-200 bg-red-700 hover:bg-red-600 focus:ring-red-400":"border border-red-300 text-red-700 bg-white hover:bg-red-50 focus:ring-red-500"}`,children:"Clear"})]})]})})]})},nVe=()=>{const[e,t]=F.useState("daily"),[r,n]=F.useState(Rr(new Date,7)),[a,i]=F.useState(new Date),[s,o]=F.useState([]),[l,c]=F.useState([]),[u,f]=F.useState([]),[h,p]=F.useState({totalOrders:0,totalStock:0,totalInventoryValue:0,totalDamagedProducts:0,yesterdayOrders:0,yesterdayStockChange:0,yesterdayRevenue:0,totalDeductions:0,previousDeductions:0,todayStockAdditions:0,todayInventoryValueAdditions:0}),[g,m]=F.useState(!0),{isDarkMode:y}=ln(),{user:v}=ma(),b=F.useCallback(async()=>{m(!0);try{const S=a||new Date,I=r||Rr(S,7),T=or(mt(Xe,"orders"),ar("createdAt",">=",ir.fromDate(I)),ar("createdAt","<=",ir.fromDate(S))),O=(await cr(T)).docs.map(Ne=>{var qe,at,nt;return{id:Ne.id,...Ne.data(),createdAt:(qe=Ne.data().createdAt)==null?void 0:qe.toDate(),updatedAt:(at=Ne.data().updatedAt)==null?void 0:at.toDate(),shippedTime:(nt=Ne.data().shippedTime)==null?void 0:nt.toDate()}}),U=or(mt(Xe,"inventory")),K=(await cr(U)).docs.map(Ne=>({id:Ne.id,...Ne.data(),lastUpdated:Ne.data().lastUpdated instanceof ir?Ne.data().lastUpdated.toDate():new Date(Ne.data().lastUpdated)})),J=or(mt(Xe,"activityLogs"),ar("time",">=",I.toISOString()),ar("time","<=",S.toISOString()),La("time","desc")),V=(await cr(J)).docs.map(Ne=>({id:Ne.id,...Ne.data()}));f(V),o(K),c(O);const ee=K.reduce((Ne,qe)=>Ne+(qe.quantity||0),0),Z=K.reduce((Ne,qe)=>Ne+(qe.quantity||0)*(qe.price||0),0),k=O.length,R=Rr(new Date,1),z=new Date,G=O.filter(Ne=>{const qe=Ne.createdAt;return qe>=R&&qe<=z}),Q=G.length,oe=G.reduce((Ne,qe)=>Ne+(qe.totalAmount||0),0),ce=a||new Date,ne=r||Rr(ce,7),ye=V.filter(Ne=>{const qe=new Date(Ne.time);return qe>=ne&&qe<=ce}).filter(Ne=>{const qe=Ne.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(qe){const[,Tt]=qe;return K.some(kt=>kt.name===Tt)}const at=Ne.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(at){const[,Tt]=at;return K.some(kt=>kt.name===Tt)}return Ne.detail.match(/(\d+) units deducted from stock/)||[/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(Tt=>Tt.test(Ne.detail)),!0}),W=ce.getTime()-ne.getTime(),Ce=new Date(ne.getTime()-W),ke=new Date(ne.getTime()),ie=V.filter(Ne=>{const qe=new Date(Ne.time);return qe>=Ce&&qe<=ke}).filter(Ne=>{const qe=Ne.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(qe){const[,Tt]=qe;return K.some(kt=>kt.name===Tt)}const at=Ne.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(at){const[,Tt]=at;return K.some(kt=>kt.name===Tt)}return Ne.detail.match(/(\d+) units deducted from stock/)||[/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(Tt=>Tt.test(Ne.detail)),!0}),Fe=ye.reduce((Ne,qe)=>{const at=qe.detail.match(/(\d+) units deducted/);return Ne+(at?parseInt(at[1]):0)},0),Ye=ie.reduce((Ne,qe)=>{const at=qe.detail.match(/(\d+) units deducted/);return Ne+(at?parseInt(at[1]):0)},0),Se=ye.reduce((Ne,qe)=>{const at=qe.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(at){const[,ut,Tt]=at;if(K.find(_t=>_t.name===ut))return Ne+parseInt(Tt)}const nt=qe.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(nt){const[,ut,Tt,kt]=nt;if(K.find(ct=>ct.name===ut)){const ct=parseInt(kt)-parseInt(Tt);if(ct>0)return Ne+ct}}return Ne},0),$e=ye.reduce((Ne,qe)=>{const at=qe.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(at){const[,ut,Tt]=at,kt=K.find(_t=>_t.name===ut);if(kt){const _t=kt.price||0;return Ne+parseInt(Tt)*_t}}const nt=qe.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(nt){const[,ut,Tt,kt]=nt,_t=K.find(ct=>ct.name===ut);if(_t){const ct=parseInt(kt)-parseInt(Tt);if(ct>0){const tr=_t.price||0;return Ne+ct*tr}}}return Ne},0),De=ye.reduce((Ne,qe)=>{if([/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(ut=>ut.test(qe.detail))){let ut=0;const Tt=/(\d+)\s+units?\s+deducted\s+from\s+stock.*Reason:\s*damaged/i,kt=qe.detail.match(Tt);if(kt)ut=parseInt(kt[1]);else{const _t=[/damaged\s+items\s+from\s+(\d+)\s+to\s+(\d+)/i,/(\d+)\s+damaged\s+items?/i,/damaged\s+(\d+)\s+items?/i,/damagedItems?:\s*(\d+)/i,/(\d+)\s+units?\s+damaged/i,/damaged\s+(\d+)\s+units?/i];for(const ct of _t){const tr=qe.detail.match(ct);if(tr){if(tr.length===3){const Wt=parseInt(tr[1]),Hr=parseInt(tr[2]);ut=Math.abs(Wt-Hr)}else ut=parseInt(tr[1]);break}}}return{incidents:Ne.incidents+1,units:Ne.units+(ut>0?ut:1)}}return Ne},{incidents:0,units:0}).incidents;p({totalOrders:k,totalStock:ee,totalInventoryValue:Z,totalDamagedProducts:De,yesterdayOrders:Q,yesterdayStockChange:0,yesterdayRevenue:oe,totalDeductions:Fe,previousDeductions:Ye,todayStockAdditions:Se,todayInventoryValueAdditions:$e})}catch(S){console.error("Error fetching data:",S)}finally{m(!1)}},[r,a]),w=()=>{n(null),i(null)};if(F.useEffect(()=>{b()},[b]),F.useEffect(()=>{},[e]),!v||v.role!=="admin"&&v.role!=="staff")return d.jsx(U4,{to:"/",replace:!0});const D=()=>{const S=[],I=new Map,T=new Date;let N;switch(e){case"hourly":N=zD(T,24);break;case"daily":N=Rr(T,7);break;case"weekly":N=Rr(T,30);break;case"monthly":N=Rr(T,90);break;default:N=Rr(T,7)}return u.filter(Y=>{const K=new Date(Y.time);return K>=N&&K<=T}).filter(Y=>{const K=Y.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(K){const[,q]=K;return s.some(V=>V.name===q)}const J=Y.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(J){const[,q]=J;return s.some(V=>V.name===q)}return!0}).forEach(Y=>{let K=0,J=!1,q="";const V=Y.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(V){const[,Z,k]=V;s.find(z=>z.name===Z)&&(K=parseInt(k),q=Z,J=!0)}const ee=Y.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(ee){const[,Z,k,R]=ee;if(s.find(G=>G.name===Z)){const G=parseInt(R)-parseInt(k);G>0&&(K=G,q=Z,J=!0)}}if(J){const Z=new Date(Y.time);let k;switch(e){case"hourly":k=zt(Z,"HH:mm");break;case"daily":k=zt(Z,"MMM dd");break;case"weekly":k=zt(Z,"'Week' w");break;case"monthly":k=zt(Z,"MMM yyyy");break;default:k=zt(Z,"MMM dd")}const R=I.get(k)||{activities:0,units:0,uniqueProducts:new Set};R.uniqueProducts.add(q),I.set(k,{activities:R.activities+1,units:R.units+K,uniqueProducts:R.uniqueProducts})}}),I.forEach((Y,K)=>{S.push({date:K,activities:Y.activities,units:Y.units,uniqueProducts:Y.uniqueProducts.size})}),S.sort((Y,K)=>{const J=new Date(Y.date),q=new Date(K.date);return J.getTime()-q.getTime()})},P=()=>{const S=[],I=new Map,T=new Date;let N;switch(e){case"hourly":N=zD(T,24);break;case"daily":N=Rr(T,7);break;case"weekly":N=Rr(T,30);break;case"monthly":N=Rr(T,90);break;default:N=Rr(T,7)}return u.filter(Y=>{const K=new Date(Y.time);return K>=N&&K<=T}).filter(Y=>(Y.detail.match(/(\d+) units deducted from stock/),!0)).forEach(Y=>{const K=Y.detail.match(/(\d+) units deducted from stock/);if(K){const J=new Date(Y.time);let q;switch(e){case"hourly":q=zt(J,"HH:mm");break;case"daily":q=zt(J,"MMM dd");break;case"weekly":q=zt(J,"'Week' w");break;case"monthly":q=zt(J,"MMM yyyy");break;default:q=zt(J,"MMM dd")}const V=I.get(q)||0;I.set(q,V+parseInt(K[1]))}}),I.forEach((Y,K)=>{S.push({date:K,products:Y})}),S.sort((Y,K)=>{const J=new Date(Y.date),q=new Date(K.date);return J.getTime()-q.getTime()})},j=()=>{const S=[],I=new Map,T=[],N=a||new Date,O=r||Rr(N,7);u.filter(J=>{const q=new Date(J.time);return q>=O&&q<=N}).filter(J=>([/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(V=>V.test(J.detail)),!0)).forEach(J=>{if([/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(ee=>ee.test(J.detail))){const ee=new Date(J.time);let Z;switch(e){case"hourly":Z=zt(ee,"HH:mm");break;case"daily":Z=zt(ee,"MMM dd");break;case"weekly":Z=zt(ee,"'Week' w");break;case"monthly":Z=zt(ee,"MMM yyyy");break;default:Z=zt(ee,"MMM dd")}let k=0;const R=/(\d+)\s+units?\s+deducted\s+from\s+stock.*Reason:\s*damaged/i,z=J.detail.match(R);if(z)k=parseInt(z[1]);else{const ce=[/damaged\s+items\s+from\s+(\d+)\s+to\s+(\d+)/i,/(\d+)\s+damaged\s+items?/i,/damaged\s+(\d+)\s+items?/i,/damagedItems?:\s*(\d+)/i,/(\d+)\s+units?\s+damaged/i,/damaged\s+(\d+)\s+units?/i];for(const ne of ce){const he=J.detail.match(ne);if(he){if(he.length===3){const ye=parseInt(he[1]),W=parseInt(he[2]);k=Math.abs(ye-W)}else k=parseInt(he[1]);break}}}let G="Unknown Product";const Q=J.detail.match(/"([^"]+)"/);Q&&(G=Q[1]),T.push({date:Z,time:zt(ee,"HH:mm"),user:J.user,productName:G,units:k>0?k:1,detail:J.detail}),I.has(Z)||I.set(Z,{incidents:0,units:0,productNames:new Set});const oe=I.get(Z);oe.incidents+=1,oe.units+=k>0?k:1,oe.productNames.add(G)}}),I.forEach((J,q)=>{S.push({date:q,products:J.incidents,units:J.units,productNames:Array.from(J.productNames)})});const K=S.sort((J,q)=>new Date(J.date).getTime()-new Date(q.date).getTime());return K.detailedIncidents=T.sort((J,q)=>{const V=new Date(J.date+" "+J.time);return new Date(q.date+" "+q.time).getTime()-V.getTime()}),K},E=()=>{try{const S=zt(new Date,"yyyy-MM-dd-HH-mm"),I=e==="hourly"?"Last 24 Hours":e==="daily"?"Last 7 Days":e==="weekly"?"Last Month":e==="monthly"?"Last 3 Months":"Last 6 Months",T=s.map(Z=>[Z.name,Z.quantity,Z.price,`${Z.locationCode}-${Z.shelfNumber}`,Z.status,Z.damagedItems]),N=D(),O=P(),U=j(),Y=Math.max(N.length,O.length,U.length,T.length),K=[];K.push(`Warehouse Analytics Report - ${I} - Time Range: ${e.charAt(0).toUpperCase()+e.slice(1)} - Generated: ${zt(new Date,"yyyy-MM-dd HH:mm:ss")}`),K.push(""),K.push("SUMMARY STATISTICS");const J=`Total Stock Added (${I}),${h.todayStockAdditions},Total Units Deducted (${I}),${h.totalDeductions},Total Damaged Products (${I}),${h.totalDamagedProducts}${(v==null?void 0:v.role)==="admin"?`,Total Inventory Value,£${h.totalInventoryValue.toLocaleString("en-GB")}`:""}`;K.push(J),K.push(""),K.push("INBOUND DATA,,,OUTBOUND DATA,,DAMAGED DATA,,,INVENTORY DATA,,,,,"),K.push("Date,Activities,Units Added,Affected Products,Date,Units Deducted,Date,Incidents,Units Damaged,Product Name,Quantity,Price,Location,Status,Damaged Items");for(let Z=0;Z<Y;Z++){const k=[];if(Z<N.length){const R=N[Z];k.push(R.date,R.activities,R.units,R.uniqueProducts)}else k.push("","","","");if(Z<O.length){const R=O[Z];k.push(R.date,R.products)}else k.push("","");if(Z<U.length){const R=U[Z];k.push(R.date,R.products,R.units)}else k.push("","","");if(Z<T.length){const R=T[Z];k.push(...R)}else k.push("","","","","","");K.push(k.join(","))}K.push(""),K.push("DETAILED DAMAGED PRODUCTS INCIDENTS"),K.push("Date,Time,User,Product Name,Units Damaged,Details"),U.detailedIncidents&&U.detailedIncidents.length>0?U.detailedIncidents.forEach(Z=>{K.push(`${Z.date},${Z.time},${Z.user},${Z.productName},${Z.units},"${Z.detail.replace(/"/g,'""')}"`)}):K.push("No detailed incidents available,,,,,");const q=K.join(`
`),V=new Blob([q],{type:"text/csv;charset=utf-8;"}),ee=document.createElement("a");ee.href=URL.createObjectURL(V),ee.download=`warehouse-report-${I}-${S}.csv`,ee.click(),URL.revokeObjectURL(ee.href)}catch(S){console.error("Error exporting CSV:",S),alert("Failed to export CSV. Please try again.")}},_=()=>{try{const S=e==="hourly"?"Last 24 Hours":e==="daily"?"Last 7 Days":e==="weekly"?"Last Month":e==="monthly"?"Last 3 Months":"Last 6 Months",I=D(),T=P(),N=j(),O=N.detailedIncidents||[];console.log("Damaged Data:",N),console.log("Detailed Incidents:",O),console.log("Activity Logs Count:",u.length),console.log("Sample Activity Logs:",u.slice(0,3)),(!O||O.length===0)&&console.log("No detailed incidents found, generating on the fly...");const U=`
        <html>
          <head>
            <title>Warehouse Analytics Report - ${S}</title>
            <style>
              body { font-family: Arial, sans-serif; margin: 20px; color: #333; }
              .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #2563eb; padding-bottom: 20px; }
              .section { margin-bottom: 30px; page-break-inside: avoid; }
              .section h2 { color: #2563eb; border-bottom: 1px solid #2563eb; padding-bottom: 5px; margin-bottom: 15px; }
              table { width: 100%; border-collapse: collapse; margin-top: 10px; font-size: 12px; }
              th, td { border: 1px solid #ddd; padding: 6px; text-align: left; }
              th { background-color: #f8fafc; font-weight: bold; }
              .detailed-table th, .detailed-table td { font-size: 10px; padding: 4px; }
              .detailed-table td { max-width: 150px; word-wrap: break-word; }
              .stats-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin-bottom: 30px; }
              .stat-card { border: 1px solid #e2e8f0; padding: 15px; text-align: center; border-radius: 8px; }
              .stat-value { font-size: 24px; font-weight: bold; color: #2563eb; margin-bottom: 5px; }
              .stat-title { font-size: 14px; color: #64748b; }
              .chart-summary { background-color: #f8fafc; padding: 15px; border-radius: 8px; margin-bottom: 15px; }
              @media print { 
                body { margin: 0; } 
                .section { page-break-inside: avoid; }
              }
            </style>
          </head>
          <body>
            <div class="header">
              <h1>Warehouse Analytics Report</h1>
              <p><strong>Time Period:</strong> ${S}</p>
              <p><strong>Time Range:</strong> ${e.charAt(0).toUpperCase()+e.slice(1)} View</p>
              <p><strong>Generated:</strong> ${zt(new Date,"yyyy-MM-dd HH:mm:ss")}</p>
            </div>
            
            <div class="stats-grid">
              <div class="stat-card">
                <div class="stat-value">${h.todayStockAdditions}</div>
                <div class="stat-title">Total Stock Added<br/>(${S})</div>
              </div>
              <div class="stat-card">
                <div class="stat-value">${h.totalDeductions}</div>
                <div class="stat-title">Total Units Deducted<br/>(${S})</div>
              </div>
              <div class="stat-card">
                <div class="stat-value">${h.totalDamagedProducts}</div>
                <div class="stat-title">Total Damaged Products<br/>(${S})</div>
              </div>
              ${(v==null?void 0:v.role)==="admin"?`
              <div class="stat-card">
                <div class="stat-value">£${h.totalInventoryValue.toLocaleString("en-GB")}</div>
                <div class="stat-title">Total Inventory Value</div>
              </div>
              `:""}
            </div>
            
            <div class="section">
              <h2>Inbound Products Analysis (${e.charAt(0).toUpperCase()+e.slice(1)} View)</h2>
              <div class="chart-summary">
                <p><strong>Total Data Points:</strong> ${I.length}</p>
                <p><strong>Total Activities:</strong> ${I.reduce((K,J)=>K+J.activities,0)}</p>
                <p><strong>Total Units Added:</strong> ${I.reduce((K,J)=>K+J.units,0)}</p>
                <p><strong>Total Products Affected:</strong> ${I.reduce((K,J)=>K+J.uniqueProducts,0)}</p>
              </div>
              <table>
                <thead>
                  <tr>
                    <th>Date</th>
                    <th>Activities</th>
                    <th>Units Added</th>
                    <th>Affected Products</th>
                  </tr>
                </thead>
                <tbody>
                  ${I.slice(0,15).map(K=>`
                    <tr>
                      <td>${K.date}</td>
                      <td>${K.activities}</td>
                      <td>${K.units}</td>
                      <td>${K.uniqueProducts}</td>
                    </tr>
                  `).join("")}
                  ${I.length>15?`<tr><td colspan="4"><em>... and ${I.length-15} more entries</em></td></tr>`:""}
                </tbody>
              </table>
            </div>
            
            <div class="section">
              <h2>Outbound Products Analysis (${e.charAt(0).toUpperCase()+e.slice(1)} View)</h2>
              <div class="chart-summary">
                <p><strong>Total Data Points:</strong> ${T.length}</p>
                <p><strong>Total Units Deducted:</strong> ${T.reduce((K,J)=>K+J.products,0)}</p>
              </div>
              <table>
                <thead>
                  <tr>
                    <th>Date</th>
                    <th>Units Deducted</th>
                  </tr>
                </thead>
                <tbody>
                  ${T.slice(0,15).map(K=>`
                    <tr>
                      <td>${K.date}</td>
                      <td>${K.products}</td>
                    </tr>
                  `).join("")}
                  ${T.length>15?`<tr><td colspan="2"><em>... and ${T.length-15} more entries</em></td></tr>`:""}
                </tbody>
              </table>
            </div>
            
            <div class="section">
              <h2>Damaged Products Analysis (${e.charAt(0).toUpperCase()+e.slice(1)} View)</h2>
              <div class="chart-summary">
                <p><strong>Total Data Points:</strong> ${N.length}</p>
                <p><strong>Total Incidents:</strong> ${N.reduce((K,J)=>K+J.products,0)}</p>
                <p><strong>Total Units Damaged:</strong> ${N.reduce((K,J)=>K+J.units,0)}</p>
                <p><strong>Detailed Incidents Available:</strong> ${O.length}</p>
                <p><strong>Note:</strong> Detailed incident breakdown with user information is shown below.</p>
              </div>
              
              <h3>Summary by Date</h3>
              <table>
                <thead>
                  <tr>
                    <th>Date</th>
                    <th>Incidents</th>
                    <th>Units Damaged</th>
                    <th>Product Names</th>
                  </tr>
                </thead>
                <tbody>
                  ${N.slice(0,15).map(K=>`
                    <tr>
                      <td>${K.date}</td>
                      <td>${K.products}</td>
                      <td>${K.units}</td>
                      <td>${K.productNames?K.productNames.join(", "):"N/A"}</td>
                    </tr>
                  `).join("")}
                  ${N.length>15?`<tr><td colspan="4"><em>... and ${N.length-15} more entries</em></td></tr>`:""}
                </tbody>
              </table>
              
              <h3>Detailed Incidents by Entry</h3>
              <table class="detailed-table">
                <thead>
                  <tr>
                    <th>Date & Time</th>
                    <th>User</th>
                    <th>Product</th>
                    <th>Units Damaged</th>
                    <th>Details</th>
                  </tr>
                </thead>
                <tbody>
                  ${O.length>0?O.slice(0,50).map(K=>`
                    <tr>
                      <td>${K.date} ${K.time}</td>
                      <td>${K.user}</td>
                      <td>${K.productName}</td>
                      <td>${K.units}</td>
                      <td style="max-width: 200px; word-wrap: break-word;">${K.detail}</td>
                    </tr>
                  `).join(""):'<tr><td colspan="5">No detailed incidents available</td></tr>'}
                  ${O.length>50?`<tr><td colspan="5"><em>... and ${O.length-50} more incidents</em></td></tr>`:""}
                </tbody>
              </table>
            </div>
            
            <div class="section">
              <h2>Inventory Summary (${s.length} items)</h2>
              <div class="chart-summary">
                <p><strong>Total Products:</strong> ${s.length}</p>
                <p><strong>Active Products:</strong> ${s.filter(K=>K.status==="active").length}</p>
                <p><strong>Pending Products:</strong> ${s.filter(K=>K.status==="pending").length}</p>
                <p><strong>Total Quantity:</strong> ${s.reduce((K,J)=>K+(J.quantity||0),0)}</p>
              </div>
              <table>
                <thead>
                  <tr>
                    <th>Product</th>
                    <th>Quantity</th>
                    <th>Price</th>
                    <th>Location</th>
                    <th>Status</th>
                  </tr>
                </thead>
                <tbody>
                  ${s.map(K=>`
                    <tr>
                      <td>${K.name}</td>
                      <td>${K.quantity}</td>
                      <td>${K.price&&!isNaN(K.price)?`£${K.price.toFixed(2)}`:"Not set"}</td>
                      <td>${K.locationCode}-${K.shelfNumber}</td>
                      <td>${K.status}</td>
                    </tr>
                  `).join("")}
                </tbody>
              </table>
            </div>
          </body>
        </html>
      `,Y=window.open("","_blank");Y?(Y.document.write(U),Y.document.close(),Y.focus(),setTimeout(()=>{Y.print()},500)):alert("Please allow pop-ups to export PDF")}catch(S){console.error("Error exporting PDF:",S),alert("Failed to export PDF. Please try again.")}};return d.jsxs("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6",children:[d.jsx("style",{children:`
          @keyframes fadeInUp {
            from {
              opacity: 0;
              transform: translateY(1rem);
            }
            to {
              opacity: 1;
              transform: translateY(0);
            }
          }
          .animate-fade-in-up {
            animation: fadeInUp 0.5s ease-out forwards;
          }
        `}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"text-center md:text-left",children:[d.jsx("h1",{className:`text-xl md:text-2xl font-semibold ${y?"text-white":"text-slate-800"}`,children:"Reports and Analytics"}),d.jsx("p",{className:`${y?"text-slate-400":"text-slate-500"} mt-1 text-sm md:text-base`,children:"Admin Dashboard - Comprehensive warehouse insights"})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-between items-start sm:items-center",children:[d.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[d.jsxs("button",{onClick:E,className:`flex-1 sm:flex-none inline-flex items-center justify-center px-3 py-2 border shadow-sm text-sm leading-4 font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 animate-fade-in-up ${y?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,style:{animationDelay:"200ms"},children:[d.jsx(nb,{className:"h-4 w-4 mr-2"}),d.jsx("span",{className:"hidden xs:inline",children:"Export "}),"CSV"]}),d.jsxs("button",{onClick:_,className:`flex-1 sm:flex-none inline-flex items-center justify-center px-3 py-2 border shadow-sm text-sm leading-4 font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 animate-fade-in-up ${y?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,style:{animationDelay:"400ms"},children:[d.jsx(nb,{className:"h-4 w-4 mr-2"}),d.jsx("span",{className:"hidden xs:inline",children:"Export "}),"PDF"]})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[d.jsx("div",{className:"w-full sm:w-auto",children:d.jsx(sn,{value:e,onChange:S=>t(S.target.value),options:[{value:"hourly",label:"Hourly"},{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"}],className:"animate-fade-in-up text-sm w-full sm:w-auto",style:{animationDelay:"100ms"}})}),d.jsx("div",{className:"w-full sm:w-auto",children:d.jsx(rVe,{startDate:r,endDate:a,onStartDateChange:n,onEndDateChange:i,onClear:w,className:"animate-fade-in-up text-sm w-full sm:w-auto"})}),d.jsx(it,{variant:"secondary",onClick:b,className:`flex items-center justify-center gap-2 w-full sm:w-auto ${g?"opacity-50 cursor-not-allowed":""}`,disabled:g,children:d.jsx(ri,{size:16,className:g?"animate-spin":""})})]})]})]}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:g?d.jsxs(d.Fragment,{children:[d.jsx(lf,{}),d.jsx(lf,{}),d.jsx(lf,{}),d.jsx(lf,{})]}):d.jsxs(d.Fragment,{children:[d.jsx(mi,{title:`Total Stock Added (${r&&a?`${zt(r,"MMM d")} - ${zt(a,"MMM d, yyyy")}`:r?`From ${zt(r,"MMM d, yyyy")}`:a?`To ${zt(a,"MMM d, yyyy")}`:"Last 7 Days"})`,value:h.todayStockAdditions,icon:d.jsx(ah,{size:24,className:"text-blue-600"})}),d.jsx(mi,{title:`Total Units Deducted (${r&&a?`${zt(r,"MMM d")} - ${zt(a,"MMM d, yyyy")}`:r?`From ${zt(r,"MMM d, yyyy")}`:a?`To ${zt(a,"MMM d, yyyy")}`:"Last 7 Days"})`,value:h.totalDeductions,icon:d.jsx(W9,{size:24,className:"text-blue-600"})}),d.jsx(mi,{title:`Total Damaged Products (${r&&a?`${zt(r,"MMM d")} - ${zt(a,"MMM d, yyyy")}`:r?`From ${zt(r,"MMM d, yyyy")}`:a?`To ${zt(a,"MMM d, yyyy")}`:"Last 7 Days"})`,value:h.totalDamagedProducts,icon:d.jsx(nh,{size:24,className:"text-blue-600"})}),(v==null?void 0:v.role)==="admin"&&d.jsx(mi,{title:"Total Inventory Value",value:`£${h.totalInventoryValue.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:d.jsx(ab,{size:24,className:"text-blue-600"})})]})}),g?d.jsx("div",{className:"flex justify-center items-center h-64",children:d.jsx("div",{className:`animate-spin rounded-full h-8 w-8 border-b-2 ${y?"border-white":"border-slate-800"}`})}):d.jsx(d.Fragment,{children:d.jsxs("div",{className:"space-y-4 md:space-y-6",children:[d.jsxs("div",{className:`${y?"bg-slate-800":"bg-white"} p-3 md:p-4 rounded-lg shadow-sm`,children:[d.jsx("h3",{className:`text-base md:text-lg font-medium ${y?"text-white":"text-slate-800"} mb-3 md:mb-4`,children:"Inbound Products - Daily Additions & Units"}),d.jsx("div",{className:"h-64 md:h-80",children:d.jsx(nv,{width:"100%",height:"100%",children:d.jsxs(cv,{data:D(),children:[d.jsx(Z0,{strokeDasharray:"3 3",stroke:y?"#334155":"#e2e8f0"}),d.jsx(Of,{dataKey:"date",stroke:y?"#94a3b8":"#64748b"}),d.jsx(If,{stroke:y?"#94a3b8":"#64748b"}),d.jsx(ks,{contentStyle:{backgroundColor:y?"#1e293b":"#ffffff",border:y?"1px solid #334155":"1px solid #e2e8f0",color:y?"#e2e8f0":"#1e293b"},formatter:(S,I)=>I==="Inbound Activities"?[`${S} activities`,I]:I==="Units Added"?[`${S} units`,I]:I==="Affected Products"?[`${S} products`,I]:[S,I],labelFormatter:S=>`Date: ${S}`}),d.jsx(_l,{}),d.jsx(yi,{type:"monotone",dataKey:"activities",stroke:"#8884d8",name:"Inbound Activities",strokeWidth:2}),d.jsx(yi,{type:"monotone",dataKey:"units",stroke:"#82ca9d",name:"Units Added",strokeWidth:2}),d.jsx(yi,{type:"monotone",dataKey:"uniqueProducts",stroke:"#ffc658",name:"Affected Products",strokeWidth:2})]})})})]}),d.jsxs("div",{className:`${y?"bg-slate-800":"bg-white"} p-3 md:p-4 rounded-lg shadow-sm`,children:[d.jsx("h3",{className:`text-base md:text-lg font-medium ${y?"text-white":"text-slate-800"} mb-3 md:mb-4`,children:"Outbound Products - Daily Deductions"}),d.jsx("div",{className:"h-64 md:h-80",children:d.jsx(nv,{width:"100%",height:"100%",children:d.jsxs(cv,{data:P(),children:[d.jsx(Z0,{strokeDasharray:"3 3",stroke:y?"#334155":"#e2e8f0"}),d.jsx(Of,{dataKey:"date",stroke:y?"#94a3b8":"#64748b"}),d.jsx(If,{stroke:y?"#94a3b8":"#64748b"}),d.jsx(ks,{contentStyle:{backgroundColor:y?"#1e293b":"#ffffff",border:y?"1px solid #334155":"1px solid #e2e8f0",color:y?"#e2e8f0":"#1e293b"}}),d.jsx(_l,{}),d.jsx(yi,{type:"monotone",dataKey:"products",stroke:"#ff6b6b",name:"Units Deducted",strokeWidth:2})]})})})]}),d.jsxs("div",{className:`${y?"bg-slate-800":"bg-white"} p-3 md:p-4 rounded-lg shadow-sm`,children:[d.jsx("h3",{className:`text-base md:text-lg font-medium ${y?"text-white":"text-slate-800"} mb-3 md:mb-4`,children:"Damaged Products - Daily Incidents & Units"}),d.jsx("div",{className:"h-64 md:h-80",children:d.jsx(nv,{width:"100%",height:"100%",children:d.jsxs(cv,{data:j(),children:[d.jsx(Z0,{strokeDasharray:"3 3",stroke:y?"#334155":"#e2e8f0"}),d.jsx(Of,{dataKey:"date",stroke:y?"#94a3b8":"#64748b"}),d.jsx(If,{stroke:y?"#94a3b8":"#64748b"}),d.jsx(ks,{contentStyle:{backgroundColor:y?"#1e293b":"#ffffff",border:y?"1px solid #334155":"1px solid #e2e8f0",color:y?"#e2e8f0":"#1e293b"},formatter:(S,I)=>I==="Damaged Incidents"?[`${S} incidents`,I]:I==="Units Damaged"?[`${S} units`,I]:[S,I],labelFormatter:S=>`Date: ${S}`}),d.jsx(_l,{}),d.jsx(yi,{type:"monotone",dataKey:"products",stroke:"#ffa726",name:"Damaged Incidents",strokeWidth:2}),d.jsx(yi,{type:"monotone",dataKey:"units",stroke:"#ef5350",name:"Units Damaged",strokeWidth:2})]})})})]})]})})]})},aVe=()=>{const{user:e,setUser:t}=ma(),{showToast:r}=Nl(),{isDarkMode:n,toggleDarkMode:a}=ln(),[i,s]=F.useState(!1),[o,l]=F.useState({}),[c,u]=F.useState([]),[f,h]=F.useState(null),[p,g]=F.useState(!1),[m,y]=F.useState({username:"",email:"",name:"",password:"",confirmPassword:"",role:"staff"}),[v,b]=F.useState({}),[w,D]=F.useState({}),[P,j]=F.useState(!1),[E,_]=F.useState(null),[S,I]=F.useState({username:(e==null?void 0:e.username)||"",email:(e==null?void 0:e.email)||"",name:(e==null?void 0:e.name)||"",currentPassword:"",newPassword:"",confirmPassword:""}),[T,N]=F.useState({username:"",email:"",name:"",newPassword:"",confirmPassword:""}),O=F.useCallback(async()=>{if((e==null?void 0:e.role)==="admin"){s(!0);try{const oe=(await cr(mt(Xe,"users"))).docs.map(ce=>({id:ce.id,...ce.data()}));u(oe),console.log("Fetched users:",oe.map(ce=>({id:ce.id,username:ce.username,name:ce.name})))}catch(Q){console.error("Error fetching users:",Q),r("Error fetching users","error")}finally{s(!1)}}},[e==null?void 0:e.role,r]);F.useEffect(()=>{O()},[e==null?void 0:e.role,r,O]);const U=Q=>Q.split(" ").map(oe=>oe[0]).join("").toUpperCase().slice(0,2),Y=Q=>{const{name:oe,value:ce}=Q.target;I(ne=>({...ne,[oe]:ce})),o[oe]&&l(ne=>{const he={...ne};return delete he[oe],he})},K=()=>{const Q={};return S.username.trim()||(Q.username="Username is required"),S.email.trim()&&!/\S+@\S+\.\S+/.test(S.email)&&(Q.email="Invalid email format"),S.name.trim()||(Q.name="Name is required"),(S.currentPassword||S.newPassword||S.confirmPassword)&&(S.currentPassword?S.currentPassword!==(e==null?void 0:e.password)&&(Q.currentPassword="Current password is incorrect"):Q.currentPassword="Current password is required",S.newPassword?S.newPassword.length<6&&(Q.newPassword="Password must be at least 6 characters"):Q.newPassword="New password is required",S.newPassword!==S.confirmPassword&&(Q.confirmPassword="Passwords do not match")),l(Q),Object.keys(Q).length===0},J=async Q=>{if(Q.preventDefault(),!!e&&K()){s(!0);try{const oe={username:S.username,email:S.email,name:S.name,password:S.currentPassword!=""&&S.confirmPassword!=""&&S.newPassword!=""?S.newPassword:e.password},ce=[];e.username!==S.username&&ce.push(`changed username from "${e.username}" to "${S.username}"`),e.email!==S.email&&ce.push(`changed email from "${e.email}" to "${S.email}"`),e.name!==S.name&&ce.push(`changed full name from "${e.name}" to "${S.name}"`),S.currentPassword&&S.newPassword&&ce.push("changed their password");const ne=yr(Xe,"users",e.id);await Ln(ne,oe),ce.length>0&&await pr(mt(Xe,"activityLogs"),{user:e.name,role:e.role,detail:ce.length===1?ce[0]:`made multiple profile changes: ${ce.join("; ")}`,time:new Date().toISOString()}),t({...e,username:S.username,email:S.email,name:S.name,password:S.newPassword||e.password}),I(he=>({...he,currentPassword:"",newPassword:"",confirmPassword:""})),r("Profile updated successfully!","success")}catch(oe){console.error("Error updating profile:",oe),l({submit:"Failed to update profile. Please try again."}),r("Failed to update profile. Please try again.","error")}finally{s(!1)}}},q=Q=>{console.log("Editing user:",Q),h(Q),D({}),N({username:Q.username,email:Q.email,name:Q.name,newPassword:"",confirmPassword:""})},V=Q=>{const{name:oe,value:ce}=Q.target;N(ne=>({...ne,[oe]:ce})),w[oe]&&D(ne=>{const he={...ne};return delete he[oe],he})},ee=async()=>{if(f)try{if(s(!0),D({}),!T.username.trim()){D({username:"Username is required"});return}if(!T.name.trim()){D({name:"Name is required"});return}if(T.newPassword||T.confirmPassword){if(T.newPassword!==T.confirmPassword){D({confirmPassword:"Passwords do not match"});return}if(T.newPassword.length<6){D({newPassword:"Password must be at least 6 characters"});return}}console.log("Updating user:",f.id),console.log("Editing user object:",f),console.log("Update data:",{username:T.username,email:T.email,name:T.name,password:T.newPassword?"***":"unchanged"});const Q=yr(Xe,"users",f.id);console.log("User reference:",Q.path);const oe={username:T.username,email:T.email,name:T.name,role:f.role};T.newPassword&&(oe.password=T.newPassword),console.log("Attempting to update document with data:",oe);try{await Ln(Q,oe),console.log("User updated successfully in Firestore")}catch(ce){console.error("Failed to update by ID, trying to find by username:",ce);const ne=or(mt(Xe,"users"),ar("username","==",f.username)),he=await cr(ne);if(he.empty)throw new Error("User not found by username either");{const ye=he.docs[0];console.log("Found user by username, actual ID:",ye.id);const W=yr(Xe,"users",ye.id);await Ln(W,oe),console.log("User updated successfully using fallback method"),u(Ce=>Ce.map(ke=>ke.username===f.username?{...ke,id:ye.id,...oe}:ke))}}await pr(mt(Xe,"activityLogs"),{user:e==null?void 0:e.name,role:e==null?void 0:e.role,detail:`updated user "${f.name}" (username: ${T.username})`,time:new Date().toISOString()}),u(ce=>ce.map(ne=>ne.id===f.id?{...ne,...oe}:ne)),r("User updated successfully","success"),h(null)}catch(Q){console.error("Error updating user:",Q),console.error("Error details:",{editingUser:f,userEditForm:T,error:Q}),r("Failed to update user","error")}finally{s(!1)}},Z=Q=>{const{name:oe,value:ce}=Q.target;y(ne=>({...ne,[oe]:ce})),v[oe]&&b(ne=>{const he={...ne};return delete he[oe],he})},k=()=>{const Q={};return m.username.trim()||(Q.username="Username is required"),m.email.trim()&&!/\S+@\S+\.\S+/.test(m.email)&&(Q.email="Invalid email format"),m.name.trim()||(Q.name="Name is required"),m.password?m.password.length<6&&(Q.password="Password must be at least 6 characters"):Q.password="Password is required",m.password!==m.confirmPassword&&(Q.confirmPassword="Passwords do not match"),b(Q),Object.keys(Q).length===0},R=async Q=>{if(Q.preventDefault(),!!k()){s(!0);try{const ce=(await cr(mt(Xe,"users"))).docs.map(he=>he.data());if(ce.some(he=>he.username===m.username)){b({username:"Username already exists"});return}if(m.email.trim()&&ce.some(he=>he.email===m.email)){b({email:"Email already exists"});return}const ne=await pr(mt(Xe,"users"),{username:m.username,email:m.email,name:m.name,password:m.password,role:m.role});await pr(mt(Xe,"activityLogs"),{user:e==null?void 0:e.name,role:e==null?void 0:e.role,detail:`added new user "${m.name}" with role "${m.role}"`,time:new Date().toISOString()}),u(he=>[...he,{id:ne.id,username:m.username,email:m.email,name:m.name,role:m.role,password:m.password}]),y({username:"",email:"",name:"",password:"",confirmPassword:"",role:"staff"}),g(!1),r("User added successfully!","success")}catch(oe){console.error("Error adding user:",oe),r("Failed to add user. Please try again.","error")}finally{s(!1)}}},z=async(Q,oe)=>{_({username:oe,name:Q}),j(!0)},G=async()=>{if(E)try{s(!0);const Q=mt(Xe,"users"),oe=or(Q,ar("username","==",E.username)),ce=await cr(oe);if(ce.empty){r("User not found.","error");return}const ne=ce.docs[0],he=yr(Xe,"users",ne.id);await Is(he),await pr(mt(Xe,"activityLogs"),{user:e==null?void 0:e.name,role:e==null?void 0:e.role,detail:`deleted user "${E.name}" (username: ${E.username})`,time:new Date().toISOString()}),u(ye=>ye.filter(W=>W.username!==E.username)),r("User deleted successfully!","success")}catch(Q){console.error("Error deleting user:",Q),r("Failed to delete user. Please try again.","error")}finally{s(!1),j(!1),_(null)}};return d.jsxs("div",{className:"max-w-4xl mx-auto",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:`text-2xl font-bold ${n?"text-slate-200":"text-slate-800"}`,children:"Settings"}),d.jsx("p",{className:`${n?"text-slate-400":"text-slate-500"} mt-1`,children:"Update your profile information"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[(e==null?void 0:e.role)==="admin"&&d.jsx(it,{variant:"secondary",onClick:O,className:`flex items-center gap-2 ${i?"opacity-50 cursor-not-allowed":""}`,disabled:i,children:d.jsx(ri,{size:16,className:i?"animate-spin":""})}),d.jsx("button",{onClick:a,className:`p-2 rounded-lg transition-colors ${n?"text-yellow-400 hover:bg-slate-700":"text-slate-600 hover:bg-slate-100"}`,"aria-label":n?"Switch to light mode":"Switch to dark mode",children:n?d.jsx(q9,{size:20}):d.jsx(V9,{size:20})})]})]}),f&&d.jsxs(hn,{isOpen:!!f,onClose:()=>{h(null),D({})},title:"Edit User",size:"md",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsx(Ct,{label:"Username",name:"username",value:T.username,onChange:V,error:w.username}),d.jsx(Ct,{label:"Email",name:"email",type:"email",value:T.email,onChange:V,error:w.email}),d.jsx(Ct,{label:"Name",name:"name",value:T.name,onChange:V,error:w.name}),d.jsx(Hu,{label:"New Password",name:"newPassword",value:T.newPassword,onChange:V,error:w.newPassword}),d.jsx(Hu,{label:"Confirm Password",name:"confirmPassword",value:T.confirmPassword,onChange:V,error:w.confirmPassword})]}),d.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[d.jsx(it,{variant:"secondary",onClick:()=>{h(null),D({})},disabled:i,children:"Cancel"}),d.jsx(it,{onClick:ee,disabled:i,children:i?"Updating...":"Update User"})]})]}),d.jsxs(hn,{isOpen:P,onClose:()=>j(!1),title:"Confirm Deletion",size:"sm",children:[d.jsxs("p",{className:`${n?"text-slate-300":"text-slate-700"} mb-6`,children:['Are you sure you want to delete user "',E==null?void 0:E.name,'" (username: ',E==null?void 0:E.username,")? This action cannot be undone."]}),d.jsxs("div",{className:"flex justify-end gap-3",children:[d.jsx(it,{variant:"secondary",onClick:()=>j(!1),disabled:i,children:"Cancel"}),d.jsx(it,{variant:"danger",onClick:G,isLoading:i,disabled:i,children:i?"Deleting...":"Delete"})]})]}),d.jsxs("form",{onSubmit:J,className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center gap-6",children:[d.jsx("div",{className:"relative",children:d.jsx("div",{className:`h-24 w-24 rounded-full overflow-hidden ${n?"bg-blue-900/30":"bg-blue-100"} flex items-center justify-center`,children:d.jsx("span",{className:`text-2xl font-semibold ${n?"text-blue-400":"text-blue-600"}`,children:U((e==null?void 0:e.name)||"")})})}),d.jsxs("div",{children:[d.jsx("h2",{className:`text-lg font-medium ${n?"text-slate-200":"text-slate-800"}`,children:S.name}),d.jsx("p",{className:n?"text-slate-400":"text-slate-500",children:e==null?void 0:e.email})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:`text-lg font-medium ${n?"text-slate-200":"text-slate-800"}`,children:"Basic Information"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(Ct,{label:"Username",name:"username",value:S.username,onChange:Y,error:o.username,placeholder:e==null?void 0:e.username,required:!0,fullWidth:!0,darkMode:n}),d.jsx(Ct,{label:"Email",name:"email",type:"email",value:S.email,onChange:Y,error:o.email,placeholder:(e==null?void 0:e.email)||"Enter email (optional)",fullWidth:!0,darkMode:n})]}),d.jsx(Ct,{label:"Full Name",name:"name",value:S.name,onChange:Y,error:o.name,placeholder:e==null?void 0:e.username,required:!0,fullWidth:!0,darkMode:n})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:`text-lg font-medium ${n?"text-slate-200":"text-slate-800"}`,children:"Change Password"}),d.jsx(Hu,{label:"Current Password",name:"currentPassword",value:S.currentPassword,onChange:Y,error:o.currentPassword,placeholder:"Enter current password",fullWidth:!0,darkMode:n}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(Hu,{label:"New Password",name:"newPassword",value:S.newPassword,onChange:Y,error:o.newPassword,placeholder:"Enter new password",fullWidth:!0,darkMode:n}),d.jsx(Hu,{label:"Confirm Password",name:"confirmPassword",value:S.confirmPassword,onChange:Y,error:o.confirmPassword,placeholder:"Confirm new password",fullWidth:!0,darkMode:n})]})]}),o.submit&&d.jsx("div",{className:"text-red-500 text-sm",children:o.submit}),d.jsx("div",{className:"flex justify-end",children:d.jsx(it,{type:"submit",isLoading:i,icon:d.jsx(ib,{size:18}),children:"Save Changes"})})]}),(e==null?void 0:e.role)==="admin"&&d.jsxs("div",{className:`mt-8 p-6 rounded-lg ${n?"bg-slate-1000":"bg-white"}`,children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2 mb-4",children:[d.jsx("h2",{className:`text-xl font-semibold ${n?"text-white":"text-gray-900"} text-center md:text-left`,children:"User Management"}),d.jsxs(it,{onClick:()=>g(!0),className:"flex items-center gap-2 self-center md:self-auto",children:[d.jsx(ib,{size:16}),"Add New User"]})]}),d.jsxs("div",{className:`rounded-lg shadow overflow-hidden ${n?"bg-slate-700":"bg-gray-50"}`,children:[d.jsx("div",{className:"hidden md:block overflow-x-auto",children:d.jsxs("table",{className:`min-w-full divide-y ${n?"divide-slate-700":"divide-gray-200"}`,children:[d.jsx("thead",{className:n?"bg-slate-700":"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Username"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Email"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Name"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Role"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Actions"})]})}),d.jsx("tbody",{className:`divide-y ${n?"divide-slate-700 bg-slate-800":"divide-gray-200 bg-white"}`,children:c.filter(Q=>Q.id!==(e==null?void 0:e.id)).map(Q=>d.jsxs("tr",{className:n?"hover:bg-slate-700":"hover:bg-gray-50",children:[d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:Q.username}),d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:Q.email||"-"}),d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:Q.name}),d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:Q.role==="admin"?"Admin":Q.role==="staff"?"Staff":Q.role==="supply_serve"?"Supply & Serve":Q.role==="fahiz"?"Fahiz":Q.role==="aphy"?"APHY":Q.role}),d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(it,{variant:"ghost",size:"sm",onClick:()=>q(Q),className:`${n?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:d.jsx(fs,{size:16})}),d.jsx(it,{variant:"ghost",size:"sm",onClick:()=>z(Q.name,Q.username),className:`${n?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,children:d.jsx(ni,{size:16})})]})})]},Q.id))})]})}),d.jsx("div",{className:"md:hidden flex flex-col gap-4 p-2",children:c.filter(Q=>Q.id!==(e==null?void 0:e.id)).map(Q=>d.jsxs("div",{className:`rounded-lg shadow p-4 flex flex-col gap-2 ${n?"bg-slate-800":"bg-white"}`,children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:`font-semibold ${n?"text-slate-200":"text-gray-900"}`,children:Q.name}),d.jsx("div",{className:`text-xs ${n?"text-slate-400":"text-gray-500"}`,children:Q.username})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(it,{variant:"ghost",size:"sm",onClick:()=>q(Q),className:`${n?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:d.jsx(fs,{size:16})}),d.jsx(it,{variant:"ghost",size:"sm",onClick:()=>z(Q.name,Q.username),className:`${n?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,children:d.jsx(ni,{size:16})})]})]}),d.jsx("div",{className:`text-sm ${n?"text-slate-300":"text-gray-700"}`,children:Q.email||"-"}),d.jsx("div",{className:`text-xs font-medium ${n?"text-blue-300":"text-blue-700"}`,children:Q.role==="admin"?"Admin":Q.role==="staff"?"Staff":Q.role==="supply_serve"?"Supply & Serve":Q.role==="fahiz"?"Fahiz":Q.role==="aphy"?"APHY":Q.role})]},Q.id))})]}),d.jsx(hn,{isOpen:p,onClose:()=>g(!1),title:"Add New User",size:"xl",children:d.jsxs("form",{onSubmit:R,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(Ct,{label:"Username",name:"username",value:m.username,onChange:Z,error:v.username,required:!0,fullWidth:!0,placeholder:"Enter username (e.g., john.doe)"}),d.jsx(Ct,{label:"Email",name:"email",type:"email",value:m.email,onChange:Z,error:v.email,fullWidth:!0,placeholder:"Enter email address (optional)"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(Ct,{label:"Full Name",name:"name",value:m.name,onChange:Z,error:v.name,required:!0,fullWidth:!0,placeholder:"Enter full name (e.g., John Doe)"}),d.jsx(sn,{label:"Role",name:"role",value:m.role,onChange:Z,options:[{value:"admin",label:"Admin"},{value:"staff",label:"Staff"},{value:"supply_serve",label:"Supply & Serve"},{value:"fahiz",label:"Fahiz"},{value:"aphy",label:"APHY"}],fullWidth:!0})]}),d.jsx(Hu,{label:"Password",name:"password",value:m.password,onChange:Z,error:v.password,required:!0,fullWidth:!0,placeholder:"Enter password (min. 6 characters)"}),d.jsx(Hu,{label:"Confirm Password",name:"confirmPassword",value:m.confirmPassword,onChange:Z,error:v.confirmPassword,required:!0,fullWidth:!0,placeholder:"Confirm your password"}),d.jsx("div",{className:"flex justify-end",children:d.jsx(it,{type:"submit",isLoading:i,disabled:i,children:"Add User"})})]})})]})]})},GA=["supply & serve","APHY","AZTEC","ZK","Fahiz"],iVe=({item:e,onSubmit:t,isLoading:r})=>{const[n,a]=F.useState(""),[i,s]=F.useState("stock sold"),[o,l]=F.useState(""),c=GA.includes(e.storeName)?GA:[e.storeName,...GA],u=[...c,"other"],[f,h]=F.useState(e.storeName||c[0]||""),[p,g]=F.useState(""),{isDarkMode:m}=ln(),y=async w=>{w.preventDefault();const D=Number(n);if(!n||D<=0||D>e.quantity)return;const P=i==="other"?o:i,j=f==="other"?p.trim():f.trim();await t({id:e.id,quantity:e.quantity-D,reason:P,storeName:j})},b=(()=>{const w=Number(n);return!n||w<=0?"Quantity to deduct must be greater than 0":w>e.quantity?`Cannot deduct more than current stock (${e.quantity} units)`:i?i==="other"&&!o.trim()?"Please specify the reason":!f.trim()||f==="other"&&!p.trim()?"Please select or enter the store name":null:"Please select a reason"})();return d.jsxs("form",{onSubmit:y,className:`space-y-6 ${m?"text-white":"text-gray-900"}`,children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:`p-4 rounded-lg ${m?"bg-slate-800":"bg-slate-50"}`,children:[d.jsx("h3",{className:`text-lg font-semibold ${m?"text-white":"text-gray-900"}`,children:e.name}),d.jsxs("p",{className:`text-sm ${m?"text-slate-400":"text-slate-500"}`,children:["Current Stock: ",e.quantity," units"]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"deductQuantity",className:`block text-sm font-medium ${m?"text-slate-300":"text-gray-700"}`,children:"Quantity to Deduct"}),d.jsx(Ct,{id:"deductQuantity",type:"number",min:"1",max:e.quantity,value:n,onChange:w=>a(w.target.value.replace(/^0+(?!$)/,"")),placeholder:"Enter quantity to deduct",required:!0,className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${b?"border-red-500 focus:border-red-500":""}`})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"reason",className:`block text-sm font-medium ${m?"text-slate-300":"text-gray-700"}`,children:"Reason for Deduction"}),d.jsx(sn,{id:"reason",value:i,onChange:w=>s(w.target.value),required:!0,options:[{value:"",label:"Select a reason"},{value:"stock sold",label:"Stock Sold"},{value:"moved to fba",label:"Moved to FBA"},{value:"moved to mf",label:"Moved to MF"},{value:"damaged",label:"Damaged"},{value:"other",label:"Other"}],className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${b?"border-red-500 focus:border-red-500":""}`})]}),i==="other"&&d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"otherReason",className:`block text-sm font-medium ${m?"text-slate-300":"text-gray-700"}`,children:"Specify Reason"}),d.jsx(Ct,{id:"otherReason",type:"text",value:o,onChange:w=>l(w.target.value),placeholder:"Enter the reason",required:!0,className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${b?"border-red-500 focus:border-red-500":""}`})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"storeName",className:`block text-sm font-medium ${m?"text-slate-300":"text-gray-700"}`,children:"Store Name"}),d.jsx(sn,{id:"storeName",value:f,onChange:w=>h(w.target.value),options:u.map(w=>({value:w,label:w==="other"?"OTHER":w==null?void 0:w.toUpperCase()})),required:!0,className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${b?"border-red-500 focus:border-red-500":""}`}),f==="other"&&d.jsx(Ct,{id:"otherStoreName",type:"text",value:p,onChange:w=>g(w.target.value),placeholder:"Enter store name",required:!0,className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${b?"border-red-500 focus:border-red-500":""}`})]}),b?d.jsxs("div",{className:`flex items-center space-x-2 text-sm ${m?"text-red-400":"text-red-600"}`,children:[d.jsx(nh,{size:16}),d.jsx("span",{children:b})]}):d.jsx("p",{className:`text-xs ${m?"text-slate-400":"text-gray-500"}`,children:"Enter the quantity to be deducted from current stock"})]}),d.jsx("div",{className:"flex justify-end space-x-3",children:d.jsx(it,{type:"submit",disabled:r||!!b,className:"min-w-[100px]",children:r?d.jsxs(d.Fragment,{children:[d.jsx(xi,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):"Update"})})]})},sVe=()=>{var Z;const[e,t]=F.useState(""),[r,n]=F.useState("name"),[a,i]=F.useState(!1),[s,o]=F.useState(!1),[l,c]=F.useState(null),[u,f]=F.useState([]),[h,p]=F.useState(!1),[g,m]=F.useState(new Set),[y,v]=F.useState(null),[b,w]=F.useState(!1),[D,P]=F.useState("all"),[j,E]=F.useState(!1),{showToast:_}=Nl(),{isDarkMode:S}=ln(),{user:I}=ma(),T=["supply & serve","APHY","AZTEC","ZK","Fahiz"],N=async()=>{o(!0);try{const k=or(mt(Xe,"inventory"),La("name")),z=(await cr(k)).docs.map(G=>{const Q=G.data();return{id:G.id,...Q,lastUpdated:Q.lastUpdated instanceof ir?Q.lastUpdated.toDate():new Date(Q.lastUpdated)}});f(z)}catch(k){console.error("Error fetching stock items:",k),_("Failed to fetch stock items","error")}finally{o(!1)}},O=async()=>{try{const k=Rr(new Date,90),R=or(mt(Xe,"activityLogs"),ar("time",">=",k.toISOString()),La("time","desc")),G=(await cr(R)).docs.map(he=>({id:he.id,...he.data()})),Q=Rr(new Date,10),oe=new Set,ce=new Map;G.forEach(he=>{if(he.detail.includes("added new product")){const ye=he.detail.match(/added new product "([^"]+)"/);if(ye){const W=ye[1],Ce=new Date(he.time);(!ce.has(W)||Ce<ce.get(W))&&ce.set(W,Ce)}}if(he.detail.includes("units deducted from stock")){const ye=he.detail.match(/units deducted from stock "([^"]+)"/);if(ye){const W=ye[1];new Date(he.time)>=Q&&oe.add(W)}}});const ne=new Set;u.forEach(he=>{const ye=he.name,W=ce.get(ye);W&&W<Q&&!oe.has(ye)&&ne.add(ye)}),m(ne)}catch(k){console.error("Error fetching activity logs:",k)}};F.useEffect(()=>{N()},[_]),F.useEffect(()=>{u.length>0&&O()},[u]),F.useEffect(()=>{const k=R=>{if(b||j){const z=R.target;!z.closest(".store-filter-dropdown")&&!z.closest(".status-filter-dropdown")&&(w(!1),E(!1))}};return document.addEventListener("mousedown",k),()=>{document.removeEventListener("mousedown",k)}},[b,j]);const U=()=>{v(null),P("all"),w(!1),E(!1)},Y=u.filter(k=>k.quantity>0).filter(k=>{const R=e.toLowerCase(),z=k.name.toLowerCase().includes(R),G=`${k.locationCode} - ${k.shelfNumber}`.toLowerCase().includes(R),Q=k.asin?k.asin.split(",").some(he=>he.trim().toLowerCase().includes(R)):!1,oe=k.barcode?k.barcode.toLowerCase().includes(R):!1,ce=y?y.storeName==="other"?!T.includes(k.storeName)&&k.fulfillmentType===y.fulfillmentType:k.storeName===y.storeName&&k.fulfillmentType===y.fulfillmentType:!0,ne=D==="all"||k.status===D;return(z||G||Q||oe)&&ce&&ne}).sort((k,R)=>r==="name"?k.name.localeCompare(R.name):r==="quantity"?R.quantity-k.quantity:r==="price"?R.price-k.price:r==="date"?new Date(R.lastUpdated).getTime()-new Date(k.lastUpdated).getTime():0),K=async k=>{var R;o(!0);try{const z=yr(Xe,"inventory",k.id),G=await qd(z);if(!G.exists())throw new Error("Stock item not found");const Q=G.data();if(!I)throw new Error("User not authenticated");const oe=k.reason==="damaged"?Q.damagedItems+(Q.quantity-k.quantity):Q.damagedItems,ce=new Date;await Ln(z,{quantity:k.quantity,damagedItems:oe,lastUpdated:ir.fromDate(ce)}),await pr(mt(Xe,"activityLogs"),{detail:`${Q.quantity-k.quantity} units deducted from stock "${Q.name}" (Reason: ${k.reason}, Store: ${(R=k.storeName)==null?void 0:R.toUpperCase()}) by ${I.role} from location ${Q.locationCode} shelf ${Q.shelfNumber}`,time:new Date().toISOString(),user:I.name,role:I.role});const ne=u.map(he=>he.id===k.id?{...he,quantity:k.quantity,damagedItems:oe}:he);f(ne),c(null),i(!1),_("Stock quantity updated successfully","success")}catch(z){console.error("Error updating stock:",z),_("Failed to update stock quantity","error")}finally{o(!1)}},J=k=>{a||c(k)},q=(k,R)=>{k.stopPropagation(),c(R),i(!0)},V=()=>{p(!0)},ee=k=>{t(k),p(!1)};return d.jsxs("div",{className:"container mx-auto px-4 py-8",children:[d.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-4",children:d.jsxs("div",{children:[d.jsx("h1",{className:`text-2xl font-bold ${S?"text-white":"text-gray-900"}`,children:"Outbound Inventory"}),d.jsx("p",{className:`${S?"text-slate-400":"text-slate-500"} mt-1`,children:"Manage and track inventory deductions"})]})}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[d.jsx("div",{className:"flex-1",children:d.jsxs("div",{className:"relative",children:[d.jsx(Ct,{type:"text",placeholder:"Search by name, location, ASIN or barcode...",value:e,onChange:k=>t(k.target.value),icon:d.jsx(Al,{size:16}),style:{paddingRight:48}}),d.jsx("button",{type:"button",onClick:V,className:"absolute right-1.5 top-1/2 -translate-y-1/2 flex items-center justify-center w-7 h-7 rounded-md transition-colors bg-blue-500 hover:bg-blue-600 focus:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 border-none p-0",style:{zIndex:2},title:"Scan barcode",tabIndex:0,"aria-label":"Scan barcode",children:d.jsx(Gc,{size:16,className:"text-white"})})]})}),d.jsx("div",{className:"w-full sm:w-48",children:d.jsx(sn,{value:r,onChange:k=>n(k.target.value),options:[{value:"name",label:"Sort by Name"},{value:"quantity",label:"Sort by Quantity"},{value:"price",label:"Sort by Price"},{value:"date",label:"Sort by Date"}]})}),d.jsxs("div",{className:"flex flex-row gap-2",children:[d.jsxs("div",{className:"relative status-filter-dropdown",children:[d.jsxs(it,{variant:"secondary",onClick:()=>E(!j),className:`flex items-center gap-2 ${D!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[D==="all"?"Status Filter":D==="active"?"Active":"Pending",d.jsx(Xl,{size:16})]}),j&&d.jsx("div",{className:`absolute top-full left-0 mt-1 w-32 z-50 rounded-lg border ${S?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:d.jsxs("div",{className:"p-2",children:[d.jsx("div",{className:`text-sm font-medium mb-2 ${S?"text-slate-200":"text-slate-700"}`,children:"Filter by Status"}),d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${S?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${D==="all"?S?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{P("all"),E(!1)},children:"All"}),d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${S?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${D==="active"?S?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{P("active"),E(!1)},children:"Active"}),d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${S?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${D==="pending"?S?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{P("pending"),E(!1)},children:"Pending"}),d.jsx("div",{className:`border-t ${S?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:d.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${S?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{P("all"),E(!1)},children:"Clear Filter"})})]})})]}),d.jsxs("div",{className:"relative store-filter-dropdown",children:[d.jsxs(it,{variant:"secondary",onClick:()=>w(!b),className:`flex items-center gap-2 ${y?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[y?`${y.storeName==="other"?"OTHER":(Z=y.storeName)==null?void 0:Z.toUpperCase()} - ${y.fulfillmentType.toUpperCase()}`:"Store Filter",d.jsx(Xl,{size:16})]}),b&&d.jsx("div",{className:`absolute top-full left-0 mt-1 w-64 z-50 rounded-lg border ${S?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:d.jsxs("div",{className:"p-2",children:[d.jsx("div",{className:`text-sm font-medium mb-2 ${S?"text-slate-200":"text-slate-700"}`,children:"Filter by Store & Type"}),["supply & serve","APHY","AZTEC","ZK","Fahiz","other"].map(k=>d.jsxs("div",{className:"group relative",children:[d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${S?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(y==null?void 0:y.storeName)===k?S?"bg-slate-700":"bg-slate-100":""}`,children:k==null?void 0:k.toUpperCase()}),d.jsxs("div",{className:`absolute right-full top-0 mr-1 hidden group-hover:block w-24 ${S?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} border rounded-lg shadow-lg`,children:[d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer transition-colors ${S?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(y==null?void 0:y.storeName)===k&&(y==null?void 0:y.fulfillmentType)==="fba"?S?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{v({storeName:k,fulfillmentType:"fba"}),w(!1)},children:"FBA"}),d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer transition-colors ${S?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(y==null?void 0:y.storeName)===k&&(y==null?void 0:y.fulfillmentType)==="mf"?S?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{v({storeName:k,fulfillmentType:"mf"}),w(!1)},children:"MF"})]})]},k)),d.jsx("div",{className:`border-t ${S?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:d.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${S?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{v(null),w(!1)},children:"Clear Filter"})})]})})]})]}),d.jsx(it,{variant:"secondary",onClick:()=>{N(),U()},className:`flex items-center gap-2 ${s?"opacity-50 cursor-not-allowed":""}`,disabled:s,children:d.jsx(ri,{size:16,className:s?"animate-spin":""})}),(y||D!=="all")&&d.jsx(it,{variant:"secondary",onClick:U,className:"flex items-center gap-2",children:"Clear Filters"})]}),s?d.jsx("div",{className:`text-center py-12 ${S?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:d.jsxs("div",{className:"flex flex-col items-center gap-4",children:[d.jsx(xi,{className:`w-8 h-8 ${S?"text-blue-400":"text-blue-600"} animate-spin`}),d.jsx("p",{className:S?"text-slate-400":"text-slate-600",children:"Loading stock items..."})]})}):Y.length>0?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"hidden md:block rounded-lg overflow-hidden border ${isDarkMode ? 'border-slate-700' : 'border-slate-200'}",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{className:`${S?"bg-slate-800":"bg-slate-50"}`,children:d.jsxs("tr",{children:[d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${S?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${S?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Unit"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${S?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Status"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${S?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${S?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${S?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Quantity"}),(I==null?void 0:I.role)==="admin"&&d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${S?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Price"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${S?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Last Updated"}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${S?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),d.jsx("tbody",{className:`divide-y ${S?"divide-slate-700":"divide-slate-200"}`,children:Y.map(k=>d.jsxs("tr",{className:`${S?"hover:bg-slate-800":"hover:bg-slate-50"} cursor-pointer`,onClick:()=>J(k),children:[d.jsx("td",{className:`px-4 py-3 text-sm ${S?"text-blue-400":"text-blue-700"} font-medium`,children:d.jsxs("div",{className:"flex items-center gap-2",children:[k.name,g.has(k.name)&&d.jsxs("div",{className:"relative group",children:[d.jsx(Ov,{className:"h-4 w-4 text-red-500 flex-shrink-0"}),d.jsxs("div",{className:`absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 text-xs rounded-lg shadow-lg z-50 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity ${S?"bg-slate-800 text-red-300 border border-red-500":"bg-white text-red-700 border border-red-300"}`,children:["This product has not been deducted for 10+ days",d.jsx("div",{className:`absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent ${S?"border-t-slate-800":"border-t-white"}`})]})]})]})}),d.jsx("td",{className:`px-4 py-3 text-sm ${S?"text-slate-200":"text-slate-800"}`,children:k.unit||"-"}),d.jsx("td",{className:`px-4 py-3 text-sm ${S?"text-slate-200":"text-slate-800"}`,children:d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${k.status==="active"?"bg-green-100 text-green-700 ":"bg-yellow-100 text-yellow-700 "}`,children:k.status==="active"?"Active":"Pending"})}),d.jsxs("td",{className:`px-4 py-3 text-sm ${S?"text-slate-200":"text-slate-800"}`,children:[k.locationCode," - ",k.shelfNumber]}),d.jsx("td",{className:`px-4 py-3 text-sm ${S?"text-slate-200":"text-slate-800"}`,children:k.asin?k.asin.split(",").length>3?k.asin.split(",").slice(0,3).map(R=>R.trim()).join(", ")+"...":k.asin.split(",").map(R=>R.trim()).join(", "):"-"}),d.jsx("td",{className:`px-4 py-3 text-sm ${S?"text-slate-200":"text-slate-800"} text-right`,children:d.jsxs("div",{className:"flex items-center justify-end gap-2",children:[k.quantity<=10&&d.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-red-100 text-red-700 text-center ",children:"Critical Low"}),k.quantity>10&&k.quantity<=25&&d.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-yellow-100 text-yellow-700 text-center ",children:"Low Stock"}),d.jsx("span",{children:k.quantity})]})}),(I==null?void 0:I.role)==="admin"&&d.jsx("td",{className:`px-4 py-3 text-right text-sm ${S?"text-slate-200":"text-slate-900"}`,children:Number(k.price)>0?`£${Number(k.price).toFixed(2)}`:"(Not set)"}),d.jsx("td",{className:`px-4 py-3 text-sm ${S?"text-slate-200":"text-slate-800"}`,children:zt(new Date(k.lastUpdated),"MMM d, yyyy")}),d.jsx("td",{className:"px-4 py-3 text-right text-sm",children:d.jsx("div",{className:"flex items-center justify-end gap-2",children:d.jsx(it,{variant:"secondary",size:"sm",onClick:R=>q(R,k),className:`p-1 ${S?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-300"} transition-colors`,children:d.jsx(fs,{size:16})})})})]},k.id))})]})})}),d.jsx("div",{className:"block md:hidden space-y-4",children:Y.map(k=>d.jsxs("div",{className:`rounded-lg border ${S?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-4 shadow-sm flex flex-col gap-2`,onClick:()=>J(k),children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:`font-semibold ${S?"text-blue-400":"text-blue-700"}`,children:k.name}),d.jsxs("div",{className:"flex items-center gap-2",children:[g.has(k.name)&&d.jsxs("div",{className:"relative group",children:[d.jsx(Ov,{className:"h-4 w-4 text-red-500 flex-shrink-0"}),d.jsxs("div",{className:`absolute bottom-full right-0 mb-2 px-3 py-2 text-xs rounded-lg shadow-lg z-50 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity ${S?"bg-slate-800 text-red-300 border border-red-500":"bg-white text-red-700 border border-red-300"}`,children:["This product has not been deducted for 10+ days",d.jsx("div",{className:`absolute top-full right-4 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent ${S?"border-t-slate-800":"border-t-white"}`})]})]}),d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${k.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:k.status==="active"?"Active":"Pending"})]})]}),d.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[d.jsxs("span",{className:S?"text-slate-300":"text-slate-600",children:["Location: ",d.jsxs("span",{className:"font-medium",children:[k.locationCode," - ",k.shelfNumber]})]}),d.jsxs("span",{className:S?"text-slate-300":"text-slate-600",children:["Qty: ",d.jsx("span",{className:"font-medium",children:k.quantity})]}),k.asin&&d.jsxs("span",{className:S?"text-slate-300":"text-slate-600",children:["ASIN: ",d.jsx("span",{className:"font-medium",children:k.asin})]}),(I==null?void 0:I.role)==="admin"&&d.jsxs("span",{className:S?"text-slate-300":"text-slate-600",children:["Price: ",d.jsx("span",{className:"font-medium",children:Number(k.price)>0?`£${Number(k.price).toFixed(2)}`:"(Not set)"})]}),d.jsxs("span",{className:S?"text-slate-300":"text-slate-600",children:["Updated: ",d.jsx("span",{className:"font-medium",children:zt(new Date(k.lastUpdated),"MMM d, yyyy")})]})]}),d.jsx("div",{className:"flex gap-2 mt-2",children:d.jsxs(it,{size:"sm",variant:"secondary",onClick:R=>{R.stopPropagation(),q(R,k)},children:[d.jsx(fs,{size:14})," Edit"]})})]},k.id))})]}):d.jsx("div",{className:`text-center py-12 ${S?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:d.jsx("p",{className:S?"text-slate-400":"text-slate-500",children:"No stock items found. Try adjusting your search."})}),d.jsx(hn,{isOpen:a,onClose:()=>{i(!1),c(null)},title:"Update Stock Quantity",children:l&&d.jsx(iVe,{item:l,onSubmit:K,isLoading:s})}),l&&!a&&d.jsx(gy,{isOpen:!0,onClose:()=>c(null),item:l}),d.jsx(Sh,{isOpen:h,onClose:()=>p(!1),onBarcodeScanned:ee})]})},oVe=()=>{const[e,t]=F.useState(!0),[r,n]=F.useState([]),[a,i]=F.useState(new Set),[s,o]=F.useState(""),[l,c]=F.useState(""),[u,f]=F.useState("locationCode"),[h,p]=F.useState({}),{showToast:g}=Nl(),{isDarkMode:m}=ln(),[y,v]=F.useState(!1),[b,w]=F.useState(null),[D,P]=F.useState(1),[j,E]=F.useState("A1"),[_,S]=F.useState("0"),[I,T]=F.useState(!1),[N,O]=F.useState(!1),[U,Y]=F.useState(""),[K,J]=F.useState(kf("A1")),[q,V]=F.useState(null),[ee,Z]=F.useState(!1),[k,R]=F.useState(null),{user:z}=ma(),G=Se=>{E(Se);const $e=kf(Se);J($e),parseInt(_)>=$e.length&&S("0")},Q=async()=>{t(!0);try{const Se=or(mt(Xe,"inventory"),La("locationCode")),_e=(await cr(Se)).docs.map(De=>{const Ne=De.data();return{id:De.id,name:Ne.name||"",quantity:Ne.quantity||0,price:Ne.price||0,unit:Ne.unit||null,supplier:Ne.supplier??null,lastUpdated:Ne.lastUpdated instanceof ir?Ne.lastUpdated.toDate():new Date,locationCode:Ne.locationCode||"",shelfNumber:Ne.shelfNumber||"",barcode:Ne.barcode??null,asin:Ne.asin??null,status:Ne.status||"pending",damagedItems:Ne.damagedItems||0,fulfillmentType:Ne.fulfillmentType||"fba",storeName:Ne.storeName||""}});n(_e)}catch(Se){console.error("Error fetching locations:",Se),g("Failed to fetch locations. Please try again.","error")}finally{t(!1)}},oe=async()=>{try{const Se=or(mt(Xe,"locations")),$e=await cr(Se),_e={};$e.forEach(De=>{_e[De.id]=De.data().isAvailable!==!1}),p(_e)}catch(Se){console.error("Error fetching location availability:",Se)}};F.useEffect(()=>{t(!0),Promise.all([Q(),oe()]).finally(()=>t(!1))},[]);const ce=["A1","A2","A3","A4","A5","A6","A7","A8","B1","B2","B3","B4","B5","B6","B7","B8","C1","C2","C3","C4","C5","C6","C7","C8","D1","D2","D3","D4","D5","D6","D7","D8","E1","E2","E3","E4","E5","E6","E7","E8","F1","F2","F3","F4","F5","F6","F7","F8","G1","G2","G3","G4","G5","G6","G7","G8","H1","H2","H3","H4","H5","H6","H7","H8","I1","I2","I3","I4","I5","I6","I7","I8","J1","J2","J3","J4","J5","J6","J7","J8","K1","K2","K3","K4","K5","K6","K7","K8","L1","L2","L3","L4","L5","L6","L7","L8","M1","M2","M3","M4","M5","M6","M7","M8","N1","N2","N3","N4","N5","N6","N7","N8","O1","O2","O3","O4","O5","O6","O7","O8","P1","P2","P3","P4","P5","P6","P7","P8","Q1","Q2","Q3","Q4","Q5","Q6","Q7","Q8","R1","R2","R3","R4","R5","R6","R7","R8","S1","S2","S3","S4","S5","S6","S7","S8","T1","T2","T3","T4","T5","T6","T7","T8","U1","U2","U3","U4","U5","U6","U7","U8","V1","V2","V3","V4","V5","V6","V7","V8","W1","W2","W3","W4","W5","W6","W7","W8","X1","X2","X3","X4","X5","X6","X7","X8","Y1","Y2","Y3","Y4","Y5","Y6","Y7","Y8","Z1","Z2","Z3","Z4","Z5","Z6","Z7","Z8","Awaiting Location"],ne=ce.reduce((Se,$e)=>{const De=r.filter(Ne=>Ne.locationCode===$e).reduce((Ne,qe)=>{const at=Ne.findIndex(nt=>nt.name===qe.name&&ie(nt.asin)===ie(qe.asin)&&ie(nt.barcode)===ie(qe.barcode)&&nt.locationCode===qe.locationCode&&nt.shelfNumber===qe.shelfNumber);return at>=0?Ne[at]={...Ne[at],quantity:Ne[at].quantity+qe.quantity,lastUpdated:Ne[at].lastUpdated>qe.lastUpdated?Ne[at].lastUpdated:qe.lastUpdated}:Ne.push(qe),Ne},[]);return Se[$e]={locationCode:$e,totalStock:De.reduce((Ne,qe)=>Ne+qe.quantity,0),products:De},Se},{}),he=Object.values(ne).filter(Se=>{const $e=s.toLowerCase(),_e=l.toLowerCase(),De=_e===""||Se.locationCode.toLowerCase().includes(_e),Ne=$e===""||Se.products.some(qe=>qe.name.toLowerCase().includes($e)||qe.asin&&qe.asin.split(",").some(at=>at.trim().toLowerCase().includes($e))||qe.barcode&&qe.barcode.toLowerCase().includes($e));return De&&Ne}).sort((Se,$e)=>{if(u==="totalStock")return $e.totalStock-Se.totalStock;if(u==="locationCode")return Se.locationCode==="Awaiting Location"?-1:$e.locationCode==="Awaiting Location"?1:Se.locationCode.localeCompare($e.locationCode);if(u==="availability"){const _e=h[Se.locationCode]!==!1,De=h[$e.locationCode]!==!1;return _e===De?Se.locationCode==="Awaiting Location"?-1:$e.locationCode==="Awaiting Location"?1:Se.locationCode.localeCompare($e.locationCode):_e?-1:1}return 0});F.useEffect(()=>{if(s.trim()&&s!==U){const Se=he.filter($e=>{const _e=s.toLowerCase();return $e.products.some(De=>De.name.toLowerCase().includes(_e)||De.asin&&De.asin.split(",").some(Ne=>Ne.trim().toLowerCase().includes(_e))||De.barcode&&De.barcode.toLowerCase().includes(_e))});if(Se.length>0){const $e=Se.flatMap(De=>De.products.filter(Ne=>{const qe=s.toLowerCase();return Ne.name.toLowerCase().includes(qe)||Ne.asin&&Ne.asin.split(",").some(at=>at.trim().toLowerCase().includes(qe))||Ne.barcode&&Ne.barcode.toLowerCase().includes(qe)})),_e=[...new Set($e.map(De=>`${De.locationCode}-${De.shelfNumber}`))];g(`Product found! Located at: ${_e.join(", ")}`,"success"),Y(s)}else s.trim()&&s!==U&&(g("Product not found in any location","error"),Y(s))}else!s.trim()&&U&&Y("")},[he,s,g,U]);const ye=Se=>{i($e=>{const _e=new Set($e);return _e.has(Se)?_e.delete(Se):_e.add(Se),_e})},W=()=>{O(!0)},Ce=Se=>{o(Se),O(!1)},ke=async Se=>{const $e=!(h[Se]??!0);p(_e=>({..._e,[Se]:$e}));try{await xx(yr(Xe,"locations",Se),{isAvailable:$e},{merge:!0})}catch(_e){g("Failed to update availability","error"),p(De=>({...De,[Se]:!$e})),console.log(_e)}};function Ee(Se){const $e={...Se};return Object.keys($e).forEach(_e=>{$e[_e]===void 0&&($e[_e]=null)}),$e}function ie(Se){return Se??""}const Fe=async()=>{if(b&&!(D<1||D>b.quantity)){T(!0);try{const Se=or(mt(Xe,"inventory")),$e=await cr(Se);let _e=null;if($e.forEach(De=>{const Ne=De.data();Ne.name===b.name&&Ne.locationCode===j&&Ne.shelfNumber===_&&ie(Ne.asin)===ie(b.asin)&&ie(Ne.barcode)===ie(b.barcode)&&(_e={...Ne,id:De.id})}),D===b.quantity)await xx(yr(Xe,"inventory",b.id),Ee({...b,locationCode:j,shelfNumber:_,lastUpdated:new Date}),{merge:!0});else if(await xx(yr(Xe,"inventory",b.id),Ee({...b,quantity:b.quantity-D,lastUpdated:new Date}),{merge:!0}),_e)await xx(yr(Xe,"inventory",_e.id),Ee({..._e,quantity:_e.quantity+D,lastUpdated:new Date}),{merge:!0});else{const{id:De,...Ne}=b;await pr(mt(Xe,"inventory"),Ee({...Ne,quantity:D,locationCode:j,shelfNumber:_,lastUpdated:new Date}))}await pr(mt(Xe,"activityLogs"),{user:(z==null?void 0:z.name)||"Unknown",role:(z==null?void 0:z.role)||"Unknown",detail:`Moved ${D} unit(s) of "${b.name}" from ${b.locationCode}-${b.shelfNumber} to ${j}-${_}`,time:new Date().toISOString()}),g("Stock moved successfully","success"),v(!1),w(null),Q()}catch(Se){g("Failed to move stock","error"),console.log(Se)}finally{T(!1)}}},Ye=async()=>{if(q){Z(!0);try{await Is(yr(Xe,"inventory",q.id)),await pr(mt(Xe,"activityLogs"),{user:(z==null?void 0:z.name)||"Unknown",role:(z==null?void 0:z.role)||"Unknown",detail:`deleted product "${q.name}" (${q.quantity} units) from location ${q.locationCode}-${q.shelfNumber}`,time:new Date().toISOString()}),g("Product deleted successfully","success"),V(null),Q()}catch(Se){g("Failed to delete product","error"),console.error("Error deleting product:",Se)}finally{Z(!1)}}};return d.jsxs("div",{className:`space-y-6 ${m?"bg-slate-900 text-white":"bg-slate-50 text-slate-800"}`,children:[d.jsxs("div",{children:[d.jsx("h1",{className:`text-2xl font-bold ${m?"text-white":"text-slate-800"}`,children:"Warehouse Locations"}),d.jsx("p",{className:`${m?"text-slate-400":"text-slate-500"} mt-1`,children:"View and manage your warehouse storage locations"})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[d.jsx("div",{className:"flex-1",children:d.jsxs("div",{className:"relative",children:[d.jsx(Ct,{type:"text",placeholder:"Search by product name, ASIN or barcode...",value:s,onChange:Se=>o(Se.target.value),icon:d.jsx(Al,{size:16}),style:{paddingRight:48}}),d.jsx("button",{type:"button",onClick:W,className:"absolute right-1.5 top-1/2 -translate-y-1/2 flex items-center justify-center w-7 h-7 rounded-md transition-colors bg-blue-500 hover:bg-blue-600 focus:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 border-none p-0",style:{zIndex:2},title:"Scan barcode",tabIndex:0,"aria-label":"Scan barcode",children:d.jsx(Gc,{size:16,className:"text-white"})})]})}),d.jsx("div",{className:"flex-1",children:d.jsx(Ct,{type:"text",placeholder:"Search by location code...",value:l,onChange:Se=>c(Se.target.value),icon:d.jsx(Al,{size:16})})}),d.jsx("div",{className:"w-full sm:w-48",children:d.jsx(sn,{value:u,onChange:Se=>f(Se.target.value),options:[{value:"locationCode",label:"Sort by Location"},{value:"totalStock",label:"Sort by Total Stock"},{value:"availability",label:"Sort by Availability"}]})}),d.jsx(it,{variant:"secondary",onClick:Q,className:`flex items-center gap-2 ${e?"opacity-50 cursor-not-allowed":""}`,disabled:e,children:d.jsx(ri,{size:16,className:e?"animate-spin":""})})]}),e?d.jsx("div",{className:"flex justify-center items-center h-64",children:d.jsx("div",{className:`animate-spin rounded-full h-12 w-12 border-b-2 ${m?"border-white":"border-slate-800"}`})}):he.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:[d.jsx(ah,{className:`w-12 h-12 ${m?"text-slate-600":"text-slate-400"}`}),d.jsx("p",{className:`text-lg font-medium ${m?"text-slate-400":"text-slate-600"}`,children:"No products found in any location"}),d.jsx("p",{className:"text-sm text-slate-500",children:"Add products to locations to see them here"})]}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.values(he).map(Se=>{const $e=a.has(Se.locationCode);return d.jsxs("div",{className:`${m?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} 
                  rounded-lg shadow-sm border transition-all duration-200 ease-in-out
                  hover:shadow-md ${$e?"ring-2 ring-blue-500":""}`,children:[d.jsxs("div",{className:`p-4 border-b ${m?"border-slate-700 hover:bg-slate-700/50":"border-slate-200 hover:bg-slate-100"} 
                    cursor-pointer transition-colors duration-200`,onClick:()=>ye(Se.locationCode),children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:`p-2 rounded-lg ${m?"bg-slate-700":"bg-slate-100"}`,children:d.jsx(ah,{className:`w-5 h-5 ${m?"text-blue-400":"text-blue-600"}`})}),d.jsx("h3",{className:`text-lg font-medium ${m?"text-white":"text-slate-800"}`,children:Se.locationCode==="Awaiting Location"?"Awaiting Location":`Location ${Se.locationCode}`})]}),d.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[d.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:h[Se.locationCode]!==!1,onChange:_e=>{_e.stopPropagation(),ke(Se.locationCode)},className:"sr-only peer"}),d.jsx("div",{className:`w-11 h-6 rounded-full transition-colors duration-200
                            ${h[Se.locationCode]!==!1?"bg-green-500":"bg-red-500"}
                            peer-focus:ring-2 peer-focus:ring-blue-500
                          `}),d.jsx("div",{className:`absolute left-0.5 top-0.5 w-5 h-5 bg-white rounded-full shadow-md transition-transform duration-200
                            ${h[Se.locationCode]!==!1?"translate-x-5":""}
                          `})]}),d.jsx("span",{className:`text-xs font-semibold ml-2 ${h[Se.locationCode]!==!1?"text-green-500":"text-red-500"}`,children:h[Se.locationCode]!==!1?"Available":"Not Available"}),d.jsx("button",{className:"ml-2 p-1 rounded hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",onClick:_e=>{_e.stopPropagation(),ye(Se.locationCode)},"aria-label":$e?"Collapse":"Expand",children:$e?d.jsx(U9,{className:`w-5 h-5 ${m?"text-blue-400":"text-blue-600"}`}):d.jsx(Xl,{className:`w-5 h-5 ${m?"text-blue-400":"text-blue-600"}`})})]})]}),d.jsxs("div",{className:"flex justify-between items-end mt-2",children:[d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${m?"text-slate-400":"text-slate-500"}`,children:"Total Stock"}),d.jsxs("p",{className:`font-bold text-2xl ${m?"text-white":"text-slate-800"}`,children:[Se.totalStock," units"]})]}),d.jsxs("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:[s.trim()?Se.products.filter(_e=>{const De=s.toLowerCase();return _e.name.toLowerCase().includes(De)||_e.asin&&_e.asin.split(",").some(Ne=>Ne.trim().toLowerCase().includes(De))||_e.barcode&&_e.barcode.toLowerCase().includes(De)}).length:Se.products.length," product",(s.trim()?Se.products.filter(_e=>{const De=s.toLowerCase();return _e.name.toLowerCase().includes(De)||_e.asin&&_e.asin.split(",").some(Ne=>Ne.trim().toLowerCase().includes(De))||_e.barcode&&_e.barcode.toLowerCase().includes(De)}).length:Se.products.length)!==1?"s":""]})]})]}),$e&&d.jsxs("div",{className:"p-4 space-y-4 overflow-hidden transition-all duration-300 ease-in-out",children:[d.jsx("h4",{className:`font-medium ${m?"text-slate-300":"text-slate-700"}`,children:s.trim()?Se.products.filter(_e=>{const De=s.toLowerCase();return _e.name.toLowerCase().includes(De)||_e.asin&&_e.asin.split(",").some(Ne=>Ne.trim().toLowerCase().includes(De))||_e.barcode&&_e.barcode.toLowerCase().includes(De)}).length===0:Se.products.length===0?"No products in this location":s.trim()?"Matching products in this location:":"Products in this location:"}),d.jsx("div",{className:"space-y-4",children:Se.products.filter(_e=>{if(s.trim()){const De=s.toLowerCase();return _e.name.toLowerCase().includes(De)||_e.asin&&_e.asin.split(",").some(Ne=>Ne.trim().toLowerCase().includes(De))||_e.barcode&&_e.barcode.toLowerCase().includes(De)}return!0}).map(_e=>{const De=Se.totalStock===0?0:_e.quantity/Se.totalStock*100,Ne=s.toLowerCase(),qe=_e.name.toLowerCase().includes(Ne)||_e.asin&&_e.asin.split(",").some(at=>at.trim().toLowerCase().includes(Ne))||_e.barcode&&_e.barcode.toLowerCase().includes(Ne);return d.jsxs("div",{className:`space-y-2 p-2 rounded-md transition-colors cursor-pointer hover:bg-opacity-80 ${qe?m?"bg-blue-900/30 border border-blue-500/50":"bg-blue-50 border border-blue-200":m?"hover:bg-slate-700":"hover:bg-slate-100"}`,onClick:async()=>{var nt;const at=await qd(yr(Xe,"inventory",_e.id));if(at.exists()){const ut=at.data(),Tt={...ut,id:_e.id,lastUpdated:(nt=ut.lastUpdated)!=null&&nt.toDate?ut.lastUpdated.toDate():new Date(ut.lastUpdated)};R(Tt)}else g("Failed to fetch product details","error")},children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("h4",{className:`font-medium ${qe?"text-blue-600":m?"text-white":"text-slate-800"}`,children:_e.name}),d.jsxs("p",{className:`text-sm ${m?"text-slate-400":"text-slate-500"}`,children:["Shelf ",_e.shelfNumber]})]}),d.jsxs("div",{className:"text-right flex flex-col items-end gap-2",children:[d.jsxs("p",{className:`font-medium ${m?"text-white":"text-slate-800"}`,children:[_e.quantity," units"]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{className:"px-2 py-1 bg-blue-500 text-white rounded text-xs hover:bg-blue-600 flex items-center gap-1",onClick:async at=>{at.stopPropagation();const nt=await qd(yr(Xe,"inventory",_e.id));if(nt.exists()){const ut=nt.data();w({...ut,id:_e.id}),P(1),E(_e.locationCode),S(_e.shelfNumber),v(!0)}else g("Failed to fetch product details","error")},children:"Move"}),d.jsxs("button",{className:"px-2 py-1 bg-red-500 text-white rounded text-xs hover:bg-red-600 flex items-center gap-1",onClick:async at=>{at.stopPropagation();const nt=await qd(yr(Xe,"inventory",_e.id));if(nt.exists()){const ut=nt.data();V({...ut,id:_e.id})}else g("Failed to fetch product details","error")},children:[d.jsx(ni,{size:12}),"Delete"]})]})]})]}),d.jsx("div",{className:`w-full ${m?"bg-slate-700":"bg-slate-200"} rounded-full h-2`,children:d.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ease-in-out
                                  ${De>75?"bg-green-500":De>25?"bg-blue-500":"bg-orange-500"}`,style:{width:`${De}%`},title:`${_e.quantity} out of ${Se.totalStock} units (${De.toFixed(1)}%)`})})]},_e.id)})})]})]},Se.locationCode)})}),d.jsx(hn,{isOpen:y,onClose:()=>v(!1),title:"Move Stock",children:b&&d.jsxs("form",{onSubmit:Se=>{Se.preventDefault(),Fe()},className:`space-y-4 ${m?"bg-slate-800 text-white":"bg-white text-slate-800"} p-4 rounded-lg`,children:[d.jsxs("div",{children:[d.jsx("label",{className:`block text-sm font-medium mb-1 ${m?"text-slate-200":"text-slate-700"}`,children:"How many units to move?"}),d.jsx("input",{type:"number",min:1,max:b.quantity,value:D,onChange:Se=>P(Number(Se.target.value)),className:`w-full rounded border px-2 py-1 ${m?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-800"}`,required:!0}),d.jsxs("div",{className:`text-xs mt-1 ${m?"text-slate-400":"text-slate-500"}`,children:["Available: ",b.quantity]})]}),d.jsxs("div",{children:[d.jsx("label",{className:`block text-sm font-medium mb-1 ${m?"text-slate-200":"text-slate-700"}`,children:"New Location"}),d.jsx("select",{value:j,onChange:Se=>G(Se.target.value),className:`w-full rounded border px-2 py-1 ${m?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-800"}`,required:!0,children:ce.map(Se=>d.jsx("option",{value:Se,children:Se},Se))})]}),d.jsxs("div",{children:[d.jsx("label",{className:`block text-sm font-medium mb-1 ${m?"text-slate-200":"text-slate-700"}`,children:"Shelf Number"}),d.jsx("select",{value:_,onChange:Se=>S(Se.target.value),className:`w-full rounded border px-2 py-1 ${m?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-800"}`,required:!0,children:K.map(Se=>d.jsx("option",{value:Se.value,children:Se.label},Se.value))})]}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx("button",{type:"button",className:`px-3 py-1 rounded ${m?"bg-slate-600 text-white":"bg-slate-200 text-slate-800"}`,onClick:()=>v(!1),children:"Cancel"}),d.jsx("button",{type:"submit",className:`px-3 py-1 rounded ${m?"bg-blue-700 text-white":"bg-blue-600 text-white"}`,disabled:I,children:I?"Moving...":"Move"})]})]})}),d.jsx(Sh,{isOpen:N,onClose:()=>O(!1),onBarcodeScanned:Ce}),d.jsx(dh,{isOpen:!!q,onClose:()=>V(null),onConfirm:Ye,title:"Delete Product",message:q?`Are you sure you want to delete "${q.name}" (${q.quantity} units) from location ${q.locationCode}-${q.shelfNumber}? This action cannot be undone.`:"",isLoading:ee}),k&&d.jsx(gy,{isOpen:!!k,onClose:()=>R(null),item:k})]})},lVe=()=>{const[e,t]=F.useState(""),[r,n]=F.useState(""),[a,i]=F.useState(""),[s,o]=F.useState(""),[l,c]=F.useState("name"),[u,f]=F.useState(!1),[h,p]=F.useState(!1),[g,m]=F.useState(!1),[y,v]=F.useState(!1),[b,w]=F.useState(!1),[D,P]=F.useState(null),[j,E]=F.useState([]),[_,S]=F.useState(new Set),[I,T]=F.useState(!1),{showToast:N}=Nl(),{isDarkMode:O}=ln(),{user:U}=ma(),K=F.useCallback(()=>{switch(U==null?void 0:U.role){case"fahiz":return{title:"Fahiz Stock",storeName:"Fahiz",storeNameDisplay:"FAHIZ"};case"aphy":return{title:"APHY Stock",storeName:"APHY",storeNameDisplay:"APHY"};case"supply_serve":default:return{title:"Supply & Serve Stock",storeName:"supply & serve",storeNameDisplay:"SUPPLY & SERVE"}}},[U==null?void 0:U.role])(),[J,q]=F.useState(!1),[V,ee]=F.useState(null),[Z,k]=F.useState(!1),[R,z]=F.useState(!1),[G,Q]=F.useState(null),[oe,ce]=F.useState(null),[ne,he]=F.useState(!1),[ye,W]=F.useState("all"),[Ce,ke]=F.useState(!1);F.useEffect(()=>{const Ie=setTimeout(()=>{n(e)},300);return()=>{clearTimeout(Ie)}},[e]),F.useEffect(()=>{const Ie=setTimeout(()=>{o(a)},300);return()=>{clearTimeout(Ie)}},[a]);const Ee=F.useCallback(async()=>{w(!0);try{const Ie=or(mt(Xe,"inventory"),La("name")),Ke=(await cr(Ie)).docs.map(ht=>{const Dt=ht.data();return{id:ht.id,...Dt,lastUpdated:Dt.lastUpdated instanceof ir?Dt.lastUpdated.toDate():new Date(Dt.lastUpdated)}});E(Ke)}catch(Ie){console.error("Error fetching stock items:",Ie),N("Failed to fetch stock items","error")}finally{w(!1)}},[N]);F.useEffect(()=>{Ee()},[Ee]),F.useEffect(()=>{const Ie=Me=>{const Ke=Me.target;Ke.closest(".store-filter-dropdown")||he(!1),Ke.closest(".status-filter-dropdown")||ke(!1)};return(ne||Ce)&&document.addEventListener("mousedown",Ie),()=>{document.removeEventListener("mousedown",Ie)}},[ne,Ce]);const ie=F.useMemo(()=>[{value:"name",label:"Name (A-Z)"},{value:"quantity",label:"Quantity (High-Low)"},{value:"price",label:"Price (High-Low)"},{value:"date",label:"Date Updated"}],[]),Fe=F.useMemo(()=>{const Ie=r.toLowerCase(),Me=s.toLowerCase(),Ke=K.storeName;return j.filter(ht=>{if(ht.quantity===0||ht.storeName!==Ke)return!1;const Dt=r===""||ht.name.toLowerCase().startsWith(Ie),Ht=s===""||ht.barcode&&ht.barcode.toLowerCase().includes(Me)||ht.asin&&ht.asin.split(",").some(Ot=>Ot.trim().toLowerCase().includes(Me)),Mt=ye==="all"||ht.status===ye;return Dt&&Ht&&Mt}).sort((ht,Dt)=>l==="name"?ht.name.localeCompare(Dt.name):l==="quantity"?Dt.quantity-ht.quantity:l==="price"?Dt.price-ht.price:l==="date"?new Date(Dt.lastUpdated).getTime()-new Date(ht.lastUpdated).getTime():0)},[j,r,s,ye,l,K]),Ye=F.useMemo(()=>j.filter(Ie=>Ie.quantity>0&&Ie.storeName===K.storeName).length,[j,K]),Se=F.useCallback((Ie,Me)=>j.filter(Ke=>Ke.locationCode===Ie&&Ke.shelfNumber===Me),[j]),$e=F.useCallback(async Ie=>{w(!0);try{const Me=[];for(const Ke of Ie)if(Ke.barcode){const ht=or(mt(Xe,"inventory"),ar("barcode","==",Ke.barcode),ar("quantity","==",0)),Dt=await cr(ht);if(!Dt.empty){const Ht=Dt.docs[0];if(await Is(yr(Xe,"inventory",Ht.id)),E(Mt=>Mt.filter(Ot=>Ot.id!==Ht.id)),U){const Mt=Ht.data();await pr(mt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`deleted hidden product "${Mt.name}" with barcode ${Ke.barcode} from location ${Mt.locationCode}-${Mt.shelfNumber}`,time:new Date().toISOString()})}}}for(const Ke of Ie){const ht=await pr(mt(Xe,"inventory"),{...Ke,lastUpdated:ir.fromDate(new Date)});Me.push({...Ke,id:ht.id,lastUpdated:new Date})}if(U){const Ke=Ie.reduce((Dt,Ht)=>Dt+Ht.quantity,0),ht=Ie.map(Dt=>`${Dt.quantity} at ${Dt.locationCode}-${Dt.shelfNumber}`).join(", ");await pr(mt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`added new product "${Ie[0].name}" with total quantity ${Ke} (${ht})`,time:new Date().toISOString()})}E(Ke=>[...Ke,...Me]),f(!1),k(!1),N("Stock items added successfully","success")}catch(Me){console.error("Error adding stock:",Me),N("Failed to add stock items","error")}finally{w(!1)}},[U,N]),_e=F.useCallback(async Ie=>{const Me=[];for(const Ke of Ie){const ht=Se(Ke.locationCode,Ke.shelfNumber);ht.length>0&&Me.push({locationCode:Ke.locationCode,shelfNumber:Ke.shelfNumber,products:ht})}if(Me.length>0){const Ke=Me[0];ce({locationCode:Ke.locationCode,shelfNumber:Ke.shelfNumber,existingProducts:Ke.products,newProductName:Ie[0].name,newProductBarcode:Ie[0].barcode||void 0}),Q(Ie),z(!0);return}await $e(Ie)},[Se,$e]),De=F.useCallback(async()=>{G&&(await $e(G),z(!1),Q(null),ce(null),f(!1),k(!1))},[G,$e]),Ne=F.useCallback(()=>{z(!1),Q(null),ce(null),f(!1),k(!1)},[]),qe=F.useCallback(async()=>{if(G&&oe)try{w(!0);const Ie=oe.existingProducts.find(Me=>Me.barcode===oe.newProductBarcode);if(Ie){const Me=Ie.quantity+G[0].quantity,Ke=yr(Xe,"inventory",Ie.id);await Ln(Ke,{quantity:Me,lastUpdated:ir.fromDate(new Date)}),U&&(await pr(mt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`merged ${G[0].quantity} units of "${G[0].name}" with existing stock "${Ie.name}" at location ${oe.locationCode}-${oe.shelfNumber}`,time:new Date().toISOString()}),await pr(mt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`edited product "${Ie.name}": quantity from ${Ie.quantity} to ${Me}`,time:new Date().toISOString()})),await Ee(),N("Products merged successfully","success")}}catch(Ie){console.error("Error merging products:",Ie),N("Failed to merge products","error")}finally{w(!1),z(!1),Q(null),ce(null),f(!1),k(!1)}},[G,oe,U,Ee,N]),at=F.useCallback(async(Ie,Me)=>{var Ke,ht;w(!0);try{const Dt=new Date,Ht={},Mt=[];if(Ie.name!==Me.name&&(Ht.name=Ie.name,Mt.push(`name from "${Me.name}" to "${Ie.name}"`)),Ie.price!==Me.price){Ht.price=Ie.price;const Ot=Number(Me.price||0).toFixed(2),Zt=Number(Ie.price||0).toFixed(2);Mt.push(`price from £${Ot} to £${Zt}`)}if((Ie.locationCode!==Me.locationCode||Ie.shelfNumber!==Me.shelfNumber)&&(Ht.locationCode=Ie.locationCode,Ht.shelfNumber=Ie.shelfNumber,Mt.push(`location from ${Me.locationCode}-${Me.shelfNumber} to ${Ie.locationCode}-${Ie.shelfNumber}`)),Ie.supplier!==Me.supplier&&(Ht.supplier=Ie.supplier,Mt.push(`supplier from "${Me.supplier||"none"}" to "${Ie.supplier||"none"}"`)),Ie.asin!==Me.asin&&(Ht.asin=Ie.asin,Mt.push(`ASIN from "${Me.asin||"none"}" to "${Ie.asin||"none"}"`)),Ie.status!==Me.status&&(Ht.status=Ie.status,Mt.push(`status from "${Me.status}" to "${Ie.status}"`)),Ie.damagedItems!==Me.damagedItems&&(Ht.damagedItems=Ie.damagedItems,Mt.push(`damaged items from ${Me.damagedItems} to ${Ie.damagedItems}`)),Ie.fulfillmentType!==Me.fulfillmentType&&(Ht.fulfillmentType=Ie.fulfillmentType,Mt.push(`fulfillment type from "${Me.fulfillmentType.toUpperCase()}" to "${Ie.fulfillmentType.toUpperCase()}"`)),Ie.storeName!==Me.storeName&&(Ht.storeName=Ie.storeName,Mt.push(`store name from "${(Ke=Me.storeName)==null?void 0:Ke.toUpperCase()}" to "${(ht=Ie.storeName)==null?void 0:ht.toUpperCase()}"`)),Ie.unit!==Me.unit&&(Ht.unit=Ie.unit,Mt.push(`unit from "${Me.unit||"none"}" to "${Ie.unit||"none"}"`)),Ie.barcode!==Me.barcode&&(Ht.barcode=Ie.barcode,Mt.push(`barcode from "${Me.barcode||"none"}" to "${Ie.barcode||"none"}"`)),Object.keys(Ht).length>0){const Ot=yr(Xe,"inventory",Ie.id);await Ln(Ot,{...Ht,lastUpdated:ir.fromDate(Dt)}),U&&Mt.length>0&&await pr(mt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`edited product "${Ie.name}": ${Mt.join(", ")}`,time:Dt.toISOString()});const Zt=j.map(br=>br.id===Ie.id?{...br,...Ht,lastUpdated:Dt}:br);E(Zt),N("Stock details updated successfully","success"),p(!1),P(null)}if(Ie.quantity>Me.quantity)ee({itemId:Ie.id,newQuantity:Ie.quantity}),q(!0),p(!1);else if(Ie.quantity!==Me.quantity){const Ot=yr(Xe,"inventory",Ie.id);await Ln(Ot,{quantity:Ie.quantity,lastUpdated:ir.fromDate(Dt)}),U&&await pr(mt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`edited product "${Ie.name}": quantity from ${Me.quantity} to ${Ie.quantity}`,time:Dt.toISOString()});const Zt=j.map(br=>br.id===Ie.id?{...br,quantity:Ie.quantity,lastUpdated:Dt}:br);E(Zt),N("Stock quantity updated","success"),p(!1),P(null)}else p(!1),P(null)}catch(Dt){console.error("Error updating stock:",Dt),N("Failed to update stock item","error")}finally{w(!1)}},[j,U,N]),nt=F.useCallback(async()=>{if(V){w(!0);try{const{itemId:Ie,newQuantity:Me}=V,Ke=new Date,ht=j.find(Mt=>Mt.id===Ie),Dt=yr(Xe,"inventory",Ie);await Ln(Dt,{quantity:Me,lastUpdated:ir.fromDate(Ke)}),U&&ht&&await pr(mt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`edited product "${ht.name}": quantity from ${ht.quantity} to ${Me}`,time:Ke.toISOString()});const Ht=j.map(Mt=>Mt.id===Ie?{...Mt,quantity:Me,lastUpdated:Ke}:Mt);E(Ht),N("Stock quantity updated successfully","success"),P(null)}catch(Ie){console.error("Error updating quantity:",Ie),N("Failed to update quantity","error")}finally{w(!1),q(!1),ee(null)}}},[V,j,U,N]),ut=F.useCallback(async Ie=>{w(!0);try{const Me=j.find(Ke=>Ke.id===Ie);await Is(yr(Xe,"inventory",Ie)),U&&Me&&await pr(mt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`deleted product "${Me.name}" (${Me.quantity} units) from location ${Me.locationCode}-${Me.shelfNumber}`,time:new Date().toISOString()}),E(j.filter(Ke=>Ke.id!==Ie)),m(!1),P(null),N("Stock item deleted successfully","success")}catch(Me){console.error("Error deleting stock:",Me),N("Failed to delete stock item","error")}finally{w(!1)}},[j,U,N]),Tt=F.useCallback(Ie=>{P(Ie)},[]),kt=F.useCallback((Ie,Me)=>{Ie.stopPropagation(),P(Me),p(!0)},[]),_t=F.useCallback((Ie,Me)=>{Ie.stopPropagation(),P(Me),m(!0)},[]),ct=F.useCallback(()=>{_.size===Fe.length?S(new Set):S(new Set(Fe.map(Ie=>Ie.id)))},[Fe,_.size]),tr=F.useCallback(Ie=>{const Me=new Set(_);Me.has(Ie)?Me.delete(Ie):Me.add(Ie),S(Me)},[_]),Wt=F.useCallback(async()=>{if(_.size!==0){w(!0);try{const Ie=j.filter(Ke=>_.has(Ke.id)),Me=Array.from(_).map(Ke=>Is(yr(Xe,"inventory",Ke)));if(await Promise.all(Me),U){const Ke=Ie.map(ht=>`"${ht.name}" (${ht.quantity} units) from ${ht.locationCode}-${ht.shelfNumber}`).join(", ");await pr(mt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`Bulk deleted ${_.size} products: ${Ke}`,time:new Date().toISOString()})}E(j.filter(Ke=>!_.has(Ke.id))),S(new Set),T(!1),v(!1),N(`Successfully deleted ${_.size} items`,"success")}catch(Ie){console.error("Error deleting items:",Ie),N("Failed to delete selected items","error")}finally{w(!1)}}},[_,j,U,N]),Hr=F.useCallback(async()=>{if(_.size!==0){w(!0);try{const Ie=j.filter(Ke=>_.has(Ke.id)&&Ke.status==="pending");if(Ie.length===0){N("No pending items selected to activate","error");return}const Me=Ie.map(Ke=>Ln(yr(Xe,"inventory",Ke.id),{status:"active",lastUpdated:ir.fromDate(new Date)}));if(await Promise.all(Me),U){const Ke=Ie.map(ht=>`"${ht.name}" from ${ht.locationCode}-${ht.shelfNumber}`).join(", ");await pr(mt(Xe,"activityLogs"),{user:U.name,role:U.role,detail:`Bulk activated ${Ie.length} pending products: ${Ke}`,time:new Date().toISOString()})}E(j.map(Ke=>_.has(Ke.id)&&Ke.status==="pending"?{...Ke,status:"active",lastUpdated:new Date}:Ke)),S(new Set),T(!1),N(`Successfully activated ${Ie.length} items`,"success")}catch(Ie){console.error("Error activating items:",Ie),N("Failed to activate selected items","error")}finally{w(!1)}}},[_,j,U,N]),lr=F.useCallback(()=>{T(!I),I||S(new Set)},[I]),qr=F.useCallback(({item:Ie})=>d.jsxs("tr",{className:`hover:${O?"bg-slate-700/50":"bg-slate-50"} cursor-pointer`,onClick:()=>Tt(Ie),children:[I&&d.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-slate-200":"text-slate-800"}`,onClick:Me=>Me.stopPropagation(),children:d.jsx("input",{type:"checkbox",checked:_.has(Ie.id),onChange:()=>tr(Ie.id),className:`h-4 w-4 text-blue-600 rounded ${O?"border-slate-600 bg-slate-700":"border-slate-300"} focus:ring-blue-500`})}),d.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-blue-400":"text-blue-700"} font-medium`,children:Ie.name}),d.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-slate-200":"text-slate-800"}`,children:Ie.unit||"-"}),d.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-slate-200":"text-slate-800"}`,children:d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Ie.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:Ie.status==="active"?"Active":"Pending"})}),d.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-slate-200":"text-slate-800"}`,children:d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Ie.fulfillmentType==="fba"?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:Ie.fulfillmentType.toUpperCase()})}),d.jsxs("td",{className:`px-4 py-3 text-sm ${O?"text-slate-200":"text-slate-800"}`,children:[Ie.locationCode," - ",Ie.shelfNumber]}),d.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-slate-200":"text-slate-800"}`,children:Ie.asin?Ie.asin.split(",").length>3?Ie.asin.split(",").slice(0,3).map(Me=>Me.trim()).join(", ")+"...":Ie.asin.split(",").map(Me=>Me.trim()).join(", "):"-"}),d.jsx("td",{className:`px-4 py-3 text-right text-sm ${O?"text-slate-200":"text-slate-900"}`,children:Number(Ie.price)>0?`£${Number(Ie.price).toFixed(2)}`:"(Not set)"}),d.jsx("td",{className:`px-4 py-3 text-right text-sm ${O?"text-slate-200":"text-slate-900"}`,children:Number(Ie.quantity*Ie.price)>0?`£${Number(Ie.quantity*Ie.price).toFixed(2)}`:"(Not set)"}),d.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-slate-200":"text-slate-800"} text-right`,children:d.jsxs("div",{className:"flex items-center justify-end gap-2",children:[Ie.quantity<=10&&d.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-red-100 text-red-700 text-center",children:"Critical Low"}),Ie.quantity>10&&Ie.quantity<=25&&d.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-yellow-100 text-yellow-700 text-center",children:"Low Stock"}),d.jsx("span",{children:Ie.quantity})]})}),d.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-slate-200":"text-slate-800"}`,children:zt(new Date(Ie.lastUpdated),"MMM d, yyyy")}),d.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-slate-200":"text-slate-800"} text-right`,children:d.jsxs("div",{className:"flex items-center justify-end gap-2",children:[d.jsx("button",{onClick:Me=>kt(Me,Ie),className:`p-1 ${O?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,title:"Edit",children:d.jsx(fs,{size:16})}),d.jsx("button",{onClick:Me=>_t(Me,Ie),className:`p-1 ${O?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,title:"Delete",children:d.jsx(ni,{size:16})})]})})]},Ie.id),[I,_,O,Tt,tr,kt,_t]);return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between py-4",children:[d.jsx("h1",{className:`text-2xl font-bold ${O?"text-white":"text-gray-900"}`,children:K.title}),d.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${O?"bg-slate-800 text-blue-300":"bg-blue-100 text-blue-700"}`,children:[K.storeNameDisplay," Products: ",Ye]})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-4",children:[d.jsx("div",{children:d.jsxs("p",{className:`${O?"text-slate-400":"text-slate-500"} mt-1`,children:["Manage your ",K.storeNameDisplay.toLowerCase()," stock, track quantities, and monitor product status"]})}),d.jsx("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:I?d.jsxs(d.Fragment,{children:[ye==="pending"&&d.jsxs(it,{onClick:Hr,variant:"primary",className:"flex items-center gap-2 w-full sm:w-auto",disabled:b||_.size===0,children:[d.jsx(z9,{size:16}),"Go Live (",_.size,")"]}),d.jsx(it,{onClick:lr,variant:"secondary",className:"flex items-center gap-2 w-full sm:w-auto",children:"Cancel"})]}):d.jsxs(d.Fragment,{children:[d.jsxs(it,{variant:"secondary",onClick:()=>k(!0),className:"flex items-center gap-2 w-full sm:w-auto",children:[d.jsx(Si,{size:16}),"Quick Add"]}),d.jsxs(it,{variant:"primary",onClick:()=>f(!0),className:"flex items-center gap-2 w-full sm:w-auto",children:[d.jsx(Si,{size:16}),"Add New Stock"]})]})})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[d.jsx("div",{className:"flex-1",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx(Al,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),d.jsx(Ct,{type:"text",placeholder:"Search by product name",value:e,onChange:Ie=>t(Ie.target.value),className:"pl-10"})]}),d.jsxs("div",{className:"relative",children:[d.jsx(Al,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),d.jsx(Ct,{type:"text",placeholder:"Search by barcode or ASIN",value:a,onChange:Ie=>i(Ie.target.value),className:"pl-10"})]})]})}),d.jsx("div",{className:"w-full sm:w-48",children:d.jsx(sn,{value:l,onChange:Ie=>c(Ie.target.value),options:ie})}),d.jsx("div",{className:"flex flex-row gap-2",children:d.jsxs("div",{className:"relative status-filter-dropdown",children:[d.jsxs(it,{variant:"secondary",onClick:()=>ke(!Ce),className:`flex items-center gap-2 ${ye!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[ye==="all"?"Status Filter":ye==="active"?"Active":"Pending",d.jsx(Xl,{size:16})]}),Ce&&d.jsx("div",{className:`absolute top-full left-0 mt-1 w-32 z-50 rounded-lg border ${O?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:d.jsxs("div",{className:"p-2",children:[d.jsx("div",{className:`text-sm font-medium mb-2 ${O?"text-slate-200":"text-slate-700"}`,children:"Filter by Status"}),d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${O?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${ye==="all"?O?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{W("all"),ke(!1)},children:"All"}),d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${O?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${ye==="active"?O?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{W("active"),ke(!1)},children:"Active"}),d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${O?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${ye==="pending"?O?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{W("pending"),ke(!1)},children:"Pending"}),d.jsx("div",{className:`border-t ${O?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:d.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${O?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{W("all"),ke(!1)},children:"Clear Filter"})})]})})]})}),d.jsx(it,{variant:"secondary",onClick:Ee,className:`flex items-center gap-2 ${b?"opacity-50 cursor-not-allowed":""}`,disabled:b,children:d.jsx(ri,{size:16,className:b?"animate-spin":""})})]}),b?d.jsx("div",{className:`text-center py-12 ${O?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:d.jsxs("div",{className:"flex flex-col items-center gap-4",children:[d.jsx(xi,{className:`w-8 h-8 ${O?"text-blue-400":"text-blue-600"} animate-spin`}),d.jsx("p",{className:O?"text-slate-400":"text-slate-600",children:"Loading stock items..."})]})}):Fe.length>0?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"hidden md:block overflow-x-auto overflow-y-hidden",children:d.jsxs("table",{className:`min-w-full divide-y ${O?"divide-slate-700":"divide-slate-200"} ${O?"bg-slate-800":"bg-white"} rounded-lg border ${O?"border-slate-700":"border-slate-200"}`,children:[d.jsx("thead",{className:O?"bg-slate-700/50":"bg-slate-100",children:d.jsxs("tr",{children:[I&&d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",checked:_.size===Fe.length,onChange:ct,className:`h-4 w-4 text-blue-600 rounded ${O?"border-slate-600 bg-slate-700":"border-slate-300"} focus:ring-blue-500`}),d.jsx("span",{children:"Select"})]})}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Unit"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Status"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"FT"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Price"}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Total Price"}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Quantity"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Last Updated"}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),d.jsx("tbody",{className:`divide-y ${O?"divide-slate-700":"divide-slate-200"}`,children:Fe.map((Ie,Me)=>d.jsx(qr,{item:Ie,index:Me},Ie.id))})]})}),d.jsx("div",{className:"block md:hidden space-y-4",children:Fe.map(Ie=>d.jsxs("div",{className:`rounded-lg border ${O?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-4 shadow-sm flex flex-col gap-2`,onClick:()=>Tt(Ie),children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:`font-semibold ${O?"text-blue-400":"text-blue-700"}`,children:Ie.name}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Ie.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:Ie.status==="active"?"Active":"Pending"}),d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Ie.fulfillmentType==="fba"?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:Ie.fulfillmentType.toUpperCase()})]})]}),d.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[d.jsxs("span",{className:O?"text-slate-300":"text-slate-600",children:["Location: ",d.jsxs("span",{className:"font-medium",children:[Ie.locationCode," - ",Ie.shelfNumber]})]}),d.jsxs("span",{className:O?"text-slate-300":"text-slate-600",children:["Qty: ",d.jsx("span",{className:"font-medium",children:Ie.quantity})]}),Ie.asin&&d.jsxs("span",{className:O?"text-slate-300":"text-slate-600",children:["ASIN: ",d.jsx("span",{className:"font-medium",children:Ie.asin})]}),d.jsxs("span",{className:O?"text-slate-300":"text-slate-600",children:["Price: ",d.jsx("span",{className:"font-medium",children:Number(Ie.price)>0?`£${Number(Ie.price).toFixed(2)}`:"(Not set)"})]}),d.jsxs("span",{className:O?"text-slate-300":"text-slate-600",children:["Total: ",d.jsx("span",{className:"font-medium",children:Number(Ie.quantity*Ie.price)>0?`£${Number(Ie.quantity*Ie.price).toFixed(2)}`:"(Not set)"})]}),d.jsxs("span",{className:O?"text-slate-300":"text-slate-600",children:["Updated: ",d.jsx("span",{className:"font-medium",children:zt(new Date(Ie.lastUpdated),"MMM d, yyyy")})]})]}),d.jsxs("div",{className:"flex gap-2 mt-2",children:[d.jsxs(it,{size:"sm",variant:"secondary",onClick:Me=>{Me.stopPropagation(),kt(Me,Ie)},children:[d.jsx(fs,{size:14})," Edit"]}),d.jsxs(it,{size:"sm",variant:"danger",onClick:Me=>{Me.stopPropagation(),_t(Me,Ie)},children:[d.jsx(ni,{size:14})," Delete"]})]})]},Ie.id))})]}):d.jsx("div",{className:`text-center py-12 ${O?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:d.jsx("p",{className:O?"text-slate-400":"text-slate-500",children:"No stock items found. Try adjusting your search."})}),d.jsx(hn,{isOpen:u,onClose:()=>f(!1),title:`Add New ${K.storeNameDisplay} Stock Item`,size:"xl",children:d.jsx(CW,{onSubmit:_e,onCancel:()=>f(!1),isLoading:b,existingStockItems:j})}),d.jsx(hn,{isOpen:Z,onClose:()=>k(!1),title:`Quick Add ${K.storeNameDisplay} Stock`,size:"md",children:d.jsx(OW,{onSubmit:_e,onClose:()=>k(!1),isLoading:b})}),d.jsx(hn,{isOpen:h,onClose:()=>p(!1),title:`Edit ${K.storeNameDisplay} Stock`,size:"xl",children:D&&d.jsx(PW,{item:D,onSubmit:at,onCancel:()=>p(!1),isLoading:b})}),D&&d.jsx(dh,{isOpen:g,onClose:()=>{m(!1),P(null)},onConfirm:()=>ut(D.id),title:"Delete Stock Item",message:`Are you sure you want to delete "${D.name}"? This action cannot be undone.`,isLoading:b}),D&&!h&&!g&&!J&&d.jsx(gy,{isOpen:!!D,onClose:()=>P(null),item:D}),d.jsx(dh,{isOpen:y,onClose:()=>{v(!1),S(new Set)},onConfirm:Wt,title:"Delete Selected Items",message:`Are you sure you want to delete ${_.size} selected item${_.size>1?"s":""}? This action cannot be undone.`,isLoading:b}),d.jsx(hn,{isOpen:J,onClose:()=>{q(!1),ee(null)},title:"Confirm Quantity Update",children:d.jsxs("div",{children:[d.jsx("p",{children:"This product is already in stock in this location. Are you sure you want to add more quantity?"}),d.jsxs("div",{className:"flex justify-end gap-4 mt-4",children:[d.jsx(it,{variant:"secondary",onClick:()=>{q(!1),ee(null)},children:"No"}),d.jsx(it,{onClick:nt,isLoading:b,children:"Yes"})]})]})}),oe&&d.jsx(IW,{isOpen:R,onClose:Ne,onConfirm:De,onCancel:Ne,onMerge:qe,locationCode:oe.locationCode,shelfNumber:oe.shelfNumber,existingProducts:oe.existingProducts,newProductName:oe.newProductName,newProductBarcode:oe.newProductBarcode})]})},Ao=({children:e,allowedRoles:t})=>{const{user:r}=ma();return r?t.includes(r.role)?d.jsx(d.Fragment,{children:e}):d.jsx(U4,{to:"/",replace:!0}):d.jsx(U4,{to:"/login",replace:!0})};function cVe(){return d.jsxs(HZ,{children:[d.jsx(os,{path:"/login",element:d.jsx(ufe,{})}),d.jsxs(os,{path:"/",element:d.jsx(cfe,{}),children:[d.jsx(os,{index:!0,element:d.jsx(Ao,{allowedRoles:["admin","staff"],children:d.jsx(t2e,{})})}),d.jsx(os,{path:"stock",element:d.jsx(Ao,{allowedRoles:["admin","staff"],children:d.jsx(h2e,{})})}),d.jsx(os,{path:"jobs",element:d.jsx(Ao,{allowedRoles:["admin","staff"],children:d.jsx(aBe,{})})}),d.jsx(os,{path:"inventory",element:d.jsx(Ao,{allowedRoles:["admin"],children:d.jsx(p2e,{})})}),d.jsx(os,{path:"orders",element:d.jsx(Ao,{allowedRoles:[""],children:d.jsx(vBe,{})})}),d.jsx(os,{path:"outbound-stock",element:d.jsx(Ao,{allowedRoles:["admin","staff"],children:d.jsx(sVe,{})})}),d.jsx(os,{path:"warehouse-locations",element:d.jsx(Ao,{allowedRoles:["admin","staff"],children:d.jsx(oVe,{})})}),d.jsx(os,{path:"warehouse-operations",element:d.jsx(Ao,{allowedRoles:["admin","staff"],children:d.jsx(tVe,{})})}),d.jsx(os,{path:"reports-analytics",element:d.jsx(Ao,{allowedRoles:["admin","staff"],children:d.jsx(nVe,{})})}),d.jsx(os,{path:"settings",element:d.jsx(Ao,{allowedRoles:["admin","staff"],children:d.jsx(aVe,{})})}),d.jsx(os,{path:"add",element:d.jsx(Ao,{allowedRoles:["admin","staff"],children:d.jsx(kW,{})})}),d.jsx(os,{path:"supply-serve",element:d.jsx(Ao,{allowedRoles:["supply_serve","fahiz","aphy"],children:d.jsx(lVe,{})})})]})]})}C9(document.getElementById("root")).render(d.jsx(F.StrictMode,{children:d.jsx(eee,{basename:"/",children:d.jsx(jie,{children:d.jsx(Iie,{children:d.jsx(sfe,{children:d.jsx(ofe,{children:d.jsx(cVe,{})})})})})})}));export{vn as _,fg as c,On as g};
