function IY(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var tg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var D7={exports:{}},Cw={},L7={exports:{}},qr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O1=Symbol.for("react.element"),jY=Symbol.for("react.portal"),DY=Symbol.for("react.fragment"),LY=Symbol.for("react.strict_mode"),MY=Symbol.for("react.profiler"),RY=Symbol.for("react.provider"),FY=Symbol.for("react.context"),$Y=Symbol.for("react.forward_ref"),BY=Symbol.for("react.suspense"),UY=Symbol.for("react.memo"),VY=Symbol.for("react.lazy"),r6=Symbol.iterator;function zY(e){return e===null||typeof e!="object"?null:(e=r6&&e[r6]||e["@@iterator"],typeof e=="function"?e:null)}var M7={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R7=Object.assign,F7={};function Rp(e,t,r){this.props=e,this.context=t,this.refs=F7,this.updater=r||M7}Rp.prototype.isReactComponent={};Rp.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Rp.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function $7(){}$7.prototype=Rp.prototype;function bE(e,t,r){this.props=e,this.context=t,this.refs=F7,this.updater=r||M7}var wE=bE.prototype=new $7;wE.constructor=bE;R7(wE,Rp.prototype);wE.isPureReactComponent=!0;var n6=Array.isArray,B7=Object.prototype.hasOwnProperty,_E={current:null},U7={key:!0,ref:!0,__self:!0,__source:!0};function V7(e,t,r){var n,a={},i=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)B7.call(t,n)&&!U7.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:O1,type:e,key:i,ref:s,props:a,_owner:_E.current}}function qY(e,t){return{$$typeof:O1,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function SE(e){return typeof e=="object"&&e!==null&&e.$$typeof===O1}function WY(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var a6=/\/+/g;function j_(e,t){return typeof e=="object"&&e!==null&&e.key!=null?WY(""+e.key):t.toString(36)}function Bx(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case O1:case jY:s=!0}}if(s)return s=e,a=a(s),e=n===""?"."+j_(s,0):n,n6(a)?(r="",e!=null&&(r=e.replace(a6,"$&/")+"/"),Bx(a,t,r,"",function(c){return c})):a!=null&&(SE(a)&&(a=qY(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(a6,"$&/")+"/")+e)),t.push(a)),1;if(s=0,n=n===""?".":n+":",n6(e))for(var o=0;o<e.length;o++){i=e[o];var l=n+j_(i,o);s+=Bx(i,t,r,l,a)}else if(l=zY(e),typeof l=="function")for(e=l.call(e),o=0;!(i=e.next()).done;)i=i.value,l=n+j_(i,o++),s+=Bx(i,t,r,l,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Fy(e,t,r){if(e==null)return e;var n=[],a=0;return Bx(e,n,"","",function(i){return t.call(r,i,a++)}),n}function HY(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ms={current:null},Ux={transition:null},GY={ReactCurrentDispatcher:ms,ReactCurrentBatchConfig:Ux,ReactCurrentOwner:_E};function z7(){throw Error("act(...) is not supported in production builds of React.")}qr.Children={map:Fy,forEach:function(e,t,r){Fy(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Fy(e,function(){t++}),t},toArray:function(e){return Fy(e,function(t){return t})||[]},only:function(e){if(!SE(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};qr.Component=Rp;qr.Fragment=DY;qr.Profiler=MY;qr.PureComponent=bE;qr.StrictMode=LY;qr.Suspense=BY;qr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GY;qr.act=z7;qr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=R7({},e.props),a=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=_E.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)B7.call(t,l)&&!U7.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:O1,type:e.type,key:a,ref:i,props:n,_owner:s}};qr.createContext=function(e){return e={$$typeof:FY,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:RY,_context:e},e.Consumer=e};qr.createElement=V7;qr.createFactory=function(e){var t=V7.bind(null,e);return t.type=e,t};qr.createRef=function(){return{current:null}};qr.forwardRef=function(e){return{$$typeof:$Y,render:e}};qr.isValidElement=SE;qr.lazy=function(e){return{$$typeof:VY,_payload:{_status:-1,_result:e},_init:HY}};qr.memo=function(e,t){return{$$typeof:UY,type:e,compare:t===void 0?null:t}};qr.startTransition=function(e){var t=Ux.transition;Ux.transition={};try{e()}finally{Ux.transition=t}};qr.unstable_act=z7;qr.useCallback=function(e,t){return ms.current.useCallback(e,t)};qr.useContext=function(e){return ms.current.useContext(e)};qr.useDebugValue=function(){};qr.useDeferredValue=function(e){return ms.current.useDeferredValue(e)};qr.useEffect=function(e,t){return ms.current.useEffect(e,t)};qr.useId=function(){return ms.current.useId()};qr.useImperativeHandle=function(e,t,r){return ms.current.useImperativeHandle(e,t,r)};qr.useInsertionEffect=function(e,t){return ms.current.useInsertionEffect(e,t)};qr.useLayoutEffect=function(e,t){return ms.current.useLayoutEffect(e,t)};qr.useMemo=function(e,t){return ms.current.useMemo(e,t)};qr.useReducer=function(e,t,r){return ms.current.useReducer(e,t,r)};qr.useRef=function(e){return ms.current.useRef(e)};qr.useState=function(e){return ms.current.useState(e)};qr.useSyncExternalStore=function(e,t,r){return ms.current.useSyncExternalStore(e,t,r)};qr.useTransition=function(){return ms.current.useTransition()};qr.version="18.3.1";L7.exports=qr;var B=L7.exports;const $e=Cn(B),KY=IY({__proto__:null,default:$e},[B]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YY=B,XY=Symbol.for("react.element"),QY=Symbol.for("react.fragment"),JY=Object.prototype.hasOwnProperty,ZY=YY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,eX={key:!0,ref:!0,__self:!0,__source:!0};function q7(e,t,r){var n,a={},i=null,s=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)JY.call(t,n)&&!eX.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:XY,type:e,key:i,ref:s,props:a,_owner:ZY.current}}Cw.Fragment=QY;Cw.jsx=q7;Cw.jsxs=q7;D7.exports=Cw;var d=D7.exports,W7={exports:{}},to={},H7={exports:{}},G7={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,V){var ee=z.length;z.push(V);e:for(;0<ee;){var Z=ee-1>>>1,k=z[Z];if(0<a(k,V))z[Z]=V,z[ee]=k,ee=Z;else break e}}function r(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var V=z[0],ee=z.pop();if(ee!==V){z[0]=ee;e:for(var Z=0,k=z.length,R=k>>>1;Z<R;){var q=2*(Z+1)-1,G=z[q],Q=q+1,ie=z[Q];if(0>a(G,ee))Q<k&&0>a(ie,G)?(z[Z]=ie,z[Q]=ee,Z=Q):(z[Z]=G,z[q]=ee,Z=q);else if(Q<k&&0>a(ie,ee))z[Z]=ie,z[Q]=ee,Z=Q;else break e}}return V}function a(z,V){var ee=z.sortIndex-V.sortIndex;return ee!==0?ee:z.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,f=null,h=3,p=!1,g=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(z){for(var V=r(c);V!==null;){if(V.callback===null)n(c);else if(V.startTime<=z)n(c),V.sortIndex=V.expirationTime,t(l,V);else break;V=r(c)}}function D(z){if(m=!1,w(z),!g)if(r(l)!==null)g=!0,K(P);else{var V=r(c);V!==null&&J(D,V.startTime-z)}}function P(z,V){g=!1,m&&(m=!1,y(_),_=-1),p=!0;var ee=h;try{for(w(V),f=r(l);f!==null&&(!(f.expirationTime>V)||z&&!E());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,h=f.priorityLevel;var k=Z(f.expirationTime<=V);V=e.unstable_now(),typeof k=="function"?f.callback=k:f===r(l)&&n(l),w(V)}else n(l);f=r(l)}if(f!==null)var R=!0;else{var q=r(c);q!==null&&J(D,q.startTime-V),R=!1}return R}finally{f=null,h=ee,p=!1}}var I=!1,T=null,_=-1,S=5,j=-1;function E(){return!(e.unstable_now()-j<S)}function N(){if(T!==null){var z=e.unstable_now();j=z;var V=!0;try{V=T(!0,z)}finally{V?O():(I=!1,T=null)}}else I=!1}var O;if(typeof b=="function")O=function(){b(N)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,Y=U.port2;U.port1.onmessage=N,O=function(){Y.postMessage(null)}}else O=function(){v(N,0)};function K(z){T=z,I||(I=!0,O())}function J(z,V){_=v(function(){z(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,K(P))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(z){switch(h){case 1:case 2:case 3:var V=3;break;default:V=h}var ee=h;h=V;try{return z()}finally{h=ee}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,V){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ee=h;h=z;try{return V()}finally{h=ee}},e.unstable_scheduleCallback=function(z,V,ee){var Z=e.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?Z+ee:Z):ee=Z,z){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=ee+k,z={id:u++,callback:V,priorityLevel:z,startTime:ee,expirationTime:k,sortIndex:-1},ee>Z?(z.sortIndex=ee,t(c,z),r(l)===null&&z===r(c)&&(m?(y(_),_=-1):m=!0,J(D,ee-Z))):(z.sortIndex=k,t(l,z),g||p||(g=!0,K(P))),z},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(z){var V=h;return function(){var ee=h;h=V;try{return z.apply(this,arguments)}finally{h=ee}}}})(G7);H7.exports=G7;var tX=H7.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rX=B,Js=tX;function It(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var K7=new Set,tv={};function fh(e,t){Y0(e,t),Y0(e+"Capture",t)}function Y0(e,t){for(tv[e]=t,e=0;e<t.length;e++)K7.add(t[e])}var $c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),DA=Object.prototype.hasOwnProperty,nX=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,i6={},s6={};function aX(e){return DA.call(s6,e)?!0:DA.call(i6,e)?!1:nX.test(e)?s6[e]=!0:(i6[e]=!0,!1)}function iX(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function sX(e,t,r,n){if(t===null||typeof t>"u"||iX(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function gs(e,t,r,n,a,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var _i={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_i[e]=new gs(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];_i[t]=new gs(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){_i[e]=new gs(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_i[e]=new gs(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_i[e]=new gs(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){_i[e]=new gs(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){_i[e]=new gs(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){_i[e]=new gs(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){_i[e]=new gs(e,5,!1,e.toLowerCase(),null,!1,!1)});var AE=/[\-:]([a-z])/g;function TE(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(AE,TE);_i[t]=new gs(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(AE,TE);_i[t]=new gs(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(AE,TE);_i[t]=new gs(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){_i[e]=new gs(e,1,!1,e.toLowerCase(),null,!1,!1)});_i.xlinkHref=new gs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){_i[e]=new gs(e,1,!1,e.toLowerCase(),null,!0,!0)});function EE(e,t,r,n){var a=_i.hasOwnProperty(t)?_i[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(sX(t,r,a,n)&&(r=null),n||a===null?aX(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var nu=rX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$y=Symbol.for("react.element"),o0=Symbol.for("react.portal"),l0=Symbol.for("react.fragment"),NE=Symbol.for("react.strict_mode"),LA=Symbol.for("react.profiler"),Y7=Symbol.for("react.provider"),X7=Symbol.for("react.context"),kE=Symbol.for("react.forward_ref"),MA=Symbol.for("react.suspense"),RA=Symbol.for("react.suspense_list"),CE=Symbol.for("react.memo"),zu=Symbol.for("react.lazy"),Q7=Symbol.for("react.offscreen"),o6=Symbol.iterator;function Om(e){return e===null||typeof e!="object"?null:(e=o6&&e[o6]||e["@@iterator"],typeof e=="function"?e:null)}var ra=Object.assign,D_;function rg(e){if(D_===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);D_=t&&t[1]||""}return`
`+D_+e}var L_=!1;function M_(e,t){if(!e||L_)return"";L_=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),i=n.stack.split(`
`),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(s!==1||o!==1)do if(s--,o--,0>o||a[s]!==i[o]){var l=`
`+a[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{L_=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?rg(e):""}function oX(e){switch(e.tag){case 5:return rg(e.type);case 16:return rg("Lazy");case 13:return rg("Suspense");case 19:return rg("SuspenseList");case 0:case 2:case 15:return e=M_(e.type,!1),e;case 11:return e=M_(e.type.render,!1),e;case 1:return e=M_(e.type,!0),e;default:return""}}function FA(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case l0:return"Fragment";case o0:return"Portal";case LA:return"Profiler";case NE:return"StrictMode";case MA:return"Suspense";case RA:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case X7:return(e.displayName||"Context")+".Consumer";case Y7:return(e._context.displayName||"Context")+".Provider";case kE:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case CE:return t=e.displayName||null,t!==null?t:FA(e.type)||"Memo";case zu:t=e._payload,e=e._init;try{return FA(e(t))}catch{}}return null}function lX(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return FA(t);case 8:return t===NE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Nf(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function J7(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function cX(e){var t=J7(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function By(e){e._valueTracker||(e._valueTracker=cX(e))}function Z7(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=J7(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function p2(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $A(e,t){var r=t.checked;return ra({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function l6(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Nf(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function eF(e,t){t=t.checked,t!=null&&EE(e,"checked",t,!1)}function BA(e,t){eF(e,t);var r=Nf(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?UA(e,t.type,r):t.hasOwnProperty("defaultValue")&&UA(e,t.type,Nf(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function c6(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function UA(e,t,r){(t!=="number"||p2(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ng=Array.isArray;function C0(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Nf(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function VA(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(It(91));return ra({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function u6(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(It(92));if(ng(r)){if(1<r.length)throw Error(It(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Nf(r)}}function tF(e,t){var r=Nf(t.value),n=Nf(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function f6(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function rF(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zA(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?rF(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Uy,nF=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Uy=Uy||document.createElement("div"),Uy.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Uy.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function rv(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var vg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uX=["Webkit","ms","Moz","O"];Object.keys(vg).forEach(function(e){uX.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),vg[t]=vg[e]})});function aF(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||vg.hasOwnProperty(e)&&vg[e]?(""+t).trim():t+"px"}function iF(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=aF(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var fX=ra({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qA(e,t){if(t){if(fX[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(It(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(It(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(It(61))}if(t.style!=null&&typeof t.style!="object")throw Error(It(62))}}function WA(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var HA=null;function PE(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var GA=null,P0=null,O0=null;function d6(e){if(e=D1(e)){if(typeof GA!="function")throw Error(It(280));var t=e.stateNode;t&&(t=Dw(t),GA(e.stateNode,e.type,t))}}function sF(e){P0?O0?O0.push(e):O0=[e]:P0=e}function oF(){if(P0){var e=P0,t=O0;if(O0=P0=null,d6(e),t)for(e=0;e<t.length;e++)d6(t[e])}}function lF(e,t){return e(t)}function cF(){}var R_=!1;function uF(e,t,r){if(R_)return e(t,r);R_=!0;try{return lF(e,t,r)}finally{R_=!1,(P0!==null||O0!==null)&&(cF(),oF())}}function nv(e,t){var r=e.stateNode;if(r===null)return null;var n=Dw(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(It(231,t,typeof r));return r}var KA=!1;if($c)try{var Im={};Object.defineProperty(Im,"passive",{get:function(){KA=!0}}),window.addEventListener("test",Im,Im),window.removeEventListener("test",Im,Im)}catch{KA=!1}function dX(e,t,r,n,a,i,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var yg=!1,m2=null,g2=!1,YA=null,hX={onError:function(e){yg=!0,m2=e}};function pX(e,t,r,n,a,i,s,o,l){yg=!1,m2=null,dX.apply(hX,arguments)}function mX(e,t,r,n,a,i,s,o,l){if(pX.apply(this,arguments),yg){if(yg){var c=m2;yg=!1,m2=null}else throw Error(It(198));g2||(g2=!0,YA=c)}}function dh(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function fF(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h6(e){if(dh(e)!==e)throw Error(It(188))}function gX(e){var t=e.alternate;if(!t){if(t=dh(e),t===null)throw Error(It(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return h6(a),e;if(i===n)return h6(a),t;i=i.sibling}throw Error(It(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s){for(o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s)throw Error(It(189))}}if(r.alternate!==n)throw Error(It(190))}if(r.tag!==3)throw Error(It(188));return r.stateNode.current===r?e:t}function dF(e){return e=gX(e),e!==null?hF(e):null}function hF(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=hF(e);if(t!==null)return t;e=e.sibling}return null}var pF=Js.unstable_scheduleCallback,p6=Js.unstable_cancelCallback,vX=Js.unstable_shouldYield,yX=Js.unstable_requestPaint,ga=Js.unstable_now,xX=Js.unstable_getCurrentPriorityLevel,OE=Js.unstable_ImmediatePriority,mF=Js.unstable_UserBlockingPriority,v2=Js.unstable_NormalPriority,bX=Js.unstable_LowPriority,gF=Js.unstable_IdlePriority,Pw=null,Vl=null;function wX(e){if(Vl&&typeof Vl.onCommitFiberRoot=="function")try{Vl.onCommitFiberRoot(Pw,e,void 0,(e.current.flags&128)===128)}catch{}}var hl=Math.clz32?Math.clz32:AX,_X=Math.log,SX=Math.LN2;function AX(e){return e>>>=0,e===0?32:31-(_X(e)/SX|0)|0}var Vy=64,zy=4194304;function ag(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function y2(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~a;o!==0?n=ag(o):(i&=s,i!==0&&(n=ag(i)))}else s=r&~a,s!==0?n=ag(s):i!==0&&(n=ag(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-hl(t),a=1<<r,n|=e[r],t&=~a;return n}function TX(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function EX(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-hl(i),o=1<<s,l=a[s];l===-1?(!(o&r)||o&n)&&(a[s]=TX(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}function XA(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function vF(){var e=Vy;return Vy<<=1,!(Vy&4194240)&&(Vy=64),e}function F_(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function I1(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-hl(t),e[t]=r}function NX(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-hl(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function IE(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-hl(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Sn=0;function yF(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var xF,jE,bF,wF,_F,QA=!1,qy=[],lf=null,cf=null,uf=null,av=new Map,iv=new Map,Hu=[],kX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function m6(e,t){switch(e){case"focusin":case"focusout":lf=null;break;case"dragenter":case"dragleave":cf=null;break;case"mouseover":case"mouseout":uf=null;break;case"pointerover":case"pointerout":av.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":iv.delete(t.pointerId)}}function jm(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=D1(t),t!==null&&jE(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function CX(e,t,r,n,a){switch(t){case"focusin":return lf=jm(lf,e,t,r,n,a),!0;case"dragenter":return cf=jm(cf,e,t,r,n,a),!0;case"mouseover":return uf=jm(uf,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return av.set(i,jm(av.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,iv.set(i,jm(iv.get(i)||null,e,t,r,n,a)),!0}return!1}function SF(e){var t=Ed(e.target);if(t!==null){var r=dh(t);if(r!==null){if(t=r.tag,t===13){if(t=fF(r),t!==null){e.blockedOn=t,_F(e.priority,function(){bF(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vx(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=JA(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);HA=n,r.target.dispatchEvent(n),HA=null}else return t=D1(r),t!==null&&jE(t),e.blockedOn=r,!1;t.shift()}return!0}function g6(e,t,r){Vx(e)&&r.delete(t)}function PX(){QA=!1,lf!==null&&Vx(lf)&&(lf=null),cf!==null&&Vx(cf)&&(cf=null),uf!==null&&Vx(uf)&&(uf=null),av.forEach(g6),iv.forEach(g6)}function Dm(e,t){e.blockedOn===t&&(e.blockedOn=null,QA||(QA=!0,Js.unstable_scheduleCallback(Js.unstable_NormalPriority,PX)))}function sv(e){function t(a){return Dm(a,e)}if(0<qy.length){Dm(qy[0],e);for(var r=1;r<qy.length;r++){var n=qy[r];n.blockedOn===e&&(n.blockedOn=null)}}for(lf!==null&&Dm(lf,e),cf!==null&&Dm(cf,e),uf!==null&&Dm(uf,e),av.forEach(t),iv.forEach(t),r=0;r<Hu.length;r++)n=Hu[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Hu.length&&(r=Hu[0],r.blockedOn===null);)SF(r),r.blockedOn===null&&Hu.shift()}var I0=nu.ReactCurrentBatchConfig,x2=!0;function OX(e,t,r,n){var a=Sn,i=I0.transition;I0.transition=null;try{Sn=1,DE(e,t,r,n)}finally{Sn=a,I0.transition=i}}function IX(e,t,r,n){var a=Sn,i=I0.transition;I0.transition=null;try{Sn=4,DE(e,t,r,n)}finally{Sn=a,I0.transition=i}}function DE(e,t,r,n){if(x2){var a=JA(e,t,r,n);if(a===null)K_(e,t,n,b2,r),m6(e,n);else if(CX(a,e,t,r,n))n.stopPropagation();else if(m6(e,n),t&4&&-1<kX.indexOf(e)){for(;a!==null;){var i=D1(a);if(i!==null&&xF(i),i=JA(e,t,r,n),i===null&&K_(e,t,n,b2,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else K_(e,t,n,null,r)}}var b2=null;function JA(e,t,r,n){if(b2=null,e=PE(n),e=Ed(e),e!==null)if(t=dh(e),t===null)e=null;else if(r=t.tag,r===13){if(e=fF(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return b2=e,null}function AF(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xX()){case OE:return 1;case mF:return 4;case v2:case bX:return 16;case gF:return 536870912;default:return 16}default:return 16}}var Ju=null,LE=null,zx=null;function TF(){if(zx)return zx;var e,t=LE,r=t.length,n,a="value"in Ju?Ju.value:Ju.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===a[i-n];n++);return zx=a.slice(e,1<n?1-n:void 0)}function qx(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Wy(){return!0}function v6(){return!1}function ro(e){function t(r,n,a,i,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Wy:v6,this.isPropagationStopped=v6,this}return ra(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Wy)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Wy)},persist:function(){},isPersistent:Wy}),t}var Fp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ME=ro(Fp),j1=ra({},Fp,{view:0,detail:0}),jX=ro(j1),$_,B_,Lm,Ow=ra({},j1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:RE,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Lm&&(Lm&&e.type==="mousemove"?($_=e.screenX-Lm.screenX,B_=e.screenY-Lm.screenY):B_=$_=0,Lm=e),$_)},movementY:function(e){return"movementY"in e?e.movementY:B_}}),y6=ro(Ow),DX=ra({},Ow,{dataTransfer:0}),LX=ro(DX),MX=ra({},j1,{relatedTarget:0}),U_=ro(MX),RX=ra({},Fp,{animationName:0,elapsedTime:0,pseudoElement:0}),FX=ro(RX),$X=ra({},Fp,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),BX=ro($X),UX=ra({},Fp,{data:0}),x6=ro(UX),VX={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zX={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qX={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WX(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qX[e])?!!t[e]:!1}function RE(){return WX}var HX=ra({},j1,{key:function(e){if(e.key){var t=VX[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=qx(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?zX[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:RE,charCode:function(e){return e.type==="keypress"?qx(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qx(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),GX=ro(HX),KX=ra({},Ow,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),b6=ro(KX),YX=ra({},j1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:RE}),XX=ro(YX),QX=ra({},Fp,{propertyName:0,elapsedTime:0,pseudoElement:0}),JX=ro(QX),ZX=ra({},Ow,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),eQ=ro(ZX),tQ=[9,13,27,32],FE=$c&&"CompositionEvent"in window,xg=null;$c&&"documentMode"in document&&(xg=document.documentMode);var rQ=$c&&"TextEvent"in window&&!xg,EF=$c&&(!FE||xg&&8<xg&&11>=xg),w6=" ",_6=!1;function NF(e,t){switch(e){case"keyup":return tQ.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kF(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var c0=!1;function nQ(e,t){switch(e){case"compositionend":return kF(t);case"keypress":return t.which!==32?null:(_6=!0,w6);case"textInput":return e=t.data,e===w6&&_6?null:e;default:return null}}function aQ(e,t){if(c0)return e==="compositionend"||!FE&&NF(e,t)?(e=TF(),zx=LE=Ju=null,c0=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return EF&&t.locale!=="ko"?null:t.data;default:return null}}var iQ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function S6(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!iQ[e.type]:t==="textarea"}function CF(e,t,r,n){sF(n),t=w2(t,"onChange"),0<t.length&&(r=new ME("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var bg=null,ov=null;function sQ(e){BF(e,0)}function Iw(e){var t=d0(e);if(Z7(t))return e}function oQ(e,t){if(e==="change")return t}var PF=!1;if($c){var V_;if($c){var z_="oninput"in document;if(!z_){var A6=document.createElement("div");A6.setAttribute("oninput","return;"),z_=typeof A6.oninput=="function"}V_=z_}else V_=!1;PF=V_&&(!document.documentMode||9<document.documentMode)}function T6(){bg&&(bg.detachEvent("onpropertychange",OF),ov=bg=null)}function OF(e){if(e.propertyName==="value"&&Iw(ov)){var t=[];CF(t,ov,e,PE(e)),uF(sQ,t)}}function lQ(e,t,r){e==="focusin"?(T6(),bg=t,ov=r,bg.attachEvent("onpropertychange",OF)):e==="focusout"&&T6()}function cQ(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Iw(ov)}function uQ(e,t){if(e==="click")return Iw(t)}function fQ(e,t){if(e==="input"||e==="change")return Iw(t)}function dQ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yl=typeof Object.is=="function"?Object.is:dQ;function lv(e,t){if(yl(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!DA.call(t,a)||!yl(e[a],t[a]))return!1}return!0}function E6(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function N6(e,t){var r=E6(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=E6(r)}}function IF(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?IF(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function jF(){for(var e=window,t=p2();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=p2(e.document)}return t}function $E(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function hQ(e){var t=jF(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&IF(r.ownerDocument.documentElement,r)){if(n!==null&&$E(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=N6(r,i);var s=N6(r,n);a&&s&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pQ=$c&&"documentMode"in document&&11>=document.documentMode,u0=null,ZA=null,wg=null,e4=!1;function k6(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;e4||u0==null||u0!==p2(n)||(n=u0,"selectionStart"in n&&$E(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),wg&&lv(wg,n)||(wg=n,n=w2(ZA,"onSelect"),0<n.length&&(t=new ME("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=u0)))}function Hy(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var f0={animationend:Hy("Animation","AnimationEnd"),animationiteration:Hy("Animation","AnimationIteration"),animationstart:Hy("Animation","AnimationStart"),transitionend:Hy("Transition","TransitionEnd")},q_={},DF={};$c&&(DF=document.createElement("div").style,"AnimationEvent"in window||(delete f0.animationend.animation,delete f0.animationiteration.animation,delete f0.animationstart.animation),"TransitionEvent"in window||delete f0.transitionend.transition);function jw(e){if(q_[e])return q_[e];if(!f0[e])return e;var t=f0[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in DF)return q_[e]=t[r];return e}var LF=jw("animationend"),MF=jw("animationiteration"),RF=jw("animationstart"),FF=jw("transitionend"),$F=new Map,C6="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bf(e,t){$F.set(e,t),fh(t,[e])}for(var W_=0;W_<C6.length;W_++){var H_=C6[W_],mQ=H_.toLowerCase(),gQ=H_[0].toUpperCase()+H_.slice(1);Bf(mQ,"on"+gQ)}Bf(LF,"onAnimationEnd");Bf(MF,"onAnimationIteration");Bf(RF,"onAnimationStart");Bf("dblclick","onDoubleClick");Bf("focusin","onFocus");Bf("focusout","onBlur");Bf(FF,"onTransitionEnd");Y0("onMouseEnter",["mouseout","mouseover"]);Y0("onMouseLeave",["mouseout","mouseover"]);Y0("onPointerEnter",["pointerout","pointerover"]);Y0("onPointerLeave",["pointerout","pointerover"]);fh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fh("onBeforeInput",["compositionend","keypress","textInput","paste"]);fh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ig="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vQ=new Set("cancel close invalid load scroll toggle".split(" ").concat(ig));function P6(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,mX(n,t,void 0,e),e.currentTarget=null}function BF(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;P6(a,o,c),i=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;P6(a,o,c),i=l}}}if(g2)throw e=YA,g2=!1,YA=null,e}function Un(e,t){var r=t[i4];r===void 0&&(r=t[i4]=new Set);var n=e+"__bubble";r.has(n)||(UF(t,e,2,!1),r.add(n))}function G_(e,t,r){var n=0;t&&(n|=4),UF(r,e,n,t)}var Gy="_reactListening"+Math.random().toString(36).slice(2);function cv(e){if(!e[Gy]){e[Gy]=!0,K7.forEach(function(r){r!=="selectionchange"&&(vQ.has(r)||G_(r,!1,e),G_(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Gy]||(t[Gy]=!0,G_("selectionchange",!1,t))}}function UF(e,t,r,n){switch(AF(t)){case 1:var a=OX;break;case 4:a=IX;break;default:a=DE}r=a.bind(null,t,r,e),a=void 0,!KA||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function K_(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;s=s.return}for(;o!==null;){if(s=Ed(o),s===null)return;if(l=s.tag,l===5||l===6){n=i=s;continue e}o=o.parentNode}}n=n.return}uF(function(){var c=i,u=PE(r),f=[];e:{var h=$F.get(e);if(h!==void 0){var p=ME,g=e;switch(e){case"keypress":if(qx(r)===0)break e;case"keydown":case"keyup":p=GX;break;case"focusin":g="focus",p=U_;break;case"focusout":g="blur",p=U_;break;case"beforeblur":case"afterblur":p=U_;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=y6;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=LX;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=XX;break;case LF:case MF:case RF:p=FX;break;case FF:p=JX;break;case"scroll":p=jX;break;case"wheel":p=eQ;break;case"copy":case"cut":case"paste":p=BX;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=b6}var m=(t&4)!==0,v=!m&&e==="scroll",y=m?h!==null?h+"Capture":null:h;m=[];for(var b=c,w;b!==null;){w=b;var D=w.stateNode;if(w.tag===5&&D!==null&&(w=D,y!==null&&(D=nv(b,y),D!=null&&m.push(uv(b,D,w)))),v)break;b=b.return}0<m.length&&(h=new p(h,g,null,r,u),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==HA&&(g=r.relatedTarget||r.fromElement)&&(Ed(g)||g[Bc]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=c,g=g?Ed(g):null,g!==null&&(v=dh(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(m=y6,D="onMouseLeave",y="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(m=b6,D="onPointerLeave",y="onPointerEnter",b="pointer"),v=p==null?h:d0(p),w=g==null?h:d0(g),h=new m(D,b+"leave",p,r,u),h.target=v,h.relatedTarget=w,D=null,Ed(u)===c&&(m=new m(y,b+"enter",g,r,u),m.target=w,m.relatedTarget=v,D=m),v=D,p&&g)t:{for(m=p,y=g,b=0,w=m;w;w=Hh(w))b++;for(w=0,D=y;D;D=Hh(D))w++;for(;0<b-w;)m=Hh(m),b--;for(;0<w-b;)y=Hh(y),w--;for(;b--;){if(m===y||y!==null&&m===y.alternate)break t;m=Hh(m),y=Hh(y)}m=null}else m=null;p!==null&&O6(f,h,p,m,!1),g!==null&&v!==null&&O6(f,v,g,m,!0)}}e:{if(h=c?d0(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var P=oQ;else if(S6(h))if(PF)P=fQ;else{P=cQ;var I=lQ}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(P=uQ);if(P&&(P=P(e,c))){CF(f,P,r,u);break e}I&&I(e,h,c),e==="focusout"&&(I=h._wrapperState)&&I.controlled&&h.type==="number"&&UA(h,"number",h.value)}switch(I=c?d0(c):window,e){case"focusin":(S6(I)||I.contentEditable==="true")&&(u0=I,ZA=c,wg=null);break;case"focusout":wg=ZA=u0=null;break;case"mousedown":e4=!0;break;case"contextmenu":case"mouseup":case"dragend":e4=!1,k6(f,r,u);break;case"selectionchange":if(pQ)break;case"keydown":case"keyup":k6(f,r,u)}var T;if(FE)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else c0?NF(e,r)&&(_="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(EF&&r.locale!=="ko"&&(c0||_!=="onCompositionStart"?_==="onCompositionEnd"&&c0&&(T=TF()):(Ju=u,LE="value"in Ju?Ju.value:Ju.textContent,c0=!0)),I=w2(c,_),0<I.length&&(_=new x6(_,e,null,r,u),f.push({event:_,listeners:I}),T?_.data=T:(T=kF(r),T!==null&&(_.data=T)))),(T=rQ?nQ(e,r):aQ(e,r))&&(c=w2(c,"onBeforeInput"),0<c.length&&(u=new x6("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:c}),u.data=T))}BF(f,t)})}function uv(e,t,r){return{instance:e,listener:t,currentTarget:r}}function w2(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=nv(e,r),i!=null&&n.unshift(uv(e,i,a)),i=nv(e,t),i!=null&&n.push(uv(e,i,a))),e=e.return}return n}function Hh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function O6(e,t,r,n,a){for(var i=t._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,a?(l=nv(r,i),l!=null&&s.unshift(uv(r,l,o))):a||(l=nv(r,i),l!=null&&s.push(uv(r,l,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var yQ=/\r\n?/g,xQ=/\u0000|\uFFFD/g;function I6(e){return(typeof e=="string"?e:""+e).replace(yQ,`
`).replace(xQ,"")}function Ky(e,t,r){if(t=I6(t),I6(e)!==t&&r)throw Error(It(425))}function _2(){}var t4=null,r4=null;function n4(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var a4=typeof setTimeout=="function"?setTimeout:void 0,bQ=typeof clearTimeout=="function"?clearTimeout:void 0,j6=typeof Promise=="function"?Promise:void 0,wQ=typeof queueMicrotask=="function"?queueMicrotask:typeof j6<"u"?function(e){return j6.resolve(null).then(e).catch(_Q)}:a4;function _Q(e){setTimeout(function(){throw e})}function Y_(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),sv(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);sv(t)}function ff(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function D6(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var $p=Math.random().toString(36).slice(2),$l="__reactFiber$"+$p,fv="__reactProps$"+$p,Bc="__reactContainer$"+$p,i4="__reactEvents$"+$p,SQ="__reactListeners$"+$p,AQ="__reactHandles$"+$p;function Ed(e){var t=e[$l];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Bc]||r[$l]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=D6(e);e!==null;){if(r=e[$l])return r;e=D6(e)}return t}e=r,r=e.parentNode}return null}function D1(e){return e=e[$l]||e[Bc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function d0(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(It(33))}function Dw(e){return e[fv]||null}var s4=[],h0=-1;function Uf(e){return{current:e}}function Hn(e){0>h0||(e.current=s4[h0],s4[h0]=null,h0--)}function Fn(e,t){h0++,s4[h0]=e.current,e.current=t}var kf={},Ki=Uf(kf),Ps=Uf(!1),Hd=kf;function X0(e,t){var r=e.type.contextTypes;if(!r)return kf;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Os(e){return e=e.childContextTypes,e!=null}function S2(){Hn(Ps),Hn(Ki)}function L6(e,t,r){if(Ki.current!==kf)throw Error(It(168));Fn(Ki,t),Fn(Ps,r)}function VF(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(It(108,lX(e)||"Unknown",a));return ra({},r,n)}function A2(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||kf,Hd=Ki.current,Fn(Ki,e),Fn(Ps,Ps.current),!0}function M6(e,t,r){var n=e.stateNode;if(!n)throw Error(It(169));r?(e=VF(e,t,Hd),n.__reactInternalMemoizedMergedChildContext=e,Hn(Ps),Hn(Ki),Fn(Ki,e)):Hn(Ps),Fn(Ps,r)}var Sc=null,Lw=!1,X_=!1;function zF(e){Sc===null?Sc=[e]:Sc.push(e)}function TQ(e){Lw=!0,zF(e)}function Vf(){if(!X_&&Sc!==null){X_=!0;var e=0,t=Sn;try{var r=Sc;for(Sn=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Sc=null,Lw=!1}catch(a){throw Sc!==null&&(Sc=Sc.slice(e+1)),pF(OE,Vf),a}finally{Sn=t,X_=!1}}return null}var p0=[],m0=0,T2=null,E2=0,wo=[],_o=0,Gd=null,Tc=1,Ec="";function md(e,t){p0[m0++]=E2,p0[m0++]=T2,T2=e,E2=t}function qF(e,t,r){wo[_o++]=Tc,wo[_o++]=Ec,wo[_o++]=Gd,Gd=e;var n=Tc;e=Ec;var a=32-hl(n)-1;n&=~(1<<a),r+=1;var i=32-hl(t)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,Tc=1<<32-hl(t)+a|r<<a|n,Ec=i+e}else Tc=1<<i|r<<a|n,Ec=e}function BE(e){e.return!==null&&(md(e,1),qF(e,1,0))}function UE(e){for(;e===T2;)T2=p0[--m0],p0[m0]=null,E2=p0[--m0],p0[m0]=null;for(;e===Gd;)Gd=wo[--_o],wo[_o]=null,Ec=wo[--_o],wo[_o]=null,Tc=wo[--_o],wo[_o]=null}var Qs=null,Ks=null,Kn=!1,sl=null;function WF(e,t){var r=So(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function R6(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Qs=e,Ks=ff(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Qs=e,Ks=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Gd!==null?{id:Tc,overflow:Ec}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=So(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Qs=e,Ks=null,!0):!1;default:return!1}}function o4(e){return(e.mode&1)!==0&&(e.flags&128)===0}function l4(e){if(Kn){var t=Ks;if(t){var r=t;if(!R6(e,t)){if(o4(e))throw Error(It(418));t=ff(r.nextSibling);var n=Qs;t&&R6(e,t)?WF(n,r):(e.flags=e.flags&-4097|2,Kn=!1,Qs=e)}}else{if(o4(e))throw Error(It(418));e.flags=e.flags&-4097|2,Kn=!1,Qs=e}}}function F6(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Qs=e}function Yy(e){if(e!==Qs)return!1;if(!Kn)return F6(e),Kn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!n4(e.type,e.memoizedProps)),t&&(t=Ks)){if(o4(e))throw HF(),Error(It(418));for(;t;)WF(e,t),t=ff(t.nextSibling)}if(F6(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(It(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ks=ff(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ks=null}}else Ks=Qs?ff(e.stateNode.nextSibling):null;return!0}function HF(){for(var e=Ks;e;)e=ff(e.nextSibling)}function Q0(){Ks=Qs=null,Kn=!1}function VE(e){sl===null?sl=[e]:sl.push(e)}var EQ=nu.ReactCurrentBatchConfig;function Mm(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(It(309));var n=r.stateNode}if(!n)throw Error(It(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var o=a.refs;s===null?delete o[i]:o[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(It(284));if(!r._owner)throw Error(It(290,e))}return e}function Xy(e,t){throw e=Object.prototype.toString.call(t),Error(It(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $6(e){var t=e._init;return t(e._payload)}function GF(e){function t(y,b){if(e){var w=y.deletions;w===null?(y.deletions=[b],y.flags|=16):w.push(b)}}function r(y,b){if(!e)return null;for(;b!==null;)t(y,b),b=b.sibling;return null}function n(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function a(y,b){return y=mf(y,b),y.index=0,y.sibling=null,y}function i(y,b,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<b?(y.flags|=2,b):w):(y.flags|=2,b)):(y.flags|=1048576,b)}function s(y){return e&&y.alternate===null&&(y.flags|=2),y}function o(y,b,w,D){return b===null||b.tag!==6?(b=nS(w,y.mode,D),b.return=y,b):(b=a(b,w),b.return=y,b)}function l(y,b,w,D){var P=w.type;return P===l0?u(y,b,w.props.children,D,w.key):b!==null&&(b.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===zu&&$6(P)===b.type)?(D=a(b,w.props),D.ref=Mm(y,b,w),D.return=y,D):(D=Qx(w.type,w.key,w.props,null,y.mode,D),D.ref=Mm(y,b,w),D.return=y,D)}function c(y,b,w,D){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=aS(w,y.mode,D),b.return=y,b):(b=a(b,w.children||[]),b.return=y,b)}function u(y,b,w,D,P){return b===null||b.tag!==7?(b=Fd(w,y.mode,D,P),b.return=y,b):(b=a(b,w),b.return=y,b)}function f(y,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=nS(""+b,y.mode,w),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case $y:return w=Qx(b.type,b.key,b.props,null,y.mode,w),w.ref=Mm(y,null,b),w.return=y,w;case o0:return b=aS(b,y.mode,w),b.return=y,b;case zu:var D=b._init;return f(y,D(b._payload),w)}if(ng(b)||Om(b))return b=Fd(b,y.mode,w,null),b.return=y,b;Xy(y,b)}return null}function h(y,b,w,D){var P=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return P!==null?null:o(y,b,""+w,D);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case $y:return w.key===P?l(y,b,w,D):null;case o0:return w.key===P?c(y,b,w,D):null;case zu:return P=w._init,h(y,b,P(w._payload),D)}if(ng(w)||Om(w))return P!==null?null:u(y,b,w,D,null);Xy(y,w)}return null}function p(y,b,w,D,P){if(typeof D=="string"&&D!==""||typeof D=="number")return y=y.get(w)||null,o(b,y,""+D,P);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case $y:return y=y.get(D.key===null?w:D.key)||null,l(b,y,D,P);case o0:return y=y.get(D.key===null?w:D.key)||null,c(b,y,D,P);case zu:var I=D._init;return p(y,b,w,I(D._payload),P)}if(ng(D)||Om(D))return y=y.get(w)||null,u(b,y,D,P,null);Xy(b,D)}return null}function g(y,b,w,D){for(var P=null,I=null,T=b,_=b=0,S=null;T!==null&&_<w.length;_++){T.index>_?(S=T,T=null):S=T.sibling;var j=h(y,T,w[_],D);if(j===null){T===null&&(T=S);break}e&&T&&j.alternate===null&&t(y,T),b=i(j,b,_),I===null?P=j:I.sibling=j,I=j,T=S}if(_===w.length)return r(y,T),Kn&&md(y,_),P;if(T===null){for(;_<w.length;_++)T=f(y,w[_],D),T!==null&&(b=i(T,b,_),I===null?P=T:I.sibling=T,I=T);return Kn&&md(y,_),P}for(T=n(y,T);_<w.length;_++)S=p(T,y,_,w[_],D),S!==null&&(e&&S.alternate!==null&&T.delete(S.key===null?_:S.key),b=i(S,b,_),I===null?P=S:I.sibling=S,I=S);return e&&T.forEach(function(E){return t(y,E)}),Kn&&md(y,_),P}function m(y,b,w,D){var P=Om(w);if(typeof P!="function")throw Error(It(150));if(w=P.call(w),w==null)throw Error(It(151));for(var I=P=null,T=b,_=b=0,S=null,j=w.next();T!==null&&!j.done;_++,j=w.next()){T.index>_?(S=T,T=null):S=T.sibling;var E=h(y,T,j.value,D);if(E===null){T===null&&(T=S);break}e&&T&&E.alternate===null&&t(y,T),b=i(E,b,_),I===null?P=E:I.sibling=E,I=E,T=S}if(j.done)return r(y,T),Kn&&md(y,_),P;if(T===null){for(;!j.done;_++,j=w.next())j=f(y,j.value,D),j!==null&&(b=i(j,b,_),I===null?P=j:I.sibling=j,I=j);return Kn&&md(y,_),P}for(T=n(y,T);!j.done;_++,j=w.next())j=p(T,y,_,j.value,D),j!==null&&(e&&j.alternate!==null&&T.delete(j.key===null?_:j.key),b=i(j,b,_),I===null?P=j:I.sibling=j,I=j);return e&&T.forEach(function(N){return t(y,N)}),Kn&&md(y,_),P}function v(y,b,w,D){if(typeof w=="object"&&w!==null&&w.type===l0&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case $y:e:{for(var P=w.key,I=b;I!==null;){if(I.key===P){if(P=w.type,P===l0){if(I.tag===7){r(y,I.sibling),b=a(I,w.props.children),b.return=y,y=b;break e}}else if(I.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===zu&&$6(P)===I.type){r(y,I.sibling),b=a(I,w.props),b.ref=Mm(y,I,w),b.return=y,y=b;break e}r(y,I);break}else t(y,I);I=I.sibling}w.type===l0?(b=Fd(w.props.children,y.mode,D,w.key),b.return=y,y=b):(D=Qx(w.type,w.key,w.props,null,y.mode,D),D.ref=Mm(y,b,w),D.return=y,y=D)}return s(y);case o0:e:{for(I=w.key;b!==null;){if(b.key===I)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){r(y,b.sibling),b=a(b,w.children||[]),b.return=y,y=b;break e}else{r(y,b);break}else t(y,b);b=b.sibling}b=aS(w,y.mode,D),b.return=y,y=b}return s(y);case zu:return I=w._init,v(y,b,I(w._payload),D)}if(ng(w))return g(y,b,w,D);if(Om(w))return m(y,b,w,D);Xy(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(r(y,b.sibling),b=a(b,w),b.return=y,y=b):(r(y,b),b=nS(w,y.mode,D),b.return=y,y=b),s(y)):r(y,b)}return v}var J0=GF(!0),KF=GF(!1),N2=Uf(null),k2=null,g0=null,zE=null;function qE(){zE=g0=k2=null}function WE(e){var t=N2.current;Hn(N2),e._currentValue=t}function c4(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function j0(e,t){k2=e,zE=g0=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Es=!0),e.firstContext=null)}function Co(e){var t=e._currentValue;if(zE!==e)if(e={context:e,memoizedValue:t,next:null},g0===null){if(k2===null)throw Error(It(308));g0=e,k2.dependencies={lanes:0,firstContext:e}}else g0=g0.next=e;return t}var Nd=null;function HE(e){Nd===null?Nd=[e]:Nd.push(e)}function YF(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,HE(t)):(r.next=a.next,a.next=r),t.interleaved=r,Uc(e,n)}function Uc(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var qu=!1;function GE(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function XF(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ic(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function df(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,nn&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Uc(e,r)}return a=n.interleaved,a===null?(t.next=t,HE(n)):(t.next=a.next,a.next=t),n.interleaved=t,Uc(e,r)}function Wx(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,IE(e,r)}}function B6(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function C2(e,t,r,n){var a=e.updateQueue;qu=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?i=c:s.next=c,s=l;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(i!==null){var f=a.baseState;s=0,u=c=l=null,o=i;do{var h=o.lane,p=o.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,m=o;switch(h=t,p=r,m.tag){case 1:if(g=m.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=ra({},f,h);break e;case 2:qu=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=p,l=f):u=u.next=p,s|=h;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;h=o,o=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(u===null&&(l=f),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do s|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Yd|=s,e.lanes=s,e.memoizedState=f}}function U6(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(It(191,a));a.call(n)}}}var L1={},zl=Uf(L1),dv=Uf(L1),hv=Uf(L1);function kd(e){if(e===L1)throw Error(It(174));return e}function KE(e,t){switch(Fn(hv,t),Fn(dv,e),Fn(zl,L1),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:zA(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=zA(t,e)}Hn(zl),Fn(zl,t)}function Z0(){Hn(zl),Hn(dv),Hn(hv)}function QF(e){kd(hv.current);var t=kd(zl.current),r=zA(t,e.type);t!==r&&(Fn(dv,e),Fn(zl,r))}function YE(e){dv.current===e&&(Hn(zl),Hn(dv))}var Zn=Uf(0);function P2(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Q_=[];function XE(){for(var e=0;e<Q_.length;e++)Q_[e]._workInProgressVersionPrimary=null;Q_.length=0}var Hx=nu.ReactCurrentDispatcher,J_=nu.ReactCurrentBatchConfig,Kd=0,ea=null,Fa=null,Qa=null,O2=!1,_g=!1,pv=0,NQ=0;function Ei(){throw Error(It(321))}function QE(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!yl(e[r],t[r]))return!1;return!0}function JE(e,t,r,n,a,i){if(Kd=i,ea=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Hx.current=e===null||e.memoizedState===null?OQ:IQ,e=r(n,a),_g){i=0;do{if(_g=!1,pv=0,25<=i)throw Error(It(301));i+=1,Qa=Fa=null,t.updateQueue=null,Hx.current=jQ,e=r(n,a)}while(_g)}if(Hx.current=I2,t=Fa!==null&&Fa.next!==null,Kd=0,Qa=Fa=ea=null,O2=!1,t)throw Error(It(300));return e}function ZE(){var e=pv!==0;return pv=0,e}function Rl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qa===null?ea.memoizedState=Qa=e:Qa=Qa.next=e,Qa}function Po(){if(Fa===null){var e=ea.alternate;e=e!==null?e.memoizedState:null}else e=Fa.next;var t=Qa===null?ea.memoizedState:Qa.next;if(t!==null)Qa=t,Fa=e;else{if(e===null)throw Error(It(310));Fa=e,e={memoizedState:Fa.memoizedState,baseState:Fa.baseState,baseQueue:Fa.baseQueue,queue:Fa.queue,next:null},Qa===null?ea.memoizedState=Qa=e:Qa=Qa.next=e}return Qa}function mv(e,t){return typeof t=="function"?t(e):t}function Z_(e){var t=Po(),r=t.queue;if(r===null)throw Error(It(311));r.lastRenderedReducer=e;var n=Fa,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=s=null,l=null,c=i;do{var u=c.lane;if((Kd&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,s=n):l=l.next=f,ea.lanes|=u,Yd|=u}c=c.next}while(c!==null&&c!==i);l===null?s=n:l.next=o,yl(n,t.memoizedState)||(Es=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,ea.lanes|=i,Yd|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function eS(e){var t=Po(),r=t.queue;if(r===null)throw Error(It(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do i=e(i,s.action),s=s.next;while(s!==a);yl(i,t.memoizedState)||(Es=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function JF(){}function ZF(e,t){var r=ea,n=Po(),a=t(),i=!yl(n.memoizedState,a);if(i&&(n.memoizedState=a,Es=!0),n=n.queue,eN(r$.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Qa!==null&&Qa.memoizedState.tag&1){if(r.flags|=2048,gv(9,t$.bind(null,r,n,a,t),void 0,null),ri===null)throw Error(It(349));Kd&30||e$(r,t,a)}return a}function e$(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ea.updateQueue,t===null?(t={lastEffect:null,stores:null},ea.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function t$(e,t,r,n){t.value=r,t.getSnapshot=n,n$(t)&&a$(e)}function r$(e,t,r){return r(function(){n$(t)&&a$(e)})}function n$(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!yl(e,r)}catch{return!0}}function a$(e){var t=Uc(e,1);t!==null&&pl(t,e,1,-1)}function V6(e){var t=Rl();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mv,lastRenderedState:e},t.queue=e,e=e.dispatch=PQ.bind(null,ea,e),[t.memoizedState,e]}function gv(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ea.updateQueue,t===null?(t={lastEffect:null,stores:null},ea.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function i$(){return Po().memoizedState}function Gx(e,t,r,n){var a=Rl();ea.flags|=e,a.memoizedState=gv(1|t,r,void 0,n===void 0?null:n)}function Mw(e,t,r,n){var a=Po();n=n===void 0?null:n;var i=void 0;if(Fa!==null){var s=Fa.memoizedState;if(i=s.destroy,n!==null&&QE(n,s.deps)){a.memoizedState=gv(t,r,i,n);return}}ea.flags|=e,a.memoizedState=gv(1|t,r,i,n)}function z6(e,t){return Gx(8390656,8,e,t)}function eN(e,t){return Mw(2048,8,e,t)}function s$(e,t){return Mw(4,2,e,t)}function o$(e,t){return Mw(4,4,e,t)}function l$(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function c$(e,t,r){return r=r!=null?r.concat([e]):null,Mw(4,4,l$.bind(null,t,e),r)}function tN(){}function u$(e,t){var r=Po();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&QE(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function f$(e,t){var r=Po();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&QE(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function d$(e,t,r){return Kd&21?(yl(r,t)||(r=vF(),ea.lanes|=r,Yd|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Es=!0),e.memoizedState=r)}function kQ(e,t){var r=Sn;Sn=r!==0&&4>r?r:4,e(!0);var n=J_.transition;J_.transition={};try{e(!1),t()}finally{Sn=r,J_.transition=n}}function h$(){return Po().memoizedState}function CQ(e,t,r){var n=pf(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},p$(e))m$(t,r);else if(r=YF(e,t,r,n),r!==null){var a=fs();pl(r,e,n,a),g$(r,t,n)}}function PQ(e,t,r){var n=pf(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(p$(e))m$(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,o=i(s,r);if(a.hasEagerState=!0,a.eagerState=o,yl(o,s)){var l=t.interleaved;l===null?(a.next=a,HE(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=YF(e,t,a,n),r!==null&&(a=fs(),pl(r,e,n,a),g$(r,t,n))}}function p$(e){var t=e.alternate;return e===ea||t!==null&&t===ea}function m$(e,t){_g=O2=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function g$(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,IE(e,r)}}var I2={readContext:Co,useCallback:Ei,useContext:Ei,useEffect:Ei,useImperativeHandle:Ei,useInsertionEffect:Ei,useLayoutEffect:Ei,useMemo:Ei,useReducer:Ei,useRef:Ei,useState:Ei,useDebugValue:Ei,useDeferredValue:Ei,useTransition:Ei,useMutableSource:Ei,useSyncExternalStore:Ei,useId:Ei,unstable_isNewReconciler:!1},OQ={readContext:Co,useCallback:function(e,t){return Rl().memoizedState=[e,t===void 0?null:t],e},useContext:Co,useEffect:z6,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Gx(4194308,4,l$.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Gx(4194308,4,e,t)},useInsertionEffect:function(e,t){return Gx(4,2,e,t)},useMemo:function(e,t){var r=Rl();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Rl();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=CQ.bind(null,ea,e),[n.memoizedState,e]},useRef:function(e){var t=Rl();return e={current:e},t.memoizedState=e},useState:V6,useDebugValue:tN,useDeferredValue:function(e){return Rl().memoizedState=e},useTransition:function(){var e=V6(!1),t=e[0];return e=kQ.bind(null,e[1]),Rl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ea,a=Rl();if(Kn){if(r===void 0)throw Error(It(407));r=r()}else{if(r=t(),ri===null)throw Error(It(349));Kd&30||e$(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,z6(r$.bind(null,n,i,e),[e]),n.flags|=2048,gv(9,t$.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Rl(),t=ri.identifierPrefix;if(Kn){var r=Ec,n=Tc;r=(n&~(1<<32-hl(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=pv++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=NQ++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},IQ={readContext:Co,useCallback:u$,useContext:Co,useEffect:eN,useImperativeHandle:c$,useInsertionEffect:s$,useLayoutEffect:o$,useMemo:f$,useReducer:Z_,useRef:i$,useState:function(){return Z_(mv)},useDebugValue:tN,useDeferredValue:function(e){var t=Po();return d$(t,Fa.memoizedState,e)},useTransition:function(){var e=Z_(mv)[0],t=Po().memoizedState;return[e,t]},useMutableSource:JF,useSyncExternalStore:ZF,useId:h$,unstable_isNewReconciler:!1},jQ={readContext:Co,useCallback:u$,useContext:Co,useEffect:eN,useImperativeHandle:c$,useInsertionEffect:s$,useLayoutEffect:o$,useMemo:f$,useReducer:eS,useRef:i$,useState:function(){return eS(mv)},useDebugValue:tN,useDeferredValue:function(e){var t=Po();return Fa===null?t.memoizedState=e:d$(t,Fa.memoizedState,e)},useTransition:function(){var e=eS(mv)[0],t=Po().memoizedState;return[e,t]},useMutableSource:JF,useSyncExternalStore:ZF,useId:h$,unstable_isNewReconciler:!1};function tl(e,t){if(e&&e.defaultProps){t=ra({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function u4(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ra({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Rw={isMounted:function(e){return(e=e._reactInternals)?dh(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=fs(),a=pf(e),i=Ic(n,a);i.payload=t,r!=null&&(i.callback=r),t=df(e,i,a),t!==null&&(pl(t,e,a,n),Wx(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=fs(),a=pf(e),i=Ic(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=df(e,i,a),t!==null&&(pl(t,e,a,n),Wx(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=fs(),n=pf(e),a=Ic(r,n);a.tag=2,t!=null&&(a.callback=t),t=df(e,a,n),t!==null&&(pl(t,e,n,r),Wx(t,e,n))}};function q6(e,t,r,n,a,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,s):t.prototype&&t.prototype.isPureReactComponent?!lv(r,n)||!lv(a,i):!0}function v$(e,t,r){var n=!1,a=kf,i=t.contextType;return typeof i=="object"&&i!==null?i=Co(i):(a=Os(t)?Hd:Ki.current,n=t.contextTypes,i=(n=n!=null)?X0(e,a):kf),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Rw,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function W6(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Rw.enqueueReplaceState(t,t.state,null)}function f4(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},GE(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Co(i):(i=Os(t)?Hd:Ki.current,a.context=X0(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(u4(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Rw.enqueueReplaceState(a,a.state,null),C2(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function ep(e,t){try{var r="",n=t;do r+=oX(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function tS(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function d4(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var DQ=typeof WeakMap=="function"?WeakMap:Map;function y$(e,t,r){r=Ic(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){D2||(D2=!0,_4=n),d4(e,t)},r}function x$(e,t,r){r=Ic(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){d4(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){d4(e,t),typeof n!="function"&&(hf===null?hf=new Set([this]):hf.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function H6(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new DQ;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=KQ.bind(null,e,t,r),t.then(e,e))}function G6(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function K6(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ic(-1,1),t.tag=2,df(r,t,1))),r.lanes|=1),e)}var LQ=nu.ReactCurrentOwner,Es=!1;function ns(e,t,r,n){t.child=e===null?KF(t,null,r,n):J0(t,e.child,r,n)}function Y6(e,t,r,n,a){r=r.render;var i=t.ref;return j0(t,a),n=JE(e,t,r,n,i,a),r=ZE(),e!==null&&!Es?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Vc(e,t,a)):(Kn&&r&&BE(t),t.flags|=1,ns(e,t,n,a),t.child)}function X6(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!cN(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,b$(e,t,i,n,a)):(e=Qx(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:lv,r(s,n)&&e.ref===t.ref)return Vc(e,t,a)}return t.flags|=1,e=mf(i,n),e.ref=t.ref,e.return=t,t.child=e}function b$(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(lv(i,n)&&e.ref===t.ref)if(Es=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Es=!0);else return t.lanes=e.lanes,Vc(e,t,a)}return h4(e,t,r,n,a)}function w$(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fn(y0,zs),zs|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Fn(y0,zs),zs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Fn(y0,zs),zs|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Fn(y0,zs),zs|=n;return ns(e,t,a,r),t.child}function _$(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function h4(e,t,r,n,a){var i=Os(r)?Hd:Ki.current;return i=X0(t,i),j0(t,a),r=JE(e,t,r,n,i,a),n=ZE(),e!==null&&!Es?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Vc(e,t,a)):(Kn&&n&&BE(t),t.flags|=1,ns(e,t,r,a),t.child)}function Q6(e,t,r,n,a){if(Os(r)){var i=!0;A2(t)}else i=!1;if(j0(t,a),t.stateNode===null)Kx(e,t),v$(t,r,n),f4(t,r,n,a),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=r.contextType;typeof c=="object"&&c!==null?c=Co(c):(c=Os(r)?Hd:Ki.current,c=X0(t,c));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==c)&&W6(t,s,n,c),qu=!1;var h=t.memoizedState;s.state=h,C2(t,n,s,a),l=t.memoizedState,o!==n||h!==l||Ps.current||qu?(typeof u=="function"&&(u4(t,r,u,n),l=t.memoizedState),(o=qu||q6(t,r,o,n,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=c,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,XF(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:tl(t.type,o),s.props=c,f=t.pendingProps,h=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=Co(l):(l=Os(r)?Hd:Ki.current,l=X0(t,l));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==l)&&W6(t,s,n,l),qu=!1,h=t.memoizedState,s.state=h,C2(t,n,s,a);var g=t.memoizedState;o!==f||h!==g||Ps.current||qu?(typeof p=="function"&&(u4(t,r,p,n),g=t.memoizedState),(c=qu||q6(t,r,c,n,h,g,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,g,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),s.props=n,s.state=g,s.context=l,n=c):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return p4(e,t,r,n,i,a)}function p4(e,t,r,n,a,i){_$(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return a&&M6(t,r,!1),Vc(e,t,i);n=t.stateNode,LQ.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=J0(t,e.child,null,i),t.child=J0(t,null,o,i)):ns(e,t,o,i),t.memoizedState=n.state,a&&M6(t,r,!0),t.child}function S$(e){var t=e.stateNode;t.pendingContext?L6(e,t.pendingContext,t.pendingContext!==t.context):t.context&&L6(e,t.context,!1),KE(e,t.containerInfo)}function J6(e,t,r,n,a){return Q0(),VE(a),t.flags|=256,ns(e,t,r,n),t.child}var m4={dehydrated:null,treeContext:null,retryLane:0};function g4(e){return{baseLanes:e,cachePool:null,transitions:null}}function A$(e,t,r){var n=t.pendingProps,a=Zn.current,i=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Fn(Zn,a&1),e===null)return l4(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,i?(n=t.mode,i=t.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Bw(s,n,0,null),e=Fd(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=g4(r),t.memoizedState=m4,e):rN(t,s));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return MQ(e,t,s,n,o,a,r);if(i){i=n.fallback,s=t.mode,a=e.child,o=a.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=mf(a,l),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=mf(o,i):(i=Fd(i,s,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,s=e.child.memoizedState,s=s===null?g4(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~r,t.memoizedState=m4,n}return i=e.child,e=i.sibling,n=mf(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function rN(e,t){return t=Bw({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Qy(e,t,r,n){return n!==null&&VE(n),J0(t,e.child,null,r),e=rN(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function MQ(e,t,r,n,a,i,s){if(r)return t.flags&256?(t.flags&=-257,n=tS(Error(It(422))),Qy(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Bw({mode:"visible",children:n.children},a,0,null),i=Fd(i,a,s,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&J0(t,e.child,null,s),t.child.memoizedState=g4(s),t.memoizedState=m4,i);if(!(t.mode&1))return Qy(e,t,s,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(It(419)),n=tS(i,n,void 0),Qy(e,t,s,n)}if(o=(s&e.childLanes)!==0,Es||o){if(n=ri,n!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Uc(e,a),pl(n,e,a,-1))}return lN(),n=tS(Error(It(421))),Qy(e,t,s,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=YQ.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Ks=ff(a.nextSibling),Qs=t,Kn=!0,sl=null,e!==null&&(wo[_o++]=Tc,wo[_o++]=Ec,wo[_o++]=Gd,Tc=e.id,Ec=e.overflow,Gd=t),t=rN(t,n.children),t.flags|=4096,t)}function Z6(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),c4(e.return,t,r)}function rS(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function T$(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(ns(e,t,n.children,r),n=Zn.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Z6(e,r,t);else if(e.tag===19)Z6(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Fn(Zn,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&P2(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),rS(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&P2(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}rS(t,!0,r,null,i);break;case"together":rS(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Kx(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vc(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Yd|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(It(153));if(t.child!==null){for(e=t.child,r=mf(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=mf(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function RQ(e,t,r){switch(t.tag){case 3:S$(t),Q0();break;case 5:QF(t);break;case 1:Os(t.type)&&A2(t);break;case 4:KE(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Fn(N2,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Fn(Zn,Zn.current&1),t.flags|=128,null):r&t.child.childLanes?A$(e,t,r):(Fn(Zn,Zn.current&1),e=Vc(e,t,r),e!==null?e.sibling:null);Fn(Zn,Zn.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return T$(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Fn(Zn,Zn.current),n)break;return null;case 22:case 23:return t.lanes=0,w$(e,t,r)}return Vc(e,t,r)}var E$,v4,N$,k$;E$=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};v4=function(){};N$=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,kd(zl.current);var i=null;switch(r){case"input":a=$A(e,a),n=$A(e,n),i=[];break;case"select":a=ra({},a,{value:void 0}),n=ra({},n,{value:void 0}),i=[];break;case"textarea":a=VA(e,a),n=VA(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=_2)}qA(r,n);var s;r=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var o=a[c];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(tv.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(o=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(tv.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Un("scroll",e),i||o===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};k$=function(e,t,r,n){r!==n&&(t.flags|=4)};function Rm(e,t){if(!Kn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ni(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function FQ(e,t,r){var n=t.pendingProps;switch(UE(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ni(t),null;case 1:return Os(t.type)&&S2(),Ni(t),null;case 3:return n=t.stateNode,Z0(),Hn(Ps),Hn(Ki),XE(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Yy(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,sl!==null&&(T4(sl),sl=null))),v4(e,t),Ni(t),null;case 5:YE(t);var a=kd(hv.current);if(r=t.type,e!==null&&t.stateNode!=null)N$(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(It(166));return Ni(t),null}if(e=kd(zl.current),Yy(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[$l]=t,n[fv]=i,e=(t.mode&1)!==0,r){case"dialog":Un("cancel",n),Un("close",n);break;case"iframe":case"object":case"embed":Un("load",n);break;case"video":case"audio":for(a=0;a<ig.length;a++)Un(ig[a],n);break;case"source":Un("error",n);break;case"img":case"image":case"link":Un("error",n),Un("load",n);break;case"details":Un("toggle",n);break;case"input":l6(n,i),Un("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Un("invalid",n);break;case"textarea":u6(n,i),Un("invalid",n)}qA(r,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];s==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Ky(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Ky(n.textContent,o,e),a=["children",""+o]):tv.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Un("scroll",n)}switch(r){case"input":By(n),c6(n,i,!0);break;case"textarea":By(n),f6(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=_2)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=rF(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[$l]=t,e[fv]=n,E$(e,t,!1,!1),t.stateNode=e;e:{switch(s=WA(r,n),r){case"dialog":Un("cancel",e),Un("close",e),a=n;break;case"iframe":case"object":case"embed":Un("load",e),a=n;break;case"video":case"audio":for(a=0;a<ig.length;a++)Un(ig[a],e);a=n;break;case"source":Un("error",e),a=n;break;case"img":case"image":case"link":Un("error",e),Un("load",e),a=n;break;case"details":Un("toggle",e),a=n;break;case"input":l6(e,n),a=$A(e,n),Un("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=ra({},n,{value:void 0}),Un("invalid",e);break;case"textarea":u6(e,n),a=VA(e,n),Un("invalid",e);break;default:a=n}qA(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?iF(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&nF(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&rv(e,l):typeof l=="number"&&rv(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(tv.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Un("scroll",e):l!=null&&EE(e,i,l,s))}switch(r){case"input":By(e),c6(e,n,!1);break;case"textarea":By(e),f6(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Nf(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?C0(e,!!n.multiple,i,!1):n.defaultValue!=null&&C0(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=_2)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ni(t),null;case 6:if(e&&t.stateNode!=null)k$(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(It(166));if(r=kd(hv.current),kd(zl.current),Yy(t)){if(n=t.stateNode,r=t.memoizedProps,n[$l]=t,(i=n.nodeValue!==r)&&(e=Qs,e!==null))switch(e.tag){case 3:Ky(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ky(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[$l]=t,t.stateNode=n}return Ni(t),null;case 13:if(Hn(Zn),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Kn&&Ks!==null&&t.mode&1&&!(t.flags&128))HF(),Q0(),t.flags|=98560,i=!1;else if(i=Yy(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(It(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(It(317));i[$l]=t}else Q0(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ni(t),i=!1}else sl!==null&&(T4(sl),sl=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Zn.current&1?$a===0&&($a=3):lN())),t.updateQueue!==null&&(t.flags|=4),Ni(t),null);case 4:return Z0(),v4(e,t),e===null&&cv(t.stateNode.containerInfo),Ni(t),null;case 10:return WE(t.type._context),Ni(t),null;case 17:return Os(t.type)&&S2(),Ni(t),null;case 19:if(Hn(Zn),i=t.memoizedState,i===null)return Ni(t),null;if(n=(t.flags&128)!==0,s=i.rendering,s===null)if(n)Rm(i,!1);else{if($a!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=P2(e),s!==null){for(t.flags|=128,Rm(i,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Fn(Zn,Zn.current&1|2),t.child}e=e.sibling}i.tail!==null&&ga()>tp&&(t.flags|=128,n=!0,Rm(i,!1),t.lanes=4194304)}else{if(!n)if(e=P2(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Rm(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Kn)return Ni(t),null}else 2*ga()-i.renderingStartTime>tp&&r!==1073741824&&(t.flags|=128,n=!0,Rm(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(r=i.last,r!==null?r.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ga(),t.sibling=null,r=Zn.current,Fn(Zn,n?r&1|2:r&1),t):(Ni(t),null);case 22:case 23:return oN(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?zs&1073741824&&(Ni(t),t.subtreeFlags&6&&(t.flags|=8192)):Ni(t),null;case 24:return null;case 25:return null}throw Error(It(156,t.tag))}function $Q(e,t){switch(UE(t),t.tag){case 1:return Os(t.type)&&S2(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Z0(),Hn(Ps),Hn(Ki),XE(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return YE(t),null;case 13:if(Hn(Zn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(It(340));Q0()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Hn(Zn),null;case 4:return Z0(),null;case 10:return WE(t.type._context),null;case 22:case 23:return oN(),null;case 24:return null;default:return null}}var Jy=!1,Fi=!1,BQ=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function v0(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){la(e,t,n)}else r.current=null}function y4(e,t,r){try{r()}catch(n){la(e,t,n)}}var eO=!1;function UQ(e,t){if(t4=x2,e=jF(),$E(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,c=0,u=0,f=e,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(o=s+a),f!==i||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++c===a&&(o=s),h===i&&++u===n&&(l=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(r4={focusedElem:e,selectionRange:r},x2=!1,Zt=t;Zt!==null;)if(t=Zt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Zt=e;else for(;Zt!==null;){t=Zt;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,v=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:tl(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(It(163))}}catch(D){la(t,t.return,D)}if(e=t.sibling,e!==null){e.return=t.return,Zt=e;break}Zt=t.return}return g=eO,eO=!1,g}function Sg(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&y4(t,r,i)}a=a.next}while(a!==n)}}function Fw(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function x4(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function C$(e){var t=e.alternate;t!==null&&(e.alternate=null,C$(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[$l],delete t[fv],delete t[i4],delete t[SQ],delete t[AQ])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function P$(e){return e.tag===5||e.tag===3||e.tag===4}function tO(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||P$(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function b4(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=_2));else if(n!==4&&(e=e.child,e!==null))for(b4(e,t,r),e=e.sibling;e!==null;)b4(e,t,r),e=e.sibling}function w4(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(w4(e,t,r),e=e.sibling;e!==null;)w4(e,t,r),e=e.sibling}var ui=null,nl=!1;function Mu(e,t,r){for(r=r.child;r!==null;)O$(e,t,r),r=r.sibling}function O$(e,t,r){if(Vl&&typeof Vl.onCommitFiberUnmount=="function")try{Vl.onCommitFiberUnmount(Pw,r)}catch{}switch(r.tag){case 5:Fi||v0(r,t);case 6:var n=ui,a=nl;ui=null,Mu(e,t,r),ui=n,nl=a,ui!==null&&(nl?(e=ui,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ui.removeChild(r.stateNode));break;case 18:ui!==null&&(nl?(e=ui,r=r.stateNode,e.nodeType===8?Y_(e.parentNode,r):e.nodeType===1&&Y_(e,r),sv(e)):Y_(ui,r.stateNode));break;case 4:n=ui,a=nl,ui=r.stateNode.containerInfo,nl=!0,Mu(e,t,r),ui=n,nl=a;break;case 0:case 11:case 14:case 15:if(!Fi&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&y4(r,t,s),a=a.next}while(a!==n)}Mu(e,t,r);break;case 1:if(!Fi&&(v0(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){la(r,t,o)}Mu(e,t,r);break;case 21:Mu(e,t,r);break;case 22:r.mode&1?(Fi=(n=Fi)||r.memoizedState!==null,Mu(e,t,r),Fi=n):Mu(e,t,r);break;default:Mu(e,t,r)}}function rO(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new BQ),t.forEach(function(n){var a=XQ.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Ko(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:ui=o.stateNode,nl=!1;break e;case 3:ui=o.stateNode.containerInfo,nl=!0;break e;case 4:ui=o.stateNode.containerInfo,nl=!0;break e}o=o.return}if(ui===null)throw Error(It(160));O$(i,s,a),ui=null,nl=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(c){la(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)I$(t,e),t=t.sibling}function I$(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ko(t,e),jl(e),n&4){try{Sg(3,e,e.return),Fw(3,e)}catch(m){la(e,e.return,m)}try{Sg(5,e,e.return)}catch(m){la(e,e.return,m)}}break;case 1:Ko(t,e),jl(e),n&512&&r!==null&&v0(r,r.return);break;case 5:if(Ko(t,e),jl(e),n&512&&r!==null&&v0(r,r.return),e.flags&32){var a=e.stateNode;try{rv(a,"")}catch(m){la(e,e.return,m)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,s=r!==null?r.memoizedProps:i,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&eF(a,i),WA(o,s);var c=WA(o,i);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?iF(a,f):u==="dangerouslySetInnerHTML"?nF(a,f):u==="children"?rv(a,f):EE(a,u,f,c)}switch(o){case"input":BA(a,i);break;case"textarea":tF(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?C0(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?C0(a,!!i.multiple,i.defaultValue,!0):C0(a,!!i.multiple,i.multiple?[]:"",!1))}a[fv]=i}catch(m){la(e,e.return,m)}}break;case 6:if(Ko(t,e),jl(e),n&4){if(e.stateNode===null)throw Error(It(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(m){la(e,e.return,m)}}break;case 3:if(Ko(t,e),jl(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{sv(t.containerInfo)}catch(m){la(e,e.return,m)}break;case 4:Ko(t,e),jl(e);break;case 13:Ko(t,e),jl(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(iN=ga())),n&4&&rO(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Fi=(c=Fi)||u,Ko(t,e),Fi=c):Ko(t,e),jl(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(Zt=e,u=e.child;u!==null;){for(f=Zt=u;Zt!==null;){switch(h=Zt,p=h.child,h.tag){case 0:case 11:case 14:case 15:Sg(4,h,h.return);break;case 1:v0(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){la(n,r,m)}}break;case 5:v0(h,h.return);break;case 22:if(h.memoizedState!==null){aO(f);continue}}p!==null?(p.return=h,Zt=p):aO(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{a=f.stateNode,c?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=aF("display",s))}catch(m){la(e,e.return,m)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(m){la(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ko(t,e),jl(e),n&4&&rO(e);break;case 21:break;default:Ko(t,e),jl(e)}}function jl(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(P$(r)){var n=r;break e}r=r.return}throw Error(It(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(rv(a,""),n.flags&=-33);var i=tO(e);w4(e,i,a);break;case 3:case 4:var s=n.stateNode.containerInfo,o=tO(e);b4(e,o,s);break;default:throw Error(It(161))}}catch(l){la(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function VQ(e,t,r){Zt=e,j$(e)}function j$(e,t,r){for(var n=(e.mode&1)!==0;Zt!==null;){var a=Zt,i=a.child;if(a.tag===22&&n){var s=a.memoizedState!==null||Jy;if(!s){var o=a.alternate,l=o!==null&&o.memoizedState!==null||Fi;o=Jy;var c=Fi;if(Jy=s,(Fi=l)&&!c)for(Zt=a;Zt!==null;)s=Zt,l=s.child,s.tag===22&&s.memoizedState!==null?iO(a):l!==null?(l.return=s,Zt=l):iO(a);for(;i!==null;)Zt=i,j$(i),i=i.sibling;Zt=a,Jy=o,Fi=c}nO(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Zt=i):nO(e)}}function nO(e){for(;Zt!==null;){var t=Zt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Fi||Fw(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Fi)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:tl(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&U6(t,i,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}U6(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&sv(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(It(163))}Fi||t.flags&512&&x4(t)}catch(h){la(t,t.return,h)}}if(t===e){Zt=null;break}if(r=t.sibling,r!==null){r.return=t.return,Zt=r;break}Zt=t.return}}function aO(e){for(;Zt!==null;){var t=Zt;if(t===e){Zt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Zt=r;break}Zt=t.return}}function iO(e){for(;Zt!==null;){var t=Zt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Fw(4,t)}catch(l){la(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){la(t,a,l)}}var i=t.return;try{x4(t)}catch(l){la(t,i,l)}break;case 5:var s=t.return;try{x4(t)}catch(l){la(t,s,l)}}}catch(l){la(t,t.return,l)}if(t===e){Zt=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Zt=o;break}Zt=t.return}}var zQ=Math.ceil,j2=nu.ReactCurrentDispatcher,nN=nu.ReactCurrentOwner,To=nu.ReactCurrentBatchConfig,nn=0,ri=null,Pa=null,yi=0,zs=0,y0=Uf(0),$a=0,vv=null,Yd=0,$w=0,aN=0,Ag=null,As=null,iN=0,tp=1/0,_c=null,D2=!1,_4=null,hf=null,Zy=!1,Zu=null,L2=0,Tg=0,S4=null,Yx=-1,Xx=0;function fs(){return nn&6?ga():Yx!==-1?Yx:Yx=ga()}function pf(e){return e.mode&1?nn&2&&yi!==0?yi&-yi:EQ.transition!==null?(Xx===0&&(Xx=vF()),Xx):(e=Sn,e!==0||(e=window.event,e=e===void 0?16:AF(e.type)),e):1}function pl(e,t,r,n){if(50<Tg)throw Tg=0,S4=null,Error(It(185));I1(e,r,n),(!(nn&2)||e!==ri)&&(e===ri&&(!(nn&2)&&($w|=r),$a===4&&Gu(e,yi)),Is(e,n),r===1&&nn===0&&!(t.mode&1)&&(tp=ga()+500,Lw&&Vf()))}function Is(e,t){var r=e.callbackNode;EX(e,t);var n=y2(e,e===ri?yi:0);if(n===0)r!==null&&p6(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&p6(r),t===1)e.tag===0?TQ(sO.bind(null,e)):zF(sO.bind(null,e)),wQ(function(){!(nn&6)&&Vf()}),r=null;else{switch(yF(n)){case 1:r=OE;break;case 4:r=mF;break;case 16:r=v2;break;case 536870912:r=gF;break;default:r=v2}r=U$(r,D$.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function D$(e,t){if(Yx=-1,Xx=0,nn&6)throw Error(It(327));var r=e.callbackNode;if(D0()&&e.callbackNode!==r)return null;var n=y2(e,e===ri?yi:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=M2(e,n);else{t=n;var a=nn;nn|=2;var i=M$();(ri!==e||yi!==t)&&(_c=null,tp=ga()+500,Rd(e,t));do try{HQ();break}catch(o){L$(e,o)}while(!0);qE(),j2.current=i,nn=a,Pa!==null?t=0:(ri=null,yi=0,t=$a)}if(t!==0){if(t===2&&(a=XA(e),a!==0&&(n=a,t=A4(e,a))),t===1)throw r=vv,Rd(e,0),Gu(e,n),Is(e,ga()),r;if(t===6)Gu(e,n);else{if(a=e.current.alternate,!(n&30)&&!qQ(a)&&(t=M2(e,n),t===2&&(i=XA(e),i!==0&&(n=i,t=A4(e,i))),t===1))throw r=vv,Rd(e,0),Gu(e,n),Is(e,ga()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(It(345));case 2:gd(e,As,_c);break;case 3:if(Gu(e,n),(n&130023424)===n&&(t=iN+500-ga(),10<t)){if(y2(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){fs(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=a4(gd.bind(null,e,As,_c),t);break}gd(e,As,_c);break;case 4:if(Gu(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var s=31-hl(n);i=1<<s,s=t[s],s>a&&(a=s),n&=~i}if(n=a,n=ga()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*zQ(n/1960))-n,10<n){e.timeoutHandle=a4(gd.bind(null,e,As,_c),n);break}gd(e,As,_c);break;case 5:gd(e,As,_c);break;default:throw Error(It(329))}}}return Is(e,ga()),e.callbackNode===r?D$.bind(null,e):null}function A4(e,t){var r=Ag;return e.current.memoizedState.isDehydrated&&(Rd(e,t).flags|=256),e=M2(e,t),e!==2&&(t=As,As=r,t!==null&&T4(t)),e}function T4(e){As===null?As=e:As.push.apply(As,e)}function qQ(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!yl(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gu(e,t){for(t&=~aN,t&=~$w,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-hl(t),n=1<<r;e[r]=-1,t&=~n}}function sO(e){if(nn&6)throw Error(It(327));D0();var t=y2(e,0);if(!(t&1))return Is(e,ga()),null;var r=M2(e,t);if(e.tag!==0&&r===2){var n=XA(e);n!==0&&(t=n,r=A4(e,n))}if(r===1)throw r=vv,Rd(e,0),Gu(e,t),Is(e,ga()),r;if(r===6)throw Error(It(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gd(e,As,_c),Is(e,ga()),null}function sN(e,t){var r=nn;nn|=1;try{return e(t)}finally{nn=r,nn===0&&(tp=ga()+500,Lw&&Vf())}}function Xd(e){Zu!==null&&Zu.tag===0&&!(nn&6)&&D0();var t=nn;nn|=1;var r=To.transition,n=Sn;try{if(To.transition=null,Sn=1,e)return e()}finally{Sn=n,To.transition=r,nn=t,!(nn&6)&&Vf()}}function oN(){zs=y0.current,Hn(y0)}function Rd(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,bQ(r)),Pa!==null)for(r=Pa.return;r!==null;){var n=r;switch(UE(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&S2();break;case 3:Z0(),Hn(Ps),Hn(Ki),XE();break;case 5:YE(n);break;case 4:Z0();break;case 13:Hn(Zn);break;case 19:Hn(Zn);break;case 10:WE(n.type._context);break;case 22:case 23:oN()}r=r.return}if(ri=e,Pa=e=mf(e.current,null),yi=zs=t,$a=0,vv=null,aN=$w=Yd=0,As=Ag=null,Nd!==null){for(t=0;t<Nd.length;t++)if(r=Nd[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=a,n.next=s}r.pending=n}Nd=null}return e}function L$(e,t){do{var r=Pa;try{if(qE(),Hx.current=I2,O2){for(var n=ea.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}O2=!1}if(Kd=0,Qa=Fa=ea=null,_g=!1,pv=0,nN.current=null,r===null||r.return===null){$a=1,vv=t,Pa=null;break}e:{var i=e,s=r.return,o=r,l=t;if(t=yi,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=G6(s);if(p!==null){p.flags&=-257,K6(p,s,o,i,t),p.mode&1&&H6(i,c,t),t=p,l=c;var g=t.updateQueue;if(g===null){var m=new Set;m.add(l),t.updateQueue=m}else g.add(l);break e}else{if(!(t&1)){H6(i,c,t),lN();break e}l=Error(It(426))}}else if(Kn&&o.mode&1){var v=G6(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),K6(v,s,o,i,t),VE(ep(l,o));break e}}i=l=ep(l,o),$a!==4&&($a=2),Ag===null?Ag=[i]:Ag.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=y$(i,l,t);B6(i,y);break e;case 1:o=l;var b=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(hf===null||!hf.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var D=x$(i,o,t);B6(i,D);break e}}i=i.return}while(i!==null)}F$(r)}catch(P){t=P,Pa===r&&r!==null&&(Pa=r=r.return);continue}break}while(!0)}function M$(){var e=j2.current;return j2.current=I2,e===null?I2:e}function lN(){($a===0||$a===3||$a===2)&&($a=4),ri===null||!(Yd&268435455)&&!($w&268435455)||Gu(ri,yi)}function M2(e,t){var r=nn;nn|=2;var n=M$();(ri!==e||yi!==t)&&(_c=null,Rd(e,t));do try{WQ();break}catch(a){L$(e,a)}while(!0);if(qE(),nn=r,j2.current=n,Pa!==null)throw Error(It(261));return ri=null,yi=0,$a}function WQ(){for(;Pa!==null;)R$(Pa)}function HQ(){for(;Pa!==null&&!vX();)R$(Pa)}function R$(e){var t=B$(e.alternate,e,zs);e.memoizedProps=e.pendingProps,t===null?F$(e):Pa=t,nN.current=null}function F$(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=$Q(r,t),r!==null){r.flags&=32767,Pa=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{$a=6,Pa=null;return}}else if(r=FQ(r,t,zs),r!==null){Pa=r;return}if(t=t.sibling,t!==null){Pa=t;return}Pa=t=e}while(t!==null);$a===0&&($a=5)}function gd(e,t,r){var n=Sn,a=To.transition;try{To.transition=null,Sn=1,GQ(e,t,r,n)}finally{To.transition=a,Sn=n}return null}function GQ(e,t,r,n){do D0();while(Zu!==null);if(nn&6)throw Error(It(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(It(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(NX(e,i),e===ri&&(Pa=ri=null,yi=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Zy||(Zy=!0,U$(v2,function(){return D0(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=To.transition,To.transition=null;var s=Sn;Sn=1;var o=nn;nn|=4,nN.current=null,UQ(e,r),I$(r,e),hQ(r4),x2=!!t4,r4=t4=null,e.current=r,VQ(r),yX(),nn=o,Sn=s,To.transition=i}else e.current=r;if(Zy&&(Zy=!1,Zu=e,L2=a),i=e.pendingLanes,i===0&&(hf=null),wX(r.stateNode),Is(e,ga()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(D2)throw D2=!1,e=_4,_4=null,e;return L2&1&&e.tag!==0&&D0(),i=e.pendingLanes,i&1?e===S4?Tg++:(Tg=0,S4=e):Tg=0,Vf(),null}function D0(){if(Zu!==null){var e=yF(L2),t=To.transition,r=Sn;try{if(To.transition=null,Sn=16>e?16:e,Zu===null)var n=!1;else{if(e=Zu,Zu=null,L2=0,nn&6)throw Error(It(331));var a=nn;for(nn|=4,Zt=e.current;Zt!==null;){var i=Zt,s=i.child;if(Zt.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Zt=c;Zt!==null;){var u=Zt;switch(u.tag){case 0:case 11:case 15:Sg(8,u,i)}var f=u.child;if(f!==null)f.return=u,Zt=f;else for(;Zt!==null;){u=Zt;var h=u.sibling,p=u.return;if(C$(u),u===c){Zt=null;break}if(h!==null){h.return=p,Zt=h;break}Zt=p}}}var g=i.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}Zt=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,Zt=s;else e:for(;Zt!==null;){if(i=Zt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Sg(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Zt=y;break e}Zt=i.return}}var b=e.current;for(Zt=b;Zt!==null;){s=Zt;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,Zt=w;else e:for(s=b;Zt!==null;){if(o=Zt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Fw(9,o)}}catch(P){la(o,o.return,P)}if(o===s){Zt=null;break e}var D=o.sibling;if(D!==null){D.return=o.return,Zt=D;break e}Zt=o.return}}if(nn=a,Vf(),Vl&&typeof Vl.onPostCommitFiberRoot=="function")try{Vl.onPostCommitFiberRoot(Pw,e)}catch{}n=!0}return n}finally{Sn=r,To.transition=t}}return!1}function oO(e,t,r){t=ep(r,t),t=y$(e,t,1),e=df(e,t,1),t=fs(),e!==null&&(I1(e,1,t),Is(e,t))}function la(e,t,r){if(e.tag===3)oO(e,e,r);else for(;t!==null;){if(t.tag===3){oO(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(hf===null||!hf.has(n))){e=ep(r,e),e=x$(t,e,1),t=df(t,e,1),e=fs(),t!==null&&(I1(t,1,e),Is(t,e));break}}t=t.return}}function KQ(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=fs(),e.pingedLanes|=e.suspendedLanes&r,ri===e&&(yi&r)===r&&($a===4||$a===3&&(yi&130023424)===yi&&500>ga()-iN?Rd(e,0):aN|=r),Is(e,t)}function $$(e,t){t===0&&(e.mode&1?(t=zy,zy<<=1,!(zy&130023424)&&(zy=4194304)):t=1);var r=fs();e=Uc(e,t),e!==null&&(I1(e,t,r),Is(e,r))}function YQ(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),$$(e,r)}function XQ(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(It(314))}n!==null&&n.delete(t),$$(e,r)}var B$;B$=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ps.current)Es=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Es=!1,RQ(e,t,r);Es=!!(e.flags&131072)}else Es=!1,Kn&&t.flags&1048576&&qF(t,E2,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Kx(e,t),e=t.pendingProps;var a=X0(t,Ki.current);j0(t,r),a=JE(null,t,n,e,a,r);var i=ZE();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Os(n)?(i=!0,A2(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,GE(t),a.updater=Rw,t.stateNode=a,a._reactInternals=t,f4(t,n,e,r),t=p4(null,t,n,!0,i,r)):(t.tag=0,Kn&&i&&BE(t),ns(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Kx(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=JQ(n),e=tl(n,e),a){case 0:t=h4(null,t,n,e,r);break e;case 1:t=Q6(null,t,n,e,r);break e;case 11:t=Y6(null,t,n,e,r);break e;case 14:t=X6(null,t,n,tl(n.type,e),r);break e}throw Error(It(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:tl(n,a),h4(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:tl(n,a),Q6(e,t,n,a,r);case 3:e:{if(S$(t),e===null)throw Error(It(387));n=t.pendingProps,i=t.memoizedState,a=i.element,XF(e,t),C2(t,n,null,r);var s=t.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=ep(Error(It(423)),t),t=J6(e,t,n,r,a);break e}else if(n!==a){a=ep(Error(It(424)),t),t=J6(e,t,n,r,a);break e}else for(Ks=ff(t.stateNode.containerInfo.firstChild),Qs=t,Kn=!0,sl=null,r=KF(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Q0(),n===a){t=Vc(e,t,r);break e}ns(e,t,n,r)}t=t.child}return t;case 5:return QF(t),e===null&&l4(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,s=a.children,n4(n,a)?s=null:i!==null&&n4(n,i)&&(t.flags|=32),_$(e,t),ns(e,t,s,r),t.child;case 6:return e===null&&l4(t),null;case 13:return A$(e,t,r);case 4:return KE(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=J0(t,null,n,r):ns(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:tl(n,a),Y6(e,t,n,a,r);case 7:return ns(e,t,t.pendingProps,r),t.child;case 8:return ns(e,t,t.pendingProps.children,r),t.child;case 12:return ns(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,Fn(N2,n._currentValue),n._currentValue=s,i!==null)if(yl(i.value,s)){if(i.children===a.children&&!Ps.current){t=Vc(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){s=i.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=Ic(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),c4(i.return,r,t),o.lanes|=r;break}l=l.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(It(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),c4(s,r,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}ns(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,j0(t,r),a=Co(a),n=n(a),t.flags|=1,ns(e,t,n,r),t.child;case 14:return n=t.type,a=tl(n,t.pendingProps),a=tl(n.type,a),X6(e,t,n,a,r);case 15:return b$(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:tl(n,a),Kx(e,t),t.tag=1,Os(n)?(e=!0,A2(t)):e=!1,j0(t,r),v$(t,n,a),f4(t,n,a,r),p4(null,t,n,!0,e,r);case 19:return T$(e,t,r);case 22:return w$(e,t,r)}throw Error(It(156,t.tag))};function U$(e,t){return pF(e,t)}function QQ(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function So(e,t,r,n){return new QQ(e,t,r,n)}function cN(e){return e=e.prototype,!(!e||!e.isReactComponent)}function JQ(e){if(typeof e=="function")return cN(e)?1:0;if(e!=null){if(e=e.$$typeof,e===kE)return 11;if(e===CE)return 14}return 2}function mf(e,t){var r=e.alternate;return r===null?(r=So(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Qx(e,t,r,n,a,i){var s=2;if(n=e,typeof e=="function")cN(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case l0:return Fd(r.children,a,i,t);case NE:s=8,a|=8;break;case LA:return e=So(12,r,t,a|2),e.elementType=LA,e.lanes=i,e;case MA:return e=So(13,r,t,a),e.elementType=MA,e.lanes=i,e;case RA:return e=So(19,r,t,a),e.elementType=RA,e.lanes=i,e;case Q7:return Bw(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Y7:s=10;break e;case X7:s=9;break e;case kE:s=11;break e;case CE:s=14;break e;case zu:s=16,n=null;break e}throw Error(It(130,e==null?e:typeof e,""))}return t=So(s,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Fd(e,t,r,n){return e=So(7,e,n,t),e.lanes=r,e}function Bw(e,t,r,n){return e=So(22,e,n,t),e.elementType=Q7,e.lanes=r,e.stateNode={isHidden:!1},e}function nS(e,t,r){return e=So(6,e,null,t),e.lanes=r,e}function aS(e,t,r){return t=So(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ZQ(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=F_(0),this.expirationTimes=F_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=F_(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function uN(e,t,r,n,a,i,s,o,l){return e=new ZQ(e,t,r,o,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=So(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},GE(i),e}function eJ(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o0,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function V$(e){if(!e)return kf;e=e._reactInternals;e:{if(dh(e)!==e||e.tag!==1)throw Error(It(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Os(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(It(171))}if(e.tag===1){var r=e.type;if(Os(r))return VF(e,r,t)}return t}function z$(e,t,r,n,a,i,s,o,l){return e=uN(r,n,!0,e,a,i,s,o,l),e.context=V$(null),r=e.current,n=fs(),a=pf(r),i=Ic(n,a),i.callback=t??null,df(r,i,a),e.current.lanes=a,I1(e,a,n),Is(e,n),e}function Uw(e,t,r,n){var a=t.current,i=fs(),s=pf(a);return r=V$(r),t.context===null?t.context=r:t.pendingContext=r,t=Ic(i,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=df(a,t,s),e!==null&&(pl(e,a,s,i),Wx(e,a,s)),s}function R2(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function lO(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function fN(e,t){lO(e,t),(e=e.alternate)&&lO(e,t)}function tJ(){return null}var q$=typeof reportError=="function"?reportError:function(e){console.error(e)};function dN(e){this._internalRoot=e}Vw.prototype.render=dN.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(It(409));Uw(e,t,null,null)};Vw.prototype.unmount=dN.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xd(function(){Uw(null,e,null,null)}),t[Bc]=null}};function Vw(e){this._internalRoot=e}Vw.prototype.unstable_scheduleHydration=function(e){if(e){var t=wF();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Hu.length&&t!==0&&t<Hu[r].priority;r++);Hu.splice(r,0,e),r===0&&SF(e)}};function hN(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function zw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function cO(){}function rJ(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var c=R2(s);i.call(c)}}var s=z$(t,n,e,0,null,!1,!1,"",cO);return e._reactRootContainer=s,e[Bc]=s.current,cv(e.nodeType===8?e.parentNode:e),Xd(),s}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var c=R2(l);o.call(c)}}var l=uN(e,0,!1,null,null,!1,!1,"",cO);return e._reactRootContainer=l,e[Bc]=l.current,cv(e.nodeType===8?e.parentNode:e),Xd(function(){Uw(t,l,r,n)}),l}function qw(e,t,r,n,a){var i=r._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var o=a;a=function(){var l=R2(s);o.call(l)}}Uw(t,s,e,a)}else s=rJ(r,t,e,a,n);return R2(s)}xF=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ag(t.pendingLanes);r!==0&&(IE(t,r|1),Is(t,ga()),!(nn&6)&&(tp=ga()+500,Vf()))}break;case 13:Xd(function(){var n=Uc(e,1);if(n!==null){var a=fs();pl(n,e,1,a)}}),fN(e,1)}};jE=function(e){if(e.tag===13){var t=Uc(e,134217728);if(t!==null){var r=fs();pl(t,e,134217728,r)}fN(e,134217728)}};bF=function(e){if(e.tag===13){var t=pf(e),r=Uc(e,t);if(r!==null){var n=fs();pl(r,e,t,n)}fN(e,t)}};wF=function(){return Sn};_F=function(e,t){var r=Sn;try{return Sn=e,t()}finally{Sn=r}};GA=function(e,t,r){switch(t){case"input":if(BA(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Dw(n);if(!a)throw Error(It(90));Z7(n),BA(n,a)}}}break;case"textarea":tF(e,r);break;case"select":t=r.value,t!=null&&C0(e,!!r.multiple,t,!1)}};lF=sN;cF=Xd;var nJ={usingClientEntryPoint:!1,Events:[D1,d0,Dw,sF,oF,sN]},Fm={findFiberByHostInstance:Ed,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},aJ={bundleType:Fm.bundleType,version:Fm.version,rendererPackageName:Fm.rendererPackageName,rendererConfig:Fm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:nu.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=dF(e),e===null?null:e.stateNode},findFiberByHostInstance:Fm.findFiberByHostInstance||tJ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ex=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ex.isDisabled&&ex.supportsFiber)try{Pw=ex.inject(aJ),Vl=ex}catch{}}to.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nJ;to.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hN(t))throw Error(It(200));return eJ(e,t,null,r)};to.createRoot=function(e,t){if(!hN(e))throw Error(It(299));var r=!1,n="",a=q$;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=uN(e,1,!1,null,null,r,!1,n,a),e[Bc]=t.current,cv(e.nodeType===8?e.parentNode:e),new dN(t)};to.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(It(188)):(e=Object.keys(e).join(","),Error(It(268,e)));return e=dF(t),e=e===null?null:e.stateNode,e};to.flushSync=function(e){return Xd(e)};to.hydrate=function(e,t,r){if(!zw(t))throw Error(It(200));return qw(null,e,t,!0,r)};to.hydrateRoot=function(e,t,r){if(!hN(e))throw Error(It(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",s=q$;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=z$(t,null,e,1,r??null,a,!1,i,s),e[Bc]=t.current,cv(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Vw(t)};to.render=function(e,t,r){if(!zw(t))throw Error(It(200));return qw(null,e,t,!1,r)};to.unmountComponentAtNode=function(e){if(!zw(e))throw Error(It(40));return e._reactRootContainer?(Xd(function(){qw(null,null,e,!1,function(){e._reactRootContainer=null,e[Bc]=null})}),!0):!1};to.unstable_batchedUpdates=sN;to.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!zw(r))throw Error(It(200));if(e==null||e._reactInternals===void 0)throw Error(It(38));return qw(e,t,r,!1,n)};to.version="18.3.1-next-f1338f8080-20240426";function W$(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(W$)}catch(e){console.error(e)}}W$(),W7.exports=to;var iJ=W7.exports,H$,uO=iJ;H$=uO.createRoot,uO.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yv(){return yv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yv.apply(this,arguments)}var ef;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ef||(ef={}));const fO="popstate";function sJ(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:s,hash:o}=n.location;return E4("",{pathname:i,search:s,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:F2(a)}return lJ(t,r,null,e)}function ta(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function G$(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function oJ(){return Math.random().toString(36).substr(2,8)}function dO(e,t){return{usr:e.state,key:e.key,idx:t}}function E4(e,t,r,n){return r===void 0&&(r=null),yv({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Bp(t):t,{state:r,key:t&&t.key||n||oJ()})}function F2(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Bp(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function lJ(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,o=ef.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(yv({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function f(){o=ef.Pop;let v=u(),y=v==null?null:v-c;c=v,l&&l({action:o,location:m.location,delta:y})}function h(v,y){o=ef.Push;let b=E4(m.location,v,y);c=u()+1;let w=dO(b,c),D=m.createHref(b);try{s.pushState(w,"",D)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;a.location.assign(D)}i&&l&&l({action:o,location:m.location,delta:1})}function p(v,y){o=ef.Replace;let b=E4(m.location,v,y);c=u();let w=dO(b,c),D=m.createHref(b);s.replaceState(w,"",D),i&&l&&l({action:o,location:m.location,delta:0})}function g(v){let y=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof v=="string"?v:F2(v);return b=b.replace(/ $/,"%20"),ta(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let m={get action(){return o},get location(){return e(a,s)},listen(v){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(fO,f),l=v,()=>{a.removeEventListener(fO,f),l=null}},createHref(v){return t(a,v)},createURL:g,encodeLocation(v){let y=g(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(v){return s.go(v)}};return m}var hO;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(hO||(hO={}));function cJ(e,t,r){return r===void 0&&(r="/"),uJ(e,t,r,!1)}function uJ(e,t,r,n){let a=typeof t=="string"?Bp(t):t,i=rp(a.pathname||"/",r);if(i==null)return null;let s=K$(e);fJ(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=_J(i);o=bJ(s[l],c,n)}return o}function K$(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,s,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};l.relativePath.startsWith("/")&&(ta(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=gf([n,l.relativePath]),u=r.concat(l);i.children&&i.children.length>0&&(ta(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),K$(i.children,t,u,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:yJ(c,i.index),routesMeta:u})};return e.forEach((i,s)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,s);else for(let l of Y$(i.path))a(i,s,l)}),t}function Y$(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=Y$(n.join("/")),o=[];return o.push(...s.map(l=>l===""?i:[i,l].join("/"))),a&&o.push(...s),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function fJ(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:xJ(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const dJ=/^:[\w-]+$/,hJ=3,pJ=2,mJ=1,gJ=10,vJ=-2,pO=e=>e==="*";function yJ(e,t){let r=e.split("/"),n=r.length;return r.some(pO)&&(n+=vJ),t&&(n+=pJ),r.filter(a=>!pO(a)).reduce((a,i)=>a+(dJ.test(i)?hJ:i===""?mJ:gJ),n)}function xJ(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function bJ(e,t,r){let{routesMeta:n}=e,a={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",f=$2({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!f&&c&&r&&!n[n.length-1].route.index&&(f=$2({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(a,f.params),s.push({params:a,pathname:gf([i,f.pathname]),pathnameBase:EJ(gf([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=gf([i,f.pathnameBase]))}return s}function $2(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=wJ(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((c,u,f)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let m=o[f]||"";s=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const g=o[f];return p&&!g?c[h]=void 0:c[h]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:s,pattern:e}}function wJ(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),G$(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function _J(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return G$(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function rp(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function SJ(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Bp(e):e;return{pathname:r?r.startsWith("/")?r:AJ(r,t):t,search:NJ(n),hash:kJ(a)}}function AJ(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function iS(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function TJ(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function pN(e,t){let r=TJ(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function mN(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Bp(e):(a=yv({},e),ta(!a.pathname||!a.pathname.includes("?"),iS("?","pathname","search",a)),ta(!a.pathname||!a.pathname.includes("#"),iS("#","pathname","hash",a)),ta(!a.search||!a.search.includes("#"),iS("#","search","hash",a)));let i=e===""||a.pathname==="",s=i?"/":a.pathname,o;if(s==null)o=r;else{let f=t.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}o=f>=0?t[f]:"/"}let l=SJ(a,o),c=s&&s!=="/"&&s.endsWith("/"),u=(i||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const gf=e=>e.join("/").replace(/\/\/+/g,"/"),EJ=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),NJ=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,kJ=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function CJ(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const X$=["post","put","patch","delete"];new Set(X$);const PJ=["get",...X$];new Set(PJ);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xv(){return xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xv.apply(this,arguments)}const Ww=B.createContext(null),Q$=B.createContext(null),au=B.createContext(null),Hw=B.createContext(null),iu=B.createContext({outlet:null,matches:[],isDataRoute:!1}),J$=B.createContext(null);function OJ(e,t){let{relative:r}=t===void 0?{}:t;Up()||ta(!1);let{basename:n,navigator:a}=B.useContext(au),{hash:i,pathname:s,search:o}=Gw(e,{relative:r}),l=s;return n!=="/"&&(l=s==="/"?n:gf([n,s])),a.createHref({pathname:l,search:o,hash:i})}function Up(){return B.useContext(Hw)!=null}function Vp(){return Up()||ta(!1),B.useContext(Hw).location}function Z$(e){B.useContext(au).static||B.useLayoutEffect(e)}function M1(){let{isDataRoute:e}=B.useContext(iu);return e?HJ():IJ()}function IJ(){Up()||ta(!1);let e=B.useContext(Ww),{basename:t,future:r,navigator:n}=B.useContext(au),{matches:a}=B.useContext(iu),{pathname:i}=Vp(),s=JSON.stringify(pN(a,r.v7_relativeSplatPath)),o=B.useRef(!1);return Z$(()=>{o.current=!0}),B.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let f=mN(c,JSON.parse(s),i,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:gf([t,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[t,n,s,i,e])}const jJ=B.createContext(null);function DJ(e){let t=B.useContext(iu).outlet;return t&&B.createElement(jJ.Provider,{value:e},t)}function Gw(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=B.useContext(au),{matches:a}=B.useContext(iu),{pathname:i}=Vp(),s=JSON.stringify(pN(a,n.v7_relativeSplatPath));return B.useMemo(()=>mN(e,JSON.parse(s),i,r==="path"),[e,s,i,r])}function LJ(e,t){return MJ(e,t)}function MJ(e,t,r,n){Up()||ta(!1);let{navigator:a,static:i}=B.useContext(au),{matches:s}=B.useContext(iu),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Vp(),f;if(t){var h;let y=typeof t=="string"?Bp(t):t;c==="/"||(h=y.pathname)!=null&&h.startsWith(c)||ta(!1),f=y}else f=u;let p=f.pathname||"/",g=p;if(c!=="/"){let y=c.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=!i&&r&&r.matches&&r.matches.length>0?r.matches:cJ(e,{pathname:g}),v=UJ(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:gf([c,a.encodeLocation?a.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:gf([c,a.encodeLocation?a.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,r,n);return t&&v?B.createElement(Hw.Provider,{value:{location:xv({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:ef.Pop}},v):v}function RJ(){let e=WJ(),t=CJ(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},t),r?B.createElement("pre",{style:a},r):null,null)}const FJ=B.createElement(RJ,null);class $J extends B.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?B.createElement(iu.Provider,{value:this.props.routeContext},B.createElement(J$.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function BJ(e){let{routeContext:t,match:r,children:n}=e,a=B.useContext(Ww);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),B.createElement(iu.Provider,{value:t},n)}function UJ(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,o=(a=r)==null?void 0:a.errors;if(o!=null){let u=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);u>=0||ta(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<s.length;u++){let f=s[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:h,errors:p}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,f,h)=>{let p,g=!1,m=null,v=null;r&&(p=o&&f.route.id?o[f.route.id]:void 0,m=f.route.errorElement||FJ,l&&(c<0&&h===0?(g=!0,v=null):c===h&&(g=!0,v=f.route.hydrateFallbackElement||null)));let y=t.concat(s.slice(0,h+1)),b=()=>{let w;return p?w=m:g?w=v:f.route.Component?w=B.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=u,B.createElement(BJ,{match:f,routeContext:{outlet:u,matches:y,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?B.createElement($J,{location:r.location,revalidation:r.revalidation,component:m,error:p,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var e9=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(e9||{}),B2=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(B2||{});function VJ(e){let t=B.useContext(Ww);return t||ta(!1),t}function zJ(e){let t=B.useContext(Q$);return t||ta(!1),t}function qJ(e){let t=B.useContext(iu);return t||ta(!1),t}function t9(e){let t=qJ(),r=t.matches[t.matches.length-1];return r.route.id||ta(!1),r.route.id}function WJ(){var e;let t=B.useContext(J$),r=zJ(B2.UseRouteError),n=t9(B2.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function HJ(){let{router:e}=VJ(e9.UseNavigateStable),t=t9(B2.UseNavigateStable),r=B.useRef(!1);return Z$(()=>{r.current=!0}),B.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,xv({fromRouteId:t},i)))},[e,t])}function GJ(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function N4(e){let{to:t,replace:r,state:n,relative:a}=e;Up()||ta(!1);let{future:i,static:s}=B.useContext(au),{matches:o}=B.useContext(iu),{pathname:l}=Vp(),c=M1(),u=mN(t,pN(o,i.v7_relativeSplatPath),l,a==="path"),f=JSON.stringify(u);return B.useEffect(()=>c(JSON.parse(f),{replace:r,state:n,relative:a}),[c,f,a,r,n]),null}function KJ(e){return DJ(e.context)}function rs(e){ta(!1)}function YJ(e){let{basename:t="/",children:r=null,location:n,navigationType:a=ef.Pop,navigator:i,static:s=!1,future:o}=e;Up()&&ta(!1);let l=t.replace(/^\/*/,"/"),c=B.useMemo(()=>({basename:l,navigator:i,static:s,future:xv({v7_relativeSplatPath:!1},o)}),[l,o,i,s]);typeof n=="string"&&(n=Bp(n));let{pathname:u="/",search:f="",hash:h="",state:p=null,key:g="default"}=n,m=B.useMemo(()=>{let v=rp(u,l);return v==null?null:{location:{pathname:v,search:f,hash:h,state:p,key:g},navigationType:a}},[l,u,f,h,p,g,a]);return m==null?null:B.createElement(au.Provider,{value:c},B.createElement(Hw.Provider,{children:r,value:m}))}function XJ(e){let{children:t,location:r}=e;return LJ(k4(t),r)}new Promise(()=>{});function k4(e,t){t===void 0&&(t=[]);let r=[];return B.Children.forEach(e,(n,a)=>{if(!B.isValidElement(n))return;let i=[...t,a];if(n.type===B.Fragment){r.push.apply(r,k4(n.props.children,i));return}n.type!==rs&&ta(!1),!n.props.index||!n.props.children||ta(!1);let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=k4(n.props.children,i)),r.push(s)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function U2(){return U2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},U2.apply(this,arguments)}function r9(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function QJ(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function JJ(e,t){return e.button===0&&(!t||t==="_self")&&!QJ(e)}const ZJ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],eZ=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],tZ="6";try{window.__reactRouterVersion=tZ}catch{}const rZ=B.createContext({isTransitioning:!1}),nZ="startTransition",mO=KY[nZ];function aZ(e){let{basename:t,children:r,future:n,window:a}=e,i=B.useRef();i.current==null&&(i.current=sJ({window:a,v5Compat:!0}));let s=i.current,[o,l]=B.useState({action:s.action,location:s.location}),{v7_startTransition:c}=n||{},u=B.useCallback(f=>{c&&mO?mO(()=>l(f)):l(f)},[l,c]);return B.useLayoutEffect(()=>s.listen(u),[s,u]),B.useEffect(()=>GJ(n),[n]),B.createElement(YJ,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const iZ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",sZ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oZ=B.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:s,state:o,target:l,to:c,preventScrollReset:u,viewTransition:f}=t,h=r9(t,ZJ),{basename:p}=B.useContext(au),g,m=!1;if(typeof c=="string"&&sZ.test(c)&&(g=c,iZ))try{let w=new URL(window.location.href),D=c.startsWith("//")?new URL(w.protocol+c):new URL(c),P=rp(D.pathname,p);D.origin===w.origin&&P!=null?c=P+D.search+D.hash:m=!0}catch{}let v=OJ(c,{relative:a}),y=cZ(c,{replace:s,state:o,target:l,preventScrollReset:u,relative:a,viewTransition:f});function b(w){n&&n(w),w.defaultPrevented||y(w)}return B.createElement("a",U2({},h,{href:g||v,onClick:m||i?n:b,ref:r,target:l}))}),sS=B.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:i="",end:s=!1,style:o,to:l,viewTransition:c,children:u}=t,f=r9(t,eZ),h=Gw(l,{relative:f.relative}),p=Vp(),g=B.useContext(Q$),{navigator:m,basename:v}=B.useContext(au),y=g!=null&&uZ(h)&&c===!0,b=m.encodeLocation?m.encodeLocation(h).pathname:h.pathname,w=p.pathname,D=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;a||(w=w.toLowerCase(),D=D?D.toLowerCase():null,b=b.toLowerCase()),D&&v&&(D=rp(D,v)||D);const P=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let I=w===b||!s&&w.startsWith(b)&&w.charAt(P)==="/",T=D!=null&&(D===b||!s&&D.startsWith(b)&&D.charAt(b.length)==="/"),_={isActive:I,isPending:T,isTransitioning:y},S=I?n:void 0,j;typeof i=="function"?j=i(_):j=[i,I?"active":null,T?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let E=typeof o=="function"?o(_):o;return B.createElement(oZ,U2({},f,{"aria-current":S,className:j,ref:r,style:E,to:l,viewTransition:c}),typeof u=="function"?u(_):u)});var C4;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(C4||(C4={}));var gO;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(gO||(gO={}));function lZ(e){let t=B.useContext(Ww);return t||ta(!1),t}function cZ(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:s,viewTransition:o}=t===void 0?{}:t,l=M1(),c=Vp(),u=Gw(e,{relative:s});return B.useCallback(f=>{if(JJ(f,r)){f.preventDefault();let h=n!==void 0?n:F2(c)===F2(u);l(e,{replace:h,state:a,preventScrollReset:i,relative:s,viewTransition:o})}},[c,l,u,n,a,r,e,i,s,o])}function uZ(e,t){t===void 0&&(t={});let r=B.useContext(rZ);r==null&&ta(!1);let{basename:n}=lZ(C4.useViewTransitionState),a=Gw(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=rp(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=rp(r.nextLocation.pathname,n)||r.nextLocation.pathname;return $2(a.pathname,s)!=null||$2(a.pathname,i)!=null}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fZ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dZ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),wr=(e,t)=>{const r=B.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:l,...c},u)=>B.createElement("svg",{ref:u,...fZ,width:a,height:a,stroke:n,strokeWidth:s?Number(i)*24/Number(a):i,className:["lucide",`lucide-${dZ(e)}`,o].join(" "),...c},[...t.map(([f,h])=>B.createElement(f,h)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hZ=wr("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=wr("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=wr("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pZ=wr("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mZ=wr("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=wr("Barcode",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gZ=wr("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vZ=wr("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=wr("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yZ=wr("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=wr("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=wr("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=wr("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=wr("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=wr("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n9=wr("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=wr("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xZ=wr("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=wr("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bZ=wr("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=wr("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wZ=wr("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Z=wr("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SZ=wr("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=wr("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=wr("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=wr("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AZ=wr("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a9=wr("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TZ=wr("PackageMinus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EZ=wr("PackageOpen",[["path",{d:"M12 22v-9",key:"x3hkom"}],["path",{d:"M15.17 2.21a1.67 1.67 0 0 1 1.63 0L21 4.57a1.93 1.93 0 0 1 0 3.36L8.82 14.79a1.655 1.655 0 0 1-1.64 0L3 12.43a1.93 1.93 0 0 1 0-3.36z",key:"2ntwy6"}],["path",{d:"M20 13v3.87a2.06 2.06 0 0 1-1.11 1.83l-6 3.08a1.93 1.93 0 0 1-1.78 0l-6-3.08A2.06 2.06 0 0 1 4 16.87V13",key:"1pmm1c"}],["path",{d:"M21 12.43a1.93 1.93 0 0 0 0-3.36L8.83 2.2a1.64 1.64 0 0 0-1.63 0L3 4.57a1.93 1.93 0 0 0 0 3.36l12.18 6.86a1.636 1.636 0 0 0 1.63 0z",key:"12ttoo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=wr("PackagePlus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jd=wr("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=wr("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i9=wr("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=wr("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=wr("PoundSterling",[["path",{d:"M18 7c0-5.333-8-5.333-8 0",key:"1prm2n"}],["path",{d:"M10 7v14",key:"18tmcs"}],["path",{d:"M6 21h12",key:"4dkmi1"}],["path",{d:"M6 13h10",key:"ybwr4a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=wr("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=wr("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NZ=wr("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kZ=wr("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s9=wr("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CZ=wr("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=wr("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o9=wr("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PZ=wr("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=wr("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=wr("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=wr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),OZ=()=>{};var SO={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l9=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let a=e.charCodeAt(n);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):(a&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},IZ=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const a=e[r++];if(a<128)t[n++]=String.fromCharCode(a);else if(a>191&&a<224){const i=e[r++];t[n++]=String.fromCharCode((a&31)<<6|i&63)}else if(a>239&&a<365){const i=e[r++],s=e[r++],o=e[r++],l=((a&7)<<18|(i&63)<<12|(s&63)<<6|o&63)-65536;t[n++]=String.fromCharCode(55296+(l>>10)),t[n++]=String.fromCharCode(56320+(l&1023))}else{const i=e[r++],s=e[r++];t[n++]=String.fromCharCode((a&15)<<12|(i&63)<<6|s&63)}}return t.join("")},c9={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<e.length;a+=3){const i=e[a],s=a+1<e.length,o=s?e[a+1]:0,l=a+2<e.length,c=l?e[a+2]:0,u=i>>2,f=(i&3)<<4|o>>4;let h=(o&15)<<2|c>>6,p=c&63;l||(p=64,s||(h=64)),n.push(r[u],r[f],r[h],r[p])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(l9(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):IZ(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<e.length;){const i=r[e.charAt(a++)],o=a<e.length?r[e.charAt(a)]:0;++a;const c=a<e.length?r[e.charAt(a)]:64;++a;const f=a<e.length?r[e.charAt(a)]:64;if(++a,i==null||o==null||c==null||f==null)throw new jZ;const h=i<<2|o>>4;if(n.push(h),c!==64){const p=o<<4&240|c>>2;if(n.push(p),f!==64){const g=c<<6&192|f;n.push(g)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class jZ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DZ=function(e){const t=l9(e);return c9.encodeByteArray(t,!0)},q2=function(e){return DZ(e).replace(/\./g,"")},LZ=function(e){try{return c9.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MZ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RZ=()=>MZ().__FIREBASE_DEFAULTS__,FZ=()=>{if(typeof process>"u"||typeof SO>"u")return;const e=SO.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},$Z=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&LZ(e[1]);return t&&JSON.parse(t)},vN=()=>{try{return OZ()||RZ()||FZ()||$Z()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},BZ=e=>{var t,r;return(r=(t=vN())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[e]},UZ=e=>{const t=BZ(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),n]:[t.substring(0,r),n]},u9=()=>{var e;return(e=vN())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VZ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(e){return e.endsWith(".cloudworkstations.dev")}async function zZ(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qZ(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=t||"demo-project",a=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:a,exp:a+3600,auth_time:a,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[q2(JSON.stringify(r)),q2(JSON.stringify(s)),""].join(".")}const Eg={};function WZ(){const e={prod:[],emulator:[]};for(const t of Object.keys(Eg))Eg[t]?e.emulator.push(t):e.prod.push(t);return e}function HZ(e){let t=document.getElementById(e),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),r=!0),{created:r,element:t}}let AO=!1;function f9(e,t){if(typeof window>"u"||typeof document>"u"||!yN(window.location.host)||Eg[e]===t||Eg[e]||AO)return;Eg[e]=t;function r(h){return`__firebase__banner__${h}`}const n="__firebase__banner",i=WZ().prod.length>0;function s(){const h=document.getElementById(n);h&&h.remove()}function o(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{AO=!0,s()},h}function u(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=HZ(n),p=r("text"),g=document.getElementById(p)||document.createElement("span"),m=r("learnmore"),v=document.getElementById(m)||document.createElement("a"),y=r("preprendIcon"),b=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const w=h.element;o(w),u(v,m);const D=c();l(b,y),w.append(b,g,v,D),document.body.appendChild(w)}i?(g.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GZ(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KZ(){var e;const t=(e=vN())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YZ(){return!KZ()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XZ(){try{return typeof indexedDB=="object"}catch{return!1}}function QZ(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var i;t(((i=a.error)===null||i===void 0?void 0:i.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JZ="FirebaseError";class zp extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=JZ,Object.setPrototypeOf(this,zp.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,d9.prototype.create)}}class d9{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},a=`${this.service}/${t}`,i=this.errors[t],s=i?ZZ(i,n):"Error",o=`${this.serviceName}: ${s} (${a}).`;return new zp(a,o,n)}}function ZZ(e,t){return e.replace(eee,(r,n)=>{const a=t[n];return a!=null?String(a):`<${n}?>`})}const eee=/\{\$([^}]+)}/g;function W2(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const a of r){if(!n.includes(a))return!1;const i=e[a],s=t[a];if(TO(i)&&TO(s)){if(!W2(i,s))return!1}else if(i!==s)return!1}for(const a of n)if(!r.includes(a))return!1;return!0}function TO(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(e){return e&&e._delegate?e._delegate:e}class _v{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tee{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new VZ;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(a)return null;throw i}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(nee(t))try{this.getOrInitializeService({instanceIdentifier:vd})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:a});n.resolve(i)}catch{}}}}clearInstance(t=vd){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=vd){return this.instances.has(t)}getOptions(t=vd){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);n===o&&s.resolve(a)}return a}onInit(t,r){var n;const a=this.normalizeInstanceIdentifier(r),i=(n=this.onInitCallbacks.get(a))!==null&&n!==void 0?n:new Set;i.add(t),this.onInitCallbacks.set(a,i);const s=this.instances.get(a);return s&&t(s,a),()=>{i.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const a of n)try{a(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:ree(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=vd){return this.component?this.component.multipleInstances?t:vd:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ree(e){return e===vd?void 0:e}function nee(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aee{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new tee(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jr;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Jr||(Jr={}));const iee={debug:Jr.DEBUG,verbose:Jr.VERBOSE,info:Jr.INFO,warn:Jr.WARN,error:Jr.ERROR,silent:Jr.SILENT},see=Jr.INFO,oee={[Jr.DEBUG]:"log",[Jr.VERBOSE]:"log",[Jr.INFO]:"info",[Jr.WARN]:"warn",[Jr.ERROR]:"error"},lee=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),a=oee[t];if(a)console[a](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class h9{constructor(t){this.name=t,this._logLevel=see,this._logHandler=lee,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Jr))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?iee[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Jr.DEBUG,...t),this._logHandler(this,Jr.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Jr.VERBOSE,...t),this._logHandler(this,Jr.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Jr.INFO,...t),this._logHandler(this,Jr.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Jr.WARN,...t),this._logHandler(this,Jr.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Jr.ERROR,...t),this._logHandler(this,Jr.ERROR,...t)}}const cee=(e,t)=>t.some(r=>e instanceof r);let EO,NO;function uee(){return EO||(EO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fee(){return NO||(NO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const p9=new WeakMap,j4=new WeakMap,m9=new WeakMap,lS=new WeakMap,xN=new WeakMap;function dee(e){const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{r(vf(e.result)),a()},s=()=>{n(e.error),a()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(r=>{r instanceof IDBCursor&&p9.set(r,e)}).catch(()=>{}),xN.set(t,e),t}function hee(e){if(j4.has(e))return;const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{r(),a()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});j4.set(e,t)}let D4={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return j4.get(e);if(t==="objectStoreNames")return e.objectStoreNames||m9.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return vf(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function pee(e){D4=e(D4)}function mee(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(cS(this),t,...r);return m9.set(n,t.sort?t.sort():[t]),vf(n)}:fee().includes(e)?function(...t){return e.apply(cS(this),t),vf(p9.get(this))}:function(...t){return vf(e.apply(cS(this),t))}}function gee(e){return typeof e=="function"?mee(e):(e instanceof IDBTransaction&&hee(e),cee(e,uee())?new Proxy(e,D4):e)}function vf(e){if(e instanceof IDBRequest)return dee(e);if(lS.has(e))return lS.get(e);const t=gee(e);return t!==e&&(lS.set(e,t),xN.set(t,e)),t}const cS=e=>xN.get(e);function vee(e,t,{blocked:r,upgrade:n,blocking:a,terminated:i}={}){const s=indexedDB.open(e,t),o=vf(s);return n&&s.addEventListener("upgradeneeded",l=>{n(vf(s.result),l.oldVersion,l.newVersion,vf(s.transaction),l)}),r&&s.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{i&&l.addEventListener("close",()=>i()),a&&l.addEventListener("versionchange",c=>a(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const yee=["get","getKey","getAll","getAllKeys","count"],xee=["put","add","delete","clear"],uS=new Map;function kO(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(uS.get(t))return uS.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,a=xee.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||yee.includes(r)))return;const i=async function(s,...o){const l=this.transaction(s,a?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(o.shift())),(await Promise.all([c[r](...o),a&&l.done]))[0]};return uS.set(t,i),i}pee(e=>({...e,get:(t,r,n)=>kO(t,r)||e.get(t,r,n),has:(t,r)=>!!kO(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bee{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(wee(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function wee(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const L4="@firebase/app",CO="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc=new h9("@firebase/app"),_ee="@firebase/app-compat",See="@firebase/analytics-compat",Aee="@firebase/analytics",Tee="@firebase/app-check-compat",Eee="@firebase/app-check",Nee="@firebase/auth",kee="@firebase/auth-compat",Cee="@firebase/database",Pee="@firebase/data-connect",Oee="@firebase/database-compat",Iee="@firebase/functions",jee="@firebase/functions-compat",Dee="@firebase/installations",Lee="@firebase/installations-compat",Mee="@firebase/messaging",Ree="@firebase/messaging-compat",Fee="@firebase/performance",$ee="@firebase/performance-compat",Bee="@firebase/remote-config",Uee="@firebase/remote-config-compat",Vee="@firebase/storage",zee="@firebase/storage-compat",qee="@firebase/firestore",Wee="@firebase/vertexai",Hee="@firebase/firestore-compat",Gee="firebase",Kee="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4="[DEFAULT]",Yee={[L4]:"fire-core",[_ee]:"fire-core-compat",[Aee]:"fire-analytics",[See]:"fire-analytics-compat",[Eee]:"fire-app-check",[Tee]:"fire-app-check-compat",[Nee]:"fire-auth",[kee]:"fire-auth-compat",[Cee]:"fire-rtdb",[Pee]:"fire-data-connect",[Oee]:"fire-rtdb-compat",[Iee]:"fire-fn",[jee]:"fire-fn-compat",[Dee]:"fire-iid",[Lee]:"fire-iid-compat",[Mee]:"fire-fcm",[Ree]:"fire-fcm-compat",[Fee]:"fire-perf",[$ee]:"fire-perf-compat",[Bee]:"fire-rc",[Uee]:"fire-rc-compat",[Vee]:"fire-gcs",[zee]:"fire-gcs-compat",[qee]:"fire-fst",[Hee]:"fire-fst-compat",[Wee]:"fire-vertex","fire-js":"fire-js",[Gee]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=new Map,Xee=new Map,R4=new Map;function PO(e,t){try{e.container.addComponent(t)}catch(r){Wc.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function G2(e){const t=e.name;if(R4.has(t))return Wc.debug(`There were multiple attempts to register component ${t}.`),!1;R4.set(t,e);for(const r of H2.values())PO(r,e);for(const r of Xee.values())PO(r,e);return!0}function Qee(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function Jee(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zee={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yf=new d9("app","Firebase",Zee);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ete{constructor(t,r,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new _v("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw yf.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tte=Kee;function g9(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n=Object.assign({name:M4,automaticDataCollectionEnabled:!1},t),a=n.name;if(typeof a!="string"||!a)throw yf.create("bad-app-name",{appName:String(a)});if(r||(r=u9()),!r)throw yf.create("no-options");const i=H2.get(a);if(i){if(W2(r,i.options)&&W2(n,i.config))return i;throw yf.create("duplicate-app",{appName:a})}const s=new aee(a);for(const l of R4.values())s.addComponent(l);const o=new ete(r,n,s);return H2.set(a,o),o}function rte(e=M4){const t=H2.get(e);if(!t&&e===M4&&u9())return g9();if(!t)throw yf.create("no-app",{appName:e});return t}function L0(e,t,r){var n;let a=(n=Yee[e])!==null&&n!==void 0?n:e;r&&(a+=`-${r}`);const i=a.match(/\s|\//),s=t.match(/\s|\//);if(i||s){const o=[`Unable to register library "${a}" with version "${t}":`];i&&o.push(`library name "${a}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Wc.warn(o.join(" "));return}G2(new _v(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nte="firebase-heartbeat-database",ate=1,Sv="firebase-heartbeat-store";let fS=null;function v9(){return fS||(fS=vee(nte,ate,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Sv)}catch(r){console.warn(r)}}}}).catch(e=>{throw yf.create("idb-open",{originalErrorMessage:e.message})})),fS}async function ite(e){try{const r=(await v9()).transaction(Sv),n=await r.objectStore(Sv).get(y9(e));return await r.done,n}catch(t){if(t instanceof zp)Wc.warn(t.message);else{const r=yf.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Wc.warn(r.message)}}}async function OO(e,t){try{const n=(await v9()).transaction(Sv,"readwrite");await n.objectStore(Sv).put(t,y9(e)),await n.done}catch(r){if(r instanceof zp)Wc.warn(r.message);else{const n=yf.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Wc.warn(n.message)}}}function y9(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ste=1024,ote=30;class lte{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new ute(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=IO();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:a}),this._heartbeatsCache.heartbeats.length>ote){const s=fte(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Wc.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=IO(),{heartbeatsToSend:n,unsentEntries:a}=cte(this._heartbeatsCache.heartbeats),i=q2(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return Wc.warn(r),""}}}function IO(){return new Date().toISOString().substring(0,10)}function cte(e,t=ste){const r=[];let n=e.slice();for(const a of e){const i=r.find(s=>s.agent===a.agent);if(i){if(i.dates.push(a.date),jO(r)>t){i.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),jO(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class ute{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XZ()?QZ().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await ite(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return OO(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return OO(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function jO(e){return q2(JSON.stringify({version:2,heartbeats:e})).length}function fte(e){if(e.length===0)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dte(e){G2(new _v("platform-logger",t=>new bee(t),"PRIVATE")),G2(new _v("heartbeat",t=>new lte(t),"PRIVATE")),L0(L4,CO,e),L0(L4,CO,"esm2017"),L0("fire-js","")}dte("");var hte="firebase",pte="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */L0(hte,pte,"app");var DO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xf,x9;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(T,_){function S(){}S.prototype=_.prototype,T.D=_.prototype,T.prototype=new S,T.prototype.constructor=T,T.C=function(j,E,N){for(var O=Array(arguments.length-2),U=2;U<arguments.length;U++)O[U-2]=arguments[U];return _.prototype[E].apply(j,O)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(T,_,S){S||(S=0);var j=Array(16);if(typeof _=="string")for(var E=0;16>E;++E)j[E]=_.charCodeAt(S++)|_.charCodeAt(S++)<<8|_.charCodeAt(S++)<<16|_.charCodeAt(S++)<<24;else for(E=0;16>E;++E)j[E]=_[S++]|_[S++]<<8|_[S++]<<16|_[S++]<<24;_=T.g[0],S=T.g[1],E=T.g[2];var N=T.g[3],O=_+(N^S&(E^N))+j[0]+3614090360&4294967295;_=S+(O<<7&4294967295|O>>>25),O=N+(E^_&(S^E))+j[1]+3905402710&4294967295,N=_+(O<<12&4294967295|O>>>20),O=E+(S^N&(_^S))+j[2]+606105819&4294967295,E=N+(O<<17&4294967295|O>>>15),O=S+(_^E&(N^_))+j[3]+3250441966&4294967295,S=E+(O<<22&4294967295|O>>>10),O=_+(N^S&(E^N))+j[4]+4118548399&4294967295,_=S+(O<<7&4294967295|O>>>25),O=N+(E^_&(S^E))+j[5]+1200080426&4294967295,N=_+(O<<12&4294967295|O>>>20),O=E+(S^N&(_^S))+j[6]+2821735955&4294967295,E=N+(O<<17&4294967295|O>>>15),O=S+(_^E&(N^_))+j[7]+4249261313&4294967295,S=E+(O<<22&4294967295|O>>>10),O=_+(N^S&(E^N))+j[8]+1770035416&4294967295,_=S+(O<<7&4294967295|O>>>25),O=N+(E^_&(S^E))+j[9]+2336552879&4294967295,N=_+(O<<12&4294967295|O>>>20),O=E+(S^N&(_^S))+j[10]+4294925233&4294967295,E=N+(O<<17&4294967295|O>>>15),O=S+(_^E&(N^_))+j[11]+2304563134&4294967295,S=E+(O<<22&4294967295|O>>>10),O=_+(N^S&(E^N))+j[12]+1804603682&4294967295,_=S+(O<<7&4294967295|O>>>25),O=N+(E^_&(S^E))+j[13]+4254626195&4294967295,N=_+(O<<12&4294967295|O>>>20),O=E+(S^N&(_^S))+j[14]+2792965006&4294967295,E=N+(O<<17&4294967295|O>>>15),O=S+(_^E&(N^_))+j[15]+1236535329&4294967295,S=E+(O<<22&4294967295|O>>>10),O=_+(E^N&(S^E))+j[1]+4129170786&4294967295,_=S+(O<<5&4294967295|O>>>27),O=N+(S^E&(_^S))+j[6]+3225465664&4294967295,N=_+(O<<9&4294967295|O>>>23),O=E+(_^S&(N^_))+j[11]+643717713&4294967295,E=N+(O<<14&4294967295|O>>>18),O=S+(N^_&(E^N))+j[0]+3921069994&4294967295,S=E+(O<<20&4294967295|O>>>12),O=_+(E^N&(S^E))+j[5]+3593408605&4294967295,_=S+(O<<5&4294967295|O>>>27),O=N+(S^E&(_^S))+j[10]+38016083&4294967295,N=_+(O<<9&4294967295|O>>>23),O=E+(_^S&(N^_))+j[15]+3634488961&4294967295,E=N+(O<<14&4294967295|O>>>18),O=S+(N^_&(E^N))+j[4]+3889429448&4294967295,S=E+(O<<20&4294967295|O>>>12),O=_+(E^N&(S^E))+j[9]+568446438&4294967295,_=S+(O<<5&4294967295|O>>>27),O=N+(S^E&(_^S))+j[14]+3275163606&4294967295,N=_+(O<<9&4294967295|O>>>23),O=E+(_^S&(N^_))+j[3]+4107603335&4294967295,E=N+(O<<14&4294967295|O>>>18),O=S+(N^_&(E^N))+j[8]+1163531501&4294967295,S=E+(O<<20&4294967295|O>>>12),O=_+(E^N&(S^E))+j[13]+2850285829&4294967295,_=S+(O<<5&4294967295|O>>>27),O=N+(S^E&(_^S))+j[2]+4243563512&4294967295,N=_+(O<<9&4294967295|O>>>23),O=E+(_^S&(N^_))+j[7]+1735328473&4294967295,E=N+(O<<14&4294967295|O>>>18),O=S+(N^_&(E^N))+j[12]+2368359562&4294967295,S=E+(O<<20&4294967295|O>>>12),O=_+(S^E^N)+j[5]+4294588738&4294967295,_=S+(O<<4&4294967295|O>>>28),O=N+(_^S^E)+j[8]+2272392833&4294967295,N=_+(O<<11&4294967295|O>>>21),O=E+(N^_^S)+j[11]+1839030562&4294967295,E=N+(O<<16&4294967295|O>>>16),O=S+(E^N^_)+j[14]+4259657740&4294967295,S=E+(O<<23&4294967295|O>>>9),O=_+(S^E^N)+j[1]+2763975236&4294967295,_=S+(O<<4&4294967295|O>>>28),O=N+(_^S^E)+j[4]+1272893353&4294967295,N=_+(O<<11&4294967295|O>>>21),O=E+(N^_^S)+j[7]+4139469664&4294967295,E=N+(O<<16&4294967295|O>>>16),O=S+(E^N^_)+j[10]+3200236656&4294967295,S=E+(O<<23&4294967295|O>>>9),O=_+(S^E^N)+j[13]+681279174&4294967295,_=S+(O<<4&4294967295|O>>>28),O=N+(_^S^E)+j[0]+3936430074&4294967295,N=_+(O<<11&4294967295|O>>>21),O=E+(N^_^S)+j[3]+3572445317&4294967295,E=N+(O<<16&4294967295|O>>>16),O=S+(E^N^_)+j[6]+76029189&4294967295,S=E+(O<<23&4294967295|O>>>9),O=_+(S^E^N)+j[9]+3654602809&4294967295,_=S+(O<<4&4294967295|O>>>28),O=N+(_^S^E)+j[12]+3873151461&4294967295,N=_+(O<<11&4294967295|O>>>21),O=E+(N^_^S)+j[15]+530742520&4294967295,E=N+(O<<16&4294967295|O>>>16),O=S+(E^N^_)+j[2]+3299628645&4294967295,S=E+(O<<23&4294967295|O>>>9),O=_+(E^(S|~N))+j[0]+4096336452&4294967295,_=S+(O<<6&4294967295|O>>>26),O=N+(S^(_|~E))+j[7]+1126891415&4294967295,N=_+(O<<10&4294967295|O>>>22),O=E+(_^(N|~S))+j[14]+2878612391&4294967295,E=N+(O<<15&4294967295|O>>>17),O=S+(N^(E|~_))+j[5]+4237533241&4294967295,S=E+(O<<21&4294967295|O>>>11),O=_+(E^(S|~N))+j[12]+1700485571&4294967295,_=S+(O<<6&4294967295|O>>>26),O=N+(S^(_|~E))+j[3]+2399980690&4294967295,N=_+(O<<10&4294967295|O>>>22),O=E+(_^(N|~S))+j[10]+4293915773&4294967295,E=N+(O<<15&4294967295|O>>>17),O=S+(N^(E|~_))+j[1]+2240044497&4294967295,S=E+(O<<21&4294967295|O>>>11),O=_+(E^(S|~N))+j[8]+1873313359&4294967295,_=S+(O<<6&4294967295|O>>>26),O=N+(S^(_|~E))+j[15]+4264355552&4294967295,N=_+(O<<10&4294967295|O>>>22),O=E+(_^(N|~S))+j[6]+2734768916&4294967295,E=N+(O<<15&4294967295|O>>>17),O=S+(N^(E|~_))+j[13]+1309151649&4294967295,S=E+(O<<21&4294967295|O>>>11),O=_+(E^(S|~N))+j[4]+4149444226&4294967295,_=S+(O<<6&4294967295|O>>>26),O=N+(S^(_|~E))+j[11]+3174756917&4294967295,N=_+(O<<10&4294967295|O>>>22),O=E+(_^(N|~S))+j[2]+718787259&4294967295,E=N+(O<<15&4294967295|O>>>17),O=S+(N^(E|~_))+j[9]+3951481745&4294967295,T.g[0]=T.g[0]+_&4294967295,T.g[1]=T.g[1]+(E+(O<<21&4294967295|O>>>11))&4294967295,T.g[2]=T.g[2]+E&4294967295,T.g[3]=T.g[3]+N&4294967295}n.prototype.u=function(T,_){_===void 0&&(_=T.length);for(var S=_-this.blockSize,j=this.B,E=this.h,N=0;N<_;){if(E==0)for(;N<=S;)a(this,T,N),N+=this.blockSize;if(typeof T=="string"){for(;N<_;)if(j[E++]=T.charCodeAt(N++),E==this.blockSize){a(this,j),E=0;break}}else for(;N<_;)if(j[E++]=T[N++],E==this.blockSize){a(this,j),E=0;break}}this.h=E,this.o+=_},n.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var _=1;_<T.length-8;++_)T[_]=0;var S=8*this.o;for(_=T.length-8;_<T.length;++_)T[_]=S&255,S/=256;for(this.u(T),T=Array(16),_=S=0;4>_;++_)for(var j=0;32>j;j+=8)T[S++]=this.g[_]>>>j&255;return T};function i(T,_){var S=o;return Object.prototype.hasOwnProperty.call(S,T)?S[T]:S[T]=_(T)}function s(T,_){this.h=_;for(var S=[],j=!0,E=T.length-1;0<=E;E--){var N=T[E]|0;j&&N==_||(S[E]=N,j=!1)}this.g=S}var o={};function l(T){return-128<=T&&128>T?i(T,function(_){return new s([_|0],0>_?-1:0)}):new s([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return f;if(0>T)return v(c(-T));for(var _=[],S=1,j=0;T>=S;j++)_[j]=T/S|0,S*=4294967296;return new s(_,0)}function u(T,_){if(T.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(T.charAt(0)=="-")return v(u(T.substring(1),_));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=c(Math.pow(_,8)),j=f,E=0;E<T.length;E+=8){var N=Math.min(8,T.length-E),O=parseInt(T.substring(E,E+N),_);8>N?(N=c(Math.pow(_,N)),j=j.j(N).add(c(O))):(j=j.j(S),j=j.add(c(O)))}return j}var f=l(0),h=l(1),p=l(16777216);e=s.prototype,e.m=function(){if(m(this))return-v(this).m();for(var T=0,_=1,S=0;S<this.g.length;S++){var j=this.i(S);T+=(0<=j?j:4294967296+j)*_,_*=4294967296}return T},e.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(g(this))return"0";if(m(this))return"-"+v(this).toString(T);for(var _=c(Math.pow(T,6)),S=this,j="";;){var E=D(S,_).g;S=y(S,E.j(_));var N=((0<S.g.length?S.g[0]:S.h)>>>0).toString(T);if(S=E,g(S))return N+j;for(;6>N.length;)N="0"+N;j=N+j}},e.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function g(T){if(T.h!=0)return!1;for(var _=0;_<T.g.length;_++)if(T.g[_]!=0)return!1;return!0}function m(T){return T.h==-1}e.l=function(T){return T=y(this,T),m(T)?-1:g(T)?0:1};function v(T){for(var _=T.g.length,S=[],j=0;j<_;j++)S[j]=~T.g[j];return new s(S,~T.h).add(h)}e.abs=function(){return m(this)?v(this):this},e.add=function(T){for(var _=Math.max(this.g.length,T.g.length),S=[],j=0,E=0;E<=_;E++){var N=j+(this.i(E)&65535)+(T.i(E)&65535),O=(N>>>16)+(this.i(E)>>>16)+(T.i(E)>>>16);j=O>>>16,N&=65535,O&=65535,S[E]=O<<16|N}return new s(S,S[S.length-1]&-2147483648?-1:0)};function y(T,_){return T.add(v(_))}e.j=function(T){if(g(this)||g(T))return f;if(m(this))return m(T)?v(this).j(v(T)):v(v(this).j(T));if(m(T))return v(this.j(v(T)));if(0>this.l(p)&&0>T.l(p))return c(this.m()*T.m());for(var _=this.g.length+T.g.length,S=[],j=0;j<2*_;j++)S[j]=0;for(j=0;j<this.g.length;j++)for(var E=0;E<T.g.length;E++){var N=this.i(j)>>>16,O=this.i(j)&65535,U=T.i(E)>>>16,Y=T.i(E)&65535;S[2*j+2*E]+=O*Y,b(S,2*j+2*E),S[2*j+2*E+1]+=N*Y,b(S,2*j+2*E+1),S[2*j+2*E+1]+=O*U,b(S,2*j+2*E+1),S[2*j+2*E+2]+=N*U,b(S,2*j+2*E+2)}for(j=0;j<_;j++)S[j]=S[2*j+1]<<16|S[2*j];for(j=_;j<2*_;j++)S[j]=0;return new s(S,0)};function b(T,_){for(;(T[_]&65535)!=T[_];)T[_+1]+=T[_]>>>16,T[_]&=65535,_++}function w(T,_){this.g=T,this.h=_}function D(T,_){if(g(_))throw Error("division by zero");if(g(T))return new w(f,f);if(m(T))return _=D(v(T),_),new w(v(_.g),v(_.h));if(m(_))return _=D(T,v(_)),new w(v(_.g),_.h);if(30<T.g.length){if(m(T)||m(_))throw Error("slowDivide_ only works with positive integers.");for(var S=h,j=_;0>=j.l(T);)S=P(S),j=P(j);var E=I(S,1),N=I(j,1);for(j=I(j,2),S=I(S,2);!g(j);){var O=N.add(j);0>=O.l(T)&&(E=E.add(S),N=O),j=I(j,1),S=I(S,1)}return _=y(T,E.j(_)),new w(E,_)}for(E=f;0<=T.l(_);){for(S=Math.max(1,Math.floor(T.m()/_.m())),j=Math.ceil(Math.log(S)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),N=c(S),O=N.j(_);m(O)||0<O.l(T);)S-=j,N=c(S),O=N.j(_);g(N)&&(N=h),E=E.add(N),T=y(T,O)}return new w(E,T)}e.A=function(T){return D(this,T).h},e.and=function(T){for(var _=Math.max(this.g.length,T.g.length),S=[],j=0;j<_;j++)S[j]=this.i(j)&T.i(j);return new s(S,this.h&T.h)},e.or=function(T){for(var _=Math.max(this.g.length,T.g.length),S=[],j=0;j<_;j++)S[j]=this.i(j)|T.i(j);return new s(S,this.h|T.h)},e.xor=function(T){for(var _=Math.max(this.g.length,T.g.length),S=[],j=0;j<_;j++)S[j]=this.i(j)^T.i(j);return new s(S,this.h^T.h)};function P(T){for(var _=T.g.length+1,S=[],j=0;j<_;j++)S[j]=T.i(j)<<1|T.i(j-1)>>>31;return new s(S,T.h)}function I(T,_){var S=_>>5;_%=32;for(var j=T.g.length-S,E=[],N=0;N<j;N++)E[N]=0<_?T.i(N+S)>>>_|T.i(N+S+1)<<32-_:T.i(N+S);return new s(E,T.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,x9=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,xf=s}).apply(typeof DO<"u"?DO:typeof self<"u"?self:typeof window<"u"?window:{});var tx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var b9,sg,w9,Zx,F4,_9,S9,A9;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(A,F,X){return A==Array.prototype||A==Object.prototype||(A[F]=X.value),A};function r(A){A=[typeof globalThis=="object"&&globalThis,A,typeof window=="object"&&window,typeof self=="object"&&self,typeof tx=="object"&&tx];for(var F=0;F<A.length;++F){var X=A[F];if(X&&X.Math==Math)return X}throw Error("Cannot find global object")}var n=r(this);function a(A,F){if(F)e:{var X=n;A=A.split(".");for(var fe=0;fe<A.length-1;fe++){var Ue=A[fe];if(!(Ue in X))break e;X=X[Ue]}A=A[A.length-1],fe=X[A],F=F(fe),F!=fe&&F!=null&&t(X,A,{configurable:!0,writable:!0,value:F})}}function i(A,F){A instanceof String&&(A+="");var X=0,fe=!1,Ue={next:function(){if(!fe&&X<A.length){var et=X++;return{value:F(et,A[et]),done:!1}}return fe=!0,{done:!0,value:void 0}}};return Ue[Symbol.iterator]=function(){return Ue},Ue}a("Array.prototype.values",function(A){return A||function(){return i(this,function(F,X){return X})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function l(A){var F=typeof A;return F=F!="object"?F:A?Array.isArray(A)?"array":F:"null",F=="array"||F=="object"&&typeof A.length=="number"}function c(A){var F=typeof A;return F=="object"&&A!=null||F=="function"}function u(A,F,X){return A.call.apply(A.bind,arguments)}function f(A,F,X){if(!A)throw Error();if(2<arguments.length){var fe=Array.prototype.slice.call(arguments,2);return function(){var Ue=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ue,fe),A.apply(F,Ue)}}return function(){return A.apply(F,arguments)}}function h(A,F,X){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,h.apply(null,arguments)}function p(A,F){var X=Array.prototype.slice.call(arguments,1);return function(){var fe=X.slice();return fe.push.apply(fe,arguments),A.apply(this,fe)}}function g(A,F){function X(){}X.prototype=F.prototype,A.aa=F.prototype,A.prototype=new X,A.prototype.constructor=A,A.Qb=function(fe,Ue,et){for(var Et=Array(arguments.length-2),Cr=2;Cr<arguments.length;Cr++)Et[Cr-2]=arguments[Cr];return F.prototype[Ue].apply(fe,Et)}}function m(A){const F=A.length;if(0<F){const X=Array(F);for(let fe=0;fe<F;fe++)X[fe]=A[fe];return X}return[]}function v(A,F){for(let X=1;X<arguments.length;X++){const fe=arguments[X];if(l(fe)){const Ue=A.length||0,et=fe.length||0;A.length=Ue+et;for(let Et=0;Et<et;Et++)A[Ue+Et]=fe[Et]}else A.push(fe)}}class y{constructor(F,X){this.i=F,this.j=X,this.h=0,this.g=null}get(){let F;return 0<this.h?(this.h--,F=this.g,this.g=F.next,F.next=null):F=this.i(),F}}function b(A){return/^[\s\xa0]*$/.test(A)}function w(){var A=o.navigator;return A&&(A=A.userAgent)?A:""}function D(A){return D[" "](A),A}D[" "]=function(){};var P=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function I(A,F,X){for(const fe in A)F.call(X,A[fe],fe,A)}function T(A,F){for(const X in A)F.call(void 0,A[X],X,A)}function _(A){const F={};for(const X in A)F[X]=A[X];return F}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(A,F){let X,fe;for(let Ue=1;Ue<arguments.length;Ue++){fe=arguments[Ue];for(X in fe)A[X]=fe[X];for(let et=0;et<S.length;et++)X=S[et],Object.prototype.hasOwnProperty.call(fe,X)&&(A[X]=fe[X])}}function E(A){var F=1;A=A.split(":");const X=[];for(;0<F&&A.length;)X.push(A.shift()),F--;return A.length&&X.push(A.join(":")),X}function N(A){o.setTimeout(()=>{throw A},0)}function O(){var A=V;let F=null;return A.g&&(F=A.g,A.g=A.g.next,A.g||(A.h=null),F.next=null),F}class U{constructor(){this.h=this.g=null}add(F,X){const fe=Y.get();fe.set(F,X),this.h?this.h.next=fe:this.g=fe,this.h=fe}}var Y=new y(()=>new K,A=>A.reset());class K{constructor(){this.next=this.g=this.h=null}set(F,X){this.h=F,this.g=X,this.next=null}reset(){this.next=this.g=this.h=null}}let J,z=!1,V=new U,ee=()=>{const A=o.Promise.resolve(void 0);J=()=>{A.then(Z)}};var Z=()=>{for(var A;A=O();){try{A.h.call(A.g)}catch(X){N(X)}var F=Y;F.j(A),100>F.h&&(F.h++,A.next=F.g,F.g=A)}z=!1};function k(){this.s=this.s,this.C=this.C}k.prototype.s=!1,k.prototype.ma=function(){this.s||(this.s=!0,this.N())},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(A,F){this.type=A,this.g=this.target=F,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var q=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var A=!1,F=Object.defineProperty({},"passive",{get:function(){A=!0}});try{const X=()=>{};o.addEventListener("test",X,F),o.removeEventListener("test",X,F)}catch{}return A}();function G(A,F){if(R.call(this,A?A.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,A){var X=this.type=A.type,fe=A.changedTouches&&A.changedTouches.length?A.changedTouches[0]:null;if(this.target=A.target||A.srcElement,this.g=F,F=A.relatedTarget){if(P){e:{try{D(F.nodeName);var Ue=!0;break e}catch{}Ue=!1}Ue||(F=null)}}else X=="mouseover"?F=A.fromElement:X=="mouseout"&&(F=A.toElement);this.relatedTarget=F,fe?(this.clientX=fe.clientX!==void 0?fe.clientX:fe.pageX,this.clientY=fe.clientY!==void 0?fe.clientY:fe.pageY,this.screenX=fe.screenX||0,this.screenY=fe.screenY||0):(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0),this.button=A.button,this.key=A.key||"",this.ctrlKey=A.ctrlKey,this.altKey=A.altKey,this.shiftKey=A.shiftKey,this.metaKey=A.metaKey,this.pointerId=A.pointerId||0,this.pointerType=typeof A.pointerType=="string"?A.pointerType:Q[A.pointerType]||"",this.state=A.state,this.i=A,A.defaultPrevented&&G.aa.h.call(this)}}g(G,R);var Q={2:"touch",3:"pen",4:"mouse"};G.prototype.h=function(){G.aa.h.call(this);var A=this.i;A.preventDefault?A.preventDefault():A.returnValue=!1};var ie="closure_listenable_"+(1e6*Math.random()|0),ue=0;function ne(A,F,X,fe,Ue){this.listener=A,this.proxy=null,this.src=F,this.type=X,this.capture=!!fe,this.ha=Ue,this.key=++ue,this.da=this.fa=!1}function pe(A){A.da=!0,A.listener=null,A.proxy=null,A.src=null,A.ha=null}function ye(A){this.src=A,this.g={},this.h=0}ye.prototype.add=function(A,F,X,fe,Ue){var et=A.toString();A=this.g[et],A||(A=this.g[et]=[],this.h++);var Et=Pe(A,F,fe,Ue);return-1<Et?(F=A[Et],X||(F.fa=!1)):(F=new ne(F,this.src,et,!!fe,Ue),F.fa=X,A.push(F)),F};function W(A,F){var X=F.type;if(X in A.g){var fe=A.g[X],Ue=Array.prototype.indexOf.call(fe,F,void 0),et;(et=0<=Ue)&&Array.prototype.splice.call(fe,Ue,1),et&&(pe(F),A.g[X].length==0&&(delete A.g[X],A.h--))}}function Pe(A,F,X,fe){for(var Ue=0;Ue<A.length;++Ue){var et=A[Ue];if(!et.da&&et.listener==F&&et.capture==!!X&&et.ha==fe)return Ue}return-1}var Ce="closure_lm_"+(1e6*Math.random()|0),Ee={};function oe(A,F,X,fe,Ue){if(Array.isArray(F)){for(var et=0;et<F.length;et++)oe(A,F[et],X,fe,Ue);return null}return X=ut(X),A&&A[ie]?A.K(F,X,c(fe)?!!fe.capture:!!fe,Ue):ve(A,F,X,!1,fe,Ue)}function ve(A,F,X,fe,Ue,et){if(!F)throw Error("Invalid event type");var Et=c(Ue)?!!Ue.capture:!!Ue,Cr=je(A);if(Cr||(A[Ce]=Cr=new ye(A)),X=Cr.add(F,X,fe,Et,et),X.proxy)return X;if(fe=De(),X.proxy=fe,fe.src=A,fe.listener=X,A.addEventListener)q||(Ue=Et),Ue===void 0&&(Ue=!1),A.addEventListener(F.toString(),fe,Ue);else if(A.attachEvent)A.attachEvent(Ne(F.toString()),fe);else if(A.addListener&&A.removeListener)A.addListener(fe);else throw Error("addEventListener and attachEvent are unavailable.");return X}function De(){function A(X){return F.call(A.src,A.listener,X)}const F=qe;return A}function Te(A,F,X,fe,Ue){if(Array.isArray(F))for(var et=0;et<F.length;et++)Te(A,F[et],X,fe,Ue);else fe=c(fe)?!!fe.capture:!!fe,X=ut(X),A&&A[ie]?(A=A.i,F=String(F).toString(),F in A.g&&(et=A.g[F],X=Pe(et,X,fe,Ue),-1<X&&(pe(et[X]),Array.prototype.splice.call(et,X,1),et.length==0&&(delete A.g[F],A.h--)))):A&&(A=je(A))&&(F=A.g[F.toString()],A=-1,F&&(A=Pe(F,X,fe,Ue)),(X=-1<A?F[A]:null)&&Re(X))}function Re(A){if(typeof A!="number"&&A&&!A.da){var F=A.src;if(F&&F[ie])W(F.i,A);else{var X=A.type,fe=A.proxy;F.removeEventListener?F.removeEventListener(X,fe,A.capture):F.detachEvent?F.detachEvent(Ne(X),fe):F.addListener&&F.removeListener&&F.removeListener(fe),(X=je(F))?(W(X,A),X.h==0&&(X.src=null,F[Ce]=null)):pe(A)}}}function Ne(A){return A in Ee?Ee[A]:Ee[A]="on"+A}function qe(A,F){if(A.da)A=!0;else{F=new G(F,this);var X=A.listener,fe=A.ha||A.src;A.fa&&Re(A),A=X.call(fe,F)}return A}function je(A){return A=A[Ce],A instanceof ye?A:null}var Je="__closure_events_fn_"+(1e9*Math.random()>>>0);function ut(A){return typeof A=="function"?A:(A[Je]||(A[Je]=function(F){return A.handleEvent(F)}),A[Je])}function ot(){k.call(this),this.i=new ye(this),this.M=this,this.F=null}g(ot,k),ot.prototype[ie]=!0,ot.prototype.removeEventListener=function(A,F,X,fe){Te(this,A,F,X,fe)};function wt(A,F){var X,fe=A.F;if(fe)for(X=[];fe;fe=fe.F)X.push(fe);if(A=A.M,fe=F.type||F,typeof F=="string")F=new R(F,A);else if(F instanceof R)F.target=F.target||A;else{var Ue=F;F=new R(fe,A),j(F,Ue)}if(Ue=!0,X)for(var et=X.length-1;0<=et;et--){var Et=F.g=X[et];Ue=kt(Et,fe,!0,F)&&Ue}if(Et=F.g=A,Ue=kt(Et,fe,!0,F)&&Ue,Ue=kt(Et,fe,!1,F)&&Ue,X)for(et=0;et<X.length;et++)Et=F.g=X[et],Ue=kt(Et,fe,!1,F)&&Ue}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var A=this.i,F;for(F in A.g){for(var X=A.g[F],fe=0;fe<X.length;fe++)pe(X[fe]);delete A.g[F],A.h--}}this.F=null},ot.prototype.K=function(A,F,X,fe){return this.i.add(String(A),F,!1,X,fe)},ot.prototype.L=function(A,F,X,fe){return this.i.add(String(A),F,!0,X,fe)};function kt(A,F,X,fe){if(F=A.i.g[String(F)],!F)return!0;F=F.concat();for(var Ue=!0,et=0;et<F.length;++et){var Et=F[et];if(Et&&!Et.da&&Et.capture==X){var Cr=Et.listener,Wr=Et.ha||Et.src;Et.fa&&W(A.i,Et),Ue=Cr.call(Wr,fe)!==!1&&Ue}}return Ue&&!fe.defaultPrevented}function Pt(A,F,X){if(typeof A=="function")X&&(A=h(A,X));else if(A&&typeof A.handleEvent=="function")A=h(A.handleEvent,A);else throw Error("Invalid listener argument");return 2147483647<Number(F)?-1:o.setTimeout(A,F||0)}function _t(A){A.g=Pt(()=>{A.g=null,A.i&&(A.i=!1,_t(A))},A.l);const F=A.h;A.h=null,A.m.apply(null,F)}class nt extends k{constructor(F,X){super(),this.m=F,this.l=X,this.h=null,this.i=!1,this.g=null}j(F){this.h=arguments,this.g?this.i=!0:_t(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nr(A){k.call(this),this.h=A,this.g={}}g(nr,k);var Wt=[];function zr(A){I(A.g,function(F,X){this.g.hasOwnProperty(X)&&Re(F)},A),A.g={}}nr.prototype.N=function(){nr.aa.N.call(this),zr(this)},nr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var tr=o.JSON.stringify,Fr=o.JSON.parse,Ie=class{stringify(A){return o.JSON.stringify(A,void 0)}parse(A){return o.JSON.parse(A,void 0)}};function Fe(){}Fe.prototype.h=null;function tt(A){return A.h||(A.h=A.i())}function ht(){}var Lt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Gt(){R.call(this,"d")}g(Gt,R);function Rt(){R.call(this,"c")}g(Rt,R);var jt={},ar=null;function mr(){return ar=ar||new ot}jt.La="serverreachability";function gr(A){R.call(this,jt.La,A)}g(gr,R);function Ae(A){const F=mr();wt(F,new gr(F))}jt.STAT_EVENT="statevent";function ct(A,F){R.call(this,jt.STAT_EVENT,A),this.stat=F}g(ct,R);function We(A){const F=mr();wt(F,new ct(F,A))}jt.Ma="timingevent";function Kt(A,F){R.call(this,jt.Ma,A),this.size=F}g(Kt,R);function ir(A,F){if(typeof A!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){A()},F)}function Rr(){this.g=!0}Rr.prototype.xa=function(){this.g=!1};function Nr(A,F,X,fe,Ue,et){A.info(function(){if(A.g)if(et)for(var Et="",Cr=et.split("&"),Wr=0;Wr<Cr.length;Wr++){var Pr=Cr[Wr].split("=");if(1<Pr.length){var mn=Pr[0];Pr=Pr[1];var Pn=mn.split("_");Et=2<=Pn.length&&Pn[1]=="type"?Et+(mn+"="+Pr+"&"):Et+(mn+"=redacted&")}}else Et=null;else Et=et;return"XMLHTTP REQ ("+fe+") [attempt "+Ue+"]: "+F+`
`+X+`
`+Et})}function Vr(A,F,X,fe,Ue,et,Et){A.info(function(){return"XMLHTTP RESP ("+fe+") [ attempt "+Ue+"]: "+F+`
`+X+`
`+et+" "+Et})}function ae(A,F,X,fe){A.info(function(){return"XMLHTTP TEXT ("+F+"): "+me(A,X)+(fe?" "+fe:"")})}function we(A,F){A.info(function(){return"TIMEOUT: "+F})}Rr.prototype.info=function(){};function me(A,F){if(!A.g)return F;if(!F)return null;try{var X=JSON.parse(F);if(X){for(A=0;A<X.length;A++)if(Array.isArray(X[A])){var fe=X[A];if(!(2>fe.length)){var Ue=fe[1];if(Array.isArray(Ue)&&!(1>Ue.length)){var et=Ue[0];if(et!="noop"&&et!="stop"&&et!="close")for(var Et=1;Et<Ue.length;Et++)Ue[Et]=""}}}}return tr(X)}catch{return F}}var ge={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},be={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_e;function He(){}g(He,Fe),He.prototype.g=function(){return new XMLHttpRequest},He.prototype.i=function(){return{}},_e=new He;function rt(A,F,X,fe){this.j=A,this.i=F,this.l=X,this.R=fe||1,this.U=new nr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ge}function Ge(){this.i=null,this.g="",this.h=!1}var Ye={},Ze={};function St(A,F,X){A.L=1,A.v=oc(_a(F)),A.m=X,A.P=!0,Dt(A,null)}function Dt(A,F){A.F=Date.now(),Mt(A),A.A=_a(A.v);var X=A.A,fe=A.R;Array.isArray(fe)||(fe=[String(fe)]),_r(X.i,"t",fe),A.C=0,X=A.j.J,A.h=new Ge,A.g=te(A.j,X?F:null,!A.m),0<A.O&&(A.M=new nt(h(A.Y,A,A.g),A.O)),F=A.U,X=A.g,fe=A.ca;var Ue="readystatechange";Array.isArray(Ue)||(Ue&&(Wt[0]=Ue.toString()),Ue=Wt);for(var et=0;et<Ue.length;et++){var Et=oe(X,Ue[et],fe||F.handleEvent,!1,F.h||F);if(!Et)break;F.g[Et.key]=Et}F=A.H?_(A.H):{},A.m?(A.u||(A.u="POST"),F["Content-Type"]="application/x-www-form-urlencoded",A.g.ea(A.A,A.u,A.m,F)):(A.u="GET",A.g.ea(A.A,A.u,null,F)),Ae(),Nr(A.i,A.u,A.A,A.l,A.R,A.m)}rt.prototype.ca=function(A){A=A.target;const F=this.M;F&&Da(A)==3?F.j():this.Y(A)},rt.prototype.Y=function(A){try{if(A==this.g)e:{const Pn=Da(this.g);var F=this.g.Ba();const Wo=this.g.Z();if(!(3>Pn)&&(Pn!=3||this.g&&(this.h.h||this.g.oa()||Oh(this.g)))){this.J||Pn!=4||F==7||(F==8||0>=Wo?Ae(3):Ae(2)),ce(this);var X=this.g.Z();this.X=X;t:if($t(this)){var fe=Oh(this.g);A="";var Ue=fe.length,et=Da(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){dt(this),ke(this);var Et="";break t}this.h.i=new o.TextDecoder}for(F=0;F<Ue;F++)this.h.h=!0,A+=this.h.i.decode(fe[F],{stream:!(et&&F==Ue-1)});fe.length=0,this.h.g+=A,this.C=0,Et=this.h.g}else Et=this.g.oa();if(this.o=X==200,Vr(this.i,this.u,this.A,this.l,this.R,Pn,X),this.o){if(this.T&&!this.K){t:{if(this.g){var Cr,Wr=this.g;if((Cr=Wr.g?Wr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(Cr)){var Pr=Cr;break t}}Pr=null}if(X=Pr)ae(this.i,this.l,X,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Bt(this,X);else{this.o=!1,this.s=3,We(12),dt(this),ke(this);break e}}if(this.P){X=!0;let si;for(;!this.J&&this.C<Et.length;)if(si=Ct(this,Et),si==Ze){Pn==4&&(this.s=4,We(14),X=!1),ae(this.i,this.l,null,"[Incomplete Response]");break}else if(si==Ye){this.s=4,We(15),ae(this.i,this.l,Et,"[Invalid Chunk]"),X=!1;break}else ae(this.i,this.l,si,null),Bt(this,si);if($t(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pn!=4||Et.length!=0||this.h.h||(this.s=1,We(16),X=!1),this.o=this.o&&X,!X)ae(this.i,this.l,Et,"[Invalid Chunked Response]"),dt(this),ke(this);else if(0<Et.length&&!this.W){this.W=!0;var mn=this.j;mn.g==this&&mn.ba&&!mn.M&&(mn.j.info("Great, no buffering proxy detected. Bytes received: "+Et.length),_u(mn),mn.M=!0,We(11))}}else ae(this.i,this.l,Et,null),Bt(this,Et);Pn==4&&dt(this),this.o&&!this.J&&(Pn==4?Cl(this.j,this):(this.o=!1,Mt(this)))}else Nl(this.g),X==400&&0<Et.indexOf("Unknown SID")?(this.s=3,We(12)):(this.s=0,We(13)),dt(this),ke(this)}}}catch{}finally{}};function $t(A){return A.g?A.u=="GET"&&A.L!=2&&A.j.Ca:!1}function Ct(A,F){var X=A.C,fe=F.indexOf(`
`,X);return fe==-1?Ze:(X=Number(F.substring(X,fe)),isNaN(X)?Ye:(fe+=1,fe+X>F.length?Ze:(F=F.slice(fe,fe+X),A.C=fe+X,F)))}rt.prototype.cancel=function(){this.J=!0,dt(this)};function Mt(A){A.S=Date.now()+A.I,dr(A,A.I)}function dr(A,F){if(A.B!=null)throw Error("WatchDog timer not null");A.B=ir(h(A.ba,A),F)}function ce(A){A.B&&(o.clearTimeout(A.B),A.B=null)}rt.prototype.ba=function(){this.B=null;const A=Date.now();0<=A-this.S?(we(this.i,this.A),this.L!=2&&(Ae(),We(17)),dt(this),this.s=2,ke(this)):dr(this,this.S-A)};function ke(A){A.j.G==0||A.J||Cl(A.j,A)}function dt(A){ce(A);var F=A.M;F&&typeof F.ma=="function"&&F.ma(),A.M=null,zr(A.U),A.g&&(F=A.g,A.g=null,F.abort(),F.ma())}function Bt(A,F){try{var X=A.j;if(X.G!=0&&(X.g==A||Ht(X.h,A))){if(!A.K&&Ht(X.h,A)&&X.G==3){try{var fe=X.Da.g.parse(F)}catch{fe=null}if(Array.isArray(fe)&&fe.length==3){var Ue=fe;if(Ue[0]==0){e:if(!X.u){if(X.g)if(X.g.F+3e3<A.F)qo(X),yu(X);else break e;dc(X),We(18)}}else X.za=Ue[1],0<X.za-X.T&&37500>Ue[2]&&X.F&&X.v==0&&!X.C&&(X.C=ir(h(X.Za,X),6e3));if(1>=Vt(X.h)&&X.ca){try{X.ca()}catch{}X.ca=void 0}}else Ti(X,11)}else if((A.K||X.g==A)&&qo(X),!b(F))for(Ue=X.Da.g.parse(F),F=0;F<Ue.length;F++){let Pr=Ue[F];if(X.T=Pr[0],Pr=Pr[1],X.G==2)if(Pr[0]=="c"){X.K=Pr[1],X.ia=Pr[2];const mn=Pr[3];mn!=null&&(X.la=mn,X.j.info("VER="+X.la));const Pn=Pr[4];Pn!=null&&(X.Aa=Pn,X.j.info("SVER="+X.Aa));const Wo=Pr[5];Wo!=null&&typeof Wo=="number"&&0<Wo&&(fe=1.5*Wo,X.L=fe,X.j.info("backChannelRequestTimeoutMs_="+fe)),fe=X;const si=A.g;if(si){const Pl=si.g?si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pl){var et=fe.h;et.g||Pl.indexOf("spdy")==-1&&Pl.indexOf("quic")==-1&&Pl.indexOf("h2")==-1||(et.j=et.l,et.g=new Set,et.h&&(Jt(et,et.h),et.h=null))}if(fe.D){const Ol=si.g?si.g.getResponseHeader("X-HTTP-Session-Id"):null;Ol&&(fe.ya=Ol,xn(fe.I,fe.D,Ol))}}X.G=3,X.l&&X.l.ua(),X.ba&&(X.R=Date.now()-A.F,X.j.info("Handshake RTT: "+X.R+"ms")),fe=X;var Et=A;if(fe.qa=L(fe,fe.J?fe.ia:null,fe.W),Et.K){Mr(fe.h,Et);var Cr=Et,Wr=fe.L;Wr&&(Cr.I=Wr),Cr.B&&(ce(Cr),Mt(Cr)),fe.g=Et}else wu(fe);0<X.i.length&&xu(X)}else Pr[0]!="stop"&&Pr[0]!="close"||Ti(X,7);else X.G==3&&(Pr[0]=="stop"||Pr[0]=="close"?Pr[0]=="stop"?Ti(X,7):zo(X):Pr[0]!="noop"&&X.l&&X.l.ta(Pr),X.v=0)}}Ae(4)}catch{}}var xt=class{constructor(A,F){this.g=A,this.map=F}};function ft(A){this.l=A||10,o.PerformanceNavigationTiming?(A=o.performance.getEntriesByType("navigation"),A=0<A.length&&(A[0].nextHopProtocol=="hq"||A[0].nextHopProtocol=="h2")):A=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=A?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ot(A){return A.h?!0:A.g?A.g.size>=A.j:!1}function Vt(A){return A.h?1:A.g?A.g.size:0}function Ht(A,F){return A.h?A.h==F:A.g?A.g.has(F):!1}function Jt(A,F){A.g?A.g.add(F):A.h=F}function Mr(A,F){A.h&&A.h==F?A.h=null:A.g&&A.g.has(F)&&A.g.delete(F)}ft.prototype.cancel=function(){if(this.i=vn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const A of this.g.values())A.cancel();this.g.clear()}};function vn(A){if(A.h!=null)return A.i.concat(A.h.D);if(A.g!=null&&A.g.size!==0){let F=A.i;for(const X of A.g.values())F=F.concat(X.D);return F}return m(A.i)}function Wa(A){if(A.V&&typeof A.V=="function")return A.V();if(typeof Map<"u"&&A instanceof Map||typeof Set<"u"&&A instanceof Set)return Array.from(A.values());if(typeof A=="string")return A.split("");if(l(A)){for(var F=[],X=A.length,fe=0;fe<X;fe++)F.push(A[fe]);return F}F=[],X=0;for(fe in A)F[X++]=A[fe];return F}function Qi(A){if(A.na&&typeof A.na=="function")return A.na();if(!A.V||typeof A.V!="function"){if(typeof Map<"u"&&A instanceof Map)return Array.from(A.keys());if(!(typeof Set<"u"&&A instanceof Set)){if(l(A)||typeof A=="string"){var F=[];A=A.length;for(var X=0;X<A;X++)F.push(X);return F}F=[],X=0;for(const fe in A)F[X++]=fe;return F}}}function hn(A,F){if(A.forEach&&typeof A.forEach=="function")A.forEach(F,void 0);else if(l(A)||typeof A=="string")Array.prototype.forEach.call(A,F,void 0);else for(var X=Qi(A),fe=Wa(A),Ue=fe.length,et=0;et<Ue;et++)F.call(void 0,fe[et],X&&X[et],A)}var yn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ai(A,F){if(A){A=A.split("&");for(var X=0;X<A.length;X++){var fe=A[X].indexOf("="),Ue=null;if(0<=fe){var et=A[X].substring(0,fe);Ue=A[X].substring(fe+1)}else et=A[X];F(et,Ue?decodeURIComponent(Ue.replace(/\+/g," ")):"")}}}function $r(A){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,A instanceof $r){this.h=A.h,Fo(this,A.j),this.o=A.o,this.g=A.g,Al(this,A.s),this.l=A.l;var F=A.i,X=new Tl;X.i=F.i,F.g&&(X.g=new Map(F.g),X.h=F.h),Jf(this,X),this.m=A.m}else A&&(F=String(A).match(yn))?(this.h=!1,Fo(this,F[1]||"",!0),this.o=lc(F[2]||""),this.g=lc(F[3]||"",!0),Al(this,F[4]),this.l=lc(F[5]||"",!0),Jf(this,F[6]||"",!0),this.m=lc(F[7]||"")):(this.h=!1,this.i=new Tl(null,this.h))}$r.prototype.toString=function(){var A=[],F=this.j;F&&A.push($o(F,Nh,!0),":");var X=this.g;return(X||F=="file")&&(A.push("//"),(F=this.o)&&A.push($o(F,Nh,!0),"@"),A.push(encodeURIComponent(String(X)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),X=this.s,X!=null&&A.push(":",String(X))),(X=this.l)&&(this.g&&X.charAt(0)!="/"&&A.push("/"),A.push($o(X,X.charAt(0)=="/"?Bo:mm,!0))),(X=this.i.toString())&&A.push("?",X),(X=this.m)&&A.push("#",$o(X,du)),A.join("")};function _a(A){return new $r(A)}function Fo(A,F,X){A.j=X?lc(F,!0):F,A.j&&(A.j=A.j.replace(/:$/,""))}function Al(A,F){if(F){if(F=Number(F),isNaN(F)||0>F)throw Error("Bad port number "+F);A.s=F}else A.s=null}function Jf(A,F,X){F instanceof Tl?(A.i=F,gm(A.i,A.h)):(X||(F=$o(F,fu)),A.i=new Tl(F,A.h))}function xn(A,F,X){A.i.set(F,X)}function oc(A){return xn(A,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),A}function lc(A,F){return A?F?decodeURI(A.replace(/%25/g,"%2525")):decodeURIComponent(A):""}function $o(A,F,X){return typeof A=="string"?(A=encodeURI(A).replace(F,pm),X&&(A=A.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A):null}function pm(A){return A=A.charCodeAt(0),"%"+(A>>4&15).toString(16)+(A&15).toString(16)}var Nh=/[#\/\?@]/g,mm=/[#\?:]/g,Bo=/[#\?]/g,fu=/[#\?@]/g,du=/#/g;function Tl(A,F){this.h=this.g=null,this.i=A||null,this.j=!!F}function Bn(A){A.g||(A.g=new Map,A.h=0,A.i&&Ai(A.i,function(F,X){A.add(decodeURIComponent(F.replace(/\+/g," ")),X)}))}e=Tl.prototype,e.add=function(A,F){Bn(this),this.i=null,A=El(this,A);var X=this.g.get(A);return X||this.g.set(A,X=[]),X.push(F),this.h+=1,this};function kh(A,F){Bn(A),F=El(A,F),A.g.has(F)&&(A.i=null,A.h-=A.g.get(F).length,A.g.delete(F))}function Zf(A,F){return Bn(A),F=El(A,F),A.g.has(F)}e.forEach=function(A,F){Bn(this),this.g.forEach(function(X,fe){X.forEach(function(Ue){A.call(F,Ue,fe,this)},this)},this)},e.na=function(){Bn(this);const A=Array.from(this.g.values()),F=Array.from(this.g.keys()),X=[];for(let fe=0;fe<F.length;fe++){const Ue=A[fe];for(let et=0;et<Ue.length;et++)X.push(F[fe])}return X},e.V=function(A){Bn(this);let F=[];if(typeof A=="string")Zf(this,A)&&(F=F.concat(this.g.get(El(this,A))));else{A=Array.from(this.g.values());for(let X=0;X<A.length;X++)F=F.concat(A[X])}return F},e.set=function(A,F){return Bn(this),this.i=null,A=El(this,A),Zf(this,A)&&(this.h-=this.g.get(A).length),this.g.set(A,[F]),this.h+=1,this},e.get=function(A,F){return A?(A=this.V(A),0<A.length?String(A[0]):F):F};function _r(A,F,X){kh(A,F),0<X.length&&(A.i=null,A.g.set(El(A,F),m(X)),A.h+=X.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const A=[],F=Array.from(this.g.keys());for(var X=0;X<F.length;X++){var fe=F[X];const et=encodeURIComponent(String(fe)),Et=this.V(fe);for(fe=0;fe<Et.length;fe++){var Ue=et;Et[fe]!==""&&(Ue+="="+encodeURIComponent(String(Et[fe]))),A.push(Ue)}}return this.i=A.join("&")};function El(A,F){return F=String(F),A.j&&(F=F.toLowerCase()),F}function gm(A,F){F&&!A.j&&(Bn(A),A.i=null,A.g.forEach(function(X,fe){var Ue=fe.toLowerCase();fe!=Ue&&(kh(this,fe),_r(this,Ue,X))},A)),A.j=F}function no(A,F){const X=new Rr;if(o.Image){const fe=new Image;fe.onload=p(Ls,X,"TestLoadImage: loaded",!0,F,fe),fe.onerror=p(Ls,X,"TestLoadImage: error",!1,F,fe),fe.onabort=p(Ls,X,"TestLoadImage: abort",!1,F,fe),fe.ontimeout=p(Ls,X,"TestLoadImage: timeout",!1,F,fe),o.setTimeout(function(){fe.ontimeout&&fe.ontimeout()},1e4),fe.src=A}else F(!1)}function Ch(A,F){const X=new Rr,fe=new AbortController,Ue=setTimeout(()=>{fe.abort(),Ls(X,"TestPingServer: timeout",!1,F)},1e4);fetch(A,{signal:fe.signal}).then(et=>{clearTimeout(Ue),et.ok?Ls(X,"TestPingServer: ok",!0,F):Ls(X,"TestPingServer: server error",!1,F)}).catch(()=>{clearTimeout(Ue),Ls(X,"TestPingServer: error",!1,F)})}function Ls(A,F,X,fe,Ue){try{Ue&&(Ue.onload=null,Ue.onerror=null,Ue.onabort=null,Ue.ontimeout=null),fe(X)}catch{}}function hu(){this.g=new Ie}function ed(A,F,X){const fe=X||"";try{hn(A,function(Ue,et){let Et=Ue;c(Ue)&&(Et=tr(Ue)),F.push(fe+et+"="+encodeURIComponent(Et))})}catch(Ue){throw F.push(fe+"type="+encodeURIComponent("_badmap")),Ue}}function pu(A){this.l=A.Ub||null,this.j=A.eb||!1}g(pu,Fe),pu.prototype.g=function(){return new mu(this.l,this.j)},pu.prototype.i=function(A){return function(){return A}}({});function mu(A,F){ot.call(this),this.D=A,this.o=F,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(mu,ot),e=mu.prototype,e.open=function(A,F){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=A,this.A=F,this.readyState=1,Ms(this)},e.send=function(A){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const F={headers:this.u,method:this.B,credentials:this.m,cache:void 0};A&&(F.body=A),(this.D||o).fetch(new Request(this.A,F)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Uo(this)),this.readyState=0},e.Sa=function(A){if(this.g&&(this.l=A,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=A.headers,this.readyState=2,Ms(this)),this.g&&(this.readyState=3,Ms(this),this.g)))if(this.responseType==="arraybuffer")A.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in A){if(this.j=A.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ph(this)}else A.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ph(A){A.j.read().then(A.Pa.bind(A)).catch(A.ga.bind(A))}e.Pa=function(A){if(this.g){if(this.o&&A.value)this.response.push(A.value);else if(!this.o){var F=A.value?A.value:new Uint8Array(0);(F=this.v.decode(F,{stream:!A.done}))&&(this.response=this.responseText+=F)}A.done?Uo(this):Ms(this),this.readyState==3&&Ph(this)}},e.Ra=function(A){this.g&&(this.response=this.responseText=A,Uo(this))},e.Qa=function(A){this.g&&(this.response=A,Uo(this))},e.ga=function(){this.g&&Uo(this)};function Uo(A){A.readyState=4,A.l=null,A.j=null,A.v=null,Ms(A)}e.setRequestHeader=function(A,F){this.u.append(A,F)},e.getResponseHeader=function(A){return this.h&&this.h.get(A.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const A=[],F=this.h.entries();for(var X=F.next();!X.done;)X=X.value,A.push(X[0]+": "+X[1]),X=F.next();return A.join(`\r
`)};function Ms(A){A.onreadystatechange&&A.onreadystatechange.call(A)}Object.defineProperty(mu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(A){this.m=A?"include":"same-origin"}});function Vo(A){let F="";return I(A,function(X,fe){F+=fe,F+=":",F+=X,F+=`\r
`}),F}function td(A,F,X){e:{for(fe in X){var fe=!1;break e}fe=!0}fe||(X=Vo(X),typeof A=="string"?X!=null&&encodeURIComponent(String(X)):xn(A,F,X))}function pn(A){ot.call(this),this.headers=new Map,this.o=A||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(pn,ot);var rd=/^https?$/i,gu=["POST","PUT"];e=pn.prototype,e.Ha=function(A){this.J=A},e.ea=function(A,F,X,fe){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+A);F=F?F.toUpperCase():"GET",this.D=A,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_e.g(),this.v=this.o?tt(this.o):tt(_e),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(F,String(A),!0),this.B=!1}catch(et){nd(this,et);return}if(A=X||"",X=new Map(this.headers),fe)if(Object.getPrototypeOf(fe)===Object.prototype)for(var Ue in fe)X.set(Ue,fe[Ue]);else if(typeof fe.keys=="function"&&typeof fe.get=="function")for(const et of fe.keys())X.set(et,fe.get(et));else throw Error("Unknown input type for opt_headers: "+String(fe));fe=Array.from(X.keys()).find(et=>et.toLowerCase()=="content-type"),Ue=o.FormData&&A instanceof o.FormData,!(0<=Array.prototype.indexOf.call(gu,F,void 0))||fe||Ue||X.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[et,Et]of X)this.g.setRequestHeader(et,Et);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Rs(this),this.u=!0,this.g.send(A),this.u=!1}catch(et){nd(this,et)}};function nd(A,F){A.h=!1,A.g&&(A.j=!0,A.g.abort(),A.j=!1),A.l=F,A.m=5,ad(A),cc(A)}function ad(A){A.A||(A.A=!0,wt(A,"complete"),wt(A,"error"))}e.abort=function(A){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=A||7,wt(this,"complete"),wt(this,"abort"),cc(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cc(this,!0)),pn.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?id(this):this.bb())},e.bb=function(){id(this)};function id(A){if(A.h&&typeof s<"u"&&(!A.v[1]||Da(A)!=4||A.Z()!=2)){if(A.u&&Da(A)==4)Pt(A.Ea,0,A);else if(wt(A,"readystatechange"),Da(A)==4){A.h=!1;try{const Et=A.Z();e:switch(Et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var F=!0;break e;default:F=!1}var X;if(!(X=F)){var fe;if(fe=Et===0){var Ue=String(A.D).match(yn)[1]||null;!Ue&&o.self&&o.self.location&&(Ue=o.self.location.protocol.slice(0,-1)),fe=!rd.test(Ue?Ue.toLowerCase():"")}X=fe}if(X)wt(A,"complete"),wt(A,"success");else{A.m=6;try{var et=2<Da(A)?A.g.statusText:""}catch{et=""}A.l=et+" ["+A.Z()+"]",ad(A)}}finally{cc(A)}}}}function cc(A,F){if(A.g){Rs(A);const X=A.g,fe=A.v[0]?()=>{}:null;A.g=null,A.v=null,F||wt(A,"ready");try{X.onreadystatechange=fe}catch{}}}function Rs(A){A.I&&(o.clearTimeout(A.I),A.I=null)}e.isActive=function(){return!!this.g};function Da(A){return A.g?A.g.readyState:0}e.Z=function(){try{return 2<Da(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(A){if(this.g){var F=this.g.responseText;return A&&F.indexOf(A)==0&&(F=F.substring(A.length)),Fr(F)}};function Oh(A){try{if(!A.g)return null;if("response"in A.g)return A.g.response;switch(A.H){case"":case"text":return A.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in A.g)return A.g.mozResponseArrayBuffer}return null}catch{return null}}function Nl(A){const F={};A=(A.g&&2<=Da(A)&&A.g.getAllResponseHeaders()||"").split(`\r
`);for(let fe=0;fe<A.length;fe++){if(b(A[fe]))continue;var X=E(A[fe]);const Ue=X[0];if(X=X[1],typeof X!="string")continue;X=X.trim();const et=F[Ue]||[];F[Ue]=et,et.push(X)}T(F,function(fe){return fe.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ii(A,F,X){return X&&X.internalChannelParams&&X.internalChannelParams[A]||F}function vu(A){this.Aa=0,this.i=[],this.j=new Rr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ii("failFast",!1,A),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ii("baseRetryDelayMs",5e3,A),this.cb=ii("retryDelaySeedMs",1e4,A),this.Wa=ii("forwardChannelMaxRetries",2,A),this.wa=ii("forwardChannelRequestTimeoutMs",2e4,A),this.pa=A&&A.xmlHttpFactory||void 0,this.Xa=A&&A.Tb||void 0,this.Ca=A&&A.useFetchStreams||!1,this.L=void 0,this.J=A&&A.supportsCrossDomainXhr||!1,this.K="",this.h=new ft(A&&A.concurrentRequestLimit),this.Da=new hu,this.P=A&&A.fastHandshake||!1,this.O=A&&A.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=A&&A.Rb||!1,A&&A.xa&&this.j.xa(),A&&A.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&A&&A.detectBufferingProxy||!1,this.ja=void 0,A&&A.longPollingTimeout&&0<A.longPollingTimeout&&(this.ja=A.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=vu.prototype,e.la=8,e.G=1,e.connect=function(A,F,X,fe){We(0),this.W=A,this.H=F||{},X&&fe!==void 0&&(this.H.OSID=X,this.H.OAID=fe),this.F=this.X,this.I=L(this,null,this.W),xu(this)};function zo(A){if(uc(A),A.G==3){var F=A.U++,X=_a(A.I);if(xn(X,"SID",A.K),xn(X,"RID",F),xn(X,"TYPE","terminate"),kl(A,X),F=new rt(A,A.j,F),F.L=2,F.v=oc(_a(X)),X=!1,o.navigator&&o.navigator.sendBeacon)try{X=o.navigator.sendBeacon(F.v.toString(),"")}catch{}!X&&o.Image&&(new Image().src=F.v,X=!0),X||(F.g=te(F.j,null),F.g.ea(F.v)),F.F=Date.now(),Mt(F)}Au(A)}function yu(A){A.g&&(_u(A),A.g.cancel(),A.g=null)}function uc(A){yu(A),A.u&&(o.clearTimeout(A.u),A.u=null),qo(A),A.h.cancel(),A.s&&(typeof A.s=="number"&&o.clearTimeout(A.s),A.s=null)}function xu(A){if(!Ot(A.h)&&!A.s){A.s=!0;var F=A.Ga;J||ee(),z||(J(),z=!0),V.add(F,A),A.B=0}}function sd(A,F){return Vt(A.h)>=A.h.j-(A.s?1:0)?!1:A.s?(A.i=F.D.concat(A.i),!0):A.G==1||A.G==2||A.B>=(A.Va?0:A.Wa)?!1:(A.s=ir(h(A.Ga,A,F),Su(A,A.B)),A.B++,!0)}e.Ga=function(A){if(this.s)if(this.s=null,this.G==1){if(!A){this.U=Math.floor(1e5*Math.random()),A=this.U++;const Ue=new rt(this,this.j,A);let et=this.o;if(this.S&&(et?(et=_(et),j(et,this.S)):et=this.S),this.m!==null||this.O||(Ue.H=et,et=null),this.P)e:{for(var F=0,X=0;X<this.i.length;X++){t:{var fe=this.i[X];if("__data__"in fe.map&&(fe=fe.map.__data__,typeof fe=="string")){fe=fe.length;break t}fe=void 0}if(fe===void 0)break;if(F+=fe,4096<F){F=X;break e}if(F===4096||X===this.i.length-1){F=X+1;break e}}F=1e3}else F=1e3;F=fc(this,Ue,F),X=_a(this.I),xn(X,"RID",A),xn(X,"CVER",22),this.D&&xn(X,"X-HTTP-Session-Id",this.D),kl(this,X),et&&(this.O?F="headers="+encodeURIComponent(String(Vo(et)))+"&"+F:this.m&&td(X,this.m,et)),Jt(this.h,Ue),this.Ua&&xn(X,"TYPE","init"),this.P?(xn(X,"$req",F),xn(X,"SID","null"),Ue.T=!0,St(Ue,X,null)):St(Ue,X,F),this.G=2}}else this.G==3&&(A?bu(this,A):this.i.length==0||Ot(this.h)||bu(this))};function bu(A,F){var X;F?X=F.l:X=A.U++;const fe=_a(A.I);xn(fe,"SID",A.K),xn(fe,"RID",X),xn(fe,"AID",A.T),kl(A,fe),A.m&&A.o&&td(fe,A.m,A.o),X=new rt(A,A.j,X,A.B+1),A.m===null&&(X.H=A.o),F&&(A.i=F.D.concat(A.i)),F=fc(A,X,1e3),X.I=Math.round(.5*A.wa)+Math.round(.5*A.wa*Math.random()),Jt(A.h,X),St(X,fe,F)}function kl(A,F){A.H&&I(A.H,function(X,fe){xn(F,fe,X)}),A.l&&hn({},function(X,fe){xn(F,fe,X)})}function fc(A,F,X){X=Math.min(A.i.length,X);var fe=A.l?h(A.l.Na,A.l,A):null;e:{var Ue=A.i;let et=-1;for(;;){const Et=["count="+X];et==-1?0<X?(et=Ue[0].g,Et.push("ofs="+et)):et=0:Et.push("ofs="+et);let Cr=!0;for(let Wr=0;Wr<X;Wr++){let Pr=Ue[Wr].g;const mn=Ue[Wr].map;if(Pr-=et,0>Pr)et=Math.max(0,Ue[Wr].g-100),Cr=!1;else try{ed(mn,Et,"req"+Pr+"_")}catch{fe&&fe(mn)}}if(Cr){fe=Et.join("&");break e}}}return A=A.i.splice(0,X),F.D=A,fe}function wu(A){if(!A.g&&!A.u){A.Y=1;var F=A.Fa;J||ee(),z||(J(),z=!0),V.add(F,A),A.v=0}}function dc(A){return A.g||A.u||3<=A.v?!1:(A.Y++,A.u=ir(h(A.Fa,A),Su(A,A.v)),A.v++,!0)}e.Fa=function(){if(this.u=null,Ih(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var A=2*this.R;this.j.info("BP detection timer enabled: "+A),this.A=ir(h(this.ab,this),A)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,We(10),yu(this),Ih(this))};function _u(A){A.A!=null&&(o.clearTimeout(A.A),A.A=null)}function Ih(A){A.g=new rt(A,A.j,"rpc",A.Y),A.m===null&&(A.g.H=A.o),A.g.O=0;var F=_a(A.qa);xn(F,"RID","rpc"),xn(F,"SID",A.K),xn(F,"AID",A.T),xn(F,"CI",A.F?"0":"1"),!A.F&&A.ja&&xn(F,"TO",A.ja),xn(F,"TYPE","xmlhttp"),kl(A,F),A.m&&A.o&&td(F,A.m,A.o),A.L&&(A.g.I=A.L);var X=A.g;A=A.ia,X.L=1,X.v=oc(_a(F)),X.m=null,X.P=!0,Dt(X,A)}e.Za=function(){this.C!=null&&(this.C=null,yu(this),dc(this),We(19))};function qo(A){A.C!=null&&(o.clearTimeout(A.C),A.C=null)}function Cl(A,F){var X=null;if(A.g==F){qo(A),_u(A),A.g=null;var fe=2}else if(Ht(A.h,F))X=F.D,Mr(A.h,F),fe=1;else return;if(A.G!=0){if(F.o)if(fe==1){X=F.m?F.m.length:0,F=Date.now()-F.F;var Ue=A.B;fe=mr(),wt(fe,new Kt(fe,X)),xu(A)}else wu(A);else if(Ue=F.s,Ue==3||Ue==0&&0<F.X||!(fe==1&&sd(A,F)||fe==2&&dc(A)))switch(X&&0<X.length&&(F=A.h,F.i=F.i.concat(X)),Ue){case 1:Ti(A,5);break;case 4:Ti(A,10);break;case 3:Ti(A,6);break;default:Ti(A,2)}}}function Su(A,F){let X=A.Ta+Math.floor(Math.random()*A.cb);return A.isActive()||(X*=2),X*F}function Ti(A,F){if(A.j.info("Error code "+F),F==2){var X=h(A.fb,A),fe=A.Xa;const Ue=!fe;fe=new $r(fe||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Fo(fe,"https"),oc(fe),Ue?no(fe.toString(),X):Ch(fe.toString(),X)}else We(2);A.G=0,A.l&&A.l.sa(F),Au(A),uc(A)}e.fb=function(A){A?(this.j.info("Successfully pinged google.com"),We(2)):(this.j.info("Failed to ping google.com"),We(1))};function Au(A){if(A.G=0,A.ka=[],A.l){const F=vn(A.h);(F.length!=0||A.i.length!=0)&&(v(A.ka,F),v(A.ka,A.i),A.h.i.length=0,m(A.i),A.i.length=0),A.l.ra()}}function L(A,F,X){var fe=X instanceof $r?_a(X):new $r(X);if(fe.g!="")F&&(fe.g=F+"."+fe.g),Al(fe,fe.s);else{var Ue=o.location;fe=Ue.protocol,F=F?F+"."+Ue.hostname:Ue.hostname,Ue=+Ue.port;var et=new $r(null);fe&&Fo(et,fe),F&&(et.g=F),Ue&&Al(et,Ue),X&&(et.l=X),fe=et}return X=A.D,F=A.ya,X&&F&&xn(fe,X,F),xn(fe,"VER",A.la),kl(A,fe),fe}function te(A,F,X){if(F&&!A.J)throw Error("Can't create secondary domain capable XhrIo object.");return F=A.Ca&&!A.pa?new pn(new pu({eb:X})):new pn(A.pa),F.Ha(A.J),F}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Se(){}e=Se.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Oe(){}Oe.prototype.g=function(A,F){return new Ve(A,F)};function Ve(A,F){ot.call(this),this.g=new vu(F),this.l=A,this.h=F&&F.messageUrlParams||null,A=F&&F.messageHeaders||null,F&&F.clientProtocolHeaderRequired&&(A?A["X-Client-Protocol"]="webchannel":A={"X-Client-Protocol":"webchannel"}),this.g.o=A,A=F&&F.initMessageHeaders||null,F&&F.messageContentType&&(A?A["X-WebChannel-Content-Type"]=F.messageContentType:A={"X-WebChannel-Content-Type":F.messageContentType}),F&&F.va&&(A?A["X-WebChannel-Client-Profile"]=F.va:A={"X-WebChannel-Client-Profile":F.va}),this.g.S=A,(A=F&&F.Sb)&&!b(A)&&(this.g.m=A),this.v=F&&F.supportsCrossDomainXhr||!1,this.u=F&&F.sendRawJson||!1,(F=F&&F.httpSessionIdParam)&&!b(F)&&(this.g.D=F,A=this.h,A!==null&&F in A&&(A=this.h,F in A&&delete A[F])),this.j=new zt(this)}g(Ve,ot),Ve.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ve.prototype.close=function(){zo(this.g)},Ve.prototype.o=function(A){var F=this.g;if(typeof A=="string"){var X={};X.__data__=A,A=X}else this.u&&(X={},X.__data__=tr(A),A=X);F.i.push(new xt(F.Ya++,A)),F.G==3&&xu(F)},Ve.prototype.N=function(){this.g.l=null,delete this.j,zo(this.g),delete this.g,Ve.aa.N.call(this)};function it(A){Gt.call(this),A.__headers__&&(this.headers=A.__headers__,this.statusCode=A.__status__,delete A.__headers__,delete A.__status__);var F=A.__sm__;if(F){e:{for(const X in F){A=X;break e}A=void 0}(this.i=A)&&(A=this.i,F=F!==null&&A in F?F[A]:void 0),this.data=F}else this.data=A}g(it,Gt);function Tt(){Rt.call(this),this.status=1}g(Tt,Rt);function zt(A){this.g=A}g(zt,Se),zt.prototype.ua=function(){wt(this.g,"a")},zt.prototype.ta=function(A){wt(this.g,new it(A))},zt.prototype.sa=function(A){wt(this.g,new Tt)},zt.prototype.ra=function(){wt(this.g,"b")},Oe.prototype.createWebChannel=Oe.prototype.g,Ve.prototype.send=Ve.prototype.o,Ve.prototype.open=Ve.prototype.m,Ve.prototype.close=Ve.prototype.close,A9=function(){return new Oe},S9=function(){return mr()},_9=jt,F4={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ge.NO_ERROR=0,ge.TIMEOUT=8,ge.HTTP_ERROR=6,Zx=ge,be.COMPLETE="complete",w9=be,ht.EventType=Lt,Lt.OPEN="a",Lt.CLOSE="b",Lt.ERROR="c",Lt.MESSAGE="d",ot.prototype.listen=ot.prototype.K,sg=ht,pn.prototype.listenOnce=pn.prototype.L,pn.prototype.getLastError=pn.prototype.Ka,pn.prototype.getLastErrorCode=pn.prototype.Ba,pn.prototype.getStatus=pn.prototype.Z,pn.prototype.getResponseJson=pn.prototype.Oa,pn.prototype.getResponseText=pn.prototype.oa,pn.prototype.send=pn.prototype.ea,pn.prototype.setWithCredentials=pn.prototype.Ha,b9=pn}).apply(typeof tx<"u"?tx:typeof self<"u"?self:typeof window<"u"?window:{});const LO="@firebase/firestore",MO="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Mi.UNAUTHENTICATED=new Mi(null),Mi.GOOGLE_CREDENTIALS=new Mi("google-credentials-uid"),Mi.FIRST_PARTY=new Mi("first-party-uid"),Mi.MOCK_USER=new Mi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qp="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd=new h9("@firebase/firestore");function t0(){return Zd.logLevel}function Qt(e,...t){if(Zd.logLevel<=Jr.DEBUG){const r=t.map(bN);Zd.debug(`Firestore (${qp}): ${e}`,...r)}}function Hc(e,...t){if(Zd.logLevel<=Jr.ERROR){const r=t.map(bN);Zd.error(`Firestore (${qp}): ${e}`,...r)}}function np(e,...t){if(Zd.logLevel<=Jr.WARN){const r=t.map(bN);Zd.warn(`Firestore (${qp}): ${e}`,...r)}}function bN(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(e,t,r){let n="Unexpected state";typeof t=="string"?n=t:r=t,T9(e,n,r)}function T9(e,t,r){let n=`FIRESTORE (${qp}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Hc(n),new Error(n)}function dn(e,t,r,n){let a="Unexpected state";typeof r=="string"?a=r:n=r,e||T9(t,a,n)}function Er(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Yt extends zp{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class mte{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(Mi.UNAUTHENTICATED))}shutdown(){}}class gte{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class vte{constructor(t){this.t=t,this.currentUser=Mi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){dn(this.o===void 0,42304);let n=this.i;const a=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let i=new ql;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ql,t.enqueueRetryable(()=>a(this.currentUser))};const s=()=>{const l=i;t.enqueueRetryable(async()=>{await l.promise,await a(this.currentUser)})},o=l=>{Qt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(Qt("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ql)}},0),s()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==t?(Qt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(dn(typeof n.accessToken=="string",31837,{l:n}),new E9(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return dn(t===null||typeof t=="string",2055,{h:t}),new Mi(t)}}class yte{constructor(t,r,n){this.P=t,this.T=r,this.I=n,this.type="FirstParty",this.user=Mi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class xte{constructor(t,r,n){this.P=t,this.T=r,this.I=n}getToken(){return Promise.resolve(new yte(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable(()=>r(Mi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class RO{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bte{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jee(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){dn(this.o===void 0,3512);const n=i=>{i.error!=null&&Qt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const s=i.token!==this.m;return this.m=i.token,Qt("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable(()=>n(i))};const a=i=>{Qt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>a(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?a(i):Qt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new RO(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(dn(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new RO(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wte(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let n=0;n<e;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N9(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const a=wte(40);for(let i=0;i<a.length;++i)n.length<20&&a[i]<r&&(n+=t.charAt(a[i]%62))}return n}}function Ur(e,t){return e<t?-1:e>t?1:0}function $4(e,t){let r=0;for(;r<e.length&&r<t.length;){const n=e.codePointAt(r),a=t.codePointAt(r);if(n!==a){if(n<128&&a<128)return Ur(n,a);{const i=N9(),s=_te(i.encode(FO(e,r)),i.encode(FO(t,r)));return s!==0?s:Ur(n,a)}}r+=n>65535?2:1}return Ur(e.length,t.length)}function FO(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function _te(e,t){for(let r=0;r<e.length&&r<t.length;++r)if(e[r]!==t[r])return Ur(e[r],t[r]);return Ur(e.length,t.length)}function ap(e,t,r){return e.length===t.length&&e.every((n,a)=>r(n,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O=-62135596800,BO=1e6;class lr{static now(){return lr.fromMillis(Date.now())}static fromDate(t){return lr.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),n=Math.floor((t-1e3*r)*BO);return new lr(r,n)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new Yt(gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Yt(gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<$O)throw new Yt(gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Yt(gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/BO}_compareTo(t){return this.seconds===t.seconds?Ur(this.nanoseconds,t.nanoseconds):Ur(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-$O;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{static fromTimestamp(t){return new kr(t)}static min(){return new kr(new lr(0,0))}static max(){return new kr(new lr(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO="__name__";class Fl{constructor(t,r,n){r===void 0?r=0:r>t.length&&br(637,{offset:r,range:t.length}),n===void 0?n=t.length-r:n>t.length-r&&br(1746,{length:n,range:t.length-r}),this.segments=t,this.offset=r,this.len=n}get length(){return this.len}isEqual(t){return Fl.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof Fl?t.forEach(n=>{r.push(n)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,n=this.limit();r<n;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const n=Math.min(t.length,r.length);for(let a=0;a<n;a++){const i=Fl.compareSegments(t.get(a),r.get(a));if(i!==0)return i}return Ur(t.length,r.length)}static compareSegments(t,r){const n=Fl.isNumericId(t),a=Fl.isNumericId(r);return n&&!a?-1:!n&&a?1:n&&a?Fl.extractNumericId(t).compare(Fl.extractNumericId(r)):$4(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return xf.fromString(t.substring(4,t.length-2))}}class qn extends Fl{construct(t,r,n){return new qn(t,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const n of t){if(n.indexOf("//")>=0)throw new Yt(gt.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(a=>a.length>0))}return new qn(r)}static emptyPath(){return new qn([])}}const Ste=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gi extends Fl{construct(t,r,n){return new gi(t,r,n)}static isValidIdentifier(t){return Ste.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gi.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===UO}static keyField(){return new gi([UO])}static fromServerFormat(t){const r=[];let n="",a=0;const i=()=>{if(n.length===0)throw new Yt(gt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;a<t.length;){const o=t[a];if(o==="\\"){if(a+1===t.length)throw new Yt(gt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[a+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Yt(gt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=l,a+=2}else o==="`"?(s=!s,a++):o!=="."||s?(n+=o,a++):(i(),a++)}if(i(),s)throw new Yt(gt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new gi(r)}static emptyPath(){return new gi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(t){this.path=t}static fromPath(t){return new fr(qn.fromString(t))}static fromName(t){return new fr(qn.fromString(t).popFirst(5))}static empty(){return new fr(qn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&qn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return qn.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new fr(new qn(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av=-1;function Ate(e,t){const r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,a=kr.fromTimestamp(n===1e9?new lr(r+1,0):new lr(r,n));return new Cf(a,fr.empty(),t)}function Tte(e){return new Cf(e.readTime,e.key,Av)}class Cf{constructor(t,r,n){this.readTime=t,this.documentKey=r,this.largestBatchId=n}static min(){return new Cf(kr.min(),fr.empty(),Av)}static max(){return new Cf(kr.max(),fr.empty(),Av)}}function Ete(e,t){let r=e.readTime.compareTo(t.readTime);return r!==0?r:(r=fr.comparator(e.documentKey,t.documentKey),r!==0?r:Ur(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nte="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kte{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wp(e){if(e.code!==gt.FAILED_PRECONDITION||e.message!==Nte)throw e;Qt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&br(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new bt((n,a)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(n,a)},this.catchCallback=i=>{this.wrapFailure(r,i).next(n,a)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof bt?r:bt.resolve(r)}catch(r){return bt.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):bt.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):bt.reject(r)}static resolve(t){return new bt((r,n)=>{r(t)})}static reject(t){return new bt((r,n)=>{n(t)})}static waitFor(t){return new bt((r,n)=>{let a=0,i=0,s=!1;t.forEach(o=>{++a,o.next(()=>{++i,s&&i===a&&r()},l=>n(l))}),s=!0,i===a&&r()})}static or(t){let r=bt.resolve(!1);for(const n of t)r=r.next(a=>a?bt.resolve(a):n());return r}static forEach(t,r){const n=[];return t.forEach((a,i)=>{n.push(r.call(this,a,i))}),this.waitFor(n)}static mapArray(t,r){return new bt((n,a)=>{const i=t.length,s=new Array(i);let o=0;for(let l=0;l<i;l++){const c=l;r(t[c]).next(u=>{s[c]=u,++o,o===i&&n(s)},u=>a(u))}})}static doWhile(t,r){return new bt((n,a)=>{const i=()=>{t()===!0?r().next(()=>{i()},a):n()};i()})}}function Cte(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Hp(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=n=>this.ue(n),this.ce=n=>r.writeSequenceNumber(n))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Kw.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=-1;function Yw(e){return e==null}function K2(e){return e===0&&1/e==-1/0}function Pte(e){return typeof e=="number"&&Number.isInteger(e)&&!K2(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C9="";function Ote(e){let t="";for(let r=0;r<e.length;r++)t.length>0&&(t=VO(t)),t=Ite(e.get(r),t);return VO(t)}function Ite(e,t){let r=t;const n=e.length;for(let a=0;a<n;a++){const i=e.charAt(a);switch(i){case"\0":r+="";break;case C9:r+="";break;default:r+=i}}return r}function VO(e){return e+C9+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function zf(e,t){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function jte(e,t){const r=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.push(t(e[n],n,e));return r}function P9(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(t,r){this.comparator=t,this.root=r||hi.EMPTY}insert(t,r){return new na(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,hi.BLACK,null,null))}remove(t){return new na(this.comparator,this.root.remove(t,this.comparator).copy(null,null,hi.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(t,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(t){let r=0,n=this.root;for(;!n.isEmpty();){const a=this.comparator(t,n.key);if(a===0)return r+n.left.size;a<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,n)=>(t(r,n),!1))}toString(){const t=[];return this.inorderTraversal((r,n)=>(t.push(`${r}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new rx(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new rx(this.root,t,this.comparator,!1)}getReverseIterator(){return new rx(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new rx(this.root,t,this.comparator,!0)}}class rx{constructor(t,r,n,a){this.isReverse=a,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=r?n(t.key,r):1,r&&a&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class hi{constructor(t,r,n,a,i){this.key=t,this.value=r,this.color=n??hi.RED,this.left=a??hi.EMPTY,this.right=i??hi.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,n,a,i){return new hi(t??this.key,r??this.value,n??this.color,a??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,n){let a=this;const i=n(t,a.key);return a=i<0?a.copy(null,null,null,a.left.insert(t,r,n),null):i===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(t,r,n)),a.fixUp()}removeMin(){if(this.left.isEmpty())return hi.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let n,a=this;if(r(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(t,a.key)===0){if(a.right.isEmpty())return hi.EMPTY;n=a.right.min(),a=a.copy(n.key,n.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,hi.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,hi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw br(43730,{key:this.key,value:this.value});if(this.right.isRed())throw br(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw br(27949);return t+(this.isRed()?0:1)}}hi.EMPTY=null,hi.RED=!0,hi.BLACK=!1;hi.EMPTY=new class{constructor(){this.size=0}get key(){throw br(57766)}get value(){throw br(16141)}get color(){throw br(16727)}get left(){throw br(29726)}get right(){throw br(36894)}copy(t,r,n,a,i){return this}insert(t,r,n){return new hi(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(t){this.comparator=t,this.data=new na(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,n)=>(t(r),!1))}forEachInRange(t,r){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const a=n.getNext();if(this.comparator(a.key,t[1])>=0)return;r(a.key)}}forEachWhile(t,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new qO(this.data.getIterator())}getIteratorFrom(t){return new qO(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(n=>{r=r.add(n)}),r}isEqual(t){if(!(t instanceof Va)||this.size!==t.size)return!1;const r=this.data.getIterator(),n=t.data.getIterator();for(;r.hasNext();){const a=r.getNext().key,i=n.getNext().key;if(this.comparator(a,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new Va(this.comparator);return r.data=t,r}}class qO{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(t){this.fields=t,t.sort(gi.comparator)}static empty(){return new Ys([])}unionWith(t){let r=new Va(gi.comparator);for(const n of this.fields)r=r.add(n);for(const n of t)r=r.add(n);return new Ys(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return ap(this.fields,t.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(a){try{return atob(a)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new O9("Invalid base64 string: "+i):i}}(t);return new Si(r)}static fromUint8Array(t){const r=function(a){let i="";for(let s=0;s<a.length;++s)i+=String.fromCharCode(a[s]);return i}(t);return new Si(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ur(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Si.EMPTY_BYTE_STRING=new Si("");const Dte=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pf(e){if(dn(!!e,39018),typeof e=="string"){let t=0;const r=Dte.exec(e);if(dn(!!r,46558,{timestamp:e}),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),t=Number(a)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:ma(e.seconds),nanos:ma(e.nanos)}}function ma(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Of(e){return typeof e=="string"?Si.fromBase64String(e):Si.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I9="server_timestamp",j9="__type__",D9="__previous_value__",L9="__local_write_time__";function _N(e){var t,r;return((r=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[j9])===null||r===void 0?void 0:r.stringValue)===I9}function Xw(e){const t=e.mapValue.fields[D9];return _N(t)?Xw(t):t}function Tv(e){const t=Pf(e.mapValue.fields[L9].timestampValue);return new lr(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lte{constructor(t,r,n,a,i,s,o,l,c,u){this.databaseId=t,this.appId=r,this.persistenceKey=n,this.host=a,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const Y2="(default)";class Ev{constructor(t,r){this.projectId=t,this.database=r||Y2}static empty(){return new Ev("","")}get isDefaultDatabase(){return this.database===Y2}isEqual(t){return t instanceof Ev&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M9="__type__",R9="__max__",nx={mapValue:{fields:{__type__:{stringValue:R9}}}},F9="__vector__",X2="value";function If(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?_N(e)?4:Rte(e)?9007199254740991:Mte(e)?10:11:br(28295,{value:e})}function Jl(e,t){if(e===t)return!0;const r=If(e);if(r!==If(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Tv(e).isEqual(Tv(t));case 3:return function(a,i){if(typeof a.timestampValue=="string"&&typeof i.timestampValue=="string"&&a.timestampValue.length===i.timestampValue.length)return a.timestampValue===i.timestampValue;const s=Pf(a.timestampValue),o=Pf(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(a,i){return Of(a.bytesValue).isEqual(Of(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(a,i){return ma(a.geoPointValue.latitude)===ma(i.geoPointValue.latitude)&&ma(a.geoPointValue.longitude)===ma(i.geoPointValue.longitude)}(e,t);case 2:return function(a,i){if("integerValue"in a&&"integerValue"in i)return ma(a.integerValue)===ma(i.integerValue);if("doubleValue"in a&&"doubleValue"in i){const s=ma(a.doubleValue),o=ma(i.doubleValue);return s===o?K2(s)===K2(o):isNaN(s)&&isNaN(o)}return!1}(e,t);case 9:return ap(e.arrayValue.values||[],t.arrayValue.values||[],Jl);case 10:case 11:return function(a,i){const s=a.mapValue.fields||{},o=i.mapValue.fields||{};if(zO(s)!==zO(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!Jl(s[l],o[l])))return!1;return!0}(e,t);default:return br(52216,{left:e})}}function Nv(e,t){return(e.values||[]).find(r=>Jl(r,t))!==void 0}function ip(e,t){if(e===t)return 0;const r=If(e),n=If(t);if(r!==n)return Ur(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ur(e.booleanValue,t.booleanValue);case 2:return function(i,s){const o=ma(i.integerValue||i.doubleValue),l=ma(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(e,t);case 3:return WO(e.timestampValue,t.timestampValue);case 4:return WO(Tv(e),Tv(t));case 5:return $4(e.stringValue,t.stringValue);case 6:return function(i,s){const o=Of(i),l=Of(s);return o.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){const o=i.split("/"),l=s.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=Ur(o[c],l[c]);if(u!==0)return u}return Ur(o.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){const o=Ur(ma(i.latitude),ma(s.latitude));return o!==0?o:Ur(ma(i.longitude),ma(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return HO(e.arrayValue,t.arrayValue);case 10:return function(i,s){var o,l,c,u;const f=i.fields||{},h=s.fields||{},p=(o=f[X2])===null||o===void 0?void 0:o.arrayValue,g=(l=h[X2])===null||l===void 0?void 0:l.arrayValue,m=Ur(((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0,((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0);return m!==0?m:HO(p,g)}(e.mapValue,t.mapValue);case 11:return function(i,s){if(i===nx.mapValue&&s===nx.mapValue)return 0;if(i===nx.mapValue)return 1;if(s===nx.mapValue)return-1;const o=i.fields||{},l=Object.keys(o),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const h=$4(l[f],u[f]);if(h!==0)return h;const p=ip(o[l[f]],c[u[f]]);if(p!==0)return p}return Ur(l.length,u.length)}(e.mapValue,t.mapValue);default:throw br(23264,{Pe:r})}}function WO(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Ur(e,t);const r=Pf(e),n=Pf(t),a=Ur(r.seconds,n.seconds);return a!==0?a:Ur(r.nanos,n.nanos)}function HO(e,t){const r=e.values||[],n=t.values||[];for(let a=0;a<r.length&&a<n.length;++a){const i=ip(r[a],n[a]);if(i)return i}return Ur(r.length,n.length)}function sp(e){return B4(e)}function B4(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const n=Pf(r);return`time(${n.seconds},${n.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(r){return Of(r).toBase64()}(e.bytesValue):"referenceValue"in e?function(r){return fr.fromName(r).toString()}(e.referenceValue):"geoPointValue"in e?function(r){return`geo(${r.latitude},${r.longitude})`}(e.geoPointValue):"arrayValue"in e?function(r){let n="[",a=!0;for(const i of r.values||[])a?a=!1:n+=",",n+=B4(i);return n+"]"}(e.arrayValue):"mapValue"in e?function(r){const n=Object.keys(r.fields||{}).sort();let a="{",i=!0;for(const s of n)i?i=!1:a+=",",a+=`${s}:${B4(r.fields[s])}`;return a+"}"}(e.mapValue):br(61005,{value:e})}function e2(e){switch(If(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Xw(e);return t?16+e2(t):16;case 5:return 2*e.stringValue.length;case 6:return Of(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((a,i)=>a+e2(i),0)}(e.arrayValue);case 10:case 11:return function(n){let a=0;return zf(n.fields,(i,s)=>{a+=i.length+e2(s)}),a}(e.mapValue);default:throw br(13486,{value:e})}}function GO(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function U4(e){return!!e&&"integerValue"in e}function SN(e){return!!e&&"arrayValue"in e}function KO(e){return!!e&&"nullValue"in e}function YO(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function t2(e){return!!e&&"mapValue"in e}function Mte(e){var t,r;return((r=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[M9])===null||r===void 0?void 0:r.stringValue)===F9}function Ng(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return zf(e.mapValue.fields,(r,n)=>t.mapValue.fields[r]=Ng(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Ng(e.arrayValue.values[r]);return t}return Object.assign({},e)}function Rte(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===R9}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(t){this.value=t}static empty(){return new Ts({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let n=0;n<t.length-1;++n)if(r=(r.mapValue.fields||{})[t.get(n)],!t2(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ng(r)}setAll(t){let r=gi.emptyPath(),n={},a=[];t.forEach((s,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,a),n={},a=[],r=o.popLast()}s?n[o.lastSegment()]=Ng(s):a.push(o.lastSegment())});const i=this.getFieldsMap(r);this.applyChanges(i,n,a)}delete(t){const r=this.field(t.popLast());t2(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return Jl(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<t.length;++n){let a=r.mapValue.fields[t.get(n)];t2(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[t.get(n)]=a),r=a}return r.mapValue.fields}applyChanges(t,r,n){zf(r,(a,i)=>t[a]=i);for(const a of n)delete t[a]}clone(){return new Ts(Ng(this.value))}}function $9(e){const t=[];return zf(e.fields,(r,n)=>{const a=new gi([r]);if(t2(n)){const i=$9(n.mapValue).fields;if(i.length===0)t.push(a);else for(const s of i)t.push(a.child(s))}else t.push(a)}),new Ys(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(t,r,n,a,i,s,o){this.key=t,this.documentType=r,this.version=n,this.readTime=a,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(t){return new $i(t,0,kr.min(),kr.min(),kr.min(),Ts.empty(),0)}static newFoundDocument(t,r,n,a){return new $i(t,1,r,kr.min(),n,a,0)}static newNoDocument(t,r){return new $i(t,2,r,kr.min(),kr.min(),Ts.empty(),0)}static newUnknownDocument(t,r){return new $i(t,3,r,kr.min(),kr.min(),Ts.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(kr.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ts.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ts.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=kr.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof $i&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new $i(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(t,r){this.position=t,this.inclusive=r}}function XO(e,t,r){let n=0;for(let a=0;a<e.position.length;a++){const i=t[a],s=e.position[a];if(i.field.isKeyField()?n=fr.comparator(fr.fromName(s.referenceValue),r.key):n=ip(s,r.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function QO(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!Jl(e.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(t,r="asc"){this.field=t,this.dir=r}}function Fte(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{}class Oa extends B9{constructor(t,r,n){super(),this.field=t,this.op=r,this.value=n}static create(t,r,n){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,n):new Bte(t,r,n):r==="array-contains"?new zte(t,n):r==="in"?new qte(t,n):r==="not-in"?new Wte(t,n):r==="array-contains-any"?new Hte(t,n):new Oa(t,r,n)}static createKeyFieldInFilter(t,r,n){return r==="in"?new Ute(t,n):new Vte(t,n)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(ip(r,this.value)):r!==null&&If(this.value)===If(r)&&this.matchesComparison(ip(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return br(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xl extends B9{constructor(t,r){super(),this.filters=t,this.op=r,this.Te=null}static create(t,r){return new xl(t,r)}matches(t){return U9(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function U9(e){return e.op==="and"}function V9(e){return $te(e)&&U9(e)}function $te(e){for(const t of e.filters)if(t instanceof xl)return!1;return!0}function V4(e){if(e instanceof Oa)return e.field.canonicalString()+e.op.toString()+sp(e.value);if(V9(e))return e.filters.map(t=>V4(t)).join(",");{const t=e.filters.map(r=>V4(r)).join(",");return`${e.op}(${t})`}}function z9(e,t){return e instanceof Oa?function(n,a){return a instanceof Oa&&n.op===a.op&&n.field.isEqual(a.field)&&Jl(n.value,a.value)}(e,t):e instanceof xl?function(n,a){return a instanceof xl&&n.op===a.op&&n.filters.length===a.filters.length?n.filters.reduce((i,s,o)=>i&&z9(s,a.filters[o]),!0):!1}(e,t):void br(19439)}function q9(e){return e instanceof Oa?function(r){return`${r.field.canonicalString()} ${r.op} ${sp(r.value)}`}(e):e instanceof xl?function(r){return r.op.toString()+" {"+r.getFilters().map(q9).join(" ,")+"}"}(e):"Filter"}class Bte extends Oa{constructor(t,r,n){super(t,r,n),this.key=fr.fromName(n.referenceValue)}matches(t){const r=fr.comparator(t.key,this.key);return this.matchesComparison(r)}}class Ute extends Oa{constructor(t,r){super(t,"in",r),this.keys=W9("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class Vte extends Oa{constructor(t,r){super(t,"not-in",r),this.keys=W9("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function W9(e,t){var r;return(((r=t.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>fr.fromName(n.referenceValue))}class zte extends Oa{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return SN(r)&&Nv(r.arrayValue,this.value)}}class qte extends Oa{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&Nv(this.value.arrayValue,r)}}class Wte extends Oa{constructor(t,r){super(t,"not-in",r)}matches(t){if(Nv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Nv(this.value.arrayValue,r)}}class Hte extends Oa{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!SN(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Nv(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gte{constructor(t,r=null,n=[],a=[],i=null,s=null,o=null){this.path=t,this.collectionGroup=r,this.orderBy=n,this.filters=a,this.limit=i,this.startAt=s,this.endAt=o,this.Ie=null}}function JO(e,t=null,r=[],n=[],a=null,i=null,s=null){return new Gte(e,t,r,n,a,i,s)}function AN(e){const t=Er(e);if(t.Ie===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(n=>V4(n)).join(","),r+="|ob:",r+=t.orderBy.map(n=>function(i){return i.field.canonicalString()+i.dir}(n)).join(","),Yw(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(n=>sp(n)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(n=>sp(n)).join(",")),t.Ie=r}return t.Ie}function TN(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!Fte(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!z9(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!QO(e.startAt,t.startAt)&&QO(e.endAt,t.endAt)}function z4(e){return fr.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(t,r=null,n=[],a=[],i=null,s="F",o=null,l=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=a,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Kte(e,t,r,n,a,i,s,o){return new Gp(e,t,r,n,a,i,s,o)}function Qw(e){return new Gp(e)}function ZO(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function H9(e){return e.collectionGroup!==null}function kg(e){const t=Er(e);if(t.Ee===null){t.Ee=[];const r=new Set;for(const i of t.explicitOrderBy)t.Ee.push(i),r.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Va(gi.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(t).forEach(i=>{r.has(i.canonicalString())||i.isKeyField()||t.Ee.push(new kv(i,n))}),r.has(gi.keyField().canonicalString())||t.Ee.push(new kv(gi.keyField(),n))}return t.Ee}function Wl(e){const t=Er(e);return t.de||(t.de=G9(t,kg(e))),t.de}function Yte(e){const t=Er(e);return t.Ae||(t.Ae=G9(t,e.explicitOrderBy)),t.Ae}function G9(e,t){if(e.limitType==="F")return JO(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(a=>{const i=a.dir==="desc"?"asc":"desc";return new kv(a.field,i)});const r=e.endAt?new Q2(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new Q2(e.startAt.position,e.startAt.inclusive):null;return JO(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}function q4(e,t){const r=e.filters.concat([t]);return new Gp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function J2(e,t,r){return new Gp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function Jw(e,t){return TN(Wl(e),Wl(t))&&e.limitType===t.limitType}function K9(e){return`${AN(Wl(e))}|lt:${e.limitType}`}function r0(e){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(a=>q9(a)).join(", ")}]`),Yw(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(a=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(a)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(a=>sp(a)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(a=>sp(a)).join(",")),`Target(${n})`}(Wl(e))}; limitType=${e.limitType})`}function Zw(e,t){return t.isFoundDocument()&&function(n,a){const i=a.key.path;return n.collectionGroup!==null?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):fr.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,a){for(const i of kg(n))if(!i.field.isKeyField()&&a.data.field(i.field)===null)return!1;return!0}(e,t)&&function(n,a){for(const i of n.filters)if(!i.matches(a))return!1;return!0}(e,t)&&function(n,a){return!(n.startAt&&!function(s,o,l){const c=XO(s,o,l);return s.inclusive?c<=0:c<0}(n.startAt,kg(n),a)||n.endAt&&!function(s,o,l){const c=XO(s,o,l);return s.inclusive?c>=0:c>0}(n.endAt,kg(n),a))}(e,t)}function Xte(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Y9(e){return(t,r)=>{let n=!1;for(const a of kg(e)){const i=Qte(a,t,r);if(i!==0)return i;n=n||a.field.isKeyField()}return 0}}function Qte(e,t,r){const n=e.field.isKeyField()?fr.comparator(t.key,r.key):function(i,s,o){const l=s.data.field(i),c=o.data.field(i);return l!==null&&c!==null?ip(l,c):br(42886)}(e.field,t,r);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return br(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n!==void 0){for(const[a,i]of n)if(this.equalsFn(a,t))return i}}has(t){return this.get(t)!==void 0}set(t,r){const n=this.mapKeyFn(t),a=this.inner[n];if(a===void 0)return this.inner[n]=[[t,r]],void this.innerSize++;for(let i=0;i<a.length;i++)if(this.equalsFn(a[i][0],t))return void(a[i]=[t,r]);a.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n===void 0)return!1;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],t))return n.length===1?delete this.inner[r]:n.splice(a,1),this.innerSize--,!0;return!1}forEach(t){zf(this.inner,(r,n)=>{for(const[a,i]of n)t(a,i)})}isEmpty(){return P9(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jte=new na(fr.comparator);function Gc(){return Jte}const X9=new na(fr.comparator);function og(...e){let t=X9;for(const r of e)t=t.insert(r.key,r);return t}function Q9(e){let t=X9;return e.forEach((r,n)=>t=t.insert(r,n.overlayedDocument)),t}function Cd(){return Cg()}function J9(){return Cg()}function Cg(){return new hh(e=>e.toString(),(e,t)=>e.isEqual(t))}const Zte=new na(fr.comparator),ere=new Va(fr.comparator);function Gr(...e){let t=ere;for(const r of e)t=t.add(r);return t}const tre=new Va(Ur);function rre(){return tre}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:K2(t)?"-0":t}}function Z9(e){return{integerValue:""+e}}function nre(e,t){return Pte(t)?Z9(t):EN(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(){this._=void 0}}function are(e,t,r){return e instanceof Cv?function(a,i){const s={fields:{[j9]:{stringValue:I9},[L9]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return i&&_N(i)&&(i=Xw(i)),i&&(s.fields[D9]=i),{mapValue:s}}(r,t):e instanceof Pv?tB(e,t):e instanceof Ov?rB(e,t):function(a,i){const s=eB(a,i),o=eI(s)+eI(a.Re);return U4(s)&&U4(a.Re)?Z9(o):EN(a.serializer,o)}(e,t)}function ire(e,t,r){return e instanceof Pv?tB(e,t):e instanceof Ov?rB(e,t):r}function eB(e,t){return e instanceof Z2?function(n){return U4(n)||function(i){return!!i&&"doubleValue"in i}(n)}(t)?t:{integerValue:0}:null}class Cv extends e5{}class Pv extends e5{constructor(t){super(),this.elements=t}}function tB(e,t){const r=nB(t);for(const n of e.elements)r.some(a=>Jl(a,n))||r.push(n);return{arrayValue:{values:r}}}class Ov extends e5{constructor(t){super(),this.elements=t}}function rB(e,t){let r=nB(t);for(const n of e.elements)r=r.filter(a=>!Jl(a,n));return{arrayValue:{values:r}}}class Z2 extends e5{constructor(t,r){super(),this.serializer=t,this.Re=r}}function eI(e){return ma(e.integerValue||e.doubleValue)}function nB(e){return SN(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sre{constructor(t,r){this.field=t,this.transform=r}}function ore(e,t){return e.field.isEqual(t.field)&&function(n,a){return n instanceof Pv&&a instanceof Pv||n instanceof Ov&&a instanceof Ov?ap(n.elements,a.elements,Jl):n instanceof Z2&&a instanceof Z2?Jl(n.Re,a.Re):n instanceof Cv&&a instanceof Cv}(e.transform,t.transform)}class lre{constructor(t,r){this.version=t,this.transformResults=r}}class ds{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new ds}static exists(t){return new ds(void 0,t)}static updateTime(t){return new ds(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function r2(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class t5{}function aB(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new r5(e.key,ds.none()):new R1(e.key,e.data,ds.none());{const r=e.data,n=Ts.empty();let a=new Va(gi.comparator);for(let i of t.fields)if(!a.has(i)){let s=r.field(i);s===null&&i.length>1&&(i=i.popLast(),s=r.field(i)),s===null?n.delete(i):n.set(i,s),a=a.add(i)}return new qf(e.key,n,new Ys(a.toArray()),ds.none())}}function cre(e,t,r){e instanceof R1?function(a,i,s){const o=a.value.clone(),l=rI(a.fieldTransforms,i,s.transformResults);o.setAll(l),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,r):e instanceof qf?function(a,i,s){if(!r2(a.precondition,i))return void i.convertToUnknownDocument(s.version);const o=rI(a.fieldTransforms,i,s.transformResults),l=i.data;l.setAll(iB(a)),l.setAll(o),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,r):function(a,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,r)}function Pg(e,t,r,n){return e instanceof R1?function(i,s,o,l){if(!r2(i.precondition,s))return o;const c=i.value.clone(),u=nI(i.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(e,t,r,n):e instanceof qf?function(i,s,o,l){if(!r2(i.precondition,s))return o;const c=nI(i.fieldTransforms,l,s),u=s.data;return u.setAll(iB(i)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(e,t,r,n):function(i,s,o){return r2(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(e,t,r)}function ure(e,t){let r=null;for(const n of e.fieldTransforms){const a=t.data.field(n.field),i=eB(n.transform,a||null);i!=null&&(r===null&&(r=Ts.empty()),r.set(n.field,i))}return r||null}function tI(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,a){return n===void 0&&a===void 0||!(!n||!a)&&ap(n,a,(i,s)=>ore(i,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class R1 extends t5{constructor(t,r,n,a=[]){super(),this.key=t,this.value=r,this.precondition=n,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class qf extends t5{constructor(t,r,n,a,i=[]){super(),this.key=t,this.data=r,this.fieldMask=n,this.precondition=a,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function iB(e){const t=new Map;return e.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=e.data.field(r);t.set(r,n)}}),t}function rI(e,t,r){const n=new Map;dn(e.length===r.length,32656,{Ve:r.length,me:e.length});for(let a=0;a<r.length;a++){const i=e[a],s=i.transform,o=t.data.field(i.field);n.set(i.field,ire(s,o,r[a]))}return n}function nI(e,t,r){const n=new Map;for(const a of e){const i=a.transform,s=r.data.field(a.field);n.set(a.field,are(i,s,t))}return n}class r5 extends t5{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fre extends t5{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dre{constructor(t,r,n,a){this.batchId=t,this.localWriteTime=r,this.baseMutations=n,this.mutations=a}applyToRemoteDocument(t,r){const n=r.mutationResults;for(let a=0;a<this.mutations.length;a++){const i=this.mutations[a];i.key.isEqual(t.key)&&cre(i,t,n[a])}}applyToLocalView(t,r){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(r=Pg(n,t,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(r=Pg(n,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const n=J9();return this.mutations.forEach(a=>{const i=t.get(a.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=r.has(a.key)?null:o;const l=aB(s,o);l!==null&&n.set(a.key,l),s.isValidDocument()||s.convertToNoDocument(kr.min())}),n}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),Gr())}isEqual(t){return this.batchId===t.batchId&&ap(this.mutations,t.mutations,(r,n)=>tI(r,n))&&ap(this.baseMutations,t.baseMutations,(r,n)=>tI(r,n))}}class NN{constructor(t,r,n,a){this.batch=t,this.commitVersion=r,this.mutationResults=n,this.docVersions=a}static from(t,r,n){dn(t.mutations.length===n.length,58842,{fe:t.mutations.length,ge:n.length});let a=function(){return Zte}();const i=t.mutations;for(let s=0;s<i.length;s++)a=a.insert(i[s].key,n[s].version);return new NN(t,r,n,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hre{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pre{constructor(t,r,n){this.alias=t,this.aggregateType=r,this.fieldPath=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mre{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ea,Qr;function gre(e){switch(e){case gt.OK:return br(64938);case gt.CANCELLED:case gt.UNKNOWN:case gt.DEADLINE_EXCEEDED:case gt.RESOURCE_EXHAUSTED:case gt.INTERNAL:case gt.UNAVAILABLE:case gt.UNAUTHENTICATED:return!1;case gt.INVALID_ARGUMENT:case gt.NOT_FOUND:case gt.ALREADY_EXISTS:case gt.PERMISSION_DENIED:case gt.FAILED_PRECONDITION:case gt.ABORTED:case gt.OUT_OF_RANGE:case gt.UNIMPLEMENTED:case gt.DATA_LOSS:return!0;default:return br(15467,{code:e})}}function sB(e){if(e===void 0)return Hc("GRPC error has no .code"),gt.UNKNOWN;switch(e){case Ea.OK:return gt.OK;case Ea.CANCELLED:return gt.CANCELLED;case Ea.UNKNOWN:return gt.UNKNOWN;case Ea.DEADLINE_EXCEEDED:return gt.DEADLINE_EXCEEDED;case Ea.RESOURCE_EXHAUSTED:return gt.RESOURCE_EXHAUSTED;case Ea.INTERNAL:return gt.INTERNAL;case Ea.UNAVAILABLE:return gt.UNAVAILABLE;case Ea.UNAUTHENTICATED:return gt.UNAUTHENTICATED;case Ea.INVALID_ARGUMENT:return gt.INVALID_ARGUMENT;case Ea.NOT_FOUND:return gt.NOT_FOUND;case Ea.ALREADY_EXISTS:return gt.ALREADY_EXISTS;case Ea.PERMISSION_DENIED:return gt.PERMISSION_DENIED;case Ea.FAILED_PRECONDITION:return gt.FAILED_PRECONDITION;case Ea.ABORTED:return gt.ABORTED;case Ea.OUT_OF_RANGE:return gt.OUT_OF_RANGE;case Ea.UNIMPLEMENTED:return gt.UNIMPLEMENTED;case Ea.DATA_LOSS:return gt.DATA_LOSS;default:return br(39323,{code:e})}}(Qr=Ea||(Ea={}))[Qr.OK=0]="OK",Qr[Qr.CANCELLED=1]="CANCELLED",Qr[Qr.UNKNOWN=2]="UNKNOWN",Qr[Qr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qr[Qr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qr[Qr.NOT_FOUND=5]="NOT_FOUND",Qr[Qr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qr[Qr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qr[Qr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qr[Qr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qr[Qr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qr[Qr.ABORTED=10]="ABORTED",Qr[Qr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qr[Qr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qr[Qr.INTERNAL=13]="INTERNAL",Qr[Qr.UNAVAILABLE=14]="UNAVAILABLE",Qr[Qr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vre=new xf([4294967295,4294967295],0);function aI(e){const t=N9().encode(e),r=new x9;return r.update(t),new Uint8Array(r.digest())}function iI(e){const t=new DataView(e.buffer),r=t.getUint32(0,!0),n=t.getUint32(4,!0),a=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new xf([r,n],0),new xf([a,i],0)]}class kN{constructor(t,r,n){if(this.bitmap=t,this.padding=r,this.hashCount=n,r<0||r>=8)throw new lg(`Invalid padding: ${r}`);if(n<0)throw new lg(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new lg(`Invalid hash count: ${n}`);if(t.length===0&&r!==0)throw new lg(`Invalid padding when bitmap length is 0: ${r}`);this.pe=8*t.length-r,this.ye=xf.fromNumber(this.pe)}we(t,r,n){let a=t.add(r.multiply(xf.fromNumber(n)));return a.compare(vre)===1&&(a=new xf([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const r=aI(t),[n,a]=iI(r);for(let i=0;i<this.hashCount;i++){const s=this.we(n,a,i);if(!this.be(s))return!1}return!0}static create(t,r,n){const a=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),s=new kN(i,a,r);return n.forEach(o=>s.insert(o)),s}insert(t){if(this.pe===0)return;const r=aI(t),[n,a]=iI(r);for(let i=0;i<this.hashCount;i++){const s=this.we(n,a,i);this.Se(s)}}Se(t){const r=Math.floor(t/8),n=t%8;this.bitmap[r]|=1<<n}}class lg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(t,r,n,a,i){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=a,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,r,n){const a=new Map;return a.set(t,F1.createSynthesizedTargetChangeForCurrentChange(t,r,n)),new n5(kr.min(),a,new na(Ur),Gc(),Gr())}}class F1{constructor(t,r,n,a,i){this.resumeToken=t,this.current=r,this.addedDocuments=n,this.modifiedDocuments=a,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,r,n){return new F1(n,r,Gr(),Gr(),Gr())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(t,r,n,a){this.De=t,this.removedTargetIds=r,this.key=n,this.ve=a}}class oB{constructor(t,r){this.targetId=t,this.Ce=r}}class lB{constructor(t,r,n=Si.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=r,this.resumeToken=n,this.cause=a}}class sI{constructor(){this.Fe=0,this.Me=oI(),this.xe=Si.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Gr(),r=Gr(),n=Gr();return this.Me.forEach((a,i)=>{switch(i){case 0:t=t.add(a);break;case 2:r=r.add(a);break;case 1:n=n.add(a);break;default:br(38017,{changeType:i})}}),new F1(this.xe,this.Oe,t,r,n)}Qe(){this.Ne=!1,this.Me=oI()}$e(t,r){this.Ne=!0,this.Me=this.Me.insert(t,r)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,dn(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class yre{constructor(t){this.ze=t,this.je=new Map,this.He=Gc(),this.Je=ax(),this.Ye=ax(),this.Ze=new na(Ur)}Xe(t){for(const r of t.De)t.ve&&t.ve.isFoundDocument()?this.et(r,t.ve):this.tt(r,t.key,t.ve);for(const r of t.removedTargetIds)this.tt(r,t.key,t.ve)}nt(t){this.forEachTarget(t,r=>{const n=this.rt(r);switch(t.state){case 0:this.it(r)&&n.ke(t.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(t.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(r);break;case 3:this.it(r)&&(n.Ge(),n.ke(t.resumeToken));break;case 4:this.it(r)&&(this.st(r),n.ke(t.resumeToken));break;default:br(56790,{state:t.state})}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.je.forEach((n,a)=>{this.it(a)&&r(a)})}ot(t){const r=t.targetId,n=t.Ce.count,a=this._t(r);if(a){const i=a.target;if(z4(i))if(n===0){const s=new fr(i.path);this.tt(r,s,$i.newNoDocument(s,kr.min()))}else dn(n===1,20013,{expectedCount:n});else{const s=this.ut(r);if(s!==n){const o=this.ct(t),l=o?this.lt(o,t,s):1;if(l!==0){this.st(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(r,c)}}}}}ct(t){const r=t.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:a=0},hashCount:i=0}=r;let s,o;try{s=Of(n).toUint8Array()}catch(l){if(l instanceof O9)return np("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new kN(s,a,i)}catch(l){return np(l instanceof lg?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.pe===0?null:o}lt(t,r,n){return r.Ce.count===n-this.Tt(t,r.targetId)?0:2}Tt(t,r){const n=this.ze.getRemoteKeysForTarget(r);let a=0;return n.forEach(i=>{const s=this.ze.Pt(),o=`projects/${s.projectId}/databases/${s.database}/documents/${i.path.canonicalString()}`;t.mightContain(o)||(this.tt(r,i,null),a++)}),a}It(t){const r=new Map;this.je.forEach((i,s)=>{const o=this._t(s);if(o){if(i.current&&z4(o.target)){const l=new fr(o.target.path);this.Et(l).has(s)||this.dt(s,l)||this.tt(s,l,$i.newNoDocument(l,t))}i.Le&&(r.set(s,i.qe()),i.Qe())}});let n=Gr();this.Ye.forEach((i,s)=>{let o=!0;s.forEachWhile(l=>{const c=this._t(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(i))}),this.He.forEach((i,s)=>s.setReadTime(t));const a=new n5(t,r,this.Ze,this.He,n);return this.He=Gc(),this.Je=ax(),this.Ye=ax(),this.Ze=new na(Ur),a}et(t,r){if(!this.it(t))return;const n=this.dt(t,r.key)?2:0;this.rt(t).$e(r.key,n),this.He=this.He.insert(r.key,r),this.Je=this.Je.insert(r.key,this.Et(r.key).add(t)),this.Ye=this.Ye.insert(r.key,this.At(r.key).add(t))}tt(t,r,n){if(!this.it(t))return;const a=this.rt(t);this.dt(t,r)?a.$e(r,1):a.Ue(r),this.Ye=this.Ye.insert(r,this.At(r).delete(t)),this.Ye=this.Ye.insert(r,this.At(r).add(t)),n&&(this.He=this.He.insert(r,n))}removeTarget(t){this.je.delete(t)}ut(t){const r=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let r=this.je.get(t);return r||(r=new sI,this.je.set(t,r)),r}At(t){let r=this.Ye.get(t);return r||(r=new Va(Ur),this.Ye=this.Ye.insert(t,r)),r}Et(t){let r=this.Je.get(t);return r||(r=new Va(Ur),this.Je=this.Je.insert(t,r)),r}it(t){const r=this._t(t)!==null;return r||Qt("WatchChangeAggregator","Detected inactive target",t),r}_t(t){const r=this.je.get(t);return r&&r.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new sI),this.ze.getRemoteKeysForTarget(t).forEach(r=>{this.tt(t,r,null)})}dt(t,r){return this.ze.getRemoteKeysForTarget(t).has(r)}}function ax(){return new na(fr.comparator)}function oI(){return new na(fr.comparator)}const xre={asc:"ASCENDING",desc:"DESCENDING"},bre={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wre={and:"AND",or:"OR"};class _re{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function W4(e,t){return e.useProto3Json||Yw(t)?t:{value:t}}function eb(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function cB(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Sre(e,t){return eb(e,t.toTimestamp())}function Hl(e){return dn(!!e,49232),kr.fromTimestamp(function(r){const n=Pf(r);return new lr(n.seconds,n.nanos)}(e))}function CN(e,t){return H4(e,t).canonicalString()}function H4(e,t){const r=function(a){return new qn(["projects",a.projectId,"databases",a.database])}(e).child("documents");return t===void 0?r:r.child(t)}function uB(e){const t=qn.fromString(e);return dn(gB(t),10190,{key:t.toString()}),t}function G4(e,t){return CN(e.databaseId,t.path)}function dS(e,t){const r=uB(t);if(r.get(1)!==e.databaseId.projectId)throw new Yt(gt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new Yt(gt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new fr(dB(r))}function fB(e,t){return CN(e.databaseId,t)}function Are(e){const t=uB(e);return t.length===4?qn.emptyPath():dB(t)}function K4(e){return new qn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function dB(e){return dn(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function lI(e,t,r){return{name:G4(e,t),fields:r.value.mapValue.fields}}function Tre(e,t){let r;if("targetChange"in t){t.targetChange;const n=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:br(39313,{state:c})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(dn(u===void 0||typeof u=="string",58123),Si.fromBase64String(u||"")):(dn(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),Si.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(c){const u=c.code===void 0?gt.UNKNOWN:sB(c.code);return new Yt(u,c.message||"")}(s);r=new lB(n,a,i,o||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const a=dS(e,n.document.name),i=Hl(n.document.updateTime),s=n.document.createTime?Hl(n.document.createTime):kr.min(),o=new Ts({mapValue:{fields:n.document.fields}}),l=$i.newFoundDocument(a,i,s,o),c=n.targetIds||[],u=n.removedTargetIds||[];r=new n2(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const a=dS(e,n.document),i=n.readTime?Hl(n.readTime):kr.min(),s=$i.newNoDocument(a,i),o=n.removedTargetIds||[];r=new n2([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const a=dS(e,n.document),i=n.removedTargetIds||[];r=new n2([],i,a,null)}else{if(!("filter"in t))return br(11601,{Vt:t});{t.filter;const n=t.filter;n.targetId;const{count:a=0,unchangedNames:i}=n,s=new mre(a,i),o=n.targetId;r=new oB(o,s)}}return r}function Ere(e,t){let r;if(t instanceof R1)r={update:lI(e,t.key,t.value)};else if(t instanceof r5)r={delete:G4(e,t.key)};else if(t instanceof qf)r={update:lI(e,t.key,t.data),updateMask:Lre(t.fieldMask)};else{if(!(t instanceof fre))return br(16599,{ft:t.type});r={verify:G4(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(n=>function(i,s){const o=s.transform;if(o instanceof Cv)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Pv)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Ov)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Z2)return{fieldPath:s.field.canonicalString(),increment:o.Re};throw br(20930,{transform:s.transform})}(0,n))),t.precondition.isNone||(r.currentDocument=function(a,i){return i.updateTime!==void 0?{updateTime:Sre(a,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:br(27497)}(e,t.precondition)),r}function Nre(e,t){return e&&e.length>0?(dn(t!==void 0,14353),e.map(r=>function(a,i){let s=a.updateTime?Hl(a.updateTime):Hl(i);return s.isEqual(kr.min())&&(s=Hl(i)),new lre(s,a.transformResults||[])}(r,t))):[]}function kre(e,t){return{documents:[fB(e,t.path)]}}function hB(e,t){const r={structuredQuery:{}},n=t.path;let a;t.collectionGroup!==null?(a=n,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=fB(e,a);const i=function(c){if(c.length!==0)return mB(xl.create(c,"and"))}(t.filters);i&&(r.structuredQuery.where=i);const s=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:Ku(h.field),direction:Ire(h.dir)}}(u))}(t.orderBy);s&&(r.structuredQuery.orderBy=s);const o=W4(e,t.limit);return o!==null&&(r.structuredQuery.limit=o),t.startAt&&(r.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{gt:r,parent:a}}function Cre(e,t,r,n){const{gt:a,parent:i}=hB(e,t),s={},o=[];let l=0;return r.forEach(c=>{const u="aggregate_"+l++;s[u]=c.alias,c.aggregateType==="count"?o.push({alias:u,count:{}}):c.aggregateType==="avg"?o.push({alias:u,avg:{field:Ku(c.fieldPath)}}):c.aggregateType==="sum"&&o.push({alias:u,sum:{field:Ku(c.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:o,structuredQuery:a.structuredQuery},parent:a.parent},yt:s,parent:i}}function Pre(e){let t=Are(e.parent);const r=e.structuredQuery,n=r.from?r.from.length:0;let a=null;if(n>0){dn(n===1,65062);const u=r.from[0];u.allDescendants?a=u.collectionId:t=t.child(u.collectionId)}let i=[];r.where&&(i=function(f){const h=pB(f);return h instanceof xl&&V9(h)?h.getFilters():[h]}(r.where));let s=[];r.orderBy&&(s=function(f){return f.map(h=>function(g){return new kv(n0(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(r.orderBy));let o=null;r.limit&&(o=function(f){let h;return h=typeof f=="object"?f.value:f,Yw(h)?null:h}(r.limit));let l=null;r.startAt&&(l=function(f){const h=!!f.before,p=f.values||[];return new Q2(p,h)}(r.startAt));let c=null;return r.endAt&&(c=function(f){const h=!f.before,p=f.values||[];return new Q2(p,h)}(r.endAt)),Kte(t,a,s,i,o,"F",l,c)}function Ore(e,t){const r=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return br(28987,{purpose:a})}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function pB(e){return e.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=n0(r.unaryFilter.field);return Oa.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=n0(r.unaryFilter.field);return Oa.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=n0(r.unaryFilter.field);return Oa.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=n0(r.unaryFilter.field);return Oa.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return br(61313);default:return br(60726)}}(e):e.fieldFilter!==void 0?function(r){return Oa.create(n0(r.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return br(58110);default:return br(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(r){return xl.create(r.compositeFilter.filters.map(n=>pB(n)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return br(1026)}}(r.compositeFilter.op))}(e):br(30097,{filter:e})}function Ire(e){return xre[e]}function jre(e){return bre[e]}function Dre(e){return wre[e]}function Ku(e){return{fieldPath:e.canonicalString()}}function n0(e){return gi.fromServerFormat(e.fieldPath)}function mB(e){return e instanceof Oa?function(r){if(r.op==="=="){if(YO(r.value))return{unaryFilter:{field:Ku(r.field),op:"IS_NAN"}};if(KO(r.value))return{unaryFilter:{field:Ku(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(YO(r.value))return{unaryFilter:{field:Ku(r.field),op:"IS_NOT_NAN"}};if(KO(r.value))return{unaryFilter:{field:Ku(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ku(r.field),op:jre(r.op),value:r.value}}}(e):e instanceof xl?function(r){const n=r.getFilters().map(a=>mB(a));return n.length===1?n[0]:{compositeFilter:{op:Dre(r.op),filters:n}}}(e):br(54877,{filter:e})}function Lre(e){const t=[];return e.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function gB(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(t,r,n,a,i=kr.min(),s=kr.min(),o=Si.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=r,this.purpose=n,this.sequenceNumber=a,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(t){return new tf(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new tf(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new tf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new tf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mre{constructor(t){this.wt=t}}function Rre(e){const t=Pre({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?J2(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fre{constructor(){this.yn=new $re}addToCollectionParentIndex(t,r){return this.yn.add(r),bt.resolve()}getCollectionParents(t,r){return bt.resolve(this.yn.getEntries(r))}addFieldIndex(t,r){return bt.resolve()}deleteFieldIndex(t,r){return bt.resolve()}deleteAllFieldIndexes(t){return bt.resolve()}createTargetIndexes(t,r){return bt.resolve()}getDocumentsMatchingTarget(t,r){return bt.resolve(null)}getIndexType(t,r){return bt.resolve(0)}getFieldIndexes(t,r){return bt.resolve([])}getNextCollectionGroupToUpdate(t){return bt.resolve(null)}getMinOffset(t,r){return bt.resolve(Cf.min())}getMinOffsetFromCollectionGroup(t,r){return bt.resolve(Cf.min())}updateCollectionGroup(t,r,n){return bt.resolve()}updateIndexEntries(t,r){return bt.resolve()}}class $re{constructor(){this.index={}}add(t){const r=t.lastSegment(),n=t.popLast(),a=this.index[r]||new Va(qn.comparator),i=!a.has(n);return this.index[r]=a.add(n),i}has(t){const r=t.lastSegment(),n=t.popLast(),a=this.index[r];return a&&a.has(n)}getEntries(t){return(this.index[t]||new Va(qn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vB=41943040;class _s{static withCacheSize(t){return new _s(t,_s.DEFAULT_COLLECTION_PERCENTILE,_s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_s.DEFAULT_COLLECTION_PERCENTILE=10,_s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_s.DEFAULT=new _s(vB,_s.DEFAULT_COLLECTION_PERCENTILE,_s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_s.DISABLED=new _s(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(t){this.nr=t}next(){return this.nr+=2,this.nr}static rr(){return new op(0)}static ir(){return new op(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI="LruGarbageCollector",Bre=1048576;function fI([e,t],[r,n]){const a=Ur(e,r);return a===0?Ur(t,n):a}class Ure{constructor(t){this.cr=t,this.buffer=new Va(fI),this.lr=0}hr(){return++this.lr}Pr(t){const r=[t,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();fI(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Vre{constructor(t,r,n){this.garbageCollector=t,this.asyncQueue=r,this.localStore=n,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(t){Qt(uI,`Garbage collection scheduled in ${t}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Hp(r)?Qt(uI,"Ignoring IndexedDB error during garbage collection: ",r):await Wp(r)}await this.Ir(3e5)})}}class zre{constructor(t,r){this.Er=t,this.params=r}calculateTargetCount(t,r){return this.Er.dr(t).next(n=>Math.floor(r/100*n))}nthSequenceNumber(t,r){if(r===0)return bt.resolve(Kw.le);const n=new Ure(r);return this.Er.forEachTarget(t,a=>n.Pr(a.sequenceNumber)).next(()=>this.Er.Ar(t,a=>n.Pr(a))).next(()=>n.maxValue)}removeTargets(t,r,n){return this.Er.removeTargets(t,r,n)}removeOrphanedDocuments(t,r){return this.Er.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(Qt("LruGarbageCollector","Garbage collection skipped; disabled"),bt.resolve(cI)):this.getCacheSize(t).next(n=>n<this.params.cacheSizeCollectionThreshold?(Qt("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cI):this.Rr(t,r))}getCacheSize(t){return this.Er.getCacheSize(t)}Rr(t,r){let n,a,i,s,o,l,c;const u=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Qt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),a=this.params.maximumSequenceNumbersToCollect):a=f,s=Date.now(),this.nthSequenceNumber(t,a))).next(f=>(n=f,o=Date.now(),this.removeTargets(t,n,r))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(t,n))).next(f=>(c=Date.now(),t0()<=Jr.DEBUG&&Qt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${a} in `+(o-s)+`ms
	Removed ${i} targets in `+(l-o)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),bt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:i,documentsRemoved:f})))}}function qre(e,t){return new zre(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wre{constructor(){this.changes=new hh(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,$i.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?bt.resolve(n):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hre{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gre{constructor(t,r,n,a){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=a}getDocument(t,r){let n=null;return this.documentOverlayCache.getOverlay(t,r).next(a=>(n=a,this.remoteDocumentCache.getEntry(t,r))).next(a=>(n!==null&&Pg(n.mutation,a,Ys.empty(),lr.now()),a))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.getLocalViewOfDocuments(t,n,Gr()).next(()=>n))}getLocalViewOfDocuments(t,r,n=Gr()){const a=Cd();return this.populateOverlays(t,a,r).next(()=>this.computeViews(t,r,a,n).next(i=>{let s=og();return i.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,r){const n=Cd();return this.populateOverlays(t,n,r).next(()=>this.computeViews(t,r,n,Gr()))}populateOverlays(t,r,n){const a=[];return n.forEach(i=>{r.has(i)||a.push(i)}),this.documentOverlayCache.getOverlays(t,a).next(i=>{i.forEach((s,o)=>{r.set(s,o)})})}computeViews(t,r,n,a){let i=Gc();const s=Cg(),o=function(){return Cg()}();return r.forEach((l,c)=>{const u=n.get(c.key);a.has(c.key)&&(u===void 0||u.mutation instanceof qf)?i=i.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),Pg(u.mutation,c,u.mutation.getFieldMask(),lr.now())):s.set(c.key,Ys.empty())}),this.recalculateAndSaveOverlays(t,i).next(l=>(l.forEach((c,u)=>s.set(c,u)),r.forEach((c,u)=>{var f;return o.set(c,new Hre(u,(f=s.get(c))!==null&&f!==void 0?f:null))}),o))}recalculateAndSaveOverlays(t,r){const n=Cg();let a=new na((s,o)=>s-o),i=Gr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(s=>{for(const o of s)o.keys().forEach(l=>{const c=r.get(l);if(c===null)return;let u=n.get(l)||Ys.empty();u=o.applyToLocalView(c,u),n.set(l,u);const f=(a.get(o.batchId)||Gr()).add(l);a=a.insert(o.batchId,f)})}).next(()=>{const s=[],o=a.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,f=J9();u.forEach(h=>{if(!i.has(h)){const p=aB(r.get(h),n.get(h));p!==null&&f.set(h,p),i=i.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(t,c,f))}return bt.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,r,n,a){return function(s){return fr.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):H9(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,n,a):this.getDocumentsMatchingCollectionQuery(t,r,n,a)}getNextDocuments(t,r,n,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,n,a).next(i=>{const s=a-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,n.largestBatchId,a-i.size):bt.resolve(Cd());let o=Av,l=i;return s.next(c=>bt.forEach(c,(u,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),i.get(u)?bt.resolve():this.remoteDocumentCache.getEntry(t,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(t,c,i)).next(()=>this.computeViews(t,l,c,Gr())).next(u=>({batchId:o,changes:Q9(u)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new fr(r)).next(n=>{let a=og();return n.isFoundDocument()&&(a=a.insert(n.key,n)),a})}getDocumentsMatchingCollectionGroupQuery(t,r,n,a){const i=r.collectionGroup;let s=og();return this.indexManager.getCollectionParents(t,i).next(o=>bt.forEach(o,l=>{const c=function(f,h){return new Gp(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,l.child(i));return this.getDocumentsMatchingCollectionQuery(t,c,n,a).next(u=>{u.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,r,n,a){let i;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,n,i,a))).next(s=>{i.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,$i.newInvalidDocument(u)))});let o=og();return s.forEach((l,c)=>{const u=i.get(l);u!==void 0&&Pg(u.mutation,c,Ys.empty(),lr.now()),Zw(r,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kre{constructor(t){this.serializer=t,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(t,r){return bt.resolve(this.Fr.get(r))}saveBundleMetadata(t,r){return this.Fr.set(r.id,function(a){return{id:a.id,version:a.version,createTime:Hl(a.createTime)}}(r)),bt.resolve()}getNamedQuery(t,r){return bt.resolve(this.Mr.get(r))}saveNamedQuery(t,r){return this.Mr.set(r.name,function(a){return{name:a.name,query:Rre(a.bundledQuery),readTime:Hl(a.readTime)}}(r)),bt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yre{constructor(){this.overlays=new na(fr.comparator),this.Or=new Map}getOverlay(t,r){return bt.resolve(this.overlays.get(r))}getOverlays(t,r){const n=Cd();return bt.forEach(r,a=>this.getOverlay(t,a).next(i=>{i!==null&&n.set(a,i)})).next(()=>n)}saveOverlays(t,r,n){return n.forEach((a,i)=>{this.St(t,r,i)}),bt.resolve()}removeOverlaysForBatchId(t,r,n){const a=this.Or.get(n);return a!==void 0&&(a.forEach(i=>this.overlays=this.overlays.remove(i)),this.Or.delete(n)),bt.resolve()}getOverlaysForCollection(t,r,n){const a=Cd(),i=r.length+1,s=new fr(r.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>n&&a.set(l.getKey(),l)}return bt.resolve(a)}getOverlaysForCollectionGroup(t,r,n,a){let i=new na((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===r&&c.largestBatchId>n){let u=i.get(c.largestBatchId);u===null&&(u=Cd(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=Cd(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>o.set(c,u)),!(o.size()>=a)););return bt.resolve(o)}St(t,r,n){const a=this.overlays.get(n.key);if(a!==null){const s=this.Or.get(a.largestBatchId).delete(n.key);this.Or.set(a.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new hre(r,n));let i=this.Or.get(r);i===void 0&&(i=Gr(),this.Or.set(r,i)),this.Or.set(r,i.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xre{constructor(){this.sessionToken=Si.EMPTY_BYTE_STRING}getSessionToken(t){return bt.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,bt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(){this.Nr=new Va(Ka.Br),this.Lr=new Va(Ka.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(t,r){const n=new Ka(t,r);this.Nr=this.Nr.add(n),this.Lr=this.Lr.add(n)}qr(t,r){t.forEach(n=>this.addReference(n,r))}removeReference(t,r){this.Qr(new Ka(t,r))}$r(t,r){t.forEach(n=>this.removeReference(n,r))}Ur(t){const r=new fr(new qn([])),n=new Ka(r,t),a=new Ka(r,t+1),i=[];return this.Lr.forEachInRange([n,a],s=>{this.Qr(s),i.push(s.key)}),i}Kr(){this.Nr.forEach(t=>this.Qr(t))}Qr(t){this.Nr=this.Nr.delete(t),this.Lr=this.Lr.delete(t)}Wr(t){const r=new fr(new qn([])),n=new Ka(r,t),a=new Ka(r,t+1);let i=Gr();return this.Lr.forEachInRange([n,a],s=>{i=i.add(s.key)}),i}containsKey(t){const r=new Ka(t,0),n=this.Nr.firstAfterOrEqual(r);return n!==null&&t.isEqual(n.key)}}class Ka{constructor(t,r){this.key=t,this.Gr=r}static Br(t,r){return fr.comparator(t.key,r.key)||Ur(t.Gr,r.Gr)}static kr(t,r){return Ur(t.Gr,r.Gr)||fr.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qre{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.Jn=1,this.zr=new Va(Ka.Br)}checkEmpty(t){return bt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,n,a){const i=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new dre(i,r,n,a);this.mutationQueue.push(s);for(const o of a)this.zr=this.zr.add(new Ka(o.key,i)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return bt.resolve(s)}lookupMutationBatch(t,r){return bt.resolve(this.jr(r))}getNextMutationBatchAfterBatchId(t,r){const n=r+1,a=this.Hr(n),i=a<0?0:a;return bt.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return bt.resolve(this.mutationQueue.length===0?wN:this.Jn-1)}getAllMutationBatches(t){return bt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const n=new Ka(r,0),a=new Ka(r,Number.POSITIVE_INFINITY),i=[];return this.zr.forEachInRange([n,a],s=>{const o=this.jr(s.Gr);i.push(o)}),bt.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,r){let n=new Va(Ur);return r.forEach(a=>{const i=new Ka(a,0),s=new Ka(a,Number.POSITIVE_INFINITY);this.zr.forEachInRange([i,s],o=>{n=n.add(o.Gr)})}),bt.resolve(this.Jr(n))}getAllMutationBatchesAffectingQuery(t,r){const n=r.path,a=n.length+1;let i=n;fr.isDocumentKey(i)||(i=i.child(""));const s=new Ka(new fr(i),0);let o=new Va(Ur);return this.zr.forEachWhile(l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===a&&(o=o.add(l.Gr)),!0)},s),bt.resolve(this.Jr(o))}Jr(t){const r=[];return t.forEach(n=>{const a=this.jr(n);a!==null&&r.push(a)}),r}removeMutationBatch(t,r){dn(this.Yr(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.zr;return bt.forEach(r.mutations,a=>{const i=new Ka(a.key,r.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.zr=n})}Xn(t){}containsKey(t,r){const n=new Ka(r,0),a=this.zr.firstAfterOrEqual(n);return bt.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,bt.resolve()}Yr(t,r){return this.Hr(t)}Hr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}jr(t){const r=this.Hr(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jre{constructor(t){this.Zr=t,this.docs=function(){return new na(fr.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const n=r.key,a=this.docs.get(n),i=a?a.size:0,s=this.Zr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const n=this.docs.get(r);return bt.resolve(n?n.document.mutableCopy():$i.newInvalidDocument(r))}getEntries(t,r){let n=Gc();return r.forEach(a=>{const i=this.docs.get(a);n=n.insert(a,i?i.document.mutableCopy():$i.newInvalidDocument(a))}),bt.resolve(n)}getDocumentsMatchingQuery(t,r,n,a){let i=Gc();const s=r.path,o=new fr(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||Ete(Tte(u),n)<=0||(a.has(u.key)||Zw(r,u))&&(i=i.insert(u.key,u.mutableCopy()))}return bt.resolve(i)}getAllFromCollectionGroup(t,r,n,a){br(9500)}Xr(t,r){return bt.forEach(this.docs,n=>r(n))}newChangeBuffer(t){return new Zre(this)}getSize(t){return bt.resolve(this.size)}}class Zre extends Wre{constructor(t){super(),this.vr=t}applyChanges(t){const r=[];return this.changes.forEach((n,a)=>{a.isValidDocument()?r.push(this.vr.addEntry(t,a)):this.vr.removeEntry(n)}),bt.waitFor(r)}getFromCache(t,r){return this.vr.getEntry(t,r)}getAllFromCache(t,r){return this.vr.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ene{constructor(t){this.persistence=t,this.ei=new hh(r=>AN(r),TN),this.lastRemoteSnapshotVersion=kr.min(),this.highestTargetId=0,this.ti=0,this.ni=new PN,this.targetCount=0,this.ri=op.rr()}forEachTarget(t,r){return this.ei.forEach((n,a)=>r(a)),bt.resolve()}getLastRemoteSnapshotVersion(t){return bt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return bt.resolve(this.ti)}allocateTargetId(t){return this.highestTargetId=this.ri.next(),bt.resolve(this.highestTargetId)}setTargetsMetadata(t,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.ti&&(this.ti=r),bt.resolve()}ar(t){this.ei.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.ri=new op(r),this.highestTargetId=r),t.sequenceNumber>this.ti&&(this.ti=t.sequenceNumber)}addTargetData(t,r){return this.ar(r),this.targetCount+=1,bt.resolve()}updateTargetData(t,r){return this.ar(r),bt.resolve()}removeTargetData(t,r){return this.ei.delete(r.target),this.ni.Ur(r.targetId),this.targetCount-=1,bt.resolve()}removeTargets(t,r,n){let a=0;const i=[];return this.ei.forEach((s,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.ei.delete(s),i.push(this.removeMatchingKeysForTargetId(t,o.targetId)),a++)}),bt.waitFor(i).next(()=>a)}getTargetCount(t){return bt.resolve(this.targetCount)}getTargetData(t,r){const n=this.ei.get(r)||null;return bt.resolve(n)}addMatchingKeys(t,r,n){return this.ni.qr(r,n),bt.resolve()}removeMatchingKeys(t,r,n){this.ni.$r(r,n);const a=this.persistence.referenceDelegate,i=[];return a&&r.forEach(s=>{i.push(a.markPotentiallyOrphaned(t,s))}),bt.waitFor(i)}removeMatchingKeysForTargetId(t,r){return this.ni.Ur(r),bt.resolve()}getMatchingKeysForTargetId(t,r){const n=this.ni.Wr(r);return bt.resolve(n)}containsKey(t,r){return bt.resolve(this.ni.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yB{constructor(t,r){this.ii={},this.overlays={},this.si=new Kw(0),this.oi=!1,this.oi=!0,this._i=new Xre,this.referenceDelegate=t(this),this.ai=new ene(this),this.indexManager=new Fre,this.remoteDocumentCache=function(a){return new Jre(a)}(n=>this.referenceDelegate.ui(n)),this.serializer=new Mre(r),this.ci=new Kre(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new Yre,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let n=this.ii[t.toKey()];return n||(n=new Qre(r,this.referenceDelegate),this.ii[t.toKey()]=n),n}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(t,r,n){Qt("MemoryPersistence","Starting transaction:",t);const a=new tne(this.si.next());return this.referenceDelegate.li(),n(a).next(i=>this.referenceDelegate.hi(a).next(()=>i)).toPromise().then(i=>(a.raiseOnCommittedEvent(),i))}Pi(t,r){return bt.or(Object.values(this.ii).map(n=>()=>n.containsKey(t,r)))}}class tne extends kte{constructor(t){super(),this.currentSequenceNumber=t}}class ON{constructor(t){this.persistence=t,this.Ti=new PN,this.Ii=null}static Ei(t){return new ON(t)}get di(){if(this.Ii)return this.Ii;throw br(60996)}addReference(t,r,n){return this.Ti.addReference(n,r),this.di.delete(n.toString()),bt.resolve()}removeReference(t,r,n){return this.Ti.removeReference(n,r),this.di.add(n.toString()),bt.resolve()}markPotentiallyOrphaned(t,r){return this.di.add(r.toString()),bt.resolve()}removeTarget(t,r){this.Ti.Ur(r.targetId).forEach(a=>this.di.add(a.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,r.targetId).next(a=>{a.forEach(i=>this.di.add(i.toString()))}).next(()=>n.removeTargetData(t,r))}li(){this.Ii=new Set}hi(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return bt.forEach(this.di,n=>{const a=fr.fromPath(n);return this.Ai(t,a).next(i=>{i||r.removeEntry(a,kr.min())})}).next(()=>(this.Ii=null,r.apply(t)))}updateLimboDocument(t,r){return this.Ai(t,r).next(n=>{n?this.di.delete(r.toString()):this.di.add(r.toString())})}ui(t){return 0}Ai(t,r){return bt.or([()=>bt.resolve(this.Ti.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Pi(t,r)])}}class tb{constructor(t,r){this.persistence=t,this.Ri=new hh(n=>Ote(n.path),(n,a)=>n.isEqual(a)),this.garbageCollector=qre(this,r)}static Ei(t,r){return new tb(t,r)}li(){}hi(t){return bt.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}dr(t){const r=this.Vr(t);return this.persistence.getTargetCache().getTargetCount(t).next(n=>r.next(a=>n+a))}Vr(t){let r=0;return this.Ar(t,n=>{r++}).next(()=>r)}Ar(t,r){return bt.forEach(this.Ri,(n,a)=>this.gr(t,n,a).next(i=>i?bt.resolve():r(a)))}removeTargets(t,r,n){return this.persistence.getTargetCache().removeTargets(t,r,n)}removeOrphanedDocuments(t,r){let n=0;const a=this.persistence.getRemoteDocumentCache(),i=a.newChangeBuffer();return a.Xr(t,s=>this.gr(t,s,r).next(o=>{o||(n++,i.removeEntry(s,kr.min()))})).next(()=>i.apply(t)).next(()=>n)}markPotentiallyOrphaned(t,r){return this.Ri.set(r,t.currentSequenceNumber),bt.resolve()}removeTarget(t,r){const n=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,r,n){return this.Ri.set(n,t.currentSequenceNumber),bt.resolve()}removeReference(t,r,n){return this.Ri.set(n,t.currentSequenceNumber),bt.resolve()}updateLimboDocument(t,r){return this.Ri.set(r,t.currentSequenceNumber),bt.resolve()}ui(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=e2(t.data.value)),r}gr(t,r,n){return bt.or([()=>this.persistence.Pi(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const a=this.Ri.get(r);return bt.resolve(a!==void 0&&a>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(t,r,n,a){this.targetId=t,this.fromCache=r,this.ls=n,this.hs=a}static Ps(t,r){let n=Gr(),a=Gr();for(const i of r.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:a=a.add(i.doc.key)}return new IN(t,r.fromCache,n,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rne{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nne{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return YZ()?8:Cte(GZ())>0?6:4}()}initialize(t,r){this.As=t,this.indexManager=r,this.Ts=!0}getDocumentsMatchingQuery(t,r,n,a){const i={result:null};return this.Rs(t,r).next(s=>{i.result=s}).next(()=>{if(!i.result)return this.Vs(t,r,a,n).next(s=>{i.result=s})}).next(()=>{if(i.result)return;const s=new rne;return this.fs(t,r,s).next(o=>{if(i.result=o,this.Is)return this.gs(t,r,s,o.size)})}).next(()=>i.result)}gs(t,r,n,a){return n.documentReadCount<this.Es?(t0()<=Jr.DEBUG&&Qt("QueryEngine","SDK will not create cache indexes for query:",r0(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),bt.resolve()):(t0()<=Jr.DEBUG&&Qt("QueryEngine","Query:",r0(r),"scans",n.documentReadCount,"local documents and returns",a,"documents as results."),n.documentReadCount>this.ds*a?(t0()<=Jr.DEBUG&&Qt("QueryEngine","The SDK decides to create cache indexes for query:",r0(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Wl(r))):bt.resolve())}Rs(t,r){if(ZO(r))return bt.resolve(null);let n=Wl(r);return this.indexManager.getIndexType(t,n).next(a=>a===0?null:(r.limit!==null&&a===1&&(r=J2(r,null,"F"),n=Wl(r)),this.indexManager.getDocumentsMatchingTarget(t,n).next(i=>{const s=Gr(...i);return this.As.getDocuments(t,s).next(o=>this.indexManager.getMinOffset(t,n).next(l=>{const c=this.ps(r,o);return this.ys(r,c,s,l.readTime)?this.Rs(t,J2(r,null,"F")):this.ws(t,c,r,l)}))})))}Vs(t,r,n,a){return ZO(r)||a.isEqual(kr.min())?bt.resolve(null):this.As.getDocuments(t,n).next(i=>{const s=this.ps(r,i);return this.ys(r,s,n,a)?bt.resolve(null):(t0()<=Jr.DEBUG&&Qt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),r0(r)),this.ws(t,s,r,Ate(a,Av)).next(o=>o))})}ps(t,r){let n=new Va(Y9(t));return r.forEach((a,i)=>{Zw(t,i)&&(n=n.add(i))}),n}ys(t,r,n,a){if(t.limit===null)return!1;if(n.size!==r.size)return!0;const i=t.limitType==="F"?r.last():r.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(a)>0)}fs(t,r,n){return t0()<=Jr.DEBUG&&Qt("QueryEngine","Using full collection scan to execute query:",r0(r)),this.As.getDocumentsMatchingQuery(t,r,Cf.min(),n)}ws(t,r,n,a){return this.As.getDocumentsMatchingQuery(t,n,a).next(i=>(r.forEach(s=>{i=i.insert(s.key,s)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN="LocalStore",ane=3e8;class ine{constructor(t,r,n,a){this.persistence=t,this.bs=r,this.serializer=a,this.Ss=new na(Ur),this.Ds=new hh(i=>AN(i),TN),this.vs=new Map,this.Cs=t.getRemoteDocumentCache(),this.ai=t.getTargetCache(),this.ci=t.getBundleCache(),this.Fs(n)}Fs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Gre(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.Ss))}}function sne(e,t,r,n){return new ine(e,t,r,n)}async function xB(e,t){const r=Er(e);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let a;return r.mutationQueue.getAllMutationBatches(n).next(i=>(a=i,r.Fs(t),r.mutationQueue.getAllMutationBatches(n))).next(i=>{const s=[],o=[];let l=Gr();for(const c of a){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return r.localDocuments.getDocuments(n,l).next(c=>({Ms:c,removedBatchIds:s,addedBatchIds:o}))})})}function one(e,t){const r=Er(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const a=t.batch.keys(),i=r.Cs.newChangeBuffer({trackRemovals:!0});return function(o,l,c,u){const f=c.batch,h=f.keys();let p=bt.resolve();return h.forEach(g=>{p=p.next(()=>u.getEntry(l,g)).next(m=>{const v=c.docVersions.get(g);dn(v!==null,48541),m.version.compareTo(v)<0&&(f.applyToRemoteDocument(m,c),m.isValidDocument()&&(m.setReadTime(c.commitVersion),u.addEntry(m)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(r,n,t,i).next(()=>i.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,a,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let l=Gr();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(t))).next(()=>r.localDocuments.getDocuments(n,a))})}function bB(e){const t=Er(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.ai.getLastRemoteSnapshotVersion(r))}function lne(e,t){const r=Er(e),n=t.snapshotVersion;let a=r.Ss;return r.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const s=r.Cs.newChangeBuffer({trackRemovals:!0});a=r.Ss;const o=[];t.targetChanges.forEach((u,f)=>{const h=a.get(f);if(!h)return;o.push(r.ai.removeMatchingKeys(i,u.removedDocuments,f).next(()=>r.ai.addMatchingKeys(i,u.addedDocuments,f)));let p=h.withSequenceNumber(i.currentSequenceNumber);t.targetMismatches.get(f)!==null?p=p.withResumeToken(Si.EMPTY_BYTE_STRING,kr.min()).withLastLimboFreeSnapshotVersion(kr.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,n)),a=a.insert(f,p),function(m,v,y){return m.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=ane?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,p,u)&&o.push(r.ai.updateTargetData(i,p))});let l=Gc(),c=Gr();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(i,u))}),o.push(cne(i,s,t.documentUpdates).next(u=>{l=u.xs,c=u.Os})),!n.isEqual(kr.min())){const u=r.ai.getLastRemoteSnapshotVersion(i).next(f=>r.ai.setTargetsMetadata(i,i.currentSequenceNumber,n));o.push(u)}return bt.waitFor(o).next(()=>s.apply(i)).next(()=>r.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(r.Ss=a,i))}function cne(e,t,r){let n=Gr(),a=Gr();return r.forEach(i=>n=n.add(i)),t.getEntries(e,n).next(i=>{let s=Gc();return r.forEach((o,l)=>{const c=i.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(a=a.add(o)),l.isNoDocument()&&l.version.isEqual(kr.min())?(t.removeEntry(o,l.readTime),s=s.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l),s=s.insert(o,l)):Qt(jN,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{xs:s,Os:a}})}function une(e,t){const r=Er(e);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(t===void 0&&(t=wN),r.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}function fne(e,t){const r=Er(e);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let a;return r.ai.getTargetData(n,t).next(i=>i?(a=i,bt.resolve(a)):r.ai.allocateTargetId(n).next(s=>(a=new tf(t,s,"TargetPurposeListen",n.currentSequenceNumber),r.ai.addTargetData(n,a).next(()=>a))))}).then(n=>{const a=r.Ss.get(n.targetId);return(a===null||n.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(r.Ss=r.Ss.insert(n.targetId,n),r.Ds.set(t,n.targetId)),n})}async function Y4(e,t,r){const n=Er(e),a=n.Ss.get(t),i=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",i,s=>n.persistence.referenceDelegate.removeTarget(s,a))}catch(s){if(!Hp(s))throw s;Qt(jN,`Failed to update sequence numbers for target ${t}: ${s}`)}n.Ss=n.Ss.remove(t),n.Ds.delete(a.target)}function dI(e,t,r){const n=Er(e);let a=kr.min(),i=Gr();return n.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const f=Er(l),h=f.Ds.get(u);return h!==void 0?bt.resolve(f.Ss.get(h)):f.ai.getTargetData(c,u)}(n,s,Wl(t)).next(o=>{if(o)return a=o.lastLimboFreeSnapshotVersion,n.ai.getMatchingKeysForTargetId(s,o.targetId).next(l=>{i=l})}).next(()=>n.bs.getDocumentsMatchingQuery(s,t,r?a:kr.min(),r?i:Gr())).next(o=>(dne(n,Xte(t),o),{documents:o,Ns:i})))}function dne(e,t,r){let n=e.vs.get(t)||kr.min();r.forEach((a,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)}),e.vs.set(t,n)}class hI{constructor(){this.activeTargetIds=rre()}$s(t){this.activeTargetIds=this.activeTargetIds.add(t)}Us(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Qs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class hne{constructor(){this.So=new hI,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,n){}addLocalQueryTarget(t,r=!0){return r&&this.So.$s(t),this.Do[t]||"not-current"}updateQueryState(t,r,n){this.Do[t]=r}removeLocalQueryTarget(t){this.So.Us(t)}isLocalQueryTarget(t){return this.So.activeTargetIds.has(t)}clearQueryState(t){delete this.Do[t]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(t){return this.So.activeTargetIds.has(t)}start(){return this.So=new hI,Promise.resolve()}handleUserChange(t,r,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pne{vo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI="ConnectivityMonitor";class mI{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(t){this.Oo.push(t)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Qt(pI,"Network connectivity changed: AVAILABLE");for(const t of this.Oo)t(0)}xo(){Qt(pI,"Network connectivity changed: UNAVAILABLE");for(const t of this.Oo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ix=null;function X4(){return ix===null?ix=function(){return 268435456+Math.round(2147483648*Math.random())}():ix++,"0x"+ix.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS="RestConnection",mne={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gne{get Bo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Lo=r+"://"+t.host,this.ko=`projects/${n}/databases/${a}`,this.qo=this.databaseId.database===Y2?`project_id=${n}`:`project_id=${n}&database_id=${a}`}Qo(t,r,n,a,i){const s=X4(),o=this.$o(t,r.toUriEncodedString());Qt(hS,`Sending RPC '${t}' ${s}:`,o,n);const l={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(l,a,i);const{host:c}=new URL(o),u=yN(c);return this.Ko(t,o,l,n,u).then(f=>(Qt(hS,`Received RPC '${t}' ${s}: `,f),f),f=>{throw np(hS,`RPC '${t}' ${s} failed with error: `,f,"url: ",o,"request:",n),f})}Wo(t,r,n,a,i,s){return this.Qo(t,r,n,a,i)}Uo(t,r,n){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+qp}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,i)=>t[i]=a),n&&n.headers.forEach((a,i)=>t[i]=a)}$o(t,r){const n=mne[t];return`${this.Lo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vne{constructor(t){this.Go=t.Go,this.zo=t.zo}jo(t){this.Ho=t}Jo(t){this.Yo=t}Zo(t){this.Xo=t}onMessage(t){this.e_=t}close(){this.zo()}send(t){this.Go(t)}t_(){this.Ho()}n_(){this.Yo()}r_(t){this.Xo(t)}i_(t){this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki="WebChannelConnection";class yne extends gne{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ko(t,r,n,a,i){const s=X4();return new Promise((o,l)=>{const c=new b9;c.setWithCredentials(!0),c.listenOnce(w9.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Zx.NO_ERROR:const f=c.getResponseJson();Qt(ki,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(f)),o(f);break;case Zx.TIMEOUT:Qt(ki,`RPC '${t}' ${s} timed out`),l(new Yt(gt.DEADLINE_EXCEEDED,"Request time out"));break;case Zx.HTTP_ERROR:const h=c.getStatus();if(Qt(ki,`RPC '${t}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const m=function(y){const b=y.toLowerCase().replace(/_/g,"-");return Object.values(gt).indexOf(b)>=0?b:gt.UNKNOWN}(g.status);l(new Yt(m,g.message))}else l(new Yt(gt.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Yt(gt.UNAVAILABLE,"Connection failed."));break;default:br(9055,{s_:t,streamId:s,o_:c.getLastErrorCode(),__:c.getLastError()})}}finally{Qt(ki,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(a);Qt(ki,`RPC '${t}' ${s} sending request:`,a),c.send(r,"POST",u,n,15)})}a_(t,r,n){const a=X4(),i=[this.Lo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=A9(),o=S9(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Uo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const u=i.join("");Qt(ki,`Creating RPC '${t}' stream ${a}: ${u}`,l);const f=s.createWebChannel(u,l);let h=!1,p=!1;const g=new vne({Go:v=>{p?Qt(ki,`Not sending because RPC '${t}' stream ${a} is closed:`,v):(h||(Qt(ki,`Opening RPC '${t}' stream ${a} transport.`),f.open(),h=!0),Qt(ki,`RPC '${t}' stream ${a} sending:`,v),f.send(v))},zo:()=>f.close()}),m=(v,y,b)=>{v.listen(y,w=>{try{b(w)}catch(D){setTimeout(()=>{throw D},0)}})};return m(f,sg.EventType.OPEN,()=>{p||(Qt(ki,`RPC '${t}' stream ${a} transport opened.`),g.t_())}),m(f,sg.EventType.CLOSE,()=>{p||(p=!0,Qt(ki,`RPC '${t}' stream ${a} transport closed`),g.r_())}),m(f,sg.EventType.ERROR,v=>{p||(p=!0,np(ki,`RPC '${t}' stream ${a} transport errored. Name:`,v.name,"Message:",v.message),g.r_(new Yt(gt.UNAVAILABLE,"The operation could not be completed")))}),m(f,sg.EventType.MESSAGE,v=>{var y;if(!p){const b=v.data[0];dn(!!b,16349);const w=b,D=(w==null?void 0:w.error)||((y=w[0])===null||y===void 0?void 0:y.error);if(D){Qt(ki,`RPC '${t}' stream ${a} received error:`,D);const P=D.status;let I=function(S){const j=Ea[S];if(j!==void 0)return sB(j)}(P),T=D.message;I===void 0&&(I=gt.INTERNAL,T="Unknown error status: "+P+" with message "+D.message),p=!0,g.r_(new Yt(I,T)),f.close()}else Qt(ki,`RPC '${t}' stream ${a} received:`,b),g.i_(b)}}),m(o,_9.STAT_EVENT,v=>{v.stat===F4.PROXY?Qt(ki,`RPC '${t}' stream ${a} detected buffering proxy`):v.stat===F4.NOPROXY&&Qt(ki,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{g.n_()},0),g}}function pS(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a5(e){return new _re(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wB{constructor(t,r,n=1e3,a=1.5,i=6e4){this.bi=t,this.timerId=r,this.u_=n,this.c_=a,this.l_=i,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const r=Math.floor(this.h_+this.d_()),n=Math.max(0,Date.now()-this.T_),a=Math.max(0,r-n);a>0&&Qt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.h_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,a,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="PersistentStream";class _B{constructor(t,r,n,a,i,s,o,l){this.bi=t,this.R_=n,this.V_=a,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new wB(t,r)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(t){this.M_(),this.stream.send(t)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(t,r){this.M_(),this.x_(),this.y_.cancel(),this.m_++,t!==4?this.y_.reset():r&&r.code===gt.RESOURCE_EXHAUSTED?(Hc(r.toString()),Hc("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):r&&r.code===gt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zo(r)}O_(){}auth(){this.state=1;const t=this.N_(this.m_),r=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,a])=>{this.m_===r&&this.B_(n,a)},n=>{t(()=>{const a=new Yt(gt.UNKNOWN,"Fetching auth token failed: "+n.message);return this.L_(a)})})}B_(t,r){const n=this.N_(this.m_);this.stream=this.k_(t,r),this.stream.jo(()=>{n(()=>this.listener.jo())}),this.stream.Jo(()=>{n(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(a=>{n(()=>this.L_(a))}),this.stream.onMessage(a=>{n(()=>++this.p_==1?this.q_(a):this.onNext(a))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(t){return Qt(gI,`close with error: ${t}`),this.stream=null,this.close(4,t)}N_(t){return r=>{this.bi.enqueueAndForget(()=>this.m_===t?r():(Qt(gI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xne extends _B{constructor(t,r,n,a,i,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,a,s),this.serializer=i}k_(t,r){return this.connection.a_("Listen",t,r)}q_(t){return this.onNext(t)}onNext(t){this.y_.reset();const r=Tre(this.serializer,t),n=function(i){if(!("targetChange"in i))return kr.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?kr.min():s.readTime?Hl(s.readTime):kr.min()}(t);return this.listener.Q_(r,n)}U_(t){const r={};r.database=K4(this.serializer),r.addTarget=function(i,s){let o;const l=s.target;if(o=z4(l)?{documents:kre(i,l)}:{query:hB(i,l).gt},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=cB(i,s.resumeToken);const c=W4(i,s.expectedCount);c!==null&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(kr.min())>0){o.readTime=eb(i,s.snapshotVersion.toTimestamp());const c=W4(i,s.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,t);const n=Ore(this.serializer,t);n&&(r.labels=n),this.F_(r)}K_(t){const r={};r.database=K4(this.serializer),r.removeTarget=t,this.F_(r)}}class bne extends _B{constructor(t,r,n,a,i,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,a,s),this.serializer=i}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(t,r){return this.connection.a_("Write",t,r)}q_(t){return dn(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,dn(!t.writeResults||t.writeResults.length===0,55816),this.listener.z_()}onNext(t){dn(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.y_.reset();const r=Nre(t.writeResults,t.commitTime),n=Hl(t.commitTime);return this.listener.j_(n,r)}H_(){const t={};t.database=K4(this.serializer),this.F_(t)}G_(t){const r={streamToken:this.lastStreamToken,writes:t.map(n=>Ere(this.serializer,n))};this.F_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wne{}class _ne extends wne{constructor(t,r,n,a){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=n,this.serializer=a,this.J_=!1}Y_(){if(this.J_)throw new Yt(gt.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(t,r,n,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Qo(t,H4(r,n),a,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Yt(gt.UNKNOWN,i.toString())})}Wo(t,r,n,a,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Wo(t,H4(r,n),a,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Yt(gt.UNKNOWN,s.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class Sne{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(t){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.na("Offline")))}set(t){this.sa(),this.Z_=0,t==="Online"&&(this.ea=!1),this.na(t)}na(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Hc(r),this.ea=!1):Qt("OnlineStateTracker",r)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh="RemoteStore";class Ane{constructor(t,r,n,a,i){this.localStore=t,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=i,this.ca.vo(s=>{n.enqueueAndForget(async()=>{ph(this)&&(Qt(eh,"Restarting streams for network reachability change."),await async function(l){const c=Er(l);c.aa.add(4),await $1(c),c.la.set("Unknown"),c.aa.delete(4),await i5(c)}(this))})}),this.la=new Sne(n,a)}}async function i5(e){if(ph(e))for(const t of e.ua)await t(!0)}async function $1(e){for(const t of e.ua)await t(!1)}function SB(e,t){const r=Er(e);r._a.has(t.targetId)||(r._a.set(t.targetId,t),RN(r)?MN(r):Kp(r).b_()&&LN(r,t))}function DN(e,t){const r=Er(e),n=Kp(r);r._a.delete(t),n.b_()&&AB(r,t),r._a.size===0&&(n.b_()?n.v_():ph(r)&&r.la.set("Unknown"))}function LN(e,t){if(e.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(kr.min())>0){const r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}Kp(e).U_(t)}function AB(e,t){e.ha.Ke(t),Kp(e).K_(t)}function MN(e){e.ha=new yre({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e._a.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),Kp(e).start(),e.la.ta()}function RN(e){return ph(e)&&!Kp(e).w_()&&e._a.size>0}function ph(e){return Er(e).aa.size===0}function TB(e){e.ha=void 0}async function Tne(e){e.la.set("Online")}async function Ene(e){e._a.forEach((t,r)=>{LN(e,t)})}async function Nne(e,t){TB(e),RN(e)?(e.la.ia(t),MN(e)):e.la.set("Unknown")}async function kne(e,t,r){if(e.la.set("Online"),t instanceof lB&&t.state===2&&t.cause)try{await async function(a,i){const s=i.cause;for(const o of i.targetIds)a._a.has(o)&&(await a.remoteSyncer.rejectListen(o,s),a._a.delete(o),a.ha.removeTarget(o))}(e,t)}catch(n){Qt(eh,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await rb(e,n)}else if(t instanceof n2?e.ha.Xe(t):t instanceof oB?e.ha.ot(t):e.ha.nt(t),!r.isEqual(kr.min()))try{const n=await bB(e.localStore);r.compareTo(n)>=0&&await function(i,s){const o=i.ha.It(s);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i._a.get(c);u&&i._a.set(c,u.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,c)=>{const u=i._a.get(l);if(!u)return;i._a.set(l,u.withResumeToken(Si.EMPTY_BYTE_STRING,u.snapshotVersion)),AB(i,l);const f=new tf(u.target,l,c,u.sequenceNumber);LN(i,f)}),i.remoteSyncer.applyRemoteEvent(o)}(e,r)}catch(n){Qt(eh,"Failed to raise snapshot:",n),await rb(e,n)}}async function rb(e,t,r){if(!Hp(t))throw t;e.aa.add(1),await $1(e),e.la.set("Offline"),r||(r=()=>bB(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Qt(eh,"Retrying IndexedDB access"),await r(),e.aa.delete(1),await i5(e)})}function EB(e,t){return t().catch(r=>rb(e,r,t))}async function s5(e){const t=Er(e),r=jf(t);let n=t.oa.length>0?t.oa[t.oa.length-1].batchId:wN;for(;Cne(t);)try{const a=await une(t.localStore,n);if(a===null){t.oa.length===0&&r.v_();break}n=a.batchId,Pne(t,a)}catch(a){await rb(t,a)}NB(t)&&kB(t)}function Cne(e){return ph(e)&&e.oa.length<10}function Pne(e,t){e.oa.push(t);const r=jf(e);r.b_()&&r.W_&&r.G_(t.mutations)}function NB(e){return ph(e)&&!jf(e).w_()&&e.oa.length>0}function kB(e){jf(e).start()}async function One(e){jf(e).H_()}async function Ine(e){const t=jf(e);for(const r of e.oa)t.G_(r.mutations)}async function jne(e,t,r){const n=e.oa.shift(),a=NN.from(n,t,r);await EB(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await s5(e)}async function Dne(e,t){t&&jf(e).W_&&await async function(n,a){if(function(s){return gre(s)&&s!==gt.ABORTED}(a.code)){const i=n.oa.shift();jf(n).D_(),await EB(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,a)),await s5(n)}}(e,t),NB(e)&&kB(e)}async function vI(e,t){const r=Er(e);r.asyncQueue.verifyOperationInProgress(),Qt(eh,"RemoteStore received new credentials");const n=ph(r);r.aa.add(3),await $1(r),n&&r.la.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.aa.delete(3),await i5(r)}async function Lne(e,t){const r=Er(e);t?(r.aa.delete(2),await i5(r)):t||(r.aa.add(2),await $1(r),r.la.set("Unknown"))}function Kp(e){return e.Pa||(e.Pa=function(r,n,a){const i=Er(r);return i.Y_(),new xne(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(e.datastore,e.asyncQueue,{jo:Tne.bind(null,e),Jo:Ene.bind(null,e),Zo:Nne.bind(null,e),Q_:kne.bind(null,e)}),e.ua.push(async t=>{t?(e.Pa.D_(),RN(e)?MN(e):e.la.set("Unknown")):(await e.Pa.stop(),TB(e))})),e.Pa}function jf(e){return e.Ta||(e.Ta=function(r,n,a){const i=Er(r);return i.Y_(),new bne(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(e.datastore,e.asyncQueue,{jo:()=>Promise.resolve(),Jo:One.bind(null,e),Zo:Dne.bind(null,e),z_:Ine.bind(null,e),j_:jne.bind(null,e)}),e.ua.push(async t=>{t?(e.Ta.D_(),await s5(e)):(await e.Ta.stop(),e.oa.length>0&&(Qt(eh,`Stopping write stream with ${e.oa.length} pending writes`),e.oa=[]))})),e.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(t,r,n,a,i){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=n,this.op=a,this.removalCallback=i,this.deferred=new ql,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,n,a,i){const s=Date.now()+n,o=new FN(t,r,s,a,i);return o.start(n),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Yt(gt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $N(e,t){if(Hc("AsyncQueue",`${t}: ${e}`),Hp(e))return new Yt(gt.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{static emptySet(t){return new M0(t.comparator)}constructor(t){this.comparator=t?(r,n)=>t(r,n)||fr.comparator(r.key,n.key):(r,n)=>fr.comparator(r.key,n.key),this.keyedMap=og(),this.sortedSet=new na(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,n)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof M0)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;r.hasNext();){const a=r.getNext().key,i=n.getNext().key;if(!a.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const n=new M0;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(){this.Ia=new na(fr.comparator)}track(t){const r=t.doc.key,n=this.Ia.get(r);n?t.type!==0&&n.type===3?this.Ia=this.Ia.insert(r,t):t.type===3&&n.type!==1?this.Ia=this.Ia.insert(r,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.Ia=this.Ia.insert(r,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.Ia=this.Ia.insert(r,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.Ia=this.Ia.remove(r):t.type===1&&n.type===2?this.Ia=this.Ia.insert(r,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.Ia=this.Ia.insert(r,{type:2,doc:t.doc}):br(63341,{Vt:t,Ea:n}):this.Ia=this.Ia.insert(r,t)}da(){const t=[];return this.Ia.inorderTraversal((r,n)=>{t.push(n)}),t}}class lp{constructor(t,r,n,a,i,s,o,l,c){this.query=t,this.docs=r,this.oldDocs=n,this.docChanges=a,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,r,n,a,i){const s=[];return r.forEach(o=>{s.push({type:0,doc:o})}),new lp(t,r,M0.emptySet(r),s,n,a,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Jw(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,n=t.docChanges;if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(r[a].type!==n[a].type||!r[a].doc.isEqual(n[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mne{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(t=>t.ma())}}class Rne{constructor(){this.queries=xI(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(r,n){const a=Er(r),i=a.queries;a.queries=xI(),i.forEach((s,o)=>{for(const l of o.Ra)l.onError(n)})})(this,new Yt(gt.ABORTED,"Firestore shutting down"))}}function xI(){return new hh(e=>K9(e),Jw)}async function BN(e,t){const r=Er(e);let n=3;const a=t.query;let i=r.queries.get(a);i?!i.Va()&&t.ma()&&(n=2):(i=new Mne,n=t.ma()?0:1);try{switch(n){case 0:i.Aa=await r.onListen(a,!0);break;case 1:i.Aa=await r.onListen(a,!1);break;case 2:await r.onFirstRemoteStoreListen(a)}}catch(s){const o=$N(s,`Initialization of query '${r0(t.query)}' failed`);return void t.onError(o)}r.queries.set(a,i),i.Ra.push(t),t.ga(r.onlineState),i.Aa&&t.pa(i.Aa)&&VN(r)}async function UN(e,t){const r=Er(e),n=t.query;let a=3;const i=r.queries.get(n);if(i){const s=i.Ra.indexOf(t);s>=0&&(i.Ra.splice(s,1),i.Ra.length===0?a=t.ma()?0:1:!i.Va()&&t.ma()&&(a=2))}switch(a){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function Fne(e,t){const r=Er(e);let n=!1;for(const a of t){const i=a.query,s=r.queries.get(i);if(s){for(const o of s.Ra)o.pa(a)&&(n=!0);s.Aa=a}}n&&VN(r)}function $ne(e,t,r){const n=Er(e),a=n.queries.get(t);if(a)for(const i of a.Ra)i.onError(r);n.queries.delete(t)}function VN(e){e.fa.forEach(t=>{t.next()})}var Q4,bI;(bI=Q4||(Q4={})).ya="default",bI.Cache="cache";class zN{constructor(t,r,n){this.query=t,this.wa=r,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=n||{}}pa(t){if(!this.options.includeMetadataChanges){const n=[];for(const a of t.docChanges)a.type!==3&&n.push(a);t=new lp(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.ba?this.Da(t)&&(this.wa.next(t),r=!0):this.va(t,this.onlineState)&&(this.Ca(t),r=!0),this.Sa=t,r}onError(t){this.wa.error(t)}ga(t){this.onlineState=t;let r=!1;return this.Sa&&!this.ba&&this.va(this.Sa,t)&&(this.Ca(this.Sa),r=!0),r}va(t,r){if(!t.fromCache||!this.ma())return!0;const n=r!=="Offline";return(!this.options.Fa||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}Da(t){if(t.docChanges.length>0)return!0;const r=this.Sa&&this.Sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Ca(t){t=lp.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ba=!0,this.wa.next(t)}ma(){return this.options.source!==Q4.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CB{constructor(t){this.key=t}}class PB{constructor(t){this.key=t}}class Bne{constructor(t,r){this.query=t,this.qa=r,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Gr(),this.mutatedKeys=Gr(),this.Ua=Y9(t),this.Ka=new M0(this.Ua)}get Wa(){return this.qa}Ga(t,r){const n=r?r.za:new yI,a=r?r.Ka:this.Ka;let i=r?r.mutatedKeys:this.mutatedKeys,s=a,o=!1;const l=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,c=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((u,f)=>{const h=a.get(u),p=Zw(this.query,f)?f:null,g=!!h&&this.mutatedKeys.has(h.key),m=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;h&&p?h.data.isEqual(p.data)?g!==m&&(n.track({type:3,doc:p}),v=!0):this.ja(h,p)||(n.track({type:2,doc:p}),v=!0,(l&&this.Ua(p,l)>0||c&&this.Ua(p,c)<0)&&(o=!0)):!h&&p?(n.track({type:0,doc:p}),v=!0):h&&!p&&(n.track({type:1,doc:h}),v=!0,(l||c)&&(o=!0)),v&&(p?(s=s.add(p),i=m?i.add(u):i.delete(u)):(s=s.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),i=i.delete(u.key),n.track({type:1,doc:u})}return{Ka:s,za:n,ys:o,mutatedKeys:i}}ja(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,n,a){const i=this.Ka;this.Ka=t.Ka,this.mutatedKeys=t.mutatedKeys;const s=t.za.da();s.sort((u,f)=>function(p,g){const m=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return br(20277,{Vt:v})}};return m(p)-m(g)}(u.type,f.type)||this.Ua(u.doc,f.doc)),this.Ha(n),a=a!=null&&a;const o=r&&!a?this.Ja():[],l=this.$a.size===0&&this.current&&!a?1:0,c=l!==this.Qa;return this.Qa=l,s.length!==0||c?{snapshot:new lp(this.query,t.Ka,i,s,t.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ya:o}:{Ya:o}}ga(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new yI,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(t){return!this.qa.has(t)&&!!this.Ka.has(t)&&!this.Ka.get(t).hasLocalMutations}Ha(t){t&&(t.addedDocuments.forEach(r=>this.qa=this.qa.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.qa=this.qa.delete(r)),this.current=t.current)}Ja(){if(!this.current)return[];const t=this.$a;this.$a=Gr(),this.Ka.forEach(n=>{this.Za(n.key)&&(this.$a=this.$a.add(n.key))});const r=[];return t.forEach(n=>{this.$a.has(n)||r.push(new PB(n))}),this.$a.forEach(n=>{t.has(n)||r.push(new CB(n))}),r}Xa(t){this.qa=t.Ns,this.$a=Gr();const r=this.Ga(t.documents);return this.applyChanges(r,!0)}eu(){return lp.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const qN="SyncEngine";class Une{constructor(t,r,n){this.query=t,this.targetId=r,this.view=n}}class Vne{constructor(t){this.key=t,this.tu=!1}}class zne{constructor(t,r,n,a,i,s){this.localStore=t,this.remoteStore=r,this.eventManager=n,this.sharedClientState=a,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.nu={},this.ru=new hh(o=>K9(o),Jw),this.iu=new Map,this.su=new Set,this.ou=new na(fr.comparator),this._u=new Map,this.au=new PN,this.uu={},this.cu=new Map,this.lu=op.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function qne(e,t,r=!0){const n=MB(e);let a;const i=n.ru.get(t);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),a=i.view.eu()):a=await OB(n,t,r,!0),a}async function Wne(e,t){const r=MB(e);await OB(r,t,!0,!1)}async function OB(e,t,r,n){const a=await fne(e.localStore,Wl(t)),i=a.targetId,s=e.sharedClientState.addLocalQueryTarget(i,r);let o;return n&&(o=await Hne(e,t,i,s==="current",a.resumeToken)),e.isPrimaryClient&&r&&SB(e.remoteStore,a),o}async function Hne(e,t,r,n,a){e.Pu=(f,h,p)=>async function(m,v,y,b){let w=v.view.Ga(y);w.ys&&(w=await dI(m.localStore,v.query,!1).then(({documents:T})=>v.view.Ga(T,w)));const D=b&&b.targetChanges.get(v.targetId),P=b&&b.targetMismatches.get(v.targetId)!=null,I=v.view.applyChanges(w,m.isPrimaryClient,D,P);return _I(m,v.targetId,I.Ya),I.snapshot}(e,f,h,p);const i=await dI(e.localStore,t,!0),s=new Bne(t,i.Ns),o=s.Ga(i.documents),l=F1.createSynthesizedTargetChangeForCurrentChange(r,n&&e.onlineState!=="Offline",a),c=s.applyChanges(o,e.isPrimaryClient,l);_I(e,r,c.Ya);const u=new Une(t,r,s);return e.ru.set(t,u),e.iu.has(r)?e.iu.get(r).push(t):e.iu.set(r,[t]),c.snapshot}async function Gne(e,t,r){const n=Er(e),a=n.ru.get(t),i=n.iu.get(a.targetId);if(i.length>1)return n.iu.set(a.targetId,i.filter(s=>!Jw(s,t))),void n.ru.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(a.targetId),n.sharedClientState.isActiveQueryTarget(a.targetId)||await Y4(n.localStore,a.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(a.targetId),r&&DN(n.remoteStore,a.targetId),J4(n,a.targetId)}).catch(Wp)):(J4(n,a.targetId),await Y4(n.localStore,a.targetId,!0))}async function Kne(e,t){const r=Er(e),n=r.ru.get(t),a=r.iu.get(n.targetId);r.isPrimaryClient&&a.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),DN(r.remoteStore,n.targetId))}async function Yne(e,t,r){const n=rae(e);try{const a=await function(s,o){const l=Er(s),c=lr.now(),u=o.reduce((p,g)=>p.add(g.key),Gr());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=Gc(),m=Gr();return l.Cs.getEntries(p,u).next(v=>{g=v,g.forEach((y,b)=>{b.isValidDocument()||(m=m.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(v=>{f=v;const y=[];for(const b of o){const w=ure(b,f.get(b.key).overlayedDocument);w!=null&&y.push(new qf(b.key,w,$9(w.value.mapValue),ds.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,y,o)}).next(v=>{h=v;const y=v.applyToLocalDocumentSet(f,m);return l.documentOverlayCache.saveOverlays(p,v.batchId,y)})}).then(()=>({batchId:h.batchId,changes:Q9(f)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(a.batchId),function(s,o,l){let c=s.uu[s.currentUser.toKey()];c||(c=new na(Ur)),c=c.insert(o,l),s.uu[s.currentUser.toKey()]=c}(n,a.batchId,r),await B1(n,a.changes),await s5(n.remoteStore)}catch(a){const i=$N(a,"Failed to persist write");r.reject(i)}}async function IB(e,t){const r=Er(e);try{const n=await lne(r.localStore,t);t.targetChanges.forEach((a,i)=>{const s=r._u.get(i);s&&(dn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?s.tu=!0:a.modifiedDocuments.size>0?dn(s.tu,14607):a.removedDocuments.size>0&&(dn(s.tu,42227),s.tu=!1))}),await B1(r,n,t)}catch(n){await Wp(n)}}function wI(e,t,r){const n=Er(e);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const a=[];n.ru.forEach((i,s)=>{const o=s.view.ga(t);o.snapshot&&a.push(o.snapshot)}),function(s,o){const l=Er(s);l.onlineState=o;let c=!1;l.queries.forEach((u,f)=>{for(const h of f.Ra)h.ga(o)&&(c=!0)}),c&&VN(l)}(n.eventManager,t),a.length&&n.nu.Q_(a),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function Xne(e,t,r){const n=Er(e);n.sharedClientState.updateQueryState(t,"rejected",r);const a=n._u.get(t),i=a&&a.key;if(i){let s=new na(fr.comparator);s=s.insert(i,$i.newNoDocument(i,kr.min()));const o=Gr().add(i),l=new n5(kr.min(),new Map,new na(Ur),s,o);await IB(n,l),n.ou=n.ou.remove(i),n._u.delete(t),WN(n)}else await Y4(n.localStore,t,!1).then(()=>J4(n,t,r)).catch(Wp)}async function Qne(e,t){const r=Er(e),n=t.batch.batchId;try{const a=await one(r.localStore,t);DB(r,n,null),jB(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await B1(r,a)}catch(a){await Wp(a)}}async function Jne(e,t,r){const n=Er(e);try{const a=await function(s,o){const l=Er(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next(f=>(dn(f!==null,37113),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(n.localStore,t);DB(n,t,r),jB(n,t),n.sharedClientState.updateMutationState(t,"rejected",r),await B1(n,a)}catch(a){await Wp(a)}}function jB(e,t){(e.cu.get(t)||[]).forEach(r=>{r.resolve()}),e.cu.delete(t)}function DB(e,t,r){const n=Er(e);let a=n.uu[n.currentUser.toKey()];if(a){const i=a.get(t);i&&(r?i.reject(r):i.resolve(),a=a.remove(t)),n.uu[n.currentUser.toKey()]=a}}function J4(e,t,r=null){e.sharedClientState.removeLocalQueryTarget(t);for(const n of e.iu.get(t))e.ru.delete(n),r&&e.nu.Tu(n,r);e.iu.delete(t),e.isPrimaryClient&&e.au.Ur(t).forEach(n=>{e.au.containsKey(n)||LB(e,n)})}function LB(e,t){e.su.delete(t.path.canonicalString());const r=e.ou.get(t);r!==null&&(DN(e.remoteStore,r),e.ou=e.ou.remove(t),e._u.delete(r),WN(e))}function _I(e,t,r){for(const n of r)n instanceof CB?(e.au.addReference(n.key,t),Zne(e,n)):n instanceof PB?(Qt(qN,"Document no longer in limbo: "+n.key),e.au.removeReference(n.key,t),e.au.containsKey(n.key)||LB(e,n.key)):br(19791,{Iu:n})}function Zne(e,t){const r=t.key,n=r.path.canonicalString();e.ou.get(r)||e.su.has(n)||(Qt(qN,"New document in limbo: "+r),e.su.add(n),WN(e))}function WN(e){for(;e.su.size>0&&e.ou.size<e.maxConcurrentLimboResolutions;){const t=e.su.values().next().value;e.su.delete(t);const r=new fr(qn.fromString(t)),n=e.lu.next();e._u.set(n,new Vne(r)),e.ou=e.ou.insert(r,n),SB(e.remoteStore,new tf(Wl(Qw(r.path)),n,"TargetPurposeLimboResolution",Kw.le))}}async function B1(e,t,r){const n=Er(e),a=[],i=[],s=[];n.ru.isEmpty()||(n.ru.forEach((o,l)=>{s.push(n.Pu(l,t,r).then(c=>{var u;if((c||r)&&n.isPrimaryClient){const f=c?!c.fromCache:(u=r==null?void 0:r.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){a.push(c);const f=IN.Ps(l.targetId,c);i.push(f)}}))}),await Promise.all(s),n.nu.Q_(a),await async function(l,c){const u=Er(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>bt.forEach(c,h=>bt.forEach(h.ls,p=>u.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>bt.forEach(h.hs,p=>u.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!Hp(f))throw f;Qt(jN,"Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const p=u.Ss.get(h),g=p.snapshotVersion,m=p.withLastLimboFreeSnapshotVersion(g);u.Ss=u.Ss.insert(h,m)}}}(n.localStore,i))}async function eae(e,t){const r=Er(e);if(!r.currentUser.isEqual(t)){Qt(qN,"User change. New user:",t.toKey());const n=await xB(r.localStore,t);r.currentUser=t,function(i,s){i.cu.forEach(o=>{o.forEach(l=>{l.reject(new Yt(gt.CANCELLED,s))})}),i.cu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await B1(r,n.Ms)}}function tae(e,t){const r=Er(e),n=r._u.get(t);if(n&&n.tu)return Gr().add(n.key);{let a=Gr();const i=r.iu.get(t);if(!i)return a;for(const s of i){const o=r.ru.get(s);a=a.unionWith(o.view.Wa)}return a}}function MB(e){const t=Er(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=IB.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=tae.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Xne.bind(null,t),t.nu.Q_=Fne.bind(null,t.eventManager),t.nu.Tu=$ne.bind(null,t.eventManager),t}function rae(e){const t=Er(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Qne.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Jne.bind(null,t),t}class nb{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=a5(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),await this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)}mu(t,r){return null}fu(t,r){return null}Vu(t){return sne(this.persistence,new nne,t.initialUser,this.serializer)}Ru(t){return new yB(ON.Ei,this.serializer)}Au(t){return new hne}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nb.provider={build:()=>new nb};class nae extends nb{constructor(t){super(),this.cacheSizeBytes=t}mu(t,r){dn(this.persistence.referenceDelegate instanceof tb,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Vre(n,t.asyncQueue,r)}Ru(t){const r=this.cacheSizeBytes!==void 0?_s.withCacheSize(this.cacheSizeBytes):_s.DEFAULT;return new yB(n=>tb.Ei(n,r),this.serializer)}}class Z4{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>wI(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=eae.bind(null,this.syncEngine),await Lne(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Rne}()}createDatastore(t){const r=a5(t.databaseInfo.databaseId),n=function(i){return new yne(i)}(t.databaseInfo);return function(i,s,o,l){return new _ne(i,s,o,l)}(t.authCredentials,t.appCheckCredentials,n,r)}createRemoteStore(t){return function(n,a,i,s,o){return new Ane(n,a,i,s,o)}(this.localStore,this.datastore,t.asyncQueue,r=>wI(this.syncEngine,r,0),function(){return mI.C()?new mI:new pne}())}createSyncEngine(t,r){return function(a,i,s,o,l,c,u){const f=new zne(a,i,s,o,l,c);return u&&(f.hu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(a){const i=Er(a);Qt(eh,"RemoteStore shutting down."),i.aa.add(5),await $1(i),i.ca.shutdown(),i.la.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Z4.provider={build:()=>new Z4};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.pu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.pu(this.observer.error,t):Hc("Uncaught Error in snapshot listener:",t.toString()))}yu(){this.muted=!0}pu(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df="FirestoreClient";class aae{constructor(t,r,n,a,i){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=a,this.user=Mi.UNAUTHENTICATED,this.clientId=k9.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async s=>{Qt(Df,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(Qt(Df,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ql;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const n=$N(r,"Failed to shutdown persistence");t.reject(n)}}),t.promise}}async function mS(e,t){e.asyncQueue.verifyOperationInProgress(),Qt(Df,"Initializing OfflineComponentProvider");const r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener(async a=>{n.isEqual(a)||(await xB(t.localStore,a),n=a)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function SI(e,t){e.asyncQueue.verifyOperationInProgress();const r=await iae(e);Qt(Df,"Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener(n=>vI(t.remoteStore,n)),e.setAppCheckTokenChangeListener((n,a)=>vI(t.remoteStore,a)),e._onlineComponents=t}async function iae(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Qt(Df,"Using user provided OfflineComponentProvider");try{await mS(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(a){return a.name==="FirebaseError"?a.code===gt.FAILED_PRECONDITION||a.code===gt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(r))throw r;np("Error using user provided cache. Falling back to memory cache: "+r),await mS(e,new nb)}}else Qt(Df,"Using default OfflineComponentProvider"),await mS(e,new nae(void 0));return e._offlineComponents}async function GN(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Qt(Df,"Using user provided OnlineComponentProvider"),await SI(e,e._uninitializedComponentsProvider._online)):(Qt(Df,"Using default OnlineComponentProvider"),await SI(e,new Z4))),e._onlineComponents}function sae(e){return GN(e).then(t=>t.syncEngine)}function oae(e){return GN(e).then(t=>t.datastore)}async function ab(e){const t=await GN(e),r=t.eventManager;return r.onListen=qne.bind(null,t.syncEngine),r.onUnlisten=Gne.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=Wne.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=Kne.bind(null,t.syncEngine),r}function lae(e,t,r={}){const n=new ql;return e.asyncQueue.enqueueAndForget(async()=>function(i,s,o,l,c){const u=new HN({next:h=>{u.yu(),s.enqueueAndForget(()=>UN(i,f));const p=h.docs.has(o);!p&&h.fromCache?c.reject(new Yt(gt.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?c.reject(new Yt(gt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new zN(Qw(o.path),u,{includeMetadataChanges:!0,Fa:!0});return BN(i,f)}(await ab(e),e.asyncQueue,t,r,n)),n.promise}function cae(e,t,r={}){const n=new ql;return e.asyncQueue.enqueueAndForget(async()=>function(i,s,o,l,c){const u=new HN({next:h=>{u.yu(),s.enqueueAndForget(()=>UN(i,f)),h.fromCache&&l.source==="server"?c.reject(new Yt(gt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new zN(o,u,{includeMetadataChanges:!0,Fa:!0});return BN(i,f)}(await ab(e),e.asyncQueue,t,r,n)),n.promise}function uae(e,t,r){const n=new ql;return e.asyncQueue.enqueueAndForget(async()=>{try{const a=await oae(e);n.resolve(async function(s,o,l){var c;const u=Er(s),{request:f,yt:h,parent:p}=Cre(u.serializer,Yte(o),l);u.connection.Bo||delete f.parent;const g=(await u.Wo("RunAggregationQuery",u.serializer.databaseId,p,f,1)).filter(v=>!!v.result);dn(g.length===1,64727);const m=(c=g[0].result)===null||c===void 0?void 0:c.aggregateFields;return Object.keys(m).reduce((v,y)=>(v[h[y]]=m[y],v),{})}(a,t,r))}catch(a){n.reject(a)}}),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RB(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FB(e,t,r){if(!r)throw new Yt(gt.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function fae(e,t,r,n){if(t===!0&&n===!0)throw new Yt(gt.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)}function TI(e){if(!fr.isDocumentKey(e))throw new Yt(gt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function EI(e){if(fr.isDocumentKey(e))throw new Yt(gt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function o5(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":br(12329,{type:typeof e})}function Wi(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Yt(gt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=o5(e);throw new Yt(gt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}function dae(e,t){if(t<=0)throw new Yt(gt.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $B="firestore.googleapis.com",NI=!0;class kI{constructor(t){var r,n;if(t.host===void 0){if(t.ssl!==void 0)throw new Yt(gt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$B,this.ssl=NI}else this.host=t.host,this.ssl=(r=t.ssl)!==null&&r!==void 0?r:NI;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=vB;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Bre)throw new Yt(gt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}fae("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RB((n=t.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Yt(gt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Yt(gt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Yt(gt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,a){return n.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class l5{constructor(t,r,n,a){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=n,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Yt(gt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Yt(gt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kI(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new mte;switch(n.type){case"firstParty":return new xte(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Yt(gt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,f9("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=AI.get(r);n&&(Qt("ComponentProvider","Removing Datastore"),AI.delete(r),n.terminate())}(this),Promise.resolve()}}function hae(e,t,r,n={}){var a;e=Wi(e,l5);const i=yN(t),s=e._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:e._getEmulatorOptions()}),l=`${t}:${r}`;s.host!==$B&&s.host!==l&&np("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},s),{host:l,ssl:i,emulatorOptions:n});if(!W2(c,o)&&(e._setSettings(c),i&&(zZ(`https://${l}`),f9("Firestore",!0)),n.mockUserToken)){let u,f;if(typeof n.mockUserToken=="string")u=n.mockUserToken,f=Mi.MOCK_USER;else{u=qZ(n.mockUserToken,(a=e._app)===null||a===void 0?void 0:a.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new Yt(gt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Mi(h)}e._authCredentials=new gte(new E9(u,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(t,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new su(this.firestore,t,this._query)}}class Hi{constructor(t,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bf(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Hi(this.firestore,t,this._key)}}class bf extends su{constructor(t,r,n){super(t,r,Qw(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Hi(this.firestore,null,new fr(t))}withConverter(t){return new bf(this.firestore,t,this._path)}}function mt(e,t,...r){if(e=Io(e),FB("collection","path",t),e instanceof l5){const n=qn.fromString(t,...r);return EI(n),new bf(e,null,n)}{if(!(e instanceof Hi||e instanceof bf))throw new Yt(gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(qn.fromString(t,...r));return EI(n),new bf(e.firestore,null,n)}}function Ar(e,t,...r){if(e=Io(e),arguments.length===1&&(t=k9.newId()),FB("doc","path",t),e instanceof l5){const n=qn.fromString(t,...r);return TI(n),new Hi(e,null,new fr(n))}{if(!(e instanceof Hi||e instanceof bf))throw new Yt(gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(qn.fromString(t,...r));return TI(n),new Hi(e.firestore,e instanceof bf?e.converter:null,new fr(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI="AsyncQueue";class PI{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new wB(this,"async_queue_retry"),this.ju=()=>{const n=pS();n&&Qt(CI,"Visibility state changed to "+n.visibilityState),this.y_.A_()},this.Hu=t;const r=pS();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const r=pS();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const r=new ql;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!Hp(t))throw t;Qt(CI,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const r=this.Hu.then(()=>(this.Wu=!0,t().catch(n=>{throw this.Ku=n,this.Wu=!1,Hc("INTERNAL UNHANDLED ERROR: ",OI(n)),n}).then(n=>(this.Wu=!1,n))));return this.Hu=r,r}enqueueAfterDelay(t,r,n){this.Ju(),this.zu.indexOf(t)>-1&&(r=0);const a=FN.createAndSchedule(this,t,r,n,i=>this.Xu(i));return this.Uu.push(a),a}Ju(){this.Ku&&br(47125,{ec:OI(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const r of this.Uu)if(r.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Uu)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const r=this.Uu.indexOf(t);this.Uu.splice(r,1)}}function OI(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(e){return function(r,n){if(typeof r!="object"||r===null)return!1;const a=r;for(const i of n)if(i in a&&typeof a[i]=="function")return!0;return!1}(e,["next","error","complete"])}class bl extends l5{constructor(t,r,n,a){super(t,r,n,a),this.type="firestore",this._queue=new PI,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new PI(t),this._firestoreClient=void 0,await t}}}function pae(e,t){const r=typeof e=="object"?e:rte(),n=typeof e=="string"?e:Y2,a=Qee(r,"firestore").getImmediate({identifier:n});if(!a._initialized){const i=UZ("firestore");i&&hae(a,...i)}return a}function Yp(e){if(e._terminated)throw new Yt(gt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||mae(e),e._firestoreClient}function mae(e){var t,r,n;const a=e._freezeSettings(),i=function(o,l,c,u){return new Lte(o,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,RB(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,a);e._componentsProvider||!((r=a.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=a.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(e._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),e._firestoreClient=new aae(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gae{constructor(t="count",r){this._internalFieldPath=r,this.type="AggregateField",this.aggregateType=t}}class vae{constructor(t,r,n){this._userDataWriter=r,this._data=n,this.type="AggregateQuerySnapshot",this.query=t}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(t){this._byteString=t}static fromBase64String(t){try{return new cp(Si.fromBase64String(t))}catch(r){throw new Yt(gt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new cp(Si.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new Yt(gt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new Yt(gt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new Yt(gt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ur(this._lat,t._lat)||Ur(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(n,a){if(n.length!==a.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==a[i])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yae=/^__.*__$/;class xae{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return this.fieldMask!==null?new qf(t,this.data,this.fieldMask,r,this.fieldTransforms):new R1(t,this.data,r,this.fieldTransforms)}}class BB{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return new qf(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function UB(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw br(40011,{oc:e})}}class XN{constructor(t,r,n,a,i,s){this.settings=t,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=a,i===void 0&&this._c(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(t){return new XN(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(t){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(t),a=this.ac({path:n,cc:!1});return a.lc(t),a}hc(t){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(t),a=this.ac({path:n,cc:!1});return a._c(),a}Pc(t){return this.ac({path:void 0,cc:!0})}Tc(t){return ib(t,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}_c(){if(this.path)for(let t=0;t<this.path.length;t++)this.lc(this.path.get(t))}lc(t){if(t.length===0)throw this.Tc("Document fields must not be empty");if(UB(this.oc)&&yae.test(t))throw this.Tc('Document fields cannot begin and end with "__"')}}class bae{constructor(t,r,n){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=n||a5(t)}dc(t,r,n,a=!1){return new XN({oc:t,methodName:r,Ec:n,path:gi.emptyPath(),cc:!1,Ic:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function V1(e){const t=e._freezeSettings(),r=a5(e._databaseId);return new bae(e._databaseId,!!t.ignoreUndefinedProperties,r)}function QN(e,t,r,n,a,i={}){const s=e.dc(i.merge||i.mergeFields?2:0,t,r,a);ZN("Data must be an object, but it was:",s,n);const o=qB(n,s);let l,c;if(i.merge)l=new Ys(s.fieldMask),c=s.fieldTransforms;else if(i.mergeFields){const u=[];for(const f of i.mergeFields){const h=eT(t,f,r);if(!s.contains(h))throw new Yt(gt.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);HB(u,h)||u.push(h)}l=new Ys(u),c=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=s.fieldTransforms;return new xae(new Ts(o),l,c)}class z1 extends c5{_toFieldTransform(t){if(t.oc!==2)throw t.oc===1?t.Tc(`${this._methodName}() can only appear at the top level of your update data`):t.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof z1}}class JN extends c5{_toFieldTransform(t){return new sre(t.path,new Cv)}isEqual(t){return t instanceof JN}}function VB(e,t,r,n){const a=e.dc(1,t,r);ZN("Data must be an object, but it was:",a,n);const i=[],s=Ts.empty();zf(n,(l,c)=>{const u=ek(t,l,r);c=Io(c);const f=a.hc(u);if(c instanceof z1)i.push(u);else{const h=q1(c,f);h!=null&&(i.push(u),s.set(u,h))}});const o=new Ys(i);return new BB(s,o,a.fieldTransforms)}function zB(e,t,r,n,a,i){const s=e.dc(1,t,r),o=[eT(t,n,r)],l=[a];if(i.length%2!=0)throw new Yt(gt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)o.push(eT(t,i[h])),l.push(i[h+1]);const c=[],u=Ts.empty();for(let h=o.length-1;h>=0;--h)if(!HB(c,o[h])){const p=o[h];let g=l[h];g=Io(g);const m=s.hc(p);if(g instanceof z1)c.push(p);else{const v=q1(g,m);v!=null&&(c.push(p),u.set(p,v))}}const f=new Ys(c);return new BB(u,f,s.fieldTransforms)}function wae(e,t,r,n=!1){return q1(r,e.dc(n?4:3,t))}function q1(e,t){if(WB(e=Io(e)))return ZN("Unsupported field value:",t,e),qB(e,t);if(e instanceof c5)return function(n,a){if(!UB(a.oc))throw a.Tc(`${n._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Tc(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(a);i&&a.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.cc&&t.oc!==4)throw t.Tc("Nested arrays are not supported");return function(n,a){const i=[];let s=0;for(const o of n){let l=q1(o,a.Pc(s));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,a){if((n=Io(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return nre(a.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=lr.fromDate(n);return{timestampValue:eb(a.serializer,i)}}if(n instanceof lr){const i=new lr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:eb(a.serializer,i)}}if(n instanceof KN)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof cp)return{bytesValue:cB(a.serializer,n._byteString)};if(n instanceof Hi){const i=a.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw a.Tc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:CN(n.firestore._databaseId||a.databaseId,n._key.path)}}if(n instanceof YN)return function(s,o){return{mapValue:{fields:{[M9]:{stringValue:F9},[X2]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw o.Tc("VectorValues must only contain numeric values.");return EN(o.serializer,c)})}}}}}}(n,a);throw a.Tc(`Unsupported field value: ${o5(n)}`)}(e,t)}function qB(e,t){const r={};return P9(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):zf(e,(n,a)=>{const i=q1(a,t.uc(n));i!=null&&(r[n]=i)}),{mapValue:{fields:r}}}function WB(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof lr||e instanceof KN||e instanceof cp||e instanceof Hi||e instanceof c5||e instanceof YN)}function ZN(e,t,r){if(!WB(r)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(r)){const n=o5(r);throw n==="an object"?t.Tc(e+" a custom object"):t.Tc(e+" "+n)}}function eT(e,t,r){if((t=Io(t))instanceof U1)return t._internalPath;if(typeof t=="string")return ek(e,t);throw ib("Field path arguments must be of type string or ",e,!1,void 0,r)}const _ae=new RegExp("[~\\*/\\[\\]]");function ek(e,t,r){if(t.search(_ae)>=0)throw ib(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new U1(...t.split("."))._internalPath}catch{throw ib(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function ib(e,t,r,n,a){const i=n&&!n.isEmpty(),s=a!==void 0;let o=`Function ${t}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||s)&&(l+=" (found",i&&(l+=` in field ${n}`),s&&(l+=` in document ${a}`),l+=")"),new Yt(gt.INVALID_ARGUMENT,o+e+l)}function HB(e,t){return e.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GB{constructor(t,r,n,a,i){this._firestore=t,this._userDataWriter=r,this._key=n,this._document=a,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Hi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Sae(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(u5("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class Sae extends GB{data(){return super.data()}}function u5(e,t){return typeof t=="string"?ek(e,t):t instanceof U1?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KB(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Yt(gt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tk{}class rk extends tk{}function cr(e,t,...r){let n=[];t instanceof tk&&n.push(t),n=n.concat(r),function(i){const s=i.filter(l=>l instanceof nk).length,o=i.filter(l=>l instanceof f5).length;if(s>1||s>0&&o>0)throw new Yt(gt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class f5 extends rk{constructor(t,r,n){super(),this._field=t,this._op=r,this._value=n,this.type="where"}static _create(t,r,n){return new f5(t,r,n)}_apply(t){const r=this._parse(t);return YB(t._query,r),new su(t.firestore,t.converter,q4(t._query,r))}_parse(t){const r=V1(t.firestore);return function(i,s,o,l,c,u,f){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Yt(gt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){DI(f,u);const g=[];for(const m of f)g.push(jI(l,i,m));h={arrayValue:{values:g}}}else h=jI(l,i,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||DI(f,u),h=wae(o,s,f,u==="in"||u==="not-in");return Oa.create(c,u,h)}(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}function or(e,t,r){const n=t,a=u5("where",e);return f5._create(a,n,r)}class nk extends tk{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new nk(t,r)}_parse(t){const r=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:xl.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:(function(a,i){let s=a;const o=i.getFlattenedFilters();for(const l of o)YB(s,l),s=q4(s,l)}(t._query,r),new su(t.firestore,t.converter,q4(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ak extends rk{constructor(t,r){super(),this._field=t,this._direction=r,this.type="orderBy"}static _create(t,r){return new ak(t,r)}_apply(t){const r=function(a,i,s){if(a.startAt!==null)throw new Yt(gt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Yt(gt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new kv(i,s)}(t._query,this._field,this._direction);return new su(t.firestore,t.converter,function(a,i){const s=a.explicitOrderBy.concat([i]);return new Gp(a.path,a.collectionGroup,s,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(t._query,r))}}function Ia(e,t="asc"){const r=t,n=u5("orderBy",e);return ak._create(n,r)}class ik extends rk{constructor(t,r,n){super(),this.type=t,this._limit=r,this._limitType=n}static _create(t,r,n){return new ik(t,r,n)}_apply(t){return new su(t.firestore,t.converter,J2(t._query,this._limit,this._limitType))}}function cg(e){return dae("limit",e),ik._create("limit",e,"F")}function jI(e,t,r){if(typeof(r=Io(r))=="string"){if(r==="")throw new Yt(gt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!H9(t)&&r.indexOf("/")!==-1)throw new Yt(gt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=t.path.child(qn.fromString(r));if(!fr.isDocumentKey(n))throw new Yt(gt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return GO(e,new fr(n))}if(r instanceof Hi)return GO(e,r._key);throw new Yt(gt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${o5(r)}.`)}function DI(e,t){if(!Array.isArray(e)||e.length===0)throw new Yt(gt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function YB(e,t){const r=function(a,i){for(const s of a)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(e.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(r!==null)throw r===t.op?new Yt(gt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Yt(gt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class Aae{convertValue(t,r="none"){switch(If(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ma(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(Of(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw br(62114,{value:t})}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const n={};return zf(t,(a,i)=>{n[a]=this.convertValue(i,r)}),n}convertVectorValue(t){var r,n,a;const i=(a=(n=(r=t.fields)===null||r===void 0?void 0:r[X2].arrayValue)===null||n===void 0?void 0:n.values)===null||a===void 0?void 0:a.map(s=>ma(s.doubleValue));return new YN(i)}convertGeoPoint(t){return new KN(ma(t.latitude),ma(t.longitude))}convertArray(t,r){return(t.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(t,r){switch(r){case"previous":const n=Xw(t);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Tv(t));default:return null}}convertTimestamp(t){const r=Pf(t);return new lr(r.seconds,r.nanos)}convertDocumentKey(t,r){const n=qn.fromString(t);dn(gB(n),9688,{name:t});const a=new Ev(n.get(1),n.get(3)),i=new fr(n.popFirst(5));return a.isEqual(r)||Hc(`Document ${i} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(e,t,r){let n;return n=e?r&&(r.merge||r.mergeFields)?e.toFirestore(t,r):e.toFirestore(t):t,n}function Tae(){return new gae("count")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class XB extends GB{constructor(t,r,n,a,i,s){super(t,r,n,a,s),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new a2(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const n=this._document.data.field(u5("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class a2 extends XB{data(t={}){return super.data(t)}}class QB{constructor(t,r,n,a){this._firestore=t,this._userDataWriter=r,this._snapshot=a,this.metadata=new ug(a.hasPendingWrites,a.fromCache),this.query=n}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(n=>{t.call(r,new a2(this._firestore,this._userDataWriter,n.key,n,new ug(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Yt(gt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(a,i){if(a._snapshot.oldDocs.isEmpty()){let s=0;return a._snapshot.docChanges.map(o=>{const l=new a2(a._firestore,a._userDataWriter,o.doc.key,o.doc,new ug(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const l=new a2(a._firestore,a._userDataWriter,o.doc.key,o.doc,new ug(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);let c=-1,u=-1;return o.type!==0&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:Eae(o.type),doc:l,oldIndex:c,newIndex:u}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Eae(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return br(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(e){e=Wi(e,Hi);const t=Wi(e.firestore,bl);return lae(Yp(t),e._key).then(r=>JB(t,e,r))}class d5 extends Aae{constructor(t){super(),this.firestore=t}convertBytes(t){return new cp(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new Hi(this.firestore,null,r)}}function ur(e){e=Wi(e,su);const t=Wi(e.firestore,bl),r=Yp(t),n=new d5(t);return KB(e._query),cae(r,e._query).then(a=>new QB(t,n,e,a))}function sx(e,t,r){e=Wi(e,Hi);const n=Wi(e.firestore,bl),a=sk(e.converter,t,r);return W1(n,[QN(V1(n),"setDoc",e._key,a,e.converter!==null,r).toMutation(e._key,ds.none())])}function jn(e,t,r,...n){e=Wi(e,Hi);const a=Wi(e.firestore,bl),i=V1(a);let s;return s=typeof(t=Io(t))=="string"||t instanceof U1?zB(i,"updateDoc",e._key,t,r,n):VB(i,"updateDoc",e._key,t),W1(a,[s.toMutation(e._key,ds.exists(!0))])}function Ns(e){return W1(Wi(e.firestore,bl),[new r5(e._key,ds.none())])}function pr(e,t){const r=Wi(e.firestore,bl),n=Ar(e),a=sk(e.converter,t);return W1(r,[QN(V1(e.firestore),"addDoc",n._key,a,e.converter!==null,{}).toMutation(n._key,ds.exists(!1))]).then(()=>n)}function Nae(e,...t){var r,n,a;e=Io(e);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||II(t[s])||(i=t[s],s++);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(II(t[s])){const f=t[s];t[s]=(r=f.next)===null||r===void 0?void 0:r.bind(f),t[s+1]=(n=f.error)===null||n===void 0?void 0:n.bind(f),t[s+2]=(a=f.complete)===null||a===void 0?void 0:a.bind(f)}let l,c,u;if(e instanceof Hi)c=Wi(e.firestore,bl),u=Qw(e._key.path),l={next:f=>{t[s]&&t[s](JB(c,e,f))},error:t[s+1],complete:t[s+2]};else{const f=Wi(e,su);c=Wi(f.firestore,bl),u=f._query;const h=new d5(c);l={next:p=>{t[s]&&t[s](new QB(c,h,f,p))},error:t[s+1],complete:t[s+2]},KB(e._query)}return function(h,p,g,m){const v=new HN(m),y=new zN(p,v,g);return h.asyncQueue.enqueueAndForget(async()=>BN(await ab(h),y)),()=>{v.yu(),h.asyncQueue.enqueueAndForget(async()=>UN(await ab(h),y))}}(Yp(c),u,o,l)}function W1(e,t){return function(n,a){const i=new ql;return n.asyncQueue.enqueueAndForget(async()=>Yne(await sae(n),a,i)),i.promise}(Yp(e),t)}function JB(e,t,r){const n=r.docs.get(t._key),a=new d5(e);return new XB(e,a,t._key,n,new ug(r.hasPendingWrites,r.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(e){return kae(e,{count:Tae()})}function kae(e,t){const r=Wi(e.firestore,bl),n=Yp(r),a=jte(t,(i,s)=>new pre(s,i.aggregateType,i._internalFieldPath));return uae(n,e._query,a).then(i=>function(o,l,c){const u=new d5(o);return new vae(l,u,c)}(r,e,i))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cae{constructor(t,r){this._firestore=t,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=V1(t)}set(t,r,n){this._verifyNotCommitted();const a=gS(t,this._firestore),i=sk(a.converter,r,n),s=QN(this._dataReader,"WriteBatch.set",a._key,i,a.converter!==null,n);return this._mutations.push(s.toMutation(a._key,ds.none())),this}update(t,r,n,...a){this._verifyNotCommitted();const i=gS(t,this._firestore);let s;return s=typeof(r=Io(r))=="string"||r instanceof U1?zB(this._dataReader,"WriteBatch.update",i._key,r,n,a):VB(this._dataReader,"WriteBatch.update",i._key,r),this._mutations.push(s.toMutation(i._key,ds.exists(!0))),this}delete(t){this._verifyNotCommitted();const r=gS(t,this._firestore);return this._mutations=this._mutations.concat(new r5(r._key,ds.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Yt(gt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function gS(e,t){if((e=Io(e)).firestore!==t)throw new Yt(gt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(){return new z1("deleteField")}function Ac(){return new JN("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pae(e){return Yp(e=Wi(e,bl)),new Cae(e,t=>W1(e,t))}(function(t,r=!0){(function(a){qp=a})(tte),G2(new _v("firestore",(n,{instanceIdentifier:a,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new bl(new vte(n.getProvider("auth-internal")),new bte(s,n.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Yt(gt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ev(c.options.projectId,u)}(s,a),s);return i=Object.assign({useFetchStreams:r},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),L0(LO,MO,t),L0(LO,MO,"esm2017")})();const Oae={apiKey:"AIzaSyBrPAITwnh9vpsoS6W5hmuLLWPQzANOHfQ",authDomain:"aztec-warehouse.firebaseapp.com",projectId:"aztec-warehouse",storageBucket:"aztec-warehouse.firebasestorage.app",messagingSenderId:"587188643888",appId:"1:587188643888:web:2f5d9bb858e6e4bb3565f5",measurementId:"G-59VTWPJ775"},Iae=g9(Oae),Ke=pae(Iae),ZB=B.createContext(void 0),wa=()=>{const e=B.useContext(ZB);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},jae=({children:e})=>{const[t,r]=B.useState(()=>{const l=localStorage.getItem("user");return l?JSON.parse(l):null}),[n,a]=B.useState(!1),o={user:t,isAuthenticated:!!t,login:async(l,c)=>{a(!0);try{const u=await ur(mt(Ke,"users"));for(const f of u.docs){const h=f.data();if(h.username===l&&h.password===c){const p={id:f.id,username:h.username,email:h.email,name:h.name,role:h.role,password:h.password};r(p),localStorage.setItem("user",JSON.stringify(p));try{await pr(mt(Ke,"activityLogs"),{user:p.name,role:p.role,detail:"logged in",time:new Date().toISOString()})}catch(g){console.error("Error logging activity:",g)}return!0}}return!1}catch(u){return console.error("Login error:",u),!1}finally{a(!1)}},logout:()=>{if(t){const l={...t};r(null),localStorage.removeItem("user"),pr(mt(Ke,"activityLogs"),{user:l.name,role:l.role,detail:"logged out",time:new Date().toISOString()}).catch(c=>{console.error("Error logging activity:",c)})}},isLoading:n,setUser:r};return d.jsx(ZB.Provider,{value:o,children:e})},eU=B.createContext(void 0),Dae=({children:e})=>{const[t,r]=B.useState(!0),n=()=>{r(!t)};return d.jsx(eU.Provider,{value:{isDarkMode:t,toggleDarkMode:n},children:e})},sn=()=>{const e=B.useContext(eU);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},lk=B.createContext({});function H1(e){const t=B.useRef(null);return t.current===null&&(t.current=e()),t.current}const ck=typeof window<"u",uk=ck?B.useLayoutEffect:B.useEffect,h5=B.createContext(null);function fk(e,t){e.indexOf(t)===-1&&e.push(t)}function p5(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const Kc=(e,t,r)=>r>t?t:r<e?e:r;let sb=()=>{};const Yc={},tU=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function rU(e){return typeof e=="object"&&e!==null}const nU=e=>/^0[^.\s]+$/u.test(e);function dk(e){let t;return()=>(t===void 0&&(t=e()),t)}const Eo=e=>e,Lae=(e,t)=>r=>t(e(r)),G1=(...e)=>e.reduce(Lae),fp=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class hk{constructor(){this.subscriptions=[]}add(t){return fk(this.subscriptions,t),()=>p5(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let i=0;i<a;i++){const s=this.subscriptions[i];s&&s(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ml=e=>e*1e3,Gl=e=>e/1e3;function aU(e,t){return t?e*(1e3/t):0}const Mae=(e,t,r)=>{const n=t-e;return((r-e)%n+n)%n+e},iU=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,Rae=1e-7,Fae=12;function $ae(e,t,r,n,a){let i,s,o=0;do s=t+(r-t)/2,i=iU(s,n,a)-e,i>0?r=s:t=s;while(Math.abs(i)>Rae&&++o<Fae);return s}function K1(e,t,r,n){if(e===t&&r===n)return Eo;const a=i=>$ae(i,0,1,e,r);return i=>i===0||i===1?i:iU(a(i),t,n)}const sU=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,oU=e=>t=>1-e(1-t),lU=K1(.33,1.53,.69,.99),pk=oU(lU),cU=sU(pk),uU=e=>(e*=2)<1?.5*pk(e):.5*(2-Math.pow(2,-10*(e-1))),mk=e=>1-Math.sin(Math.acos(e)),fU=oU(mk),dU=sU(mk),Bae=K1(.42,0,1,1),Uae=K1(0,0,.58,1),hU=K1(.42,0,.58,1),pU=e=>Array.isArray(e)&&typeof e[0]!="number";function mU(e,t){return pU(e)?e[Mae(0,e.length,t)]:e}const gU=e=>Array.isArray(e)&&typeof e[0]=="number",MI={linear:Eo,easeIn:Bae,easeInOut:hU,easeOut:Uae,circIn:mk,circInOut:dU,circOut:fU,backIn:pk,backInOut:cU,backOut:lU,anticipate:uU},Vae=e=>typeof e=="string",RI=e=>{if(gU(e)){sb(e.length===4);const[t,r,n,a]=e;return K1(t,r,n,a)}else if(Vae(e))return sb(MI[e]!==void 0),MI[e];return e},ox=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],FI={value:null,addProjectionMetrics:null};function zae(e,t){let r=new Set,n=new Set,a=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},l=0;function c(f){s.has(f)&&(u.schedule(f),e()),l++,f(o)}const u={schedule:(f,h=!1,p=!1)=>{const m=p&&a?r:n;return h&&s.add(f),m.has(f)||m.add(f),f},cancel:f=>{n.delete(f),s.delete(f)},process:f=>{if(o=f,a){i=!0;return}a=!0,[r,n]=[n,r],r.forEach(c),t&&FI.value&&FI.value.frameloop[t].push(l),l=0,r.clear(),a=!1,i&&(i=!1,u.process(f))}};return u}const qae=40;function vU(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,s=ox.reduce((w,D)=>(w[D]=zae(i,t?D:void 0),w),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:u,update:f,preRender:h,render:p,postRender:g}=s,m=()=>{const w=Yc.useManualTiming?a.timestamp:performance.now();r=!1,Yc.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(w-a.timestamp,qae),1)),a.timestamp=w,a.isProcessing=!0,o.process(a),l.process(a),c.process(a),u.process(a),f.process(a),h.process(a),p.process(a),g.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(m))},v=()=>{r=!0,n=!0,a.isProcessing||e(m)};return{schedule:ox.reduce((w,D)=>{const P=s[D];return w[D]=(I,T=!1,_=!1)=>(r||v(),P.schedule(I,T,_)),w},{}),cancel:w=>{for(let D=0;D<ox.length;D++)s[ox[D]].cancel(w)},state:a,steps:s}}const{schedule:Qn,cancel:Xc,state:fi,steps:vS}=vU(typeof requestAnimationFrame<"u"?requestAnimationFrame:Eo,!0);let i2;function Wae(){i2=void 0}const ks={now:()=>(i2===void 0&&ks.set(fi.isProcessing||Yc.useManualTiming?fi.timestamp:performance.now()),i2),set:e=>{i2=e,queueMicrotask(Wae)}},yU=e=>t=>typeof t=="string"&&t.startsWith(e),gk=yU("--"),Hae=yU("var(--"),vk=e=>Hae(e)?Gae.test(e.split("/*")[0].trim()):!1,Gae=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Xp={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Iv={...Xp,transform:e=>Kc(0,1,e)},lx={...Xp,default:1},Og=e=>Math.round(e*1e5)/1e5,yk=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Kae(e){return e==null}const Yae=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,xk=(e,t)=>r=>!!(typeof r=="string"&&Yae.test(r)&&r.startsWith(e)||t&&!Kae(r)&&Object.prototype.hasOwnProperty.call(r,t)),xU=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,i,s,o]=n.match(yk);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},Xae=e=>Kc(0,255,e),yS={...Xp,transform:e=>Math.round(Xae(e))},Pd={test:xk("rgb","red"),parse:xU("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+yS.transform(e)+", "+yS.transform(t)+", "+yS.transform(r)+", "+Og(Iv.transform(n))+")"};function Qae(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const tT={test:xk("#"),parse:Qae,transform:Pd.transform},Y1=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Uu=Y1("deg"),Kl=Y1("%"),Sr=Y1("px"),Jae=Y1("vh"),Zae=Y1("vw"),$I={...Kl,parse:e=>Kl.parse(e)/100,transform:e=>Kl.transform(e*100)},x0={test:xk("hsl","hue"),parse:xU("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Kl.transform(Og(t))+", "+Kl.transform(Og(r))+", "+Og(Iv.transform(n))+")"},Di={test:e=>Pd.test(e)||tT.test(e)||x0.test(e),parse:e=>Pd.test(e)?Pd.parse(e):x0.test(e)?x0.parse(e):tT.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Pd.transform(e):x0.transform(e)},eie=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function tie(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(yk))==null?void 0:t.length)||0)+(((r=e.match(eie))==null?void 0:r.length)||0)>0}const bU="number",wU="color",rie="var",nie="var(",BI="${}",aie=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function jv(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const o=t.replace(aie,l=>(Di.test(l)?(n.color.push(i),a.push(wU),r.push(Di.parse(l))):l.startsWith(nie)?(n.var.push(i),a.push(rie),r.push(l)):(n.number.push(i),a.push(bU),r.push(parseFloat(l))),++i,BI)).split(BI);return{values:r,split:o,indexes:n,types:a}}function _U(e){return jv(e).values}function SU(e){const{split:t,types:r}=jv(e),n=t.length;return a=>{let i="";for(let s=0;s<n;s++)if(i+=t[s],a[s]!==void 0){const o=r[s];o===bU?i+=Og(a[s]):o===wU?i+=Di.transform(a[s]):i+=a[s]}return i}}const iie=e=>typeof e=="number"?0:e;function sie(e){const t=_U(e);return SU(e)(t.map(iie))}const Lf={test:tie,parse:_U,createTransformer:SU,getAnimatableNone:sie};function xS(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function oie({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,i=0,s=0;if(!t)a=i=s=r;else{const o=r<.5?r*(1+t):r+t-r*t,l=2*r-o;a=xS(l,o,e+1/3),i=xS(l,o,e),s=xS(l,o,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:n}}function ob(e,t){return r=>r>0?t:e}const Yn=(e,t,r)=>e+(t-e)*r,bS=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},lie=[tT,Pd,x0],cie=e=>lie.find(t=>t.test(e));function UI(e){const t=cie(e);if(!t)return!1;let r=t.parse(e);return t===x0&&(r=oie(r)),r}const VI=(e,t)=>{const r=UI(e),n=UI(t);if(!r||!n)return ob(e,t);const a={...r};return i=>(a.red=bS(r.red,n.red,i),a.green=bS(r.green,n.green,i),a.blue=bS(r.blue,n.blue,i),a.alpha=Yn(r.alpha,n.alpha,i),Pd.transform(a))},rT=new Set(["none","hidden"]);function uie(e,t){return rT.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function fie(e,t){return r=>Yn(e,t,r)}function bk(e){return typeof e=="number"?fie:typeof e=="string"?vk(e)?ob:Di.test(e)?VI:pie:Array.isArray(e)?AU:typeof e=="object"?Di.test(e)?VI:die:ob}function AU(e,t){const r=[...e],n=r.length,a=e.map((i,s)=>bk(i)(i,t[s]));return i=>{for(let s=0;s<n;s++)r[s]=a[s](i);return r}}function die(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=bk(e[a])(e[a],t[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function hie(e,t){const r=[],n={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],s=e.indexes[i][n[i]],o=e.values[s]??0;r[a]=o,n[i]++}return r}const pie=(e,t)=>{const r=Lf.createTransformer(t),n=jv(e),a=jv(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?rT.has(e)&&!a.values.length||rT.has(t)&&!n.values.length?uie(e,t):G1(AU(hie(n,a),a.values),r):ob(e,t)};function TU(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Yn(e,t,r):bk(e)(e,t)}const mie=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>Qn.update(t,r),stop:()=>Xc(t),now:()=>fi.isProcessing?fi.timestamp:ks.now()}},EU=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let i=0;i<a;i++)n+=e(i/(a-1))+", ";return`linear(${n.substring(0,n.length-2)})`},lb=2e4;function wk(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<lb;)t+=r,n=e.next(t);return t>=lb?1/0:t}function NU(e,t=100,r){const n=r({...e,keyframes:[0,t]}),a=Math.min(wk(n),lb);return{type:"keyframes",ease:i=>n.next(a*i).value/t,duration:Gl(a)}}const gie=5;function kU(e,t,r){const n=Math.max(t-gie,0);return aU(r-e(n),t-n)}const oa={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},wS=.001;function vie({duration:e=oa.duration,bounce:t=oa.bounce,velocity:r=oa.velocity,mass:n=oa.mass}){let a,i,s=1-t;s=Kc(oa.minDamping,oa.maxDamping,s),e=Kc(oa.minDuration,oa.maxDuration,Gl(e)),s<1?(a=c=>{const u=c*s,f=u*e,h=u-r,p=nT(c,s),g=Math.exp(-f);return wS-h/p*g},i=c=>{const f=c*s*e,h=f*r+r,p=Math.pow(s,2)*Math.pow(c,2)*e,g=Math.exp(-f),m=nT(Math.pow(c,2),s);return(-a(c)+wS>0?-1:1)*((h-p)*g)/m}):(a=c=>{const u=Math.exp(-c*e),f=(c-r)*e+1;return-wS+u*f},i=c=>{const u=Math.exp(-c*e),f=(r-c)*(e*e);return u*f});const o=5/e,l=xie(a,i,o);if(e=ml(e),isNaN(l))return{stiffness:oa.stiffness,damping:oa.damping,duration:e};{const c=Math.pow(l,2)*n;return{stiffness:c,damping:s*2*Math.sqrt(n*c),duration:e}}}const yie=12;function xie(e,t,r){let n=r;for(let a=1;a<yie;a++)n=n-e(n)/t(n);return n}function nT(e,t){return e*Math.sqrt(1-t*t)}const bie=["duration","bounce"],wie=["stiffness","damping","mass"];function zI(e,t){return t.some(r=>e[r]!==void 0)}function _ie(e){let t={velocity:oa.velocity,stiffness:oa.stiffness,damping:oa.damping,mass:oa.mass,isResolvedFromDuration:!1,...e};if(!zI(e,wie)&&zI(e,bie))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,i=2*Kc(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:oa.mass,stiffness:a,damping:i}}else{const r=vie(e);t={...t,...r,mass:oa.mass},t.isResolvedFromDuration=!0}return t}function Dv(e=oa.visualDuration,t=oa.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const i=r.keyframes[0],s=r.keyframes[r.keyframes.length-1],o={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:f,velocity:h,isResolvedFromDuration:p}=_ie({...r,velocity:-Gl(r.velocity||0)}),g=h||0,m=c/(2*Math.sqrt(l*u)),v=s-i,y=Gl(Math.sqrt(l/u)),b=Math.abs(v)<5;n||(n=b?oa.restSpeed.granular:oa.restSpeed.default),a||(a=b?oa.restDelta.granular:oa.restDelta.default);let w;if(m<1){const P=nT(y,m);w=I=>{const T=Math.exp(-m*y*I);return s-T*((g+m*y*v)/P*Math.sin(P*I)+v*Math.cos(P*I))}}else if(m===1)w=P=>s-Math.exp(-y*P)*(v+(g+y*v)*P);else{const P=y*Math.sqrt(m*m-1);w=I=>{const T=Math.exp(-m*y*I),_=Math.min(P*I,300);return s-T*((g+m*y*v)*Math.sinh(_)+P*v*Math.cosh(_))/P}}const D={calculatedDuration:p&&f||null,next:P=>{const I=w(P);if(p)o.done=P>=f;else{let T=P===0?g:0;m<1&&(T=P===0?ml(g):kU(w,P,I));const _=Math.abs(T)<=n,S=Math.abs(s-I)<=a;o.done=_&&S}return o.value=o.done?s:I,o},toString:()=>{const P=Math.min(wk(D),lb),I=EU(T=>D.next(P*T).value,P,30);return P+"ms "+I},toTransition:()=>{}};return D}Dv.applyToOptions=e=>{const t=NU(e,100,Dv);return e.ease=t.ease,e.duration=ml(t.duration),e.type="keyframes",e};function aT({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:s,min:o,max:l,restDelta:c=.5,restSpeed:u}){const f=e[0],h={done:!1,value:f},p=_=>o!==void 0&&_<o||l!==void 0&&_>l,g=_=>o===void 0?l:l===void 0||Math.abs(o-_)<Math.abs(l-_)?o:l;let m=r*t;const v=f+m,y=s===void 0?v:s(v);y!==v&&(m=y-f);const b=_=>-m*Math.exp(-_/n),w=_=>y+b(_),D=_=>{const S=b(_),j=w(_);h.done=Math.abs(S)<=c,h.value=h.done?y:j};let P,I;const T=_=>{p(h.value)&&(P=_,I=Dv({keyframes:[h.value,g(h.value)],velocity:kU(w,_,h.value),damping:a,stiffness:i,restDelta:c,restSpeed:u}))};return T(0),{calculatedDuration:null,next:_=>{let S=!1;return!I&&P===void 0&&(S=!0,D(_),T(_)),P!==void 0&&_>=P?I.next(_-P):(!S&&D(_),h)}}}function Sie(e,t,r){const n=[],a=r||Yc.mix||TU,i=e.length-1;for(let s=0;s<i;s++){let o=a(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||Eo:t;o=G1(l,o)}n.push(o)}return n}function CU(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const i=e.length;if(sb(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=Sie(t,n,a),l=o.length,c=u=>{if(s&&u<e[0])return t[0];let f=0;if(l>1)for(;f<e.length-2&&!(u<e[f+1]);f++);const h=fp(e[f],e[f+1],u);return o[f](h)};return r?u=>c(Kc(e[0],e[i-1],u)):c}function PU(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=fp(0,t,n);e.push(Yn(r,1,a))}}function OU(e){const t=[0];return PU(t,e.length-1),t}function Aie(e,t){return e.map(r=>r*t)}function Tie(e,t){return e.map(()=>t||hU).splice(0,e.length-1)}function Ig({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=pU(n)?n.map(RI):RI(n),i={done:!1,value:t[0]},s=Aie(r&&r.length===t.length?r:OU(t),e),o=CU(s,t,{ease:Array.isArray(a)?a:Tie(t,a)});return{calculatedDuration:e,next:l=>(i.value=o(l),i.done=l>=e,i)}}const Eie=e=>e!==null;function _k(e,{repeat:t,repeatType:r="loop"},n,a=1){const i=e.filter(Eie),o=a<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!o||n===void 0?i[o]:n}const Nie={decay:aT,inertia:aT,tween:Ig,keyframes:Ig,spring:Dv};function IU(e){typeof e.type=="string"&&(e.type=Nie[e.type])}class Sk{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const kie=e=>e/100;class Ak extends Sk{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(r=!0)=>{var n,a;if(r){const{motionValue:i}=this.options;i&&i.updatedAt!==ks.now()&&this.tick(ks.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(n=this.options).onStop)==null||a.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;IU(t);const{type:r=Ig,repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:s=0}=t;let{keyframes:o}=t;const l=r||Ig;l!==Ig&&typeof o[0]!="number"&&(this.mixKeyframes=G1(kie,TU(o[0],o[1])),o=[0,100]);const c=l({...t,keyframes:o});i==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...o].reverse(),velocity:-s})),c.calculatedDuration===null&&(c.calculatedDuration=wk(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=c}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:a,mixKeyframes:i,mirroredGenerator:s,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return n.next(0);const{delay:c=0,keyframes:u,repeat:f,repeatType:h,repeatDelay:p,type:g,onUpdate:m,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const y=this.currentTime-c*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?y<0:y>a;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let w=this.currentTime,D=n;if(f){const _=Math.min(this.currentTime,a)/o;let S=Math.floor(_),j=_%1;!j&&_>=1&&(j=1),j===1&&S--,S=Math.min(S,f+1),!!(S%2)&&(h==="reverse"?(j=1-j,p&&(j-=p/o)):h==="mirror"&&(D=s)),w=Kc(0,1,j)*o}const P=b?{done:!1,value:u[0]}:D.next(w);i&&(P.value=i(P.value));let{done:I}=P;!b&&l!==null&&(I=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return T&&g!==aT&&(P.value=_k(u,this.options,v,this.speed)),m&&m(P.value),T&&this.finish(),P}then(t,r){return this.finished.then(t,r)}get duration(){return Gl(this.calculatedDuration)}get time(){return Gl(this.currentTime)}set time(t){var r;t=ml(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(ks.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Gl(this.currentTime))}play(){var a,i;if(this.isStopped)return;const{driver:t=mie,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),(i=(a=this.options).onPlay)==null||i.call(a);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ks.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function Cie(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Od=e=>e*180/Math.PI,iT=e=>{const t=Od(Math.atan2(e[1],e[0]));return sT(t)},Pie={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:iT,rotateZ:iT,skewX:e=>Od(Math.atan(e[1])),skewY:e=>Od(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},sT=e=>(e=e%360,e<0&&(e+=360),e),qI=iT,WI=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),HI=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Oie={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:WI,scaleY:HI,scale:e=>(WI(e)+HI(e))/2,rotateX:e=>sT(Od(Math.atan2(e[6],e[5]))),rotateY:e=>sT(Od(Math.atan2(-e[2],e[0]))),rotateZ:qI,rotate:qI,skewX:e=>Od(Math.atan(e[4])),skewY:e=>Od(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function oT(e){return e.includes("scale")?1:0}function lT(e,t){if(!e||e==="none")return oT(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=Oie,a=r;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Pie,a=o}if(!a)return oT(t);const i=n[t],s=a[1].split(",").map(jie);return typeof i=="function"?i(s):s[i]}const Iie=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return lT(r,t)};function jie(e){return parseFloat(e.trim())}const Qp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Jp=new Set(Qp),GI=e=>e===Xp||e===Sr,Die=new Set(["x","y","z"]),Lie=Qp.filter(e=>!Die.has(e));function Mie(e){const t=[];return Lie.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const $d={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>lT(t,"x"),y:(e,{transform:t})=>lT(t,"y")};$d.translateX=$d.x;$d.translateY=$d.y;const Bd=new Set;let cT=!1,uT=!1,fT=!1;function jU(){if(uT){const e=Array.from(Bd).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=Mie(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,s])=>{var o;(o=n.getValue(i))==null||o.set(s)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}uT=!1,cT=!1,Bd.forEach(e=>e.complete(fT)),Bd.clear()}function DU(){Bd.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(uT=!0)})}function Rie(){fT=!0,DU(),jU(),fT=!1}class Tk{constructor(t,r,n,a,i,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(Bd.add(this),cT||(cT=!0,Qn.read(DU),Qn.resolveKeyframes(jU))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;if(t[0]===null){const i=a==null?void 0:a.get(),s=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){const o=n.readValue(r,s);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=s),a&&i===void 0&&a.set(t[0])}Cie(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Bd.delete(this)}cancel(){this.state==="scheduled"&&(Bd.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Fie=e=>e.startsWith("--");function $ie(e,t,r){Fie(t)?e.style.setProperty(t,r):e.style[t]=r}const Bie=dk(()=>window.ScrollTimeline!==void 0),Uie={};function Vie(e,t){const r=dk(e);return()=>Uie[t]??r()}const LU=Vie(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),fg=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,KI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:fg([0,.65,.55,1]),circOut:fg([.55,0,1,.45]),backIn:fg([.31,.01,.66,-.59]),backOut:fg([.33,1.53,.69,.99])};function MU(e,t){if(e)return typeof e=="function"?LU()?EU(e,t):"ease-out":gU(e)?fg(e):Array.isArray(e)?e.map(r=>MU(r,t)||KI.easeOut):KI[e]}function zie(e,t,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:s="loop",ease:o="easeOut",times:l}={},c=void 0){const u={[t]:r};l&&(u.offset=l);const f=MU(o,a);Array.isArray(f)&&(u.easing=f);const h={delay:n,duration:a,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"};return c&&(h.pseudoElement=c),e.animate(u,h)}function Ek(e){return typeof e=="function"&&"applyToOptions"in e}function qie({type:e,...t}){return Ek(e)&&LU()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Wie extends Sk{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:a,pseudoElement:i,allowFlatten:s=!1,finalKeyframe:o,onComplete:l}=t;this.isPseudoElement=!!i,this.allowFlatten=s,this.options=t,sb(typeof t.type!="string");const c=qie(t);this.animation=zie(r,n,a,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=_k(a,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(u):$ie(r,n,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return Gl(Number(t))}get time(){return Gl(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=ml(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Bie()?(this.animation.timeline=t,Eo):r(this)}}const RU={anticipate:uU,backInOut:cU,circInOut:dU};function Hie(e){return e in RU}function Gie(e){typeof e.ease=="string"&&Hie(e.ease)&&(e.ease=RU[e.ease])}const YI=10;class Kie extends Wie{constructor(t){Gie(t),IU(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:a,element:i,...s}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const o=new Ak({...s,autoplay:!1}),l=ml(this.finishedTime??this.time);r.setWithVelocity(o.sample(l-YI).value,o.sample(l).value,YI),o.stop()}}const XI=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Lf.test(e)||e==="0")&&!e.startsWith("url("));function Yie(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function Xie(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],s=XI(a,t),o=XI(i,t);return!s||!o?!1:Yie(e)||(r==="spring"||Ek(r))&&n}function Nk(e){return rU(e)&&"offsetHeight"in e}const Qie=new Set(["opacity","clipPath","filter","transform"]),Jie=dk(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Zie(e){var c;const{motionValue:t,name:r,repeatDelay:n,repeatType:a,damping:i,type:s}=e;if(!Nk((c=t==null?void 0:t.owner)==null?void 0:c.current))return!1;const{onUpdate:o,transformTemplate:l}=t.owner.getProps();return Jie()&&r&&Qie.has(r)&&(r!=="transform"||!l)&&!o&&!n&&a!=="mirror"&&i!==0&&s!=="inertia"}const ese=40;class tse extends Sk{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:s="loop",keyframes:o,name:l,motionValue:c,element:u,...f}){var g;super(),this.stop=()=>{var m,v;this._animation&&(this._animation.stop(),(m=this.stopTimeline)==null||m.call(this)),(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=ks.now();const h={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:s,name:l,motionValue:c,element:u,...f},p=(u==null?void 0:u.KeyframeResolver)||Tk;this.keyframeResolver=new p(o,(m,v,y)=>this.onKeyframesResolved(m,v,h,!y),l,c,u),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(t,r,n,a){this.keyframeResolver=void 0;const{name:i,type:s,velocity:o,delay:l,isHandoff:c,onUpdate:u}=n;this.resolvedAt=ks.now(),Xie(t,i,s,o)||((Yc.instantAnimations||!l)&&(u==null||u(_k(t,n,r))),t[0]=t[t.length-1],n.duration=0,n.repeat=0);const h={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>ese?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},p=!c&&Zie(h)?new Kie({...h,element:h.motionValue.owner.current}):new Ak(h);p.finished.then(()=>this.notifyFinished()).catch(Eo),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Rie()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}class rse{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t){const r=this.animations.map(n=>n.attachTimeline(t));return()=>{r.forEach((n,a)=>{n&&n(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class nse extends rse{then(t,r){return this.finished.finally(t).then(()=>{})}}const ase=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ise(e){const t=ase.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function FU(e,t,r=1){const[n,a]=ise(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const s=i.trim();return tU(s)?parseFloat(s):s}return vk(a)?FU(a,t,r+1):a}function kk(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const $U=new Set(["width","height","top","left","right","bottom",...Qp]),sse={test:e=>e==="auto",parse:e=>e},BU=e=>t=>t.test(e),UU=[Xp,Sr,Kl,Uu,Zae,Jae,sse],QI=e=>UU.find(BU(e));function ose(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||nU(e):!0}const lse=new Set(["brightness","contrast","saturate","opacity"]);function cse(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(yk)||[];if(!n)return e;const a=r.replace(n,"");let i=lse.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+a+")"}const use=/\b([a-z-]*)\(.*?\)/gu,dT={...Lf,getAnimatableNone:e=>{const t=e.match(use);return t?t.map(cse).join(" "):e}},JI={...Xp,transform:Math.round},fse={rotate:Uu,rotateX:Uu,rotateY:Uu,rotateZ:Uu,scale:lx,scaleX:lx,scaleY:lx,scaleZ:lx,skew:Uu,skewX:Uu,skewY:Uu,distance:Sr,translateX:Sr,translateY:Sr,translateZ:Sr,x:Sr,y:Sr,z:Sr,perspective:Sr,transformPerspective:Sr,opacity:Iv,originX:$I,originY:$I,originZ:Sr},Ck={borderWidth:Sr,borderTopWidth:Sr,borderRightWidth:Sr,borderBottomWidth:Sr,borderLeftWidth:Sr,borderRadius:Sr,radius:Sr,borderTopLeftRadius:Sr,borderTopRightRadius:Sr,borderBottomRightRadius:Sr,borderBottomLeftRadius:Sr,width:Sr,maxWidth:Sr,height:Sr,maxHeight:Sr,top:Sr,right:Sr,bottom:Sr,left:Sr,padding:Sr,paddingTop:Sr,paddingRight:Sr,paddingBottom:Sr,paddingLeft:Sr,margin:Sr,marginTop:Sr,marginRight:Sr,marginBottom:Sr,marginLeft:Sr,backgroundPositionX:Sr,backgroundPositionY:Sr,...fse,zIndex:JI,fillOpacity:Iv,strokeOpacity:Iv,numOctaves:JI},dse={...Ck,color:Di,backgroundColor:Di,outlineColor:Di,fill:Di,stroke:Di,borderColor:Di,borderTopColor:Di,borderRightColor:Di,borderBottomColor:Di,borderLeftColor:Di,filter:dT,WebkitFilter:dT},VU=e=>dse[e];function zU(e,t){let r=VU(e);return r!==dT&&(r=Lf),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const hse=new Set(["auto","none","0"]);function pse(e,t,r){let n=0,a;for(;n<e.length&&!a;){const i=e[n];typeof i=="string"&&!hse.has(i)&&jv(i).values.length&&(a=e[n]),n++}if(a&&r)for(const i of t)e[i]=zU(r,a)}class mse extends Tk{constructor(t,r,n,a,i){super(t,r,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),vk(c))){const u=FU(c,r.current);u!==void 0&&(t[l]=u),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!$U.has(n)||t.length!==2)return;const[a,i]=t,s=QI(a),o=QI(i);if(s!==o)if(GI(s)&&GI(o))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else $d[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)(t[a]===null||ose(t[a]))&&n.push(a);n.length&&pse(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=$d[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){var o;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=n.length-1,s=n[i];n[i]=$d[r](t.measureViewportBox(),window.getComputedStyle(t.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function qU(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const a=(r==null?void 0:r[e])??n.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const ZI=30,gse=e=>!isNaN(parseFloat(e)),jg={current:void 0};class vse{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,a=!0)=>{var s,o;const i=ks.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();a&&((o=this.events.renderRequest)==null||o.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=ks.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=gse(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new hk);const n=this.events[t].add(r);return t==="change"?()=>{n(),Qn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return jg.current&&jg.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=ks.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>ZI)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,ZI);return aU(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function th(e,t){return new vse(e,t)}const WU=(e,t)=>t&&typeof e=="number"?t.transform(e):e,{schedule:Pk,cancel:EBe}=vU(queueMicrotask,!1),el={x:!1,y:!1};function HU(){return el.x||el.y}function yse(e){return e==="x"||e==="y"?el[e]?null:(el[e]=!0,()=>{el[e]=!1}):el.x||el.y?null:(el.x=el.y=!0,()=>{el.x=el.y=!1})}function GU(e,t){const r=qU(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function ej(e){return!(e.pointerType==="touch"||HU())}function xse(e,t,r={}){const[n,a,i]=GU(e,r),s=o=>{if(!ej(o))return;const{target:l}=o,c=t(l,o);if(typeof c!="function"||!l)return;const u=f=>{ej(f)&&(c(f),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,a)};return n.forEach(o=>{o.addEventListener("pointerenter",s,a)}),i}const KU=(e,t)=>t?e===t?!0:KU(e,t.parentElement):!1,Ok=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,bse=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function wse(e){return bse.has(e.tagName)||e.tabIndex!==-1}const s2=new WeakSet;function tj(e){return t=>{t.key==="Enter"&&e(t)}}function _S(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const _se=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=tj(()=>{if(s2.has(r))return;_S(r,"down");const a=tj(()=>{_S(r,"up")}),i=()=>_S(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function rj(e){return Ok(e)&&!HU()}function Sse(e,t,r={}){const[n,a,i]=GU(e,r),s=o=>{const l=o.currentTarget;if(!rj(o))return;s2.add(l);const c=t(l,o),u=(p,g)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),s2.has(l)&&s2.delete(l),rj(p)&&typeof c=="function"&&c(p,{success:g})},f=p=>{u(p,l===window||l===document||r.useGlobalTarget||KU(l,p.target))},h=p=>{u(p,!1)};window.addEventListener("pointerup",f,a),window.addEventListener("pointercancel",h,a)};return n.forEach(o=>{(r.useGlobalTarget?window:o).addEventListener("pointerdown",s,a),Nk(o)&&(o.addEventListener("focus",c=>_se(c,a)),!wse(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),i}function Ik(e){return rU(e)&&"ownerSVGElement"in e}function YU(e){return Ik(e)&&e.tagName==="svg"}function Ase(...e){const t=!Array.isArray(e[0]),r=t?0:-1,n=e[0+r],a=e[1+r],i=e[2+r],s=e[3+r],o=CU(a,i,s);return t?o(n):o}const ti=e=>!!(e&&e.getVelocity),Tse=[...UU,Di,Lf],Ese=e=>Tse.find(BU(e)),m5=B.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class Nse extends B.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=Nk(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function kse({children:e,isPresent:t,anchorX:r}){const n=B.useId(),a=B.useRef(null),i=B.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:s}=B.useContext(m5);return B.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u,right:f}=i.current;if(t||!a.current||!o||!l)return;const h=r==="left"?`left: ${u}`:`right: ${f}`;a.current.dataset.motionPopId=n;const p=document.createElement("style");return s&&(p.nonce=s),document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            ${h}px !important;
            top: ${c}px !important;
          }
        `),()=>{document.head.contains(p)&&document.head.removeChild(p)}},[t]),d.jsx(Nse,{isPresent:t,childRef:a,sizeRef:i,children:B.cloneElement(e,{ref:a})})}const Cse=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:s,anchorX:o})=>{const l=H1(Pse),c=B.useId();let u=!0,f=B.useMemo(()=>(u=!1,{id:c,initial:t,isPresent:r,custom:a,onExitComplete:h=>{l.set(h,!0);for(const p of l.values())if(!p)return;n&&n()},register:h=>(l.set(h,!1),()=>l.delete(h))}),[r,l,n]);return i&&u&&(f={...f}),B.useMemo(()=>{l.forEach((h,p)=>l.set(p,!1))},[r]),B.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),s==="popLayout"&&(e=d.jsx(kse,{isPresent:r,anchorX:o,children:e})),d.jsx(h5.Provider,{value:f,children:e})};function Pse(){return new Map}function XU(e=!0){const t=B.useContext(h5);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=t,i=B.useId();B.useEffect(()=>{if(e)return a(i)},[e]);const s=B.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,s]:[!0]}const cx=e=>e.key||"";function nj(e){const t=[];return B.Children.forEach(e,r=>{B.isValidElement(r)&&t.push(r)}),t}const QU=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:i="sync",propagate:s=!1,anchorX:o="left"})=>{const[l,c]=XU(s),u=B.useMemo(()=>nj(e),[e]),f=s&&!l?[]:u.map(cx),h=B.useRef(!0),p=B.useRef(u),g=H1(()=>new Map),[m,v]=B.useState(u),[y,b]=B.useState(u);uk(()=>{h.current=!1,p.current=u;for(let P=0;P<y.length;P++){const I=cx(y[P]);f.includes(I)?g.delete(I):g.get(I)!==!0&&g.set(I,!1)}},[y,f.length,f.join("-")]);const w=[];if(u!==m){let P=[...u];for(let I=0;I<y.length;I++){const T=y[I],_=cx(T);f.includes(_)||(P.splice(I,0,T),w.push(T))}return i==="wait"&&w.length&&(P=w),b(nj(P)),v(u),null}const{forceRender:D}=B.useContext(lk);return d.jsx(d.Fragment,{children:y.map(P=>{const I=cx(P),T=s&&!l?!1:u===y||f.includes(I),_=()=>{if(g.has(I))g.set(I,!0);else return;let S=!0;g.forEach(j=>{j||(S=!1)}),S&&(D==null||D(),b(p.current),s&&(c==null||c()),n&&n())};return d.jsx(Cse,{isPresent:T,initial:!h.current||r?void 0:!1,custom:t,presenceAffectsLayout:a,mode:i,onExitComplete:T?void 0:_,anchorX:o,children:P},I)})})},JU=B.createContext({strict:!1}),aj={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},dp={};for(const e in aj)dp[e]={isEnabled:t=>aj[e].some(r=>!!t[r])};function Ose(e){for(const t in e)dp[t]={...dp[t],...e[t]}}const Ise=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function cb(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Ise.has(e)}let ZU=e=>!cb(e);function jse(e){e&&(ZU=t=>t.startsWith("on")?!cb(t):e(t))}try{jse(require("@emotion/is-prop-valid").default)}catch{}function Dse(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(ZU(a)||r===!0&&cb(a)||!t&&!cb(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}function Lse(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const g5=B.createContext({});function v5(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Lv(e){return typeof e=="string"||Array.isArray(e)}const jk=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Dk=["initial",...jk];function y5(e){return v5(e.animate)||Dk.some(t=>Lv(e[t]))}function eV(e){return!!(y5(e)||e.variants)}function Mse(e,t){if(y5(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Lv(r)?r:void 0,animate:Lv(n)?n:void 0}}return e.inherit!==!1?t:{}}function Rse(e){const{initial:t,animate:r}=Mse(e,B.useContext(g5));return B.useMemo(()=>({initial:t,animate:r}),[ij(t),ij(r)])}function ij(e){return Array.isArray(e)?e.join(" "):e}const Fse=Symbol.for("motionComponentSymbol");function b0(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function $se(e,t,r){return B.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):b0(r)&&(r.current=n))},[t])}const Lk=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Bse="framerAppearId",tV="data-"+Lk(Bse),rV=B.createContext({});function Use(e,t,r,n,a){var m,v;const{visualElement:i}=B.useContext(g5),s=B.useContext(JU),o=B.useContext(h5),l=B.useContext(m5).reducedMotion,c=B.useRef(null);n=n||s.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:i,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,f=B.useContext(rV);u&&!u.projection&&a&&(u.type==="html"||u.type==="svg")&&Vse(c.current,r,a,f);const h=B.useRef(!1);B.useInsertionEffect(()=>{u&&h.current&&u.update(r,o)});const p=r[tV],g=B.useRef(!!p&&!((m=window.MotionHandoffIsComplete)!=null&&m.call(window,p))&&((v=window.MotionHasOptimisedAnimation)==null?void 0:v.call(window,p)));return uk(()=>{u&&(h.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),Pk.render(u.render),g.current&&u.animationState&&u.animationState.animateChanges())}),B.useEffect(()=>{u&&(!g.current&&u.animationState&&u.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,p)}),g.current=!1))}),u}function Vse(e,t,r,n){const{layoutId:a,layout:i,drag:s,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:nV(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!s||o&&b0(o),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:u,layoutScroll:l,layoutRoot:c})}function nV(e){if(e)return e.options.allowProjection!==!1?e.projection:nV(e.parent)}function zse({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:a}){e&&Ose(e);function i(o,l){let c;const u={...B.useContext(m5),...o,layoutId:qse(o)},{isStatic:f}=u,h=Rse(o),p=n(o,f);if(!f&&ck){Wse();const g=Hse(u);c=g.MeasureLayout,h.visualElement=Use(a,p,u,t,g.ProjectionNode)}return d.jsxs(g5.Provider,{value:h,children:[c&&h.visualElement?d.jsx(c,{visualElement:h.visualElement,...u}):null,r(a,o,$se(p,h.visualElement,l),p,f,h.visualElement)]})}i.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const s=B.forwardRef(i);return s[Fse]=a,s}function qse({layoutId:e}){const t=B.useContext(lk).id;return t&&e!==void 0?t+"-"+e:e}function Wse(e,t){B.useContext(JU).strict}function Hse(e){const{drag:t,layout:r}=dp;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const Mv={};function Gse(e){for(const t in e)Mv[t]=e[t],gk(t)&&(Mv[t].isCSSVariable=!0)}function aV(e,{layout:t,layoutId:r}){return Jp.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Mv[e]||e==="opacity")}const Kse={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Yse=Qp.length;function Xse(e,t,r){let n="",a=!0;for(let i=0;i<Yse;i++){const s=Qp[i],o=e[s];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(s.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||r){const c=WU(o,Ck[s]);if(!l){a=!1;const u=Kse[s]||s;n+=`${u}(${c}) `}r&&(t[s]=c)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function Mk(e,t,r){const{style:n,vars:a,transformOrigin:i}=e;let s=!1,o=!1;for(const l in t){const c=t[l];if(Jp.has(l)){s=!0;continue}else if(gk(l)){a[l]=c;continue}else{const u=WU(c,Ck[l]);l.startsWith("origin")?(o=!0,i[l]=u):n[l]=u}}if(t.transform||(s||r?n.transform=Xse(t,e.transform,r):n.transform&&(n.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:u=0}=i;n.transformOrigin=`${l} ${c} ${u}`}}const Rk=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function iV(e,t,r){for(const n in t)!ti(t[n])&&!aV(n,r)&&(e[n]=t[n])}function Qse({transformTemplate:e},t){return B.useMemo(()=>{const r=Rk();return Mk(r,t,e),Object.assign({},r.vars,r.style)},[t])}function Jse(e,t){const r=e.style||{},n={};return iV(n,r,e),Object.assign(n,Qse(e,t)),n}function Zse(e,t){const r={},n=Jse(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const eoe={offset:"stroke-dashoffset",array:"stroke-dasharray"},toe={offset:"strokeDashoffset",array:"strokeDasharray"};function roe(e,t,r=1,n=0,a=!0){e.pathLength=1;const i=a?eoe:toe;e[i.offset]=Sr.transform(-n);const s=Sr.transform(t),o=Sr.transform(r);e[i.array]=`${s} ${o}`}function sV(e,{attrX:t,attrY:r,attrScale:n,pathLength:a,pathSpacing:i=1,pathOffset:s=0,...o},l,c,u){if(Mk(e,o,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),a!==void 0&&roe(f,a,i,s,!1)}const oV=()=>({...Rk(),attrs:{}}),lV=e=>typeof e=="string"&&e.toLowerCase()==="svg";function noe(e,t,r,n){const a=B.useMemo(()=>{const i=oV();return sV(i,t,lV(n),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};iV(i,e.style,e),a.style={...i,...a.style}}return a}const aoe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Fk(e){return typeof e!="string"||e.includes("-")?!1:!!(aoe.indexOf(e)>-1||/[A-Z]/u.test(e))}function ioe(e=!1){return(r,n,a,{latestValues:i},s)=>{const l=(Fk(r)?noe:Zse)(n,i,s,r),c=Dse(n,typeof r=="string",e),u=r!==B.Fragment?{...c,...l,ref:a}:{},{children:f}=n,h=B.useMemo(()=>ti(f)?f.get():f,[f]);return B.createElement(r,{...u,children:h})}}function sj(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function $k(e,t,r,n){if(typeof t=="function"){const[a,i]=sj(n);t=t(r!==void 0?r:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=sj(n);t=t(r!==void 0?r:e.custom,a,i)}return t}function o2(e){return ti(e)?e.get():e}function soe({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,a){return{latestValues:ooe(r,n,a,e),renderState:t()}}const cV=e=>(t,r)=>{const n=B.useContext(g5),a=B.useContext(h5),i=()=>soe(e,t,n,a);return r?i():H1(i)};function ooe(e,t,r,n){const a={},i=n(e,{});for(const h in i)a[h]=o2(i[h]);let{initial:s,animate:o}=e;const l=y5(e),c=eV(e);t&&c&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),o===void 0&&(o=t.animate));let u=r?r.initial===!1:!1;u=u||s===!1;const f=u?o:s;if(f&&typeof f!="boolean"&&!v5(f)){const h=Array.isArray(f)?f:[f];for(let p=0;p<h.length;p++){const g=$k(e,h[p]);if(g){const{transitionEnd:m,transition:v,...y}=g;for(const b in y){let w=y[b];if(Array.isArray(w)){const D=u?w.length-1:0;w=w[D]}w!==null&&(a[b]=w)}for(const b in m)a[b]=m[b]}}}return a}function Bk(e,t,r){var i;const{style:n}=e,a={};for(const s in n)(ti(n[s])||t.style&&ti(t.style[s])||aV(s,e)||((i=r==null?void 0:r.getValue(s))==null?void 0:i.liveStyle)!==void 0)&&(a[s]=n[s]);return a}const loe={useVisualState:cV({scrapeMotionValuesFromProps:Bk,createRenderState:Rk})};function uV(e,t,r){const n=Bk(e,t,r);for(const a in e)if(ti(e[a])||ti(t[a])){const i=Qp.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=e[a]}return n}const coe={useVisualState:cV({scrapeMotionValuesFromProps:uV,createRenderState:oV})};function uoe(e,t){return function(n,{forwardMotionProps:a}={forwardMotionProps:!1}){const s={...Fk(n)?coe:loe,preloadedFeatures:e,useRender:ioe(a),createVisualElement:t,Component:n};return zse(s)}}function Rv(e,t,r){const n=e.getProps();return $k(n,t,r!==void 0?r:n.custom,e)}const hT=e=>Array.isArray(e);function foe(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,th(r))}function doe(e){return hT(e)?e[e.length-1]||0:e}function hoe(e,t){const r=Rv(e,t);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const s in i){const o=doe(i[s]);foe(e,s,o)}}function poe(e){return!!(ti(e)&&e.add)}function pT(e,t){const r=e.getValue("willChange");if(poe(r))return r.add(t);if(!r&&Yc.WillChange){const n=new Yc.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function fV(e){return e.props[tV]}const moe=e=>e!==null;function goe(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(moe),i=t&&r!=="loop"&&t%2===1?0:a.length-1;return!i||n===void 0?a[i]:n}const voe={type:"spring",stiffness:500,damping:25,restSpeed:10},yoe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),xoe={type:"keyframes",duration:.8},boe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},woe=(e,{keyframes:t})=>t.length>2?xoe:Jp.has(e)?e.startsWith("scale")?yoe(t[1]):voe:boe;function _oe({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:s,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const Uk=(e,t,r,n={},a,i)=>s=>{const o=kk(n,e)||{},l=o.delay||n.delay||0;let{elapsed:c=0}=n;c=c-ml(l);const u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:h=>{t.set(h),o.onUpdate&&o.onUpdate(h)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:i?void 0:a};_oe(o)||Object.assign(u,woe(e,u)),u.duration&&(u.duration=ml(u.duration)),u.repeatDelay&&(u.repeatDelay=ml(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(f=!0)),(Yc.instantAnimations||Yc.skipAnimations)&&(f=!0,u.duration=0,u.delay=0),u.allowFlatten=!o.type&&!o.ease,f&&!i&&t.get()!==void 0){const h=goe(u.keyframes,o);if(h!==void 0){Qn.update(()=>{u.onUpdate(h),u.onComplete()});return}}return o.isSync?new Ak(u):new tse(u)};function Soe({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function Vk(e,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:s,...o}=t;n&&(i=n);const l=[],c=a&&e.animationState&&e.animationState.getState()[a];for(const u in o){const f=e.getValue(u,e.latestValues[u]??null),h=o[u];if(h===void 0||c&&Soe(c,u))continue;const p={delay:r,...kk(i||{},u)},g=f.get();if(g!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===g&&!p.velocity)continue;let m=!1;if(window.MotionHandoffAnimation){const y=fV(e);if(y){const b=window.MotionHandoffAnimation(y,u,Qn);b!==null&&(p.startTime=b,m=!0)}}pT(e,u),f.start(Uk(u,f,h,e.shouldReduceMotion&&$U.has(u)?{type:!1}:p,e,m));const v=f.animation;v&&l.push(v)}return s&&Promise.all(l).then(()=>{Qn.update(()=>{s&&hoe(e,s)})}),l}function mT(e,t,r={}){var l;const n=Rv(e,t,r.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const i=n?()=>Promise.all(Vk(e,n,r)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:h}=a;return Aoe(e,t,u+c,f,h,r)}:()=>Promise.resolve(),{when:o}=a;if(o){const[c,u]=o==="beforeChildren"?[i,s]:[s,i];return c().then(()=>u())}else return Promise.all([i(),s(r.delay)])}function Aoe(e,t,r=0,n=0,a=1,i){const s=[],o=(e.variantChildren.size-1)*n,l=a===1?(c=0)=>c*n:(c=0)=>o-c*n;return Array.from(e.variantChildren).sort(Toe).forEach((c,u)=>{c.notify("AnimationStart",t),s.push(mT(c,t,{...i,delay:r+l(u)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(s)}function Toe(e,t){return e.sortNodePosition(t)}function Eoe(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(i=>mT(e,i,r));n=Promise.all(a)}else if(typeof t=="string")n=mT(e,t,r);else{const a=typeof t=="function"?Rv(e,t,r.custom):t;n=Promise.all(Vk(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function dV(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const Noe=Dk.length;function hV(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?hV(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<Noe;r++){const n=Dk[r],a=e.props[n];(Lv(a)||a===!1)&&(t[n]=a)}return t}const koe=[...jk].reverse(),Coe=jk.length;function Poe(e){return t=>Promise.all(t.map(({animation:r,options:n})=>Eoe(e,r,n)))}function Ooe(e){let t=Poe(e),r=oj(),n=!0;const a=l=>(c,u)=>{var h;const f=Rv(e,u,l==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:g,...m}=f;c={...c,...m,...g}}return c};function i(l){t=l(e)}function s(l){const{props:c}=e,u=hV(e.parent)||{},f=[],h=new Set;let p={},g=1/0;for(let v=0;v<Coe;v++){const y=koe[v],b=r[y],w=c[y]!==void 0?c[y]:u[y],D=Lv(w),P=y===l?b.isActive:null;P===!1&&(g=v);let I=w===u[y]&&w!==c[y]&&D;if(I&&n&&e.manuallyAnimateOnMount&&(I=!1),b.protectedKeys={...p},!b.isActive&&P===null||!w&&!b.prevProp||v5(w)||typeof w=="boolean")continue;const T=Ioe(b.prevProp,w);let _=T||y===l&&b.isActive&&!I&&D||v>g&&D,S=!1;const j=Array.isArray(w)?w:[w];let E=j.reduce(a(y),{});P===!1&&(E={});const{prevResolvedValues:N={}}=b,O={...N,...E},U=J=>{_=!0,h.has(J)&&(S=!0,h.delete(J)),b.needsAnimating[J]=!0;const z=e.getValue(J);z&&(z.liveStyle=!1)};for(const J in O){const z=E[J],V=N[J];if(p.hasOwnProperty(J))continue;let ee=!1;hT(z)&&hT(V)?ee=!dV(z,V):ee=z!==V,ee?z!=null?U(J):h.add(J):z!==void 0&&h.has(J)?U(J):b.protectedKeys[J]=!0}b.prevProp=w,b.prevResolvedValues=E,b.isActive&&(p={...p,...E}),n&&e.blockInitialAnimation&&(_=!1),_&&(!(I&&T)||S)&&f.push(...j.map(J=>({animation:J,options:{type:y}})))}if(h.size){const v={};if(typeof c.initial!="boolean"){const y=Rv(e,Array.isArray(c.initial)?c.initial[0]:c.initial);y&&y.transition&&(v.transition=y.transition)}h.forEach(y=>{const b=e.getBaseTarget(y),w=e.getValue(y);w&&(w.liveStyle=!0),v[y]=b??null}),f.push({animation:v})}let m=!!f.length;return n&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(m=!1),n=!1,m?t(f):Promise.resolve()}function o(l,c){var f;if(r[l].isActive===c)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var p;return(p=h.animationState)==null?void 0:p.setActive(l,c)}),r[l].isActive=c;const u=s(l);for(const h in r)r[h].protectedKeys={};return u}return{animateChanges:s,setActive:o,setAnimateFunction:i,getState:()=>r,reset:()=>{r=oj(),n=!0}}}function Ioe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!dV(t,e):!1}function hd(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function oj(){return{animate:hd(!0),whileInView:hd(),whileHover:hd(),whileTap:hd(),whileDrag:hd(),whileFocus:hd(),exit:hd()}}class Wf{constructor(t){this.isMounted=!1,this.node=t}update(){}}class joe extends Wf{constructor(t){super(t),t.animationState||(t.animationState=Ooe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();v5(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let Doe=0;class Loe extends Wf{constructor(){super(...arguments),this.id=Doe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Moe={animation:{Feature:joe},exit:{Feature:Loe}};function Fv(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function X1(e){return{point:{x:e.pageX,y:e.pageY}}}const Roe=e=>t=>Ok(t)&&e(t,X1(t));function Dg(e,t,r,n){return Fv(e,t,Roe(r),n)}function pV({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function Foe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function $oe(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}const mV=1e-4,Boe=1-mV,Uoe=1+mV,gV=.01,Voe=0-gV,zoe=0+gV;function ls(e){return e.max-e.min}function qoe(e,t,r){return Math.abs(e-t)<=r}function lj(e,t,r,n=.5){e.origin=n,e.originPoint=Yn(t.min,t.max,e.origin),e.scale=ls(r)/ls(t),e.translate=Yn(r.min,r.max,e.origin)-e.originPoint,(e.scale>=Boe&&e.scale<=Uoe||isNaN(e.scale))&&(e.scale=1),(e.translate>=Voe&&e.translate<=zoe||isNaN(e.translate))&&(e.translate=0)}function Lg(e,t,r,n){lj(e.x,t.x,r.x,n?n.originX:void 0),lj(e.y,t.y,r.y,n?n.originY:void 0)}function cj(e,t,r){e.min=r.min+t.min,e.max=e.min+ls(t)}function Woe(e,t,r){cj(e.x,t.x,r.x),cj(e.y,t.y,r.y)}function uj(e,t,r){e.min=t.min-r.min,e.max=e.min+ls(t)}function Mg(e,t,r){uj(e.x,t.x,r.x),uj(e.y,t.y,r.y)}const fj=()=>({translate:0,scale:1,origin:0,originPoint:0}),w0=()=>({x:fj(),y:fj()}),dj=()=>({min:0,max:0}),ia=()=>({x:dj(),y:dj()});function xo(e){return[e("x"),e("y")]}function SS(e){return e===void 0||e===1}function gT({scale:e,scaleX:t,scaleY:r}){return!SS(e)||!SS(t)||!SS(r)}function yd(e){return gT(e)||vV(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function vV(e){return hj(e.x)||hj(e.y)}function hj(e){return e&&e!=="0%"}function ub(e,t,r){const n=e-r,a=t*n;return r+a}function pj(e,t,r,n,a){return a!==void 0&&(e=ub(e,a,n)),ub(e,r,n)+t}function vT(e,t=0,r=1,n,a){e.min=pj(e.min,t,r,n,a),e.max=pj(e.max,t,r,n,a)}function yV(e,{x:t,y:r}){vT(e.x,t.translate,t.scale,t.originPoint),vT(e.y,r.translate,r.scale,r.originPoint)}const mj=.999999999999,gj=1.0000000000001;function Hoe(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,s;for(let o=0;o<a;o++){i=r[o],s=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&S0(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,yV(e,s)),n&&yd(i.latestValues)&&S0(e,i.latestValues))}t.x<gj&&t.x>mj&&(t.x=1),t.y<gj&&t.y>mj&&(t.y=1)}function _0(e,t){e.min=e.min+t,e.max=e.max+t}function vj(e,t,r,n,a=.5){const i=Yn(e.min,e.max,a);vT(e,t,r,i,n)}function S0(e,t){vj(e.x,t.x,t.scaleX,t.scale,t.originX),vj(e.y,t.y,t.scaleY,t.scale,t.originY)}function xV(e,t){return pV($oe(e.getBoundingClientRect(),t))}function Goe(e,t,r){const n=xV(e,r),{scroll:a}=t;return a&&(_0(n.x,a.offset.x),_0(n.y,a.offset.y)),n}const bV=({current:e})=>e?e.ownerDocument.defaultView:null,yj=(e,t)=>Math.abs(e-t);function Koe(e,t){const r=yj(e.x,t.x),n=yj(e.y,t.y);return Math.sqrt(r**2+n**2)}class wV{constructor(t,r,{transformPagePoint:n,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=TS(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=Koe(f.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:g}=f,{timestamp:m}=fi;this.history.push({...g,timestamp:m});const{onStart:v,onMove:y}=this.handlers;h||(v&&v(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=AS(h,this.transformPagePoint),Qn.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=TS(f.type==="pointercancel"?this.lastMoveEventInfo:AS(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,v),g&&g(f,v)},!Ok(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=a||window;const s=X1(t),o=AS(s,this.transformPagePoint),{point:l}=o,{timestamp:c}=fi;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=r;u&&u(t,TS(o,this.history)),this.removeListeners=G1(Dg(this.contextWindow,"pointermove",this.handlePointerMove),Dg(this.contextWindow,"pointerup",this.handlePointerUp),Dg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Xc(this.updatePoint)}}function AS(e,t){return t?{point:t(e.point)}:e}function xj(e,t){return{x:e.x-t.x,y:e.y-t.y}}function TS({point:e},t){return{point:e,delta:xj(e,_V(t)),offset:xj(e,Yoe(t)),velocity:Xoe(t,.1)}}function Yoe(e){return e[0]}function _V(e){return e[e.length-1]}function Xoe(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=_V(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>ml(t)));)r--;if(!n)return{x:0,y:0};const i=Gl(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const s={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Qoe(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Yn(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Yn(r,e,n.max):Math.min(e,r)),e}function bj(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function Joe(e,{top:t,left:r,bottom:n,right:a}){return{x:bj(e.x,r,a),y:bj(e.y,t,n)}}function wj(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function Zoe(e,t){return{x:wj(e.x,t.x),y:wj(e.y,t.y)}}function ele(e,t){let r=.5;const n=ls(e),a=ls(t);return a>n?r=fp(t.min,t.max-n,e.min):n>a&&(r=fp(e.min,e.max-a,t.min)),Kc(0,1,r)}function tle(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const yT=.35;function rle(e=yT){return e===!1?e=0:e===!0&&(e=yT),{x:_j(e,"left","right"),y:_j(e,"top","bottom")}}function _j(e,t,r){return{min:Sj(e,t),max:Sj(e,r)}}function Sj(e,t){return typeof e=="number"?e:e[t]||0}const nle=new WeakMap;class ale{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ia(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=u=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(X1(u).point)},i=(u,f)=>{const{drag:h,dragPropagation:p,onDragStart:g}=this.getProps();if(h&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=yse(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),xo(v=>{let y=this.getAxisMotionValue(v).get()||0;if(Kl.test(y)){const{projection:b}=this.visualElement;if(b&&b.layout){const w=b.layout.layoutBox[v];w&&(y=ls(w)*(parseFloat(y)/100))}}this.originPoint[v]=y}),g&&Qn.postRender(()=>g(u,f)),pT(this.visualElement,"transform");const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},s=(u,f)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:g,onDrag:m}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:v}=f;if(p&&this.currentDirection===null){this.currentDirection=ile(v),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,v),this.updateAxis("y",f.point,v),this.visualElement.render(),m&&m(u,f)},o=(u,f)=>this.stop(u,f),l=()=>xo(u=>{var f;return this.getAnimationState(u)==="paused"&&((f=this.getAxisMotionValue(u).animation)==null?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new wV(t,{onSessionStart:a,onStart:i,onMove:s,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:bV(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&Qn.postRender(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!ux(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let s=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(s=Qoe(s,this.constraints[t],this.elastic[t])),i.set(s)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,a=this.constraints;t&&b0(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=Joe(n.layoutBox,t):this.constraints=!1,this.elastic=rle(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&xo(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=tle(n.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!b0(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=Goe(n,a.root,this.visualElement.getTransformPagePoint());let s=Zoe(a.layout.layoutBox,i);if(r){const o=r(Foe(s));this.hasMutatedConstraints=!!o,o&&(s=pV(o))}return s}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=xo(u=>{if(!ux(u,r,this.currentDirection))return;let f=l&&l[u]||{};s&&(f={min:0,max:0});const h=a?200:1e6,p=a?40:1e7,g={type:"inertia",velocity:n?t[u]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(u,g)});return Promise.all(c).then(o)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return pT(this.visualElement,t),n.start(Uk(t,n,0,r,this.visualElement,!1))}stopAnimation(){xo(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){xo(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){xo(r=>{const{drag:n}=this.getProps();if(!ux(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:s,max:o}=a.layout.layoutBox[r];i.set(t[r]-Yn(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!b0(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};xo(s=>{const o=this.getAxisMotionValue(s);if(o&&this.constraints!==!1){const l=o.get();a[s]=ele({min:l,max:l},this.constraints[s])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),xo(s=>{if(!ux(s,t,null))return;const o=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];o.set(Yn(l,c,a[s]))})}addListeners(){if(!this.visualElement.current)return;nle.set(this.visualElement,this);const t=this.visualElement.current,r=Dg(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();b0(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Qn.read(n);const s=Fv(window,"resize",()=>this.scalePositionWithinConstraints()),o=a.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(xo(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{s(),r(),i(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:s=yT,dragMomentum:o=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:s,dragMomentum:o}}}function ux(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function ile(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class sle extends Wf{constructor(t){super(t),this.removeGroupControls=Eo,this.removeListeners=Eo,this.controls=new ale(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Eo}unmount(){this.removeGroupControls(),this.removeListeners()}}const Aj=e=>(t,r)=>{e&&Qn.postRender(()=>e(t,r))};class ole extends Wf{constructor(){super(...arguments),this.removePointerDownListener=Eo}onPointerDown(t){this.session=new wV(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:bV(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:Aj(t),onStart:Aj(r),onMove:n,onEnd:(i,s)=>{delete this.session,a&&Qn.postRender(()=>a(i,s))}}}mount(){this.removePointerDownListener=Dg(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const l2={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Tj(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const $m={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Sr.test(e))e=parseFloat(e);else return e;const r=Tj(e,t.target.x),n=Tj(e,t.target.y);return`${r}% ${n}%`}},lle={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=Lf.parse(e);if(a.length>5)return n;const i=Lf.createTransformer(e),s=typeof a[0]!="number"?1:0,o=r.x.scale*t.x,l=r.y.scale*t.y;a[0+s]/=o,a[1+s]/=l;const c=Yn(o,l,.5);return typeof a[2+s]=="number"&&(a[2+s]/=c),typeof a[3+s]=="number"&&(a[3+s]/=c),i(a)}};class cle extends B.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=t;Gse(ule),i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),l2.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,{projection:s}=n;return s&&(s.isPresent=i,a||t.layoutDependency!==r||r===void 0||t.isPresent!==i?s.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?s.promote():s.relegate()||Qn.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Pk.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function SV(e){const[t,r]=XU(),n=B.useContext(lk);return d.jsx(cle,{...e,layoutGroup:n,switchLayoutGroup:B.useContext(rV),isPresent:t,safeToRemove:r})}const ule={borderRadius:{...$m,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$m,borderTopRightRadius:$m,borderBottomLeftRadius:$m,borderBottomRightRadius:$m,boxShadow:lle};function AV(e,t,r){const n=ti(e)?e:th(e);return n.start(Uk("",n,t,r)),n.animation}const fle=(e,t)=>e.depth-t.depth;class dle{constructor(){this.children=[],this.isDirty=!1}add(t){fk(this.children,t),this.isDirty=!0}remove(t){p5(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(fle),this.isDirty=!1,this.children.forEach(t)}}function hle(e,t){const r=ks.now(),n=({timestamp:a})=>{const i=a-r;i>=t&&(Xc(n),e(i-t))};return Qn.setup(n,!0),()=>Xc(n)}const TV=["TopLeft","TopRight","BottomLeft","BottomRight"],ple=TV.length,Ej=e=>typeof e=="string"?parseFloat(e):e,Nj=e=>typeof e=="number"||Sr.test(e);function mle(e,t,r,n,a,i){a?(e.opacity=Yn(0,r.opacity??1,gle(n)),e.opacityExit=Yn(t.opacity??1,0,vle(n))):i&&(e.opacity=Yn(t.opacity??1,r.opacity??1,n));for(let s=0;s<ple;s++){const o=`border${TV[s]}Radius`;let l=kj(t,o),c=kj(r,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Nj(l)===Nj(c)?(e[o]=Math.max(Yn(Ej(l),Ej(c),n),0),(Kl.test(c)||Kl.test(l))&&(e[o]+="%")):e[o]=c}(t.rotate||r.rotate)&&(e.rotate=Yn(t.rotate||0,r.rotate||0,n))}function kj(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const gle=EV(0,.5,fU),vle=EV(.5,.95,Eo);function EV(e,t,r){return n=>n<e?0:n>t?1:r(fp(e,t,n))}function Cj(e,t){e.min=t.min,e.max=t.max}function fo(e,t){Cj(e.x,t.x),Cj(e.y,t.y)}function Pj(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Oj(e,t,r,n,a){return e-=t,e=ub(e,1/r,n),a!==void 0&&(e=ub(e,1/a,n)),e}function yle(e,t=0,r=1,n=.5,a,i=e,s=e){if(Kl.test(t)&&(t=parseFloat(t),t=Yn(s.min,s.max,t/100)-s.min),typeof t!="number")return;let o=Yn(i.min,i.max,n);e===i&&(o-=t),e.min=Oj(e.min,t,r,o,a),e.max=Oj(e.max,t,r,o,a)}function Ij(e,t,[r,n,a],i,s){yle(e,t[r],t[n],t[a],t.scale,i,s)}const xle=["x","scaleX","originX"],ble=["y","scaleY","originY"];function jj(e,t,r,n){Ij(e.x,t,xle,r?r.x:void 0,n?n.x:void 0),Ij(e.y,t,ble,r?r.y:void 0,n?n.y:void 0)}function Dj(e){return e.translate===0&&e.scale===1}function NV(e){return Dj(e.x)&&Dj(e.y)}function Lj(e,t){return e.min===t.min&&e.max===t.max}function wle(e,t){return Lj(e.x,t.x)&&Lj(e.y,t.y)}function Mj(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function kV(e,t){return Mj(e.x,t.x)&&Mj(e.y,t.y)}function Rj(e){return ls(e.x)/ls(e.y)}function Fj(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class _le{constructor(){this.members=[]}add(t){fk(this.members,t),t.scheduleRender()}remove(t){if(p5(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Sle(e,t,r){let n="";const a=e.x.translate/t.x,i=e.y.translate/t.y,s=(r==null?void 0:r.z)||0;if((a||i||s)&&(n=`translate3d(${a}px, ${i}px, ${s}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:c,rotate:u,rotateX:f,rotateY:h,skewX:p,skewY:g}=r;c&&(n=`perspective(${c}px) ${n}`),u&&(n+=`rotate(${u}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),p&&(n+=`skewX(${p}deg) `),g&&(n+=`skewY(${g}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const ES=["","X","Y","Z"],Ale={visibility:"hidden"},Tle=1e3;let Ele=0;function NS(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function CV(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=fV(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Qn,!(a||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&CV(n)}function PV({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(s={},o=t==null?void 0:t()){this.id=Ele++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Cle),this.nodes.forEach(Dle),this.nodes.forEach(Lle),this.nodes.forEach(Ple)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new dle)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new hk),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l&&l.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=Ik(s)&&!YU(s),this.instance=s;const{layoutId:o,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),e){let u;const f=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=hle(f,250),l2.hasAnimatedSinceResize&&(l2.hasAnimatedSinceResize=!1,this.nodes.forEach(Bj))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||c.getDefaultTransition()||Ble,{onLayoutAnimationStart:m,onLayoutAnimationComplete:v}=c.getProps(),y=!this.targetLayout||!kV(this.targetLayout,p),b=!f&&h;if(this.options.layoutRoot||this.resumeFrom||b||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(u,b);const w={...kk(g,"layout"),onPlay:m,onComplete:v};(c.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else f||Bj(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Xc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Mle),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&CV(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach($j);return}this.isUpdating||this.nodes.forEach(Ile),this.isUpdating=!1,this.nodes.forEach(jle),this.nodes.forEach(Nle),this.nodes.forEach(kle),this.clearAllSnapshots();const o=ks.now();fi.delta=Kc(0,1e3/60,o-fi.timestamp),fi.timestamp=o,fi.isProcessing=!0,vS.update.process(fi),vS.preRender.process(fi),vS.render.process(fi),fi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Pk.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Ole),this.sharedNodes.forEach(Rle)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Qn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Qn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ls(this.snapshot.measuredBox.x)&&!ls(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ia(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&this.instance){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!a)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!NV(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;s&&this.instance&&(o||yd(this.latestValues)||u)&&(a(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),Ule(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:s}=this.options;if(!s)return ia();const o=s.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(Vle))){const{scroll:u}=this.root;u&&(_0(o.x,u.offset.x),_0(o.y,u.offset.y))}return o}removeElementScroll(s){var l;const o=ia();if(fo(o,s),(l=this.scroll)!=null&&l.wasRoot)return o;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:f,options:h}=u;u!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&fo(o,s),_0(o.x,f.offset.x),_0(o.y,f.offset.y))}return o}applyTransform(s,o=!1){const l=ia();fo(l,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&S0(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),yd(u.latestValues)&&S0(l,u.latestValues)}return yd(this.latestValues)&&S0(l,this.latestValues),l}removeTransform(s){const o=ia();fo(o,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!yd(c.latestValues))continue;gT(c.latestValues)&&c.updateSnapshot();const u=ia(),f=c.measurePageBox();fo(u,f),jj(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return yd(this.latestValues)&&jj(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==fi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var h;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(s||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:f}=this.options;if(!(!this.layout||!(u||f))){if(this.resolvedRelativeTargetAt=fi.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ia(),this.relativeTargetOrigin=ia(),Mg(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),fo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ia(),this.targetWithTransforms=ia()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Woe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):fo(this.target,this.layout.layoutBox),yV(this.target,this.targetDelta)):fo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ia(),this.relativeTargetOrigin=ia(),Mg(this.relativeTargetOrigin,this.target,p.target),fo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||gT(this.parent.latestValues)||vV(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var g;const s=this.getLead(),o=!!this.resumingFrom||this!==s;let l=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===fi.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;fo(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;Hoe(this.layoutCorrected,this.treeScale,this.path,o),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=ia());const{target:p}=s;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Pj(this.prevProjectionDelta.x,this.projectionDelta.x),Pj(this.prevProjectionDelta.y,this.projectionDelta.y)),Lg(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!Fj(this.projectionDelta.x,this.prevProjectionDelta.x)||!Fj(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=w0(),this.projectionDelta=w0(),this.projectionDeltaWithTransform=w0()}setAnimationOrigin(s,o=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=w0();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=ia(),p=l?l.source:void 0,g=this.layout?this.layout.source:void 0,m=p!==g,v=this.getStack(),y=!v||v.members.length<=1,b=!!(m&&!y&&this.options.crossfade===!0&&!this.path.some($le));this.animationProgress=0;let w;this.mixTargetDelta=D=>{const P=D/1e3;Uj(f.x,s.x,P),Uj(f.y,s.y,P),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Mg(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Fle(this.relativeTarget,this.relativeTargetOrigin,h,P),w&&wle(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=ia()),fo(w,this.relativeTarget)),m&&(this.animationValues=u,mle(u,c,this.latestValues,P,b,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){var o,l,c;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(!1),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(!1),this.pendingAnimation&&(Xc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Qn.update(()=>{l2.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=th(0)),this.currentAnimation=AV(this.motionValue,[0,1e3],{...s,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),s.onUpdate&&s.onUpdate(u)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Tle),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:u}=s;if(!(!o||!l||!c)){if(this!==s&&this.layout&&c&&OV(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||ia();const f=ls(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const h=ls(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}fo(o,l),S0(o,u),Lg(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new _le),this.sharedNodes.get(s).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var o;const{layoutId:s}=this.options;return s?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:s}=this.options;return s?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&NS("z",s,c,this.animationValues);for(let u=0;u<ES.length;u++)NS(`rotate${ES[u]}`,s,c,this.animationValues),NS(`skew${ES[u]}`,s,c,this.animationValues);s.render();for(const u in c)s.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);s.scheduleRender()}getProjectionStyles(s){if(!this.instance||this.isSVG)return;if(!this.isVisible)return Ale;const o={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,o.opacity="",o.pointerEvents=o2(s==null?void 0:s.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none",o;const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){const p={};return this.options.layoutId&&(p.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,p.pointerEvents=o2(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!yd(this.latestValues)&&(p.transform=l?l({},""):"none",this.hasProjected=!1),p}const u=c.animationValues||c.latestValues;this.applyTransformsToTarget(),o.transform=Sle(this.projectionDeltaWithTransform,this.treeScale,u),l&&(o.transform=l(u,o.transform));const{x:f,y:h}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${h.origin*100}% 0`,c.animationValues?o.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const p in Mv){if(u[p]===void 0)continue;const{correct:g,applyTo:m,isCSSVariable:v}=Mv[p],y=o.transform==="none"?u[p]:g(u[p],c);if(m){const b=m.length;for(let w=0;w<b;w++)o[m[w]]=y}else v?this.options.visualElement.renderState.vars[p]=y:o[p]=y}return this.options.layoutId&&(o.pointerEvents=c===this?o2(s==null?void 0:s.pointerEvents)||"":"none"),o}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)==null?void 0:o.stop(!1)}),this.root.nodes.forEach($j),this.root.sharedNodes.clear()}}}function Nle(e){e.updateLayout()}function kle(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:i}=e.options,s=t.source!==e.layout.source;i==="size"?xo(f=>{const h=s?t.measuredBox[f]:t.layoutBox[f],p=ls(h);h.min=n[f].min,h.max=h.min+p}):OV(i,t.layoutBox,n)&&xo(f=>{const h=s?t.measuredBox[f]:t.layoutBox[f],p=ls(n[f]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+p)});const o=w0();Lg(o,n,t.layoutBox);const l=w0();s?Lg(l,e.applyTransform(a,!0),t.measuredBox):Lg(l,n,t.layoutBox);const c=!NV(o);let u=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const g=ia();Mg(g,t.layoutBox,h.layoutBox);const m=ia();Mg(m,n,p.layoutBox),kV(g,m)||(u=!0),f.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=g,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function Cle(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Ple(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Ole(e){e.clearSnapshot()}function $j(e){e.clearMeasurements()}function Ile(e){e.isLayoutDirty=!1}function jle(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Bj(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Dle(e){e.resolveTargetDelta()}function Lle(e){e.calcProjection()}function Mle(e){e.resetSkewAndRotation()}function Rle(e){e.removeLeadSnapshot()}function Uj(e,t,r){e.translate=Yn(t.translate,0,r),e.scale=Yn(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function Vj(e,t,r,n){e.min=Yn(t.min,r.min,n),e.max=Yn(t.max,r.max,n)}function Fle(e,t,r,n){Vj(e.x,t.x,r.x,n),Vj(e.y,t.y,r.y,n)}function $le(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Ble={duration:.45,ease:[.4,0,.1,1]},zj=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),qj=zj("applewebkit/")&&!zj("chrome/")?Math.round:Eo;function Wj(e){e.min=qj(e.min),e.max=qj(e.max)}function Ule(e){Wj(e.x),Wj(e.y)}function OV(e,t,r){return e==="position"||e==="preserve-aspect"&&!qoe(Rj(t),Rj(r),.2)}function Vle(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const zle=PV({attachResizeListener:(e,t)=>Fv(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),kS={current:void 0},IV=PV({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!kS.current){const e=new zle({});e.mount(window),e.setOptions({layoutScroll:!0}),kS.current=e}return kS.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),qle={pan:{Feature:ole},drag:{Feature:sle,ProjectionNode:IV,MeasureLayout:SV}};function Hj(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=n[a];i&&Qn.postRender(()=>i(t,X1(t)))}class Wle extends Wf{mount(){const{current:t}=this.node;t&&(this.unmount=xse(t,(r,n)=>(Hj(this.node,n,"Start"),a=>Hj(this.node,a,"End"))))}unmount(){}}class Hle extends Wf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=G1(Fv(this.node.current,"focus",()=>this.onFocus()),Fv(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Gj(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=n[a];i&&Qn.postRender(()=>i(t,X1(t)))}class Gle extends Wf{mount(){const{current:t}=this.node;t&&(this.unmount=Sse(t,(r,n)=>(Gj(this.node,n,"Start"),(a,{success:i})=>Gj(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const xT=new WeakMap,CS=new WeakMap,Kle=e=>{const t=xT.get(e.target);t&&t(e)},Yle=e=>{e.forEach(Kle)};function Xle({root:e,...t}){const r=e||document;CS.has(r)||CS.set(r,{});const n=CS.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(Yle,{root:e,...t})),n[a]}function Qle(e,t,r){const n=Xle(t);return xT.set(e,r),n.observe(e),()=>{xT.delete(e),n.unobserve(e)}}const Jle={some:0,all:1};class Zle extends Wf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=t,s={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:Jle[a]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),h=c?u:f;h&&h(l)};return Qle(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(ece(t,r))&&this.startObserver()}unmount(){}}function ece({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const tce={inView:{Feature:Zle},tap:{Feature:Gle},focus:{Feature:Hle},hover:{Feature:Wle}},rce={layout:{ProjectionNode:IV,MeasureLayout:SV}},bT={current:null},jV={current:!1};function nce(){if(jV.current=!0,!!ck)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>bT.current=e.matches;e.addListener(t),t()}else bT.current=!1}const $v=new WeakMap;function ace(e,t,r){for(const n in t){const a=t[n],i=r[n];if(ti(a))e.addValue(n,a);else if(ti(i))e.addValue(n,th(a,{owner:e}));else if(i!==a)if(e.hasValue(n)){const s=e.getValue(n);s.liveStyle===!0?s.jump(a):s.hasAnimated||s.set(a)}else{const s=e.getStaticValue(n);e.addValue(n,th(s!==void 0?s:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const Kj=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class DV{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Tk,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=ks.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Qn.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=y5(r),this.isVariantNode=eV(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const p=f[h];l[h]!==void 0&&ti(p)&&p.set(l[h],!1)}}mount(t){this.current=t,$v.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),jV.current||nce(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:bT.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Xc(this.notifyUpdate),Xc(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Jp.has(t);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Qn.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),i(),s&&s(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in dp){const r=dp[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ia()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<Kj.length;n++){const a=Kj[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,s=t[i];s&&(this.propEventSubscriptions[a]=this.on(a,s))}this.prevMotionValues=ace(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=th(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(tU(n)||nU(n))?n=parseFloat(n):!Ese(n)&&Lf.test(r)&&(n=zU(t,r)),this.setBaseTarget(t,ti(n)?n.get():n)),ti(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const s=$k(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);s&&(n=s[t])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!ti(a)?a:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new hk),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class LV extends DV{constructor(){super(...arguments),this.KeyframeResolver=mse}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ti(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function MV(e,{style:t,vars:r},n,a){Object.assign(e.style,t,a&&a.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}function ice(e){return window.getComputedStyle(e)}class RV extends LV{constructor(){super(...arguments),this.type="html",this.renderInstance=MV}readValueFromInstance(t,r){var n;if(Jp.has(r))return(n=this.projection)!=null&&n.isProjecting?oT(r):Iie(t,r);{const a=ice(t),i=(gk(r)?a.getPropertyValue(r):a[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return xV(t,r)}build(t,r,n){Mk(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return Bk(t,r,n)}}const FV=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function sce(e,t,r,n){MV(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(FV.has(a)?a:Lk(a),t.attrs[a])}class $V extends LV{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ia}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Jp.has(r)){const n=VU(r);return n&&n.default||0}return r=FV.has(r)?r:Lk(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return uV(t,r,n)}build(t,r,n){sV(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,a){sce(t,r,n,a)}mount(t){this.isSVGTag=lV(t.tagName),super.mount(t)}}const oce=(e,t)=>Fk(e)?new $V(t):new RV(t,{allowProjection:e!==B.Fragment}),lce=uoe({...Moe,...tce,...qle,...rce},oce),Jn=Lse(lce);function wT(e){const t=H1(()=>th(e)),{isStatic:r}=B.useContext(m5);if(r){const[,n]=B.useState(e);B.useEffect(()=>t.on("change",n),[])}return t}function BV(e,t){const r=wT(t()),n=()=>r.set(t());return n(),uk(()=>{const a=()=>Qn.preRender(n,!1,!0),i=e.map(s=>s.on("change",a));return()=>{i.forEach(s=>s()),Xc(n)}}),r}function cce(e){jg.current=[],e();const t=BV(jg.current,e);return jg.current=void 0,t}function Yj(e,t,r,n){if(typeof e=="function")return cce(e);const a=typeof t=="function"?t:Ase(t,r,n);return Array.isArray(e)?Xj(e,a):Xj([e],([i])=>a(i))}function Xj(e,t){const r=H1(()=>[]);return BV(e,()=>{r.length=0;const n=e.length;for(let a=0;a<n;a++)r[a]=e[a].get();return t(r)})}function zk(e){return typeof e=="object"&&!Array.isArray(e)}function UV(e,t,r,n){return typeof e=="string"&&zk(t)?qU(e,r,n):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function uce(e,t,r){return e*(t+1)}function Qj(e,t,r,n){return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?r:n.get(t)??e}function fce(e,t,r){for(let n=0;n<e.length;n++){const a=e[n];a.at>t&&a.at<r&&(p5(e,a),n--)}}function dce(e,t,r,n,a,i){fce(e,a,i);for(let s=0;s<t.length;s++)e.push({value:t[s],at:Yn(a,i,n[s]),easing:mU(r,s)})}function hce(e,t){for(let r=0;r<e.length;r++)e[r]=e[r]/(t+1)}function pce(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const mce="easeInOut";function gce(e,{defaultTransition:t={},...r}={},n,a){const i=t.duration||.3,s=new Map,o=new Map,l={},c=new Map;let u=0,f=0,h=0;for(let p=0;p<e.length;p++){const g=e[p];if(typeof g=="string"){c.set(g,f);continue}else if(!Array.isArray(g)){c.set(g.name,Qj(f,g.at,u,c));continue}let[m,v,y={}]=g;y.at!==void 0&&(f=Qj(f,y.at,u,c));let b=0;const w=(D,P,I,T=0,_=0)=>{const S=vce(D),{delay:j=0,times:E=OU(S),type:N="keyframes",repeat:O,repeatType:U,repeatDelay:Y=0,...K}=P;let{ease:J=t.ease||"easeOut",duration:z}=P;const V=typeof j=="function"?j(T,_):j,ee=S.length,Z=Ek(N)?N:a==null?void 0:a[N];if(ee<=2&&Z){let G=100;if(ee===2&&bce(S)){const ue=S[1]-S[0];G=Math.abs(ue)}const Q={...K};z!==void 0&&(Q.duration=ml(z));const ie=NU(Q,G,Z);J=ie.ease,z=ie.duration}z??(z=i);const k=f+V;E.length===1&&E[0]===0&&(E[1]=1);const R=E.length-S.length;if(R>0&&PU(E,R),S.length===1&&S.unshift(null),O){z=uce(z,O);const G=[...S],Q=[...E];J=Array.isArray(J)?[...J]:[J];const ie=[...J];for(let ue=0;ue<O;ue++){S.push(...G);for(let ne=0;ne<G.length;ne++)E.push(Q[ne]+(ue+1)),J.push(ne===0?"linear":mU(ie,ne-1))}hce(E,O)}const q=k+z;dce(I,S,J,E,k,q),b=Math.max(V+z,b),h=Math.max(q,h)};if(ti(m)){const D=Jj(m,o);w(v,y,Zj("default",D))}else{const D=UV(m,v,n,l),P=D.length;for(let I=0;I<P;I++){v=v,y=y;const T=D[I],_=Jj(T,o);for(const S in v)w(v[S],yce(y,S),Zj(S,_),I,P)}}u=f,f+=b}return o.forEach((p,g)=>{for(const m in p){const v=p[m];v.sort(pce);const y=[],b=[],w=[];for(let P=0;P<v.length;P++){const{at:I,value:T,easing:_}=v[P];y.push(T),b.push(fp(0,h,I)),w.push(_||"easeOut")}b[0]!==0&&(b.unshift(0),y.unshift(y[0]),w.unshift(mce)),b[b.length-1]!==1&&(b.push(1),y.push(null)),s.has(g)||s.set(g,{keyframes:{},transition:{}});const D=s.get(g);D.keyframes[m]=y,D.transition[m]={...t,duration:h,ease:w,times:b,...r}}}),s}function Jj(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function Zj(e,t){return t[e]||(t[e]=[]),t[e]}function vce(e){return Array.isArray(e)?e:[e]}function yce(e,t){return e&&e[t]?{...e,...e[t]}:{...e}}const xce=e=>typeof e=="number",bce=e=>e.every(xce);function wce(e,t){return e in t}class _ce extends DV{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,r){if(wce(r,t)){const n=t[r];if(typeof n=="string"||typeof n=="number")return n}}getBaseTargetFromProps(){}removeValueFromRenderState(t,r){delete r.output[t]}measureInstanceViewportBox(){return ia()}build(t,r){Object.assign(t.output,r)}renderInstance(t,{output:r}){Object.assign(t,r)}sortInstanceNodePosition(){return 0}}function Sce(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},r=Ik(e)&&!YU(e)?new $V(t):new RV(t);r.mount(e),$v.set(e,r)}function Ace(e){const t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},r=new _ce(t);r.mount(e),$v.set(e,r)}function Tce(e,t){return ti(e)||typeof e=="number"||typeof e=="string"&&!zk(t)}function VV(e,t,r,n){const a=[];if(Tce(e,t))a.push(AV(e,zk(t)&&t.default||t,r&&(r.default||r)));else{const i=UV(e,t,n),s=i.length;for(let o=0;o<s;o++){const l=i[o],c=l instanceof Element?Sce:Ace;$v.has(l)||c(l);const u=$v.get(l),f={...r};"delay"in f&&typeof f.delay=="function"&&(f.delay=f.delay(o,s)),a.push(...Vk(u,{...t,transition:f},{}))}}return a}function Ece(e,t,r){const n=[];return gce(e,t,r,{spring:Dv}).forEach(({keyframes:i,transition:s},o)=>{n.push(...VV(o,i,s))}),n}function Nce(e){return Array.isArray(e)&&e.some(Array.isArray)}function kce(e){function t(r,n,a){let i=[];return Nce(r)?i=Ece(r,n,e):i=VV(r,n,a,e),new nse(i)}return t}const eD=kce(),Cce=()=>{const{user:e,logout:t}=wa(),r=M1(),{isDarkMode:n}=sn(),[a,i]=B.useState(!1),s=p=>p.split(" ").map(g=>g[0]).join("").toUpperCase().slice(0,2),o=async()=>{r("/login"),t()},l=()=>{i(!a)},c=()=>{i(!1)},u=()=>{switch(e==null?void 0:e.role){case"fahiz":return"Fahiz Stock";case"aphy":return"APHY Stock";case"supply_serve":default:return"Supply & Serve"}},f=[{to:"/",icon:d.jsx(_Z,{size:20}),label:"Dashboard",roles:["admin"]},{to:"/add",icon:d.jsx(xi,{size:20}),label:"Add",roles:["admin","staff"]},{to:"/stock",icon:d.jsx(wO,{size:20}),label:"Inbound",roles:["admin","staff"]},{to:"/outbound-stock",icon:d.jsx(TZ,{size:20}),label:"Outbound",roles:["admin","staff"]},{to:"/inventory",icon:d.jsx(gZ,{size:20}),label:"Inventory",roles:["admin"]},{to:"/jobs",icon:d.jsx(vZ,{size:20}),label:"Jobs",roles:["admin","staff"]},{to:"/warehouse-locations",icon:d.jsx(gN,{size:20}),label:"Locations",roles:["admin","staff"]},{to:"/orders",icon:d.jsx(kZ,{size:20}),label:"Orders",roles:[""]},{to:"/reports-analytics",icon:d.jsx(mZ,{size:20}),label:"Reports",roles:["admin"]},{to:"/warehouse-operations",icon:d.jsx(hZ,{size:20}),label:"Logs",roles:["admin","staff"]},{to:"/settings",icon:d.jsx(NZ,{size:20}),label:"Settings",roles:["admin","staff"]},{to:"/supply-serve",icon:d.jsx(wO,{size:20}),label:u(),roles:["supply_serve","fahiz","aphy"]}],h=e?f.filter(p=>p.roles.includes(e.role)):[];return d.jsxs(Jn.header,{initial:{y:-100},animate:{y:0},transition:{type:"spring",stiffness:100},className:`${n?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} border-b sticky top-0 z-10`,children:[d.jsx("div",{className:"container mx-auto px-4 md:px-6 lg:px-8",children:d.jsxs("div",{className:"flex items-center justify-between h-16",children:[d.jsx(Jn.div,{className:"flex items-center",whileHover:{scale:1.02},transition:{type:"spring",stiffness:400,damping:10},children:d.jsx(sS,{to:"/",className:"flex items-center gap-2 font-semibold text-lg",children:d.jsx(Jn.span,{className:`font-bold ${n?"text-blue-400":"text-blue-600"}`,whileHover:{scale:1.05},transition:{type:"spring",stiffness:400,damping:10},children:"AZTEC"})})}),d.jsx("nav",{className:"hidden md:flex items-center justify-center flex-1 space-x-1",children:h.map((p,g)=>d.jsx(Jn.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:g*.1},children:d.jsx("div",{className:"group relative",children:d.jsx(sS,{to:p.to,className:({isActive:m})=>`flex items-center h-10 rounded-lg transition-all duration-300 overflow-hidden ${m?`px-3 ${n?"bg-slate-700 text-white":"bg-blue-100 text-blue-700"}`:`group-hover:px-3 ${n?"text-slate-300 hover:bg-slate-700 hover:text-white":"text-slate-700 hover:bg-slate-100"}`}`,...p.to==="/"?{end:!0}:{},children:({isActive:m})=>d.jsxs(d.Fragment,{children:[d.jsx(Jn.div,{className:"flex items-center justify-center w-10 h-10 flex-shrink-0",whileHover:{scale:1.05},whileTap:{scale:.95},children:p.icon}),d.jsx("span",{className:`text-sm font-medium whitespace-nowrap transition-all duration-300 overflow-hidden ${m?"opacity-100 w-auto ml-1":"opacity-0 w-0 group-hover:opacity-100 group-hover:w-auto group-hover:ml-1"}`,children:p.label})]})})})},p.to))}),d.jsxs("div",{className:"flex items-center gap-4",children:[e&&d.jsxs(Jn.div,{className:"hidden md:flex items-center gap-3",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},children:[d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:`text-sm font-medium ${n?"text-white":"text-slate-700"}`,children:e.name}),d.jsx("p",{className:`text-xs ${n?"text-slate-400":"text-slate-500"} capitalize`,children:e.role})]}),d.jsx(Jn.div,{className:`h-8 w-8 rounded-full overflow-hidden ${n?"bg-blue-900/50":"bg-blue-100"} flex items-center justify-center`,whileHover:{scale:1.1},whileTap:{scale:.9},children:d.jsx("span",{className:`text-sm font-semibold ${n?"text-blue-400":"text-blue-600"}`,children:s(e.name)})}),d.jsx(Jn.button,{onClick:o,className:`p-2 ${n?"text-slate-300 hover:text-red-400 hover:bg-slate-700":"text-slate-600 hover:text-red-600 hover:bg-slate-100"} rounded-full transition-colors`,"aria-label":"Logout",whileHover:{scale:1.1},whileTap:{scale:.9},children:d.jsx(bO,{size:20})})]}),d.jsx(Jn.button,{onClick:l,className:`md:hidden p-2 ${n?"text-slate-300 hover:bg-slate-700":"text-slate-600 hover:bg-slate-100"} rounded-lg`,"aria-label":a?"Close menu":"Open menu",whileHover:{scale:1.1},whileTap:{scale:.9},children:a?d.jsx(wv,{size:24}):d.jsx(AZ,{size:24})})]})]})}),d.jsx(QU,{children:a&&d.jsx(Jn.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:`md:hidden ${n?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} border-t`,children:d.jsxs("div",{className:"container mx-auto px-4 py-3 space-y-1",children:[h.map((p,g)=>d.jsx(Jn.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:g*.1},children:d.jsx(sS,{to:p.to,className:({isActive:m})=>`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${m?n?"bg-slate-700 text-white":"bg-blue-100 text-blue-700":n?"text-slate-300 hover:bg-slate-700 hover:text-white":"text-slate-700 hover:bg-slate-100"}`,onClick:c,...p.to==="/"?{end:!0}:{},children:d.jsxs(Jn.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-3",children:[p.icon,d.jsx("span",{className:"text-sm font-medium",children:p.label})]})})},p.to)),d.jsx(Jn.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:`border-t ${n?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:e&&d.jsxs("div",{className:"flex items-center justify-between py-2",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Jn.div,{className:`h-8 w-8 rounded-full overflow-hidden ${n?"bg-blue-900/50":"bg-blue-100"} flex items-center justify-center`,whileHover:{scale:1.1},whileTap:{scale:.9},children:d.jsx("span",{className:`text-sm font-semibold ${n?"text-blue-400":"text-blue-600"}`,children:s(e.name)})}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm font-medium ${n?"text-white":"text-slate-700"}`,children:e.name}),d.jsx("p",{className:`text-xs ${n?"text-slate-400":"text-slate-500"} capitalize`,children:e.role})]})]}),d.jsxs(Jn.button,{onClick:o,className:`flex items-center gap-2 px-3 py-2 ${n?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-red-50"} rounded-lg transition-colors`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[d.jsx(bO,{size:18}),d.jsx("span",{children:"Logout"})]})]})})]})})})]})},Pce=()=>{const{isAuthenticated:e}=wa(),t=M1(),{isDarkMode:r}=sn();return $e.useEffect(()=>{e||t("/login")},[e,t]),e?d.jsxs("div",{className:`flex flex-col min-h-screen ${r?"bg-slate-900":"bg-slate-50"}`,children:[d.jsx(Cce,{}),d.jsx("main",{className:"flex-grow container mx-auto px-4 py-6 md:px-6 lg:px-8",children:d.jsx(KJ,{})})]}):null},zV=({message:e,type:t,onClose:r,duration:n=3e3})=>{const[a,i]=B.useState(!1),[s,o]=B.useState(!1);B.useEffect(()=>{requestAnimationFrame(()=>{o(!0)});const f=setTimeout(()=>{i(!0),setTimeout(r,300)},n);return()=>clearTimeout(f)},[n,r]);const l={success:d.jsx(P4,{className:"text-green-500",size:20}),error:d.jsx(_O,{className:"text-red-500",size:20}),warning:d.jsx(Qd,{className:"text-yellow-500",size:20}),info:d.jsx(wZ,{className:"text-blue-500",size:20})},c={success:"bg-green-50 border-green-200",error:"bg-red-50 border-red-200",warning:"bg-yellow-50 border-yellow-200",info:"bg-blue-50 border-blue-200"},u={success:"text-green-800",error:"text-red-800",warning:"text-yellow-800",info:"text-blue-800"};return d.jsx("div",{className:"fixed top-4 right-4 z-50",children:d.jsxs("div",{className:`transform transition-all duration-300 ease-in-out
          ${a?"translate-x-full opacity-0":s?"translate-x-0 opacity-100":"translate-x-full opacity-0"}
          flex items-center gap-3 px-4 py-3 rounded-lg border ${c[t]} ${u[t]} shadow-lg`,children:[l[t],d.jsx("p",{className:"text-sm font-medium",children:e}),d.jsx("button",{onClick:()=>{i(!0),setTimeout(r,300)},className:"ml-2 text-slate-400 hover:text-slate-600 transition-colors",children:d.jsx(_O,{size:18})})]})})},qV=B.createContext(void 0),rc=()=>{const e=B.useContext(qV);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},Oce=({children:e})=>{const[t,r]=B.useState(null),n=(i,s)=>{r({message:i,type:s})},a=()=>{r(null)};return d.jsxs(qV.Provider,{value:{showToast:n},children:[e,t&&d.jsx(zV,{message:t.message,type:t.type,onClose:a})]})},Nt=({label:e,error:t,icon:r,fullWidth:n=!1,className:a="",darkMode:i,...s})=>{const{isDarkMode:o}=sn(),l=i??o;return d.jsxs("div",{className:`${n?"w-full":""} ${a}`,children:[e&&d.jsx("label",{className:`block text-sm font-medium ${l?"text-slate-200":"text-slate-700"} mb-1`,children:e}),d.jsxs("div",{className:"relative",children:[r&&d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:$e.cloneElement(r,{size:20,className:l?"text-white":"text-slate-400"})}),d.jsx("input",{...s,className:`
            block w-full rounded-lg border px-3 py-2
            ${l?"bg-slate-800 border-slate-700 text-slate-200 placeholder-slate-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-700/50 disabled:text-slate-400":"bg-white border-slate-300 text-slate-900 placeholder-slate-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-50 disabled:text-slate-500"}
            ${t?"border-red-500 focus:border-red-500 focus:ring-red-500":""}
            ${r?"pl-10":""}
          `})]}),t&&d.jsx("p",{className:"mt-1 text-sm text-red-500",children:t})]})},Vu=({label:e,error:t,fullWidth:r=!1,className:n="",darkMode:a,...i})=>{const[s,o]=B.useState(!1),{isDarkMode:l}=sn(),c=a??l,u=()=>{o(!s)};return d.jsxs("div",{className:"relative",children:[d.jsx(Nt,{label:e,type:s?"text":"password",error:t,fullWidth:r,className:n,darkMode:c,...i}),d.jsx("button",{type:"button",onClick:u,className:`absolute right-3 top-[38px] ${c?"text-slate-400 hover:text-slate-300":"text-slate-500 hover:text-slate-700"}`,children:s?d.jsx(bZ,{size:18}):d.jsx(O4,{size:18})})]})},st=({children:e,variant:t="primary",size:r="md",isLoading:n=!1,icon:a,className:i="",...s})=>{const o={primary:"bg-blue-700 hover:bg-blue-800 text-white",secondary:"bg-slate-100 hover:bg-slate-200 text-slate-700 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-200",outline:"bg-white border border-slate-300 hover:bg-slate-50 text-slate-700 dark:bg-transparent dark:border-slate-600 dark:hover:bg-slate-700 dark:text-slate-200",danger:"bg-red-600 hover:bg-red-700 text-white",ghost:"bg-transparent hover:bg-slate-100 text-slate-500 dark:hover:bg-slate-700/50 dark:text-slate-400",success:"bg-green-600 hover:bg-green-700 text-white"},l={sm:"text-sm px-3 py-1.5",md:"px-4 py-2",lg:"text-lg px-5 py-2.5"};return d.jsxs("button",{className:`
        ${o[t]} 
        ${l[r]} 
        rounded-lg font-medium transition-colors 
        flex items-center justify-center gap-2
        focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-blue-500
        disabled:opacity-60 disabled:cursor-not-allowed
        ${i}
      `,disabled:n||s.disabled,...s,children:[n&&d.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),!n&&a,e]})},Ice=()=>{const[e,t]=B.useState(""),[r,n]=B.useState(""),[a,i]=B.useState(""),{login:s,isAuthenticated:o,isLoading:l,user:c}=wa(),{showToast:u}=rc(),{isDarkMode:f,toggleDarkMode:h}=sn(),p=M1();B.useEffect(()=>{o&&c&&(u(`Welcome back, ${c.name}!`,"success"),c.role==="staff"&&p("/add"),c.role==="supply_serve"||c.role==="fahiz"||c.role==="aphy"?p("/supply-serve"):p("/"))},[o,c,p,u]);const g=async m=>{if(m.preventDefault(),i(""),!e||!r){i("Please enter both username and password");return}await s(e,r)||(i("Invalid username or password"),u("Invalid username or password","error"))};return d.jsxs("div",{className:`min-h-screen flex overflow-hidden ${f?"bg-slate-900":"bg-slate-100"}`,children:[d.jsx(Jn.div,{className:"hidden lg:flex lg:w-1/2 bg-blue-700 text-white items-center justify-center",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8,ease:"easeOut"},children:d.jsxs("div",{className:"max-w-md p-8 text-center",children:[d.jsx("h1",{className:"text-4xl font-bold mb-4",children:"AZTEC"}),d.jsx("p",{className:"text-xl text-blue-100",children:"Warehouse Management System"})]})}),d.jsx(Jn.div,{className:"w-full lg:w-1/2 flex items-center justify-center p-4 sm:p-6 lg:p-8",initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.8,ease:"easeOut"},children:d.jsxs("div",{className:"w-full max-w-md",children:[d.jsxs("div",{className:"lg:hidden text-center mb-6 space-y-2",children:[d.jsx(EZ,{size:48,className:"mx-auto text-blue-600"}),d.jsx("h1",{className:`text-2xl font-bold ${f?"text-white":"text-slate-800"}`,children:"AZTEC"}),d.jsx("p",{className:f?"text-slate-400":"text-slate-600",children:"Warehouse Management System"})]}),d.jsxs("div",{className:`${f?"bg-slate-800 border-slate-700 shadow-xl":"bg-white border-slate-200 shadow-lg"} rounded-xl p-6 sm:p-8 border`,children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h2",{className:`text-2xl font-bold ${f?"text-white":"text-slate-800"}`,children:"Welcome back"}),d.jsx("button",{onClick:h,className:`p-2 rounded-lg transition-colors ${f?"text-yellow-400 hover:bg-slate-700":"text-slate-600 hover:bg-slate-100"}`,"aria-label":f?"Switch to light mode":"Switch to dark mode",children:f?d.jsx(s9,{size:20}):d.jsx(a9,{size:20})})]}),a&&d.jsx(Jn.div,{className:`${f?"bg-red-900/50 text-red-200":"bg-red-50 text-red-700"} p-4 rounded-lg mb-6 text-sm`,initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},children:a}),d.jsxs("form",{onSubmit:g,className:"space-y-6",children:[d.jsx(Nt,{label:"Username",type:"text",id:"username",value:e,onChange:m=>t(m.target.value),icon:d.jsx(I4,{size:20}),placeholder:"Enter your username",autoComplete:"username",fullWidth:!0,darkMode:f}),d.jsx(Vu,{label:"Password",name:"password",value:r,onChange:m=>n(m.target.value),placeholder:"Enter your password",autoComplete:"current-password",fullWidth:!0,darkMode:f}),d.jsx(st,{type:"submit",isLoading:l,className:"w-full",size:"lg",children:"Sign In"})]})]})]})})]})},di=({title:e,value:t,icon:r,change:n})=>{const{isDarkMode:a}=sn(),i=wT(0),s=wT(0),o=Yj(i,Math.round),l=Yj(s,Math.round);return $e.useEffect(()=>{if(typeof t=="number"){const c=eD(i,t,{duration:1});if(n){const u=eD(s,n.value,{duration:1});return()=>{c.stop(),u.stop()}}return()=>c.stop()}},[t,n]),d.jsx("div",{className:`p-6 rounded-lg shadow-sm border ${a?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:`text-sm font-medium ${a?"text-slate-400":"text-slate-500"}`,children:e}),d.jsx("h3",{className:`text-2xl font-semibold ${a?"text-white":"text-slate-800"} mt-1`,children:typeof t=="number"?d.jsx(Jn.span,{children:o}):t}),n&&d.jsxs("div",{className:"flex items-center mt-2",children:[n.customIcon||d.jsx("span",{className:`text-sm ${n.isPositive?"text-green-500":"text-red-500"}`,children:n.isPositive?"↑":"↓"}),d.jsx(Jn.span,{className:`text-sm font-medium ${n.isPositive?"text-green-500":"text-red-500"}`,children:l}),n.label&&d.jsx("span",{className:`text-xs ${a?"text-slate-400":"text-slate-500"} ml-1`,children:n.label})]})]}),d.jsx("div",{className:`p-3 rounded-full ${a?"bg-slate-700":"bg-slate-100"}`,children:r})]})})},rf=()=>{const{isDarkMode:e}=sn();return d.jsxs("div",{className:`p-6 rounded-lg shadow-sm border ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:`h-4 w-24 rounded ${e?"bg-slate-700":"bg-slate-200"}`}),d.jsx("div",{className:`h-8 w-16 rounded ${e?"bg-slate-700":"bg-slate-200"}`})]}),d.jsx("div",{className:`p-3 rounded-full ${e?"bg-slate-700":"bg-slate-100"}`,children:d.jsx("div",{className:`h-6 w-6 rounded ${e?"bg-slate-600":"bg-slate-200"}`})})]}),d.jsx("div",{className:"mt-4",children:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:`h-4 w-12 rounded ${e?"bg-slate-700":"bg-slate-200"}`}),d.jsx("div",{className:`h-4 w-24 rounded ${e?"bg-slate-700":"bg-slate-200"}`})]})})]})},PS=({title:e,children:t,className:r=""})=>{const{isDarkMode:n}=sn();return d.jsxs("div",{className:`rounded-lg shadow-sm border ${n?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} ${r}`,children:[e&&d.jsx("div",{className:`px-6 py-4 border-b ${n?"border-slate-700":"border-slate-200"}`,children:d.jsx("h3",{className:`text-lg font-medium ${n?"text-white":"text-slate-800"}`,children:e})}),d.jsx("div",{className:"p-6",children:t})]})};function fn(e){"@babel/helpers - typeof";return fn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fn(e)}function Zl(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function An(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function kn(e){An(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||fn(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function jce(e,t){An(2,arguments);var r=kn(e),n=Zl(t);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function Dce(e,t){An(2,arguments);var r=kn(e).getTime(),n=Zl(t);return new Date(r+n)}var Lce={};function Q1(){return Lce}function _T(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function fb(e){An(1,arguments);var t=kn(e);return t.setHours(0,0,0,0),t}function c2(e,t){An(2,arguments);var r=kn(e),n=kn(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}var WV=6e4,HV=36e5;function Mce(e){return An(1,arguments),e instanceof Date||fn(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Rce(e){if(An(1,arguments),!Mce(e)&&typeof e!="number")return!1;var t=kn(e);return!isNaN(Number(t))}function Fce(e,t){An(2,arguments);var r=kn(e),n=kn(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function $ce(e,t){return An(2,arguments),kn(e).getTime()-kn(t).getTime()}var tD={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},Bce="trunc";function Uce(e){return e?tD[e]:tD[Bce]}function Bv(e){An(1,arguments);var t=kn(e);return t.setHours(23,59,59,999),t}function Vce(e){An(1,arguments);var t=kn(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function zce(e){An(1,arguments);var t=kn(e);return Bv(t).getTime()===Vce(t).getTime()}function qce(e,t){An(2,arguments);var r=kn(e),n=kn(t),a=c2(r,n),i=Math.abs(Fce(r,n)),s;if(i<1)s=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);var o=c2(r,n)===-a;zce(kn(e))&&i===1&&c2(e,n)===1&&(o=!1),s=a*(i-Number(o))}return s===0?0:s}function Wce(e,t,r){An(2,arguments);var n=$ce(e,t)/1e3;return Uce(void 0)(n)}function Hce(e,t){An(2,arguments);var r=Zl(t);return Dce(e,-r)}var Gce=864e5;function Kce(e){An(1,arguments);var t=kn(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),a=r-n;return Math.floor(a/Gce)+1}function db(e){An(1,arguments);var t=1,r=kn(e),n=r.getUTCDay(),a=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-a),r.setUTCHours(0,0,0,0),r}function GV(e){An(1,arguments);var t=kn(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var a=db(n),i=new Date(0);i.setUTCFullYear(r,0,4),i.setUTCHours(0,0,0,0);var s=db(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=s.getTime()?r:r-1}function Yce(e){An(1,arguments);var t=GV(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=db(r);return n}var Xce=6048e5;function Qce(e){An(1,arguments);var t=kn(e),r=db(t).getTime()-Yce(t).getTime();return Math.round(r/Xce)+1}function hb(e,t){var r,n,a,i,s,o,l,c;An(1,arguments);var u=Q1(),f=Zl((r=(n=(a=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&a!==void 0?a:u.weekStartsOn)!==null&&n!==void 0?n:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=kn(e),p=h.getUTCDay(),g=(p<f?7:0)+p-f;return h.setUTCDate(h.getUTCDate()-g),h.setUTCHours(0,0,0,0),h}function KV(e,t){var r,n,a,i,s,o,l,c;An(1,arguments);var u=kn(e),f=u.getUTCFullYear(),h=Q1(),p=Zl((r=(n=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&a!==void 0?a:h.firstWeekContainsDate)!==null&&n!==void 0?n:(l=h.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(f+1,0,p),g.setUTCHours(0,0,0,0);var m=hb(g,t),v=new Date(0);v.setUTCFullYear(f,0,p),v.setUTCHours(0,0,0,0);var y=hb(v,t);return u.getTime()>=m.getTime()?f+1:u.getTime()>=y.getTime()?f:f-1}function Jce(e,t){var r,n,a,i,s,o,l,c;An(1,arguments);var u=Q1(),f=Zl((r=(n=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&a!==void 0?a:u.firstWeekContainsDate)!==null&&n!==void 0?n:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1),h=KV(e,t),p=new Date(0);p.setUTCFullYear(h,0,f),p.setUTCHours(0,0,0,0);var g=hb(p,t);return g}var Zce=6048e5;function eue(e,t){An(1,arguments);var r=kn(e),n=hb(r,t).getTime()-Jce(r,t).getTime();return Math.round(n/Zce)+1}function _n(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var Ru={y:function(t,r){var n=t.getUTCFullYear(),a=n>0?n:1-n;return _n(r==="yy"?a%100:a,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):_n(n+1,2)},d:function(t,r){return _n(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return _n(t.getUTCHours()%12||12,r.length)},H:function(t,r){return _n(t.getUTCHours(),r.length)},m:function(t,r){return _n(t.getUTCMinutes(),r.length)},s:function(t,r){return _n(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,a=t.getUTCMilliseconds(),i=Math.floor(a*Math.pow(10,n-3));return _n(i,r.length)}},Gh={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},tue={G:function(t,r,n){var a=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var a=t.getUTCFullYear(),i=a>0?a:1-a;return n.ordinalNumber(i,{unit:"year"})}return Ru.y(t,r)},Y:function(t,r,n,a){var i=KV(t,a),s=i>0?i:1-i;if(r==="YY"){var o=s%100;return _n(o,2)}return r==="Yo"?n.ordinalNumber(s,{unit:"year"}):_n(s,r.length)},R:function(t,r){var n=GV(t);return _n(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return _n(n,r.length)},Q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return _n(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return _n(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,r,n){var a=t.getUTCMonth();switch(r){case"M":case"MM":return Ru.M(t,r);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(t,r,n){var a=t.getUTCMonth();switch(r){case"L":return String(a+1);case"LL":return _n(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(t,r,n,a){var i=eue(t,a);return r==="wo"?n.ordinalNumber(i,{unit:"week"}):_n(i,r.length)},I:function(t,r,n){var a=Qce(t);return r==="Io"?n.ordinalNumber(a,{unit:"week"}):_n(a,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):Ru.d(t,r)},D:function(t,r,n){var a=Kce(t);return r==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):_n(a,r.length)},E:function(t,r,n){var a=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(t,r,n,a){var i=t.getUTCDay(),s=(i-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(s);case"ee":return _n(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,r,n,a){var i=t.getUTCDay(),s=(i-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(s);case"cc":return _n(s,r.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,r,n){var a=t.getUTCDay(),i=a===0?7:a;switch(r){case"i":return String(i);case"ii":return _n(i,r.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(t,r,n){var a=t.getUTCHours(),i=a/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,r,n){var a=t.getUTCHours(),i;switch(a===12?i=Gh.noon:a===0?i=Gh.midnight:i=a/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,r,n){var a=t.getUTCHours(),i;switch(a>=17?i=Gh.evening:a>=12?i=Gh.afternoon:a>=4?i=Gh.morning:i=Gh.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return Ru.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Ru.H(t,r)},K:function(t,r,n){var a=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(a,{unit:"hour"}):_n(a,r.length)},k:function(t,r,n){var a=t.getUTCHours();return a===0&&(a=24),r==="ko"?n.ordinalNumber(a,{unit:"hour"}):_n(a,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Ru.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Ru.s(t,r)},S:function(t,r){return Ru.S(t,r)},X:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();if(s===0)return"Z";switch(r){case"X":return nD(s);case"XXXX":case"XX":return xd(s);case"XXXXX":case"XXX":default:return xd(s,":")}},x:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();switch(r){case"x":return nD(s);case"xxxx":case"xx":return xd(s);case"xxxxx":case"xxx":default:return xd(s,":")}},O:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+rD(s,":");case"OOOO":default:return"GMT"+xd(s,":")}},z:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+rD(s,":");case"zzzz":default:return"GMT"+xd(s,":")}},t:function(t,r,n,a){var i=a._originalDate||t,s=Math.floor(i.getTime()/1e3);return _n(s,r.length)},T:function(t,r,n,a){var i=a._originalDate||t,s=i.getTime();return _n(s,r.length)}};function rD(e,t){var r=e>0?"-":"+",n=Math.abs(e),a=Math.floor(n/60),i=n%60;if(i===0)return r+String(a);var s=t;return r+String(a)+s+_n(i,2)}function nD(e,t){if(e%60===0){var r=e>0?"-":"+";return r+_n(Math.abs(e)/60,2)}return xd(e,t)}function xd(e,t){var r=t||"",n=e>0?"-":"+",a=Math.abs(e),i=_n(Math.floor(a/60),2),s=_n(a%60,2);return n+i+r+s}var aD=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},YV=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},rue=function(t,r){var n=t.match(/(P+)(p+)?/)||[],a=n[1],i=n[2];if(!i)return aD(t,r);var s;switch(a){case"P":s=r.dateTime({width:"short"});break;case"PP":s=r.dateTime({width:"medium"});break;case"PPP":s=r.dateTime({width:"long"});break;case"PPPP":default:s=r.dateTime({width:"full"});break}return s.replace("{{date}}",aD(a,r)).replace("{{time}}",YV(i,r))},nue={p:YV,P:rue},aue=["D","DD"],iue=["YY","YYYY"];function sue(e){return aue.indexOf(e)!==-1}function oue(e){return iue.indexOf(e)!==-1}function iD(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var lue={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},cue=function(t,r,n){var a,i=lue[t];return typeof i=="string"?a=i:r===1?a=i.one:a=i.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function OS(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var uue={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},fue={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},due={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},hue={date:OS({formats:uue,defaultWidth:"full"}),time:OS({formats:fue,defaultWidth:"full"}),dateTime:OS({formats:due,defaultWidth:"full"})},pue={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},mue=function(t,r,n,a){return pue[t]};function Bm(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",a;if(n==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,s=r!=null&&r.width?String(r.width):i;a=e.formattingValues[s]||e.formattingValues[i]}else{var o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}var c=e.argumentCallback?e.argumentCallback(t):t;return a[c]}}var gue={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},vue={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},yue={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},xue={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},bue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},wue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},_ue=function(t,r){var n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Sue={ordinalNumber:_ue,era:Bm({values:gue,defaultWidth:"wide"}),quarter:Bm({values:vue,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Bm({values:yue,defaultWidth:"wide"}),day:Bm({values:xue,defaultWidth:"wide"}),dayPeriod:Bm({values:bue,defaultWidth:"wide",formattingValues:wue,defaultFormattingWidth:"wide"})};function Um(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;var s=i[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?Tue(o,function(f){return f.test(s)}):Aue(o,function(f){return f.test(s)}),c;c=e.valueCallback?e.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;var u=t.slice(s.length);return{value:c,rest:u}}}function Aue(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function Tue(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function Eue(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var a=n[0],i=t.match(e.parsePattern);if(!i)return null;var s=e.valueCallback?e.valueCallback(i[0]):i[0];s=r.valueCallback?r.valueCallback(s):s;var o=t.slice(a.length);return{value:s,rest:o}}}var Nue=/^(\d+)(th|st|nd|rd)?/i,kue=/\d+/i,Cue={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Pue={any:[/^b/i,/^(a|c)/i]},Oue={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Iue={any:[/1/i,/2/i,/3/i,/4/i]},jue={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Due={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Lue={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Mue={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Rue={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Fue={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},$ue={ordinalNumber:Eue({matchPattern:Nue,parsePattern:kue,valueCallback:function(t){return parseInt(t,10)}}),era:Um({matchPatterns:Cue,defaultMatchWidth:"wide",parsePatterns:Pue,defaultParseWidth:"any"}),quarter:Um({matchPatterns:Oue,defaultMatchWidth:"wide",parsePatterns:Iue,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Um({matchPatterns:jue,defaultMatchWidth:"wide",parsePatterns:Due,defaultParseWidth:"any"}),day:Um({matchPatterns:Lue,defaultMatchWidth:"wide",parsePatterns:Mue,defaultParseWidth:"any"}),dayPeriod:Um({matchPatterns:Rue,defaultMatchWidth:"any",parsePatterns:Fue,defaultParseWidth:"any"})},XV={code:"en-US",formatDistance:cue,formatLong:hue,formatRelative:mue,localize:Sue,match:$ue,options:{weekStartsOn:0,firstWeekContainsDate:1}},Bue=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Uue=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Vue=/^'([^]*?)'?$/,zue=/''/g,que=/[a-zA-Z]/;function rr(e,t,r){var n,a,i,s,o,l,c,u,f,h,p,g,m,v;An(2,arguments);var y=String(t),b=Q1(),w=(n=(a=void 0)!==null&&a!==void 0?a:b.locale)!==null&&n!==void 0?n:XV,D=Zl((i=(s=(o=(l=void 0)!==null&&l!==void 0?l:void 0)!==null&&o!==void 0?o:b.firstWeekContainsDate)!==null&&s!==void 0?s:(c=b.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(D>=1&&D<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var P=Zl((f=(h=(p=(g=void 0)!==null&&g!==void 0?g:void 0)!==null&&p!==void 0?p:b.weekStartsOn)!==null&&h!==void 0?h:(m=b.locale)===null||m===void 0||(v=m.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&f!==void 0?f:0);if(!(P>=0&&P<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!w.localize)throw new RangeError("locale must contain localize property");if(!w.formatLong)throw new RangeError("locale must contain formatLong property");var I=kn(e);if(!Rce(I))throw new RangeError("Invalid time value");var T=_T(I),_=Hce(I,T),S={firstWeekContainsDate:D,weekStartsOn:P,locale:w,_originalDate:I},j=y.match(Uue).map(function(E){var N=E[0];if(N==="p"||N==="P"){var O=nue[N];return O(E,w.formatLong)}return E}).join("").match(Bue).map(function(E){if(E==="''")return"'";var N=E[0];if(N==="'")return Wue(E);var O=tue[N];if(O)return oue(E)&&iD(E,t,String(e)),sue(E)&&iD(E,t,String(e)),O(_,E,w.localize,S);if(N.match(que))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return E}).join("");return j}function Wue(e){var t=e.match(Vue);return t?t[1].replace(zue,"'"):e}function QV(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function Hue(e){return QV({},e)}var sD=1440,Gue=2520,IS=43200,Kue=86400;function Yue(e,t,r){var n,a;An(2,arguments);var i=Q1(),s=(n=(a=r==null?void 0:r.locale)!==null&&a!==void 0?a:i.locale)!==null&&n!==void 0?n:XV;if(!s.formatDistance)throw new RangeError("locale must contain formatDistance property");var o=c2(e,t);if(isNaN(o))throw new RangeError("Invalid time value");var l=QV(Hue(r),{addSuffix:!!(r!=null&&r.addSuffix),comparison:o}),c,u;o>0?(c=kn(t),u=kn(e)):(c=kn(e),u=kn(t));var f=Wce(u,c),h=(_T(u)-_T(c))/1e3,p=Math.round((f-h)/60),g;if(p<2)return r!=null&&r.includeSeconds?f<5?s.formatDistance("lessThanXSeconds",5,l):f<10?s.formatDistance("lessThanXSeconds",10,l):f<20?s.formatDistance("lessThanXSeconds",20,l):f<40?s.formatDistance("halfAMinute",0,l):f<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):p===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",p,l);if(p<45)return s.formatDistance("xMinutes",p,l);if(p<90)return s.formatDistance("aboutXHours",1,l);if(p<sD){var m=Math.round(p/60);return s.formatDistance("aboutXHours",m,l)}else{if(p<Gue)return s.formatDistance("xDays",1,l);if(p<IS){var v=Math.round(p/sD);return s.formatDistance("xDays",v,l)}else if(p<Kue)return g=Math.round(p/IS),s.formatDistance("aboutXMonths",g,l)}if(g=qce(u,c),g<12){var y=Math.round(p/IS);return s.formatDistance("xMonths",y,l)}else{var b=g%12,w=Math.floor(g/12);return b<3?s.formatDistance("aboutXYears",w,l):b<9?s.formatDistance("overXYears",w,l):s.formatDistance("almostXYears",w+1,l)}}function Xue(e,t){return An(1,arguments),Yue(e,Date.now(),t)}function Dr(e,t){An(2,arguments);var r=Zl(t);return jce(e,-r)}function Que(e,t){var r;An(1,arguments);var n=Zl((r=void 0)!==null&&r!==void 0?r:2);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var a=tfe(e),i;if(a.date){var s=rfe(a.date,n);i=nfe(s.restDateString,s.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var o=i.getTime(),l=0,c;if(a.time&&(l=afe(a.time),isNaN(l)))return new Date(NaN);if(a.timezone){if(c=ife(a.timezone),isNaN(c))return new Date(NaN)}else{var u=new Date(o+l),f=new Date(0);return f.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),f.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),f}return new Date(o+l+c)}var fx={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Jue=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Zue=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,efe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function tfe(e){var t={},r=e.split(fx.dateTimeDelimiter),n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],fx.timeZoneDelimiter.test(t.date)&&(t.date=e.split(fx.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){var a=fx.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function rfe(e,t){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};var a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function nfe(e,t){if(t===null)return new Date(NaN);var r=e.match(Jue);if(!r)return new Date(NaN);var n=!!r[4],a=Vm(r[1]),i=Vm(r[2])-1,s=Vm(r[3]),o=Vm(r[4]),l=Vm(r[5])-1;if(n)return ufe(t,o,l)?sfe(t,o,l):new Date(NaN);var c=new Date(0);return!lfe(t,i,s)||!cfe(t,a)?new Date(NaN):(c.setUTCFullYear(t,i,Math.max(a,s)),c)}function Vm(e){return e?parseInt(e):1}function afe(e){var t=e.match(Zue);if(!t)return NaN;var r=jS(t[1]),n=jS(t[2]),a=jS(t[3]);return ffe(r,n,a)?r*HV+n*WV+a*1e3:NaN}function jS(e){return e&&parseFloat(e.replace(",","."))||0}function ife(e){if(e==="Z")return 0;var t=e.match(efe);if(!t)return 0;var r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return dfe(n,a)?r*(n*HV+a*WV):NaN}function sfe(e,t,r){var n=new Date(0);n.setUTCFullYear(e,0,4);var a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}var ofe=[31,null,31,30,31,30,31,31,30,31,30,31];function JV(e){return e%400===0||e%4===0&&e%100!==0}function lfe(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(ofe[t]||(JV(e)?29:28))}function cfe(e,t){return t>=1&&t<=(JV(e)?366:365)}function ufe(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function ffe(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function dfe(e,t){return t>=0&&t<=59}const hfe=()=>{const[e,t]=B.useState(!0),[r,n]=B.useState([]),[a,i]=B.useState([]),[s,o]=B.useState([]),[l,c]=B.useState({totalOrders:0,totalStock:0,totalInventoryValue:0,todayDamagedProducts:0,yesterdayDamagedProducts:0,yesterdayOrders:0,yesterdayStockChange:0,yesterdayRevenue:0,totalDeductions:0,yesterdayDeductions:0,todayStockAdditions:0,todayInventoryValueAdditions:0}),{isDarkMode:u}=sn(),f=async()=>{t(!0);try{const m=new Date,v=Dr(m,30),y=Dr(m,1),b=m,w=cr(mt(Ke,"orders"),or("createdAt",">=",lr.fromDate(v)),or("createdAt","<=",lr.fromDate(m))),D=cr(mt(Ke,"orders"),or("createdAt",">=",lr.fromDate(y)),or("createdAt","<=",lr.fromDate(b))),P=cr(mt(Ke,"inventory")),I=cr(mt(Ke,"inventory"),or("lastUpdated",">=",lr.fromDate(y)),or("lastUpdated","<=",lr.fromDate(b))),[T,_,S,j]=await Promise.all([ur(w),ur(D),ur(P),ur(I)]),E=T.docs.map(Ne=>({id:Ne.id,...Ne.data()})),N=_.docs.map(Ne=>({id:Ne.id,...Ne.data()})),O=_.docs.length,U=S.docs.reduce((Ne,qe)=>{const je=qe.data();return Ne+(je.quantity||0)},0),Y=j.docs.reduce((Ne,qe)=>{const je=qe.data();return Ne+(je.quantityChange||0)},0),K=S.docs.reduce((Ne,qe)=>{const je=qe.data();return Ne+(je.quantity||0)*(je.price||0)},0),J=E.length,z=N.reduce((Ne,qe)=>Ne+(qe.totalAmount||0),0),V=cr(mt(Ke,"inventory")),Z=(await ur(V)).docs.map(Ne=>({id:Ne.id,...Ne.data()})),k=Z.filter(Ne=>Ne.quantity<=10),R=Z.filter(Ne=>Ne.quantity>10&&Ne.quantity<=25);console.log("All stock items:",Z),console.log("Critical items:",k),console.log("Low stock items:",R),i(k),o(R);const q=new Date,G=fb(q),Q=Bv(q),ie=fb(Dr(q,1)),ue=Bv(Dr(q,1)),ne=cr(mt(Ke,"activityLogs"),or("time",">=",G.toISOString()),or("time","<=",Q.toISOString())),pe=cr(mt(Ke,"activityLogs"),or("time",">=",ie.toISOString()),or("time","<=",ue.toISOString())),[ye,W]=await Promise.all([ur(ne),ur(pe)]),Pe=ye.docs.map(Ne=>Ne.data()),Ce=W.docs.map(Ne=>Ne.data()),Ee=Pe.reduce((Ne,qe)=>{const je=qe.detail.match(/(\d+) units deducted/);return Ne+(je?parseInt(je[1]):0)},0),oe=Ce.reduce((Ne,qe)=>{const je=qe.detail.match(/(\d+) units deducted/);return Ne+(je?parseInt(je[1]):0)},0),ve=Pe.reduce((Ne,qe)=>{const je=qe.detail.match(/added new product "[^"]+" with total quantity (\d+)/);return Ne+(je?parseInt(je[1]):0)},0),De=Pe.reduce((Ne,qe)=>{const je=qe.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(je){const[,Je,ut]=je,ot=S.docs.find(wt=>wt.data().name===Je);if(ot){const wt=ot.data().price||0;return Ne+parseInt(ut)*wt}}return Ne},0),Te=Pe.reduce((Ne,qe)=>{const je=qe.detail.toLowerCase();if(/reason:\s*damaged/i.test(je)||/damaged/i.test(je)||/damageditems/i.test(je)||/damaged items/i.test(je)){const Je=[/(\d+)\s*units?\s*damaged/i,/damageditems?:\s*(\d+)/i,/quantity:\s*(\d+)/i,/edited product "[^"]+": quantity from (\d+) to (\d+)/i];for(const ut of Je){const ot=je.match(ut);if(ot)if(ot.length===3){const wt=parseInt(ot[1]),kt=parseInt(ot[2]);return Ne+Math.abs(wt-kt)}else return Ne+parseInt(ot[1])}return Ne+1}return Ne},0),Re=Ce.reduce((Ne,qe)=>{const je=qe.detail.toLowerCase();if(/reason:\s*damaged/i.test(je)||/damaged/i.test(je)||/damageditems/i.test(je)||/damaged items/i.test(je)){const Je=[/(\d+)\s*units?\s*damaged/i,/damageditems?:\s*(\d+)/i,/quantity:\s*(\d+)/i,/edited product "[^"]+": quantity from (\d+) to (\d+)/i];for(const ut of Je){const ot=je.match(ut);if(ot)if(ot.length===3){const wt=parseInt(ot[1]),kt=parseInt(ot[2]);return Ne+Math.abs(wt-kt)}else return Ne+parseInt(ot[1])}return Ne+1}return Ne},0);c({totalOrders:J,totalStock:U,totalInventoryValue:K,todayDamagedProducts:Te,yesterdayDamagedProducts:Re,yesterdayOrders:O,yesterdayStockChange:Y,yesterdayRevenue:z,totalDeductions:Ee,yesterdayDeductions:oe,todayStockAdditions:ve,todayInventoryValueAdditions:De})}catch(m){console.error("Error fetching stats:",m)}finally{t(!1)}},h=async()=>{try{const m=cr(mt(Ke,"activityLogs"),Ia("time","desc"),cg(5)),y=(await ur(m)).docs.map(b=>({id:b.id,...b.data()}));n(y)}catch(m){console.error("Error fetching recent activities:",m)}},p=async()=>{await Promise.all([f(),h()])};B.useEffect(()=>{p()},[]);const g=()=>{const{isDarkMode:m}=sn();return d.jsxs("div",{className:"animate-pulse",children:[d.jsx("div",{className:`h-10 ${m?"bg-slate-700":"bg-slate-200"} rounded mb-4`}),[...Array(5)].map((v,y)=>d.jsx("div",{className:`h-16 ${m?"bg-slate-700":"bg-slate-200"} rounded mb-2`},y))]})};return d.jsxs("div",{className:`space-y-6 ${u?"bg-slate-900 text-white":"bg-slate-50 text-slate-800"}`,children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h1",{className:`text-2xl font-bold ${u?"text-white":"text-slate-800"}`,children:"Admin Dashboard"}),d.jsx("p",{className:`${u?"text-slate-400":"text-slate-500"} mt-1`,children:"View your warehouse performance at a glance"})]}),d.jsx(st,{variant:"secondary",onClick:p,className:`flex items-center gap-2 ${e?"opacity-50 cursor-not-allowed":""}`,disabled:e,children:d.jsx(Za,{size:16,className:e?"animate-spin":""})})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e?d.jsxs(d.Fragment,{children:[d.jsx(rf,{}),d.jsx(rf,{}),d.jsx(rf,{}),d.jsx(rf,{})]}):d.jsxs(d.Fragment,{children:[d.jsx(di,{title:"Total Stock",value:l.totalStock,icon:d.jsx(Jd,{size:24,className:"text-blue-600"}),change:{value:l.todayStockAdditions,isPositive:!0,customIcon:d.jsx(xi,{size:16,className:"text-green-500 mr-1"}),label:l.todayStockAdditions===0?"no additions today":l.todayStockAdditions===1?"unit added today":"units added today"}}),d.jsx(di,{title:"Total Units Deducted Today",value:l.totalDeductions,icon:d.jsx(o9,{size:24,className:"text-blue-600"}),change:{value:l.yesterdayDeductions,isPositive:l.totalDeductions>=l.yesterdayDeductions,label:l.yesterdayDeductions===1?"unit deducted yesterday":"units deducted yesterday"}}),d.jsx(di,{title:"Damaged Products Today",value:l.todayDamagedProducts,icon:d.jsx(Qd,{size:24,className:"text-red-600"}),change:{value:l.yesterdayDamagedProducts,isPositive:l.todayDamagedProducts<=l.yesterdayDamagedProducts,label:l.yesterdayDamagedProducts===0?"no damage yesterday":l.yesterdayDamagedProducts===1?"unit damaged yesterday":"units damaged yesterday"}}),d.jsx(di,{title:"Total Inventory Value",value:l.totalInventoryValue,icon:d.jsx(z2,{size:24,className:"text-blue-600"}),animateValue:!0,formatValue:m=>`£${m.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})}`,change:{value:l.todayInventoryValueAdditions,isPositive:!0,customIcon:d.jsx(xi,{size:16,className:"text-green-500 mr-1"}),label:l.todayInventoryValueAdditions===0?"no value added today":"£ added today"}})]})}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsx(PS,{title:"Recent Activity",className:`${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:e?d.jsx(g,{}):r.length>0?d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{className:`${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"User"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Role"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Activity"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Time"})]})}),d.jsx("tbody",{className:`divide-y ${u?"divide-slate-700":"divide-slate-200"}`,children:r.slice(0,5).map(m=>d.jsxs("tr",{className:`${u?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm font-medium ${u?"text-white":"text-slate-900"}`,children:m.user}),d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:m.role}),d.jsx("td",{className:`px-6 py-4 text-sm ${u?"text-slate-400":"text-slate-500"}`,children:d.jsx("div",{className:"max-w-xs truncate",title:m.detail,children:m.detail})}),d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:Xue(new Date(m.time),{addSuffix:!0})})]},m.id))})]})}):d.jsx("div",{className:`text-center py-8 ${u?"text-slate-400":"text-slate-500"}`,children:"No recent activities found"})}),d.jsx(PS,{title:"Low Stock Items",className:`${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:e?d.jsx(g,{}):s.length>0?d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{className:`${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Product"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Current Stock"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Status"})]})}),d.jsx("tbody",{className:`divide-y ${u?"divide-slate-700":"divide-slate-200"}`,children:s.slice(0,5).map(m=>d.jsxs("tr",{className:`${u?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[d.jsx("td",{className:`px-6 py-4 text-sm font-medium ${u?"text-white":"text-slate-900"}`,children:d.jsx("div",{className:"max-w-xs truncate",title:m.name,children:m.name})}),d.jsxs("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:[m.locationCode,"-",m.shelfNumber]}),d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:m.quantity}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-amber-100 text-amber-800",children:"Low"})})]},m.id))})]})}):d.jsx("div",{className:`text-center py-8 ${u?"text-slate-400":"text-slate-500"}`,children:"No low stock items found"})})]}),d.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:d.jsx(PS,{title:"Critical Stock Items",className:`${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:e?d.jsx(g,{}):a.length>0?d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{className:`${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Product"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Current Stock"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Status"})]})}),d.jsx("tbody",{className:`divide-y ${u?"divide-slate-700":"divide-slate-200"}`,children:a.slice(0,5).map(m=>d.jsxs("tr",{className:`${u?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[d.jsx("td",{className:`px-6 py-4 text-sm font-medium ${u?"text-white":"text-slate-900"}`,children:d.jsx("div",{className:"max-w-xs truncate",title:m.name,children:m.name})}),d.jsxs("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:[m.locationCode,"-",m.shelfNumber]}),d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:m.quantity}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"Critical"})})]},m.id))})]})}):d.jsx("div",{className:`text-center py-8 ${u?"text-slate-400":"text-slate-500"}`,children:"No critical stock items found"})})}),d.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6"})]})},on=({isOpen:e,onClose:t,title:r,children:n,size:a="md",closeOnOutsideClick:i=!0})=>{const{isDarkMode:s}=sn(),o=B.useRef(null);if(B.useEffect(()=>{const c=u=>{u.key==="Escape"&&t()};return e&&window.addEventListener("keydown",c),()=>{window.removeEventListener("keydown",c)}},[e,t]),B.useEffect(()=>{const c=u=>{i&&o.current&&!o.current.contains(u.target)&&t()};return e&&document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[e,t,i]),!e)return null;const l={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-2xl"};return d.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:d.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4 text-center",children:[d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:i?t:void 0}),d.jsxs("div",{className:`relative transform overflow-hidden rounded-lg ${l[a]} w-full ${s?"bg-slate-800":"bg-white"} p-6 text-left shadow-xl transition-all`,children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:`text-lg font-medium ${s?"text-white":"text-slate-900"}`,children:r}),d.jsx("button",{onClick:t,className:`rounded-md p-1.5 ${s?"text-slate-400 hover:text-slate-300 hover:bg-slate-700":"text-slate-500 hover:text-slate-700 hover:bg-slate-100"} transition-colors`,children:d.jsx(wv,{size:20})})]}),d.jsx("div",{className:`${s?"text-slate-200":"text-slate-700"}`,children:n})]})]})})},mh=({isOpen:e,onClose:t,onBarcodeScanned:r})=>{const[n,a]=B.useState(!1),i=B.useRef(null);return B.useEffect(()=>{let s="",o=Date.now();const l=c=>{if(!e||!n)return;const u=Date.now();u-o>2e3&&(s=""),o=u,c.key==="Enter"&&s.length>0?(c.preventDefault(),r(s),s="",t()):c.key.length===1&&(s+=c.key)};return e?(a(!0),document.addEventListener("keydown",l),setTimeout(()=>{i.current&&i.current.focus()},100)):a(!1),()=>{document.removeEventListener("keydown",l)}},[e,n,r,t]),d.jsx(on,{isOpen:e,onClose:t,title:"Scan Barcode",size:"sm",children:d.jsxs("div",{ref:i,className:"flex flex-col items-center justify-center p-6 space-y-4",tabIndex:-1,onKeyDown:s=>{s.preventDefault()},children:[d.jsx("div",{className:"w-16 h-16 bg-blue-50 rounded-full flex items-center justify-center",children:d.jsx(zc,{size:32,className:"text-blue-500"})}),d.jsx("p",{className:"text-center text-slate-600",children:n?"Please scan the barcode now...":"Ready to scan..."}),d.jsxs("div",{className:"text-center text-sm text-slate-500",children:[d.jsx("p",{children:"Point your barcode scanner at the product"}),d.jsx("p",{children:"and scan the barcode"})]})]})})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var ZV=1252,pfe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],qk={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},Wk=function(e){pfe.indexOf(e)!=-1&&(ZV=qk[0]=e)};function mfe(){Wk(1252)}var ul=function(e){Wk(e)};function ez(){ul(1200),mfe()}function oD(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function gfe(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function tz(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var dg=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?gfe(e.slice(2)):t==254&&r==255?tz(e.slice(2)):t==65279?e.slice(1):e},dx=function(t){return String.fromCharCode(t)},lD=function(t){return String.fromCharCode(t)},Yu,nf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function cD(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0,l=0,c=0;c<e.length;)r=e.charCodeAt(c++),i=r>>2,n=e.charCodeAt(c++),s=(r&3)<<4|n>>4,a=e.charCodeAt(c++),o=(n&15)<<2|a>>6,l=a&63,isNaN(n)?o=l=64:isNaN(a)&&(l=64),t+=nf.charAt(i)+nf.charAt(s)+nf.charAt(o)+nf.charAt(l);return t}function Zs(e){var t="",r=0,n=0,a=0,i=0,s=0,o=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<e.length;)i=nf.indexOf(e.charAt(c++)),s=nf.indexOf(e.charAt(c++)),r=i<<2|s>>4,t+=String.fromCharCode(r),o=nf.indexOf(e.charAt(c++)),n=(s&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),l=nf.indexOf(e.charAt(c++)),a=(o&3)<<6|l,l!==64&&(t+=String.fromCharCode(a));return t}var Yr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),gh=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Mf(e){return Yr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function uD(e){return Yr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var ll=function(t){return Yr?gh(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function vh(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function Hk(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return Hk(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var Xu=Yr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:gh(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function vfe(e){for(var t=[],r=0,n=e.length+250,a=Mf(e.length+255),i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s<128)a[r++]=s;else if(s<2048)a[r++]=192|s>>6&31,a[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=e.charCodeAt(++i)&1023;a[r++]=240|s>>8&7,a[r++]=128|s>>2&63,a[r++]=128|o>>6&15|(s&3)<<4,a[r++]=128|o&63}else a[r++]=224|s>>12&15,a[r++]=128|s>>6&63,a[r++]=128|s&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Mf(65535),n=65530)}return t.push(a.slice(0,r)),Xu(t)}var hs=/\u0000/g,hg=/[\u0001-\u0006]/g;function R0(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function fl(e,t){var r=""+e;return r.length>=t?r:ca("0",t-r.length)+r}function Gk(e,t){var r=""+e;return r.length>=t?r:ca(" ",t-r.length)+r}function pb(e,t){var r=""+e;return r.length>=t?r:r+ca(" ",t-r.length)}function yfe(e,t){var r=""+Math.round(e);return r.length>=t?r:ca("0",t-r.length)+r}function xfe(e,t){var r=""+e;return r.length>=t?r:ca("0",t-r.length)+r}var fD=Math.pow(2,32);function Kh(e,t){if(e>fD||e<-fD)return yfe(e,t);var r=Math.round(e);return xfe(r,t)}function mb(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var dD=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],DS=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function bfe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',e}var Lr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},hD={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},wfe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function gb(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,s=1,o=0,l=1,c=0,u=0,f=Math.floor(a);c<t&&(f=Math.floor(a),o=f*s+i,u=f*c+l,!(a-f<5e-8));)a=1/(a-f),i=s,s=o,l=c,c=u;if(u>t&&(c>t?(u=l,o=i):(u=c,o=s)),!r)return[0,n*o,u];var h=Math.floor(n*o/u);return[h,n*o-h*u,u]}function Id(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,s=[],o={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)s=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],i=l.getDay(),n<60&&(i=(i+6)%7),r&&(i=Nfe(l,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=i,o}var rz=new Date(1899,11,31,0,0,0),_fe=rz.getTime(),Sfe=new Date(1900,2,1,0,0,0);function nz(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=Sfe&&(r+=24*60*60*1e3),(r-(_fe+(e.getTimezoneOffset()-rz.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function Kk(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Afe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Tfe(e){var t=e<0?12:11,r=Kk(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function Efe(e){var t=Kk(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Uv(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=Tfe(e):t===10?r=e.toFixed(10).substr(0,12):r=Efe(e),Kk(Afe(r.toUpperCase()))}function rh(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Uv(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return jo(14,nz(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function Nfe(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function kfe(e,t,r,n){var a="",i=0,s=0,o=r.y,l,c=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(t.length){case 1:case 2:l=r.m,c=t.length;break;case 3:return DS[r.m-1][1];case 5:return DS[r.m-1][0];default:return DS[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=r.d,c=t.length;break;case 3:return dD[r.q][0];default:return dD[r.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(r.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=r.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=r.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?fl(r.S,t.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,i=Math.round(s*(r.S+r.u)),i>=60*s&&(i=0),t==="s"?i===0?"0":""+i/s:(a=fl(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}c=t.length===3?1:2;break;case 101:l=o,c=1;break}var u=c>0?fl(l,c):"";return u}function af(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var az=/%/g;function Cfe(e,t,r){var n=t.replace(az,""),a=t.length-n.length;return jc(e,n,r*Math.pow(10,2*a))+ca("%",a)}function Pfe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return jc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function iz(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+iz(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var sz=/# (\?+)( ?)\/( ?)(\d+)/;function Ofe(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),s=a-i*n,o=n;return r+(i===0?"":""+i)+" "+(s===0?ca(" ",e[1].length+1+e[4].length):Gk(s,e[1].length)+e[2]+"/"+e[3]+fl(o,e[4].length))}function Ife(e,t,r){return r+(t===0?"":""+t)+ca(" ",e[1].length+2+e[4].length)}var oz=/^#*0*\.([0#]+)/,lz=/\).*[0#]/,cz=/\(###\) ###\\?-####/;function as(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function pD(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function mD(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function jfe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function Dfe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function yo(e,t,r){if(e.charCodeAt(0)===40&&!t.match(lz)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?yo("n",n,r):"("+yo("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Pfe(e,t,r);if(t.indexOf("%")!==-1)return Cfe(e,t,r);if(t.indexOf("E")!==-1)return iz(t,r);if(t.charCodeAt(0)===36)return"$"+yo(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+Kh(l,t.length);if(t.match(/^[#?]+$/))return a=Kh(r,0),a==="0"&&(a=""),a.length>t.length?a:as(t.substr(0,t.length-a.length))+a;if(i=t.match(sz))return Ofe(i,l,c);if(t.match(/^#+0+$/))return c+Kh(l,t.length-t.indexOf("0"));if(i=t.match(oz))return a=pD(r,i[1].length).replace(/^([^\.]+)$/,"$1."+as(i[1])).replace(/\.$/,"."+as(i[1])).replace(/\.(\d*)$/,function(g,m){return"."+m+ca("0",as(i[1]).length-m.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+pD(l,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+af(Kh(l,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+yo(e,t,-r):af(""+(Math.floor(r)+jfe(r,i[1].length)))+"."+fl(mD(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return yo(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=R0(yo(e,t.replace(/[\\-]/g,""),r)),s=0,R0(R0(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return s<a.length?a.charAt(s++):g==="0"?"0":""}));if(t.match(cz))return a=yo(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=gb(l,Math.pow(10,s)-1,!1),a=""+c,u=jc("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=pb(o[2],s),u.length<i[4].length&&(u=as(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=gb(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?Gk(o[1],s)+i[2]+"/"+i[3]+pb(o[2],s):ca(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=Kh(r,0),t.length<=a.length?a:as(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=t.indexOf(".")-s,h=t.length-a.length-f;return as(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return s=mD(r,i[1].length),r<0?"-"+yo(e,t,-r):af(Dfe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?fl(0,3-g.length):"")+g})+"."+fl(s,i[1].length);switch(t){case"###,##0.00":return yo(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=af(Kh(l,0));return p!=="0"?c+p:"";case"###,###.00":return yo(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return yo(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Lfe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return jc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function Mfe(e,t,r){var n=t.replace(az,""),a=t.length-n.length;return jc(e,n,r*Math.pow(10,2*a))+ca("%",a)}function uz(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+uz(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Ll(e,t,r){if(e.charCodeAt(0)===40&&!t.match(lz)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ll("n",n,r):"("+Ll("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Lfe(e,t,r);if(t.indexOf("%")!==-1)return Mfe(e,t,r);if(t.indexOf("E")!==-1)return uz(t,r);if(t.charCodeAt(0)===36)return"$"+Ll(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+fl(l,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:as(t.substr(0,t.length-a.length))+a;if(i=t.match(sz))return Ife(i,l,c);if(t.match(/^#+0+$/))return c+fl(l,t.length-t.indexOf("0"));if(i=t.match(oz))return a=(""+r).replace(/^([^\.]+)$/,"$1."+as(i[1])).replace(/\.$/,"."+as(i[1])),a=a.replace(/\.(\d*)$/,function(g,m){return"."+m+ca("0",as(i[1]).length-m.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+af(""+l);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ll(e,t,-r):af(""+r)+"."+ca("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Ll(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=R0(Ll(e,t.replace(/[\\-]/g,""),r)),s=0,R0(R0(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return s<a.length?a.charAt(s++):g==="0"?"0":""}));if(t.match(cz))return a=Ll(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=gb(l,Math.pow(10,s)-1,!1),a=""+c,u=jc("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=pb(o[2],s),u.length<i[4].length&&(u=as(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=gb(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?Gk(o[1],s)+i[2]+"/"+i[3]+pb(o[2],s):ca(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:as(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=t.indexOf(".")-s,h=t.length-a.length-f;return as(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Ll(e,t,-r):af(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?fl(0,3-g.length):"")+g})+"."+fl(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=af(""+l);return p!=="0"?c+p:"";default:if(t.match(/\.[0#?]*$/))return Ll(e,t.slice(0,t.lastIndexOf(".")),r)+as(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function jc(e,t,r){return(r|0)===r?Ll(e,t,r):yo(e,t,r)}function Rfe(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var fz=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Zp(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":mb(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="上午/下午")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(fz))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function Ffe(e,t,r,n){for(var a=[],i="",s=0,o="",l="t",c,u,f,h="H";s<e.length;)switch(o=e.charAt(s)){case"G":if(!mb(e,s))throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"G",v:"General"},s+=7;break;case'"':for(i="";(f=e.charCodeAt(++s))!==34&&s<e.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++s;break;case"\\":var p=e.charAt(++s),g=p==="("||p===")"?p:"t";a[a.length]={t:g,v:p},++s;break;case"_":a[a.length]={t:"t",v:" "},s+=2;break;case"@":a[a.length]={t:"T",v:t},++s;break;case"B":case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2"){if(c==null&&(c=Id(t,r,e.charAt(s+1)==="2"),c==null))return"";a[a.length]={t:"X",v:e.substr(s,2)},l=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||c==null&&(c=Id(t,r),c==null))return"";for(i=o;++s<e.length&&e.charAt(s).toLowerCase()===o;)i+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),a[a.length]={t:o,v:i},l=o;break;case"A":case"a":case"上":var m={t:o,v:o};if(c==null&&(c=Id(t,r)),e.substr(s,3).toUpperCase()==="A/P"?(c!=null&&(m.v=c.H>=12?"P":"A"),m.t="T",h="h",s+=3):e.substr(s,5).toUpperCase()==="AM/PM"?(c!=null&&(m.v=c.H>=12?"PM":"AM"),m.t="T",s+=5,h="h"):e.substr(s,5).toUpperCase()==="上午/下午"?(c!=null&&(m.v=c.H>=12?"下午":"上午"),m.t="T",s+=5,h="h"):(m.t="t",++s),c==null&&m.t==="T")return"";a[a.length]=m,l=o;break;case"[":for(i=o;e.charAt(s++)!=="]"&&s<e.length;)i+=e.charAt(s);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(fz)){if(c==null&&(c=Id(t,r),c==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},l=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",Zp(e)||(a[a.length]={t:"t",v:i}));break;case".":if(c!=null){for(i=o;++s<e.length&&(o=e.charAt(s))==="0";)i+=o;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++s<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(s))>-1;)i+=o;a[a.length]={t:"n",v:i};break;case"?":for(i=o;e.charAt(++s)===o;)i+=o;a[a.length]={t:o,v:i},l=o;break;case"*":++s,(e.charAt(s)==" "||e.charAt(s)=="*")&&++s;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1;)i+=e.charAt(s);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:o,v:o},++s;break;case"$":a[a.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"t",v:o},++s;break}var v=0,y=0,b;for(s=a.length-1,l="t";s>=0;--s)switch(a[s].t){case"h":case"H":a[s].t=h,l="h",v<1&&(v=1);break;case"s":(b=a[s].v.match(/\.0+$/))&&(y=Math.max(y,b[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":l=a[s].t;break;case"m":l==="s"&&(a[s].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&a[s].v.match(/[Hh]/)&&(v=1),v<2&&a[s].v.match(/[Mm]/)&&(v=2),v<3&&a[s].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var w="",D;for(s=0;s<a.length;++s)switch(a[s].t){case"t":case"T":case" ":case"D":break;case"X":a[s].v="",a[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[s].v=kfe(a[s].t.charCodeAt(0),a[s].v,c,y),a[s].t="t";break;case"n":case"?":for(D=s+1;a[D]!=null&&((o=a[D].t)==="?"||o==="D"||(o===" "||o==="t")&&a[D+1]!=null&&(a[D+1].t==="?"||a[D+1].t==="t"&&a[D+1].v==="/")||a[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[D].v==="/"||a[D].v===" "&&a[D+1]!=null&&a[D+1].t=="?"));)a[s].v+=a[D].v,a[D]={v:"",t:";"},++D;w+=a[s].v,s=D-1;break;case"G":a[s].t="t",a[s].v=rh(t,r);break}var P="",I,T;if(w.length>0){w.charCodeAt(0)==40?(I=t<0&&w.charCodeAt(0)===45?-t:t,T=jc("n",w,I)):(I=t<0&&n>1?-t:t,T=jc("n",w,I),I<0&&a[0]&&a[0].t=="t"&&(T=T.substr(1),a[0].v="-"+a[0].v)),D=T.length-1;var _=a.length;for(s=0;s<a.length;++s)if(a[s]!=null&&a[s].t!="t"&&a[s].v.indexOf(".")>-1){_=s;break}var S=a.length;if(_===a.length&&T.indexOf("E")===-1){for(s=a.length-1;s>=0;--s)a[s]==null||"n?".indexOf(a[s].t)===-1||(D>=a[s].v.length-1?(D-=a[s].v.length,a[s].v=T.substr(D+1,a[s].v.length)):D<0?a[s].v="":(a[s].v=T.substr(0,D+1),D=-1),a[s].t="t",S=s);D>=0&&S<a.length&&(a[S].v=T.substr(0,D+1)+a[S].v)}else if(_!==a.length&&T.indexOf("E")===-1){for(D=T.indexOf(".")-1,s=_;s>=0;--s)if(!(a[s]==null||"n?".indexOf(a[s].t)===-1)){for(u=a[s].v.indexOf(".")>-1&&s===_?a[s].v.indexOf(".")-1:a[s].v.length-1,P=a[s].v.substr(u+1);u>=0;--u)D>=0&&(a[s].v.charAt(u)==="0"||a[s].v.charAt(u)==="#")&&(P=T.charAt(D--)+P);a[s].v=P,a[s].t="t",S=s}for(D>=0&&S<a.length&&(a[S].v=T.substr(0,D+1)+a[S].v),D=T.indexOf(".")+1,s=_;s<a.length;++s)if(!(a[s]==null||"n?(".indexOf(a[s].t)===-1&&s!==_)){for(u=a[s].v.indexOf(".")>-1&&s===_?a[s].v.indexOf(".")+1:0,P=a[s].v.substr(0,u);u<a[s].v.length;++u)D<T.length&&(P+=T.charAt(D++));a[s].v=P,a[s].t="t",S=s}}}for(s=0;s<a.length;++s)a[s]!=null&&"n?".indexOf(a[s].t)>-1&&(I=n>1&&t<0&&s>0&&a[s-1].v==="-"?-t:t,a[s].v=jc(a[s].t,a[s].v,I),a[s].t="t");var j="";for(s=0;s!==a.length;++s)a[s]!=null&&(j+=a[s].v);return j}var gD=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function vD(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function $fe(e,t){var r=Rfe(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(gD),o=r[1].match(gD);return vD(t,s)?[n,r[0]]:vD(t,o)?[n,r[1]]:[n,r[s!=null&&o!=null?2:1]]}return[n,i]}function jo(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Lr)[e],n==null&&(n=r.table&&r.table[hD[e]]||Lr[hD[e]]),n==null&&(n=wfe[e]||"General");break}if(mb(n,0))return rh(t,r);t instanceof Date&&(t=nz(t,r.date1904));var a=$fe(n,t);if(mb(a[1]))return rh(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return Ffe(a[1],t,r,a[0])}function Ud(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Lr[r]==null){t<0&&(t=r);continue}if(Lr[r]==e){t=r;break}}t<0&&(t=391)}return Lr[t]=e,t}function dz(){Lr=bfe()}var Bfe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},hz=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Ufe(e){var t=typeof e=="number"?Lr[e]:e;return t=t.replace(hz,"(\\d+)"),new RegExp("^"+t+"$")}function Vfe(e,t,r){var n=-1,a=-1,i=-1,s=-1,o=-1,l=-1;(t.match(hz)||[]).forEach(function(f,h){var p=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=p;break;case"d":i=p;break;case"h":s=p;break;case"s":l=p;break;case"m":s>=0?o=p:a=p;break}}),l>=0&&o==-1&&a>=0&&(o=a,a=-1);var c=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return s==-1&&o==-1&&l==-1?c:n==-1&&a==-1&&i==-1?u:c+"T"+u}var zfe=function(){var e={};e.version="1.2.0";function t(){for(var T=0,_=new Array(256),S=0;S!=256;++S)T=S,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,_[S]=T;return typeof Int32Array<"u"?new Int32Array(_):_}var r=t();function n(T){var _=0,S=0,j=0,E=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(j=0;j!=256;++j)E[j]=T[j];for(j=0;j!=256;++j)for(S=T[j],_=256+j;_<4096;_+=256)S=E[_]=S>>>8^T[S&255];var N=[];for(j=1;j!=16;++j)N[j-1]=typeof Int32Array<"u"?E.subarray(j*256,j*256+256):E.slice(j*256,j*256+256);return N}var a=n(r),i=a[0],s=a[1],o=a[2],l=a[3],c=a[4],u=a[5],f=a[6],h=a[7],p=a[8],g=a[9],m=a[10],v=a[11],y=a[12],b=a[13],w=a[14];function D(T,_){for(var S=_^-1,j=0,E=T.length;j<E;)S=S>>>8^r[(S^T.charCodeAt(j++))&255];return~S}function P(T,_){for(var S=_^-1,j=T.length-15,E=0;E<j;)S=w[T[E++]^S&255]^b[T[E++]^S>>8&255]^y[T[E++]^S>>16&255]^v[T[E++]^S>>>24]^m[T[E++]]^g[T[E++]]^p[T[E++]]^h[T[E++]]^f[T[E++]]^u[T[E++]]^c[T[E++]]^l[T[E++]]^o[T[E++]]^s[T[E++]]^i[T[E++]]^r[T[E++]];for(j+=15;E<j;)S=S>>>8^r[(S^T[E++])&255];return~S}function I(T,_){for(var S=_^-1,j=0,E=T.length,N=0,O=0;j<E;)N=T.charCodeAt(j++),N<128?S=S>>>8^r[(S^N)&255]:N<2048?(S=S>>>8^r[(S^(192|N>>6&31))&255],S=S>>>8^r[(S^(128|N&63))&255]):N>=55296&&N<57344?(N=(N&1023)+64,O=T.charCodeAt(j++)&1023,S=S>>>8^r[(S^(240|N>>8&7))&255],S=S>>>8^r[(S^(128|N>>2&63))&255],S=S>>>8^r[(S^(128|O>>6&15|(N&3)<<4))&255],S=S>>>8^r[(S^(128|O&63))&255]):(S=S>>>8^r[(S^(224|N>>12&15))&255],S=S>>>8^r[(S^(128|N>>6&63))&255],S=S>>>8^r[(S^(128|N&63))&255]);return~S}return e.table=r,e.bstr=D,e.buf=P,e.str=I,e}(),Zr=function(){var t={};t.version="1.2.1";function r(ae,we){for(var me=ae.split("/"),ge=we.split("/"),be=0,_e=0,He=Math.min(me.length,ge.length);be<He;++be){if(_e=me[be].length-ge[be].length)return _e;if(me[be]!=ge[be])return me[be]<ge[be]?-1:1}return me.length-ge.length}function n(ae){if(ae.charAt(ae.length-1)=="/")return ae.slice(0,-1).indexOf("/")===-1?ae:n(ae.slice(0,-1));var we=ae.lastIndexOf("/");return we===-1?ae:ae.slice(0,we+1)}function a(ae){if(ae.charAt(ae.length-1)=="/")return a(ae.slice(0,-1));var we=ae.lastIndexOf("/");return we===-1?ae:ae.slice(we+1)}function i(ae,we){typeof we=="string"&&(we=new Date(we));var me=we.getHours();me=me<<6|we.getMinutes(),me=me<<5|we.getSeconds()>>>1,ae.write_shift(2,me);var ge=we.getFullYear()-1980;ge=ge<<4|we.getMonth()+1,ge=ge<<5|we.getDate(),ae.write_shift(2,ge)}function s(ae){var we=ae.read_shift(2)&65535,me=ae.read_shift(2)&65535,ge=new Date,be=me&31;me>>>=5;var _e=me&15;me>>>=4,ge.setMilliseconds(0),ge.setFullYear(me+1980),ge.setMonth(_e-1),ge.setDate(be);var He=we&31;we>>>=5;var rt=we&63;return we>>>=6,ge.setHours(we),ge.setMinutes(rt),ge.setSeconds(He<<1),ge}function o(ae){pi(ae,0);for(var we={},me=0;ae.l<=ae.length-4;){var ge=ae.read_shift(2),be=ae.read_shift(2),_e=ae.l+be,He={};switch(ge){case 21589:me=ae.read_shift(1),me&1&&(He.mtime=ae.read_shift(4)),be>5&&(me&2&&(He.atime=ae.read_shift(4)),me&4&&(He.ctime=ae.read_shift(4))),He.mtime&&(He.mt=new Date(He.mtime*1e3));break}ae.l=_e,we[ge]=He}return we}var l;function c(){return l||(l={})}function u(ae,we){if(ae[0]==80&&ae[1]==75)return ht(ae,we);if((ae[0]|32)==109&&(ae[1]|32)==105)return ct(ae,we);if(ae.length<512)throw new Error("CFB file size "+ae.length+" < 512");var me=3,ge=512,be=0,_e=0,He=0,rt=0,Ge=0,Ye=[],Ze=ae.slice(0,512);pi(Ze,0);var St=f(Ze);switch(me=St[0],me){case 3:ge=512;break;case 4:ge=4096;break;case 0:if(St[1]==0)return ht(ae,we);default:throw new Error("Major Version: Expected 3 or 4 saw "+me)}ge!==512&&(Ze=ae.slice(0,ge),pi(Ze,28));var Dt=ae.slice(0,ge);h(Ze,me);var $t=Ze.read_shift(4,"i");if(me===3&&$t!==0)throw new Error("# Directory Sectors: Expected 0 saw "+$t);Ze.l+=4,He=Ze.read_shift(4,"i"),Ze.l+=4,Ze.chk("00100000","Mini Stream Cutoff Size: "),rt=Ze.read_shift(4,"i"),be=Ze.read_shift(4,"i"),Ge=Ze.read_shift(4,"i"),_e=Ze.read_shift(4,"i");for(var Ct=-1,Mt=0;Mt<109&&(Ct=Ze.read_shift(4,"i"),!(Ct<0));++Mt)Ye[Mt]=Ct;var dr=p(ae,ge);v(Ge,_e,dr,ge,Ye);var ce=b(dr,He,Ye,ge);ce[He].name="!Directory",be>0&&rt!==O&&(ce[rt].name="!MiniFAT"),ce[Ye[0]].name="!FAT",ce.fat_addrs=Ye,ce.ssz=ge;var ke={},dt=[],Bt=[],xt=[];w(He,ce,dr,dt,be,ke,Bt,rt),g(Bt,xt,dt),dt.shift();var ft={FileIndex:Bt,FullPaths:xt};return we&&we.raw&&(ft.raw={header:Dt,sectors:dr}),ft}function f(ae){if(ae[ae.l]==80&&ae[ae.l+1]==75)return[0,0];ae.chk(U,"Header Signature: "),ae.l+=16;var we=ae.read_shift(2,"u");return[ae.read_shift(2,"u"),we]}function h(ae,we){var me=9;switch(ae.l+=2,me=ae.read_shift(2)){case 9:if(we!=3)throw new Error("Sector Shift: Expected 9 saw "+me);break;case 12:if(we!=4)throw new Error("Sector Shift: Expected 12 saw "+me);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+me)}ae.chk("0600","Mini Sector Shift: "),ae.chk("000000000000","Reserved: ")}function p(ae,we){for(var me=Math.ceil(ae.length/we)-1,ge=[],be=1;be<me;++be)ge[be-1]=ae.slice(be*we,(be+1)*we);return ge[me-1]=ae.slice(me*we),ge}function g(ae,we,me){for(var ge=0,be=0,_e=0,He=0,rt=0,Ge=me.length,Ye=[],Ze=[];ge<Ge;++ge)Ye[ge]=Ze[ge]=ge,we[ge]=me[ge];for(;rt<Ze.length;++rt)ge=Ze[rt],be=ae[ge].L,_e=ae[ge].R,He=ae[ge].C,Ye[ge]===ge&&(be!==-1&&Ye[be]!==be&&(Ye[ge]=Ye[be]),_e!==-1&&Ye[_e]!==_e&&(Ye[ge]=Ye[_e])),He!==-1&&(Ye[He]=ge),be!==-1&&ge!=Ye[ge]&&(Ye[be]=Ye[ge],Ze.lastIndexOf(be)<rt&&Ze.push(be)),_e!==-1&&ge!=Ye[ge]&&(Ye[_e]=Ye[ge],Ze.lastIndexOf(_e)<rt&&Ze.push(_e));for(ge=1;ge<Ge;++ge)Ye[ge]===ge&&(_e!==-1&&Ye[_e]!==_e?Ye[ge]=Ye[_e]:be!==-1&&Ye[be]!==be&&(Ye[ge]=Ye[be]));for(ge=1;ge<Ge;++ge)if(ae[ge].type!==0){if(rt=ge,rt!=Ye[rt])do rt=Ye[rt],we[ge]=we[rt]+"/"+we[ge];while(rt!==0&&Ye[rt]!==-1&&rt!=Ye[rt]);Ye[ge]=-1}for(we[0]+="/",ge=1;ge<Ge;++ge)ae[ge].type!==2&&(we[ge]+="/")}function m(ae,we,me){for(var ge=ae.start,be=ae.size,_e=[],He=ge;me&&be>0&&He>=0;)_e.push(we.slice(He*N,He*N+N)),be-=N,He=Ad(me,He*4);return _e.length===0?Ra(0):Xu(_e).slice(0,ae.size)}function v(ae,we,me,ge,be){var _e=O;if(ae===O){if(we!==0)throw new Error("DIFAT chain shorter than expected")}else if(ae!==-1){var He=me[ae],rt=(ge>>>2)-1;if(!He)return;for(var Ge=0;Ge<rt&&(_e=Ad(He,Ge*4))!==O;++Ge)be.push(_e);v(Ad(He,ge-4),we-1,me,ge,be)}}function y(ae,we,me,ge,be){var _e=[],He=[];be||(be=[]);var rt=ge-1,Ge=0,Ye=0;for(Ge=we;Ge>=0;){be[Ge]=!0,_e[_e.length]=Ge,He.push(ae[Ge]);var Ze=me[Math.floor(Ge*4/ge)];if(Ye=Ge*4&rt,ge<4+Ye)throw new Error("FAT boundary crossed: "+Ge+" 4 "+ge);if(!ae[Ze])break;Ge=Ad(ae[Ze],Ye)}return{nodes:_e,data:ND([He])}}function b(ae,we,me,ge){var be=ae.length,_e=[],He=[],rt=[],Ge=[],Ye=ge-1,Ze=0,St=0,Dt=0,$t=0;for(Ze=0;Ze<be;++Ze)if(rt=[],Dt=Ze+we,Dt>=be&&(Dt-=be),!He[Dt]){Ge=[];var Ct=[];for(St=Dt;St>=0;){Ct[St]=!0,He[St]=!0,rt[rt.length]=St,Ge.push(ae[St]);var Mt=me[Math.floor(St*4/ge)];if($t=St*4&Ye,ge<4+$t)throw new Error("FAT boundary crossed: "+St+" 4 "+ge);if(!ae[Mt]||(St=Ad(ae[Mt],$t),Ct[St]))break}_e[Dt]={nodes:rt,data:ND([Ge])}}return _e}function w(ae,we,me,ge,be,_e,He,rt){for(var Ge=0,Ye=ge.length?2:0,Ze=we[ae].data,St=0,Dt=0,$t;St<Ze.length;St+=128){var Ct=Ze.slice(St,St+128);pi(Ct,64),Dt=Ct.read_shift(2),$t=Zk(Ct,0,Dt-Ye),ge.push($t);var Mt={name:$t,type:Ct.read_shift(1),color:Ct.read_shift(1),L:Ct.read_shift(4,"i"),R:Ct.read_shift(4,"i"),C:Ct.read_shift(4,"i"),clsid:Ct.read_shift(16),state:Ct.read_shift(4,"i"),start:0,size:0},dr=Ct.read_shift(2)+Ct.read_shift(2)+Ct.read_shift(2)+Ct.read_shift(2);dr!==0&&(Mt.ct=D(Ct,Ct.l-8));var ce=Ct.read_shift(2)+Ct.read_shift(2)+Ct.read_shift(2)+Ct.read_shift(2);ce!==0&&(Mt.mt=D(Ct,Ct.l-8)),Mt.start=Ct.read_shift(4,"i"),Mt.size=Ct.read_shift(4,"i"),Mt.size<0&&Mt.start<0&&(Mt.size=Mt.type=0,Mt.start=O,Mt.name=""),Mt.type===5?(Ge=Mt.start,be>0&&Ge!==O&&(we[Ge].name="!StreamData")):Mt.size>=4096?(Mt.storage="fat",we[Mt.start]===void 0&&(we[Mt.start]=y(me,Mt.start,we.fat_addrs,we.ssz)),we[Mt.start].name=Mt.name,Mt.content=we[Mt.start].data.slice(0,Mt.size)):(Mt.storage="minifat",Mt.size<0?Mt.size=0:Ge!==O&&Mt.start!==O&&we[Ge]&&(Mt.content=m(Mt,we[Ge].data,(we[rt]||{}).data))),Mt.content&&pi(Mt.content,0),_e[$t]=Mt,He.push(Mt)}}function D(ae,we){return new Date((Ws(ae,we+4)/1e7*Math.pow(2,32)+Ws(ae,we)/1e7-11644473600)*1e3)}function P(ae,we){return c(),u(l.readFileSync(ae),we)}function I(ae,we){var me=we&&we.type;switch(me||Yr&&Buffer.isBuffer(ae)&&(me="buffer"),me||"base64"){case"file":return P(ae,we);case"base64":return u(ll(Zs(ae)),we);case"binary":return u(ll(ae),we)}return u(ae,we)}function T(ae,we){var me=we||{},ge=me.root||"Root Entry";if(ae.FullPaths||(ae.FullPaths=[]),ae.FileIndex||(ae.FileIndex=[]),ae.FullPaths.length!==ae.FileIndex.length)throw new Error("inconsistent CFB structure");ae.FullPaths.length===0&&(ae.FullPaths[0]=ge+"/",ae.FileIndex[0]={name:ge,type:5}),me.CLSID&&(ae.FileIndex[0].clsid=me.CLSID),_(ae)}function _(ae){var we="Sh33tJ5";if(!Zr.find(ae,"/"+we)){var me=Ra(4);me[0]=55,me[1]=me[3]=50,me[2]=54,ae.FileIndex.push({name:we,type:2,content:me,size:4,L:69,R:69,C:69}),ae.FullPaths.push(ae.FullPaths[0]+we),S(ae)}}function S(ae,we){T(ae);for(var me=!1,ge=!1,be=ae.FullPaths.length-1;be>=0;--be){var _e=ae.FileIndex[be];switch(_e.type){case 0:ge?me=!0:(ae.FileIndex.pop(),ae.FullPaths.pop());break;case 1:case 2:case 5:ge=!0,isNaN(_e.R*_e.L*_e.C)&&(me=!0),_e.R>-1&&_e.L>-1&&_e.R==_e.L&&(me=!0);break;default:me=!0;break}}if(!(!me&&!we)){var He=new Date(1987,1,19),rt=0,Ge=Object.create?Object.create(null):{},Ye=[];for(be=0;be<ae.FullPaths.length;++be)Ge[ae.FullPaths[be]]=!0,ae.FileIndex[be].type!==0&&Ye.push([ae.FullPaths[be],ae.FileIndex[be]]);for(be=0;be<Ye.length;++be){var Ze=n(Ye[be][0]);ge=Ge[Ze],ge||(Ye.push([Ze,{name:a(Ze).replace("/",""),type:1,clsid:K,ct:He,mt:He,content:null}]),Ge[Ze]=!0)}for(Ye.sort(function($t,Ct){return r($t[0],Ct[0])}),ae.FullPaths=[],ae.FileIndex=[],be=0;be<Ye.length;++be)ae.FullPaths[be]=Ye[be][0],ae.FileIndex[be]=Ye[be][1];for(be=0;be<Ye.length;++be){var St=ae.FileIndex[be],Dt=ae.FullPaths[be];if(St.name=a(Dt).replace("/",""),St.L=St.R=St.C=-(St.color=1),St.size=St.content?St.content.length:0,St.start=0,St.clsid=St.clsid||K,be===0)St.C=Ye.length>1?1:-1,St.size=0,St.type=5;else if(Dt.slice(-1)=="/"){for(rt=be+1;rt<Ye.length&&n(ae.FullPaths[rt])!=Dt;++rt);for(St.C=rt>=Ye.length?-1:rt,rt=be+1;rt<Ye.length&&n(ae.FullPaths[rt])!=n(Dt);++rt);St.R=rt>=Ye.length?-1:rt,St.type=1}else n(ae.FullPaths[be+1]||"")==n(Dt)&&(St.R=be+1),St.type=2}}}function j(ae,we){var me=we||{};if(me.fileType=="mad")return We(ae,me);switch(S(ae),me.fileType){case"zip":return Gt(ae,me)}var ge=function($t){for(var Ct=0,Mt=0,dr=0;dr<$t.FileIndex.length;++dr){var ce=$t.FileIndex[dr];if(ce.content){var ke=ce.content.length;ke>0&&(ke<4096?Ct+=ke+63>>6:Mt+=ke+511>>9)}}for(var dt=$t.FullPaths.length+3>>2,Bt=Ct+7>>3,xt=Ct+127>>7,ft=Bt+Mt+dt+xt,Ot=ft+127>>7,Vt=Ot<=109?0:Math.ceil((Ot-109)/127);ft+Ot+Vt+127>>7>Ot;)Vt=++Ot<=109?0:Math.ceil((Ot-109)/127);var Ht=[1,Vt,Ot,xt,dt,Mt,Ct,0];return $t.FileIndex[0].size=Ct<<6,Ht[7]=($t.FileIndex[0].start=Ht[0]+Ht[1]+Ht[2]+Ht[3]+Ht[4]+Ht[5])+(Ht[6]+7>>3),Ht}(ae),be=Ra(ge[7]<<9),_e=0,He=0;{for(_e=0;_e<8;++_e)be.write_shift(1,Y[_e]);for(_e=0;_e<8;++_e)be.write_shift(2,0);for(be.write_shift(2,62),be.write_shift(2,3),be.write_shift(2,65534),be.write_shift(2,9),be.write_shift(2,6),_e=0;_e<3;++_e)be.write_shift(2,0);for(be.write_shift(4,0),be.write_shift(4,ge[2]),be.write_shift(4,ge[0]+ge[1]+ge[2]+ge[3]-1),be.write_shift(4,0),be.write_shift(4,4096),be.write_shift(4,ge[3]?ge[0]+ge[1]+ge[2]-1:O),be.write_shift(4,ge[3]),be.write_shift(-4,ge[1]?ge[0]-1:O),be.write_shift(4,ge[1]),_e=0;_e<109;++_e)be.write_shift(-4,_e<ge[2]?ge[1]+_e:-1)}if(ge[1])for(He=0;He<ge[1];++He){for(;_e<236+He*127;++_e)be.write_shift(-4,_e<ge[2]?ge[1]+_e:-1);be.write_shift(-4,He===ge[1]-1?O:He+1)}var rt=function($t){for(He+=$t;_e<He-1;++_e)be.write_shift(-4,_e+1);$t&&(++_e,be.write_shift(-4,O))};for(He=_e=0,He+=ge[1];_e<He;++_e)be.write_shift(-4,J.DIFSECT);for(He+=ge[2];_e<He;++_e)be.write_shift(-4,J.FATSECT);rt(ge[3]),rt(ge[4]);for(var Ge=0,Ye=0,Ze=ae.FileIndex[0];Ge<ae.FileIndex.length;++Ge)Ze=ae.FileIndex[Ge],Ze.content&&(Ye=Ze.content.length,!(Ye<4096)&&(Ze.start=He,rt(Ye+511>>9)));for(rt(ge[6]+7>>3);be.l&511;)be.write_shift(-4,J.ENDOFCHAIN);for(He=_e=0,Ge=0;Ge<ae.FileIndex.length;++Ge)Ze=ae.FileIndex[Ge],Ze.content&&(Ye=Ze.content.length,!(!Ye||Ye>=4096)&&(Ze.start=He,rt(Ye+63>>6)));for(;be.l&511;)be.write_shift(-4,J.ENDOFCHAIN);for(_e=0;_e<ge[4]<<2;++_e){var St=ae.FullPaths[_e];if(!St||St.length===0){for(Ge=0;Ge<17;++Ge)be.write_shift(4,0);for(Ge=0;Ge<3;++Ge)be.write_shift(4,-1);for(Ge=0;Ge<12;++Ge)be.write_shift(4,0);continue}Ze=ae.FileIndex[_e],_e===0&&(Ze.start=Ze.size?Ze.start-1:O);var Dt=_e===0&&me.root||Ze.name;if(Ye=2*(Dt.length+1),be.write_shift(64,Dt,"utf16le"),be.write_shift(2,Ye),be.write_shift(1,Ze.type),be.write_shift(1,Ze.color),be.write_shift(-4,Ze.L),be.write_shift(-4,Ze.R),be.write_shift(-4,Ze.C),Ze.clsid)be.write_shift(16,Ze.clsid,"hex");else for(Ge=0;Ge<4;++Ge)be.write_shift(4,0);be.write_shift(4,Ze.state||0),be.write_shift(4,0),be.write_shift(4,0),be.write_shift(4,0),be.write_shift(4,0),be.write_shift(4,Ze.start),be.write_shift(4,Ze.size),be.write_shift(4,0)}for(_e=1;_e<ae.FileIndex.length;++_e)if(Ze=ae.FileIndex[_e],Ze.size>=4096)if(be.l=Ze.start+1<<9,Yr&&Buffer.isBuffer(Ze.content))Ze.content.copy(be,be.l,0,Ze.size),be.l+=Ze.size+511&-512;else{for(Ge=0;Ge<Ze.size;++Ge)be.write_shift(1,Ze.content[Ge]);for(;Ge&511;++Ge)be.write_shift(1,0)}for(_e=1;_e<ae.FileIndex.length;++_e)if(Ze=ae.FileIndex[_e],Ze.size>0&&Ze.size<4096)if(Yr&&Buffer.isBuffer(Ze.content))Ze.content.copy(be,be.l,0,Ze.size),be.l+=Ze.size+63&-64;else{for(Ge=0;Ge<Ze.size;++Ge)be.write_shift(1,Ze.content[Ge]);for(;Ge&63;++Ge)be.write_shift(1,0)}if(Yr)be.l=be.length;else for(;be.l<be.length;)be.write_shift(1,0);return be}function E(ae,we){var me=ae.FullPaths.map(function(Ge){return Ge.toUpperCase()}),ge=me.map(function(Ge){var Ye=Ge.split("/");return Ye[Ye.length-(Ge.slice(-1)=="/"?2:1)]}),be=!1;we.charCodeAt(0)===47?(be=!0,we=me[0].slice(0,-1)+we):be=we.indexOf("/")!==-1;var _e=we.toUpperCase(),He=be===!0?me.indexOf(_e):ge.indexOf(_e);if(He!==-1)return ae.FileIndex[He];var rt=!_e.match(hg);for(_e=_e.replace(hs,""),rt&&(_e=_e.replace(hg,"!")),He=0;He<me.length;++He)if((rt?me[He].replace(hg,"!"):me[He]).replace(hs,"")==_e||(rt?ge[He].replace(hg,"!"):ge[He]).replace(hs,"")==_e)return ae.FileIndex[He];return null}var N=64,O=-2,U="d0cf11e0a1b11ae1",Y=[208,207,17,224,161,177,26,225],K="00000000000000000000000000000000",J={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:O,FREESECT:-1,HEADER_SIGNATURE:U,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:K,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function z(ae,we,me){c();var ge=j(ae,me);l.writeFileSync(we,ge)}function V(ae){for(var we=new Array(ae.length),me=0;me<ae.length;++me)we[me]=String.fromCharCode(ae[me]);return we.join("")}function ee(ae,we){var me=j(ae,we);switch(we&&we.type||"buffer"){case"file":return c(),l.writeFileSync(we.filename,me),me;case"binary":return typeof me=="string"?me:V(me);case"base64":return cD(typeof me=="string"?me:V(me));case"buffer":if(Yr)return Buffer.isBuffer(me)?me:gh(me);case"array":return typeof me=="string"?ll(me):me}return me}var Z;function k(ae){try{var we=ae.InflateRaw,me=new we;if(me._processChunk(new Uint8Array([3,0]),me._finishFlushFlag),me.bytesRead)Z=ae;else throw new Error("zlib does not expose bytesRead")}catch(ge){console.error("cannot use native zlib: "+(ge.message||ge))}}function R(ae,we){if(!Z)return Fe(ae,we);var me=Z.InflateRaw,ge=new me,be=ge._processChunk(ae.slice(ae.l),ge._finishFlushFlag);return ae.l+=ge.bytesRead,be}function q(ae){return Z?Z.deflateRawSync(ae):_t(ae)}var G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Q=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ie=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ue(ae){var we=(ae<<1|ae<<11)&139536|(ae<<5|ae<<15)&558144;return(we>>16|we>>8|we)&255}for(var ne=typeof Uint8Array<"u",pe=ne?new Uint8Array(256):[],ye=0;ye<256;++ye)pe[ye]=ue(ye);function W(ae,we){var me=pe[ae&255];return we<=8?me>>>8-we:(me=me<<8|pe[ae>>8&255],we<=16?me>>>16-we:(me=me<<8|pe[ae>>16&255],me>>>24-we))}function Pe(ae,we){var me=we&7,ge=we>>>3;return(ae[ge]|(me<=6?0:ae[ge+1]<<8))>>>me&3}function Ce(ae,we){var me=we&7,ge=we>>>3;return(ae[ge]|(me<=5?0:ae[ge+1]<<8))>>>me&7}function Ee(ae,we){var me=we&7,ge=we>>>3;return(ae[ge]|(me<=4?0:ae[ge+1]<<8))>>>me&15}function oe(ae,we){var me=we&7,ge=we>>>3;return(ae[ge]|(me<=3?0:ae[ge+1]<<8))>>>me&31}function ve(ae,we){var me=we&7,ge=we>>>3;return(ae[ge]|(me<=1?0:ae[ge+1]<<8))>>>me&127}function De(ae,we,me){var ge=we&7,be=we>>>3,_e=(1<<me)-1,He=ae[be]>>>ge;return me<8-ge||(He|=ae[be+1]<<8-ge,me<16-ge)||(He|=ae[be+2]<<16-ge,me<24-ge)||(He|=ae[be+3]<<24-ge),He&_e}function Te(ae,we,me){var ge=we&7,be=we>>>3;return ge<=5?ae[be]|=(me&7)<<ge:(ae[be]|=me<<ge&255,ae[be+1]=(me&7)>>8-ge),we+3}function Re(ae,we,me){var ge=we&7,be=we>>>3;return me=(me&1)<<ge,ae[be]|=me,we+1}function Ne(ae,we,me){var ge=we&7,be=we>>>3;return me<<=ge,ae[be]|=me&255,me>>>=8,ae[be+1]=me,we+8}function qe(ae,we,me){var ge=we&7,be=we>>>3;return me<<=ge,ae[be]|=me&255,me>>>=8,ae[be+1]=me&255,ae[be+2]=me>>>8,we+16}function je(ae,we){var me=ae.length,ge=2*me>we?2*me:we+5,be=0;if(me>=we)return ae;if(Yr){var _e=uD(ge);if(ae.copy)ae.copy(_e);else for(;be<ae.length;++be)_e[be]=ae[be];return _e}else if(ne){var He=new Uint8Array(ge);if(He.set)He.set(ae);else for(;be<me;++be)He[be]=ae[be];return He}return ae.length=ge,ae}function Je(ae){for(var we=new Array(ae),me=0;me<ae;++me)we[me]=0;return we}function ut(ae,we,me){var ge=1,be=0,_e=0,He=0,rt=0,Ge=ae.length,Ye=ne?new Uint16Array(32):Je(32);for(_e=0;_e<32;++_e)Ye[_e]=0;for(_e=Ge;_e<me;++_e)ae[_e]=0;Ge=ae.length;var Ze=ne?new Uint16Array(Ge):Je(Ge);for(_e=0;_e<Ge;++_e)Ye[be=ae[_e]]++,ge<be&&(ge=be),Ze[_e]=0;for(Ye[0]=0,_e=1;_e<=ge;++_e)Ye[_e+16]=rt=rt+Ye[_e-1]<<1;for(_e=0;_e<Ge;++_e)rt=ae[_e],rt!=0&&(Ze[_e]=Ye[rt+16]++);var St=0;for(_e=0;_e<Ge;++_e)if(St=ae[_e],St!=0)for(rt=W(Ze[_e],ge)>>ge-St,He=(1<<ge+4-St)-1;He>=0;--He)we[rt|He<<St]=St&15|_e<<4;return ge}var ot=ne?new Uint16Array(512):Je(512),wt=ne?new Uint16Array(32):Je(32);if(!ne){for(var kt=0;kt<512;++kt)ot[kt]=0;for(kt=0;kt<32;++kt)wt[kt]=0}(function(){for(var ae=[],we=0;we<32;we++)ae.push(5);ut(ae,wt,32);var me=[];for(we=0;we<=143;we++)me.push(8);for(;we<=255;we++)me.push(9);for(;we<=279;we++)me.push(7);for(;we<=287;we++)me.push(8);ut(me,ot,288)})();var Pt=function(){for(var we=ne?new Uint8Array(32768):[],me=0,ge=0;me<ie.length-1;++me)for(;ge<ie[me+1];++ge)we[ge]=me;for(;ge<32768;++ge)we[ge]=29;var be=ne?new Uint8Array(259):[];for(me=0,ge=0;me<Q.length-1;++me)for(;ge<Q[me+1];++ge)be[ge]=me;function _e(rt,Ge){for(var Ye=0;Ye<rt.length;){var Ze=Math.min(65535,rt.length-Ye),St=Ye+Ze==rt.length;for(Ge.write_shift(1,+St),Ge.write_shift(2,Ze),Ge.write_shift(2,~Ze&65535);Ze-- >0;)Ge[Ge.l++]=rt[Ye++]}return Ge.l}function He(rt,Ge){for(var Ye=0,Ze=0,St=ne?new Uint16Array(32768):[];Ze<rt.length;){var Dt=Math.min(65535,rt.length-Ze);if(Dt<10){for(Ye=Te(Ge,Ye,+(Ze+Dt==rt.length)),Ye&7&&(Ye+=8-(Ye&7)),Ge.l=Ye/8|0,Ge.write_shift(2,Dt),Ge.write_shift(2,~Dt&65535);Dt-- >0;)Ge[Ge.l++]=rt[Ze++];Ye=Ge.l*8;continue}Ye=Te(Ge,Ye,+(Ze+Dt==rt.length)+2);for(var $t=0;Dt-- >0;){var Ct=rt[Ze];$t=($t<<5^Ct)&32767;var Mt=-1,dr=0;if((Mt=St[$t])&&(Mt|=Ze&-32768,Mt>Ze&&(Mt-=32768),Mt<Ze))for(;rt[Mt+dr]==rt[Ze+dr]&&dr<250;)++dr;if(dr>2){Ct=be[dr],Ct<=22?Ye=Ne(Ge,Ye,pe[Ct+1]>>1)-1:(Ne(Ge,Ye,3),Ye+=5,Ne(Ge,Ye,pe[Ct-23]>>5),Ye+=3);var ce=Ct<8?0:Ct-4>>2;ce>0&&(qe(Ge,Ye,dr-Q[Ct]),Ye+=ce),Ct=we[Ze-Mt],Ye=Ne(Ge,Ye,pe[Ct]>>3),Ye-=3;var ke=Ct<4?0:Ct-2>>1;ke>0&&(qe(Ge,Ye,Ze-Mt-ie[Ct]),Ye+=ke);for(var dt=0;dt<dr;++dt)St[$t]=Ze&32767,$t=($t<<5^rt[Ze])&32767,++Ze;Dt-=dr-1}else Ct<=143?Ct=Ct+48:Ye=Re(Ge,Ye,1),Ye=Ne(Ge,Ye,pe[Ct]),St[$t]=Ze&32767,++Ze}Ye=Ne(Ge,Ye,0)-1}return Ge.l=(Ye+7)/8|0,Ge.l}return function(Ge,Ye){return Ge.length<8?_e(Ge,Ye):He(Ge,Ye)}}();function _t(ae){var we=Ra(50+Math.floor(ae.length*1.1)),me=Pt(ae,we);return we.slice(0,me)}var nt=ne?new Uint16Array(32768):Je(32768),nr=ne?new Uint16Array(32768):Je(32768),Wt=ne?new Uint16Array(128):Je(128),zr=1,tr=1;function Fr(ae,we){var me=oe(ae,we)+257;we+=5;var ge=oe(ae,we)+1;we+=5;var be=Ee(ae,we)+4;we+=4;for(var _e=0,He=ne?new Uint8Array(19):Je(19),rt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ge=1,Ye=ne?new Uint8Array(8):Je(8),Ze=ne?new Uint8Array(8):Je(8),St=He.length,Dt=0;Dt<be;++Dt)He[G[Dt]]=_e=Ce(ae,we),Ge<_e&&(Ge=_e),Ye[_e]++,we+=3;var $t=0;for(Ye[0]=0,Dt=1;Dt<=Ge;++Dt)Ze[Dt]=$t=$t+Ye[Dt-1]<<1;for(Dt=0;Dt<St;++Dt)($t=He[Dt])!=0&&(rt[Dt]=Ze[$t]++);var Ct=0;for(Dt=0;Dt<St;++Dt)if(Ct=He[Dt],Ct!=0){$t=pe[rt[Dt]]>>8-Ct;for(var Mt=(1<<7-Ct)-1;Mt>=0;--Mt)Wt[$t|Mt<<Ct]=Ct&7|Dt<<3}var dr=[];for(Ge=1;dr.length<me+ge;)switch($t=Wt[ve(ae,we)],we+=$t&7,$t>>>=3){case 16:for(_e=3+Pe(ae,we),we+=2,$t=dr[dr.length-1];_e-- >0;)dr.push($t);break;case 17:for(_e=3+Ce(ae,we),we+=3;_e-- >0;)dr.push(0);break;case 18:for(_e=11+ve(ae,we),we+=7;_e-- >0;)dr.push(0);break;default:dr.push($t),Ge<$t&&(Ge=$t);break}var ce=dr.slice(0,me),ke=dr.slice(me);for(Dt=me;Dt<286;++Dt)ce[Dt]=0;for(Dt=ge;Dt<30;++Dt)ke[Dt]=0;return zr=ut(ce,nt,286),tr=ut(ke,nr,30),we}function Ie(ae,we){if(ae[0]==3&&!(ae[1]&3))return[Mf(we),2];for(var me=0,ge=0,be=uD(we||1<<18),_e=0,He=be.length>>>0,rt=0,Ge=0;!(ge&1);){if(ge=Ce(ae,me),me+=3,ge>>>1)ge>>1==1?(rt=9,Ge=5):(me=Fr(ae,me),rt=zr,Ge=tr);else{me&7&&(me+=8-(me&7));var Ye=ae[me>>>3]|ae[(me>>>3)+1]<<8;if(me+=32,Ye>0)for(!we&&He<_e+Ye&&(be=je(be,_e+Ye),He=be.length);Ye-- >0;)be[_e++]=ae[me>>>3],me+=8;continue}for(;;){!we&&He<_e+32767&&(be=je(be,_e+32767),He=be.length);var Ze=De(ae,me,rt),St=ge>>>1==1?ot[Ze]:nt[Ze];if(me+=St&15,St>>>=4,!(St>>>8&255))be[_e++]=St;else{if(St==256)break;St-=257;var Dt=St<8?0:St-4>>2;Dt>5&&(Dt=0);var $t=_e+Q[St];Dt>0&&($t+=De(ae,me,Dt),me+=Dt),Ze=De(ae,me,Ge),St=ge>>>1==1?wt[Ze]:nr[Ze],me+=St&15,St>>>=4;var Ct=St<4?0:St-2>>1,Mt=ie[St];for(Ct>0&&(Mt+=De(ae,me,Ct),me+=Ct),!we&&He<$t&&(be=je(be,$t+100),He=be.length);_e<$t;)be[_e]=be[_e-Mt],++_e}}}return we?[be,me+7>>>3]:[be.slice(0,_e),me+7>>>3]}function Fe(ae,we){var me=ae.slice(ae.l||0),ge=Ie(me,we);return ae.l+=ge[1],ge[0]}function tt(ae,we){if(ae)typeof console<"u"&&console.error(we);else throw new Error(we)}function ht(ae,we){var me=ae;pi(me,0);var ge=[],be=[],_e={FileIndex:ge,FullPaths:be};T(_e,{root:we.root});for(var He=me.length-4;(me[He]!=80||me[He+1]!=75||me[He+2]!=5||me[He+3]!=6)&&He>=0;)--He;me.l=He+4,me.l+=4;var rt=me.read_shift(2);me.l+=6;var Ge=me.read_shift(4);for(me.l=Ge,He=0;He<rt;++He){me.l+=20;var Ye=me.read_shift(4),Ze=me.read_shift(4),St=me.read_shift(2),Dt=me.read_shift(2),$t=me.read_shift(2);me.l+=8;var Ct=me.read_shift(4),Mt=o(me.slice(me.l+St,me.l+St+Dt));me.l+=St+Dt+$t;var dr=me.l;me.l=Ct+4,Lt(me,Ye,Ze,_e,Mt),me.l=dr}return _e}function Lt(ae,we,me,ge,be){ae.l+=2;var _e=ae.read_shift(2),He=ae.read_shift(2),rt=s(ae);if(_e&8257)throw new Error("Unsupported ZIP encryption");for(var Ge=ae.read_shift(4),Ye=ae.read_shift(4),Ze=ae.read_shift(4),St=ae.read_shift(2),Dt=ae.read_shift(2),$t="",Ct=0;Ct<St;++Ct)$t+=String.fromCharCode(ae[ae.l++]);if(Dt){var Mt=o(ae.slice(ae.l,ae.l+Dt));(Mt[21589]||{}).mt&&(rt=Mt[21589].mt),((be||{})[21589]||{}).mt&&(rt=be[21589].mt)}ae.l+=Dt;var dr=ae.slice(ae.l,ae.l+Ye);switch(He){case 8:dr=R(ae,Ze);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+He)}var ce=!1;_e&8&&(Ge=ae.read_shift(4),Ge==134695760&&(Ge=ae.read_shift(4),ce=!0),Ye=ae.read_shift(4),Ze=ae.read_shift(4)),Ye!=we&&tt(ce,"Bad compressed size: "+we+" != "+Ye),Ze!=me&&tt(ce,"Bad uncompressed size: "+me+" != "+Ze),ir(ge,$t,dr,{unsafe:!0,mt:rt})}function Gt(ae,we){var me=we||{},ge=[],be=[],_e=Ra(1),He=me.compression?8:0,rt=0,Ge=0,Ye=0,Ze=0,St=0,Dt=ae.FullPaths[0],$t=Dt,Ct=ae.FileIndex[0],Mt=[],dr=0;for(Ge=1;Ge<ae.FullPaths.length;++Ge)if($t=ae.FullPaths[Ge].slice(Dt.length),Ct=ae.FileIndex[Ge],!(!Ct.size||!Ct.content||$t=="Sh33tJ5")){var ce=Ze,ke=Ra($t.length);for(Ye=0;Ye<$t.length;++Ye)ke.write_shift(1,$t.charCodeAt(Ye)&127);ke=ke.slice(0,ke.l),Mt[St]=zfe.buf(Ct.content,0);var dt=Ct.content;He==8&&(dt=q(dt)),_e=Ra(30),_e.write_shift(4,67324752),_e.write_shift(2,20),_e.write_shift(2,rt),_e.write_shift(2,He),Ct.mt?i(_e,Ct.mt):_e.write_shift(4,0),_e.write_shift(-4,Mt[St]),_e.write_shift(4,dt.length),_e.write_shift(4,Ct.content.length),_e.write_shift(2,ke.length),_e.write_shift(2,0),Ze+=_e.length,ge.push(_e),Ze+=ke.length,ge.push(ke),Ze+=dt.length,ge.push(dt),_e=Ra(46),_e.write_shift(4,33639248),_e.write_shift(2,0),_e.write_shift(2,20),_e.write_shift(2,rt),_e.write_shift(2,He),_e.write_shift(4,0),_e.write_shift(-4,Mt[St]),_e.write_shift(4,dt.length),_e.write_shift(4,Ct.content.length),_e.write_shift(2,ke.length),_e.write_shift(2,0),_e.write_shift(2,0),_e.write_shift(2,0),_e.write_shift(2,0),_e.write_shift(4,0),_e.write_shift(4,ce),dr+=_e.l,be.push(_e),dr+=ke.length,be.push(ke),++St}return _e=Ra(22),_e.write_shift(4,101010256),_e.write_shift(2,0),_e.write_shift(2,0),_e.write_shift(2,St),_e.write_shift(2,St),_e.write_shift(4,dr),_e.write_shift(4,Ze),_e.write_shift(2,0),Xu([Xu(ge),Xu(be),_e])}var Rt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function jt(ae,we){if(ae.ctype)return ae.ctype;var me=ae.name||"",ge=me.match(/\.([^\.]+)$/);return ge&&Rt[ge[1]]||we&&(ge=(me=we).match(/[\.\\]([^\.\\])+$/),ge&&Rt[ge[1]])?Rt[ge[1]]:"application/octet-stream"}function ar(ae){for(var we=cD(ae),me=[],ge=0;ge<we.length;ge+=76)me.push(we.slice(ge,ge+76));return me.join(`\r
`)+`\r
`}function mr(ae){var we=ae.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ye){var Ze=Ye.charCodeAt(0).toString(16).toUpperCase();return"="+(Ze.length==1?"0"+Ze:Ze)});we=we.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),we.charAt(0)==`
`&&(we="=0D"+we.slice(1)),we=we.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var me=[],ge=we.split(`\r
`),be=0;be<ge.length;++be){var _e=ge[be];if(_e.length==0){me.push("");continue}for(var He=0;He<_e.length;){var rt=76,Ge=_e.slice(He,He+rt);Ge.charAt(rt-1)=="="?rt--:Ge.charAt(rt-2)=="="?rt-=2:Ge.charAt(rt-3)=="="&&(rt-=3),Ge=_e.slice(He,He+rt),He+=rt,He<_e.length&&(Ge+="="),me.push(Ge)}}return me.join(`\r
`)}function gr(ae){for(var we=[],me=0;me<ae.length;++me){for(var ge=ae[me];me<=ae.length&&ge.charAt(ge.length-1)=="=";)ge=ge.slice(0,ge.length-1)+ae[++me];we.push(ge)}for(var be=0;be<we.length;++be)we[be]=we[be].replace(/[=][0-9A-Fa-f]{2}/g,function(_e){return String.fromCharCode(parseInt(_e.slice(1),16))});return ll(we.join(`\r
`))}function Ae(ae,we,me){for(var ge="",be="",_e="",He,rt=0;rt<10;++rt){var Ge=we[rt];if(!Ge||Ge.match(/^\s*$/))break;var Ye=Ge.match(/^(.*?):\s*([^\s].*)$/);if(Ye)switch(Ye[1].toLowerCase()){case"content-location":ge=Ye[2].trim();break;case"content-type":_e=Ye[2].trim();break;case"content-transfer-encoding":be=Ye[2].trim();break}}switch(++rt,be.toLowerCase()){case"base64":He=ll(Zs(we.slice(rt).join("")));break;case"quoted-printable":He=gr(we.slice(rt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+be)}var Ze=ir(ae,ge.slice(me.length),He,{unsafe:!0});_e&&(Ze.ctype=_e)}function ct(ae,we){if(V(ae.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var me=we&&we.root||"",ge=(Yr&&Buffer.isBuffer(ae)?ae.toString("binary"):V(ae)).split(`\r
`),be=0,_e="";for(be=0;be<ge.length;++be)if(_e=ge[be],!!/^Content-Location:/i.test(_e)&&(_e=_e.slice(_e.indexOf("file")),me||(me=_e.slice(0,_e.lastIndexOf("/")+1)),_e.slice(0,me.length)!=me))for(;me.length>0&&(me=me.slice(0,me.length-1),me=me.slice(0,me.lastIndexOf("/")+1),_e.slice(0,me.length)!=me););var He=(ge[1]||"").match(/boundary="(.*?)"/);if(!He)throw new Error("MAD cannot find boundary");var rt="--"+(He[1]||""),Ge=[],Ye=[],Ze={FileIndex:Ge,FullPaths:Ye};T(Ze);var St,Dt=0;for(be=0;be<ge.length;++be){var $t=ge[be];$t!==rt&&$t!==rt+"--"||(Dt++&&Ae(Ze,ge.slice(St,be),me),St=be)}return Ze}function We(ae,we){var me=we||{},ge=me.boundary||"SheetJS";ge="------="+ge;for(var be=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ge.slice(2)+'"',"","",""],_e=ae.FullPaths[0],He=_e,rt=ae.FileIndex[0],Ge=1;Ge<ae.FullPaths.length;++Ge)if(He=ae.FullPaths[Ge].slice(_e.length),rt=ae.FileIndex[Ge],!(!rt.size||!rt.content||He=="Sh33tJ5")){He=He.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(dr){return"_x"+dr.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(dr){return"_u"+dr.charCodeAt(0).toString(16)+"_"});for(var Ye=rt.content,Ze=Yr&&Buffer.isBuffer(Ye)?Ye.toString("binary"):V(Ye),St=0,Dt=Math.min(1024,Ze.length),$t=0,Ct=0;Ct<=Dt;++Ct)($t=Ze.charCodeAt(Ct))>=32&&$t<128&&++St;var Mt=St>=Dt*4/5;be.push(ge),be.push("Content-Location: "+(me.root||"file:///C:/SheetJS/")+He),be.push("Content-Transfer-Encoding: "+(Mt?"quoted-printable":"base64")),be.push("Content-Type: "+jt(rt,He)),be.push(""),be.push(Mt?mr(Ze):ar(Ze))}return be.push(ge+`--\r
`),be.join(`\r
`)}function Kt(ae){var we={};return T(we,ae),we}function ir(ae,we,me,ge){var be=ge&&ge.unsafe;be||T(ae);var _e=!be&&Zr.find(ae,we);if(!_e){var He=ae.FullPaths[0];we.slice(0,He.length)==He?He=we:(He.slice(-1)!="/"&&(He+="/"),He=(He+we).replace("//","/")),_e={name:a(we),type:2},ae.FileIndex.push(_e),ae.FullPaths.push(He),be||Zr.utils.cfb_gc(ae)}return _e.content=me,_e.size=me?me.length:0,ge&&(ge.CLSID&&(_e.clsid=ge.CLSID),ge.mt&&(_e.mt=ge.mt),ge.ct&&(_e.ct=ge.ct)),_e}function Rr(ae,we){T(ae);var me=Zr.find(ae,we);if(me){for(var ge=0;ge<ae.FileIndex.length;++ge)if(ae.FileIndex[ge]==me)return ae.FileIndex.splice(ge,1),ae.FullPaths.splice(ge,1),!0}return!1}function Nr(ae,we,me){T(ae);var ge=Zr.find(ae,we);if(ge){for(var be=0;be<ae.FileIndex.length;++be)if(ae.FileIndex[be]==ge)return ae.FileIndex[be].name=a(me),ae.FullPaths[be]=me,!0}return!1}function Vr(ae){S(ae,!0)}return t.find=E,t.read=I,t.parse=u,t.write=ee,t.writeFile=z,t.utils={cfb_new:Kt,cfb_add:ir,cfb_del:Rr,cfb_mov:Nr,cfb_gc:Vr,ReadShift:Rg,CheckField:Lz,prep_blob:pi,bconcat:Xu,use_zlib:k,_deflateRaw:_t,_inflateRaw:Fe,consts:J},t}();function qfe(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function ec(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function Yk(e){for(var t=[],r=ec(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}var vb=new Date(1899,11,30,0,0,0);function ps(e,t){var r=e.getTime(),n=vb.getTime()+(e.getTimezoneOffset()-vb.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var pz=new Date,Wfe=vb.getTime()+(pz.getTimezoneOffset()-vb.getTimezoneOffset())*6e4,yD=pz.getTimezoneOffset();function x5(e){var t=new Date;return t.setTime(e*24*60*60*1e3+Wfe),t.getTimezoneOffset()!==yD&&t.setTime(t.getTime()+(t.getTimezoneOffset()-yD)*6e4),t}function Hfe(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(r=1,i>3&&(n=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[i],10)}return t}var xD=new Date("2017-02-19T19:06:09.000Z"),mz=isNaN(xD.getFullYear())?new Date("2/19/17"):xD,Gfe=mz.getFullYear()==2017;function ni(e,t){var r=new Date(e);if(Gfe)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(mz.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function nh(e,t){if(Yr&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return mg(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return mg(tz(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return mg(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return mg(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function bi(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=bi(e[r]));return t}function ca(e,t){for(var r="";r.length<t;)r+=e;return r}function gl(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var Kfe=["january","february","march","april","may","june","july","august","september","october","november","december"];function hp(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&Kfe.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var Yfe=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var i=r.split(n),s=[i[0]],o=1;o<i.length;++o)s.push(a),s.push(i[o]);return s}}();function gz(e){return e?e.content&&e.type?nh(e.content,!0):e.data?dg(e.data):e.asNodeBuffer&&Yr?dg(e.asNodeBuffer().toString("binary")):e.asBinary?dg(e.asBinary()):e._data&&e._data.getContent?dg(nh(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function vz(e){if(!e)return null;if(e.data)return oD(e.data);if(e.asNodeBuffer&&Yr)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?oD(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function Xfe(e){return e&&e.name.slice(-4)===".bin"?vz(e):gz(e)}function bo(e,t){for(var r=e.FullPaths||ec(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),i=0;i<r.length;++i){var s=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==s||a==s)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function Xk(e,t){var r=bo(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function Na(e,t,r){if(!r)return Xfe(Xk(e,t));if(!t)return null;try{return Na(e,t)}catch{return null}}function Hs(e,t,r){if(!r)return gz(Xk(e,t));if(!t)return null;try{return Hs(e,t)}catch{return null}}function Qfe(e,t,r){return vz(Xk(e,t))}function bD(e){for(var t=e.FullPaths||ec(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function Jfe(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Yr?n=gh(r):n=vfe(r),Zr.utils.cfb_add(e,t,n)}Zr.utils.cfb_add(e,t,r)}else e.file(t,r)}function yz(e,t){switch(t.type){case"base64":return Zr.read(e,{type:"base64"});case"binary":return Zr.read(e,{type:"binary"});case"buffer":case"array":return Zr.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function pg(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var xz=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Zfe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,wD=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,ede=/<[^>]*>/g,Xi=xz.match(wD)?wD:ede,tde=/<\w*:/,rde=/<(\/?)\w+:/;function Tr(e,t,r){for(var n={},a=0,i=0;a!==e.length&&!((i=e.charCodeAt(a))===32||i===10||i===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var s=e.match(Zfe),o=0,l="",c=0,u="",f="",h=1;if(s)for(c=0;c!=s.length;++c){for(f=s[c],i=0;i!=f.length&&f.charCodeAt(i)!==61;++i);for(u=f.slice(0,i).trim();f.charCodeAt(i+1)==32;)++i;for(h=(a=f.charCodeAt(i+1))==34||a==39?1:0,l=f.slice(i+1+h,f.length-h),o=0;o!=u.length&&u.charCodeAt(o)!==58;++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),n[u]=l,n[u.toLowerCase()]=l;else{var p=(o===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(o+1);if(n[p]&&u.slice(o-3,o)=="ext")continue;n[p]=l,n[p.toLowerCase()]=l}}return n}function nc(e){return e.replace(rde,"<$1")}var bz={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},nde=Yk(bz),an=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(e,function(o,l){return bz[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,l){return String.fromCharCode(parseInt(l,16))});var s=a.indexOf("]]>");return r(a.slice(0,i))+a.slice(i+9,s)+r(a.slice(s+3))}}(),ade=/[&<>'"]/g,ide=/[\u0000-\u001f]/g;function Qk(e){var t=e+"";return t.replace(ade,function(r){return nde[r]}).replace(/\n/g,"<br/>").replace(ide,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var _D=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function Gn(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function LS(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=a&63,t+=String.fromCharCode(s);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}s=e.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(i&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function SD(e){var t=Mf(2*e.length),r,n,a=1,i=0,s=0,o;for(n=0;n<e.length;n+=a)a=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(t[i++]=s&255,t[i++]=s>>>8,s=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function AD(e){return gh(e,"binary").toString("utf8")}var hx="foo bar bazâð£",$n=Yr&&(AD(hx)==LS(hx)&&AD||SD(hx)==LS(hx)&&SD)||LS,mg=Yr?function(e){return gh(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},Vv=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),wz=function(){var e=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),sde=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),ode=/<\/?(?:vt:)?variant>/g,lde=/<(?:vt:)([^>]*)>([\s\S]*)</;function TD(e,t){var r=Tr(e),n=e.match(sde(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(i){var s=i.replace(ode,"").match(lde);s&&a.push({v:$n(s[2]),t:s[1]})}),a}var cde=/(^\s|\s$|\n)/;function ude(e){return ec(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function fde(e,t,r){return"<"+e+(r!=null?ude(r):"")+(t!=null?(t.match(cde)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function Jk(e){if(Yr&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return $n(vh(Hk(e)));throw new Error("Bad input format: expected Buffer or string")}var zv=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,dde={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},hde=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function pde(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function mde(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,s=n?-t:t;isFinite(s)?s==0?a=i=0:(a=Math.floor(Math.log(s)/Math.LN2),i=s*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var o=0;o<=5;++o,i/=256)e[r+o]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var ED=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},ND=Yr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:gh(t)})):ED(e)}:ED,kD=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(Nc(e,a)));return n.join("").replace(hs,"")},Zk=Yr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(hs,""):kD(e,t,r)}:kD,CD=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},_z=Yr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):CD(e,t,r)}:CD,PD=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(a0(e,a)));return n.join("")},J1=Yr?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):PD(t,r,n)}:PD,Sz=function(e,t){var r=Ws(e,t);return r>0?J1(e,t+4,t+4+r-1):""},Az=Sz,Tz=function(e,t){var r=Ws(e,t);return r>0?J1(e,t+4,t+4+r-1):""},Ez=Tz,Nz=function(e,t){var r=2*Ws(e,t);return r>0?J1(e,t+4,t+4+r-1):""},kz=Nz,Cz=function(t,r){var n=Ws(t,r);return n>0?Zk(t,r+4,r+4+n):""},Pz=Cz,Oz=function(e,t){var r=Ws(e,t);return r>0?J1(e,t+4,t+4+r):""},Iz=Oz,jz=function(e,t){return pde(e,t)},yb=jz,Dz=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Yr&&(Az=function(t,r){if(!Buffer.isBuffer(t))return Sz(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},Ez=function(t,r){if(!Buffer.isBuffer(t))return Tz(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},kz=function(t,r){if(!Buffer.isBuffer(t))return Nz(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},Pz=function(t,r){if(!Buffer.isBuffer(t))return Cz(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},Iz=function(t,r){if(!Buffer.isBuffer(t))return Oz(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},yb=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):jz(t,r)},Dz=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var a0=function(e,t){return e[t]},Nc=function(e,t){return e[t+1]*256+e[t]},gde=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Ws=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Ad=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},vde=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Rg(e,t){var r="",n,a,i=[],s,o,l,c;switch(t){case"dbcs":if(c=this.l,Yr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)r+=String.fromCharCode(Nc(this,c)),c+=2;e*=2;break;case"utf8":r=J1(this,this.l,this.l+e);break;case"utf16le":e*=2,r=Zk(this,this.l,this.l+e);break;case"wstr":return Rg.call(this,e,"dbcs");case"lpstr-ansi":r=Az(this,this.l),e=4+Ws(this,this.l);break;case"lpstr-cp":r=Ez(this,this.l),e=4+Ws(this,this.l);break;case"lpwstr":r=kz(this,this.l),e=4+2*Ws(this,this.l);break;case"lpp4":e=4+Ws(this,this.l),r=Pz(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Ws(this,this.l),r=Iz(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(s=a0(this,this.l+e++))!==0;)i.push(dx(s));r=i.join("");break;case"_wstr":for(e=0,r="";(s=Nc(this,this.l+e))!==0;)i.push(dx(s)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",c=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=a0(this,c),this.l=c+1,o=Rg.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(dx(Nc(this,c))),c+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",c=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=a0(this,c),this.l=c+1,o=Rg.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(dx(a0(this,c))),c+=1}r=i.join("");break;default:switch(e){case 1:return n=a0(this,this.l),this.l++,n;case 2:return n=(t==="i"?gde:Nc)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?Ad:vde)(this,this.l),this.l+=4,n):(a=Ws(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=yb(this,this.l):a=yb([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=_z(this,this.l,e);break}}return this.l+=e,r}var yde=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},xde=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},bde=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function wde(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)bde(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var s=t.charCodeAt(a);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,yde(this,t,this.l);break;case 8:if(n=8,r==="f"){mde(this,t,this.l);break}case 16:break;case-4:n=4,xde(this,t,this.l);break}return this.l+=n,this}function Lz(e,t){var r=_z(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function pi(e,t){e.l=t,e.read_shift=Rg,e.chk=Lz,e.write_shift=wde}function Yi(e,t){e.l+=t}function Ra(e){var t=Mf(e);return pi(t,0),t}function ou(e,t,r){if(e){var n,a,i;pi(e,e.l||0);for(var s=e.length,o=0,l=0;e.l<s;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var c=Ab[o]||Ab[65535];for(n=e.read_shift(1),i=n&127,a=1;a<4&&n&128;++a)i+=((n=e.read_shift(1))&127)<<7*a;l=e.l+i;var u=c.f&&c.f(e,i,r);if(e.l=l,t(u,c,o))return}}}function ST(){var e=[],t=Yr?256:2048,r=function(c){var u=Ra(c);return pi(u,0),u},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(c){return n&&c<n.length-n.l?n:(a(),n=r(Math.max(c+1,t)))},s=function(){return a(),Xu(e)},o=function(c){a(),n=c,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:o,end:s,_bufs:e}}function Fg(e,t,r){var n=bi(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function OD(e,t,r){var n=bi(e);return n.s=Fg(n.s,t.s,r),n.e=Fg(n.e,t.s,r),n}function $g(e,t){if(e.cRel&&e.c<0)for(e=bi(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=bi(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Ir(e);return!e.cRel&&e.cRel!=null&&(r=Ade(r)),!e.rRel&&e.rRel!=null&&(r=_de(r)),r}function MS(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Ba(e.s.c)+":"+(e.e.cRel?"":"$")+Ba(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+wi(e.s.r)+":"+(e.e.rRel?"":"$")+wi(e.e.r):$g(e.s,t.biff)+":"+$g(e.e,t.biff)}function eC(e){return parseInt(Sde(e),10)-1}function wi(e){return""+(e+1)}function _de(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Sde(e){return e.replace(/\$(\d+)$/,"$1")}function tC(e){for(var t=Tde(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Ba(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function Ade(e){return e.replace(/^([A-Z])/,"$$$1")}function Tde(e){return e.replace(/^\$([A-Z])/,"$1")}function Ede(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function cs(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function Ir(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function em(e){var t=e.indexOf(":");return t==-1?{s:cs(e),e:cs(e)}:{s:cs(e.slice(0,t)),e:cs(e.slice(t+1))}}function tn(e,t){return typeof t>"u"||typeof t=="number"?tn(e.s,e.e):(typeof e!="string"&&(e=Ir(e)),typeof t!="string"&&(t=Ir(t)),e==t?e:e+":"+t)}function fa(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function ID(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=jo(e.z,r?ps(t):t)}catch{}try{return e.w=jo((e.XF||{}).numFmtId||(r?14:0),r?ps(t):t)}catch{return""+t}}function Qc(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?bh[e.v]||e.v:t==null?ID(e,e.v):ID(e,t))}function Hf(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function Mz(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),s=0,o=0;if(i&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?cs(n.origin):n.origin;s=l.r,o=l.c}i["!ref"]||(i["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=fa(i["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),s==-1&&(c.e.r=s=u.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var p={v:t[f][h]},g=s+f,m=o+h;if(c.s.r>g&&(c.s.r=g),c.s.c>m&&(c.s.c=m),c.e.r<g&&(c.e.r=g),c.e.c<m&&(c.e.c=m),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))p=t[f][h];else if(Array.isArray(p.v)&&(p.f=t[f][h][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(n.nullError)p.t="e",p.v=0;else if(n.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=n.dateNF||Lr[14],n.cellDates?(p.t="d",p.w=jo(p.z,ps(p.v))):(p.t="n",p.v=ps(p.v),p.w=jo(p.z,p.v))):p.t="s";if(a)i[g]||(i[g]=[]),i[g][m]&&i[g][m].z&&(p.z=i[g][m].z),i[g][m]=p;else{var v=Ir({c:m,r:g});i[v]&&i[v].z&&(p.z=i[v].z),i[v]=p}}}return c.s.c<1e7&&(i["!ref"]=tn(c)),i}function tm(e,t){return Mz(null,e,t)}function Nde(e){return e.read_shift(4,"i")}function Gi(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function kde(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function rC(e,t){var r=e.l,n=e.read_shift(1),a=Gi(e),i=[],s={t:a,h:a};if(n&1){for(var o=e.read_shift(4),l=0;l!=o;++l)i.push(kde(e));s.r=i}else s.r=[{ich:0,ifnt:0}];return e.l=r+t,s}var Cde=rC;function Lo(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function yh(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var Pde=Gi;function nC(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var Ode=Gi,AT=nC;function aC(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?yb([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Ad(t,0)>>2;return r?a/100:a}function Rz(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var xh=Rz;function Vi(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Ide(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),s=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var c=Vd[a];c&&(t.rgb=Wv(c));break;case 2:t.rgb=Wv([s,o,l]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function jde(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function Fz(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function Dde(e){return Fz(e,1)}function Lde(e){return Fz(e,2)}var iC=2,ws=3,px=11,jD=12,xb=19,mx=64,Mde=65,Rde=71,Fde=4108,$de=4126,Ya=80,$z=81,Bde=[Ya,$z],Ude={1:{n:"CodePage",t:iC},2:{n:"Category",t:Ya},3:{n:"PresentationFormat",t:Ya},4:{n:"ByteCount",t:ws},5:{n:"LineCount",t:ws},6:{n:"ParagraphCount",t:ws},7:{n:"SlideCount",t:ws},8:{n:"NoteCount",t:ws},9:{n:"HiddenCount",t:ws},10:{n:"MultimediaClipCount",t:ws},11:{n:"ScaleCrop",t:px},12:{n:"HeadingPairs",t:Fde},13:{n:"TitlesOfParts",t:$de},14:{n:"Manager",t:Ya},15:{n:"Company",t:Ya},16:{n:"LinksUpToDate",t:px},17:{n:"CharacterCount",t:ws},19:{n:"SharedDoc",t:px},22:{n:"HyperlinksChanged",t:px},23:{n:"AppVersion",t:ws,p:"version"},24:{n:"DigSig",t:Mde},26:{n:"ContentType",t:Ya},27:{n:"ContentStatus",t:Ya},28:{n:"Language",t:Ya},29:{n:"Version",t:Ya},255:{},2147483648:{n:"Locale",t:xb},2147483651:{n:"Behavior",t:xb},1919054434:{}},Vde={1:{n:"CodePage",t:iC},2:{n:"Title",t:Ya},3:{n:"Subject",t:Ya},4:{n:"Author",t:Ya},5:{n:"Keywords",t:Ya},6:{n:"Comments",t:Ya},7:{n:"Template",t:Ya},8:{n:"LastAuthor",t:Ya},9:{n:"RevNumber",t:Ya},10:{n:"EditTime",t:mx},11:{n:"LastPrinted",t:mx},12:{n:"CreatedDate",t:mx},13:{n:"ModifiedDate",t:mx},14:{n:"PageCount",t:ws},15:{n:"WordCount",t:ws},16:{n:"CharCount",t:ws},17:{n:"Thumbnail",t:Rde},18:{n:"Application",t:Ya},19:{n:"DocSecurity",t:ws},255:{},2147483648:{n:"Locale",t:xb},2147483651:{n:"Behavior",t:xb},1919054434:{}},DD={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},zde=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function qde(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var Wde=qde([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Vd=bi(Wde),bh={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Bz={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},LD={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function Hde(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Gde(e){var t=Hde();if(!e||!e.match)return t;var r={};if((e.match(Xi)||[]).forEach(function(n){var a=Tr(n);switch(a[0].replace(tde,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[LD[a.ContentType]]!==void 0&&t[LD[a.ContentType]].push(a.PartName);break}}),t.xmlns!==dde.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var A0={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function TT(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Bg(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Xi)||[]).forEach(function(a){var i=Tr(a);if(i[0]==="<Relationship"){var s={};s.Type=i.Type,s.Target=i.Target,s.Id=i.Id,i.TargetMode&&(s.TargetMode=i.TargetMode);var o=i.TargetMode==="External"?i.Target:pg(i.Target,t);r[o]=s,n[i.Id]=s}}),r["!id"]=n,r}var Kde="application/vnd.oasis.opendocument.spreadsheet";function Yde(e,t){for(var r=Jk(e),n,a;n=zv.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=Tr(n[0],!1),a.path=="/"&&a.type!==Kde)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var Ug=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],Xde=function(){for(var e=new Array(Ug.length),t=0;t<Ug.length;++t){var r=Ug[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function Uz(e){var t={};e=$n(e);for(var r=0;r<Ug.length;++r){var n=Ug[r],a=e.match(Xde[r]);a!=null&&a.length>0&&(t[n[1]]=an(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=ni(t[n[1]]))}return t}var Qde=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function Vz(e,t,r,n){var a=[];if(typeof e=="string")a=TD(e,n);else for(var i=0;i<e.length;++i)a=a.concat(e[i].map(function(u){return{v:u}}));var s=typeof t=="string"?TD(t,n).map(function(u){return u.v}):t,o=0,l=0;if(s.length>0)for(var c=0;c!==a.length;c+=2){switch(l=+a[c+1].v,a[c].v){case"Worksheets":case"工作表":case"Листы":case"أوراق العمل":case"ワークシート":case"גליונות עבודה":case"Arbeitsblätter":case"Çalışma Sayfaları":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de cálculo":case"Planilhas":case"Regneark":case"Hojas de cálculo":case"Werkbladen":r.Worksheets=l,r.SheetNames=s.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"名前付き一覧":case"Benannte Bereiche":case"Navngivne områder":r.NamedRanges=l,r.DefinedNames=s.slice(o,o+l);break;case"Charts":case"Diagramme":r.Chartsheets=l,r.ChartNames=s.slice(o,o+l);break}o+=l}}function Jde(e,t,r){var n={};return t||(t={}),e=$n(e),Qde.forEach(function(a){var i=(e.match(Vv(a[0]))||[])[1];switch(a[2]){case"string":i&&(t[a[1]]=an(i));break;case"bool":t[a[1]]=i==="true";break;case"raw":var s=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));s&&s.length>0&&(n[a[1]]=s[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&Vz(n.HeadingPairs,n.TitlesOfParts,t,r),t}var Zde=/<[^>]+>[^<]*/g;function ehe(e,t){var r={},n="",a=e.match(Zde);if(a)for(var i=0;i!=a.length;++i){var s=a[i],o=Tr(s);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=an(o.name);break;case"</property>":n=null;break;default:if(s.indexOf("<vt:")===0){var l=s.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":r[n]=an(u);break;case"bool":r[n]=Gn(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(u,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(u);break;case"filetime":case"date":r[n]=ni(u);break;case"cy":case"error":r[n]=an(u);break;default:if(c.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",s,c,l)}}else if(s.slice(0,2)!=="</"){if(t.WTF)throw new Error(s)}}}return r}var the={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},RS;function rhe(e,t,r){RS||(RS=Yk(the)),t=RS[t]||t,e[t]=r}function sC(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function zz(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function qz(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function Wz(e,t,r){return t===31?qz(e):zz(e,t,r)}function ET(e,t,r){return Wz(e,t,r===!1?0:4)}function nhe(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return Wz(e,t,0)}function ahe(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(hs,""),e.l-a&2&&(e.l+=2)}return r}function ihe(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(hs,"");return r}function she(e){var t=e.l,r=bb(e,$z);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=bb(e,ws);return[r,n]}function ohe(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(she(e));return r}function MD(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var i=e.read_shift(4),s=e.read_shift(4);n[i]=e.read_shift(s,t===1200?"utf16le":"utf8").replace(hs,"").replace(hg,"!"),t===1200&&s%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function Hz(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function lhe(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function bb(e,t,r){var n=e.read_shift(2),a,i=r||{};if(e.l+=2,t!==jD&&n!==t&&Bde.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===jD?n:t){case 2:return a=e.read_shift(2,"i"),i.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return zz(e,n,4).replace(hs,"");case 31:return qz(e);case 64:return sC(e);case 65:return Hz(e);case 71:return lhe(e);case 80:return ET(e,n,!i.raw).replace(hs,"");case 81:return nhe(e,n).replace(hs,"");case 4108:return ohe(e);case 4126:case 4127:return n==4127?ahe(e):ihe(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function RD(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0,o=0,l=-1,c={};for(s=0;s!=a;++s){var u=e.read_shift(4),f=e.read_shift(4);i[s]=[u,f+r]}i.sort(function(b,w){return b[1]-w[1]});var h={};for(s=0;s!=a;++s){if(e.l!==i[s][1]){var p=!0;if(s>0&&t)switch(t[i[s-1][0]].t){case 2:e.l+2===i[s][1]&&(e.l+=2,p=!1);break;case 80:e.l<=i[s][1]&&(e.l=i[s][1],p=!1);break;case 4108:e.l<=i[s][1]&&(e.l=i[s][1],p=!1);break}if((!t||s==0)&&e.l<=i[s][1]&&(p=!1,e.l=i[s][1]),p)throw new Error("Read Error: Expected address "+i[s][1]+" at "+e.l+" :"+s)}if(t){var g=t[i[s][0]];if(h[g.n]=bb(e,g.t,{raw:!0}),g.p==="version"&&(h[g.n]=String(h[g.n]>>16)+"."+("0000"+String(h[g.n]&65535)).slice(-4)),g.n=="CodePage")switch(h[g.n]){case 0:h[g.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:ul(o=h[g.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[g.n])}}else if(i[s][0]===1){if(o=h.CodePage=bb(e,iC),ul(o),l!==-1){var m=e.l;e.l=i[l][1],c=MD(e,o),e.l=m}}else if(i[s][0]===0){if(o===0){l=s,e.l=i[s+1][1];continue}c=MD(e,o)}else{var v=c[i[s][0]],y;switch(e[e.l]){case 65:e.l+=4,y=Hz(e);break;case 30:e.l+=4,y=ET(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,y=ET(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,y=e.read_shift(4,"i");break;case 19:e.l+=4,y=e.read_shift(4);break;case 5:e.l+=4,y=e.read_shift(8,"f");break;case 11:e.l+=4,y=pa(e,4);break;case 64:e.l+=4,y=ni(sC(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[v]=y}}return e.l=r+n,h}function FD(e,t,r){var n=e.content;if(!n)return{};pi(n,0);var a,i,s,o,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var c=n.read_shift(4),u=n.read_shift(16);if(u!==Zr.utils.consts.HEADER_CLSID&&u!==r)throw new Error("Bad PropertySet CLSID "+u);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=n.read_shift(16),o=n.read_shift(4),a===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);a===2&&(s=n.read_shift(16),l=n.read_shift(4));var f=RD(n,t),h={SystemIdentifier:c};for(var p in f)h[p]=f[p];if(h.FMTID=i,a===1)return h;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);var g;try{g=RD(n,null)}catch{}for(p in g)h[p]=g[p];return h.FMTID=[i,s],h}function Fu(e,t){return e.read_shift(t),null}function che(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function pa(e,t){return e.read_shift(t)===1}function ka(e){return e.read_shift(2,"u")}function Gz(e,t){return che(e,t,ka)}function uhe(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function Z1(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var s=n?e.read_shift(n,a):"";return s}function fhe(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,i=1+(r&1),s=0,o,l={};a&&(s=e.read_shift(2)),n&&(o=e.read_shift(4));var c=i==2?"dbcs-cont":"sbcs-cont",u=t===0?"":e.read_shift(t,c);return a&&(e.l+=4*s),n&&(e.l+=o),l.t=u,a||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function ah(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function ey(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):ah(e,n,r)}function wh(e,t,r){if(r.biff>5)return ey(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function dhe(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function hhe(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(hs,"");return n&&(e.l+=24),a}function phe(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=e.read_shift(i>>1,"utf16le").replace(hs,"");return r+s}function mhe(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return hhe(e);case"0303000000000000c000000000000046":return phe(e);default:throw new Error("Unsupported Moniker "+r)}}function gx(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(hs,""):"";return r}function ghe(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var i,s,o,l,c="",u,f;a&16&&(i=gx(e,r-e.l)),a&128&&(s=gx(e,r-e.l)),(a&257)===257&&(o=gx(e,r-e.l)),(a&257)===1&&(l=mhe(e,r-e.l)),a&8&&(c=gx(e,r-e.l)),a&32&&(u=e.read_shift(16)),a&64&&(f=sC(e)),e.l=r;var h=s||o||l||"";h&&c&&(h+="#"+c),h||(h="#"+c),a&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var p={Target:h};return u&&(p.guid=u),f&&(p.time=f),i&&(p.Tooltip=i),p}function Kz(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function Yz(e,t){var r=Kz(e);return r[3]=0,r}function ac(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function vhe(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function yhe(e,t,r){return t===0?"":wh(e,t,r)}function xhe(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),s=e.read_shift(n,"i");return[a,i,s]}function Xz(e){var t=e.read_shift(2),r=aC(e);return[t,r]}function bhe(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=Z1(e,t,r),i=e.read_shift(2);if(n-=e.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return e.l+=i,a}function b5(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function Qz(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var whe=Qz;function Jz(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function _he(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function She(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Ci(e){e.l+=2,e.l+=e.read_shift(2)}var Ahe={0:Ci,4:Ci,5:Ci,6:Ci,7:She,8:Ci,9:Ci,10:Ci,11:Ci,12:Ci,13:_he,14:Ci,15:Ci,16:Ci,17:Ci,18:Ci,19:Ci,20:Ci,21:Jz};function The(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(Ahe[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function vx(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function Ehe(e,t){return t===0||e.read_shift(2),1200}function Nhe(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=wh(e,0,r);return e.read_shift(t+n-e.l),a}function khe(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function Che(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var s=Z1(e,0,r);return s.length===0&&(s="Sheet1"),{pos:n,hs:a,dt:i,name:s}}function Phe(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0;s!=a&&e.l<r;++s)i.push(fhe(e));return i.Count=n,i.Unique=a,i}function Ohe(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function Ihe(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function jhe(e){var t=vhe(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function Dhe(e){return e.read_shift(2),e.read_shift(4)}function $D(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,a]}function Lhe(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:i,CurTab:s,FirstTab:o,Selected:l,TabRatio:c}}function Mhe(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function Rhe(){}function Fhe(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=Z1(e,0,r),n}function $he(e){var t=ac(e);return t.isst=e.read_shift(4),t}function Bhe(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=ac(e);r.biff==2&&e.l++;var i=ey(e,n-e.l,r);return a.val=i,a}function Uhe(e,t,r){var n=e.read_shift(2),a=wh(e,0,r);return[n,a]}var Vhe=wh;function BD(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,i=e.read_shift(a),s=e.read_shift(a),o=e.read_shift(2),l=e.read_shift(2);return e.l=n,{s:{r:i,c:o},e:{r:s,c:l}}}function zhe(e){var t=e.read_shift(2),r=e.read_shift(2),n=Xz(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function qhe(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(Xz(e));if(e.l!==r)throw new Error("MulRK read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:s,rkrec:i}}function Whe(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:s,ixfe:i}}function Hhe(e,t,r,n){var a={},i=e.read_shift(4),s=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(2);return a.patternType=zde[o>>26],n.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=s&15,a.dgRight=s>>4&15,a.dgTop=s>>8&15,a.dgBottom=s>>12&15,a.icvLeft=s>>16&127,a.icvRight=s>>23&127,a.grbitDiag=s>>30&3,a.icvTop=o&127,a.icvBottom=o>>7&127,a.icvDiag=o>>14&127,a.dgDiag=o>>21&15,a.icvFore=l&127,a.icvBack=l>>7&127,a.fsxButton=l>>14&1),a}function Ghe(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=Hhe(e,t,n.fStyle,r),n}function Khe(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function UD(e,t,r){var n=ac(e);(r.biff==2||t==9)&&++e.l;var a=uhe(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function Yhe(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=ac(e),a=Vi(e);return n.val=a,n}var VD=yhe;function Xhe(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var s=ah(e,i),o=[];n>e.l;)o.push(ey(e));return[i,a,s,o]}function zD(e,t,r){var n=e.read_shift(2),a,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=bhe(e,t-2,r)),i.body=a||e.read_shift(t-2),typeof a=="string"&&(i.Name=a),i}var Qhe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function qD(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(1),s=e.read_shift(1),o=e.read_shift(r&&r.biff==2?1:2),l=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),l=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var c=ah(e,s,r);a&32&&(c=Qhe[c.charCodeAt(0)]);var u=n-e.l;r&&r.biff==2&&--u;var f=n==e.l||o===0||!(u>0)?[]:Ige(e,u,r,o);return{chKey:i,Name:c,itab:l,rgce:f}}function Zz(e,t,r){if(r.biff<8)return Jhe(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(xhe(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function Jhe(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=Z1(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function Zhe(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),i=ah(e,n,r),s=ah(e,a,r);return[i,s]}function e0e(e,t,r){var n=Qz(e);e.l++;var a=e.read_shift(1);return t-=8,[jge(e,t,r),a,n]}function WD(e,t,r){var n=whe(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,Pge(e,t,r)]}function t0e(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function r0e(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=wh(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},o,s,i]}}function n0e(e,t,r){return r0e(e,t,r)}function a0e(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(b5(e));return r}function i0e(e,t,r){if(r&&r.biff<8)return o0e(e,t,r);var n=Jz(e),a=The(e,t-22,n[1]);return{cmo:n,ft:a}}var s0e={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function o0e(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var s=[];return s.push((s0e[n]||Yi)(e,t,r)),{cmo:[a,n,i],ft:s}}function l0e(e,t,r){var n=e.l,a="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:s=dhe(e,6,r);var o=e.read_shift(2);e.read_shift(2),ka(e,2);var l=e.read_shift(2);e.l+=l;for(var c=1;c<e.lens.length-1;++c){if(e.l-n!=e.lens[c])throw new Error("TxO: bad continue record");var u=e[e.l],f=ah(e,e.lens[c+1]-e.lens[c]-1);if(a+=f,a.length>=(u?o:2*o))break}if(a.length!==o&&a.length!==o*2)throw new Error("cchText: "+o+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function c0e(e,t){var r=b5(e);e.l+=16;var n=ghe(e,t-24);return[r,n]}function u0e(e,t){e.read_shift(2);var r=b5(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(hs,""),[r,n]}function f0e(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=DD[r]||r,r=e.read_shift(2),t[1]=DD[r]||r,t}function d0e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(Yz(e));return r}function h0e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(Yz(e));return r}function p0e(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function eq(e,t,r){if(!r.cellStyles)return Yi(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(2);n==2&&(e.l+=2);var c={s:a,e:i,w:s,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(c.level=l>>8&7),c}function m0e(e,t){var r={};return t<32||(e.l+=16,r.header=Vi(e),r.footer=Vi(e),e.l+=2),r}function g0e(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}var v0e=ac,y0e=Gz,x0e=ey;function b0e(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function w0e(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=ac(e);++e.l;var a=wh(e,t-7,r);return n.t="str",n.val=a,n}function _0e(e){var t=ac(e);++e.l;var r=Vi(e);return t.t="n",t.val=r,t}function S0e(e){var t=ac(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function A0e(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function T0e(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function E0e(e,t,r){var n=e.l+t,a=ac(e),i=e.read_shift(2),s=ah(e,i,r);return e.l=n,a.t="str",a.val=s,a}var N0e=[2,3,48,49,131,139,140,245],HD=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=Yk({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var c=[],u=Mf(1);switch(l.type){case"base64":u=ll(Zs(o));break;case"binary":u=ll(o);break;case"buffer":case"array":u=o;break}pi(u,0);var f=u.read_shift(1),h=!!(f&136),p=!1,g=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,h=!0;break;case 49:p=!0,h=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var m=0,v=521;f==2&&(m=u.read_shift(2)),u.l+=3,f!=2&&(m=u.read_shift(4)),m>1048576&&(m=1e6),f!=2&&(v=u.read_shift(2));var y=u.read_shift(2),b=l.codepage||1252;f!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(b=e[u[u.l]]),u.l+=1,u.l+=2),g&&(u.l+=36);for(var w=[],D={},P=Math.min(u.length,f==2?521:v-10-(p?264:0)),I=g?32:11;u.l<P&&u[u.l]!=13;)switch(D={},D.name=Yu.utils.decode(b,u.slice(u.l,u.l+I)).replace(/[\u0000\r\n].*$/g,""),u.l+=I,D.type=String.fromCharCode(u.read_shift(1)),f!=2&&!g&&(D.offset=u.read_shift(4)),D.len=u.read_shift(1),f==2&&(D.offset=u.read_shift(2)),D.dec=u.read_shift(1),D.name.length&&w.push(D),f!=2&&(u.l+=g?13:14),D.type){case"B":(!p||D.len!=8)&&l.WTF&&console.log("Skipping "+D.name+":"+D.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+D.name+":"+D.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+D.type)}if(u[u.l]!==13&&(u.l=v-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=v;var T=0,_=0;for(c[0]=[],_=0;_!=w.length;++_)c[0][_]=w[_].name;for(;m-- >0;){if(u[u.l]===42){u.l+=y;continue}for(++u.l,c[++T]=[],_=0,_=0;_!=w.length;++_){var S=u.slice(u.l,u.l+w[_].len);u.l+=w[_].len,pi(S,0);var j=Yu.utils.decode(b,S);switch(w[_].type){case"C":j.trim().length&&(c[T][_]=j.replace(/\s+$/,""));break;case"D":j.length===8?c[T][_]=new Date(+j.slice(0,4),+j.slice(4,6)-1,+j.slice(6,8)):c[T][_]=j;break;case"F":c[T][_]=parseFloat(j.trim());break;case"+":case"I":c[T][_]=g?S.read_shift(-4,"i")^2147483648:S.read_shift(4,"i");break;case"L":switch(j.trim().toUpperCase()){case"Y":case"T":c[T][_]=!0;break;case"N":case"F":c[T][_]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+j+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));c[T][_]="##MEMO##"+(g?parseInt(j.trim(),10):S.read_shift(4));break;case"N":j=j.replace(/\u0000/g,"").trim(),j&&j!="."&&(c[T][_]=+j||0);break;case"@":c[T][_]=new Date(S.read_shift(-8,"f")-621356832e5);break;case"T":c[T][_]=new Date((S.read_shift(4)-2440588)*864e5+S.read_shift(4));break;case"Y":c[T][_]=S.read_shift(4,"i")/1e4+S.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[T][_]=-S.read_shift(-8,"f");break;case"B":if(p&&w[_].len==8){c[T][_]=S.read_shift(8,"f");break}case"G":case"P":S.l+=w[_].len;break;case"0":if(w[_].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+w[_].type)}}}if(f!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=w,c}function n(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=tm(r(o,c),c);return u["!cols"]=c.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete c.DBF,u}function a(o,l){try{return Hf(n(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,l){var c=l||{};if(+c.codepage>=0&&ul(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=ST(),f=jT(o,{header:1,raw:!0,cellDates:!0}),h=f[0],p=f.slice(1),g=o["!cols"]||[],m=0,v=0,y=0,b=1;for(m=0;m<h.length;++m){if(((g[m]||{}).DBF||{}).name){h[m]=g[m].DBF.name,++y;continue}if(h[m]!=null){if(++y,typeof h[m]=="number"&&(h[m]=h[m].toString(10)),typeof h[m]!="string")throw new Error("DBF Invalid column name "+h[m]+" |"+typeof h[m]+"|");if(h.indexOf(h[m])!==m){for(v=0;v<1024;++v)if(h.indexOf(h[m]+"_"+v)==-1){h[m]+="_"+v;break}}}}var w=fa(o["!ref"]),D=[],P=[],I=[];for(m=0;m<=w.e.c-w.s.c;++m){var T="",_="",S=0,j=[];for(v=0;v<p.length;++v)p[v][m]!=null&&j.push(p[v][m]);if(j.length==0||h[m]==null){D[m]="?";continue}for(v=0;v<j.length;++v){switch(typeof j[v]){case"number":_="B";break;case"string":_="C";break;case"boolean":_="L";break;case"object":_=j[v]instanceof Date?"D":"C";break;default:_="C"}S=Math.max(S,String(j[v]).length),T=T&&T!=_?"C":_}S>250&&(S=250),_=((g[m]||{}).DBF||{}).type,_=="C"&&g[m].DBF.len>S&&(S=g[m].DBF.len),T=="B"&&_=="N"&&(T="N",I[m]=g[m].DBF.dec,S=g[m].DBF.len),P[m]=T=="C"||_=="N"?S:i[T]||0,b+=P[m],D[m]=T}var E=u.next(32);for(E.write_shift(4,318902576),E.write_shift(4,p.length),E.write_shift(2,296+32*y),E.write_shift(2,b),m=0;m<4;++m)E.write_shift(4,0);for(E.write_shift(4,0|(+t[ZV]||3)<<8),m=0,v=0;m<h.length;++m)if(h[m]!=null){var N=u.next(32),O=(h[m].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);N.write_shift(1,O,"sbcs"),N.write_shift(1,D[m]=="?"?"C":D[m],"sbcs"),N.write_shift(4,v),N.write_shift(1,P[m]||i[D[m]]||0),N.write_shift(1,I[m]||0),N.write_shift(1,2),N.write_shift(4,0),N.write_shift(1,0),N.write_shift(4,0),N.write_shift(4,0),v+=P[m]||i[D[m]]||0}var U=u.next(264);for(U.write_shift(4,13),m=0;m<65;++m)U.write_shift(4,0);for(m=0;m<p.length;++m){var Y=u.next(b);for(Y.write_shift(1,0),v=0;v<h.length;++v)if(h[v]!=null)switch(D[v]){case"L":Y.write_shift(1,p[m][v]==null?63:p[m][v]?84:70);break;case"B":Y.write_shift(8,p[m][v]||0,"f");break;case"N":var K="0";for(typeof p[m][v]=="number"&&(K=p[m][v].toFixed(I[v]||0)),y=0;y<P[v]-K.length;++y)Y.write_shift(1,32);Y.write_shift(1,K,"sbcs");break;case"D":p[m][v]?(Y.write_shift(4,("0000"+p[m][v].getFullYear()).slice(-4),"sbcs"),Y.write_shift(2,("00"+(p[m][v].getMonth()+1)).slice(-2),"sbcs"),Y.write_shift(2,("00"+p[m][v].getDate()).slice(-2),"sbcs")):Y.write_shift(8,"00000000","sbcs");break;case"C":var J=String(p[m][v]!=null?p[m][v]:"").slice(0,P[v]);for(Y.write_shift(1,J,"sbcs"),y=0;y<P[v]-J.length;++y)Y.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:a,to_sheet:n,from_sheet:s}}(),k0e=function(){var e={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+ec(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,p){var g=e[p];return typeof g=="number"?lD(g):g},n=function(h,p,g){var m=p.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return m==59?h:lD(m)};e["|"]=254;function a(h,p){switch(p.type){case"base64":return i(Zs(h),p);case"binary":return i(h,p);case"buffer":return i(Yr&&Buffer.isBuffer(h)?h.toString("binary"):vh(h),p);case"array":return i(nh(h),p)}throw new Error("Unrecognized type "+p.type)}function i(h,p){var g=h.split(/[\n\r]+/),m=-1,v=-1,y=0,b=0,w=[],D=[],P=null,I={},T=[],_=[],S=[],j=0,E;for(+p.codepage>=0&&ul(+p.codepage);y!==g.length;++y){j=0;var N=g[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),O=N.replace(/;;/g,"\0").split(";").map(function(G){return G.replace(/\u0000/g,";")}),U=O[0],Y;if(N.length>0)switch(U){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":O[1].charAt(0)=="P"&&D.push(N.slice(3).replace(/;;/g,";"));break;case"C":var K=!1,J=!1,z=!1,V=!1,ee=-1,Z=-1;for(b=1;b<O.length;++b)switch(O[b].charAt(0)){case"A":break;case"X":v=parseInt(O[b].slice(1))-1,J=!0;break;case"Y":for(m=parseInt(O[b].slice(1))-1,J||(v=0),E=w.length;E<=m;++E)w[E]=[];break;case"K":Y=O[b].slice(1),Y.charAt(0)==='"'?Y=Y.slice(1,Y.length-1):Y==="TRUE"?Y=!0:Y==="FALSE"?Y=!1:isNaN(gl(Y))?isNaN(hp(Y).getDate())||(Y=ni(Y)):(Y=gl(Y),P!==null&&Zp(P)&&(Y=x5(Y))),K=!0;break;case"E":V=!0;var k=F0(O[b].slice(1),{r:m,c:v});w[m][v]=[w[m][v],k];break;case"S":z=!0,w[m][v]=[w[m][v],"S5S"];break;case"G":break;case"R":ee=parseInt(O[b].slice(1))-1;break;case"C":Z=parseInt(O[b].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+N)}if(K&&(w[m][v]&&w[m][v].length==2?w[m][v][0]=Y:w[m][v]=Y,P=null),z){if(V)throw new Error("SYLK shared formula cannot have own formula");var R=ee>-1&&w[ee][Z];if(!R||!R[1])throw new Error("SYLK shared formula cannot find base");w[m][v][1]=uq(R[1],{r:m-ee,c:v-Z})}break;case"F":var q=0;for(b=1;b<O.length;++b)switch(O[b].charAt(0)){case"X":v=parseInt(O[b].slice(1))-1,++q;break;case"Y":for(m=parseInt(O[b].slice(1))-1,E=w.length;E<=m;++E)w[E]=[];break;case"M":j=parseInt(O[b].slice(1))/20;break;case"F":break;case"G":break;case"P":P=D[parseInt(O[b].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(S=O[b].slice(1).split(" "),E=parseInt(S[0],10);E<=parseInt(S[1],10);++E)j=parseInt(S[2],10),_[E-1]=j===0?{hidden:!0}:{wch:j},pp(_[E-1]);break;case"C":v=parseInt(O[b].slice(1))-1,_[v]||(_[v]={});break;case"R":m=parseInt(O[b].slice(1))-1,T[m]||(T[m]={}),j>0?(T[m].hpt=j,T[m].hpx=Hv(j)):j===0&&(T[m].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+N)}q<1&&(P=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+N)}}return T.length>0&&(I["!rows"]=T),_.length>0&&(I["!cols"]=_),p&&p.sheetRows&&(w=w.slice(0,p.sheetRows)),[w,I]}function s(h,p){var g=a(h,p),m=g[0],v=g[1],y=tm(m,p);return ec(v).forEach(function(b){y[b]=v[b]}),y}function o(h,p){return Hf(s(h,p),p)}function l(h,p,g,m){var v="C;Y"+(g+1)+";X"+(m+1)+";K";switch(h.t){case"n":v+=h.v||0,h.f&&!h.F&&(v+=";E"+pme(h.f,{r:g,c:m}));break;case"b":v+=h.v?"TRUE":"FALSE";break;case"e":v+=h.w||h.v;break;case"d":v+='"'+(h.w||h.v)+'"';break;case"s":v+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function c(h,p){p.forEach(function(g,m){var v="F;W"+(m+1)+" "+(m+1)+" ";g.hidden?v+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=_b(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=Sb(g.wpx)),typeof g.wch=="number"&&(v+=Math.round(g.wch))),v.charAt(v.length-1)!=" "&&h.push(v)})}function u(h,p){p.forEach(function(g,m){var v="F;";g.hidden?v+="M0;":g.hpt?v+="M"+20*g.hpt+";":g.hpx&&(v+="M"+20*oq(g.hpx)+";"),v.length>2&&h.push(v+"R"+(m+1))})}function f(h,p){var g=["ID;PWXL;N;E"],m=[],v=fa(h["!ref"]),y,b=Array.isArray(h),w=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),h["!cols"]&&c(g,h["!cols"]),h["!rows"]&&u(g,h["!rows"]),g.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var D=v.s.r;D<=v.e.r;++D)for(var P=v.s.c;P<=v.e.c;++P){var I=Ir({r:D,c:P});y=b?(h[D]||[])[P]:h[I],!(!y||y.v==null&&(!y.f||y.F))&&m.push(l(y,h,D,P))}return g.join(w)+w+m.join(w)+w+"E"+w}return{to_workbook:o,to_sheet:s,from_sheet:f}}(),C0e=function(){function e(i,s){switch(s.type){case"base64":return t(Zs(i),s);case"binary":return t(i,s);case"buffer":return t(Yr&&Buffer.isBuffer(i)?i.toString("binary"):vh(i),s);case"array":return t(nh(i),s)}throw new Error("Unrecognized type "+s.type)}function t(i,s){for(var o=i.split(`
`),l=-1,c=-1,u=0,f=[];u!==o.length;++u){if(o[u].trim()==="BOT"){f[++l]=[],c=0;continue}if(!(l<0)){var h=o[u].trim().split(","),p=h[0],g=h[1];++u;for(var m=o[u]||"";(m.match(/["]/g)||[]).length&1&&u<o.length-1;)m+=`
`+o[++u];switch(m=m.trim(),+p){case-1:if(m==="BOT"){f[++l]=[],c=0;continue}else if(m!=="EOD")throw new Error("Unrecognized DIF special command "+m);break;case 0:m==="TRUE"?f[l][c]=!0:m==="FALSE"?f[l][c]=!1:isNaN(gl(g))?isNaN(hp(g).getDate())?f[l][c]=g:f[l][c]=ni(g):f[l][c]=gl(g),++c;break;case 1:m=m.slice(1,m.length-1),m=m.replace(/""/g,'"'),m&&m.match(/^=".*"$/)&&(m=m.slice(2,-1)),f[l][c++]=m!==""?m:null;break}if(m==="EOD")break}}return s&&s.sheetRows&&(f=f.slice(0,s.sheetRows)),f}function r(i,s){return tm(e(i,s),s)}function n(i,s){return Hf(r(i,s),s)}var a=function(){var i=function(l,c,u,f,h){l.push(c),l.push(u+","+f),l.push('"'+h.replace(/"/g,'""')+'"')},s=function(l,c,u,f){l.push(c+","+u),l.push(c==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var c=[],u=fa(l["!ref"]),f,h=Array.isArray(l);i(c,"TABLE",0,1,"sheetjs"),i(c,"VECTORS",0,u.e.r-u.s.r+1,""),i(c,"TUPLES",0,u.e.c-u.s.c+1,""),i(c,"DATA",0,0,"");for(var p=u.s.r;p<=u.e.r;++p){s(c,-1,0,"BOT");for(var g=u.s.c;g<=u.e.c;++g){var m=Ir({r:p,c:g});if(f=h?(l[p]||[])[g]:l[m],!f){s(c,1,0,"");continue}switch(f.t){case"n":var v=f.w;!v&&f.v!=null&&(v=f.v),v==null?f.f&&!f.F?s(c,1,0,"="+f.f):s(c,1,0,""):s(c,0,v,"V");break;case"b":s(c,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":s(c,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=jo(f.z||Lr[14],ps(ni(f.v)))),s(c,0,f.w,"V");break;default:s(c,1,0,"")}}}s(c,-1,0,"EOD");var y=`\r
`,b=c.join(y);return b}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),P0e=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var p=f.split(`
`),g=-1,m=-1,v=0,y=[];v!==p.length;++v){var b=p[v].trim().split(":");if(b[0]==="cell"){var w=cs(b[1]);if(y.length<=w.r)for(g=y.length;g<=w.r;++g)y[g]||(y[g]=[]);switch(g=w.r,m=w.c,b[2]){case"t":y[g][m]=e(b[3]);break;case"v":y[g][m]=+b[3];break;case"vtf":var D=b[b.length-1];case"vtc":switch(b[3]){case"nl":y[g][m]=!!+b[4];break;default:y[g][m]=+b[4];break}b[2]=="vtf"&&(y[g][m]=[y[g][m],D])}}}return h&&h.sheetRows&&(y=y.slice(0,h.sheetRows)),y}function n(f,h){return tm(r(f,h),h)}function a(f,h){return Hf(n(f,h),h)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(f){if(!f||!f["!ref"])return"";for(var h=[],p=[],g,m="",v=em(f["!ref"]),y=Array.isArray(f),b=v.s.r;b<=v.e.r;++b)for(var w=v.s.c;w<=v.e.c;++w)if(m=Ir({r:b,c:w}),g=y?(f[b]||[])[w]:f[m],!(!g||g.v==null||g.t==="z")){switch(p=["cell",m,"t"],g.t){case"s":case"str":p.push(t(g.v));break;case"n":g.f?(p[2]="vtf",p[3]="n",p[4]=g.v,p[5]=t(g.f)):(p[2]="v",p[3]=g.v);break;case"b":p[2]="vt"+(g.f?"f":"c"),p[3]="nl",p[4]=g.v?"1":"0",p[5]=t(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var D=ps(ni(g.v));p[2]="vtc",p[3]="nd",p[4]=""+D,p[5]=g.w||jo(g.z||Lr[14],D);break;case"e":continue}h.push(p.join(":"))}return h.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function u(f){return[i,s,o,s,c(f),l].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:u}}(),qv=function(){function e(u,f,h,p,g){g.raw?f[h][p]=u:u===""||(u==="TRUE"?f[h][p]=!0:u==="FALSE"?f[h][p]=!1:isNaN(gl(u))?isNaN(hp(u).getDate())?f[h][p]=u:f[h][p]=ni(u):f[h][p]=gl(u))}function t(u,f){var h=f||{},p=[];if(!u||u.length===0)return p;for(var g=u.split(/[\r\n]/),m=g.length-1;m>=0&&g[m].length===0;)--m;for(var v=10,y=0,b=0;b<=m;++b)y=g[b].indexOf(" "),y==-1?y=g[b].length:y++,v=Math.max(v,y);for(b=0;b<=m;++b){p[b]=[];var w=0;for(e(g[b].slice(0,v).trim(),p,b,w,h),w=1;w<=(g[b].length-v)/10+1;++w)e(g[b].slice(v+(w-1)*10,v+w*10).trim(),p,b,w,h)}return h.sheetRows&&(p=p.slice(0,h.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(u){for(var f={},h=!1,p=0,g=0;p<u.length;++p)(g=u.charCodeAt(p))==34?h=!h:!h&&g in r&&(f[g]=(f[g]||0)+1);g=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&g.push([f[p],p]);if(!g.length){f=n;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&g.push([f[p],p])}return g.sort(function(m,v){return m[0]-v[0]||n[m[1]]-n[v[1]]}),r[g.pop()[1]]||44}function i(u,f){var h=f||{},p="",g=h.dense?[]:{},m={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(p=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(p=u.charAt(4),u=u.slice(6)):p=a(u.slice(0,1024)):h&&h.FS?p=h.FS:p=a(u.slice(0,1024));var v=0,y=0,b=0,w=0,D=0,P=p.charCodeAt(0),I=!1,T=0,_=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var S=h.dateNF!=null?Ufe(h.dateNF):null;function j(){var E=u.slice(w,D),N={};if(E.charAt(0)=='"'&&E.charAt(E.length-1)=='"'&&(E=E.slice(1,-1).replace(/""/g,'"')),E.length===0)N.t="z";else if(h.raw)N.t="s",N.v=E;else if(E.trim().length===0)N.t="s",N.v=E;else if(E.charCodeAt(0)==61)E.charCodeAt(1)==34&&E.charCodeAt(E.length-1)==34?(N.t="s",N.v=E.slice(2,-1).replace(/""/g,'"')):gme(E)?(N.t="n",N.f=E.slice(1)):(N.t="s",N.v=E);else if(E=="TRUE")N.t="b",N.v=!0;else if(E=="FALSE")N.t="b",N.v=!1;else if(!isNaN(b=gl(E)))N.t="n",h.cellText!==!1&&(N.w=E),N.v=b;else if(!isNaN(hp(E).getDate())||S&&E.match(S)){N.z=h.dateNF||Lr[14];var O=0;S&&E.match(S)&&(E=Vfe(E,h.dateNF,E.match(S)||[]),O=1),h.cellDates?(N.t="d",N.v=ni(E,O)):(N.t="n",N.v=ps(ni(E,O))),h.cellText!==!1&&(N.w=jo(N.z,N.v instanceof Date?ps(N.v):N.v)),h.cellNF||delete N.z}else N.t="s",N.v=E;if(N.t=="z"||(h.dense?(g[v]||(g[v]=[]),g[v][y]=N):g[Ir({c:y,r:v})]=N),w=D+1,_=u.charCodeAt(w),m.e.c<y&&(m.e.c=y),m.e.r<v&&(m.e.r=v),T==P)++y;else if(y=0,++v,h.sheetRows&&h.sheetRows<=v)return!0}e:for(;D<u.length;++D)switch(T=u.charCodeAt(D)){case 34:_===34&&(I=!I);break;case P:case 10:case 13:if(!I&&j())break e;break}return D-w>0&&j(),g["!ref"]=tn(m),g}function s(u,f){return!(f&&f.PRN)||f.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?i(u,f):tm(t(u,f),f)}function o(u,f){var h="",p=f.type=="string"?[0,0,0,0]:pC(u,f);switch(f.type){case"base64":h=Zs(u);break;case"binary":h=u;break;case"buffer":f.codepage==65001?h=u.toString("utf8"):f.codepage&&typeof Yu<"u"?h=Yu.utils.decode(f.codepage,u):h=Yr&&Buffer.isBuffer(u)?u.toString("binary"):vh(u);break;case"array":h=nh(u);break;case"string":h=u;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?h=$n(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=$n(h):f.type=="binary"&&typeof Yu<"u"&&f.codepage&&(h=Yu.utils.decode(f.codepage,Yu.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?P0e.to_sheet(f.type=="string"?h:$n(h),f):s(h,f)}function l(u,f){return Hf(o(u,f),f)}function c(u){for(var f=[],h=fa(u["!ref"]),p,g=Array.isArray(u),m=h.s.r;m<=h.e.r;++m){for(var v=[],y=h.s.c;y<=h.e.c;++y){var b=Ir({r:m,c:y});if(p=g?(u[m]||[])[y]:u[b],!p||p.v==null){v.push("          ");continue}for(var w=(p.w||(Qc(p),p.w)||"").slice(0,10);w.length<10;)w+=" ";v.push(w+(y===0?" ":""))}f.push(v.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}}();function O0e(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=k0e.to_workbook(e,r);return r.WTF=n,a}catch(i){if(r.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return qv.to_workbook(e,t)}}var Vg=function(){function e(k,R,q){if(k){pi(k,k.l||0);for(var G=q.Enum||ee;k.l<k.length;){var Q=k.read_shift(2),ie=G[Q]||G[65535],ue=k.read_shift(2),ne=k.l+ue,pe=ie.f&&ie.f(k,ue,q);if(k.l=ne,R(pe,ie,Q))return}}}function t(k,R){switch(R.type){case"base64":return r(ll(Zs(k)),R);case"binary":return r(ll(k),R);case"buffer":case"array":return r(k,R)}throw"Unsupported type "+R.type}function r(k,R){if(!k)return k;var q=R||{},G=q.dense?[]:{},Q="Sheet1",ie="",ue=0,ne={},pe=[],ye=[],W={s:{r:0,c:0},e:{r:0,c:0}},Pe=q.sheetRows||0;if(k[2]==0&&(k[3]==8||k[3]==9)&&k.length>=16&&k[14]==5&&k[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(k[2]==2)q.Enum=ee,e(k,function(ve,De,Te){switch(Te){case 0:q.vers=ve,ve>=4096&&(q.qpro=!0);break;case 6:W=ve;break;case 204:ve&&(ie=ve);break;case 222:ie=ve;break;case 15:case 51:q.qpro||(ve[1].v=ve[1].v.slice(1));case 13:case 14:case 16:Te==14&&(ve[2]&112)==112&&(ve[2]&15)>1&&(ve[2]&15)<15&&(ve[1].z=q.dateNF||Lr[14],q.cellDates&&(ve[1].t="d",ve[1].v=x5(ve[1].v))),q.qpro&&ve[3]>ue&&(G["!ref"]=tn(W),ne[Q]=G,pe.push(Q),G=q.dense?[]:{},W={s:{r:0,c:0},e:{r:0,c:0}},ue=ve[3],Q=ie||"Sheet"+(ue+1),ie="");var Re=q.dense?(G[ve[0].r]||[])[ve[0].c]:G[Ir(ve[0])];if(Re){Re.t=ve[1].t,Re.v=ve[1].v,ve[1].z!=null&&(Re.z=ve[1].z),ve[1].f!=null&&(Re.f=ve[1].f);break}q.dense?(G[ve[0].r]||(G[ve[0].r]=[]),G[ve[0].r][ve[0].c]=ve[1]):G[Ir(ve[0])]=ve[1];break}},q);else if(k[2]==26||k[2]==14)q.Enum=Z,k[2]==14&&(q.qpro=!0,k.l=0),e(k,function(ve,De,Te){switch(Te){case 204:Q=ve;break;case 22:ve[1].v=ve[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ve[3]>ue&&(G["!ref"]=tn(W),ne[Q]=G,pe.push(Q),G=q.dense?[]:{},W={s:{r:0,c:0},e:{r:0,c:0}},ue=ve[3],Q="Sheet"+(ue+1)),Pe>0&&ve[0].r>=Pe)break;q.dense?(G[ve[0].r]||(G[ve[0].r]=[]),G[ve[0].r][ve[0].c]=ve[1]):G[Ir(ve[0])]=ve[1],W.e.c<ve[0].c&&(W.e.c=ve[0].c),W.e.r<ve[0].r&&(W.e.r=ve[0].r);break;case 27:ve[14e3]&&(ye[ve[14e3][0]]=ve[14e3][1]);break;case 1537:ye[ve[0]]=ve[1],ve[0]==ue&&(Q=ve[1]);break}},q);else throw new Error("Unrecognized LOTUS BOF "+k[2]);if(G["!ref"]=tn(W),ne[ie||Q]=G,pe.push(ie||Q),!ye.length)return{SheetNames:pe,Sheets:ne};for(var Ce={},Ee=[],oe=0;oe<ye.length;++oe)ne[pe[oe]]?(Ee.push(ye[oe]||pe[oe]),Ce[ye[oe]]=ne[ye[oe]]||ne[pe[oe]]):(Ee.push(ye[oe]),Ce[ye[oe]]={"!ref":"A1"});return{SheetNames:Ee,Sheets:Ce}}function n(k,R){var q=R||{};if(+q.codepage>=0&&ul(+q.codepage),q.type=="string")throw new Error("Cannot write WK1 to JS string");var G=ST(),Q=fa(k["!ref"]),ie=Array.isArray(k),ue=[];Xo(G,0,i(1030)),Xo(G,6,l(Q));for(var ne=Math.min(Q.e.r,8191),pe=Q.s.r;pe<=ne;++pe)for(var ye=wi(pe),W=Q.s.c;W<=Q.e.c;++W){pe===Q.s.r&&(ue[W]=Ba(W));var Pe=ue[W]+ye,Ce=ie?(k[pe]||[])[W]:k[Pe];if(!(!Ce||Ce.t=="z"))if(Ce.t=="n")(Ce.v|0)==Ce.v&&Ce.v>=-32768&&Ce.v<=32767?Xo(G,13,p(pe,W,Ce.v)):Xo(G,14,m(pe,W,Ce.v));else{var Ee=Qc(Ce);Xo(G,15,f(pe,W,Ee.slice(0,239)))}}return Xo(G,1),G.end()}function a(k,R){var q=R||{};if(+q.codepage>=0&&ul(+q.codepage),q.type=="string")throw new Error("Cannot write WK3 to JS string");var G=ST();Xo(G,0,s(k));for(var Q=0,ie=0;Q<k.SheetNames.length;++Q)(k.Sheets[k.SheetNames[Q]]||{})["!ref"]&&Xo(G,27,V(k.SheetNames[Q],ie++));var ue=0;for(Q=0;Q<k.SheetNames.length;++Q){var ne=k.Sheets[k.SheetNames[Q]];if(!(!ne||!ne["!ref"])){for(var pe=fa(ne["!ref"]),ye=Array.isArray(ne),W=[],Pe=Math.min(pe.e.r,8191),Ce=pe.s.r;Ce<=Pe;++Ce)for(var Ee=wi(Ce),oe=pe.s.c;oe<=pe.e.c;++oe){Ce===pe.s.r&&(W[oe]=Ba(oe));var ve=W[oe]+Ee,De=ye?(ne[Ce]||[])[oe]:ne[ve];if(!(!De||De.t=="z"))if(De.t=="n")Xo(G,23,j(Ce,oe,ue,De.v));else{var Te=Qc(De);Xo(G,22,T(Ce,oe,ue,Te.slice(0,239)))}}++ue}}return Xo(G,1),G.end()}function i(k){var R=Ra(2);return R.write_shift(2,k),R}function s(k){var R=Ra(26);R.write_shift(2,4096),R.write_shift(2,4),R.write_shift(4,0);for(var q=0,G=0,Q=0,ie=0;ie<k.SheetNames.length;++ie){var ue=k.SheetNames[ie],ne=k.Sheets[ue];if(!(!ne||!ne["!ref"])){++Q;var pe=em(ne["!ref"]);q<pe.e.r&&(q=pe.e.r),G<pe.e.c&&(G=pe.e.c)}}return q>8191&&(q=8191),R.write_shift(2,q),R.write_shift(1,Q),R.write_shift(1,G),R.write_shift(2,0),R.write_shift(2,0),R.write_shift(1,1),R.write_shift(1,2),R.write_shift(4,0),R.write_shift(4,0),R}function o(k,R,q){var G={s:{c:0,r:0},e:{c:0,r:0}};return R==8&&q.qpro?(G.s.c=k.read_shift(1),k.l++,G.s.r=k.read_shift(2),G.e.c=k.read_shift(1),k.l++,G.e.r=k.read_shift(2),G):(G.s.c=k.read_shift(2),G.s.r=k.read_shift(2),R==12&&q.qpro&&(k.l+=2),G.e.c=k.read_shift(2),G.e.r=k.read_shift(2),R==12&&q.qpro&&(k.l+=2),G.s.c==65535&&(G.s.c=G.e.c=G.s.r=G.e.r=0),G)}function l(k){var R=Ra(8);return R.write_shift(2,k.s.c),R.write_shift(2,k.s.r),R.write_shift(2,k.e.c),R.write_shift(2,k.e.r),R}function c(k,R,q){var G=[{c:0,r:0},{t:"n",v:0},0,0];return q.qpro&&q.vers!=20768?(G[0].c=k.read_shift(1),G[3]=k.read_shift(1),G[0].r=k.read_shift(2),k.l+=2):(G[2]=k.read_shift(1),G[0].c=k.read_shift(2),G[0].r=k.read_shift(2)),G}function u(k,R,q){var G=k.l+R,Q=c(k,R,q);if(Q[1].t="s",q.vers==20768){k.l++;var ie=k.read_shift(1);return Q[1].v=k.read_shift(ie,"utf8"),Q}return q.qpro&&k.l++,Q[1].v=k.read_shift(G-k.l,"cstr"),Q}function f(k,R,q){var G=Ra(7+q.length);G.write_shift(1,255),G.write_shift(2,R),G.write_shift(2,k),G.write_shift(1,39);for(var Q=0;Q<G.length;++Q){var ie=q.charCodeAt(Q);G.write_shift(1,ie>=128?95:ie)}return G.write_shift(1,0),G}function h(k,R,q){var G=c(k,R,q);return G[1].v=k.read_shift(2,"i"),G}function p(k,R,q){var G=Ra(7);return G.write_shift(1,255),G.write_shift(2,R),G.write_shift(2,k),G.write_shift(2,q,"i"),G}function g(k,R,q){var G=c(k,R,q);return G[1].v=k.read_shift(8,"f"),G}function m(k,R,q){var G=Ra(13);return G.write_shift(1,255),G.write_shift(2,R),G.write_shift(2,k),G.write_shift(8,q,"f"),G}function v(k,R,q){var G=k.l+R,Q=c(k,R,q);if(Q[1].v=k.read_shift(8,"f"),q.qpro)k.l=G;else{var ie=k.read_shift(2);D(k.slice(k.l,k.l+ie),Q),k.l+=ie}return Q}function y(k,R,q){var G=R&32768;return R&=-32769,R=(G?k:0)+(R>=8192?R-16384:R),(G?"":"$")+(q?Ba(R):wi(R))}var b={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function D(k,R){pi(k,0);for(var q=[],G=0,Q="",ie="",ue="",ne="";k.l<k.length;){var pe=k[k.l++];switch(pe){case 0:q.push(k.read_shift(8,"f"));break;case 1:ie=y(R[0].c,k.read_shift(2),!0),Q=y(R[0].r,k.read_shift(2),!1),q.push(ie+Q);break;case 2:{var ye=y(R[0].c,k.read_shift(2),!0),W=y(R[0].r,k.read_shift(2),!1);ie=y(R[0].c,k.read_shift(2),!0),Q=y(R[0].r,k.read_shift(2),!1),q.push(ye+W+":"+ie+Q)}break;case 3:if(k.l<k.length){console.error("WK1 premature formula end");return}break;case 4:q.push("("+q.pop()+")");break;case 5:q.push(k.read_shift(2));break;case 6:{for(var Pe="";pe=k[k.l++];)Pe+=String.fromCharCode(pe);q.push('"'+Pe.replace(/"/g,'""')+'"')}break;case 8:q.push("-"+q.pop());break;case 23:q.push("+"+q.pop());break;case 22:q.push("NOT("+q.pop()+")");break;case 20:case 21:ne=q.pop(),ue=q.pop(),q.push(["AND","OR"][pe-20]+"("+ue+","+ne+")");break;default:if(pe<32&&w[pe])ne=q.pop(),ue=q.pop(),q.push(ue+w[pe]+ne);else if(b[pe]){if(G=b[pe][1],G==69&&(G=k[k.l++]),G>q.length){console.error("WK1 bad formula parse 0x"+pe.toString(16)+":|"+q.join("|")+"|");return}var Ce=q.slice(-G);q.length-=G,q.push(b[pe][0]+"("+Ce.join(",")+")")}else return pe<=7?console.error("WK1 invalid opcode "+pe.toString(16)):pe<=24?console.error("WK1 unsupported op "+pe.toString(16)):pe<=30?console.error("WK1 invalid opcode "+pe.toString(16)):pe<=115?console.error("WK1 unsupported function opcode "+pe.toString(16)):console.error("WK1 unrecognized opcode "+pe.toString(16))}}q.length==1?R[1].f=""+q[0]:console.error("WK1 bad formula parse |"+q.join("|")+"|")}function P(k){var R=[{c:0,r:0},{t:"n",v:0},0];return R[0].r=k.read_shift(2),R[3]=k[k.l++],R[0].c=k[k.l++],R}function I(k,R){var q=P(k);return q[1].t="s",q[1].v=k.read_shift(R-4,"cstr"),q}function T(k,R,q,G){var Q=Ra(6+G.length);Q.write_shift(2,k),Q.write_shift(1,q),Q.write_shift(1,R),Q.write_shift(1,39);for(var ie=0;ie<G.length;++ie){var ue=G.charCodeAt(ie);Q.write_shift(1,ue>=128?95:ue)}return Q.write_shift(1,0),Q}function _(k,R){var q=P(k);q[1].v=k.read_shift(2);var G=q[1].v>>1;if(q[1].v&1)switch(G&7){case 0:G=(G>>3)*5e3;break;case 1:G=(G>>3)*500;break;case 2:G=(G>>3)/20;break;case 3:G=(G>>3)/200;break;case 4:G=(G>>3)/2e3;break;case 5:G=(G>>3)/2e4;break;case 6:G=(G>>3)/16;break;case 7:G=(G>>3)/64;break}return q[1].v=G,q}function S(k,R){var q=P(k),G=k.read_shift(4),Q=k.read_shift(4),ie=k.read_shift(2);if(ie==65535)return G===0&&Q===3221225472?(q[1].t="e",q[1].v=15):G===0&&Q===3489660928?(q[1].t="e",q[1].v=42):q[1].v=0,q;var ue=ie&32768;return ie=(ie&32767)-16446,q[1].v=(1-ue*2)*(Q*Math.pow(2,ie+32)+G*Math.pow(2,ie)),q}function j(k,R,q,G){var Q=Ra(14);if(Q.write_shift(2,k),Q.write_shift(1,q),Q.write_shift(1,R),G==0)return Q.write_shift(4,0),Q.write_shift(4,0),Q.write_shift(2,65535),Q;var ie=0,ue=0,ne=0,pe=0;return G<0&&(ie=1,G=-G),ue=Math.log2(G)|0,G/=Math.pow(2,ue-31),pe=G>>>0,pe&2147483648||(G/=2,++ue,pe=G>>>0),G-=pe,pe|=2147483648,pe>>>=0,G*=Math.pow(2,32),ne=G>>>0,Q.write_shift(4,ne),Q.write_shift(4,pe),ue+=16383+(ie?32768:0),Q.write_shift(2,ue),Q}function E(k,R){var q=S(k);return k.l+=R-14,q}function N(k,R){var q=P(k),G=k.read_shift(4);return q[1].v=G>>6,q}function O(k,R){var q=P(k),G=k.read_shift(8,"f");return q[1].v=G,q}function U(k,R){var q=O(k);return k.l+=R-10,q}function Y(k,R){return k[k.l+R-1]==0?k.read_shift(R,"cstr"):""}function K(k,R){var q=k[k.l++];q>R-1&&(q=R-1);for(var G="";G.length<q;)G+=String.fromCharCode(k[k.l++]);return G}function J(k,R,q){if(!(!q.qpro||R<21)){var G=k.read_shift(1);k.l+=17,k.l+=1,k.l+=2;var Q=k.read_shift(R-21,"cstr");return[G,Q]}}function z(k,R){for(var q={},G=k.l+R;k.l<G;){var Q=k.read_shift(2);if(Q==14e3){for(q[Q]=[0,""],q[Q][0]=k.read_shift(2);k[k.l];)q[Q][1]+=String.fromCharCode(k[k.l]),k.l++;k.l++}}return q}function V(k,R){var q=Ra(5+k.length);q.write_shift(2,14e3),q.write_shift(2,R);for(var G=0;G<k.length;++G){var Q=k.charCodeAt(G);q[q.l++]=Q>127?95:Q}return q[q.l++]=0,q}var ee={0:{n:"BOF",f:ka},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:g},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Y},222:{n:"SHEETNAMELP",f:K},65535:{n:""}},Z={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:I},23:{n:"NUMBER17",f:S},24:{n:"NUMBER18",f:_},25:{n:"FORMULA19",f:E},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:z},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:N},38:{n:"??"},39:{n:"NUMBER27",f:O},40:{n:"FORMULA28",f:U},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Y},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:J},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function I0e(e){var t={},r=e.match(Xi),n=0,a=!1;if(r)for(;n!=r.length;++n){var i=Tr(r[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=qk[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return t}var j0e=function(){var e=Vv("t"),t=Vv("rPr");function r(i){var s=i.match(e);if(!s)return{t:"s",v:""};var o={t:"s",v:an(s[1])},l=i.match(t);return l&&(o.s=I0e(l[1])),o}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(s){return s.replace(n,"").split(a).map(r).filter(function(o){return o.v})}}(),D0e=function(){var t=/(\r\n|\n)/g;function r(a,i,s){var o=[];a.u&&o.push("text-decoration: underline;"),a.uval&&o.push("text-underline-style:"+a.uval+";"),a.sz&&o.push("font-size:"+a.sz+"pt;"),a.outline&&o.push("text-effect: outline;"),a.shadow&&o.push("text-shadow: auto;"),i.push('<span style="'+o.join("")+'">'),a.b&&(i.push("<b>"),s.push("</b>")),a.i&&(i.push("<i>"),s.push("</i>")),a.strike&&(i.push("<s>"),s.push("</s>"));var l=a.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(i.push("<"+l+">"),s.push("</"+l+">")),s.push("</span>"),a}function n(a){var i=[[],a.v,[]];return a.v?(a.s&&r(a.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}}(),L0e=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,M0e=/<(?:\w+:)?r>/,R0e=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function oC(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=an($n(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=$n(e),r&&(n.h=Qk(n.t))):e.match(M0e)&&(n.r=$n(e),n.t=an($n((e.replace(R0e,"").match(L0e)||[]).join("").replace(Xi,""))),r&&(n.h=D0e(j0e(n.r)))),n):{t:""}}var F0e=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,$0e=/<(?:\w+:)?(?:si|sstItem)>/g,B0e=/<\/(?:\w+:)?(?:si|sstItem)>/;function U0e(e,t){var r=[],n="";if(!e)return r;var a=e.match(F0e);if(a){n=a[2].replace($0e,"").split(B0e);for(var i=0;i!=n.length;++i){var s=oC(n[i].trim(),t);s!=null&&(r[r.length]=s)}a=Tr(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}function V0e(e){return[e.read_shift(4),e.read_shift(4)]}function z0e(e,t){var r=[],n=!1;return ou(e,function(i,s,o){switch(o){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(s.T,!n||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function tq(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function Dc(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function q0e(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=Dc(e,4),t.U=Dc(e,4),t.W=Dc(e,4),t}function W0e(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),i=[];a-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function H0e(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(W0e(e));return t}function G0e(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function K0e(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Dc(e,4),t.U=Dc(e,4),t.W=Dc(e,4),t}function Y0e(e){var t=K0e(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function rq(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function nq(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function X0e(e){var t=Dc(e);switch(t.Minor){case 2:return[t.Minor,Q0e(e)];case 3:return[t.Minor,J0e()];case 4:return[t.Minor,Z0e(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function Q0e(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=rq(e,r),a=nq(e,e.length-e.l);return{t:"Std",h:n,v:a}}function J0e(){throw new Error("File is password-protected: ECMA-376 Extensible")}function Z0e(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Xi,function(i){var s=Tr(i);switch(nc(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){n[o]=s[o]});break;case"<dataIntegrity":n.encryptedHmacKey=s.encryptedHmacKey,n.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(s);break;default:throw s[0]}}),n}function epe(e,t){var r={},n=r.EncryptionVersionInfo=Dc(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=rq(e,a),t-=a,r.EncryptionVerifier=nq(e,t),r}function tpe(e){var t={},r=t.EncryptionVersionInfo=Dc(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function rpe(e){var t=0,r,n=tq(e),a=n.length+1,i,s,o,l,c;for(r=Mf(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)s=r[i],o=t&16384?1:0,l=t<<1&32767,c=o|l,t=c^s;return t^52811}var aq=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(s){return(s/2|s*128)&255},a=function(s,o){return n(s^o)},i=function(s){for(var o=t[s.length-1],l=104,c=s.length-1;c>=0;--c)for(var u=s[c],f=0;f!=7;++f)u&64&&(o^=r[l]),u*=2,--l;return o};return function(s){for(var o=tq(s),l=i(o),c=o.length,u=Mf(16),f=0;f!=16;++f)u[f]=0;var h,p,g;for((c&1)===1&&(h=l>>8,u[c]=a(e[0],h),--c,h=l&255,p=o[o.length-1],u[c]=a(p,h));c>0;)--c,h=l>>8,u[c]=a(o[c],h),--c,h=l&255,u[c]=a(o[c],h);for(c=15,g=15-o.length;g>0;)h=l>>8,u[c]=a(e[g],h),--c,--g,h=l&255,u[c]=a(o[c],h),--c,--g;return u}}(),npe=function(e,t,r,n,a){a||(a=t),n||(n=aq(e));var i,s;for(i=0;i!=t.length;++i)s=t[i],s^=n[r],s=(s>>5|s<<3)&255,a[i]=s,++r;return[a,r,n]},ape=function(e){var t=0,r=aq(e);return function(n){var a=npe("",n,t,r);return t=a[1],a[0]}};function ipe(e,t,r,n){var a={key:ka(e),verificationBytes:ka(e)};return r.password&&(a.verifier=rpe(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=ape(r.password)),a}function spe(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=tpe(e):n.Data=epe(e,t),n}function ope(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?spe(e,t-2,n):ipe(e,r.biff>=8?t:t-2,r,n),n}var lpe=function(){function e(a,i){switch(i.type){case"base64":return t(Zs(a),i);case"binary":return t(a,i);case"buffer":return t(Yr&&Buffer.isBuffer(a)?a.toString("binary"):vh(a),i);case"array":return t(nh(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var s=i||{},o=s.dense?[]:{},l=a.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(u,f){Array.isArray(o)&&(o[f]=[]);for(var h=/\\\w+\b/g,p=0,g,m=-1;g=h.exec(u);){switch(g[0]){case"\\cell":var v=u.slice(p,h.lastIndex-g[0].length);if(v[0]==" "&&(v=v.slice(1)),++m,v.length){var y={v,t:"s"};Array.isArray(o)?o[f][m]=y:o[Ir({r:f,c:m})]=y}break}p=h.lastIndex}m>c.e.c&&(c.e.c=m)}),o["!ref"]=tn(c),o}function r(a,i){return Hf(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],s=fa(a["!ref"]),o,l=Array.isArray(a),c=s.s.r;c<=s.e.r;++c){i.push("\\trowd\\trautofit1");for(var u=s.s.c;u<=s.e.c;++u)i.push("\\cellx"+(u+1));for(i.push("\\pard\\intbl"),u=s.s.c;u<=s.e.c;++u){var f=Ir({r:c,c:u});o=l?(a[c]||[])[u]:a[f],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(Qc(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function cpe(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Wv(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function upe(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),i=Math.min(t,r,n),s=a-i;if(s===0)return[0,0,t];var o=0,l=0,c=a+i;switch(l=s/(c>1?2-c:c),a){case t:o=((r-n)/s+6)%6;break;case r:o=(n-t)/s+2;break;case n:o=(t-r)/s+4;break}return[o/6,l,c/2]}function fpe(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),i=n-a/2,s=[i,i,i],o=6*t,l;if(r!==0)switch(o|0){case 0:case 6:l=a*o,s[0]+=a,s[1]+=l;break;case 1:l=a*(2-o),s[0]+=l,s[1]+=a;break;case 2:l=a*(o-2),s[1]+=a,s[2]+=l;break;case 3:l=a*(4-o),s[1]+=l,s[2]+=a;break;case 4:l=a*(o-4),s[2]+=a,s[0]+=l;break;case 5:l=a*(6-o),s[2]+=l,s[0]+=a;break}for(var c=0;c!=3;++c)s[c]=Math.round(s[c]*255);return s}function wb(e,t){if(t===0)return e;var r=upe(cpe(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),Wv(fpe(r))}var iq=6,dpe=15,hpe=1,is=iq;function _b(e){return Math.floor((e+Math.round(128/is)/256)*is)}function Sb(e){return Math.floor((e-5)/is*100+.5)/100}function NT(e){return Math.round((e*is+5)/is*256)/256}function FS(e){return NT(Sb(_b(e)))}function lC(e){var t=Math.abs(e-FS(e)),r=is;if(t>.005)for(is=hpe;is<dpe;++is)Math.abs(e-FS(e))<=t&&(t=Math.abs(e-FS(e)),r=is);is=r}function pp(e){e.width?(e.wpx=_b(e.width),e.wch=Sb(e.wpx),e.MDW=is):e.wpx?(e.wch=Sb(e.wpx),e.width=NT(e.wch),e.MDW=is):typeof e.wch=="number"&&(e.width=NT(e.wch),e.wpx=_b(e.width),e.MDW=is),e.customWidth&&delete e.customWidth}var ppe=96,sq=ppe;function oq(e){return e*96/sq}function Hv(e){return e*sq/96}var mpe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function gpe(e,t,r,n){t.Borders=[];var a={},i=!1;(e[0].match(Xi)||[]).forEach(function(s){var o=Tr(s);switch(nc(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},o.diagonalUp&&(a.diagonalUp=Gn(o.diagonalUp)),o.diagonalDown&&(a.diagonalDown=Gn(o.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in borders")}})}function vpe(e,t,r,n){t.Fills=[];var a={},i=!1;(e[0].match(Xi)||[]).forEach(function(s){var o=Tr(s);switch(nc(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":o.patternType&&(a.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),o.indexed&&(a.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(a.bgColor.theme=parseInt(o.theme,10)),o.tint&&(a.bgColor.tint=parseFloat(o.tint)),o.rgb&&(a.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),o.theme&&(a.fgColor.theme=parseInt(o.theme,10)),o.tint&&(a.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(a.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fills")}})}function ype(e,t,r,n){t.Fonts=[];var a={},i=!1;(e[0].match(Xi)||[]).forEach(function(s){var o=Tr(s);switch(nc(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":o.val&&(a.name=$n(o.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=o.val?Gn(o.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=o.val?Gn(o.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(o.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=o.val?Gn(o.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=o.val?Gn(o.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=o.val?Gn(o.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=o.val?Gn(o.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=o.val?Gn(o.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":o.val&&(a.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(a.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(a.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(a.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=qk[parseInt(o.val,10)];break;case"<color":if(a.color||(a.color={}),o.auto&&(a.color.auto=Gn(o.auto)),o.rgb)a.color.rgb=o.rgb.slice(-6);else if(o.indexed){a.color.index=parseInt(o.indexed,10);var l=Vd[a.color.index];a.color.index==81&&(l=Vd[1]),l||(l=Vd[1]),a.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(a.color.theme=parseInt(o.theme,10),o.tint&&(a.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=wb(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fonts")}})}function xpe(e,t,r){t.NumberFmt=[];for(var n=ec(Lr),a=0;a<n.length;++a)t.NumberFmt[n[a]]=Lr[n[a]];var i=e[0].match(Xi);if(i)for(a=0;a<i.length;++a){var s=Tr(i[a]);switch(nc(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=an($n(s.formatCode)),l=parseInt(s.numFmtId,10);if(t.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&t.NumberFmt[l]!=null;--l);t.NumberFmt[l]=o}Ud(o,l)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}var yx=["numFmtId","fillId","fontId","borderId","xfId"],xx=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function bpe(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(Xi)||[]).forEach(function(i){var s=Tr(i),o=0;switch(nc(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=s,delete n[0],o=0;o<yx.length;++o)n[yx[o]]&&(n[yx[o]]=parseInt(n[yx[o]],10));for(o=0;o<xx.length;++o)n[xx[o]]&&(n[xx[o]]=Gn(n[xx[o]]));if(t.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[o]){n.numFmtId=o;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};s.vertical&&(l.vertical=s.vertical),s.horizontal&&(l.horizontal=s.horizontal),s.textRotation!=null&&(l.textRotation=s.textRotation),s.indent&&(l.indent=s.indent),s.wrapText&&(l.wrapText=Gn(s.wrapText)),n.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}var wpe=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,c){var u={};if(!o)return u;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=o.match(t))&&xpe(f,u,c),(f=o.match(a))&&ype(f,u,l,c),(f=o.match(n))&&vpe(f,u,l,c),(f=o.match(i))&&gpe(f,u,l,c),(f=o.match(r))&&bpe(f,u,c),u}}();function _pe(e,t){var r=e.read_shift(2),n=Gi(e);return[r,n]}function Spe(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=jde(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=e.read_shift(1);s!=0&&(n.underline=s);var o=e.read_shift(1);o>0&&(n.family=o);var l=e.read_shift(1);switch(l>0&&(n.charset=l),e.l++,n.color=Ide(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Gi(e),n}var Ape=Yi;function Tpe(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}var Epe=Yi;function Npe(e,t,r){var n={};n.NumberFmt=[];for(var a in Lr)n.NumberFmt[a]=Lr[a];n.CellXf=[],n.Fonts=[];var i=[],s=!1;return ou(e,function(l,c,u){switch(u){case 44:n.NumberFmt[l[0]]=l[1],Ud(l[1],l[0]);break;case 43:n.Fonts.push(l),l.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(l.color.rgb=wb(t.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:i.push(u),s=!0;break;case 38:i.pop(),s=!1;break;default:if(c.T>0)i.push(u);else if(c.T<0)i.pop();else if(!s||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),n}var kpe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function Cpe(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Xi)||[]).forEach(function(a){var i=Tr(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[kpe.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function Ppe(){}function Ope(){}var Ipe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,jpe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,Dpe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function Lpe(e,t,r){t.themeElements={};var n;[["clrScheme",Ipe,Cpe],["fontScheme",jpe,Ppe],["fmtScheme",Dpe,Ope]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var Mpe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function lq(e,t){(!e||e.length===0)&&(e=Rpe());var r,n={};if(!(r=e.match(Mpe)))throw new Error("themeElements not found in theme");return Lpe(r[0],n,t),n.raw=e,n}function Rpe(e,t){var r=[xz];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function Fpe(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var i=e.slice(e.l);e.l=n;var s;try{s=yz(i,{type:"array"})}catch{return}var o=Hs(s,"theme/theme/theme1.xml",!0);if(o)return lq(o,r)}}function $pe(e){return e.read_shift(4)}function Bpe(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=Upe(e,4);break;case 2:t.xclrValue=Kz(e);break;case 3:t.xclrValue=$pe(e);break;case 4:e.l+=4;break}return e.l+=8,t}function Upe(e,t){return Yi(e,t)}function Vpe(e,t){return Yi(e,t)}function zpe(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=Bpe(e);break;case 6:n[1]=Vpe(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function qpe(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),i=[];a-- >0;)i.push(zpe(e,r-e.l));return{ixfe:n,ext:i}}function Wpe(e,t){t.forEach(function(r){switch(r[0]){}})}function Hpe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Gi(e)}}function Gpe(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function Kpe(e){return e.l+=4,e.read_shift(4)!=0}function Ype(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},i=[],s=!1,o=2;return ou(e,function(l,c,u){switch(u){case 335:n.Types.push({name:l.name});break;case 51:l.forEach(function(f){o==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):o==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:i.push(u),s=!0;break;case 36:i.pop(),s=!1;break;default:if(!c.T){if(!s||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),n}function Xpe(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,i=2,s;return e.replace(Xi,function(o){var l=Tr(o);switch(nc(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<n.Types.length;++c)n.Types[c].name==l.name&&(s=n.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[l.t-1].name,index:+l.v}):i==0&&n.Value.push({type:n.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+l.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),n}function Qpe(e){var t=[];if(!e)return t;var r=1;return(e.match(Xi)||[]).forEach(function(n){var a=Tr(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function Jpe(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Ir(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function Zpe(e,t,r){var n=[];return ou(e,function(i,s,o){switch(o){case 63:n.push(i);break;default:if(!s.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function eme(e,t,r,n){if(!e)return e;var a=n||{},i=!1;ou(e,function(o,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!l.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},a)}function tme(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}function GD(e,t,r,n){var a=Array.isArray(e),i;t.forEach(function(s){var o=cs(s.ref);if(a?(e[o.r]||(e[o.r]=[]),i=e[o.r][o.c]):i=e[s.ref],!i){i={t:"z"},a?e[o.r][o.c]=i:e[s.ref]=i;var l=fa(e["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var c=tn(l);c!==e["!ref"]&&(e["!ref"]=c)}i.c||(i.c=[]);var u={a:s.author,t:s.t,r:s.r,T:r};s.h&&(u.h=s.h);for(var f=i.c.length-1;f>=0;--f){if(!r&&i.c[f].T)return;r&&!i.c[f].T&&i.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(u.a==n[f].id){u.a=n[f].name||u.a;break}}i.c.push(u)})}function rme(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=Tr(o[0]),c={author:l.authorId&&r[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},u=cs(l.ref);if(!(t.sheetRows&&t.sheetRows<=u.r)){var f=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&oC(f[1])||{r:"",t:"",h:""};c.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),c.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(c.h=h.h),n.push(c)}}}}),n}function nme(e,t){var r=[],n=!1,a={},i=0;return e.replace(Xi,function(o,l){var c=Tr(o);switch(nc(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":i=l+o.length;break;case"</text>":a.t=e.slice(i,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return o}),r}function ame(e,t){var r=[],n=!1;return e.replace(Xi,function(i){var s=Tr(i);switch(nc(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return i}),r}function ime(e){var t={};t.iauthor=e.read_shift(4);var r=xh(e);return t.rfx=r.s,t.ref=Ir(r.s),e.l+=16,t}var sme=Gi;function ome(e,t){var r=[],n=[],a={},i=!1;return ou(e,function(o,l,c){switch(c){case 632:n.push(o);break;case 635:a=o;break;case 637:a.t=o.t,a.h=o.h,a.r=o.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),r}var lme="application/vnd.ms-office.vbaProject";function cme(e){var t=Zr.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Zr.utils.cfb_add(t,a,e.FileIndex[n].content)}}),Zr.write(t)}function ume(){return{"!type":"dialog"}}function fme(){return{"!type":"dialog"}}function dme(){return{"!type":"macro"}}function hme(){return{"!type":"macro"}}var F0=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,s){var o=!1,l=!1;i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var c=i.length>0?parseInt(i,10)|0:0,u=s.length>0?parseInt(s,10)|0:0;return o?u+=t.c:--u,l?c+=t.r:--c,a+(o?"":"$")+Ba(u)+(l?"":"$")+wi(c)}return function(a,i){return t=i,a.replace(e,r)}}(),cq=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,pme=function(){return function(t,r){return t.replace(cq,function(n,a,i,s,o,l){var c=tC(s)-(i?0:r.c),u=eC(l)-(o?0:r.r),f=u==0?"":o?u+1:"["+u+"]",h=c==0?"":i?c+1:"["+c+"]";return a+"R"+f+"C"+h})}}();function uq(e,t){return e.replace(cq,function(r,n,a,i,s,o){return n+(a=="$"?a+i:Ba(tC(i)+t.c))+(s=="$"?s+o:wi(eC(o)+t.r))})}function mme(e,t,r){var n=em(t),a=n.s,i=cs(r),s={r:i.r-a.r,c:i.c-a.c};return uq(e,s)}function gme(e){return e.length!=1}function KD(e){return e.replace(/_xlfn\./g,"")}function Ta(e){e.l+=1}function Rf(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function fq(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return dq(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),s=Rf(e),o=Rf(e);return{s:{r:a,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function dq(e){var t=Rf(e),r=Rf(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function vme(e,t,r){if(r.biff<8)return dq(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=Rf(e),s=Rf(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}function hq(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return yme(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Rf(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function yme(e){var t=Rf(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function xme(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function bme(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return wme(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),s=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;a>524287;)a-=1048576;if(s==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:s,rRel:o}}function wme(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function _me(e,t,r){var n=(e[e.l++]&96)>>5,a=fq(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function Sme(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var s=fq(e,i,r);return[n,a,s]}function Ame(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function Tme(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function Eme(e,t,r){var n=(e[e.l++]&96)>>5,a=vme(e,t-1,r);return[n,a]}function Nme(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function YD(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function kme(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function Cme(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Pme(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Ome(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function Ime(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function pq(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function jme(e){return e.read_shift(2),pq(e)}function Dme(e){return e.read_shift(2),pq(e)}function Lme(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=hq(e,0,r);return[n,a]}function Mme(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=bme(e,0,r);return[n,a]}function Rme(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=hq(e,0,r);return[n,a,i]}function Fme(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[$ge[a],vq[a],n]}function $me(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:Bme(e);return[a,(i[0]===0?vq:Fge)[i[1]]]}function Bme(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function Ume(e,t,r){e.l+=r&&r.biff==2?3:4}function Vme(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function zme(e){return e.l++,bh[e.read_shift(1)]}function qme(e){return e.l++,e.read_shift(2)}function Wme(e){return e.l++,e.read_shift(1)!==0}function Hme(e){return e.l++,Vi(e)}function Gme(e,t,r){return e.l++,Z1(e,t-1,r)}function Kme(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=pa(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=bh[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Vi(e);break;case 2:r[1]=wh(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function Yme(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?xh:b5)(e));return a}function Xme(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,s=[];i!=n&&(s[i]=[]);++i)for(var o=0;o!=a;++o)s[i][o]=Kme(e,r.biff);return s}function Qme(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function Jme(e,t,r){if(r.biff==5)return Zme(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function Zme(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function ege(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function tge(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function rge(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function nge(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var age=Yi,ige=Yi,sge=Yi;function ty(e,t,r){return e.l+=2,[xme(e)]}function cC(e){return e.l+=6,[]}var oge=ty,lge=cC,cge=cC,uge=ty;function mq(e){return e.l+=2,[ka(e),e.read_shift(2)&1]}var fge=ty,dge=mq,hge=cC,pge=ty,mge=ty,gge=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function vge(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),s=gge[r>>2&31];return{ixti:t,coltype:r&3,rt:s,idx:n,c:a,C:i}}function yge(e){return e.l+=2,[e.read_shift(4)]}function xge(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function bge(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function wge(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function _ge(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Sge(e){return e.l+=4,[0,0]}var XD={1:{n:"PtgExp",f:Vme},2:{n:"PtgTbl",f:sge},3:{n:"PtgAdd",f:Ta},4:{n:"PtgSub",f:Ta},5:{n:"PtgMul",f:Ta},6:{n:"PtgDiv",f:Ta},7:{n:"PtgPower",f:Ta},8:{n:"PtgConcat",f:Ta},9:{n:"PtgLt",f:Ta},10:{n:"PtgLe",f:Ta},11:{n:"PtgEq",f:Ta},12:{n:"PtgGe",f:Ta},13:{n:"PtgGt",f:Ta},14:{n:"PtgNe",f:Ta},15:{n:"PtgIsect",f:Ta},16:{n:"PtgUnion",f:Ta},17:{n:"PtgRange",f:Ta},18:{n:"PtgUplus",f:Ta},19:{n:"PtgUminus",f:Ta},20:{n:"PtgPercent",f:Ta},21:{n:"PtgParen",f:Ta},22:{n:"PtgMissArg",f:Ta},23:{n:"PtgStr",f:Gme},26:{n:"PtgSheet",f:xge},27:{n:"PtgEndSheet",f:bge},28:{n:"PtgErr",f:zme},29:{n:"PtgBool",f:Wme},30:{n:"PtgInt",f:qme},31:{n:"PtgNum",f:Hme},32:{n:"PtgArray",f:Nme},33:{n:"PtgFunc",f:Fme},34:{n:"PtgFuncVar",f:$me},35:{n:"PtgName",f:Qme},36:{n:"PtgRef",f:Lme},37:{n:"PtgArea",f:_me},38:{n:"PtgMemArea",f:ege},39:{n:"PtgMemErr",f:age},40:{n:"PtgMemNoMem",f:ige},41:{n:"PtgMemFunc",f:tge},42:{n:"PtgRefErr",f:rge},43:{n:"PtgAreaErr",f:Ame},44:{n:"PtgRefN",f:Mme},45:{n:"PtgAreaN",f:Eme},46:{n:"PtgMemAreaN",f:wge},47:{n:"PtgMemNoMemN",f:_ge},57:{n:"PtgNameX",f:Jme},58:{n:"PtgRef3d",f:Rme},59:{n:"PtgArea3d",f:Sme},60:{n:"PtgRefErr3d",f:nge},61:{n:"PtgAreaErr3d",f:Tme},255:{}},Age={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Tge={1:{n:"PtgElfLel",f:mq},2:{n:"PtgElfRw",f:pge},3:{n:"PtgElfCol",f:oge},6:{n:"PtgElfRwV",f:mge},7:{n:"PtgElfColV",f:uge},10:{n:"PtgElfRadical",f:fge},11:{n:"PtgElfRadicalS",f:hge},13:{n:"PtgElfColS",f:lge},15:{n:"PtgElfColSV",f:cge},16:{n:"PtgElfRadicalLel",f:dge},25:{n:"PtgList",f:vge},29:{n:"PtgSxName",f:yge},255:{}},Ege={0:{n:"PtgAttrNoop",f:Sge},1:{n:"PtgAttrSemi",f:Ime},2:{n:"PtgAttrIf",f:Pme},4:{n:"PtgAttrChoose",f:kme},8:{n:"PtgAttrGoto",f:Cme},16:{n:"PtgAttrSum",f:Ume},32:{n:"PtgAttrBaxcel",f:YD},33:{n:"PtgAttrBaxcel",f:YD},64:{n:"PtgAttrSpace",f:jme},65:{n:"PtgAttrSpaceSemi",f:Dme},128:{n:"PtgAttrIfError",f:Ome},255:{}};function ry(e,t,r,n){if(n.biff<8)return Yi(e,t);for(var a=e.l+t,i=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=Xme(e,0,n),i.push(r[s][1]);break;case"PtgMemArea":r[s][2]=Yme(e,r[s][1],n),i.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=e.read_shift(4),i.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return t=a-e.l,t!==0&&i.push(Yi(e,t)),i}function ny(e,t,r){for(var n=e.l+t,a,i,s=[];n!=e.l;)t=n-e.l,i=e[e.l],a=XD[i]||XD[Age[i]],(i===24||i===25)&&(a=(i===24?Tge:Ege)[e[e.l+1]]),!a||!a.f?Yi(e,t):s.push([a.n,a.f(e,t,r)]);return s}function Nge(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var s=n[i];if(s)switch(s[0]){case 2:a.push('"'+s[1].replace(/"/g,'""')+'"');break;default:a.push(s[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var kge={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Cge(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function gq(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function QD(e,t,r){var n=gq(e,t,r);return n=="#REF"?n:Cge(n,r)}function Ri(e,t,r,n,a){var i=a&&a.biff||8,s={s:{c:0,r:0},e:{c:0,r:0}},o=[],l,c,u,f=0,h=0,p,g="";if(!e[0]||!e[0][0])return"";for(var m=-1,v="",y=0,b=e[0].length;y<b;++y){var w=e[0][y];switch(w[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),m>=0){switch(e[0][m][1][0]){case 0:v=ca(" ",e[0][m][1][1]);break;case 1:v=ca("\r",e[0][m][1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}c=c+v,m=-1}o.push(c+kge[w[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=Fg(w[1][1],s,a),o.push($g(u,i));break;case"PtgRefN":u=r?Fg(w[1][1],r,a):w[1][1],o.push($g(u,i));break;case"PtgRef3d":f=w[1][1],u=Fg(w[1][2],s,a),g=QD(n,f,a),o.push(g+"!"+$g(u,i));break;case"PtgFunc":case"PtgFuncVar":var D=w[1][0],P=w[1][1];D||(D=0),D&=127;var I=D==0?[]:o.slice(-D);o.length-=D,P==="User"&&(P=I.shift()),o.push(P+"("+I.join(",")+")");break;case"PtgBool":o.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(w[1]);break;case"PtgNum":o.push(String(w[1]));break;case"PtgStr":o.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(w[1]);break;case"PtgAreaN":p=OD(w[1][1],r?{s:r}:s,a),o.push(MS(p,a));break;case"PtgArea":p=OD(w[1][1],s,a),o.push(MS(p,a));break;case"PtgArea3d":f=w[1][1],p=w[1][2],g=QD(n,f,a),o.push(g+"!"+MS(p,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=w[1][2];var T=(n.names||[])[h-1]||(n[0]||[])[h],_=T?T.Name:"SH33TJSNAME"+String(h);_&&_.slice(0,6)=="_xlfn."&&!a.xlfn&&(_=_.slice(6)),o.push(_);break;case"PtgNameX":var S=w[1][1];h=w[1][2];var j;if(a.biff<=5)S<0&&(S=-S),n[S]&&(j=n[S][h]);else{var E="";if(((n[S]||[])[0]||[])[0]==14849||(((n[S]||[])[0]||[])[0]==1025?n[S][h]&&n[S][h].itab>0&&(E=n.SheetNames[n[S][h].itab-1]+"!"):E=n.SheetNames[h-1]+"!"),n[S]&&n[S][h])E+=n[S][h].Name;else if(n[0]&&n[0][h])E+=n[0][h].Name;else{var N=(gq(n,S,a)||"").split(";;");N[h-1]?E=N[h-1]:E+="SH33TJSERRX"}o.push(E);break}j||(j={Name:"SH33TJSERRY"}),o.push(j.Name);break;case"PtgParen":var O="(",U=")";if(m>=0){switch(v="",e[0][m][1][0]){case 2:O=ca(" ",e[0][m][1][1])+O;break;case 3:O=ca("\r",e[0][m][1][1])+O;break;case 4:U=ca(" ",e[0][m][1][1])+U;break;case 5:U=ca("\r",e[0][m][1][1])+U;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}m=-1}o.push(O+o.pop()+U);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:w[1][1],r:w[1][0]};var Y={c:r.c,r:r.r};if(n.sharedf[Ir(u)]){var K=n.sharedf[Ir(u)];o.push(Ri(K,s,Y,n,a))}else{var J=!1;for(l=0;l!=n.arrayf.length;++l)if(c=n.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){o.push(Ri(c[1],s,Y,n,a)),J=!0;break}J||o.push(w[1])}break;case"PtgArray":o.push("{"+Nge(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w))}var z=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&m>=0&&z.indexOf(e[0][y][0])==-1){w=e[0][m];var V=!0;switch(w[1][0]){case 4:V=!1;case 0:v=ca(" ",w[1][1]);break;case 5:V=!1;case 1:v=ca("\r",w[1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}o.push((V?v:"")+o.pop()+(V?"":v)),m=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function Pge(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],Yi(e,t-2)];var o=ny(e,s,r);return t!==s+a&&(i=ry(e,t-s-a,o,r)),e.l=n,[o,i]}function Oge(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],Yi(e,t-2)];var o=ny(e,s,r);return t!==s+a&&(i=ry(e,t-s-a,o,r)),e.l=n,[o,i]}function Ige(e,t,r,n){var a=e.l+t,i=ny(e,n,r),s;return a!==e.l&&(s=ry(e,a-e.l,i,r)),[i,s]}function jge(e,t,r){var n=e.l+t,a,i=e.read_shift(2),s=ny(e,i,r);return i==65535?[[],Yi(e,t-2)]:(t!==i+2&&(a=ry(e,n-i-2,s,r)),[s,a])}function Dge(e){var t;if(Nc(e,e.l+6)!==65535)return[Vi(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function $S(e,t,r){var n=e.l+t,a=ac(e);r.biff==2&&++e.l;var i=Dge(e),s=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=Oge(e,n-e.l,r);return{cell:a,val:i[0],formula:o,shared:s>>3&1,tt:i[1]}}function w5(e,t,r){var n=e.read_shift(4),a=ny(e,n,r),i=e.read_shift(4),s=i>0?ry(e,i,a,r):null;return[a,s]}var Lge=w5,_5=w5,Mge=w5,Rge=w5,Fge={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},vq={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},$ge={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function JD(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function BS(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var zg={},$0={};function qg(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function yq(e,t,r,n,a,i){try{n.cellNF&&(e.z=Lr[t])}catch(o){if(n.WTF)throw o}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=ni(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(Lr[t]==null&&Ud(Bfe[t]||"General",t),e.t==="e")e.w=e.w||bh[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Uv(e.v);else if(e.t==="d"){var s=ps(e.v);(s|0)===s?e.w=s.toString(10):e.w=Uv(s)}else{if(e.v===void 0)return"";e.w=rh(e.v,$0)}else e.t==="d"?e.w=jo(t,ps(e.v),$0):e.w=jo(t,e.v,$0)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=wb(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=wb(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&i.Fills)throw o}}}function Bge(e,t){var r=fa(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=tn(r))}var Uge=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,Vge=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,zge=/<(?:\w:)?hyperlink [^>]*>/mg,qge=/"(\w*:\w*)"/,Wge=/<(?:\w:)?col\b[^>]*[\/]?>/g,Hge=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,Gge=/<(?:\w:)?pageMargins[^>]*\/>/g,xq=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,Kge=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,Yge=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function Xge(e,t,r,n,a,i,s){if(!e)return e;n||(n={"!id":{}});var o=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",f=e.match(Vge);f?(c=e.slice(0,f.index),u=e.slice(f.index+f[0].length)):c=u=e;var h=c.match(xq);h?uC(h[0],o,a,r):(h=c.match(Kge))&&Qge(h[0],h[1]||"",o,a,r);var p=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var g=c.slice(p,p+50).match(qge);g&&Bge(o,g[1])}var m=c.match(Yge);m&&m[1]&&nve(m[1],a);var v=[];if(t.cellStyles){var y=c.match(Wge);y&&eve(v,y)}f&&ave(f[1],o,t,l,i,s);var b=u.match(Hge);b&&(o["!autofilter"]=tve(b[0]));var w=[],D=u.match(Uge);if(D)for(p=0;p!=D.length;++p)w[p]=fa(D[p].slice(D[p].indexOf('"')+1));var P=u.match(zge);P&&Jge(o,P,n);var I=u.match(Gge);if(I&&(o["!margins"]=Zge(Tr(I[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=tn(l)),t.sheetRows>0&&o["!ref"]){var T=fa(o["!ref"]);t.sheetRows<=+T.e.r&&(T.e.r=t.sheetRows-1,T.e.r>l.e.r&&(T.e.r=l.e.r),T.e.r<T.s.r&&(T.s.r=T.e.r),T.e.c>l.e.c&&(T.e.c=l.e.c),T.e.c<T.s.c&&(T.s.c=T.e.c),o["!fullref"]=o["!ref"],o["!ref"]=tn(T))}return v.length>0&&(o["!cols"]=v),w.length>0&&(o["!merges"]=w),o}function uC(e,t,r,n){var a=Tr(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=an($n(a.codeName)))}function Qge(e,t,r,n,a){uC(e.slice(0,e.indexOf(">")),r,n,a)}function Jge(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var i=Tr($n(t[a]),!0);if(!i.ref)return;var s=((r||{})["!id"]||[])[i.id];s?(i.Target=s.Target,i.location&&(i.Target+="#"+an(i.location))):(i.Target="#"+an(i.location),s={Target:i.Target,TargetMode:"Internal"}),i.Rel=s,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var o=fa(i.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var u=Ir({c,r:l});n?(e[l]||(e[l]=[]),e[l][c]||(e[l][c]={t:"z",v:void 0}),e[l][c].l=i):(e[u]||(e[u]={t:"z",v:void 0}),e[u].l=i)}}}function Zge(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function eve(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=Tr(t[n],!0);a.hidden&&(a.hidden=Gn(a.hidden));var i=parseInt(a.min,10)-1,s=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,lC(a.width)),pp(a);i<=s;)e[i++]=bi(a)}}function tve(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var rve=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function nve(e,t){t.Views||(t.Views=[{}]),(e.match(rve)||[]).forEach(function(r,n){var a=Tr(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),Gn(a.rightToLeft)&&(t.Views[n].RTL=!0)})}var ave=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=Vv("v"),s=Vv("f");return function(l,c,u,f,h,p){for(var g=0,m="",v=[],y=[],b=0,w=0,D=0,P="",I,T,_=0,S=0,j,E,N=0,O=0,U=Array.isArray(p.CellXf),Y,K=[],J=[],z=Array.isArray(c),V=[],ee={},Z=!1,k=!!u.sheetStubs,R=l.split(t),q=0,G=R.length;q!=G;++q){m=R[q].trim();var Q=m.length;if(Q!==0){var ie=0;e:for(g=0;g<Q;++g)switch(m[g]){case">":if(m[g-1]!="/"){++g;break e}if(u&&u.cellStyles){if(T=Tr(m.slice(ie,g),!0),_=T.r!=null?parseInt(T.r,10):_+1,S=-1,u.sheetRows&&u.sheetRows<_)continue;ee={},Z=!1,T.ht&&(Z=!0,ee.hpt=parseFloat(T.ht),ee.hpx=Hv(ee.hpt)),T.hidden=="1"&&(Z=!0,ee.hidden=!0),T.outlineLevel!=null&&(Z=!0,ee.level=+T.outlineLevel),Z&&(V[_-1]=ee)}break;case"<":ie=g;break}if(ie>=g)break;if(T=Tr(m.slice(ie,g),!0),_=T.r!=null?parseInt(T.r,10):_+1,S=-1,!(u.sheetRows&&u.sheetRows<_)){f.s.r>_-1&&(f.s.r=_-1),f.e.r<_-1&&(f.e.r=_-1),u&&u.cellStyles&&(ee={},Z=!1,T.ht&&(Z=!0,ee.hpt=parseFloat(T.ht),ee.hpx=Hv(ee.hpt)),T.hidden=="1"&&(Z=!0,ee.hidden=!0),T.outlineLevel!=null&&(Z=!0,ee.level=+T.outlineLevel),Z&&(V[_-1]=ee)),v=m.slice(g).split(e);for(var ue=0;ue!=v.length&&v[ue].trim().charAt(0)=="<";++ue);for(v=v.slice(ue),g=0;g!=v.length;++g)if(m=v[g].trim(),m.length!==0){if(y=m.match(r),b=g,w=0,D=0,m="<c "+(m.slice(0,1)=="<"?">":"")+m,y!=null&&y.length===2){for(b=0,P=y[1],w=0;w!=P.length&&!((D=P.charCodeAt(w)-64)<1||D>26);++w)b=26*b+D;--b,S=b}else++S;for(w=0;w!=m.length&&m.charCodeAt(w)!==62;++w);if(++w,T=Tr(m.slice(0,w),!0),T.r||(T.r=Ir({r:_-1,c:S})),P=m.slice(w),I={t:""},(y=P.match(i))!=null&&y[1]!==""&&(I.v=an(y[1])),u.cellFormula){if((y=P.match(s))!=null&&y[1]!==""){if(I.f=an($n(y[1])).replace(/\r\n/g,`
`),u.xlfn||(I.f=KD(I.f)),y[0].indexOf('t="array"')>-1)I.F=(P.match(a)||[])[1],I.F.indexOf(":")>-1&&K.push([fa(I.F),I.F]);else if(y[0].indexOf('t="shared"')>-1){E=Tr(y[0]);var ne=an($n(y[1]));u.xlfn||(ne=KD(ne)),J[parseInt(E.si,10)]=[E,ne,T.r]}}else(y=P.match(/<f[^>]*\/>/))&&(E=Tr(y[0]),J[E.si]&&(I.f=mme(J[E.si][1],J[E.si][2],T.r)));var pe=cs(T.r);for(w=0;w<K.length;++w)pe.r>=K[w][0].s.r&&pe.r<=K[w][0].e.r&&pe.c>=K[w][0].s.c&&pe.c<=K[w][0].e.c&&(I.F=K[w][1])}if(T.t==null&&I.v===void 0)if(I.f||I.F)I.v=0,I.t="n";else if(k)I.t="z";else continue;else I.t=T.t||"n";switch(f.s.c>S&&(f.s.c=S),f.e.c<S&&(f.e.c=S),I.t){case"n":if(I.v==""||I.v==null){if(!k)continue;I.t="z"}else I.v=parseFloat(I.v);break;case"s":if(typeof I.v>"u"){if(!k)continue;I.t="z"}else j=zg[parseInt(I.v,10)],I.v=j.t,I.r=j.r,u.cellHTML&&(I.h=j.h);break;case"str":I.t="s",I.v=I.v!=null?$n(I.v):"",u.cellHTML&&(I.h=Qk(I.v));break;case"inlineStr":y=P.match(n),I.t="s",y!=null&&(j=oC(y[1]))?(I.v=j.t,u.cellHTML&&(I.h=j.h)):I.v="";break;case"b":I.v=Gn(I.v);break;case"d":u.cellDates?I.v=ni(I.v,1):(I.v=ps(ni(I.v,1)),I.t="n");break;case"e":(!u||u.cellText!==!1)&&(I.w=I.v),I.v=Bz[I.v];break}if(N=O=0,Y=null,U&&T.s!==void 0&&(Y=p.CellXf[T.s],Y!=null&&(Y.numFmtId!=null&&(N=Y.numFmtId),u.cellStyles&&Y.fillId!=null&&(O=Y.fillId))),yq(I,N,O,u,h,p),u.cellDates&&U&&I.t=="n"&&Zp(Lr[N])&&(I.t="d",I.v=x5(I.v)),T.cm&&u.xlmeta){var ye=(u.xlmeta.Cell||[])[+T.cm-1];ye&&ye.type=="XLDAPR"&&(I.D=!0)}if(z){var W=cs(T.r);c[W.r]||(c[W.r]=[]),c[W.r][W.c]=I}else c[T.r]=I}}}}V.length>0&&(c["!rows"]=V)}}();function ive(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}var sve=xh;function ove(){}function lve(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=Pde(e),r}function cve(e){var t=Lo(e);return[t]}function uve(e){var t=yh(e);return[t]}function fve(e){var t=Lo(e),r=e.read_shift(1);return[t,r,"b"]}function dve(e){var t=yh(e),r=e.read_shift(1);return[t,r,"b"]}function hve(e){var t=Lo(e),r=e.read_shift(1);return[t,r,"e"]}function pve(e){var t=yh(e),r=e.read_shift(1);return[t,r,"e"]}function mve(e){var t=Lo(e),r=e.read_shift(4);return[t,r,"s"]}function gve(e){var t=yh(e),r=e.read_shift(4);return[t,r,"s"]}function vve(e){var t=Lo(e),r=Vi(e);return[t,r,"n"]}function bq(e){var t=yh(e),r=Vi(e);return[t,r,"n"]}function yve(e){var t=Lo(e),r=aC(e);return[t,r,"n"]}function xve(e){var t=yh(e),r=aC(e);return[t,r,"n"]}function bve(e){var t=Lo(e),r=rC(e);return[t,r,"is"]}function wve(e){var t=Lo(e),r=Gi(e);return[t,r,"str"]}function _ve(e){var t=yh(e),r=Gi(e);return[t,r,"str"]}function Sve(e,t,r){var n=e.l+t,a=Lo(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"b"];if(r.cellFormula){e.l+=2;var o=_5(e,n-e.l,r);s[3]=Ri(o,null,a,r.supbooks,r)}else e.l=n;return s}function Ave(e,t,r){var n=e.l+t,a=Lo(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"e"];if(r.cellFormula){e.l+=2;var o=_5(e,n-e.l,r);s[3]=Ri(o,null,a,r.supbooks,r)}else e.l=n;return s}function Tve(e,t,r){var n=e.l+t,a=Lo(e);a.r=r["!row"];var i=Vi(e),s=[a,i,"n"];if(r.cellFormula){e.l+=2;var o=_5(e,n-e.l,r);s[3]=Ri(o,null,a,r.supbooks,r)}else e.l=n;return s}function Eve(e,t,r){var n=e.l+t,a=Lo(e);a.r=r["!row"];var i=Gi(e),s=[a,i,"str"];if(r.cellFormula){e.l+=2;var o=_5(e,n-e.l,r);s[3]=Ri(o,null,a,r.supbooks,r)}else e.l=n;return s}var Nve=xh;function kve(e,t){var r=e.l+t,n=xh(e),a=nC(e),i=Gi(e),s=Gi(e),o=Gi(e);e.l=r;var l={rfx:n,relId:a,loc:i,display:o};return s&&(l.Tooltip=s),l}function Cve(){}function Pve(e,t,r){var n=e.l+t,a=Rz(e),i=e.read_shift(1),s=[a];if(s[2]=i,r.cellFormula){var o=Lge(e,n-e.l,r);s[1]=o}else e.l=n;return s}function Ove(e,t,r){var n=e.l+t,a=xh(e),i=[a];if(r.cellFormula){var s=Rge(e,n-e.l,r);i[1]=s,e.l=n}else e.l=n;return i}var Ive=["left","right","top","bottom","header","footer"];function jve(e){var t={};return Ive.forEach(function(r){t[r]=Vi(e)}),t}function Dve(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function Lve(){}function Mve(){}function Rve(e,t,r,n,a,i,s){if(!e)return e;var o=t||{};n||(n={"!id":{}});var l=o.dense?[]:{},c,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,p,g,m,v,y,b,w,D,P,I=[];o.biff=12,o["!row"]=0;var T=0,_=!1,S=[],j={},E=o.supbooks||a.supbooks||[[]];if(E.sharedf=j,E.arrayf=S,E.SheetNames=a.SheetNames||a.Sheets.map(function(z){return z.name}),!o.supbooks&&(o.supbooks=E,a.Names))for(var N=0;N<a.Names.length;++N)E[0][N+1]=a.Names[N];var O=[],U=[],Y=!1;Ab[16]={n:"BrtShortReal",f:bq};var K;if(ou(e,function(V,ee,Z){if(!h)switch(Z){case 148:c=V;break;case 0:p=V,o.sheetRows&&o.sheetRows<=p.r&&(h=!0),D=wi(v=p.r),o["!row"]=p.r,(V.hidden||V.hpt||V.level!=null)&&(V.hpt&&(V.hpx=Hv(V.hpt)),U[V.r]=V);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(g={t:V[2]},V[2]){case"n":g.v=V[1];break;case"s":w=zg[V[1]],g.v=w.t,g.r=w.r;break;case"b":g.v=!!V[1];break;case"e":g.v=V[1],o.cellText!==!1&&(g.w=bh[g.v]);break;case"str":g.t="s",g.v=V[1];break;case"is":g.t="s",g.v=V[1].t;break}if((m=s.CellXf[V[0].iStyleRef])&&yq(g,m.numFmtId,null,o,i,s),y=V[0].c==-1?y+1:V[0].c,o.dense?(l[v]||(l[v]=[]),l[v][y]=g):l[Ba(y)+D]=g,o.cellFormula){for(_=!1,T=0;T<S.length;++T){var k=S[T];p.r>=k[0].s.r&&p.r<=k[0].e.r&&y>=k[0].s.c&&y<=k[0].e.c&&(g.F=tn(k[0]),_=!0)}!_&&V.length>3&&(g.f=V[3])}if(u.s.r>p.r&&(u.s.r=p.r),u.s.c>y&&(u.s.c=y),u.e.r<p.r&&(u.e.r=p.r),u.e.c<y&&(u.e.c=y),o.cellDates&&m&&g.t=="n"&&Zp(Lr[m.numFmtId])){var R=Id(g.v);R&&(g.t="d",g.v=new Date(R.y,R.m-1,R.d,R.H,R.M,R.S,R.u))}K&&(K.type=="XLDAPR"&&(g.D=!0),K=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;g={t:"z",v:void 0},y=V[0].c==-1?y+1:V[0].c,o.dense?(l[v]||(l[v]=[]),l[v][y]=g):l[Ba(y)+D]=g,u.s.r>p.r&&(u.s.r=p.r),u.s.c>y&&(u.s.c=y),u.e.r<p.r&&(u.e.r=p.r),u.e.c<y&&(u.e.c=y),K&&(K.type=="XLDAPR"&&(g.D=!0),K=void 0);break;case 176:I.push(V);break;case 49:K=((o.xlmeta||{}).Cell||[])[V-1];break;case 494:var q=n["!id"][V.relId];for(q?(V.Target=q.Target,V.loc&&(V.Target+="#"+V.loc),V.Rel=q):V.relId==""&&(V.Target="#"+V.loc),v=V.rfx.s.r;v<=V.rfx.e.r;++v)for(y=V.rfx.s.c;y<=V.rfx.e.c;++y)o.dense?(l[v]||(l[v]=[]),l[v][y]||(l[v][y]={t:"z",v:void 0}),l[v][y].l=V):(b=Ir({c:y,r:v}),l[b]||(l[b]={t:"z",v:void 0}),l[b].l=V);break;case 426:if(!o.cellFormula)break;S.push(V),P=o.dense?l[v][y]:l[Ba(y)+D],P.f=Ri(V[1],u,{r:p.r,c:y},E,o),P.F=tn(V[0]);break;case 427:if(!o.cellFormula)break;j[Ir(V[0].s)]=V[1],P=o.dense?l[v][y]:l[Ba(y)+D],P.f=Ri(V[1],u,{r:p.r,c:y},E,o);break;case 60:if(!o.cellStyles)break;for(;V.e>=V.s;)O[V.e--]={width:V.w/256,hidden:!!(V.flags&1),level:V.level},Y||(Y=!0,lC(V.w/256)),pp(O[V.e+1]);break;case 161:l["!autofilter"]={ref:tn(V)};break;case 476:l["!margins"]=V;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),V.name&&(a.Sheets[r].CodeName=V.name),(V.above||V.left)&&(l["!outline"]={above:V.above,left:V.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),V.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!ee.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+Z.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(u.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=tn(c||u)),o.sheetRows&&l["!ref"]){var J=fa(l["!ref"]);o.sheetRows<=+J.e.r&&(J.e.r=o.sheetRows-1,J.e.r>u.e.r&&(J.e.r=u.e.r),J.e.r<J.s.r&&(J.s.r=J.e.r),J.e.c>u.e.c&&(J.e.c=u.e.c),J.e.c<J.s.c&&(J.s.c=J.e.c),l["!fullref"]=l["!ref"],l["!ref"]=tn(J))}return I.length>0&&(l["!merges"]=I),O.length>0&&(l["!cols"]=O),U.length>0&&(l["!rows"]=U),l}function Fve(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var s=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(t[+s[1]]=r?+s[2]:s[2])});var a=an((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[t,a,n]}function $ve(e,t,r,n,a,i){var s=i||{"!type":"chart"};if(!e)return i;var o=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=Fve(f);u.s.r=u.s.c=0,u.e.c=o,c=Ba(o),h[0].forEach(function(p,g){s[c+wi(g)]={t:"n",v:p,z:h[1]},l=g}),u.e.r<l&&(u.e.r=l),++o}),o>0&&(s["!ref"]=tn(u)),s}function Bve(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s,o=e.match(xq);return o&&uC(o[0],i,a,r),(s=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=s[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function Uve(e,t){e.l+=10;var r=Gi(e);return{name:r}}function Vve(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s=!1;return ou(e,function(l,c,u){switch(u){case 550:i["!rel"]=l;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),l.name&&(a.Sheets[r].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!s||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},t),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var wq=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],zve=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],qve=[],Wve=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function ZD(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var i=t[a];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=Gn(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function e8(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=Gn(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function _q(e){e8(e.WBProps,wq),e8(e.CalcPr,Wve),ZD(e.WBView,zve),ZD(e.Sheets,qve),$0.date1904=Gn(e.WBProps.date1904)}var Hve="][*?/\\".split("");function Gve(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return Hve.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var Kve=/<\w+:workbook/;function Yve(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",i={},s=0;if(e.replace(Xi,function(l,c){var u=Tr(l);switch(nc(u[0])){case"<?xml":break;case"<workbook":l.match(Kve)&&(a="xmlns"+l.match(/<(\w+):/)[1]),r.xmlns=u[a];break;case"</workbook>":break;case"<fileVersion":delete u[0],r.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":wq.forEach(function(f){if(u[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=Gn(u[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(u[f[0]],10);break;default:r.WBProps[f[0]]=u[f[0]]}}),u.codeName&&(r.WBProps.CodeName=$n(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],r.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=an($n(u.name)),delete u[0],r.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=$n(u.name),u.comment&&(i.Comment=u.comment),u.localSheetId&&(i.Sheet=+u.localSheetId),Gn(u.hidden||"0")&&(i.Hidden=!0),s=c+l.length;break;case"</definedName>":i.Ref=an($n(e.slice(s,c))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete u[0],r.CalcPr=u;break;case"<calcPr/>":delete u[0],r.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return l}),hde.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return _q(r),r}function Xve(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=AT(e),r.name=Gi(e),r}function Qve(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Gi(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function Jve(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function Zve(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=Ode(e),s=Mge(e,0,r),o=nC(e);e.l=n;var l={Name:i,Ptg:s};return a<268435455&&(l.Sheet=a),o&&(l.Comment=o),l}function e1e(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var i=[],s=[[]];return s.SheetNames=[],s.XTI=[],Ab[16]={n:"BrtFRTArchID$",f:Jve},ou(e,function(l,c,u){switch(u){case 156:s.SheetNames.push(l.name),r.Sheets.push(l);break;case 153:r.WBProps=l;break;case 39:l.Sheet!=null&&(t.SID=l.Sheet),l.Ref=Ri(l.Ptg,null,null,s,t),delete t.SID,delete l.Ptg,i.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([u,l]):s[0]=[u,l],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(l),s.XTI=s.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(u),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(u),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!c.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},t),_q(r),r.Names=i,r.supbooks=s,r}function t1e(e,t,r){return t.slice(-4)===".bin"?e1e(e,r):Yve(e,r)}function r1e(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?Rve(e,n,r,a,i,s,o):Xge(e,n,r,a,i,s,o)}function n1e(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?Vve(e,n,r,a,i):Bve(e,n,r,a,i)}function a1e(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?dme():hme()}function i1e(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?ume():fme()}function s1e(e,t,r,n){return t.slice(-4)===".bin"?Npe(e,r,n):wpe(e,r,n)}function o1e(e,t,r){return lq(e,r)}function l1e(e,t,r){return t.slice(-4)===".bin"?z0e(e,r):U0e(e,r)}function c1e(e,t,r){return t.slice(-4)===".bin"?ome(e,r):rme(e,r)}function u1e(e,t,r){return t.slice(-4)===".bin"?Zpe(e):Qpe(e)}function f1e(e,t,r,n){return r.slice(-4)===".bin"?eme(e,t,r,n):void 0}function d1e(e,t,r){return t.slice(-4)===".bin"?Ype(e,t,r):Xpe(e,t,r)}var Sq=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,Aq=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Yo(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(Sq),i,s,o,l;if(a)for(l=0;l!=a.length;++l)i=a[l].match(Aq),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(s+1),n[o]=i[2].slice(1,i[2].length-1));return n}function h1e(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(Sq),a,i,s,o;if(n)for(o=0;o!=n.length;++o)a=n[o].match(Aq),(i=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?s="xmlns"+a[1].slice(6):s=a[1].slice(i+1),r[s]=a[2].slice(1,a[2].length-1));return r}var Wg;function p1e(e,t){var r=Wg[e]||an(e);return r==="General"?rh(t):jo(r,t)}function m1e(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=Gn(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=ni(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[an(t)]=a}function g1e(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||bh[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Uv(e.v):e.w=rh(e.v):e.w=p1e(t||"General",e.v)}catch(i){if(r.WTF)throw i}try{var n=Wg[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&Zp(n)){var a=Id(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(r.WTF)throw i}}}function v1e(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=mpe[n.Pattern]||n.Pattern)}e[t.ID]=t}function y1e(e,t,r,n,a,i,s,o,l,c){var u="General",f=n.StyleID,h={};c=c||{};var p=[],g=0;for(f===void 0&&o&&(f=o.StyleID),f===void 0&&s&&(f=s.StyleID);i[f]!==void 0&&(i[f].nf&&(u=i[f].nf),i[f].Interior&&p.push(i[f].Interior),!!i[f].Parent);)f=i[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Gn(e);break;case"String":n.t="s",n.r=_D(an(e)),n.v=e.indexOf("<")>-1?an(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(ni(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=an(e):n.v<60&&(n.v=n.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=Bz[e],c.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=_D(t||e));break}if(g1e(n,u,c),c.cellFormula!==!1)if(n.Formula){var m=an(n.Formula);m.charCodeAt(0)==61&&(m=m.slice(1)),n.f=F0(m,a),delete n.Formula,n.ArrayRange=="RC"?n.F=F0("RC:RC",a):n.ArrayRange&&(n.F=F0(n.ArrayRange,a),l.push([fa(n.F),n.F]))}else for(g=0;g<l.length;++g)a.r>=l[g][0].s.r&&a.r<=l[g][0].e.r&&a.c>=l[g][0].s.c&&a.c<=l[g][0].e.c&&(n.F=l[g][1]);c.cellStyles&&(p.forEach(function(v){!h.patternType&&v.patternType&&(h.patternType=v.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function x1e(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function US(e,t){var r=t||{};dz();var n=dg(Jk(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=$n(n));var a=n.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var s=bi(r);return s.type="string",qv.to_workbook(n,s)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(De){a.indexOf("<"+De)>=0&&(i=!0)}),i)return k1e(n,r);Wg={"General Number":"General","General Date":Lr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Lr[15],"Short Date":Lr[14],"Long Time":Lr[19],"Medium Time":Lr[18],"Short Time":Lr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Lr[2],Standard:Lr[4],Percent:Lr[10],Scientific:Lr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],c,u={},f=[],h=r.dense?[]:{},p="",g={},m={},v=Yo('<Data ss:Type="String">'),y=0,b=0,w=0,D={s:{r:2e6,c:2e6},e:{r:0,c:0}},P={},I={},T="",_=0,S=[],j={},E={},N=0,O=[],U=[],Y={},K=[],J,z=!1,V=[],ee=[],Z={},k=0,R=0,q={Sheets:[],WBProps:{date1904:!1}},G={};zv.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var Q="";o=zv.exec(n);)switch(o[3]=(Q=o[3]).toLowerCase()){case"data":if(Q=="data"){if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?y1e(n.slice(y,o.index),T,v,l[l.length-1][0]=="comment"?Y:g,{c:b,r:w},P,K[b],m,V,r):(T="",v=Yo(o[0]),y=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(U.length>0&&(g.c=U),(!r.sheetRows||r.sheetRows>w)&&g.v!==void 0&&(r.dense?(h[w]||(h[w]=[]),h[w][b]=g):h[Ba(b)+wi(w)]=g),g.HRef&&(g.l={Target:an(g.HRef)},g.HRefScreenTip&&(g.l.Tooltip=g.HRefScreenTip),delete g.HRef,delete g.HRefScreenTip),(g.MergeAcross||g.MergeDown)&&(k=b+(parseInt(g.MergeAcross,10)|0),R=w+(parseInt(g.MergeDown,10)|0),S.push({s:{c:b,r:w},e:{c:k,r:R}})),!r.sheetStubs)g.MergeAcross?b=k+1:++b;else if(g.MergeAcross||g.MergeDown){for(var ie=b;ie<=k;++ie)for(var ue=w;ue<=R;++ue)(ie>b||ue>w)&&(r.dense?(h[ue]||(h[ue]=[]),h[ue][ie]={t:"z"}):h[Ba(ie)+wi(ue)]={t:"z"});b=k+1}else++b;else g=h1e(o[0]),g.Index&&(b=+g.Index-1),b<D.s.c&&(D.s.c=b),b>D.e.c&&(D.e.c=b),o[0].slice(-2)==="/>"&&++b,U=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(w<D.s.r&&(D.s.r=w),w>D.e.r&&(D.e.r=w),o[0].slice(-2)==="/>"&&(m=Yo(o[0]),m.Index&&(w=+m.Index-1)),b=0,++w):(m=Yo(o[0]),m.Index&&(w=+m.Index-1),Z={},(m.AutoFitHeight=="0"||m.Height)&&(Z.hpx=parseInt(m.Height,10),Z.hpt=oq(Z.hpx),ee[w]=Z),m.Hidden=="1"&&(Z.hidden=!0,ee[w]=Z));break;case"worksheet":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));f.push(p),D.s.r<=D.e.r&&D.s.c<=D.e.c&&(h["!ref"]=tn(D),r.sheetRows&&r.sheetRows<=D.e.r&&(h["!fullref"]=h["!ref"],D.e.r=r.sheetRows-1,h["!ref"]=tn(D))),S.length&&(h["!merges"]=S),K.length>0&&(h["!cols"]=K),ee.length>0&&(h["!rows"]=ee),u[p]=h}else D={s:{r:2e6,c:2e6},e:{r:0,c:0}},w=b=0,l.push([o[3],!1]),c=Yo(o[0]),p=an(c.Name),h=r.dense?[]:{},S=[],V=[],ee=[],G={name:p,Hidden:0},q.Sheets.push(G);break;case"table":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),K=[],z=!1}break;case"style":o[1]==="/"?v1e(P,I,r):I=Yo(o[0]);break;case"numberformat":I.nf=an(Yo(o[0]).Format||"General"),Wg[I.nf]&&(I.nf=Wg[I.nf]);for(var ne=0;ne!=392&&Lr[ne]!=I.nf;++ne);if(ne==392){for(ne=57;ne!=392;++ne)if(Lr[ne]==null){Ud(I.nf,ne);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(J=Yo(o[0]),J.Hidden&&(J.hidden=!0,delete J.Hidden),J.Width&&(J.wpx=parseInt(J.Width,10)),!z&&J.wpx>10){z=!0,is=iq;for(var pe=0;pe<K.length;++pe)K[pe]&&pp(K[pe])}z&&pp(J),K[J.Index-1||K.length]=J;for(var ye=0;ye<+J.Span;++ye)K[K.length]=bi(J);break;case"namedrange":if(o[1]==="/")break;q.Names||(q.Names=[]);var W=Tr(o[0]),Pe={Name:W.Name,Ref:F0(W.RefersTo.slice(1),{r:0,c:0})};q.Sheets.length>0&&(Pe.Sheet=q.Sheets.length-1),q.Names.push(Pe);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?T+=n.slice(_,o.index):_=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;I.Interior=Yo(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?rhe(j,Q,n.slice(N,o.index)):N=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));x1e(Y),U.push(Y)}else l.push([o[3],!1]),c=Yo(o[0]),Y={a:c.Author};break;case"autofilter":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var Ce=Yo(o[0]);h["!autofilter"]={ref:F0(Ce.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return s8(n,r);var Ee=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Ee=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Ee=!1}break;case"excelworkbook":switch(o[3]){case"date1904":q.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Ee=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:Ee=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(N,o.index)){case"SheetHidden":G.Hidden=1;break;case"SheetVeryHidden":G.Hidden=2;break}else N=o.index+o[0].length;break;case"header":h["!margins"]||qg(h["!margins"]={},"xlml"),isNaN(+Tr(o[0]).Margin)||(h["!margins"].header=+Tr(o[0]).Margin);break;case"footer":h["!margins"]||qg(h["!margins"]={},"xlml"),isNaN(+Tr(o[0]).Margin)||(h["!margins"].footer=+Tr(o[0]).Margin);break;case"pagemargins":var oe=Tr(o[0]);h["!margins"]||qg(h["!margins"]={},"xlml"),isNaN(+oe.Top)||(h["!margins"].top=+oe.Top),isNaN(+oe.Left)||(h["!margins"].left=+oe.Left),isNaN(+oe.Right)||(h["!margins"].right=+oe.Right),isNaN(+oe.Bottom)||(h["!margins"].bottom=+oe.Bottom);break;case"displayrighttoleft":q.Views||(q.Views=[]),q.Views[0]||(q.Views[0]={}),q.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Ee=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Ee=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Ee=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Ee=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Ee=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Ee=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Ee=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Ee=!1}break;case"smarttags":break;default:Ee=!1;break}if(Ee||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?m1e(E,Q,O,n.slice(N,o.index)):(O=o,N=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var ve={};return!r.bookSheets&&!r.bookProps&&(ve.Sheets=u),ve.SheetNames=f,ve.Workbook=q,ve.SSF=bi(Lr),ve.Props=j,ve.Custprops=E,ve}function kT(e,t){switch(hC(t=t||{}),t.type||"base64"){case"base64":return US(Zs(e),t);case"binary":case"buffer":case"file":return US(e,t);case"array":return US(vh(e),t)}}function b1e(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=Dde(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=Lde(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var w1e=[60,1084,2066,2165,2175];function _1e(e,t,r,n,a){var i=n,s=[],o=r.slice(r.l,r.l+i);if(a&&a.enc&&a.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(o)}s.push(o),r.l+=i;for(var l=Nc(r,r.l),c=CT[l],u=0;c!=null&&w1e.indexOf(l)>-1;)i=Nc(r,r.l+2),u=r.l+4,l==2066?u+=4:(l==2165||l==2175)&&(u+=12),o=r.slice(u,r.l+4+i),s.push(o),r.l+=4+i,c=CT[l=Nc(r,r.l)];var f=Xu(s);pi(f,0);var h=0;f.lens=[];for(var p=0;p<s.length;++p)f.lens.push(h),h+=s[p].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,a)}function Dl(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Lr[n])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||bh[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Uv(e.v):e.w=rh(e.v):e.w=jo(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&n&&e.t=="n"&&Zp(Lr[n]||String(n))){var a=Id(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function bx(e,t,r){return{v:e,ixfe:t,t:r}}function S1e(e,t){var r={opts:{}},n={},a=t.dense?[]:{},i={},s={},o=null,l=[],c="",u={},f,h="",p,g,m,v,y={},b=[],w,D,P=[],I=[],T={Sheets:[],WBProps:{date1904:!1},Views:[{}]},_={},S=function(_t){return _t<8?Vd[_t]:_t<64&&I[_t-8]||Vd[_t]},j=function(_t,nt,nr){var Wt=nt.XF.data;if(!(!Wt||!Wt.patternType||!nr||!nr.cellStyles)){nt.s={},nt.s.patternType=Wt.patternType;var zr;(zr=Wv(S(Wt.icvFore)))&&(nt.s.fgColor={rgb:zr}),(zr=Wv(S(Wt.icvBack)))&&(nt.s.bgColor={rgb:zr})}},E=function(_t,nt,nr){if(!(Z>1)&&!(nr.sheetRows&&_t.r>=nr.sheetRows)){if(nr.cellStyles&&nt.XF&&nt.XF.data&&j(_t,nt,nr),delete nt.ixfe,delete nt.XF,f=_t,h=Ir(_t),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),_t.r<s.s.r&&(s.s.r=_t.r),_t.c<s.s.c&&(s.s.c=_t.c),_t.r+1>s.e.r&&(s.e.r=_t.r+1),_t.c+1>s.e.c&&(s.e.c=_t.c+1),nr.cellFormula&&nt.f){for(var Wt=0;Wt<b.length;++Wt)if(!(b[Wt][0].s.c>_t.c||b[Wt][0].s.r>_t.r)&&!(b[Wt][0].e.c<_t.c||b[Wt][0].e.r<_t.r)){nt.F=tn(b[Wt][0]),(b[Wt][0].s.c!=_t.c||b[Wt][0].s.r!=_t.r)&&delete nt.f,nt.f&&(nt.f=""+Ri(b[Wt][1],s,_t,V,N));break}}nr.dense?(a[_t.r]||(a[_t.r]=[]),a[_t.r][_t.c]=nt):a[h]=nt}},N={enc:!1,sbcch:0,snames:[],sharedf:y,arrayf:b,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(N.password=t.password);var O,U=[],Y=[],K=[],J=[],z=!1,V=[];V.SheetNames=N.snames,V.sharedf=N.sharedf,V.arrayf=N.arrayf,V.names=[],V.XTI=[];var ee=0,Z=0,k=0,R=[],q=[],G;N.codepage=1200,ul(1200);for(var Q=!1;e.l<e.length-1;){var ie=e.l,ue=e.read_shift(2);if(ue===0&&ee===10)break;var ne=e.l===e.length?0:e.read_shift(2),pe=CT[ue];if(pe&&pe.f){if(t.bookSheets&&ee===133&&ue!==133)break;if(ee=ue,pe.r===2||pe.r==12){var ye=e.read_shift(2);if(ne-=2,!N.enc&&ye!==ue&&((ye&255)<<8|ye>>8)!==ue)throw new Error("rt mismatch: "+ye+"!="+ue);pe.r==12&&(e.l+=10,ne-=10)}var W={};if(ue===10?W=pe.f(e,ne,N):W=_1e(ue,pe,e,ne,N),Z==0&&[9,521,1033,2057].indexOf(ee)===-1)continue;switch(ue){case 34:r.opts.Date1904=T.WBProps.date1904=W;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(N.enc||(e.l=0),N.enc=W,!t.password)throw new Error("File is password-protected");if(W.valid==null)throw new Error("Encryption scheme unsupported");if(!W.valid)throw new Error("Password is incorrect");break;case 92:N.lastuser=W;break;case 66:var Pe=Number(W);switch(Pe){case 21010:Pe=1200;break;case 32768:Pe=1e4;break;case 32769:Pe=1252;break}ul(N.codepage=Pe),Q=!0;break;case 317:N.rrtabid=W;break;case 25:N.winlocked=W;break;case 439:r.opts.RefreshAll=W;break;case 12:r.opts.CalcCount=W;break;case 16:r.opts.CalcDelta=W;break;case 17:r.opts.CalcIter=W;break;case 13:r.opts.CalcMode=W;break;case 14:r.opts.CalcPrecision=W;break;case 95:r.opts.CalcSaveRecalc=W;break;case 15:N.CalcRefMode=W;break;case 2211:r.opts.FullCalc=W;break;case 129:W.fDialog&&(a["!type"]="dialog"),W.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),W.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:P.push(W);break;case 430:V.push([W]),V[V.length-1].XTI=[];break;case 35:case 547:V[V.length-1].push(W);break;case 24:case 536:G={Name:W.Name,Ref:Ri(W.rgce,s,null,V,N)},W.itab>0&&(G.Sheet=W.itab-1),V.names.push(G),V[0]||(V[0]=[],V[0].XTI=[]),V[V.length-1].push(W),W.Name=="_xlnm._FilterDatabase"&&W.itab>0&&W.rgce&&W.rgce[0]&&W.rgce[0][0]&&W.rgce[0][0][0]=="PtgArea3d"&&(q[W.itab-1]={ref:tn(W.rgce[0][0][1][2])});break;case 22:N.ExternCount=W;break;case 23:V.length==0&&(V[0]=[],V[0].XTI=[]),V[V.length-1].XTI=V[V.length-1].XTI.concat(W),V.XTI=V.XTI.concat(W);break;case 2196:if(N.biff<8)break;G!=null&&(G.Comment=W[1]);break;case 18:a["!protect"]=W;break;case 19:W!==0&&N.WTF&&console.error("Password verifier: "+W);break;case 133:i[W.pos]=W,N.snames.push(W.name);break;case 10:{if(--Z)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,a["!ref"]=tn(s),t.sheetRows&&t.sheetRows<=s.e.r){var Ce=s.e.r;s.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=tn(s),s.e.r=Ce}s.e.r++,s.e.c++}U.length>0&&(a["!merges"]=U),Y.length>0&&(a["!objects"]=Y),K.length>0&&(a["!cols"]=K),J.length>0&&(a["!rows"]=J),T.Sheets.push(_)}c===""?u=a:n[c]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(N.biff===8&&(N.biff={9:2,521:3,1033:4}[ue]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[W.BIFFVer]||8),N.biffguess=W.BIFFVer==0,W.BIFFVer==0&&W.dt==4096&&(N.biff=5,Q=!0,ul(N.codepage=28591)),N.biff==8&&W.BIFFVer==0&&W.dt==16&&(N.biff=2),Z++)break;if(a=t.dense?[]:{},N.biff<8&&!Q&&(Q=!0,ul(N.codepage=t.codepage||1252)),N.biff<5||W.BIFFVer==0&&W.dt==4096){c===""&&(c="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var Ee={pos:e.l-ne,name:c};i[Ee.pos]=Ee,N.snames.push(c)}else c=(i[ie]||{name:""}).name;W.dt==32&&(a["!type"]="chart"),W.dt==64&&(a["!type"]="macro"),U=[],Y=[],N.arrayf=b=[],K=[],J=[],z=!1,_={Hidden:(i[ie]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[W.r]||[])[W.c]:a[Ir({c:W.c,r:W.r})])&&++W.c,w={ixfe:W.ixfe,XF:P[W.ixfe]||{},v:W.val,t:"n"},k>0&&(w.z=R[w.ixfe>>8&63]),Dl(w,t,r.opts.Date1904),E({c:W.c,r:W.r},w,t);break;case 5:case 517:w={ixfe:W.ixfe,XF:P[W.ixfe],v:W.val,t:W.t},k>0&&(w.z=R[w.ixfe>>8&63]),Dl(w,t,r.opts.Date1904),E({c:W.c,r:W.r},w,t);break;case 638:w={ixfe:W.ixfe,XF:P[W.ixfe],v:W.rknum,t:"n"},k>0&&(w.z=R[w.ixfe>>8&63]),Dl(w,t,r.opts.Date1904),E({c:W.c,r:W.r},w,t);break;case 189:for(var oe=W.c;oe<=W.C;++oe){var ve=W.rkrec[oe-W.c][0];w={ixfe:ve,XF:P[ve],v:W.rkrec[oe-W.c][1],t:"n"},k>0&&(w.z=R[w.ixfe>>8&63]),Dl(w,t,r.opts.Date1904),E({c:oe,r:W.r},w,t)}break;case 6:case 518:case 1030:{if(W.val=="String"){o=W;break}if(w=bx(W.val,W.cell.ixfe,W.tt),w.XF=P[w.ixfe],t.cellFormula){var De=W.formula;if(De&&De[0]&&De[0][0]&&De[0][0][0]=="PtgExp"){var Te=De[0][0][1][0],Re=De[0][0][1][1],Ne=Ir({r:Te,c:Re});y[Ne]?w.f=""+Ri(W.formula,s,W.cell,V,N):w.F=((t.dense?(a[Te]||[])[Re]:a[Ne])||{}).F}else w.f=""+Ri(W.formula,s,W.cell,V,N)}k>0&&(w.z=R[w.ixfe>>8&63]),Dl(w,t,r.opts.Date1904),E(W.cell,w,t),o=W}break;case 7:case 519:if(o)o.val=W,w=bx(W,o.cell.ixfe,"s"),w.XF=P[w.ixfe],t.cellFormula&&(w.f=""+Ri(o.formula,s,o.cell,V,N)),k>0&&(w.z=R[w.ixfe>>8&63]),Dl(w,t,r.opts.Date1904),E(o.cell,w,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{b.push(W);var qe=Ir(W[0].s);if(p=t.dense?(a[W[0].s.r]||[])[W[0].s.c]:a[qe],t.cellFormula&&p){if(!o||!qe||!p)break;p.f=""+Ri(W[1],s,W[0],V,N),p.F=tn(W[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!o)break;y[Ir(o.cell)]=W[0],p=t.dense?(a[o.cell.r]||[])[o.cell.c]:a[Ir(o.cell)],(p||{}).f=""+Ri(W[0],s,f,V,N)}}break;case 253:w=bx(l[W.isst].t,W.ixfe,"s"),l[W.isst].h&&(w.h=l[W.isst].h),w.XF=P[w.ixfe],k>0&&(w.z=R[w.ixfe>>8&63]),Dl(w,t,r.opts.Date1904),E({c:W.c,r:W.r},w,t);break;case 513:t.sheetStubs&&(w={ixfe:W.ixfe,XF:P[W.ixfe],t:"z"},k>0&&(w.z=R[w.ixfe>>8&63]),Dl(w,t,r.opts.Date1904),E({c:W.c,r:W.r},w,t));break;case 190:if(t.sheetStubs)for(var je=W.c;je<=W.C;++je){var Je=W.ixfe[je-W.c];w={ixfe:Je,XF:P[Je],t:"z"},k>0&&(w.z=R[w.ixfe>>8&63]),Dl(w,t,r.opts.Date1904),E({c:je,r:W.r},w,t)}break;case 214:case 516:case 4:w=bx(W.val,W.ixfe,"s"),w.XF=P[w.ixfe],k>0&&(w.z=R[w.ixfe>>8&63]),Dl(w,t,r.opts.Date1904),E({c:W.c,r:W.r},w,t);break;case 0:case 512:Z===1&&(s=W);break;case 252:l=W;break;case 1054:if(N.biff==4){R[k++]=W[1];for(var ut=0;ut<k+163&&Lr[ut]!=W[1];++ut);ut>=163&&Ud(W[1],k+163)}else Ud(W[1],W[0]);break;case 30:{R[k++]=W;for(var ot=0;ot<k+163&&Lr[ot]!=W;++ot);ot>=163&&Ud(W,k+163)}break;case 229:U=U.concat(W);break;case 93:Y[W.cmo[0]]=N.lastobj=W;break;case 438:N.lastobj.TxO=W;break;case 127:N.lastobj.ImData=W;break;case 440:for(v=W[0].s.r;v<=W[0].e.r;++v)for(m=W[0].s.c;m<=W[0].e.c;++m)p=t.dense?(a[v]||[])[m]:a[Ir({c:m,r:v})],p&&(p.l=W[1]);break;case 2048:for(v=W[0].s.r;v<=W[0].e.r;++v)for(m=W[0].s.c;m<=W[0].e.c;++m)p=t.dense?(a[v]||[])[m]:a[Ir({c:m,r:v})],p&&p.l&&(p.l.Tooltip=W[1]);break;case 28:{if(N.biff<=5&&N.biff>=2)break;p=t.dense?(a[W[0].r]||[])[W[0].c]:a[Ir(W[0])];var wt=Y[W[2]];p||(t.dense?(a[W[0].r]||(a[W[0].r]=[]),p=a[W[0].r][W[0].c]={t:"z"}):p=a[Ir(W[0])]={t:"z"},s.e.r=Math.max(s.e.r,W[0].r),s.s.r=Math.min(s.s.r,W[0].r),s.e.c=Math.max(s.e.c,W[0].c),s.s.c=Math.min(s.s.c,W[0].c)),p.c||(p.c=[]),g={a:W[1],t:wt.TxO.t},p.c.push(g)}break;case 2173:Wpe(P[W.ixfe],W.ext);break;case 125:{if(!N.cellStyles)break;for(;W.e>=W.s;)K[W.e--]={width:W.w/256,level:W.level||0,hidden:!!(W.flags&1)},z||(z=!0,lC(W.w/256)),pp(K[W.e+1])}break;case 520:{var kt={};W.level!=null&&(J[W.r]=kt,kt.level=W.level),W.hidden&&(J[W.r]=kt,kt.hidden=!0),W.hpt&&(J[W.r]=kt,kt.hpt=W.hpt,kt.hpx=Hv(W.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||qg(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ue]]=W;break;case 161:a["!margins"]||qg(a["!margins"]={}),a["!margins"].header=W.header,a["!margins"].footer=W.footer;break;case 574:W.RTL&&(T.Views[0].RTL=!0);break;case 146:I=W;break;case 2198:O=W;break;case 140:D=W;break;case 442:c?_.CodeName=W||_.name:T.WBProps.CodeName=W||"ThisWorkbook";break}}else pe||console.error("Missing Info for XLS Record 0x"+ue.toString(16)),e.l+=ne}return r.SheetNames=ec(i).sort(function(Pt,_t){return Number(Pt)-Number(_t)}).map(function(Pt){return i[Pt].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&u["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=u)):r.Preamble=u,r.Sheets&&q.forEach(function(Pt,_t){r.Sheets[r.SheetNames[_t]]["!autofilter"]=Pt}),r.Strings=l,r.SSF=bi(Lr),N.enc&&(r.Encryption=N.enc),O&&(r.Themes=O),r.Metadata={},D!==void 0&&(r.Metadata.Country=D),V.names.length>0&&(T.Names=V.names),r.Workbook=T,r}var t8={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function A1e(e,t,r){var n=Zr.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=FD(n,Ude,t8.DSI);for(var i in a)t[i]=a[i]}catch(c){if(r.WTF)throw c}var s=Zr.find(e,"/!SummaryInformation");if(s&&s.size>0)try{var o=FD(s,Vde,t8.SI);for(var l in o)t[l]==null&&(t[l]=o[l])}catch(c){if(r.WTF)throw c}t.HeadingPairs&&t.TitlesOfParts&&(Vz(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function Tq(e,t){t||(t={}),hC(t),ez(),t.codepage&&Wk(t.codepage);var r,n;if(e.FullPaths){if(Zr.find(e,"/encryption"))throw new Error("File is password-protected");r=Zr.find(e,"!CompObj"),n=Zr.find(e,"/Workbook")||Zr.find(e,"/Book")}else{switch(t.type){case"base64":e=ll(Zs(e));break;case"binary":e=ll(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}pi(e,0),n={content:e}}var a,i;if(r&&b1e(r),t.bookProps&&!t.bookSheets)a={};else{var s=Yr?"buffer":"array";if(n&&n.content)a=S1e(n.content,t);else if((i=Zr.find(e,"PerfectOffice_MAIN"))&&i.content)a=Vg.to_workbook(i.content,(t.type=s,t));else if((i=Zr.find(e,"NativeContent_MAIN"))&&i.content)a=Vg.to_workbook(i.content,(t.type=s,t));else throw(i=Zr.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Zr.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=cme(e))}var o={};return e.FullPaths&&A1e(e,o,t),a.Props=a.Custprops=o,t.bookFiles&&(a.cfb=e),a}var Ab={0:{f:ive},1:{f:cve},2:{f:yve},3:{f:hve},4:{f:fve},5:{f:vve},6:{f:wve},7:{f:mve},8:{f:Eve},9:{f:Tve},10:{f:Sve},11:{f:Ave},12:{f:uve},13:{f:xve},14:{f:pve},15:{f:dve},16:{f:bq},17:{f:_ve},18:{f:gve},19:{f:rC},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Zve},40:{},42:{},43:{f:Spe},44:{f:_pe},45:{f:Ape},46:{f:Epe},47:{f:Tpe},48:{},49:{f:Nde},50:{},51:{f:Gpe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:eq},62:{f:bve},63:{f:Jpe},64:{f:Lve},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Yi,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Dve},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:lve},148:{f:sve,p:16},151:{f:Cve},152:{},153:{f:Qve},154:{},155:{},156:{f:Xve},157:{},158:{},159:{T:1,f:V0e},160:{T:-1},161:{T:1,f:xh},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Nve},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Hpe},336:{T:-1},337:{f:Kpe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:AT},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Zz},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Pve},427:{f:Ove},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:jve},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:ove},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:kve},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:AT},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:sme},633:{T:1},634:{T:-1},635:{T:1,f:ime},636:{T:-1},637:{f:Cde},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Uve},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Mve},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},CT={6:{f:$S},10:{f:Fu},12:{f:ka},13:{f:ka},14:{f:pa},15:{f:pa},16:{f:Vi},17:{f:pa},18:{f:pa},19:{f:ka},20:{f:VD},21:{f:VD},23:{f:Zz},24:{f:qD},25:{f:pa},26:{},27:{},28:{f:n0e},29:{},34:{f:pa},35:{f:zD},38:{f:Vi},39:{f:Vi},40:{f:Vi},41:{f:Vi},42:{f:pa},43:{f:pa},47:{f:ope},49:{f:Fhe},51:{f:ka},60:{},61:{f:Lhe},64:{f:pa},65:{f:Rhe},66:{f:ka},77:{},80:{},81:{},82:{},85:{f:ka},89:{},90:{},91:{},92:{f:Nhe},93:{f:i0e},94:{},95:{f:pa},96:{},97:{},99:{f:pa},125:{f:eq},128:{f:Khe},129:{f:khe},130:{f:ka},131:{f:pa},132:{f:pa},133:{f:Che},134:{},140:{f:f0e},141:{f:ka},144:{},146:{f:h0e},151:{},152:{},153:{},154:{},155:{},156:{f:ka},157:{},158:{},160:{f:y0e},161:{f:m0e},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:qhe},190:{f:Whe},193:{f:Fu},197:{},198:{},199:{},200:{},201:{},202:{f:pa},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:ka},220:{},221:{f:pa},222:{},224:{f:Ghe},225:{f:Ehe},226:{f:Fu},227:{},229:{f:a0e},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:Phe},253:{f:$he},255:{f:Ohe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:Gz},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:pa},353:{f:Fu},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:Xhe},431:{f:pa},432:{},433:{},434:{},437:{},438:{f:l0e},439:{f:pa},440:{f:c0e},441:{},442:{f:ey},443:{},444:{f:ka},445:{},446:{},448:{f:Fu},449:{f:Dhe,r:2},450:{f:Fu},512:{f:BD},513:{f:v0e},515:{f:Yhe},516:{f:Bhe},517:{f:UD},519:{f:x0e},520:{f:Ihe},523:{},545:{f:WD},549:{f:$D},566:{},574:{f:Mhe},638:{f:zhe},659:{},1048:{},1054:{f:Uhe},1084:{},1212:{f:e0e},2048:{f:u0e},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:vx},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Fu},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:p0e,r:12},2173:{f:qpe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:pa,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:Zhe,r:12},2197:{},2198:{f:Fpe,r:12},2199:{},2200:{},2201:{},2202:{f:t0e,r:12},2203:{f:Fu},2204:{},2205:{},2206:{},2207:{},2211:{f:jhe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:ka},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:g0e},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:d0e},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:BD},1:{},2:{f:S0e},3:{f:_0e},4:{f:w0e},5:{f:UD},7:{f:A0e},8:{},9:{f:vx},11:{},22:{f:ka},30:{f:Vhe},31:{},32:{},33:{f:WD},36:{},37:{f:$D},50:{f:T0e},62:{},52:{},67:{},68:{f:ka},69:{},86:{},126:{},127:{f:b0e},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:E0e},223:{},234:{},354:{},421:{},518:{f:$S},521:{f:vx},536:{f:qD},547:{f:zD},561:{},579:{},1030:{f:$S},1033:{f:vx},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Xo(e,t,r,n){var a=t;if(!isNaN(a)){var i=(r||[]).length||0,s=e.next(4);s.write_shift(2,a),s.write_shift(2,i),i>0&&Dz(r)&&e.push(r)}}function r8(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),s=a.index,o=i&&i.index||e.length,l=Yfe(e.slice(s,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,u=0,f=0,h=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},g=[];for(s=0;s<l.length;++s){var m=l[s].trim(),v=m.slice(0,3).toLowerCase();if(v=="<tr"){if(++c,r.sheetRows&&r.sheetRows<=c){--c;break}u=0;continue}if(!(v!="<td"&&v!="<th")){var y=m.split(/<\/t[dh]>/i);for(o=0;o<y.length;++o){var b=y[o].trim();if(b.match(/<t[dh]/i)){for(var w=b,D=0;w.charAt(0)=="<"&&(D=w.indexOf(">"))>-1;)w=w.slice(D+1);for(var P=0;P<g.length;++P){var I=g[P];I.s.c==u&&I.s.r<c&&c<=I.e.r&&(u=I.e.c+1,P=-1)}var T=Tr(b.slice(0,b.indexOf(">")));h=T.colspan?+T.colspan:1,((f=+T.rowspan)>1||h>1)&&g.push({s:{r:c,c:u},e:{r:c+(f||1)-1,c:u+h-1}});var _=T.t||T["data-t"]||"";if(!w.length){u+=h;continue}if(w=wz(w),p.s.r>c&&(p.s.r=c),p.e.r<c&&(p.e.r=c),p.s.c>u&&(p.s.c=u),p.e.c<u&&(p.e.c=u),!w.length){u+=h;continue}var S={t:"s",v:w};r.raw||!w.trim().length||_=="s"||(w==="TRUE"?S={t:"b",v:!0}:w==="FALSE"?S={t:"b",v:!1}:isNaN(gl(w))?isNaN(hp(w).getDate())||(S={t:"d",v:ni(w)},r.cellDates||(S={t:"n",v:ps(S.v)}),S.z=r.dateNF||Lr[14]):S={t:"n",v:gl(w)}),r.dense?(n[c]||(n[c]=[]),n[c][u]=S):n[Ir({r:c,c:u})]=S,u+=h}}}}return n["!ref"]=tn(p),g.length&&(n["!merges"]=g),n}function T1e(e,t,r,n){for(var a=e["!merges"]||[],i=[],s=t.s.c;s<=t.e.c;++s){for(var o=0,l=0,c=0;c<a.length;++c)if(!(a[c].s.r>r||a[c].s.c>s)&&!(a[c].e.r<r||a[c].e.c<s)){if(a[c].s.r<r||a[c].s.c<s){o=-1;break}o=a[c].e.r-a[c].s.r+1,l=a[c].e.c-a[c].s.c+1;break}if(!(o<0)){var u=Ir({r,c:s}),f=n.dense?(e[r]||[])[s]:e[u],h=f&&f.v!=null&&(f.h||Qk(f.w||(Qc(f),f.w)||""))||"",p={};o>1&&(p.rowspan=o),l>1&&(p.colspan=l),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),p.id=(n.id||"sjs")+"-"+u,i.push(fde("td",h,p))}}var g="<tr>";return g+i.join("")+"</tr>"}var E1e='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',N1e="</body></html>";function k1e(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Hf(r8(r[0],t),t);var n=mC();return r.forEach(function(a,i){gC(n,r8(a,t),"Sheet"+(i+1))}),n}function C1e(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function P1e(e,t){var r=t||{},n=r.header!=null?r.header:E1e,a=r.footer!=null?r.footer:N1e,i=[n],s=em(e["!ref"]);r.dense=Array.isArray(e),i.push(C1e(e,s,r));for(var o=s.s.r;o<=s.e.r;++o)i.push(T1e(e,s,o,r));return i.push("</table>"+a),i.join("")}function Eq(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var s=typeof n.origin=="string"?cs(n.origin):n.origin;a=s.r,i=s.c}var o=t.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var u=em(e["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),a==-1&&(c.e.r=a=u.e.r+1)}var f=[],h=0,p=e["!rows"]||(e["!rows"]=[]),g=0,m=0,v=0,y=0,b=0,w=0;for(e["!cols"]||(e["!cols"]=[]);g<o.length&&m<l;++g){var D=o[g];if(n8(D)){if(n.display)continue;p[m]={hidden:!0}}var P=D.children;for(v=y=0;v<P.length;++v){var I=P[v];if(!(n.display&&n8(I))){var T=I.hasAttribute("data-v")?I.getAttribute("data-v"):I.hasAttribute("v")?I.getAttribute("v"):wz(I.innerHTML),_=I.getAttribute("data-z")||I.getAttribute("z");for(h=0;h<f.length;++h){var S=f[h];S.s.c==y+i&&S.s.r<m+a&&m+a<=S.e.r&&(y=S.e.c+1-i,h=-1)}w=+I.getAttribute("colspan")||1,((b=+I.getAttribute("rowspan")||1)>1||w>1)&&f.push({s:{r:m+a,c:y+i},e:{r:m+a+(b||1)-1,c:y+i+(w||1)-1}});var j={t:"s",v:T},E=I.getAttribute("data-t")||I.getAttribute("t")||"";T!=null&&(T.length==0?j.t=E||"z":n.raw||T.trim().length==0||E=="s"||(T==="TRUE"?j={t:"b",v:!0}:T==="FALSE"?j={t:"b",v:!1}:isNaN(gl(T))?isNaN(hp(T).getDate())||(j={t:"d",v:ni(T)},n.cellDates||(j={t:"n",v:ps(j.v)}),j.z=n.dateNF||Lr[14]):j={t:"n",v:gl(T)})),j.z===void 0&&_!=null&&(j.z=_);var N="",O=I.getElementsByTagName("A");if(O&&O.length)for(var U=0;U<O.length&&!(O[U].hasAttribute("href")&&(N=O[U].getAttribute("href"),N.charAt(0)!="#"));++U);N&&N.charAt(0)!="#"&&(j.l={Target:N}),n.dense?(e[m+a]||(e[m+a]=[]),e[m+a][y+i]=j):e[Ir({c:y+i,r:m+a})]=j,c.e.c<y+i&&(c.e.c=y+i),y+=w}}++m}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),c.e.r=Math.max(c.e.r,m-1+a),e["!ref"]=tn(c),m>=l&&(e["!fullref"]=tn((c.e.r=o.length-g+m-1+a,c))),e}function Nq(e,t){var r=t||{},n=r.dense?[]:{};return Eq(n,e,t)}function O1e(e,t){return Hf(Nq(e,t),t)}function n8(e){var t="",r=I1e(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function I1e(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function j1e(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=an(t.replace(/<[^>]*>/g,""));return[r]}var a8={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function kq(e,t){var r=t||{},n=Jk(e),a=[],i,s,o={name:""},l="",c=0,u,f,h={},p=[],g=r.dense?[]:{},m,v,y={value:""},b="",w=0,D=[],P=-1,I=-1,T={s:{r:1e6,c:1e7},e:{r:0,c:0}},_=0,S={},j=[],E={},N=0,O=0,U=[],Y=1,K=1,J=[],z={Names:[]},V={},ee=["",""],Z=[],k={},R="",q=0,G=!1,Q=!1,ie=0;for(zv.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");m=zv.exec(n);)switch(m[3]=m[3].replace(/_.*$/,"")){case"table":case"工作表":m[1]==="/"?(T.e.c>=T.s.c&&T.e.r>=T.s.r?g["!ref"]=tn(T):g["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=T.e.r&&(g["!fullref"]=g["!ref"],T.e.r=r.sheetRows-1,g["!ref"]=tn(T)),j.length&&(g["!merges"]=j),U.length&&(g["!rows"]=U),u.name=u.名称||u.name,typeof JSON<"u"&&JSON.stringify(u),p.push(u.name),h[u.name]=g,Q=!1):m[0].charAt(m[0].length-2)!=="/"&&(u=Tr(m[0],!1),P=I=-1,T.s.r=T.s.c=1e7,T.e.r=T.e.c=0,g=r.dense?[]:{},j=[],U=[],Q=!0);break;case"table-row-group":m[1]==="/"?--_:++_;break;case"table-row":case"行":if(m[1]==="/"){P+=Y,Y=1;break}if(f=Tr(m[0],!1),f.行号?P=f.行号-1:P==-1&&(P=0),Y=+f["number-rows-repeated"]||1,Y<10)for(ie=0;ie<Y;++ie)_>0&&(U[P+ie]={level:_});I=-1;break;case"covered-table-cell":m[1]!=="/"&&++I,r.sheetStubs&&(r.dense?(g[P]||(g[P]=[]),g[P][I]={t:"z"}):g[Ir({r:P,c:I})]={t:"z"}),b="",D=[];break;case"table-cell":case"数据":if(m[0].charAt(m[0].length-2)==="/")++I,y=Tr(m[0],!1),K=parseInt(y["number-columns-repeated"]||"1",10),v={t:"z",v:null},y.formula&&r.cellFormula!=!1&&(v.f=JD(an(y.formula))),(y.数据类型||y["value-type"])=="string"&&(v.t="s",v.v=an(y["string-value"]||""),r.dense?(g[P]||(g[P]=[]),g[P][I]=v):g[Ir({r:P,c:I})]=v),I+=K-1;else if(m[1]!=="/"){++I,b="",w=0,D=[],K=1;var ue=Y?P+Y-1:P;if(I>T.e.c&&(T.e.c=I),I<T.s.c&&(T.s.c=I),P<T.s.r&&(T.s.r=P),ue>T.e.r&&(T.e.r=ue),y=Tr(m[0],!1),Z=[],k={},v={t:y.数据类型||y["value-type"],v:null},r.cellFormula)if(y.formula&&(y.formula=an(y.formula)),y["number-matrix-columns-spanned"]&&y["number-matrix-rows-spanned"]&&(N=parseInt(y["number-matrix-rows-spanned"],10)||0,O=parseInt(y["number-matrix-columns-spanned"],10)||0,E={s:{r:P,c:I},e:{r:P+N-1,c:I+O-1}},v.F=tn(E),J.push([E,v.F])),y.formula)v.f=JD(y.formula);else for(ie=0;ie<J.length;++ie)P>=J[ie][0].s.r&&P<=J[ie][0].e.r&&I>=J[ie][0].s.c&&I<=J[ie][0].e.c&&(v.F=J[ie][1]);switch((y["number-columns-spanned"]||y["number-rows-spanned"])&&(N=parseInt(y["number-rows-spanned"],10)||0,O=parseInt(y["number-columns-spanned"],10)||0,E={s:{r:P,c:I},e:{r:P+N-1,c:I+O-1}},j.push(E)),y["number-columns-repeated"]&&(K=parseInt(y["number-columns-repeated"],10)),v.t){case"boolean":v.t="b",v.v=Gn(y["boolean-value"]);break;case"float":v.t="n",v.v=parseFloat(y.value);break;case"percentage":v.t="n",v.v=parseFloat(y.value);break;case"currency":v.t="n",v.v=parseFloat(y.value);break;case"date":v.t="d",v.v=ni(y["date-value"]),r.cellDates||(v.t="n",v.v=ps(v.v)),v.z="m/d/yy";break;case"time":v.t="n",v.v=Hfe(y["time-value"])/86400,r.cellDates&&(v.t="d",v.v=x5(v.v)),v.z="HH:MM:SS";break;case"number":v.t="n",v.v=parseFloat(y.数据数值);break;default:if(v.t==="string"||v.t==="text"||!v.t)v.t="s",y["string-value"]!=null&&(b=an(y["string-value"]),D=[]);else throw new Error("Unsupported value type "+v.t)}}else{if(G=!1,v.t==="s"&&(v.v=b||"",D.length&&(v.R=D),G=w==0),V.Target&&(v.l=V),Z.length>0&&(v.c=Z,Z=[]),b&&r.cellText!==!1&&(v.w=b),G&&(v.t="z",delete v.v),(!G||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=P))for(var ne=0;ne<Y;++ne){if(K=parseInt(y["number-columns-repeated"]||"1",10),r.dense)for(g[P+ne]||(g[P+ne]=[]),g[P+ne][I]=ne==0?v:bi(v);--K>0;)g[P+ne][I+K]=bi(v);else for(g[Ir({r:P+ne,c:I})]=v;--K>0;)g[Ir({r:P+ne,c:I+K})]=bi(v);T.e.c<=I&&(T.e.c=I)}K=parseInt(y["number-columns-repeated"]||"1",10),I+=K-1,K=0,v={},b="",D=[]}V={};break;case"document":case"document-content":case"电子表格文档":case"spreadsheet":case"主体":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(m[1]==="/"){if((i=a.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!0]);break;case"annotation":if(m[1]==="/"){if((i=a.pop())[0]!==m[3])throw"Bad state: "+i;k.t=b,D.length&&(k.R=D),k.a=R,Z.push(k)}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!1]);R="",q=0,b="",w=0,D=[];break;case"creator":m[1]==="/"?R=n.slice(q,m.index):q=m.index+m[0].length;break;case"meta":case"元数据":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(m[1]==="/"){if((i=a.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!1]);b="",w=0,D=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(m[1]==="/"){if(S[o.name]=l,(i=a.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&(l="",o=Tr(m[0],!1),a.push([m[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":s=Tr(m[0],!1),l+=a8[m[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":s=Tr(m[0],!1),l+=a8[m[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(m[0].slice(-2)==="/>")break;if(m[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":l+=n.slice(c,m.index);break}else c=m.index+m[0].length;break;case"named-range":s=Tr(m[0],!1),ee=BS(s["cell-range-address"]);var pe={Name:s.name,Ref:ee[0]+"!"+ee[1]};Q&&(pe.Sheet=p.length),z.Names.push(pe);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"电子表格":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"文本串":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(m[1]==="/"&&(!y||!y["string-value"])){var ye=j1e(n.slice(w,m.index));b=(b.length>0?b+`
`:"")+ye[0]}else Tr(m[0],!1),w=m.index+m[0].length;break;case"s":break;case"database-range":if(m[1]==="/")break;try{ee=BS(Tr(m[0])["target-range-address"]),h[ee[0]]["!autofilter"]={ref:ee[1]}}catch{}break;case"date":break;case"object":break;case"title":case"标题":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(m[1]!=="/"){if(V=Tr(m[0],!1),!V.href)break;V.Target=an(V.href),delete V.href,V.Target.charAt(0)=="#"&&V.Target.indexOf(".")>-1?(ee=BS(V.Target.slice(1)),V.Target="#"+ee[0]+"!"+ee[1]):V.Target.match(/^\.\.[\\\/]/)&&(V.Target=V.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(m[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"表:":case"字:":break;default:if(r.WTF)throw new Error(m)}}var W={Sheets:h,SheetNames:p,Workbook:z};return r.bookSheets&&delete W.Sheets,W}function i8(e,t){t=t||{},bo(e,"META-INF/manifest.xml")&&Yde(Na(e,"META-INF/manifest.xml"),t);var r=Hs(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=kq($n(r),t);return bo(e,"meta.xml")&&(n.Props=Uz(Na(e,"meta.xml"))),n}function s8(e,t){return kq(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function fC(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function PT(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):$n(vh(e))}function OT(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function o8(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function D1e(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function Gv(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function za(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function qi(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=Gv(e,r),i=a&7;a=Math.floor(a/8);var s=0,o;if(a==0)break;switch(i){case 0:{for(var l=r[0];e[r[0]++]>=128;);o=e.slice(l,r[0])}break;case 5:s=4,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=Gv(e,r),o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var c={data:o,type:i};t[a]==null?t[a]=[c]:t[a].push(c)}return t}function dC(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function L1e(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=Gv(e,n),i=qi(e.slice(n[0],n[0]+a));n[0]+=a;var s={id:za(i[1][0].data),messages:[]};i[2].forEach(function(o){var l=qi(o.data),c=za(l[3][0].data);s.messages.push({meta:l,data:e.slice(n[0],n[0]+c)}),n[0]+=c}),(t=i[3])!=null&&t[0]&&(s.merge=za(i[3][0].data)>>>0>0),r.push(s)}return r}function M1e(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=Gv(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var s=t[r[0]++]>>2;if(s<60)++s;else{var o=s-59;s=t[r[0]],o>1&&(s|=t[r[0]+1]<<8),o>2&&(s|=t[r[0]+2]<<16),o>3&&(s|=t[r[0]+3]<<24),s>>>=0,s++,r[0]+=o}a.push(t.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var l=0,c=0;if(i==1?(c=(t[r[0]]>>2&7)+4,l=(t[r[0]++]&224)<<3,l|=t[r[0]++]):(c=(t[r[0]++]>>2)+1,i==2?(l=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(l=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[OT(a)],l==0)throw new Error("Invalid offset 0");if(l>a[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(a.push(a[0].slice(-l)),c-=l;c>=a[a.length-1].length;)a.push(a[a.length-1]),c-=a[a.length-1].length;a.push(a[0].slice(-l,-l+c))}}var u=OT(a);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function R1e(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(M1e(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return OT(t)}function F1e(e,t,r,n){var a=fC(e),i=a.getUint32(4,!0),s=(n>1?12:8)+o8(i&(n>1?3470:398))*4,o=-1,l=-1,c=NaN,u=new Date(2001,0,1);i&512&&(o=a.getUint32(s,!0),s+=4),s+=o8(i&(n>1?12288:4096))*4,i&16&&(l=a.getUint32(s,!0),s+=4),i&32&&(c=a.getFloat64(s,!0),s+=8),i&64&&(u.setTime(u.getTime()+a.getFloat64(s,!0)*1e3),s+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else if(l>-1)f={t:"s",v:t[l]};else if(!isNaN(c))f={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function $1e(e,t,r){var n=fC(e),a=n.getUint32(8,!0),i=12,s=-1,o=-1,l=NaN,c=NaN,u=new Date(2001,0,1);a&1&&(l=D1e(e,i),i+=16),a&2&&(c=n.getFloat64(i,!0),i+=8),a&4&&(u.setTime(u.getTime()+n.getFloat64(i,!0)*1e3),i+=8),a&8&&(o=n.getUint32(i,!0),i+=4),a&16&&(s=n.getUint32(i,!0),i+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:t[o]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(s>-1)f={t:"s",v:r[s]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function B1e(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return F1e(e,t,r,e[0]);case 5:return $1e(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function wf(e){var t=qi(e);return Gv(t[1][0].data)}function l8(e,t){var r=qi(t.data),n=za(r[1][0].data),a=r[3],i=[];return(a||[]).forEach(function(s){var o=qi(s.data),l=za(o[1][0].data)>>>0;switch(n){case 1:i[l]=PT(o[3][0].data);break;case 8:{var c=e[wf(o[9][0].data)][0],u=qi(c.data),f=e[wf(u[1][0].data)][0],h=za(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var p=qi(f.data);i[l]=p[3].map(function(g){return PT(g.data)}).join("")}break}}),i}function U1e(e,t){var r,n,a,i,s,o,l,c,u,f,h,p,g,m,v=qi(e),y=za(v[1][0].data)>>>0,b=za(v[2][0].data)>>>0,w=((n=(r=v[8])==null?void 0:r[0])==null?void 0:n.data)&&za(v[8][0].data)>0||!1,D,P;if((i=(a=v[7])==null?void 0:a[0])!=null&&i.data&&t!=0)D=(o=(s=v[7])==null?void 0:s[0])==null?void 0:o.data,P=(c=(l=v[6])==null?void 0:l[0])==null?void 0:c.data;else if((f=(u=v[4])==null?void 0:u[0])!=null&&f.data&&t!=1)D=(p=(h=v[4])==null?void 0:h[0])==null?void 0:p.data,P=(m=(g=v[3])==null?void 0:g[0])==null?void 0:m.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var I=w?4:1,T=fC(D),_=[],S=0;S<D.length/2;++S){var j=T.getUint16(S*2,!0);j<65535&&_.push([S,j])}if(_.length!=b)throw"Expected ".concat(b," cells, found ").concat(_.length);var E=[];for(S=0;S<_.length-1;++S)E[_[S][0]]=P.subarray(_[S][1]*I,_[S+1][1]*I);return _.length>=1&&(E[_[_.length-1][0]]=P.subarray(_[_.length-1][1]*I)),{R:y,cells:E}}function V1e(e,t){var r,n=qi(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?za(n[7][0].data)>>>0>0?1:0:-1,i=dC(n[5],function(s){return U1e(s,a)});return{nrows:za(n[4][0].data)>>>0,data:i.reduce(function(s,o){return s[o.R]||(s[o.R]=[]),o.cells.forEach(function(l,c){if(s[o.R][c])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(c));s[o.R][c]=l}),s},[])}}function z1e(e,t,r){var n,a=qi(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(za(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(za(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=tn(i);var s=qi(a[4][0].data),o=l8(e,e[wf(s[4][0].data)][0]),l=(n=s[17])!=null&&n[0]?l8(e,e[wf(s[17][0].data)][0]):[],c=qi(s[3][0].data),u=0;c[1].forEach(function(f){var h=qi(f.data),p=e[wf(h[2][0].data)][0],g=za(p.meta[1][0].data);if(g!=6002)throw new Error("6001 unexpected reference to ".concat(g));var m=V1e(e,p);m.data.forEach(function(v,y){v.forEach(function(b,w){var D=Ir({r:u+y,c:w}),P=B1e(b,o,l);P&&(r[D]=P)})}),u+=m.nrows})}function q1e(e,t){var r=qi(t.data),n={"!ref":"A1"},a=e[wf(r[2][0].data)],i=za(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return z1e(e,a[0],n),n}function W1e(e,t){var r,n=qi(t.data),a={name:(r=n[1])!=null&&r[0]?PT(n[1][0].data):"",sheets:[]},i=dC(n[2],wf);return i.forEach(function(s){e[s].forEach(function(o){var l=za(o.meta[1][0].data);l==6e3&&a.sheets.push(q1e(e,o))})}),a}function H1e(e,t){var r=mC(),n=qi(t.data),a=dC(n[1],wf);if(a.forEach(function(i){e[i].forEach(function(s){var o=za(s.meta[1][0].data);if(o==2){var l=W1e(e,s);l.sheets.forEach(function(c,u){gC(r,c,u==0?l.name:l.name+"_"+u,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function VS(e){var t,r,n,a,i={},s=[];if(e.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=R1e(l.content)}catch(f){return console.log("?? "+l.content.length+" "+(f.message||f))}var u;try{u=L1e(c)}catch(f){return console.log("## "+(f.message||f))}u.forEach(function(f){i[f.id]=f.messages,s.push(f.id)})}}),!s.length)throw new Error("File has no messages");var o=((a=(n=(r=(t=i==null?void 0:i[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&za(i[1][0].meta[1][0].data)==1&&i[1][0];if(o||s.forEach(function(l){i[l].forEach(function(c){var u=za(c.meta[1][0].data)>>>0;if(u==1)if(!o)o=c;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return H1e(i,o)}function G1e(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function hC(e){G1e([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function K1e(e){return A0.WS.indexOf(e)>-1?"sheet":e==A0.CS?"chart":e==A0.DS?"dialog":e==A0.MS?"macro":e&&e.length?e:"sheet"}function Y1e(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,K1e(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function X1e(e,t,r,n,a,i,s,o,l,c,u,f){try{i[n]=Bg(Hs(e,r,!0),t);var h=Na(e,t),p;switch(o){case"sheet":p=r1e(h,t,a,l,i[n],c,u,f);break;case"chart":if(p=n1e(h,t,a,l,i[n],c,u,f),!p||!p["!drawel"])break;var g=pg(p["!drawel"].Target,t),m=TT(g),v=tme(Hs(e,g,!0),Bg(Hs(e,m,!0),g)),y=pg(v,g),b=TT(y);p=$ve(Hs(e,y,!0),y,l,Bg(Hs(e,b,!0),y),c,p);break;case"macro":p=a1e(h,t,a,l,i[n],c,u,f);break;case"dialog":p=i1e(h,t,a,l,i[n],c,u,f);break;default:throw new Error("Unrecognized sheet type "+o)}s[n]=p;var w=[];i&&i[n]&&ec(i[n]).forEach(function(D){var P="";if(i[n][D].Type==A0.CMNT){P=pg(i[n][D].Target,t);var I=c1e(Na(e,P,!0),P,l);if(!I||!I.length)return;GD(p,I,!1)}i[n][D].Type==A0.TCMNT&&(P=pg(i[n][D].Target,t),w=w.concat(nme(Na(e,P,!0),l)))}),w&&w.length&&GD(p,w,!0,l.people||[])}catch(D){if(l.WTF)throw D}}function ho(e){return e.charAt(0)=="/"?e.slice(1):e}function Q1e(e,t){if(dz(),t=t||{},hC(t),bo(e,"META-INF/manifest.xml")||bo(e,"objectdata.xml"))return i8(e,t);if(bo(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof VS<"u"){if(e.FileIndex)return VS(e);var r=Zr.utils.cfb_new();return bD(e).forEach(function(U){Jfe(r,U,Qfe(e,U))}),VS(r)}throw new Error("Unsupported NUMBERS file")}if(!bo(e,"[Content_Types].xml"))throw bo(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):bo(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=bD(e),a=Gde(Hs(e,"[Content_Types].xml")),i=!1,s,o;if(a.workbooks.length===0&&(o="xl/workbook.xml",Na(e,o,!0)&&a.workbooks.push(o)),a.workbooks.length===0){if(o="xl/workbook.bin",!Na(e,o,!0))throw new Error("Could not find workbook");a.workbooks.push(o),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var l={},c={};if(!t.bookSheets&&!t.bookProps){if(zg=[],a.sst)try{zg=l1e(Na(e,ho(a.sst)),a.sst,t)}catch(U){if(t.WTF)throw U}t.cellStyles&&a.themes.length&&(l=o1e(Hs(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(c=s1e(Na(e,ho(a.style)),a.style,l,t))}a.links.map(function(U){try{var Y=Bg(Hs(e,TT(ho(U))),U);return f1e(Na(e,ho(U)),Y,U,t)}catch{}});var u=t1e(Na(e,ho(a.workbooks[0])),a.workbooks[0],t),f={},h="";a.coreprops.length&&(h=Na(e,ho(a.coreprops[0]),!0),h&&(f=Uz(h)),a.extprops.length!==0&&(h=Na(e,ho(a.extprops[0]),!0),h&&Jde(h,f,t)));var p={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(h=Hs(e,ho(a.custprops[0]),!0),h&&(p=ehe(h,t)));var g={};if((t.bookSheets||t.bookProps)&&(u.Sheets?s=u.Sheets.map(function(Y){return Y.name}):f.Worksheets&&f.SheetNames.length>0&&(s=f.SheetNames),t.bookProps&&(g.Props=f,g.Custprops=p),t.bookSheets&&typeof s<"u"&&(g.SheetNames=s),t.bookSheets?g.SheetNames:t.bookProps))return g;s={};var m={};t.bookDeps&&a.calcchain&&(m=u1e(Na(e,ho(a.calcchain)),a.calcchain));var v=0,y={},b,w;{var D=u.Sheets;f.Worksheets=D.length,f.SheetNames=[];for(var P=0;P!=D.length;++P)f.SheetNames[P]=D[P].name}var I=i?"bin":"xml",T=a.workbooks[0].lastIndexOf("/"),_=(a.workbooks[0].slice(0,T+1)+"_rels/"+a.workbooks[0].slice(T+1)+".rels").replace(/^\//,"");bo(e,_)||(_="xl/_rels/workbook."+I+".rels");var S=Bg(Hs(e,_,!0),_.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=d1e(Na(e,ho(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=ame(Na(e,ho(a.people[0])),t)),S&&(S=Y1e(S,u.Sheets));var j=Na(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(v=0;v!=f.Worksheets;++v){var E="sheet";if(S&&S[v]?(b="xl/"+S[v][1].replace(/[\/]?xl\//,""),bo(e,b)||(b=S[v][1]),bo(e,b)||(b=_.replace(/_rels\/.*$/,"")+S[v][1]),E=S[v][2]):(b="xl/worksheets/sheet"+(v+1-j)+"."+I,b=b.replace(/sheet0\./,"sheet.")),w=b.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(v!=t.sheets)continue e;break;case"string":if(f.SheetNames[v].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var N=!1,O=0;O!=t.sheets.length;++O)typeof t.sheets[O]=="number"&&t.sheets[O]==v&&(N=1),typeof t.sheets[O]=="string"&&t.sheets[O].toLowerCase()==f.SheetNames[v].toLowerCase()&&(N=1);if(!N)continue e}}X1e(e,b,w,f.SheetNames[v],v,y,s,E,t,u,l,c)}return g={Directory:a,Workbook:u,Props:f,Custprops:p,Deps:m,Sheets:s,SheetNames:f.SheetNames,Strings:zg,Styles:c,Themes:l,SSF:bi(Lr)},t&&t.bookFiles&&(e.files?(g.keys=n,g.files=e.files):(g.keys=[],g.files={},e.FullPaths.forEach(function(U,Y){U=U.replace(/^Root Entry[\/]/,""),g.keys.push(U),g.files[U]=e.FileIndex[Y]}))),t&&t.bookVBA&&(a.vba.length>0?g.vbaraw=Na(e,ho(a.vba[0]),!0):a.defaults&&a.defaults.bin===lme&&(g.vbaraw=Na(e,"xl/vbaProject.bin",!0))),g}function J1e(e,t){var r=t||{},n="Workbook",a=Zr.find(e,n);try{if(n="/!DataSpaces/Version",a=Zr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(q0e(a.content),n="/!DataSpaces/DataSpaceMap",a=Zr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=H0e(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=Zr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=G0e(a.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=Zr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);Y0e(a.content)}catch{}if(n="/EncryptionInfo",a=Zr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=X0e(a.content);if(n="/EncryptedPackage",a=Zr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],a.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function pC(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Zs(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function Z1e(e,t){return Zr.find(e,"EncryptedPackage")?J1e(e,t):Tq(e,t)}function eye(e,t){var r,n=e,a=t||{};return a.type||(a.type=Yr&&Buffer.isBuffer(e)?"buffer":"base64"),r=yz(n,a),Q1e(r,a)}function Cq(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return kT(e.slice(r),t);default:break e}return qv.to_workbook(e,t)}function tye(e,t){var r="",n=pC(e,t);switch(t.type){case"base64":r=Zs(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=nh(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=$n(r)),t.type="binary",Cq(r,t)}function rye(e,t){var r=e;return t.type=="base64"&&(r=Zs(r)),r=Yu.utils.decode(1200,r.slice(2),"str"),t.type="binary",Cq(r,t)}function nye(e){return e.match(/[^\x00-\x7F]/)?mg(e):e}function zS(e,t,r,n){return n?(r.type="string",qv.to_workbook(e,r)):qv.to_workbook(t,r)}function IT(e,t){ez();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return IT(new Uint8Array(e),(r=bi(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),$0={},r.dateNF&&($0.dateNF=r.dateNF),r.type||(r.type=Yr&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Yr?"buffer":"binary",n=qfe(e),typeof Uint8Array<"u"&&!Yr&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,n=nye(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),o=new Uint8Array(s);if(o.foo="bar",!o.foo)return r=bi(r),r.type="array",IT(Hk(n),r)}switch((a=pC(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return Z1e(Zr.read(n,r),r);break;case 9:if(a[1]<=8)return Tq(n,r);break;case 60:return kT(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return O0e(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return C0e.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?eye(n,r):zS(e,n,r,i);case 239:return a[3]===60?kT(n,r):zS(e,n,r,i);case 255:if(a[1]===254)return rye(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return Vg.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return Vg.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return HD.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return lpe.to_workbook(n,r);break;case 10:case 13:case 32:return tye(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return N0e.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?HD.to_workbook(n,r):zS(e,n,r,i)}function aye(e,t,r,n,a,i,s,o){var l=wi(r),c=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!s||e[r])for(var p=t.s.c;p<=t.e.c;++p){var g=s?e[r][p]:e[n[p]+l];if(g===void 0||g.t===void 0){if(c===void 0)continue;i[p]!=null&&(h[i[p]]=c);continue}var m=g.v;switch(g.t){case"z":if(m==null)break;continue;case"e":m=m==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(i[p]!=null){if(m==null)if(g.t=="e"&&m===null)h[i[p]]=null;else if(c!==void 0)h[i[p]]=c;else if(u&&m===null)h[i[p]]=null;else continue;else h[i[p]]=u&&(g.t!=="n"||g.t==="n"&&o.rawNumbers!==!1)?m:Qc(g,m,o);m!=null&&(f=!1)}}return{row:h,isempty:f}}function jT(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],s=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},u=c.range!=null?c.range:e["!ref"];switch(c.header===1?n=1:c.header==="A"?n=2:Array.isArray(c.header)?n=3:c.header==null&&(n=0),typeof u){case"string":l=fa(u);break;case"number":l=fa(e["!ref"]),l.s.r=u;break;default:l=u}n>0&&(a=0);var f=wi(l.s.r),h=[],p=[],g=0,m=0,v=Array.isArray(e),y=l.s.r,b=0,w={};v&&!e[y]&&(e[y]=[]);var D=c.skipHidden&&e["!cols"]||[],P=c.skipHidden&&e["!rows"]||[];for(b=l.s.c;b<=l.e.c;++b)if(!(D[b]||{}).hidden)switch(h[b]=Ba(b),r=v?e[y][b]:e[h[b]+f],n){case 1:i[b]=b-l.s.c;break;case 2:i[b]=h[b];break;case 3:i[b]=c.header[b-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=s=Qc(r,null,c),m=w[s]||0,!m)w[s]=1;else{do o=s+"_"+m++;while(w[o]);w[s]=m,w[o]=1}i[b]=o}for(y=l.s.r+a;y<=l.e.r;++y)if(!(P[y]||{}).hidden){var I=aye(e,l,y,h,n,i,v,c);(I.isempty===!1||(n===1?c.blankrows!==!1:c.blankrows))&&(p[g++]=I.row)}return p.length=g,p}var c8=/"/g;function iye(e,t,r,n,a,i,s,o){for(var l=!0,c=[],u="",f=wi(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var p=o.dense?(e[r]||[])[h]:e[n[h]+f];if(p==null)u="";else if(p.v!=null){l=!1,u=""+(o.rawNumbers&&p.t=="n"?p.v:Qc(p,null,o));for(var g=0,m=0;g!==u.length;++g)if((m=u.charCodeAt(g))===a||m===i||m===34||o.forceQuotes){u='"'+u.replace(c8,'""')+'"';break}u=="ID"&&(u='"ID"')}else p.f!=null&&!p.F?(l=!1,u="="+p.f,u.indexOf(",")>=0&&(u='"'+u.replace(c8,'""')+'"')):u="";c.push(u)}return o.blankrows===!1&&l?null:c.join(s)}function Pq(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=fa(e["!ref"]),i=n.FS!==void 0?n.FS:",",s=i.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),c=new RegExp((i=="|"?"\\|":i)+"+$"),u="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],p=n.skipHidden&&e["!rows"]||[],g=a.s.c;g<=a.e.c;++g)(h[g]||{}).hidden||(f[g]=Ba(g));for(var m=0,v=a.s.r;v<=a.e.r;++v)(p[v]||{}).hidden||(u=iye(e,a,v,f,s,l,i,n),u!=null&&(n.strip&&(u=u.replace(c,"")),(u||n.blankrows!==!1)&&r.push((m++?o:"")+u)));return delete n.dense,r.join("")}function sye(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=Pq(e,t);return r}function oye(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=fa(e["!ref"]),i="",s=[],o,l=[],c=Array.isArray(e);for(o=a.s.c;o<=a.e.c;++o)s[o]=Ba(o);for(var u=a.s.r;u<=a.e.r;++u)for(i=wi(u),o=a.s.c;o<=a.e.c;++o)if(t=s[o]+i,r=c?(e[u]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=t+"="+n}return l}function Oq(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},s=0,o=0;if(i&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?cs(n.origin):n.origin;s=l.r,o=l.c}var c,u={s:{c:0,r:0},e:{c:o,r:s+t.length-1+a}};if(i["!ref"]){var f=fa(i["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),s==-1&&(s=f.e.r+1,u.e.r=s+t.length-1+a)}else s==-1&&(s=0,u.e.r=t.length-1+a);var h=n.header||[],p=0;t.forEach(function(m,v){ec(m).forEach(function(y){(p=h.indexOf(y))==-1&&(h[p=h.length]=y);var b=m[y],w="z",D="",P=Ir({c:o+p,r:s+v+a});c=Kv(i,P),b&&typeof b=="object"&&!(b instanceof Date)?i[P]=b:(typeof b=="number"?w="n":typeof b=="boolean"?w="b":typeof b=="string"?w="s":b instanceof Date?(w="d",n.cellDates||(w="n",b=ps(b)),D=n.dateNF||Lr[14]):b===null&&n.nullError&&(w="e",b=0),c?(c.t=w,c.v=b,delete c.w,delete c.R,D&&(c.z=D)):i[P]=c={t:w,v:b},D&&(c.z=D))})}),u.e.c=Math.max(u.e.c,o+h.length-1);var g=wi(s);if(a)for(p=0;p<h.length;++p)i[Ba(p+o)+g]={t:"s",v:h[p]};return i["!ref"]=tn(u),i}function lye(e,t){return Oq(null,e,t)}function Kv(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=cs(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Kv(e,Ir(t)):Kv(e,Ir({r:t,c:r||0}))}function cye(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function mC(){return{SheetNames:[],Sheets:{}}}function gC(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var s=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=s+a)!=-1;++a);}if(Gve(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function uye(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=cye(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function fye(e,t){return e.z=t,e}function Iq(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function dye(e,t,r){return Iq(e,"#"+t,r)}function hye(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function pye(e,t,r,n){for(var a=typeof t!="string"?t:fa(t),i=typeof t=="string"?t:tn(t),s=a.s.r;s<=a.e.r;++s)for(var o=a.s.c;o<=a.e.c;++o){var l=Kv(e,s,o);l.t="n",l.F=i,delete l.v,s==a.s.r&&o==a.s.c&&(l.f=r,n&&(l.D=!0))}return e}var mye={encode_col:Ba,encode_row:wi,encode_cell:Ir,encode_range:tn,decode_col:tC,decode_row:eC,split_cell:Ede,decode_cell:cs,decode_range:em,format_cell:Qc,sheet_add_aoa:Mz,sheet_add_json:Oq,sheet_add_dom:Eq,aoa_to_sheet:tm,json_to_sheet:lye,table_to_sheet:Nq,table_to_book:O1e,sheet_to_csv:Pq,sheet_to_txt:sye,sheet_to_json:jT,sheet_to_html:P1e,sheet_to_formulae:oye,sheet_to_row_object_array:jT,sheet_get_cell:Kv,book_new:mC,book_append_sheet:gC,book_set_sheet_visibility:uye,cell_set_number_format:fye,cell_set_hyperlink:Iq,cell_set_internal_link:dye,cell_add_comment:hye,sheet_set_array_formula:pye,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},jq={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((r,n)=>{e.exports=n()})(tg,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},a,i=!n.document&&!!n.postMessage,s=n.IS_PAPA_WORKER||!1,o={},l=0,c={};function u(_){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(S){var j=P(S);j.chunkSize=parseInt(j.chunkSize),S.step||S.chunk||(j.chunkSize=null),this._handle=new m(j),(this._handle.streamer=this)._config=j}).call(this,_),this.parseChunk=function(S,j){var E=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<E){let O=this._config.newline;O||(N=this._config.quoteChar||'"',O=this._handle.guessLineEndings(S,N)),S=[...S.split(O).slice(E)].join(O)}this.isFirstChunk&&T(this._config.beforeFirstChunk)&&(N=this._config.beforeFirstChunk(S))!==void 0&&(S=N),this.isFirstChunk=!1,this._halted=!1;var E=this._partialLine+S,N=(this._partialLine="",this._handle.parse(E,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(S=N.meta.cursor,E=(this._finished||(this._partialLine=E.substring(S-this._baseIndex),this._baseIndex=S),N&&N.data&&(this._rowCount+=N.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),s)n.postMessage({results:N,workerId:c.WORKER_ID,finished:E});else if(T(this._config.chunk)&&!j){if(this._config.chunk(N,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=N=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(N.data),this._completeResults.errors=this._completeResults.errors.concat(N.errors),this._completeResults.meta=N.meta),this._completed||!E||!T(this._config.complete)||N&&N.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),E||N&&N.meta.paused||this._nextChunk(),N}this._halted=!0},this._sendError=function(S){T(this._config.error)?this._config.error(S):s&&this._config.error&&n.postMessage({workerId:c.WORKER_ID,error:S,finished:!1})}}function f(_){var S;(_=_||{}).chunkSize||(_.chunkSize=c.RemoteChunkSize),u.call(this,_),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(j){this._input=j,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(S=new XMLHttpRequest,this._config.withCredentials&&(S.withCredentials=this._config.withCredentials),i||(S.onload=I(this._chunkLoaded,this),S.onerror=I(this._chunkError,this)),S.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var j,E=this._config.downloadRequestHeaders;for(j in E)S.setRequestHeader(j,E[j])}var N;this._config.chunkSize&&(N=this._start+this._config.chunkSize-1,S.setRequestHeader("Range","bytes="+this._start+"-"+N));try{S.send(this._config.downloadRequestBody)}catch(O){this._chunkError(O.message)}i&&S.status===0&&this._chunkError()}},this._chunkLoaded=function(){S.readyState===4&&(S.status<200||400<=S.status?this._chunkError():(this._start+=this._config.chunkSize||S.responseText.length,this._finished=!this._config.chunkSize||this._start>=(j=>(j=j.getResponseHeader("Content-Range"))!==null?parseInt(j.substring(j.lastIndexOf("/")+1)):-1)(S),this.parseChunk(S.responseText)))},this._chunkError=function(j){j=S.statusText||j,this._sendError(new Error(j))}}function h(_){(_=_||{}).chunkSize||(_.chunkSize=c.LocalChunkSize),u.call(this,_);var S,j,E=typeof FileReader<"u";this.stream=function(N){this._input=N,j=N.slice||N.webkitSlice||N.mozSlice,E?((S=new FileReader).onload=I(this._chunkLoaded,this),S.onerror=I(this._chunkError,this)):S=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var N=this._input,O=(this._config.chunkSize&&(O=Math.min(this._start+this._config.chunkSize,this._input.size),N=j.call(N,this._start,O)),S.readAsText(N,this._config.encoding));E||this._chunkLoaded({target:{result:O}})},this._chunkLoaded=function(N){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(N.target.result)},this._chunkError=function(){this._sendError(S.error)}}function p(_){var S;u.call(this,_=_||{}),this.stream=function(j){return S=j,this._nextChunk()},this._nextChunk=function(){var j,E;if(!this._finished)return j=this._config.chunkSize,S=j?(E=S.substring(0,j),S.substring(j)):(E=S,""),this._finished=!S,this.parseChunk(E)}}function g(_){u.call(this,_=_||{});var S=[],j=!0,E=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(N){this._input=N,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){E&&S.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),S.length?this.parseChunk(S.shift()):j=!0},this._streamData=I(function(N){try{S.push(typeof N=="string"?N:N.toString(this._config.encoding)),j&&(j=!1,this._checkIsFinished(),this.parseChunk(S.shift()))}catch(O){this._streamError(O)}},this),this._streamError=I(function(N){this._streamCleanUp(),this._sendError(N)},this),this._streamEnd=I(function(){this._streamCleanUp(),E=!0,this._streamData("")},this),this._streamCleanUp=I(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function m(_){var S,j,E,N,O=Math.pow(2,53),U=-O,Y=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,K=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,J=this,z=0,V=0,ee=!1,Z=!1,k=[],R={data:[],errors:[],meta:{}};function q(ue){return _.skipEmptyLines==="greedy"?ue.join("").trim()==="":ue.length===1&&ue[0].length===0}function G(){if(R&&E&&(ie("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),E=!1),_.skipEmptyLines&&(R.data=R.data.filter(function(ye){return!q(ye)})),Q()){let ye=function(W,Pe){T(_.transformHeader)&&(W=_.transformHeader(W,Pe)),k.push(W)};if(R)if(Array.isArray(R.data[0])){for(var ue=0;Q()&&ue<R.data.length;ue++)R.data[ue].forEach(ye);R.data.splice(0,1)}else R.data.forEach(ye)}function ne(ye,W){for(var Pe=_.header?{}:[],Ce=0;Ce<ye.length;Ce++){var Ee=Ce,oe=ye[Ce],oe=((ve,De)=>(Te=>(_.dynamicTypingFunction&&_.dynamicTyping[Te]===void 0&&(_.dynamicTyping[Te]=_.dynamicTypingFunction(Te)),(_.dynamicTyping[Te]||_.dynamicTyping)===!0))(ve)?De==="true"||De==="TRUE"||De!=="false"&&De!=="FALSE"&&((Te=>{if(Y.test(Te)&&(Te=parseFloat(Te),U<Te&&Te<O))return 1})(De)?parseFloat(De):K.test(De)?new Date(De):De===""?null:De):De)(Ee=_.header?Ce>=k.length?"__parsed_extra":k[Ce]:Ee,oe=_.transform?_.transform(oe,Ee):oe);Ee==="__parsed_extra"?(Pe[Ee]=Pe[Ee]||[],Pe[Ee].push(oe)):Pe[Ee]=oe}return _.header&&(Ce>k.length?ie("FieldMismatch","TooManyFields","Too many fields: expected "+k.length+" fields but parsed "+Ce,V+W):Ce<k.length&&ie("FieldMismatch","TooFewFields","Too few fields: expected "+k.length+" fields but parsed "+Ce,V+W)),Pe}var pe;R&&(_.header||_.dynamicTyping||_.transform)&&(pe=1,!R.data.length||Array.isArray(R.data[0])?(R.data=R.data.map(ne),pe=R.data.length):R.data=ne(R.data,0),_.header&&R.meta&&(R.meta.fields=k),V+=pe)}function Q(){return _.header&&k.length===0}function ie(ue,ne,pe,ye){ue={type:ue,code:ne,message:pe},ye!==void 0&&(ue.row=ye),R.errors.push(ue)}T(_.step)&&(N=_.step,_.step=function(ue){R=ue,Q()?G():(G(),R.data.length!==0&&(z+=ue.data.length,_.preview&&z>_.preview?j.abort():(R.data=R.data[0],N(R,J))))}),this.parse=function(ue,ne,pe){var ye=_.quoteChar||'"',ye=(_.newline||(_.newline=this.guessLineEndings(ue,ye)),E=!1,_.delimiter?T(_.delimiter)&&(_.delimiter=_.delimiter(ue),R.meta.delimiter=_.delimiter):((ye=((W,Pe,Ce,Ee,oe)=>{var ve,De,Te,Re;oe=oe||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var Ne=0;Ne<oe.length;Ne++){for(var qe,je=oe[Ne],Je=0,ut=0,ot=0,wt=(Te=void 0,new y({comments:Ee,delimiter:je,newline:Pe,preview:10}).parse(W)),kt=0;kt<wt.data.length;kt++)Ce&&q(wt.data[kt])?ot++:(qe=wt.data[kt].length,ut+=qe,Te===void 0?Te=qe:0<qe&&(Je+=Math.abs(qe-Te),Te=qe));0<wt.data.length&&(ut/=wt.data.length-ot),(De===void 0||Je<=De)&&(Re===void 0||Re<ut)&&1.99<ut&&(De=Je,ve=je,Re=ut)}return{successful:!!(_.delimiter=ve),bestDelimiter:ve}})(ue,_.newline,_.skipEmptyLines,_.comments,_.delimitersToGuess)).successful?_.delimiter=ye.bestDelimiter:(E=!0,_.delimiter=c.DefaultDelimiter),R.meta.delimiter=_.delimiter),P(_));return _.preview&&_.header&&ye.preview++,S=ue,j=new y(ye),R=j.parse(S,ne,pe),G(),ee?{meta:{paused:!0}}:R||{meta:{paused:!1}}},this.paused=function(){return ee},this.pause=function(){ee=!0,j.abort(),S=T(_.chunk)?"":S.substring(j.getCharIndex())},this.resume=function(){J.streamer._halted?(ee=!1,J.streamer.parseChunk(S,!0)):setTimeout(J.resume,3)},this.aborted=function(){return Z},this.abort=function(){Z=!0,j.abort(),R.meta.aborted=!0,T(_.complete)&&_.complete(R),S=""},this.guessLineEndings=function(W,ye){W=W.substring(0,1048576);var ye=new RegExp(v(ye)+"([^]*?)"+v(ye),"gm"),pe=(W=W.replace(ye,"")).split("\r"),ye=W.split(`
`),W=1<ye.length&&ye[0].length<pe[0].length;if(pe.length===1||W)return`
`;for(var Pe=0,Ce=0;Ce<pe.length;Ce++)pe[Ce][0]===`
`&&Pe++;return Pe>=pe.length/2?`\r
`:"\r"}}function v(_){return _.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function y(_){var S=(_=_||{}).delimiter,j=_.newline,E=_.comments,N=_.step,O=_.preview,U=_.fastMode,Y=null,K=!1,J=_.quoteChar==null?'"':_.quoteChar,z=J;if(_.escapeChar!==void 0&&(z=_.escapeChar),(typeof S!="string"||-1<c.BAD_DELIMITERS.indexOf(S))&&(S=","),E===S)throw new Error("Comment character same as delimiter");E===!0?E="#":(typeof E!="string"||-1<c.BAD_DELIMITERS.indexOf(E))&&(E=!1),j!==`
`&&j!=="\r"&&j!==`\r
`&&(j=`
`);var V=0,ee=!1;this.parse=function(Z,k,R){if(typeof Z!="string")throw new Error("Input must be a string");var q=Z.length,G=S.length,Q=j.length,ie=E.length,ue=T(N),ne=[],pe=[],ye=[],W=V=0;if(!Z)return Je();if(U||U!==!1&&Z.indexOf(J)===-1){for(var Pe=Z.split(j),Ce=0;Ce<Pe.length;Ce++){if(ye=Pe[Ce],V+=ye.length,Ce!==Pe.length-1)V+=j.length;else if(R)return Je();if(!E||ye.substring(0,ie)!==E){if(ue){if(ne=[],Re(ye.split(S)),ut(),ee)return Je()}else Re(ye.split(S));if(O&&O<=Ce)return ne=ne.slice(0,O),Je(!0)}}return Je()}for(var Ee=Z.indexOf(S,V),oe=Z.indexOf(j,V),ve=new RegExp(v(z)+v(J),"g"),De=Z.indexOf(J,V);;)if(Z[V]===J)for(De=V,V++;;){if((De=Z.indexOf(J,De+1))===-1)return R||pe.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ne.length,index:V}),qe();if(De===q-1)return qe(Z.substring(V,De).replace(ve,J));if(J===z&&Z[De+1]===z)De++;else if(J===z||De===0||Z[De-1]!==z){Ee!==-1&&Ee<De+1&&(Ee=Z.indexOf(S,De+1));var Te=Ne((oe=oe!==-1&&oe<De+1?Z.indexOf(j,De+1):oe)===-1?Ee:Math.min(Ee,oe));if(Z.substr(De+1+Te,G)===S){ye.push(Z.substring(V,De).replace(ve,J)),Z[V=De+1+Te+G]!==J&&(De=Z.indexOf(J,V)),Ee=Z.indexOf(S,V),oe=Z.indexOf(j,V);break}if(Te=Ne(oe),Z.substring(De+1+Te,De+1+Te+Q)===j){if(ye.push(Z.substring(V,De).replace(ve,J)),je(De+1+Te+Q),Ee=Z.indexOf(S,V),De=Z.indexOf(J,V),ue&&(ut(),ee))return Je();if(O&&ne.length>=O)return Je(!0);break}pe.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ne.length,index:V}),De++}}else if(E&&ye.length===0&&Z.substring(V,V+ie)===E){if(oe===-1)return Je();V=oe+Q,oe=Z.indexOf(j,V),Ee=Z.indexOf(S,V)}else if(Ee!==-1&&(Ee<oe||oe===-1))ye.push(Z.substring(V,Ee)),V=Ee+G,Ee=Z.indexOf(S,V);else{if(oe===-1)break;if(ye.push(Z.substring(V,oe)),je(oe+Q),ue&&(ut(),ee))return Je();if(O&&ne.length>=O)return Je(!0)}return qe();function Re(ot){ne.push(ot),W=V}function Ne(ot){var wt=0;return wt=ot!==-1&&(ot=Z.substring(De+1,ot))&&ot.trim()===""?ot.length:wt}function qe(ot){return R||(ot===void 0&&(ot=Z.substring(V)),ye.push(ot),V=q,Re(ye),ue&&ut()),Je()}function je(ot){V=ot,Re(ye),ye=[],oe=Z.indexOf(j,V)}function Je(ot){if(_.header&&!k&&ne.length&&!K){var wt=ne[0],kt=Object.create(null),Pt=new Set(wt);let _t=!1;for(let nt=0;nt<wt.length;nt++){let nr=wt[nt];if(kt[nr=T(_.transformHeader)?_.transformHeader(nr,nt):nr]){let Wt,zr=kt[nr];for(;Wt=nr+"_"+zr,zr++,Pt.has(Wt););Pt.add(Wt),wt[nt]=Wt,kt[nr]++,_t=!0,(Y=Y===null?{}:Y)[Wt]=nr}else kt[nr]=1,wt[nt]=nr;Pt.add(nr)}_t&&console.warn("Duplicate headers found and renamed."),K=!0}return{data:ne,errors:pe,meta:{delimiter:S,linebreak:j,aborted:ee,truncated:!!ot,cursor:W+(k||0),renamedHeaders:Y}}}function ut(){N(Je()),ne=[],pe=[]}},this.abort=function(){ee=!0},this.getCharIndex=function(){return V}}function b(_){var S=_.data,j=o[S.workerId],E=!1;if(S.error)j.userError(S.error,S.file);else if(S.results&&S.results.data){var N={abort:function(){E=!0,w(S.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:D,resume:D};if(T(j.userStep)){for(var O=0;O<S.results.data.length&&(j.userStep({data:S.results.data[O],errors:S.results.errors,meta:S.results.meta},N),!E);O++);delete S.results}else T(j.userChunk)&&(j.userChunk(S.results,N,S.file),delete S.results)}S.finished&&!E&&w(S.workerId,S.results)}function w(_,S){var j=o[_];T(j.userComplete)&&j.userComplete(S),j.terminate(),delete o[_]}function D(){throw new Error("Not implemented.")}function P(_){if(typeof _!="object"||_===null)return _;var S,j=Array.isArray(_)?[]:{};for(S in _)j[S]=P(_[S]);return j}function I(_,S){return function(){_.apply(S,arguments)}}function T(_){return typeof _=="function"}return c.parse=function(_,S){var j=(S=S||{}).dynamicTyping||!1;if(T(j)&&(S.dynamicTypingFunction=j,j={}),S.dynamicTyping=j,S.transform=!!T(S.transform)&&S.transform,!S.worker||!c.WORKERS_SUPPORTED)return j=null,c.NODE_STREAM_INPUT,typeof _=="string"?(_=(E=>E.charCodeAt(0)!==65279?E:E.slice(1))(_),j=new(S.download?f:p)(S)):_.readable===!0&&T(_.read)&&T(_.on)?j=new g(S):(n.File&&_ instanceof File||_ instanceof Object)&&(j=new h(S)),j.stream(_);(j=(()=>{var E;return!!c.WORKERS_SUPPORTED&&(E=(()=>{var N=n.URL||n.webkitURL||null,O=r.toString();return c.BLOB_URL||(c.BLOB_URL=N.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",O,")();"],{type:"text/javascript"})))})(),(E=new n.Worker(E)).onmessage=b,E.id=l++,o[E.id]=E)})()).userStep=S.step,j.userChunk=S.chunk,j.userComplete=S.complete,j.userError=S.error,S.step=T(S.step),S.chunk=T(S.chunk),S.complete=T(S.complete),S.error=T(S.error),delete S.worker,j.postMessage({input:_,config:S,workerId:j.id})},c.unparse=function(_,S){var j=!1,E=!0,N=",",O=`\r
`,U='"',Y=U+U,K=!1,J=null,z=!1,V=((()=>{if(typeof S=="object"){if(typeof S.delimiter!="string"||c.BAD_DELIMITERS.filter(function(k){return S.delimiter.indexOf(k)!==-1}).length||(N=S.delimiter),typeof S.quotes!="boolean"&&typeof S.quotes!="function"&&!Array.isArray(S.quotes)||(j=S.quotes),typeof S.skipEmptyLines!="boolean"&&typeof S.skipEmptyLines!="string"||(K=S.skipEmptyLines),typeof S.newline=="string"&&(O=S.newline),typeof S.quoteChar=="string"&&(U=S.quoteChar),typeof S.header=="boolean"&&(E=S.header),Array.isArray(S.columns)){if(S.columns.length===0)throw new Error("Option columns is empty");J=S.columns}S.escapeChar!==void 0&&(Y=S.escapeChar+U),S.escapeFormulae instanceof RegExp?z=S.escapeFormulae:typeof S.escapeFormulae=="boolean"&&S.escapeFormulae&&(z=/^[=+\-@\t\r].*$/)}})(),new RegExp(v(U),"g"));if(typeof _=="string"&&(_=JSON.parse(_)),Array.isArray(_)){if(!_.length||Array.isArray(_[0]))return ee(null,_,K);if(typeof _[0]=="object")return ee(J||Object.keys(_[0]),_,K)}else if(typeof _=="object")return typeof _.data=="string"&&(_.data=JSON.parse(_.data)),Array.isArray(_.data)&&(_.fields||(_.fields=_.meta&&_.meta.fields||J),_.fields||(_.fields=Array.isArray(_.data[0])?_.fields:typeof _.data[0]=="object"?Object.keys(_.data[0]):[]),Array.isArray(_.data[0])||typeof _.data[0]=="object"||(_.data=[_.data])),ee(_.fields||[],_.data||[],K);throw new Error("Unable to serialize unrecognized input");function ee(k,R,q){var G="",Q=(typeof k=="string"&&(k=JSON.parse(k)),typeof R=="string"&&(R=JSON.parse(R)),Array.isArray(k)&&0<k.length),ie=!Array.isArray(R[0]);if(Q&&E){for(var ue=0;ue<k.length;ue++)0<ue&&(G+=N),G+=Z(k[ue],ue);0<R.length&&(G+=O)}for(var ne=0;ne<R.length;ne++){var pe=(Q?k:R[ne]).length,ye=!1,W=Q?Object.keys(R[ne]).length===0:R[ne].length===0;if(q&&!Q&&(ye=q==="greedy"?R[ne].join("").trim()==="":R[ne].length===1&&R[ne][0].length===0),q==="greedy"&&Q){for(var Pe=[],Ce=0;Ce<pe;Ce++){var Ee=ie?k[Ce]:Ce;Pe.push(R[ne][Ee])}ye=Pe.join("").trim()===""}if(!ye){for(var oe=0;oe<pe;oe++){0<oe&&!W&&(G+=N);var ve=Q&&ie?k[oe]:oe;G+=Z(R[ne][ve],oe)}ne<R.length-1&&(!q||0<pe&&!W)&&(G+=O)}}return G}function Z(k,R){var q,G;return k==null?"":k.constructor===Date?JSON.stringify(k).slice(1,25):(G=!1,z&&typeof k=="string"&&z.test(k)&&(k="'"+k,G=!0),q=k.toString().replace(V,Y),(G=G||j===!0||typeof j=="function"&&j(k,R)||Array.isArray(j)&&j[R]||((Q,ie)=>{for(var ue=0;ue<ie.length;ue++)if(-1<Q.indexOf(ie[ue]))return!0;return!1})(q,c.BAD_DELIMITERS)||-1<q.indexOf(N)||q.charAt(0)===" "||q.charAt(q.length-1)===" ")?U+q+U:q)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!i&&!!n.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=y,c.ParserHandle=m,c.NetworkStreamer=f,c.FileStreamer=h,c.StringStreamer=p,c.ReadableStreamStreamer=g,n.jQuery&&((a=n.jQuery).fn.parse=function(_){var S=_.config||{},j=[];return this.each(function(O){if(!(a(this).prop("tagName").toUpperCase()==="INPUT"&&a(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var U=0;U<this.files.length;U++)j.push({file:this.files[U],inputElem:this,instanceConfig:a.extend({},S)})}),E(),this;function E(){if(j.length===0)T(_.complete)&&_.complete();else{var O,U,Y,K,J=j[0];if(T(_.before)){var z=_.before(J.file,J.inputElem);if(typeof z=="object"){if(z.action==="abort")return O="AbortError",U=J.file,Y=J.inputElem,K=z.reason,void(T(_.error)&&_.error({name:O},U,Y,K));if(z.action==="skip")return void N();typeof z.config=="object"&&(J.instanceConfig=a.extend(J.instanceConfig,z.config))}else if(z==="skip")return void N()}var V=J.instanceConfig.complete;J.instanceConfig.complete=function(ee){T(V)&&V(ee,J.file,J.inputElem),N()},c.parse(J.file,J.instanceConfig)}}function N(){j.splice(0,1),E()}}),s&&(n.onmessage=function(_){_=_.data,c.WORKER_ID===void 0&&_&&(c.WORKER_ID=_.workerId),typeof _.input=="string"?n.postMessage({workerId:c.WORKER_ID,results:c.parse(_.input,_.config),finished:!0}):(n.File&&_.input instanceof File||_.input instanceof Object)&&(_=c.parse(_.input,_.config))&&n.postMessage({workerId:c.WORKER_ID,results:_,finished:!0})}),(f.prototype=Object.create(u.prototype)).constructor=f,(h.prototype=Object.create(u.prototype)).constructor=h,(p.prototype=Object.create(p.prototype)).constructor=p,(g.prototype=Object.create(u.prototype)).constructor=g,c})})(jq);var gye=jq.exports;const vye=Cn(gye),Dq=()=>{const{user:e}=wa(),{isDarkMode:t}=sn(),[r,n]=B.useState(!1),[a,i]=B.useState([]),[s,o]=B.useState(!1),[l,c]=B.useState({name:"",unit:"",asin:"",barcode:""}),[u,f]=B.useState(null),[h,p]=B.useState(null),[g,m]=B.useState(!1),[v,y]=B.useState(!1),[b,w]=B.useState(null),[D,P]=B.useState(null),[I,T]=B.useState(!1),[_,S]=B.useState(""),[j,E]=B.useState(null),[N,O]=B.useState(null),U=$e.useRef(null),[Y,K]=B.useState(null),[J,z]=B.useState(!1),[V,ee]=B.useState([]);B.useEffect(()=>{Z(),k()},[]);const Z=async W=>{o(!0);try{let Pe;if(W&&W.trim()!==""){const Ce=cr(mt(Ke,"scannedProducts"),or("name",">=",W),or("name","<=",W+""),Ia("name"),cg(100)),Ee=cr(mt(Ke,"scannedProducts"),or("barcode",">=",W),or("barcode","<=",W+""),Ia("barcode"),cg(100)),oe=cr(mt(Ke,"scannedProducts"),or("asin",">=",W),or("asin","<=",W+""),Ia("asin"),cg(100)),[ve,De,Te]=await Promise.all([ur(Ce),ur(Ee),ur(oe)]),Re=[...ve.docs,...De.docs,...Te.docs].reduce((Ne,qe)=>(Ne.some(je=>je.id===qe.id)||Ne.push(qe),Ne),[]);i(Re.map(Ne=>{const qe=Ne.data();return{id:Ne.id,name:qe.name,unit:qe.unit,asin:qe.asin||"",barcode:qe.barcode,createdAt:qe.createdAt instanceof lr?qe.createdAt.toDate():new Date(qe.createdAt)}}))}else{Pe=cr(mt(Ke,"scannedProducts"),Ia("createdAt","desc"),cg(100));const Ee=(await ur(Pe)).docs.map(oe=>{const ve=oe.data();return{id:oe.id,name:ve.name,unit:ve.unit,asin:ve.asin||"",barcode:ve.barcode,createdAt:ve.createdAt instanceof lr?ve.createdAt.toDate():new Date(ve.createdAt)}});i(Ee)}}catch{f("Failed to fetch products")}finally{o(!1)}},k=async()=>{try{const W=mt(Ke,"scannedProducts"),Pe=await ok(W);K(Pe.data().count)}catch{K(null)}},R=()=>{const W={};a.forEach(Ce=>{W[Ce.name]||(W[Ce.name]=[]),W[Ce.name].push(Ce)});const Pe=Object.entries(W).filter(([,Ce])=>Ce.length>1).map(([Ce,Ee])=>({name:Ce,products:Ee.sort((oe,ve)=>new Date(ve.createdAt).getTime()-new Date(oe.createdAt).getTime())})).sort((Ce,Ee)=>Ee.products.length-Ce.products.length);ee(Pe),z(!0)},q=()=>{z(!1),ee([])},G=W=>{W?(c({name:W.name||"",unit:W.unit||"",asin:W.asin||"",barcode:W.barcode||""}),p(W)):(c({name:"",unit:"",asin:"",barcode:""}),p(null)),n(!0),f(null)},Q=()=>{n(!1),f(null)},ie=W=>{c({...l,[W.target.name]:W.target.value})},ue=async W=>{c(Pe=>({...Pe,barcode:W})),m(!1),w(null),y(!0);try{const Ce=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${W}`,oe=await(await fetch(Ce)).json();if(oe&&oe.items&&oe.items.length>0){const ve=oe.items[0];c(De=>({...De,name:ve.title||De.name,asin:ve.asin||ve.amazon_asin||""}))}else w("No product info found for this barcode.")}catch{w("Failed to fetch product info.")}finally{y(!1)}},ne=async W=>{if(W.preventDefault(),!l.name.trim()||!l.unit.trim()||!l.barcode.trim()){f("Name, Unit, and Barcode are required");return}o(!0);try{const Pe=l.name.toUpperCase();if(h){const Ce=Ar(Ke,"scannedProducts",h.id);if(await jn(Ce,{name:Pe,unit:l.unit,barcode:l.barcode,asin:l.asin}),e&&h){const Ee=[];h.name!==Pe&&Ee.push(`name from "${h.name}" to "${Pe}"`),h.unit!==l.unit&&Ee.push(`unit from ${h.unit||"none"} to ${l.unit||"none"}`),h.barcode!==l.barcode&&Ee.push(`barcode from "${h.barcode||"none"}" to "${l.barcode||"none"}"`),h.asin!==l.asin&&Ee.push(`asin from "${h.asin||"none"}" to "${l.asin||"none"}"`),Ee.length>0&&await pr(mt(Ke,"activityLogs"),{user:e.name,role:e.role,detail:`edited product "${Pe}": ${Ee.join(", ")}`,time:new Date().toISOString()})}}else await pr(mt(Ke,"scannedProducts"),{name:Pe,unit:l.unit,barcode:l.barcode,asin:l.asin,createdAt:lr.fromDate(new Date)}),e&&await pr(mt(Ke,"activityLogs"),{user:e.name,role:e.role,detail:`added new product "${Pe}" with barcode ${l.barcode}`,time:new Date().toISOString()});n(!1),p(null),Z()}catch{f("Failed to save product")}finally{o(!1)}},pe=async()=>{if(D){T(!0);try{const W=a.find(Pe=>Pe.id===D);await Ns(Ar(Ke,"scannedProducts",D)),e&&W&&await pr(mt(Ke,"activityLogs"),{user:e.name,role:e.role,detail:`deleted product "${W.name}" with barcode ${W.barcode}`,time:new Date().toISOString()}),P(null),Z()}catch{}finally{T(!1)}}},ye=async W=>{var Ee;const Pe=(Ee=W.target.files)==null?void 0:Ee[0];if(!Pe)return;let Ce=[];try{if(Pe.name.endsWith(".csv")){const oe=await Pe.text(),De=vye.parse(oe,{header:!0}).data;Ce=De.map(Re=>{var Ne,qe,je,Je;return{name:((Ne=Re.Description)==null?void 0:Ne.toString().trim())||"",unit:((qe=Re.Unit)==null?void 0:qe.toString().trim())||"",asin:((je=Re.ASIN)==null?void 0:je.toString().trim())||"",barcode:((Je=Re.EAN)==null?void 0:Je.toString().trim())||""}}).filter(Re=>Re.name||Re.unit||Re.barcode);const Te=De.length-Ce.length;Te>0&&(console.log(`${Te} rows skipped (all columns empty).`),O({type:"error",message:`${Te} rows skipped (all columns empty).`}))}else if(Pe.name.endsWith(".xlsx")){const oe=await Pe.arrayBuffer(),ve=IT(oe,{type:"array"}),De=ve.Sheets[ve.SheetNames[0]],Te=mye.sheet_to_json(De);Ce=Te.map(Ne=>{var qe,je,Je,ut;return{name:((qe=Ne.Description)==null?void 0:qe.toString().trim())||"",unit:((je=Ne.Unit)==null?void 0:je.toString().trim())||"",asin:((Je=Ne.ASIN)==null?void 0:Je.toString().trim())||"",barcode:((ut=Ne.EAN)==null?void 0:ut.toString().trim())||""}}).filter(Ne=>Ne.name||Ne.unit||Ne.barcode);const Re=Te.length-Ce.length;Re>0&&(console.log(`${Re} rows skipped (all columns empty).`),O({type:"error",message:`${Re} rows skipped (all columns empty).`}))}else{console.log("Unsupported file type. Please upload a .csv or .xlsx file."),O({type:"error",message:"Unsupported file type. Please upload a .csv or .xlsx file."});return}if(Ce.length===0){console.log("No valid products found in file."),O({type:"error",message:"No valid products found in file."});return}for(const oe of Ce)await pr(mt(Ke,"scannedProducts"),{name:oe.name.toUpperCase(),unit:oe.unit,barcode:oe.barcode,asin:"",createdAt:lr.fromDate(new Date)});e&&await pr(mt(Ke,"activityLogs"),{user:e.name,role:e.role,detail:`bulk uploaded ${Ce.length} products from file "${Pe.name}"`,time:new Date().toISOString()}),O({type:"success",message:`Uploaded ${Ce.length} products successfully!`}),console.log(`Uploaded ${Ce.length} products successfully!`),Z()}catch{console.log("Failed to upload products."),O({type:"error",message:"Failed to upload products."})}};return!e||e.role!=="admin"&&e.role!=="staff"&&e.role!=="supply_serve"?d.jsx("div",{className:"p-8 text-center text-red-500 font-semibold",children:"You are not authorized to access this page."}):d.jsxs("div",{className:t?"bg-slate-900 text-white min-h-screen":"bg-slate-50 text-slate-800 min-h-screen",children:[d.jsxs("div",{className:"flex items-center justify-between py-4",children:[d.jsx("h1",{className:"text-2xl font-bold",children:"Add Products"}),d.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${t?"bg-slate-800 text-blue-300":"bg-blue-100 text-blue-700"}`,children:["Total Scanned Products: ",Y!==null?Y:d.jsx("span",{className:"animate-pulse",children:"..."})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center mb-6 gap-4",children:[d.jsx("div",{children:d.jsx("p",{className:`${t?"text-slate-400":"text-slate-500"} mt-1 text-left md:text-left`,children:"Scan and add new products to your warehouse inventory"})}),d.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:gap-2 w-full md:w-auto",children:[d.jsx(st,{variant:"secondary",onClick:()=>Z(),className:`flex items-center gap-2 w-full md:w-auto ${s?"opacity-50 cursor-not-allowed":""}`,disabled:s,icon:d.jsx(Za,{size:18,className:s?"animate-spin":""})}),d.jsx(st,{variant:J?"primary":"secondary",onClick:J?q:R,className:"w-full md:w-auto",icon:J?d.jsx(Za,{size:18}):d.jsxs("svg",{width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M3 6h18"}),d.jsx("path",{d:"M7 12h10"}),d.jsx("path",{d:"M9 18h6"})]}),children:J?"Clear Filter":"Show Duplicates"}),d.jsx(st,{icon:d.jsx(PZ,{size:18}),onClick:()=>{var W;return(W=U.current)==null?void 0:W.click()},className:"w-full md:w-auto",children:"Upload CSV/XLSX"}),d.jsx("input",{type:"file",accept:".csv,.xlsx",ref:U,onChange:ye,style:{display:"none"}}),d.jsx(st,{icon:d.jsx(xi,{size:18}),onClick:()=>G(),className:"w-full md:w-auto",children:"Add Product"})]})]}),d.jsx("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:d.jsxs("div",{className:"flex-1 relative",children:[d.jsx(Nt,{type:"text",placeholder:"Search by name, barcode, or ASIN",value:_,onChange:W=>{const Pe=W.target.value;S(Pe),Z(Pe.toUpperCase())},className:"pl-10",fullWidth:!0}),d.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",children:d.jsxs("svg",{width:"16",height:"16",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-search",children:[d.jsx("circle",{cx:"7",cy:"7",r:"6"}),d.jsx("path",{d:"m15 15-3.5-3.5"})]})})]})}),d.jsx(on,{isOpen:r,onClose:Q,title:h?"Edit Product":"Add Product",size:"sm",children:d.jsxs("form",{onSubmit:ne,className:"space-y-4",children:[d.jsx(Nt,{label:"Product Name",name:"name",value:l.name,onChange:ie,placeholder:"Enter product name",required:!0,fullWidth:!0}),d.jsx(Nt,{label:"Unit",name:"unit",value:l.unit,onChange:ie,placeholder:"e.g. 350ML, 75GM, 1PC",required:!0,fullWidth:!0}),d.jsx(Nt,{label:"ASIN",name:"asin",value:l.asin,onChange:ie,placeholder:"Amazon Standard Identification Number",fullWidth:!0}),d.jsxs("div",{className:"relative w-full",children:[d.jsx(Nt,{label:"Barcode",name:"barcode",value:l.barcode,onChange:ie,placeholder:"Enter barcode",required:!0,fullWidth:!0,style:{paddingRight:44}}),d.jsx("button",{type:"button",onClick:async()=>{if(l.barcode.trim()&&!v){w(null),y(!0);try{await ue(l.barcode)}finally{y(!1)}}},className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:v,children:v?d.jsx(ss,{size:18,className:"animate-spin text-blue-500"}):d.jsx(zc,{size:18,className:"text-blue-500"})})]}),u&&d.jsx("div",{className:"text-red-500 text-sm",children:u}),b&&d.jsxs("div",{className:"text-red-500 text-sm",children:[b," Please enter details manually."]}),v&&d.jsxs("div",{className:"flex items-center gap-2 text-blue-500 text-sm",children:[d.jsx(ss,{className:"w-4 h-4 animate-spin"}),"Fetching product info..."]}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(st,{type:"button",variant:"secondary",onClick:()=>m(!0),children:"Scan"}),d.jsx(st,{type:"submit",isLoading:s,children:h?"Save Changes":"Add"})]})]})}),d.jsx(mh,{isOpen:g,onClose:()=>m(!1),onBarcodeScanned:ue}),d.jsx("div",{className:"hidden md:block overflow-x-auto overflow-y-hidden rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800",children:d.jsxs("table",{className:`min-w-full divide-y ${t?"divide-slate-700":"divide-slate-200"} ${t?"bg-slate-800":"bg-white"} rounded-lg`,children:[d.jsx("thead",{className:t?"bg-slate-700/50":"bg-slate-100",children:d.jsxs("tr",{children:[d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Unit"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Barcode"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Created At"}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),d.jsx("tbody",{className:`divide-y ${t?"divide-slate-700":"divide-slate-200"}`,children:s?d.jsx("tr",{children:d.jsx("td",{colSpan:6,style:{border:0,padding:0},children:d.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[200px] w-full py-12",children:[d.jsx(ss,{className:`w-8 h-8 ${t?"text-blue-400":"text-blue-600"} animate-spin`}),d.jsx("p",{className:t?"text-slate-400":"text-slate-600",children:"Loading products..."})]})})}):J&&V.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:6,className:`text-center py-8 ${t?"text-slate-400":"text-slate-500"}`,children:"No duplicate products found."})}):J&&V.length>0?V.flatMap((W,Pe)=>[d.jsx("tr",{className:`${t?"bg-slate-700/30":"bg-slate-100/50"}`,children:d.jsxs("td",{colSpan:6,className:`px-4 py-2 text-sm font-semibold ${t?"text-blue-300":"text-blue-600"}`,children:[W.name," - ",W.products.length," duplicates"]})},`header-${W.name}`),...W.products.map((Ce,Ee)=>d.jsxs(Jn.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:Pe*.1+Ee*.05,ease:"easeOut"},className:`hover:${t?"bg-slate-700/50":"bg-slate-50"} cursor-pointer ${t?"bg-slate-800/50":"bg-slate-50/50"}`,onClick:()=>E(Ce),children:[d.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-blue-400":"text-blue-700"} font-medium`,children:Ce.name}),d.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:Ce.unit||"-"}),d.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:Ce.asin||"-"}),d.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:Ce.barcode}),d.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:rr(Ce.createdAt,"MMM d, yyyy, h:mm a")}),d.jsxs("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"} text-right`,children:[d.jsx("button",{onClick:oe=>{oe.stopPropagation(),G(Ce)},className:`p-1 ${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,title:"Edit",children:d.jsx(os,{size:16})}),d.jsx("button",{onClick:oe=>{oe.stopPropagation(),P(Ce.id)},className:`p-1 ml-2 ${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,title:"Delete",disabled:I&&D===Ce.id,children:d.jsx(ei,{size:16})})]})]},Ce.id))]):a.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:6,className:`text-center py-8 ${t?"text-slate-400":"text-slate-500"}`,children:"No products found."})}):a.map((W,Pe)=>d.jsxs(Jn.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:Pe*.05,ease:"easeOut"},className:`hover:${t?"bg-slate-700/50":"bg-slate-50"} cursor-pointer`,onClick:()=>E(W),children:[d.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-blue-400":"text-blue-700"} font-medium`,children:W.name}),d.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:W.unit||"-"}),d.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:W.asin||"-"}),d.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:W.barcode}),d.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:rr(W.createdAt,"MMM d, yyyy, h:mm a")}),d.jsxs("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"} text-right`,children:[d.jsx("button",{onClick:Ce=>{Ce.stopPropagation(),G(W)},className:`p-1 ${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,title:"Edit",children:d.jsx(os,{size:16})}),d.jsx("button",{onClick:Ce=>{Ce.stopPropagation(),P(W.id)},className:`p-1 ml-2 ${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,title:"Delete",disabled:I&&D===W.id,children:d.jsx(ei,{size:16})})]})]},W.id))})]})}),d.jsx("div",{className:"md:hidden flex flex-col gap-4",children:s?d.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[200px] w-full py-12",children:[d.jsx(ss,{className:`w-8 h-8 ${t?"text-blue-400":"text-blue-600"} animate-spin`}),d.jsx("p",{className:t?"text-slate-400":"text-slate-600",children:"Loading products..."})]}):J&&V.length===0?d.jsx("div",{className:`text-center py-8 ${t?"text-slate-400":"text-slate-500"}`,children:"No duplicate products found."}):J&&V.length>0?V.map(W=>d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:`text-center py-2 px-4 rounded-lg ${t?"bg-slate-700/30 text-blue-300":"bg-slate-100/50 text-blue-600"} font-semibold`,children:[W.name," - ",W.products.length," duplicates"]}),W.products.map(Pe=>d.jsxs("div",{className:`rounded-lg shadow p-4 flex flex-col gap-2 ${t?"bg-slate-800/50":"bg-slate-50/50"} cursor-pointer`,onClick:()=>E(Pe),children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:`font-semibold ${t?"text-blue-300":"text-blue-700"}`,children:Pe.name}),d.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Unit: ",Pe.unit||"-"]}),d.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["ASIN: ",Pe.asin||"-"]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(st,{variant:"ghost",size:"sm",onClick:Ce=>{Ce.stopPropagation(),G(Pe)},className:`${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:d.jsx(os,{size:16})}),d.jsx(st,{variant:"ghost",size:"sm",onClick:Ce=>{Ce.stopPropagation(),P(Pe.id)},className:`${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,disabled:I&&D===Pe.id,children:d.jsx(ei,{size:16})})]})]}),d.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Barcode: ",d.jsx("span",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:Pe.barcode})]}),d.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Created: ",d.jsx("span",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:rr(Pe.createdAt,"MMM d, yyyy, h:mm a")})]})]},Pe.id))]},W.name)):a.length===0?d.jsx("div",{className:`text-center py-8 ${t?"text-slate-400":"text-slate-500"}`,children:"No products found."}):a.map(W=>d.jsxs("div",{className:`rounded-lg shadow p-4 flex flex-col gap-2 ${t?"bg-slate-800":"bg-white"} cursor-pointer`,onClick:()=>E(W),children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:`font-semibold ${t?"text-blue-300":"text-blue-700"}`,children:W.name}),d.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Unit: ",W.unit||"-"]}),d.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["ASIN: ",W.asin||"-"]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(st,{variant:"ghost",size:"sm",onClick:Pe=>{Pe.stopPropagation(),G(W)},className:`${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:d.jsx(os,{size:16})}),d.jsx(st,{variant:"ghost",size:"sm",onClick:Pe=>{Pe.stopPropagation(),P(W.id)},className:`${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,disabled:I&&D===W.id,children:d.jsx(ei,{size:16})})]})]}),d.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Barcode: ",d.jsx("span",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:W.barcode})]}),d.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Created: ",d.jsx("span",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:rr(W.createdAt,"MMM d, yyyy, h:mm a")})]})]},W.id))}),d.jsx(on,{isOpen:!!D,onClose:()=>P(null),title:"Delete Product",size:"sm",children:d.jsxs("div",{className:"space-y-4",children:[d.jsx("p",{children:"Are you sure you want to delete this product?"}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(st,{variant:"secondary",onClick:()=>P(null),disabled:I,children:"Cancel"}),d.jsxs(st,{variant:"danger",onClick:pe,isLoading:I,className:"flex items-center justify-center",children:[I&&d.jsx(ss,{className:"w-4 h-4 animate-spin mx-auto"}),"Delete"]})]})]})}),d.jsx(on,{isOpen:!!j,onClose:()=>E(null),title:j?j.name:"Product Details",size:"xl",children:j&&d.jsx("div",{className:"space-y-6",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-slate-500"}`,children:"Unit"}),d.jsx("p",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:j.unit||"-"})]}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-slate-500"}`,children:"ASIN"}),d.jsx("p",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:j.asin||"-"})]}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-slate-500"}`,children:"Barcode"}),d.jsx("p",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:j.barcode||"-"})]}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-slate-500"}`,children:"Created At"}),d.jsx("p",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:rr(j.createdAt,"MMM d, yyyy, h:mm a")})]})]})})}),N&&d.jsx(zV,{type:N.type,message:N.message,onClose:()=>O(null)})]})]})},yye=()=>{const{user:e}=wa();if(!e)return null;switch(e.role){case"admin":return d.jsx(hfe,{});case"staff":return d.jsx(Dq,{});default:return null}},en=({label:e,error:t,options:r,fullWidth:n=!1,className:a="",...i})=>{const{isDarkMode:s}=sn();return d.jsxs("div",{className:`${n?"w-full":""} ${a}`,children:[e&&d.jsx("label",{className:`block text-sm font-medium ${s?"text-slate-200":"text-slate-700"} mb-1`,children:e}),d.jsx("select",{...i,className:`
          block w-full rounded-lg border px-3 py-2
          ${s?"bg-slate-800 border-slate-700 text-slate-200 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-700/50 disabled:text-slate-400":"bg-white border-slate-300 text-slate-900 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-50 disabled:text-slate-500"}
          ${t?"border-red-500 focus:border-red-500 focus:ring-red-500":""}
        `,children:r.map(o=>d.jsx("option",{value:o.value,children:o.label},o.value))}),t&&d.jsx("p",{className:"mt-1 text-sm text-red-600",children:t})]})},xye=({isOpen:e,onClose:t,onSuccess:r})=>{const{user:n}=wa(),[a,i]=B.useState({name:"",unit:"",barcode:""}),[s,o]=B.useState(null),[l,c]=B.useState(!1),[u,f]=B.useState(!1),[h,p]=B.useState(!1),[g,m]=B.useState(null),v=D=>{i({...a,[D.target.name]:D.target.value})},y=async D=>{i(P=>({...P,barcode:D})),f(!1),m(null),p(!0);try{const I=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${D}`,_=await(await fetch(I)).json();if(_&&_.items&&_.items.length>0){const S=_.items[0];i(j=>({...j,name:S.title||j.name}))}else m("No product info found for this barcode.")}catch{m("Failed to fetch product info.")}finally{p(!1)}},b=async D=>{if(D.preventDefault(),!a.name.trim()||!a.unit.trim()||!a.barcode.trim()){o("All fields are required");return}c(!0);try{const P=a.name.toUpperCase();await pr(mt(Ke,"scannedProducts"),{name:P,unit:a.unit,barcode:a.barcode,createdAt:lr.fromDate(new Date)}),n&&await pr(mt(Ke,"activityLogs"),{user:n.name,role:n.role,detail:`added new product "${P}" with barcode ${a.barcode}`,time:new Date().toISOString()}),i({name:"",unit:"",barcode:""}),o(null),m(null),t(),r&&r()}catch{o("Failed to save product")}finally{c(!1)}},w=()=>{i({name:"",unit:"",barcode:""}),o(null),m(null),t()};return d.jsxs(d.Fragment,{children:[d.jsx(on,{isOpen:e,onClose:w,title:"Add Product",size:"sm",children:d.jsxs("form",{onSubmit:b,className:"space-y-4",children:[d.jsx(Nt,{label:"Product Name",name:"name",value:a.name,onChange:v,placeholder:"Enter product name",required:!0,fullWidth:!0}),d.jsx(Nt,{label:"Unit",name:"unit",value:a.unit,onChange:v,placeholder:"e.g. 350ML, 75GM, 1PC",required:!0,fullWidth:!0}),d.jsxs("div",{className:"relative w-full",children:[d.jsx(Nt,{label:"Barcode",name:"barcode",value:a.barcode,onChange:v,placeholder:"Enter barcode",required:!0,fullWidth:!0,style:{paddingRight:44}}),d.jsx("button",{type:"button",onClick:async()=>{if(a.barcode.trim()&&!h){m(null),p(!0);try{await y(a.barcode)}finally{p(!1)}}},className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:h,children:h?d.jsx(ss,{size:18,className:"animate-spin text-blue-500"}):d.jsx(zc,{size:18,className:"text-blue-500"})})]}),s&&d.jsx("div",{className:"text-red-500 text-sm",children:s}),g&&d.jsxs("div",{className:"text-red-500 text-sm",children:[g," Please enter details manually."]}),h&&d.jsxs("div",{className:"flex items-center gap-2 text-blue-500 text-sm",children:[d.jsx(ss,{className:"w-4 h-4 animate-spin"}),"Fetching product info..."]}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(st,{type:"button",variant:"secondary",onClick:()=>f(!0),children:"Scan"}),d.jsx(st,{type:"submit",isLoading:l,children:"Add"})]})]})}),d.jsx(mh,{isOpen:u,onClose:()=>f(!1),onBarcodeScanned:y})]})},bye=({isOpen:e,onClose:t,onUseLocation:r,onManualLocation:n,hiddenProduct:a})=>d.jsx(on,{isOpen:e,onClose:t,title:"Location Reminder",size:"md",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(gN,{className:"w-6 h-6 text-blue-500 mt-1 flex-shrink-0"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Your previous product ",d.jsxs("strong",{children:['"',a.name,'"']})," was located at:"]}),d.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:[d.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200 font-medium",children:["Location: ",d.jsxs("strong",{children:[a.locationCode,"-",a.shelfNumber]})]}),d.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1",children:["Previous quantity: ",a.quantity," units"]})]}),d.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Do you want to place this product at the same location?"})]})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[d.jsx(st,{variant:"secondary",onClick:n,children:"No, I'll choose manually"}),d.jsx(st,{onClick:()=>r(a.locationCode,a.shelfNumber),className:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500",children:"Yes, use same location"})]})]})}),wye=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,isLoading:i=!1,confirmLabel:s="Yes",cancelLabel:o="No"})=>{const{isDarkMode:l}=sn();return d.jsx(on,{isOpen:e,onClose:t,title:n,size:"md",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-3 text-amber-600",children:[d.jsx(bv,{size:24}),d.jsx("p",{className:l?"text-slate-200":"text-slate-700",children:a})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[d.jsx(st,{variant:"secondary",onClick:t,disabled:i,className:l?"text-slate-100":"text-slate-700",children:o}),d.jsx(st,{variant:"success",onClick:r,isLoading:i,children:s})]})]})})},_f=e=>{const r=(e.startsWith("O")||e.startsWith("P"))&&e.length===2&&/^[1-8]$/.test(e[1])?7:5;return Array.from({length:r+1},(n,a)=>({value:a.toString(),label:a.toString()}))},_ye=[{value:"A1",label:"A1"},{value:"A2",label:"A2"},{value:"A3",label:"A3"},{value:"A4",label:"A4"},{value:"A5",label:"A5"},{value:"A6",label:"A6"},{value:"A7",label:"A7"},{value:"A8",label:"A8"},{value:"B1",label:"B1"},{value:"B2",label:"B2"},{value:"B3",label:"B3"},{value:"B4",label:"B4"},{value:"B5",label:"B5"},{value:"B6",label:"B6"},{value:"B7",label:"B7"},{value:"B8",label:"B8"},{value:"C1",label:"C1"},{value:"C2",label:"C2"},{value:"C3",label:"C3"},{value:"C4",label:"C4"},{value:"C5",label:"C5"},{value:"C6",label:"C6"},{value:"C7",label:"C7"},{value:"C8",label:"C8"},{value:"D1",label:"D1"},{value:"D2",label:"D2"},{value:"D3",label:"D3"},{value:"D4",label:"D4"},{value:"D5",label:"D5"},{value:"D6",label:"D6"},{value:"D7",label:"D7"},{value:"D8",label:"D8"},{value:"E1",label:"E1"},{value:"E2",label:"E2"},{value:"E3",label:"E3"},{value:"E4",label:"E4"},{value:"E5",label:"E5"},{value:"E6",label:"E6"},{value:"E7",label:"E7"},{value:"E8",label:"E8"},{value:"F1",label:"F1"},{value:"F2",label:"F2"},{value:"F3",label:"F3"},{value:"F4",label:"F4"},{value:"F5",label:"F5"},{value:"F6",label:"F6"},{value:"F7",label:"F7"},{value:"F8",label:"F8"},{value:"G1",label:"G1"},{value:"G2",label:"G2"},{value:"G3",label:"G3"},{value:"G4",label:"G4"},{value:"G5",label:"G5"},{value:"G6",label:"G6"},{value:"G7",label:"G7"},{value:"G8",label:"G8"},{value:"H1",label:"H1"},{value:"H2",label:"H2"},{value:"H3",label:"H3"},{value:"H4",label:"H4"},{value:"H5",label:"H5"},{value:"H6",label:"H6"},{value:"H7",label:"H7"},{value:"H8",label:"H8"},{value:"I1",label:"I1"},{value:"I2",label:"I2"},{value:"I3",label:"I3"},{value:"I4",label:"I4"},{value:"I5",label:"I5"},{value:"I6",label:"I6"},{value:"I7",label:"I7"},{value:"I8",label:"I8"},{value:"J1",label:"J1"},{value:"J2",label:"J2"},{value:"J3",label:"J3"},{value:"J4",label:"J4"},{value:"J5",label:"J5"},{value:"J6",label:"J6"},{value:"J7",label:"J7"},{value:"J8",label:"J8"},{value:"K1",label:"K1"},{value:"K2",label:"K2"},{value:"K3",label:"K3"},{value:"K4",label:"K4"},{value:"K5",label:"K5"},{value:"K6",label:"K6"},{value:"K7",label:"K7"},{value:"K8",label:"K8"},{value:"L1",label:"L1"},{value:"L2",label:"L2"},{value:"L3",label:"L3"},{value:"L4",label:"L4"},{value:"L5",label:"L5"},{value:"L6",label:"L6"},{value:"L7",label:"L7"},{value:"L8",label:"L8"},{value:"M1",label:"M1"},{value:"M2",label:"M2"},{value:"M3",label:"M3"},{value:"M4",label:"M4"},{value:"M5",label:"M5"},{value:"M6",label:"M6"},{value:"M7",label:"M7"},{value:"M8",label:"M8"},{value:"N1",label:"N1"},{value:"N2",label:"N2"},{value:"N3",label:"N3"},{value:"N4",label:"N4"},{value:"N5",label:"N5"},{value:"N6",label:"N6"},{value:"N7",label:"N7"},{value:"N8",label:"N8"},{value:"O1",label:"O1"},{value:"O2",label:"O2"},{value:"O3",label:"O3"},{value:"O4",label:"O4"},{value:"O5",label:"O5"},{value:"O6",label:"O6"},{value:"O7",label:"O7"},{value:"O8",label:"O8"},{value:"P1",label:"P1"},{value:"P2",label:"P2"},{value:"P3",label:"P3"},{value:"P4",label:"P4"},{value:"P5",label:"P5"},{value:"P6",label:"P6"},{value:"P7",label:"P7"},{value:"P8",label:"P8"},{value:"Q1",label:"Q1"},{value:"Q2",label:"Q2"},{value:"Q3",label:"Q3"},{value:"Q4",label:"Q4"},{value:"Q5",label:"Q5"},{value:"Q6",label:"Q6"},{value:"Q7",label:"Q7"},{value:"Q8",label:"Q8"},{value:"R1",label:"R1"},{value:"R2",label:"R2"},{value:"R3",label:"R3"},{value:"R4",label:"R4"},{value:"R5",label:"R5"},{value:"R6",label:"R6"},{value:"R7",label:"R7"},{value:"R8",label:"R8"},{value:"S1",label:"S1"},{value:"S2",label:"S2"},{value:"S3",label:"S3"},{value:"S4",label:"S4"},{value:"S5",label:"S5"},{value:"S6",label:"S6"},{value:"S7",label:"S7"},{value:"S8",label:"S8"},{value:"T1",label:"T1"},{value:"T2",label:"T2"},{value:"T3",label:"T3"},{value:"T4",label:"T4"},{value:"T5",label:"T5"},{value:"T6",label:"T6"},{value:"T7",label:"T7"},{value:"T8",label:"T8"},{value:"U1",label:"U1"},{value:"U2",label:"U2"},{value:"U3",label:"U3"},{value:"U4",label:"U4"},{value:"U5",label:"U5"},{value:"U6",label:"U6"},{value:"U7",label:"U7"},{value:"U8",label:"U8"},{value:"V1",label:"V1"},{value:"V2",label:"V2"},{value:"V3",label:"V3"},{value:"V4",label:"V4"},{value:"V5",label:"V5"},{value:"V6",label:"V6"},{value:"V7",label:"V7"},{value:"V8",label:"V8"},{value:"W1",label:"W1"},{value:"W2",label:"W2"},{value:"W3",label:"W3"},{value:"W4",label:"W4"},{value:"W5",label:"W5"},{value:"W6",label:"W6"},{value:"W7",label:"W7"},{value:"W8",label:"W8"},{value:"X1",label:"X1"},{value:"X2",label:"X2"},{value:"X3",label:"X3"},{value:"X4",label:"X4"},{value:"X5",label:"X5"},{value:"X6",label:"X6"},{value:"X7",label:"X7"},{value:"X8",label:"X8"},{value:"Y1",label:"Y1"},{value:"Y2",label:"Y2"},{value:"Y3",label:"Y3"},{value:"Y4",label:"Y4"},{value:"Y5",label:"Y5"},{value:"Y6",label:"Y6"},{value:"Y7",label:"Y7"},{value:"Y8",label:"Y8"},{value:"Z1",label:"Z1"},{value:"Z2",label:"Z2"},{value:"Z3",label:"Z3"},{value:"Z4",label:"Z4"},{value:"Z5",label:"Z5"},{value:"Z6",label:"Z6"},{value:"Z7",label:"Z7"},{value:"Z8",label:"Z8"},{value:"Awaiting Location",label:"Awaiting Location"}],Sye=e=>_f(e),qS=[{value:"Rayburns Trading",label:"RAYBURNS TRADING"},{value:"Intamarque",label:"INTAMARQUE"},{value:"Sian Wholesale",label:"SIAN WHOLESALE"},{value:"DMG",label:"DMG"},{value:"CVT",label:"CVT"},{value:"Wholesale Trading Supplies",label:"WHOLESALE TRADING SUPPLIES"},{value:"HJA",label:"HJA"},{value:"Price Check",label:"PRICE CHECK"},{value:"other",label:"OTHER"}],Lq=({onSubmit:e,isLoading:t=!1,existingStockItems:r,isSupplyServe:n=!1,onShowProductLocationInfo:a})=>{const{user:i}=wa(),s=()=>{switch(i==null?void 0:i.role){case"fahiz":return"fahiz";case"aphy":return"APHY";case"supply_serve":return"supply & serve";default:return"supply & serve"}},[o,l]=B.useState({name:"",price:"",unit:"",supplier:qS[0].value,asin:"",status:"pending",damagedItems:"0",fulfillmentType:"mf",storeName:s(),selectedAsins:[]}),[c,u]=B.useState([{locationCode:"A1",shelfNumber:"0",quantity:""}]),[f,h]=B.useState({}),[p,g]=B.useState(!1),[m,v]=B.useState(!1),[y,b]=B.useState(""),{isDarkMode:w}=sn(),[D,P]=B.useState(null),[I,T]=B.useState(!1),[_,S]=B.useState(null),[j,E]=B.useState(!1),[N,O]=B.useState(""),[U,Y]=B.useState(!1),[K,J]=B.useState(null),[z,V]=B.useState(null),[ee,Z]=B.useState(!1),[k,R]=B.useState(""),[q,G]=B.useState(!1),[Q,ie]=B.useState(null),[ue,ne]=B.useState([]),[pe,ye]=B.useState(!1),[W,Pe]=B.useState(null),[Ce,Ee]=B.useState([]),[oe,ve]=B.useState(!1),[De,Te]=B.useState(null);B.useEffect(()=>{o.storeName==="supply & serve"&&o.fulfillmentType!=="mf"&&l(Fe=>({...Fe,fulfillmentType:"mf"}))},[o.storeName,o.fulfillmentType]);const Re=Fe=>{const{name:tt,value:ht}=Fe.target;if(l(Lt=>({...Lt,[tt]:ht})),tt==="supplier"&&(E(ht==="other"),ht!=="other"&&O("")),f[tt]&&h(Lt=>{const Gt={...Lt};return delete Gt[tt],Gt}),tt==="barcode"&&ht.length===13&&!I){Q&&clearTimeout(Q);const Lt=setTimeout(()=>{ht.length===13&&ot(ht)},500);ie(Lt)}else tt==="barcode"&&ht.length!==13&&Q&&(clearTimeout(Q),ie(null))},Ne=(Fe,tt,ht)=>{u(Lt=>{const Gt=[...Lt];if(Gt[Fe]={...Gt[Fe],[tt]:ht},tt==="locationCode"&&(Gt[Fe].shelfNumber="0"),tt==="shelfNumber"){const Rt=Gt[Fe].locationCode,jt=_f(Rt).length-1;parseInt(ht)>jt&&(Gt[Fe].shelfNumber="0")}return Gt})},qe=()=>{u(Fe=>[...Fe,{locationCode:"A1",shelfNumber:"0",quantity:""}])},je=Fe=>{u(tt=>tt.filter((ht,Lt)=>Lt!==Fe))},Je=async Fe=>{l(ht=>({...ht,barcode:Fe})),P(null),S(null),T(!0);let tt=!1;try{const ht=cr(mt(Ke,"scannedProducts"),or("barcode","==",Fe)),Lt=await ur(ht);if(Lt.empty){const Rt=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${Fe}`,ar=await(await fetch(Rt)).json();if(ar&&ar.items&&ar.items.length>0){const mr=ar.items[0],gr=mr.asin||mr.amazon_asin||"";if(gr&&gr.includes(" ")){const Ae=gr.split(" ").filter(ct=>ct.trim());if(Ae.length>1){ne(Ae),Ee([]),Pe({name:mr.title||"",unit:"",asin:Ae[0]}),ye(!0),P("Multiple ASINs detected. Please select one or more."),tt=!0;return}}l(Ae=>({...Ae,name:mr.title||Ae.name,asin:gr||Ae.asin,selectedAsins:gr?[gr]:[]})),P("Product name and ASIN auto-filled from external database."),a&&mr.title&&a(mr.title,Fe),tt=!0}else P("No product found for this barcode. Please enter details manually.")}else{const Gt=Lt.docs[0].data(),Rt=Gt.asin||"";if(Rt&&Rt.includes(" ")){const jt=Rt.split(" ").filter(ar=>ar.trim());if(jt.length>1){ne(jt),Ee([]),Pe({name:Gt.name||"",unit:Gt.unit||"",asin:jt[0]}),ye(!0),P("Multiple ASINs detected. Please select one or more."),tt=!0;return}}l(jt=>({...jt,name:Gt.name||jt.name,unit:Gt.unit||jt.unit,asin:Rt||jt.asin,selectedAsins:Rt?[Rt]:[]})),P("Product name, unit, and ASIN auto-filled from scanned products."),a&&Gt.name&&a(Gt.name,Fe),tt=!0}}catch{S("Failed to fetch product info."),P("Failed to search for product. Please enter details manually.")}finally{T(!1),!tt&&Fe.length===13&&setTimeout(()=>{ot(Fe)},100)}},ut=async Fe=>{try{const tt=cr(mt(Ke,"inventory"),or("barcode","==",Fe),or("quantity","==",0)),ht=await ur(tt);if(!ht.empty){const Lt=ht.docs[0].data();return Te({hiddenProduct:{...Lt,id:ht.docs[0].id,lastUpdated:Lt.lastUpdated instanceof Date?Lt.lastUpdated:new Date(Lt.lastUpdated)},newProductName:o.name||"New Product"}),ve(!0),!0}return!1}catch(tt){return console.error("Error checking for hidden products:",tt),!1}},ot=async Fe=>{const tt=Fe||o.barcode;if(!(!tt||I)){S(null),T(!0);try{const ht=cr(mt(Ke,"scannedProducts"),or("barcode","==",tt)),Lt=await ur(ht);if(!Lt.empty){const mr=Lt.docs[0].data(),gr=mr.asin||"";if(gr&&gr.includes(" ")){const Ae=gr.split(" ").filter(ct=>ct.trim());if(Ae.length>1){ne(Ae),Ee([]),Pe({name:mr.name||"",unit:mr.unit||"",asin:Ae[0]}),ye(!0),P("Multiple ASINs detected. Please select one or more."),T(!1);return}}l(Ae=>({...Ae,name:mr.name||Ae.name,unit:mr.unit||Ae.unit,asin:gr||Ae.asin,selectedAsins:gr?[gr]:[]})),P("Product name, unit, and ASIN auto-filled from scanned products."),a&&mr.name&&a(mr.name,tt),T(!1);return}const Rt=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${tt}`,ar=await(await fetch(Rt)).json();if(ar&&ar.items&&ar.items.length>0){const mr=ar.items[0],gr=mr.asin||mr.amazon_asin||"";if(gr&&gr.includes(" ")){const Ae=gr.split(" ").filter(ct=>ct.trim());if(Ae.length>1){ne(Ae),Ee([]),Pe({name:mr.title||"",unit:"",asin:Ae[0]}),ye(!0),P("Multiple ASINs detected. Please select one or more."),T(!1);return}}l(Ae=>({...Ae,name:mr.title||Ae.name,asin:gr||Ae.asin,selectedAsins:gr?[gr]:[]})),P("Product name and ASIN auto-filled from UPC database."),a&&mr.title&&a(mr.title,tt)}else S("No product info found for this barcode.")}catch{S("Failed to fetch product info.")}finally{T(!1),await ut(tt)}}},wt=()=>{const Fe={};return o.name.trim()||(Fe.name="Product name is required"),c.forEach((tt,ht)=>{tt.quantity?(isNaN(Number(tt.quantity))||Number(tt.quantity)<0)&&(Fe[`location_${ht}_quantity`]="Quantity must be a positive number"):Fe[`location_${ht}_quantity`]="Quantity is required"}),h(Fe),Object.keys(Fe).length===0},kt=async Fe=>{if(Fe.preventDefault(),wt()){const tt=o.supplier||qS[0].value,ht=o.storeName||"supply & serve",Lt=o.selectedAsins.length>0?o.selectedAsins:o.asin?[o.asin]:[],Gt=c.map(jt=>({name:o.name,quantity:parseInt(jt.quantity),price:(i==null?void 0:i.role)==="admin"||(i==null?void 0:i.role)==="fahiz"||(i==null?void 0:i.role)==="aphy"||(i==null?void 0:i.role)==="supply_serve"?parseFloat(o.price):0,unit:o.unit||null,supplier:tt==="other"?N:tt,locationCode:jt.locationCode,shelfNumber:jt.shelfNumber,asin:Lt.length>0?Lt.join(", "):null,status:o.status,damagedItems:parseInt(o.damagedItems),barcode:o.barcode||null,fulfillmentType:o.fulfillmentType,lastUpdated:new Date,storeName:ht==="other"?y:ht}));console.log("AddStockForm submitting data:",Gt),console.log("Location entries:",c);const Rt=Gt.find(jt=>r.some(ar=>ar.name.trim().toLowerCase()===jt.name.trim().toLowerCase()&&(ar.barcode||"")===(jt.barcode||"")&&ar.locationCode===jt.locationCode&&ar.shelfNumber===jt.shelfNumber));if(Rt){console.log("Duplicate found:",Rt),V({name:Rt.name,location:`${Rt.locationCode}-${Rt.shelfNumber}`}),J(Gt),Y(!0);return}try{console.log("Calling onSubmit with stockData:",Gt),await e(Gt)}catch(jt){console.error("Error adding stock:",jt)}}},Pt=async()=>{if(K){try{await e(K)}catch(Fe){console.error("Error adding stock:",Fe)}Y(!1),J(null),V(null)}},_t=()=>{Y(!1),J(null),V(null)},nt=()=>{G(!0)},nr=()=>{R("Product has been successfully added to the database!"),Z(!0)},Wt=Fe=>{W&&(l(tt=>({...tt,name:W.name||tt.name,unit:W.unit||tt.unit,asin:Fe.join(", "),selectedAsins:Fe})),P(`Product info and ${Fe.length} selected ASIN(s) auto-filled.`)),ye(!1),ne([]),Pe(null),Ee([])},zr=()=>{ye(!1),ne([]),Pe(null),Ee([]),P("ASIN selection cancelled. Please enter details manually.")},tr=Fe=>{Ee(tt=>tt.includes(Fe)?tt.filter(Lt=>Lt!==Fe):[...tt,Fe])},Fr=(Fe,tt)=>{c.length>0&&u(ht=>{const Lt=[...ht];return Lt[0]={...Lt[0],locationCode:Fe,shelfNumber:tt},Lt}),ve(!1),Te(null)},Ie=()=>{ve(!1),Te(null)};return d.jsxs(d.Fragment,{children:[d.jsxs("form",{onSubmit:kt,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(Nt,{label:"Product Name",name:"name",value:o.name,onChange:Re,error:f.name,placeholder:"Enter product name",required:!0,fullWidth:!0}),d.jsx("div",{children:d.jsx(en,{label:"Supplier",name:"supplier",value:o.supplier,onChange:Re,options:qS,required:!0,fullWidth:!0})})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[((i==null?void 0:i.role)==="admin"||(i==null?void 0:i.role)==="fahiz"||(i==null?void 0:i.role)==="aphy"||(i==null?void 0:i.role)==="supply_serve")&&d.jsx(Nt,{label:"Price",name:"price",type:"number",value:o.price,onChange:Re,placeholder:"Enter price",min:"0",step:"0.01",fullWidth:!0}),!j&&d.jsx(Nt,{label:"Unit (Optional)",name:"unit",value:o.unit,onChange:Re,placeholder:"e.g. ML, GM, PC, etc.",fullWidth:!0}),j&&d.jsx(Nt,{label:"Other Supplier",value:N,onChange:Fe=>O(Fe.target.value),placeholder:"Enter supplier name",required:j,fullWidth:!0})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:j&&d.jsx(Nt,{label:"Unit (Optional)",name:"unit",value:o.unit,onChange:Re,placeholder:"e.g. ML, GM, PC, etc.",fullWidth:!0})}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h3",{className:"text-lg font-medium",children:"Location Entries"}),d.jsx(st,{type:"button",onClick:qe,variant:"primary",icon:d.jsx(xi,{size:18}),children:"Add Location"})]}),c.map((Fe,tt)=>d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-end",children:[d.jsx(en,{label:"Location Code",value:Fe.locationCode,onChange:ht=>Ne(tt,"locationCode",ht.target.value),options:_ye,required:!0,fullWidth:!0}),d.jsx(en,{label:"Shelf Number",value:Fe.shelfNumber,onChange:ht=>Ne(tt,"shelfNumber",ht.target.value),options:Sye(Fe.locationCode),required:!0,fullWidth:!0}),d.jsx(Nt,{label:"Quantity",type:"number",value:Fe.quantity,onChange:ht=>Ne(tt,"quantity",ht.target.value),error:f[`location_${tt}_quantity`],placeholder:"Enter quantity",min:"0",required:!0,fullWidth:!0}),c.length>1&&d.jsx(st,{type:"button",onClick:()=>je(tt),variant:"danger",icon:d.jsx(ei,{size:18}),children:"Remove"})]},tt))]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(en,{label:"Fulfillment Type",name:"fulfillmentType",value:o.fulfillmentType,onChange:Re,options:o.storeName==="supply & serve"?[{value:"mf",label:"MF"}]:[{value:"fba",label:"FBA"},{value:"mf",label:"MF"}],fullWidth:!0}),d.jsx(en,{label:"Status",name:"status",value:o.status,onChange:Re,options:[{value:"pending",label:"Pending"},{value:"active",label:"Active"}],fullWidth:!0,required:!0})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"flex gap-2 relative w-full",children:[d.jsx(Nt,{label:"Barcode",name:"barcode",value:o.barcode||"",onChange:Re,placeholder:"Enter barcode manually",fullWidth:!0,style:{paddingRight:44}}),d.jsx("button",{type:"button",onClick:()=>ot(),className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:I,children:I?d.jsxs("svg",{className:"animate-spin text-blue-500",width:"18",height:"18",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):d.jsx(zc,{size:18,className:"text-blue-500"})})]}),d.jsx(Nt,{label:"ASIN (separated by commas, if multiple)",name:"asin",value:o.asin,onChange:Re,placeholder:"Enter Amazon ASIN",fullWidth:!0}),_&&d.jsxs("div",{className:"text-red-500 text-sm",children:[_," Please enter details manually."]}),D&&d.jsx("div",{className:"flex items-center text-xs mt-1 text-green-600 dark:text-green-400 pl-1",children:D})]}),!n&&((i==null?void 0:i.role)==="admin"||(i==null?void 0:i.role)==="staff")&&d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx("div",{children:d.jsx(en,{label:"Store Name",value:o.storeName,onChange:Fe=>{const tt=Fe.target.value;l(ht=>({...ht,storeName:tt,fulfillmentType:tt==="supply & serve"?"mf":ht.fulfillmentType})),v(tt==="other"),tt!=="other"&&b("")},options:[{value:"supply & serve",label:"SUPPLY & SERVE"},{value:"APHY",label:"APHY"},{value:"AZTEC",label:"AZTEC"},{value:"ZK",label:"ZK"},{value:"Fahiz",label:"FAHIZ"},{value:"other",label:"OTHER"}]})}),m&&d.jsxs("div",{children:[d.jsx("label",{className:`block text-sm font-medium ${w?"text-slate-200":"text-slate-700"} mb-1`,children:"Other Store Name"}),d.jsx(Nt,{type:"text",value:y,onChange:Fe=>b(Fe.target.value),placeholder:"Enter store name",required:m})]})]}),d.jsx("div",{className:"flex items-center justify-end gap-4 pt-2",children:d.jsxs("div",{className:"flex gap-2",children:[d.jsx(st,{type:"button",onClick:nt,variant:"primary",icon:d.jsx(xi,{size:18}),children:"Add New Product"}),d.jsx(st,{type:"submit",isLoading:t,variant:"success",icon:d.jsx(xi,{size:18}),children:"Confirm"})]})})]}),d.jsx(mh,{isOpen:p,onClose:()=>g(!1),onBarcodeScanned:Je}),d.jsx(xye,{isOpen:q,onClose:()=>G(!1),onSuccess:nr}),d.jsx(wye,{isOpen:U,onClose:_t,onConfirm:Pt,title:"Duplicate Stock Detected",message:z?`A product with the same name and barcode already exists at location ${z.location}. Do you want to add stock anyway?`:"",isLoading:t,confirmLabel:"Yes",cancelLabel:"No"}),d.jsx(on,{isOpen:ee,onClose:()=>Z(!1),title:"Success!",size:"sm",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-3 text-green-600",children:[d.jsx(yO,{size:24}),d.jsx("p",{className:w?"text-slate-200":"text-slate-700",children:k})]}),d.jsx("div",{className:"flex justify-end pt-4",children:d.jsx(st,{variant:"primary",onClick:()=>Z(!1),children:"OK"})})]})}),d.jsx(on,{isOpen:pe,onClose:zr,title:"Multiple ASINs Detected",size:"md",children:d.jsxs("div",{className:"space-y-4",children:[d.jsx("p",{className:w?"text-slate-200":"text-slate-700",children:"Multiple ASINs were found for this product. Please select one or more:"}),d.jsx("div",{className:"space-y-3",children:ue.map((Fe,tt)=>d.jsx("div",{className:`p-3 rounded-lg border cursor-pointer transition-colors ${Ce.includes(Fe)?w?"border-blue-400 bg-blue-900/20":"border-blue-400 bg-blue-50":w?"border-slate-600 hover:border-blue-400 hover:bg-slate-700":"border-slate-300 hover:border-blue-400 hover:bg-blue-50"}`,onClick:()=>tr(Fe),children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:`font-mono text-sm ${w?"text-slate-200":"text-slate-800"}`,children:Fe}),d.jsxs("div",{className:"flex items-center gap-2",children:[Ce.includes(Fe)&&d.jsx(yO,{size:16,className:"text-blue-500"}),d.jsxs("span",{className:`text-xs ${w?"text-slate-400":"text-slate-500"}`,children:["ASIN ",tt+1]})]})]})},tt))}),d.jsxs("div",{className:"flex justify-between items-center pt-4",children:[d.jsx("div",{className:"text-sm text-slate-500",children:Ce.length>0?`${Ce.length} ASIN(s) selected`:"No ASINs selected"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(st,{variant:"secondary",onClick:zr,children:"Cancel"}),d.jsx(st,{variant:"primary",onClick:()=>Wt(Ce),disabled:Ce.length===0,children:"Confirm Selection"})]})]})]})}),(De==null?void 0:De.hiddenProduct)&&d.jsx(bye,{isOpen:oe,onClose:()=>ve(!1),onUseLocation:Fr,onManualLocation:Ie,hiddenProduct:De.hiddenProduct,newProductName:De.newProductName||"New Product"})]})},Aye=[{value:"A1",label:"A1"},{value:"A2",label:"A2"},{value:"A3",label:"A3"},{value:"A4",label:"A4"},{value:"A5",label:"A5"},{value:"A6",label:"A6"},{value:"A7",label:"A7"},{value:"A8",label:"A8"},{value:"B1",label:"B1"},{value:"B2",label:"B2"},{value:"B3",label:"B3"},{value:"B4",label:"B4"},{value:"B5",label:"B5"},{value:"B6",label:"B6"},{value:"B7",label:"B7"},{value:"B8",label:"B8"},{value:"C1",label:"C1"},{value:"C2",label:"C2"},{value:"C3",label:"C3"},{value:"C4",label:"C4"},{value:"C5",label:"C5"},{value:"C6",label:"C6"},{value:"C7",label:"C7"},{value:"C8",label:"C8"},{value:"D1",label:"D1"},{value:"D2",label:"D2"},{value:"D3",label:"D3"},{value:"D4",label:"D4"},{value:"D5",label:"D5"},{value:"D6",label:"D6"},{value:"D7",label:"D7"},{value:"D8",label:"D8"},{value:"E1",label:"E1"},{value:"E2",label:"E2"},{value:"E3",label:"E3"},{value:"E4",label:"E4"},{value:"E5",label:"E5"},{value:"E6",label:"E6"},{value:"E7",label:"E7"},{value:"E8",label:"E8"},{value:"F1",label:"F1"},{value:"F2",label:"F2"},{value:"F3",label:"F3"},{value:"F4",label:"F4"},{value:"F5",label:"F5"},{value:"F6",label:"F6"},{value:"F7",label:"F7"},{value:"F8",label:"F8"},{value:"G1",label:"G1"},{value:"G2",label:"G2"},{value:"G3",label:"G3"},{value:"G4",label:"G4"},{value:"G5",label:"G5"},{value:"G6",label:"G6"},{value:"G7",label:"G7"},{value:"G8",label:"G8"},{value:"H1",label:"H1"},{value:"H2",label:"H2"},{value:"H3",label:"H3"},{value:"H4",label:"H4"},{value:"H5",label:"H5"},{value:"H6",label:"H6"},{value:"H7",label:"H7"},{value:"H8",label:"H8"},{value:"I1",label:"I1"},{value:"I2",label:"I2"},{value:"I3",label:"I3"},{value:"I4",label:"I4"},{value:"I5",label:"I5"},{value:"I6",label:"I6"},{value:"I7",label:"I7"},{value:"I8",label:"I8"},{value:"J1",label:"J1"},{value:"J2",label:"J2"},{value:"J3",label:"J3"},{value:"J4",label:"J4"},{value:"J5",label:"J5"},{value:"J6",label:"J6"},{value:"J7",label:"J7"},{value:"J8",label:"J8"},{value:"K1",label:"K1"},{value:"K2",label:"K2"},{value:"K3",label:"K3"},{value:"K4",label:"K4"},{value:"K5",label:"K5"},{value:"K6",label:"K6"},{value:"K7",label:"K7"},{value:"K8",label:"K8"},{value:"L1",label:"L1"},{value:"L2",label:"L2"},{value:"L3",label:"L3"},{value:"L4",label:"L4"},{value:"L5",label:"L5"},{value:"L6",label:"L6"},{value:"L7",label:"L7"},{value:"L8",label:"L8"},{value:"M1",label:"M1"},{value:"M2",label:"M2"},{value:"M3",label:"M3"},{value:"M4",label:"M4"},{value:"M5",label:"M5"},{value:"M6",label:"M6"},{value:"M7",label:"M7"},{value:"M8",label:"M8"},{value:"N1",label:"N1"},{value:"N2",label:"N2"},{value:"N3",label:"N3"},{value:"N4",label:"N4"},{value:"N5",label:"N5"},{value:"N6",label:"N6"},{value:"N7",label:"N7"},{value:"N8",label:"N8"},{value:"O1",label:"O1"},{value:"O2",label:"O2"},{value:"O3",label:"O3"},{value:"O4",label:"O4"},{value:"O5",label:"O5"},{value:"O6",label:"O6"},{value:"O7",label:"O7"},{value:"O8",label:"O8"},{value:"P1",label:"P1"},{value:"P2",label:"P2"},{value:"P3",label:"P3"},{value:"P4",label:"P4"},{value:"P5",label:"P5"},{value:"P6",label:"P6"},{value:"P7",label:"P7"},{value:"P8",label:"P8"},{value:"Q1",label:"Q1"},{value:"Q2",label:"Q2"},{value:"Q3",label:"Q3"},{value:"Q4",label:"Q4"},{value:"Q5",label:"Q5"},{value:"Q6",label:"Q6"},{value:"Q7",label:"Q7"},{value:"Q8",label:"Q8"},{value:"R1",label:"R1"},{value:"R2",label:"R2"},{value:"R3",label:"R3"},{value:"R4",label:"R4"},{value:"R5",label:"R5"},{value:"R6",label:"R6"},{value:"R7",label:"R7"},{value:"R8",label:"R8"},{value:"S1",label:"S1"},{value:"S2",label:"S2"},{value:"S3",label:"S3"},{value:"S4",label:"S4"},{value:"S5",label:"S5"},{value:"S6",label:"S6"},{value:"S7",label:"S7"},{value:"S8",label:"S8"},{value:"T1",label:"T1"},{value:"T2",label:"T2"},{value:"T3",label:"T3"},{value:"T4",label:"T4"},{value:"T5",label:"T5"},{value:"T6",label:"T6"},{value:"T7",label:"T7"},{value:"T8",label:"T8"},{value:"U1",label:"U1"},{value:"U2",label:"U2"},{value:"U3",label:"U3"},{value:"U4",label:"U4"},{value:"U5",label:"U5"},{value:"U6",label:"U6"},{value:"U7",label:"U7"},{value:"U8",label:"U8"},{value:"V1",label:"V1"},{value:"V2",label:"V2"},{value:"V3",label:"V3"},{value:"V4",label:"V4"},{value:"V5",label:"V5"},{value:"V6",label:"V6"},{value:"V7",label:"V7"},{value:"V8",label:"V8"},{value:"W1",label:"W1"},{value:"W2",label:"W2"},{value:"W3",label:"W3"},{value:"W4",label:"W4"},{value:"W5",label:"W5"},{value:"W6",label:"W6"},{value:"W7",label:"W7"},{value:"W8",label:"W8"},{value:"X1",label:"X1"},{value:"X2",label:"X2"},{value:"X3",label:"X3"},{value:"X4",label:"X4"},{value:"X5",label:"X5"},{value:"X6",label:"X6"},{value:"X7",label:"X7"},{value:"X8",label:"X8"},{value:"Y1",label:"Y1"},{value:"Y2",label:"Y2"},{value:"Y3",label:"Y3"},{value:"Y4",label:"Y4"},{value:"Y5",label:"Y5"},{value:"Y6",label:"Y6"},{value:"Y7",label:"Y7"},{value:"Y8",label:"Y8"},{value:"Z1",label:"Z1"},{value:"Z2",label:"Z2"},{value:"Z3",label:"Z3"},{value:"Z4",label:"Z4"},{value:"Z5",label:"Z5"},{value:"Z6",label:"Z6"},{value:"Z7",label:"Z7"},{value:"Z8",label:"Z8"},{value:"Awaiting Location",label:"Awaiting Location"}],Tye=e=>_f(e),Eye=["supply & serve","APHY","AZTEC","ZK","Fahiz"],u8=[{value:"Rayburns Trading",label:"RAYBURNS TRADING"},{value:"Intamarque",label:"INTAMARQUE"},{value:"Sian Wholesale",label:"SIAN WHOLESALE"},{value:"DMG",label:"DMG"},{value:"CVT",label:"CVT"},{value:"Wholesale Trading Supplies",label:"WHOLESALE TRADING SUPPLIES"},{value:"HJA",label:"HJA"},{value:"Price Check",label:"PRICE CHECK"},{value:"other",label:"OTHER"}],Mq=({item:e,onSubmit:t,isLoading:r=!1})=>{const{isDarkMode:n}=sn(),{user:a}=wa(),[i,s]=B.useState(null),o=()=>{switch(a==null?void 0:a.role){case"fahiz":return"fahiz";case"aphy":return"APHY";case"supply_serve":return"supply & serve";default:return e.storeName}},l=(a==null?void 0:a.role)==="admin"?e.storeName:o(),c=l&&!Eye.includes(l),u=u8.some(O=>O.value===(e.supplier||"")),f=u?e.supplier||"":"other",h=u?"":e.supplier||"",[p,g]=B.useState({name:e.name,quantity:e.quantity.toString(),price:e.price.toString(),unit:e.unit||"",supplier:f,locationCode:e.locationCode,shelfNumber:e.shelfNumber,asin:e.asin||"",status:e.status,damagedItems:e.damagedItems.toString(),fulfillmentType:(c?"other":e.storeName||"supply & serve")==="supply & serve"?"mf":e.fulfillmentType,storeName:c?"other":e.storeName||"supply & serve",barcode:e.barcode||""}),[m,v]=B.useState(c),[y,b]=B.useState(c?l:""),[w,D]=B.useState(f==="other"),[P,I]=B.useState(h),[T,_]=B.useState(!1);B.useEffect(()=>{p.storeName==="supply & serve"&&p.fulfillmentType!=="mf"&&g(O=>({...O,fulfillmentType:"mf"}))},[p.storeName,p.fulfillmentType]);const S=O=>{const{name:U,value:Y}=O.target;if(U==="damagedItems"){const K=Number(Y),J=Number(p.quantity);if(K<0){s("Damaged items cannot be negative");return}s(null),g(z=>({...z,damagedItems:Y,quantity:(J-(K-Number(z.damagedItems))).toString()}));return}U==="supplier"&&(D(Y==="other"),Y!=="other"&&I("")),g(K=>({...K,[U]:Y}))},j=O=>{g(U=>({...U,barcode:O})),_(!1)},E=async O=>{if(O.preventDefault(),N())try{const U={id:e.id,name:p.name,quantity:parseInt(p.quantity),price:(a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="fahiz"||(a==null?void 0:a.role)==="aphy"||(a==null?void 0:a.role)==="supply_serve"?parseFloat(p.price):e.price,unit:p.unit||null,supplier:p.supplier==="other"?P:p.supplier||null,locationCode:p.locationCode,shelfNumber:p.shelfNumber,asin:p.asin||null,status:(a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="fahiz"||(a==null?void 0:a.role)==="aphy"||(a==null?void 0:a.role)==="supply_serve"?p.status:"pending",damagedItems:parseInt(p.damagedItems),fulfillmentType:p.fulfillmentType,lastUpdated:new Date,storeName:p.storeName==="other"?y:p.storeName,barcode:p.barcode||null};await t(U,e)}catch(U){console.error("Error updating stock:",U),s("Failed to update stock. Please try again.")}},N=()=>p.name.trim()?!p.quantity||parseInt(p.quantity)<0?(s("Quantity must be a positive number"),!1):((a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="fahiz"||(a==null?void 0:a.role)==="aphy"||(a==null?void 0:a.role)==="supply_serve")&&(!p.price||parseFloat(p.price)<0)?(s("Price must be a positive number"),!1):!p.locationCode||!p.shelfNumber?(s("Location and shelf number are required"),!1):(s(null),!0):(s("Product name is required"),!1);return d.jsxs("form",{onSubmit:E,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(Nt,{label:"Product Name",name:"name",value:p.name,onChange:S,placeholder:"Enter product name",required:!0,fullWidth:!0}),(a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="fahiz"||(a==null?void 0:a.role)==="aphy"||(a==null?void 0:a.role)==="supply_serve"?d.jsx(en,{label:"Status",name:"status",value:p.status,onChange:S,options:[{value:"pending",label:"Pending"},{value:"active",label:"Active"}],fullWidth:!0,required:!0}):d.jsx(Nt,{label:"Status",name:"status",value:"pending",disabled:!0,fullWidth:!0})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(Nt,{label:"Quantity",name:"quantity",type:"number",value:p.quantity,onChange:S,placeholder:"Enter quantity",min:"0",required:!0,fullWidth:!0}),((a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="fahiz"||(a==null?void 0:a.role)==="aphy"||(a==null?void 0:a.role)==="supply_serve")&&d.jsx(Nt,{label:"Price",name:"price",type:"number",value:p.price,onChange:S,placeholder:"Enter price",min:"0",step:"0.01",fullWidth:!0}),d.jsx(Nt,{label:"Unit (Optional)",name:"unit",value:p.unit,onChange:S,placeholder:"e.g. ML, GM, PC, etc.",fullWidth:!0}),d.jsx(en,{label:"Fulfillment Type",name:"fulfillmentType",value:p.fulfillmentType,onChange:S,options:p.storeName==="supply & serve"?[{value:"mf",label:"MF"}]:[{value:"fba",label:"FBA"},{value:"mf",label:"MF"}],fullWidth:!0})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(en,{label:"Location Code",name:"locationCode",value:p.locationCode,onChange:S,options:Aye,required:!0,fullWidth:!0}),d.jsx(en,{label:"Shelf Number",name:"shelfNumber",value:p.shelfNumber,onChange:S,options:Tye(p.locationCode),required:!0,fullWidth:!0})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"flex gap-2 relative w-full",children:[d.jsx(Nt,{label:"Barcode",name:"barcode",value:p.barcode||"",onChange:S,placeholder:"Enter barcode manually",fullWidth:!0,style:{paddingRight:44}}),d.jsx("button",{type:"button",onClick:()=>_(!0),className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Scan barcode",tabIndex:0,"aria-label":"Scan barcode",children:d.jsx(zc,{size:18,className:"text-blue-500"})})]}),d.jsx(Nt,{label:"ASIN",name:"asin",value:p.asin,onChange:S,placeholder:"Enter Amazon ASIN",fullWidth:!0})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx("div",{children:d.jsx(en,{label:"Supplier",name:"supplier",value:p.supplier,onChange:S,options:u8,required:!0,fullWidth:!0})}),((a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="staff")&&d.jsxs("div",{children:[d.jsx("label",{className:`block text-sm font-medium ${n?"text-slate-300":"text-slate-700"} mb-1`,children:"Store Name"}),d.jsx(en,{value:p.storeName,onChange:O=>{const U=O.target.value;g(Y=>({...Y,storeName:U,fulfillmentType:U==="supply & serve"?"mf":Y.fulfillmentType})),v(U==="other"),U!=="other"&&b("")},options:[{value:"supply & serve",label:"SUPPLY & SERVE"},{value:"APHY",label:"APHY"},{value:"AZTEC",label:"AZTEC"},{value:"ZK",label:"ZK"},{value:"Fahiz",label:"FAHIZ"},{value:"other",label:"OTHER"}]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w&&d.jsx(Nt,{label:"Other Supplier",value:P,onChange:O=>I(O.target.value),placeholder:"Enter supplier name",required:w,fullWidth:!0}),((a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="staff")&&m&&!w&&d.jsxs("div",{children:[d.jsx("label",{className:`block text-sm font-medium ${n?"text-slate-300":"text-slate-700"} mb-1`,children:"Other Store Name"}),d.jsx(Nt,{type:"text",value:y,onChange:O=>b(O.target.value),placeholder:"Enter store name",required:m})]}),((a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="staff")&&m&&w&&d.jsxs("div",{children:[d.jsx("label",{className:`block text-sm font-medium ${n?"text-slate-300":"text-slate-700"} mb-1`,children:"Other Store Name"}),d.jsx(Nt,{type:"text",value:y,onChange:O=>b(O.target.value),placeholder:"Enter store name",required:m})]}),d.jsxs("div",{children:[d.jsx(Nt,{label:"Damaged Items",name:"damagedItems",type:"number",value:p.damagedItems,onChange:S,placeholder:"Enter number of damaged items",min:"0",fullWidth:!0,className:i?"border-red-500 focus:border-red-500":""}),i&&d.jsx("p",{className:"mt-1 text-sm text-red-500",children:i})]})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"}),d.jsx("div",{className:"flex justify-end",children:d.jsx(st,{type:"submit",isLoading:r,icon:d.jsx(xi,{size:18}),children:"Update Product"})}),d.jsx(mh,{isOpen:T,onClose:()=>_(!1),onBarcodeScanned:j})]})},Nye=[{value:"A1",label:"A1"},{value:"A2",label:"A2"},{value:"A3",label:"A3"},{value:"A4",label:"A4"},{value:"A5",label:"A5"},{value:"A6",label:"A6"},{value:"A7",label:"A7"},{value:"A8",label:"A8"},{value:"B1",label:"B1"},{value:"B2",label:"B2"},{value:"B3",label:"B3"},{value:"B4",label:"B4"},{value:"B5",label:"B5"},{value:"B6",label:"B6"},{value:"B7",label:"B7"},{value:"B8",label:"B8"},{value:"C1",label:"C1"},{value:"C2",label:"C2"},{value:"C3",label:"C3"},{value:"C4",label:"C4"},{value:"C5",label:"C5"},{value:"C6",label:"C6"},{value:"C7",label:"C7"},{value:"C8",label:"C8"},{value:"D1",label:"D1"},{value:"D2",label:"D2"},{value:"D3",label:"D3"},{value:"D4",label:"D4"},{value:"D5",label:"D5"},{value:"D6",label:"D6"},{value:"D7",label:"D7"},{value:"D8",label:"D8"},{value:"E1",label:"E1"},{value:"E2",label:"E2"},{value:"E3",label:"E3"},{value:"E4",label:"E4"},{value:"E5",label:"E5"},{value:"E6",label:"E6"},{value:"E7",label:"E7"},{value:"E8",label:"E8"},{value:"F1",label:"F1"},{value:"F2",label:"F2"},{value:"F3",label:"F3"},{value:"F4",label:"F4"},{value:"F5",label:"F5"},{value:"F6",label:"F6"},{value:"F7",label:"F7"},{value:"F8",label:"F8"},{value:"G1",label:"G1"},{value:"G2",label:"G2"},{value:"G3",label:"G3"},{value:"G4",label:"G4"},{value:"G5",label:"G5"},{value:"G6",label:"G6"},{value:"G7",label:"G7"},{value:"G8",label:"G8"},{value:"H1",label:"H1"},{value:"H2",label:"H2"},{value:"H3",label:"H3"},{value:"H4",label:"H4"},{value:"H5",label:"H5"},{value:"H6",label:"H6"},{value:"H7",label:"H7"},{value:"H8",label:"H8"},{value:"I1",label:"I1"},{value:"I2",label:"I2"},{value:"I3",label:"I3"},{value:"I4",label:"I4"},{value:"I5",label:"I5"},{value:"I6",label:"I6"},{value:"I7",label:"I7"},{value:"I8",label:"I8"},{value:"J1",label:"J1"},{value:"J2",label:"J2"},{value:"J3",label:"J3"},{value:"J4",label:"J4"},{value:"J5",label:"J5"},{value:"J6",label:"J6"},{value:"J7",label:"J7"},{value:"J8",label:"J8"},{value:"K1",label:"K1"},{value:"K2",label:"K2"},{value:"K3",label:"K3"},{value:"K4",label:"K4"},{value:"K5",label:"K5"},{value:"K6",label:"K6"},{value:"K7",label:"K7"},{value:"K8",label:"K8"},{value:"L1",label:"L1"},{value:"L2",label:"L2"},{value:"L3",label:"L3"},{value:"L4",label:"L4"},{value:"L5",label:"L5"},{value:"L6",label:"L6"},{value:"L7",label:"L7"},{value:"L8",label:"L8"},{value:"M1",label:"M1"},{value:"M2",label:"M2"},{value:"M3",label:"M3"},{value:"M4",label:"M4"},{value:"M5",label:"M5"},{value:"M6",label:"M6"},{value:"M7",label:"M7"},{value:"M8",label:"M8"},{value:"N1",label:"N1"},{value:"N2",label:"N2"},{value:"N3",label:"N3"},{value:"N4",label:"N4"},{value:"N5",label:"N5"},{value:"N6",label:"N6"},{value:"N7",label:"N7"},{value:"N8",label:"N8"},{value:"O1",label:"O1"},{value:"O2",label:"O2"},{value:"O3",label:"O3"},{value:"O4",label:"O4"},{value:"O5",label:"O5"},{value:"O6",label:"O6"},{value:"O7",label:"O7"},{value:"O8",label:"O8"},{value:"P1",label:"P1"},{value:"P2",label:"P2"},{value:"P3",label:"P3"},{value:"P4",label:"P4"},{value:"P5",label:"P5"},{value:"P6",label:"P6"},{value:"P7",label:"P7"},{value:"P8",label:"P8"},{value:"Q1",label:"Q1"},{value:"Q2",label:"Q2"},{value:"Q3",label:"Q3"},{value:"Q4",label:"Q4"},{value:"Q5",label:"Q5"},{value:"Q6",label:"Q6"},{value:"Q7",label:"Q7"},{value:"Q8",label:"Q8"},{value:"R1",label:"R1"},{value:"R2",label:"R2"},{value:"R3",label:"R3"},{value:"R4",label:"R4"},{value:"R5",label:"R5"},{value:"R6",label:"R6"},{value:"R7",label:"R7"},{value:"R8",label:"R8"},{value:"S1",label:"S1"},{value:"S2",label:"S2"},{value:"S3",label:"S3"},{value:"S4",label:"S4"},{value:"S5",label:"S5"},{value:"S6",label:"S6"},{value:"S7",label:"S7"},{value:"S8",label:"S8"},{value:"T1",label:"T1"},{value:"T2",label:"T2"},{value:"T3",label:"T3"},{value:"T4",label:"T4"},{value:"T5",label:"T5"},{value:"T6",label:"T6"},{value:"T7",label:"T7"},{value:"T8",label:"T8"},{value:"U1",label:"U1"},{value:"U2",label:"U2"},{value:"U3",label:"U3"},{value:"U4",label:"U4"},{value:"U5",label:"U5"},{value:"U6",label:"U6"},{value:"U7",label:"U7"},{value:"U8",label:"U8"},{value:"V1",label:"V1"},{value:"V2",label:"V2"},{value:"V3",label:"V3"},{value:"V4",label:"V4"},{value:"V5",label:"V5"},{value:"V6",label:"V6"},{value:"V7",label:"V7"},{value:"V8",label:"V8"},{value:"W1",label:"W1"},{value:"W2",label:"W2"},{value:"W3",label:"W3"},{value:"W4",label:"W4"},{value:"W5",label:"W5"},{value:"W6",label:"W6"},{value:"W7",label:"W7"},{value:"W8",label:"W8"},{value:"X1",label:"X1"},{value:"X2",label:"X2"},{value:"X3",label:"X3"},{value:"X4",label:"X4"},{value:"X5",label:"X5"},{value:"X6",label:"X6"},{value:"X7",label:"X7"},{value:"X8",label:"X8"},{value:"Y1",label:"Y1"},{value:"Y2",label:"Y2"},{value:"Y3",label:"Y3"},{value:"Y4",label:"Y4"},{value:"Y5",label:"Y5"},{value:"Y6",label:"Y6"},{value:"Y7",label:"Y7"},{value:"Y8",label:"Y8"},{value:"Z1",label:"Z1"},{value:"Z2",label:"Z2"},{value:"Z3",label:"Z3"},{value:"Z4",label:"Z4"},{value:"Z5",label:"Z5"},{value:"Z6",label:"Z6"},{value:"Z7",label:"Z7"},{value:"Z8",label:"Z8"},{value:"Awaiting Location",label:"Awaiting Location"}],Rq=({onSubmit:e,onClose:t,isLoading:r=!1})=>{const[n,a]=B.useState([]),[i,s]=B.useState({name:"",locationCode:"A1",shelfNumber:"0",barcode:"",quantity:""}),[o,l]=B.useState({}),[c,u]=B.useState(!1),[f,h]=B.useState(null),[p,g]=B.useState(!1),[m,v]=B.useState(null),y=B.useRef(null);B.useEffect(()=>{a(_f(i.locationCode))},[]),B.useEffect(()=>{a(_f(i.locationCode));const _=_f(i.locationCode).length-1;parseInt(i.shelfNumber)>_&&s(S=>({...S,shelfNumber:"0"}))},[i.locationCode]);const b=_=>{const{name:S,value:j}=_.target;s(E=>({...E,[S]:j})),o[S]&&l(E=>{const N={...E};return delete N[S],N}),S==="barcode"&&j.length===13&&!p?(y.current&&clearTimeout(y.current),y.current=setTimeout(()=>{j.length===13&&P(j)},500)):S==="barcode"&&j.length!==13&&y.current&&(clearTimeout(y.current),y.current=null)},w=()=>{u(!0)},D=async _=>{s(j=>({...j,barcode:_})),h(null),v(null),g(!0);let S=!1;try{const j=cr(mt(Ke,"scannedProducts"),or("barcode","==",_)),E=await ur(j);if(E.empty){const O=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${_}`,Y=await(await fetch(O)).json();if(Y&&Y.items&&Y.items.length>0){const K=Y.items[0];s(J=>({...J,name:K.title||J.name})),h("Product name auto-filled from external database."),S=!0}else h("No product found for this barcode. Please enter details manually.")}else{const N=E.docs[0].data();s(O=>({...O,name:N.name||O.name})),h("Product name auto-filled from scanned products."),S=!0}}catch{v("Failed to fetch product info."),h("Failed to search for product. Please enter details manually.")}finally{g(!1),!S&&_.length===13&&setTimeout(()=>{P(_)},100)}},P=async _=>{const S=_||i.barcode;if(!(!S||p)){v(null),g(!0);try{const j=cr(mt(Ke,"scannedProducts"),or("barcode","==",S)),E=await ur(j);if(E.empty){const O=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${S}`,Y=await(await fetch(O)).json();if(Y&&Y.items&&Y.items.length>0){const K=Y.items[0];s(J=>({...J,name:K.title||J.name})),h("Product name auto-filled from external database.")}else v("No product info found for this barcode.")}else{const N=E.docs[0].data();s(O=>({...O,name:N.name||O.name})),h("Product name auto-filled from scanned products.")}}catch{v("Failed to fetch product info.")}finally{g(!1)}}},I=()=>{const _={};return i.name.trim()||(_.name="Product name is required"),i.locationCode||(_.locationCode="Location is required"),i.shelfNumber||(_.shelfNumber="Shelf number is required"),(!i.quantity||parseInt(i.quantity)<=0)&&(_.quantity="Quantity must be greater than 0"),l(_),Object.keys(_).length===0},T=async _=>{if(_.preventDefault(),!I())return;const S={name:i.name.toUpperCase(),quantity:parseInt(i.quantity),price:0,unit:null,supplier:"not set",lastUpdated:new Date,locationCode:i.locationCode,shelfNumber:i.shelfNumber,barcode:i.barcode||null,asin:null,status:"pending",damagedItems:0,fulfillmentType:"fba",storeName:"not set"};try{await e([S]),t()}catch(j){console.error("Error adding stock:",j)}};return d.jsxs(d.Fragment,{children:[d.jsxs("form",{onSubmit:T,className:"space-y-4",children:[d.jsx(Nt,{label:"Product Name",name:"name",value:i.name,onChange:b,placeholder:"Enter product name",error:o.name,required:!0,fullWidth:!0}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(en,{label:"Location Code",name:"locationCode",value:i.locationCode,onChange:b,options:Nye,error:o.locationCode,required:!0,fullWidth:!0}),d.jsx(en,{label:"Shelf Number",name:"shelfNumber",value:i.shelfNumber,onChange:b,options:n,error:o.shelfNumber,required:!0,fullWidth:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex gap-2 relative w-full",children:[d.jsx(Nt,{label:"Barcode",name:"barcode",value:i.barcode,onChange:b,placeholder:"Enter barcode",fullWidth:!0,style:{paddingRight:44}}),d.jsx("button",{type:"button",onClick:async()=>{if(i.barcode.trim()&&!p){v(null),g(!0);try{await P()}finally{g(!1)}}},className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:p,children:p?d.jsxs("svg",{className:"animate-spin text-blue-500",width:"18",height:"18",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):d.jsx(zc,{size:18,className:"text-blue-500"})})]}),m&&d.jsxs("div",{className:"text-red-500 text-sm",children:[m," Please enter details manually."]}),f&&d.jsx("div",{className:"flex items-center text-xs mt-1 text-green-600 dark:text-green-400 pl-1",children:f}),p&&d.jsxs("div",{className:"flex items-center gap-2 text-blue-500 text-sm",children:[d.jsxs("svg",{className:"w-4 h-4 animate-spin",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Fetching product info..."]})]}),d.jsx(Nt,{label:"Quantity",name:"quantity",type:"number",value:i.quantity,onChange:b,placeholder:"Enter quantity",error:o.quantity,min:"1",required:!0,fullWidth:!0}),d.jsxs("div",{className:"flex items-center justify-end gap-4 pt-2",children:[d.jsx(st,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(st,{type:"submit",isLoading:r,icon:d.jsx(xi,{size:18}),children:"Quick Add"}),d.jsx(st,{type:"button",onClick:w,variant:"primary",icon:d.jsx(zc,{size:18}),className:"whitespace-nowrap",children:"Scan"})]})]})]}),d.jsx(mh,{isOpen:c,onClose:()=>u(!1),onBarcodeScanned:D})]})},S5=({isOpen:e,onClose:t,item:r})=>{var i,s;const{isDarkMode:n}=sn(),{user:a}=wa();return r?d.jsx(on,{isOpen:e,onClose:t,title:r.name,size:"xl",children:d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"flex flex-col md:flex-row gap-6",children:d.jsxs("div",{className:"w-full",children:[d.jsx("div",{className:"mb-4 flex items-center justify-between",children:d.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${r.quantity<10?"bg-red-100 text-red-800 ":r.quantity<=25?"bg-yellow-100 text-yellow-800 ":"bg-green-100 text-green-800 "}`,children:r.quantity<10?"Critical Low Stock":r.quantity<=25?"Low Stock":"In Stock"})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Quantity"}),d.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.quantity})]}),(a==null?void 0:a.role)==="admin"&&d.jsxs("div",{children:[d.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Price"}),d.jsx("p",{className:`mt-1 text-sm ${n?"text-slate-200":"text-slate-900"}`,children:Number(r.price)>0?`£${Number(r.price).toFixed(2)}`:"Not set yet"})]}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Unit"}),d.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.unit||"-"})]}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Supplier"}),d.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:((i=r.supplier)==null?void 0:i.toUpperCase())||"-"})]}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Location"}),d.jsxs("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:[r.locationCode," - ",r.shelfNumber]})]}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"ASIN"}),d.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.asin?r.asin.includes(",")?r.asin.split(",").map((o,l)=>d.jsx("span",{className:"block",children:o.trim()},l)):r.asin:"-"})]}),d.jsxs("div",{children:[d.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Status"}),d.jsx("p",{className:"mt-1",children:d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:r.status==="active"?"Active":"Pending"})})]}),d.jsxs("div",{children:[d.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Damaged Items"}),d.jsx("p",{className:"mt-1",children:d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r.damagedItems>0?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:r.damagedItems>0?`${r.damagedItems} Damaged`:"None"})})]}),d.jsxs("div",{children:[d.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Fulfillment Type"}),d.jsx("p",{className:"mt-1",children:d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r.fulfillmentType==="fba"?"bg-blue-100 text-blue-700":r.fulfillmentType==="mf"?"bg-purple-100 text-purple-700":"bg-indigo-100 text-indigo-700"}`,children:r.fulfillmentType==="fba"?"FBA":r.fulfillmentType==="mf"?"MF":"None"})})]}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Barcode"}),d.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.barcode||"-"})]}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Last Updated"}),d.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:rr(r.lastUpdated,"MMM d, yyyy")})]}),d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Store Name"}),d.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:((s=r.storeName)==null?void 0:s.toUpperCase())||"-"})]})]})]})}),d.jsxs("div",{className:`pt-3 border-t ${n?"border-slate-700":"border-slate-200"}`,children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("span",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-700"}`,children:"Stock Level"}),d.jsxs("span",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:[r.quantity," units"]})]}),d.jsxs("div",{className:`h-2 w-full ${n?"bg-slate-700":"bg-slate-200"} rounded-full overflow-hidden relative`,children:[d.jsx("div",{className:`h-full ${r.quantity<10?"bg-red-500":r.quantity<=25?"bg-orange-500":"bg-green-500"}`,style:{width:`${Math.min(r.quantity/50*100,100)}%`}}),d.jsx("div",{className:`absolute top-0 h-full w-0.5 ${n?"bg-red-400":"bg-red-600"}`,style:{left:`calc(${10/50*100}% - 1px)`},title:"Critical Threshold (10 units)"}),d.jsx("div",{className:`absolute top-0 h-full w-0.5 ${n?"bg-orange-400":"bg-orange-600"}`,style:{left:`calc(${25/50*100}% - 1px)`},title:"Low Stock Threshold (25 units)"})]}),d.jsxs("div",{className:`mt-1 flex justify-between text-xs ${n?"text-slate-400":"text-slate-500"}`,children:[d.jsx("span",{children:"0"}),d.jsx("span",{children:"Critical: <10"}),d.jsx("span",{children:"Low: 10-25"}),d.jsx("span",{children:"25+"})]})]})]})}):null},ih=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,isLoading:i=!1})=>{const{isDarkMode:s}=sn();return d.jsx(on,{isOpen:e,onClose:t,title:n,size:"md",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-3 text-amber-600",children:[d.jsx(bv,{size:24}),d.jsx("p",{className:s?"text-slate-200":"text-slate-700",children:a})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[d.jsx(st,{variant:"secondary",onClick:t,disabled:i,className:s?"text-slate-100":"text-slate-700",children:"Cancel"}),d.jsx(st,{variant:"danger",onClick:r,isLoading:i,children:"Delete"})]})]})})},Fq=({isOpen:e,onClose:t,onConfirm:r,onCancel:n,onMerge:a,locationCode:i,shelfNumber:s,existingProducts:o,newProductName:l,newProductBarcode:c})=>{const u=o.filter(m=>m.quantity>0),f=u.length,h=u.reduce((m,v)=>m+v.quantity,0),p=c&&u.some(m=>m.barcode===c),g=p?u.find(m=>m.barcode===c):null;return d.jsx(on,{isOpen:e,onClose:t,title:"Location Already Occupied",size:"md",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(bv,{className:"w-6 h-6 text-amber-500 mt-1 flex-shrink-0"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["The location ",d.jsxs("strong",{children:[i,"-",s]})," already contains products."]}),d.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-3",children:u.length>0?d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-200 font-medium",children:"Current products in this location:"}),d.jsx("ul",{className:"mt-2 space-y-1",children:u.map((m,v)=>d.jsxs("li",{className:"text-sm text-amber-700 dark:text-amber-300",children:["• ",m.name," (",m.quantity," units)",m.barcode&&d.jsxs("span",{className:"text-xs text-amber-600 dark:text-amber-400 ml-2",children:["Barcode: ",m.barcode]})]},v))}),d.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-200 mt-2",children:["Total: ",f," product",f!==1?"s":""," (",h," units)"]})]}):d.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-200 font-medium",children:"This location appears to be empty (all products have 0 quantity)."})}),p&&g&&d.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:[d.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200 font-medium",children:"Merge Available!"}),d.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1",children:['The product "',l,'" has the same barcode (',c,') as "',g.name,'" which is already in this location. You can merge them to add quantity instead of creating a duplicate entry.']})]}),d.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Do you still want to add ",d.jsx("strong",{children:l})," to this location?"]})]})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[d.jsx(st,{variant:"secondary",onClick:n,children:"Cancel"}),p&&a&&d.jsx(st,{onClick:a,className:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500",children:"Merge Products"}),d.jsx(st,{onClick:r,className:"bg-amber-600 hover:bg-amber-700 focus:ring-amber-500",children:"Yes, Add Product"})]})]})})},kye=({isOpen:e,onClose:t,productName:r,barcode:n,existingLocations:a})=>{const{isDarkMode:i}=sn();return d.jsx(on,{isOpen:e,onClose:t,title:"Product Location Information",size:"lg",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:`${i?"bg-blue-900/20 border-blue-800":"bg-blue-50 border-blue-200"} border rounded-lg p-4`,children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(Jd,{className:`w-5 h-5 ${i?"text-blue-400":"text-blue-600"}`}),d.jsx("h3",{className:`font-semibold ${i?"text-blue-200":"text-blue-900"}`,children:"Product Details"})]}),d.jsxs("div",{className:`text-sm ${i?"text-blue-300":"text-blue-800"}`,children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Name:"})," ",r]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Barcode:"})," ",n]})]})]}),d.jsxs("div",{className:`${i?"bg-green-900/20 border-green-800":"bg-green-50 border-green-200"} border rounded-lg p-4`,children:[d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx(gN,{className:`w-5 h-5 ${i?"text-green-400":"text-green-600"}`}),d.jsxs("h3",{className:`font-semibold ${i?"text-green-200":"text-green-900"}`,children:["Current Locations (",a.length,")"]})]}),a.length>0?d.jsx("div",{className:"space-y-2",children:a.map((s,o)=>d.jsx("div",{className:`${i?"bg-slate-700 border-slate-600":"bg-white border-slate-200"} rounded-lg p-3 border`,children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("p",{className:`font-medium ${i?"text-slate-100":"text-slate-900"}`,children:[s.locationCode," - ",s.shelfNumber]}),d.jsxs("p",{className:`text-sm font-semibold ${i?"text-slate-200":"text-slate-700"}`,children:[s.quantity," units"]})]})},o))}):d.jsx("p",{className:`text-sm ${i?"text-green-300":"text-green-700"}`,children:"This product is not currently in any location."})]}),d.jsx("div",{className:"flex justify-end pt-4",children:d.jsx(st,{variant:"secondary",onClick:t,className:i?"text-slate-100":"text-slate-700",children:"Close"})})]})})},Cye=()=>{var gr;const[e,t]=B.useState(""),[r,n]=B.useState(""),[a,i]=B.useState(""),[s,o]=B.useState(""),[l,c]=B.useState("name"),[u,f]=B.useState(!1),[h,p]=B.useState(!1),[g,m]=B.useState(!1),[v,y]=B.useState(!1),[b,w]=B.useState(!1),[D,P]=B.useState(null),[I,T]=B.useState([]),[_,S]=B.useState(new Set),[j,E]=B.useState(!1),{showToast:N}=rc(),{isDarkMode:O}=sn(),{user:U}=wa(),[Y,K]=B.useState(!1),[J,z]=B.useState(null),[V,ee]=B.useState(!1),[Z,k]=B.useState(!1),[R,q]=B.useState(null),[G,Q]=B.useState(null),[ie,ue]=B.useState(null),[ne,pe]=B.useState(!1),[ye,W]=B.useState("all"),[Pe,Ce]=B.useState(!1),[Ee,oe]=B.useState(null),[ve,De]=B.useState(!1),[Te,Re]=B.useState(null);B.useEffect(()=>{const Ae=setTimeout(()=>{n(e)},300);return()=>{clearTimeout(Ae)}},[e]),B.useEffect(()=>{const Ae=setTimeout(()=>{o(a)},300);return()=>{clearTimeout(Ae)}},[a]);const Ne=B.useCallback(async()=>{w(!0);try{const Ae=cr(mt(Ke,"inventory"),Ia("name")),We=(await ur(Ae)).docs.map(Kt=>{const ir=Kt.data();return{id:Kt.id,...ir,lastUpdated:ir.lastUpdated instanceof lr?ir.lastUpdated.toDate():new Date(ir.lastUpdated)}});T(We)}catch(Ae){console.error("Error fetching stock items:",Ae),N("Failed to fetch stock items","error")}finally{w(!1)}},[N]),qe=B.useCallback(async()=>{try{const Ae=mt(Ke,"inventory"),ct=await ok(Ae);oe(ct.data().count)}catch{oe(null)}},[]);B.useEffect(()=>{Ne(),qe()},[Ne,qe]),B.useEffect(()=>{const Ae=ct=>{const We=ct.target;We.closest(".store-filter-dropdown")||pe(!1),We.closest(".status-filter-dropdown")||Ce(!1)};return(ne||Pe)&&document.addEventListener("mousedown",Ae),()=>{document.removeEventListener("mousedown",Ae)}},[ne,Pe]);const je=B.useMemo(()=>[{value:"name",label:"Name (A-Z)"},{value:"quantity",label:"Quantity (High-Low)"},{value:"price",label:"Price (High-Low)"},{value:"date",label:"Date Updated"}],[]),Je=B.useMemo(()=>["supply & serve","APHY","AZTEC","ZK","Fahiz"],[]),ut=B.useCallback(Ae=>({"supply & serve":"bg-blue-100 text-blue-700",APHY:"bg-green-100 text-green-700",AZTEC:"bg-purple-100 text-purple-700",ZK:"bg-orange-100 text-orange-700",Fahiz:"bg-pink-100 text-pink-700"})[Ae]||"bg-gray-100 text-gray-700",[]),ot=B.useMemo(()=>{const Ae=r.toLowerCase(),ct=s.toLowerCase();return I.filter(We=>{if(We.quantity===0)return!1;const Kt=r===""||We.name.toLowerCase().startsWith(Ae),ir=s===""||We.barcode&&We.barcode.toLowerCase().includes(ct)||We.asin&&We.asin.split(",").some(Vr=>Vr.trim().toLowerCase().includes(ct)),Rr=ie?ie.storeName==="other"?!Je.includes(We.storeName)&&We.fulfillmentType===ie.fulfillmentType:We.storeName===ie.storeName&&We.fulfillmentType===ie.fulfillmentType:!0,Nr=ye==="all"||We.status===ye;return Kt&&ir&&Rr&&Nr}).sort((We,Kt)=>l==="name"?We.name.localeCompare(Kt.name):l==="quantity"?Kt.quantity-We.quantity:l==="price"?Kt.price-We.price:l==="date"?new Date(Kt.lastUpdated).getTime()-new Date(We.lastUpdated).getTime():0)},[I,r,s,ie,ye,l,Je]),wt=B.useCallback((Ae,ct)=>I.filter(We=>We.locationCode===Ae&&We.shelfNumber===ct),[I]),kt=B.useCallback(Ae=>I.filter(ct=>ct.barcode===Ae&&ct.quantity>0),[I]),Pt=B.useCallback((Ae,ct)=>{const We=kt(ct);We.length>0&&(Re({productName:Ae,barcode:ct,existingLocations:We}),De(!0))},[kt]),_t=B.useCallback(async Ae=>{w(!0);try{const ct=[];for(const We of Ae)if(We.barcode){const Kt=cr(mt(Ke,"inventory"),or("barcode","==",We.barcode),or("quantity","==",0)),ir=await ur(Kt);if(!ir.empty){const Rr=ir.docs[0];if(await Ns(Ar(Ke,"inventory",Rr.id)),T(Nr=>Nr.filter(Vr=>Vr.id!==Rr.id)),U){const Nr=Rr.data();await pr(mt(Ke,"activityLogs"),{user:U.name,role:U.role,detail:`deleted hidden product "${Nr.name}" with barcode ${We.barcode} from location ${Nr.locationCode}-${Nr.shelfNumber}`,time:new Date().toISOString()})}}}for(const We of Ae){const Kt=await pr(mt(Ke,"inventory"),{...We,lastUpdated:lr.fromDate(new Date)});ct.push({...We,id:Kt.id,lastUpdated:new Date})}if(U){const We=Ae.reduce((ir,Rr)=>ir+Rr.quantity,0),Kt=Ae.map(ir=>`${ir.quantity} at ${ir.locationCode}-${ir.shelfNumber}`).join(", ");await pr(mt(Ke,"activityLogs"),{user:U.name,role:U.role,detail:`added new product "${Ae[0].name}" with total quantity ${We} (${Kt})`,time:new Date().toISOString()})}T(We=>[...We,...ct]),f(!1),ee(!1),N("Stock items added successfully","success")}catch(ct){console.error("Error adding stock:",ct),N("Failed to add stock items","error")}finally{w(!1)}},[U,N]),nt=B.useCallback(async Ae=>{console.log("handleAddStock called with data:",Ae);const ct=[];for(const We of Ae){console.log(`Checking location ${We.locationCode}-${We.shelfNumber} for existing products`);const Kt=wt(We.locationCode,We.shelfNumber);console.log(`Found ${Kt.length} existing products at ${We.locationCode}-${We.shelfNumber}:`,Kt),Kt.length>0&&ct.push({locationCode:We.locationCode,shelfNumber:We.shelfNumber,products:Kt})}if(console.log("Locations with products:",ct),ct.length>0){console.log("Showing location confirmation modal");const We=ct[0];Q({locationCode:We.locationCode,shelfNumber:We.shelfNumber,existingProducts:We.products,newProductName:Ae[0].name,newProductBarcode:Ae[0].barcode||void 0}),q(Ae),k(!0);return}console.log("No existing products found, proceeding with add stock"),await _t(Ae)},[wt,_t]),nr=B.useCallback(async()=>{R&&(await _t(R),k(!1),q(null),Q(null),f(!1),ee(!1))},[R,_t]),Wt=B.useCallback(()=>{k(!1),q(null),Q(null),f(!1),ee(!1)},[]),zr=B.useCallback(async()=>{if(R&&G)try{w(!0);const Ae=G.existingProducts.find(ct=>ct.barcode===G.newProductBarcode);if(Ae){const ct=Ae.quantity+R[0].quantity,We=Ar(Ke,"inventory",Ae.id);await jn(We,{quantity:ct,lastUpdated:lr.fromDate(new Date)}),U&&(await pr(mt(Ke,"activityLogs"),{user:U.name,role:U.role,detail:`merged ${R[0].quantity} units of "${R[0].name}" with existing stock "${Ae.name}" at location ${G.locationCode}-${G.shelfNumber}`,time:new Date().toISOString()}),await pr(mt(Ke,"activityLogs"),{user:U.name,role:U.role,detail:`edited product "${Ae.name}": quantity from ${Ae.quantity} to ${ct}`,time:new Date().toISOString()})),await Ne(),N("Products merged successfully","success")}}catch(Ae){console.error("Error merging products:",Ae),N("Failed to merge products","error")}finally{w(!1),k(!1),q(null),Q(null),f(!1),ee(!1)}},[R,G,U,Ne,N]),tr=B.useCallback(async(Ae,ct)=>{w(!0);try{const We=new Date,Kt={},ir=[];if(Ae.name!==ct.name&&(Kt.name=Ae.name,ir.push(`name from "${ct.name}" to "${Ae.name}"`)),Ae.price!==ct.price){Kt.price=Ae.price;const Rr=Number(ct.price||0).toFixed(2),Nr=Number(Ae.price||0).toFixed(2);ir.push(`price from £${Rr} to £${Nr}`)}if((Ae.locationCode!==ct.locationCode||Ae.shelfNumber!==ct.shelfNumber)&&(Kt.locationCode=Ae.locationCode,Kt.shelfNumber=Ae.shelfNumber,ir.push(`location from ${ct.locationCode}-${ct.shelfNumber} to ${Ae.locationCode}-${Ae.shelfNumber}`)),Ae.supplier!==ct.supplier&&(Kt.supplier=Ae.supplier,ir.push(`supplier from "${ct.supplier||"none"}" to "${Ae.supplier||"none"}"`)),Ae.asin!==ct.asin&&(Kt.asin=Ae.asin,ir.push(`ASIN from "${ct.asin||"none"}" to "${Ae.asin||"none"}"`)),Ae.status!==ct.status&&(Kt.status=Ae.status,ir.push(`status from "${ct.status}" to "${Ae.status}"`)),Ae.damagedItems!==ct.damagedItems&&(Kt.damagedItems=Ae.damagedItems,ir.push(`damaged items from ${ct.damagedItems} to ${Ae.damagedItems}`)),Ae.fulfillmentType!==ct.fulfillmentType&&(Kt.fulfillmentType=Ae.fulfillmentType,ir.push(`fulfillment type from "${ct.fulfillmentType.toUpperCase()}" to "${Ae.fulfillmentType.toUpperCase()}"`)),Ae.storeName!==ct.storeName&&(Kt.storeName=Ae.storeName,ir.push(`store name from "${ct.storeName}" to "${Ae.storeName}"`)),Ae.unit!==ct.unit&&(Kt.unit=Ae.unit,ir.push(`unit from "${ct.unit||"none"}" to "${Ae.unit||"none"}"`)),Ae.barcode!==ct.barcode&&(Kt.barcode=Ae.barcode,ir.push(`barcode from "${ct.barcode||"none"}" to "${Ae.barcode||"none"}"`)),Object.keys(Kt).length>0){const Rr=Ar(Ke,"inventory",Ae.id);await jn(Rr,{...Kt,lastUpdated:lr.fromDate(We)}),U&&ir.length>0&&await pr(mt(Ke,"activityLogs"),{user:U.name,role:U.role,detail:`edited product "${Ae.name}": ${ir.join(", ")}`,time:We.toISOString()});const Nr=I.map(Vr=>Vr.id===Ae.id?{...Vr,...Kt,lastUpdated:We}:Vr);T(Nr),N("Stock details updated successfully","success"),p(!1),P(null)}if(Ae.quantity>ct.quantity)z({itemId:Ae.id,newQuantity:Ae.quantity}),K(!0),p(!1);else if(Ae.quantity!==ct.quantity){const Rr=Ar(Ke,"inventory",Ae.id);await jn(Rr,{quantity:Ae.quantity,lastUpdated:lr.fromDate(We)}),U&&await pr(mt(Ke,"activityLogs"),{user:U.name,role:U.role,detail:`edited product "${Ae.name}": quantity from ${ct.quantity} to ${Ae.quantity}`,time:We.toISOString()});const Nr=I.map(Vr=>Vr.id===Ae.id?{...Vr,quantity:Ae.quantity,lastUpdated:We}:Vr);T(Nr),N("Stock quantity updated","success"),p(!1),P(null)}else p(!1),P(null)}catch(We){console.error("Error updating stock:",We),N("Failed to update stock item","error")}finally{w(!1)}},[I,U,N]),Fr=B.useCallback(async()=>{if(J){w(!0);try{const{itemId:Ae,newQuantity:ct}=J,We=new Date,Kt=I.find(Nr=>Nr.id===Ae),ir=Ar(Ke,"inventory",Ae);await jn(ir,{quantity:ct,lastUpdated:lr.fromDate(We)}),U&&Kt&&await pr(mt(Ke,"activityLogs"),{user:U.name,role:U.role,detail:`edited product "${Kt.name}": quantity from ${Kt.quantity} to ${ct}`,time:We.toISOString()});const Rr=I.map(Nr=>Nr.id===Ae?{...Nr,quantity:ct,lastUpdated:We}:Nr);T(Rr),N("Stock quantity updated successfully","success"),P(null)}catch(Ae){console.error("Error updating quantity:",Ae),N("Failed to update quantity","error")}finally{w(!1),K(!1),z(null)}}},[J,I,U,N]),Ie=B.useCallback(async Ae=>{w(!0);try{const ct=I.find(We=>We.id===Ae);await Ns(Ar(Ke,"inventory",Ae)),U&&ct&&await pr(mt(Ke,"activityLogs"),{user:U.name,role:U.role,detail:`deleted product "${ct.name}" (${ct.quantity} units) from location ${ct.locationCode}-${ct.shelfNumber}`,time:new Date().toISOString()}),T(I.filter(We=>We.id!==Ae)),m(!1),P(null),N("Stock item deleted successfully","success")}catch(ct){console.error("Error deleting stock:",ct),N("Failed to delete stock item","error")}finally{w(!1)}},[I,U,N]),Fe=B.useCallback(Ae=>{P(Ae)},[]),tt=B.useCallback((Ae,ct)=>{Ae.stopPropagation(),P(ct),p(!0)},[]),ht=B.useCallback((Ae,ct)=>{Ae.stopPropagation(),P(ct),m(!0)},[]),Lt=B.useCallback(()=>{_.size===ot.length?S(new Set):S(new Set(ot.map(Ae=>Ae.id)))},[ot,_.size]),Gt=B.useCallback(Ae=>{const ct=new Set(_);ct.has(Ae)?ct.delete(Ae):ct.add(Ae),S(ct)},[_]),Rt=B.useCallback(async()=>{if(_.size!==0){w(!0);try{const Ae=I.filter(We=>_.has(We.id)),ct=Array.from(_).map(We=>Ns(Ar(Ke,"inventory",We)));if(await Promise.all(ct),U){const We=Ae.map(Kt=>`"${Kt.name}" (${Kt.quantity} units) from ${Kt.locationCode}-${Kt.shelfNumber}`).join(", ");await pr(mt(Ke,"activityLogs"),{user:U.name,role:U.role,detail:`Bulk deleted ${_.size} products: ${We}`,time:new Date().toISOString()})}T(I.filter(We=>!_.has(We.id))),S(new Set),E(!1),y(!1),N(`Successfully deleted ${_.size} items`,"success")}catch(Ae){console.error("Error deleting items:",Ae),N("Failed to delete selected items","error")}finally{w(!1)}}},[_,I,U,N]),jt=B.useCallback(async()=>{if(_.size!==0){w(!0);try{const Ae=I.filter(We=>_.has(We.id)&&We.status==="pending");if(Ae.length===0){N("No pending items selected to activate","error");return}const ct=Ae.map(We=>jn(Ar(Ke,"inventory",We.id),{status:"active",lastUpdated:lr.fromDate(new Date)}));if(await Promise.all(ct),U){const We=Ae.map(Kt=>`"${Kt.name}" from ${Kt.locationCode}-${Kt.shelfNumber}`).join(", ");await pr(mt(Ke,"activityLogs"),{user:U.name,role:U.role,detail:`Bulk activated ${Ae.length} pending products: ${We}`,time:new Date().toISOString()})}T(I.map(We=>_.has(We.id)&&We.status==="pending"?{...We,status:"active",lastUpdated:new Date}:We)),S(new Set),E(!1),N(`Successfully activated ${Ae.length} items`,"success")}catch(Ae){console.error("Error activating items:",Ae),N("Failed to activate selected items","error")}finally{w(!1)}}},[_,I,U,N]),ar=B.useCallback(()=>{E(!j),j||S(new Set)},[j]),mr=B.useCallback(({item:Ae})=>{var ct;return d.jsxs("tr",{className:`hover:${O?"bg-slate-700/50":"bg-slate-50"} cursor-pointer`,onClick:()=>Fe(Ae),children:[j&&d.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-slate-200":"text-slate-800"}`,onClick:We=>We.stopPropagation(),children:d.jsx("input",{type:"checkbox",checked:_.has(Ae.id),onChange:()=>Gt(Ae.id),className:`h-4 w-4 text-blue-600 rounded ${O?"border-slate-600 bg-slate-700":"border-slate-300"} focus:ring-blue-500`})}),d.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-blue-400":"text-blue-700"} font-medium`,children:Ae.name}),d.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-slate-200":"text-slate-800"}`,children:Ae.unit||"-"}),d.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-slate-200":"text-slate-800"}`,children:d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Ae.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:Ae.status==="active"?"Active":"Pending"})}),d.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-slate-200":"text-slate-800"}`,children:Ae.storeName&&Ae.storeName!=="not set"?d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full whitespace-nowrap ${ut(Ae.storeName)}`,children:(ct=Ae.storeName)==null?void 0:ct.toUpperCase()}):d.jsx("span",{className:"text-slate-400",children:"-"})}),d.jsxs("td",{className:`px-4 py-3 text-sm ${O?"text-slate-200":"text-slate-800"}`,children:[Ae.locationCode," - ",Ae.shelfNumber]}),d.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-slate-200":"text-slate-800"}`,children:Ae.asin?Ae.asin.split(",").length>3?Ae.asin.split(",").slice(0,3).map(We=>We.trim()).join(", ")+"...":Ae.asin.split(",").map(We=>We.trim()).join(", "):"-"}),(U==null?void 0:U.role)==="admin"&&d.jsxs(d.Fragment,{children:[d.jsx("td",{className:`px-4 py-3 text-right text-sm ${O?"text-slate-200":"text-slate-900"}`,children:Number(Ae.price)>0?`£${Number(Ae.price).toFixed(2)}`:"(Not set)"}),d.jsx("td",{className:`px-4 py-3 text-right text-sm ${O?"text-slate-200":"text-slate-900"}`,children:Number(Ae.quantity*Ae.price)>0?`£${Number(Ae.quantity*Ae.price).toFixed(2)}`:"(Not set)"})]}),d.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-slate-200":"text-slate-800"} text-right`,children:d.jsxs("div",{className:"flex items-center justify-end gap-2",children:[Ae.quantity<=10&&d.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-red-100 text-red-700 text-center",children:"Critical Low"}),Ae.quantity>10&&Ae.quantity<=25&&d.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-yellow-100 text-yellow-700 text-center",children:"Low Stock"}),d.jsx("span",{children:Ae.quantity})]})}),d.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-slate-200":"text-slate-800"}`,children:rr(new Date(Ae.lastUpdated),"MMM d, yyyy")}),d.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-slate-200":"text-slate-800"} text-right`,children:d.jsxs("div",{className:"flex items-center justify-end gap-2",children:[d.jsx("button",{onClick:We=>tt(We,Ae),className:`p-1 ${O?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,children:d.jsx(os,{size:16})}),d.jsx("button",{onClick:We=>ht(We,Ae),className:`p-1 ${O?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,children:d.jsx(ei,{size:16})})]})})]},Ae.id)},[j,_,O,U,Fe,Gt,tt,ht,ut]);return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between py-4",children:[d.jsx("h1",{className:`text-2xl font-bold ${O?"text-white":"text-gray-900"}`,children:"Inbound"}),d.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${O?"bg-slate-800 text-blue-300":"bg-blue-100 text-blue-700"}`,children:["Total Products: ",Ee!==null?Ee:d.jsx("span",{className:"animate-pulse",children:"..."})]})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-4",children:[d.jsx("div",{children:d.jsx("p",{className:`${O?"text-slate-400":"text-slate-500"} mt-1`,children:"Manage your inbound stock, track quantities, and monitor product status"})}),d.jsx("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:j?d.jsxs(d.Fragment,{children:[ye==="pending"&&d.jsxs(st,{onClick:jt,variant:"primary",className:"flex items-center gap-2 w-full sm:w-auto",disabled:b||_.size===0,children:[d.jsx(i9,{size:16}),"Go Live (",_.size,")"]}),d.jsxs(st,{onClick:()=>y(!0),variant:"danger",className:"flex items-center gap-2 w-full sm:w-auto",disabled:b||_.size===0,children:[d.jsx(ei,{size:16}),"Delete Selected (",_.size,")"]}),d.jsx(st,{onClick:ar,variant:"secondary",className:"flex items-center gap-2 w-full sm:w-auto",children:"Cancel"})]}):d.jsxs(d.Fragment,{children:[d.jsxs(st,{onClick:ar,variant:"secondary",className:"flex items-center gap-2 w-full sm:w-auto",children:[d.jsx(Jx,{size:16}),"Select Items"]}),d.jsxs(st,{variant:"secondary",onClick:()=>ee(!0),className:"flex items-center gap-2 w-full sm:w-auto",children:[d.jsx(xi,{size:16}),"Quick Add"]}),d.jsxs(st,{variant:"primary",onClick:()=>f(!0),className:"flex items-center gap-2 w-full sm:w-auto",children:[d.jsx(xi,{size:16}),"Add New Stock"]})]})})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[d.jsx("div",{className:"flex-1",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx(Oo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),d.jsx(Nt,{type:"text",placeholder:"Search by product name",value:e,onChange:Ae=>t(Ae.target.value),className:"pl-10"})]}),d.jsxs("div",{className:"relative",children:[d.jsx(Oo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),d.jsx(Nt,{type:"text",placeholder:"Search by barcode or ASIN",value:a,onChange:Ae=>i(Ae.target.value),className:"pl-10"})]})]})}),d.jsx("div",{className:"w-full sm:w-48",children:d.jsx(en,{value:l,onChange:Ae=>c(Ae.target.value),options:je})}),d.jsxs("div",{className:"flex flex-row gap-2",children:[d.jsxs("div",{className:"relative status-filter-dropdown",children:[d.jsxs(st,{variant:"secondary",onClick:()=>Ce(!Pe),className:`flex items-center gap-2 ${ye!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[ye==="all"?"Status Filter":ye==="active"?"Active":"Pending",d.jsx(qc,{size:16})]}),Pe&&d.jsx("div",{className:`absolute top-full left-0 mt-1 w-32 z-50 rounded-lg border ${O?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:d.jsxs("div",{className:"p-2",children:[d.jsx("div",{className:`text-sm font-medium mb-2 ${O?"text-slate-200":"text-slate-700"}`,children:"Filter by Status"}),d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${O?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${ye==="all"?O?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{W("all"),Ce(!1)},children:"All"}),d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${O?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${ye==="active"?O?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{W("active"),Ce(!1)},children:"Active"}),d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${O?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${ye==="pending"?O?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{W("pending"),Ce(!1)},children:"Pending"}),d.jsx("div",{className:`border-t ${O?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:d.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${O?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{W("all"),Ce(!1)},children:"Clear Filter"})})]})})]}),d.jsxs("div",{className:"relative store-filter-dropdown",children:[d.jsxs(st,{variant:"secondary",onClick:()=>pe(!ne),className:`flex items-center gap-2 ${ie?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[ie?`${ie.storeName==="other"?"OTHER":(gr=ie.storeName)==null?void 0:gr.toUpperCase()} - ${ie.fulfillmentType.toUpperCase()}`:"Store Filter",d.jsx(qc,{size:16})]}),ne&&d.jsx("div",{className:`absolute top-full left-0 mt-1 w-64 z-50 rounded-lg border ${O?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:d.jsxs("div",{className:"p-2",children:[d.jsx("div",{className:`text-sm font-medium mb-2 ${O?"text-slate-200":"text-slate-700"}`,children:"Filter by Store & Type"}),["supply & serve","APHY","AZTEC","ZK","Fahiz","other"].map(Ae=>d.jsxs("div",{className:"group relative",children:[d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${O?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(ie==null?void 0:ie.storeName)===Ae?O?"bg-slate-700":"bg-slate-100":""}`,children:Ae}),d.jsxs("div",{className:`absolute right-full top-0 mr-1 hidden group-hover:block w-24 ${O?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} border rounded-lg shadow-lg`,children:[Ae!=="supply & serve"&&d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer transition-colors ${O?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(ie==null?void 0:ie.storeName)===Ae&&(ie==null?void 0:ie.fulfillmentType)==="fba"?O?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{ue({storeName:Ae,fulfillmentType:"fba"}),pe(!1)},children:"FBA"}),d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer transition-colors ${O?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(ie==null?void 0:ie.storeName)===Ae&&(ie==null?void 0:ie.fulfillmentType)==="mf"?O?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{ue({storeName:Ae,fulfillmentType:"mf"}),pe(!1)},children:"MF"})]})]},Ae)),d.jsx("div",{className:`border-t ${O?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:d.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${O?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{ue(null),pe(!1)},children:"Clear Filter"})})]})})]})]}),d.jsx(st,{variant:"secondary",onClick:Ne,className:`flex items-center gap-2 ${b?"opacity-50 cursor-not-allowed":""}`,disabled:b,children:d.jsx(Za,{size:16,className:b?"animate-spin":""})})]}),b?d.jsx("div",{className:`text-center py-12 ${O?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:d.jsxs("div",{className:"flex flex-col items-center gap-4",children:[d.jsx(ss,{className:`w-8 h-8 ${O?"text-blue-400":"text-blue-600"} animate-spin`}),d.jsx("p",{className:O?"text-slate-400":"text-slate-600",children:"Loading stock items..."})]})}):ot.length>0?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"hidden md:block overflow-x-auto overflow-y-hidden",children:d.jsxs("table",{className:`min-w-full divide-y ${O?"divide-slate-700":"divide-slate-200"} ${O?"bg-slate-800":"bg-white"} rounded-lg border ${O?"border-slate-700":"border-slate-200"}`,children:[d.jsx("thead",{className:O?"bg-slate-700/50":"bg-slate-100",children:d.jsxs("tr",{children:[j&&d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",checked:_.size===ot.length,onChange:Lt,className:`h-4 w-4 text-blue-600 rounded ${O?"border-slate-600 bg-slate-700":"border-slate-300"} focus:ring-blue-500`}),d.jsx("span",{children:"Select"})]})}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Unit"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Status"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Store"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),(U==null?void 0:U.role)==="admin"&&d.jsxs(d.Fragment,{children:[d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Price"}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Total Price"})]}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Quantity"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Last Updated"}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),d.jsx("tbody",{className:`divide-y ${O?"divide-slate-700":"divide-slate-200"}`,children:ot.map((Ae,ct)=>d.jsx(mr,{item:Ae,index:ct},Ae.id))})]})}),d.jsx("div",{className:"block md:hidden space-y-4",children:ot.map(Ae=>d.jsxs("div",{className:`rounded-lg border ${O?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-4 shadow-sm flex flex-col gap-2`,onClick:()=>Fe(Ae),children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:`font-semibold ${O?"text-blue-400":"text-blue-700"}`,children:Ae.name}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Ae.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:Ae.status==="active"?"Active":"Pending"}),Ae.storeName&&Ae.storeName!=="not set"?d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full whitespace-nowrap ${ut(Ae.storeName)}`,children:Ae.storeName}):d.jsx("span",{className:"text-slate-400",children:"-"})]})]}),d.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[d.jsxs("span",{className:O?"text-slate-300":"text-slate-600",children:["Location: ",d.jsxs("span",{className:"font-medium",children:[Ae.locationCode," - ",Ae.shelfNumber]})]}),d.jsxs("span",{className:O?"text-slate-300":"text-slate-600",children:["Qty: ",d.jsx("span",{className:"font-medium",children:Ae.quantity})]}),Ae.asin&&d.jsxs("span",{className:O?"text-slate-300":"text-slate-600",children:["ASIN: ",d.jsx("span",{className:"font-medium",children:Ae.asin})]}),(U==null?void 0:U.role)==="admin"&&d.jsxs(d.Fragment,{children:[d.jsxs("span",{className:O?"text-slate-300":"text-slate-600",children:["Price: ",d.jsx("span",{className:"font-medium",children:Number(Ae.price)>0?`£${Number(Ae.price).toFixed(2)}`:"(Not set)"})]}),d.jsxs("span",{className:O?"text-slate-300":"text-slate-600",children:["Total: ",d.jsx("span",{className:"font-medium",children:Number(Ae.quantity*Ae.price)>0?`£${Number(Ae.quantity*Ae.price).toFixed(2)}`:"(Not set)"})]})]}),d.jsxs("span",{className:O?"text-slate-300":"text-slate-600",children:["Updated: ",d.jsx("span",{className:"font-medium",children:rr(new Date(Ae.lastUpdated),"MMM d, yyyy")})]})]}),d.jsxs("div",{className:"flex gap-2 mt-2",children:[d.jsxs(st,{size:"sm",variant:"secondary",onClick:ct=>{ct.stopPropagation(),tt(ct,Ae)},children:[d.jsx(os,{size:14})," Edit"]}),d.jsxs(st,{size:"sm",variant:"danger",onClick:ct=>{ct.stopPropagation(),ht(ct,Ae)},children:[d.jsx(ei,{size:14})," Delete"]})]})]},Ae.id))})]}):d.jsx("div",{className:`text-center py-12 ${O?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:d.jsx("p",{className:O?"text-slate-400":"text-slate-500",children:"No stock items found. Try adjusting your search."})}),d.jsx(on,{isOpen:u,onClose:()=>f(!1),title:"Add New Stock Item",size:"xl",children:d.jsx(Lq,{onSubmit:nt,onCancel:()=>f(!1),isLoading:b,existingStockItems:I,onShowProductLocationInfo:Pt})}),d.jsx(on,{isOpen:V,onClose:()=>ee(!1),title:"Quick Add Stock",size:"md",children:d.jsx(Rq,{onSubmit:nt,onClose:()=>ee(!1),isLoading:b})}),d.jsx(on,{isOpen:h,onClose:()=>p(!1),title:"Edit Stock",size:"xl",children:D&&d.jsx(Mq,{item:D,onSubmit:tr,onCancel:()=>p(!1),isLoading:b})}),D&&d.jsx(ih,{isOpen:g,onClose:()=>{m(!1),P(null)},onConfirm:()=>Ie(D.id),title:"Delete Stock Item",message:`Are you sure you want to delete "${D.name}"? This action cannot be undone.`,isLoading:b}),D&&!h&&!g&&!Y&&d.jsx(S5,{isOpen:!!D,onClose:()=>P(null),item:D}),d.jsx(ih,{isOpen:v,onClose:()=>{y(!1),S(new Set)},onConfirm:Rt,title:"Delete Selected Items",message:`Are you sure you want to delete ${_.size} selected item${_.size>1?"s":""}? This action cannot be undone.`,isLoading:b}),d.jsx(on,{isOpen:Y,onClose:()=>{K(!1),z(null)},title:"Confirm Quantity Update",children:d.jsxs("div",{children:[d.jsx("p",{children:"This product is already in stock in this location. Are you sure you want to add more quantity?"}),d.jsxs("div",{className:"flex justify-end gap-4 mt-4",children:[d.jsx(st,{variant:"secondary",onClick:()=>{K(!1),z(null)},children:"No"}),d.jsx(st,{onClick:Fr,isLoading:b,children:"Yes"})]})]})}),G&&d.jsx(Fq,{isOpen:Z,onClose:Wt,onConfirm:nr,onCancel:Wt,onMerge:zr,locationCode:G.locationCode,shelfNumber:G.shelfNumber,existingProducts:G.existingProducts,newProductName:G.newProductName,newProductBarcode:G.newProductBarcode}),Te&&d.jsx(kye,{isOpen:ve,onClose:()=>{De(!1),Re(null)},productName:Te.productName,barcode:Te.barcode,existingLocations:Te.existingLocations})]})},Pye=()=>{const{isDarkMode:e}=sn(),{showToast:t}=rc(),{user:r}=wa();wa();const[n,a]=B.useState(!1),[i,s]=B.useState([]),[o,l]=B.useState(""),[c,u]=B.useState(null),[f,h]=B.useState(""),[p,g]=B.useState(null),[m,v]=B.useState("all"),[y,b]=B.useState("all"),[w,D]=B.useState(!1),[P,I]=B.useState(!1),[T,_]=B.useState(null),S=async Z=>{if(r)try{await pr(mt(Ke,"activityLogs"),{user:r.name,role:r.role,detail:Z,time:new Date().toISOString()})}catch(k){console.error("Failed to log activity:",k)}},j=B.useCallback(async()=>{a(!0);try{const Z=cr(mt(Ke,"inventory"),Ia("name")),R=(await ur(Z)).docs.map(q=>{const G=q.data();return{id:q.id,...G,lastUpdated:G.lastUpdated instanceof lr?G.lastUpdated.toDate():new Date(G.lastUpdated)}});s(R)}catch(Z){console.error("Failed to fetch inventory",Z),t("Failed to fetch inventory","error")}finally{a(!1)}},[t]),E=B.useCallback(async()=>{try{const Z=mt(Ke,"inventory"),k=await ok(Z);g(k.data().count)}catch{g(null)}},[]);B.useEffect(()=>{j(),E()},[j,E]),B.useEffect(()=>{const Z=k=>{const R=k.target;R.closest(".damage-filter-dropdown")||D(!1),R.closest(".duplicate-filter-dropdown")||I(!1)};return(w||P)&&document.addEventListener("mousedown",Z),()=>{document.removeEventListener("mousedown",Z)}},[w,P]);const N=B.useMemo(()=>{const Z={};for(const k of i){const R=(k.name||"").trim().toLowerCase();if(!R)continue;const q=`${k.locationCode||""}-${k.shelfNumber||""}`.trim().toLowerCase();Z[R]||(Z[R]=new Set),Z[R].add(q)}return Z},[i]),U=((Z,k)=>{const[R,q]=B.useState(Z);return B.useEffect(()=>{const G=setTimeout(()=>q(Z),k);return()=>clearTimeout(G)},[Z,k]),R})(o,300),Y=B.useMemo(()=>{const Z=U.trim().toLowerCase();return i.filter(k=>{var W,Pe;const R=((W=k.name)==null?void 0:W.toLowerCase())||"",q=(k.asin||"").toLowerCase(),G=(k.barcode||"").toLowerCase(),Q=Z?R.includes(Z)||q.includes(Z)||G.includes(Z):!0,ie=m==="all"?!0:m==="damaged"?(k.damagedItems||0)>0:(k.damagedItems||0)<=0,ue=(k.name||"").trim().toLowerCase(),pe=(ue&&((Pe=N[ue])==null?void 0:Pe.size)||0)>1;return Q&&ie&&(y==="all"?!0:y==="duplicates"?pe:!pe)})},[i,U,m,y,N]),K=B.useMemo(()=>U.trim()?Y.reduce((Z,k)=>Z+(k.quantity||0),0):0,[Y,U]),J=B.useMemo(()=>{var ne;const Z=Y.length;let k=0,R=0,q=0,G=0,Q=0;for(const pe of Y){(pe.damagedItems||0)>0&&k++,pe.status==="active"&&R++,pe.status==="pending"&&q++,Number(pe.price)>0&&G++;const ye=(pe.name||"").trim().toLowerCase();(ye&&((ne=N[ye])==null?void 0:ne.size)||0)>1&&Q++}const ie=Z-Q,ue=Z-G;return{total:Z,damaged:k,duplicates:Q,unique:ie,active:R,pending:q,priceSet:G,noPrice:ue}},[Y,N]),z=Z=>{u(Z.id),h(Z.price!=null?String(Z.price):"")},V=()=>{u(null),h("")},ee=async Z=>{const k=Number(f);if(Number.isNaN(k)||k<0){t("Enter a valid non-negative price","error");return}a(!0);try{const R=new Date,q=Ar(Ke,"inventory",Z.id);await jn(q,{price:k,lastUpdated:lr.fromDate(R)}),await S(`updated price for ${Z.name} (barcode: ${Z.barcode}) from £${Z.price||0} to £${k.toFixed(2)}`),s(G=>G.map(Q=>Q.id===Z.id?{...Q,price:k,lastUpdated:R}:Q)),t("Price updated","success"),u(null),h("")}catch(R){console.error("Failed to update price",R),t("Failed to update price","error")}finally{a(!1)}};return d.jsxs("div",{className:"space-y-4 p-2 sm:p-4 md:p-6",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 py-2 sm:py-4",children:[d.jsx("h1",{className:`text-xl sm:text-2xl font-bold ${e?"text-white":"text-gray-900"}`,children:"Inventory"}),d.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[d.jsxs("span",{className:`px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-semibold ${e?"bg-slate-800 text-blue-300":"bg-blue-100 text-blue-700"}`,children:["Total: ",p!==null?p:d.jsx("span",{className:"animate-pulse",children:"..."})]}),d.jsxs(st,{variant:"secondary",onClick:()=>{j(),E()},className:`flex items-center gap-1 ${n?"opacity-50 cursor-not-allowed":""}`,disabled:n,size:"sm",children:[d.jsx(Za,{size:14,className:n?"animate-spin":""}),d.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-4 md:gap-6",children:[U.trim()?d.jsx(di,{title:"Total Quantity",value:K,icon:d.jsx(Jd,{size:20,className:"text-blue-600"})}):d.jsx(di,{title:"Products",value:J.total,icon:d.jsx(Jd,{size:20,className:"text-blue-600"})}),d.jsx(di,{title:"Damaged",value:J.damaged,icon:d.jsx(Qd,{size:20,className:"text-blue-600"})}),d.jsx(di,{title:"Duplicates",value:J.duplicates,icon:d.jsx(xZ,{size:20,className:"text-blue-600"})}),d.jsx(di,{title:"Unique",value:J.unique,icon:d.jsx(P4,{size:20,className:"text-blue-600"})})]}),d.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-4 md:gap-6 mt-2 sm:mt-4",children:[d.jsx(di,{title:"Active",value:J.active,icon:d.jsx(P4,{size:20,className:"text-blue-600"})}),d.jsx(di,{title:"Pending",value:J.pending,icon:d.jsx(Qd,{size:20,className:"text-blue-600"})}),d.jsx(di,{title:"With Price",value:J.priceSet,icon:d.jsx(z2,{size:20,className:"text-blue-600"})}),d.jsx(di,{title:"No Price",value:J.noPrice,icon:d.jsx(z2,{size:20,className:"text-blue-600"})})]}),d.jsxs("div",{className:"flex flex-col gap-2 sm:gap-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx(Oo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),d.jsx(Nt,{type:"text",placeholder:"Search by name, ASIN or barcode",value:o,onChange:Z=>l(Z.target.value),className:"pl-10 text-sm sm:text-base"})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4",children:[d.jsxs("div",{className:"relative damage-filter-dropdown flex-1",children:[d.jsxs(st,{variant:"secondary",onClick:()=>D(!w),className:`flex items-center justify-between gap-2 w-full ${m!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,size:"sm",children:[d.jsx("span",{className:"truncate",children:m==="all"?"Damage: All":m==="damaged"?"Damage: Damaged":"Damage: Not Damaged"}),d.jsx(qc,{size:16})]}),w&&d.jsx("div",{className:`absolute top-full left-0 mt-1 w-full z-50 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:d.jsxs("div",{className:"p-2",children:[d.jsx("div",{className:`text-xs sm:text-sm font-medium mb-1 ${e?"text-slate-200":"text-slate-700"}`,children:"Filter by Damage"}),d.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${m==="all"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{v("all"),D(!1)},children:"All"}),d.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${m==="damaged"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{v("damaged"),D(!1)},children:"Damaged"}),d.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${m==="notDamaged"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{v("notDamaged"),D(!1)},children:"Not Damaged"})]})})]}),d.jsxs("div",{className:"relative duplicate-filter-dropdown flex-1",children:[d.jsxs(st,{variant:"secondary",onClick:()=>I(!P),className:`flex items-center justify-between gap-2 w-full ${y!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,size:"sm",children:[d.jsx("span",{className:"truncate",children:y==="all"?"Duplicates: All":y==="duplicates"?"Duplicates: Duplicates":"Duplicates: Unique"}),d.jsx(qc,{size:16})]}),P&&d.jsx("div",{className:`absolute top-full left-0 mt-1 w-full z-50 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:d.jsxs("div",{className:"p-2",children:[d.jsx("div",{className:`text-xs sm:text-sm font-medium mb-1 ${e?"text-slate-200":"text-slate-700"}`,children:"Filter by Duplicates"}),d.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${y==="all"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{b("all"),I(!1)},children:"All"}),d.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${y==="duplicates"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{b("duplicates"),I(!1)},children:"Duplicates Only"}),d.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${y==="unique"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{b("unique"),I(!1)},children:"Unique Only"})]})})]})]})]}),n?d.jsx("div",{className:`text-center py-8 sm:py-12 ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:d.jsxs("div",{className:"flex flex-col items-center gap-2 sm:gap-4",children:[d.jsx(ss,{className:`w-6 h-6 sm:w-8 sm:h-8 ${e?"text-blue-400":"text-blue-600"} animate-spin`}),d.jsx("p",{className:`text-sm sm:text-base ${e?"text-slate-400":"text-slate-600"}`,children:"Loading inventory..."})]})}):Y.length>0?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"hidden md:block overflow-x-auto overflow-y-hidden",children:d.jsxs("table",{className:`min-w-full divide-y ${e?"divide-slate-700":"divide-slate-200"} ${e?"bg-slate-800":"bg-white"} rounded-lg border ${e?"border-slate-700":"border-slate-200"}`,children:[d.jsx("thead",{className:e?"bg-slate-700/50":"bg-slate-100",children:d.jsxs("tr",{children:[d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Price"}),d.jsx("th",{className:`px-4 py-3 text-center text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Quantity"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Barcode"}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"View"})]})}),d.jsx("tbody",{className:`divide-y ${e?"divide-slate-700":"divide-slate-200"}`,children:Y.map(Z=>d.jsxs("tr",{className:"transition-all duration-100 hover:bg-opacity-10 hover:bg-blue-500",children:[d.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-blue-400":"text-blue-700"} font-medium`,children:Z.name}),d.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-800"}`,children:Z.asin?Z.asin.split(",").length>3?Z.asin.split(",").slice(0,3).map(k=>k.trim()).join(", ")+"...":Z.asin.split(",").map(k=>k.trim()).join(", "):"-"}),d.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-900"} text-right`,children:c===Z.id?d.jsxs("div",{className:"flex items-center justify-end gap-2",onClick:k=>k.stopPropagation(),children:[d.jsx(Nt,{type:"number",step:"0.01",value:f,onChange:k=>h(k.target.value),className:"w-28 text-right"}),d.jsx(st,{size:"sm",onClick:()=>ee(Z),isLoading:n,children:d.jsx(xO,{size:14})}),d.jsx(st,{size:"sm",variant:"secondary",onClick:V,disabled:n,children:d.jsx(wv,{size:14})})]}):d.jsx("button",{onClick:k=>{k.stopPropagation(),z(Z)},className:`${e?"text-slate-200 hover:text-blue-300":"text-slate-900 hover:text-blue-700"} transition-colors`,children:Number(Z.price)>0?`£${Number(Z.price).toFixed(2)}`:"(Not set)"})}),d.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-800"} text-center`,children:Z.quantity}),d.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-800"}`,children:Z.barcode||"-"}),d.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-800"} text-right`,children:d.jsx("button",{onClick:()=>_(Z),className:`${e?"text-slate-300 hover:text-blue-300":"text-slate-600 hover:text-blue-700"} p-1`,"aria-label":"View details",children:d.jsx(O4,{size:16})})})]},Z.id))})]})}),d.jsx("div",{className:"block md:hidden space-y-3",children:Y.map(Z=>{var k;return d.jsxs("div",{className:`rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-3 shadow-sm flex flex-col gap-2`,children:[d.jsxs("div",{className:"flex justify-between items-start gap-2",children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h3",{className:`font-semibold truncate ${e?"text-blue-400":"text-blue-700"}`,children:Z.name}),d.jsxs("div",{className:"flex flex-wrap gap-x-2 gap-y-1 text-xs mt-1",children:[d.jsxs("span",{className:e?"text-slate-300":"text-slate-600",children:["ASIN: ",d.jsx("span",{className:"font-medium",children:((k=Z.asin)==null?void 0:k.split(",")[0])||"-"})]}),d.jsxs("span",{className:e?"text-slate-300":"text-slate-600",children:["Barcode: ",d.jsx("span",{className:"font-medium",children:Z.barcode||"-"})]}),d.jsxs("span",{className:e?"text-slate-300":"text-slate-600",children:["Quantity: ",d.jsx("span",{className:"font-medium",children:Z.quantity})]})]})]}),d.jsxs("div",{className:"flex flex-col items-end gap-1",children:[d.jsx("span",{className:`text-sm font-medium ${e?"text-slate-200":"text-slate-800"}`,children:Number(Z.price)>0?`£${Number(Z.price).toFixed(2)}`:"No price"}),d.jsxs("div",{className:"flex gap-1",children:[c===Z.id?d.jsxs(d.Fragment,{children:[d.jsx(st,{size:"sm",onClick:()=>ee(Z),isLoading:n,children:d.jsx(xO,{size:12})}),d.jsx(st,{size:"sm",variant:"secondary",onClick:R=>{R.stopPropagation(),V()},disabled:n,children:d.jsx(wv,{size:12})})]}):d.jsx(st,{size:"sm",variant:"secondary",onClick:R=>{R.stopPropagation(),z(Z)},children:d.jsx(os,{size:12})}),d.jsx(st,{size:"sm",variant:"secondary",onClick:()=>_(Z),children:d.jsx(O4,{size:12})})]})]})]}),c===Z.id&&d.jsx("div",{className:"mt-1",children:d.jsx(Nt,{type:"number",step:"0.01",value:f,onChange:R=>h(R.target.value),placeholder:"Enter new price",className:"w-full text-sm"})})]},Z.id)})})]}):d.jsx("div",{className:`text-center py-8 sm:py-12 ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:d.jsx("p",{className:`text-sm sm:text-base ${e?"text-slate-400":"text-slate-500"}`,children:"No items found. Try adjusting your search."})}),T&&d.jsx(S5,{isOpen:!!T,onClose:()=>_(null),item:T})]})},vC=({startDate:e,endDate:t,onStartDateChange:r,onEndDateChange:n,onClear:a,className:i=""})=>{const{isDarkMode:s}=sn(),[o,l]=B.useState(!1),c=p=>{const g=p.target.value?new Date(p.target.value):null;r(g)},u=p=>{const g=p.target.value?new Date(p.target.value):null;n(g)},f=()=>{a(),l(!1)},h=()=>!e&&!t?"Select date range":e&&t?`${rr(e,"MMM d, yyyy")} - ${rr(t,"MMM d, yyyy")}`:e?`From ${rr(e,"MMM d, yyyy")}`:t?`To ${rr(t,"MMM d, yyyy")}`:"Select date range";return d.jsxs("div",{className:`relative ${i}`,children:[d.jsxs("button",{onClick:()=>l(!o),className:`flex items-center justify-between w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600 focus:ring-slate-400":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50 focus:ring-slate-500"}`,children:[d.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[d.jsx(yZ,{className:"h-4 w-4 flex-shrink-0"}),d.jsx("span",{className:"whitespace-nowrap overflow-hidden text-ellipsis",children:h()})]}),(e||t)&&d.jsx("span",{onClick:p=>{p.stopPropagation(),f()},className:`ml-3 p-1 rounded-full hover:bg-opacity-80 flex-shrink-0 cursor-pointer ${s?"hover:bg-slate-600":"hover:bg-slate-200"}`,title:"Clear date range",role:"button",tabIndex:0,onKeyDown:p=>{(p.key==="Enter"||p.key===" ")&&(p.preventDefault(),f())},children:d.jsx(wv,{className:"h-3 w-3"})})]}),o&&d.jsx("div",{className:`absolute top-full left-0 right-0 mt-1 z-50 p-4 border rounded-md shadow-lg ${s?"bg-slate-800 border-slate-600 text-white":"bg-white border-slate-200 text-slate-800"}`,children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:`block text-sm font-medium mb-2 ${s?"text-slate-200":"text-slate-700"}`,children:"Start Date"}),d.jsx("input",{type:"date",value:e?rr(e,"yyyy-MM-dd"):"",onChange:c,className:`w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border-slate-600 text-slate-200 bg-slate-700 focus:ring-slate-400":"border-slate-300 text-slate-700 bg-white focus:ring-slate-500"}`})]}),d.jsxs("div",{children:[d.jsx("label",{className:`block text-sm font-medium mb-2 ${s?"text-slate-200":"text-slate-700"}`,children:"End Date"}),d.jsx("input",{type:"date",value:t?rr(t,"yyyy-MM-dd"):"",onChange:u,min:e?rr(e,"yyyy-MM-dd"):void 0,className:`w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border-slate-600 text-slate-200 bg-slate-700 focus:ring-slate-400":"border-slate-300 text-slate-700 bg-white focus:ring-slate-500"}`})]}),d.jsxs("div",{className:"flex gap-2 pt-2 border-t border-slate-200 dark:border-slate-600",children:[d.jsx("button",{onClick:()=>l(!1),className:`flex-1 px-3 py-2 text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600 focus:ring-slate-400":"border border-slate-300 text-slate-700 bg-white hover:bg-slate-50 focus:ring-slate-500"}`,children:"Apply"}),d.jsx("button",{onClick:f,className:`px-3 py-2 text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 ${s?"border border-red-600 text-red-200 bg-red-700 hover:bg-red-600 focus:ring-red-400":"border border-red-300 text-red-700 bg-white hover:bg-red-50 focus:ring-red-500"}`,children:"Clear"})]})]})})]})},Oye=({item:e,onSubmit:t,onCancel:r,isLoading:n})=>{const[a,i]=B.useState(""),[s,o]=B.useState("stock sold"),[l,c]=B.useState(""),[u,f]=B.useState(""),[h,p]=B.useState([]),[g,m]=B.useState(""),[v,y]=B.useState(!1),{isDarkMode:b}=sn();B.useEffect(()=>{(async()=>{y(!0);try{let S=cr(mt(Ke,"inventory"),or("barcode","==",e.barcode)),j=await ur(S);if(j.empty&&e.barcode){const O=String(e.barcode).trim();S=cr(mt(Ke,"inventory"),or("barcode","==",O)),j=await ur(S)}j.empty&&e.name&&(S=cr(mt(Ke,"inventory"),or("name","==",e.name)),j=await ur(S));const E=[];j.docs.forEach(O=>{const U=O.data();U.locationCode&&U.shelfNumber&&E.push({locationCode:U.locationCode,shelfNumber:U.shelfNumber,quantity:U.quantity||0,storeName:U.storeName||"Unknown"})});const N=E.filter((O,U,Y)=>U===Y.findIndex(K=>K.locationCode===O.locationCode&&K.shelfNumber===O.shelfNumber)).sort((O,U)=>O.locationCode.localeCompare(U.locationCode));if(p(N),N.length>0){const O=N[0];m(`${O.locationCode}-${O.shelfNumber}`),f(O.storeName)}}catch(S){console.error("Error fetching locations:",S)}finally{y(!1)}})()},[e.barcode]);const w=_=>{if(m(_),_){const[S,j]=_.split("-"),E=h.find(N=>N.locationCode===S&&N.shelfNumber===j);E&&f(E.storeName)}},D=async _=>{_.preventDefault();const S=Number(a);if(!a||S<0)return;const j=P();if(S>j||!g)return;const E=s==="other"?l:s,N=u.trim(),[O,U]=g.split("-");await t({id:e.id,quantity:e.quantity-S,reason:E,storeName:N,locationCode:O,shelfNumber:U})},P=()=>{if(!g)return e.quantity;const[_,S]=g.split("-"),j=h.find(E=>E.locationCode===_&&E.shelfNumber===S);return j?j.quantity:e.quantity},T=(()=>{const _=Number(a);if(!a||_<0)return"Quantity to deduct must be 0 or greater";const S=P();return _>S?`Cannot deduct more than current stock at selected location (${S} units)`:s?s==="other"&&!l.trim()?"Please specify the reason":g?null:"Please select a location":"Please select a reason"})();return d.jsxs("form",{onSubmit:D,className:`space-y-6 ${b?"text-white":"text-gray-900"}`,children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:`p-4 rounded-lg ${b?"bg-slate-800":"bg-slate-50"}`,children:[d.jsx("h3",{className:`text-lg font-semibold ${b?"text-white":"text-gray-900"}`,children:e.name}),d.jsx("p",{className:`text-sm ${b?"text-slate-400":"text-slate-500"}`,children:g&&d.jsxs("span",{className:` ${b?"text-slate-300":"text-slate-600"}`,children:["Selected Location: ",P()," units"]})}),d.jsxs("p",{className:`text-sm ${b?"text-slate-400":"text-slate-500"}`,children:["Barcode: ",e.barcode]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"location",className:`block text-sm font-medium ${b?"text-slate-300":"text-gray-700"}`,children:"Select Location"}),v?d.jsxs("div",{className:`flex items-center gap-2 text-sm ${b?"text-slate-400":"text-slate-500"}`,children:[d.jsx(ss,{size:16,className:"animate-spin"}),"Loading locations..."]}):h.length>0?d.jsx(en,{id:"location",value:g,onChange:_=>w(_.target.value),required:!0,options:[{value:"",label:"Select a location"},...h.map(_=>{var S;return{value:`${_.locationCode}-${_.shelfNumber}`,label:`${_.locationCode} - Shelf ${_.shelfNumber} (${_.quantity} units) - ${(S=_.storeName)==null?void 0:S.toUpperCase()}${_.quantity===0?" - Out of Stock":""}`}})],className:`${b?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${T?"border-red-500 focus:border-red-500":""}`}):d.jsx("div",{className:`text-sm ${b?"text-slate-400":"text-slate-500"}`,children:"No locations found for this product"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"deductQuantity",className:`block text-sm font-medium ${b?"text-slate-300":"text-gray-700"}`,children:"Quantity to Deduct"}),d.jsx(Nt,{id:"deductQuantity",type:"number",min:"0",max:P(),value:a,onChange:_=>i(_.target.value.replace(/^0+(?!$)/,"")),placeholder:"Enter quantity to deduct",required:!0,className:`${b?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${T?"border-red-500 focus:border-red-500":""}`}),g&&d.jsxs("p",{className:`text-xs ${b?"text-slate-400":"text-slate-500"}`,children:["Max available at selected location: ",P()," units"]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"reason",className:`block text-sm font-medium ${b?"text-slate-300":"text-gray-700"}`,children:"Reason for Deduction"}),d.jsx(en,{id:"reason",value:s,onChange:_=>o(_.target.value),required:!0,options:[{value:"",label:"Select a reason"},{value:"stock sold",label:"Stock Sold"},{value:"moved to fba",label:"Moved to FBA"},{value:"moved to mf",label:"Moved to MF"},{value:"damaged",label:"Damaged"},{value:"other",label:"Other"}],className:`${b?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${T?"border-red-500 focus:border-red-500":""}`})]}),s==="other"&&d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"otherReason",className:`block text-sm font-medium ${b?"text-slate-300":"text-gray-700"}`,children:"Specify Reason"}),d.jsx(Nt,{id:"otherReason",type:"text",value:l,onChange:_=>c(_.target.value),placeholder:"Enter the reason",required:!0,className:`${b?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${T?"border-red-500 focus:border-red-500":""}`})]}),g&&u&&d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:`block text-sm font-medium ${b?"text-slate-300":"text-gray-700"}`,children:"Store Name"}),d.jsxs("div",{className:`p-3 rounded-lg ${b?"bg-slate-700 border-slate-600":"bg-slate-100 border-slate-300"} border`,children:[d.jsx("span",{className:`text-sm font-medium ${b?"text-slate-200":"text-slate-800"}`,children:u==null?void 0:u.toUpperCase()}),d.jsx("p",{className:`text-xs ${b?"text-slate-400":"text-slate-500"} mt-1`,children:"Automatically selected based on location"})]})]}),T?d.jsxs("div",{className:`flex items-center space-x-2 text-sm ${b?"text-red-400":"text-red-600"}`,children:[d.jsx(Qd,{size:16}),d.jsx("span",{children:T})]}):d.jsx("p",{className:`text-xs ${b?"text-slate-400":"text-gray-500"}`,children:"Enter the quantity to be deducted from current stock"})]}),d.jsxs("div",{className:"flex justify-end space-x-3",children:[d.jsx(st,{type:"button",variant:"secondary",onClick:r,disabled:n,children:"Cancel"}),d.jsx(st,{type:"submit",disabled:n||!!T,className:"min-w-[100px]",children:n?d.jsxs(d.Fragment,{children:[d.jsx(ss,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):"Update"})]})]})},Iye=({isOpen:e,onClose:t})=>{const[r,n]=B.useState("0"),[a,i]=B.useState(null),[s,o]=B.useState(null),[l,c]=B.useState(!1),u=()=>{n("0"),i(null),o(null),c(!1)},f=y=>{l?(n(y),c(!1)):n(r==="0"?y:r+y)},h=()=>{l?(n("0."),c(!1)):r.indexOf(".")===-1&&n(r+".")},p=y=>{const b=parseFloat(r);if(a===null)i(b);else if(s){const D=g(a||0,b,s);n(String(D)),i(D)}c(!0),o(y)},g=(y,b,w)=>{switch(w){case"+":return y+b;case"-":return y-b;case"×":return y*b;case"÷":return y/b;default:return b}},v=[{label:"C",onClick:u,className:"bg-red-500 hover:bg-red-600 text-white"},{label:"±",onClick:()=>n(String(-parseFloat(r))),className:"bg-gray-500 hover:bg-gray-600 text-white"},{label:"%",onClick:()=>n(String(parseFloat(r)/100)),className:"bg-gray-500 hover:bg-gray-600 text-white"},{label:"÷",onClick:()=>p("÷"),className:"bg-orange-500 hover:bg-orange-600 text-white"},{label:"7",onClick:()=>f("7"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"8",onClick:()=>f("8"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"9",onClick:()=>f("9"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"×",onClick:()=>p("×"),className:"bg-orange-500 hover:bg-orange-600 text-white"},{label:"4",onClick:()=>f("4"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"5",onClick:()=>f("5"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"6",onClick:()=>f("6"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"-",onClick:()=>p("-"),className:"bg-orange-500 hover:bg-orange-600 text-white"},{label:"1",onClick:()=>f("1"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"2",onClick:()=>f("2"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"3",onClick:()=>f("3"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"+",onClick:()=>p("+"),className:"bg-orange-500 hover:bg-orange-600 text-white"},{label:"0",onClick:()=>f("0"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white col-span-2"},{label:".",onClick:h,className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"=",onClick:()=>{if(!a||!s)return;const y=parseFloat(r),b=g(a,y,s);n(String(b)),i(null),o(null),c(!1)},className:"bg-orange-500 hover:bg-orange-600 text-white"}];return d.jsx(on,{isOpen:e,onClose:t,title:"Calculator",size:"sm",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg",children:[d.jsx("div",{className:"text-right text-2xl font-mono text-gray-800 dark:text-white",children:r}),s&&d.jsxs("div",{className:"text-right text-sm text-gray-500 dark:text-gray-400",children:[a," ",s]})]}),d.jsx("div",{className:"grid grid-cols-4 gap-2",children:v.map((y,b)=>d.jsx("button",{onClick:y.onClick,className:`p-4 text-lg font-medium rounded-lg transition-colors ${y.className}`,children:y.label},b))}),d.jsx("div",{className:"pt-2",children:d.jsx(st,{variant:"secondary",onClick:t,className:"w-full",children:"Close"})})]})})};function $q(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=$q(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ln(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=$q(e))&&(n&&(n+=" "),n+=t);return n}var jye=Array.isArray,js=jye,Dye=typeof tg=="object"&&tg&&tg.Object===Object&&tg,Bq=Dye,Lye=Bq,Mye=typeof self=="object"&&self&&self.Object===Object&&self,Rye=Lye||Mye||Function("return this")(),ic=Rye,Fye=ic,$ye=Fye.Symbol,ay=$ye,f8=ay,Uq=Object.prototype,Bye=Uq.hasOwnProperty,Uye=Uq.toString,zm=f8?f8.toStringTag:void 0;function Vye(e){var t=Bye.call(e,zm),r=e[zm];try{e[zm]=void 0;var n=!0}catch{}var a=Uye.call(e);return n&&(t?e[zm]=r:delete e[zm]),a}var zye=Vye,qye=Object.prototype,Wye=qye.toString;function Hye(e){return Wye.call(e)}var Gye=Hye,d8=ay,Kye=zye,Yye=Gye,Xye="[object Null]",Qye="[object Undefined]",h8=d8?d8.toStringTag:void 0;function Jye(e){return e==null?e===void 0?Qye:Xye:h8&&h8 in Object(e)?Kye(e):Yye(e)}var lu=Jye;function Zye(e){return e!=null&&typeof e=="object"}var cu=Zye,exe=lu,txe=cu,rxe="[object Symbol]";function nxe(e){return typeof e=="symbol"||txe(e)&&exe(e)==rxe}var rm=nxe,axe=js,ixe=rm,sxe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,oxe=/^\w*$/;function lxe(e,t){if(axe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||ixe(e)?!0:oxe.test(e)||!sxe.test(e)||t!=null&&e in Object(t)}var yC=lxe;function cxe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Gf=cxe;const nm=Cn(Gf);var uxe=lu,fxe=Gf,dxe="[object AsyncFunction]",hxe="[object Function]",pxe="[object GeneratorFunction]",mxe="[object Proxy]";function gxe(e){if(!fxe(e))return!1;var t=uxe(e);return t==hxe||t==pxe||t==dxe||t==mxe}var xC=gxe;const Br=Cn(xC);var vxe=ic,yxe=vxe["__core-js_shared__"],xxe=yxe,WS=xxe,p8=function(){var e=/[^.]+$/.exec(WS&&WS.keys&&WS.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function bxe(e){return!!p8&&p8 in e}var wxe=bxe,_xe=Function.prototype,Sxe=_xe.toString;function Axe(e){if(e!=null){try{return Sxe.call(e)}catch{}try{return e+""}catch{}}return""}var Vq=Axe,Txe=xC,Exe=wxe,Nxe=Gf,kxe=Vq,Cxe=/[\\^$.*+?()[\]{}|]/g,Pxe=/^\[object .+?Constructor\]$/,Oxe=Function.prototype,Ixe=Object.prototype,jxe=Oxe.toString,Dxe=Ixe.hasOwnProperty,Lxe=RegExp("^"+jxe.call(Dxe).replace(Cxe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Mxe(e){if(!Nxe(e)||Exe(e))return!1;var t=Txe(e)?Lxe:Pxe;return t.test(kxe(e))}var Rxe=Mxe;function Fxe(e,t){return e==null?void 0:e[t]}var $xe=Fxe,Bxe=Rxe,Uxe=$xe;function Vxe(e,t){var r=Uxe(e,t);return Bxe(r)?r:void 0}var _h=Vxe,zxe=_h,qxe=zxe(Object,"create"),A5=qxe,m8=A5;function Wxe(){this.__data__=m8?m8(null):{},this.size=0}var Hxe=Wxe;function Gxe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Kxe=Gxe,Yxe=A5,Xxe="__lodash_hash_undefined__",Qxe=Object.prototype,Jxe=Qxe.hasOwnProperty;function Zxe(e){var t=this.__data__;if(Yxe){var r=t[e];return r===Xxe?void 0:r}return Jxe.call(t,e)?t[e]:void 0}var e2e=Zxe,t2e=A5,r2e=Object.prototype,n2e=r2e.hasOwnProperty;function a2e(e){var t=this.__data__;return t2e?t[e]!==void 0:n2e.call(t,e)}var i2e=a2e,s2e=A5,o2e="__lodash_hash_undefined__";function l2e(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=s2e&&t===void 0?o2e:t,this}var c2e=l2e,u2e=Hxe,f2e=Kxe,d2e=e2e,h2e=i2e,p2e=c2e;function am(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}am.prototype.clear=u2e;am.prototype.delete=f2e;am.prototype.get=d2e;am.prototype.has=h2e;am.prototype.set=p2e;var m2e=am;function g2e(){this.__data__=[],this.size=0}var v2e=g2e;function y2e(e,t){return e===t||e!==e&&t!==t}var bC=y2e,x2e=bC;function b2e(e,t){for(var r=e.length;r--;)if(x2e(e[r][0],t))return r;return-1}var T5=b2e,w2e=T5,_2e=Array.prototype,S2e=_2e.splice;function A2e(e){var t=this.__data__,r=w2e(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():S2e.call(t,r,1),--this.size,!0}var T2e=A2e,E2e=T5;function N2e(e){var t=this.__data__,r=E2e(t,e);return r<0?void 0:t[r][1]}var k2e=N2e,C2e=T5;function P2e(e){return C2e(this.__data__,e)>-1}var O2e=P2e,I2e=T5;function j2e(e,t){var r=this.__data__,n=I2e(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var D2e=j2e,L2e=v2e,M2e=T2e,R2e=k2e,F2e=O2e,$2e=D2e;function im(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}im.prototype.clear=L2e;im.prototype.delete=M2e;im.prototype.get=R2e;im.prototype.has=F2e;im.prototype.set=$2e;var E5=im,B2e=_h,U2e=ic,V2e=B2e(U2e,"Map"),wC=V2e,g8=m2e,z2e=E5,q2e=wC;function W2e(){this.size=0,this.__data__={hash:new g8,map:new(q2e||z2e),string:new g8}}var H2e=W2e;function G2e(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var K2e=G2e,Y2e=K2e;function X2e(e,t){var r=e.__data__;return Y2e(t)?r[typeof t=="string"?"string":"hash"]:r.map}var N5=X2e,Q2e=N5;function J2e(e){var t=Q2e(this,e).delete(e);return this.size-=t?1:0,t}var Z2e=J2e,ebe=N5;function tbe(e){return ebe(this,e).get(e)}var rbe=tbe,nbe=N5;function abe(e){return nbe(this,e).has(e)}var ibe=abe,sbe=N5;function obe(e,t){var r=sbe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var lbe=obe,cbe=H2e,ube=Z2e,fbe=rbe,dbe=ibe,hbe=lbe;function sm(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}sm.prototype.clear=cbe;sm.prototype.delete=ube;sm.prototype.get=fbe;sm.prototype.has=dbe;sm.prototype.set=hbe;var _C=sm,zq=_C,pbe="Expected a function";function SC(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(pbe);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var s=e.apply(this,n);return r.cache=i.set(a,s)||i,s};return r.cache=new(SC.Cache||zq),r}SC.Cache=zq;var qq=SC;const mbe=Cn(qq);var gbe=qq,vbe=500;function ybe(e){var t=gbe(e,function(n){return r.size===vbe&&r.clear(),n}),r=t.cache;return t}var xbe=ybe,bbe=xbe,wbe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_be=/\\(\\)?/g,Sbe=bbe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(wbe,function(r,n,a,i){t.push(a?i.replace(_be,"$1"):n||r)}),t}),Abe=Sbe;function Tbe(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var AC=Tbe,v8=ay,Ebe=AC,Nbe=js,kbe=rm,Cbe=1/0,y8=v8?v8.prototype:void 0,x8=y8?y8.toString:void 0;function Wq(e){if(typeof e=="string")return e;if(Nbe(e))return Ebe(e,Wq)+"";if(kbe(e))return x8?x8.call(e):"";var t=e+"";return t=="0"&&1/e==-Cbe?"-0":t}var Pbe=Wq,Obe=Pbe;function Ibe(e){return e==null?"":Obe(e)}var Hq=Ibe,jbe=js,Dbe=yC,Lbe=Abe,Mbe=Hq;function Rbe(e,t){return jbe(e)?e:Dbe(e,t)?[e]:Lbe(Mbe(e))}var Gq=Rbe,Fbe=rm,$be=1/0;function Bbe(e){if(typeof e=="string"||Fbe(e))return e;var t=e+"";return t=="0"&&1/e==-$be?"-0":t}var k5=Bbe,Ube=Gq,Vbe=k5;function zbe(e,t){t=Ube(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Vbe(t[r++])];return r&&r==n?e:void 0}var TC=zbe,qbe=TC;function Wbe(e,t,r){var n=e==null?void 0:qbe(e,t);return n===void 0?r:n}var Kq=Wbe;const No=Cn(Kq);function Hbe(e){return e==null}var Gbe=Hbe;const Kr=Cn(Gbe);var Kbe=lu,Ybe=js,Xbe=cu,Qbe="[object String]";function Jbe(e){return typeof e=="string"||!Ybe(e)&&Xbe(e)&&Kbe(e)==Qbe}var Zbe=Jbe;const sh=Cn(Zbe);var Yq={exports:{}},Tn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EC=Symbol.for("react.element"),NC=Symbol.for("react.portal"),C5=Symbol.for("react.fragment"),P5=Symbol.for("react.strict_mode"),O5=Symbol.for("react.profiler"),I5=Symbol.for("react.provider"),j5=Symbol.for("react.context"),ewe=Symbol.for("react.server_context"),D5=Symbol.for("react.forward_ref"),L5=Symbol.for("react.suspense"),M5=Symbol.for("react.suspense_list"),R5=Symbol.for("react.memo"),F5=Symbol.for("react.lazy"),twe=Symbol.for("react.offscreen"),Xq;Xq=Symbol.for("react.module.reference");function Mo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case EC:switch(e=e.type,e){case C5:case O5:case P5:case L5:case M5:return e;default:switch(e=e&&e.$$typeof,e){case ewe:case j5:case D5:case F5:case R5:case I5:return e;default:return t}}case NC:return t}}}Tn.ContextConsumer=j5;Tn.ContextProvider=I5;Tn.Element=EC;Tn.ForwardRef=D5;Tn.Fragment=C5;Tn.Lazy=F5;Tn.Memo=R5;Tn.Portal=NC;Tn.Profiler=O5;Tn.StrictMode=P5;Tn.Suspense=L5;Tn.SuspenseList=M5;Tn.isAsyncMode=function(){return!1};Tn.isConcurrentMode=function(){return!1};Tn.isContextConsumer=function(e){return Mo(e)===j5};Tn.isContextProvider=function(e){return Mo(e)===I5};Tn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===EC};Tn.isForwardRef=function(e){return Mo(e)===D5};Tn.isFragment=function(e){return Mo(e)===C5};Tn.isLazy=function(e){return Mo(e)===F5};Tn.isMemo=function(e){return Mo(e)===R5};Tn.isPortal=function(e){return Mo(e)===NC};Tn.isProfiler=function(e){return Mo(e)===O5};Tn.isStrictMode=function(e){return Mo(e)===P5};Tn.isSuspense=function(e){return Mo(e)===L5};Tn.isSuspenseList=function(e){return Mo(e)===M5};Tn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===C5||e===O5||e===P5||e===L5||e===M5||e===twe||typeof e=="object"&&e!==null&&(e.$$typeof===F5||e.$$typeof===R5||e.$$typeof===I5||e.$$typeof===j5||e.$$typeof===D5||e.$$typeof===Xq||e.getModuleId!==void 0)};Tn.typeOf=Mo;Yq.exports=Tn;var rwe=Yq.exports,nwe=lu,awe=cu,iwe="[object Number]";function swe(e){return typeof e=="number"||awe(e)&&nwe(e)==iwe}var Qq=swe;const owe=Cn(Qq);var lwe=Qq;function cwe(e){return lwe(e)&&e!=+e}var uwe=cwe;const iy=Cn(uwe);var dl=function(t){return t===0?0:t>0?1:-1},jd=function(t){return sh(t)&&t.indexOf("%")===t.length-1},Ft=function(t){return owe(t)&&!iy(t)},Ua=function(t){return Ft(t)||sh(t)},fwe=0,sy=function(t){var r=++fwe;return"".concat(t||"").concat(r)},oh=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ft(t)&&!sh(t))return n;var i;if(jd(t)){var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return iy(i)&&(i=n),a&&i>r&&(i=r),i},Qu=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},dwe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},ol=function(t,r){return Ft(t)&&Ft(r)?function(n){return t+n*(r-t)}:function(){return r}};function Tb(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):No(n,t))===r})}var hwe=function(t,r){return Ft(t)&&Ft(r)?t-r:sh(t)&&sh(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function B0(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function DT(e){"@babel/helpers - typeof";return DT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},DT(e)}var pwe=["viewBox","children"],mwe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],b8=["points","pathLength"],HS={svg:pwe,polygon:b8,polyline:b8},kC=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Eb=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(B.isValidElement(t)&&(n=t.props),!nm(n))return null;var a={};return Object.keys(n).forEach(function(i){kC.includes(i)&&(a[i]=r||function(s){return n[i](n,s)})}),a},gwe=function(t,r,n){return function(a){return t(r,n,a),null}},Nb=function(t,r,n){if(!nm(t)||DT(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var s=t[i];kC.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=gwe(s,r,n))}),a},vwe=["children"],ywe=["children"];function w8(e,t){if(e==null)return{};var r=xwe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function LT(e){"@babel/helpers - typeof";return LT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},LT(e)}var _8={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Lc=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},S8=null,GS=null,CC=function e(t){if(t===S8&&Array.isArray(GS))return GS;var r=[];return B.Children.forEach(t,function(n){Kr(n)||(rwe.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),GS=r,S8=t,r};function ko(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Lc(a)}):n=[Lc(t)],CC(e).forEach(function(a){var i=No(a,"type.displayName")||No(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function qs(e,t){var r=ko(e,t);return r&&r[0]}var A8=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!Ft(n)||n<=0||!Ft(a)||a<=0)},bwe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],wwe=function(t){return t&&t.type&&sh(t.type)&&bwe.indexOf(t.type)>=0},_we=function(t){return t&&LT(t)==="object"&&"clipDot"in t},Swe=function(t,r,n,a){var i,s=(i=HS==null?void 0:HS[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Br(t)&&(a&&s.includes(r)||mwe.includes(r))||n&&kC.includes(r)},Xr=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(B.isValidElement(t)&&(a=t.props),!nm(a))return null;var i={};return Object.keys(a).forEach(function(s){var o;Swe((o=a)===null||o===void 0?void 0:o[s],s,r,n)&&(i[s]=a[s])}),i},MT=function e(t,r){if(t===r)return!0;var n=B.Children.count(t);if(n!==B.Children.count(r))return!1;if(n===0)return!0;if(n===1)return T8(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],s=r[a];if(Array.isArray(i)||Array.isArray(s)){if(!e(i,s))return!1}else if(!T8(i,s))return!1}return!0},T8=function(t,r){if(Kr(t)&&Kr(r))return!0;if(!Kr(t)&&!Kr(r)){var n=t.props||{},a=n.children,i=w8(n,vwe),s=r.props||{},o=s.children,l=w8(s,ywe);return a&&o?B0(i,l)&&MT(a,o):!a&&!o?B0(i,l):!1}return!1},E8=function(t,r){var n=[],a={};return CC(t).forEach(function(i,s){if(wwe(i))n.push(i);else if(i){var o=Lc(i.type),l=r[o]||{},c=l.handler,u=l.once;if(c&&(!u||!a[o])){var f=c(i,o,s);n.push(f),a[o]=!0}}}),n},Awe=function(t){var r=t&&t.type;return r&&_8[r]?_8[r]:null},Twe=function(t,r){return CC(r).indexOf(t)},Ewe=["children","width","height","viewBox","className","style","title","desc"];function RT(){return RT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},RT.apply(this,arguments)}function Nwe(e,t){if(e==null)return{};var r=kwe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function FT(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,s=e.style,o=e.title,l=e.desc,c=Nwe(e,Ewe),u=a||{width:r,height:n,x:0,y:0},f=ln("recharts-surface",i);return $e.createElement("svg",RT({},Xr(c,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),$e.createElement("title",null,o),$e.createElement("desc",null,l),t)}var Cwe=["children","className"];function $T(){return $T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$T.apply(this,arguments)}function Pwe(e,t){if(e==null)return{};var r=Owe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Owe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ba=$e.forwardRef(function(e,t){var r=e.children,n=e.className,a=Pwe(e,Cwe),i=ln("recharts-layer",n);return $e.createElement("g",$T({className:i},Xr(a,!0),{ref:t}),r)}),Mc=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function Iwe(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var jwe=Iwe,Dwe=jwe;function Lwe(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:Dwe(e,t,r)}var Mwe=Lwe,Rwe="\\ud800-\\udfff",Fwe="\\u0300-\\u036f",$we="\\ufe20-\\ufe2f",Bwe="\\u20d0-\\u20ff",Uwe=Fwe+$we+Bwe,Vwe="\\ufe0e\\ufe0f",zwe="\\u200d",qwe=RegExp("["+zwe+Rwe+Uwe+Vwe+"]");function Wwe(e){return qwe.test(e)}var Jq=Wwe;function Hwe(e){return e.split("")}var Gwe=Hwe,Zq="\\ud800-\\udfff",Kwe="\\u0300-\\u036f",Ywe="\\ufe20-\\ufe2f",Xwe="\\u20d0-\\u20ff",Qwe=Kwe+Ywe+Xwe,Jwe="\\ufe0e\\ufe0f",Zwe="["+Zq+"]",BT="["+Qwe+"]",UT="\\ud83c[\\udffb-\\udfff]",e5e="(?:"+BT+"|"+UT+")",eW="[^"+Zq+"]",tW="(?:\\ud83c[\\udde6-\\uddff]){2}",rW="[\\ud800-\\udbff][\\udc00-\\udfff]",t5e="\\u200d",nW=e5e+"?",aW="["+Jwe+"]?",r5e="(?:"+t5e+"(?:"+[eW,tW,rW].join("|")+")"+aW+nW+")*",n5e=aW+nW+r5e,a5e="(?:"+[eW+BT+"?",BT,tW,rW,Zwe].join("|")+")",i5e=RegExp(UT+"(?="+UT+")|"+a5e+n5e,"g");function s5e(e){return e.match(i5e)||[]}var o5e=s5e,l5e=Gwe,c5e=Jq,u5e=o5e;function f5e(e){return c5e(e)?u5e(e):l5e(e)}var d5e=f5e,h5e=Mwe,p5e=Jq,m5e=d5e,g5e=Hq;function v5e(e){return function(t){t=g5e(t);var r=p5e(t)?m5e(t):void 0,n=r?r[0]:t.charAt(0),a=r?h5e(r,1).join(""):t.slice(1);return n[e]()+a}}var y5e=v5e,x5e=y5e,b5e=x5e("toUpperCase"),w5e=b5e;const $5=Cn(w5e);function Rn(e){return function(){return e}}const iW=Math.cos,kb=Math.sin,wl=Math.sqrt,Cb=Math.PI,B5=2*Cb,VT=Math.PI,zT=2*VT,bd=1e-6,_5e=zT-bd;function sW(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function S5e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return sW;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class A5e{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?sW:S5e(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,o=this._y1,l=n-t,c=a-r,u=s-t,f=o-r,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>bd)if(!(Math.abs(f*l-c*u)>bd)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-s,g=a-o,m=l*l+c*c,v=p*p+g*g,y=Math.sqrt(m),b=Math.sqrt(h),w=i*Math.tan((VT-Math.acos((m+h-v)/(2*y*b)))/2),D=w/b,P=w/y;Math.abs(D-1)>bd&&this._append`L${t+D*u},${r+D*f}`,this._append`A${i},${i},0,0,${+(f*p>u*g)},${this._x1=t+P*l},${this._y1=r+P*c}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),l=n*Math.sin(a),c=t+o,u=r+l,f=1^s,h=s?a-i:i-a;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>bd||Math.abs(this._y1-u)>bd)&&this._append`L${c},${u}`,n&&(h<0&&(h=h%zT+zT),h>_5e?this._append`A${n},${n},0,1,${f},${t-o},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=u}`:h>bd&&this._append`A${n},${n},0,${+(h>=VT)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function PC(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new A5e(t)}function OC(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function oW(e){this._context=e}oW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function U5(e){return new oW(e)}function lW(e){return e[0]}function cW(e){return e[1]}function uW(e,t){var r=Rn(!0),n=null,a=U5,i=null,s=PC(o);e=typeof e=="function"?e:e===void 0?lW:Rn(e),t=typeof t=="function"?t:t===void 0?cW:Rn(t);function o(l){var c,u=(l=OC(l)).length,f,h=!1,p;for(n==null&&(i=a(p=s())),c=0;c<=u;++c)!(c<u&&r(f=l[c],c,l))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,c,l),+t(f,c,l));if(p)return i=null,p+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:Rn(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:Rn(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Rn(!!l),o):r},o.curve=function(l){return arguments.length?(a=l,n!=null&&(i=a(n)),o):a},o.context=function(l){return arguments.length?(l==null?n=i=null:i=a(n=l),o):n},o}function wx(e,t,r){var n=null,a=Rn(!0),i=null,s=U5,o=null,l=PC(c);e=typeof e=="function"?e:e===void 0?lW:Rn(+e),t=typeof t=="function"?t:Rn(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?cW:Rn(+r);function c(f){var h,p,g,m=(f=OC(f)).length,v,y=!1,b,w=new Array(m),D=new Array(m);for(i==null&&(o=s(b=l())),h=0;h<=m;++h){if(!(h<m&&a(v=f[h],h,f))===y)if(y=!y)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=h-1;g>=p;--g)o.point(w[g],D[g]);o.lineEnd(),o.areaEnd()}y&&(w[h]=+e(v,h,f),D[h]=+t(v,h,f),o.point(n?+n(v,h,f):w[h],r?+r(v,h,f):D[h]))}if(b)return o=null,b+""||null}function u(){return uW().defined(a).curve(s).context(i)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:Rn(+f),n=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Rn(+f),c):e},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Rn(+f),c):n},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:Rn(+f),r=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Rn(+f),c):t},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Rn(+f),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Rn(!!f),c):a},c.curve=function(f){return arguments.length?(s=f,i!=null&&(o=s(i)),c):s},c.context=function(f){return arguments.length?(f==null?i=o=null:o=s(i=f),c):i},c}class fW{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function T5e(e){return new fW(e,!0)}function E5e(e){return new fW(e,!1)}const IC={draw(e,t){const r=wl(t/Cb);e.moveTo(r,0),e.arc(0,0,r,0,B5)}},N5e={draw(e,t){const r=wl(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},dW=wl(1/3),k5e=dW*2,C5e={draw(e,t){const r=wl(t/k5e),n=r*dW;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},P5e={draw(e,t){const r=wl(t),n=-r/2;e.rect(n,n,r,r)}},O5e=.8908130915292852,hW=kb(Cb/10)/kb(7*Cb/10),I5e=kb(B5/10)*hW,j5e=-iW(B5/10)*hW,D5e={draw(e,t){const r=wl(t*O5e),n=I5e*r,a=j5e*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const s=B5*i/5,o=iW(s),l=kb(s);e.lineTo(l*r,-o*r),e.lineTo(o*n-l*a,l*n+o*a)}e.closePath()}},KS=wl(3),L5e={draw(e,t){const r=-wl(t/(KS*3));e.moveTo(0,r*2),e.lineTo(-KS*r,-r),e.lineTo(KS*r,-r),e.closePath()}},po=-.5,mo=wl(3)/2,qT=1/wl(12),M5e=(qT/2+1)*3,R5e={draw(e,t){const r=wl(t/M5e),n=r/2,a=r*qT,i=n,s=r*qT+r,o=-i,l=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(o,l),e.lineTo(po*n-mo*a,mo*n+po*a),e.lineTo(po*i-mo*s,mo*i+po*s),e.lineTo(po*o-mo*l,mo*o+po*l),e.lineTo(po*n+mo*a,po*a-mo*n),e.lineTo(po*i+mo*s,po*s-mo*i),e.lineTo(po*o+mo*l,po*l-mo*o),e.closePath()}};function F5e(e,t){let r=null,n=PC(a);e=typeof e=="function"?e:Rn(e||IC),t=typeof t=="function"?t:Rn(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Rn(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Rn(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Pb(){}function Ob(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function pW(e){this._context=e}pW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ob(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ob(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function $5e(e){return new pW(e)}function mW(e){this._context=e}mW.prototype={areaStart:Pb,areaEnd:Pb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ob(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function B5e(e){return new mW(e)}function gW(e){this._context=e}gW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ob(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function U5e(e){return new gW(e)}function vW(e){this._context=e}vW.prototype={areaStart:Pb,areaEnd:Pb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function V5e(e){return new vW(e)}function N8(e){return e<0?-1:1}function k8(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),o=(i*a+s*n)/(n+a);return(N8(i)+N8(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function C8(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function YS(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,a+o*t,i-o,s-o*r,i,s)}function Ib(e){this._context=e}Ib.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:YS(this,this._t0,C8(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,YS(this,C8(this,r=k8(this,e,t)),r);break;default:YS(this,this._t0,r=k8(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function yW(e){this._context=new xW(e)}(yW.prototype=Object.create(Ib.prototype)).point=function(e,t){Ib.prototype.point.call(this,t,e)};function xW(e){this._context=e}xW.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function z5e(e){return new Ib(e)}function q5e(e){return new yW(e)}function bW(e){this._context=e}bW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=P8(e),a=P8(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function P8(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function W5e(e){return new bW(e)}function V5(e,t){this._context=e,this._t=t}V5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function H5e(e){return new V5(e,.5)}function G5e(e){return new V5(e,0)}function K5e(e){return new V5(e,1)}function mp(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,o=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function WT(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Y5e(e,t){return e[t]}function X5e(e){const t=[];return t.key=e,t}function Q5e(){var e=Rn([]),t=WT,r=mp,n=Y5e;function a(i){var s=Array.from(e.apply(this,arguments),X5e),o,l=s.length,c=-1,u;for(const f of i)for(o=0,++c;o<l;++o)(s[o][c]=[0,+n(f,s[o].key,c,i)]).data=f;for(o=0,u=OC(t(s));o<l;++o)s[u[o]].index=o;return r(s,u),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Rn(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Rn(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?WT:typeof i=="function"?i:Rn(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??mp,a):r},a}function J5e(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}mp(e,t)}}function Z5e(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,o=0;s<a;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}mp(e,t)}}function e_e(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var o=0,l=0,c=0;o<s;++o){for(var u=e[t[o]],f=u[n][1]||0,h=u[n-1][1]||0,p=(f-h)/2,g=0;g<o;++g){var m=e[t[g]],v=m[n][1]||0,y=m[n-1][1]||0;p+=v-y}l+=f,c+=p*f}a[n-1][1]+=a[n-1][0]=r,l&&(r-=c/l)}a[n-1][1]+=a[n-1][0]=r,mp(e,t)}}function Yv(e){"@babel/helpers - typeof";return Yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yv(e)}var t_e=["type","size","sizeType"];function HT(){return HT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},HT.apply(this,arguments)}function O8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function I8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O8(Object(r),!0).forEach(function(n){r_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r_e(e,t,r){return t=n_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n_e(e){var t=a_e(e,"string");return Yv(t)=="symbol"?t:t+""}function a_e(e,t){if(Yv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Yv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function i_e(e,t){if(e==null)return{};var r=s_e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function s_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var wW={symbolCircle:IC,symbolCross:N5e,symbolDiamond:C5e,symbolSquare:P5e,symbolStar:D5e,symbolTriangle:L5e,symbolWye:R5e},o_e=Math.PI/180,l_e=function(t){var r="symbol".concat($5(t));return wW[r]||IC},c_e=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*o_e;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},u_e=function(t,r){wW["symbol".concat($5(t))]=r},jC=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,s=t.sizeType,o=s===void 0?"area":s,l=i_e(t,t_e),c=I8(I8({},l),{},{type:n,size:i,sizeType:o}),u=function(){var v=l_e(n),y=F5e().type(v).size(c_e(i,o,n));return y()},f=c.className,h=c.cx,p=c.cy,g=Xr(c,!0);return h===+h&&p===+p&&i===+i?$e.createElement("path",HT({},g,{className:ln("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};jC.registerSymbol=u_e;function gp(e){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gp(e)}function GT(){return GT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GT.apply(this,arguments)}function j8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function f_e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j8(Object(r),!0).forEach(function(n){Xv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h_e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SW(n.key),n)}}function p_e(e,t,r){return t&&h_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function m_e(e,t,r){return t=jb(t),g_e(e,_W()?Reflect.construct(t,r||[],jb(e).constructor):t.apply(e,r))}function g_e(e,t){if(t&&(gp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v_e(e)}function v_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _W(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_W=function(){return!!e})()}function jb(e){return jb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jb(e)}function y_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KT(e,t)}function KT(e,t){return KT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},KT(e,t)}function Xv(e,t,r){return t=SW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SW(e){var t=x_e(e,"string");return gp(t)=="symbol"?t:t+""}function x_e(e,t){if(gp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var go=32,DC=function(e){function t(){return d_e(this,t),m_e(this,t,arguments)}return y_e(t,e),p_e(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=go/2,s=go/6,o=go/3,l=n.inactive?a:n.color;if(n.type==="plainline")return $e.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:go,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return $e.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(go,"M").concat(2*o,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return $e.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(go/8,"h").concat(go,"v").concat(go*3/4,"h").concat(-go,"z"),className:"recharts-legend-icon"});if($e.isValidElement(n.legendIcon)){var c=f_e({},n);return delete c.legendIcon,$e.cloneElement(n.legendIcon,c)}return $e.createElement(jC,{fill:l,cx:i,cy:i,size:go,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,s=a.iconSize,o=a.layout,l=a.formatter,c=a.inactiveColor,u={x:0,y:0,width:go,height:go},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,g){var m=p.formatter||l,v=ln(Xv(Xv({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=Br(p.value)?null:p.value;Mc(!Br(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?c:p.color;return $e.createElement("li",GT({className:v,style:f,key:"legend-item-".concat(g)},Nb(n.props,p,g)),$e.createElement(FT,{width:s,height:s,viewBox:u,style:h},n.renderIcon(p)),$e.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},m?m(y,p,g):y))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,s=n.align;if(!a||!a.length)return null;var o={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return $e.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(B.PureComponent);Xv(DC,"displayName","Legend");Xv(DC,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var b_e=E5;function w_e(){this.__data__=new b_e,this.size=0}var __e=w_e;function S_e(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var A_e=S_e;function T_e(e){return this.__data__.get(e)}var E_e=T_e;function N_e(e){return this.__data__.has(e)}var k_e=N_e,C_e=E5,P_e=wC,O_e=_C,I_e=200;function j_e(e,t){var r=this.__data__;if(r instanceof C_e){var n=r.__data__;if(!P_e||n.length<I_e-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new O_e(n)}return r.set(e,t),this.size=r.size,this}var D_e=j_e,L_e=E5,M_e=__e,R_e=A_e,F_e=E_e,$_e=k_e,B_e=D_e;function om(e){var t=this.__data__=new L_e(e);this.size=t.size}om.prototype.clear=M_e;om.prototype.delete=R_e;om.prototype.get=F_e;om.prototype.has=$_e;om.prototype.set=B_e;var AW=om,U_e="__lodash_hash_undefined__";function V_e(e){return this.__data__.set(e,U_e),this}var z_e=V_e;function q_e(e){return this.__data__.has(e)}var W_e=q_e,H_e=_C,G_e=z_e,K_e=W_e;function Db(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new H_e;++t<r;)this.add(e[t])}Db.prototype.add=Db.prototype.push=G_e;Db.prototype.has=K_e;var TW=Db;function Y_e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var EW=Y_e;function X_e(e,t){return e.has(t)}var NW=X_e,Q_e=TW,J_e=EW,Z_e=NW,eSe=1,tSe=2;function rSe(e,t,r,n,a,i){var s=r&eSe,o=e.length,l=t.length;if(o!=l&&!(s&&l>o))return!1;var c=i.get(e),u=i.get(t);if(c&&u)return c==t&&u==e;var f=-1,h=!0,p=r&tSe?new Q_e:void 0;for(i.set(e,t),i.set(t,e);++f<o;){var g=e[f],m=t[f];if(n)var v=s?n(m,g,f,t,e,i):n(g,m,f,e,t,i);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!J_e(t,function(y,b){if(!Z_e(p,b)&&(g===y||a(g,y,r,n,i)))return p.push(b)})){h=!1;break}}else if(!(g===m||a(g,m,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var kW=rSe,nSe=ic,aSe=nSe.Uint8Array,iSe=aSe;function sSe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var oSe=sSe;function lSe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var LC=lSe,D8=ay,L8=iSe,cSe=bC,uSe=kW,fSe=oSe,dSe=LC,hSe=1,pSe=2,mSe="[object Boolean]",gSe="[object Date]",vSe="[object Error]",ySe="[object Map]",xSe="[object Number]",bSe="[object RegExp]",wSe="[object Set]",_Se="[object String]",SSe="[object Symbol]",ASe="[object ArrayBuffer]",TSe="[object DataView]",M8=D8?D8.prototype:void 0,XS=M8?M8.valueOf:void 0;function ESe(e,t,r,n,a,i,s){switch(r){case TSe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ASe:return!(e.byteLength!=t.byteLength||!i(new L8(e),new L8(t)));case mSe:case gSe:case xSe:return cSe(+e,+t);case vSe:return e.name==t.name&&e.message==t.message;case bSe:case _Se:return e==t+"";case ySe:var o=fSe;case wSe:var l=n&hSe;if(o||(o=dSe),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;n|=pSe,s.set(e,t);var u=uSe(o(e),o(t),n,a,i,s);return s.delete(e),u;case SSe:if(XS)return XS.call(e)==XS.call(t)}return!1}var NSe=ESe;function kSe(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var CW=kSe,CSe=CW,PSe=js;function OSe(e,t,r){var n=t(e);return PSe(e)?n:CSe(n,r(e))}var ISe=OSe;function jSe(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var s=e[r];t(s,r,e)&&(i[a++]=s)}return i}var DSe=jSe;function LSe(){return[]}var MSe=LSe,RSe=DSe,FSe=MSe,$Se=Object.prototype,BSe=$Se.propertyIsEnumerable,R8=Object.getOwnPropertySymbols,USe=R8?function(e){return e==null?[]:(e=Object(e),RSe(R8(e),function(t){return BSe.call(e,t)}))}:FSe,VSe=USe;function zSe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var qSe=zSe,WSe=lu,HSe=cu,GSe="[object Arguments]";function KSe(e){return HSe(e)&&WSe(e)==GSe}var YSe=KSe,F8=YSe,XSe=cu,PW=Object.prototype,QSe=PW.hasOwnProperty,JSe=PW.propertyIsEnumerable,ZSe=F8(function(){return arguments}())?F8:function(e){return XSe(e)&&QSe.call(e,"callee")&&!JSe.call(e,"callee")},MC=ZSe,Lb={exports:{}};function eAe(){return!1}var tAe=eAe;Lb.exports;(function(e,t){var r=ic,n=tAe,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===a,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||n;e.exports=c})(Lb,Lb.exports);var OW=Lb.exports,rAe=9007199254740991,nAe=/^(?:0|[1-9]\d*)$/;function aAe(e,t){var r=typeof e;return t=t??rAe,!!t&&(r=="number"||r!="symbol"&&nAe.test(e))&&e>-1&&e%1==0&&e<t}var RC=aAe,iAe=9007199254740991;function sAe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=iAe}var FC=sAe,oAe=lu,lAe=FC,cAe=cu,uAe="[object Arguments]",fAe="[object Array]",dAe="[object Boolean]",hAe="[object Date]",pAe="[object Error]",mAe="[object Function]",gAe="[object Map]",vAe="[object Number]",yAe="[object Object]",xAe="[object RegExp]",bAe="[object Set]",wAe="[object String]",_Ae="[object WeakMap]",SAe="[object ArrayBuffer]",AAe="[object DataView]",TAe="[object Float32Array]",EAe="[object Float64Array]",NAe="[object Int8Array]",kAe="[object Int16Array]",CAe="[object Int32Array]",PAe="[object Uint8Array]",OAe="[object Uint8ClampedArray]",IAe="[object Uint16Array]",jAe="[object Uint32Array]",Vn={};Vn[TAe]=Vn[EAe]=Vn[NAe]=Vn[kAe]=Vn[CAe]=Vn[PAe]=Vn[OAe]=Vn[IAe]=Vn[jAe]=!0;Vn[uAe]=Vn[fAe]=Vn[SAe]=Vn[dAe]=Vn[AAe]=Vn[hAe]=Vn[pAe]=Vn[mAe]=Vn[gAe]=Vn[vAe]=Vn[yAe]=Vn[xAe]=Vn[bAe]=Vn[wAe]=Vn[_Ae]=!1;function DAe(e){return cAe(e)&&lAe(e.length)&&!!Vn[oAe(e)]}var LAe=DAe;function MAe(e){return function(t){return e(t)}}var IW=MAe,Mb={exports:{}};Mb.exports;(function(e,t){var r=Bq,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,s=i&&r.process,o=function(){try{var l=a&&a.require&&a.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o})(Mb,Mb.exports);var RAe=Mb.exports,FAe=LAe,$Ae=IW,$8=RAe,B8=$8&&$8.isTypedArray,BAe=B8?$Ae(B8):FAe,jW=BAe,UAe=qSe,VAe=MC,zAe=js,qAe=OW,WAe=RC,HAe=jW,GAe=Object.prototype,KAe=GAe.hasOwnProperty;function YAe(e,t){var r=zAe(e),n=!r&&VAe(e),a=!r&&!n&&qAe(e),i=!r&&!n&&!a&&HAe(e),s=r||n||a||i,o=s?UAe(e.length,String):[],l=o.length;for(var c in e)(t||KAe.call(e,c))&&!(s&&(c=="length"||a&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||WAe(c,l)))&&o.push(c);return o}var XAe=YAe,QAe=Object.prototype;function JAe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||QAe;return e===r}var ZAe=JAe;function e4e(e,t){return function(r){return e(t(r))}}var DW=e4e,t4e=DW,r4e=t4e(Object.keys,Object),n4e=r4e,a4e=ZAe,i4e=n4e,s4e=Object.prototype,o4e=s4e.hasOwnProperty;function l4e(e){if(!a4e(e))return i4e(e);var t=[];for(var r in Object(e))o4e.call(e,r)&&r!="constructor"&&t.push(r);return t}var c4e=l4e,u4e=xC,f4e=FC;function d4e(e){return e!=null&&f4e(e.length)&&!u4e(e)}var oy=d4e,h4e=XAe,p4e=c4e,m4e=oy;function g4e(e){return m4e(e)?h4e(e):p4e(e)}var z5=g4e,v4e=ISe,y4e=VSe,x4e=z5;function b4e(e){return v4e(e,x4e,y4e)}var w4e=b4e,U8=w4e,_4e=1,S4e=Object.prototype,A4e=S4e.hasOwnProperty;function T4e(e,t,r,n,a,i){var s=r&_4e,o=U8(e),l=o.length,c=U8(t),u=c.length;if(l!=u&&!s)return!1;for(var f=l;f--;){var h=o[f];if(!(s?h in t:A4e.call(t,h)))return!1}var p=i.get(e),g=i.get(t);if(p&&g)return p==t&&g==e;var m=!0;i.set(e,t),i.set(t,e);for(var v=s;++f<l;){h=o[f];var y=e[h],b=t[h];if(n)var w=s?n(b,y,h,t,e,i):n(y,b,h,e,t,i);if(!(w===void 0?y===b||a(y,b,r,n,i):w)){m=!1;break}v||(v=h=="constructor")}if(m&&!v){var D=e.constructor,P=t.constructor;D!=P&&"constructor"in e&&"constructor"in t&&!(typeof D=="function"&&D instanceof D&&typeof P=="function"&&P instanceof P)&&(m=!1)}return i.delete(e),i.delete(t),m}var E4e=T4e,N4e=_h,k4e=ic,C4e=N4e(k4e,"DataView"),P4e=C4e,O4e=_h,I4e=ic,j4e=O4e(I4e,"Promise"),D4e=j4e,L4e=_h,M4e=ic,R4e=L4e(M4e,"Set"),LW=R4e,F4e=_h,$4e=ic,B4e=F4e($4e,"WeakMap"),U4e=B4e,YT=P4e,XT=wC,QT=D4e,JT=LW,ZT=U4e,MW=lu,lm=Vq,V8="[object Map]",V4e="[object Object]",z8="[object Promise]",q8="[object Set]",W8="[object WeakMap]",H8="[object DataView]",z4e=lm(YT),q4e=lm(XT),W4e=lm(QT),H4e=lm(JT),G4e=lm(ZT),wd=MW;(YT&&wd(new YT(new ArrayBuffer(1)))!=H8||XT&&wd(new XT)!=V8||QT&&wd(QT.resolve())!=z8||JT&&wd(new JT)!=q8||ZT&&wd(new ZT)!=W8)&&(wd=function(e){var t=MW(e),r=t==V4e?e.constructor:void 0,n=r?lm(r):"";if(n)switch(n){case z4e:return H8;case q4e:return V8;case W4e:return z8;case H4e:return q8;case G4e:return W8}return t});var K4e=wd,QS=AW,Y4e=kW,X4e=NSe,Q4e=E4e,G8=K4e,K8=js,Y8=OW,J4e=jW,Z4e=1,X8="[object Arguments]",Q8="[object Array]",_x="[object Object]",eTe=Object.prototype,J8=eTe.hasOwnProperty;function tTe(e,t,r,n,a,i){var s=K8(e),o=K8(t),l=s?Q8:G8(e),c=o?Q8:G8(t);l=l==X8?_x:l,c=c==X8?_x:c;var u=l==_x,f=c==_x,h=l==c;if(h&&Y8(e)){if(!Y8(t))return!1;s=!0,u=!1}if(h&&!u)return i||(i=new QS),s||J4e(e)?Y4e(e,t,r,n,a,i):X4e(e,t,l,r,n,a,i);if(!(r&Z4e)){var p=u&&J8.call(e,"__wrapped__"),g=f&&J8.call(t,"__wrapped__");if(p||g){var m=p?e.value():e,v=g?t.value():t;return i||(i=new QS),a(m,v,r,n,i)}}return h?(i||(i=new QS),Q4e(e,t,r,n,a,i)):!1}var rTe=tTe,nTe=rTe,Z8=cu;function RW(e,t,r,n,a){return e===t?!0:e==null||t==null||!Z8(e)&&!Z8(t)?e!==e&&t!==t:nTe(e,t,r,n,RW,a)}var $C=RW,aTe=AW,iTe=$C,sTe=1,oTe=2;function lTe(e,t,r,n){var a=r.length,i=a,s=!n;if(e==null)return!i;for(e=Object(e);a--;){var o=r[a];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++a<i;){o=r[a];var l=o[0],c=e[l],u=o[1];if(s&&o[2]){if(c===void 0&&!(l in e))return!1}else{var f=new aTe;if(n)var h=n(c,u,l,e,t,f);if(!(h===void 0?iTe(u,c,sTe|oTe,n,f):h))return!1}}return!0}var cTe=lTe,uTe=Gf;function fTe(e){return e===e&&!uTe(e)}var FW=fTe,dTe=FW,hTe=z5;function pTe(e){for(var t=hTe(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,dTe(a)]}return t}var mTe=pTe;function gTe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var $W=gTe,vTe=cTe,yTe=mTe,xTe=$W;function bTe(e){var t=yTe(e);return t.length==1&&t[0][2]?xTe(t[0][0],t[0][1]):function(r){return r===e||vTe(r,e,t)}}var wTe=bTe;function _Te(e,t){return e!=null&&t in Object(e)}var STe=_Te,ATe=Gq,TTe=MC,ETe=js,NTe=RC,kTe=FC,CTe=k5;function PTe(e,t,r){t=ATe(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var s=CTe(t[n]);if(!(i=e!=null&&r(e,s)))break;e=e[s]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&kTe(a)&&NTe(s,a)&&(ETe(e)||TTe(e)))}var OTe=PTe,ITe=STe,jTe=OTe;function DTe(e,t){return e!=null&&jTe(e,t,ITe)}var LTe=DTe,MTe=$C,RTe=Kq,FTe=LTe,$Te=yC,BTe=FW,UTe=$W,VTe=k5,zTe=1,qTe=2;function WTe(e,t){return $Te(e)&&BTe(t)?UTe(VTe(e),t):function(r){var n=RTe(r,e);return n===void 0&&n===t?FTe(r,e):MTe(t,n,zTe|qTe)}}var HTe=WTe;function GTe(e){return e}var cm=GTe;function KTe(e){return function(t){return t==null?void 0:t[e]}}var YTe=KTe,XTe=TC;function QTe(e){return function(t){return XTe(t,e)}}var JTe=QTe,ZTe=YTe,e3e=JTe,t3e=yC,r3e=k5;function n3e(e){return t3e(e)?ZTe(r3e(e)):e3e(e)}var a3e=n3e,i3e=wTe,s3e=HTe,o3e=cm,l3e=js,c3e=a3e;function u3e(e){return typeof e=="function"?e:e==null?o3e:typeof e=="object"?l3e(e)?s3e(e[0],e[1]):i3e(e):c3e(e)}var Kf=u3e;function f3e(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var BW=f3e;function d3e(e){return e!==e}var h3e=d3e;function p3e(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var m3e=p3e,g3e=BW,v3e=h3e,y3e=m3e;function x3e(e,t,r){return t===t?y3e(e,t,r):g3e(e,v3e,r)}var b3e=x3e,w3e=b3e;function _3e(e,t){var r=e==null?0:e.length;return!!r&&w3e(e,t,0)>-1}var S3e=_3e;function A3e(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var T3e=A3e;function E3e(){}var N3e=E3e,JS=LW,k3e=N3e,C3e=LC,P3e=1/0,O3e=JS&&1/C3e(new JS([,-0]))[1]==P3e?function(e){return new JS(e)}:k3e,I3e=O3e,j3e=TW,D3e=S3e,L3e=T3e,M3e=NW,R3e=I3e,F3e=LC,$3e=200;function B3e(e,t,r){var n=-1,a=D3e,i=e.length,s=!0,o=[],l=o;if(r)s=!1,a=L3e;else if(i>=$3e){var c=t?null:R3e(e);if(c)return F3e(c);s=!1,a=M3e,l=new j3e}else l=t?[]:o;e:for(;++n<i;){var u=e[n],f=t?t(u):u;if(u=r||u!==0?u:0,s&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;t&&l.push(f),o.push(u)}else a(l,f,r)||(l!==o&&l.push(f),o.push(u))}return o}var U3e=B3e,V3e=Kf,z3e=U3e;function q3e(e,t){return e&&e.length?z3e(e,V3e(t)):[]}var W3e=q3e;const eL=Cn(W3e);function UW(e,t,r){return t===!0?eL(e,r):Br(t)?eL(e,t):e}function vp(e){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vp(e)}var H3e=["ref"];function tL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tL(Object(r),!0).forEach(function(n){q5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function G3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zW(n.key),n)}}function K3e(e,t,r){return t&&rL(e.prototype,t),r&&rL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Y3e(e,t,r){return t=Rb(t),X3e(e,VW()?Reflect.construct(t,r||[],Rb(e).constructor):t.apply(e,r))}function X3e(e,t){if(t&&(vp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q3e(e)}function Q3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VW=function(){return!!e})()}function Rb(e){return Rb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rb(e)}function J3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&e3(e,t)}function e3(e,t){return e3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},e3(e,t)}function q5(e,t,r){return t=zW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zW(e){var t=Z3e(e,"string");return vp(t)=="symbol"?t:t+""}function Z3e(e,t){if(vp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eEe(e,t){if(e==null)return{};var r=tEe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function rEe(e){return e.value}function nEe(e,t){if($e.isValidElement(e))return $e.cloneElement(e,t);if(typeof e=="function")return $e.createElement(e,t);t.ref;var r=eEe(t,H3e);return $e.createElement(DC,r)}var nL=1,vl=function(e){function t(){var r;G3e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Y3e(this,t,[].concat(a)),q5(r,"lastBoundingBox",{width:-1,height:-1}),r}return J3e(t,e),K3e(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>nL||Math.abs(a.height-this.lastBoundingBox.height)>nL)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?bc({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,s=a.align,o=a.verticalAlign,l=a.margin,c=a.chartWidth,u=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((c||0)-p.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var g=this.getBBoxSnapshot();h={top:((u||0)-g.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return bc(bc({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,s=a.width,o=a.height,l=a.wrapperStyle,c=a.payloadUniqBy,u=a.payload,f=bc(bc({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return $e.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},nEe(i,bc(bc({},this.props),{},{payload:UW(u,c,rEe)})))}}],[{key:"getWithHeight",value:function(n,a){var i=bc(bc({},this.defaultProps),n.props),s=i.layout;return s==="vertical"&&Ft(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||a}:null}}])}(B.PureComponent);q5(vl,"displayName","Legend");q5(vl,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var aL=ay,aEe=MC,iEe=js,iL=aL?aL.isConcatSpreadable:void 0;function sEe(e){return iEe(e)||aEe(e)||!!(iL&&e&&e[iL])}var oEe=sEe,lEe=CW,cEe=oEe;function qW(e,t,r,n,a){var i=-1,s=e.length;for(r||(r=cEe),a||(a=[]);++i<s;){var o=e[i];t>0&&r(o)?t>1?qW(o,t-1,r,n,a):lEe(a,o):n||(a[a.length]=o)}return a}var WW=qW;function uEe(e){return function(t,r,n){for(var a=-1,i=Object(t),s=n(t),o=s.length;o--;){var l=s[e?o:++a];if(r(i[l],l,i)===!1)break}return t}}var fEe=uEe,dEe=fEe,hEe=dEe(),pEe=hEe,mEe=pEe,gEe=z5;function vEe(e,t){return e&&mEe(e,t,gEe)}var HW=vEe,yEe=oy;function xEe(e,t){return function(r,n){if(r==null)return r;if(!yEe(r))return e(r,n);for(var a=r.length,i=t?a:-1,s=Object(r);(t?i--:++i<a)&&n(s[i],i,s)!==!1;);return r}}var bEe=xEe,wEe=HW,_Ee=bEe,SEe=_Ee(wEe),BC=SEe,AEe=BC,TEe=oy;function EEe(e,t){var r=-1,n=TEe(e)?Array(e.length):[];return AEe(e,function(a,i,s){n[++r]=t(a,i,s)}),n}var GW=EEe;function NEe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var kEe=NEe,sL=rm;function CEe(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=sL(e),s=t!==void 0,o=t===null,l=t===t,c=sL(t);if(!o&&!c&&!i&&e>t||i&&s&&l&&!o&&!c||n&&s&&l||!r&&l||!a)return 1;if(!n&&!i&&!c&&e<t||c&&r&&a&&!n&&!i||o&&r&&a||!s&&a||!l)return-1}return 0}var PEe=CEe,OEe=PEe;function IEe(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,s=a.length,o=r.length;++n<s;){var l=OEe(a[n],i[n]);if(l){if(n>=o)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return e.index-t.index}var jEe=IEe,ZS=AC,DEe=TC,LEe=Kf,MEe=GW,REe=kEe,FEe=IW,$Ee=jEe,BEe=cm,UEe=js;function VEe(e,t,r){t.length?t=ZS(t,function(i){return UEe(i)?function(s){return DEe(s,i.length===1?i[0]:i)}:i}):t=[BEe];var n=-1;t=ZS(t,FEe(LEe));var a=MEe(e,function(i,s,o){var l=ZS(t,function(c){return c(i)});return{criteria:l,index:++n,value:i}});return REe(a,function(i,s){return $Ee(i,s,r)})}var zEe=VEe;function qEe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var WEe=qEe,HEe=WEe,oL=Math.max;function GEe(e,t,r){return t=oL(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=oL(n.length-t,0),s=Array(i);++a<i;)s[a]=n[t+a];a=-1;for(var o=Array(t+1);++a<t;)o[a]=n[a];return o[t]=r(s),HEe(e,this,o)}}var KEe=GEe;function YEe(e){return function(){return e}}var XEe=YEe,QEe=_h,JEe=function(){try{var e=QEe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),KW=JEe,ZEe=XEe,lL=KW,eNe=cm,tNe=lL?function(e,t){return lL(e,"toString",{configurable:!0,enumerable:!1,value:ZEe(t),writable:!0})}:eNe,rNe=tNe,nNe=800,aNe=16,iNe=Date.now;function sNe(e){var t=0,r=0;return function(){var n=iNe(),a=aNe-(n-r);if(r=n,a>0){if(++t>=nNe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var oNe=sNe,lNe=rNe,cNe=oNe,uNe=cNe(lNe),fNe=uNe,dNe=cm,hNe=KEe,pNe=fNe;function mNe(e,t){return pNe(hNe(e,t,dNe),e+"")}var gNe=mNe,vNe=bC,yNe=oy,xNe=RC,bNe=Gf;function wNe(e,t,r){if(!bNe(r))return!1;var n=typeof t;return(n=="number"?yNe(r)&&xNe(t,r.length):n=="string"&&t in r)?vNe(r[t],e):!1}var W5=wNe,_Ne=WW,SNe=zEe,ANe=gNe,cL=W5,TNe=ANe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&cL(e,t[0],t[1])?t=[]:r>2&&cL(t[0],t[1],t[2])&&(t=[t[0]]),SNe(e,_Ne(t,1),[])}),ENe=TNe;const UC=Cn(ENe);function Qv(e){"@babel/helpers - typeof";return Qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qv(e)}function t3(){return t3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t3.apply(this,arguments)}function NNe(e,t){return ONe(e)||PNe(e,t)||CNe(e,t)||kNe()}function kNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CNe(e,t){if(e){if(typeof e=="string")return uL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uL(e,t)}}function uL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function PNe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function ONe(e){if(Array.isArray(e))return e}function fL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fL(Object(r),!0).forEach(function(n){INe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function INe(e,t,r){return t=jNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jNe(e){var t=DNe(e,"string");return Qv(t)=="symbol"?t:t+""}function DNe(e,t){if(Qv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LNe(e){return Array.isArray(e)&&Ua(e[0])&&Ua(e[1])?e.join(" ~ "):e}var MNe=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,s=t.itemStyle,o=s===void 0?{}:s,l=t.labelStyle,c=l===void 0?{}:l,u=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,g=t.labelClassName,m=t.label,v=t.labelFormatter,y=t.accessibilityLayer,b=y===void 0?!1:y,w=function(){if(u&&u.length){var N={padding:0,margin:0},O=(h?UC(u,h):u).map(function(U,Y){if(U.type==="none")return null;var K=eA({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},o),J=U.formatter||f||LNe,z=U.value,V=U.name,ee=z,Z=V;if(J&&ee!=null&&Z!=null){var k=J(z,V,U,Y,u);if(Array.isArray(k)){var R=NNe(k,2);ee=R[0],Z=R[1]}else ee=k}return $e.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Y),style:K},Ua(Z)?$e.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,Ua(Z)?$e.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,$e.createElement("span",{className:"recharts-tooltip-item-value"},ee),$e.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return $e.createElement("ul",{className:"recharts-tooltip-item-list",style:N},O)}return null},D=eA({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),P=eA({margin:0},c),I=!Kr(m),T=I?m:"",_=ln("recharts-default-tooltip",p),S=ln("recharts-tooltip-label",g);I&&v&&u!==void 0&&u!==null&&(T=v(m,u));var j=b?{role:"status","aria-live":"assertive"}:{};return $e.createElement("div",t3({className:_,style:D},j),$e.createElement("p",{className:S,style:P},$e.isValidElement(T)?T:"".concat(T)),w())};function Jv(e){"@babel/helpers - typeof";return Jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jv(e)}function Sx(e,t,r){return t=RNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RNe(e){var t=FNe(e,"string");return Jv(t)=="symbol"?t:t+""}function FNe(e,t){if(Jv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qm="recharts-tooltip-wrapper",$Ne={visibility:"hidden"};function BNe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return ln(qm,Sx(Sx(Sx(Sx({},"".concat(qm,"-right"),Ft(r)&&t&&Ft(t.x)&&r>=t.x),"".concat(qm,"-left"),Ft(r)&&t&&Ft(t.x)&&r<t.x),"".concat(qm,"-bottom"),Ft(n)&&t&&Ft(t.y)&&n>=t.y),"".concat(qm,"-top"),Ft(n)&&t&&Ft(t.y)&&n<t.y))}function dL(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,s=e.reverseDirection,o=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(i&&Ft(i[n]))return i[n];var u=r[n]-o-a,f=r[n]+a;if(t[n])return s[n]?u:f;if(s[n]){var h=u,p=l[n];return h<p?Math.max(f,l[n]):Math.max(u,l[n])}var g=f+o,m=l[n]+c;return g>m?Math.max(u,l[n]):Math.max(f,l[n])}function UNe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function VNe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,s=e.tooltipBox,o=e.useTranslate3d,l=e.viewBox,c,u,f;return s.height>0&&s.width>0&&r?(u=dL({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=dL({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=UNe({translateX:u,translateY:f,useTranslate3d:o})):c=$Ne,{cssProperties:c,cssClasses:BNe({translateX:u,translateY:f,coordinate:r})}}function yp(e){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yp(e)}function hL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hL(Object(r),!0).forEach(function(n){n3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qNe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XW(n.key),n)}}function WNe(e,t,r){return t&&qNe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HNe(e,t,r){return t=Fb(t),GNe(e,YW()?Reflect.construct(t,r||[],Fb(e).constructor):t.apply(e,r))}function GNe(e,t){if(t&&(yp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KNe(e)}function KNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YW=function(){return!!e})()}function Fb(e){return Fb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fb(e)}function YNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r3(e,t)}function r3(e,t){return r3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},r3(e,t)}function n3(e,t,r){return t=XW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XW(e){var t=XNe(e,"string");return yp(t)=="symbol"?t:t+""}function XNe(e,t){if(yp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(yp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mL=1,QNe=function(e){function t(){var r;zNe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=HNe(this,t,[].concat(a)),n3(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),n3(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,c,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),r}return YNe(t,e),WNe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>mL||Math.abs(n.height-this.state.lastBoundingBox.height)>mL)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,l=a.animationEasing,c=a.children,u=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,p=a.offset,g=a.position,m=a.reverseDirection,v=a.useTranslate3d,y=a.viewBox,b=a.wrapperStyle,w=VNe({allowEscapeViewBox:s,coordinate:u,offsetTopLeft:p,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:y}),D=w.cssClasses,P=w.cssProperties,I=pL(pL({transition:h&&i?"transform ".concat(o,"ms ").concat(l):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return $e.createElement("div",{tabIndex:-1,className:D,style:I,ref:function(_){n.wrapperNode=_}},c)}}])}(B.PureComponent),JNe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Rc={isSsr:JNe(),get:function(t){return Rc[t]},set:function(t,r){if(typeof t=="string")Rc[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){Rc[a]=t[a]})}}};function xp(e){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xp(e)}function gL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gL(Object(r),!0).forEach(function(n){VC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eke(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JW(n.key),n)}}function tke(e,t,r){return t&&eke(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rke(e,t,r){return t=$b(t),nke(e,QW()?Reflect.construct(t,r||[],$b(e).constructor):t.apply(e,r))}function nke(e,t){if(t&&(xp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ake(e)}function ake(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QW=function(){return!!e})()}function $b(e){return $b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$b(e)}function ike(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a3(e,t)}function a3(e,t){return a3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},a3(e,t)}function VC(e,t,r){return t=JW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JW(e){var t=ske(e,"string");return xp(t)=="symbol"?t:t+""}function ske(e,t){if(xp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oke(e){return e.dataKey}function lke(e,t){return $e.isValidElement(e)?$e.cloneElement(e,t):typeof e=="function"?$e.createElement(e,t):$e.createElement(MNe,t)}var Ss=function(e){function t(){return ZNe(this,t),rke(this,t,arguments)}return ike(t,e),tke(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,l=a.animationEasing,c=a.content,u=a.coordinate,f=a.filterNull,h=a.isAnimationActive,p=a.offset,g=a.payload,m=a.payloadUniqBy,v=a.position,y=a.reverseDirection,b=a.useTranslate3d,w=a.viewBox,D=a.wrapperStyle,P=g??[];f&&P.length&&(P=UW(g.filter(function(T){return T.value!=null&&(T.hide!==!0||n.props.includeHidden)}),m,oke));var I=P.length>0;return $e.createElement(QNe,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:h,active:i,coordinate:u,hasPayload:I,offset:p,position:v,reverseDirection:y,useTranslate3d:b,viewBox:w,wrapperStyle:D},lke(c,vL(vL({},this.props),{},{payload:P})))}}])}(B.PureComponent);VC(Ss,"displayName","Tooltip");VC(Ss,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Rc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var cke=ic,uke=function(){return cke.Date.now()},fke=uke,dke=/\s/;function hke(e){for(var t=e.length;t--&&dke.test(e.charAt(t)););return t}var pke=hke,mke=pke,gke=/^\s+/;function vke(e){return e&&e.slice(0,mke(e)+1).replace(gke,"")}var yke=vke,xke=yke,yL=Gf,bke=rm,xL=NaN,wke=/^[-+]0x[0-9a-f]+$/i,_ke=/^0b[01]+$/i,Ske=/^0o[0-7]+$/i,Ake=parseInt;function Tke(e){if(typeof e=="number")return e;if(bke(e))return xL;if(yL(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=yL(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=xke(e);var r=_ke.test(e);return r||Ske.test(e)?Ake(e.slice(2),r?2:8):wke.test(e)?xL:+e}var ZW=Tke,Eke=Gf,tA=fke,bL=ZW,Nke="Expected a function",kke=Math.max,Cke=Math.min;function Pke(e,t,r){var n,a,i,s,o,l,c=0,u=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(Nke);t=bL(t)||0,Eke(r)&&(u=!!r.leading,f="maxWait"in r,i=f?kke(bL(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(I){var T=n,_=a;return n=a=void 0,c=I,s=e.apply(_,T),s}function g(I){return c=I,o=setTimeout(y,t),u?p(I):s}function m(I){var T=I-l,_=I-c,S=t-T;return f?Cke(S,i-_):S}function v(I){var T=I-l,_=I-c;return l===void 0||T>=t||T<0||f&&_>=i}function y(){var I=tA();if(v(I))return b(I);o=setTimeout(y,m(I))}function b(I){return o=void 0,h&&n?p(I):(n=a=void 0,s)}function w(){o!==void 0&&clearTimeout(o),c=0,n=l=a=o=void 0}function D(){return o===void 0?s:b(tA())}function P(){var I=tA(),T=v(I);if(n=arguments,a=this,l=I,T){if(o===void 0)return g(l);if(f)return clearTimeout(o),o=setTimeout(y,t),p(l)}return o===void 0&&(o=setTimeout(y,t)),s}return P.cancel=w,P.flush=D,P}var Oke=Pke,Ike=Oke,jke=Gf,Dke="Expected a function";function Lke(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(Dke);return jke(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),Ike(e,t,{leading:n,maxWait:t,trailing:a})}var Mke=Lke;const eH=Cn(Mke);function Zv(e){"@babel/helpers - typeof";return Zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zv(e)}function wL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ax(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wL(Object(r),!0).forEach(function(n){Rke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rke(e,t,r){return t=Fke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fke(e){var t=$ke(e,"string");return Zv(t)=="symbol"?t:t+""}function $ke(e,t){if(Zv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bke(e,t){return qke(e)||zke(e,t)||Vke(e,t)||Uke()}function Uke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vke(e,t){if(e){if(typeof e=="string")return _L(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _L(e,t)}}function _L(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function qke(e){if(Array.isArray(e))return e}var Hg=B.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,s=i===void 0?"100%":i,o=e.height,l=o===void 0?"100%":o,c=e.minWidth,u=c===void 0?0:c,f=e.minHeight,h=e.maxHeight,p=e.children,g=e.debounce,m=g===void 0?0:g,v=e.id,y=e.className,b=e.onResize,w=e.style,D=w===void 0?{}:w,P=B.useRef(null),I=B.useRef();I.current=b,B.useImperativeHandle(t,function(){return Object.defineProperty(P.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),P.current},configurable:!0})});var T=B.useState({containerWidth:a.width,containerHeight:a.height}),_=Bke(T,2),S=_[0],j=_[1],E=B.useCallback(function(O,U){j(function(Y){var K=Math.round(O),J=Math.round(U);return Y.containerWidth===K&&Y.containerHeight===J?Y:{containerWidth:K,containerHeight:J}})},[]);B.useEffect(function(){var O=function(V){var ee,Z=V[0].contentRect,k=Z.width,R=Z.height;E(k,R),(ee=I.current)===null||ee===void 0||ee.call(I,k,R)};m>0&&(O=eH(O,m,{trailing:!0,leading:!1}));var U=new ResizeObserver(O),Y=P.current.getBoundingClientRect(),K=Y.width,J=Y.height;return E(K,J),U.observe(P.current),function(){U.disconnect()}},[E,m]);var N=B.useMemo(function(){var O=S.containerWidth,U=S.containerHeight;if(O<0||U<0)return null;Mc(jd(s)||jd(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),Mc(!r||r>0,"The aspect(%s) must be greater than zero.",r);var Y=jd(s)?O:s,K=jd(l)?U:l;r&&r>0&&(Y?K=Y/r:K&&(Y=K*r),h&&K>h&&(K=h)),Mc(Y>0||K>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Y,K,s,l,u,f,r);var J=!Array.isArray(p)&&Lc(p.type).endsWith("Chart");return $e.Children.map(p,function(z){return $e.isValidElement(z)?B.cloneElement(z,Ax({width:Y,height:K},J?{style:Ax({height:"100%",width:"100%",maxHeight:K,maxWidth:Y},z.props.style)}:{})):z})},[r,p,l,h,f,u,S,s]);return $e.createElement("div",{id:v?"".concat(v):void 0,className:ln("recharts-responsive-container",y),style:Ax(Ax({},D),{},{width:s,height:l,minWidth:u,minHeight:f,maxHeight:h}),ref:P},N)}),tH=function(t){return null};tH.displayName="Cell";function e1(e){"@babel/helpers - typeof";return e1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e1(e)}function SL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function i3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SL(Object(r),!0).forEach(function(n){Wke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wke(e,t,r){return t=Hke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hke(e){var t=Gke(e,"string");return e1(t)=="symbol"?t:t+""}function Gke(e,t){if(e1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(e1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yh={widthCache:{},cacheCount:0},Kke=2e3,Yke={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},AL="recharts_measurement_span";function Xke(e){var t=i3({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Gg=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Rc.isSsr)return{width:0,height:0};var n=Xke(r),a=JSON.stringify({text:t,copyStyle:n});if(Yh.widthCache[a])return Yh.widthCache[a];try{var i=document.getElementById(AL);i||(i=document.createElement("span"),i.setAttribute("id",AL),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=i3(i3({},Yke),n);Object.assign(i.style,s),i.textContent="".concat(t);var o=i.getBoundingClientRect(),l={width:o.width,height:o.height};return Yh.widthCache[a]=l,++Yh.cacheCount>Kke&&(Yh.cacheCount=0,Yh.widthCache={}),l}catch{return{width:0,height:0}}},Qke=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function t1(e){"@babel/helpers - typeof";return t1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t1(e)}function Bb(e,t){return tCe(e)||eCe(e,t)||Zke(e,t)||Jke()}function Jke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zke(e,t){if(e){if(typeof e=="string")return TL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TL(e,t)}}function TL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function tCe(e){if(Array.isArray(e))return e}function rCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aCe(n.key),n)}}function nCe(e,t,r){return t&&EL(e.prototype,t),r&&EL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function aCe(e){var t=iCe(e,"string");return t1(t)=="symbol"?t:t+""}function iCe(e,t){if(t1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(t1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var NL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,kL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,sCe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,oCe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,rH={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},lCe=Object.keys(rH),T0="NaN";function cCe(e,t){return e*rH[t]}var Tx=function(){function e(t,r){rCe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!sCe.test(r)&&(this.num=NaN,this.unit=""),lCe.includes(r)&&(this.num=cCe(t,r),this.unit="px")}return nCe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=oCe.exec(r))!==null&&n!==void 0?n:[],i=Bb(a,3),s=i[1],o=i[2];return new e(parseFloat(s),o??"")}}])}();function nH(e){if(e.includes(T0))return T0;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=NL.exec(t))!==null&&r!==void 0?r:[],a=Bb(n,4),i=a[1],s=a[2],o=a[3],l=Tx.parse(i??""),c=Tx.parse(o??""),u=s==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return T0;t=t.replace(NL,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=kL.exec(t))!==null&&f!==void 0?f:[],p=Bb(h,4),g=p[1],m=p[2],v=p[3],y=Tx.parse(g??""),b=Tx.parse(v??""),w=m==="+"?y.add(b):y.subtract(b);if(w.isNaN())return T0;t=t.replace(kL,w.toString())}return t}var CL=/\(([^()]*)\)/;function uCe(e){for(var t=e;t.includes("(");){var r=CL.exec(t),n=Bb(r,2),a=n[1];t=t.replace(CL,nH(a))}return t}function fCe(e){var t=e.replace(/\s+/g,"");return t=uCe(t),t=nH(t),t}function dCe(e){try{return fCe(e)}catch{return T0}}function rA(e){var t=dCe(e.slice(5,-1));return t===T0?"":t}var hCe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],pCe=["dx","dy","angle","className","breakAll"];function s3(){return s3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s3.apply(this,arguments)}function PL(e,t){if(e==null)return{};var r=mCe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function OL(e,t){return xCe(e)||yCe(e,t)||vCe(e,t)||gCe()}function gCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vCe(e,t){if(e){if(typeof e=="string")return IL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IL(e,t)}}function IL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function xCe(e){if(Array.isArray(e))return e}var aH=/[ \f\n\r\t\v\u2028\u2029]+/,iH=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];Kr(r)||(n?i=r.toString().split(""):i=r.toString().split(aH));var s=i.map(function(l){return{word:l,width:Gg(l,a).width}}),o=n?0:Gg(" ",a).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},bCe=function(t,r,n,a,i){var s=t.maxLines,o=t.children,l=t.style,c=t.breakAll,u=Ft(s),f=o,h=function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Y.reduce(function(K,J){var z=J.word,V=J.width,ee=K[K.length-1];if(ee&&(a==null||i||ee.width+V+n<Number(a)))ee.words.push(z),ee.width+=V+n;else{var Z={words:[z],width:V};K.push(Z)}return K},[])},p=h(r),g=function(Y){return Y.reduce(function(K,J){return K.width>J.width?K:J})};if(!u)return p;for(var m="…",v=function(Y){var K=f.slice(0,Y),J=iH({breakAll:c,style:l,children:K+m}).wordsWithComputedWidth,z=h(J),V=z.length>s||g(z).width>Number(a);return[V,z]},y=0,b=f.length-1,w=0,D;y<=b&&w<=f.length-1;){var P=Math.floor((y+b)/2),I=P-1,T=v(I),_=OL(T,2),S=_[0],j=_[1],E=v(P),N=OL(E,1),O=N[0];if(!S&&!O&&(y=P+1),S&&O&&(b=P-1),!S&&O){D=j;break}w++}return D||p},jL=function(t){var r=Kr(t)?[]:t.toString().split(aH);return[{words:r}]},wCe=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,s=t.breakAll,o=t.maxLines;if((r||n)&&!Rc.isSsr){var l,c,u=iH({breakAll:s,children:a,style:i});if(u){var f=u.wordsWithComputedWidth,h=u.spaceWidth;l=f,c=h}else return jL(a);return bCe({breakAll:s,children:a,maxLines:o,style:i},l,c,r,n)}return jL(a)},DL="#808080",Ub=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.lineHeight,o=s===void 0?"1em":s,l=t.capHeight,c=l===void 0?"0.71em":l,u=t.scaleToFit,f=u===void 0?!1:u,h=t.textAnchor,p=h===void 0?"start":h,g=t.verticalAnchor,m=g===void 0?"end":g,v=t.fill,y=v===void 0?DL:v,b=PL(t,hCe),w=B.useMemo(function(){return wCe({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),D=b.dx,P=b.dy,I=b.angle,T=b.className,_=b.breakAll,S=PL(b,pCe);if(!Ua(n)||!Ua(i))return null;var j=n+(Ft(D)?D:0),E=i+(Ft(P)?P:0),N;switch(m){case"start":N=rA("calc(".concat(c,")"));break;case"middle":N=rA("calc(".concat((w.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:N=rA("calc(".concat(w.length-1," * -").concat(o,")"));break}var O=[];if(f){var U=w[0].width,Y=b.width;O.push("scale(".concat((Ft(Y)?Y/U:1)/U,")"))}return I&&O.push("rotate(".concat(I,", ").concat(j,", ").concat(E,")")),O.length&&(S.transform=O.join(" ")),$e.createElement("text",s3({},Xr(S,!0),{x:j,y:E,className:ln("recharts-text",T),textAnchor:p,fill:y.includes("url")?DL:y}),w.map(function(K,J){var z=K.words.join(_?"":" ");return $e.createElement("tspan",{x:j,dy:J===0?N:o,key:"".concat(z,"-").concat(J)},z)}))};function Sf(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function _Ce(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function zC(e){let t,r,n;e.length!==2?(t=Sf,r=(o,l)=>Sf(e(o),l),n=(o,l)=>e(o)-l):(t=e===Sf||e===_Ce?e:SCe,r=e,n=e);function a(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<0?c=f+1:u=f}while(c<u)}return c}function i(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function s(o,l,c=0,u=o.length){const f=a(o,l,c,u-1);return f>c&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:a,center:s,right:i}}function SCe(){return 0}function sH(e){return e===null?NaN:+e}function*ACe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const TCe=zC(Sf),ly=TCe.right;zC(sH).center;class LL extends Map{constructor(t,r=kCe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(ML(this,t))}has(t){return super.has(ML(this,t))}set(t,r){return super.set(ECe(this,t),r)}delete(t){return super.delete(NCe(this,t))}}function ML({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function ECe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function NCe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function kCe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function CCe(e=Sf){if(e===Sf)return oH;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function oH(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const PCe=Math.sqrt(50),OCe=Math.sqrt(10),ICe=Math.sqrt(2);function Vb(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=PCe?10:i>=OCe?5:i>=ICe?2:1;let o,l,c;return a<0?(c=Math.pow(10,-a)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=r&&r<2?Vb(e,t,r*2):[o,l,c]}function o3(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?Vb(t,e,r):Vb(e,t,r);if(!(i>=a))return[];const o=i-a+1,l=new Array(o);if(n)if(s<0)for(let c=0;c<o;++c)l[c]=(i-c)/-s;else for(let c=0;c<o;++c)l[c]=(i-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(a+c)/-s;else for(let c=0;c<o;++c)l[c]=(a+c)*s;return l}function l3(e,t,r){return t=+t,e=+e,r=+r,Vb(e,t,r)[2]}function c3(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?l3(t,e,r):l3(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function RL(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function FL(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function lH(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?oH:CCe(a);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,u=Math.log(l),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(t-c*f/l+h)),g=Math.min(n,Math.floor(t+(l-c)*f/l+h));lH(e,t,p,g,a)}const i=e[t];let s=r,o=n;for(Wm(e,r,t),a(e[n],i)>0&&Wm(e,r,n);s<o;){for(Wm(e,s,o),++s,--o;a(e[s],i)<0;)++s;for(;a(e[o],i)>0;)--o}a(e[r],i)===0?Wm(e,r,o):(++o,Wm(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function Wm(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function jCe(e,t,r){if(e=Float64Array.from(ACe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return FL(e);if(t>=1)return RL(e);var n,a=(n-1)*t,i=Math.floor(a),s=RL(lH(e,i).subarray(0,i+1)),o=FL(e.subarray(i+1));return s+(o-s)*(a-i)}}function DCe(e,t,r=sH){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),o=+r(e[i+1],i+1,e);return s+(o-s)*(a-i)}}function LCe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Ro(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function uu(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const u3=Symbol("implicit");function qC(){var e=new LL,t=[],r=[],n=u3;function a(i){let s=e.get(i);if(s===void 0){if(n!==u3)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new LL;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return qC(t,r).unknown(n)},Ro.apply(a,arguments),a}function r1(){var e=qC().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,o=!1,l=0,c=0,u=.5;delete e.unknown;function f(){var h=t().length,p=a<n,g=p?a:n,m=p?n:a;i=(m-g)/Math.max(1,h-l+c*2),o&&(i=Math.floor(i)),g+=(m-g-i*(h-l))*u,s=i*(1-l),o&&(g=Math.round(g),s=Math.round(s));var v=LCe(h).map(function(y){return g+i*y});return r(p?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},e.copy=function(){return r1(t(),[n,a]).round(o).paddingInner(l).paddingOuter(c).align(u)},Ro.apply(f(),arguments)}function cH(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return cH(t())},e}function Kg(){return cH(r1.apply(null,arguments).paddingInner(1))}function WC(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function uH(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function cy(){}var n1=.7,zb=1/n1,U0="\\s*([+-]?\\d+)\\s*",a1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",MCe=/^#([0-9a-f]{3,8})$/,RCe=new RegExp(`^rgb\\(${U0},${U0},${U0}\\)$`),FCe=new RegExp(`^rgb\\(${Yl},${Yl},${Yl}\\)$`),$Ce=new RegExp(`^rgba\\(${U0},${U0},${U0},${a1}\\)$`),BCe=new RegExp(`^rgba\\(${Yl},${Yl},${Yl},${a1}\\)$`),UCe=new RegExp(`^hsl\\(${a1},${Yl},${Yl}\\)$`),VCe=new RegExp(`^hsla\\(${a1},${Yl},${Yl},${a1}\\)$`),$L={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};WC(cy,i1,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:BL,formatHex:BL,formatHex8:zCe,formatHsl:qCe,formatRgb:UL,toString:UL});function BL(){return this.rgb().formatHex()}function zCe(){return this.rgb().formatHex8()}function qCe(){return fH(this).formatHsl()}function UL(){return this.rgb().formatRgb()}function i1(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=MCe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?VL(t):r===3?new Cs(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Ex(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Ex(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=RCe.exec(e))?new Cs(t[1],t[2],t[3],1):(t=FCe.exec(e))?new Cs(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=$Ce.exec(e))?Ex(t[1],t[2],t[3],t[4]):(t=BCe.exec(e))?Ex(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=UCe.exec(e))?WL(t[1],t[2]/100,t[3]/100,1):(t=VCe.exec(e))?WL(t[1],t[2]/100,t[3]/100,t[4]):$L.hasOwnProperty(e)?VL($L[e]):e==="transparent"?new Cs(NaN,NaN,NaN,0):null}function VL(e){return new Cs(e>>16&255,e>>8&255,e&255,1)}function Ex(e,t,r,n){return n<=0&&(e=t=r=NaN),new Cs(e,t,r,n)}function WCe(e){return e instanceof cy||(e=i1(e)),e?(e=e.rgb(),new Cs(e.r,e.g,e.b,e.opacity)):new Cs}function f3(e,t,r,n){return arguments.length===1?WCe(e):new Cs(e,t,r,n??1)}function Cs(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}WC(Cs,f3,uH(cy,{brighter(e){return e=e==null?zb:Math.pow(zb,e),new Cs(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?n1:Math.pow(n1,e),new Cs(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Cs(zd(this.r),zd(this.g),zd(this.b),qb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:zL,formatHex:zL,formatHex8:HCe,formatRgb:qL,toString:qL}));function zL(){return`#${Dd(this.r)}${Dd(this.g)}${Dd(this.b)}`}function HCe(){return`#${Dd(this.r)}${Dd(this.g)}${Dd(this.b)}${Dd((isNaN(this.opacity)?1:this.opacity)*255)}`}function qL(){const e=qb(this.opacity);return`${e===1?"rgb(":"rgba("}${zd(this.r)}, ${zd(this.g)}, ${zd(this.b)}${e===1?")":`, ${e})`}`}function qb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function zd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Dd(e){return e=zd(e),(e<16?"0":"")+e.toString(16)}function WL(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new cl(e,t,r,n)}function fH(e){if(e instanceof cl)return new cl(e.h,e.s,e.l,e.opacity);if(e instanceof cy||(e=i1(e)),!e)return new cl;if(e instanceof cl)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,o=i-a,l=(i+a)/2;return o?(t===i?s=(r-n)/o+(r<n)*6:r===i?s=(n-t)/o+2:s=(t-r)/o+4,o/=l<.5?i+a:2-i-a,s*=60):o=l>0&&l<1?0:s,new cl(s,o,l,e.opacity)}function GCe(e,t,r,n){return arguments.length===1?fH(e):new cl(e,t,r,n??1)}function cl(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}WC(cl,GCe,uH(cy,{brighter(e){return e=e==null?zb:Math.pow(zb,e),new cl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?n1:Math.pow(n1,e),new cl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Cs(nA(e>=240?e-240:e+120,a,n),nA(e,a,n),nA(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new cl(HL(this.h),Nx(this.s),Nx(this.l),qb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=qb(this.opacity);return`${e===1?"hsl(":"hsla("}${HL(this.h)}, ${Nx(this.s)*100}%, ${Nx(this.l)*100}%${e===1?")":`, ${e})`}`}}));function HL(e){return e=(e||0)%360,e<0?e+360:e}function Nx(e){return Math.max(0,Math.min(1,e||0))}function nA(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const HC=e=>()=>e;function KCe(e,t){return function(r){return e+r*t}}function YCe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function XCe(e){return(e=+e)==1?dH:function(t,r){return r-t?YCe(t,r,e):HC(isNaN(t)?r:t)}}function dH(e,t){var r=t-e;return r?KCe(e,r):HC(isNaN(e)?t:e)}const GL=function e(t){var r=XCe(t);function n(a,i){var s=r((a=f3(a)).r,(i=f3(i)).r),o=r(a.g,i.g),l=r(a.b,i.b),c=dH(a.opacity,i.opacity);return function(u){return a.r=s(u),a.g=o(u),a.b=l(u),a.opacity=c(u),a+""}}return n.gamma=e,n}(1);function QCe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function JCe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function ZCe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=um(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(o){for(s=0;s<n;++s)i[s]=a[s](o);return i}}function ePe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Wb(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function tPe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=um(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var d3=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,aA=new RegExp(d3.source,"g");function rPe(e){return function(){return e}}function nPe(e){return function(t){return e(t)+""}}function aPe(e,t){var r=d3.lastIndex=aA.lastIndex=0,n,a,i,s=-1,o=[],l=[];for(e=e+"",t=t+"";(n=d3.exec(e))&&(a=aA.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,l.push({i:s,x:Wb(n,a)})),r=aA.lastIndex;return r<t.length&&(i=t.slice(r),o[s]?o[s]+=i:o[++s]=i),o.length<2?l[0]?nPe(l[0].x):rPe(t):(t=l.length,function(c){for(var u=0,f;u<t;++u)o[(f=l[u]).i]=f.x(c);return o.join("")})}function um(e,t){var r=typeof t,n;return t==null||r==="boolean"?HC(t):(r==="number"?Wb:r==="string"?(n=i1(t))?(t=n,GL):aPe:t instanceof i1?GL:t instanceof Date?ePe:JCe(t)?QCe:Array.isArray(t)?ZCe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?tPe:Wb)(e,t)}function GC(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function iPe(e,t){t===void 0&&(t=e,e=um);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[o](s-o)}}function sPe(e){return function(){return e}}function Hb(e){return+e}var KL=[0,1];function us(e){return e}function h3(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:sPe(isNaN(t)?NaN:.5)}function oPe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function lPe(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=h3(a,n),i=r(s,i)):(n=h3(n,a),i=r(i,s)),function(o){return i(n(o))}}function cPe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=h3(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(o){var l=ly(e,o,1,n)-1;return i[l](a[l](o))}}function uy(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function H5(){var e=KL,t=KL,r=um,n,a,i,s=us,o,l,c;function u(){var h=Math.min(e.length,t.length);return s!==us&&(s=oPe(e[0],e[h-1])),o=h>2?cPe:lPe,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?i:(l||(l=o(e.map(n),t,r)))(n(s(h)))}return f.invert=function(h){return s(a((c||(c=o(t,e.map(n),Wb)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Hb),u()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=GC,u()},f.clamp=function(h){return arguments.length?(s=h?!0:us,u()):s!==us},f.interpolate=function(h){return arguments.length?(r=h,u()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,a=p,u()}}function KC(){return H5()(us,us)}function uPe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Gb(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function bp(e){return e=Gb(Math.abs(e)),e?e[1]:NaN}function fPe(e,t){return function(r,n){for(var a=r.length,i=[],s=0,o=e[0],l=0;a>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),i.push(r.substring(a-=o,a+o)),!((l+=o+1)>n));)o=e[s=(s+1)%e.length];return i.reverse().join(t)}}function dPe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var hPe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function s1(e){if(!(t=hPe.exec(e)))throw new Error("invalid format: "+e);var t;return new YC({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}s1.prototype=YC.prototype;function YC(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}YC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function pPe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var hH;function mPe(e,t){var r=Gb(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(hH=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Gb(e,Math.max(0,t+i-1))[0]}function YL(e,t){var r=Gb(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const XL={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:uPe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>YL(e*100,t),r:YL,s:mPe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function QL(e){return e}var JL=Array.prototype.map,ZL=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function gPe(e){var t=e.grouping===void 0||e.thousands===void 0?QL:fPe(JL.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?QL:dPe(JL.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=s1(f);var h=f.fill,p=f.align,g=f.sign,m=f.symbol,v=f.zero,y=f.width,b=f.comma,w=f.precision,D=f.trim,P=f.type;P==="n"?(b=!0,P="g"):XL[P]||(w===void 0&&(w=12),D=!0,P="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var I=m==="$"?r:m==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",T=m==="$"?n:/[%p]/.test(P)?s:"",_=XL[P],S=/[defgprs%]/.test(P);w=w===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function j(E){var N=I,O=T,U,Y,K;if(P==="c")O=_(E)+O,E="";else{E=+E;var J=E<0||1/E<0;if(E=isNaN(E)?l:_(Math.abs(E),w),D&&(E=pPe(E)),J&&+E==0&&g!=="+"&&(J=!1),N=(J?g==="("?g:o:g==="-"||g==="("?"":g)+N,O=(P==="s"?ZL[8+hH/3]:"")+O+(J&&g==="("?")":""),S){for(U=-1,Y=E.length;++U<Y;)if(K=E.charCodeAt(U),48>K||K>57){O=(K===46?a+E.slice(U+1):E.slice(U))+O,E=E.slice(0,U);break}}}b&&!v&&(E=t(E,1/0));var z=N.length+E.length+O.length,V=z<y?new Array(y-z+1).join(h):"";switch(b&&v&&(E=t(V+E,V.length?y-O.length:1/0),V=""),p){case"<":E=N+E+O+V;break;case"=":E=N+V+E+O;break;case"^":E=V.slice(0,z=V.length>>1)+N+E+O+V.slice(z);break;default:E=V+N+E+O;break}return i(E)}return j.toString=function(){return f+""},j}function u(f,h){var p=c((f=s1(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(bp(h)/3)))*3,m=Math.pow(10,-g),v=ZL[8+g/3];return function(y){return p(m*y)+v}}return{format:c,formatPrefix:u}}var kx,XC,pH;vPe({thousands:",",grouping:[3],currency:["$",""]});function vPe(e){return kx=gPe(e),XC=kx.format,pH=kx.formatPrefix,kx}function yPe(e){return Math.max(0,-bp(Math.abs(e)))}function xPe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(bp(t)/3)))*3-bp(Math.abs(e)))}function bPe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,bp(t)-bp(e))+1}function mH(e,t,r,n){var a=c3(e,t,r),i;switch(n=s1(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=xPe(a,s))&&(n.precision=i),pH(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=bPe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=yPe(a))&&(n.precision=i-(n.type==="%")*2);break}}return XC(n)}function Yf(e){var t=e.domain;return e.ticks=function(r){var n=t();return o3(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return mH(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],o=n[i],l,c,u=10;for(o<s&&(c=s,s=o,o=c,c=a,a=i,i=c);u-- >0;){if(c=l3(s,o,r),c===l)return n[a]=s,n[i]=o,t(n);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return e},e}function Kb(){var e=KC();return e.copy=function(){return uy(e,Kb())},Ro.apply(e,arguments),Yf(e)}function gH(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Hb),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return gH(e).unknown(t)},e=arguments.length?Array.from(e,Hb):[0,1],Yf(r)}function vH(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function eM(e){return Math.log(e)}function tM(e){return Math.exp(e)}function wPe(e){return-Math.log(-e)}function _Pe(e){return-Math.exp(-e)}function SPe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function APe(e){return e===10?SPe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function TPe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function rM(e){return(t,r)=>-e(-t,r)}function QC(e){const t=e(eM,tM),r=t.domain;let n=10,a,i;function s(){return a=TPe(n),i=APe(n),r()[0]<0?(a=rM(a),i=rM(i),e(wPe,_Pe)):e(eM,tM),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const l=r();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let h=a(c),p=a(u),g,m;const v=o==null?10:+o;let y=[];if(!(n%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(g=1;g<n;++g)if(m=h<0?g/i(-h):g*i(h),!(m<c)){if(m>u)break;y.push(m)}}else for(;h<=p;++h)for(g=n-1;g>=1;--g)if(m=h>0?g/i(-h):g*i(h),!(m<c)){if(m>u)break;y.push(m)}y.length*2<v&&(y=o3(c,u,v))}else y=o3(h,p,Math.min(p-h,v)).map(i);return f?y.reverse():y},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=s1(l)).precision==null&&(l.trim=!0),l=XC(l)),o===1/0)return l;const c=Math.max(1,n*o/t.ticks().length);return u=>{let f=u/i(Math.round(a(u)));return f*n<n-.5&&(f*=n),f<=c?l(u):""}},t.nice=()=>r(vH(r(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),t}function yH(){const e=QC(H5()).domain([1,10]);return e.copy=()=>uy(e,yH()).base(e.base()),Ro.apply(e,arguments),e}function nM(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function aM(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function JC(e){var t=1,r=e(nM(t),aM(t));return r.constant=function(n){return arguments.length?e(nM(t=+n),aM(t)):t},Yf(r)}function xH(){var e=JC(H5());return e.copy=function(){return uy(e,xH()).constant(e.constant())},Ro.apply(e,arguments)}function iM(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function EPe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function NPe(e){return e<0?-e*e:e*e}function ZC(e){var t=e(us,us),r=1;function n(){return r===1?e(us,us):r===.5?e(EPe,NPe):e(iM(r),iM(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Yf(t)}function eP(){var e=ZC(H5());return e.copy=function(){return uy(e,eP()).exponent(e.exponent())},Ro.apply(e,arguments),e}function kPe(){return eP.apply(null,arguments).exponent(.5)}function sM(e){return Math.sign(e)*e*e}function CPe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function bH(){var e=KC(),t=[0,1],r=!1,n;function a(i){var s=CPe(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert(sM(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Hb)).map(sM)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return bH(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ro.apply(a,arguments),Yf(a)}function wH(){var e=[],t=[],r=[],n;function a(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=DCe(e,s/o);return i}function i(s){return s==null||isNaN(s=+s)?n:t[ly(r,s)]}return i.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Sf),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return wH().domain(e).range(t).unknown(n)},Ro.apply(i,arguments)}function _H(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(l){return l!=null&&l<=l?a[ly(n,l,0,r)]:i}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,o()):a.slice()},s.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},s.unknown=function(l){return arguments.length&&(i=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return _H().domain([e,t]).range(a).unknown(i)},Ro.apply(Yf(s),arguments)}function SH(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[ly(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return SH().domain(e).range(t).unknown(r)},Ro.apply(a,arguments)}const iA=new Date,sA=new Date;function qa(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),o=a.ceil(i);return i-s<o-i?s:o},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,o)=>{const l=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return l;let c;do l.push(c=new Date(+i)),t(i,o),e(i);while(c<i&&i<s);return l},a.filter=i=>qa(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!i(s););else for(;--o>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(iA.setTime(+i),sA.setTime(+s),e(iA),e(sA),Math.floor(r(iA,sA))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const Yb=qa(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Yb.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?qa(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Yb);Yb.range;const kc=1e3,Ao=kc*60,Cc=Ao*60,Jc=Cc*24,tP=Jc*7,oM=Jc*30,oA=Jc*365,Ld=qa(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*kc)},(e,t)=>(t-e)/kc,e=>e.getUTCSeconds());Ld.range;const rP=qa(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*kc)},(e,t)=>{e.setTime(+e+t*Ao)},(e,t)=>(t-e)/Ao,e=>e.getMinutes());rP.range;const nP=qa(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ao)},(e,t)=>(t-e)/Ao,e=>e.getUTCMinutes());nP.range;const aP=qa(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*kc-e.getMinutes()*Ao)},(e,t)=>{e.setTime(+e+t*Cc)},(e,t)=>(t-e)/Cc,e=>e.getHours());aP.range;const iP=qa(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Cc)},(e,t)=>(t-e)/Cc,e=>e.getUTCHours());iP.range;const fy=qa(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ao)/Jc,e=>e.getDate()-1);fy.range;const G5=qa(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Jc,e=>e.getUTCDate()-1);G5.range;const AH=qa(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Jc,e=>Math.floor(e/Jc));AH.range;function Sh(e){return qa(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ao)/tP)}const K5=Sh(0),Xb=Sh(1),PPe=Sh(2),OPe=Sh(3),wp=Sh(4),IPe=Sh(5),jPe=Sh(6);K5.range;Xb.range;PPe.range;OPe.range;wp.range;IPe.range;jPe.range;function Ah(e){return qa(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/tP)}const Y5=Ah(0),Qb=Ah(1),DPe=Ah(2),LPe=Ah(3),_p=Ah(4),MPe=Ah(5),RPe=Ah(6);Y5.range;Qb.range;DPe.range;LPe.range;_p.range;MPe.range;RPe.range;const sP=qa(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());sP.range;const oP=qa(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());oP.range;const Zc=qa(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Zc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:qa(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Zc.range;const eu=qa(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());eu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:qa(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});eu.range;function TH(e,t,r,n,a,i){const s=[[Ld,1,kc],[Ld,5,5*kc],[Ld,15,15*kc],[Ld,30,30*kc],[i,1,Ao],[i,5,5*Ao],[i,15,15*Ao],[i,30,30*Ao],[a,1,Cc],[a,3,3*Cc],[a,6,6*Cc],[a,12,12*Cc],[n,1,Jc],[n,2,2*Jc],[r,1,tP],[t,1,oM],[t,3,3*oM],[e,1,oA]];function o(c,u,f){const h=u<c;h&&([c,u]=[u,c]);const p=f&&typeof f.range=="function"?f:l(c,u,f),g=p?p.range(c,+u+1):[];return h?g.reverse():g}function l(c,u,f){const h=Math.abs(u-c)/f,p=zC(([,,v])=>v).right(s,h);if(p===s.length)return e.every(c3(c/oA,u/oA,f));if(p===0)return Yb.every(Math.max(c3(c,u,f),1));const[g,m]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return g.every(m)}return[o,l]}const[FPe,$Pe]=TH(eu,oP,Y5,AH,iP,nP),[BPe,UPe]=TH(Zc,sP,K5,fy,aP,rP);function lA(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function cA(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Hm(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function VPe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=Gm(a),u=Km(a),f=Gm(i),h=Km(i),p=Gm(s),g=Km(s),m=Gm(o),v=Km(o),y=Gm(l),b=Km(l),w={a:J,A:z,b:V,B:ee,c:null,d:hM,e:hM,f:f6e,g:w6e,G:S6e,H:l6e,I:c6e,j:u6e,L:EH,m:d6e,M:h6e,p:Z,q:k,Q:gM,s:vM,S:p6e,u:m6e,U:g6e,V:v6e,w:y6e,W:x6e,x:null,X:null,y:b6e,Y:_6e,Z:A6e,"%":mM},D={a:R,A:q,b:G,B:Q,c:null,d:pM,e:pM,f:k6e,g:F6e,G:B6e,H:T6e,I:E6e,j:N6e,L:kH,m:C6e,M:P6e,p:ie,q:ue,Q:gM,s:vM,S:O6e,u:I6e,U:j6e,V:D6e,w:L6e,W:M6e,x:null,X:null,y:R6e,Y:$6e,Z:U6e,"%":mM},P={a:j,A:E,b:N,B:O,c:U,d:fM,e:fM,f:a6e,g:uM,G:cM,H:dM,I:dM,j:e6e,L:n6e,m:ZPe,M:t6e,p:S,q:JPe,Q:s6e,s:o6e,S:r6e,u:GPe,U:KPe,V:YPe,w:HPe,W:XPe,x:Y,X:K,y:uM,Y:cM,Z:QPe,"%":i6e};w.x=I(r,w),w.X=I(n,w),w.c=I(t,w),D.x=I(r,D),D.X=I(n,D),D.c=I(t,D);function I(ne,pe){return function(ye){var W=[],Pe=-1,Ce=0,Ee=ne.length,oe,ve,De;for(ye instanceof Date||(ye=new Date(+ye));++Pe<Ee;)ne.charCodeAt(Pe)===37&&(W.push(ne.slice(Ce,Pe)),(ve=lM[oe=ne.charAt(++Pe)])!=null?oe=ne.charAt(++Pe):ve=oe==="e"?" ":"0",(De=pe[oe])&&(oe=De(ye,ve)),W.push(oe),Ce=Pe+1);return W.push(ne.slice(Ce,Pe)),W.join("")}}function T(ne,pe){return function(ye){var W=Hm(1900,void 0,1),Pe=_(W,ne,ye+="",0),Ce,Ee;if(Pe!=ye.length)return null;if("Q"in W)return new Date(W.Q);if("s"in W)return new Date(W.s*1e3+("L"in W?W.L:0));if(pe&&!("Z"in W)&&(W.Z=0),"p"in W&&(W.H=W.H%12+W.p*12),W.m===void 0&&(W.m="q"in W?W.q:0),"V"in W){if(W.V<1||W.V>53)return null;"w"in W||(W.w=1),"Z"in W?(Ce=cA(Hm(W.y,0,1)),Ee=Ce.getUTCDay(),Ce=Ee>4||Ee===0?Qb.ceil(Ce):Qb(Ce),Ce=G5.offset(Ce,(W.V-1)*7),W.y=Ce.getUTCFullYear(),W.m=Ce.getUTCMonth(),W.d=Ce.getUTCDate()+(W.w+6)%7):(Ce=lA(Hm(W.y,0,1)),Ee=Ce.getDay(),Ce=Ee>4||Ee===0?Xb.ceil(Ce):Xb(Ce),Ce=fy.offset(Ce,(W.V-1)*7),W.y=Ce.getFullYear(),W.m=Ce.getMonth(),W.d=Ce.getDate()+(W.w+6)%7)}else("W"in W||"U"in W)&&("w"in W||(W.w="u"in W?W.u%7:"W"in W?1:0),Ee="Z"in W?cA(Hm(W.y,0,1)).getUTCDay():lA(Hm(W.y,0,1)).getDay(),W.m=0,W.d="W"in W?(W.w+6)%7+W.W*7-(Ee+5)%7:W.w+W.U*7-(Ee+6)%7);return"Z"in W?(W.H+=W.Z/100|0,W.M+=W.Z%100,cA(W)):lA(W)}}function _(ne,pe,ye,W){for(var Pe=0,Ce=pe.length,Ee=ye.length,oe,ve;Pe<Ce;){if(W>=Ee)return-1;if(oe=pe.charCodeAt(Pe++),oe===37){if(oe=pe.charAt(Pe++),ve=P[oe in lM?pe.charAt(Pe++):oe],!ve||(W=ve(ne,ye,W))<0)return-1}else if(oe!=ye.charCodeAt(W++))return-1}return W}function S(ne,pe,ye){var W=c.exec(pe.slice(ye));return W?(ne.p=u.get(W[0].toLowerCase()),ye+W[0].length):-1}function j(ne,pe,ye){var W=p.exec(pe.slice(ye));return W?(ne.w=g.get(W[0].toLowerCase()),ye+W[0].length):-1}function E(ne,pe,ye){var W=f.exec(pe.slice(ye));return W?(ne.w=h.get(W[0].toLowerCase()),ye+W[0].length):-1}function N(ne,pe,ye){var W=y.exec(pe.slice(ye));return W?(ne.m=b.get(W[0].toLowerCase()),ye+W[0].length):-1}function O(ne,pe,ye){var W=m.exec(pe.slice(ye));return W?(ne.m=v.get(W[0].toLowerCase()),ye+W[0].length):-1}function U(ne,pe,ye){return _(ne,t,pe,ye)}function Y(ne,pe,ye){return _(ne,r,pe,ye)}function K(ne,pe,ye){return _(ne,n,pe,ye)}function J(ne){return s[ne.getDay()]}function z(ne){return i[ne.getDay()]}function V(ne){return l[ne.getMonth()]}function ee(ne){return o[ne.getMonth()]}function Z(ne){return a[+(ne.getHours()>=12)]}function k(ne){return 1+~~(ne.getMonth()/3)}function R(ne){return s[ne.getUTCDay()]}function q(ne){return i[ne.getUTCDay()]}function G(ne){return l[ne.getUTCMonth()]}function Q(ne){return o[ne.getUTCMonth()]}function ie(ne){return a[+(ne.getUTCHours()>=12)]}function ue(ne){return 1+~~(ne.getUTCMonth()/3)}return{format:function(ne){var pe=I(ne+="",w);return pe.toString=function(){return ne},pe},parse:function(ne){var pe=T(ne+="",!1);return pe.toString=function(){return ne},pe},utcFormat:function(ne){var pe=I(ne+="",D);return pe.toString=function(){return ne},pe},utcParse:function(ne){var pe=T(ne+="",!0);return pe.toString=function(){return ne},pe}}}var lM={"-":"",_:" ",0:"0"},ai=/^\s*\d+/,zPe=/^%/,qPe=/[\\^$*+?|[\]().{}]/g;function cn(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function WPe(e){return e.replace(qPe,"\\$&")}function Gm(e){return new RegExp("^(?:"+e.map(WPe).join("|")+")","i")}function Km(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function HPe(e,t,r){var n=ai.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function GPe(e,t,r){var n=ai.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function KPe(e,t,r){var n=ai.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function YPe(e,t,r){var n=ai.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function XPe(e,t,r){var n=ai.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function cM(e,t,r){var n=ai.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function uM(e,t,r){var n=ai.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function QPe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function JPe(e,t,r){var n=ai.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function ZPe(e,t,r){var n=ai.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function fM(e,t,r){var n=ai.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function e6e(e,t,r){var n=ai.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function dM(e,t,r){var n=ai.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function t6e(e,t,r){var n=ai.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function r6e(e,t,r){var n=ai.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function n6e(e,t,r){var n=ai.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function a6e(e,t,r){var n=ai.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function i6e(e,t,r){var n=zPe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function s6e(e,t,r){var n=ai.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function o6e(e,t,r){var n=ai.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function hM(e,t){return cn(e.getDate(),t,2)}function l6e(e,t){return cn(e.getHours(),t,2)}function c6e(e,t){return cn(e.getHours()%12||12,t,2)}function u6e(e,t){return cn(1+fy.count(Zc(e),e),t,3)}function EH(e,t){return cn(e.getMilliseconds(),t,3)}function f6e(e,t){return EH(e,t)+"000"}function d6e(e,t){return cn(e.getMonth()+1,t,2)}function h6e(e,t){return cn(e.getMinutes(),t,2)}function p6e(e,t){return cn(e.getSeconds(),t,2)}function m6e(e){var t=e.getDay();return t===0?7:t}function g6e(e,t){return cn(K5.count(Zc(e)-1,e),t,2)}function NH(e){var t=e.getDay();return t>=4||t===0?wp(e):wp.ceil(e)}function v6e(e,t){return e=NH(e),cn(wp.count(Zc(e),e)+(Zc(e).getDay()===4),t,2)}function y6e(e){return e.getDay()}function x6e(e,t){return cn(Xb.count(Zc(e)-1,e),t,2)}function b6e(e,t){return cn(e.getFullYear()%100,t,2)}function w6e(e,t){return e=NH(e),cn(e.getFullYear()%100,t,2)}function _6e(e,t){return cn(e.getFullYear()%1e4,t,4)}function S6e(e,t){var r=e.getDay();return e=r>=4||r===0?wp(e):wp.ceil(e),cn(e.getFullYear()%1e4,t,4)}function A6e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+cn(t/60|0,"0",2)+cn(t%60,"0",2)}function pM(e,t){return cn(e.getUTCDate(),t,2)}function T6e(e,t){return cn(e.getUTCHours(),t,2)}function E6e(e,t){return cn(e.getUTCHours()%12||12,t,2)}function N6e(e,t){return cn(1+G5.count(eu(e),e),t,3)}function kH(e,t){return cn(e.getUTCMilliseconds(),t,3)}function k6e(e,t){return kH(e,t)+"000"}function C6e(e,t){return cn(e.getUTCMonth()+1,t,2)}function P6e(e,t){return cn(e.getUTCMinutes(),t,2)}function O6e(e,t){return cn(e.getUTCSeconds(),t,2)}function I6e(e){var t=e.getUTCDay();return t===0?7:t}function j6e(e,t){return cn(Y5.count(eu(e)-1,e),t,2)}function CH(e){var t=e.getUTCDay();return t>=4||t===0?_p(e):_p.ceil(e)}function D6e(e,t){return e=CH(e),cn(_p.count(eu(e),e)+(eu(e).getUTCDay()===4),t,2)}function L6e(e){return e.getUTCDay()}function M6e(e,t){return cn(Qb.count(eu(e)-1,e),t,2)}function R6e(e,t){return cn(e.getUTCFullYear()%100,t,2)}function F6e(e,t){return e=CH(e),cn(e.getUTCFullYear()%100,t,2)}function $6e(e,t){return cn(e.getUTCFullYear()%1e4,t,4)}function B6e(e,t){var r=e.getUTCDay();return e=r>=4||r===0?_p(e):_p.ceil(e),cn(e.getUTCFullYear()%1e4,t,4)}function U6e(){return"+0000"}function mM(){return"%"}function gM(e){return+e}function vM(e){return Math.floor(+e/1e3)}var Xh,PH,OH;V6e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function V6e(e){return Xh=VPe(e),PH=Xh.format,Xh.parse,OH=Xh.utcFormat,Xh.utcParse,Xh}function z6e(e){return new Date(e)}function q6e(e){return e instanceof Date?+e:+new Date(+e)}function lP(e,t,r,n,a,i,s,o,l,c){var u=KC(),f=u.invert,h=u.domain,p=c(".%L"),g=c(":%S"),m=c("%I:%M"),v=c("%I %p"),y=c("%a %d"),b=c("%b %d"),w=c("%B"),D=c("%Y");function P(I){return(l(I)<I?p:o(I)<I?g:s(I)<I?m:i(I)<I?v:n(I)<I?a(I)<I?y:b:r(I)<I?w:D)(I)}return u.invert=function(I){return new Date(f(I))},u.domain=function(I){return arguments.length?h(Array.from(I,q6e)):h().map(z6e)},u.ticks=function(I){var T=h();return e(T[0],T[T.length-1],I??10)},u.tickFormat=function(I,T){return T==null?P:c(T)},u.nice=function(I){var T=h();return(!I||typeof I.range!="function")&&(I=t(T[0],T[T.length-1],I??10)),I?h(vH(T,I)):u},u.copy=function(){return uy(u,lP(e,t,r,n,a,i,s,o,l,c))},u}function W6e(){return Ro.apply(lP(BPe,UPe,Zc,sP,K5,fy,aP,rP,Ld,PH).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function H6e(){return Ro.apply(lP(FPe,$Pe,eu,oP,Y5,G5,iP,nP,Ld,OH).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function X5(){var e=0,t=1,r,n,a,i,s=us,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(a===0?.5:(f=(i(f)-r)*a,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(s=f,c):s};function u(f){return function(h){var p,g;return arguments.length?([p,g]=h,s=f(p,g),c):[s(0),s(1)]}}return c.range=u(um),c.rangeRound=u(GC),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),c}}function Xf(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function IH(){var e=Yf(X5()(us));return e.copy=function(){return Xf(e,IH())},uu.apply(e,arguments)}function jH(){var e=QC(X5()).domain([1,10]);return e.copy=function(){return Xf(e,jH()).base(e.base())},uu.apply(e,arguments)}function DH(){var e=JC(X5());return e.copy=function(){return Xf(e,DH()).constant(e.constant())},uu.apply(e,arguments)}function cP(){var e=ZC(X5());return e.copy=function(){return Xf(e,cP()).exponent(e.exponent())},uu.apply(e,arguments)}function G6e(){return cP.apply(null,arguments).exponent(.5)}function LH(){var e=[],t=us;function r(n){if(n!=null&&!isNaN(n=+n))return t((ly(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Sf),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>jCe(e,i/n))},r.copy=function(){return LH(t).domain(e)},uu.apply(r,arguments)}function Q5(){var e=0,t=.5,r=1,n=1,a,i,s,o,l,c=us,u,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+u(m))-i)*(n*m<n*i?o:l),c(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,a=u(e=+e),i=u(t=+t),s=u(r=+r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(c=m,p):c};function g(m){return function(v){var y,b,w;return arguments.length?([y,b,w]=v,c=iPe(m,[y,b,w]),p):[c(0),c(.5),c(1)]}}return p.range=g(um),p.rangeRound=g(GC),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return u=m,a=m(e),i=m(t),s=m(r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,p}}function MH(){var e=Yf(Q5()(us));return e.copy=function(){return Xf(e,MH())},uu.apply(e,arguments)}function RH(){var e=QC(Q5()).domain([.1,1,10]);return e.copy=function(){return Xf(e,RH()).base(e.base())},uu.apply(e,arguments)}function FH(){var e=JC(Q5());return e.copy=function(){return Xf(e,FH()).constant(e.constant())},uu.apply(e,arguments)}function uP(){var e=ZC(Q5());return e.copy=function(){return Xf(e,uP()).exponent(e.exponent())},uu.apply(e,arguments)}function K6e(){return uP.apply(null,arguments).exponent(.5)}const yM=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:r1,scaleDiverging:MH,scaleDivergingLog:RH,scaleDivergingPow:uP,scaleDivergingSqrt:K6e,scaleDivergingSymlog:FH,scaleIdentity:gH,scaleImplicit:u3,scaleLinear:Kb,scaleLog:yH,scaleOrdinal:qC,scalePoint:Kg,scalePow:eP,scaleQuantile:wH,scaleQuantize:_H,scaleRadial:bH,scaleSequential:IH,scaleSequentialLog:jH,scaleSequentialPow:cP,scaleSequentialQuantile:LH,scaleSequentialSqrt:G6e,scaleSequentialSymlog:DH,scaleSqrt:kPe,scaleSymlog:xH,scaleThreshold:SH,scaleTime:W6e,scaleUtc:H6e,tickFormat:mH},Symbol.toStringTag,{value:"Module"}));var Y6e=rm;function X6e(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],s=t(i);if(s!=null&&(o===void 0?s===s&&!Y6e(s):r(s,o)))var o=s,l=i}return l}var $H=X6e;function Q6e(e,t){return e>t}var J6e=Q6e,Z6e=$H,eOe=J6e,tOe=cm;function rOe(e){return e&&e.length?Z6e(e,tOe,eOe):void 0}var nOe=rOe;const J5=Cn(nOe);function aOe(e,t){return e<t}var iOe=aOe,sOe=$H,oOe=iOe,lOe=cm;function cOe(e){return e&&e.length?sOe(e,lOe,oOe):void 0}var uOe=cOe;const Z5=Cn(uOe);var fOe=AC,dOe=Kf,hOe=GW,pOe=js;function mOe(e,t){var r=pOe(e)?fOe:hOe;return r(e,dOe(t))}var gOe=mOe,vOe=WW,yOe=gOe;function xOe(e,t){return vOe(yOe(e,t),1)}var bOe=xOe;const wOe=Cn(bOe);var _Oe=$C;function SOe(e,t){return _Oe(e,t)}var AOe=SOe;const e_=Cn(AOe);var fm=1e9,TOe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},dP,Xn=!0,Do="[DecimalError] ",qd=Do+"Invalid argument: ",fP=Do+"Exponent out of range: ",dm=Math.floor,_d=Math.pow,EOe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Gs,Xa=1e7,zn=7,BH=9007199254740991,Jb=dm(BH/zn),er={};er.absoluteValue=er.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};er.comparedTo=er.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};er.decimalPlaces=er.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*zn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};er.dividedBy=er.div=function(e){return Fc(this,new this.constructor(e))};er.dividedToIntegerBy=er.idiv=function(e){var t=this,r=t.constructor;return Dn(Fc(t,new r(e),0,1),r.precision)};er.equals=er.eq=function(e){return!this.cmp(e)};er.exponent=function(){return ja(this)};er.greaterThan=er.gt=function(e){return this.cmp(e)>0};er.greaterThanOrEqualTo=er.gte=function(e){return this.cmp(e)>=0};er.isInteger=er.isint=function(){return this.e>this.d.length-2};er.isNegative=er.isneg=function(){return this.s<0};er.isPositive=er.ispos=function(){return this.s>0};er.isZero=function(){return this.s===0};er.lessThan=er.lt=function(e){return this.cmp(e)<0};er.lessThanOrEqualTo=er.lte=function(e){return this.cmp(e)<1};er.logarithm=er.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Gs))throw Error(Do+"NaN");if(r.s<1)throw Error(Do+(r.s?"NaN":"-Infinity"));return r.eq(Gs)?new n(0):(Xn=!1,t=Fc(o1(r,i),o1(e,i),i),Xn=!0,Dn(t,a))};er.minus=er.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?zH(t,e):UH(t,(e.s=-e.s,e))};er.modulo=er.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Do+"NaN");return r.s?(Xn=!1,t=Fc(r,e,0,1).times(e),Xn=!0,r.minus(t)):Dn(new n(r),a)};er.naturalExponential=er.exp=function(){return VH(this)};er.naturalLogarithm=er.ln=function(){return o1(this)};er.negated=er.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};er.plus=er.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?UH(t,e):zH(t,(e.s=-e.s,e))};er.precision=er.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(qd+e);if(t=ja(a)+1,n=a.d.length-1,r=n*zn+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};er.squareRoot=er.sqrt=function(){var e,t,r,n,a,i,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Do+"NaN")}for(e=ja(o),Xn=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=Bl(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=dm((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=s=r+3;;)if(i=n,n=i.plus(Fc(o,i,s+2)).times(.5),Bl(i.d).slice(0,s)===(t=Bl(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(Dn(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(t!="9999")break;s+=4}return Xn=!0,Dn(n,r)};er.times=er.mul=function(e){var t,r,n,a,i,s,o,l,c,u=this,f=u.constructor,h=u.d,p=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,r=u.e+e.e,l=h.length,c=p.length,l<c&&(i=h,h=p,p=i,s=l,l=c,c=s),i=[],s=l+c,n=s;n--;)i.push(0);for(n=c;--n>=0;){for(t=0,a=l+n;a>n;)o=i[a]+p[n]*h[a-n-1]+t,i[a--]=o%Xa|0,t=o/Xa|0;i[a]=(i[a]+t)%Xa|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Xn?Dn(e,f.precision):e};er.toDecimalPlaces=er.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(tc(e,0,fm),t===void 0?t=n.rounding:tc(t,0,8),Dn(r,e+ja(r)+1,t))};er.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=lh(n,!0):(tc(e,0,fm),t===void 0?t=a.rounding:tc(t,0,8),n=Dn(new a(n),e+1,t),r=lh(n,!0,e+1)),r};er.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?lh(a):(tc(e,0,fm),t===void 0?t=i.rounding:tc(t,0,8),n=Dn(new i(a),e+ja(a)+1,t),r=lh(n.abs(),!1,e+ja(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};er.toInteger=er.toint=function(){var e=this,t=e.constructor;return Dn(new t(e),ja(e)+1,t.rounding)};er.toNumber=function(){return+this};er.toPower=er.pow=function(e){var t,r,n,a,i,s,o=this,l=o.constructor,c=12,u=+(e=new l(e));if(!e.s)return new l(Gs);if(o=new l(o),!o.s){if(e.s<1)throw Error(Do+"Infinity");return o}if(o.eq(Gs))return o;if(n=l.precision,e.eq(Gs))return Dn(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=o.s,s){if((r=u<0?-u:u)<=BH){for(a=new l(Gs),t=Math.ceil(n/zn+4),Xn=!1;r%2&&(a=a.times(o),bM(a.d,t)),r=dm(r/2),r!==0;)o=o.times(o),bM(o.d,t);return Xn=!0,e.s<0?new l(Gs).div(a):Dn(a,n)}}else if(i<0)throw Error(Do+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,Xn=!1,a=e.times(o1(o,n+c)),Xn=!0,a=VH(a),a.s=i,a};er.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=ja(a),n=lh(a,r<=i.toExpNeg||r>=i.toExpPos)):(tc(e,1,fm),t===void 0?t=i.rounding:tc(t,0,8),a=Dn(new i(a),e,t),r=ja(a),n=lh(a,e<=r||r<=i.toExpNeg,e)),n};er.toSignificantDigits=er.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(tc(e,1,fm),t===void 0?t=n.rounding:tc(t,0,8)),Dn(new n(r),e,t)};er.toString=er.valueOf=er.val=er.toJSON=er[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ja(e),r=e.constructor;return lh(e,t<=r.toExpNeg||t>=r.toExpPos)};function UH(e,t){var r,n,a,i,s,o,l,c,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),Xn?Dn(t,f):t;if(l=e.d,c=t.d,s=e.e,a=t.e,l=l.slice(),i=s-a,i){for(i<0?(n=l,i=-i,o=c.length):(n=c,a=s,o=l.length),s=Math.ceil(f/zn),o=s>o?s+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=l.length,i=c.length,o-i<0&&(i=o,n=c,c=l,l=n),r=0;i;)r=(l[--i]=l[i]+c[i]+r)/Xa|0,l[i]%=Xa;for(r&&(l.unshift(r),++a),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=a,Xn?Dn(t,f):t}function tc(e,t,r){if(e!==~~e||e<t||e>r)throw Error(qd+e)}function Bl(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=zn-n.length,r&&(i+=Wu(r)),i+=n;s=e[t],n=s+"",r=zn-n.length,r&&(i+=Wu(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var Fc=function(){function e(n,a){var i,s=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+s,n[o]=i%Xa|0,s=i/Xa|0;return s&&n.unshift(s),n}function t(n,a,i,s){var o,l;if(i!=s)l=i>s?1:-1;else for(o=l=0;o<i;o++)if(n[o]!=a[o]){l=n[o]>a[o]?1:-1;break}return l}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*Xa+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var o,l,c,u,f,h,p,g,m,v,y,b,w,D,P,I,T,_,S=n.constructor,j=n.s==a.s?1:-1,E=n.d,N=a.d;if(!n.s)return new S(n);if(!a.s)throw Error(Do+"Division by zero");for(l=n.e-a.e,T=N.length,P=E.length,p=new S(j),g=p.d=[],c=0;N[c]==(E[c]||0);)++c;if(N[c]>(E[c]||0)&&--l,i==null?b=i=S.precision:s?b=i+(ja(n)-ja(a))+1:b=i,b<0)return new S(0);if(b=b/zn+2|0,c=0,T==1)for(u=0,N=N[0],b++;(c<P||u)&&b--;c++)w=u*Xa+(E[c]||0),g[c]=w/N|0,u=w%N|0;else{for(u=Xa/(N[0]+1)|0,u>1&&(N=e(N,u),E=e(E,u),T=N.length,P=E.length),D=T,m=E.slice(0,T),v=m.length;v<T;)m[v++]=0;_=N.slice(),_.unshift(0),I=N[0],N[1]>=Xa/2&&++I;do u=0,o=t(N,m,T,v),o<0?(y=m[0],T!=v&&(y=y*Xa+(m[1]||0)),u=y/I|0,u>1?(u>=Xa&&(u=Xa-1),f=e(N,u),h=f.length,v=m.length,o=t(f,m,h,v),o==1&&(u--,r(f,T<h?_:N,h))):(u==0&&(o=u=1),f=N.slice()),h=f.length,h<v&&f.unshift(0),r(m,f,v),o==-1&&(v=m.length,o=t(N,m,T,v),o<1&&(u++,r(m,T<v?_:N,v))),v=m.length):o===0&&(u++,m=[0]),g[c++]=u,o&&m[0]?m[v++]=E[D]||0:(m=[E[D]],v=1);while((D++<P||m[0]!==void 0)&&b--)}return g[0]||g.shift(),p.e=l,Dn(p,s?i+ja(p)+1:i)}}();function VH(e,t){var r,n,a,i,s,o,l=0,c=0,u=e.constructor,f=u.precision;if(ja(e)>16)throw Error(fP+ja(e));if(!e.s)return new u(Gs);for(t==null?(Xn=!1,o=f):o=t,s=new u(.03125);e.abs().gte(.1);)e=e.times(s),c+=5;for(n=Math.log(_d(2,c))/Math.LN10*2+5|0,o+=n,r=a=i=new u(Gs),u.precision=o;;){if(a=Dn(a.times(e),o),r=r.times(++l),s=i.plus(Fc(a,r,o)),Bl(s.d).slice(0,o)===Bl(i.d).slice(0,o)){for(;c--;)i=Dn(i.times(i),o);return u.precision=f,t==null?(Xn=!0,Dn(i,f)):i}i=s}}function ja(e){for(var t=e.e*zn,r=e.d[0];r>=10;r/=10)t++;return t}function uA(e,t,r){if(t>e.LN10.sd())throw Xn=!0,r&&(e.precision=r),Error(Do+"LN10 precision limit exceeded");return Dn(new e(e.LN10),t)}function Wu(e){for(var t="";e--;)t+="0";return t}function o1(e,t){var r,n,a,i,s,o,l,c,u,f=1,h=10,p=e,g=p.d,m=p.constructor,v=m.precision;if(p.s<1)throw Error(Do+(p.s?"NaN":"-Infinity"));if(p.eq(Gs))return new m(0);if(t==null?(Xn=!1,c=v):c=t,p.eq(10))return t==null&&(Xn=!0),uA(m,c);if(c+=h,m.precision=c,r=Bl(g),n=r.charAt(0),i=ja(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Bl(p.d),n=r.charAt(0),f++;i=ja(p),n>1?(p=new m("0."+r),i++):p=new m(n+"."+r.slice(1))}else return l=uA(m,c+2,v).times(i+""),p=o1(new m(n+"."+r.slice(1)),c-h).plus(l),m.precision=v,t==null?(Xn=!0,Dn(p,v)):p;for(o=s=p=Fc(p.minus(Gs),p.plus(Gs),c),u=Dn(p.times(p),c),a=3;;){if(s=Dn(s.times(u),c),l=o.plus(Fc(s,new m(a),c)),Bl(l.d).slice(0,c)===Bl(o.d).slice(0,c))return o=o.times(2),i!==0&&(o=o.plus(uA(m,c+2,v).times(i+""))),o=Fc(o,new m(f),c),m.precision=v,t==null?(Xn=!0,Dn(o,v)):o;o=l,a+=2}}function xM(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=dm(r/zn),e.d=[],n=(r+1)%zn,r<0&&(n+=zn),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=zn;n<a;)e.d.push(+t.slice(n,n+=zn));t=t.slice(n),n=zn-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Xn&&(e.e>Jb||e.e<-Jb))throw Error(fP+r)}else e.s=0,e.e=0,e.d=[0];return e}function Dn(e,t,r){var n,a,i,s,o,l,c,u,f=e.d;for(s=1,i=f[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=zn,a=t,c=f[u=0];else{if(u=Math.ceil((n+1)/zn),i=f.length,u>=i)return e;for(c=i=f[u],s=1;i>=10;i/=10)s++;n%=zn,a=n-zn+s}if(r!==void 0&&(i=_d(10,s-a-1),o=c/i%10|0,l=t<0||f[u+1]!==void 0||c%i,l=r<4?(o||l)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?a>0?c/_d(10,s-a):0:f[u-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(i=ja(e),f.length=1,t=t-i-1,f[0]=_d(10,(zn-t%zn)%zn),e.e=dm(-t/zn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=u,i=1,u--):(f.length=u+1,i=_d(10,zn-n),f[u]=a>0?(c/_d(10,s-a)%_d(10,a)|0)*i:0),l)for(;;)if(u==0){(f[0]+=i)==Xa&&(f[0]=1,++e.e);break}else{if(f[u]+=i,f[u]!=Xa)break;f[u--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Xn&&(e.e>Jb||e.e<-Jb))throw Error(fP+ja(e));return e}function zH(e,t){var r,n,a,i,s,o,l,c,u,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Xn?Dn(t,p):t;if(l=e.d,f=t.d,n=t.e,c=e.e,l=l.slice(),s=c-n,s){for(u=s<0,u?(r=l,s=-s,o=f.length):(r=f,n=c,o=l.length),a=Math.max(Math.ceil(p/zn),o)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=l.length,o=f.length,u=a<o,u&&(o=a),a=0;a<o;a++)if(l[a]!=f[a]){u=l[a]<f[a];break}s=0}for(u&&(r=l,l=f,f=r,t.s=-t.s),o=l.length,a=f.length-o;a>0;--a)l[o++]=0;for(a=f.length;a>s;){if(l[--a]<f[a]){for(i=a;i&&l[--i]===0;)l[i]=Xa-1;--l[i],l[a]+=Xa}l[a]-=f[a]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Xn?Dn(t,p):t):new h(0)}function lh(e,t,r){var n,a=ja(e),i=Bl(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+Wu(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Wu(-a-1)+i,r&&(n=r-s)>0&&(i+=Wu(n))):a>=s?(i+=Wu(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+Wu(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=Wu(n))),e.s<0?"-"+i:i}function bM(e,t){if(e.length>t)return e.length=t,!0}function qH(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(qd+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return xM(s,i.toString())}else if(typeof i!="string")throw Error(qd+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,EOe.test(i))xM(s,i);else throw Error(qd+i)}if(a.prototype=er,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=qH,a.config=a.set=NOe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function NOe(e){if(!e||typeof e!="object")throw Error(Do+"Object expected");var t,r,n,a=["precision",1,fm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(dm(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(qd+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(qd+r+": "+n);return this}var dP=qH(TOe);Gs=new dP(1);const Nn=dP;function kOe(e){return IOe(e)||OOe(e)||POe(e)||COe()}function COe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function POe(e,t){if(e){if(typeof e=="string")return p3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p3(e,t)}}function OOe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function IOe(e){if(Array.isArray(e))return p3(e)}function p3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var jOe=function(t){return t},WH={"@@functional/placeholder":!0},HH=function(t){return t===WH},wM=function(t){return function r(){return arguments.length===0||arguments.length===1&&HH(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},DOe=function e(t,r){return t===1?r:wM(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.filter(function(o){return o!==WH}).length;return s>=t?r.apply(void 0,a):e(t-s,wM(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=a.map(function(f){return HH(f)?l.shift():f});return r.apply(void 0,kOe(u).concat(l))}))})},t_=function(t){return DOe(t.length,t)},m3=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},LOe=t_(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),MOe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return jOe;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(o,l){return l(o)},i.apply(void 0,arguments))}},g3=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},GH=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r&&i.every(function(o,l){return o===r[l]})||(r=i,n=t.apply(void 0,i)),n}};function ROe(e){var t;return e===0?t=1:t=Math.floor(new Nn(e).abs().log(10).toNumber())+1,t}function FOe(e,t,r){for(var n=new Nn(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var $Oe=t_(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),BOe=t_(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),UOe=t_(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const r_={rangeStep:FOe,getDigitCount:ROe,interpolateNumber:$Oe,uninterpolateNumber:BOe,uninterpolateTruncation:UOe};function v3(e){return qOe(e)||zOe(e)||KH(e)||VOe()}function VOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zOe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function qOe(e){if(Array.isArray(e))return y3(e)}function l1(e,t){return GOe(e)||HOe(e,t)||KH(e,t)||WOe()}function WOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KH(e,t){if(e){if(typeof e=="string")return y3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y3(e,t)}}function y3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function HOe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var s=e[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(t&&r.length===t));n=!0);}catch(l){a=!0,i=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(a)throw i}}return r}}function GOe(e){if(Array.isArray(e))return e}function YH(e){var t=l1(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function XH(e,t,r){if(e.lte(0))return new Nn(0);var n=r_.getDigitCount(e.toNumber()),a=new Nn(10).pow(n),i=e.div(a),s=n!==1?.05:.1,o=new Nn(Math.ceil(i.div(s).toNumber())).add(r).mul(s),l=o.mul(a);return t?l:new Nn(Math.ceil(l))}function KOe(e,t,r){var n=1,a=new Nn(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Nn(10).pow(r_.getDigitCount(e)-1),a=new Nn(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Nn(Math.floor(e)))}else e===0?a=new Nn(Math.floor((t-1)/2)):r||(a=new Nn(Math.floor(e)));var s=Math.floor((t-1)/2),o=MOe(LOe(function(l){return a.add(new Nn(l-s).mul(n)).toNumber()}),m3);return o(0,t)}function QH(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Nn(0),tickMin:new Nn(0),tickMax:new Nn(0)};var i=XH(new Nn(t).sub(e).div(r-1),n,a),s;e<=0&&t>=0?s=new Nn(0):(s=new Nn(e).add(t).div(2),s=s.sub(new Nn(s).mod(i)));var o=Math.ceil(s.sub(e).div(i).toNumber()),l=Math.ceil(new Nn(t).sub(s).div(i).toNumber()),c=o+l+1;return c>r?QH(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,o=t>0?o:o+(r-c)),{step:i,tickMin:s.sub(new Nn(o).mul(i)),tickMax:s.add(new Nn(l).mul(i))})}function YOe(e){var t=l1(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),o=YH([r,n]),l=l1(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var f=u===1/0?[c].concat(v3(m3(0,a-1).map(function(){return 1/0}))):[].concat(v3(m3(0,a-1).map(function(){return-1/0})),[u]);return r>n?g3(f):f}if(c===u)return KOe(c,a,i);var h=QH(c,u,s,i),p=h.step,g=h.tickMin,m=h.tickMax,v=r_.rangeStep(g,m.add(new Nn(.1).mul(p)),p);return r>n?g3(v):v}function XOe(e,t){var r=l1(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=YH([n,a]),o=l1(s,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[n,a];if(l===c)return[l];var u=Math.max(t,2),f=XH(new Nn(c).sub(l).div(u-1),i,0),h=[].concat(v3(r_.rangeStep(new Nn(l),new Nn(c).sub(new Nn(.99).mul(f)),f)),[c]);return n>a?g3(h):h}var QOe=GH(YOe),JOe=GH(XOe),ZOe="Invariant failed";function ch(e,t){throw new Error(ZOe)}var eIe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Sp(e){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sp(e)}function Zb(){return Zb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zb.apply(this,arguments)}function tIe(e,t){return iIe(e)||aIe(e,t)||nIe(e,t)||rIe()}function rIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nIe(e,t){if(e){if(typeof e=="string")return _M(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _M(e,t)}}function _M(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aIe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function iIe(e){if(Array.isArray(e))return e}function sIe(e,t){if(e==null)return{};var r=oIe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oIe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function lIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cIe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eG(n.key),n)}}function uIe(e,t,r){return t&&cIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fIe(e,t,r){return t=ew(t),dIe(e,JH()?Reflect.construct(t,r||[],ew(e).constructor):t.apply(e,r))}function dIe(e,t){if(t&&(Sp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hIe(e)}function hIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JH=function(){return!!e})()}function ew(e){return ew=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ew(e)}function pIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x3(e,t)}function x3(e,t){return x3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},x3(e,t)}function ZH(e,t,r){return t=eG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eG(e){var t=mIe(e,"string");return Sp(t)=="symbol"?t:t+""}function mIe(e,t){if(Sp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dy=function(e){function t(){return lIe(this,t),fIe(this,t,arguments)}return pIe(t,e),uIe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,s=n.width,o=n.dataKey,l=n.data,c=n.dataPointFormatter,u=n.xAxis,f=n.yAxis,h=sIe(n,eIe),p=Xr(h,!1);this.props.direction==="x"&&u.type!=="number"&&ch();var g=l.map(function(m){var v=c(m,o),y=v.x,b=v.y,w=v.value,D=v.errorVal;if(!D)return null;var P=[],I,T;if(Array.isArray(D)){var _=tIe(D,2);I=_[0],T=_[1]}else I=T=D;if(i==="vertical"){var S=u.scale,j=b+a,E=j+s,N=j-s,O=S(w-I),U=S(w+T);P.push({x1:U,y1:E,x2:U,y2:N}),P.push({x1:O,y1:j,x2:U,y2:j}),P.push({x1:O,y1:E,x2:O,y2:N})}else if(i==="horizontal"){var Y=f.scale,K=y+a,J=K-s,z=K+s,V=Y(w-I),ee=Y(w+T);P.push({x1:J,y1:ee,x2:z,y2:ee}),P.push({x1:K,y1:V,x2:K,y2:ee}),P.push({x1:J,y1:V,x2:z,y2:V})}return $e.createElement(ba,Zb({className:"recharts-errorBar",key:"bar-".concat(P.map(function(Z){return"".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))},p),P.map(function(Z){return $e.createElement("line",Zb({},Z,{key:"line-".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))}))});return $e.createElement(ba,{className:"recharts-errorBars"},g)}}])}($e.Component);ZH(dy,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});ZH(dy,"displayName","ErrorBar");function c1(e){"@babel/helpers - typeof";return c1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c1(e)}function SM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SM(Object(r),!0).forEach(function(n){gIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gIe(e,t,r){return t=vIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vIe(e){var t=yIe(e,"string");return c1(t)=="symbol"?t:t+""}function yIe(e,t){if(c1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(c1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tG=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,s=qs(r,vl);if(!s)return null;var o=vl.defaultProps,l=o!==void 0?pd(pd({},o),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:i==="children"?c=(n||[]).reduce(function(u,f){var h=f.item,p=f.props,g=p.sectors||p.data||[];return u.concat(g.map(function(m){return{type:s.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):c=(n||[]).map(function(u){var f=u.item,h=f.type.defaultProps,p=h!==void 0?pd(pd({},h),f.props):{},g=p.dataKey,m=p.name,v=p.legendType,y=p.hide;return{inactive:y,dataKey:g,type:l.iconType||v||"square",color:hP(f),value:m||g,payload:p}}),pd(pd(pd({},l),vl.getWithHeight(s,a)),{},{payload:c,item:s})};function u1(e){"@babel/helpers - typeof";return u1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u1(e)}function AM(e){return _Ie(e)||wIe(e)||bIe(e)||xIe()}function xIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bIe(e,t){if(e){if(typeof e=="string")return b3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b3(e,t)}}function wIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _Ie(e){if(Array.isArray(e))return b3(e)}function b3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ua(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TM(Object(r),!0).forEach(function(n){V0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function V0(e,t,r){return t=SIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SIe(e){var t=AIe(e,"string");return u1(t)=="symbol"?t:t+""}function AIe(e,t){if(u1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(u1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eo(e,t,r){return Kr(e)||Kr(t)?r:Ua(t)?No(e,t,r):Br(t)?t(e):r}function Yg(e,t,r,n){var a=wOe(e,function(o){return eo(o,t)});if(r==="number"){var i=a.filter(function(o){return Ft(o)||parseFloat(o)});return i.length?[Z5(i),J5(i)]:[1/0,-1/0]}var s=n?a.filter(function(o){return!Kr(o)}):a;return s.map(function(o){return Ua(o)||o instanceof Date?o:""})}var TIe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var l=i.range,c=0;c<o;c++){var u=c>0?a[c-1].coordinate:a[o-1].coordinate,f=a[c].coordinate,h=c>=o-1?a[0].coordinate:a[c+1].coordinate,p=void 0;if(dl(f-u)!==dl(h-f)){var g=[];if(dl(h-f)===dl(l[1]-l[0])){p=h;var m=f+l[1]-l[0];g[0]=Math.min(m,(m+u)/2),g[1]=Math.max(m,(m+u)/2)}else{p=u;var v=h+l[1]-l[0];g[0]=Math.min(f,(v+f)/2),g[1]=Math.max(f,(v+f)/2)}var y=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>y[0]&&t<=y[1]||t>=g[0]&&t<=g[1]){s=a[c].index;break}}else{var b=Math.min(u,h),w=Math.max(u,h);if(t>(b+f)/2&&t<=(w+f)/2){s=a[c].index;break}}}else for(var D=0;D<o;D++)if(D===0&&t<=(n[D].coordinate+n[D+1].coordinate)/2||D>0&&D<o-1&&t>(n[D].coordinate+n[D-1].coordinate)/2&&t<=(n[D].coordinate+n[D+1].coordinate)/2||D===o-1&&t>(n[D].coordinate+n[D-1].coordinate)/2){s=n[D].index;break}return s},hP=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?ua(ua({},t.type.defaultProps),t.props):t.props,s=i.stroke,o=i.fill,l;switch(a){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},EIe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},o=Object.keys(i),l=0,c=o.length;l<c;l++)for(var u=i[o[l]].stackGroups,f=Object.keys(u),h=0,p=f.length;h<p;h++){var g=u[f[h]],m=g.items,v=g.cateAxisId,y=m.filter(function(T){return Lc(T.type).indexOf("Bar")>=0});if(y&&y.length){var b=y[0].type.defaultProps,w=b!==void 0?ua(ua({},b),y[0].props):y[0].props,D=w.barSize,P=w[v];s[P]||(s[P]=[]);var I=Kr(D)?r:D;s[P].push({item:y[0],stackList:y.slice(1),barSize:Kr(I)?void 0:oh(I,n,0)})}}return s},NIe=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,s=i===void 0?[]:i,o=t.maxBarSize,l=s.length;if(l<1)return null;var c=oh(r,a,0,!0),u,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,p=a/l,g=s.reduce(function(D,P){return D+P.barSize||0},0);g+=(l-1)*c,g>=a&&(g-=(l-1)*c,c=0),g>=a&&p>0&&(h=!0,p*=.9,g=l*p);var m=(a-g)/2>>0,v={offset:m-c,size:0};u=s.reduce(function(D,P){var I={item:P.item,position:{offset:v.offset+v.size+c,size:h?p:P.barSize}},T=[].concat(AM(D),[I]);return v=T[T.length-1].position,P.stackList&&P.stackList.length&&P.stackList.forEach(function(_){T.push({item:_,position:v})}),T},f)}else{var y=oh(n,a,0,!0);a-2*y-(l-1)*c<=0&&(c=0);var b=(a-2*y-(l-1)*c)/l;b>1&&(b>>=0);var w=o===+o?Math.min(b,o):b;u=s.reduce(function(D,P,I){var T=[].concat(AM(D),[{item:P.item,position:{offset:y+(b+c)*I+(b-w)/2,size:w}}]);return P.stackList&&P.stackList.length&&P.stackList.forEach(function(_){T.push({item:_,position:T[T.length-1].position})}),T},f)}return u},kIe=function(t,r,n,a){var i=n.children,s=n.width,o=n.margin,l=s-(o.left||0)-(o.right||0),c=tG({children:i,legendWidth:l});if(c){var u=a||{},f=u.width,h=u.height,p=c.align,g=c.verticalAlign,m=c.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&p!=="center"&&Ft(t[p]))return ua(ua({},t),{},V0({},p,t[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&g!=="middle"&&Ft(t[g]))return ua(ua({},t),{},V0({},g,t[g]+(h||0)))}return t},CIe=function(t,r,n){return Kr(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},rG=function(t,r,n,a,i){var s=r.props.children,o=ko(s,dy).filter(function(c){return CIe(a,i,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return t.reduce(function(c,u){var f=eo(u,n);if(Kr(f))return c;var h=Array.isArray(f)?[Z5(f),J5(f)]:[f,f],p=l.reduce(function(g,m){var v=eo(u,m,0),y=h[0]-Math.abs(Array.isArray(v)?v[0]:v),b=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(y,g[0]),Math.max(b,g[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},PIe=function(t,r,n,a,i){var s=r.map(function(o){return rG(t,o,n,i,a)}).filter(function(o){return!Kr(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},nG=function(t,r,n,a,i){var s=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&rG(t,l,c,a)||Yg(t,c,n,i)});if(n==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,c){for(var u=0,f=c.length;u<f;u++)o[c[u]]||(o[c[u]]=!0,l.push(c[u]));return l},[])},aG=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},iG=function(t,r,n,a){if(a)return t.map(function(l){return l.coordinate});var i,s,o=t.map(function(l){return l.coordinate===r&&(i=!0),l.coordinate===n&&(s=!0),l.coordinate});return i||o.push(r),s||o.push(n),o},Pc=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,s=t.type,o=t.range,l=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,c=(r||n)&&s==="category"&&a.bandwidth?a.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?dl(o[0]-o[1])*2*c:c,r&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+c,value:f,offset:c}});return u.filter(function(f){return!iy(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+c,value:f,index:h,offset:c}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+c,value:f,offset:c}}):a.domain().map(function(f,h){return{coordinate:a(f)+c,value:i?i[f]:f,index:h,offset:c}})},fA=new WeakMap,Cx=function(t,r){if(typeof r!="function")return t;fA.has(t)||fA.set(t,new WeakMap);var n=fA.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},OIe=function(t,r,n){var a=t.scale,i=t.type,s=t.layout,o=t.axisType;if(a==="auto")return s==="radial"&&o==="radiusAxis"?{scale:r1(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:Kb(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Kg(),realScaleType:"point"}:i==="category"?{scale:r1(),realScaleType:"band"}:{scale:Kb(),realScaleType:"linear"};if(sh(a)){var l="scale".concat($5(a));return{scale:(yM[l]||Kg)(),realScaleType:yM[l]?l:"point"}}return Br(a)?{scale:a}:{scale:Kg(),realScaleType:"point"}},EM=1e-4,IIe=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-EM,s=Math.max(a[0],a[1])+EM,o=t(r[0]),l=t(r[n-1]);(o<i||o>s||l<i||l>s)&&t.domain([r[0],r[n-1]])}},jIe=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},DIe=function(t,r){if(!r||r.length!==2||!Ft(r[0])||!Ft(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Ft(t[0])||t[0]<n)&&(i[0]=n),(!Ft(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},LIe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0,o=0;o<r;++o){var l=iy(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1])}},MIe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0;s<r;++s){var o=iy(t[s][n][1])?t[s][n][0]:t[s][n][1];o>=0?(t[s][n][0]=i,t[s][n][1]=i+o,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},RIe={sign:LIe,expand:J5e,none:mp,silhouette:Z5e,wiggle:e_e,positive:MIe},FIe=function(t,r,n){var a=r.map(function(o){return o.props.dataKey}),i=RIe[n],s=Q5e().keys(a).value(function(o,l){return+eo(o,l,0)}).order(WT).offset(i);return s(t)},$Ie=function(t,r,n,a,i,s){if(!t)return null;var o=s?r.reverse():r,l={},c=o.reduce(function(f,h){var p,g=(p=h.type)!==null&&p!==void 0&&p.defaultProps?ua(ua({},h.type.defaultProps),h.props):h.props,m=g.stackId,v=g.hide;if(v)return f;var y=g[n],b=f[y]||{hasStack:!1,stackGroups:{}};if(Ua(m)){var w=b.stackGroups[m]||{numericAxisId:n,cateAxisId:a,items:[]};w.items.push(h),b.hasStack=!0,b.stackGroups[m]=w}else b.stackGroups[sy("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return ua(ua({},f),{},V0({},y,b))},l),u={};return Object.keys(c).reduce(function(f,h){var p=c[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,v){var y=p.stackGroups[v];return ua(ua({},m),{},V0({},v,{numericAxisId:n,cateAxisId:a,items:y.items,stackedData:FIe(t,y.items,i)}))},g)}return ua(ua({},f),{},V0({},h,p))},u)},BIe=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,s=r.originalDomain,o=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=t.domain();if(!c.length)return null;var u=QOe(c,i,o);return t.domain([Z5(u),J5(u)]),{niceTicks:u}}if(i&&a==="number"){var f=t.domain(),h=JOe(f,i,o);return{niceTicks:h}}return null};function NM(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,s=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Kr(a[t.dataKey])){var o=Tb(r,"value",a[t.dataKey]);if(o)return o.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var l=eo(a,Kr(s)?t.dataKey:s);return Kr(l)?null:t.scale(l)}var kM=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,s=t.entry,o=t.index;if(r.type==="category")return n[o]?n[o].coordinate+a:null;var l=eo(s,r.dataKey,r.domain[o]);return Kr(l)?null:r.scale(l)-i/2+a},UIe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},VIe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?ua(ua({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(Ua(i)){var s=r[i];if(s){var o=s.items.indexOf(t);return o>=0?s.stackedData[o]:null}}return null},zIe=function(t){return t.reduce(function(r,n){return[Z5(n.concat([r[0]]).filter(Ft)),J5(n.concat([r[1]]).filter(Ft))]},[1/0,-1/0])},sG=function(t,r,n){return Object.keys(t).reduce(function(a,i){var s=t[i],o=s.stackedData,l=o.reduce(function(c,u){var f=zIe(u.slice(r,n+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},CM=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,PM=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,w3=function(t,r,n){if(Br(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(Ft(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(CM.test(t[0])){var i=+CM.exec(t[0])[1];a[0]=r[0]-i}else Br(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Ft(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(PM.test(t[1])){var s=+PM.exec(t[1])[1];a[1]=r[1]+s}else Br(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},tw=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=UC(r,function(f){return f.coordinate}),s=1/0,o=1,l=i.length;o<l;o++){var c=i[o],u=i[o-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},OM=function(t,r,n){return!t||!t.length||e_(t,No(n,"type.defaultProps.domain"))?r:t},oG=function(t,r){var n=t.type.defaultProps?ua(ua({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,s=n.unit,o=n.formatter,l=n.tooltipType,c=n.chartType,u=n.hide;return ua(ua({},Xr(t,!1)),{},{dataKey:a,unit:s,formatter:o,name:i||a,color:hP(t),value:eo(r,a),type:l,payload:r,chartType:c,hide:u})};function f1(e){"@babel/helpers - typeof";return f1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f1(e)}function IM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IM(Object(r),!0).forEach(function(n){qIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qIe(e,t,r){return t=WIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WIe(e){var t=HIe(e,"string");return f1(t)=="symbol"?t:t+""}function HIe(e,t){if(f1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(f1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rw=Math.PI/180,GIe=function(t){return t*180/Math.PI},vi=function(t,r,n,a){return{x:t+Math.cos(-rw*a)*n,y:r+Math.sin(-rw*a)*n}},KIe=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-s,2))},YIe=function(t,r){var n=t.x,a=t.y,i=r.cx,s=r.cy,o=KIe({x:n,y:a},{x:i,y:s});if(o<=0)return{radius:o};var l=(n-i)/o,c=Math.acos(l);return a>s&&(c=2*Math.PI-c),{radius:o,angle:GIe(c),angleInRadian:c}},XIe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return{startAngle:r-s*360,endAngle:n-s*360}},QIe=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),s=Math.floor(a/360),o=Math.min(i,s);return t+o*360},DM=function(t,r){var n=t.x,a=t.y,i=YIe({x:n,y:a},r),s=i.radius,o=i.angle,l=r.innerRadius,c=r.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var u=XIe(r),f=u.startAngle,h=u.endAngle,p=o,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?jM(jM({},r),{},{radius:s,angle:QIe(p,r)}):null};function d1(e){"@babel/helpers - typeof";return d1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d1(e)}var JIe=["offset"];function ZIe(e){return nje(e)||rje(e)||tje(e)||eje()}function eje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tje(e,t){if(e){if(typeof e=="string")return _3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _3(e,t)}}function rje(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nje(e){if(Array.isArray(e))return _3(e)}function _3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aje(e,t){if(e==null)return{};var r=ije(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ije(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function LM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ma(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LM(Object(r),!0).forEach(function(n){sje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sje(e,t,r){return t=oje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oje(e){var t=lje(e,"string");return d1(t)=="symbol"?t:t+""}function lje(e,t){if(d1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(d1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function h1(){return h1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h1.apply(this,arguments)}var cje=function(t){var r=t.value,n=t.formatter,a=Kr(t.children)?r:t.children;return Br(n)?n(a):a},uje=function(t,r){var n=dl(r-t),a=Math.min(Math.abs(r-t),360);return n*a},fje=function(t,r,n){var a=t.position,i=t.viewBox,s=t.offset,o=t.className,l=i,c=l.cx,u=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,g=l.endAngle,m=l.clockWise,v=(f+h)/2,y=uje(p,g),b=y>=0?1:-1,w,D;a==="insideStart"?(w=p+b*s,D=m):a==="insideEnd"?(w=g-b*s,D=!m):a==="end"&&(w=g+b*s,D=m),D=y<=0?D:!D;var P=vi(c,u,v,w),I=vi(c,u,v,w+(D?1:-1)*359),T="M".concat(P.x,",").concat(P.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(D?0:1,`,
    `).concat(I.x,",").concat(I.y),_=Kr(t.id)?sy("recharts-radial-line-"):t.id;return $e.createElement("text",h1({},n,{dominantBaseline:"central",className:ln("recharts-radial-bar-label",o)}),$e.createElement("defs",null,$e.createElement("path",{id:_,d:T})),$e.createElement("textPath",{xlinkHref:"#".concat(_)},r))},dje=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,s=i.cx,o=i.cy,l=i.innerRadius,c=i.outerRadius,u=i.startAngle,f=i.endAngle,h=(u+f)/2;if(a==="outside"){var p=vi(s,o,c+n,h),g=p.x,m=p.y;return{x:g,y:m,textAnchor:g>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,y=vi(s,o,v,h),b=y.x,w=y.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},hje=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,s=r,o=s.x,l=s.y,c=s.width,u=s.height,f=u>=0?1:-1,h=f*a,p=f>0?"end":"start",g=f>0?"start":"end",m=c>=0?1:-1,v=m*a,y=m>0?"end":"start",b=m>0?"start":"end";if(i==="top"){var w={x:o+c/2,y:l-f*a,textAnchor:"middle",verticalAnchor:p};return Ma(Ma({},w),n?{height:Math.max(l-n.y,0),width:c}:{})}if(i==="bottom"){var D={x:o+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:g};return Ma(Ma({},D),n?{height:Math.max(n.y+n.height-(l+u),0),width:c}:{})}if(i==="left"){var P={x:o-v,y:l+u/2,textAnchor:y,verticalAnchor:"middle"};return Ma(Ma({},P),n?{width:Math.max(P.x-n.x,0),height:u}:{})}if(i==="right"){var I={x:o+c+v,y:l+u/2,textAnchor:b,verticalAnchor:"middle"};return Ma(Ma({},I),n?{width:Math.max(n.x+n.width-I.x,0),height:u}:{})}var T=n?{width:c,height:u}:{};return i==="insideLeft"?Ma({x:o+v,y:l+u/2,textAnchor:b,verticalAnchor:"middle"},T):i==="insideRight"?Ma({x:o+c-v,y:l+u/2,textAnchor:y,verticalAnchor:"middle"},T):i==="insideTop"?Ma({x:o+c/2,y:l+h,textAnchor:"middle",verticalAnchor:g},T):i==="insideBottom"?Ma({x:o+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:p},T):i==="insideTopLeft"?Ma({x:o+v,y:l+h,textAnchor:b,verticalAnchor:g},T):i==="insideTopRight"?Ma({x:o+c-v,y:l+h,textAnchor:y,verticalAnchor:g},T):i==="insideBottomLeft"?Ma({x:o+v,y:l+u-h,textAnchor:b,verticalAnchor:p},T):i==="insideBottomRight"?Ma({x:o+c-v,y:l+u-h,textAnchor:y,verticalAnchor:p},T):nm(i)&&(Ft(i.x)||jd(i.x))&&(Ft(i.y)||jd(i.y))?Ma({x:o+oh(i.x,c),y:l+oh(i.y,u),textAnchor:"end",verticalAnchor:"end"},T):Ma({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},T)},pje=function(t){return"cx"in t&&Ft(t.cx)};function Bi(e){var t=e.offset,r=t===void 0?5:t,n=aje(e,JIe),a=Ma({offset:r},n),i=a.viewBox,s=a.position,o=a.value,l=a.children,c=a.content,u=a.className,f=u===void 0?"":u,h=a.textBreakAll;if(!i||Kr(o)&&Kr(l)&&!B.isValidElement(c)&&!Br(c))return null;if(B.isValidElement(c))return B.cloneElement(c,a);var p;if(Br(c)){if(p=B.createElement(c,a),B.isValidElement(p))return p}else p=cje(a);var g=pje(i),m=Xr(a,!0);if(g&&(s==="insideStart"||s==="insideEnd"||s==="end"))return fje(a,p,m);var v=g?dje(a):hje(a);return $e.createElement(Ub,h1({className:ln("recharts-label",f)},m,v,{breakAll:h}),p)}Bi.displayName="Label";var lG=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,s=t.endAngle,o=t.r,l=t.radius,c=t.innerRadius,u=t.outerRadius,f=t.x,h=t.y,p=t.top,g=t.left,m=t.width,v=t.height,y=t.clockWise,b=t.labelViewBox;if(b)return b;if(Ft(m)&&Ft(v)){if(Ft(f)&&Ft(h))return{x:f,y:h,width:m,height:v};if(Ft(p)&&Ft(g))return{x:p,y:g,width:m,height:v}}return Ft(f)&&Ft(h)?{x:f,y:h,width:0,height:0}:Ft(r)&&Ft(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:s||a||0,innerRadius:c||0,outerRadius:u||l||o||0,clockWise:y}:t.viewBox?t.viewBox:{}},mje=function(t,r){return t?t===!0?$e.createElement(Bi,{key:"label-implicit",viewBox:r}):Ua(t)?$e.createElement(Bi,{key:"label-implicit",viewBox:r,value:t}):B.isValidElement(t)?t.type===Bi?B.cloneElement(t,{key:"label-implicit",viewBox:r}):$e.createElement(Bi,{key:"label-implicit",content:t,viewBox:r}):Br(t)?$e.createElement(Bi,{key:"label-implicit",content:t,viewBox:r}):nm(t)?$e.createElement(Bi,h1({viewBox:r},t,{key:"label-implicit"})):null:null},gje=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=lG(t),s=ko(a,Bi).map(function(l,c){return B.cloneElement(l,{viewBox:r||i,key:"label-".concat(c)})});if(!n)return s;var o=mje(t.label,r||i);return[o].concat(ZIe(s))};Bi.parseViewBox=lG;Bi.renderCallByParent=gje;function vje(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var yje=vje;const xje=Cn(yje);function p1(e){"@babel/helpers - typeof";return p1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p1(e)}var bje=["valueAccessor"],wje=["data","dataKey","clockWise","id","textBreakAll"];function _je(e){return Eje(e)||Tje(e)||Aje(e)||Sje()}function Sje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aje(e,t){if(e){if(typeof e=="string")return S3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S3(e,t)}}function Tje(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Eje(e){if(Array.isArray(e))return S3(e)}function S3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nw(){return nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nw.apply(this,arguments)}function MM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MM(Object(r),!0).forEach(function(n){Nje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nje(e,t,r){return t=kje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kje(e){var t=Cje(e,"string");return p1(t)=="symbol"?t:t+""}function Cje(e,t){if(p1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(p1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FM(e,t){if(e==null)return{};var r=Pje(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Pje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Oje=function(t){return Array.isArray(t.value)?xje(t.value):t.value};function Af(e){var t=e.valueAccessor,r=t===void 0?Oje:t,n=FM(e,bje),a=n.data,i=n.dataKey,s=n.clockWise,o=n.id,l=n.textBreakAll,c=FM(n,wje);return!a||!a.length?null:$e.createElement(ba,{className:"recharts-label-list"},a.map(function(u,f){var h=Kr(i)?r(u,f):eo(u&&u.payload,i),p=Kr(o)?{}:{id:"".concat(o,"-").concat(f)};return $e.createElement(Bi,nw({},Xr(u,!0),c,p,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:Bi.parseViewBox(Kr(s)?u:RM(RM({},u),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}Af.displayName="LabelList";function Ije(e,t){return e?e===!0?$e.createElement(Af,{key:"labelList-implicit",data:t}):$e.isValidElement(e)||Br(e)?$e.createElement(Af,{key:"labelList-implicit",data:t,content:e}):nm(e)?$e.createElement(Af,nw({data:t},e,{key:"labelList-implicit"})):null:null}function jje(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=ko(n,Af).map(function(s,o){return B.cloneElement(s,{data:t,key:"labelList-".concat(o)})});if(!r)return a;var i=Ije(e.label,t);return[i].concat(_je(a))}Af.renderCallByParent=jje;function m1(e){"@babel/helpers - typeof";return m1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m1(e)}function A3(){return A3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A3.apply(this,arguments)}function $M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function BM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$M(Object(r),!0).forEach(function(n){Dje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$M(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dje(e,t,r){return t=Lje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lje(e){var t=Mje(e,"string");return m1(t)=="symbol"?t:t+""}function Mje(e,t){if(m1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(m1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rje=function(t,r){var n=dl(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Px=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,s=t.sign,o=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,u=l*(o?1:-1)+a,f=Math.asin(l/u)/rw,h=c?i:i+s*f,p=vi(r,n,u,h),g=vi(r,n,a,h),m=c?i-s*f:i,v=vi(r,n,u*Math.cos(f*rw),m);return{center:p,circleTangency:g,lineTangency:v,theta:f}},cG=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.startAngle,o=t.endAngle,l=Rje(s,o),c=s+l,u=vi(r,n,i,s),f=vi(r,n,i,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=vi(r,n,a,s),g=vi(r,n,a,c);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},Fje=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.cornerRadius,o=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,u=t.endAngle,f=dl(u-c),h=Px({cx:r,cy:n,radius:i,angle:c,sign:f,cornerRadius:s,cornerIsExternal:l}),p=h.circleTangency,g=h.lineTangency,m=h.theta,v=Px({cx:r,cy:n,radius:i,angle:u,sign:-f,cornerRadius:s,cornerIsExternal:l}),y=v.circleTangency,b=v.lineTangency,w=v.theta,D=l?Math.abs(c-u):Math.abs(c-u)-m-w;if(D<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):cG({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:c,endAngle:u});var P="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(D>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var I=Px({cx:r,cy:n,radius:a,angle:c,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),T=I.circleTangency,_=I.lineTangency,S=I.theta,j=Px({cx:r,cy:n,radius:a,angle:u,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),E=j.circleTangency,N=j.lineTangency,O=j.theta,U=l?Math.abs(c-u):Math.abs(c-u)-S-O;if(U<0&&s===0)return"".concat(P,"L").concat(r,",").concat(n,"Z");P+="L".concat(N.x,",").concat(N.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(U>180),",").concat(+(f>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,"Z")}else P+="L".concat(r,",").concat(n,"Z");return P},$je={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},uG=function(t){var r=BM(BM({},$je),t),n=r.cx,a=r.cy,i=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,u=r.startAngle,f=r.endAngle,h=r.className;if(s<i||u===f)return null;var p=ln("recharts-sector",h),g=s-i,m=oh(o,g,0,!0),v;return m>0&&Math.abs(u-f)<360?v=Fje({cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(m,g/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:f}):v=cG({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:u,endAngle:f}),$e.createElement("path",A3({},Xr(r,!0),{className:p,d:v,role:"img"}))};function g1(e){"@babel/helpers - typeof";return g1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g1(e)}function T3(){return T3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T3.apply(this,arguments)}function UM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function VM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UM(Object(r),!0).forEach(function(n){Bje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bje(e,t,r){return t=Uje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uje(e){var t=Vje(e,"string");return g1(t)=="symbol"?t:t+""}function Vje(e,t){if(g1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(g1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zM={curveBasisClosed:B5e,curveBasisOpen:U5e,curveBasis:$5e,curveBumpX:T5e,curveBumpY:E5e,curveLinearClosed:V5e,curveLinear:U5,curveMonotoneX:z5e,curveMonotoneY:q5e,curveNatural:W5e,curveStep:H5e,curveStepAfter:K5e,curveStepBefore:G5e},Ox=function(t){return t.x===+t.x&&t.y===+t.y},Ym=function(t){return t.x},Xm=function(t){return t.y},zje=function(t,r){if(Br(t))return t;var n="curve".concat($5(t));return(n==="curveMonotone"||n==="curveBump")&&r?zM["".concat(n).concat(r==="vertical"?"Y":"X")]:zM[n]||U5},qje=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,s=t.baseLine,o=t.layout,l=t.connectNulls,c=l===void 0?!1:l,u=zje(n,o),f=c?i.filter(function(m){return Ox(m)}):i,h;if(Array.isArray(s)){var p=c?s.filter(function(m){return Ox(m)}):s,g=f.map(function(m,v){return VM(VM({},m),{},{base:p[v]})});return o==="vertical"?h=wx().y(Xm).x1(Ym).x0(function(m){return m.base.x}):h=wx().x(Ym).y1(Xm).y0(function(m){return m.base.y}),h.defined(Ox).curve(u),h(g)}return o==="vertical"&&Ft(s)?h=wx().y(Xm).x1(Ym).x0(s):Ft(s)?h=wx().x(Ym).y1(Xm).y0(s):h=uW().x(Ym).y(Xm),h.defined(Ox).curve(u),h(f)},E3=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var s=n&&n.length?qje(t):a;return $e.createElement("path",T3({},Xr(t,!1),Eb(t),{className:ln("recharts-curve",r),d:s,ref:i}))},fG={exports:{}},Wje="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Hje=Wje,Gje=Hje;function dG(){}function hG(){}hG.resetWarningCache=dG;var Kje=function(){function e(n,a,i,s,o,l){if(l!==Gje){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:hG,resetWarningCache:dG};return r.PropTypes=r,r};fG.exports=Kje();var Yje=fG.exports;const gn=Cn(Yje);var Xje=Object.getOwnPropertyNames,Qje=Object.getOwnPropertySymbols,Jje=Object.prototype.hasOwnProperty;function qM(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function Ix(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,s=i.get(r),o=i.get(n);if(s&&o)return s===n&&o===r;i.set(r,n),i.set(n,r);var l=e(r,n,a);return i.delete(r),i.delete(n),l}}function WM(e){return Xje(e).concat(Qje(e))}var Zje=Object.hasOwn||function(e,t){return Jje.call(e,t)};function Th(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var eDe="__v",tDe="__o",rDe="_owner",HM=Object.getOwnPropertyDescriptor,GM=Object.keys;function nDe(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function aDe(e,t){return Th(e.getTime(),t.getTime())}function iDe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function sDe(e,t){return e===t}function KM(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),s,o,l=0;(s=i.next())&&!s.done;){for(var c=t.entries(),u=!1,f=0;(o=c.next())&&!o.done;){if(a[f]){f++;continue}var h=s.value,p=o.value;if(r.equals(h[0],p[0],l,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){u=a[f]=!0;break}f++}if(!u)return!1;l++}return!0}var oDe=Th;function lDe(e,t,r){var n=GM(e),a=n.length;if(GM(t).length!==a)return!1;for(;a-- >0;)if(!pG(e,t,r,n[a]))return!1;return!0}function Qm(e,t,r){var n=WM(e),a=n.length;if(WM(t).length!==a)return!1;for(var i,s,o;a-- >0;)if(i=n[a],!pG(e,t,r,i)||(s=HM(e,i),o=HM(t,i),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function cDe(e,t){return Th(e.valueOf(),t.valueOf())}function uDe(e,t){return e.source===t.source&&e.flags===t.flags}function YM(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),s,o;(s=i.next())&&!s.done;){for(var l=t.values(),c=!1,u=0;(o=l.next())&&!o.done;){if(!a[u]&&r.equals(s.value,o.value,s.value,o.value,e,t,r)){c=a[u]=!0;break}u++}if(!c)return!1}return!0}function fDe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function dDe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function pG(e,t,r,n){return(n===rDe||n===tDe||n===eDe)&&(e.$$typeof||t.$$typeof)?!0:Zje(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var hDe="[object Arguments]",pDe="[object Boolean]",mDe="[object Date]",gDe="[object Error]",vDe="[object Map]",yDe="[object Number]",xDe="[object Object]",bDe="[object RegExp]",wDe="[object Set]",_De="[object String]",SDe="[object URL]",ADe=Array.isArray,XM=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,QM=Object.assign,TDe=Object.prototype.toString.call.bind(Object.prototype.toString);function EDe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,s=e.areNumbersEqual,o=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(g,m,v){if(g===m)return!0;if(g==null||m==null)return!1;var y=typeof g;if(y!==typeof m)return!1;if(y!=="object")return y==="number"?s(g,m,v):y==="function"?a(g,m,v):!1;var b=g.constructor;if(b!==m.constructor)return!1;if(b===Object)return o(g,m,v);if(ADe(g))return t(g,m,v);if(XM!=null&&XM(g))return f(g,m,v);if(b===Date)return r(g,m,v);if(b===RegExp)return c(g,m,v);if(b===Map)return i(g,m,v);if(b===Set)return u(g,m,v);var w=TDe(g);return w===mDe?r(g,m,v):w===bDe?c(g,m,v):w===vDe?i(g,m,v):w===wDe?u(g,m,v):w===xDe?typeof g.then!="function"&&typeof m.then!="function"&&o(g,m,v):w===SDe?h(g,m,v):w===gDe?n(g,m,v):w===hDe?o(g,m,v):w===pDe||w===yDe||w===_De?l(g,m,v):!1}}function NDe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Qm:nDe,areDatesEqual:aDe,areErrorsEqual:iDe,areFunctionsEqual:sDe,areMapsEqual:n?qM(KM,Qm):KM,areNumbersEqual:oDe,areObjectsEqual:n?Qm:lDe,arePrimitiveWrappersEqual:cDe,areRegExpsEqual:uDe,areSetsEqual:n?qM(YM,Qm):YM,areTypedArraysEqual:n?Qm:fDe,areUrlsEqual:dDe};if(r&&(a=QM({},a,r(a))),t){var i=Ix(a.areArraysEqual),s=Ix(a.areMapsEqual),o=Ix(a.areObjectsEqual),l=Ix(a.areSetsEqual);a=QM({},a,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return a}function kDe(e){return function(t,r,n,a,i,s,o){return e(t,r,o)}}function CDe(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(l,c){var u=n(),f=u.cache,h=f===void 0?t?new WeakMap:void 0:f,p=u.meta;return r(l,c,{cache:h,equals:a,meta:p,strict:i})};if(t)return function(l,c){return r(l,c,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var s={cache:void 0,equals:a,meta:void 0,strict:i};return function(l,c){return r(l,c,s)}}var PDe=Qf();Qf({strict:!0});Qf({circular:!0});Qf({circular:!0,strict:!0});Qf({createInternalComparator:function(){return Th}});Qf({strict:!0,createInternalComparator:function(){return Th}});Qf({circular:!0,createInternalComparator:function(){return Th}});Qf({circular:!0,createInternalComparator:function(){return Th},strict:!0});function Qf(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,s=i===void 0?!1:i,o=NDe(e),l=EDe(o),c=n?n(l):kDe(l);return CDe({circular:r,comparator:l,createState:a,equals:c,strict:s})}function ODe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function JM(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):ODe(a)};requestAnimationFrame(n)}function N3(e){"@babel/helpers - typeof";return N3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N3(e)}function IDe(e){return MDe(e)||LDe(e)||DDe(e)||jDe()}function jDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DDe(e,t){if(e){if(typeof e=="string")return ZM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZM(e,t)}}function ZM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function LDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function MDe(e){if(Array.isArray(e))return e}function RDe(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var s=i,o=IDe(s),l=o[0],c=o.slice(1);if(typeof l=="number"){JM(a.bind(null,c),l);return}a(l),JM(a.bind(null,c));return}N3(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function v1(e){"@babel/helpers - typeof";return v1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v1(e)}function eR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eR(Object(r),!0).forEach(function(n){mG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mG(e,t,r){return t=FDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FDe(e){var t=$De(e,"string");return v1(t)==="symbol"?t:String(t)}function $De(e,t){if(v1(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(v1(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BDe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},UDe=function(t){return t},VDe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Xg=function(t,r){return Object.keys(r).reduce(function(n,a){return tR(tR({},n),{},mG({},a,t(a,r[a])))},{})},rR=function(t,r,n){return t.map(function(a){return"".concat(VDe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function zDe(e,t){return HDe(e)||WDe(e,t)||gG(e,t)||qDe()}function qDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WDe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function HDe(e){if(Array.isArray(e))return e}function GDe(e){return XDe(e)||YDe(e)||gG(e)||KDe()}function KDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gG(e,t){if(e){if(typeof e=="string")return k3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k3(e,t)}}function YDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function XDe(e){if(Array.isArray(e))return k3(e)}function k3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var aw=1e-4,vG=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},yG=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},nR=function(t,r){return function(n){var a=vG(t,r);return yG(a,n)}},QDe=function(t,r){return function(n){var a=vG(t,r),i=[].concat(GDe(a.map(function(s,o){return s*o}).slice(1)),[0]);return yG(i,n)}},aR=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,s=1,o=1;break;case"ease":a=.25,i=.1,s=.25,o=1;break;case"ease-in":a=.42,i=0,s=1,o=1;break;case"ease-out":a=.42,i=0,s=.58,o=1;break;case"ease-in-out":a=0,i=0,s=.58,o=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),u=zDe(c,4);a=u[0],i=u[1],s=u[2],o=u[3]}}}var f=nR(a,s),h=nR(i,o),p=QDe(a,s),g=function(y){return y>1?1:y<0?0:y},m=function(y){for(var b=y>1?1:y,w=b,D=0;D<8;++D){var P=f(w)-b,I=p(w);if(Math.abs(P-b)<aw||I<aw)return h(w);w=g(w-P/I)}return h(w)};return m.isStepper=!1,m},JDe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,s=t.dt,o=s===void 0?17:s,l=function(u,f,h){var p=-(u-f)*n,g=h*i,m=h+(p-g)*o/1e3,v=h*o/1e3+u;return Math.abs(v-f)<aw&&Math.abs(m)<aw?[f,0]:[v,m]};return l.isStepper=!0,l.dt=o,l},ZDe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return aR(a);case"spring":return JDe();default:if(a.split("(")[0]==="cubic-bezier")return aR(a)}return typeof a=="function"?a:null};function y1(e){"@babel/helpers - typeof";return y1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y1(e)}function iR(e){return r8e(e)||t8e(e)||xG(e)||e8e()}function e8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function r8e(e){if(Array.isArray(e))return P3(e)}function sR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ci(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sR(Object(r),!0).forEach(function(n){C3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C3(e,t,r){return t=n8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n8e(e){var t=a8e(e,"string");return y1(t)==="symbol"?t:String(t)}function a8e(e,t){if(y1(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(y1(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function i8e(e,t){return l8e(e)||o8e(e,t)||xG(e,t)||s8e()}function s8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xG(e,t){if(e){if(typeof e=="string")return P3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P3(e,t)}}function P3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function l8e(e){if(Array.isArray(e))return e}var iw=function(t,r,n){return t+(r-t)*n},O3=function(t){var r=t.from,n=t.to;return r!==n},c8e=function e(t,r,n){var a=Xg(function(i,s){if(O3(s)){var o=t(s.from,s.to,s.velocity),l=i8e(o,2),c=l[0],u=l[1];return ci(ci({},s),{},{from:c,velocity:u})}return s},r);return n<1?Xg(function(i,s){return O3(s)?ci(ci({},s),{},{velocity:iw(s.velocity,a[i].velocity,n),from:iw(s.from,a[i].from,n)}):s},r):e(t,a,n-1)};const u8e=function(e,t,r,n,a){var i=BDe(e,t),s=i.reduce(function(v,y){return ci(ci({},v),{},C3({},y,[e[y],t[y]]))},{}),o=i.reduce(function(v,y){return ci(ci({},v),{},C3({},y,{from:e[y],velocity:0,to:t[y]}))},{}),l=-1,c,u,f=function(){return null},h=function(){return Xg(function(y,b){return b.from},o)},p=function(){return!Object.values(o).filter(O3).length},g=function(y){c||(c=y);var b=y-c,w=b/r.dt;o=c8e(r,o,w),a(ci(ci(ci({},e),t),h())),c=y,p()||(l=requestAnimationFrame(f))},m=function(y){u||(u=y);var b=(y-u)/n,w=Xg(function(P,I){return iw.apply(void 0,iR(I).concat([r(b)]))},s);if(a(ci(ci(ci({},e),t),w)),b<1)l=requestAnimationFrame(f);else{var D=Xg(function(P,I){return iw.apply(void 0,iR(I).concat([r(1)]))},s);a(ci(ci(ci({},e),t),D))}};return f=r.isStepper?g:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Ap(e){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ap(e)}var f8e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function d8e(e,t){if(e==null)return{};var r=h8e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function h8e(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function dA(e){return v8e(e)||g8e(e)||m8e(e)||p8e()}function p8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m8e(e,t){if(e){if(typeof e=="string")return I3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I3(e,t)}}function g8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function v8e(e){if(Array.isArray(e))return I3(e)}function I3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oR(Object(r),!0).forEach(function(n){gg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gg(e,t,r){return t=bG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x8e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bG(n.key),n)}}function b8e(e,t,r){return t&&x8e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bG(e){var t=w8e(e,"string");return Ap(t)==="symbol"?t:String(t)}function w8e(e,t){if(Ap(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ap(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j3(e,t)}function j3(e,t){return j3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},j3(e,t)}function S8e(e){var t=A8e();return function(){var n=sw(e),a;if(t){var i=sw(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return D3(this,a)}}function D3(e,t){if(t&&(Ap(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L3(e)}function L3(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A8e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function sw(e){return sw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sw(e)}var tu=function(e){_8e(r,e);var t=S8e(r);function r(n,a){var i;y8e(this,r),i=t.call(this,n,a);var s=i.props,o=s.isActive,l=s.attributeName,c=s.from,u=s.to,f=s.steps,h=s.children,p=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind(L3(i)),i.changeStyle=i.changeStyle.bind(L3(i)),!o||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:u}),D3(i);if(f&&f.length)i.state={style:f[0].style};else if(c){if(typeof h=="function")return i.state={style:c},D3(i);i.state={style:l?gg({},l,c):c}}else i.state={style:{}};return i}return b8e(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,o=i.canBegin,l=i.attributeName,c=i.shouldReAnimate,u=i.to,f=i.from,h=this.state.style;if(o){if(!s){var p={style:l?gg({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(p);return}if(!(PDe(a.to,u)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||c?f:a.to;if(this.state&&h){var v={style:l?gg({},l,m):m};(l&&h[l]!==m||!l&&h!==m)&&this.setState(v)}this.runAnimation(Qo(Qo({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,o=a.to,l=a.duration,c=a.easing,u=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,p=u8e(s,o,ZDe(c),l,this.changeStyle),g=function(){i.stopJSAnimation=p()};this.manager.start([h,u,g,l,f])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,o=a.begin,l=a.onAnimationStart,c=s[0],u=c.style,f=c.duration,h=f===void 0?0:f,p=function(m,v,y){if(y===0)return m;var b=v.duration,w=v.easing,D=w===void 0?"ease":w,P=v.style,I=v.properties,T=v.onAnimationEnd,_=y>0?s[y-1]:v,S=I||Object.keys(P);if(typeof D=="function"||D==="spring")return[].concat(dA(m),[i.runJSAnimation.bind(i,{from:_.style,to:P,duration:b,easing:D}),b]);var j=rR(S,b,D),E=Qo(Qo(Qo({},_.style),P),{},{transition:j});return[].concat(dA(m),[E,b,T]).filter(UDe)};return this.manager.start([l].concat(dA(s.reduce(p,[u,Math.max(h,o)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=RDe());var i=a.begin,s=a.duration,o=a.attributeName,l=a.to,c=a.easing,u=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,p=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var m=o?gg({},o,l):l,v=rR(Object.keys(m),s,c);g.start([u,i,Qo(Qo({},m),{},{transition:v}),s,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var o=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=d8e(a,f8e),c=B.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!o||c===0||s<=0)return i;var f=function(p){var g=p.props,m=g.style,v=m===void 0?{}:m,y=g.className,b=B.cloneElement(p,Qo(Qo({},l),{},{style:Qo(Qo({},v),u),className:y}));return b};return c===1?f(B.Children.only(i)):$e.createElement("div",null,B.Children.map(i,function(h){return f(h)}))}}]),r}(B.PureComponent);tu.displayName="Animate";tu.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};tu.propTypes={from:gn.oneOfType([gn.object,gn.string]),to:gn.oneOfType([gn.object,gn.string]),attributeName:gn.string,duration:gn.number,begin:gn.number,easing:gn.oneOfType([gn.string,gn.func]),steps:gn.arrayOf(gn.shape({duration:gn.number.isRequired,style:gn.object.isRequired,easing:gn.oneOfType([gn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),gn.func]),properties:gn.arrayOf("string"),onAnimationEnd:gn.func})),children:gn.oneOfType([gn.node,gn.func]),isActive:gn.bool,canBegin:gn.bool,onAnimationEnd:gn.func,shouldReAnimate:gn.bool,onAnimationStart:gn.func,onAnimationReStart:gn.func};function x1(e){"@babel/helpers - typeof";return x1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x1(e)}function ow(){return ow=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ow.apply(this,arguments)}function T8e(e,t){return C8e(e)||k8e(e,t)||N8e(e,t)||E8e()}function E8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N8e(e,t){if(e){if(typeof e=="string")return lR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lR(e,t)}}function lR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function C8e(e){if(Array.isArray(e))return e}function cR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cR(Object(r),!0).forEach(function(n){P8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P8e(e,t,r){return t=O8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O8e(e){var t=I8e(e,"string");return x1(t)=="symbol"?t:t+""}function I8e(e,t){if(x1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(x1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fR=function(t,r,n,a,i){var s=Math.min(Math.abs(n)/2,Math.abs(a)/2),o=a>=0?1:-1,l=n>=0?1:-1,c=a>=0&&n>=0||a<0&&n<0?1:0,u;if(s>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=i[h]>s?s:i[h];u="M".concat(t,",").concat(r+o*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(t+l*f[0],",").concat(r)),u+="L ".concat(t+n-l*f[1],",").concat(r),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(r+o*f[1])),u+="L ".concat(t+n,",").concat(r+a-o*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(t+n-l*f[2],",").concat(r+a)),u+="L ".concat(t+l*f[3],",").concat(r+a),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(r+a-o*f[3])),u+="Z"}else if(s>0&&i===+i&&i>0){var g=Math.min(s,i);u="M ".concat(t,",").concat(r+o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+l*g,",").concat(r,`
            L `).concat(t+n-l*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+n,",").concat(r+o*g,`
            L `).concat(t+n,",").concat(r+a-o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+n-l*g,",").concat(r+a,`
            L `).concat(t+l*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t,",").concat(r+a-o*g," Z")}else u="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return u},j8e=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,s=r.y,o=r.width,l=r.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(i,i+o),u=Math.max(i,i+o),f=Math.min(s,s+l),h=Math.max(s,s+l);return n>=c&&n<=u&&a>=f&&a<=h}return!1},D8e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},pP=function(t){var r=uR(uR({},D8e),t),n=B.useRef(),a=B.useState(-1),i=T8e(a,2),s=i[0],o=i[1];B.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var D=n.current.getTotalLength();D&&o(D)}catch{}},[]);var l=r.x,c=r.y,u=r.width,f=r.height,h=r.radius,p=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,y=r.isAnimationActive,b=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var w=ln("recharts-rectangle",p);return b?$e.createElement(tu,{canBegin:s>0,from:{width:u,height:f,x:l,y:c},to:{width:u,height:f,x:l,y:c},duration:m,animationEasing:g,isActive:b},function(D){var P=D.width,I=D.height,T=D.x,_=D.y;return $e.createElement(tu,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,isActive:y,easing:g},$e.createElement("path",ow({},Xr(r,!0),{className:w,d:fR(T,_,P,I,h),ref:n})))}):$e.createElement("path",ow({},Xr(r,!0),{className:w,d:fR(l,c,u,f,h)}))};function M3(){return M3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M3.apply(this,arguments)}var mP=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,s=ln("recharts-dot",i);return r===+r&&n===+n&&a===+a?$e.createElement("circle",M3({},Xr(t,!1),Eb(t),{className:s,cx:r,cy:n,r:a})):null};function b1(e){"@babel/helpers - typeof";return b1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b1(e)}var L8e=["x","y","top","left","width","height","className"];function R3(){return R3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R3.apply(this,arguments)}function dR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function M8e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dR(Object(r),!0).forEach(function(n){R8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R8e(e,t,r){return t=F8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F8e(e){var t=$8e(e,"string");return b1(t)=="symbol"?t:t+""}function $8e(e,t){if(b1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(b1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function B8e(e,t){if(e==null)return{};var r=U8e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function U8e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var V8e=function(t,r,n,a,i,s){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(s,",").concat(r,"h").concat(n)},z8e=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.top,o=s===void 0?0:s,l=t.left,c=l===void 0?0:l,u=t.width,f=u===void 0?0:u,h=t.height,p=h===void 0?0:h,g=t.className,m=B8e(t,L8e),v=M8e({x:n,y:i,top:o,left:c,width:f,height:p},m);return!Ft(n)||!Ft(i)||!Ft(f)||!Ft(p)||!Ft(o)||!Ft(c)?null:$e.createElement("path",R3({},Xr(v,!0),{className:ln("recharts-cross",g),d:V8e(n,i,f,p,o,c)}))},q8e=DW,W8e=q8e(Object.getPrototypeOf,Object),H8e=W8e,G8e=lu,K8e=H8e,Y8e=cu,X8e="[object Object]",Q8e=Function.prototype,J8e=Object.prototype,wG=Q8e.toString,Z8e=J8e.hasOwnProperty,eLe=wG.call(Object);function tLe(e){if(!Y8e(e)||G8e(e)!=X8e)return!1;var t=K8e(e);if(t===null)return!0;var r=Z8e.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&wG.call(r)==eLe}var rLe=tLe;const nLe=Cn(rLe);var aLe=lu,iLe=cu,sLe="[object Boolean]";function oLe(e){return e===!0||e===!1||iLe(e)&&aLe(e)==sLe}var lLe=oLe;const cLe=Cn(lLe);function w1(e){"@babel/helpers - typeof";return w1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w1(e)}function lw(){return lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lw.apply(this,arguments)}function uLe(e,t){return pLe(e)||hLe(e,t)||dLe(e,t)||fLe()}function fLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dLe(e,t){if(e){if(typeof e=="string")return hR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hR(e,t)}}function hR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hLe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function pLe(e){if(Array.isArray(e))return e}function pR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pR(Object(r),!0).forEach(function(n){mLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mLe(e,t,r){return t=gLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gLe(e){var t=vLe(e,"string");return w1(t)=="symbol"?t:t+""}function vLe(e,t){if(w1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(w1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gR=function(t,r,n,a,i){var s=n-a,o;return o="M ".concat(t,",").concat(r),o+="L ".concat(t+n,",").concat(r),o+="L ".concat(t+n-s/2,",").concat(r+i),o+="L ".concat(t+n-s/2-a,",").concat(r+i),o+="L ".concat(t,",").concat(r," Z"),o},yLe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xLe=function(t){var r=mR(mR({},yLe),t),n=B.useRef(),a=B.useState(-1),i=uLe(a,2),s=i[0],o=i[1];B.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&o(w)}catch{}},[]);var l=r.x,c=r.y,u=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,y=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||h!==+h||u===0&&f===0||h===0)return null;var b=ln("recharts-trapezoid",p);return y?$e.createElement(tu,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:f,height:h,x:l,y:c},duration:m,animationEasing:g,isActive:y},function(w){var D=w.upperWidth,P=w.lowerWidth,I=w.height,T=w.x,_=w.y;return $e.createElement(tu,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,easing:g},$e.createElement("path",lw({},Xr(r,!0),{className:b,d:gR(T,_,D,P,I),ref:n})))}):$e.createElement("g",null,$e.createElement("path",lw({},Xr(r,!0),{className:b,d:gR(l,c,u,f,h)})))},bLe=["option","shapeType","propTransformer","activeClassName","isActive"];function _1(e){"@babel/helpers - typeof";return _1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_1(e)}function wLe(e,t){if(e==null)return{};var r=_Le(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _Le(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function vR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vR(Object(r),!0).forEach(function(n){SLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SLe(e,t,r){return t=ALe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ALe(e){var t=TLe(e,"string");return _1(t)=="symbol"?t:t+""}function TLe(e,t){if(_1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ELe(e,t){return cw(cw({},t),e)}function NLe(e,t){return e==="symbols"}function yR(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return $e.createElement(pP,r);case"trapezoid":return $e.createElement(xLe,r);case"sector":return $e.createElement(uG,r);case"symbols":if(NLe(t))return $e.createElement(jC,r);break;default:return null}}function kLe(e){return B.isValidElement(e)?e.props:e}function CLe(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?ELe:n,i=e.activeClassName,s=i===void 0?"recharts-active-shape":i,o=e.isActive,l=wLe(e,bLe),c;if(B.isValidElement(t))c=B.cloneElement(t,cw(cw({},l),kLe(t)));else if(Br(t))c=t(l);else if(nLe(t)&&!cLe(t)){var u=a(t,l);c=$e.createElement(yR,{shapeType:r,elementProps:u})}else{var f=l;c=$e.createElement(yR,{shapeType:r,elementProps:f})}return o?$e.createElement(ba,{className:s},c):c}function n_(e,t){return t!=null&&"trapezoids"in e.props}function a_(e,t){return t!=null&&"sectors"in e.props}function S1(e,t){return t!=null&&"points"in e.props}function PLe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function OLe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function ILe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function jLe(e,t){var r;return n_(e,t)?r=PLe:a_(e,t)?r=OLe:S1(e,t)&&(r=ILe),r}function DLe(e,t){var r;return n_(e,t)?r="trapezoids":a_(e,t)?r="sectors":S1(e,t)&&(r="points"),r}function LLe(e,t){if(n_(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(a_(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return S1(e,t)?t.payload:{}}function MLe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=DLe(r,t),i=LLe(r,t),s=n.filter(function(l,c){var u=e_(i,l),f=r.props[a].filter(function(g){var m=jLe(r,t);return m(g,t)}),h=r.props[a].indexOf(f[f.length-1]),p=c===h;return u&&p}),o=n.indexOf(s[s.length-1]);return o}var RLe=Math.ceil,FLe=Math.max;function $Le(e,t,r,n){for(var a=-1,i=FLe(RLe((t-e)/(r||1)),0),s=Array(i);i--;)s[n?i:++a]=e,e+=r;return s}var BLe=$Le,ULe=ZW,xR=1/0,VLe=17976931348623157e292;function zLe(e){if(!e)return e===0?e:0;if(e=ULe(e),e===xR||e===-xR){var t=e<0?-1:1;return t*VLe}return e===e?e:0}var _G=zLe,qLe=BLe,WLe=W5,hA=_G;function HLe(e){return function(t,r,n){return n&&typeof n!="number"&&WLe(t,r,n)&&(r=n=void 0),t=hA(t),r===void 0?(r=t,t=0):r=hA(r),n=n===void 0?t<r?1:-1:hA(n),qLe(t,r,n,e)}}var GLe=HLe,KLe=GLe,YLe=KLe(),XLe=YLe;const uw=Cn(XLe);function A1(e){"@babel/helpers - typeof";return A1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A1(e)}function bR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bR(Object(r),!0).forEach(function(n){SG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SG(e,t,r){return t=QLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QLe(e){var t=JLe(e,"string");return A1(t)=="symbol"?t:t+""}function JLe(e,t){if(A1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(A1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZLe=["Webkit","Moz","O","ms"],eMe=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=ZLe.reduce(function(i,s){return wR(wR({},i),{},SG({},s+n,r))},{});return a[t]=r,a};function Tp(e){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tp(e)}function fw(){return fw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fw.apply(this,arguments)}function _R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_R(Object(r),!0).forEach(function(n){Vs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_R(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TG(n.key),n)}}function rMe(e,t,r){return t&&SR(e.prototype,t),r&&SR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function nMe(e,t,r){return t=dw(t),aMe(e,AG()?Reflect.construct(t,r||[],dw(e).constructor):t.apply(e,r))}function aMe(e,t){if(t&&(Tp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iMe(e)}function iMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AG=function(){return!!e})()}function dw(e){return dw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dw(e)}function sMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F3(e,t)}function F3(e,t){return F3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},F3(e,t)}function Vs(e,t,r){return t=TG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TG(e){var t=oMe(e,"string");return Tp(t)=="symbol"?t:t+""}function oMe(e,t){if(Tp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lMe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,s=t.width,o=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=Kg().domain(uw(0,l)).range([i,i+s-o]),u=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(a),scale:c,scaleValues:u}},AR=function(t){return t.changedTouches&&!!t.changedTouches.length},Ep=function(e){function t(r){var n;return tMe(this,t),n=nMe(this,t,[r]),Vs(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Vs(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Vs(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,s=a.onDragEnd,o=a.startIndex;s==null||s({endIndex:i,startIndex:o})}),n.detachDragEndListener()}),Vs(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Vs(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Vs(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Vs(n,"handleSlideDragStart",function(a){var i=AR(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return sMe(t,e),rMe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,s=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,u=c.length-1,f=Math.min(a,i),h=Math.max(a,i),p=t.getIndexInRange(s,f),g=t.getIndexInRange(s,h);return{startIndex:p-p%l,endIndex:g===u?u:g-g%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,s=a.tickFormatter,o=a.dataKey,l=eo(i[n],o,n);return Br(s)?s(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,s=a.startX,o=a.endX,l=this.props,c=l.x,u=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,g=l.onChange,m=n.pageX-i;m>0?m=Math.min(m,c+u-f-o,c+u-f-s):m<0&&(m=Math.max(m,c-s,c-o));var v=this.getIndex({startX:s+m,endX:o+m});(v.startIndex!==h||v.endIndex!==p)&&g&&g(v),this.setState({startX:s+m,endX:o+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=AR(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,o=a.endX,l=a.startX,c=this.state[s],u=this.props,f=u.x,h=u.width,p=u.travellerWidth,g=u.onChange,m=u.gap,v=u.data,y={startX:this.state.startX,endX:this.state.endX},b=n.pageX-i;b>0?b=Math.min(b,f+h-p-c):b<0&&(b=Math.max(b,f-c)),y[s]=c+b;var w=this.getIndex(y),D=w.startIndex,P=w.endIndex,I=function(){var _=v.length-1;return s==="startX"&&(o>l?D%m===0:P%m===0)||o<l&&P===_||s==="endX"&&(o>l?P%m===0:D%m===0)||o>l&&P===_};this.setState(Vs(Vs({},s,c+b),"brushMoveStartX",n.pageX),function(){g&&I()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,s=this.state,o=s.scaleValues,l=s.startX,c=s.endX,u=this.state[a],f=o.indexOf(u);if(f!==-1){var h=f+n;if(!(h===-1||h>=o.length)){var p=o[h];a==="startX"&&p>=c||a==="endX"&&p<=l||this.setState(Vs({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.fill,c=n.stroke;return $e.createElement("rect",{stroke:c,fill:l,x:a,y:i,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.data,c=n.children,u=n.padding,f=B.Children.only(c);return f?$e.cloneElement(f,{x:a,y:i,width:s,height:o,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,s,o=this,l=this.props,c=l.y,u=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,g=l.data,m=l.startIndex,v=l.endIndex,y=Math.max(n,this.props.x),b=pA(pA({},Xr(this.props,!1)),{},{x:y,y:c,width:u,height:f}),w=p||"Min value: ".concat((i=g[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=g[v])===null||s===void 0?void 0:s.name);return $e.createElement(ba,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(P){["ArrowLeft","ArrowRight"].includes(P.key)&&(P.preventDefault(),P.stopPropagation(),o.handleTravellerMoveKeyboard(P.key==="ArrowRight"?1:-1,a))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,b))}},{key:"renderSlide",value:function(n,a){var i=this.props,s=i.y,o=i.height,l=i.stroke,c=i.travellerWidth,u=Math.min(n,a)+c,f=Math.max(Math.abs(a-n)-c,0);return $e.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:s,width:f,height:o})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,s=n.y,o=n.height,l=n.travellerWidth,c=n.stroke,u=this.state,f=u.startX,h=u.endX,p=5,g={pointerEvents:"none",fill:c};return $e.createElement(ba,{className:"recharts-brush-texts"},$e.createElement(Ub,fw({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:s+o/2},g),this.getTextOfTick(a)),$e.createElement(Ub,fw({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:s+o/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,s=n.children,o=n.x,l=n.y,c=n.width,u=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,g=h.endX,m=h.isTextActive,v=h.isSlideMoving,y=h.isTravellerMoving,b=h.isTravellerFocused;if(!a||!a.length||!Ft(o)||!Ft(l)||!Ft(c)||!Ft(u)||c<=0||u<=0)return null;var w=ln("recharts-brush",i),D=$e.Children.count(s)===1,P=eMe("userSelect","none");return $e.createElement(ba,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:P},this.renderBackground(),D&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(m||v||y||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,s=n.width,o=n.height,l=n.stroke,c=Math.floor(i+o/2)-1;return $e.createElement($e.Fragment,null,$e.createElement("rect",{x:a,y:i,width:s,height:o,fill:l,stroke:"none"}),$e.createElement("line",{x1:a+1,y1:c,x2:a+s-1,y2:c,fill:"none",stroke:"#fff"}),$e.createElement("line",{x1:a+1,y1:c+2,x2:a+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return $e.isValidElement(n)?i=$e.cloneElement(n,a):Br(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,s=n.width,o=n.x,l=n.travellerWidth,c=n.updateId,u=n.startIndex,f=n.endIndex;if(i!==a.prevData||c!==a.prevUpdateId)return pA({prevData:i,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s},i&&i.length?lMe({data:i,width:s,x:o,travellerWidth:l,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||o!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([o,o+s-l]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,s=0,o=i-1;o-s>1;){var l=Math.floor((s+o)/2);n[l]>a?o=l:s=l}return a>=n[o]?o:s}}])}(B.PureComponent);Vs(Ep,"displayName","Brush");Vs(Ep,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var cMe=BC;function uMe(e,t){var r;return cMe(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var fMe=uMe,dMe=EW,hMe=Kf,pMe=fMe,mMe=js,gMe=W5;function vMe(e,t,r){var n=mMe(e)?dMe:pMe;return r&&gMe(e,t,r)&&(t=void 0),n(e,hMe(t))}var yMe=vMe;const xMe=Cn(yMe);var Xl=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},TR=KW;function bMe(e,t,r){t=="__proto__"&&TR?TR(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var wMe=bMe,_Me=wMe,SMe=HW,AMe=Kf;function TMe(e,t){var r={};return t=AMe(t),SMe(e,function(n,a,i){_Me(r,a,t(n,a,i))}),r}var EMe=TMe;const NMe=Cn(EMe);function kMe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var CMe=kMe,PMe=BC;function OMe(e,t){var r=!0;return PMe(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var IMe=OMe,jMe=CMe,DMe=IMe,LMe=Kf,MMe=js,RMe=W5;function FMe(e,t,r){var n=MMe(e)?jMe:DMe;return r&&RMe(e,t,r)&&(t=void 0),n(e,LMe(t))}var $Me=FMe;const EG=Cn($Me);var BMe=["x","y"];function T1(e){"@babel/helpers - typeof";return T1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T1(e)}function $3(){return $3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$3.apply(this,arguments)}function ER(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ER(Object(r),!0).forEach(function(n){UMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ER(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UMe(e,t,r){return t=VMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VMe(e){var t=zMe(e,"string");return T1(t)=="symbol"?t:t+""}function zMe(e,t){if(T1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(T1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qMe(e,t){if(e==null)return{};var r=WMe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function WMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function HMe(e,t){var r=e.x,n=e.y,a=qMe(e,BMe),i="".concat(r),s=parseInt(i,10),o="".concat(n),l=parseInt(o,10),c="".concat(t.height||a.height),u=parseInt(c,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Jm(Jm(Jm(Jm(Jm({},t),a),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function NR(e){return $e.createElement(CLe,$3({shapeType:"rectangle",propTransformer:HMe,activeClassName:"recharts-active-bar"},e))}var GMe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=typeof n=="number";return i?t(n,a):(i||ch(),r)}},KMe=["value","background"],NG;function Np(e){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Np(e)}function YMe(e,t){if(e==null)return{};var r=XMe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function XMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hw(){return hw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hw.apply(this,arguments)}function kR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ca(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kR(Object(r),!0).forEach(function(n){sf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,CG(n.key),n)}}function JMe(e,t,r){return t&&CR(e.prototype,t),r&&CR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZMe(e,t,r){return t=pw(t),eRe(e,kG()?Reflect.construct(t,r||[],pw(e).constructor):t.apply(e,r))}function eRe(e,t){if(t&&(Np(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tRe(e)}function tRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kG=function(){return!!e})()}function pw(e){return pw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pw(e)}function rRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B3(e,t)}function B3(e,t){return B3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},B3(e,t)}function sf(e,t,r){return t=CG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CG(e){var t=nRe(e,"string");return Np(t)=="symbol"?t:t+""}function nRe(e,t){if(Np(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hy=function(e){function t(){var r;QMe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=ZMe(this,t,[].concat(a)),sf(r,"state",{isAnimationFinished:!1}),sf(r,"id",sy("recharts-bar-")),sf(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),sf(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return rRe(t,e),JMe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,s=i.shape,o=i.dataKey,l=i.activeIndex,c=i.activeBar,u=Xr(this.props,!1);return n&&n.map(function(f,h){var p=h===l,g=p?c:s,m=Ca(Ca(Ca({},u),f),{},{isActive:p,option:g,index:h,dataKey:o,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return $e.createElement(ba,hw({className:"recharts-bar-rectangle"},Nb(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),$e.createElement(NR,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,s=a.layout,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,f=a.animationId,h=this.state.prevData;return $e.createElement(tu,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,m=i.map(function(v,y){var b=h&&h[y];if(b){var w=ol(b.x,v.x),D=ol(b.y,v.y),P=ol(b.width,v.width),I=ol(b.height,v.height);return Ca(Ca({},v),{},{x:w(g),y:D(g),width:P(g),height:I(g)})}if(s==="horizontal"){var T=ol(0,v.height),_=T(g);return Ca(Ca({},v),{},{y:v.y+v.height-_,height:_})}var S=ol(0,v.width),j=S(g);return Ca(Ca({},v),{},{width:j})});return $e.createElement(ba,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,s=this.state.prevData;return i&&a&&a.length&&(!s||!e_(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,s=a.dataKey,o=a.activeIndex,l=Xr(this.props.background,!1);return i.map(function(c,u){c.value;var f=c.background,h=YMe(c,KMe);if(!f)return null;var p=Ca(Ca(Ca(Ca(Ca({},h),{},{fill:"#eee"},f),l),Nb(n.props,c,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:u,className:"recharts-bar-background-rectangle"});return $e.createElement(NR,hw({key:"background-bar-".concat(u),option:n.props.background,isActive:u===o},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.data,o=i.xAxis,l=i.yAxis,c=i.layout,u=i.children,f=ko(u,dy);if(!f)return null;var h=c==="vertical"?s[0].height/2:s[0].width/2,p=function(v,y){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:eo(v,y)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return $e.createElement(ba,g,f.map(function(m){return $e.cloneElement(m,{key:"error-bar-".concat(a,"-").concat(m.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,s=n.className,o=n.xAxis,l=n.yAxis,c=n.left,u=n.top,f=n.width,h=n.height,p=n.isAnimationActive,g=n.background,m=n.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,y=ln("recharts-bar",s),b=o&&o.allowDataOverflow,w=l&&l.allowDataOverflow,D=b||w,P=Kr(m)?this.id:m;return $e.createElement(ba,{className:y},b||w?$e.createElement("defs",null,$e.createElement("clipPath",{id:"clipPath-".concat(P)},$e.createElement("rect",{x:b?c:c-f/2,y:w?u:u-h/2,width:b?f:f*2,height:w?h:h*2}))):null,$e.createElement(ba,{className:"recharts-bar-rectangles",clipPath:D?"url(#clipPath-".concat(P,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(D,P),(!p||v)&&Af.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(B.PureComponent);NG=hy;sf(hy,"displayName","Bar");sf(hy,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Rc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});sf(hy,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,s=e.yAxis,o=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,f=e.displayedData,h=e.offset,p=jIe(n,r);if(!p)return null;var g=t.layout,m=r.type.defaultProps,v=m!==void 0?Ca(Ca({},m),r.props):r.props,y=v.dataKey,b=v.children,w=v.minPointSize,D=g==="horizontal"?s:i,P=c?D.scale.domain():null,I=UIe({numericAxis:D}),T=ko(b,tH),_=f.map(function(S,j){var E,N,O,U,Y,K;c?E=DIe(c[u+j],P):(E=eo(S,y),Array.isArray(E)||(E=[I,E]));var J=GMe(w,NG.defaultProps.minPointSize)(E[1],j);if(g==="horizontal"){var z,V=[s.scale(E[0]),s.scale(E[1])],ee=V[0],Z=V[1];N=kM({axis:i,ticks:o,bandSize:a,offset:p.offset,entry:S,index:j}),O=(z=Z??ee)!==null&&z!==void 0?z:void 0,U=p.size;var k=ee-Z;if(Y=Number.isNaN(k)?0:k,K={x:N,y:s.y,width:U,height:s.height},Math.abs(J)>0&&Math.abs(Y)<Math.abs(J)){var R=dl(Y||J)*(Math.abs(J)-Math.abs(Y));O-=R,Y+=R}}else{var q=[i.scale(E[0]),i.scale(E[1])],G=q[0],Q=q[1];if(N=G,O=kM({axis:s,ticks:l,bandSize:a,offset:p.offset,entry:S,index:j}),U=Q-G,Y=p.size,K={x:i.x,y:O,width:i.width,height:Y},Math.abs(J)>0&&Math.abs(U)<Math.abs(J)){var ie=dl(U||J)*(Math.abs(J)-Math.abs(U));U+=ie}}return Ca(Ca(Ca({},S),{},{x:N,y:O,width:U,height:Y,value:c?E:E[1],payload:S,background:K},T&&T[j]&&T[j].props),{},{tooltipPayload:[oG(r,S)],tooltipPosition:{x:N+U/2,y:O+Y/2}})});return Ca({data:_,layout:g},h)});function E1(e){"@babel/helpers - typeof";return E1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E1(e)}function aRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PG(n.key),n)}}function iRe(e,t,r){return t&&PR(e.prototype,t),r&&PR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function OR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function al(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OR(Object(r),!0).forEach(function(n){i_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i_(e,t,r){return t=PG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PG(e){var t=sRe(e,"string");return E1(t)=="symbol"?t:t+""}function sRe(e,t){if(E1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(E1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oRe=function(t,r,n,a,i){var s=t.width,o=t.height,l=t.layout,c=t.children,u=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},h=!!qs(c,hy);return u.reduce(function(p,g){var m=r[g],v=m.orientation,y=m.domain,b=m.padding,w=b===void 0?{}:b,D=m.mirror,P=m.reversed,I="".concat(v).concat(D?"Mirror":""),T,_,S,j,E;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var N=y[1]-y[0],O=1/0,U=m.categoricalDomain.sort(hwe);if(U.forEach(function(q,G){G>0&&(O=Math.min((q||0)-(U[G-1]||0),O))}),Number.isFinite(O)){var Y=O/N,K=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(T=Y*K/2),m.padding==="no-gap"){var J=oh(t.barCategoryGap,Y*K),z=Y*K/2;T=z-J-(z-J)/K*J}}}a==="xAxis"?_=[n.left+(w.left||0)+(T||0),n.left+n.width-(w.right||0)-(T||0)]:a==="yAxis"?_=l==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(T||0),n.top+n.height-(w.bottom||0)-(T||0)]:_=m.range,P&&(_=[_[1],_[0]]);var V=OIe(m,i,h),ee=V.scale,Z=V.realScaleType;ee.domain(y).range(_),IIe(ee);var k=BIe(ee,al(al({},m),{},{realScaleType:Z}));a==="xAxis"?(E=v==="top"&&!D||v==="bottom"&&D,S=n.left,j=f[I]-E*m.height):a==="yAxis"&&(E=v==="left"&&!D||v==="right"&&D,S=f[I]-E*m.width,j=n.top);var R=al(al(al({},m),k),{},{realScaleType:Z,x:S,y:j,scale:ee,width:a==="xAxis"?n.width:m.width,height:a==="yAxis"?n.height:m.height});return R.bandSize=tw(R,k),!m.hide&&a==="xAxis"?f[I]+=(E?-1:1)*R.height:m.hide||(f[I]+=(E?-1:1)*R.width),al(al({},p),{},i_({},g,R))},{})},OG=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return{x:Math.min(n,i),y:Math.min(a,s),width:Math.abs(i-n),height:Math.abs(s-a)}},lRe=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return OG({x:r,y:n},{x:a,y:i})},IG=function(){function e(t){aRe(this,e),this.scale=t}return iRe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();i_(IG,"EPS",1e-4);var gP=function(t){var r=Object.keys(t).reduce(function(n,a){return al(al({},n),{},i_({},a,IG.create(t[a])))},{});return al(al({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,o=i.position;return NMe(a,function(l,c){return r[c].apply(l,{bandAware:s,position:o})})},isInRange:function(a){return EG(a,function(i,s){return r[s].isInRange(i)})}})};function cRe(e){return(e%180+180)%180}var uRe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=cRe(a),s=i*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},fRe=Kf,dRe=oy,hRe=z5;function pRe(e){return function(t,r,n){var a=Object(t);if(!dRe(t)){var i=fRe(r);t=hRe(t),r=function(o){return i(a[o],o,a)}}var s=e(t,r,n);return s>-1?a[i?t[s]:s]:void 0}}var mRe=pRe,gRe=_G;function vRe(e){var t=gRe(e),r=t%1;return t===t?r?t-r:t:0}var yRe=vRe,xRe=BW,bRe=Kf,wRe=yRe,_Re=Math.max;function SRe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:wRe(r);return a<0&&(a=_Re(n+a,0)),xRe(e,bRe(t),a)}var ARe=SRe,TRe=mRe,ERe=ARe,NRe=TRe(ERe),kRe=NRe;const CRe=Cn(kRe);var PRe=mbe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),vP=B.createContext(void 0),yP=B.createContext(void 0),jG=B.createContext(void 0),DG=B.createContext({}),LG=B.createContext(void 0),MG=B.createContext(0),RG=B.createContext(0),IR=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,s=t.clipPathId,o=t.children,l=t.width,c=t.height,u=PRe(i);return $e.createElement(vP.Provider,{value:n},$e.createElement(yP.Provider,{value:a},$e.createElement(DG.Provider,{value:i},$e.createElement(jG.Provider,{value:u},$e.createElement(LG.Provider,{value:s},$e.createElement(MG.Provider,{value:c},$e.createElement(RG.Provider,{value:l},o)))))))},ORe=function(){return B.useContext(LG)},FG=function(t){var r=B.useContext(vP);r==null&&ch();var n=r[t];return n==null&&ch(),n},IRe=function(){var t=B.useContext(vP);return Qu(t)},jRe=function(){var t=B.useContext(yP),r=CRe(t,function(n){return EG(n.domain,Number.isFinite)});return r||Qu(t)},$G=function(t){var r=B.useContext(yP);r==null&&ch();var n=r[t];return n==null&&ch(),n},DRe=function(){var t=B.useContext(jG);return t},LRe=function(){return B.useContext(DG)},xP=function(){return B.useContext(RG)},bP=function(){return B.useContext(MG)};function kp(e){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kp(e)}function MRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UG(n.key),n)}}function FRe(e,t,r){return t&&RRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $Re(e,t,r){return t=mw(t),BRe(e,BG()?Reflect.construct(t,r||[],mw(e).constructor):t.apply(e,r))}function BRe(e,t){if(t&&(kp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return URe(e)}function URe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BG=function(){return!!e})()}function mw(e){return mw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mw(e)}function VRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U3(e,t)}function U3(e,t){return U3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},U3(e,t)}function jR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function DR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jR(Object(r),!0).forEach(function(n){wP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wP(e,t,r){return t=UG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UG(e){var t=zRe(e,"string");return kp(t)=="symbol"?t:t+""}function zRe(e,t){if(kp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qRe(e,t){return KRe(e)||GRe(e,t)||HRe(e,t)||WRe()}function WRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HRe(e,t){if(e){if(typeof e=="string")return LR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LR(e,t)}}function LR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function GRe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function KRe(e){if(Array.isArray(e))return e}function V3(){return V3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V3.apply(this,arguments)}var YRe=function(t,r){var n;return $e.isValidElement(t)?n=$e.cloneElement(t,r):Br(t)?n=t(r):n=$e.createElement("line",V3({},r,{className:"recharts-reference-line-line"})),n},XRe=function(t,r,n,a,i,s,o,l,c){var u=i.x,f=i.y,h=i.width,p=i.height;if(n){var g=c.y,m=t.y.apply(g,{position:s});if(Xl(c,"discard")&&!t.y.isInRange(m))return null;var v=[{x:u+h,y:m},{x:u,y:m}];return l==="left"?v.reverse():v}if(r){var y=c.x,b=t.x.apply(y,{position:s});if(Xl(c,"discard")&&!t.x.isInRange(b))return null;var w=[{x:b,y:f+p},{x:b,y:f}];return o==="top"?w.reverse():w}if(a){var D=c.segment,P=D.map(function(I){return t.apply(I,{position:s})});return Xl(c,"discard")&&xMe(P,function(I){return!t.isInRange(I)})?null:P}return null};function QRe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,s=e.shape,o=e.className,l=e.alwaysShow,c=ORe(),u=FG(a),f=$G(i),h=DRe();if(!c||!h)return null;Mc(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=gP({x:u.scale,y:f.scale}),g=Ua(t),m=Ua(r),v=n&&n.length===2,y=XRe(p,g,m,v,h,e.position,u.orientation,f.orientation,e);if(!y)return null;var b=qRe(y,2),w=b[0],D=w.x,P=w.y,I=b[1],T=I.x,_=I.y,S=Xl(e,"hidden")?"url(#".concat(c,")"):void 0,j=DR(DR({clipPath:S},Xr(e,!0)),{},{x1:D,y1:P,x2:T,y2:_});return $e.createElement(ba,{className:ln("recharts-reference-line",o)},YRe(s,j),Bi.renderCallByParent(e,lRe({x1:D,y1:P,x2:T,y2:_})))}var _P=function(e){function t(){return MRe(this,t),$Re(this,t,arguments)}return VRe(t,e),FRe(t,[{key:"render",value:function(){return $e.createElement(QRe,this.props)}}])}($e.Component);wP(_P,"displayName","ReferenceLine");wP(_P,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function z3(){return z3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},z3.apply(this,arguments)}function Cp(e){"@babel/helpers - typeof";return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cp(e)}function MR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MR(Object(r),!0).forEach(function(n){s_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zG(n.key),n)}}function e7e(e,t,r){return t&&ZRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function t7e(e,t,r){return t=gw(t),r7e(e,VG()?Reflect.construct(t,r||[],gw(e).constructor):t.apply(e,r))}function r7e(e,t){if(t&&(Cp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n7e(e)}function n7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VG=function(){return!!e})()}function gw(e){return gw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gw(e)}function a7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q3(e,t)}function q3(e,t){return q3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},q3(e,t)}function s_(e,t,r){return t=zG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zG(e){var t=i7e(e,"string");return Cp(t)=="symbol"?t:t+""}function i7e(e,t){if(Cp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var s7e=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,s=gP({x:a.scale,y:i.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return Xl(t,"discard")&&!s.isInRange(o)?null:o},o_=function(e){function t(){return JRe(this,t),t7e(this,t,arguments)}return a7e(t,e),e7e(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,s=n.r,o=n.alwaysShow,l=n.clipPathId,c=Ua(a),u=Ua(i);if(Mc(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var f=s7e(this.props);if(!f)return null;var h=f.x,p=f.y,g=this.props,m=g.shape,v=g.className,y=Xl(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=RR(RR({clipPath:y},Xr(this.props,!0)),{},{cx:h,cy:p});return $e.createElement(ba,{className:ln("recharts-reference-dot",v)},t.renderDot(m,b),Bi.renderCallByParent(this.props,{x:h-s,y:p-s,width:2*s,height:2*s}))}}])}($e.Component);s_(o_,"displayName","ReferenceDot");s_(o_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});s_(o_,"renderDot",function(e,t){var r;return $e.isValidElement(e)?r=$e.cloneElement(e,t):Br(e)?r=e(t):r=$e.createElement(mP,z3({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function W3(){return W3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},W3.apply(this,arguments)}function Pp(e){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pp(e)}function FR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $R(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FR(Object(r),!0).forEach(function(n){l_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l7e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WG(n.key),n)}}function c7e(e,t,r){return t&&l7e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function u7e(e,t,r){return t=vw(t),f7e(e,qG()?Reflect.construct(t,r||[],vw(e).constructor):t.apply(e,r))}function f7e(e,t){if(t&&(Pp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d7e(e)}function d7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qG=function(){return!!e})()}function vw(e){return vw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vw(e)}function h7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&H3(e,t)}function H3(e,t){return H3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},H3(e,t)}function l_(e,t,r){return t=WG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WG(e){var t=p7e(e,"string");return Pp(t)=="symbol"?t:t+""}function p7e(e,t){if(Pp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var m7e=function(t,r,n,a,i){var s=i.x1,o=i.x2,l=i.y1,c=i.y2,u=i.xAxis,f=i.yAxis;if(!u||!f)return null;var h=gP({x:u.scale,y:f.scale}),p={x:t?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(c,{position:"end"}):h.y.rangeMax};return Xl(i,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:OG(p,g)},c_=function(e){function t(){return o7e(this,t),u7e(this,t,arguments)}return h7e(t,e),c7e(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,s=n.y1,o=n.y2,l=n.className,c=n.alwaysShow,u=n.clipPathId;Mc(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Ua(a),h=Ua(i),p=Ua(s),g=Ua(o),m=this.props.shape;if(!f&&!h&&!p&&!g&&!m)return null;var v=m7e(f,h,p,g,this.props);if(!v&&!m)return null;var y=Xl(this.props,"hidden")?"url(#".concat(u,")"):void 0;return $e.createElement(ba,{className:ln("recharts-reference-area",l)},t.renderRect(m,$R($R({clipPath:y},Xr(this.props,!0)),v)),Bi.renderCallByParent(this.props,v))}}])}($e.Component);l_(c_,"displayName","ReferenceArea");l_(c_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});l_(c_,"renderRect",function(e,t){var r;return $e.isValidElement(e)?r=$e.cloneElement(e,t):Br(e)?r=e(t):r=$e.createElement(pP,W3({},t,{className:"recharts-reference-area-rect"})),r});function HG(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function g7e(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return uRe(n,r)}function v7e(e,t,r){var n=r==="width",a=e.x,i=e.y,s=e.width,o=e.height;return t===1?{start:n?a:i,end:n?a+s:i+o}:{start:n?a+s:i+o,end:n?a:i}}function yw(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function y7e(e,t){return HG(e,t+1)}function x7e(e,t,r,n,a){for(var i=(n||[]).slice(),s=t.start,o=t.end,l=0,c=1,u=s,f=function(){var g=n==null?void 0:n[l];if(g===void 0)return{v:HG(n,c)};var m=l,v,y=function(){return v===void 0&&(v=r(g,m)),v},b=g.coordinate,w=l===0||yw(e,b,y,u,o);w||(l=0,u=s,c+=1),w&&(u=b+e*(y()/2+a),l+=c)},h;c<=i.length;)if(h=f(),h)return h.v;return[]}function N1(e){"@babel/helpers - typeof";return N1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N1(e)}function BR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Li(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BR(Object(r),!0).forEach(function(n){b7e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b7e(e,t,r){return t=w7e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w7e(e){var t=_7e(e,"string");return N1(t)=="symbol"?t:t+""}function _7e(e,t){if(N1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(N1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function S7e(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,o=t.start,l=t.end,c=function(h){var p=i[h],g,m=function(){return g===void 0&&(g=r(p,h)),g};if(h===s-1){var v=e*(p.coordinate+e*m()/2-l);i[h]=p=Li(Li({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else i[h]=p=Li(Li({},p),{},{tickCoord:p.coordinate});var y=yw(e,p.tickCoord,m,o,l);y&&(l=p.tickCoord-e*(m()/2+a),i[h]=Li(Li({},p),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return i}function A7e(e,t,r,n,a,i){var s=(n||[]).slice(),o=s.length,l=t.start,c=t.end;if(i){var u=n[o-1],f=r(u,o-1),h=e*(u.coordinate+e*f/2-c);s[o-1]=u=Li(Li({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate});var p=yw(e,u.tickCoord,function(){return f},l,c);p&&(c=u.tickCoord-e*(f/2+a),s[o-1]=Li(Li({},u),{},{isShow:!0}))}for(var g=i?o-1:o,m=function(b){var w=s[b],D,P=function(){return D===void 0&&(D=r(w,b)),D};if(b===0){var I=e*(w.coordinate-e*P()/2-l);s[b]=w=Li(Li({},w),{},{tickCoord:I<0?w.coordinate-I*e:w.coordinate})}else s[b]=w=Li(Li({},w),{},{tickCoord:w.coordinate});var T=yw(e,w.tickCoord,P,l,c);T&&(l=w.tickCoord+e*(P()/2+a),s[b]=Li(Li({},w),{},{isShow:!0}))},v=0;v<g;v++)m(v);return s}function SP(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,s=e.minTickGap,o=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(Ft(l)||Rc.isSsr)return y7e(a,typeof l=="number"&&Ft(l)?l:0);var h=[],p=o==="top"||o==="bottom"?"width":"height",g=u&&p==="width"?Gg(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(w,D){var P=Br(c)?c(w.value,D):w.value;return p==="width"?g7e(Gg(P,{fontSize:t,letterSpacing:r}),g,f):Gg(P,{fontSize:t,letterSpacing:r})[p]},v=a.length>=2?dl(a[1].coordinate-a[0].coordinate):1,y=v7e(i,v,p);return l==="equidistantPreserveStart"?x7e(v,y,m,a,s):(l==="preserveStart"||l==="preserveStartEnd"?h=A7e(v,y,m,a,s,l==="preserveStartEnd"):h=S7e(v,y,m,a,s),h.filter(function(b){return b.isShow}))}var T7e=["viewBox"],E7e=["viewBox"],N7e=["ticks"];function Op(e){"@babel/helpers - typeof";return Op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Op(e)}function E0(){return E0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E0.apply(this,arguments)}function UR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ts(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UR(Object(r),!0).forEach(function(n){AP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mA(e,t){if(e==null)return{};var r=k7e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function k7e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function C7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KG(n.key),n)}}function P7e(e,t,r){return t&&VR(e.prototype,t),r&&VR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function O7e(e,t,r){return t=xw(t),I7e(e,GG()?Reflect.construct(t,r||[],xw(e).constructor):t.apply(e,r))}function I7e(e,t){if(t&&(Op(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j7e(e)}function j7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GG=function(){return!!e})()}function xw(e){return xw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xw(e)}function D7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G3(e,t)}function G3(e,t){return G3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},G3(e,t)}function AP(e,t,r){return t=KG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KG(e){var t=L7e(e,"string");return Op(t)=="symbol"?t:t+""}function L7e(e,t){if(Op(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hm=function(e){function t(r){var n;return C7e(this,t),n=O7e(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return D7e(t,e),P7e(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,s=mA(n,T7e),o=this.props,l=o.viewBox,c=mA(o,E7e);return!B0(i,l)||!B0(s,c)||!B0(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,s=a.y,o=a.width,l=a.height,c=a.orientation,u=a.tickSize,f=a.mirror,h=a.tickMargin,p,g,m,v,y,b,w=f?-1:1,D=n.tickSize||u,P=Ft(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":p=g=n.coordinate,v=s+ +!f*l,m=v-w*D,b=m-w*h,y=P;break;case"left":m=v=n.coordinate,g=i+ +!f*o,p=g-w*D,y=p-w*h,b=P;break;case"right":m=v=n.coordinate,g=i+ +f*o,p=g+w*D,y=p+w*h,b=P;break;default:p=g=n.coordinate,v=s+ +f*l,m=v+w*D,b=m+w*h,y=P;break}return{line:{x1:p,y1:m,x2:g,y2:v},tick:{x:y,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s;switch(a){case"left":s=i?"start":"end";break;case"right":s=i?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=i?"start":"end";break;default:s=i?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.orientation,c=n.mirror,u=n.axisLine,f=ts(ts(ts({},Xr(this.props,!1)),Xr(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=ts(ts({},f),{},{x1:a,y1:i+h*o,x2:a+s,y2:i+h*o})}else{var p=+(l==="left"&&!c||l==="right"&&c);f=ts(ts({},f),{},{x1:a+p*s,y1:i,x2:a+p*s,y2:i+o})}return $e.createElement("line",E0({},f,{className:ln("recharts-cartesian-axis-line",No(u,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var s=this,o=this.props,l=o.tickLine,c=o.stroke,u=o.tick,f=o.tickFormatter,h=o.unit,p=SP(ts(ts({},this.props),{},{ticks:n}),a,i),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),v=Xr(this.props,!1),y=Xr(u,!1),b=ts(ts({},v),{},{fill:"none"},Xr(l,!1)),w=p.map(function(D,P){var I=s.getTickLineCoord(D),T=I.line,_=I.tick,S=ts(ts(ts(ts({textAnchor:g,verticalAnchor:m},v),{},{stroke:"none",fill:c},y),_),{},{index:P,payload:D,visibleTicksCount:p.length,tickFormatter:f});return $e.createElement(ba,E0({className:"recharts-cartesian-axis-tick",key:"tick-".concat(D.value,"-").concat(D.coordinate,"-").concat(D.tickCoord)},Nb(s.props,D,P)),l&&$e.createElement("line",E0({},b,T,{className:ln("recharts-cartesian-axis-tick-line",No(l,"className"))})),u&&t.renderTickItem(u,S,"".concat(Br(f)?f(D.value,P):D.value).concat(h||"")))});return $e.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,s=a.width,o=a.height,l=a.ticksGenerator,c=a.className,u=a.hide;if(u)return null;var f=this.props,h=f.ticks,p=mA(f,N7e),g=h;return Br(l)&&(g=h&&h.length>0?l(this.props):l(p)),s<=0||o<=0||!g||!g.length?null:$e.createElement(ba,{className:ln("recharts-cartesian-axis",c),ref:function(v){n.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Bi.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var s;return $e.isValidElement(n)?s=$e.cloneElement(n,a):Br(n)?s=n(a):s=$e.createElement(Ub,E0({},a,{className:"recharts-cartesian-axis-tick-value"}),i),s}}])}(B.Component);AP(hm,"displayName","CartesianAxis");AP(hm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var M7e=["x1","y1","x2","y2","key"],R7e=["offset"];function uh(e){"@babel/helpers - typeof";return uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uh(e)}function zR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ui(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zR(Object(r),!0).forEach(function(n){F7e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F7e(e,t,r){return t=$7e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $7e(e){var t=B7e(e,"string");return uh(t)=="symbol"?t:t+""}function B7e(e,t){if(uh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(uh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Md(){return Md=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Md.apply(this,arguments)}function qR(e,t){if(e==null)return{};var r=U7e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function U7e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var V7e=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,s=t.width,o=t.height,l=t.ry;return $e.createElement("rect",{x:a,y:i,ry:l,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function YG(e,t){var r;if($e.isValidElement(e))r=$e.cloneElement(e,t);else if(Br(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,s=t.y2,o=t.key,l=qR(t,M7e),c=Xr(l,!1);c.offset;var u=qR(c,R7e);r=$e.createElement("line",Md({},u,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:o}))}return r}function z7e(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,l){var c=Ui(Ui({},e),{},{x1:t,y1:o,x2:t+r,y2:o,key:"line-".concat(l),index:l});return YG(a,c)});return $e.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function q7e(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,l){var c=Ui(Ui({},e),{},{x1:o,y1:t,x2:o,y2:t+r,key:"line-".concat(l),index:l});return YG(a,c)});return $e.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function W7e(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,s=e.height,o=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var u=o.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==u[0]&&u.unshift(0);var f=u.map(function(h,p){var g=!u[p+1],m=g?a+s-h:u[p+1]-h;if(m<=0)return null;var v=p%t.length;return $e.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return $e.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function H7e(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,s=e.y,o=e.width,l=e.height,c=e.verticalPoints;if(!r||!n||!n.length)return null;var u=c.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==u[0]&&u.unshift(0);var f=u.map(function(h,p){var g=!u[p+1],m=g?i+o-h:u[p+1]-h;if(m<=0)return null;var v=p%n.length;return $e.createElement("rect",{key:"react-".concat(p),x:h,y:s,width:m,height:l,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return $e.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var G7e=function(t,r){var n=t.xAxis,a=t.width,i=t.height,s=t.offset;return iG(SP(Ui(Ui(Ui({},hm.defaultProps),n),{},{ticks:Pc(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.left,s.left+s.width,r)},K7e=function(t,r){var n=t.yAxis,a=t.width,i=t.height,s=t.offset;return iG(SP(Ui(Ui(Ui({},hm.defaultProps),n),{},{ticks:Pc(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.top,s.top+s.height,r)},Qh={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function z0(e){var t,r,n,a,i,s,o=xP(),l=bP(),c=LRe(),u=Ui(Ui({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Qh.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Qh.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Qh.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Qh.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Qh.vertical,verticalFill:(s=e.verticalFill)!==null&&s!==void 0?s:Qh.verticalFill,x:Ft(e.x)?e.x:c.left,y:Ft(e.y)?e.y:c.top,width:Ft(e.width)?e.width:c.width,height:Ft(e.height)?e.height:c.height}),f=u.x,h=u.y,p=u.width,g=u.height,m=u.syncWithTicks,v=u.horizontalValues,y=u.verticalValues,b=IRe(),w=jRe();if(!Ft(p)||p<=0||!Ft(g)||g<=0||!Ft(f)||f!==+f||!Ft(h)||h!==+h)return null;var D=u.verticalCoordinatesGenerator||G7e,P=u.horizontalCoordinatesGenerator||K7e,I=u.horizontalPoints,T=u.verticalPoints;if((!I||!I.length)&&Br(P)){var _=v&&v.length,S=P({yAxis:w?Ui(Ui({},w),{},{ticks:_?v:w.ticks}):void 0,width:o,height:l,offset:c},_?!0:m);Mc(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(uh(S),"]")),Array.isArray(S)&&(I=S)}if((!T||!T.length)&&Br(D)){var j=y&&y.length,E=D({xAxis:b?Ui(Ui({},b),{},{ticks:j?y:b.ticks}):void 0,width:o,height:l,offset:c},j?!0:m);Mc(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(uh(E),"]")),Array.isArray(E)&&(T=E)}return $e.createElement("g",{className:"recharts-cartesian-grid"},$e.createElement(V7e,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),$e.createElement(z7e,Md({},u,{offset:c,horizontalPoints:I,xAxis:b,yAxis:w})),$e.createElement(q7e,Md({},u,{offset:c,verticalPoints:T,xAxis:b,yAxis:w})),$e.createElement(W7e,Md({},u,{horizontalPoints:I})),$e.createElement(H7e,Md({},u,{verticalPoints:T})))}z0.displayName="CartesianGrid";var Y7e=["type","layout","connectNulls","ref"],X7e=["key"];function Ip(e){"@babel/helpers - typeof";return Ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ip(e)}function WR(e,t){if(e==null)return{};var r=Q7e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Q7e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Qg(){return Qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qg.apply(this,arguments)}function HR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Us(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HR(Object(r),!0).forEach(function(n){il(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jh(e){return tFe(e)||eFe(e)||Z7e(e)||J7e()}function J7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z7e(e,t){if(e){if(typeof e=="string")return K3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K3(e,t)}}function eFe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tFe(e){if(Array.isArray(e))return K3(e)}function K3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QG(n.key),n)}}function nFe(e,t,r){return t&&GR(e.prototype,t),r&&GR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function aFe(e,t,r){return t=bw(t),iFe(e,XG()?Reflect.construct(t,r||[],bw(e).constructor):t.apply(e,r))}function iFe(e,t){if(t&&(Ip(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sFe(e)}function sFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XG=function(){return!!e})()}function bw(e){return bw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bw(e)}function oFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y3(e,t)}function Y3(e,t){return Y3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Y3(e,t)}function il(e,t,r){return t=QG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QG(e){var t=lFe(e,"string");return Ip(t)=="symbol"?t:t+""}function lFe(e,t){if(Ip(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ip(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mi=function(e){function t(){var r;rFe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=aFe(this,t,[].concat(a)),il(r,"state",{isAnimationFinished:!0,totalLength:0}),il(r,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),il(r,"getStrokeDasharray",function(s,o,l){var c=l.reduce(function(y,b){return y+b});if(!c)return r.generateSimpleStrokeDasharray(o,s);for(var u=Math.floor(s/c),f=s%c,h=o-s,p=[],g=0,m=0;g<l.length;m+=l[g],++g)if(m+l[g]>f){p=[].concat(Jh(l.slice(0,g)),[f-m]);break}var v=p.length%2===0?[0,h]:[h];return[].concat(Jh(t.repeat(l,u)),Jh(p),v).map(function(y){return"".concat(y,"px")}).join(", ")}),il(r,"id",sy("recharts-line-")),il(r,"pathRef",function(s){r.mainCurve=s}),il(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),il(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return oFe(t,e),nFe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.points,o=i.xAxis,l=i.yAxis,c=i.layout,u=i.children,f=ko(u,dy);if(!f)return null;var h=function(m,v){return{x:m.x,y:m.y,value:m.value,errorVal:eo(m.payload,v)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return $e.createElement(ba,p,f.map(function(g){return $e.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,i){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,c=o.points,u=o.dataKey,f=Xr(this.props,!1),h=Xr(l,!0),p=c.map(function(m,v){var y=Us(Us(Us({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:m.x,cy:m.y,value:m.value,dataKey:u,payload:m.payload,points:c});return t.renderDotItem(l,y)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return $e.createElement(ba,Qg({className:"recharts-line-dots",key:"dots"},g),p)}},{key:"renderCurveStatically",value:function(n,a,i,s){var o=this.props,l=o.type,c=o.layout,u=o.connectNulls;o.ref;var f=WR(o,Y7e),h=Us(Us(Us({},Xr(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},s),{},{type:l,layout:c,connectNulls:u});return $e.createElement(E3,Qg({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,s=this.props,o=s.points,l=s.strokeDasharray,c=s.isAnimationActive,u=s.animationBegin,f=s.animationDuration,h=s.animationEasing,p=s.animationId,g=s.animateNewValues,m=s.width,v=s.height,y=this.state,b=y.prevPoints,w=y.totalLength;return $e.createElement(tu,{begin:u,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(D){var P=D.t;if(b){var I=b.length/o.length,T=o.map(function(N,O){var U=Math.floor(O*I);if(b[U]){var Y=b[U],K=ol(Y.x,N.x),J=ol(Y.y,N.y);return Us(Us({},N),{},{x:K(P),y:J(P)})}if(g){var z=ol(m*2,N.x),V=ol(v/2,N.y);return Us(Us({},N),{},{x:z(P),y:V(P)})}return Us(Us({},N),{},{x:N.x,y:N.y})});return i.renderCurveStatically(T,n,a)}var _=ol(0,w),S=_(P),j;if(l){var E="".concat(l).split(/[,\s]+/gim).map(function(N){return parseFloat(N)});j=i.getStrokeDasharray(S,w,E)}else j=i.generateSimpleStrokeDasharray(w,S);return i.renderCurveStatically(o,n,a,{strokeDasharray:j})})}},{key:"renderCurve",value:function(n,a){var i=this.props,s=i.points,o=i.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return o&&s&&s.length&&(!c&&u>0||!e_(c,s))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(s,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,s=a.dot,o=a.points,l=a.className,c=a.xAxis,u=a.yAxis,f=a.top,h=a.left,p=a.width,g=a.height,m=a.isAnimationActive,v=a.id;if(i||!o||!o.length)return null;var y=this.state.isAnimationFinished,b=o.length===1,w=ln("recharts-line",l),D=c&&c.allowDataOverflow,P=u&&u.allowDataOverflow,I=D||P,T=Kr(v)?this.id:v,_=(n=Xr(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},S=_.r,j=S===void 0?3:S,E=_.strokeWidth,N=E===void 0?2:E,O=_we(s)?s:{},U=O.clipDot,Y=U===void 0?!0:U,K=j*2+N;return $e.createElement(ba,{className:w},D||P?$e.createElement("defs",null,$e.createElement("clipPath",{id:"clipPath-".concat(T)},$e.createElement("rect",{x:D?h:h-p/2,y:P?f:f-g/2,width:D?p:p*2,height:P?g:g*2})),!Y&&$e.createElement("clipPath",{id:"clipPath-dots-".concat(T)},$e.createElement("rect",{x:h-K/2,y:f-K/2,width:p+K,height:g+K}))):null,!b&&this.renderCurve(I,T),this.renderErrorBar(I,T),(b||s)&&this.renderDots(I,Y,T),(!m||y)&&Af.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(Jh(n),[0]):n,s=[],o=0;o<a;++o)s=[].concat(Jh(s),Jh(i));return s}},{key:"renderDotItem",value:function(n,a){var i;if($e.isValidElement(n))i=$e.cloneElement(n,a);else if(Br(n))i=n(a);else{var s=a.key,o=WR(a,X7e),l=ln("recharts-line-dot",typeof n!="boolean"?n.className:"");i=$e.createElement(mP,Qg({key:s},o,{className:l}))}return i}}])}(B.PureComponent);il(mi,"displayName","Line");il(mi,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Rc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});il(mi,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,s=e.dataKey,o=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout,f=l.map(function(h,p){var g=eo(h,s);return u==="horizontal"?{x:NM({axis:r,ticks:a,bandSize:o,entry:h,index:p}),y:Kr(g)?null:n.scale(g),value:g,payload:h}:{x:Kr(g)?null:r.scale(g),y:NM({axis:n,ticks:i,bandSize:o,entry:h,index:p}),value:g,payload:h}});return Us({points:f,layout:u},c)});function jp(e){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jp(e)}function cFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eK(n.key),n)}}function fFe(e,t,r){return t&&uFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dFe(e,t,r){return t=ww(t),hFe(e,JG()?Reflect.construct(t,r||[],ww(e).constructor):t.apply(e,r))}function hFe(e,t){if(t&&(jp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pFe(e)}function pFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JG=function(){return!!e})()}function ww(e){return ww=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ww(e)}function mFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X3(e,t)}function X3(e,t){return X3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},X3(e,t)}function ZG(e,t,r){return t=eK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eK(e){var t=gFe(e,"string");return jp(t)=="symbol"?t:t+""}function gFe(e,t){if(jp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(jp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Q3(){return Q3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q3.apply(this,arguments)}function vFe(e){var t=e.xAxisId,r=xP(),n=bP(),a=FG(t);return a==null?null:$e.createElement(hm,Q3({},a,{className:ln("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return Pc(s,!0)}}))}var Tf=function(e){function t(){return cFe(this,t),dFe(this,t,arguments)}return mFe(t,e),fFe(t,[{key:"render",value:function(){return $e.createElement(vFe,this.props)}}])}($e.Component);ZG(Tf,"displayName","XAxis");ZG(Tf,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Dp(e){"@babel/helpers - typeof";return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dp(e)}function yFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nK(n.key),n)}}function bFe(e,t,r){return t&&xFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wFe(e,t,r){return t=_w(t),_Fe(e,tK()?Reflect.construct(t,r||[],_w(e).constructor):t.apply(e,r))}function _Fe(e,t){if(t&&(Dp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SFe(e)}function SFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tK=function(){return!!e})()}function _w(e){return _w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_w(e)}function AFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J3(e,t)}function J3(e,t){return J3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},J3(e,t)}function rK(e,t,r){return t=nK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nK(e){var t=TFe(e,"string");return Dp(t)=="symbol"?t:t+""}function TFe(e,t){if(Dp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z3(){return Z3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Z3.apply(this,arguments)}var EFe=function(t){var r=t.yAxisId,n=xP(),a=bP(),i=$G(r);return i==null?null:$e.createElement(hm,Z3({},i,{className:ln("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(o){return Pc(o,!0)}}))},Ef=function(e){function t(){return yFe(this,t),wFe(this,t,arguments)}return AFe(t,e),bFe(t,[{key:"render",value:function(){return $e.createElement(EFe,this.props)}}])}($e.Component);rK(Ef,"displayName","YAxis");rK(Ef,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function KR(e){return PFe(e)||CFe(e)||kFe(e)||NFe()}function NFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kFe(e,t){if(e){if(typeof e=="string")return eE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eE(e,t)}}function CFe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function PFe(e){if(Array.isArray(e))return eE(e)}function eE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var tE=function(t,r,n,a,i){var s=ko(t,_P),o=ko(t,o_),l=[].concat(KR(s),KR(o)),c=ko(t,c_),u="".concat(a,"Id"),f=a[0],h=r;if(l.length&&(h=l.reduce(function(m,v){if(v.props[u]===n&&Xl(v.props,"extendDomain")&&Ft(v.props[f])){var y=v.props[f];return[Math.min(m[0],y),Math.max(m[1],y)]}return m},h)),c.length){var p="".concat(f,"1"),g="".concat(f,"2");h=c.reduce(function(m,v){if(v.props[u]===n&&Xl(v.props,"extendDomain")&&Ft(v.props[p])&&Ft(v.props[g])){var y=v.props[p],b=v.props[g];return[Math.min(m[0],y,b),Math.max(m[1],y,b)]}return m},h)}return i&&i.length&&(h=i.reduce(function(m,v){return Ft(v)?[Math.min(m[0],v),Math.max(m[1],v)]:m},h)),h},aK={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function i(l,c,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new a(u,f||l,h),g=r?r+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)t.call(u,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=r?r+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},o.prototype.listenerCount=function(c){var u=r?r+c:c,f=this._events[u];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,u,f,h,p,g){var m=r?r+c:c;if(!this._events[m])return!1;var v=this._events[m],y=arguments.length,b,w;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,f),!0;case 4:return v.fn.call(v.context,u,f,h),!0;case 5:return v.fn.call(v.context,u,f,h,p),!0;case 6:return v.fn.call(v.context,u,f,h,p,g),!0}for(w=1,b=new Array(y-1);w<y;w++)b[w-1]=arguments[w];v.fn.apply(v.context,b)}else{var D=v.length,P;for(w=0;w<D;w++)switch(v[w].once&&this.removeListener(c,v[w].fn,void 0,!0),y){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,u);break;case 3:v[w].fn.call(v[w].context,u,f);break;case 4:v[w].fn.call(v[w].context,u,f,h);break;default:if(!b)for(P=1,b=new Array(y-1);P<y;P++)b[P-1]=arguments[P];v[w].fn.apply(v[w].context,b)}}return!0},o.prototype.on=function(c,u,f){return i(this,c,u,f,!1)},o.prototype.once=function(c,u,f){return i(this,c,u,f,!0)},o.prototype.removeListener=function(c,u,f,h){var p=r?r+c:c;if(!this._events[p])return this;if(!u)return s(this,p),this;var g=this._events[p];if(g.fn)g.fn===u&&(!h||g.once)&&(!f||g.context===f)&&s(this,p);else{for(var m=0,v=[],y=g.length;m<y;m++)(g[m].fn!==u||h&&!g[m].once||f&&g[m].context!==f)&&v.push(g[m]);v.length?this._events[p]=v.length===1?v[0]:v:s(this,p)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&s(this,u)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(aK);var OFe=aK.exports;const IFe=Cn(OFe);var gA=new IFe,vA="recharts.syncMouseEvents";function k1(e){"@babel/helpers - typeof";return k1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k1(e)}function jFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iK(n.key),n)}}function LFe(e,t,r){return t&&DFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yA(e,t,r){return t=iK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iK(e){var t=MFe(e,"string");return k1(t)=="symbol"?t:t+""}function MFe(e,t){if(k1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(k1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var RFe=function(){function e(){jFe(this,e),yA(this,"activeIndex",0),yA(this,"coordinateList",[]),yA(this,"layout","horizontal")}return LFe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,s=r.container,o=s===void 0?null:s,l=r.layout,c=l===void 0?null:l,u=r.offset,f=u===void 0?null:u,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,o=a.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+l+c,h=s+this.offset.top+o/2+u;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function FFe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&Ft(n)&&Ft(a))return!0}return!1}function $Fe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function sK(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,s=vi(t,r,n,a),o=vi(t,r,n,i);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function BFe(e,t,r){var n,a,i,s;if(e==="horizontal")n=t.x,i=n,a=r.top,s=r.top+r.height;else if(e==="vertical")a=t.y,s=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var o=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,f=t.angle,h=vi(o,l,c,f),p=vi(o,l,u,f);n=h.x,a=h.y,i=p.x,s=p.y}else return sK(t);return[{x:n,y:a},{x:i,y:s}]}function C1(e){"@babel/helpers - typeof";return C1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C1(e)}function YR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YR(Object(r),!0).forEach(function(n){UFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UFe(e,t,r){return t=VFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VFe(e){var t=zFe(e,"string");return C1(t)=="symbol"?t:t+""}function zFe(e,t){if(C1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(C1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qFe(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,s=e.activeCoordinate,o=e.activePayload,l=e.offset,c=e.activeTooltipIndex,u=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!s||h!=="ScatterChart"&&a!=="axis")return null;var g,m=E3;if(h==="ScatterChart")g=s,m=z8e;else if(h==="BarChart")g=$Fe(f,s,l,u),m=pP;else if(f==="radial"){var v=sK(s),y=v.cx,b=v.cy,w=v.radius,D=v.startAngle,P=v.endAngle;g={cx:y,cy:b,startAngle:D,endAngle:P,innerRadius:w,outerRadius:w},m=uG}else g={points:BFe(f,s,l)},m=E3;var I=jx(jx(jx(jx({stroke:"#ccc",pointerEvents:"none"},l),g),Xr(p,!1)),{},{payload:o,payloadIndex:c,className:ln("recharts-tooltip-cursor",p.className)});return B.isValidElement(p)?B.cloneElement(p,I):B.createElement(m,I)}var WFe=["item"],HFe=["children","className","width","height","style","compact","title","desc"];function Lp(e){"@babel/helpers - typeof";return Lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lp(e)}function N0(){return N0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N0.apply(this,arguments)}function XR(e,t){return YFe(e)||KFe(e,t)||lK(e,t)||GFe()}function GFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KFe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function YFe(e){if(Array.isArray(e))return e}function QR(e,t){if(e==null)return{};var r=XFe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function XFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function QFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cK(n.key),n)}}function ZFe(e,t,r){return t&&JFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function e$e(e,t,r){return t=Sw(t),t$e(e,oK()?Reflect.construct(t,r||[],Sw(e).constructor):t.apply(e,r))}function t$e(e,t){if(t&&(Lp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r$e(e)}function r$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oK=function(){return!!e})()}function Sw(e){return Sw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sw(e)}function n$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rE(e,t)}function rE(e,t){return rE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},rE(e,t)}function Mp(e){return s$e(e)||i$e(e)||lK(e)||a$e()}function a$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lK(e,t){if(e){if(typeof e=="string")return nE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nE(e,t)}}function i$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function s$e(e){if(Array.isArray(e))return nE(e)}function nE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function JR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JR(Object(r),!0).forEach(function(n){vr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vr(e,t,r){return t=cK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cK(e){var t=o$e(e,"string");return Lp(t)=="symbol"?t:t+""}function o$e(e,t){if(Lp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Lp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var l$e={xAxis:["bottom","top"],yAxis:["left","right"]},c$e={width:"100%",height:"100%"},uK={x:0,y:0};function Dx(e){return e}var u$e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},f$e=function(t,r,n,a){var i=r.find(function(u){return u&&u.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,o=a.radius;return lt(lt(lt({},a),vi(a.cx,a.cy,o,s)),{},{angle:s,radius:o})}var l=i.coordinate,c=a.angle;return lt(lt(lt({},a),vi(a.cx,a.cy,l,c)),{},{angle:c,radius:l})}return uK},u_=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,s=(n??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(Mp(o),Mp(c)):o},[]);return s.length>0?s:t&&t.length&&Ft(a)&&Ft(i)?t.slice(a,i+1):[]};function fK(e){return e==="number"?[0,"auto"]:void 0}var aE=function(t,r,n,a){var i=t.graphicalItems,s=t.tooltipAxis,o=u_(r,t);return n<0||!i||!i.length||n>=o.length?null:i.reduce(function(l,c){var u,f=(u=c.props.data)!==null&&u!==void 0?u:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var p=f===void 0?o:f;h=Tb(p,s.dataKey,a)}else h=f&&f[n]||o[n];return h?[].concat(Mp(l),[oG(c,h)]):l},[])},ZR=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},s=u$e(i,n),o=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,u=TIe(s,o,c,l);if(u>=0&&c){var f=c[u]&&c[u].value,h=aE(t,r,u,f),p=f$e(n,o,u,i);return{activeTooltipIndex:u,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},d$e=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,f=t.children,h=t.stackOffset,p=aG(u,i);return n.reduce(function(g,m){var v,y=m.type.defaultProps!==void 0?lt(lt({},m.type.defaultProps),m.props):m.props,b=y.type,w=y.dataKey,D=y.allowDataOverflow,P=y.allowDuplicatedCategory,I=y.scale,T=y.ticks,_=y.includeHidden,S=y[s];if(g[S])return g;var j=u_(t.data,{graphicalItems:a.filter(function(k){var R,q=s in k.props?k.props[s]:(R=k.type.defaultProps)===null||R===void 0?void 0:R[s];return q===S}),dataStartIndex:l,dataEndIndex:c}),E=j.length,N,O,U;FFe(y.domain,D,b)&&(N=w3(y.domain,null,D),p&&(b==="number"||I!=="auto")&&(U=Yg(j,w,"category")));var Y=fK(b);if(!N||N.length===0){var K,J=(K=y.domain)!==null&&K!==void 0?K:Y;if(w){if(N=Yg(j,w,b),b==="category"&&p){var z=dwe(N);P&&z?(O=N,N=uw(0,E)):P||(N=OM(J,N,m).reduce(function(k,R){return k.indexOf(R)>=0?k:[].concat(Mp(k),[R])},[]))}else if(b==="category")P?N=N.filter(function(k){return k!==""&&!Kr(k)}):N=OM(J,N,m).reduce(function(k,R){return k.indexOf(R)>=0||R===""||Kr(R)?k:[].concat(Mp(k),[R])},[]);else if(b==="number"){var V=PIe(j,a.filter(function(k){var R,q,G=s in k.props?k.props[s]:(R=k.type.defaultProps)===null||R===void 0?void 0:R[s],Q="hide"in k.props?k.props.hide:(q=k.type.defaultProps)===null||q===void 0?void 0:q.hide;return G===S&&(_||!Q)}),w,i,u);V&&(N=V)}p&&(b==="number"||I!=="auto")&&(U=Yg(j,w,"category"))}else p?N=uw(0,E):o&&o[S]&&o[S].hasStack&&b==="number"?N=h==="expand"?[0,1]:sG(o[S].stackGroups,l,c):N=nG(j,a.filter(function(k){var R=s in k.props?k.props[s]:k.type.defaultProps[s],q="hide"in k.props?k.props.hide:k.type.defaultProps.hide;return R===S&&(_||!q)}),b,u,!0);if(b==="number")N=tE(f,N,S,i,T),J&&(N=w3(J,N,D));else if(b==="category"&&J){var ee=J,Z=N.every(function(k){return ee.indexOf(k)>=0});Z&&(N=ee)}}return lt(lt({},g),{},vr({},S,lt(lt({},y),{},{axisType:i,domain:N,categoricalDomain:U,duplicateDomain:O,originalDomain:(v=y.domain)!==null&&v!==void 0?v:Y,isCategorical:p,layout:u})))},{})},h$e=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,f=t.children,h=u_(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),p=h.length,g=aG(u,i),m=-1;return n.reduce(function(v,y){var b=y.type.defaultProps!==void 0?lt(lt({},y.type.defaultProps),y.props):y.props,w=b[s],D=fK("number");if(!v[w]){m++;var P;return g?P=uw(0,p):o&&o[w]&&o[w].hasStack?(P=sG(o[w].stackGroups,l,c),P=tE(f,P,w,i)):(P=w3(D,nG(h,n.filter(function(I){var T,_,S=s in I.props?I.props[s]:(T=I.type.defaultProps)===null||T===void 0?void 0:T[s],j="hide"in I.props?I.props.hide:(_=I.type.defaultProps)===null||_===void 0?void 0:_.hide;return S===w&&!j}),"number",u),a.defaultProps.allowDataOverflow),P=tE(f,P,w,i)),lt(lt({},v),{},vr({},w,lt(lt({axisType:i},a.defaultProps),{},{hide:!0,orientation:No(l$e,"".concat(i,".").concat(m%2),null),domain:P,originalDomain:D,isCategorical:g,layout:u})))}return v},{})},p$e=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.children,f="".concat(a,"Id"),h=ko(u,i),p={};return h&&h.length?p=d$e(t,{axes:h,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(p=h$e(t,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),p},m$e=function(t){var r=Qu(t),n=Pc(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:UC(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:tw(r,n)}},e7=function(t){var r=t.children,n=t.defaultShowTooltip,a=qs(r,Ep),i=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},g$e=function(t){return!t||!t.length?!1:t.some(function(r){var n=Lc(r&&r.type);return n&&n.indexOf("Bar")>=0})},t7=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},v$e=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,s=i===void 0?{}:i,o=t.yAxisMap,l=o===void 0?{}:o,c=n.width,u=n.height,f=n.children,h=n.margin||{},p=qs(f,Ep),g=qs(f,vl),m=Object.keys(l).reduce(function(P,I){var T=l[I],_=T.orientation;return!T.mirror&&!T.hide?lt(lt({},P),{},vr({},_,P[_]+T.width)):P},{left:h.left||0,right:h.right||0}),v=Object.keys(s).reduce(function(P,I){var T=s[I],_=T.orientation;return!T.mirror&&!T.hide?lt(lt({},P),{},vr({},_,No(P,"".concat(_))+T.height)):P},{top:h.top||0,bottom:h.bottom||0}),y=lt(lt({},v),m),b=y.bottom;p&&(y.bottom+=p.props.height||Ep.defaultProps.height),g&&r&&(y=kIe(y,a,n,r));var w=c-y.left-y.right,D=u-y.top-y.bottom;return lt(lt({brushBottom:b},y),{},{width:Math.max(w,0),height:Math.max(D,0)})},y$e=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},x$e=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,s=t.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=t.axisComponents,c=t.legendContent,u=t.formatAxisMap,f=t.defaultProps,h=function(y,b){var w=b.graphicalItems,D=b.stackGroups,P=b.offset,I=b.updateId,T=b.dataStartIndex,_=b.dataEndIndex,S=y.barSize,j=y.layout,E=y.barGap,N=y.barCategoryGap,O=y.maxBarSize,U=t7(j),Y=U.numericAxisName,K=U.cateAxisName,J=g$e(w),z=[];return w.forEach(function(V,ee){var Z=u_(y.data,{graphicalItems:[V],dataStartIndex:T,dataEndIndex:_}),k=V.type.defaultProps!==void 0?lt(lt({},V.type.defaultProps),V.props):V.props,R=k.dataKey,q=k.maxBarSize,G=k["".concat(Y,"Id")],Q=k["".concat(K,"Id")],ie={},ue=l.reduce(function(Ne,qe){var je=b["".concat(qe.axisType,"Map")],Je=k["".concat(qe.axisType,"Id")];je&&je[Je]||qe.axisType==="zAxis"||ch();var ut=je[Je];return lt(lt({},Ne),{},vr(vr({},qe.axisType,ut),"".concat(qe.axisType,"Ticks"),Pc(ut)))},ie),ne=ue[K],pe=ue["".concat(K,"Ticks")],ye=D&&D[G]&&D[G].hasStack&&VIe(V,D[G].stackGroups),W=Lc(V.type).indexOf("Bar")>=0,Pe=tw(ne,pe),Ce=[],Ee=J&&EIe({barSize:S,stackGroups:D,totalSize:y$e(ue,K)});if(W){var oe,ve,De=Kr(q)?O:q,Te=(oe=(ve=tw(ne,pe,!0))!==null&&ve!==void 0?ve:De)!==null&&oe!==void 0?oe:0;Ce=NIe({barGap:E,barCategoryGap:N,bandSize:Te!==Pe?Te:Pe,sizeList:Ee[Q],maxBarSize:De}),Te!==Pe&&(Ce=Ce.map(function(Ne){return lt(lt({},Ne),{},{position:lt(lt({},Ne.position),{},{offset:Ne.position.offset-Te/2})})}))}var Re=V&&V.type&&V.type.getComposedData;Re&&z.push({props:lt(lt({},Re(lt(lt({},ue),{},{displayedData:Z,props:y,dataKey:R,item:V,bandSize:Pe,barPosition:Ce,offset:P,stackedData:ye,layout:j,dataStartIndex:T,dataEndIndex:_}))),{},vr(vr(vr({key:V.key||"item-".concat(ee)},Y,ue[Y]),K,ue[K]),"animationId",I)),childIndex:Twe(V,y.children),item:V})}),z},p=function(y,b){var w=y.props,D=y.dataStartIndex,P=y.dataEndIndex,I=y.updateId;if(!A8({props:w}))return null;var T=w.children,_=w.layout,S=w.stackOffset,j=w.data,E=w.reverseStackOrder,N=t7(_),O=N.numericAxisName,U=N.cateAxisName,Y=ko(T,n),K=$Ie(j,Y,"".concat(O,"Id"),"".concat(U,"Id"),S,E),J=l.reduce(function(k,R){var q="".concat(R.axisType,"Map");return lt(lt({},k),{},vr({},q,p$e(w,lt(lt({},R),{},{graphicalItems:Y,stackGroups:R.axisType===O&&K,dataStartIndex:D,dataEndIndex:P}))))},{}),z=v$e(lt(lt({},J),{},{props:w,graphicalItems:Y}),b==null?void 0:b.legendBBox);Object.keys(J).forEach(function(k){J[k]=u(w,J[k],z,k.replace("Map",""),r)});var V=J["".concat(U,"Map")],ee=m$e(V),Z=h(w,lt(lt({},J),{},{dataStartIndex:D,dataEndIndex:P,updateId:I,graphicalItems:Y,stackGroups:K,offset:z}));return lt(lt({formattedGraphicalItems:Z,graphicalItems:Y,offset:z,stackGroups:K},ee),J)},g=function(v){function y(b){var w,D,P;return QFe(this,y),P=e$e(this,y,[b]),vr(P,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),vr(P,"accessibilityManager",new RFe),vr(P,"handleLegendBBoxUpdate",function(I){if(I){var T=P.state,_=T.dataStartIndex,S=T.dataEndIndex,j=T.updateId;P.setState(lt({legendBBox:I},p({props:P.props,dataStartIndex:_,dataEndIndex:S,updateId:j},lt(lt({},P.state),{},{legendBBox:I}))))}}),vr(P,"handleReceiveSyncEvent",function(I,T,_){if(P.props.syncId===I){if(_===P.eventEmitterSymbol&&typeof P.props.syncMethod!="function")return;P.applySyncEvent(T)}}),vr(P,"handleBrushChange",function(I){var T=I.startIndex,_=I.endIndex;if(T!==P.state.dataStartIndex||_!==P.state.dataEndIndex){var S=P.state.updateId;P.setState(function(){return lt({dataStartIndex:T,dataEndIndex:_},p({props:P.props,dataStartIndex:T,dataEndIndex:_,updateId:S},P.state))}),P.triggerSyncEvent({dataStartIndex:T,dataEndIndex:_})}}),vr(P,"handleMouseEnter",function(I){var T=P.getMouseInfo(I);if(T){var _=lt(lt({},T),{},{isTooltipActive:!0});P.setState(_),P.triggerSyncEvent(_);var S=P.props.onMouseEnter;Br(S)&&S(_,I)}}),vr(P,"triggeredAfterMouseMove",function(I){var T=P.getMouseInfo(I),_=T?lt(lt({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};P.setState(_),P.triggerSyncEvent(_);var S=P.props.onMouseMove;Br(S)&&S(_,I)}),vr(P,"handleItemMouseEnter",function(I){P.setState(function(){return{isTooltipActive:!0,activeItem:I,activePayload:I.tooltipPayload,activeCoordinate:I.tooltipPosition||{x:I.cx,y:I.cy}}})}),vr(P,"handleItemMouseLeave",function(){P.setState(function(){return{isTooltipActive:!1}})}),vr(P,"handleMouseMove",function(I){I.persist(),P.throttleTriggeredAfterMouseMove(I)}),vr(P,"handleMouseLeave",function(I){P.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};P.setState(T),P.triggerSyncEvent(T);var _=P.props.onMouseLeave;Br(_)&&_(T,I)}),vr(P,"handleOuterEvent",function(I){var T=Awe(I),_=No(P.props,"".concat(T));if(T&&Br(_)){var S,j;/.*touch.*/i.test(T)?j=P.getMouseInfo(I.changedTouches[0]):j=P.getMouseInfo(I),_((S=j)!==null&&S!==void 0?S:{},I)}}),vr(P,"handleClick",function(I){var T=P.getMouseInfo(I);if(T){var _=lt(lt({},T),{},{isTooltipActive:!0});P.setState(_),P.triggerSyncEvent(_);var S=P.props.onClick;Br(S)&&S(_,I)}}),vr(P,"handleMouseDown",function(I){var T=P.props.onMouseDown;if(Br(T)){var _=P.getMouseInfo(I);T(_,I)}}),vr(P,"handleMouseUp",function(I){var T=P.props.onMouseUp;if(Br(T)){var _=P.getMouseInfo(I);T(_,I)}}),vr(P,"handleTouchMove",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&P.throttleTriggeredAfterMouseMove(I.changedTouches[0])}),vr(P,"handleTouchStart",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&P.handleMouseDown(I.changedTouches[0])}),vr(P,"handleTouchEnd",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&P.handleMouseUp(I.changedTouches[0])}),vr(P,"handleDoubleClick",function(I){var T=P.props.onDoubleClick;if(Br(T)){var _=P.getMouseInfo(I);T(_,I)}}),vr(P,"handleContextMenu",function(I){var T=P.props.onContextMenu;if(Br(T)){var _=P.getMouseInfo(I);T(_,I)}}),vr(P,"triggerSyncEvent",function(I){P.props.syncId!==void 0&&gA.emit(vA,P.props.syncId,I,P.eventEmitterSymbol)}),vr(P,"applySyncEvent",function(I){var T=P.props,_=T.layout,S=T.syncMethod,j=P.state.updateId,E=I.dataStartIndex,N=I.dataEndIndex;if(I.dataStartIndex!==void 0||I.dataEndIndex!==void 0)P.setState(lt({dataStartIndex:E,dataEndIndex:N},p({props:P.props,dataStartIndex:E,dataEndIndex:N,updateId:j},P.state)));else if(I.activeTooltipIndex!==void 0){var O=I.chartX,U=I.chartY,Y=I.activeTooltipIndex,K=P.state,J=K.offset,z=K.tooltipTicks;if(!J)return;if(typeof S=="function")Y=S(z,I);else if(S==="value"){Y=-1;for(var V=0;V<z.length;V++)if(z[V].value===I.activeLabel){Y=V;break}}var ee=lt(lt({},J),{},{x:J.left,y:J.top}),Z=Math.min(O,ee.x+ee.width),k=Math.min(U,ee.y+ee.height),R=z[Y]&&z[Y].value,q=aE(P.state,P.props.data,Y),G=z[Y]?{x:_==="horizontal"?z[Y].coordinate:Z,y:_==="horizontal"?k:z[Y].coordinate}:uK;P.setState(lt(lt({},I),{},{activeLabel:R,activeCoordinate:G,activePayload:q,activeTooltipIndex:Y}))}else P.setState(I)}),vr(P,"renderCursor",function(I){var T,_=P.state,S=_.isTooltipActive,j=_.activeCoordinate,E=_.activePayload,N=_.offset,O=_.activeTooltipIndex,U=_.tooltipAxisBandSize,Y=P.getTooltipEventType(),K=(T=I.props.active)!==null&&T!==void 0?T:S,J=P.props.layout,z=I.key||"_recharts-cursor";return $e.createElement(qFe,{key:z,activeCoordinate:j,activePayload:E,activeTooltipIndex:O,chartName:r,element:I,isActive:K,layout:J,offset:N,tooltipAxisBandSize:U,tooltipEventType:Y})}),vr(P,"renderPolarAxis",function(I,T,_){var S=No(I,"type.axisType"),j=No(P.state,"".concat(S,"Map")),E=I.type.defaultProps,N=E!==void 0?lt(lt({},E),I.props):I.props,O=j&&j[N["".concat(S,"Id")]];return B.cloneElement(I,lt(lt({},O),{},{className:ln(S,O.className),key:I.key||"".concat(T,"-").concat(_),ticks:Pc(O,!0)}))}),vr(P,"renderPolarGrid",function(I){var T=I.props,_=T.radialLines,S=T.polarAngles,j=T.polarRadius,E=P.state,N=E.radiusAxisMap,O=E.angleAxisMap,U=Qu(N),Y=Qu(O),K=Y.cx,J=Y.cy,z=Y.innerRadius,V=Y.outerRadius;return B.cloneElement(I,{polarAngles:Array.isArray(S)?S:Pc(Y,!0).map(function(ee){return ee.coordinate}),polarRadius:Array.isArray(j)?j:Pc(U,!0).map(function(ee){return ee.coordinate}),cx:K,cy:J,innerRadius:z,outerRadius:V,key:I.key||"polar-grid",radialLines:_})}),vr(P,"renderLegend",function(){var I=P.state.formattedGraphicalItems,T=P.props,_=T.children,S=T.width,j=T.height,E=P.props.margin||{},N=S-(E.left||0)-(E.right||0),O=tG({children:_,formattedGraphicalItems:I,legendWidth:N,legendContent:c});if(!O)return null;var U=O.item,Y=QR(O,WFe);return B.cloneElement(U,lt(lt({},Y),{},{chartWidth:S,chartHeight:j,margin:E,onBBoxUpdate:P.handleLegendBBoxUpdate}))}),vr(P,"renderTooltip",function(){var I,T=P.props,_=T.children,S=T.accessibilityLayer,j=qs(_,Ss);if(!j)return null;var E=P.state,N=E.isTooltipActive,O=E.activeCoordinate,U=E.activePayload,Y=E.activeLabel,K=E.offset,J=(I=j.props.active)!==null&&I!==void 0?I:N;return B.cloneElement(j,{viewBox:lt(lt({},K),{},{x:K.left,y:K.top}),active:J,label:Y,payload:J?U:[],coordinate:O,accessibilityLayer:S})}),vr(P,"renderBrush",function(I){var T=P.props,_=T.margin,S=T.data,j=P.state,E=j.offset,N=j.dataStartIndex,O=j.dataEndIndex,U=j.updateId;return B.cloneElement(I,{key:I.key||"_recharts-brush",onChange:Cx(P.handleBrushChange,I.props.onChange),data:S,x:Ft(I.props.x)?I.props.x:E.left,y:Ft(I.props.y)?I.props.y:E.top+E.height+E.brushBottom-(_.bottom||0),width:Ft(I.props.width)?I.props.width:E.width,startIndex:N,endIndex:O,updateId:"brush-".concat(U)})}),vr(P,"renderReferenceElement",function(I,T,_){if(!I)return null;var S=P,j=S.clipPathId,E=P.state,N=E.xAxisMap,O=E.yAxisMap,U=E.offset,Y=I.type.defaultProps||{},K=I.props,J=K.xAxisId,z=J===void 0?Y.xAxisId:J,V=K.yAxisId,ee=V===void 0?Y.yAxisId:V;return B.cloneElement(I,{key:I.key||"".concat(T,"-").concat(_),xAxis:N[z],yAxis:O[ee],viewBox:{x:U.left,y:U.top,width:U.width,height:U.height},clipPathId:j})}),vr(P,"renderActivePoints",function(I){var T=I.item,_=I.activePoint,S=I.basePoint,j=I.childIndex,E=I.isRange,N=[],O=T.props.key,U=T.item.type.defaultProps!==void 0?lt(lt({},T.item.type.defaultProps),T.item.props):T.item.props,Y=U.activeDot,K=U.dataKey,J=lt(lt({index:j,dataKey:K,cx:_.x,cy:_.y,r:4,fill:hP(T.item),strokeWidth:2,stroke:"#fff",payload:_.payload,value:_.value},Xr(Y,!1)),Eb(Y));return N.push(y.renderActiveDot(Y,J,"".concat(O,"-activePoint-").concat(j))),S?N.push(y.renderActiveDot(Y,lt(lt({},J),{},{cx:S.x,cy:S.y}),"".concat(O,"-basePoint-").concat(j))):E&&N.push(null),N}),vr(P,"renderGraphicChild",function(I,T,_){var S=P.filterFormatItem(I,T,_);if(!S)return null;var j=P.getTooltipEventType(),E=P.state,N=E.isTooltipActive,O=E.tooltipAxis,U=E.activeTooltipIndex,Y=E.activeLabel,K=P.props.children,J=qs(K,Ss),z=S.props,V=z.points,ee=z.isRange,Z=z.baseLine,k=S.item.type.defaultProps!==void 0?lt(lt({},S.item.type.defaultProps),S.item.props):S.item.props,R=k.activeDot,q=k.hide,G=k.activeBar,Q=k.activeShape,ie=!!(!q&&N&&J&&(R||G||Q)),ue={};j!=="axis"&&J&&J.props.trigger==="click"?ue={onClick:Cx(P.handleItemMouseEnter,I.props.onClick)}:j!=="axis"&&(ue={onMouseLeave:Cx(P.handleItemMouseLeave,I.props.onMouseLeave),onMouseEnter:Cx(P.handleItemMouseEnter,I.props.onMouseEnter)});var ne=B.cloneElement(I,lt(lt({},S.props),ue));function pe(qe){return typeof O.dataKey=="function"?O.dataKey(qe.payload):null}if(ie)if(U>=0){var ye,W;if(O.dataKey&&!O.allowDuplicatedCategory){var Pe=typeof O.dataKey=="function"?pe:"payload.".concat(O.dataKey.toString());ye=Tb(V,Pe,Y),W=ee&&Z&&Tb(Z,Pe,Y)}else ye=V==null?void 0:V[U],W=ee&&Z&&Z[U];if(Q||G){var Ce=I.props.activeIndex!==void 0?I.props.activeIndex:U;return[B.cloneElement(I,lt(lt(lt({},S.props),ue),{},{activeIndex:Ce})),null,null]}if(!Kr(ye))return[ne].concat(Mp(P.renderActivePoints({item:S,activePoint:ye,basePoint:W,childIndex:U,isRange:ee})))}else{var Ee,oe=(Ee=P.getItemByXY(P.state.activeCoordinate))!==null&&Ee!==void 0?Ee:{graphicalItem:ne},ve=oe.graphicalItem,De=ve.item,Te=De===void 0?I:De,Re=ve.childIndex,Ne=lt(lt(lt({},S.props),ue),{},{activeIndex:Re});return[B.cloneElement(Te,Ne),null,null]}return ee?[ne,null,null]:[ne,null]}),vr(P,"renderCustomized",function(I,T,_){return B.cloneElement(I,lt(lt({key:"recharts-customized-".concat(_)},P.props),P.state))}),vr(P,"renderMap",{CartesianGrid:{handler:Dx,once:!0},ReferenceArea:{handler:P.renderReferenceElement},ReferenceLine:{handler:Dx},ReferenceDot:{handler:P.renderReferenceElement},XAxis:{handler:Dx},YAxis:{handler:Dx},Brush:{handler:P.renderBrush,once:!0},Bar:{handler:P.renderGraphicChild},Line:{handler:P.renderGraphicChild},Area:{handler:P.renderGraphicChild},Radar:{handler:P.renderGraphicChild},RadialBar:{handler:P.renderGraphicChild},Scatter:{handler:P.renderGraphicChild},Pie:{handler:P.renderGraphicChild},Funnel:{handler:P.renderGraphicChild},Tooltip:{handler:P.renderCursor,once:!0},PolarGrid:{handler:P.renderPolarGrid,once:!0},PolarAngleAxis:{handler:P.renderPolarAxis},PolarRadiusAxis:{handler:P.renderPolarAxis},Customized:{handler:P.renderCustomized}}),P.clipPathId="".concat((w=b.id)!==null&&w!==void 0?w:sy("recharts"),"-clip"),P.throttleTriggeredAfterMouseMove=eH(P.triggeredAfterMouseMove,(D=b.throttleDelay)!==null&&D!==void 0?D:1e3/60),P.state={},P}return n$e(y,v),ZFe(y,[{key:"componentDidMount",value:function(){var w,D;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(D=this.props.margin.top)!==null&&D!==void 0?D:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,D=w.children,P=w.data,I=w.height,T=w.layout,_=qs(D,Ss);if(_){var S=_.props.defaultIndex;if(!(typeof S!="number"||S<0||S>this.state.tooltipTicks.length-1)){var j=this.state.tooltipTicks[S]&&this.state.tooltipTicks[S].value,E=aE(this.state,P,S,j),N=this.state.tooltipTicks[S].coordinate,O=(this.state.offset.top+I)/2,U=T==="horizontal",Y=U?{x:N,y:O}:{y:N,x:O},K=this.state.formattedGraphicalItems.find(function(z){var V=z.item;return V.type.name==="Scatter"});K&&(Y=lt(lt({},Y),K.props.points[S].tooltipPosition),E=K.props.points[S].tooltipPayload);var J={activeTooltipIndex:S,isTooltipActive:!0,activeLabel:j,activePayload:E,activeCoordinate:Y};this.setState(J),this.renderCursor(_),this.accessibilityManager.setIndex(S)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,D){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==D.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var P,I;this.accessibilityManager.setDetails({offset:{left:(P=this.props.margin.left)!==null&&P!==void 0?P:0,top:(I=this.props.margin.top)!==null&&I!==void 0?I:0}})}return null}},{key:"componentDidUpdate",value:function(w){MT([qs(w.children,Ss)],[qs(this.props.children,Ss)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=qs(this.props.children,Ss);if(w&&typeof w.props.shared=="boolean"){var D=w.props.shared?"axis":"item";return o.indexOf(D)>=0?D:i}return i}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var D=this.container,P=D.getBoundingClientRect(),I=Qke(P),T={chartX:Math.round(w.pageX-I.left),chartY:Math.round(w.pageY-I.top)},_=P.width/D.offsetWidth||1,S=this.inRange(T.chartX,T.chartY,_);if(!S)return null;var j=this.state,E=j.xAxisMap,N=j.yAxisMap,O=this.getTooltipEventType(),U=ZR(this.state,this.props.data,this.props.layout,S);if(O!=="axis"&&E&&N){var Y=Qu(E).scale,K=Qu(N).scale,J=Y&&Y.invert?Y.invert(T.chartX):null,z=K&&K.invert?K.invert(T.chartY):null;return lt(lt({},T),{},{xValue:J,yValue:z},U)}return U?lt(lt({},T),U):null}},{key:"inRange",value:function(w,D){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,I=this.props.layout,T=w/P,_=D/P;if(I==="horizontal"||I==="vertical"){var S=this.state.offset,j=T>=S.left&&T<=S.left+S.width&&_>=S.top&&_<=S.top+S.height;return j?{x:T,y:_}:null}var E=this.state,N=E.angleAxisMap,O=E.radiusAxisMap;if(N&&O){var U=Qu(N);return DM({x:T,y:_},U)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,D=this.getTooltipEventType(),P=qs(w,Ss),I={};P&&D==="axis"&&(P.props.trigger==="click"?I={onClick:this.handleClick}:I={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=Eb(this.props,this.handleOuterEvent);return lt(lt({},T),I)}},{key:"addListener",value:function(){gA.on(vA,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){gA.removeListener(vA,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,D,P){for(var I=this.state.formattedGraphicalItems,T=0,_=I.length;T<_;T++){var S=I[T];if(S.item===w||S.props.key===w.key||D===Lc(S.item.type)&&P===S.childIndex)return S}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,D=this.state.offset,P=D.left,I=D.top,T=D.height,_=D.width;return $e.createElement("defs",null,$e.createElement("clipPath",{id:w},$e.createElement("rect",{x:P,y:I,height:T,width:_})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(D,P){var I=XR(P,2),T=I[0],_=I[1];return lt(lt({},D),{},vr({},T,_.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(D,P){var I=XR(P,2),T=I[0],_=I[1];return lt(lt({},D),{},vr({},T,_.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var D;return(D=this.state.xAxisMap)===null||D===void 0||(D=D[w])===null||D===void 0?void 0:D.scale}},{key:"getYScaleByAxisId",value:function(w){var D;return(D=this.state.yAxisMap)===null||D===void 0||(D=D[w])===null||D===void 0?void 0:D.scale}},{key:"getItemByXY",value:function(w){var D=this.state,P=D.formattedGraphicalItems,I=D.activeItem;if(P&&P.length)for(var T=0,_=P.length;T<_;T++){var S=P[T],j=S.props,E=S.item,N=E.type.defaultProps!==void 0?lt(lt({},E.type.defaultProps),E.props):E.props,O=Lc(E.type);if(O==="Bar"){var U=(j.data||[]).find(function(z){return j8e(w,z)});if(U)return{graphicalItem:S,payload:U}}else if(O==="RadialBar"){var Y=(j.data||[]).find(function(z){return DM(w,z)});if(Y)return{graphicalItem:S,payload:Y}}else if(n_(S,I)||a_(S,I)||S1(S,I)){var K=MLe({graphicalItem:S,activeTooltipItem:I,itemData:N.data}),J=N.activeIndex===void 0?K:N.activeIndex;return{graphicalItem:lt(lt({},S),{},{childIndex:J}),payload:S1(S,I)?N.data[K]:S.props.data[K]}}}return null}},{key:"render",value:function(){var w=this;if(!A8(this))return null;var D=this.props,P=D.children,I=D.className,T=D.width,_=D.height,S=D.style,j=D.compact,E=D.title,N=D.desc,O=QR(D,HFe),U=Xr(O,!1);if(j)return $e.createElement(IR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$e.createElement(FT,N0({},U,{width:T,height:_,title:E,desc:N}),this.renderClipPath(),E8(P,this.renderMap)));if(this.props.accessibilityLayer){var Y,K;U.tabIndex=(Y=this.props.tabIndex)!==null&&Y!==void 0?Y:0,U.role=(K=this.props.role)!==null&&K!==void 0?K:"application",U.onKeyDown=function(z){w.accessibilityManager.keyboardEvent(z)},U.onFocus=function(){w.accessibilityManager.focus()}}var J=this.parseEventsOfWrapper();return $e.createElement(IR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$e.createElement("div",N0({className:ln("recharts-wrapper",I),style:lt({position:"relative",cursor:"default",width:T,height:_},S)},J,{ref:function(V){w.container=V}}),$e.createElement(FT,N0({},U,{width:T,height:_,title:E,desc:N,style:c$e}),this.renderClipPath(),E8(P,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(B.Component);vr(g,"displayName",r),vr(g,"defaultProps",lt({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),vr(g,"getDerivedStateFromProps",function(v,y){var b=v.dataKey,w=v.data,D=v.children,P=v.width,I=v.height,T=v.layout,_=v.stackOffset,S=v.margin,j=y.dataStartIndex,E=y.dataEndIndex;if(y.updateId===void 0){var N=e7(v);return lt(lt(lt({},N),{},{updateId:0},p(lt(lt({props:v},N),{},{updateId:0}),y)),{},{prevDataKey:b,prevData:w,prevWidth:P,prevHeight:I,prevLayout:T,prevStackOffset:_,prevMargin:S,prevChildren:D})}if(b!==y.prevDataKey||w!==y.prevData||P!==y.prevWidth||I!==y.prevHeight||T!==y.prevLayout||_!==y.prevStackOffset||!B0(S,y.prevMargin)){var O=e7(v),U={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},Y=lt(lt({},ZR(y,w,T)),{},{updateId:y.updateId+1}),K=lt(lt(lt({},O),U),Y);return lt(lt(lt({},K),p(lt({props:v},K),y)),{},{prevDataKey:b,prevData:w,prevWidth:P,prevHeight:I,prevLayout:T,prevStackOffset:_,prevMargin:S,prevChildren:D})}if(!MT(D,y.prevChildren)){var J,z,V,ee,Z=qs(D,Ep),k=Z&&(J=(z=Z.props)===null||z===void 0?void 0:z.startIndex)!==null&&J!==void 0?J:j,R=Z&&(V=(ee=Z.props)===null||ee===void 0?void 0:ee.endIndex)!==null&&V!==void 0?V:E,q=k!==j||R!==E,G=!Kr(w),Q=G&&!q?y.updateId:y.updateId+1;return lt(lt({updateId:Q},p(lt(lt({props:v},y),{},{updateId:Q,dataStartIndex:k,dataEndIndex:R}),y)),{},{prevChildren:D,dataStartIndex:k,dataEndIndex:R})}return null}),vr(g,"renderActiveDot",function(v,y,b){var w;return B.isValidElement(v)?w=B.cloneElement(v,y):Br(v)?w=v(y):w=$e.createElement(mP,y),$e.createElement(ba,{className:"recharts-active-dot",key:b},w)});var m=B.forwardRef(function(y,b){return $e.createElement(g,N0({},y,{ref:b}))});return m.displayName=g.displayName,m},Jg=x$e({chartName:"LineChart",GraphicalChild:mi,axisComponents:[{axisType:"xAxis",AxisComp:Tf},{axisType:"yAxis",AxisComp:Ef}],formatAxisMap:oRe});const b$e=()=>{const{isDarkMode:e}=sn(),{showToast:t}=rc(),{user:r}=wa(),[n,a]=B.useState(!1),[i,s]=B.useState([]),[o,l]=B.useState(!1),[c,u]=B.useState([]),[f,h]=B.useState([]),[p,g]=B.useState(null),[m,v]=B.useState(null),[y,b]=B.useState(null),[w,D]=B.useState(!1),[P,I]=B.useState(!1),[T,_]=B.useState(!1),[S,j]=B.useState(!1),[E,N]=B.useState(""),[O,U]=B.useState(!1),[Y,K]=B.useState(null),[J,z]=B.useState(null),[V,ee]=B.useState(0),[Z,k]=B.useState(new Set),[R,q]=B.useState(!1),[G,Q]=B.useState(new Set),[ie,ue]=B.useState(new Set),[ne,pe]=B.useState(!1),[ye,W]=B.useState(""),[Pe,Ce]=B.useState([]),[Ee,oe]=B.useState(!1),[ve,De]=B.useState("name"),[Te,Re]=B.useState(!1),[Ne,qe]=B.useState(null),[je,Je]=B.useState(null),[ut,ot]=B.useState("all"),[wt,kt]=B.useState(""),[Pt,_t]=B.useState([]),[nt,nr]=B.useState(()=>{const ce=new Date;return ce.setHours(0,0,0,0),ce}),[Wt,zr]=B.useState(""),[tr,Fr]=B.useState(()=>{const ce=new Date,ke=new Date;return ke.setDate(ke.getDate()-6),ke.setHours(0,0,0,0),ce.setHours(23,59,59,999),{start:ke,end:ce}}),[Ie,Fe]=B.useState({dailyStats:[],userStats:[]}),[tt,ht]=B.useState(!1),Lt=ce=>{const ke=new Date,dt=new Date(ke.getFullYear(),ke.getMonth(),ke.getDate());return ce.createdAt<dt&&ce.status==="completed"},Gt=ce=>{if(!Ne&&!je)return!0;const ke=ce.createdAt;return Ne&&je?ke>=Ne&&ke<=je:Ne?ke>=Ne:je?ke<=je:!0},Rt=()=>{const ce=new Set(i.map(ke=>ke.createdBy));return Array.from(ce).sort()},jt=ce=>ut==="all"?!0:ce.createdBy===ut,ar=ce=>{if(!wt.trim())return!0;const ke=wt.toLowerCase().trim();return ce.jobId.toLowerCase().includes(ke)?!0:ce.items.some(dt=>dt.name&&dt.name.toLowerCase().includes(ke))},mr=i.filter(ce=>P?Lt(ce)&&Gt(ce)&&jt(ce)&&ar(ce):w?ce.status==="completed"&&!Lt(ce):T?ce.status==="picking":ce.status!=="completed"),gr=()=>{const ce=i.filter(dt=>dt.status==="picking"),ke=Pt.filter(dt=>dt.isActive);return{databaseJobs:ce,uiSessions:ke,totalCount:ce.length+ke.length}},Ae=B.useCallback(async()=>{try{const ce=new Date(Date.now()-36e5),ke=cr(mt(Ke,"liveJobSessions"),or("startTime","<",ce)),dt=await ur(ke),Bt=[];if(dt.forEach(xt=>{(xt.data().items||[]).length===0&&Bt.push(xt.id)}),Bt.length>0){console.log(`Cleaning up ${Bt.length} old live job sessions with no items`);const xt=Bt.map(ft=>Ns(Ar(Ke,"liveJobSessions",ft)));await Promise.all(xt),console.log(`Successfully cleaned up ${Bt.length} old live job sessions`)}}catch(ce){console.error("Error cleaning up old live job sessions:",ce)}},[]),ct=B.useCallback(async ce=>{ht(!0);try{const ke=new Date(ce);ke.setHours(0,0,0,0);const dt=new Date(ce);dt.setHours(23,59,59,999);const Bt=i.filter(Vt=>{const Ht=Vt.createdAt;return Ht>=ke&&Ht<=dt}),xt=[];for(let Vt=6;Vt>=0;Vt--){const Ht=new Date(ce);Ht.setDate(Ht.getDate()-Vt);const Jt=new Date(Ht);Jt.setHours(0,0,0,0);const Mr=new Date(Ht);Mr.setHours(23,59,59,999);const vn=i.filter(hn=>{const yn=hn.createdAt;return yn>=Jt&&yn<=Mr}),Wa=vn.reduce((hn,yn)=>hn+yn.items.reduce((Ai,$r)=>Ai+$r.quantity,0),0),Qi=vn.filter(hn=>hn.status==="completed").length;xt.push({date:Ht.toLocaleDateString("en-US",{month:"short",day:"numeric"}),itemsPicked:Wa,jobsCompleted:Qi})}const ft=[],Ot=new Set(Bt.map(Vt=>Vt.createdBy));for(const Vt of Ot){const Ht=Bt.filter(hn=>hn.createdBy===Vt),Jt=Ht.filter(hn=>hn.status==="completed"),Mr=Ht.reduce((hn,yn)=>hn+yn.items.reduce((Ai,$r)=>Ai+$r.quantity,0),0);let vn=0,Wa=0;Jt.forEach(hn=>{hn.pickingTime&&hn.pickingTime>0&&(vn+=hn.pickingTime,Wa++)});const Qi=Wa>0?vn/Wa:0;ft.push({name:Vt,jobsCreated:Ht.length,jobsCompleted:Jt.length,itemsPicked:Mr,avgTimePerJob:Qi,totalTime:vn})}ft.sort((Vt,Ht)=>Ht.itemsPicked-Vt.itemsPicked),Fe({dailyStats:xt,userStats:ft})}catch(ke){console.error("Error generating reports:",ke),t("Failed to generate reports","error")}finally{ht(!1)}},[i,t]),We=async ce=>{if(r)try{await pr(mt(Ke,"activityLogs"),{user:r.name,role:r.role,detail:ce,time:new Date().toISOString()})}catch(ke){console.error("Failed to log activity:",ke)}},Kt=ce=>{if(ce<60)return`${Math.round(ce)}s`;if(ce<3600){const ke=Math.floor(ce/60),dt=Math.round(ce%60);return`${ke}m ${dt}s`}else{const ke=Math.floor(ce/3600),dt=Math.floor(ce%3600/60),Bt=Math.round(ce%60);return`${ke}h ${dt}m ${Bt}s`}},ir=B.useCallback(async()=>{a(!0),D(!1),I(!1),_(!1),j(!1),qe(null),Je(null),ot("all"),Q(new Set);try{const ce=cr(mt(Ke,"jobs"),Ia("createdAt","desc")),dt=(await ur(ce)).docs.map(xt=>{const ft=xt.data();return{id:xt.id,jobId:ft.jobId||"",createdAt:ft.createdAt instanceof lr?ft.createdAt.toDate():new Date,createdBy:ft.createdBy||"Unknown",status:ft.status||"picking",picker:ft.picker??null,packer:ft.packer??null,items:Array.isArray(ft.items)?ft.items.map(Ot=>({barcode:String(Ot.barcode||""),name:Ot.name??null,asin:Ot.asin??null,quantity:Number(Ot.quantity||1),verified:!!Ot.verified,locationCode:Ot.locationCode,shelfNumber:Ot.shelfNumber,reason:Ot.reason||"Unknown",storeName:Ot.storeName||"Unknown"})):[],pickingTime:ft.pickingTime||0}}),Bt=await Promise.all(dt.map(async xt=>{const ft=await Promise.all(xt.items.map(async Ot=>{if(Ot.name)return Ot;try{const Vt=cr(mt(Ke,"inventory"),or("barcode","==",Ot.barcode)),Ht=await ur(Vt);if(!Ht.empty){const Jt=Ht.docs[0].data();return{...Ot,name:Jt.name||null}}}catch(Vt){console.error("Error fetching product name for barcode:",Ot.barcode,Vt)}return Ot}));return{...xt,items:ft}}));s(Bt)}catch(ce){console.error(ce),t("Failed to fetch jobs","error")}finally{a(!1)}},[t]);B.useEffect(()=>{ir()},[ir]),B.useEffect(()=>{Ae()},[Ae]),B.useEffect(()=>{const ce=setInterval(()=>{Ae()},18e5);return()=>clearInterval(ce)},[Ae]),B.useEffect(()=>()=>{Q(new Set),ue(new Set)},[i]),B.useEffect(()=>{P&&!Ne&&!je&&_e()},[P,Ne,je]),B.useEffect(()=>{if(!T)return;Ae();const ce=Nae(mt(Ke,"liveJobSessions"),ke=>{const dt=[];ke.forEach(Bt=>{const xt=Bt.data();xt.isActive&&dt.push({id:Bt.id,createdBy:xt.createdBy||"Unknown",startTime:xt.startTime instanceof lr?xt.startTime.toDate():new Date(xt.startTime),items:xt.items||[],isActive:xt.isActive||!1})}),_t(dt)},ke=>{console.error("Error listening to live job sessions:",ke)});return()=>ce()},[T,Ae]),B.useEffect(()=>{S&&(console.log("Generating reports for date:",nt.toISOString(),nt.toLocaleDateString("en-GB")),ct(nt))},[S,nt,ct]),B.useEffect(()=>{S&&(console.log("Date range changed:",tr.start.toLocaleDateString("en-GB"),"to",tr.end.toLocaleDateString("en-GB")),nr(new Date(tr.end)))},[tr,S]),B.useEffect(()=>{if(S&&i.length>0){const ce=Array.from(new Set(i.map(ke=>ke.createdBy)));ce.length>0&&!Wt&&zr(ce[0])}},[S,i,Wt]),B.useEffect(()=>{S&&console.log("Report date changed:",nt.toISOString(),nt.toLocaleDateString("en-GB"))},[nt,S]);const Rr=ce=>{ue(ke=>{const dt=new Set(ke);return dt.has(ce)?dt.delete(ce):dt.add(ce),dt})};B.useEffect(()=>{let ce;return J&&(ce=setInterval(()=>{const dt=Math.floor((new Date().getTime()-J.getTime())/1e3);ee(dt)},1e3)),()=>{ce&&clearInterval(ce)}},[J]);const Nr=()=>{N(""),u([]),h([]),z(new Date),ee(0),l(!0);const ce=`session_${Date.now()}_${(r==null?void 0:r.name)||"Unknown"}`;pr(mt(Ke,"liveJobSessions"),{id:ce,createdBy:(r==null?void 0:r.name)||"Unknown",startTime:Ac(),items:[],isActive:!0,createdAt:Ac()}).catch(ke=>{console.error("Error creating live job session:",ke)})},Vr=async ce=>{try{const ke=cr(mt(Ke,"inventory"),or("barcode","==",ce));return!(await ur(ke)).empty}catch(ke){return console.error("Error checking barcode:",ke),!1}},ae=async ce=>{ce.preventDefault();const ke=E.trim();if(!ke)return;if(!await Vr(ke)){t(`Product with barcode ${ke} does not exist`,"error");return}try{const Bt=cr(mt(Ke,"inventory"),or("barcode","==",ke)),xt=await ur(Bt);if(!xt.empty){const ft=xt.docs[0].data(),Ot={...ft,id:xt.docs[0].id,lastUpdated:ft.lastUpdated instanceof lr?ft.lastUpdated.toDate():new Date(ft.lastUpdated)};K(Ot),U(!0),l(!1)}}catch(Bt){console.error("Error fetching stock item:",Bt),t("Error fetching stock item details","error")}},we=async ce=>{if(!Y)return;const ke=Y.quantity-ce.quantity,dt=cr(mt(Ke,"inventory"),or("barcode","==",Y.barcode),or("locationCode","==",ce.locationCode),or("shelfNumber","==",ce.shelfNumber)),Bt=await ur(dt);if(Bt.empty){t("Stock item not found for this location","error");return}const xt={...Y,id:Bt.docs[0].id,quantity:Bt.docs[0].data().quantity||0};h(Vt=>[...Vt,{stockItem:xt,deductedQuantity:ke,reason:ce.reason,storeName:ce.storeName,locationCode:ce.locationCode,shelfNumber:ce.shelfNumber}]),Y.barcode&&u(Vt=>{const Ht=Y.barcode,Jt=Vt.findIndex(Mr=>Mr.barcode===Ht&&Mr.locationCode===ce.locationCode&&Mr.shelfNumber===ce.shelfNumber);if(Jt>=0){const Mr=[...Vt];return Mr[Jt]={...Mr[Jt],quantity:Mr[Jt].quantity+ke},Mr}else return[...Vt,{barcode:Ht,name:Y.name,quantity:ke,verified:!1,locationCode:ce.locationCode,shelfNumber:ce.shelfNumber,reason:ce.reason,storeName:ce.storeName}]}),t("Item added to job","success"),U(!1),K(null),l(!0),N("");const ft=cr(mt(Ke,"liveJobSessions"),or("createdBy","==",r==null?void 0:r.name),or("isActive","==",!0)),Ot=await ur(ft);if(!Ot.empty){const Vt=Ot.docs[0],Ht=Vt.data().items||[],Jt={barcode:Y.barcode,name:Y.name,quantity:ke,verified:!1,locationCode:ce.locationCode,shelfNumber:ce.shelfNumber,reason:ce.reason,storeName:ce.storeName};await jn(Ar(Ke,"liveJobSessions",Vt.id),{items:[...Ht,Jt]})}ge()},me=()=>{U(!1),K(null),l(!0),ge()},ge=()=>{W(""),Ce([]),De("name"),Re(!1)},be=()=>{P?_e():(qe(null),Je(null))},_e=()=>{const ce=new Date,ke=new Date(ce);ke.setDate(ce.getDate()-1);const dt=new Date(ke.getFullYear(),ke.getMonth(),ke.getDate()),Bt=new Date(ce.getFullYear(),ce.getMonth(),ce.getDate(),23,59,59,999);qe(dt),Je(Bt)},He=()=>{P?_e():(qe(null),Je(null)),ot("all"),kt("")},rt=async()=>{if(c.length===0){t("Add at least one item to create a job","error");return}if(R){t("Job creation is already in progress. Please wait for the current job to be created.","warning");return}q(!0),a(!0);try{for(const xt of f){const ft=Ar(Ke,"inventory",xt.stockItem.id);await jn(ft,{quantity:xt.stockItem.quantity-xt.deductedQuantity,lastUpdated:Ac()}),await pr(mt(Ke,"activityLogs"),{detail:`${xt.deductedQuantity} units deducted from stock "${xt.stockItem.name}"  (Reason: ${xt.reason}, Store: ${xt.storeName}) by ${r==null?void 0:r.role} from location ${xt.locationCode} shelf ${xt.shelfNumber}`,time:new Date().toISOString(),user:r==null?void 0:r.name,role:r==null?void 0:r.role})}for(const xt of c)if(!f.some(Ot=>Ot.stockItem.barcode===xt.barcode&&Ot.locationCode===xt.locationCode&&Ot.shelfNumber===xt.shelfNumber)){const Ot=cr(mt(Ke,"inventory"),or("barcode","==",xt.barcode),or("locationCode","==",xt.locationCode),or("shelfNumber","==",xt.shelfNumber)),Vt=await ur(Ot);if(!Vt.empty){const Ht=Vt.docs[0],Mr=Ht.data().quantity||0;await jn(Ar(Ke,"inventory",Ht.id),{quantity:Mr-xt.quantity,lastUpdated:Ac()})}}const ce=Date.now().toString(),ke=await pr(mt(Ke,"jobs"),{jobId:ce,createdAt:Ac(),createdBy:(r==null?void 0:r.name)||"Unknown",status:"awaiting_pack",picker:(r==null?void 0:r.name)||null,packer:null,items:c,pickingTime:V});await jn(ke,{docId:ke.id}),await We(`created new job ${ce} with ${c.length} items (${c.reduce((xt,ft)=>xt+ft.quantity,0)} total units)`),t(`Job ${ce} created and awaiting pack`,"success"),l(!1),u([]),h([]),N(""),z(null),ee(0);const dt=cr(mt(Ke,"liveJobSessions"),or("createdBy","==",r==null?void 0:r.name),or("isActive","==",!0)),Bt=await ur(dt);Bt.empty||await Ns(Ar(Ke,"liveJobSessions",Bt.docs[0].id)),ir()}catch(ce){console.error(ce),t("Failed to create job","error")}finally{a(!1),q(!1)}},Ge=async ce=>{try{await jn(Ar(Ke,"jobs",ce.id),{status:"awaiting_pack",picker:(r==null?void 0:r.name)||ce.picker||null}),await We(`completed picking for job ${ce.jobId} with ${ce.items.length} items (${ce.items.reduce((ke,dt)=>ke+dt.quantity,0)} total units)`),t(`Job ${ce.jobId} completed and awaiting pack`,"success"),ir()}catch{t("Failed to update job","error")}},Ye=async(ce,ke,dt)=>{const Bt=`${ce.id}-${ke}`;k(xt=>new Set(xt).add(Bt));try{if(!ce.id||!ke){t("Invalid job or barcode","error");return}Q(dt?xt=>new Set(xt).add(Bt):xt=>{const ft=new Set(xt);return ft.delete(Bt),ft})}catch(xt){console.error("Error verifying item:",xt),t("Failed to verify item","error")}finally{k(xt=>{const ft=new Set(xt);return ft.delete(Bt),ft})}},Ze=async ce=>{try{const ke=Array.from(G).filter(xt=>xt.startsWith(ce.id)).map(xt=>xt.split("-")[1]),dt=ce.items.filter(xt=>xt.verified||ke.includes(xt.barcode)).length,Bt=ce.items.map(xt=>({...xt,verified:ke.includes(xt.barcode)||xt.verified}));await jn(Ar(Ke,"jobs",ce.id),{status:"completed",packer:(r==null?void 0:r.name)||ce.packer||null,items:Bt}),await We(`completed packing for job ${ce.jobId} with ${ce.items.length} items (${ce.items.reduce((xt,ft)=>xt+ft.quantity,0)} total units) - ${dt} items verified`),Q(xt=>{const ft=new Set(xt);return ke.forEach(Ot=>{ft.delete(`${ce.id}-${Ot}`)}),ft}),t(`Job ${ce.jobId} completed successfully with ${dt}/${ce.items.length} items verified`,"success"),ir()}catch(ke){console.error("Error completing job:",ke),t("Failed to complete job","error")}},St=ce=>{b(ce)},Dt=async()=>{if(y)try{await We(`deleted job ${y.jobId} (status: ${y.status} with ${y.items.length} items (${y.items.reduce((ce,ke)=>ce+ke.quantity,0)} total units))`),await Ns(Ar(Ke,"jobs",y.id)),Q(ce=>{const ke=new Set(ce);return y.items.forEach(dt=>{ke.delete(`${y.id}-${dt.barcode}`)}),ke}),t("Job deleted","success"),b(null),ir()}catch{t("Failed to delete job","error")}},$t=async(ce,ke,dt,Bt)=>{try{const xt=[...ce.items];xt[ke]={...xt[ke],barcode:dt,quantity:Bt},await jn(Ar(Ke,"jobs",ce.id),{items:xt}),await We(`updated job item in job ${ce.jobId}: barcode ${ce.items[ke].barcode} → ${dt}, quantity ${ce.items[ke].quantity} → ${Bt}`),t("Job item updated successfully","success"),v(null),ir()}catch{t("Failed to update job item","error")}},Ct=async(ce,ke)=>{try{const dt=ce.items.filter((Bt,xt)=>xt!==ke);await jn(Ar(Ke,"jobs",ce.id),{items:dt}),await We(`removed item ${ce.items[ke].barcode} (qty: ${ce.items[ke].quantity}) from job ${ce.jobId}`),t("Job item removed successfully","success"),ir()}catch{t("Failed to remove job item","error")}},Mt=async(ce,ke)=>{if(!ce.trim()){Ce([]);return}oe(!0);try{let dt;switch(ke){case"barcode":dt=cr(mt(Ke,"inventory"),or("barcode","==",ce.trim()));break;case"asin":dt=cr(mt(Ke,"inventory"),or("asin","==",ce.trim()));break;case"name":default:dt=cr(mt(Ke,"inventory"),or("name",">=",ce.trim().toUpperCase()),or("name","<=",ce.trim().toUpperCase()+""));break}const xt=(await ur(dt)).docs.map(ft=>{const Ot=ft.data();return{id:ft.id,name:Ot.name||"",quantity:Ot.quantity||0,price:Ot.price||0,unit:Ot.unit||null,supplier:Ot.supplier||null,lastUpdated:Ot.lastUpdated instanceof lr?Ot.lastUpdated.toDate():new Date,locationCode:Ot.locationCode||"",shelfNumber:Ot.shelfNumber||"",barcode:Ot.barcode||null,asin:Ot.asin||null,status:Ot.status||"pending",damagedItems:Ot.damagedItems||0,fulfillmentType:Ot.fulfillmentType||"fba",storeName:Ot.storeName||""}});Ce(xt)}catch(dt){console.error("Search error:",dt),t("Failed to search inventory","error"),Ce([])}finally{oe(!1)}},dr=({job:ce})=>{const ke=ce.status==="awaiting_pack",dt=ce.status==="picking",Bt=ce.status==="completed",xt=ie.has(ce.id);return d.jsxs("div",{className:`${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} rounded-lg shadow-sm border`,children:[d.jsx("div",{className:`p-3 sm:p-4 border-b ${e?"border-slate-700":"border-slate-200"}`,children:d.jsx("div",{className:"flex flex-col gap-3",children:d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-3",children:[d.jsxs("div",{className:"flex items-start gap-3 min-w-0 flex-1",children:[d.jsx("div",{className:`${e?"bg-slate-700":"bg-slate-100"} p-2 rounded-lg flex-shrink-0`,children:d.jsx(oS,{className:`${e?"text-blue-400":"text-blue-600"}`,size:18})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 mb-2",children:[d.jsxs("h3",{className:`text-base sm:text-lg font-semibold ${e?"text-white":"text-slate-800"} break-all`,children:["Job ",ce.jobId]}),d.jsx("button",{onClick:()=>Rr(ce.id),className:`flex items-center gap-1 px-2 py-1 rounded text-xs font-medium transition-colors flex-shrink-0 ${e?"text-slate-300 hover:text-white hover:bg-slate-700":"text-slate-600 hover:text-slate-800 hover:bg-slate-200"}`,children:xt?d.jsxs(d.Fragment,{children:[d.jsx(n9,{size:14}),d.jsx("span",{className:"hidden sm:inline",children:"Hide Items"})," (",ce.items.length,")"]}):d.jsxs(d.Fragment,{children:[d.jsx(qc,{size:14}),d.jsx("span",{className:"hidden sm:inline",children:"Show Items"})," (",ce.items.length,")"]})})]}),d.jsxs("p",{className:`${e?"text-slate-400":"text-slate-500"} text-xs leading-relaxed`,children:["Created by ",ce.createdBy," • ",ce.createdAt.toLocaleString(),ce.pickingTime&&ce.pickingTime>0&&d.jsxs("span",{className:`ml-2 ${e?"text-blue-400":"text-blue-600"}`,children:["• Picking: ",Kt(ce.pickingTime)]})]}),(w||P)&&ce.packer&&d.jsxs("p",{className:`${e?"text-slate-400":"text-slate-500"} text-xs leading-relaxed`,children:["Verified by ",ce.packer]}),!xt&&ce.items.length>0&&d.jsxs("div",{className:`${e?"text-slate-400":"text-slate-500"} text-xs mt-2`,children:[ce.items.length," item",ce.items.length!==1?"s":""," • Total Qty: ",ce.items.reduce((ft,Ot)=>ft+Ot.quantity,0),ke&&d.jsxs("span",{className:"ml-2",children:["• Verified: ",ce.items.filter(ft=>ft.verified||G.has(`${ce.id}-${ft.barcode}`)).length,"/",ce.items.length]})]})]})]}),d.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[d.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Bt?"bg-green-100 text-green-700":ke?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:Bt?"Completed":ke?"Awaiting Pack":"Picking"}),d.jsx(st,{variant:"secondary",onClick:ir,size:"sm",className:"h-8 w-8 p-0",children:d.jsx(Za,{size:14})}),d.jsx(st,{variant:"danger",onClick:()=>St(ce),size:"sm",className:"h-8 w-8 p-0",children:d.jsx(ei,{size:14})})]})]})})}),xt&&d.jsxs("div",{className:"p-3 sm:p-4 space-y-4",children:[d.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[dt&&d.jsxs(st,{onClick:()=>U(!0),className:"flex items-center gap-1",size:"sm",children:[d.jsx(oS,{size:14})," ",d.jsx("span",{className:"hidden sm:inline",children:"Scan"})]}),ke&&d.jsxs("div",{className:`text-sm ${e?"text-slate-300":"text-slate-600"} bg-slate-100 dark:bg-slate-700 px-3 py-2 rounded-lg`,children:["Verification Status: ",ce.items.filter(ft=>ft.verified||G.has(`${ce.id}-${ft.barcode}`)).length,"/",ce.items.length," items verified"]})]}),d.jsxs("div",{className:"space-y-3",children:[ce.items.map((ft,Ot)=>d.jsx("div",{className:`p-3 rounded-lg ${e?"bg-slate-700":"bg-slate-100"}`,children:(m==null?void 0:m.jobId)===ce.id&&(m==null?void 0:m.itemIndex)===Ot?d.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 flex-1",children:[d.jsx(Nt,{value:m.barcode,onChange:Vt=>v({...m,barcode:Vt.target.value}),className:"w-full sm:w-32 text-sm",placeholder:"Barcode"}),d.jsx(Nt,{type:"number",value:m.quantity.toString(),onChange:Vt=>v({...m,quantity:Number(Vt.target.value)||1}),className:"w-full sm:w-20 text-sm",min:"1",placeholder:"Qty"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(st,{size:"sm",onClick:()=>$t(ce,Ot,m.barcode,m.quantity),className:"h-8 px-3",children:"✓"}),d.jsx(st,{variant:"secondary",size:"sm",onClick:()=>v(null),className:"h-8 px-3",children:"✕"})]})]}):d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:`${e?"text-white":"text-slate-800"} text-sm font-medium break-words`,children:ft.name||ft.barcode}),ft.name&&d.jsxs("div",{className:`${e?"text-slate-400":"text-slate-500"} text-xs mt-1 break-all`,children:["Barcode: ",ft.barcode]})]}),d.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[ke&&d.jsx(st,{variant:ft.verified||G.has(`${ce.id}-${ft.barcode}`)?"success":"primary",size:"sm",onClick:()=>Ye(ce,ft.barcode,!(ft.verified||G.has(`${ce.id}-${ft.barcode}`))),disabled:Z.has(`${ce.id}-${ft.barcode}`),className:`h-7 px-2 text-xs transition-all duration-200 ${ft.verified||G.has(`${ce.id}-${ft.barcode}`)?"bg-green-500 hover:bg-green-600 text-white":"bg-blue-500 hover:bg-blue-600 text-white"}`,children:Z.has(`${ce.id}-${ft.barcode}`)?d.jsx(Za,{size:12,className:"animate-spin"}):d.jsx("span",{className:"hidden sm:inline",children:ft.verified||G.has(`${ce.id}-${ft.barcode}`)?"Verified":"Verify"})}),ke&&!m&&d.jsx(d.Fragment,{children:d.jsx(st,{variant:"danger",size:"sm",onClick:()=>Ct(ce,Ot),className:"h-8 w-8 p-0 flex items-center justify-center",title:"Remove item",children:d.jsx(ei,{size:16})})})]})]}),d.jsxs("div",{className:`${e?"text-slate-400":"text-slate-500"} text-xs space-y-1`,children:[d.jsxs("div",{children:["Qty: ",ft.quantity]}),ft.locationCode&&ft.shelfNumber&&d.jsxs("div",{children:["Location: ",ft.locationCode,"-",ft.shelfNumber]}),ft.reason&&d.jsxs("div",{children:["Reason: ",ft.reason]}),ft.storeName&&d.jsxs("div",{children:["Store: ",ft.storeName]})]})]})},`${ft.barcode}-${Ot}-${ce.id}`)),ce.items.length===0&&d.jsx("div",{className:`${e?"text-slate-400":"text-slate-500"} text-sm text-center py-4`,children:"No items scanned yet."})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-2 pt-2 border-t border-slate-200 dark:border-slate-700",children:[dt&&d.jsxs(st,{onClick:()=>Ge(ce),size:"sm",className:"flex items-center gap-1 w-full sm:w-auto",children:[d.jsx(Jx,{size:14})," ",d.jsx("span",{className:"hidden sm:inline",children:"Finish Picking"})]}),ke&&d.jsxs(st,{onClick:()=>Ze(ce),size:"sm",className:"flex items-center gap-1 w-full sm:w-auto",children:[d.jsx(Jx,{size:14})," ",d.jsx("span",{className:"hidden sm:inline",children:"Complete Job"})]})]})]})]})};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsxs("h1",{className:`text-xl sm:text-2xl font-bold ${e?"text-white":"text-slate-900"}`,children:[P?"Archived":w?"Completed":T?"Live":S?"Reports":"Active"," Jobs"]}),T&&d.jsx("p",{className:`text-sm ${e?"text-slate-400":"text-slate-600"}`,children:"Showing jobs currently being created (in progress)"}),S&&d.jsx("p",{className:`text-sm ${e?"text-slate-400":"text-slate-600"}`,children:"Analytics and performance reports for warehouse operations"})]}),d.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[d.jsx(st,{variant:"secondary",onClick:ir,className:`flex items-center gap-1 ${n?"opacity-50 cursor-not-allowed":""}`,disabled:n,size:"sm",children:d.jsx(Za,{size:16,className:n?"animate-spin":""})}),d.jsxs(st,{onClick:Nr,className:"flex items-center gap-1",size:"sm",children:[d.jsx(xi,{size:16})," ",d.jsx("span",{className:"sm:inline hidden",children:"New Job"})]}),d.jsx(st,{variant:!w&&!P&&!T&&!S?"primary":"secondary",onClick:()=>{D(!1),I(!1),_(!1),j(!1)},size:"sm",children:"Active Jobs"}),d.jsx(st,{variant:w?"primary":"secondary",onClick:()=>{D(!0),I(!1),_(!1),j(!1)},size:"sm",children:"Completed Jobs"}),d.jsx(st,{variant:P?"primary":"secondary",onClick:()=>{D(!1),I(!0),_(!1),j(!1),_e()},size:"sm",children:"Archived Jobs"}),(r==null?void 0:r.role)==="admin"&&d.jsx(st,{variant:T?"primary":"secondary",onClick:()=>{D(!1),I(!1),_(!0),j(!1)},size:"sm",children:"Live Jobs"}),(r==null?void 0:r.role)==="admin"&&d.jsx(st,{variant:S?"primary":"secondary",onClick:()=>{D(!1),I(!1),_(!1),j(!0)},size:"sm",children:"Reports"})]})]}),d.jsx("div",{className:"flex flex-col gap-4",children:P&&d.jsx("div",{className:"w-full",children:d.jsxs("div",{className:"flex flex-col gap-4 p-4 bg-slate-50 dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("label",{className:`text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Search Jobs:"}),d.jsxs("div",{className:"relative",children:[d.jsx(Oo,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 ${e?"text-slate-400":"text-slate-500"}`}),d.jsx("input",{type:"text",placeholder:"Search by job ID or item name...",value:wt,onChange:ce=>kt(ce.target.value),className:`pl-10 pr-3 py-2 border rounded-md text-sm w-full ${e?"bg-slate-700 border-slate-600 text-white placeholder-slate-400":"bg-white border-slate-300 text-slate-900 placeholder-slate-500"}`})]})]}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("label",{className:`text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Filter by User:"}),d.jsxs("select",{value:ut,onChange:ce=>ot(ce.target.value),className:`px-3 py-2 border rounded-md text-sm w-full ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`,children:[d.jsx("option",{value:"all",children:"All Users"}),Rt().map(ce=>d.jsx("option",{value:ce,children:ce},ce))]})]}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("label",{className:`text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Filter by Date Range:"}),d.jsx(vC,{startDate:Ne,endDate:je,onStartDateChange:qe,onEndDateChange:Je,onClear:be,className:"w-full"})]})]}),d.jsx("div",{className:"flex justify-end",children:d.jsx(st,{variant:"secondary",onClick:He,size:"sm",className:"w-full sm:w-auto",children:"Clear All Filters"})})]})})})]}),d.jsxs("div",{className:"space-y-4",children:[P&&(Ne||je||ut!=="all"||wt.trim())&&d.jsx("div",{className:`p-3 rounded-lg border ${e?"bg-slate-800 border-slate-700 text-slate-300":"bg-slate-50 border-slate-200 text-slate-700"}`,children:d.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 text-sm",children:[d.jsx("span",{className:"font-medium",children:"Active Filters:"}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[wt.trim()&&d.jsxs("span",{className:"px-2 py-1 bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 rounded text-xs",children:['Search: "',wt,'"']}),ut!=="all"&&d.jsxs("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded text-xs",children:["User: ",ut]}),Ne&&d.jsxs("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded text-xs",children:["From: ",Ne.toLocaleDateString()]}),je&&d.jsxs("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded text-xs",children:["To: ",je.toLocaleDateString()]}),d.jsxs("span",{className:"px-2 py-1 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 rounded text-xs",children:[mr.length," jobs found"]})]})]})}),!S&&mr.map(ce=>d.jsx(dr,{job:ce},ce.id)),T&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("h2",{className:`text-lg font-semibold ${e?"text-white":"text-slate-800"}`,children:"Live Job Sessions"}),d.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-700 dark:bg-orange-900 dark:text-orange-300",children:[gr().totalCount," active"]})]}),d.jsxs(st,{variant:"secondary",onClick:()=>{ir(),Ae()},className:"flex items-center gap-2",size:"sm",children:[d.jsx(Za,{size:16}),"Refresh Live Jobs"]})]}),gr().uiSessions.map(ce=>d.jsx("div",{className:`${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} rounded-lg shadow-sm border border-dashed`,children:d.jsx("div",{className:`p-3 sm:p-4 border-b ${e?"border-slate-700":"border-slate-200"}`,children:d.jsx("div",{className:"flex flex-col gap-3",children:d.jsx("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-3",children:d.jsxs("div",{className:"flex items-start gap-3 min-w-0 flex-1",children:[d.jsx("div",{className:`${e?"bg-orange-700":"bg-orange-100"} p-2 rounded-lg flex-shrink-0`,children:d.jsx(oS,{className:`${e?"text-orange-300":"text-orange-600"}`,size:18})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 mb-2",children:[d.jsx("h3",{className:`text-base sm:text-lg font-semibold ${e?"text-white":"text-slate-800"}`,children:"Creating New Job"}),d.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-700 dark:bg-orange-900 dark:text-orange-300",children:"In Progress"})]}),d.jsxs("p",{className:`${e?"text-slate-400":"text-slate-500"} text-xs leading-relaxed`,children:["Created by ",ce.createdBy," • Started at ",ce.startTime.toLocaleString()]}),d.jsxs("div",{className:`${e?"text-slate-400":"text-slate-500"} text-xs mt-2`,children:[ce.items.length," item",ce.items.length!==1?"s":""," scanned"]})]})]})})})})},ce.id))]}),S&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("h2",{className:`text-lg font-semibold ${e?"text-white":"text-slate-800"}`,children:"Warehouse Performance Reports"}),d.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300",children:(()=>{const ce=String(nt.getDate()).padStart(2,"0"),ke=String(nt.getMonth()+1).padStart(2,"0"),dt=nt.getFullYear();return`${ce}/${ke}/${dt}`})()})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("input",{type:"date",value:(()=>{const ce=nt.getFullYear(),ke=String(nt.getMonth()+1).padStart(2,"0"),dt=String(nt.getDate()).padStart(2,"0");return`${ce}-${ke}-${dt}`})(),onChange:ce=>{const ke=new Date(ce.target.value);nr(ke),ct(ke)},className:`px-3 py-2 border rounded-md text-sm ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`}),d.jsx(st,{variant:"secondary",onClick:()=>ct(nt),className:"flex items-center gap-2",size:"sm",disabled:tt,children:d.jsx(Za,{size:16,className:tt?"animate-spin":""})})]})]}),tt?d.jsxs("div",{className:`text-center py-8 ${e?"text-slate-400":"text-slate-500"}`,children:[d.jsx(Za,{size:24,className:"animate-spin mx-auto mb-2"}),d.jsx("p",{children:"Generating reports..."})]}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[d.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[d.jsx("div",{className:`text-xs sm:text-sm ${e?"text-slate-400":"text-slate-500"} mb-1`,children:"Total Items Picked Today"}),d.jsx("div",{className:`text-xl sm:text-2xl font-bold ${e?"text-blue-400":"text-blue-600"}`,children:Ie.userStats.reduce((ce,ke)=>ce+ke.itemsPicked,0)})]}),d.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[d.jsx("div",{className:`text-xs sm:text-sm ${e?"text-slate-400":"text-slate-500"} mb-1`,children:"Total Jobs Completed"}),d.jsx("div",{className:`text-xl sm:text-2xl font-bold ${e?"text-green-400":"text-green-600"}`,children:Ie.userStats.reduce((ce,ke)=>ce+ke.jobsCompleted,0)})]}),d.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} sm:col-span-2 lg:col-span-1`,children:[d.jsx("div",{className:`text-xs sm:text-sm ${e?"text-slate-400":"text-slate-500"} mb-1`,children:"Active Users Today"}),d.jsx("div",{className:`text-xl sm:text-2xl font-bold ${e?"text-purple-400":"text-purple-600"}`,children:Ie.userStats.length})]})]}),d.jsxs("div",{className:`p-4 sm:p-6 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[d.jsxs("h3",{className:`text-base sm:text-lg font-semibold mb-3 sm:mb-4 ${e?"text-white":"text-slate-800"}`,children:["User Performance - ",nt.toLocaleDateString()]}),Ie.userStats.length>0?d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full min-w-[600px]",children:[d.jsx("thead",{children:d.jsxs("tr",{className:`border-b ${e?"border-slate-700":"border-slate-200"}`,children:[d.jsx("th",{className:`text-left py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"User"}),d.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Jobs Created"}),d.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Jobs Completed"}),d.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Items Picked"}),d.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Avg Time/Job"}),d.jsx("th",{className:`text-center py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-slate-300":"text-slate-600"}`,children:"Total Time"})]})}),d.jsx("tbody",{children:Ie.userStats.map((ce,ke)=>d.jsxs("tr",{className:`border-b ${e?"border-slate-700":"border-slate-200"}`,children:[d.jsx("td",{className:`py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm font-medium ${e?"text-white":"text-slate-800"}`,children:ce.name}),d.jsx("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-slate-300":"text-slate-600"}`,children:ce.jobsCreated}),d.jsx("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-slate-300":"text-slate-600"}`,children:ce.jobsCompleted}),d.jsx("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-blue-400":"text-blue-600"} font-semibold`,children:ce.itemsPicked}),d.jsx("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-slate-300":"text-slate-600"}`,children:Kt(ce.avgTimePerJob)}),d.jsx("td",{className:`text-center py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm ${e?"text-slate-300":"text-slate-600"}`,children:Kt(ce.totalTime)})]},ke))})]})}):d.jsx("div",{className:`text-center py-6 sm:py-8 ${e?"text-slate-400":"text-slate-500"}`,children:"No data available for selected date"})]}),d.jsxs("div",{className:`p-4 sm:p-6 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[d.jsx("h3",{className:`text-base sm:text-lg font-semibold mb-3 sm:mb-4 ${e?"text-white":"text-slate-800"}`,children:"Last 7 Days Performance Overview"}),d.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-7 gap-1 sm:gap-2",children:(()=>{const ce=[];for(let ke=6;ke>=0;ke--){const dt=new Date;dt.setDate(dt.getDate()-ke);const Bt=new Date(dt);Bt.setHours(0,0,0,0);const xt=new Date(dt);xt.setHours(23,59,59,999);const ft=i.filter(Jt=>{const Mr=Jt.createdAt;return Mr>=Bt&&Mr<=xt}),Ot=ft.reduce((Jt,Mr)=>Jt+Mr.items.reduce((vn,Wa)=>vn+Wa.quantity,0),0),Vt=ft.filter(Jt=>Jt.status==="completed").length,Ht=rr(dt,"MMM dd");ce.push({date:Ht,itemsPicked:Ot,jobsCompleted:Vt})}return ce})().map((ce,ke)=>d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:`text-xs ${e?"text-slate-400":"text-slate-500"} mb-1`,children:ce.date}),d.jsx("div",{className:`text-lg font-bold ${e?"text-blue-400":"text-blue-600"}`,children:ce.itemsPicked}),d.jsxs("div",{className:`text-xs ${e?"text-slate-500":"text-slate-600"}`,children:[ce.jobsCompleted," jobs"]})]},ke))})]}),d.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[d.jsx("h3",{className:`text-base sm:text-lg font-semibold mb-3 sm:mb-4 ${e?"text-white":"text-slate-800"}`,children:"Chart Date Range"}),d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{className:`block text-xs sm:text-sm font-medium mb-1 ${e?"text-slate-300":"text-slate-700"}`,children:"Start Date"}),d.jsx("input",{type:"date",value:(()=>{const ce=tr.start.getFullYear(),ke=String(tr.start.getMonth()+1).padStart(2,"0"),dt=String(tr.start.getDate()).padStart(2,"0");return`${ce}-${ke}-${dt}`})(),onChange:ce=>{const ke=new Date(ce.target.value);ke.setHours(0,0,0,0),ke<=tr.end&&Fr(dt=>({...dt,start:ke}))},className:`w-full px-2 sm:px-3 py-2 border rounded-md text-xs sm:text-sm ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`})]}),d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{className:`block text-xs sm:text-sm font-medium mb-1 ${e?"text-slate-300":"text-slate-700"}`,children:"End Date"}),d.jsx("input",{type:"date",value:(()=>{const ce=tr.end.getFullYear(),ke=String(tr.end.getMonth()+1).padStart(2,"0"),dt=String(tr.end.getDate()).padStart(2,"0");return`${ce}-${ke}-${dt}`})(),onChange:ce=>{const ke=new Date(ce.target.value);ke.setHours(23,59,59,999),ke>=tr.start&&Fr(dt=>({...dt,end:ke}))},className:`w-full px-2 sm:px-3 py-2 border rounded-md text-xs sm:text-sm ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`})]})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[d.jsx("button",{onClick:()=>{const ce=new Date,ke=new Date;ke.setDate(ke.getDate()-6),ke.setHours(0,0,0,0),ce.setHours(23,59,59,999),Fr({start:ke,end:ce})},className:`px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-medium transition-all duration-200 ${(()=>{const ce=new Date,ke=new Date;return ke.setDate(ke.getDate()-6),ke.setHours(0,0,0,0),ce.setHours(23,59,59,999),tr.start.getTime()===ke.getTime()&&tr.end.getTime()===ce.getTime()})()?"bg-blue-600 text-white shadow-lg shadow-blue-600/25":"bg-slate-600 hover:bg-slate-500 text-white hover:shadow-md"}`,children:"Last 7 Days"}),d.jsx("button",{onClick:()=>{const ce=new Date,ke=new Date;ke.setDate(ke.getDate()-29),ke.setHours(0,0,0,0),ce.setHours(23,59,59,999),Fr({start:ke,end:ce})},className:`px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-medium transition-all duration-200 ${(()=>{const ce=new Date,ke=new Date;return ke.setDate(ke.getDate()-29),ke.setHours(0,0,0,0),ce.setHours(23,59,59,999),tr.start.getTime()===ke.getTime()&&tr.end.getTime()===ce.getTime()})()?"bg-blue-600 text-white shadow-lg shadow-blue-600/25":"bg-slate-600 hover:bg-slate-500 text-white hover:shadow-md"}`,children:"Last 30 Days"})]})]})]}),d.jsxs("div",{className:"space-y-3 sm:space-y-4 md:space-y-6",children:[d.jsxs("div",{className:`${e?"bg-slate-800":"bg-white"} p-3 sm:p-4 rounded-lg shadow-sm`,children:[d.jsxs("h3",{className:`text-sm sm:text-base md:text-lg font-medium ${e?"text-white":"text-slate-800"} mb-2 sm:mb-3 md:mb-4`,children:["Jobs Performance - Daily Overview (",tr.start.toLocaleDateString("en-GB")," to ",tr.end.toLocaleDateString("en-GB"),")"]}),d.jsx("div",{className:"h-48 sm:h-64 md:h-80",children:d.jsx(Hg,{width:"100%",height:"100%",children:d.jsxs(Jg,{data:(()=>{const ce=[],ke=new Map,dt=new Date(tr.start),Bt=new Date(tr.end),xt=Math.ceil((Bt.getTime()-dt.getTime())/(1e3*60*60*24));for(let ft=0;ft<=xt;ft++){const Ot=new Date(dt);Ot.setDate(dt.getDate()+ft);const Vt=new Date(Ot);Vt.setHours(0,0,0,0);const Ht=new Date(Ot);Ht.setHours(23,59,59,999);const Jt=i.filter(hn=>{const yn=hn.createdAt;return yn>=Vt&&yn<=Ht}),Mr=Jt.reduce((hn,yn)=>hn+yn.items.reduce((Ai,$r)=>Ai+$r.quantity,0),0),vn=Jt.filter(hn=>hn.status==="completed").length,Wa=Jt.length,Qi=rr(Ot,"MMM dd");ke.set(Qi,{itemsPicked:Mr,jobsCompleted:vn,jobsCreated:Wa})}return ke.forEach((ft,Ot)=>{ce.push({date:Ot,itemsPicked:ft.itemsPicked,jobsCompleted:ft.jobsCompleted,jobsCreated:ft.jobsCreated})}),ce.sort((ft,Ot)=>{const Vt=new Date(ft.date),Ht=new Date(Ot.date);return Vt.getTime()-Ht.getTime()})})(),children:[d.jsx(z0,{strokeDasharray:"3 3",stroke:e?"#334155":"#e2e8f0"}),d.jsx(Tf,{dataKey:"date",stroke:e?"#94a3b8":"#64748b"}),d.jsx(Ef,{stroke:e?"#94a3b8":"#64748b"}),d.jsx(Ss,{contentStyle:{backgroundColor:e?"#1e293b":"#ffffff",border:e?"1px solid #334155":"1px solid #e2e8f0",color:e?"#e2e8f0":"#1e293b"},formatter:(ce,ke)=>ke==="Items Picked"?[`${ce} items`,ke]:ke==="Jobs Completed"?[`${ce} jobs`,ke]:ke==="Jobs Created"?[`${ce} jobs`,ke]:[ce,ke],labelFormatter:ce=>`Date: ${ce}`}),d.jsx(vl,{}),d.jsx(mi,{type:"monotone",dataKey:"itemsPicked",stroke:"#10b981",name:"Items Picked",strokeWidth:2}),d.jsx(mi,{type:"monotone",dataKey:"jobsCompleted",stroke:"#3b82f6",name:"Jobs Completed",strokeWidth:2}),d.jsx(mi,{type:"monotone",dataKey:"jobsCreated",stroke:"#f59e0b",name:"Jobs Created",strokeWidth:2})]})})})]}),d.jsxs("div",{className:`${e?"bg-slate-800":"bg-white"} p-3 sm:p-4 rounded-lg shadow-sm`,children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2 sm:gap-0 mb-2 sm:mb-3 md:mb-4",children:[d.jsxs("h3",{className:`text-sm sm:text-base md:text-lg font-medium ${e?"text-white":"text-slate-800"}`,children:["User Performance - ",tr.start.toLocaleDateString("en-GB")," to ",tr.end.toLocaleDateString("en-GB")]}),d.jsx("select",{value:Wt||(()=>{const ce=Array.from(new Set(i.map(ke=>ke.createdBy)));return ce.length>0?ce[0]:""})(),onChange:ce=>{zr(ce.target.value)},className:`px-2 sm:px-3 py-1 border rounded-md text-xs sm:text-sm ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`,children:Array.from(new Set(i.map(ke=>ke.createdBy))).map(ke=>d.jsx("option",{value:ke,children:ke},ke))})]}),d.jsx("div",{className:"h-48 sm:h-64 md:h-80",children:d.jsx(Hg,{width:"100%",height:"100%",children:d.jsxs(Jg,{data:(()=>{const ce=[],ke=new Map,dt=Array.from(new Set(i.map(Vt=>Vt.createdBy))),Bt=Wt||(dt.length>0?dt[0]:""),xt=new Date(tr.start),ft=new Date(tr.end),Ot=Math.ceil((ft.getTime()-xt.getTime())/(1e3*60*60*24));for(let Vt=0;Vt<=Ot;Vt++){const Ht=new Date(xt);Ht.setDate(xt.getDate()+Vt);const Jt=new Date(Ht);Jt.setHours(0,0,0,0);const Mr=new Date(Ht);Mr.setHours(23,59,59,999);const vn=i.filter($r=>{const _a=$r.createdAt;return _a>=Jt&&_a<=Mr&&$r.createdBy===Bt}),Wa=vn.reduce(($r,_a)=>$r+_a.items.reduce((Fo,Al)=>Fo+Al.quantity,0),0),Qi=vn.filter($r=>$r.status==="completed").length,hn=vn.length;let yn=0;vn.forEach($r=>{$r.pickingTime&&$r.pickingTime>0&&(yn+=$r.pickingTime)});const Ai=rr(Ht,"MMM dd");ke.set(Ai,{itemsPicked:Wa,jobsCompleted:Qi,jobsCreated:hn,totalPickingTime:yn})}return ke.forEach((Vt,Ht)=>{ce.push({date:Ht,itemsPicked:Vt.itemsPicked,jobsCompleted:Vt.jobsCompleted,jobsCreated:Vt.jobsCreated,totalPickingTime:Vt.totalPickingTime})}),ce.sort((Vt,Ht)=>{const Jt=new Date(Vt.date),Mr=new Date(Ht.date);return Jt.getTime()-Mr.getTime()})})(),children:[d.jsx(z0,{strokeDasharray:"3 3",stroke:e?"#334155":"#e2e8f0"}),d.jsx(Tf,{dataKey:"date",stroke:e?"#94a3b8":"#64748b"}),d.jsx(Ef,{stroke:e?"#94a3b8":"#64748b"}),d.jsx(Ss,{contentStyle:{backgroundColor:e?"#1e293b":"#ffffff",border:e?"1px solid #334155":"1px solid #e2e8f0",color:e?"#e2e8f0":"#1e293b"},formatter:(ce,ke)=>ke==="Items Picked"?[`${ce} items`,ke]:ke==="Jobs Completed"?[`${ce} jobs`,ke]:ke==="Jobs Created"?[`${ce} jobs`,ke]:ke==="Total Picking Time"?[`${Kt(ce)}`,ke]:[ce,ke],labelFormatter:ce=>`Date: ${ce}`}),d.jsx(vl,{}),d.jsx(mi,{type:"monotone",dataKey:"itemsPicked",stroke:"#10b981",name:"Items Picked",strokeWidth:2}),d.jsx(mi,{type:"monotone",dataKey:"jobsCompleted",stroke:"#3b82f6",name:"Jobs Completed",strokeWidth:2}),d.jsx(mi,{type:"monotone",dataKey:"jobsCreated",stroke:"#f59e0b",name:"Jobs Created",strokeWidth:2}),d.jsx(mi,{type:"monotone",dataKey:"totalPickingTime",stroke:"#8b5cf6",name:"Total Picking Time",strokeWidth:2})]})})})]})]})]})]}),!S&&mr.length===0&&gr().uiSessions.length===0&&d.jsx("div",{className:`${e?"text-slate-400":"text-slate-500"} text-center py-8`,children:P?d.jsxs("div",{className:"space-y-2",children:[d.jsx("p",{children:"No archived jobs found."}),(Ne||je||ut!=="all")&&d.jsx("p",{className:"text-sm",children:"Try adjusting your filters or clearing them to see more results."})]}):w?"No completed jobs found.":T?"No live jobs found.":"No active jobs found."})]}),d.jsx(on,{isOpen:o,onClose:()=>{l(!1),z(null),ee(0),Re(!1);const ce=cr(mt(Ke,"liveJobSessions"),or("createdBy","==",r==null?void 0:r.name),or("isActive","==",!0));ur(ce).then(ke=>{ke.empty||Ns(Ar(Ke,"liveJobSessions",ke.docs[0].id))}).catch(ke=>{console.error("Error deleting session:",ke)})},title:Te?"Search Product from Inventory":"Add Barcode to Job",size:"md",closeOnOutsideClick:!1,children:d.jsxs("div",{className:"space-y-4",children:[!Te&&d.jsxs("div",{className:"flex justify-start gap-2",children:[d.jsxs("button",{onClick:()=>Re(!0),className:"flex items-center gap-2 px-3 py-2 rounded-md transition-colors bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-600",title:"Show search section",children:[d.jsx(Oo,{size:16}),d.jsx("span",{className:"text-sm font-medium",children:"Search Product"})]}),d.jsx(st,{variant:"secondary",onClick:()=>pe(!0),size:"sm",className:"px-3 py-2",children:d.jsx(vO,{size:16})})]}),Te&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("button",{onClick:()=>Re(!1),className:`flex items-center gap-2 px-3 py-2 rounded-md transition-colors ${e?"bg-slate-700 text-slate-300 hover:bg-slate-600 hover:text-white":"bg-slate-200 text-slate-700 hover:bg-slate-300 hover:text-slate-800"}`,title:"Back to Add Barcode",children:[d.jsx(pZ,{size:16}),d.jsx("span",{className:"text-sm font-medium",children:"Back to Add Barcode"})]}),d.jsx(st,{variant:"secondary",onClick:()=>pe(!0),size:"sm",className:"px-3 py-2",children:d.jsx(vO,{size:16})})]}),d.jsx("div",{className:"flex gap-2 mb-3",children:["name","barcode","asin"].map(ce=>d.jsx("button",{onClick:()=>De(ce),className:`px-3 py-1 text-xs rounded-md transition-colors ${ve===ce?"bg-blue-500 text-white":e?"bg-slate-700 text-slate-300 hover:bg-slate-600":"bg-slate-200 text-slate-700 hover:bg-slate-300"}`,children:ce.charAt(0).toUpperCase()+ce.slice(1)},ce))}),d.jsxs("div",{className:"flex gap-2 mb-3",children:[d.jsx(Nt,{value:ye,onChange:ce=>W(ce.target.value),placeholder:`Search by ${ve}...`,className:"flex-1",onKeyPress:ce=>ce.key==="Enter"&&Mt(ye,ve)}),d.jsx(st,{onClick:()=>Mt(ye,ve),disabled:Ee||!ye.trim(),size:"sm",className:"px-4",children:Ee?d.jsx(Za,{size:14,className:"animate-spin"}):"Search"})]}),Pe.length>0&&d.jsxs("div",{className:"space-y-2 max-h-48 overflow-auto",children:[d.jsxs("h5",{className:`text-xs font-medium ${e?"text-slate-400":"text-slate-600"}`,children:["Found ",Pe.length," product",Pe.length!==1?"s":"",":"]}),Pe.map(ce=>d.jsxs("div",{className:`p-2 rounded text-sm ${e?"bg-slate-700 border border-slate-600":"bg-slate-100 border border-slate-200"}`,children:[d.jsx("div",{className:`font-medium ${e?"text-white":"text-slate-800"}`,children:ce.name}),d.jsxs("div",{className:`text-xs ${e?"text-slate-400":"text-slate-600"}`,children:[ce.barcode&&d.jsxs("span",{className:"mr-3",children:["Barcode: ",ce.barcode]}),ce.asin&&d.jsxs("span",{className:"mr-3",children:["ASIN: ",ce.asin]}),ce.locationCode&&ce.shelfNumber&&d.jsxs("span",{className:"mr-3",children:["Location: ",ce.locationCode,"-",ce.shelfNumber]}),d.jsxs("span",{className:"mr-3",children:["Qty: ",ce.quantity]}),d.jsxs("span",{children:["Store: ",ce.storeName]})]})]},ce.id))]}),ye&&Pe.length===0&&!Ee&&d.jsxs("div",{className:`text-center text-sm ${e?"text-slate-400":"text-slate-500"}`,children:['No products found for "',ye,'"']})]}),!Te&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-200",children:"Barcode"}),d.jsxs("form",{onSubmit:ae,className:"flex gap-2",children:[d.jsx(Nt,{name:"manualBarcode",type:"text",value:E,onChange:ce=>N(ce.target.value),placeholder:"Enter barcode manually",fullWidth:!0}),d.jsxs(st,{type:"submit",className:"flex items-center gap-1 whitespace-nowrap",size:"sm",children:[d.jsx(xi,{size:16})," Add"]})]})]}),d.jsx("div",{className:"text-center text-sm text-slate-500 dark:text-slate-400",children:"Enter a barcode to update stock quantity for this job"})]}),!Te&&c.length>0&&d.jsxs("div",{className:"space-y-2",children:[d.jsx("h4",{className:`text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Current Job Items:"}),d.jsx("div",{className:"max-h-32 overflow-auto space-y-1",children:c.map((ce,ke)=>{var dt;return d.jsx("div",{className:`flex items-center justify-between p-2 rounded text-sm ${e?"bg-slate-800":"bg-slate-100"}`,children:(p==null?void 0:p.index)===ke?d.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[d.jsx(Nt,{value:p.barcode,onChange:Bt=>g({...p,barcode:Bt.target.value}),className:"w-24 text-sm"}),d.jsx(Nt,{type:"number",value:p.quantity,onChange:Bt=>g({...p,quantity:Number(Bt.target.value)||1}),className:"w-16 text-sm",min:"1"}),d.jsxs("div",{className:"flex gap-1",children:[d.jsx(st,{size:"sm",onClick:()=>{const Bt=c[ke].quantity,xt=Number(p.quantity),ft=xt-Bt;u(Vt=>{const Ht=[...Vt];return Ht[ke]={...Ht[ke],barcode:p.barcode,quantity:xt,reason:p.reason||"Unknown",storeName:p.storeName||"Unknown",name:p.name||null},Ht}),h(Vt=>{const Ht=[...Vt],Jt=Ht.findIndex(Mr=>Mr.stockItem.barcode===p.barcode&&Mr.locationCode===c[ke].locationCode&&Mr.shelfNumber===c[ke].shelfNumber);return Jt>=0&&(Ht[Jt]={...Ht[Jt],deductedQuantity:Ht[Jt].deductedQuantity+ft}),Ht});const Ot=cr(mt(Ke,"liveJobSessions"),or("createdBy","==",r==null?void 0:r.name),or("isActive","==",!0));ur(Ot).then(Vt=>{if(!Vt.empty){const Ht=Vt.docs[0],Mr=(Ht.data().items||[]).map(vn=>vn.barcode===c[ke].barcode&&vn.locationCode===c[ke].locationCode&&vn.shelfNumber===c[ke].shelfNumber?{...vn,barcode:p.barcode,quantity:xt,reason:p.reason||"Unknown",storeName:p.storeName||"Unknown",name:p.name||null}:vn);jn(Ar(Ke,"liveJobSessions",Ht.id),{items:Mr})}}).catch(Vt=>{console.error("Error updating session items:",Vt)}),g(null)},className:"h-6 px-2",children:"✓"}),d.jsx(st,{variant:"secondary",size:"sm",onClick:()=>g(null),className:"h-6 px-2",children:"✕"})]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("span",{className:"truncate block font-medium",children:ce.name||ce.barcode}),ce.name&&d.jsxs("span",{className:"text-xs text-slate-500 block",children:["Barcode: ",ce.barcode]}),ce.locationCode&&ce.shelfNumber&&d.jsxs("span",{className:"text-xs text-slate-500 block",children:["Location: ",ce.locationCode," - Shelf ",ce.shelfNumber]}),ce.reason&&d.jsxs("span",{className:"text-xs text-slate-500 block",children:["Reason: ",ce.reason]}),ce.storeName&&d.jsxs("span",{className:"text-xs text-slate-500 block",children:["Store: ",(dt=ce.storeName)==null?void 0:dt.toUpperCase()]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:"text-xs text-slate-500",children:["Qty: ",ce.quantity]}),d.jsx(st,{variant:"secondary",size:"sm",onClick:()=>g({index:ke,barcode:ce.barcode,quantity:ce.quantity,reason:ce.reason,storeName:ce.storeName,name:ce.name}),className:"h-6 px-2",children:"Edit"}),d.jsx("button",{type:"button",onClick:()=>{u(ft=>ft.filter((Ot,Vt)=>Vt!==ke));const Bt=c[ke];h(ft=>ft.filter(Ot=>!(Ot.stockItem.barcode===Bt.barcode&&Ot.locationCode===Bt.locationCode&&Ot.shelfNumber===Bt.shelfNumber)));const xt=cr(mt(Ke,"liveJobSessions"),or("createdBy","==",r==null?void 0:r.name),or("isActive","==",!0));ur(xt).then(ft=>{if(!ft.empty){const Ot=ft.docs[0],Ht=(Ot.data().items||[]).filter(Jt=>!(Jt.barcode===Bt.barcode&&Jt.locationCode===Bt.locationCode&&Jt.shelfNumber===Bt.shelfNumber));jn(Ar(Ke,"liveJobSessions",Ot.id),{items:Ht})}}).catch(ft=>{console.error("Error updating session items:",ft)})},className:"h-6 w-6 rounded flex items-center justify-center text-white bg-red-500 hover:bg-red-600 transition-colors hover:bg-red-600",title:"Remove item",children:"×"})]})]})},`${ce.barcode}-${ce.locationCode}-${ce.shelfNumber}-${ke}`)})}),d.jsx("div",{className:"pt-2",children:d.jsxs(st,{onClick:rt,disabled:c.length===0||R,isLoading:R,className:"w-full flex items-center justify-center gap-2",size:"sm",children:[d.jsx(Jx,{size:16}),R?"Creating Job...":"Finish Picking"]})})]})]})}),d.jsx(ih,{isOpen:!!y,onClose:()=>b(null),onConfirm:Dt,title:"Delete Job",message:y?`Are you sure you want to delete Job ${y.jobId}? This action cannot be undone.`:"",isLoading:!1}),d.jsx(on,{isOpen:O,onClose:()=>U(!1),title:"Update Stock for Job",size:"lg",closeOnOutsideClick:!1,children:Y&&d.jsx(Oye,{item:Y,onSubmit:we,onCancel:me,isLoading:!1})}),d.jsx(Iye,{isOpen:ne,onClose:()=>pe(!1)})]})},w$e=({children:e,variant:t="primary",size:r="md",className:n=""})=>{const a={primary:"bg-blue-100 text-blue-800",success:"bg-green-100 text-green-800",warning:"bg-amber-100 text-amber-800",danger:"bg-red-100 text-red-800",info:"bg-slate-100 text-slate-800"},i={sm:"text-xs px-2 py-0.5",md:"text-sm px-2.5 py-0.5"};return d.jsx("span",{className:`
        ${a[t]} 
        ${i[r]} 
        inline-flex items-center justify-center font-medium rounded-full
        ${n}
      `,children:e})},dK=({status:e})=>{const t=()=>{switch(e){case"pending":return"info";case"processing":return"primary";case"shipped":return"warning";case"delivered":return"success";case"cancelled":return"danger";case"completed":return"success";default:return"info"}},r=()=>e.charAt(0).toUpperCase()+e.slice(1);return d.jsx(w$e,{variant:t(),children:r()})},_$e=({order:e,onClick:t,editButton:r})=>{const{isDarkMode:n}=sn();return d.jsx("div",{className:`border ${n?"border-slate-700 bg-slate-800":"border-slate-200 bg-white"} rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-pointer`,onClick:t,children:d.jsxs("div",{className:"p-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("h3",{className:`font-medium ${n?"text-white":"text-slate-800"}`,children:e.orderNumber}),d.jsxs("div",{className:"flex items-center gap-2",children:[r,d.jsx(dK,{status:e.status})]})]}),d.jsx("p",{className:`${n?"text-slate-300":"text-slate-700"} mb-2`,children:e.customerName}),d.jsx("div",{className:"space-y-1 mb-3",children:d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsxs("span",{className:`${n?"text-slate-400":"text-slate-600"}`,children:["Total Products: ",e.items.length]}),d.jsxs("span",{className:`${n?"text-slate-200":"text-slate-800"} font-medium`,children:["Total Quantity: ",e.items.reduce((a,i)=>a+i.quantity,0)]})]})}),d.jsxs("div",{className:`pt-2 border-t ${n?"border-slate-700":"border-slate-200"} flex items-center justify-between`,children:[d.jsx("span",{className:`text-xs ${n?"text-slate-400":"text-slate-500"}`,children:rr(e.createdAt,"MMM d, yyyy")}),d.jsxs("span",{className:`font-medium ${n?"text-white":"text-slate-900"}`,children:["Total: $",e.totalAmount.toFixed(2)]})]})]})})},S$e=({isOpen:e,onClose:t,order:r})=>r?(console.log("Order in OrderDetailsModal:",r),console.log("Order status in modal:",r.status),console.log("Shipped Time in modal (before conditional):",r.shippedTime,typeof r.shippedTime),d.jsx(on,{isOpen:e,onClose:t,title:`Order ${r.orderNumber}`,size:"xl",children:d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex flex-wrap justify-between gap-4 pb-4 border-b border-slate-200",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Status"}),d.jsx("div",{className:"mt-1",children:d.jsx(dK,{status:r.status})})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Customer"}),d.jsx("p",{className:"text-slate-800 font-medium",children:r.customerName})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Order Date"}),d.jsx("p",{className:"text-slate-800",children:r.createdAt?rr(r.createdAt,"MMM d, yyyy h:mm a"):"N/A"})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Last Updated"}),d.jsx("p",{className:"text-slate-800",children:r.updatedAt?rr(r.updatedAt,"MMM d, yyyy h:mm a"):"N/A"})]}),r.status==="shipped"&&r.shippedTime&&d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Shipped Time"}),d.jsx("p",{className:"text-slate-800",children:r.shippedTime?rr(r.shippedTime,"MMM d, yyyy h:mm a"):"N/A"})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800 mb-3",children:"Order Items"}),d.jsx("div",{className:"bg-slate-50 rounded-lg border border-slate-200 overflow-hidden",children:d.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[d.jsx("thead",{className:"bg-slate-100",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Product"}),d.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Quantity"}),d.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Unit Price"}),d.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Total"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:r.items.map(n=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-800",children:n.productName}),d.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-800 text-right",children:n.quantity}),d.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-800 text-right",children:["$",n.unitPrice.toFixed(2)]}),d.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-slate-900 text-right",children:["$",n.totalPrice.toFixed(2)]})]},n.id))}),d.jsx("tfoot",{className:"bg-slate-50",children:d.jsxs("tr",{children:[d.jsx("td",{colSpan:3,className:"px-4 py-3 text-sm font-medium text-slate-700 text-right",children:"Total"}),d.jsxs("td",{className:"px-4 py-3 text-sm font-bold text-slate-900 text-right",children:["$",r.totalAmount.toFixed(2)]})]})})]})})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Shipping Address"}),d.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200",children:[d.jsx("p",{className:"text-sm text-slate-800",children:r.shippingAddress.street}),d.jsxs("p",{className:"text-sm text-slate-800",children:[r.shippingAddress.city,", ",r.shippingAddress.state," ",r.shippingAddress.zipCode]}),d.jsx("p",{className:"text-sm text-slate-800",children:r.shippingAddress.country})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Billing Address"}),d.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200",children:[d.jsx("p",{className:"text-sm text-slate-800",children:r.billingAddress.street}),d.jsxs("p",{className:"text-sm text-slate-800",children:[r.billingAddress.city,", ",r.billingAddress.state," ",r.billingAddress.zipCode]}),d.jsx("p",{className:"text-sm text-slate-800",children:r.billingAddress.country})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Payment Method"}),d.jsx("p",{className:"text-slate-700",children:r.paymentMethod})]}),r.notes&&d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Notes"}),d.jsx("p",{className:"text-slate-700",children:r.notes})]})]})]})})):null,Aw=[{id:"stock1",name:"Wireless Earbuds",quantity:150,price:89.99,supplier:"Tech Supplies Inc.",lastUpdated:new Date,locationCode:"A1",shelfNumber:3},{id:"stock2",name:"Premium T-Shirt",quantity:300,price:24.99,supplier:"Fashion Forward",lastUpdated:Dr(new Date,2),locationCode:"A2",shelfNumber:1},{id:"stock3",name:"Office Chair",quantity:45,price:149.99,supplier:"Office Comfort LLC",lastUpdated:Dr(new Date,5),locationCode:"B1",shelfNumber:2},{id:"stock4",name:"Smartphone Case",quantity:200,price:19.99,supplier:"Tech Accessories Co.",lastUpdated:Dr(new Date,1),locationCode:"B2",shelfNumber:4},{id:"stock5",name:"Protein Bars",quantity:500,price:2.99,supplier:"Nutrition Wholesale",lastUpdated:Dr(new Date,3),locationCode:"C1",shelfNumber:2},{id:"stock6",name:"Laptop Backpack",quantity:75,price:59.99,supplier:"Travel Gear Ltd.",lastUpdated:Dr(new Date,7),locationCode:"C2",shelfNumber:3},{id:"stock7",name:"Wireless Mouse",quantity:120,price:29.99,supplier:"Tech Supplies Inc.",lastUpdated:Dr(new Date,4),locationCode:"D1",shelfNumber:2},{id:"stock8",name:"Denim Jeans",quantity:180,price:49.99,supplier:"Fashion Forward",lastUpdated:Dr(new Date,6),locationCode:"D2",shelfNumber:4}],A$e=[{id:"order1",orderNumber:"ORD-2025-001",customerName:"Jane Smith",items:[{id:"item1",productId:"stock1",productName:"Wireless Earbuds",quantity:2,unitPrice:89.99,totalPrice:179.98},{id:"item2",productId:"stock4",productName:"Smartphone Case",quantity:1,unitPrice:19.99,totalPrice:19.99}],status:"pending",createdAt:Dr(new Date,1),updatedAt:Dr(new Date,1),shippingAddress:{street:"123 Main St",city:"Boston",state:"MA",zipCode:"02108",country:"USA"},billingAddress:{street:"123 Main St",city:"Boston",state:"MA",zipCode:"02108",country:"USA"},paymentMethod:"Credit Card",totalAmount:199.97},{id:"order2",orderNumber:"ORD-2025-002",customerName:"John Doe",items:[{id:"item3",productId:"stock3",productName:"Office Chair",quantity:1,unitPrice:149.99,totalPrice:149.99}],status:"processing",createdAt:Dr(new Date,2),updatedAt:Dr(new Date,1),shippingAddress:{street:"456 Park Ave",city:"New York",state:"NY",zipCode:"10022",country:"USA"},billingAddress:{street:"456 Park Ave",city:"New York",state:"NY",zipCode:"10022",country:"USA"},paymentMethod:"PayPal",totalAmount:149.99},{id:"order3",orderNumber:"ORD-2025-003",customerName:"Bob Johnson",items:[{id:"item4",productId:"stock2",productName:"Premium T-Shirt",quantity:3,unitPrice:24.99,totalPrice:74.97},{id:"item5",productId:"stock8",productName:"Denim Jeans",quantity:2,unitPrice:49.99,totalPrice:99.98}],status:"shipped",createdAt:Dr(new Date,5),updatedAt:Dr(new Date,3),shippingAddress:{street:"789 Oak Dr",city:"Chicago",state:"IL",zipCode:"60601",country:"USA"},billingAddress:{street:"789 Oak Dr",city:"Chicago",state:"IL",zipCode:"60601",country:"USA"},paymentMethod:"Credit Card",totalAmount:174.95},{id:"order4",orderNumber:"ORD-2025-004",customerName:"Alice Williams",items:[{id:"item6",productId:"stock5",productName:"Protein Bars",quantity:10,unitPrice:2.99,totalPrice:29.9}],status:"delivered",createdAt:Dr(new Date,10),updatedAt:Dr(new Date,7),shippingAddress:{street:"101 Pine St",city:"San Francisco",state:"CA",zipCode:"94111",country:"USA"},billingAddress:{street:"101 Pine St",city:"San Francisco",state:"CA",zipCode:"94111",country:"USA"},paymentMethod:"Credit Card",totalAmount:29.9},{id:"order5",orderNumber:"ORD-2025-005",customerName:"Thomas Clark",items:[{id:"item7",productId:"stock7",productName:"Wireless Mouse",quantity:1,unitPrice:29.99,totalPrice:29.99},{id:"item8",productId:"stock6",productName:"Laptop Backpack",quantity:1,unitPrice:59.99,totalPrice:59.99}],status:"delivered",createdAt:Dr(new Date,15),updatedAt:Dr(new Date,12),shippingAddress:{street:"202 Maple Rd",city:"Austin",state:"TX",zipCode:"78701",country:"USA"},billingAddress:{street:"202 Maple Rd",city:"Austin",state:"TX",zipCode:"78701",country:"USA"},paymentMethod:"PayPal",totalAmount:89.98}];A$e.filter(e=>e.status==="delivered"||e.status==="cancelled");Array.from({length:30},(e,t)=>{const r=Math.floor(Math.random()*6e3)+2e3;return{date:rr(Dr(new Date,29-t),"MMM dd"),amount:r}});Dr(new Date,1),Dr(new Date,1),Dr(new Date,3),Dr(new Date,4),Dr(new Date,5);const T$e=[{value:"pending",label:"Pending"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"},{value:"returned",label:"Returned"}],E$e=[{value:"Credit Card",label:"Credit Card"},{value:"Cash",label:"Cash"}],xA={productId:"",productName:"",quantity:1,unitPrice:0,totalPrice:0},r7={street:"",city:"",state:"",zipCode:"",country:""};function N$e(){const e=new Date,t=i=>i.toString().padStart(2,"0"),r=`${e.getFullYear()}${t(e.getMonth()+1)}${t(e.getDate())}`,n=`${t(e.getHours())}${t(e.getMinutes())}${t(e.getSeconds())}`,a=Math.floor(Math.random()*1e4).toString().padStart(4,"0");return`ORD-${r}-${n}-${a}`}const k$e=e=>typeof e=="object"&&e!==null&&!Array.isArray(e)&&"street"in e&&"city"in e&&"state"in e&&"zipCode"in e&&"country"in e,n7=e=>k$e(e)?e:{street:"",city:"",state:"",zipCode:"",country:""},C$e=({isOpen:e,onClose:t,onAdd:r,isLoading:n})=>{const[a,i]=B.useState(""),[s,o]=B.useState(""),[l,c]=B.useState("pending"),[u,f]=B.useState(""),[h,p]=B.useState([{...xA}]),[g,m]=B.useState({...r7}),[v,y]=B.useState({...r7}),[b,w]=B.useState("Credit Card"),[D,P]=B.useState(""),[I,T]=B.useState([]),[_,S]=B.useState(!1);B.useEffect(()=>{e&&(i(N$e()),f(rr(new Date,"yyyy-MM-dd")),p([{...xA}]),c("pending"))},[e]),B.useEffect(()=>{e&&(async()=>{S(!0);try{const K=cr(mt(Ke,"inventory"),Ia("name")),z=(await ur(K)).docs.map(V=>({id:V.id,...V.data()}));T(z.length>0?z:Aw)}catch{T(Aw)}finally{S(!1)}})()},[e]);const j=(Y,K,J)=>{p(z=>z.map((V,ee)=>{if(ee!==Y)return V;if(K==="productName"){const Z=I.find(k=>k.name===J);return Z?{...V,productId:Z.id,productName:Z.name,unitPrice:Z.price,quantity:1,totalPrice:Z.price*1}:V}if(K==="quantity"){const Z=Number(J);return{...V,quantity:Z,totalPrice:V.unitPrice*Z}}return{...V,[K]:J}}))},E=()=>{p([...h,{...xA}])},N=Y=>{p(K=>K.filter((J,z)=>z!==Y))},O=(Y,K,J)=>{Y==="shipping"?m(z=>({...n7(z),[K]:J})):y(z=>({...n7(z),[K]:J}))},U=Y=>{if(Y.preventDefault(),h.some(z=>!z.productId||!z.productName)){alert("Please select a product for each order item.");return}const K=new Date,J={orderNumber:a,customerName:s,status:l,createdAt:u?new Date(u):K,updatedAt:K,items:h.map((z,V)=>({...z,id:`item${V+1}`})),shippingAddress:g,billingAddress:v,paymentMethod:b,totalAmount:h.reduce((z,V)=>z+(V.totalPrice||0),0)};D&&(J.notes=D),r(J),t()};return d.jsx(on,{isOpen:e,onClose:t,title:"Add New Order",size:"xl",children:d.jsxs("form",{onSubmit:U,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(Nt,{label:"Order Number",value:a,readOnly:!0,required:!0,fullWidth:!0}),d.jsx(Nt,{label:"Customer Name",value:s,onChange:Y=>o(Y.target.value),required:!0,fullWidth:!0})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(en,{label:"Status",value:l,onChange:Y=>c(Y.target.value),options:T$e,required:!0,fullWidth:!0,disabled:!0}),d.jsx(en,{label:"Payment Method",value:b,onChange:Y=>w(Y.target.value),options:E$e,required:!0,fullWidth:!0})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:d.jsx(Nt,{label:"Order Date",type:"date",value:u,onChange:Y=>f(Y.target.value),required:!0,fullWidth:!0})}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Order Items"}),h.map((Y,K)=>d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-2 mb-2 items-end",children:[d.jsx(en,{label:"Product Name",value:Y.productName,onChange:J=>j(K,"productName",J.target.value),options:[{value:"",label:"Select product..."},...I.map(J=>({value:J.name,label:J.name}))],required:!0,fullWidth:!0,disabled:_}),d.jsx(Nt,{label:"Quantity",type:"number",value:Y.quantity,onChange:J=>j(K,"quantity",Number(J.target.value)),min:1,required:!0,fullWidth:!0,disabled:!Y.productName}),d.jsx(Nt,{label:"Unit Price",type:"number",value:Y.unitPrice,disabled:!0,fullWidth:!0}),d.jsx(Nt,{label:"Total Price",type:"number",value:Y.totalPrice,disabled:!0,fullWidth:!0}),d.jsx(st,{type:"button",variant:"danger",size:"sm",icon:d.jsx(ei,{size:16}),onClick:()=>N(K),children:"Remove"})]},K)),d.jsx(st,{type:"button",variant:"primary",icon:d.jsx(xi,{size:16}),onClick:E,disabled:_,children:"Add Item"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Shipping Address"}),d.jsx(Nt,{label:"Street",value:g.street,onChange:Y=>O("shipping","street",Y.target.value),required:!0,fullWidth:!0}),d.jsx(Nt,{label:"City",value:g.city,onChange:Y=>O("shipping","city",Y.target.value),required:!0,fullWidth:!0}),d.jsx(Nt,{label:"State",value:g.state,onChange:Y=>O("shipping","state",Y.target.value),required:!0,fullWidth:!0}),d.jsx(Nt,{label:"Zip Code",value:g.zipCode,onChange:Y=>O("shipping","zipCode",Y.target.value),required:!0,fullWidth:!0}),d.jsx(Nt,{label:"Country",value:g.country,onChange:Y=>O("shipping","country",Y.target.value),required:!0,fullWidth:!0})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Billing Address"}),d.jsx(Nt,{label:"Street",value:v.street,onChange:Y=>O("billing","street",Y.target.value),required:!0,fullWidth:!0}),d.jsx(Nt,{label:"City",value:v.city,onChange:Y=>O("billing","city",Y.target.value),required:!0,fullWidth:!0}),d.jsx(Nt,{label:"State",value:v.state,onChange:Y=>O("billing","state",Y.target.value),required:!0,fullWidth:!0}),d.jsx(Nt,{label:"Zip Code",value:v.zipCode,onChange:Y=>O("billing","zipCode",Y.target.value),required:!0,fullWidth:!0}),d.jsx(Nt,{label:"Country",value:v.country,onChange:Y=>O("billing","country",Y.target.value),required:!0,fullWidth:!0})]})]}),d.jsx(Nt,{label:"Notes (optional)",value:D,onChange:Y=>P(Y.target.value),fullWidth:!0}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(st,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),d.jsx(st,{type:"submit",isLoading:n,variant:"primary",children:"Add Order"})]})]})})},P$e=[{value:"pending",label:"Pending"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"},{value:"returned",label:"Returned"}],O$e=[{value:"Credit Card",label:"Credit Card"},{value:"Cash",label:"Cash"}],a7={productId:"",productName:"",quantity:1,unitPrice:0,totalPrice:0},i7={street:"",city:"",state:"",zipCode:"",country:""},I$e=({isOpen:e,onClose:t,onEdit:r,isLoading:n,order:a})=>{const[i,s]=B.useState(""),[o,l]=B.useState(""),[c,u]=B.useState("pending"),[f,h]=B.useState(""),[p,g]=B.useState(""),[m,v]=B.useState([{...a7}]),[y,b]=B.useState({...i7}),[w,D]=B.useState({...i7}),[P,I]=B.useState("Credit Card"),[T,_]=B.useState(""),[S,j]=B.useState([]),[E,N]=B.useState(!1);B.useEffect(()=>{e&&a&&(s(a.orderNumber),l(a.customerName),u(a.status),h(rr(a.createdAt,"yyyy-MM-dd")),v(a.items.map(ee=>({...ee}))),b(a.shippingAddress),D(a.billingAddress),I(a.paymentMethod),_(a.notes||""),a.status==="shipped"&&a.shippedTime?g(rr(a.shippedTime,"yyyy-MM-dd'T'HH:mm")):g(""))},[e,a]),B.useEffect(()=>{e&&(async()=>{N(!0);try{const Z=cr(mt(Ke,"inventory"),Ia("name")),R=(await ur(Z)).docs.map(q=>({id:q.id,...q.data()}));j(R.length>0?R:Aw)}catch{j(Aw)}finally{N(!1)}})()},[e]);const O=(ee,Z,k)=>{v(R=>R.map((q,G)=>{if(G!==ee)return q;if(Z==="productName"){const Q=S.find(ie=>ie.name===k);return Q?{...q,productId:Q.id,productName:Q.name,unitPrice:Q.price,quantity:1,totalPrice:Q.price*1}:q}if(Z==="quantity"){const Q=Number(k);return{...q,quantity:Q,totalPrice:q.unitPrice*Q}}return{...q,[Z]:k}}))},U=()=>{v([...m,{...a7}])},Y=ee=>{v(Z=>Z.filter((k,R)=>R!==ee))},K=(ee,Z,k)=>{ee==="shipping"?b(R=>({...V(R),[Z]:k})):D(R=>({...V(R),[Z]:k}))},J=ee=>{if(ee.preventDefault(),m.some(R=>!R.productId||!R.productName)){alert("Please select a product for each order item.");return}const Z={orderNumber:i,customerName:o,status:c,items:m.map((R,q)=>{let G;return typeof R.id=="string"&&R.id?G=R.id:G=`item${q+1}`,{...R,id:G}}),shippingAddress:y,billingAddress:w,paymentMethod:P,totalAmount:m.reduce((R,q)=>R+(q.totalPrice||0),0)};T&&(Z.notes=T),c==="shipped"&&p?Z.shippedTime=Que(p):a!=null&&a.shippedTime&&c!=="shipped"&&(Z.shippedTime=null);const k={id:(a==null?void 0:a.id)||"",createdAt:(a==null?void 0:a.createdAt)||new Date,updatedAt:new Date,...Z};r(k),t()},z=ee=>typeof ee=="object"&&ee!==null&&!Array.isArray(ee)&&"street"in ee&&"city"in ee&&"state"in ee&&"zipCode"in ee&&"country"in ee,V=ee=>z(ee)?ee:{street:"",city:"",state:"",zipCode:"",country:""};return d.jsx(on,{isOpen:e,onClose:t,title:"Edit Order",size:"xl",children:d.jsxs("form",{onSubmit:J,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(Nt,{label:"Order Number",value:i,readOnly:!0,required:!0,fullWidth:!0}),d.jsx(Nt,{label:"Customer Name",value:o,onChange:ee=>l(ee.target.value),required:!0,fullWidth:!0})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(en,{label:"Status",value:c,onChange:ee=>u(ee.target.value),options:P$e,required:!0,fullWidth:!0}),d.jsx(en,{label:"Payment Method",value:P,onChange:ee=>I(ee.target.value),options:O$e,required:!0,fullWidth:!0})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(Nt,{label:"Order Date",type:"date",value:f,onChange:ee=>h(ee.target.value),required:!0,fullWidth:!0}),c==="shipped"&&d.jsx(Nt,{label:"Shipped Time",type:"datetime-local",value:p,onChange:ee=>g(ee.target.value),required:!0,fullWidth:!0})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Order Items"}),m.map((ee,Z)=>d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-2 mb-2 items-end",children:[d.jsx(en,{label:"Product Name",value:ee.productName,onChange:k=>O(Z,"productName",k.target.value),options:[{value:"",label:"Select product..."},...S.map(k=>({value:k.name,label:k.name}))],required:!0,fullWidth:!0,disabled:E}),d.jsx(Nt,{label:"Quantity",type:"number",value:ee.quantity,onChange:k=>O(Z,"quantity",Number(k.target.value)),min:1,required:!0,fullWidth:!0,disabled:!ee.productName}),d.jsx(Nt,{label:"Unit Price",type:"number",value:ee.unitPrice,disabled:!0,fullWidth:!0}),d.jsx(Nt,{label:"Total Price",type:"number",value:ee.totalPrice,disabled:!0,fullWidth:!0}),d.jsx(st,{type:"button",variant:"danger",size:"sm",icon:d.jsx(ei,{size:16}),onClick:()=>Y(Z),children:"Remove"})]},Z)),d.jsx(st,{type:"button",variant:"primary",icon:d.jsx(xi,{size:16}),onClick:U,disabled:E,children:"Add Item"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Shipping Address"}),d.jsx(Nt,{label:"Street",value:y.street,onChange:ee=>K("shipping","street",ee.target.value),required:!0,fullWidth:!0}),d.jsx(Nt,{label:"City",value:y.city,onChange:ee=>K("shipping","city",ee.target.value),required:!0,fullWidth:!0}),d.jsx(Nt,{label:"State",value:y.state,onChange:ee=>K("shipping","state",ee.target.value),required:!0,fullWidth:!0}),d.jsx(Nt,{label:"Zip Code",value:y.zipCode,onChange:ee=>K("shipping","zipCode",ee.target.value),required:!0,fullWidth:!0}),d.jsx(Nt,{label:"Country",value:y.country,onChange:ee=>K("shipping","country",ee.target.value),required:!0,fullWidth:!0})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Billing Address"}),d.jsx(Nt,{label:"Street",value:w.street,onChange:ee=>K("billing","street",ee.target.value),required:!0,fullWidth:!0}),d.jsx(Nt,{label:"City",value:w.city,onChange:ee=>K("billing","city",ee.target.value),required:!0,fullWidth:!0}),d.jsx(Nt,{label:"State",value:w.state,onChange:ee=>K("billing","state",ee.target.value),required:!0,fullWidth:!0}),d.jsx(Nt,{label:"Zip Code",value:w.zipCode,onChange:ee=>K("billing","zipCode",ee.target.value),required:!0,fullWidth:!0}),d.jsx(Nt,{label:"Country",value:w.country,onChange:ee=>K("billing","country",ee.target.value),required:!0,fullWidth:!0})]})]}),d.jsx(Nt,{label:"Notes (optional)",value:T,onChange:ee=>_(ee.target.value),fullWidth:!0}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(st,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),d.jsx(st,{type:"submit",isLoading:n,variant:"primary",children:"Save Changes"})]})]})})},j$e=()=>{const[e,t]=B.useState(""),[r,n]=B.useState("all"),[a,i]=B.useState("date"),[s,o]=B.useState(null),[l,c]=B.useState("grid"),[u,f]=B.useState(!1),[h,p]=B.useState(!1),[g,m]=B.useState([]),[v,y]=B.useState(null),[b,w]=B.useState(!1),{showToast:D}=rc(),{user:P}=wa(),{isDarkMode:I}=sn(),T=async()=>{p(!0);try{const z=cr(mt(Ke,"orders"),Ia("createdAt","desc")),ee=(await ur(z)).docs.map(Z=>{const k=Z.data();return{id:Z.id,orderNumber:k.orderNumber||"",customerName:k.customerName||"",items:k.items||[],status:k.status||"pending",createdAt:k.createdAt instanceof lr?k.createdAt.toDate():new Date(k.createdAt),updatedAt:k.updatedAt instanceof lr?k.updatedAt.toDate():new Date(k.updatedAt),shippingAddress:k.shippingAddress||{},billingAddress:k.billingAddress||{},paymentMethod:k.paymentMethod||"",totalAmount:k.totalAmount||0,notes:k.notes||"",shippedTime:k.shippedTime instanceof lr?k.shippedTime.toDate():k.shippedTime?new Date(k.shippedTime):void 0}});m(ee)}catch(z){console.error("Error fetching orders:",z),D("Failed to fetch orders","error")}finally{p(!1)}};B.useEffect(()=>{T()},[]);const _=g.filter(z=>{const V=z.orderNumber.toLowerCase().includes(e.toLowerCase())||z.customerName.toLowerCase().includes(e.toLowerCase()),ee=r==="all"||z.status===r;return V&&ee}).sort((z,V)=>a==="date"?new Date(V.createdAt).getTime()-new Date(z.createdAt).getTime():a==="amount"?V.totalAmount-z.totalAmount:0),S=z=>{o(z)},j=[{value:"all",label:"All Statuses"},{value:"pending",label:"Pending"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"},{value:"returned",label:"Returned"}],E=[{value:"date",label:"Date (Newest First)"},{value:"amount",label:"Amount (Highest First)"}],N=async z=>{p(!0);try{console.log("Adding new order with status:",z.status),await pr(mt(Ke,"orders"),{...z,createdAt:Ac(),updatedAt:Ac()}),await pr(mt(Ke,"activityLogs"),{user:P==null?void 0:P.name,role:P==null?void 0:P.role,detail:`created new order #${z.orderNumber} for '${z.customerName}' with ${z.items.length} items (${z.items.map(V=>`${V.quantity} ${V.productName}`).join(", ")}) - Total: $${z.totalAmount.toFixed(2)}`,time:new Date().toISOString()}),z.status==="shipped"&&(console.log("Order is shipped, updating inventory..."),await Lx(z.items,!0)),await T(),f(!1),D("Order added successfully!","success")}catch(V){console.error("Error in handleAddOrder:",V),alert("Error adding order: "+((V==null?void 0:V.message)||V))}finally{p(!1)}},O=async z=>{p(!0);try{const V=Ar(Ke,"orders",z.id),Z=(await up(V)).data();console.log("Previous order status:",Z==null?void 0:Z.status),console.log("New order status:",z.status);const k={status:z.status,updatedAt:Ac()},R=[];if((Z==null?void 0:Z.status)!==z.status&&R.push(`status from "${Z==null?void 0:Z.status}" to "${z.status}"`),(Z==null?void 0:Z.customerName)!==z.customerName&&R.push(`customer from "${Z==null?void 0:Z.customerName}" to "${z.customerName}"`),JSON.stringify(Z==null?void 0:Z.items)!==JSON.stringify(z.items)){const G=[];z.items.forEach(Q=>{const ie=Z==null?void 0:Z.items.find(ue=>ue.id===Q.id);ie?ie.quantity!==Q.quantity&&G.push(`changed ${Q.productName} quantity from ${ie.quantity} to ${Q.quantity}`):G.push(`added ${Q.quantity} ${Q.productName}`)}),Z==null||Z.items.forEach(Q=>{z.items.find(ie=>ie.id===Q.id)||G.push(`removed ${Q.quantity} ${Q.productName}`)}),G.length>0&&R.push(`items: ${G.join(", ")}`)}(Z==null?void 0:Z.totalAmount)!==z.totalAmount&&R.push(`total amount from $${Z==null?void 0:Z.totalAmount.toFixed(2)} to $${z.totalAmount.toFixed(2)}`),z.status==="shipped"&&(Z==null?void 0:Z.status)!=="shipped"?(console.log("Status changed to shipped, updating inventory..."),await Lx(z.items,!0),z.shippedTime?k.shippedTime=lr.fromDate(z.shippedTime):k.shippedTime=Ac()):(Z==null?void 0:Z.status)==="shipped"&&z.status!=="shipped"?(console.log("Status changed from shipped, restoring inventory..."),await Lx(z.items,!1),k.shippedTime=LI()):(z.status==="cancelled"||z.status==="returned")&&(Z==null?void 0:Z.status)!=="cancelled"&&(Z==null?void 0:Z.status)!=="returned"?(console.log(`Status changed to ${z.status}, restoring inventory...`),await Lx(z.items,!1),k.shippedTime=LI()):Z!=null&&Z.shippedTime&&(k.shippedTime=lr.fromDate(Z.shippedTime));const{...q}=z;Object.assign(k,q),await jn(V,k),R.length>0&&await pr(mt(Ke,"activityLogs"),{user:P==null?void 0:P.name,role:P==null?void 0:P.role,detail:`edited order #${z.orderNumber}: ${R.join("; ")}`,time:new Date().toISOString()}),await T(),y(null),D("Order updated successfully!","success")}catch(V){console.error("Error updating order:",V),D("Failed to update order","error")}finally{p(!1)}},U=()=>{y(null)},Y=async z=>{p(!0);try{const V=Ar(Ke,"orders",z),Z=(await up(V)).data();Z&&(await pr(mt(Ke,"activityLogs"),{user:P==null?void 0:P.name,role:P==null?void 0:P.role,detail:`deleted order #${Z.orderNumber} for '${Z.customerName}' with ${Z.items.length} items (${Z.items.map(k=>`${k.quantity} ${k.productName}`).join(", ")}) - Total: $${Z.totalAmount.toFixed(2)}`,time:new Date().toISOString()}),await Ns(V),await T(),w(!1),o(null),D("Order deleted successfully!","success"))}catch(V){console.error("Error deleting order:",V),D("Failed to delete order","error")}finally{p(!1)}},K=(z,V)=>{z.stopPropagation(),o(V),w(!0)},J=(z,V)=>{z.stopPropagation(),y(V)};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h1",{className:`text-2xl font-bold ${I?"text-white":"text-slate-800"}`,children:"Current Orders"}),d.jsx("p",{className:`${I?"text-slate-400":"text-slate-500"} mt-1`,children:"Track and manage your active orders"})]}),d.jsx(st,{onClick:()=>f(!0),className:"flex items-center gap-2",children:d.jsx("span",{className:"hidden sm:inline",children:"Add New Order"})})]}),d.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[d.jsx("div",{className:"md:flex-1",children:d.jsx(Nt,{placeholder:"Search by order number or customer...",value:e,onChange:z=>t(z.target.value),icon:d.jsx(Oo,{size:18}),fullWidth:!0})}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx(en,{options:j,value:r,onChange:z=>n(z.target.value)}),d.jsx(en,{options:E,value:a,onChange:z=>i(z.target.value)})]})]}),d.jsx("div",{className:"flex justify-end mb-4",children:d.jsxs("div",{className:"relative inline-block",children:[d.jsxs("button",{className:`px-4 py-2 text-sm font-medium rounded-l-md focus:outline-none transition-colors 
              ${l==="grid"?"bg-blue-600 text-white shadow-sm":I?"bg-slate-800 text-slate-300 hover:bg-slate-700 border border-slate-700":"bg-white text-slate-700 hover:bg-slate-50 border border-slate-300"}`,onClick:()=>c("grid"),children:[d.jsx(SZ,{size:18,className:"inline mr-1"})," Grid"]}),d.jsxs("button",{className:`px-4 py-2 text-sm font-medium rounded-r-md focus:outline-none transition-colors 
              ${l==="table"?"bg-blue-600 text-white shadow-sm":I?"bg-slate-800 text-slate-300 hover:bg-slate-700 border border-slate-700":"bg-white text-slate-700 hover:bg-slate-50 border border-slate-300"}`,onClick:()=>c("table"),children:[d.jsx(CZ,{size:18,className:"inline mr-1"})," Table"]})]})}),h?d.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[d.jsx(ss,{className:`w-8 h-8 ${I?"text-blue-400":"text-blue-500"} animate-spin`}),d.jsx("p",{className:`mt-2 ${I?"text-slate-400":"text-slate-600"}`,children:"Loading orders..."})]}):l==="grid"?_.length>0?d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:_.map(z=>d.jsx("div",{className:"flex flex-col",children:d.jsx(_$e,{order:z,onClick:()=>S(z),editButton:d.jsx("button",{onClick:V=>J(V,z),className:`p-2 ${I?"hover:bg-slate-700":"hover:bg-slate-100"} rounded-full transition-colors`,children:d.jsx(os,{className:`w-4 h-4 ${I?"text-blue-400":"text-blue-500"}`})})})},z.id))}):d.jsx("div",{className:`text-center py-12 ${I?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:d.jsx("p",{className:`${I?"text-slate-400":"text-slate-500"}`,children:"No orders found. Try adjusting your filters."})}):_.length>0?d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:`min-w-full divide-y ${I?"divide-slate-700 bg-slate-800 border-slate-700":"divide-slate-200 bg-white border-slate-200"} rounded-lg border`,children:[d.jsx("thead",{className:I?"bg-slate-900":"bg-slate-100",children:d.jsxs("tr",{children:[d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${I?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Order #"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${I?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Customer"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${I?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Status"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${I?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Date"}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${I?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Total"}),d.jsx("th",{className:`px-4 py-3 text-center text-xs font-medium ${I?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),d.jsx("tbody",{className:`${I?"divide-slate-700":"divide-slate-200"}`,children:_.map(z=>d.jsxs("tr",{className:`${I?"hover:bg-slate-700":"hover:bg-slate-50"} cursor-pointer`,onClick:()=>S(z),children:[d.jsx("td",{className:`px-4 py-3 text-sm ${I?"text-blue-400":"text-blue-700"} font-medium`,children:z.orderNumber}),d.jsx("td",{className:`px-4 py-3 text-sm ${I?"text-slate-300":"text-slate-800"}`,children:z.customerName}),d.jsx("td",{className:`px-4 py-3 text-sm ${I?"text-slate-300":"text-slate-800"} capitalize`,children:z.status}),d.jsx("td",{className:`px-4 py-3 text-sm ${I?"text-slate-300":"text-slate-800"}`,children:new Date(z.createdAt).toLocaleDateString()}),d.jsxs("td",{className:`px-4 py-3 text-sm font-bold ${I?"text-slate-200":"text-slate-900"} text-right`,children:["$",z.totalAmount.toFixed(2)]}),d.jsx("td",{className:"px-4 py-3 text-center",children:d.jsxs("div",{className:"flex items-center justify-center gap-2",children:[d.jsx("button",{onClick:V=>{V.stopPropagation(),y(z)},className:`p-1 ${I?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,children:d.jsx(os,{size:16})}),d.jsx("button",{onClick:V=>K(V,z),className:`p-1 ${I?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,children:d.jsx(ei,{size:16})})]})})]},z.id))})]})}):d.jsx("div",{className:`text-center py-12 ${I?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:d.jsx("p",{className:`${I?"text-slate-400":"text-slate-500"}`,children:"No orders found. Try adjusting your filters."})}),s&&d.jsx(S$e,{isOpen:!!s,onClose:()=>o(null),order:s}),d.jsx(C$e,{isOpen:u,onClose:()=>f(!1),onAdd:N,isLoading:h}),d.jsx(I$e,{isOpen:!!v,onClose:U,onEdit:O,isLoading:h,order:v}),s&&d.jsx(ih,{isOpen:b,onClose:()=>{w(!1),o(null)},onConfirm:()=>Y(s.id),title:"Delete Order",message:`Are you sure you want to delete order "${s.orderNumber}"? This action cannot be undone.`,isLoading:h})]})},Lx=async(e,t)=>{console.log("Updating inventory quantities...",e,t);const r=Pae(Ke),n=[];for(const a of e){const i=Ar(Ke,"inventory",a.productId),s=await up(i);if(s.exists()){const o=s.data().quantity,l=t?o-a.quantity:o+a.quantity;r.update(i,{quantity:l}),n.push({productName:a.productName,quantity:a.quantity,action:t?"deducted":"restored"})}}if(await r.commit(),n.length>0){const a=t?"deducted from":"restored to",i=n.map(s=>`${s.quantity} units of "${s.productName}"`).join(", ");await pr(mt(Ke,"activityLogs"),{user:user==null?void 0:user.name,role:user==null?void 0:user.role,detail:`${a} inventory: ${i}`,time:new Date().toISOString()})}},D$e="modulepreload",L$e=function(e){return"/"+e},s7={},iE=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=L$e(l),l in s7)return;s7[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":D$e,c||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return a.then(s=>{for(const o of s||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})};var zi=Uint8Array,Xs=Uint16Array,TP=Int32Array,f_=new zi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),d_=new zi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),sE=new zi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),hK=function(e,t){for(var r=new Xs(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new TP(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},pK=hK(f_,2),mK=pK.b,oE=pK.r;mK[28]=258,oE[258]=28;var gK=hK(d_,0),M$e=gK.b,o7=gK.r,lE=new Xs(32768);for(var Wn=0;Wn<32768;++Wn){var $u=(Wn&43690)>>1|(Wn&21845)<<1;$u=($u&52428)>>2|($u&13107)<<2,$u=($u&61680)>>4|($u&3855)<<4,lE[Wn]=(($u&65280)>>8|($u&255)<<8)>>1}var Ql=function(e,t,r){for(var n=e.length,a=0,i=new Xs(t);a<n;++a)e[a]&&++i[e[a]-1];var s=new Xs(t);for(a=1;a<t;++a)s[a]=s[a-1]+i[a-1]<<1;var o;if(r){o=new Xs(1<<t);var l=15-t;for(a=0;a<n;++a)if(e[a])for(var c=a<<4|e[a],u=t-e[a],f=s[e[a]-1]++<<u,h=f|(1<<u)-1;f<=h;++f)o[lE[f]>>l]=c}else for(o=new Xs(n),a=0;a<n;++a)e[a]&&(o[a]=lE[s[e[a]-1]++]>>15-e[a]);return o},Ff=new zi(288);for(var Wn=0;Wn<144;++Wn)Ff[Wn]=8;for(var Wn=144;Wn<256;++Wn)Ff[Wn]=9;for(var Wn=256;Wn<280;++Wn)Ff[Wn]=7;for(var Wn=280;Wn<288;++Wn)Ff[Wn]=8;var P1=new zi(32);for(var Wn=0;Wn<32;++Wn)P1[Wn]=5;var R$e=Ql(Ff,9,0),F$e=Ql(Ff,9,1),$$e=Ql(P1,5,0),B$e=Ql(P1,5,1),bA=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},Jo=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},wA=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},EP=function(e){return(e+7)/8|0},vK=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new zi(e.subarray(t,r))},U$e=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],rl=function(e,t,r){var n=new Error(t||U$e[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,rl),!r)throw n;return n},V$e=function(e,t,r,n){var a=e.length,i=0;if(!a||t.f&&!t.l)return r||new zi(0);var s=!r,o=s||t.i!=2,l=t.i;s&&(r=new zi(a*3));var c=function(ye){var W=r.length;if(ye>W){var Pe=new zi(Math.max(W*2,ye));Pe.set(r),r=Pe}},u=t.f||0,f=t.p||0,h=t.b||0,p=t.l,g=t.d,m=t.m,v=t.n,y=a*8;do{if(!p){u=Jo(e,f,1);var b=Jo(e,f+1,3);if(f+=3,b)if(b==1)p=F$e,g=B$e,m=9,v=5;else if(b==2){var I=Jo(e,f,31)+257,T=Jo(e,f+10,15)+4,_=I+Jo(e,f+5,31)+1;f+=14;for(var S=new zi(_),j=new zi(19),E=0;E<T;++E)j[sE[E]]=Jo(e,f+E*3,7);f+=T*3;for(var N=bA(j),O=(1<<N)-1,U=Ql(j,N,1),E=0;E<_;){var Y=U[Jo(e,f,O)];f+=Y&15;var w=Y>>4;if(w<16)S[E++]=w;else{var K=0,J=0;for(w==16?(J=3+Jo(e,f,3),f+=2,K=S[E-1]):w==17?(J=3+Jo(e,f,7),f+=3):w==18&&(J=11+Jo(e,f,127),f+=7);J--;)S[E++]=K}}var z=S.subarray(0,I),V=S.subarray(I);m=bA(z),v=bA(V),p=Ql(z,m,1),g=Ql(V,v,1)}else rl(1);else{var w=EP(f)+4,D=e[w-4]|e[w-3]<<8,P=w+D;if(P>a){l&&rl(0);break}o&&c(h+D),r.set(e.subarray(w,P),h),t.b=h+=D,t.p=f=P*8,t.f=u;continue}if(f>y){l&&rl(0);break}}o&&c(h+131072);for(var ee=(1<<m)-1,Z=(1<<v)-1,k=f;;k=f){var K=p[wA(e,f)&ee],R=K>>4;if(f+=K&15,f>y){l&&rl(0);break}if(K||rl(2),R<256)r[h++]=R;else if(R==256){k=f,p=null;break}else{var q=R-254;if(R>264){var E=R-257,G=f_[E];q=Jo(e,f,(1<<G)-1)+mK[E],f+=G}var Q=g[wA(e,f)&Z],ie=Q>>4;Q||rl(3),f+=Q&15;var V=M$e[ie];if(ie>3){var G=d_[ie];V+=wA(e,f)&(1<<G)-1,f+=G}if(f>y){l&&rl(0);break}o&&c(h+131072);var ue=h+q;if(h<V){var ne=i-V,pe=Math.min(V,ue);for(ne+h<0&&rl(3);h<pe;++h)r[h]=n[ne+h]}for(;h<ue;++h)r[h]=r[h-V]}}t.l=p,t.p=k,t.b=h,t.f=u,p&&(u=1,t.m=m,t.d=g,t.n=v)}while(!u);return h!=r.length&&s?vK(r,0,h):r.subarray(0,h)},wc=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},Zm=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},_A=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:xK,l:0};if(a==1){var s=new zi(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(P,I){return P.f-I.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],c=0,u=1,f=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=a-1;)o=r[r[c].f<r[f].f?c++:f++],l=r[c!=u&&r[c].f<r[f].f?c++:f++],r[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var h=i[0].s,n=1;n<a;++n)i[n].s>h&&(h=i[n].s);var p=new Xs(h+1),g=cE(r[u-1],p,0);if(g>t){var n=0,m=0,v=g-t,y=1<<v;for(i.sort(function(I,T){return p[T.s]-p[I.s]||I.f-T.f});n<a;++n){var b=i[n].s;if(p[b]>t)m+=y-(1<<g-p[b]),p[b]=t;else break}for(m>>=v;m>0;){var w=i[n].s;p[w]<t?m-=1<<t-p[w]++-1:++n}for(;n>=0&&m;--n){var D=i[n].s;p[D]==t&&(--p[D],++m)}g=t}return{t:new zi(p),l:g}},cE=function(e,t,r){return e.s==-1?Math.max(cE(e.l,t,r+1),cE(e.r,t,r+1)):t[e.s]=r},l7=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Xs(++t),n=0,a=e[0],i=1,s=function(l){r[n++]=l},o=1;o<=t;++o)if(e[o]==a&&o!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(a),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(a);i=1,a=e[o]}return{c:r.subarray(0,n),n:t}},eg=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},yK=function(e,t,r){var n=r.length,a=EP(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},c7=function(e,t,r,n,a,i,s,o,l,c,u){wc(t,u++,r),++a[256];for(var f=_A(a,15),h=f.t,p=f.l,g=_A(i,15),m=g.t,v=g.l,y=l7(h),b=y.c,w=y.n,D=l7(m),P=D.c,I=D.n,T=new Xs(19),_=0;_<b.length;++_)++T[b[_]&31];for(var _=0;_<P.length;++_)++T[P[_]&31];for(var S=_A(T,7),j=S.t,E=S.l,N=19;N>4&&!j[sE[N-1]];--N);var O=c+5<<3,U=eg(a,Ff)+eg(i,P1)+s,Y=eg(a,h)+eg(i,m)+s+14+3*N+eg(T,j)+2*T[16]+3*T[17]+7*T[18];if(l>=0&&O<=U&&O<=Y)return yK(t,u,e.subarray(l,l+c));var K,J,z,V;if(wc(t,u,1+(Y<U)),u+=2,Y<U){K=Ql(h,p,0),J=h,z=Ql(m,v,0),V=m;var ee=Ql(j,E,0);wc(t,u,w-257),wc(t,u+5,I-1),wc(t,u+10,N-4),u+=14;for(var _=0;_<N;++_)wc(t,u+3*_,j[sE[_]]);u+=3*N;for(var Z=[b,P],k=0;k<2;++k)for(var R=Z[k],_=0;_<R.length;++_){var q=R[_]&31;wc(t,u,ee[q]),u+=j[q],q>15&&(wc(t,u,R[_]>>5&127),u+=R[_]>>12)}}else K=R$e,J=Ff,z=$$e,V=P1;for(var _=0;_<o;++_){var G=n[_];if(G>255){var q=G>>18&31;Zm(t,u,K[q+257]),u+=J[q+257],q>7&&(wc(t,u,G>>23&31),u+=f_[q]);var Q=G&31;Zm(t,u,z[Q]),u+=V[Q],Q>3&&(Zm(t,u,G>>5&8191),u+=d_[Q])}else Zm(t,u,K[G]),u+=J[G]}return Zm(t,u,K[256]),u+J[256]},z$e=new TP([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),xK=new zi(0),q$e=function(e,t,r,n,a,i){var s=i.z||e.length,o=new zi(n+s+5*(1+Math.ceil(s/7e3))+a),l=o.subarray(n,o.length-a),c=i.l,u=(i.r||0)&7;if(t){u&&(l[0]=i.r>>3);for(var f=z$e[t-1],h=f>>13,p=f&8191,g=(1<<r)-1,m=i.p||new Xs(32768),v=i.h||new Xs(g+1),y=Math.ceil(r/3),b=2*y,w=function(Ce){return(e[Ce]^e[Ce+1]<<y^e[Ce+2]<<b)&g},D=new TP(25e3),P=new Xs(288),I=new Xs(32),T=0,_=0,S=i.i||0,j=0,E=i.w||0,N=0;S+2<s;++S){var O=w(S),U=S&32767,Y=v[O];if(m[U]=Y,v[O]=U,E<=S){var K=s-S;if((T>7e3||j>24576)&&(K>423||!c)){u=c7(e,l,0,D,P,I,_,j,N,S-N,u),j=T=_=0,N=S;for(var J=0;J<286;++J)P[J]=0;for(var J=0;J<30;++J)I[J]=0}var z=2,V=0,ee=p,Z=U-Y&32767;if(K>2&&O==w(S-Z))for(var k=Math.min(h,K)-1,R=Math.min(32767,S),q=Math.min(258,K);Z<=R&&--ee&&U!=Y;){if(e[S+z]==e[S+z-Z]){for(var G=0;G<q&&e[S+G]==e[S+G-Z];++G);if(G>z){if(z=G,V=Z,G>k)break;for(var Q=Math.min(Z,G-2),ie=0,J=0;J<Q;++J){var ue=S-Z+J&32767,ne=m[ue],pe=ue-ne&32767;pe>ie&&(ie=pe,Y=ue)}}}U=Y,Y=m[U],Z+=U-Y&32767}if(V){D[j++]=268435456|oE[z]<<18|o7[V];var ye=oE[z]&31,W=o7[V]&31;_+=f_[ye]+d_[W],++P[257+ye],++I[W],E=S+z,++T}else D[j++]=e[S],++P[e[S]]}}for(S=Math.max(S,E);S<s;++S)D[j++]=e[S],++P[e[S]];u=c7(e,l,c,D,P,I,_,j,N,S-N,u),c||(i.r=u&7|l[u/8|0]<<3,u-=7,i.h=v,i.p=m,i.i=S,i.w=E)}else{for(var S=i.w||0;S<s+c;S+=65535){var Pe=S+65535;Pe>=s&&(l[u/8|0]=c,Pe=s),u=yK(l,u+1,e.subarray(S,Pe))}i.i=s}return vK(o,0,n+EP(u)+a)},bK=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length|0,s=0;s!=i;){for(var o=Math.min(s+2655,i);s<o;++s)a+=n+=r[s];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},W$e=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),s=new zi(i.length+e.length);s.set(i),s.set(e,i.length),e=s,a.w=i.length}return q$e(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},wK=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},H$e=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=bK();a.p(t.dictionary),wK(e,2,a.d())}},G$e=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&rl(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&rl(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function uE(e,t){t||(t={});var r=bK();r.p(e);var n=W$e(e,t,t.dictionary?6:2,4);return H$e(n,t),wK(n,n.length-4,r.d()),n}function K$e(e,t){return V$e(e.subarray(G$e(e,t),-4),{i:2},t,t)}var Y$e=typeof TextDecoder<"u"&&new TextDecoder,X$e=0;try{Y$e.decode(xK,{stream:!0}),X$e=1}catch{}var xr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function SA(){xr.console&&typeof xr.console.log=="function"&&xr.console.log.apply(xr.console,arguments)}var In={log:SA,warn:function(e){xr.console&&(typeof xr.console.warn=="function"?xr.console.warn.apply(xr.console,arguments):SA.call(null,arguments))},error:function(e){xr.console&&(typeof xr.console.error=="function"?xr.console.error.apply(xr.console,arguments):SA(e))}};function AA(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Sd(n.response,t,r)},n.onerror=function(){In.error("could not download file")},n.send()}function u7(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Mx(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Zg,fE,Sd=xr.saveAs||((typeof window>"u"?"undefined":fn(window))!=="object"||window!==xr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=xr.URL||xr.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?u7(a.href)?AA(e,t,r):Mx(a,a.target="_blank"):Mx(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){Mx(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(u7(e))AA(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){Mx(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:fn(i)!=="object"&&(In.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return AA(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(xr.HTMLElement)||xr.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||a&&i)&&(typeof FileReader>"u"?"undefined":fn(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=s?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},o.readAsDataURL(e)}else{var l=xr.URL||xr.webkitURL,c=l.createObjectURL(e);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function _K(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,s=a.exec(e);s&&(t=i(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function TA(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=Pi(r,n,a,i,t[0],7,-680876936),i=Pi(i,r,n,a,t[1],12,-389564586),a=Pi(a,i,r,n,t[2],17,606105819),n=Pi(n,a,i,r,t[3],22,-1044525330),r=Pi(r,n,a,i,t[4],7,-176418897),i=Pi(i,r,n,a,t[5],12,1200080426),a=Pi(a,i,r,n,t[6],17,-1473231341),n=Pi(n,a,i,r,t[7],22,-45705983),r=Pi(r,n,a,i,t[8],7,1770035416),i=Pi(i,r,n,a,t[9],12,-1958414417),a=Pi(a,i,r,n,t[10],17,-42063),n=Pi(n,a,i,r,t[11],22,-1990404162),r=Pi(r,n,a,i,t[12],7,1804603682),i=Pi(i,r,n,a,t[13],12,-40341101),a=Pi(a,i,r,n,t[14],17,-1502002290),r=Oi(r,n=Pi(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=Oi(i,r,n,a,t[6],9,-1069501632),a=Oi(a,i,r,n,t[11],14,643717713),n=Oi(n,a,i,r,t[0],20,-373897302),r=Oi(r,n,a,i,t[5],5,-701558691),i=Oi(i,r,n,a,t[10],9,38016083),a=Oi(a,i,r,n,t[15],14,-660478335),n=Oi(n,a,i,r,t[4],20,-405537848),r=Oi(r,n,a,i,t[9],5,568446438),i=Oi(i,r,n,a,t[14],9,-1019803690),a=Oi(a,i,r,n,t[3],14,-187363961),n=Oi(n,a,i,r,t[8],20,1163531501),r=Oi(r,n,a,i,t[13],5,-1444681467),i=Oi(i,r,n,a,t[2],9,-51403784),a=Oi(a,i,r,n,t[7],14,1735328473),r=Ii(r,n=Oi(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=Ii(i,r,n,a,t[8],11,-2022574463),a=Ii(a,i,r,n,t[11],16,1839030562),n=Ii(n,a,i,r,t[14],23,-35309556),r=Ii(r,n,a,i,t[1],4,-1530992060),i=Ii(i,r,n,a,t[4],11,1272893353),a=Ii(a,i,r,n,t[7],16,-155497632),n=Ii(n,a,i,r,t[10],23,-1094730640),r=Ii(r,n,a,i,t[13],4,681279174),i=Ii(i,r,n,a,t[0],11,-358537222),a=Ii(a,i,r,n,t[3],16,-722521979),n=Ii(n,a,i,r,t[6],23,76029189),r=Ii(r,n,a,i,t[9],4,-640364487),i=Ii(i,r,n,a,t[12],11,-421815835),a=Ii(a,i,r,n,t[15],16,530742520),r=ji(r,n=Ii(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=ji(i,r,n,a,t[7],10,1126891415),a=ji(a,i,r,n,t[14],15,-1416354905),n=ji(n,a,i,r,t[5],21,-57434055),r=ji(r,n,a,i,t[12],6,1700485571),i=ji(i,r,n,a,t[3],10,-1894986606),a=ji(a,i,r,n,t[10],15,-1051523),n=ji(n,a,i,r,t[1],21,-2054922799),r=ji(r,n,a,i,t[8],6,1873313359),i=ji(i,r,n,a,t[15],10,-30611744),a=ji(a,i,r,n,t[6],15,-1560198380),n=ji(n,a,i,r,t[13],21,1309151649),r=ji(r,n,a,i,t[4],6,-145523070),i=ji(i,r,n,a,t[11],10,-1120210379),a=ji(a,i,r,n,t[2],15,718787259),n=ji(n,a,i,r,t[9],21,-343485551),e[0]=of(r,e[0]),e[1]=of(n,e[1]),e[2]=of(a,e[2]),e[3]=of(i,e[3])}function h_(e,t,r,n,a,i){return t=of(of(t,e),of(n,i)),of(t<<a|t>>>32-a,r)}function Pi(e,t,r,n,a,i,s){return h_(t&r|~t&n,e,t,a,i,s)}function Oi(e,t,r,n,a,i,s){return h_(t&n|r&~n,e,t,a,i,s)}function Ii(e,t,r,n,a,i,s){return h_(t^r^n,e,t,a,i,s)}function ji(e,t,r,n,a,i,s){return h_(r^(t|~n),e,t,a,i,s)}function SK(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)TA(n,Q$e(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(TA(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,TA(n,a),n}function Q$e(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}Zg=xr.atob.bind(xr),fE=xr.btoa.bind(xr);var f7="0123456789abcdef".split("");function J$e(e){for(var t="",r=0;r<4;r++)t+=f7[e>>8*r+4&15]+f7[e>>8*r&15];return t}function Z$e(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function dE(e){return SK(e).map(Z$e).join("")}var e9e=function(e){for(var t=0;t<e.length;t++)e[t]=J$e(e[t]);return e.join("")}(SK("hello"))!="5d41402abc4b2a76b9719d911017c592";function of(e,t){if(e9e){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function hE(e,t){var r,n,a,i;if(e!==r){for(var s=(a=e,i=1+(256/e.length>>0),new Array(i+1).join(a)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+s.charCodeAt(l))%256,o[l]=o[c],o[c]=u}r=e,n=o}else o=n;var f=t.length,h=0,p=0,g="";for(l=0;l<f;l++)p=(p+(u=o[h=(h+1)%256]))%256,o[h]=o[p],o[p]=u,s=o[(o[h]+o[p])%256],g+=String.fromCharCode(t.charCodeAt(l)^s);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var d7={print:4,modify:8,copy:16,"annot-forms":32};function i0(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(o){if(d7.perm!==void 0)throw new Error("Invalid permission: "+o);a+=d7[o]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(t+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,s),this.P=-(1+(255^a)),this.encryptionKey=dE(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=hE(this.encryptionKey,this.padding)}function s0(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[n]}return t}function h7(e){if(fn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var s=t[r][i];try{s[0].apply(e,n)}catch(o){xr.console&&In.error("jsPDF PubSub Error",o.message,o)}s[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Tw(e){if(!(this instanceof Tw))return new Tw(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function AK(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Td(e,t,r,n,a){if(!(this instanceof Td))return new Td(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,AK.call(this,n,a)}function k0(e,t,r,n,a){if(!(this instanceof k0))return new k0(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,AK.call(this,n,a)}function yr(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],s=[],o=1,l=16,c="S",u=null;fn(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),s=e.filters||(i===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,h={},p={internal:{},__private__:{}};p.__private__.PubSub=h7;var g="1.3",m=p.__private__.getPdfVersion=function(){return g};p.__private__.setPdfVersion=function(L){g=L};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return v};var y=p.__private__.getPageFormat=function(L){return v[L]};a=a||"a4";var b={COMPAT:"compat",ADVANCED:"advanced"},w=b.COMPAT;function D(){this.saveGraphicsState(),oe(new We(nt,0,0,-nt,0,Ti()*nt).toString()+" cm"),this.setFontSize(this.getFontSize()/nt),c="n",w=b.ADVANCED}function P(){this.restoreGraphicsState(),c="S",w=b.COMPAT}var I=p.__private__.combineFontStyleAndFontWeight=function(L,te){if(L=="bold"&&te=="normal"||L=="bold"&&te==400||L=="normal"&&te=="italic"||L=="bold"&&te=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return te&&(L=te==400||te==="normal"?L==="italic"?"italic":"normal":te!=700&&te!=="bold"||L!=="normal"?(te==700?"bold":te)+""+L:"bold"),L};p.advancedAPI=function(L){var te=w===b.COMPAT;return te&&D.call(this),typeof L!="function"||(L(this),te&&P.call(this)),this},p.compatAPI=function(L){var te=w===b.ADVANCED;return te&&P.call(this),typeof L!="function"||(L(this),te&&D.call(this)),this},p.isAdvancedAPI=function(){return w===b.ADVANCED};var T,_=function(L){if(w!==b.ADVANCED)throw new Error(L+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},S=p.roundToPrecision=p.__private__.roundToPrecision=function(L,te){var Se=t||te;if(isNaN(L)||isNaN(Se))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return L.toFixed(Se).replace(/0+$/,"")};T=p.hpf=p.__private__.hpf=typeof l=="number"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return S(L,l)}:l==="smart"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return S(L,L>-1&&L<1?16:5)}:function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return S(L,16)};var j=p.f2=p.__private__.f2=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f2");return S(L,2)},E=p.__private__.f3=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f3");return S(L,3)},N=p.scale=p.__private__.scale=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.scale");return w===b.COMPAT?L*nt:w===b.ADVANCED?L:void 0},O=function(L){return w===b.COMPAT?Ti()-L:w===b.ADVANCED?L:void 0},U=function(L){return N(O(L))};p.__private__.setPrecision=p.setPrecision=function(L){typeof parseInt(L,10)=="number"&&(t=parseInt(L,10))};var Y,K="00000000000000000000000000000000",J=p.__private__.getFileId=function(){return K},z=p.__private__.setFileId=function(L){return K=L!==void 0&&/^[a-fA-F0-9]{32}$/.test(L)?L.toUpperCase():K.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Bn=new i0(u.userPermissions,u.userPassword,u.ownerPassword,K)),K};p.setFileId=function(L){return z(L),this},p.getFileId=function(){return J()};var V=p.__private__.convertDateToPDFDate=function(L){var te=L.getTimezoneOffset(),Se=te<0?"+":"-",Oe=Math.floor(Math.abs(te/60)),Ve=Math.abs(te%60),it=[Se,q(Oe),"'",q(Ve),"'"].join("");return["D:",L.getFullYear(),q(L.getMonth()+1),q(L.getDate()),q(L.getHours()),q(L.getMinutes()),q(L.getSeconds()),it].join("")},ee=p.__private__.convertPDFDateToDate=function(L){var te=parseInt(L.substr(2,4),10),Se=parseInt(L.substr(6,2),10)-1,Oe=parseInt(L.substr(8,2),10),Ve=parseInt(L.substr(10,2),10),it=parseInt(L.substr(12,2),10),Tt=parseInt(L.substr(14,2),10);return new Date(te,Se,Oe,Ve,it,Tt,0)},Z=p.__private__.setCreationDate=function(L){var te;if(L===void 0&&(L=new Date),L instanceof Date)te=V(L);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(L))throw new Error("Invalid argument passed to jsPDF.setCreationDate");te=L}return Y=te},k=p.__private__.getCreationDate=function(L){var te=Y;return L==="jsDate"&&(te=ee(Y)),te};p.setCreationDate=function(L){return Z(L),this},p.getCreationDate=function(L){return k(L)};var R,q=p.__private__.padd2=function(L){return("0"+parseInt(L)).slice(-2)},G=p.__private__.padd2Hex=function(L){return("00"+(L=L.toString())).substr(L.length)},Q=0,ie=[],ue=[],ne=0,pe=[],ye=[],W=!1,Pe=ue,Ce=function(){Q=0,ne=0,ue=[],ie=[],pe=[],me=Vr(),ge=Vr()};p.__private__.setCustomOutputDestination=function(L){W=!0,Pe=L};var Ee=function(L){W||(Pe=L)};p.__private__.resetCustomOutputDestination=function(){W=!1,Pe=ue};var oe=p.__private__.out=function(L){return L=L.toString(),ne+=L.length+1,Pe.push(L),Pe},ve=p.__private__.write=function(L){return oe(arguments.length===1?L.toString():Array.prototype.join.call(arguments," "))},De=p.__private__.getArrayBuffer=function(L){for(var te=L.length,Se=new ArrayBuffer(te),Oe=new Uint8Array(Se);te--;)Oe[te]=L.charCodeAt(te);return Se},Te=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Te};var Re=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(L){return Re=w===b.ADVANCED?L/nt:L,this};var Ne,qe=p.__private__.getFontSize=p.getFontSize=function(){return w===b.COMPAT?Re:Re*nt},je=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(L){return je=L,this},p.__private__.getR2L=p.getR2L=function(){return je};var Je,ut=p.__private__.setZoomMode=function(L){var te=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(L))Ne=L;else if(isNaN(L)){if(te.indexOf(L)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+L+'" is not recognized.');Ne=L}else Ne=parseInt(L,10)};p.__private__.getZoomMode=function(){return Ne};var ot,wt=p.__private__.setPageMode=function(L){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(L)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+L+'" is not recognized.');Je=L};p.__private__.getPageMode=function(){return Je};var kt=p.__private__.setLayoutMode=function(L){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(L)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+L+'" is not recognized.');ot=L};p.__private__.getLayoutMode=function(){return ot},p.__private__.setDisplayMode=p.setDisplayMode=function(L,te,Se){return ut(L),kt(te),wt(Se),this};var Pt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(L){if(Object.keys(Pt).indexOf(L)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Pt[L]},p.__private__.getDocumentProperties=function(){return Pt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(L){for(var te in Pt)Pt.hasOwnProperty(te)&&L[te]&&(Pt[te]=L[te]);return this},p.__private__.setDocumentProperty=function(L,te){if(Object.keys(Pt).indexOf(L)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Pt[L]=te};var _t,nt,nr,Wt,zr,tr={},Fr={},Ie=[],Fe={},tt={},ht={},Lt={},Gt=null,Rt=0,jt=[],ar=new h7(p),mr=e.hotfixes||[],gr={},Ae={},ct=[],We=function L(te,Se,Oe,Ve,it,Tt){if(!(this instanceof L))return new L(te,Se,Oe,Ve,it,Tt);isNaN(te)&&(te=1),isNaN(Se)&&(Se=0),isNaN(Oe)&&(Oe=0),isNaN(Ve)&&(Ve=1),isNaN(it)&&(it=0),isNaN(Tt)&&(Tt=0),this._matrix=[te,Se,Oe,Ve,it,Tt]};Object.defineProperty(We.prototype,"sx",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(We.prototype,"shy",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(We.prototype,"shx",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(We.prototype,"sy",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(We.prototype,"tx",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(We.prototype,"ty",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(We.prototype,"a",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(We.prototype,"b",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(We.prototype,"c",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(We.prototype,"d",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(We.prototype,"e",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(We.prototype,"f",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(We.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(We.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(We.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(We.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),We.prototype.join=function(L){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(T).join(L)},We.prototype.multiply=function(L){var te=L.sx*this.sx+L.shy*this.shx,Se=L.sx*this.shy+L.shy*this.sy,Oe=L.shx*this.sx+L.sy*this.shx,Ve=L.shx*this.shy+L.sy*this.sy,it=L.tx*this.sx+L.ty*this.shx+this.tx,Tt=L.tx*this.shy+L.ty*this.sy+this.ty;return new We(te,Se,Oe,Ve,it,Tt)},We.prototype.decompose=function(){var L=this.sx,te=this.shy,Se=this.shx,Oe=this.sy,Ve=this.tx,it=this.ty,Tt=Math.sqrt(L*L+te*te),zt=(L/=Tt)*Se+(te/=Tt)*Oe;Se-=L*zt,Oe-=te*zt;var A=Math.sqrt(Se*Se+Oe*Oe);return zt/=A,L*(Oe/=A)<te*(Se/=A)&&(L=-L,te=-te,zt=-zt,Tt=-Tt),{scale:new We(Tt,0,0,A,0,0),translate:new We(1,0,0,1,Ve,it),rotate:new We(L,te,-te,L,0,0),skew:new We(1,0,zt,1,0,0)}},We.prototype.toString=function(L){return this.join(" ")},We.prototype.inversed=function(){var L=this.sx,te=this.shy,Se=this.shx,Oe=this.sy,Ve=this.tx,it=this.ty,Tt=1/(L*Oe-te*Se),zt=Oe*Tt,A=-te*Tt,F=-Se*Tt,X=L*Tt;return new We(zt,A,F,X,-zt*Ve-F*it,-A*Ve-X*it)},We.prototype.applyToPoint=function(L){var te=L.x*this.sx+L.y*this.shx+this.tx,Se=L.x*this.shy+L.y*this.sy+this.ty;return new fc(te,Se)},We.prototype.applyToRectangle=function(L){var te=this.applyToPoint(L),Se=this.applyToPoint(new fc(L.x+L.w,L.y+L.h));return new wu(te.x,te.y,Se.x-te.x,Se.y-te.y)},We.prototype.clone=function(){var L=this.sx,te=this.shy,Se=this.shx,Oe=this.sy,Ve=this.tx,it=this.ty;return new We(L,te,Se,Oe,Ve,it)},p.Matrix=We;var Kt=p.matrixMult=function(L,te){return te.multiply(L)},ir=new We(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=ir;var Rr=function(L,te){if(!tt[L]){var Se=(te instanceof Td?"Sh":"P")+(Object.keys(Fe).length+1).toString(10);te.id=Se,tt[L]=Se,Fe[Se]=te,ar.publish("addPattern",te)}};p.ShadingPattern=Td,p.TilingPattern=k0,p.addShadingPattern=function(L,te){return _("addShadingPattern()"),Rr(L,te),this},p.beginTilingPattern=function(L){_("beginTilingPattern()"),_u(L.boundingBox[0],L.boundingBox[1],L.boundingBox[2]-L.boundingBox[0],L.boundingBox[3]-L.boundingBox[1],L.matrix)},p.endTilingPattern=function(L,te){_("endTilingPattern()"),te.stream=ye[R].join(`
`),Rr(L,te),ar.publish("endTilingPattern",te),ct.pop().restore()};var Nr=p.__private__.newObject=function(){var L=Vr();return ae(L,!0),L},Vr=p.__private__.newObjectDeferred=function(){return Q++,ie[Q]=function(){return ne},Q},ae=function(L,te){return te=typeof te=="boolean"&&te,ie[L]=ne,te&&oe(L+" 0 obj"),L},we=p.__private__.newAdditionalObject=function(){var L={objId:Vr(),content:""};return pe.push(L),L},me=Vr(),ge=Vr(),be=p.__private__.decodeColorString=function(L){var te=L.split(" ");if(te.length!==2||te[1]!=="g"&&te[1]!=="G")te.length===5&&(te[4]==="k"||te[4]==="K")&&(te=[(1-te[0])*(1-te[3]),(1-te[1])*(1-te[3]),(1-te[2])*(1-te[3]),"r"]);else{var Se=parseFloat(te[0]);te=[Se,Se,Se,"r"]}for(var Oe="#",Ve=0;Ve<3;Ve++)Oe+=("0"+Math.floor(255*parseFloat(te[Ve])).toString(16)).slice(-2);return Oe},_e=p.__private__.encodeColorString=function(L){var te;typeof L=="string"&&(L={ch1:L});var Se=L.ch1,Oe=L.ch2,Ve=L.ch3,it=L.ch4,Tt=L.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Se=="string"&&Se.charAt(0)!=="#"){var zt=new _K(Se);if(zt.ok)Se=zt.toHex();else if(!/^\d*\.?\d*$/.test(Se))throw new Error('Invalid color "'+Se+'" passed to jsPDF.encodeColorString.')}if(typeof Se=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Se)&&(Se="#"+Se[1]+Se[1]+Se[2]+Se[2]+Se[3]+Se[3]),typeof Se=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Se)){var A=parseInt(Se.substr(1),16);Se=A>>16&255,Oe=A>>8&255,Ve=255&A}if(Oe===void 0||it===void 0&&Se===Oe&&Oe===Ve)if(typeof Se=="string")te=Se+" "+Tt[0];else switch(L.precision){case 2:te=j(Se/255)+" "+Tt[0];break;case 3:default:te=E(Se/255)+" "+Tt[0]}else if(it===void 0||fn(it)==="object"){if(it&&!isNaN(it.a)&&it.a===0)return te=["1.","1.","1.",Tt[1]].join(" ");if(typeof Se=="string")te=[Se,Oe,Ve,Tt[1]].join(" ");else switch(L.precision){case 2:te=[j(Se/255),j(Oe/255),j(Ve/255),Tt[1]].join(" ");break;default:case 3:te=[E(Se/255),E(Oe/255),E(Ve/255),Tt[1]].join(" ")}}else if(typeof Se=="string")te=[Se,Oe,Ve,it,Tt[2]].join(" ");else switch(L.precision){case 2:te=[j(Se),j(Oe),j(Ve),j(it),Tt[2]].join(" ");break;case 3:default:te=[E(Se),E(Oe),E(Ve),E(it),Tt[2]].join(" ")}return te},He=p.__private__.getFilters=function(){return s},rt=p.__private__.putStream=function(L){var te=(L=L||{}).data||"",Se=L.filters||He(),Oe=L.alreadyAppliedFilters||[],Ve=L.addLength1||!1,it=te.length,Tt=L.objectId,zt=function(Cr){return Cr};if(u!==null&&Tt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(zt=Bn.encryptor(Tt,0));var A={};Se===!0&&(Se=["FlateEncode"]);var F=L.additionalKeyValues||[],X=(A=yr.API.processDataByFilters!==void 0?yr.API.processDataByFilters(te,Se):{data:te,reverseChain:[]}).reverseChain+(Array.isArray(Oe)?Oe.join(" "):Oe.toString());if(A.data.length!==0&&(F.push({key:"Length",value:A.data.length}),Ve===!0&&F.push({key:"Length1",value:it})),X.length!=0)if(X.split("/").length-1==1)F.push({key:"Filter",value:X});else{F.push({key:"Filter",value:"["+X+"]"});for(var fe=0;fe<F.length;fe+=1)if(F[fe].key==="DecodeParms"){for(var Ue=[],et=0;et<A.reverseChain.split("/").length-1;et+=1)Ue.push("null");Ue.push(F[fe].value),F[fe].value="["+Ue.join(" ")+"]"}}oe("<<");for(var Et=0;Et<F.length;Et++)oe("/"+F[Et].key+" "+F[Et].value);oe(">>"),A.data.length!==0&&(oe("stream"),oe(zt(A.data)),oe("endstream"))},Ge=p.__private__.putPage=function(L){var te=L.number,Se=L.data,Oe=L.objId,Ve=L.contentsObjId;ae(Oe,!0),oe("<</Type /Page"),oe("/Parent "+L.rootDictionaryObjId+" 0 R"),oe("/Resources "+L.resourceDictionaryObjId+" 0 R"),oe("/MediaBox ["+parseFloat(T(L.mediaBox.bottomLeftX))+" "+parseFloat(T(L.mediaBox.bottomLeftY))+" "+T(L.mediaBox.topRightX)+" "+T(L.mediaBox.topRightY)+"]"),L.cropBox!==null&&oe("/CropBox ["+T(L.cropBox.bottomLeftX)+" "+T(L.cropBox.bottomLeftY)+" "+T(L.cropBox.topRightX)+" "+T(L.cropBox.topRightY)+"]"),L.bleedBox!==null&&oe("/BleedBox ["+T(L.bleedBox.bottomLeftX)+" "+T(L.bleedBox.bottomLeftY)+" "+T(L.bleedBox.topRightX)+" "+T(L.bleedBox.topRightY)+"]"),L.trimBox!==null&&oe("/TrimBox ["+T(L.trimBox.bottomLeftX)+" "+T(L.trimBox.bottomLeftY)+" "+T(L.trimBox.topRightX)+" "+T(L.trimBox.topRightY)+"]"),L.artBox!==null&&oe("/ArtBox ["+T(L.artBox.bottomLeftX)+" "+T(L.artBox.bottomLeftY)+" "+T(L.artBox.topRightX)+" "+T(L.artBox.topRightY)+"]"),typeof L.userUnit=="number"&&L.userUnit!==1&&oe("/UserUnit "+L.userUnit),ar.publish("putPage",{objId:Oe,pageContext:jt[te],pageNumber:te,page:Se}),oe("/Contents "+Ve+" 0 R"),oe(">>"),oe("endobj");var it=Se.join(`
`);return w===b.ADVANCED&&(it+=`
Q`),ae(Ve,!0),rt({data:it,filters:He(),objectId:Ve}),oe("endobj"),Oe},Ye=p.__private__.putPages=function(){var L,te,Se=[];for(L=1;L<=Rt;L++)jt[L].objId=Vr(),jt[L].contentsObjId=Vr();for(L=1;L<=Rt;L++)Se.push(Ge({number:L,data:ye[L],objId:jt[L].objId,contentsObjId:jt[L].contentsObjId,mediaBox:jt[L].mediaBox,cropBox:jt[L].cropBox,bleedBox:jt[L].bleedBox,trimBox:jt[L].trimBox,artBox:jt[L].artBox,userUnit:jt[L].userUnit,rootDictionaryObjId:me,resourceDictionaryObjId:ge}));ae(me,!0),oe("<</Type /Pages");var Oe="/Kids [";for(te=0;te<Rt;te++)Oe+=Se[te]+" 0 R ";oe(Oe+"]"),oe("/Count "+Rt),oe(">>"),oe("endobj"),ar.publish("postPutPages")},Ze=function(L){ar.publish("putFont",{font:L,out:oe,newObject:Nr,putStream:rt}),L.isAlreadyPutted!==!0&&(L.objectNumber=Nr(),oe("<<"),oe("/Type /Font"),oe("/BaseFont /"+s0(L.postScriptName)),oe("/Subtype /Type1"),typeof L.encoding=="string"&&oe("/Encoding /"+L.encoding),oe("/FirstChar 32"),oe("/LastChar 255"),oe(">>"),oe("endobj"))},St=function(){for(var L in tr)tr.hasOwnProperty(L)&&(f===!1||f===!0&&h.hasOwnProperty(L))&&Ze(tr[L])},Dt=function(L){L.objectNumber=Nr();var te=[];te.push({key:"Type",value:"/XObject"}),te.push({key:"Subtype",value:"/Form"}),te.push({key:"BBox",value:"["+[T(L.x),T(L.y),T(L.x+L.width),T(L.y+L.height)].join(" ")+"]"}),te.push({key:"Matrix",value:"["+L.matrix.toString()+"]"});var Se=L.pages[1].join(`
`);rt({data:Se,additionalKeyValues:te,objectId:L.objectNumber}),oe("endobj")},$t=function(){for(var L in gr)gr.hasOwnProperty(L)&&Dt(gr[L])},Ct=function(L,te){var Se,Oe=[],Ve=1/(te-1);for(Se=0;Se<1;Se+=Ve)Oe.push(Se);if(Oe.push(1),L[0].offset!=0){var it={offset:0,color:L[0].color};L.unshift(it)}if(L[L.length-1].offset!=1){var Tt={offset:1,color:L[L.length-1].color};L.push(Tt)}for(var zt="",A=0,F=0;F<Oe.length;F++){for(Se=Oe[F];Se>L[A+1].offset;)A++;var X=L[A].offset,fe=(Se-X)/(L[A+1].offset-X),Ue=L[A].color,et=L[A+1].color;zt+=G(Math.round((1-fe)*Ue[0]+fe*et[0]).toString(16))+G(Math.round((1-fe)*Ue[1]+fe*et[1]).toString(16))+G(Math.round((1-fe)*Ue[2]+fe*et[2]).toString(16))}return zt.trim()},Mt=function(L,te){te||(te=21);var Se=Nr(),Oe=Ct(L.colors,te),Ve=[];Ve.push({key:"FunctionType",value:"0"}),Ve.push({key:"Domain",value:"[0.0 1.0]"}),Ve.push({key:"Size",value:"["+te+"]"}),Ve.push({key:"BitsPerSample",value:"8"}),Ve.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ve.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),rt({data:Oe,additionalKeyValues:Ve,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Se}),oe("endobj"),L.objectNumber=Nr(),oe("<< /ShadingType "+L.type),oe("/ColorSpace /DeviceRGB");var it="/Coords ["+T(parseFloat(L.coords[0]))+" "+T(parseFloat(L.coords[1]))+" ";L.type===2?it+=T(parseFloat(L.coords[2]))+" "+T(parseFloat(L.coords[3])):it+=T(parseFloat(L.coords[2]))+" "+T(parseFloat(L.coords[3]))+" "+T(parseFloat(L.coords[4]))+" "+T(parseFloat(L.coords[5])),oe(it+="]"),L.matrix&&oe("/Matrix ["+L.matrix.toString()+"]"),oe("/Function "+Se+" 0 R"),oe("/Extend [true true]"),oe(">>"),oe("endobj")},dr=function(L,te){var Se=Vr(),Oe=Nr();te.push({resourcesOid:Se,objectOid:Oe}),L.objectNumber=Oe;var Ve=[];Ve.push({key:"Type",value:"/Pattern"}),Ve.push({key:"PatternType",value:"1"}),Ve.push({key:"PaintType",value:"1"}),Ve.push({key:"TilingType",value:"1"}),Ve.push({key:"BBox",value:"["+L.boundingBox.map(T).join(" ")+"]"}),Ve.push({key:"XStep",value:T(L.xStep)}),Ve.push({key:"YStep",value:T(L.yStep)}),Ve.push({key:"Resources",value:Se+" 0 R"}),L.matrix&&Ve.push({key:"Matrix",value:"["+L.matrix.toString()+"]"}),rt({data:L.stream,additionalKeyValues:Ve,objectId:L.objectNumber}),oe("endobj")},ce=function(L){var te;for(te in Fe)Fe.hasOwnProperty(te)&&(Fe[te]instanceof Td?Mt(Fe[te]):Fe[te]instanceof k0&&dr(Fe[te],L))},ke=function(L){for(var te in L.objectNumber=Nr(),oe("<<"),L)switch(te){case"opacity":oe("/ca "+j(L[te]));break;case"stroke-opacity":oe("/CA "+j(L[te]))}oe(">>"),oe("endobj")},dt=function(){var L;for(L in ht)ht.hasOwnProperty(L)&&ke(ht[L])},Bt=function(){for(var L in oe("/XObject <<"),gr)gr.hasOwnProperty(L)&&gr[L].objectNumber>=0&&oe("/"+L+" "+gr[L].objectNumber+" 0 R");ar.publish("putXobjectDict"),oe(">>")},xt=function(){Bn.oid=Nr(),oe("<<"),oe("/Filter /Standard"),oe("/V "+Bn.v),oe("/R "+Bn.r),oe("/U <"+Bn.toHexString(Bn.U)+">"),oe("/O <"+Bn.toHexString(Bn.O)+">"),oe("/P "+Bn.P),oe(">>"),oe("endobj")},ft=function(){for(var L in oe("/Font <<"),tr)tr.hasOwnProperty(L)&&(f===!1||f===!0&&h.hasOwnProperty(L))&&oe("/"+L+" "+tr[L].objectNumber+" 0 R");oe(">>")},Ot=function(){if(Object.keys(Fe).length>0){for(var L in oe("/Shading <<"),Fe)Fe.hasOwnProperty(L)&&Fe[L]instanceof Td&&Fe[L].objectNumber>=0&&oe("/"+L+" "+Fe[L].objectNumber+" 0 R");ar.publish("putShadingPatternDict"),oe(">>")}},Vt=function(L){if(Object.keys(Fe).length>0){for(var te in oe("/Pattern <<"),Fe)Fe.hasOwnProperty(te)&&Fe[te]instanceof p.TilingPattern&&Fe[te].objectNumber>=0&&Fe[te].objectNumber<L&&oe("/"+te+" "+Fe[te].objectNumber+" 0 R");ar.publish("putTilingPatternDict"),oe(">>")}},Ht=function(){if(Object.keys(ht).length>0){var L;for(L in oe("/ExtGState <<"),ht)ht.hasOwnProperty(L)&&ht[L].objectNumber>=0&&oe("/"+L+" "+ht[L].objectNumber+" 0 R");ar.publish("putGStateDict"),oe(">>")}},Jt=function(L){ae(L.resourcesOid,!0),oe("<<"),oe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),ft(),Ot(),Vt(L.objectOid),Ht(),Bt(),oe(">>"),oe("endobj")},Mr=function(){var L=[];St(),dt(),$t(),ce(L),ar.publish("putResources"),L.forEach(Jt),Jt({resourcesOid:ge,objectOid:Number.MAX_SAFE_INTEGER}),ar.publish("postPutResources")},vn=function(){ar.publish("putAdditionalObjects");for(var L=0;L<pe.length;L++){var te=pe[L];ae(te.objId,!0),oe(te.content),oe("endobj")}ar.publish("postPutAdditionalObjects")},Wa=function(L){Fr[L.fontName]=Fr[L.fontName]||{},Fr[L.fontName][L.fontStyle]=L.id},Qi=function(L,te,Se,Oe,Ve){var it={id:"F"+(Object.keys(tr).length+1).toString(10),postScriptName:L,fontName:te,fontStyle:Se,encoding:Oe,isStandardFont:Ve||!1,metadata:{}};return ar.publish("addFont",{font:it,instance:this}),tr[it.id]=it,Wa(it),it.id},hn=function(L){for(var te=0,Se=Te.length;te<Se;te++){var Oe=Qi.call(this,L[te][0],L[te][1],L[te][2],Te[te][3],!0);f===!1&&(h[Oe]=!0);var Ve=L[te][0].split("-");Wa({id:Oe,fontName:Ve[0],fontStyle:Ve[1]||""})}ar.publish("addFonts",{fonts:tr,dictionary:Fr})},yn=function(L){return L.foo=function(){try{return L.apply(this,arguments)}catch(Oe){var te=Oe.stack||"";~te.indexOf(" at ")&&(te=te.split(" at ")[1]);var Se="Error in function "+te.split(`
`)[0].split("<")[0]+": "+Oe.message;if(!xr.console)throw new Error(Se);xr.console.error(Se,Oe),xr.alert&&alert(Se)}},L.foo.bar=L,L.foo},Ai=function(L,te){var Se,Oe,Ve,it,Tt,zt,A,F,X;if(Ve=(te=te||{}).sourceEncoding||"Unicode",Tt=te.outputEncoding,(te.autoencode||Tt)&&tr[_t].metadata&&tr[_t].metadata[Ve]&&tr[_t].metadata[Ve].encoding&&(it=tr[_t].metadata[Ve].encoding,!Tt&&tr[_t].encoding&&(Tt=tr[_t].encoding),!Tt&&it.codePages&&(Tt=it.codePages[0]),typeof Tt=="string"&&(Tt=it[Tt]),Tt)){for(A=!1,zt=[],Se=0,Oe=L.length;Se<Oe;Se++)(F=Tt[L.charCodeAt(Se)])?zt.push(String.fromCharCode(F)):zt.push(L[Se]),zt[Se].charCodeAt(0)>>8&&(A=!0);L=zt.join("")}for(Se=L.length;A===void 0&&Se!==0;)L.charCodeAt(Se-1)>>8&&(A=!0),Se--;if(!A)return L;for(zt=te.noBOM?[]:[254,255],Se=0,Oe=L.length;Se<Oe;Se++){if((X=(F=L.charCodeAt(Se))>>8)>>8)throw new Error("Character at position "+Se+" of string '"+L+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");zt.push(X),zt.push(F-(X<<8))}return String.fromCharCode.apply(void 0,zt)},$r=p.__private__.pdfEscape=p.pdfEscape=function(L,te){return Ai(L,te).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},_a=p.__private__.beginPage=function(L){ye[++Rt]=[],jt[Rt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(L[0]),topRightY:Number(L[1])}},Jf(Rt),Ee(ye[R])},Fo=function(L,te){var Se,Oe,Ve;switch(r=te||r,typeof L=="string"&&(Se=y(L.toLowerCase()),Array.isArray(Se)&&(Oe=Se[0],Ve=Se[1])),Array.isArray(L)&&(Oe=L[0]*nt,Ve=L[1]*nt),isNaN(Oe)&&(Oe=a[0],Ve=a[1]),(Oe>14400||Ve>14400)&&(In.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Oe=Math.min(14400,Oe),Ve=Math.min(14400,Ve)),a=[Oe,Ve],r.substr(0,1)){case"l":Ve>Oe&&(a=[Ve,Oe]);break;case"p":Oe>Ve&&(a=[Ve,Oe])}_a(a),nd(rd),oe(ii),sd!==0&&oe(sd+" J"),bu!==0&&oe(bu+" j"),ar.publish("addPage",{pageNumber:Rt})},Al=function(L){L>0&&L<=Rt&&(ye.splice(L,1),jt.splice(L,1),Rt--,R>Rt&&(R=Rt),this.setPage(R))},Jf=function(L){L>0&&L<=Rt&&(R=L)},xn=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return ye.length-1},oc=function(L,te,Se){var Oe,Ve=void 0;return Se=Se||{},L=L!==void 0?L:tr[_t].fontName,te=te!==void 0?te:tr[_t].fontStyle,Oe=L.toLowerCase(),Fr[Oe]!==void 0&&Fr[Oe][te]!==void 0?Ve=Fr[Oe][te]:Fr[L]!==void 0&&Fr[L][te]!==void 0?Ve=Fr[L][te]:Se.disableWarning===!1&&In.warn("Unable to look up font label for font '"+L+"', '"+te+"'. Refer to getFontList() for available fonts."),Ve||Se.noFallback||(Ve=Fr.times[te])==null&&(Ve=Fr.times.normal),Ve},lc=p.__private__.putInfo=function(){var L=Nr(),te=function(Oe){return Oe};for(var Se in u!==null&&(te=Bn.encryptor(L,0)),oe("<<"),oe("/Producer ("+$r(te("jsPDF "+yr.version))+")"),Pt)Pt.hasOwnProperty(Se)&&Pt[Se]&&oe("/"+Se.substr(0,1).toUpperCase()+Se.substr(1)+" ("+$r(te(Pt[Se]))+")");oe("/CreationDate ("+$r(te(Y))+")"),oe(">>"),oe("endobj")},$o=p.__private__.putCatalog=function(L){var te=(L=L||{}).rootDictionaryObjId||me;switch(Nr(),oe("<<"),oe("/Type /Catalog"),oe("/Pages "+te+" 0 R"),Ne||(Ne="fullwidth"),Ne){case"fullwidth":oe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":oe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":oe("/OpenAction [3 0 R /Fit]");break;case"original":oe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Se=""+Ne;Se.substr(Se.length-1)==="%"&&(Ne=parseInt(Ne)/100),typeof Ne=="number"&&oe("/OpenAction [3 0 R /XYZ null null "+j(Ne)+"]")}switch(ot||(ot="continuous"),ot){case"continuous":oe("/PageLayout /OneColumn");break;case"single":oe("/PageLayout /SinglePage");break;case"two":case"twoleft":oe("/PageLayout /TwoColumnLeft");break;case"tworight":oe("/PageLayout /TwoColumnRight")}Je&&oe("/PageMode /"+Je),ar.publish("putCatalog"),oe(">>"),oe("endobj")},pm=p.__private__.putTrailer=function(){oe("trailer"),oe("<<"),oe("/Size "+(Q+1)),oe("/Root "+Q+" 0 R"),oe("/Info "+(Q-1)+" 0 R"),u!==null&&oe("/Encrypt "+Bn.oid+" 0 R"),oe("/ID [ <"+K+"> <"+K+"> ]"),oe(">>")},Nh=p.__private__.putHeader=function(){oe("%PDF-"+g),oe("%ºß¬à")},mm=p.__private__.putXRef=function(){var L="0000000000";oe("xref"),oe("0 "+(Q+1)),oe("0000000000 65535 f ");for(var te=1;te<=Q;te++)typeof ie[te]=="function"?oe((L+ie[te]()).slice(-10)+" 00000 n "):ie[te]!==void 0?oe((L+ie[te]).slice(-10)+" 00000 n "):oe("0000000000 00000 n ")},Bo=p.__private__.buildDocument=function(){Ce(),Ee(ue),ar.publish("buildDocument"),Nh(),Ye(),vn(),Mr(),u!==null&&xt(),lc(),$o();var L=ne;return mm(),pm(),oe("startxref"),oe(""+L),oe("%%EOF"),Ee(ye[R]),ue.join(`
`)},fu=p.__private__.getBlob=function(L){return new Blob([De(L)],{type:"application/pdf"})},du=p.output=p.__private__.output=yn(function(L,te){switch(typeof(te=te||{})=="string"?te={filename:te}:te.filename=te.filename||"generated.pdf",L){case void 0:return Bo();case"save":p.save(te.filename);break;case"arraybuffer":return De(Bo());case"blob":return fu(Bo());case"bloburi":case"bloburl":if(xr.URL!==void 0&&typeof xr.URL.createObjectURL=="function")return xr.URL&&xr.URL.createObjectURL(fu(Bo()))||void 0;In.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Se="",Oe=Bo();try{Se=fE(Oe)}catch{Se=fE(unescape(encodeURIComponent(Oe)))}return"data:application/pdf;filename="+te.filename+";base64,"+Se;case"pdfobjectnewwindow":if(Object.prototype.toString.call(xr)==="[object Window]"){var Ve="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",it=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';te.pdfObjectUrl&&(Ve=te.pdfObjectUrl,it="");var Tt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ve+'"'+it+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(te)+");<\/script></body></html>",zt=xr.open();return zt!==null&&zt.document.write(Tt),zt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(xr)==="[object Window]"){var A='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(te.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+te.filename+'" width="500px" height="400px" /></body></html>',F=xr.open();if(F!==null){F.document.write(A);var X=this;F.document.documentElement.querySelector("#pdfViewer").onload=function(){F.document.title=te.filename,F.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(X.output("bloburl"))}}return F}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(xr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var fe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",te)+'"></iframe></body></html>',Ue=xr.open();if(Ue!==null&&(Ue.document.write(fe),Ue.document.title=te.filename),Ue||typeof safari>"u")return Ue;break;case"datauri":case"dataurl":return xr.document.location.href=this.output("datauristring",te);default:return null}}),Tl=function(L){return Array.isArray(mr)===!0&&mr.indexOf(L)>-1};switch(n){case"pt":nt=1;break;case"mm":nt=72/25.4;break;case"cm":nt=72/2.54;break;case"in":nt=72;break;case"px":nt=Tl("px_scaling")==1?.75:96/72;break;case"pc":case"em":nt=12;break;case"ex":nt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);nt=n}var Bn=null;Z(),z();var kh=function(L){return u!==null?Bn.encryptor(L,0):function(te){return te}},Zf=p.__private__.getPageInfo=p.getPageInfo=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:jt[L].objId,pageNumber:L,pageContext:jt[L]}},_r=p.__private__.getPageInfoByObjId=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var te in jt)if(jt[te].objId===L)break;return Zf(te)},El=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:jt[R].objId,pageNumber:R,pageContext:jt[R]}};p.addPage=function(){return Fo.apply(this,arguments),this},p.setPage=function(){return Jf.apply(this,arguments),Ee.call(this,ye[R]),this},p.insertPage=function(L){return this.addPage(),this.movePage(R,L),this},p.movePage=function(L,te){var Se,Oe;if(L>te){Se=ye[L],Oe=jt[L];for(var Ve=L;Ve>te;Ve--)ye[Ve]=ye[Ve-1],jt[Ve]=jt[Ve-1];ye[te]=Se,jt[te]=Oe,this.setPage(te)}else if(L<te){Se=ye[L],Oe=jt[L];for(var it=L;it<te;it++)ye[it]=ye[it+1],jt[it]=jt[it+1];ye[te]=Se,jt[te]=Oe,this.setPage(te)}return this},p.deletePage=function(){return Al.apply(this,arguments),this},p.__private__.text=p.text=function(L,te,Se,Oe,Ve){var it,Tt,zt,A,F,X,fe,Ue,et,Et=(Oe=Oe||{}).scope||this;if(typeof L=="number"&&typeof te=="number"&&(typeof Se=="string"||Array.isArray(Se))){var Cr=Se;Se=te,te=L,L=Cr}if(arguments[3]instanceof We?(_("The transform parameter of text() with a Matrix value"),et=Ve):(zt=arguments[4],A=arguments[5],fn(fe=arguments[3])==="object"&&fe!==null||(typeof zt=="string"&&(A=zt,zt=null),typeof fe=="string"&&(A=fe,fe=null),typeof fe=="number"&&(zt=fe,fe=null),Oe={flags:fe,angle:zt,align:A})),isNaN(te)||isNaN(Se)||L==null)throw new Error("Invalid arguments passed to jsPDF.text");if(L.length===0)return Et;var Wr="",Pr=!1,mn=typeof Oe.lineHeightFactor=="number"?Oe.lineHeightFactor:pn,Pn=Et.internal.scaleFactor;function Wo(Ln){return Ln=Ln.split("	").join(Array(Oe.TabLen||9).join(" ")),$r(Ln,fe)}function si(Ln){for(var Mn,ha=Ln.concat(),La=[],gc=ha.length;gc--;)typeof(Mn=ha.shift())=="string"?La.push(Mn):Array.isArray(Ln)&&(Mn.length===1||Mn[1]===void 0&&Mn[2]===void 0)?La.push(Mn[0]):La.push([Mn[0],Mn[1],Mn[2]]);return La}function Pl(Ln,Mn){var ha;if(typeof Ln=="string")ha=Mn(Ln)[0];else if(Array.isArray(Ln)){for(var La,gc,Am=Ln.concat(),Uh=[],yy=Am.length;yy--;)typeof(La=Am.shift())=="string"?Uh.push(Mn(La)[0]):Array.isArray(La)&&typeof La[0]=="string"&&(gc=Mn(La[0],La[1],La[2]),Uh.push([gc[0],gc[1],gc[2]]));ha=Uh}return ha}var Ol=!1,vm=!0;if(typeof L=="string")Ol=!0;else if(Array.isArray(L)){var ym=L.concat();Tt=[];for(var jh,oi=ym.length;oi--;)(typeof(jh=ym.shift())!="string"||Array.isArray(jh)&&typeof jh[0]!="string")&&(vm=!1);Ol=vm}if(Ol===!1)throw new Error('Type of text must be string or Array. "'+L+'" is not recognized.');typeof L=="string"&&(L=L.match(/[\r?\n]/)?L.split(/\r\n|\r|\n/g):[L]);var Dh=Re/Et.internal.scaleFactor,Lh=Dh*(mn-1);switch(Oe.baseline){case"bottom":Se-=Lh;break;case"top":Se+=Dh-Lh;break;case"hanging":Se+=Dh-2*Lh;break;case"middle":Se+=Dh/2-Lh}if((X=Oe.maxWidth||0)>0&&(typeof L=="string"?L=Et.splitTextToSize(L,X):Object.prototype.toString.call(L)==="[object Array]"&&(L=L.reduce(function(Ln,Mn){return Ln.concat(Et.splitTextToSize(Mn,X))},[]))),it={text:L,x:te,y:Se,options:Oe,mutex:{pdfEscape:$r,activeFontKey:_t,fonts:tr,activeFontSize:Re}},ar.publish("preProcessText",it),L=it.text,zt=(Oe=it.options).angle,!(et instanceof We)&&zt&&typeof zt=="number"){zt*=Math.PI/180,Oe.rotationDirection===0&&(zt=-zt),w===b.ADVANCED&&(zt=-zt);var Mh=Math.cos(zt),xm=Math.sin(zt);et=new We(Mh,xm,-xm,Mh,0,0)}else zt&&zt instanceof We&&(et=zt);w!==b.ADVANCED||et||(et=ir),(F=Oe.charSpace||uc)!==void 0&&(Wr+=T(N(F))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ue=Oe.horizontalScale)!==void 0&&(Wr+=T(100*Ue)+` Tz
`),Oe.lang;var vs=-1,m_=Oe.renderingMode!==void 0?Oe.renderingMode:Oe.stroke,bm=Et.internal.getCurrentPageInfo().pageContext;switch(m_){case 0:case!1:case"fill":vs=0;break;case 1:case!0:case"stroke":vs=1;break;case 2:case"fillThenStroke":vs=2;break;case 3:case"invisible":vs=3;break;case 4:case"fillAndAddForClipping":vs=4;break;case 5:case"strokeAndAddPathForClipping":vs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":vs=6;break;case 7:case"addToPathForClipping":vs=7}var py=bm.usedRenderingMode!==void 0?bm.usedRenderingMode:-1;vs!==-1?Wr+=vs+` Tr
`:py!==-1&&(Wr+=`0 Tr
`),vs!==-1&&(bm.usedRenderingMode=vs),A=Oe.align||"left";var ao,Rh=Re*mn,my=Et.internal.pageSize.getWidth(),gy=tr[_t];F=Oe.charSpace||uc,X=Oe.maxWidth||0,fe=Object.assign({autoencode:!0,noBOM:!0},Oe.flags);var Tu=[],od=function(Ln){return Et.getStringUnitWidth(Ln,{font:gy,charSpace:F,fontSize:Re,doKerning:!1})*Re/Pn};if(Object.prototype.toString.call(L)==="[object Array]"){var ys;Tt=si(L),A!=="left"&&(ao=Tt.map(od));var Ji,Eu=0;if(A==="right"){te-=ao[0],L=[],oi=Tt.length;for(var hc=0;hc<oi;hc++)hc===0?(Ji=Rs(te),ys=Da(Se)):(Ji=N(Eu-ao[hc]),ys=-Rh),L.push([Tt[hc],Ji,ys]),Eu=ao[hc]}else if(A==="center"){te-=ao[0]/2,L=[],oi=Tt.length;for(var pc=0;pc<oi;pc++)pc===0?(Ji=Rs(te),ys=Da(Se)):(Ji=N((Eu-ao[pc])/2),ys=-Rh),L.push([Tt[pc],Ji,ys]),Eu=ao[pc]}else if(A==="left"){L=[],oi=Tt.length;for(var Fh=0;Fh<oi;Fh++)L.push(Tt[Fh])}else if(A==="justify"&&gy.encoding==="Identity-H"){L=[],oi=Tt.length,X=X!==0?X:my;for(var mc=0,da=0;da<oi;da++)if(ys=da===0?Da(Se):-Rh,Ji=da===0?Rs(te):mc,da<oi-1){var wm=N((X-ao[da])/(Tt[da].split(" ").length-1)),Zi=Tt[da].split(" ");L.push([Zi[0]+" ",Ji,ys]),mc=0;for(var io=1;io<Zi.length;io++){var $h=(od(Zi[io-1]+" "+Zi[io])-od(Zi[io]))*Pn+wm;io==Zi.length-1?L.push([Zi[io],$h,0]):L.push([Zi[io]+" ",$h,0]),mc-=$h}}else L.push([Tt[da],Ji,ys]);L.push(["",mc,0])}else{if(A!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(L=[],oi=Tt.length,X=X!==0?X:my,da=0;da<oi;da++)ys=da===0?Da(Se):-Rh,Ji=da===0?Rs(te):0,da<oi-1?Tu.push(T(N((X-ao[da])/(Tt[da].split(" ").length-1)))):Tu.push(0),L.push([Tt[da],Ji,ys])}}var vy=typeof Oe.R2L=="boolean"?Oe.R2L:je;vy===!0&&(L=Pl(L,function(Ln,Mn,ha){return[Ln.split("").reverse().join(""),Mn,ha]})),it={text:L,x:te,y:Se,options:Oe,mutex:{pdfEscape:$r,activeFontKey:_t,fonts:tr,activeFontSize:Re}},ar.publish("postProcessText",it),L=it.text,Pr=it.mutex.isHex||!1;var _m=tr[_t].encoding;_m!=="WinAnsiEncoding"&&_m!=="StandardEncoding"||(L=Pl(L,function(Ln,Mn,ha){return[Wo(Ln),Mn,ha]})),Tt=si(L),L=[];for(var ld,cd,Nu,ud=0,Bh=1,fd=Array.isArray(Tt[0])?Bh:ud,ku="",Sm=function(Ln,Mn,ha){var La="";return ha instanceof We?(ha=typeof Oe.angle=="number"?Kt(ha,new We(1,0,0,1,Ln,Mn)):Kt(new We(1,0,0,1,Ln,Mn),ha),w===b.ADVANCED&&(ha=Kt(new We(1,0,0,-1,0,0),ha)),La=ha.join(" ")+` Tm
`):La=T(Ln)+" "+T(Mn)+` Td
`,La},so=0;so<Tt.length;so++){switch(ku="",fd){case Bh:Nu=(Pr?"<":"(")+Tt[so][0]+(Pr?">":")"),ld=parseFloat(Tt[so][1]),cd=parseFloat(Tt[so][2]);break;case ud:Nu=(Pr?"<":"(")+Tt[so]+(Pr?">":")"),ld=Rs(te),cd=Da(Se)}Tu!==void 0&&Tu[so]!==void 0&&(ku=Tu[so]+` Tw
`),so===0?L.push(ku+Sm(ld,cd,et)+Nu):fd===ud?L.push(ku+Nu):fd===Bh&&L.push(ku+Sm(ld,cd,et)+Nu)}L=fd===ud?L.join(` Tj
T* `):L.join(` Tj
`),L+=` Tj
`;var oo=`BT
/`;return oo+=_t+" "+Re+` Tf
`,oo+=T(Re*mn)+` TL
`,oo+=zo+`
`,oo+=Wr,oo+=L,oe(oo+="ET"),h[_t]=!0,Et};var gm=p.__private__.clip=p.clip=function(L){return oe(L==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return gm("evenodd")},p.__private__.discardPath=p.discardPath=function(){return oe("n"),this};var no=p.__private__.isValidStyle=function(L){var te=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(L)!==-1&&(te=!0),te};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(L){return no(L)&&(c=L),this};var Ch=p.__private__.getStyle=p.getStyle=function(L){var te=c;switch(L){case"D":case"S":te="S";break;case"F":te="f";break;case"FD":case"DF":te="B";break;case"f":case"f*":case"B":case"B*":te=L}return te},Ls=p.close=function(){return oe("h"),this};p.stroke=function(){return oe("S"),this},p.fill=function(L){return hu("f",L),this},p.fillEvenOdd=function(L){return hu("f*",L),this},p.fillStroke=function(L){return hu("B",L),this},p.fillStrokeEvenOdd=function(L){return hu("B*",L),this};var hu=function(L,te){fn(te)==="object"?mu(te,L):oe(L)},ed=function(L){L===null||w===b.ADVANCED&&L===void 0||(L=Ch(L),oe(L))};function pu(L,te,Se,Oe,Ve){var it=new k0(te||this.boundingBox,Se||this.xStep,Oe||this.yStep,this.gState,Ve||this.matrix);it.stream=this.stream;var Tt=L+"$$"+this.cloneIndex+++"$$";return Rr(Tt,it),it}var mu=function(L,te){var Se=tt[L.key],Oe=Fe[Se];if(Oe instanceof Td)oe("q"),oe(Ph(te)),Oe.gState&&p.setGState(Oe.gState),oe(L.matrix.toString()+" cm"),oe("/"+Se+" sh"),oe("Q");else if(Oe instanceof k0){var Ve=new We(1,0,0,-1,0,Ti());L.matrix&&(Ve=Ve.multiply(L.matrix||ir),Se=pu.call(Oe,L.key,L.boundingBox,L.xStep,L.yStep,Ve).id),oe("q"),oe("/Pattern cs"),oe("/"+Se+" scn"),Oe.gState&&p.setGState(Oe.gState),oe(te),oe("Q")}},Ph=function(L){switch(L){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Uo=p.moveTo=function(L,te){return oe(T(N(L))+" "+T(U(te))+" m"),this},Ms=p.lineTo=function(L,te){return oe(T(N(L))+" "+T(U(te))+" l"),this},Vo=p.curveTo=function(L,te,Se,Oe,Ve,it){return oe([T(N(L)),T(U(te)),T(N(Se)),T(U(Oe)),T(N(Ve)),T(U(it)),"c"].join(" ")),this};p.__private__.line=p.line=function(L,te,Se,Oe,Ve){if(isNaN(L)||isNaN(te)||isNaN(Se)||isNaN(Oe)||!no(Ve))throw new Error("Invalid arguments passed to jsPDF.line");return w===b.COMPAT?this.lines([[Se-L,Oe-te]],L,te,[1,1],Ve||"S"):this.lines([[Se-L,Oe-te]],L,te,[1,1]).stroke()},p.__private__.lines=p.lines=function(L,te,Se,Oe,Ve,it){var Tt,zt,A,F,X,fe,Ue,et,Et,Cr,Wr,Pr;if(typeof L=="number"&&(Pr=Se,Se=te,te=L,L=Pr),Oe=Oe||[1,1],it=it||!1,isNaN(te)||isNaN(Se)||!Array.isArray(L)||!Array.isArray(Oe)||!no(Ve)||typeof it!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Uo(te,Se),Tt=Oe[0],zt=Oe[1],F=L.length,Cr=te,Wr=Se,A=0;A<F;A++)(X=L[A]).length===2?(Cr=X[0]*Tt+Cr,Wr=X[1]*zt+Wr,Ms(Cr,Wr)):(fe=X[0]*Tt+Cr,Ue=X[1]*zt+Wr,et=X[2]*Tt+Cr,Et=X[3]*zt+Wr,Cr=X[4]*Tt+Cr,Wr=X[5]*zt+Wr,Vo(fe,Ue,et,Et,Cr,Wr));return it&&Ls(),ed(Ve),this},p.path=function(L){for(var te=0;te<L.length;te++){var Se=L[te],Oe=Se.c;switch(Se.op){case"m":Uo(Oe[0],Oe[1]);break;case"l":Ms(Oe[0],Oe[1]);break;case"c":Vo.apply(this,Oe);break;case"h":Ls()}}return this},p.__private__.rect=p.rect=function(L,te,Se,Oe,Ve){if(isNaN(L)||isNaN(te)||isNaN(Se)||isNaN(Oe)||!no(Ve))throw new Error("Invalid arguments passed to jsPDF.rect");return w===b.COMPAT&&(Oe=-Oe),oe([T(N(L)),T(U(te)),T(N(Se)),T(N(Oe)),"re"].join(" ")),ed(Ve),this},p.__private__.triangle=p.triangle=function(L,te,Se,Oe,Ve,it,Tt){if(isNaN(L)||isNaN(te)||isNaN(Se)||isNaN(Oe)||isNaN(Ve)||isNaN(it)||!no(Tt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Se-L,Oe-te],[Ve-Se,it-Oe],[L-Ve,te-it]],L,te,[1,1],Tt,!0),this},p.__private__.roundedRect=p.roundedRect=function(L,te,Se,Oe,Ve,it,Tt){if(isNaN(L)||isNaN(te)||isNaN(Se)||isNaN(Oe)||isNaN(Ve)||isNaN(it)||!no(Tt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var zt=4/3*(Math.SQRT2-1);return Ve=Math.min(Ve,.5*Se),it=Math.min(it,.5*Oe),this.lines([[Se-2*Ve,0],[Ve*zt,0,Ve,it-it*zt,Ve,it],[0,Oe-2*it],[0,it*zt,-Ve*zt,it,-Ve,it],[2*Ve-Se,0],[-Ve*zt,0,-Ve,-it*zt,-Ve,-it],[0,2*it-Oe],[0,-it*zt,Ve*zt,-it,Ve,-it]],L+Ve,te,[1,1],Tt,!0),this},p.__private__.ellipse=p.ellipse=function(L,te,Se,Oe,Ve){if(isNaN(L)||isNaN(te)||isNaN(Se)||isNaN(Oe)||!no(Ve))throw new Error("Invalid arguments passed to jsPDF.ellipse");var it=4/3*(Math.SQRT2-1)*Se,Tt=4/3*(Math.SQRT2-1)*Oe;return Uo(L+Se,te),Vo(L+Se,te-Tt,L+it,te-Oe,L,te-Oe),Vo(L-it,te-Oe,L-Se,te-Tt,L-Se,te),Vo(L-Se,te+Tt,L-it,te+Oe,L,te+Oe),Vo(L+it,te+Oe,L+Se,te+Tt,L+Se,te),ed(Ve),this},p.__private__.circle=p.circle=function(L,te,Se,Oe){if(isNaN(L)||isNaN(te)||isNaN(Se)||!no(Oe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(L,te,Se,Se,Oe)},p.setFont=function(L,te,Se){return Se&&(te=I(te,Se)),_t=oc(L,te,{disableWarning:!1}),this};var td=p.__private__.getFont=p.getFont=function(){return tr[oc.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var L,te,Se={};for(L in Fr)if(Fr.hasOwnProperty(L))for(te in Se[L]=[],Fr[L])Fr[L].hasOwnProperty(te)&&Se[L].push(te);return Se},p.addFont=function(L,te,Se,Oe,Ve){var it=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&it.indexOf(arguments[3])!==-1?Ve=arguments[3]:arguments[3]&&it.indexOf(arguments[3])==-1&&(Se=I(Se,Oe)),Ve=Ve||"Identity-H",Qi.call(this,L,te,Se,Ve)};var pn,rd=e.lineWidth||.200025,gu=p.__private__.getLineWidth=p.getLineWidth=function(){return rd},nd=p.__private__.setLineWidth=p.setLineWidth=function(L){return rd=L,oe(T(N(L))+" w"),this};p.__private__.setLineDash=yr.API.setLineDash=yr.API.setLineDashPattern=function(L,te){if(L=L||[],te=te||0,isNaN(te)||!Array.isArray(L))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return L=L.map(function(Se){return T(N(Se))}).join(" "),te=T(N(te)),oe("["+L+"] "+te+" d"),this};var ad=p.__private__.getLineHeight=p.getLineHeight=function(){return Re*pn};p.__private__.getLineHeight=p.getLineHeight=function(){return Re*pn};var id=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(L){return typeof(L=L||1.15)=="number"&&(pn=L),this},cc=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return pn};id(e.lineHeight);var Rs=p.__private__.getHorizontalCoordinate=function(L){return N(L)},Da=p.__private__.getVerticalCoordinate=function(L){return w===b.ADVANCED?L:jt[R].mediaBox.topRightY-jt[R].mediaBox.bottomLeftY-N(L)},Oh=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(L){return T(Rs(L))},Nl=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(L){return T(Da(L))},ii=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return be(ii)},p.__private__.setStrokeColor=p.setDrawColor=function(L,te,Se,Oe){return ii=_e({ch1:L,ch2:te,ch3:Se,ch4:Oe,pdfColorType:"draw",precision:2}),oe(ii),this};var vu=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return be(vu)},p.__private__.setFillColor=p.setFillColor=function(L,te,Se,Oe){return vu=_e({ch1:L,ch2:te,ch3:Se,ch4:Oe,pdfColorType:"fill",precision:2}),oe(vu),this};var zo=e.textColor||"0 g",yu=p.__private__.getTextColor=p.getTextColor=function(){return be(zo)};p.__private__.setTextColor=p.setTextColor=function(L,te,Se,Oe){return zo=_e({ch1:L,ch2:te,ch3:Se,ch4:Oe,pdfColorType:"text",precision:3}),this};var uc=e.charSpace,xu=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(uc||0)};p.__private__.setCharSpace=p.setCharSpace=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return uc=L,this};var sd=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(L){var te=p.CapJoinStyles[L];if(te===void 0)throw new Error("Line cap style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return sd=te,oe(te+" J"),this};var bu=0;p.__private__.setLineJoin=p.setLineJoin=function(L){var te=p.CapJoinStyles[L];if(te===void 0)throw new Error("Line join style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return bu=te,oe(te+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(L){if(L=L||0,isNaN(L))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return oe(T(N(L))+" M"),this},p.GState=Tw,p.setGState=function(L){(L=typeof L=="string"?ht[Lt[L]]:kl(null,L)).equals(Gt)||(oe("/"+L.id+" gs"),Gt=L)};var kl=function(L,te){if(!L||!Lt[L]){var Se=!1;for(var Oe in ht)if(ht.hasOwnProperty(Oe)&&ht[Oe].equals(te)){Se=!0;break}if(Se)te=ht[Oe];else{var Ve="GS"+(Object.keys(ht).length+1).toString(10);ht[Ve]=te,te.id=Ve}return L&&(Lt[L]=te.id),ar.publish("addGState",te),te}};p.addGState=function(L,te){return kl(L,te),this},p.saveGraphicsState=function(){return oe("q"),Ie.push({key:_t,size:Re,color:zo}),this},p.restoreGraphicsState=function(){oe("Q");var L=Ie.pop();return _t=L.key,Re=L.size,zo=L.color,Gt=null,this},p.setCurrentTransformationMatrix=function(L){return oe(L.toString()+" cm"),this},p.comment=function(L){return oe("#"+L),this};var fc=function(L,te){var Se=L||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Se},set:function(it){isNaN(it)||(Se=parseFloat(it))}});var Oe=te||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Oe},set:function(it){isNaN(it)||(Oe=parseFloat(it))}});var Ve="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ve},set:function(it){Ve=it.toString()}}),this},wu=function(L,te,Se,Oe){fc.call(this,L,te),this.type="rect";var Ve=Se||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ve},set:function(Tt){isNaN(Tt)||(Ve=parseFloat(Tt))}});var it=Oe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return it},set:function(Tt){isNaN(Tt)||(it=parseFloat(Tt))}}),this},dc=function(){this.page=Rt,this.currentPage=R,this.pages=ye.slice(0),this.pagesContext=jt.slice(0),this.x=nr,this.y=Wt,this.matrix=zr,this.width=Cl(R),this.height=Ti(R),this.outputDestination=Pe,this.id="",this.objectNumber=-1};dc.prototype.restore=function(){Rt=this.page,R=this.currentPage,jt=this.pagesContext,ye=this.pages,nr=this.x,Wt=this.y,zr=this.matrix,Su(R,this.width),Au(R,this.height),Pe=this.outputDestination};var _u=function(L,te,Se,Oe,Ve){ct.push(new dc),Rt=R=0,ye=[],nr=L,Wt=te,zr=Ve,_a([Se,Oe])},Ih=function(L){if(Ae[L])ct.pop().restore();else{var te=new dc,Se="Xo"+(Object.keys(gr).length+1).toString(10);te.id=Se,Ae[L]=Se,gr[Se]=te,ar.publish("addFormObject",te),ct.pop().restore()}};for(var qo in p.beginFormObject=function(L,te,Se,Oe,Ve){return _u(L,te,Se,Oe,Ve),this},p.endFormObject=function(L){return Ih(L),this},p.doFormObject=function(L,te){var Se=gr[Ae[L]];return oe("q"),oe(te.toString()+" cm"),oe("/"+Se.id+" Do"),oe("Q"),this},p.getFormObject=function(L){var te=gr[Ae[L]];return{x:te.x,y:te.y,width:te.width,height:te.height,matrix:te.matrix}},p.save=function(L,te){return L=L||"generated.pdf",(te=te||{}).returnPromise=te.returnPromise||!1,te.returnPromise===!1?(Sd(fu(Bo()),L),typeof Sd.unload=="function"&&xr.setTimeout&&setTimeout(Sd.unload,911),this):new Promise(function(Se,Oe){try{var Ve=Sd(fu(Bo()),L);typeof Sd.unload=="function"&&xr.setTimeout&&setTimeout(Sd.unload,911),Se(Ve)}catch(it){Oe(it.message)}})},yr.API)yr.API.hasOwnProperty(qo)&&(qo==="events"&&yr.API.events.length?function(L,te){var Se,Oe,Ve;for(Ve=te.length-1;Ve!==-1;Ve--)Se=te[Ve][0],Oe=te[Ve][1],L.subscribe.apply(L,[Se].concat(typeof Oe=="function"?[Oe]:Oe))}(ar,yr.API.events):p[qo]=yr.API[qo]);var Cl=p.getPageWidth=function(L){return(jt[L=L||R].mediaBox.topRightX-jt[L].mediaBox.bottomLeftX)/nt},Su=p.setPageWidth=function(L,te){jt[L].mediaBox.topRightX=te*nt+jt[L].mediaBox.bottomLeftX},Ti=p.getPageHeight=function(L){return(jt[L=L||R].mediaBox.topRightY-jt[L].mediaBox.bottomLeftY)/nt},Au=p.setPageHeight=function(L,te){jt[L].mediaBox.topRightY=te*nt+jt[L].mediaBox.bottomLeftY};return p.internal={pdfEscape:$r,getStyle:Ch,getFont:td,getFontSize:qe,getCharSpace:xu,getTextColor:yu,getLineHeight:ad,getLineHeightFactor:cc,getLineWidth:gu,write:ve,getHorizontalCoordinate:Rs,getVerticalCoordinate:Da,getCoordinateString:Oh,getVerticalCoordinateString:Nl,collections:{},newObject:Nr,newAdditionalObject:we,newObjectDeferred:Vr,newObjectDeferredBegin:ae,getFilters:He,putStream:rt,events:ar,scaleFactor:nt,pageSize:{getWidth:function(){return Cl(R)},setWidth:function(L){Su(R,L)},getHeight:function(){return Ti(R)},setHeight:function(L){Au(R,L)}},encryptionOptions:u,encryption:Bn,getEncryptor:kh,output:du,getNumberOfPages:xn,pages:ye,out:oe,f2:j,f3:E,getPageInfo:Zf,getPageInfoByObjId:_r,getCurrentPageInfo:El,getPDFVersion:m,Point:fc,Rectangle:wu,Matrix:We,hasHotfix:Tl},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Cl(R)},set:function(L){Su(R,L)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Ti(R)},set:function(L){Au(R,L)},enumerable:!0,configurable:!0}),hn.call(p,Te),_t="F1",Fo(a,r),ar.publish("initialized"),p}i0.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},i0.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},i0.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},i0.prototype.processOwnerPassword=function(e,t){return hE(dE(t).substr(0,5),e)},i0.prototype.encryptor=function(e,t){var r=dE(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return hE(r,n)}},Tw.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||fn(e)!==fn(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},yr.API={events:[]},yr.version="3.0.1";var sa=yr.API,NP=1,Eh=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Zh=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Or=function(e){return e.toFixed(2)},Bu=function(e){return e.toFixed(5)};sa.__acroform__={};var Ds=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},p7=function(e){return e*NP},Ml=function(e){var t=new EK,r=sr.internal.getHeight(e)||0,n=sr.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Or(n)),Number(Or(r))],t},t9e=sa.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},r9e=sa.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},n9e=sa.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},va=sa.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return n9e(e,t-1)},ya=sa.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return t9e(e,t-1)},xa=sa.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return r9e(e,t-1)},a9e=sa.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],s=e[2],o=e[3],l={};return l.lowerLeft_X=r(a)||0,l.lowerLeft_Y=n(i+o)||0,l.upperRight_X=r(a+s)||0,l.upperRight_Y=n(i)||0,[Number(Or(l.lowerLeft_X)),Number(Or(l.lowerLeft_Y)),Number(Or(l.upperRight_X)),Number(Or(l.upperRight_Y))]},i9e=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=pE(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+Or(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Ml(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},pE=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(E){return E.split(`
`)}):a.map(function(E){return[E]});var i=r,s=sr.internal.getHeight(e)||0;s=s<0?-s:s;var o=sr.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(E,N,O){if(E+1<a.length){var U=N+" "+a[E+1][0];return Rx(U,e,O).width<=o-4}return!1};i++;e:for(;i>0;){t="",i--;var c,u,f=Rx("3",e,i).height,h=e.multiline?s-i:(s-f)/2,p=h+=2,g=0,m=0,v=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+Rx(t,e,i=12).width+", FieldWidth:"+o+`
`;break}for(var y="",b=0,w=0;w<a.length;w++)if(a.hasOwnProperty(w)){var D=!1;if(a[w].length!==1&&v!==a[w].length-1){if((f+2)*(b+2)+2>s)continue e;y+=a[w][v],D=!0,m=w,w--}else{y=(y+=a[w][v]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var P=parseInt(w),I=l(P,y,i),T=w>=a.length-1;if(I&&!T){y+=" ",v=0;continue}if(I||T){if(T)m=P;else if(e.multiline&&(f+2)*(b+2)+2>s)continue e}else{if(!e.multiline||(f+2)*(b+2)+2>s)continue e;m=P}}for(var _="",S=g;S<=m;S++){var j=a[S];if(e.multiline){if(S===m){_+=j[v]+" ",v=(v+1)%j.length;continue}if(S===g){_+=j[j.length-1]+" ";continue}}_+=j[0]+" "}switch(_=_.substr(_.length-1)==" "?_.substr(0,_.length-1):_,u=Rx(_,e,i).width,e.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;case"left":default:c=2}t+=Or(c)+" "+Or(p)+` Td
`,t+="("+Eh(_)+`) Tj
`,t+=-Or(c)+` 0 Td
`,p=-(i+2),u=0,g=D?m:m+1,b++,y=""}break}return n.text=t,n.fontSize=i,n},Rx=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},s9e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},o9e=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},l9e=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,a=e[r];t.internal.newObjectDeferredBegin(a.objId,!0),fn(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[n]}},c9e=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(_l.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(s9e)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");NP=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new NK,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&o9e(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var s in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],l=[],c=o.Rect;if(o.Rect&&(o.Rect=a9e(o.Rect,a)),a.internal.newObjectDeferredBegin(o.objId,!0),o.DA=sr.createDefaultAppearanceStream(o),fn(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=i9e(o);l.push({key:"AP",value:"<</N "+u+">>"}),a.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var f="";for(var h in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(h)){var p=o.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var s in p)if(p.hasOwnProperty(s)){var g=p[s];typeof g=="function"&&(g=g.call(a,o)),f+="/"+s+" "+g+" ",a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g)}}else typeof(g=p)=="function"&&(g=g.call(a,o)),f+="/"+s+" "+g,a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:l,objectId:o.objId}),a.internal.out("endobj")}i&&l9e(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},TK=sa.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(s){return s};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),fn(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+Eh(n(e[i].toString()))+")"):a+=e[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},EA=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Eh(n(e))+")"},Ul=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ul.prototype.toString=function(){return this.objId+" 0 R"},Ul.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Ul.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:TK(a,this.objId,this.scope)}):a instanceof Ul?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var EK=function(){Ul.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Ds(EK,Ul);var NK=function(){Ul.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Eh(r(e))+")"}},set:function(r){e=r}})};Ds(NK,Ul);var _l=function e(){Ul.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');t=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!va(t,3)},set:function(y){y?this.F=ya(t,3):this.F=xa(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');r=y}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(y){n=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(y){n[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(y){n[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(y){n[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(y){n[3]=y}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Ew)return;i="FieldObject"+e.FieldNum++}var y=function(b){return b};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+Eh(y(i))+")"},set:function(y){i=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(y){i=y}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(y){s=y}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/NP:c},set:function(y){c=y}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(y){u=y}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Ew||this instanceof Wd))return EA(f,this.objId,this.scope)},set:function(y){y=y.toString(),f=y}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Ja?h:EA(h,this.objId,this.scope)},set:function(y){y=y.toString(),h=this instanceof Ja?y:y.substr(0,1)==="("?Zh(y.substr(1,y.length-2)):Zh(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ja?Zh(h.substr(1,h.length-1)):h},set:function(y){y=y.toString(),h=this instanceof Ja?"/"+y:y}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Ja?p:EA(p,this.objId,this.scope)},set:function(y){y=y.toString(),p=this instanceof Ja?y:y.substr(0,1)==="("?Zh(y.substr(1,y.length-2)):Zh(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ja?Zh(p.substr(1,p.length-1)):p},set:function(y){y=y.toString(),p=this instanceof Ja?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(y){y=!!y,m=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(y){g=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,1)},set:function(y){y?this.Ff=ya(this.Ff,1):this.Ff=xa(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,2)},set:function(y){y?this.Ff=ya(this.Ff,2):this.Ff=xa(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,3)},set:function(y){y?this.Ff=ya(this.Ff,3):this.Ff=xa(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');v=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(v){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:v=2;break;case"center":case 1:v=1;break;case"left":case 0:default:v=0}}})};Ds(_l,Ul);var q0=function(){_l.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return TK(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,s,o){o||(o=1);for(var l,c=[];l=s.exec(i);)c.push(l[o]);return c}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,18)},set:function(r){r?this.Ff=ya(this.Ff,18):this.Ff=xa(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=ya(this.Ff,19):this.Ff=xa(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,20)},set:function(r){r?(this.Ff=ya(this.Ff,20),t.sort()):this.Ff=xa(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,22)},set:function(r){r?this.Ff=ya(this.Ff,22):this.Ff=xa(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,23)},set:function(r){r?this.Ff=ya(this.Ff,23):this.Ff=xa(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,27)},set:function(r){r?this.Ff=ya(this.Ff,27):this.Ff=xa(this.Ff,27)}}),this.hasAppearanceStream=!1};Ds(q0,_l);var W0=function(){q0.call(this),this.fontName="helvetica",this.combo=!1};Ds(W0,q0);var H0=function(){W0.call(this),this.combo=!0};Ds(H0,W0);var u2=function(){H0.call(this),this.edit=!0};Ds(u2,H0);var Ja=function(){_l.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,15)},set:function(r){r?this.Ff=ya(this.Ff,15):this.Ff=xa(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,16)},set:function(r){r?this.Ff=ya(this.Ff,16):this.Ff=xa(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,17)},set:function(r){r?this.Ff=ya(this.Ff,17):this.Ff=xa(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,26)},set:function(r){r?this.Ff=ya(this.Ff,26):this.Ff=xa(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+Eh(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){fn(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Ds(Ja,_l);var f2=function(){Ja.call(this),this.pushButton=!0};Ds(f2,Ja);var G0=function(){Ja.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Ds(G0,Ja);var Ew=function(){var e,t;_l.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(o){return o};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,s=[];for(i in s.push("<<"),n)s.push("/"+i+" ("+Eh(a(n[i]))+")");return s.push(">>"),s.join(`
`)},set:function(a){fn(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=sr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ds(Ew,_l),G0.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},G0.prototype.createOption=function(e){var t=new Ew;return t.Parent=this,t.optionName=e,this.Kids.push(t),u9e.call(this.scope,t),t};var d2=function(){Ja.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=sr.CheckBox.createAppearanceStream()};Ds(d2,Ja);var Wd=function(){_l.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,13)},set:function(t){t?this.Ff=ya(this.Ff,13):this.Ff=xa(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,21)},set:function(t){t?this.Ff=ya(this.Ff,21):this.Ff=xa(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,23)},set:function(t){t?this.Ff=ya(this.Ff,23):this.Ff=xa(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,24)},set:function(t){t?this.Ff=ya(this.Ff,24):this.Ff=xa(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,25)},set:function(t){t?this.Ff=ya(this.Ff,25):this.Ff=xa(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,26)},set:function(t){t?this.Ff=ya(this.Ff,26):this.Ff=xa(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ds(Wd,_l);var h2=function(){Wd.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,14)},set:function(e){e?this.Ff=ya(this.Ff,14):this.Ff=xa(this.Ff,14)}}),this.password=!0};Ds(h2,Wd);var sr={CheckBox:{createAppearanceStream:function(){return{N:{On:sr.CheckBox.YesNormal},D:{On:sr.CheckBox.YesPushDown,Off:sr.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Ml(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=pE(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Or(sr.internal.getWidth(e))+" "+Or(sr.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Or(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Ml(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=sr.internal.getHeight(e),s=sr.internal.getWidth(e),o=pE(e,e.caption);return a.push("1 g"),a.push("0 0 "+Or(s)+" "+Or(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Or(s-1)+" "+Or(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+Or(o.fontSize)+" Tf "+n),a.push(o.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=Ml(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Or(sr.internal.getWidth(e))+" "+Or(sr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:sr.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=sr.RadioButton.Circle.YesNormal,t.D[e]=sr.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Ml(e);t.scope=e.scope;var r=[],n=sr.internal.getWidth(e)<=sr.internal.getHeight(e)?sr.internal.getWidth(e)/4:sr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=sr.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Bu(sr.internal.getWidth(e)/2)+" "+Bu(sr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Ml(e);t.scope=e.scope;var r=[],n=sr.internal.getWidth(e)<=sr.internal.getHeight(e)?sr.internal.getWidth(e)/4:sr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*sr.internal.Bezier_C).toFixed(5)),s=Number((n*sr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Bu(sr.internal.getWidth(e)/2)+" "+Bu(sr.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Bu(sr.internal.getWidth(e)/2)+" "+Bu(sr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Ml(e);t.scope=e.scope;var r=[],n=sr.internal.getWidth(e)<=sr.internal.getHeight(e)?sr.internal.getWidth(e)/4:sr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*sr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Bu(sr.internal.getWidth(e)/2)+" "+Bu(sr.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:sr.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=sr.RadioButton.Cross.YesNormal,t.D[e]=sr.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Ml(e);t.scope=e.scope;var r=[],n=sr.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Or(sr.internal.getWidth(e)-2)+" "+Or(sr.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Or(n.x1.x)+" "+Or(n.x1.y)+" m"),r.push(Or(n.x2.x)+" "+Or(n.x2.y)+" l"),r.push(Or(n.x4.x)+" "+Or(n.x4.y)+" m"),r.push(Or(n.x3.x)+" "+Or(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Ml(e);t.scope=e.scope;var r=sr.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Or(sr.internal.getWidth(e))+" "+Or(sr.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Or(sr.internal.getWidth(e)-2)+" "+Or(sr.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Or(r.x1.x)+" "+Or(r.x1.y)+" m"),n.push(Or(r.x2.x)+" "+Or(r.x2.y)+" l"),n.push(Or(r.x4.x)+" "+Or(r.x4.y)+" m"),n.push(Or(r.x3.x)+" "+Or(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Ml(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Or(sr.internal.getWidth(e))+" "+Or(sr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};sr.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=sr.internal.getWidth(e),r=sr.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},sr.internal.getWidth=function(e){var t=0;return fn(e)==="object"&&(t=p7(e.Rect[2])),t},sr.internal.getHeight=function(e){var t=0;return fn(e)==="object"&&(t=p7(e.Rect[3])),t};var u9e=sa.addField=function(e){if(c9e(this,e),!(e instanceof _l))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};sa.AcroFormChoiceField=q0,sa.AcroFormListBox=W0,sa.AcroFormComboBox=H0,sa.AcroFormEditBox=u2,sa.AcroFormButton=Ja,sa.AcroFormPushButton=f2,sa.AcroFormRadioButton=G0,sa.AcroFormCheckBox=d2,sa.AcroFormTextField=Wd,sa.AcroFormPasswordField=h2,sa.AcroFormAppearance=sr,sa.AcroForm={ChoiceField:q0,ListBox:W0,ComboBox:H0,EditBox:u2,Button:Ja,PushButton:f2,RadioButton:G0,CheckBox:d2,TextField:Wd,PasswordField:h2,Appearance:sr},yr.AcroForm={ChoiceField:q0,ListBox:W0,ComboBox:H0,EditBox:u2,Button:Ja,PushButton:f2,RadioButton:G0,CheckBox:d2,TextField:Wd,PasswordField:h2,Appearance:sr};function kK(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(E,N){var O,U,Y,K,J,z=t;if((N=N||t)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(I(E))for(J in r)for(Y=r[J],O=0;O<Y.length;O+=1){for(K=!0,U=0;U<Y[O].length;U+=1)if(Y[O][U]!==void 0&&Y[O][U]!==E[U]){K=!1;break}if(K===!0){z=J;break}}else for(J in r)for(Y=r[J],O=0;O<Y.length;O+=1){for(K=!0,U=0;U<Y[O].length;U+=1)if(Y[O][U]!==void 0&&Y[O][U]!==E.charCodeAt(U)){K=!1;break}if(K===!0){z=J;break}}return z===t&&N!==t&&(z=N),z},a=function E(N){for(var O=this.internal.write,U=this.internal.putStream,Y=(0,this.internal.getFilters)();Y.indexOf("FlateEncode")!==-1;)Y.splice(Y.indexOf("FlateEncode"),1);N.objectId=this.internal.newObject();var K=[];if(K.push({key:"Type",value:"/XObject"}),K.push({key:"Subtype",value:"/Image"}),K.push({key:"Width",value:N.width}),K.push({key:"Height",value:N.height}),N.colorSpace===v.INDEXED?K.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(N.palette.length/3-1)+" "+("sMask"in N&&N.sMask!==void 0?N.objectId+2:N.objectId+1)+" 0 R]"}):(K.push({key:"ColorSpace",value:"/"+N.colorSpace}),N.colorSpace===v.DEVICE_CMYK&&K.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),K.push({key:"BitsPerComponent",value:N.bitsPerComponent}),"decodeParameters"in N&&N.decodeParameters!==void 0&&K.push({key:"DecodeParms",value:"<<"+N.decodeParameters+">>"}),"transparency"in N&&Array.isArray(N.transparency)){for(var J="",z=0,V=N.transparency.length;z<V;z++)J+=N.transparency[z]+" "+N.transparency[z]+" ";K.push({key:"Mask",value:"["+J+"]"})}N.sMask!==void 0&&K.push({key:"SMask",value:N.objectId+1+" 0 R"});var ee=N.filter!==void 0?["/"+N.filter]:void 0;if(U({data:N.data,additionalKeyValues:K,alreadyAppliedFilters:ee,objectId:N.objectId}),O("endobj"),"sMask"in N&&N.sMask!==void 0){var Z="/Predictor "+N.predictor+" /Colors 1 /BitsPerComponent "+N.bitsPerComponent+" /Columns "+N.width,k={width:N.width,height:N.height,colorSpace:"DeviceGray",bitsPerComponent:N.bitsPerComponent,decodeParameters:Z,data:N.sMask};"filter"in N&&(k.filter=N.filter),E.call(this,k)}if(N.colorSpace===v.INDEXED){var R=this.internal.newObject();U({data:_(new Uint8Array(N.palette)),objectId:R}),O("endobj")}},i=function(){var E=this.internal.collections.addImage_images;for(var N in E)a.call(this,E[N])},s=function(){var E,N=this.internal.collections.addImage_images,O=this.internal.write;for(var U in N)O("/I"+(E=N[U]).index,E.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",s))},l=function(){var E=this.internal.collections.addImage_images;return o.call(this),E},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(E){return typeof e["process"+E.toUpperCase()]=="function"},f=function(E){return fn(E)==="object"&&E.nodeType===1},h=function(E,N){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var O=""+E.getAttribute("src");if(O.indexOf("data:image/")===0)return Zg(unescape(O).split("base64,").pop());var U=e.loadFile(O,!0);if(U!==void 0)return U}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var Y;switch(N){case"PNG":Y="image/png";break;case"WEBP":Y="image/webp";break;case"JPEG":case"JPG":default:Y="image/jpeg"}return Zg(E.toDataURL(Y,1).split("base64,").pop())}},p=function(E){var N=this.internal.collections.addImage_images;if(N){for(var O in N)if(E===N[O].alias)return N[O]}},g=function(E,N,O){return E||N||(E=-96,N=-96),E<0&&(E=-1*O.width*72/E/this.internal.scaleFactor),N<0&&(N=-1*O.height*72/N/this.internal.scaleFactor),E===0&&(E=N*O.width/O.height),N===0&&(N=E*O.height/O.width),[E,N]},m=function(E,N,O,U,Y,K){var J=g.call(this,O,U,Y),z=this.internal.getCoordinateString,V=this.internal.getVerticalCoordinateString,ee=l.call(this);if(O=J[0],U=J[1],ee[Y.index]=Y,K){K*=Math.PI/180;var Z=Math.cos(K),k=Math.sin(K),R=function(G){return G.toFixed(4)},q=[R(Z),R(k),R(-1*k),R(Z),0,0,"cm"]}this.internal.write("q"),K?(this.internal.write([1,"0","0",1,z(E),V(N+U),"cm"].join(" ")),this.internal.write(q.join(" ")),this.internal.write([z(O),"0","0",z(U),"0","0","cm"].join(" "))):this.internal.write([z(O),"0","0",z(U),z(E),V(N+U),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Y.index+" Do"),this.internal.write("Q")},v=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=e.__addimage__.sHashCode=function(E){var N,O,U=0;if(typeof E=="string")for(O=E.length,N=0;N<O;N++)U=(U<<5)-U+E.charCodeAt(N),U|=0;else if(I(E))for(O=E.byteLength/2,N=0;N<O;N++)U=(U<<5)-U+E[N],U|=0;return U},w=e.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var N=!0;return E.length===0&&(N=!1),E.length%4!=0&&(N=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(N=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(N=!1),N},D=e.__addimage__.extractImageFromDataUrl=function(E){if(E==null||!(E=E.trim()).startsWith("data:"))return null;var N=E.indexOf(",");return N<0?null:E.substring(0,N).trim().endsWith("base64")?E.substring(N+1):null},P=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(E){return P()&&E instanceof ArrayBuffer};var I=e.__addimage__.isArrayBufferView=function(E){return P()&&typeof Uint32Array<"u"&&(E instanceof Int8Array||E instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array)},T=e.__addimage__.binaryStringToUint8Array=function(E){for(var N=E.length,O=new Uint8Array(N),U=0;U<N;U++)O[U]=E.charCodeAt(U);return O},_=e.__addimage__.arrayBufferToBinaryString=function(E){for(var N="",O=I(E)?E:new Uint8Array(E),U=0;U<O.length;U+=8192)N+=String.fromCharCode.apply(null,O.subarray(U,U+8192));return N};e.addImage=function(){var E,N,O,U,Y,K,J,z,V;if(typeof arguments[1]=="number"?(N=t,O=arguments[1],U=arguments[2],Y=arguments[3],K=arguments[4],J=arguments[5],z=arguments[6],V=arguments[7]):(N=arguments[1],O=arguments[2],U=arguments[3],Y=arguments[4],K=arguments[5],J=arguments[6],z=arguments[7],V=arguments[8]),fn(E=arguments[0])==="object"&&!f(E)&&"imageData"in E){var ee=E;E=ee.imageData,N=ee.format||N||t,O=ee.x||O||0,U=ee.y||U||0,Y=ee.w||ee.width||Y,K=ee.h||ee.height||K,J=ee.alias||J,z=ee.compression||z,V=ee.rotation||ee.angle||V}var Z=this.internal.getFilters();if(z===void 0&&Z.indexOf("FlateEncode")!==-1&&(z="SLOW"),isNaN(O)||isNaN(U))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var k=S.call(this,E,N,J,z);return m.call(this,O,U,Y,K,k,V),this};var S=function(E,N,O,U){var Y,K,J;if(typeof E=="string"&&n(E)===t){E=unescape(E);var z=j(E,!1);(z!==""||(z=e.loadFile(E,!0))!==void 0)&&(E=z)}if(f(E)&&(E=h(E,N)),N=n(E,N),!u(N))throw new Error("addImage does not support files of type '"+N+"', please ensure that a plugin for '"+N+"' support is added.");if(((J=O)==null||J.length===0)&&(O=function(V){return typeof V=="string"||I(V)?b(V):I(V.data)?b(V.data):null}(E)),(Y=p.call(this,O))||(P()&&(E instanceof Uint8Array||N==="RGBA"||(K=E,E=T(E))),Y=this["process"+N.toUpperCase()](E,c.call(this),O,function(V){return V&&typeof V=="string"&&(V=V.toUpperCase()),V in e.image_compression?V:y.NONE}(U),K)),!Y)throw new Error("An unknown error occurred whilst processing the image.");return Y},j=e.__addimage__.convertBase64ToBinaryString=function(E,N){N=typeof N!="boolean"||N;var O,U="";if(typeof E=="string"){var Y;O=(Y=D(E))!==null&&Y!==void 0?Y:E;try{U=Zg(O)}catch(K){if(N)throw w(O)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+K.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return U};e.getImageProperties=function(E){var N,O,U="";if(f(E)&&(E=h(E)),typeof E=="string"&&n(E)===t&&((U=j(E,!1))===""&&(U=e.loadFile(E)||""),E=U),O=n(E),!u(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(!P()||E instanceof Uint8Array||(E=T(E)),!(N=this["process"+O.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return N.fileType=O,N}})(yr.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};yr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,u=!1,f=0;f<c.length&&!u;f++)switch((n=c[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var h=0;h<c.length;h++){n=c[h];var p=this.internal.pdfEscape,g=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(m.objId),b=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+p(y(n.contents))+")",i+=" /Popup "+v.objId+" 0 R",i+=" /P "+l.objId+" 0 R",i+=" /T ("+p(y(b))+") >>",m.content=i;var w=m.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+w,n.open&&(i+=" /Open true"),i+=" >>",v.content=i,this.internal.write(m.objId,"0 R",v.objId,"0 R");break;case"freetext":a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var D=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+p(g(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+D+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var P=this.annotations._nameMap[n.options.name];n.options.pageNumber=P.page,n.options.top=P.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+p(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var I=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+I+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,s){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+a),h:c(n+i)},options:s,type:"link"})},e.textWithLink=function(r,n,a,i){var s,o,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var u=this.splitTextToSize(r,o).length;s=Math.ceil(c*u)}else o=l,s=c;return this.text(r,n,a,i),a+=.2*c,i.align==="center"&&(n-=l/2),i.align==="right"&&(n-=l),this.link(n,a-c,o,s,i),l},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(yr.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(m){return t[m.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},o=e.__arabicParser__.isArabicEndLetter=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(m){return s(m)&&a.indexOf(m.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(m){var v=0,y=r,b="",w=0;for(v=0;v<m.length;v+=1)y[m.charCodeAt(v)]!==void 0?(w++,typeof(y=y[m.charCodeAt(v)])=="number"&&(b+=String.fromCharCode(y),y=r,w=0),v===m.length-1&&(y=r,b+=m.charAt(v-(w-1)),v-=w-1,w=0)):(y=r,b+=m.charAt(v-w),v-=w,w=0);return b};e.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&n[m.charCodeAt(0)]!==void 0};var h=e.__arabicParser__.getCorrectForm=function(m,v,y){return s(m)?i(m)===!1?-1:!c(m)||!s(v)&&!s(y)||!s(y)&&o(v)||o(m)&&!s(v)||o(m)&&l(v)||o(m)&&o(v)?0:u(m)&&s(v)&&!o(v)&&s(y)&&c(y)?3:o(m)||!s(y)?1:2:-1},p=function(m){var v=0,y=0,b=0,w="",D="",P="",I=(m=m||"").split("\\s+"),T=[];for(v=0;v<I.length;v+=1){for(T.push(""),y=0;y<I[v].length;y+=1)w=I[v][y],D=I[v][y-1],P=I[v][y+1],s(w)?(b=h(w,D,P),T[v]+=b!==-1?String.fromCharCode(t[w.charCodeAt(0)][b]):w):T[v]+=w;T[v]=f(T[v])}return T.join(" ")},g=e.__arabicParser__.processArabic=e.processArabic=function(){var m,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(v)){var b=0;for(y=[],b=0;b<v.length;b+=1)Array.isArray(v[b])?y.push([p(v[b][0]),v[b][1],v[b][2]]):y.push([p(v[b])]);m=y}else m=p(v);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};e.events.push(["preProcessText",g])}(yr.API),yr.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(o){a=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(yr.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(m){l=m}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(m){c=m}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(m){f=m}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(m){p=m}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(m){g=m}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,c){n.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),h=c.scaleFactor||this.internal.scaleFactor,p=0,g=0,m=0,v=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var y=c.maxWidth;y>0?typeof l=="string"?l=this.splitTextToSize(l,y):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(w,D){return w.concat(v.splitTextToSize(D,y))},[])):l=Array.isArray(l)?l:[l];for(var b=0;b<l.length;b++)p<(m=this.getStringUnitWidth(l[b],{font:f})*u)&&(p=m);return p!==0&&(g=l.length),{w:p/=h,h:Math.max((g*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/h,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var l;l=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,p&&h&&(this.printHeaderRow(l.lineNumber,!0),l.y+=h[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};e.table=function(l,c,u,f,h){if(n.call(this),!u)throw new Error("No data for PDF table.");var p,g,m,v,y=[],b=[],w=[],D={},P={},I=[],T=[],_=(h=h||{}).autoSize||!1,S=h.printHeaders!==!1,j=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,E=h.margins||Object.assign({width:this.getPageWidth()},t),N=typeof h.padding=="number"?h.padding:3,O=h.headerBackgroundColor||"#c8c8c8",U=h.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=S,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=j,this.internal.__cell__.padding=N,this.internal.__cell__.headerBackgroundColor=O,this.internal.__cell__.headerTextColor=U,this.setFontSize(j),f==null)b=y=Object.keys(u[0]),w=y.map(function(){return"left"});else if(Array.isArray(f)&&fn(f[0])==="object")for(y=f.map(function(ee){return ee.name}),b=f.map(function(ee){return ee.prompt||ee.name||""}),w=f.map(function(ee){return ee.align||"left"}),p=0;p<f.length;p+=1)P[f[p].name]=f[p].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(b=y=f,w=y.map(function(){return"left"}));if(_||Array.isArray(f)&&typeof f[0]=="string")for(p=0;p<y.length;p+=1){for(D[v=y[p]]=u.map(function(ee){return ee[v]}),this.setFont(void 0,"bold"),I.push(this.getTextDimensions(b[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=D[v],this.setFont(void 0,"normal"),m=0;m<g.length;m+=1)I.push(this.getTextDimensions(g[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);P[v]=Math.max.apply(null,I)+N+N,I=[]}if(S){var Y={};for(p=0;p<y.length;p+=1)Y[y[p]]={},Y[y[p]].text=b[p],Y[y[p]].align=w[p];var K=o.call(this,Y,P);T=y.map(function(ee){return new i(l,c,P[ee],K,Y[ee].text,void 0,Y[ee].align)}),this.setTableHeaderRow(T),this.printHeaderRow(1,!1)}var J=f.reduce(function(ee,Z){return ee[Z.name]=Z.align,ee},{});for(p=0;p<u.length;p+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:p,data:u[p]},this);var z=o.call(this,u[p],P);for(m=0;m<y.length;m+=1){var V=u[p][y[m]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:p,col:m,data:V},this),s.call(this,new i(l,c,P[y[m]],z,V,p+2,J[y[m]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(l).map(function(p){var g=l[p];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,c[p]-u-u)},this).map(function(p){return this.getLineHeightFactor()*p.length*f/h+u+u},this).reduce(function(p,g){return Math.max(p,g)},0)};e.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){u=this.internal.__cell__.tableHeaderRow[p].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,h.push(u)),u.lineNumber=l;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,u),this.setTextColor(g)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}}(yr.API);var CK={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},PK=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],mE=kK(PK),OK=[100,200,300,400,500,600,700,800,900],f9e=kK(OK);function gE(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return CK[i=i||"normal"]?i:"normal"}(e.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(i){return typeof mE[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function m7(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var d9e={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},g7={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function v7(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function h9e(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},d9e,r.genericFontFamilies||{}),i=null,s=null,o=0;o<t.length;++o)if(a[(i=gE(t[o])).family]&&(i.family=a[i.family]),e.hasOwnProperty(i.family)){s=e[i.family];break}if(!(s=s||e[n]))throw new Error("Could not find a font-family for the rule '"+v7(i)+"' and default family '"+n+"'.");if(s=function(l,c){if(c[l])return c[l];var u=mE[l],f=u<=mE.normal?-1:1,h=m7(c,PK,u,f);if(!h)throw new Error("Could not find a matching font-stretch value for "+l);return h}(i.stretch,s),s=function(l,c){if(c[l])return c[l];for(var u=CK[l],f=0;f<u.length;++f)if(c[u[f]])return c[u[f]];throw new Error("Could not find a matching font-style for "+l)}(i.style,s),!(s=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var u=f9e[l],f=m7(c,OK,u,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f}(i.weight,s)))throw new Error("Failed to resolve a font for the rule '"+v7(i)+"'.");return s}function y7(e){return e.trimLeft()}function p9e(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function m9e(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Fx,x7,b7,NA=["times"];(function(e){var t,r,n,a,i,s,o,l,c,u=function(k){return k=k||{},this.isStrokeTransparent=k.isStrokeTransparent||!1,this.strokeOpacity=k.strokeOpacity||1,this.strokeStyle=k.strokeStyle||"#000000",this.fillStyle=k.fillStyle||"#000000",this.isFillTransparent=k.isFillTransparent||!1,this.fillOpacity=k.fillOpacity||1,this.font=k.font||"10px sans-serif",this.textBaseline=k.textBaseline||"alphabetic",this.textAlign=k.textAlign||"left",this.lineWidth=k.lineWidth||1,this.lineJoin=k.lineJoin||"miter",this.lineCap=k.lineCap||"butt",this.path=k.path||[],this.transform=k.transform!==void 0?k.transform.clone():new l,this.globalCompositeOperation=k.globalCompositeOperation||"normal",this.globalAlpha=k.globalAlpha||1,this.clip_path=k.clip_path||[],this.currentPoint=k.currentPoint||new s,this.miterLimit=k.miterLimit||10,this.lastPoint=k.lastPoint||new s,this.lineDashOffset=k.lineDashOffset||0,this.lineDash=k.lineDash||[],this.margin=k.margin||[0,0,0,0],this.prevPageLastElemOffset=k.prevPageLastElemOffset||0,this.ignoreClearRect=typeof k.ignoreClearRect!="boolean"||k.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var f=function(k){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var R=k;Object.defineProperty(this,"pdf",{get:function(){return R}});var q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return q},set:function(Ee){q=!!Ee}});var G=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return G},set:function(Ee){G=!!Ee}});var Q=0;Object.defineProperty(this,"posX",{get:function(){return Q},set:function(Ee){isNaN(Ee)||(Q=Ee)}});var ie=0;Object.defineProperty(this,"posY",{get:function(){return ie},set:function(Ee){isNaN(Ee)||(ie=Ee)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(Ee){var oe;typeof Ee=="number"?oe=[Ee,Ee,Ee,Ee]:((oe=new Array(4))[0]=Ee[0],oe[1]=Ee.length>=2?Ee[1]:oe[0],oe[2]=Ee.length>=3?Ee[2]:oe[0],oe[3]=Ee.length>=4?Ee[3]:oe[1]),c.margin=oe}});var ue=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ue},set:function(Ee){ue=Ee}});var ne=0;Object.defineProperty(this,"lastBreak",{get:function(){return ne},set:function(Ee){ne=Ee}});var pe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return pe},set:function(Ee){pe=Ee}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(Ee){Ee instanceof u&&(c=Ee)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(Ee){c.path=Ee}});var ye=[];Object.defineProperty(this,"ctxStack",{get:function(){return ye},set:function(Ee){ye=Ee}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ee){var oe;oe=h(Ee),this.ctx.fillStyle=oe.style,this.ctx.isFillTransparent=oe.a===0,this.ctx.fillOpacity=oe.a,this.pdf.setFillColor(oe.r,oe.g,oe.b,{a:oe.a}),this.pdf.setTextColor(oe.r,oe.g,oe.b,{a:oe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ee){var oe=h(Ee);this.ctx.strokeStyle=oe.style,this.ctx.isStrokeTransparent=oe.a===0,this.ctx.strokeOpacity=oe.a,oe.a===0?this.pdf.setDrawColor(255,255,255):(oe.a,this.pdf.setDrawColor(oe.r,oe.g,oe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ee){["butt","round","square"].indexOf(Ee)!==-1&&(this.ctx.lineCap=Ee,this.pdf.setLineCap(Ee))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ee){isNaN(Ee)||(this.ctx.lineWidth=Ee,this.pdf.setLineWidth(Ee))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ee){["bevel","round","miter"].indexOf(Ee)!==-1&&(this.ctx.lineJoin=Ee,this.pdf.setLineJoin(Ee))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ee){isNaN(Ee)||(this.ctx.miterLimit=Ee,this.pdf.setMiterLimit(Ee))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ee){this.ctx.textBaseline=Ee}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ee){["right","end","center","left","start"].indexOf(Ee)!==-1&&(this.ctx.textAlign=Ee)}});var W=null;function Pe(Ee,oe){if(W===null){var ve=function(De){var Te=[];return Object.keys(De).forEach(function(Re){De[Re].forEach(function(Ne){var qe=null;switch(Ne){case"bold":qe={family:Re,weight:"bold"};break;case"italic":qe={family:Re,style:"italic"};break;case"bolditalic":qe={family:Re,weight:"bold",style:"italic"};break;case"":case"normal":qe={family:Re}}qe!==null&&(qe.ref={name:Re,style:Ne},Te.push(qe))})}),Te}(Ee.getFontList());W=function(De){for(var Te={},Re=0;Re<De.length;++Re){var Ne=gE(De[Re]),qe=Ne.family,je=Ne.stretch,Je=Ne.style,ut=Ne.weight;Te[qe]=Te[qe]||{},Te[qe][je]=Te[qe][je]||{},Te[qe][je][Je]=Te[qe][je][Je]||{},Te[qe][je][Je][ut]=Ne}return Te}(ve.concat(oe))}return W}var Ce=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ce},set:function(Ee){W=null,Ce=Ee}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ee){var oe;if(this.ctx.font=Ee,(oe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ee))!==null){var ve=oe[1];oe[2];var De=oe[3],Te=oe[4];oe[5];var Re=oe[6],Ne=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Te)[2];Te=Math.floor(Ne==="px"?parseFloat(Te)*this.pdf.internal.scaleFactor:Ne==="em"?parseFloat(Te)*this.pdf.getFontSize():parseFloat(Te)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Te);var qe=function(Pt){var _t,nt,nr=[],Wt=Pt.trim();if(Wt==="")return NA;if(Wt in g7)return[g7[Wt]];for(;Wt!=="";){switch(nt=null,_t=(Wt=y7(Wt)).charAt(0)){case'"':case"'":nt=p9e(Wt.substring(1),_t);break;default:nt=m9e(Wt)}if(nt===null||(nr.push(nt[0]),(Wt=y7(nt[1]))!==""&&Wt.charAt(0)!==","))return NA;Wt=Wt.replace(/^,/,"")}return nr}(Re);if(this.fontFaces){var je=h9e(Pe(this.pdf,this.fontFaces),qe.map(function(Pt){return{family:Pt,stretch:"normal",weight:De,style:ve}}));this.pdf.setFont(je.ref.name,je.ref.style)}else{var Je="";(De==="bold"||parseInt(De,10)>=700||ve==="bold")&&(Je="bold"),ve==="italic"&&(Je+="italic"),Je.length===0&&(Je="normal");for(var ut="",ot={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},wt=0;wt<qe.length;wt++){if(this.pdf.internal.getFont(qe[wt],Je,{noFallback:!0,disableWarning:!0})!==void 0){ut=qe[wt];break}if(Je==="bolditalic"&&this.pdf.internal.getFont(qe[wt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ut=qe[wt],Je="bold";else if(this.pdf.internal.getFont(qe[wt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ut=qe[wt],Je="normal";break}}if(ut===""){for(var kt=0;kt<qe.length;kt++)if(ot[qe[kt]]){ut=ot[qe[kt]];break}}ut=ut===""?"Times":ut,this.pdf.setFont(ut,Je)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ee){this.ctx.globalCompositeOperation=Ee}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ee){this.ctx.globalAlpha=Ee}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ee){this.ctx.lineDashOffset=Ee,Z.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ee){this.ctx.lineDash=Ee,Z.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ee){this.ctx.ignoreClearRect=!!Ee}})};f.prototype.setLineDash=function(k){this.lineDash=k},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){D.call(this,"fill",!1)},f.prototype.stroke=function(){D.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(k,R){if(isNaN(k)||isNaN(R))throw In.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var q=this.ctx.transform.applyToPoint(new s(k,R));this.path.push({type:"mt",x:q.x,y:q.y}),this.ctx.lastPoint=new s(k,R)},f.prototype.closePath=function(){var k=new s(0,0),R=0;for(R=this.path.length-1;R!==-1;R--)if(this.path[R].type==="begin"&&fn(this.path[R+1])==="object"&&typeof this.path[R+1].x=="number"){k=new s(this.path[R+1].x,this.path[R+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(k.x,k.y)},f.prototype.lineTo=function(k,R){if(isNaN(k)||isNaN(R))throw In.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var q=this.ctx.transform.applyToPoint(new s(k,R));this.path.push({type:"lt",x:q.x,y:q.y}),this.ctx.lastPoint=new s(q.x,q.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),D.call(this,null,!0)},f.prototype.quadraticCurveTo=function(k,R,q,G){if(isNaN(q)||isNaN(G)||isNaN(k)||isNaN(R))throw In.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Q=this.ctx.transform.applyToPoint(new s(q,G)),ie=this.ctx.transform.applyToPoint(new s(k,R));this.path.push({type:"qct",x1:ie.x,y1:ie.y,x:Q.x,y:Q.y}),this.ctx.lastPoint=new s(Q.x,Q.y)},f.prototype.bezierCurveTo=function(k,R,q,G,Q,ie){if(isNaN(Q)||isNaN(ie)||isNaN(k)||isNaN(R)||isNaN(q)||isNaN(G))throw In.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ue=this.ctx.transform.applyToPoint(new s(Q,ie)),ne=this.ctx.transform.applyToPoint(new s(k,R)),pe=this.ctx.transform.applyToPoint(new s(q,G));this.path.push({type:"bct",x1:ne.x,y1:ne.y,x2:pe.x,y2:pe.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new s(ue.x,ue.y)},f.prototype.arc=function(k,R,q,G,Q,ie){if(isNaN(k)||isNaN(R)||isNaN(q)||isNaN(G)||isNaN(Q))throw In.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ie=!!ie,!this.ctx.transform.isIdentity){var ue=this.ctx.transform.applyToPoint(new s(k,R));k=ue.x,R=ue.y;var ne=this.ctx.transform.applyToPoint(new s(0,q)),pe=this.ctx.transform.applyToPoint(new s(0,0));q=Math.sqrt(Math.pow(ne.x-pe.x,2)+Math.pow(ne.y-pe.y,2))}Math.abs(Q-G)>=2*Math.PI&&(G=0,Q=2*Math.PI),this.path.push({type:"arc",x:k,y:R,radius:q,startAngle:G,endAngle:Q,counterclockwise:ie})},f.prototype.arcTo=function(k,R,q,G,Q){throw new Error("arcTo not implemented.")},f.prototype.rect=function(k,R,q,G){if(isNaN(k)||isNaN(R)||isNaN(q)||isNaN(G))throw In.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(k,R),this.lineTo(k+q,R),this.lineTo(k+q,R+G),this.lineTo(k,R+G),this.lineTo(k,R),this.lineTo(k+q,R),this.lineTo(k,R)},f.prototype.fillRect=function(k,R,q,G){if(isNaN(k)||isNaN(R)||isNaN(q)||isNaN(G))throw In.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var Q={};this.lineCap!=="butt"&&(Q.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Q.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(k,R,q,G),this.fill(),Q.hasOwnProperty("lineCap")&&(this.lineCap=Q.lineCap),Q.hasOwnProperty("lineJoin")&&(this.lineJoin=Q.lineJoin)}},f.prototype.strokeRect=function(k,R,q,G){if(isNaN(k)||isNaN(R)||isNaN(q)||isNaN(G))throw In.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(k,R,q,G),this.stroke())},f.prototype.clearRect=function(k,R,q,G){if(isNaN(k)||isNaN(R)||isNaN(q)||isNaN(G))throw In.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(k,R,q,G))},f.prototype.save=function(k){k=typeof k!="boolean"||k;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("q");if(this.pdf.setPage(R),k){this.ctx.fontSize=this.pdf.internal.getFontSize();var G=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=G}},f.prototype.restore=function(k){k=typeof k!="boolean"||k;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("Q");this.pdf.setPage(R),k&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(k){var R,q,G,Q;if(k.isCanvasGradient===!0&&(k=k.getColor()),!k)return{r:0,g:0,b:0,a:0,style:k};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(k))R=0,q=0,G=0,Q=0;else{var ie=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(k);if(ie!==null)R=parseInt(ie[1]),q=parseInt(ie[2]),G=parseInt(ie[3]),Q=1;else if((ie=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(k))!==null)R=parseInt(ie[1]),q=parseInt(ie[2]),G=parseInt(ie[3]),Q=parseFloat(ie[4]);else{if(Q=1,typeof k=="string"&&k.charAt(0)!=="#"){var ue=new _K(k);k=ue.ok?ue.toHex():"#000000"}k.length===4?(R=k.substring(1,2),R+=R,q=k.substring(2,3),q+=q,G=k.substring(3,4),G+=G):(R=k.substring(1,3),q=k.substring(3,5),G=k.substring(5,7)),R=parseInt(R,16),q=parseInt(q,16),G=parseInt(G,16)}}return{r:R,g:q,b:G,a:Q,style:k}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(k,R,q,G){if(isNaN(R)||isNaN(q)||typeof k!="string")throw In.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(G=isNaN(G)?void 0:G,!p.call(this)){var Q=z(this.ctx.transform.rotation),ie=this.ctx.transform.scaleX;N.call(this,{text:k,x:R,y:q,scale:ie,angle:Q,align:this.textAlign,maxWidth:G})}},f.prototype.strokeText=function(k,R,q,G){if(isNaN(R)||isNaN(q)||typeof k!="string")throw In.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){G=isNaN(G)?void 0:G;var Q=z(this.ctx.transform.rotation),ie=this.ctx.transform.scaleX;N.call(this,{text:k,x:R,y:q,scale:ie,renderingMode:"stroke",angle:Q,align:this.textAlign,maxWidth:G})}},f.prototype.measureText=function(k){if(typeof k!="string")throw In.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var R=this.pdf,q=this.pdf.internal.scaleFactor,G=R.internal.getFontSize(),Q=R.getStringUnitWidth(k)*G/R.internal.scaleFactor,ie=function(ue){var ne=(ue=ue||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ne}}),this};return new ie({width:Q*=Math.round(96*q/72*1e4)/1e4})},f.prototype.scale=function(k,R){if(isNaN(k)||isNaN(R))throw In.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var q=new l(k,0,0,R,0,0);this.ctx.transform=this.ctx.transform.multiply(q)},f.prototype.rotate=function(k){if(isNaN(k))throw In.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var R=new l(Math.cos(k),Math.sin(k),-Math.sin(k),Math.cos(k),0,0);this.ctx.transform=this.ctx.transform.multiply(R)},f.prototype.translate=function(k,R){if(isNaN(k)||isNaN(R))throw In.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var q=new l(1,0,0,1,k,R);this.ctx.transform=this.ctx.transform.multiply(q)},f.prototype.transform=function(k,R,q,G,Q,ie){if(isNaN(k)||isNaN(R)||isNaN(q)||isNaN(G)||isNaN(Q)||isNaN(ie))throw In.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ue=new l(k,R,q,G,Q,ie);this.ctx.transform=this.ctx.transform.multiply(ue)},f.prototype.setTransform=function(k,R,q,G,Q,ie){k=isNaN(k)?1:k,R=isNaN(R)?0:R,q=isNaN(q)?0:q,G=isNaN(G)?1:G,Q=isNaN(Q)?0:Q,ie=isNaN(ie)?0:ie,this.ctx.transform=new l(k,R,q,G,Q,ie)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(k,R,q,G,Q,ie,ue,ne,pe){var ye=this.pdf.getImageProperties(k),W=1,Pe=1,Ce=1,Ee=1;G!==void 0&&ne!==void 0&&(Ce=ne/G,Ee=pe/Q,W=ye.width/G*ne/G,Pe=ye.height/Q*pe/Q),ie===void 0&&(ie=R,ue=q,R=0,q=0),G!==void 0&&ne===void 0&&(ne=G,pe=Q),G===void 0&&ne===void 0&&(ne=ye.width,pe=ye.height);for(var oe,ve=this.ctx.transform.decompose(),De=z(ve.rotate.shx),Te=new l,Re=(Te=(Te=(Te=Te.multiply(ve.translate)).multiply(ve.skew)).multiply(ve.scale)).applyToRectangle(new o(ie-R*Ce,ue-q*Ee,G*W,Q*Pe)),Ne=v.call(this,Re),qe=[],je=0;je<Ne.length;je+=1)qe.indexOf(Ne[je])===-1&&qe.push(Ne[je]);if(w(qe),this.autoPaging)for(var Je=qe[0],ut=qe[qe.length-1],ot=Je;ot<ut+1;ot++){this.pdf.setPage(ot);var wt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],kt=ot===1?this.posY+this.margin[0]:this.margin[0],Pt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_t=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],nt=ot===1?0:Pt+(ot-2)*_t;if(this.ctx.clip_path.length!==0){var nr=this.path;oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(oe,this.posX+this.margin[3],-nt+kt+this.ctx.prevPageLastElemOffset),P.call(this,"fill",!0),this.path=nr}var Wt=JSON.parse(JSON.stringify(Re));Wt=b([Wt],this.posX+this.margin[3],-nt+kt+this.ctx.prevPageLastElemOffset)[0];var zr=(ot>Je||ot<ut)&&m.call(this);zr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],wt,_t,null).clip().discardPath()),this.pdf.addImage(k,"JPEG",Wt.x,Wt.y,Wt.w,Wt.h,null,null,De),zr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(k,"JPEG",Re.x,Re.y,Re.w,Re.h,null,null,De)};var v=function(k,R,q){var G=[];R=R||this.pdf.internal.pageSize.width,q=q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Q=this.posY+this.ctx.prevPageLastElemOffset;switch(k.type){default:case"mt":case"lt":G.push(Math.floor((k.y+Q)/q)+1);break;case"arc":G.push(Math.floor((k.y+Q-k.radius)/q)+1),G.push(Math.floor((k.y+Q+k.radius)/q)+1);break;case"qct":var ie=V(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x,k.y);G.push(Math.floor((ie.y+Q)/q)+1),G.push(Math.floor((ie.y+ie.h+Q)/q)+1);break;case"bct":var ue=ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x2,k.y2,k.x,k.y);G.push(Math.floor((ue.y+Q)/q)+1),G.push(Math.floor((ue.y+ue.h+Q)/q)+1);break;case"rect":G.push(Math.floor((k.y+Q)/q)+1),G.push(Math.floor((k.y+k.h+Q)/q)+1)}for(var ne=0;ne<G.length;ne+=1)for(;this.pdf.internal.getNumberOfPages()<G[ne];)y.call(this);return G},y=function(){var k=this.fillStyle,R=this.strokeStyle,q=this.font,G=this.lineCap,Q=this.lineWidth,ie=this.lineJoin;this.pdf.addPage(),this.fillStyle=k,this.strokeStyle=R,this.font=q,this.lineCap=G,this.lineWidth=Q,this.lineJoin=ie},b=function(k,R,q){for(var G=0;G<k.length;G++)switch(k[G].type){case"bct":k[G].x2+=R,k[G].y2+=q;case"qct":k[G].x1+=R,k[G].y1+=q;case"mt":case"lt":case"arc":default:k[G].x+=R,k[G].y+=q}return k},w=function(k){return k.sort(function(R,q){return R-q})},D=function(k,R){for(var q,G,Q=this.fillStyle,ie=this.strokeStyle,ue=this.lineCap,ne=this.lineWidth,pe=Math.abs(ne*this.ctx.transform.scaleX),ye=this.lineJoin,W=JSON.parse(JSON.stringify(this.path)),Pe=JSON.parse(JSON.stringify(this.path)),Ce=[],Ee=0;Ee<Pe.length;Ee++)if(Pe[Ee].x!==void 0)for(var oe=v.call(this,Pe[Ee]),ve=0;ve<oe.length;ve+=1)Ce.indexOf(oe[ve])===-1&&Ce.push(oe[ve]);for(var De=0;De<Ce.length;De++)for(;this.pdf.internal.getNumberOfPages()<Ce[De];)y.call(this);if(w(Ce),this.autoPaging)for(var Te=Ce[0],Re=Ce[Ce.length-1],Ne=Te;Ne<Re+1;Ne++){this.pdf.setPage(Ne),this.fillStyle=Q,this.strokeStyle=ie,this.lineCap=ue,this.lineWidth=pe,this.lineJoin=ye;var qe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],je=Ne===1?this.posY+this.margin[0]:this.margin[0],Je=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ut=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ot=Ne===1?0:Je+(Ne-2)*ut;if(this.ctx.clip_path.length!==0){var wt=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(q,this.posX+this.margin[3],-ot+je+this.ctx.prevPageLastElemOffset),P.call(this,k,!0),this.path=wt}if(G=JSON.parse(JSON.stringify(W)),this.path=b(G,this.posX+this.margin[3],-ot+je+this.ctx.prevPageLastElemOffset),R===!1||Ne===0){var kt=(Ne>Te||Ne<Re)&&m.call(this);kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],qe,ut,null).clip().discardPath()),P.call(this,k,R),kt&&this.pdf.restoreGraphicsState()}this.lineWidth=ne}else this.lineWidth=pe,P.call(this,k,R),this.lineWidth=ne;this.path=W},P=function(k,R){if((k!=="stroke"||R||!g.call(this))&&(k==="stroke"||R||!p.call(this))){for(var q,G,Q=[],ie=this.path,ue=0;ue<ie.length;ue++){var ne=ie[ue];switch(ne.type){case"begin":Q.push({begin:!0});break;case"close":Q.push({close:!0});break;case"mt":Q.push({start:ne,deltas:[],abs:[]});break;case"lt":var pe=Q.length;if(ie[ue-1]&&!isNaN(ie[ue-1].x)&&(q=[ne.x-ie[ue-1].x,ne.y-ie[ue-1].y],pe>0)){for(;pe>=0;pe--)if(Q[pe-1].close!==!0&&Q[pe-1].begin!==!0){Q[pe-1].deltas.push(q),Q[pe-1].abs.push(ne);break}}break;case"bct":q=[ne.x1-ie[ue-1].x,ne.y1-ie[ue-1].y,ne.x2-ie[ue-1].x,ne.y2-ie[ue-1].y,ne.x-ie[ue-1].x,ne.y-ie[ue-1].y],Q[Q.length-1].deltas.push(q);break;case"qct":var ye=ie[ue-1].x+2/3*(ne.x1-ie[ue-1].x),W=ie[ue-1].y+2/3*(ne.y1-ie[ue-1].y),Pe=ne.x+2/3*(ne.x1-ne.x),Ce=ne.y+2/3*(ne.y1-ne.y),Ee=ne.x,oe=ne.y;q=[ye-ie[ue-1].x,W-ie[ue-1].y,Pe-ie[ue-1].x,Ce-ie[ue-1].y,Ee-ie[ue-1].x,oe-ie[ue-1].y],Q[Q.length-1].deltas.push(q);break;case"arc":Q.push({deltas:[],abs:[],arc:!0}),Array.isArray(Q[Q.length-1].abs)&&Q[Q.length-1].abs.push(ne)}}G=R?null:k==="stroke"?"stroke":"fill";for(var ve=!1,De=0;De<Q.length;De++)if(Q[De].arc)for(var Te=Q[De].abs,Re=0;Re<Te.length;Re++){var Ne=Te[Re];Ne.type==="arc"?_.call(this,Ne.x,Ne.y,Ne.radius,Ne.startAngle,Ne.endAngle,Ne.counterclockwise,void 0,R,!ve):O.call(this,Ne.x,Ne.y),ve=!0}else if(Q[De].close===!0)this.pdf.internal.out("h"),ve=!1;else if(Q[De].begin!==!0){var qe=Q[De].start.x,je=Q[De].start.y;U.call(this,Q[De].deltas,qe,je),ve=!0}G&&S.call(this,G),R&&j.call(this)}},I=function(k){var R=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,q=R*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return k-q;case"top":return k+R-q;case"hanging":return k+R-2*q;case"middle":return k+R/2-q;case"ideographic":return k;case"alphabetic":default:return k}},T=function(k){return k+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var k=function(){};return k.colorStops=[],k.addColorStop=function(R,q){this.colorStops.push([R,q])},k.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},k.isCanvasGradient=!0,k},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var _=function(k,R,q,G,Q,ie,ue,ne,pe){for(var ye=K.call(this,q,G,Q,ie),W=0;W<ye.length;W++){var Pe=ye[W];W===0&&(pe?E.call(this,Pe.x1+k,Pe.y1+R):O.call(this,Pe.x1+k,Pe.y1+R)),Y.call(this,k,R,Pe.x2,Pe.y2,Pe.x3,Pe.y3,Pe.x4,Pe.y4)}ne?j.call(this):S.call(this,ue)},S=function(k){switch(k){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},j=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(k,R){this.pdf.internal.out(r(k)+" "+n(R)+" m")},N=function(k){var R;switch(k.align){case"right":case"end":R="right";break;case"center":R="center";break;case"left":case"start":default:R="left"}var q=this.pdf.getTextDimensions(k.text),G=I.call(this,k.y),Q=T.call(this,G)-q.h,ie=this.ctx.transform.applyToPoint(new s(k.x,G)),ue=this.ctx.transform.decompose(),ne=new l;ne=(ne=(ne=ne.multiply(ue.translate)).multiply(ue.skew)).multiply(ue.scale);for(var pe,ye,W,Pe=this.ctx.transform.applyToRectangle(new o(k.x,G,q.w,q.h)),Ce=ne.applyToRectangle(new o(k.x,Q,q.w,q.h)),Ee=v.call(this,Ce),oe=[],ve=0;ve<Ee.length;ve+=1)oe.indexOf(Ee[ve])===-1&&oe.push(Ee[ve]);if(w(oe),this.autoPaging)for(var De=oe[0],Te=oe[oe.length-1],Re=De;Re<Te+1;Re++){this.pdf.setPage(Re);var Ne=Re===1?this.posY+this.margin[0]:this.margin[0],qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],je=this.pdf.internal.pageSize.height-this.margin[2],Je=je-this.margin[0],ut=this.pdf.internal.pageSize.width-this.margin[1],ot=ut-this.margin[3],wt=Re===1?0:qe+(Re-2)*Je;if(this.ctx.clip_path.length!==0){var kt=this.path;pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(pe,this.posX+this.margin[3],-1*wt+Ne),P.call(this,"fill",!0),this.path=kt}var Pt=b([JSON.parse(JSON.stringify(Ce))],this.posX+this.margin[3],-wt+Ne+this.ctx.prevPageLastElemOffset)[0];k.scale>=.01&&(ye=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ye*k.scale),W=this.lineWidth,this.lineWidth=W*k.scale);var _t=this.autoPaging!=="text";if(_t||Pt.y+Pt.h<=je){if(_t||Pt.y>=Ne&&Pt.x<=ut){var nt=_t?k.text:this.pdf.splitTextToSize(k.text,k.maxWidth||ut-Pt.x)[0],nr=b([JSON.parse(JSON.stringify(Pe))],this.posX+this.margin[3],-wt+Ne+this.ctx.prevPageLastElemOffset)[0],Wt=_t&&(Re>De||Re<Te)&&m.call(this);Wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ot,Je,null).clip().discardPath()),this.pdf.text(nt,nr.x,nr.y,{angle:k.angle,align:R,renderingMode:k.renderingMode}),Wt&&this.pdf.restoreGraphicsState()}}else Pt.y<je&&(this.ctx.prevPageLastElemOffset+=je-Pt.y);k.scale>=.01&&(this.pdf.setFontSize(ye),this.lineWidth=W)}else k.scale>=.01&&(ye=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ye*k.scale),W=this.lineWidth,this.lineWidth=W*k.scale),this.pdf.text(k.text,ie.x+this.posX,ie.y+this.posY,{angle:k.angle,align:R,renderingMode:k.renderingMode,maxWidth:k.maxWidth}),k.scale>=.01&&(this.pdf.setFontSize(ye),this.lineWidth=W)},O=function(k,R,q,G){q=q||0,G=G||0,this.pdf.internal.out(r(k+q)+" "+n(R+G)+" l")},U=function(k,R,q){return this.pdf.lines(k,R,q,null,null)},Y=function(k,R,q,G,Q,ie,ue,ne){this.pdf.internal.out([t(a(q+k)),t(i(G+R)),t(a(Q+k)),t(i(ie+R)),t(a(ue+k)),t(i(ne+R)),"c"].join(" "))},K=function(k,R,q,G){for(var Q=2*Math.PI,ie=Math.PI/2;R>q;)R-=Q;var ue=Math.abs(q-R);ue<Q&&G&&(ue=Q-ue);for(var ne=[],pe=G?-1:1,ye=R;ue>1e-5;){var W=ye+pe*Math.min(ue,ie);ne.push(J.call(this,k,ye,W)),ue-=Math.abs(W-ye),ye=W}return ne},J=function(k,R,q){var G=(q-R)/2,Q=k*Math.cos(G),ie=k*Math.sin(G),ue=Q,ne=-ie,pe=ue*ue+ne*ne,ye=pe+ue*Q+ne*ie,W=4/3*(Math.sqrt(2*pe*ye)-ye)/(ue*ie-ne*Q),Pe=ue-W*ne,Ce=ne+W*ue,Ee=Pe,oe=-Ce,ve=G+R,De=Math.cos(ve),Te=Math.sin(ve);return{x1:k*Math.cos(R),y1:k*Math.sin(R),x2:Pe*De-Ce*Te,y2:Pe*Te+Ce*De,x3:Ee*De-oe*Te,y3:Ee*Te+oe*De,x4:k*Math.cos(q),y4:k*Math.sin(q)}},z=function(k){return 180*k/Math.PI},V=function(k,R,q,G,Q,ie){var ue=k+.5*(q-k),ne=R+.5*(G-R),pe=Q+.5*(q-Q),ye=ie+.5*(G-ie),W=Math.min(k,Q,ue,pe),Pe=Math.max(k,Q,ue,pe),Ce=Math.min(R,ie,ne,ye),Ee=Math.max(R,ie,ne,ye);return new o(W,Ce,Pe-W,Ee-Ce)},ee=function(k,R,q,G,Q,ie,ue,ne){var pe,ye,W,Pe,Ce,Ee,oe,ve,De,Te,Re,Ne,qe,je,Je=q-k,ut=G-R,ot=Q-q,wt=ie-G,kt=ue-Q,Pt=ne-ie;for(ye=0;ye<41;ye++)De=(oe=(W=k+(pe=ye/40)*Je)+pe*((Ce=q+pe*ot)-W))+pe*(Ce+pe*(Q+pe*kt-Ce)-oe),Te=(ve=(Pe=R+pe*ut)+pe*((Ee=G+pe*wt)-Pe))+pe*(Ee+pe*(ie+pe*Pt-Ee)-ve),ye==0?(Re=De,Ne=Te,qe=De,je=Te):(Re=Math.min(Re,De),Ne=Math.min(Ne,Te),qe=Math.max(qe,De),je=Math.max(je,Te));return new o(Math.round(Re),Math.round(Ne),Math.round(qe-Re),Math.round(je-Ne))},Z=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var k,R,q=(k=this.ctx.lineDash,R=this.ctx.lineDashOffset,JSON.stringify({lineDash:k,lineDashOffset:R}));this.prevLineDash!==q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=q)}}})(yr.API),function(e){var t=function(i){var s,o,l,c,u,f,h,p,g,m;for(o=[],l=0,c=(i+=s="\0\0\0\0".slice(i.length%4||4)).length;c>l;l+=4)(u=(i.charCodeAt(l)<<24)+(i.charCodeAt(l+1)<<16)+(i.charCodeAt(l+2)<<8)+i.charCodeAt(l+3))!==0?(f=(u=((u=((u=((u=(u-(m=u%85))/85)-(g=u%85))/85)-(p=u%85))/85)-(h=u%85))/85)%85,o.push(f+33,h+33,p+33,g+33,m+33)):o.push(122);return function(v,y){for(var b=y;b>0;b--)v.pop()}(o,s.length),String.fromCharCode.apply(String,o)+"~>"},r=function(i){var s,o,l,c,u,f=String,h="length",p=255,g="charCodeAt",m="slice",v="replace";for(i[m](-2),i=i[m](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),l=[],c=0,u=(i+=s="uuuuu"[m](i[h]%5||5))[h];u>c;c+=5)o=52200625*(i[g](c)-33)+614125*(i[g](c+1)-33)+7225*(i[g](c+2)-33)+85*(i[g](c+3)-33)+(i[g](c+4)-33),l.push(p&o>>24,p&o>>16,p&o>>8,p&o);return function(y,b){for(var w=b;w>0;w--)y.pop()}(l,s[h]),f.fromCharCode.apply(f,l)},n=function(i){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),s.test(i)===!1)return"";for(var o="",l=0;l<i.length;l+=2)o+=String.fromCharCode("0x"+(i[l]+i[l+1]));return o},a=function(i){for(var s=new Uint8Array(i.length),o=i.length;o--;)s[o]=i.charCodeAt(o);return i=(s=uE(s)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};e.processDataByFilters=function(i,s){var o=0,l=i||"",c=[];for(typeof(s=s||[])=="string"&&(s=[s]),o=0;o<s.length;o+=1)switch(s[o]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=a(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[o]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(yr.API),function(e){e.loadFile=function(t,r,n){return function(a,i,s){i=i!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(l,c,u){var f=new XMLHttpRequest,h=0,p=function(g){var m=g.length,v=[],y=String.fromCharCode;for(h=0;h<m;h+=1)v.push(y(255&g.charCodeAt(h)));return v.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?u(p(this.responseText)):u(void 0)}),f.send(null),c&&f.status===200)return p(f.responseText)}(a,i,s)}catch{}return o}(t,r,n)},e.loadImageFile=e.loadFile}(yr.API),function(e){function t(){return(xr.html2canvas?Promise.resolve(xr.html2canvas):iE(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function r(){return(xr.DOMPurify?Promise.resolve(xr.DOMPurify):iE(()=>import("./purify.es-BFmuJLeH.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var n=function(s){var o=fn(s);return o==="undefined"?"undefined":o==="string"||s instanceof String?"string":o==="number"||s instanceof Number?"number":o==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":o==="object"?"object":"unknown"},a=function(s,o){var l=document.createElement(s);for(var c in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[c]=o.style[c];return l},i=function s(o){var l=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),c=s.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,s,1,[s])).set(o)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(s,o){return s.__proto__=o||i.prototype,s},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(s,o){return this.then(function(){switch(o=o||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(r).then(function(l){return this.set({src:a("div",{innerHTML:s,dompurify:l})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},i.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(c,u){for(var f=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),h=c.firstChild;h;h=h.nextSibling)u!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(l(h,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(f.width=c.width,f.height=c.height,f.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(f.value=c.value),f.addEventListener("load",function(){f.scrollTop=c.scrollTop,f.scrollLeft=c.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(o){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var h=0;h<c.length;++h){var p=c[h],g=p.src.find(function(m){return m.format==="truetype"});g&&l.addFont(g.url,p.ref.name,p.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),o(this.prop.container,f)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(s,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(s,o):this.outputPdf(s,o)},i.prototype.outputPdf=function(s,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,o)})},i.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},i.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(s){if(n(s)!=="object")return this;var o=Object.keys(s||{}).map(function(l){if(l in i.template.prop)return function(){this.prop[l]=s[l]};switch(l){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[l]=s[l]}}},this);return this.then(function(){return this.thenList(o)})},i.prototype.get=function(s,o){return this.then(function(){var l=s in i.template.prop?this.prop[s]:this.opt[s];return o?o(l):l})},i.prototype.setMargin=function(s){return this.then(function(){switch(n(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},i.prototype.setPageSize=function(s){function o(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(s=s||yr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:o(s.inner.width,s.k),height:o(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},i.prototype.setProgress=function(s,o,l,c){return s!=null&&(this.progress.val=s),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(s,o,l,c){return this.setProgress(s?this.progress.val+s:null,o||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},i.prototype.then=function(s,o){var l=this;return this.thenCore(s,o,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,c),f}).then(c,u).then(function(f){return l.updateProgress(1),f})})},i.prototype.thenCore=function(s,o,l){l=l||Promise.prototype.then,s&&(s=s.bind(this)),o&&(o=o.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),u=l.call(c,s,o);return i.convert(u,this.__proto__)},i.prototype.thenExternal=function(s,o){return Promise.prototype.then.call(this,s,o)},i.prototype.thenList=function(s){var o=this;return s.forEach(function(l){o=o.thenCore(l)}),o},i.prototype.catch=function(s){s&&(s=s.bind(this));var o=Promise.prototype.catch.call(this,s);return i.convert(o,this)},i.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},i.prototype.error=function(s){return this.then(function(){throw new Error(s)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,yr.getPageSize=function(s,o,l){if(fn(s)==="object"){var c=s;s=c.orientation,o=c.unit||o,l=c.format||l}o=o||"mm",l=l||"a4",s=(""+(s||"P")).toLowerCase();var u,f=(""+l).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+o}var p,g=0,m=0;if(h.hasOwnProperty(f))g=h[f][1]/u,m=h[f][0]/u;else try{g=l[1],m=l[0]}catch{throw new Error("Invalid format: "+l)}if(s==="p"||s==="portrait")s="p",m>g&&(p=m,m=g,g=p);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",g>m&&(p=m,m=g,g=p)}return{width:m,height:g,unit:o,k:u,orientation:s}},e.html=function(s,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(gE):null;var l=new i(o);return o.worker?l:l.from(s).doCallback()}}(yr.API),yr.API.addJS=function(e){return b7=e,this.internal.events.subscribe("postPutResources",function(){Fx=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Fx+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),x7=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+b7+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Fx!==void 0&&x7!==void 0&&this.internal.out("/Names <</JavaScript "+Fx+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var s=a[i],o=n.exec(s);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(i=0;i<c;i++){var f=r.internal.newObject();u.push(f);var h=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<u.length;i++)r.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var s={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var s=n.children[i];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var l=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(yr.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,s,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=function(f){for(var h,p=256*f.charCodeAt(4)+f.charCodeAt(5),g=f.length,m={width:0,height:0,numcomponents:1},v=4;v<g;v+=2){if(v+=p,t.indexOf(f.charCodeAt(v+1))!==-1){h=256*f.charCodeAt(v+5)+f.charCodeAt(v+6),m={width:256*f.charCodeAt(v+7)+f.charCodeAt(v+8),height:h,numcomponents:f.charCodeAt(v+9)};break}p=256*f.charCodeAt(v+2)+f.charCodeAt(v+3)}return m}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:n,alias:a}}return u}}(yr.API);var e0,$x,w7,_7,S7,g9e=function(){var e,t,r;function n(i){var s,o,l,c,u,f,h,p,g,m,v,y,b,w;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(s=this.readUInt32(),g=(function(){var D,P;for(P=[],D=0;D<4;++D)P.push(String.fromCharCode(this.data[this.pos++]));return P}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,f.delay=1e3*u/c,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(g==="fdAT"&&(this.pos+=4,s-=4),i=(f!=null?f.data:void 0)||this.imgData,y=0;0<=s?y<s:y>s;0<=s?++y:--y)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((m=l-this.transparency.indexed.length)>0)for(b=0;0<=m?b<m:b>m;0<=m?++b:--b)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":h=(v=this.read(s)).indexOf(0),p=String.fromCharCode.apply(String,v.slice(0,h)),this.text[p]=String.fromCharCode.apply(String,v.slice(h+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(w=this.colorType)===4||w===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var s,o;for(o=[],s=0;0<=i?s<i:s>i;0<=i?++s:--s)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var s=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*s),l=0,c=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function u(f,h,p,g){var m,v,y,b,w,D,P,I,T,_,S,j,E,N,O,U,Y,K,J,z,V,ee=Math.ceil((c.width-f)/p),Z=Math.ceil((c.height-h)/g),k=c.width==ee&&c.height==Z;for(N=s*ee,j=k?o:new Uint8Array(N*Z),D=i.length,E=0,v=0;E<Z&&l<D;){switch(i[l++]){case 0:for(b=Y=0;Y<N;b=Y+=1)j[v++]=i[l++];break;case 1:for(b=K=0;K<N;b=K+=1)m=i[l++],w=b<s?0:j[v-s],j[v++]=(m+w)%256;break;case 2:for(b=J=0;J<N;b=J+=1)m=i[l++],y=(b-b%s)/s,O=E&&j[(E-1)*N+y*s+b%s],j[v++]=(O+m)%256;break;case 3:for(b=z=0;z<N;b=z+=1)m=i[l++],y=(b-b%s)/s,w=b<s?0:j[v-s],O=E&&j[(E-1)*N+y*s+b%s],j[v++]=(m+Math.floor((w+O)/2))%256;break;case 4:for(b=V=0;V<N;b=V+=1)m=i[l++],y=(b-b%s)/s,w=b<s?0:j[v-s],E===0?O=U=0:(O=j[(E-1)*N+y*s+b%s],U=y&&j[(E-1)*N+(y-1)*s+b%s]),P=w+O-U,I=Math.abs(P-w),_=Math.abs(P-O),S=Math.abs(P-U),T=I<=_&&I<=S?w:_<=S?O:U,j[v++]=(m+T)%256;break;default:throw new Error("Invalid filter algorithm: "+i[l-1])}if(!k){var R=((h+E*g)*c.width+f)*s,q=E*N;for(b=0;b<ee;b+=1){for(var G=0;G<s;G+=1)o[R++]=j[q++];R+=(p-1)*s}}E++}}return i=K$e(i),c.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),o},n.prototype.decodePalette=function(){var i,s,o,l,c,u,f,h,p;for(o=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+o.length),l=0,i=0,s=f=0,h=o.length;f<h;s=f+=3)c[l++]=o[s],c[l++]=o[s+1],c[l++]=o[s+2],c[l++]=(p=u[i++])!=null?p:255;return c},n.prototype.copyToImageData=function(i,s){var o,l,c,u,f,h,p,g,m,v,y;if(l=this.colors,m=null,o=this.hasAlphaChannel,this.palette.length&&(m=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),l=4,o=!0),g=(c=i.data||i).length,f=m||s,u=h=0,l===1)for(;u<g;)p=m?4*s[u/4]:h,v=f[p++],c[u++]=v,c[u++]=v,c[u++]=v,c[u++]=o?f[p++]:255,h=p;else for(;u<g;)p=m?4*s[u/4]:h,c[u++]=f[p++],c[u++]=f[p++],c[u++]=f[p++],c[u++]=o?f[p++]:255,h=p},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(xr)==="[object Window]"){try{t=xr.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(i){var s;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(s=new Image).src=t.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var s,o,l,c,u,f,h,p;if(this.animation){for(p=[],o=u=0,f=(h=this.animation.frames).length;u<f;o=++u)s=h[o],l=i.createImageData(s.width,s.height),c=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(l,c),s.imageData=l,p.push(s.image=e(l));return p}},n.prototype.renderFrame=function(i,s){var o,l,c;return o=(l=this.animation.frames)[s],c=l[s-1],s===0&&i.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?i.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&i.putImageData(c.imageData,c.xOffset,c.yOffset),o.blendOp===0&&i.clearRect(o.xOffset,o.yOffset,o.width,o.height),i.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(i){var s,o,l,c,u,f,h=this;return o=0,f=this.animation,c=f.numFrames,l=f.frames,u=f.numPlays,(s=function(){var p,g;if(p=o++%c,g=l[p],h.renderFrame(i,p),c>1&&o/c<u)return h.animation._timeout=setTimeout(s,g.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var s,o;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,s=i.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(o=s.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),s.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function v9e(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,s=1<<(7&a)+1;e[t++],e[t++];var o=null,l=null;i&&(o=t,l=s,t+=3*s);var c=!0,u=[],f=0,h=null,p=0,g=null;for(this.width=r,this.height=n;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,g=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var m=e[t++];f=e[t++]|e[t++]<<8,h=e[t++],!(1&m)&&(h=null),p=m>>2&7,t++;break;case 254:for(;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var v=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,D=e[t++],P=D>>6&1,I=1<<(7&D)+1,T=o,_=l,S=!1;D>>7&&(S=!0,T=t,_=I,t+=3*I);var j=t;for(t++;;){var E;if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}u.push({x:v,y,width:b,height:w,has_local_palette:S,palette_offset:T,palette_size:_,data_offset:j,data_length:t-j,transparent_index:h,interlaced:!!P,delay:f,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return g},this.frameInfo=function(N){if(N<0||N>=u.length)throw new Error("Frame index out of range.");return u[N]},this.decodeAndBlitFrameBGRA=function(N,O){var U=this.frameInfo(N),Y=U.width*U.height,K=new Uint8Array(Y);A7(e,U.data_offset,K,Y);var J=U.palette_offset,z=U.transparent_index;z===null&&(z=256);var V=U.width,ee=r-V,Z=V,k=4*(U.y*r+U.x),R=4*((U.y+U.height)*r+U.x),q=k,G=4*ee;U.interlaced===!0&&(G+=4*r*7);for(var Q=8,ie=0,ue=K.length;ie<ue;++ie){var ne=K[ie];if(Z===0&&(Z=V,(q+=G)>=R&&(G=4*ee+4*r*(Q-1),q=k+(V+ee)*(Q<<1),Q>>=1)),ne===z)q+=4;else{var pe=e[J+3*ne],ye=e[J+3*ne+1],W=e[J+3*ne+2];O[q++]=W,O[q++]=ye,O[q++]=pe,O[q++]=255}--Z}},this.decodeAndBlitFrameRGBA=function(N,O){var U=this.frameInfo(N),Y=U.width*U.height,K=new Uint8Array(Y);A7(e,U.data_offset,K,Y);var J=U.palette_offset,z=U.transparent_index;z===null&&(z=256);var V=U.width,ee=r-V,Z=V,k=4*(U.y*r+U.x),R=4*((U.y+U.height)*r+U.x),q=k,G=4*ee;U.interlaced===!0&&(G+=4*r*7);for(var Q=8,ie=0,ue=K.length;ie<ue;++ie){var ne=K[ie];if(Z===0&&(Z=V,(q+=G)>=R&&(G=4*ee+4*r*(Q-1),q=k+(V+ee)*(Q<<1),Q>>=1)),ne===z)q+=4;else{var pe=e[J+3*ne],ye=e[J+3*ne+1],W=e[J+3*ne+2];O[q++]=pe,O[q++]=ye,O[q++]=W,O[q++]=255}--Z}}}function A7(e,t,r,n){for(var a=e[t++],i=1<<a,s=i+1,o=s+1,l=a+1,c=(1<<l)-1,u=0,f=0,h=0,p=e[t++],g=new Int32Array(4096),m=null;;){for(;u<16&&p!==0;)f|=e[t++]<<u,u+=8,p===1?p=e[t++]:--p;if(u<l)break;var v=f&c;if(f>>=l,u-=l,v!==i){if(v===s)break;for(var y=v<o?v:m,b=0,w=y;w>i;)w=g[w]>>8,++b;var D=w;if(h+b+(y!==v?1:0)>n)return void In.log("Warning, gif stream longer than expected.");r[h++]=D;var P=h+=b;for(y!==v&&(r[h++]=D),w=y;b--;)w=g[w],r[--P]=255&w,w>>=8;m!==null&&o<4096&&(g[o++]=m<<8|D,o>=c+1&&l<12&&(++l,c=c<<1|1)),m=v}else o=s+1,c=(1<<(l=a+1))-1,m=null}return h!==n&&In.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function kA(e){var t,r,n,a,i,s=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),f=new Array(65535),h=new Array(65535),p=new Array(64),g=new Array(64),m=[],v=0,y=7,b=new Array(64),w=new Array(64),D=new Array(64),P=new Array(256),I=new Array(2048),T=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],_=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],S=[0,1,2,3,4,5,6,7,8,9,10,11],j=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],N=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Y=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function K(k,R){for(var q=0,G=0,Q=new Array,ie=1;ie<=16;ie++){for(var ue=1;ue<=k[ie];ue++)Q[R[G]]=[],Q[R[G]][0]=q,Q[R[G]][1]=ie,G++,q++;q*=2}return Q}function J(k){for(var R=k[0],q=k[1]-1;q>=0;)R&1<<q&&(v|=1<<y),q--,--y<0&&(v==255?(z(255),z(0)):z(v),y=7,v=0)}function z(k){m.push(k)}function V(k){z(k>>8&255),z(255&k)}function ee(k,R,q,G,Q){for(var ie,ue=Q[0],ne=Q[240],pe=function(Te,Re){var Ne,qe,je,Je,ut,ot,wt,kt,Pt,_t,nt=0;for(Pt=0;Pt<8;++Pt){Ne=Te[nt],qe=Te[nt+1],je=Te[nt+2],Je=Te[nt+3],ut=Te[nt+4],ot=Te[nt+5],wt=Te[nt+6];var nr=Ne+(kt=Te[nt+7]),Wt=Ne-kt,zr=qe+wt,tr=qe-wt,Fr=je+ot,Ie=je-ot,Fe=Je+ut,tt=Je-ut,ht=nr+Fe,Lt=nr-Fe,Gt=zr+Fr,Rt=zr-Fr;Te[nt]=ht+Gt,Te[nt+4]=ht-Gt;var jt=.707106781*(Rt+Lt);Te[nt+2]=Lt+jt,Te[nt+6]=Lt-jt;var ar=.382683433*((ht=tt+Ie)-(Rt=tr+Wt)),mr=.5411961*ht+ar,gr=1.306562965*Rt+ar,Ae=.707106781*(Gt=Ie+tr),ct=Wt+Ae,We=Wt-Ae;Te[nt+5]=We+mr,Te[nt+3]=We-mr,Te[nt+1]=ct+gr,Te[nt+7]=ct-gr,nt+=8}for(nt=0,Pt=0;Pt<8;++Pt){Ne=Te[nt],qe=Te[nt+8],je=Te[nt+16],Je=Te[nt+24],ut=Te[nt+32],ot=Te[nt+40],wt=Te[nt+48];var Kt=Ne+(kt=Te[nt+56]),ir=Ne-kt,Rr=qe+wt,Nr=qe-wt,Vr=je+ot,ae=je-ot,we=Je+ut,me=Je-ut,ge=Kt+we,be=Kt-we,_e=Rr+Vr,He=Rr-Vr;Te[nt]=ge+_e,Te[nt+32]=ge-_e;var rt=.707106781*(He+be);Te[nt+16]=be+rt,Te[nt+48]=be-rt;var Ge=.382683433*((ge=me+ae)-(He=Nr+ir)),Ye=.5411961*ge+Ge,Ze=1.306562965*He+Ge,St=.707106781*(_e=ae+Nr),Dt=ir+St,$t=ir-St;Te[nt+40]=$t+Ye,Te[nt+24]=$t-Ye,Te[nt+8]=Dt+Ze,Te[nt+56]=Dt-Ze,nt++}for(Pt=0;Pt<64;++Pt)_t=Te[Pt]*Re[Pt],p[Pt]=_t>0?_t+.5|0:_t-.5|0;return p}(k,R),ye=0;ye<64;++ye)g[T[ye]]=pe[ye];var W=g[0]-q;q=g[0],W==0?J(G[0]):(J(G[h[ie=32767+W]]),J(f[ie]));for(var Pe=63;Pe>0&&g[Pe]==0;)Pe--;if(Pe==0)return J(ue),q;for(var Ce,Ee=1;Ee<=Pe;){for(var oe=Ee;g[Ee]==0&&Ee<=Pe;)++Ee;var ve=Ee-oe;if(ve>=16){Ce=ve>>4;for(var De=1;De<=Ce;++De)J(ne);ve&=15}ie=32767+g[Ee],J(Q[(ve<<4)+h[ie]]),J(f[ie]),Ee++}return Pe!=63&&J(ue),q}function Z(k){k=Math.min(Math.max(k,1),100),i!=k&&(function(R){for(var q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],G=0;G<64;G++){var Q=s((q[G]*R+50)/100);Q=Math.min(Math.max(Q,1),255),o[T[G]]=Q}for(var ie=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ue=0;ue<64;ue++){var ne=s((ie[ue]*R+50)/100);ne=Math.min(Math.max(ne,1),255),l[T[ue]]=ne}for(var pe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ye=0,W=0;W<8;W++)for(var Pe=0;Pe<8;Pe++)c[ye]=1/(o[T[ye]]*pe[W]*pe[Pe]*8),u[ye]=1/(l[T[ye]]*pe[W]*pe[Pe]*8),ye++}(k<50?Math.floor(5e3/k):Math.floor(200-2*k)),i=k)}this.encode=function(k,R){R&&Z(R),m=new Array,v=0,y=7,V(65496),V(65504),V(16),z(74),z(70),z(73),z(70),z(0),z(1),z(1),z(0),V(1),V(1),z(0),z(0),function(){V(65499),V(132),z(0);for(var qe=0;qe<64;qe++)z(o[qe]);z(1);for(var je=0;je<64;je++)z(l[je])}(),function(qe,je){V(65472),V(17),z(8),V(je),V(qe),z(3),z(1),z(17),z(0),z(2),z(17),z(1),z(3),z(17),z(1)}(k.width,k.height),function(){V(65476),V(418),z(0);for(var qe=0;qe<16;qe++)z(_[qe+1]);for(var je=0;je<=11;je++)z(S[je]);z(16);for(var Je=0;Je<16;Je++)z(j[Je+1]);for(var ut=0;ut<=161;ut++)z(E[ut]);z(1);for(var ot=0;ot<16;ot++)z(N[ot+1]);for(var wt=0;wt<=11;wt++)z(O[wt]);z(17);for(var kt=0;kt<16;kt++)z(U[kt+1]);for(var Pt=0;Pt<=161;Pt++)z(Y[Pt])}(),V(65498),V(12),z(3),z(1),z(0),z(2),z(17),z(3),z(17),z(0),z(63),z(0);var q=0,G=0,Q=0;v=0,y=7,this.encode.displayName="_encode_";for(var ie,ue,ne,pe,ye,W,Pe,Ce,Ee,oe=k.data,ve=k.width,De=k.height,Te=4*ve,Re=0;Re<De;){for(ie=0;ie<Te;){for(ye=Te*Re+ie,Pe=-1,Ce=0,Ee=0;Ee<64;Ee++)W=ye+(Ce=Ee>>3)*Te+(Pe=4*(7&Ee)),Re+Ce>=De&&(W-=Te*(Re+1+Ce-De)),ie+Pe>=Te&&(W-=ie+Pe-Te+4),ue=oe[W++],ne=oe[W++],pe=oe[W++],b[Ee]=(I[ue]+I[ne+256>>0]+I[pe+512>>0]>>16)-128,w[Ee]=(I[ue+768>>0]+I[ne+1024>>0]+I[pe+1280>>0]>>16)-128,D[Ee]=(I[ue+1280>>0]+I[ne+1536>>0]+I[pe+1792>>0]>>16)-128;q=ee(b,c,q,t,n),G=ee(w,u,G,r,a),Q=ee(D,u,Q,r,a),ie+=32}Re+=8}if(y>=0){var Ne=[];Ne[1]=y+1,Ne[0]=(1<<y+1)-1,J(Ne)}return V(65497),new Uint8Array(m)},e=e||50,function(){for(var k=String.fromCharCode,R=0;R<256;R++)P[R]=k(R)}(),t=K(_,S),r=K(N,O),n=K(j,E),a=K(U,Y),function(){for(var k=1,R=2,q=1;q<=15;q++){for(var G=k;G<R;G++)h[32767+G]=q,f[32767+G]=[],f[32767+G][1]=q,f[32767+G][0]=G;for(var Q=-(R-1);Q<=-k;Q++)h[32767+Q]=q,f[32767+Q]=[],f[32767+Q][1]=q,f[32767+Q][0]=R-1+Q;k<<=1,R<<=1}}(),function(){for(var k=0;k<256;k++)I[k]=19595*k,I[k+256>>0]=38470*k,I[k+512>>0]=7471*k+32768,I[k+768>>0]=-11059*k,I[k+1024>>0]=-21709*k,I[k+1280>>0]=32768*k+8421375,I[k+1536>>0]=-27439*k,I[k+1792>>0]=-5329*k}(),Z(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Zo(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function T7(e){function t(_){if(!_)throw Error("assert :P")}function r(_,S,j){for(var E=0;4>E;E++)if(_[S+E]!=j.charCodeAt(E))return!0;return!1}function n(_,S,j,E,N){for(var O=0;O<N;O++)_[S+O]=j[E+O]}function a(_,S,j,E){for(var N=0;N<E;N++)_[S+N]=j}function i(_){return new Int32Array(_)}function s(_,S){for(var j=[],E=0;E<_;E++)j.push(new S);return j}function o(_,S){var j=[];return function E(N,O,U){for(var Y=U[O],K=0;K<Y&&(N.push(U.length>O+1?[]:new S),!(U.length<O+1));K++)E(N[K],O+1,U)}(j,0,_),j}var l=function(){var _=this;function S(x,C){for(var M=1<<C-1>>>0;x&M;)M>>>=1;return M?(x&M-1)+M:x}function j(x,C,M,H,re){t(!(H%M));do x[C+(H-=M)]=re;while(0<H)}function E(x,C,M,H,re){if(t(2328>=re),512>=re)var se=i(512);else if((se=i(re))==null)return 0;return function(le,de,he,xe,Le,Xe){var Qe,ze,yt=de,at=1<<he,Me=i(16),Be=i(16);for(t(Le!=0),t(xe!=null),t(le!=null),t(0<he),ze=0;ze<Le;++ze){if(15<xe[ze])return 0;++Me[xe[ze]]}if(Me[0]==Le)return 0;for(Be[1]=0,Qe=1;15>Qe;++Qe){if(Me[Qe]>1<<Qe)return 0;Be[Qe+1]=Be[Qe]+Me[Qe]}for(ze=0;ze<Le;++ze)Qe=xe[ze],0<xe[ze]&&(Xe[Be[Qe]++]=ze);if(Be[15]==1)return(xe=new N).g=0,xe.value=Xe[0],j(le,yt,1,at,xe),at;var pt,At=-1,vt=at-1,Xt=0,Ut=1,hr=1,qt=1<<he;for(ze=0,Qe=1,Le=2;Qe<=he;++Qe,Le<<=1){if(Ut+=hr<<=1,0>(hr-=Me[Qe]))return 0;for(;0<Me[Qe];--Me[Qe])(xe=new N).g=Qe,xe.value=Xe[ze++],j(le,yt+Xt,Le,qt,xe),Xt=S(Xt,Qe)}for(Qe=he+1,Le=2;15>=Qe;++Qe,Le<<=1){if(Ut+=hr<<=1,0>(hr-=Me[Qe]))return 0;for(;0<Me[Qe];--Me[Qe]){if(xe=new N,(Xt&vt)!=At){for(yt+=qt,pt=1<<(At=Qe)-he;15>At&&!(0>=(pt-=Me[At]));)++At,pt<<=1;at+=qt=1<<(pt=At-he),le[de+(At=Xt&vt)].g=pt+he,le[de+At].value=yt-de-At}xe.g=Qe-he,xe.value=Xe[ze++],j(le,yt+(Xt>>he),Le,qt,xe),Xt=S(Xt,Qe)}}return Ut!=2*Be[15]-1?0:at}(x,C,M,H,re,se)}function N(){this.value=this.g=0}function O(){this.value=this.g=0}function U(){this.G=s(5,N),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(oi,O)}function Y(x,C,M,H){t(x!=null),t(C!=null),t(2147483648>H),x.Ca=254,x.I=0,x.b=-8,x.Ka=0,x.oa=C,x.pa=M,x.Jd=C,x.Yc=M+H,x.Zc=4<=H?M+H-4+1:M,ie(x)}function K(x,C){for(var M=0;0<C--;)M|=ne(x,128)<<C;return M}function J(x,C){var M=K(x,C);return ue(x)?-M:M}function z(x,C,M,H){var re,se=0;for(t(x!=null),t(C!=null),t(4294967288>H),x.Sb=H,x.Ra=0,x.u=0,x.h=0,4<H&&(H=4),re=0;re<H;++re)se+=C[M+re]<<8*re;x.Ra=se,x.bb=H,x.oa=C,x.pa=M}function V(x){for(;8<=x.u&&x.bb<x.Sb;)x.Ra>>>=8,x.Ra+=x.oa[x.pa+x.bb]<<Mh-8>>>0,++x.bb,x.u-=8;q(x)&&(x.h=1,x.u=0)}function ee(x,C){if(t(0<=C),!x.h&&C<=Lh){var M=R(x)&Dh[C];return x.u+=C,V(x),M}return x.h=1,x.u=0}function Z(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function k(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function R(x){return x.Ra>>>(x.u&Mh-1)>>>0}function q(x){return t(x.bb<=x.Sb),x.h||x.bb==x.Sb&&x.u>Mh}function G(x,C){x.u=C,x.h=q(x)}function Q(x){x.u>=xm&&(t(x.u>=xm),V(x))}function ie(x){t(x!=null&&x.oa!=null),x.pa<x.Zc?(x.I=(x.oa[x.pa++]|x.I<<8)>>>0,x.b+=8):(t(x!=null&&x.oa!=null),x.pa<x.Yc?(x.b+=8,x.I=x.oa[x.pa++]|x.I<<8):x.Ka?x.b=0:(x.I<<=8,x.b+=8,x.Ka=1))}function ue(x){return K(x,1)}function ne(x,C){var M=x.Ca;0>x.b&&ie(x);var H=x.b,re=M*C>>>8,se=(x.I>>>H>re)+0;for(se?(M-=re,x.I-=re+1<<H>>>0):M=re+1,H=M,re=0;256<=H;)re+=8,H>>=8;return H=7^re+vs[H],x.b-=H,x.Ca=(M<<H)-1,se}function pe(x,C,M){x[C+0]=M>>24&255,x[C+1]=M>>16&255,x[C+2]=M>>8&255,x[C+3]=M>>0&255}function ye(x,C){return x[C+0]<<0|x[C+1]<<8}function W(x,C){return ye(x,C)|x[C+2]<<16}function Pe(x,C){return ye(x,C)|ye(x,C+2)<<16}function Ce(x,C){var M=1<<C;return t(x!=null),t(0<C),x.X=i(M),x.X==null?0:(x.Mb=32-C,x.Xa=C,1)}function Ee(x,C){t(x!=null),t(C!=null),t(x.Xa==C.Xa),n(C.X,0,x.X,0,1<<C.Xa)}function oe(){this.X=[],this.Xa=this.Mb=0}function ve(x,C,M,H){t(M!=null),t(H!=null);var re=M[0],se=H[0];return re==0&&(re=(x*se+C/2)/C),se==0&&(se=(C*re+x/2)/x),0>=re||0>=se?0:(M[0]=re,H[0]=se,1)}function De(x,C){return x+(1<<C)-1>>>C}function Te(x,C){return((4278255360&x)+(4278255360&C)>>>0&4278255360)+((16711935&x)+(16711935&C)>>>0&16711935)>>>0}function Re(x,C){_[C]=function(M,H,re,se,le,de,he){var xe;for(xe=0;xe<le;++xe){var Le=_[x](de[he+xe-1],re,se+xe);de[he+xe]=Te(M[H+xe],Le)}}}function Ne(){this.ud=this.hd=this.jd=0}function qe(x,C){return((4278124286&(x^C))>>>1)+(x&C)>>>0}function je(x){return 0<=x&&256>x?x:0>x?0:255<x?255:void 0}function Je(x,C){return je(x+(x-C+.5>>1))}function ut(x,C,M){return Math.abs(C-M)-Math.abs(x-M)}function ot(x,C,M,H,re,se,le){for(H=se[le-1],M=0;M<re;++M)se[le+M]=H=Te(x[C+M],H)}function wt(x,C,M,H,re){var se;for(se=0;se<M;++se){var le=x[C+se],de=le>>8&255,he=16711935&(he=(he=16711935&le)+((de<<16)+de));H[re+se]=(4278255360&le)+he>>>0}}function kt(x,C){C.jd=x>>0&255,C.hd=x>>8&255,C.ud=x>>16&255}function Pt(x,C,M,H,re,se){var le;for(le=0;le<H;++le){var de=C[M+le],he=de>>>8,xe=de,Le=255&(Le=(Le=de>>>16)+((x.jd<<24>>24)*(he<<24>>24)>>>5));xe=255&(xe=(xe=xe+((x.hd<<24>>24)*(he<<24>>24)>>>5))+((x.ud<<24>>24)*(Le<<24>>24)>>>5)),re[se+le]=(4278255360&de)+(Le<<16)+xe}}function _t(x,C,M,H,re){_[C]=function(se,le,de,he,xe,Le,Xe,Qe,ze){for(he=Xe;he<Qe;++he)for(Xe=0;Xe<ze;++Xe)xe[Le++]=re(de[H(se[le++])])},_[x]=function(se,le,de,he,xe,Le,Xe){var Qe=8>>se.b,ze=se.Ea,yt=se.K[0],at=se.w;if(8>Qe)for(se=(1<<se.b)-1,at=(1<<Qe)-1;le<de;++le){var Me,Be=0;for(Me=0;Me<ze;++Me)Me&se||(Be=H(he[xe++])),Le[Xe++]=re(yt[Be&at]),Be>>=Qe}else _["VP8LMapColor"+M](he,xe,yt,at,Le,Xe,le,de,ze)}}function nt(x,C,M,H,re){for(M=C+M;C<M;){var se=x[C++];H[re++]=se>>16&255,H[re++]=se>>8&255,H[re++]=se>>0&255}}function nr(x,C,M,H,re){for(M=C+M;C<M;){var se=x[C++];H[re++]=se>>16&255,H[re++]=se>>8&255,H[re++]=se>>0&255,H[re++]=se>>24&255}}function Wt(x,C,M,H,re){for(M=C+M;C<M;){var se=(le=x[C++])>>16&240|le>>12&15,le=le>>0&240|le>>28&15;H[re++]=se,H[re++]=le}}function zr(x,C,M,H,re){for(M=C+M;C<M;){var se=(le=x[C++])>>16&248|le>>13&7,le=le>>5&224|le>>3&31;H[re++]=se,H[re++]=le}}function tr(x,C,M,H,re){for(M=C+M;C<M;){var se=x[C++];H[re++]=se>>0&255,H[re++]=se>>8&255,H[re++]=se>>16&255}}function Fr(x,C,M,H,re,se){if(se==0)for(M=C+M;C<M;)pe(H,((se=x[C++])[0]>>24|se[1]>>8&65280|se[2]<<8&16711680|se[3]<<24)>>>0),re+=32;else n(H,re,x,C,M)}function Ie(x,C){_[C][0]=_[x+"0"],_[C][1]=_[x+"1"],_[C][2]=_[x+"2"],_[C][3]=_[x+"3"],_[C][4]=_[x+"4"],_[C][5]=_[x+"5"],_[C][6]=_[x+"6"],_[C][7]=_[x+"7"],_[C][8]=_[x+"8"],_[C][9]=_[x+"9"],_[C][10]=_[x+"10"],_[C][11]=_[x+"11"],_[C][12]=_[x+"12"],_[C][13]=_[x+"13"],_[C][14]=_[x+"0"],_[C][15]=_[x+"0"]}function Fe(x){return x==y_||x==x_||x==Ay||x==b_}function tt(){this.eb=[],this.size=this.A=this.fb=0}function ht(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Lt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new tt,this.f.kb=new ht,this.sd=null}function Gt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Rt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function jt(x){return alert("todo:WebPSamplerProcessPlane"),x.T}function ar(x,C){var M=x.T,H=C.ba.f.RGBA,re=H.eb,se=H.fb+x.ka*H.A,le=co[C.ba.S],de=x.y,he=x.O,xe=x.f,Le=x.N,Xe=x.ea,Qe=x.W,ze=C.cc,yt=C.dc,at=C.Mc,Me=C.Nc,Be=x.ka,pt=x.ka+x.T,At=x.U,vt=At+1>>1;for(Be==0?le(de,he,null,null,xe,Le,Xe,Qe,xe,Le,Xe,Qe,re,se,null,null,At):(le(C.ec,C.fc,de,he,ze,yt,at,Me,xe,Le,Xe,Qe,re,se-H.A,re,se,At),++M);Be+2<pt;Be+=2)ze=xe,yt=Le,at=Xe,Me=Qe,Le+=x.Rc,Qe+=x.Rc,se+=2*H.A,le(de,(he+=2*x.fa)-x.fa,de,he,ze,yt,at,Me,xe,Le,Xe,Qe,re,se-H.A,re,se,At);return he+=x.fa,x.j+pt<x.o?(n(C.ec,C.fc,de,he,At),n(C.cc,C.dc,xe,Le,vt),n(C.Mc,C.Nc,Xe,Qe,vt),M--):1&pt||le(de,he,null,null,xe,Le,Xe,Qe,xe,Le,Xe,Qe,re,se+H.A,null,null,At),M}function mr(x,C,M){var H=x.F,re=[x.J];if(H!=null){var se=x.U,le=C.ba.S,de=le==Sy||le==Ay;C=C.ba.f.RGBA;var he=[0],xe=x.ka;he[0]=x.T,x.Kb&&(xe==0?--he[0]:(--xe,re[0]-=x.width),x.j+x.ka+x.T==x.o&&(he[0]=x.o-x.j-xe));var Le=C.eb;xe=C.fb+xe*C.A,x=Mn(H,re[0],x.width,se,he,Le,xe+(de?0:3),C.A),t(M==he),x&&Fe(le)&&oo(Le,xe,de,se,he,C.A)}return 0}function gr(x){var C=x.ma,M=C.ba.S,H=11>M,re=M==wy||M==_y||M==Sy||M==v_||M==12||Fe(M);if(C.memory=null,C.Ib=null,C.Jb=null,C.Nd=null,!vm(C.Oa,x,re?11:12))return 0;if(re&&Fe(M)&&Tt(),x.da)alert("todo:use_scaling");else{if(H){if(C.Ib=jt,x.Kb){if(M=x.U+1>>1,C.memory=i(x.U+2*M),C.memory==null)return 0;C.ec=C.memory,C.fc=0,C.cc=C.ec,C.dc=C.fc+x.U,C.Mc=C.cc,C.Nc=C.dc+M,C.Ib=ar,Tt()}}else alert("todo:EmitYUV");re&&(C.Jb=mr,H&&Ve())}if(H&&!FP){for(x=0;256>x;++x)hY[x]=89858*(x-128)+Ey>>Ty,gY[x]=-22014*(x-128)+Ey,mY[x]=-45773*(x-128),pY[x]=113618*(x-128)+Ey>>Ty;for(x=Em;x<S_;++x)C=76283*(x-16)+Ey>>Ty,vY[x-Em]=mn(C,255),yY[x-Em]=mn(C+8>>4,15);FP=1}return 1}function Ae(x){var C=x.ma,M=x.U,H=x.T;return t(!(1&x.ka)),0>=M||0>=H?0:(M=C.Ib(x,C),C.Jb!=null&&C.Jb(x,C,M),C.Dc+=M,1)}function ct(x){x.ma.memory=null}function We(x,C,M,H){return ee(x,8)!=47?0:(C[0]=ee(x,14)+1,M[0]=ee(x,14)+1,H[0]=ee(x,1),ee(x,3)!=0?0:!x.h)}function Kt(x,C){if(4>x)return x+1;var M=x-2>>1;return(2+(1&x)<<M)+ee(C,M)+1}function ir(x,C){return 120<C?C-120:1<=(M=((M=ZK[C-1])>>4)*x+(8-(15&M)))?M:1;var M}function Rr(x,C,M){var H=R(M),re=x[C+=255&H].g-8;return 0<re&&(G(M,M.u+8),H=R(M),C+=x[C].value,C+=H&(1<<re)-1),G(M,M.u+x[C].g),x[C].value}function Nr(x,C,M){return M.g+=x.g,M.value+=x.value<<C>>>0,t(8>=M.g),x.g}function Vr(x,C,M){var H=x.xc;return t((C=H==0?0:x.vc[x.md*(M>>H)+(C>>H)])<x.Wb),x.Ya[C]}function ae(x,C,M,H){var re=x.ab,se=x.c*C,le=x.C;C=le+C;var de=M,he=H;for(H=x.Ta,M=x.Ua;0<re--;){var xe=x.gc[re],Le=le,Xe=C,Qe=de,ze=he,yt=(he=H,de=M,xe.Ea);switch(t(Le<Xe),t(Xe<=xe.nc),xe.hc){case 2:py(Qe,ze,(Xe-Le)*yt,he,de);break;case 0:var at=Le,Me=Xe,Be=he,pt=de,At=(qt=xe).Ea;at==0&&(m_(Qe,ze,null,null,1,Be,pt),ot(Qe,ze+1,0,0,At-1,Be,pt+1),ze+=At,pt+=At,++at);for(var vt=1<<qt.b,Xt=vt-1,Ut=De(At,qt.b),hr=qt.K,qt=qt.w+(at>>qt.b)*Ut;at<Me;){var un=hr,bn=qt,rn=1;for(bm(Qe,ze,Be,pt-At,1,Be,pt);rn<At;){var Hr=(rn&~Xt)+vt;Hr>At&&(Hr=At),(0,Tu[un[bn++]>>8&15])(Qe,ze+ +rn,Be,pt+rn-At,Hr-rn,Be,pt+rn),rn=Hr}ze+=At,pt+=At,++at&Xt||(qt+=Ut)}Xe!=xe.nc&&n(he,de-yt,he,de+(Xe-Le-1)*yt,yt);break;case 1:for(yt=Qe,Me=ze,At=(Qe=xe.Ea)-(pt=Qe&~(Be=(ze=1<<xe.b)-1)),at=De(Qe,xe.b),vt=xe.K,xe=xe.w+(Le>>xe.b)*at;Le<Xe;){for(Xt=vt,Ut=xe,hr=new Ne,qt=Me+pt,un=Me+Qe;Me<qt;)kt(Xt[Ut++],hr),od(hr,yt,Me,ze,he,de),Me+=ze,de+=ze;Me<un&&(kt(Xt[Ut++],hr),od(hr,yt,Me,At,he,de),Me+=At,de+=At),++Le&Be||(xe+=at)}break;case 3:if(Qe==he&&ze==de&&0<xe.b){for(Me=he,Qe=yt=de+(Xe-Le)*yt-(pt=(Xe-Le)*De(xe.Ea,xe.b)),ze=he,Be=de,at=[],pt=(At=pt)-1;0<=pt;--pt)at[pt]=ze[Be+pt];for(pt=At-1;0<=pt;--pt)Me[Qe+pt]=at[pt];ao(xe,Le,Xe,he,yt,he,de)}else ao(xe,Le,Xe,Qe,ze,he,de)}de=H,he=M}he!=M&&n(H,M,de,he,se)}function we(x,C){var M=x.V,H=x.Ba+x.c*x.C,re=C-x.C;if(t(C<=x.l.o),t(16>=re),0<re){var se=x.l,le=x.Ta,de=x.Ua,he=se.width;if(ae(x,re,M,H),re=de=[de],t((M=x.C)<(H=C)),t(se.v<se.va),H>se.o&&(H=se.o),M<se.j){var xe=se.j-M;M=se.j,re[0]+=xe*he}if(M>=H?M=0:(re[0]+=4*se.v,se.ka=M-se.j,se.U=se.va-se.v,se.T=H-M,M=1),M){if(de=de[0],11>(M=x.ca).S){var Le=M.f.RGBA,Xe=(H=M.S,re=se.U,se=se.T,xe=Le.eb,Le.A),Qe=se;for(Le=Le.fb+x.Ma*Le.A;0<Qe--;){var ze=le,yt=de,at=re,Me=xe,Be=Le;switch(H){case by:ys(ze,yt,at,Me,Be);break;case wy:Ji(ze,yt,at,Me,Be);break;case y_:Ji(ze,yt,at,Me,Be),oo(Me,Be,0,at,1,0);break;case kP:pc(ze,yt,at,Me,Be);break;case _y:Fr(ze,yt,at,Me,Be,1);break;case x_:Fr(ze,yt,at,Me,Be,1),oo(Me,Be,0,at,1,0);break;case Sy:Fr(ze,yt,at,Me,Be,0);break;case Ay:Fr(ze,yt,at,Me,Be,0),oo(Me,Be,1,at,1,0);break;case v_:Eu(ze,yt,at,Me,Be);break;case b_:Eu(ze,yt,at,Me,Be),Ln(Me,Be,at,1,0);break;case CP:hc(ze,yt,at,Me,Be);break;default:t(0)}de+=he,Le+=Xe}x.Ma+=se}else alert("todo:EmitRescaledRowsYUVA");t(x.Ma<=M.height)}}x.C=C,t(x.C<=x.i)}function me(x){var C;if(0<x.ua)return 0;for(C=0;C<x.Wb;++C){var M=x.Ya[C].G,H=x.Ya[C].H;if(0<M[1][H[1]+0].g||0<M[2][H[2]+0].g||0<M[3][H[3]+0].g)return 0}return 1}function ge(x,C,M,H,re,se){if(x.Z!=0){var le=x.qd,de=x.rd;for(t(Pu[x.Z]!=null);C<M;++C)Pu[x.Z](le,de,H,re,H,re,se),le=H,de=re,re+=se;x.qd=le,x.rd=de}}function be(x,C){var M=x.l.ma,H=M.Z==0||M.Z==1?x.l.j:x.C;if(H=x.C<H?H:x.C,t(C<=x.l.o),C>H){var re=x.l.width,se=M.ca,le=M.tb+re*H,de=x.V,he=x.Ba+x.c*H,xe=x.gc;t(x.ab==1),t(xe[0].hc==3),my(xe[0],H,C,de,he,se,le),ge(M,H,C,se,le,re)}x.C=x.Ma=C}function _e(x,C,M,H,re,se,le){var de=x.$/H,he=x.$%H,xe=x.m,Le=x.s,Xe=M+x.$,Qe=Xe;re=M+H*re;var ze=M+H*se,yt=280+Le.ua,at=x.Pb?de:16777216,Me=0<Le.ua?Le.Wa:null,Be=Le.wc,pt=Xe<ze?Vr(Le,he,de):null;t(x.C<se),t(ze<=re);var At=!1;e:for(;;){for(;At||Xe<ze;){var vt=0;if(de>=at){var Xt=Xe-M;t((at=x).Pb),at.wd=at.m,at.xd=Xt,0<at.s.ua&&Ee(at.s.Wa,at.s.vb),at=de+tY}if(he&Be||(pt=Vr(Le,he,de)),t(pt!=null),pt.Qb&&(C[Xe]=pt.qb,At=!0),!At)if(Q(xe),pt.jc){vt=xe,Xt=C;var Ut=Xe,hr=pt.pd[R(vt)&oi-1];t(pt.jc),256>hr.g?(G(vt,vt.u+hr.g),Xt[Ut]=hr.value,vt=0):(G(vt,vt.u+hr.g-256),t(256<=hr.value),vt=hr.value),vt==0&&(At=!0)}else vt=Rr(pt.G[0],pt.H[0],xe);if(xe.h)break;if(At||256>vt){if(!At)if(pt.nd)C[Xe]=(pt.qb|vt<<8)>>>0;else{if(Q(xe),At=Rr(pt.G[1],pt.H[1],xe),Q(xe),Xt=Rr(pt.G[2],pt.H[2],xe),Ut=Rr(pt.G[3],pt.H[3],xe),xe.h)break;C[Xe]=(Ut<<24|At<<16|vt<<8|Xt)>>>0}if(At=!1,++Xe,++he>=H&&(he=0,++de,le!=null&&de<=se&&!(de%16)&&le(x,de),Me!=null))for(;Qe<Xe;)vt=C[Qe++],Me.X[(506832829*vt&4294967295)>>>Me.Mb]=vt}else if(280>vt){if(vt=Kt(vt-256,xe),Xt=Rr(pt.G[4],pt.H[4],xe),Q(xe),Xt=ir(H,Xt=Kt(Xt,xe)),xe.h)break;if(Xe-M<Xt||re-Xe<vt)break e;for(Ut=0;Ut<vt;++Ut)C[Xe+Ut]=C[Xe+Ut-Xt];for(Xe+=vt,he+=vt;he>=H;)he-=H,++de,le!=null&&de<=se&&!(de%16)&&le(x,de);if(t(Xe<=re),he&Be&&(pt=Vr(Le,he,de)),Me!=null)for(;Qe<Xe;)vt=C[Qe++],Me.X[(506832829*vt&4294967295)>>>Me.Mb]=vt}else{if(!(vt<yt))break e;for(At=vt-280,t(Me!=null);Qe<Xe;)vt=C[Qe++],Me.X[(506832829*vt&4294967295)>>>Me.Mb]=vt;vt=Xe,t(!(At>>>(Xt=Me).Xa)),C[vt]=Xt.X[At],At=!0}At||t(xe.h==q(xe))}if(x.Pb&&xe.h&&Xe<re)t(x.m.h),x.a=5,x.m=x.wd,x.$=x.xd,0<x.s.ua&&Ee(x.s.vb,x.s.Wa);else{if(xe.h)break e;le!=null&&le(x,de>se?se:de),x.a=0,x.$=Xe-M}return 1}return x.a=3,0}function He(x){t(x!=null),x.vc=null,x.yc=null,x.Ya=null;var C=x.Wa;C!=null&&(C.X=null),x.vb=null,t(x!=null)}function rt(){var x=new Ih;return x==null?null:(x.a=0,x.xb=IP,Ie("Predictor","VP8LPredictors"),Ie("Predictor","VP8LPredictors_C"),Ie("PredictorAdd","VP8LPredictorsAdd"),Ie("PredictorAdd","VP8LPredictorsAdd_C"),py=wt,od=Pt,ys=nt,Ji=nr,Eu=Wt,hc=zr,pc=tr,_.VP8LMapColor32b=Rh,_.VP8LMapColor8b=gy,x)}function Ge(x,C,M,H,re){var se=1,le=[x],de=[C],he=H.m,xe=H.s,Le=null,Xe=0;e:for(;;){if(M)for(;se&&ee(he,1);){var Qe=le,ze=de,yt=H,at=1,Me=yt.m,Be=yt.gc[yt.ab],pt=ee(Me,2);if(yt.Oc&1<<pt)se=0;else{switch(yt.Oc|=1<<pt,Be.hc=pt,Be.Ea=Qe[0],Be.nc=ze[0],Be.K=[null],++yt.ab,t(4>=yt.ab),pt){case 0:case 1:Be.b=ee(Me,3)+2,at=Ge(De(Be.Ea,Be.b),De(Be.nc,Be.b),0,yt,Be.K),Be.K=Be.K[0];break;case 3:var At,vt=ee(Me,8)+1,Xt=16<vt?0:4<vt?1:2<vt?2:3;if(Qe[0]=De(Be.Ea,Xt),Be.b=Xt,At=at=Ge(vt,1,0,yt,Be.K)){var Ut,hr=vt,qt=Be,un=1<<(8>>qt.b),bn=i(un);if(bn==null)At=0;else{var rn=qt.K[0],Hr=qt.w;for(bn[0]=qt.K[0][0],Ut=1;Ut<1*hr;++Ut)bn[Ut]=Te(rn[Hr+Ut],bn[Ut-1]);for(;Ut<4*un;++Ut)bn[Ut]=0;qt.K[0]=null,qt.K[0]=bn,At=1}}at=At;break;case 2:break;default:t(0)}se=at}}if(le=le[0],de=de[0],se&&ee(he,1)&&!(se=1<=(Xe=ee(he,4))&&11>=Xe)){H.a=3;break e}var On;if(On=se)t:{var En,jr,Sa,xs=H,Aa=le,bs=de,wn=Xe,$s=M,Bs=xs.m,Ha=xs.s,li=[null],es=1,uo=0,Il=eY[wn];r:for(;;){if($s&&ee(Bs,1)){var Ga=ee(Bs,3)+2,yc=De(Aa,Ga),dd=De(bs,Ga),Vh=yc*dd;if(!Ge(yc,dd,0,xs,li))break r;for(li=li[0],Ha.xc=Ga,En=0;En<Vh;++En){var Ou=li[En]>>8&65535;li[En]=Ou,Ou>=es&&(es=Ou+1)}}if(Bs.h)break r;for(jr=0;5>jr;++jr){var aa=PP[jr];!jr&&0<wn&&(aa+=1<<wn),uo<aa&&(uo=aa)}var A_=s(es*Il,N),UP=es,VP=s(UP,U);if(VP==null)var ky=null;else t(65536>=UP),ky=VP;var Nm=i(uo);if(ky==null||Nm==null||A_==null){xs.a=1;break r}var Cy=A_;for(En=Sa=0;En<es;++En){var Go=ky[En],zh=Go.G,qh=Go.H,zP=0,Py=1,qP=0;for(jr=0;5>jr;++jr){aa=PP[jr],zh[jr]=Cy,qh[jr]=Sa,!jr&&0<wn&&(aa+=1<<wn);a:{var Oy,T_=aa,Iy=xs,km=Nm,wY=Cy,_Y=Sa,E_=0,Iu=Iy.m,SY=ee(Iu,1);if(a(km,0,0,T_),SY){var AY=ee(Iu,1)+1,TY=ee(Iu,1),WP=ee(Iu,TY==0?1:8);km[WP]=1,AY==2&&(km[WP=ee(Iu,8)]=1);var jy=1}else{var HP=i(19),GP=ee(Iu,4)+4;if(19<GP){Iy.a=3;var Dy=0;break a}for(Oy=0;Oy<GP;++Oy)HP[JK[Oy]]=ee(Iu,3);var N_=void 0,Cm=void 0,KP=Iy,EY=HP,Ly=T_,YP=km,k_=0,ju=KP.m,XP=8,QP=s(128,N);n:for(;E(QP,0,7,EY,19);){if(ee(ju,1)){var NY=2+2*ee(ju,3);if((N_=2+ee(ju,NY))>Ly)break n}else N_=Ly;for(Cm=0;Cm<Ly&&N_--;){Q(ju);var JP=QP[0+(127&R(ju))];G(ju,ju.u+JP.g);var Wh=JP.value;if(16>Wh)YP[Cm++]=Wh,Wh!=0&&(XP=Wh);else{var kY=Wh==16,ZP=Wh-16,CY=XK[ZP],e6=ee(ju,YK[ZP])+CY;if(Cm+e6>Ly)break n;for(var PY=kY?XP:0;0<e6--;)YP[Cm++]=PY}}k_=1;break n}k_||(KP.a=3),jy=k_}(jy=jy&&!Iu.h)&&(E_=E(wY,_Y,8,km,T_)),jy&&E_!=0?Dy=E_:(Iy.a=3,Dy=0)}if(Dy==0)break r;if(Py&&QK[jr]==1&&(Py=Cy[Sa].g==0),zP+=Cy[Sa].g,Sa+=Dy,3>=jr){var Pm,C_=Nm[0];for(Pm=1;Pm<aa;++Pm)Nm[Pm]>C_&&(C_=Nm[Pm]);qP+=C_}}if(Go.nd=Py,Go.Qb=0,Py&&(Go.qb=(zh[3][qh[3]+0].value<<24|zh[1][qh[1]+0].value<<16|zh[2][qh[2]+0].value)>>>0,zP==0&&256>zh[0][qh[0]+0].value&&(Go.Qb=1,Go.qb+=zh[0][qh[0]+0].value<<8)),Go.jc=!Go.Qb&&6>qP,Go.jc){var My,xc=Go;for(My=0;My<oi;++My){var Du=My,Lu=xc.pd[Du],Ry=xc.G[0][xc.H[0]+Du];256<=Ry.value?(Lu.g=Ry.g+256,Lu.value=Ry.value):(Lu.g=0,Lu.value=0,Du>>=Nr(Ry,8,Lu),Du>>=Nr(xc.G[1][xc.H[1]+Du],16,Lu),Du>>=Nr(xc.G[2][xc.H[2]+Du],0,Lu),Nr(xc.G[3][xc.H[3]+Du],24,Lu))}}}Ha.vc=li,Ha.Wb=es,Ha.Ya=ky,Ha.yc=A_,On=1;break t}On=0}if(!(se=On)){H.a=3;break e}if(0<Xe){if(xe.ua=1<<Xe,!Ce(xe.Wa,Xe)){H.a=1,se=0;break e}}else xe.ua=0;var P_=H,t6=le,OY=de,O_=P_.s,I_=O_.xc;if(P_.c=t6,P_.i=OY,O_.md=De(t6,I_),O_.wc=I_==0?-1:(1<<I_)-1,M){H.xb=lY;break e}if((Le=i(le*de))==null){H.a=1,se=0;break e}se=(se=_e(H,Le,0,le,de,de,null))&&!he.h;break e}return se?(re!=null?re[0]=Le:(t(Le==null),t(M)),H.$=0,M||He(xe)):He(xe),se}function Ye(x,C){var M=x.c*x.i,H=M+C+16*C;return t(x.c<=C),x.V=i(H),x.V==null?(x.Ta=null,x.Ua=0,x.a=1,0):(x.Ta=x.V,x.Ua=x.Ba+M+C,1)}function Ze(x,C){var M=x.C,H=C-M,re=x.V,se=x.Ba+x.c*M;for(t(C<=x.l.o);0<H;){var le=16<H?16:H,de=x.l.ma,he=x.l.width,xe=he*le,Le=de.ca,Xe=de.tb+he*M,Qe=x.Ta,ze=x.Ua;ae(x,le,re,se),ha(Qe,ze,Le,Xe,xe),ge(de,M,M+le,Le,Xe,he),H-=le,re+=le*x.c,M+=le}t(M==C),x.C=x.Ma=C}function St(){this.ub=this.yd=this.td=this.Rb=0}function Dt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function $t(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Ct(){this.Yb=function(){var x=[];return function C(M,H,re){for(var se=re[H],le=0;le<se&&(M.push(re.length>H+1?[]:0),!(re.length<H+1));le++)C(M[le],H+1,re)}(x,0,[3,11]),x}()}function Mt(){this.jb=i(3),this.Wc=o([4,8],Ct),this.Xc=o([4,17],Ct)}function dr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function ce(){this.ld=this.La=this.dd=this.tc=0}function ke(){this.Na=this.la=0}function dt(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Bt(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function xt(){this.uc=this.M=this.Nb=0,this.wa=Array(new ce),this.Y=0,this.ya=Array(new Bt),this.aa=0,this.l=new Vt}function ft(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Ot(){this.cb=this.a=0,this.sc="",this.m=new Z,this.Od=new St,this.Kc=new Dt,this.ed=new dr,this.Qa=new $t,this.Ic=this.$c=this.Aa=0,this.D=new xt,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,Z),this.ia=0,this.pb=s(4,dt),this.Pa=new Mt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ft),this.Hd=0,this.rb=Array(new ke),this.sb=0,this.wa=Array(new ce),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Bt),this.L=this.aa=0,this.gd=o([4,2],ce),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Vt(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ht(){var x=new Ot;return x!=null&&(x.a=0,x.sc="OK",x.cb=0,x.Xb=0,Tm||(Tm=Wa)),x}function Jt(x,C,M){return x.a==0&&(x.a=C,x.sc=M,x.cb=0),0}function Mr(x,C,M){return 3<=M&&x[C+0]==157&&x[C+1]==1&&x[C+2]==42}function vn(x,C){if(x==null)return 0;if(x.a=0,x.sc="OK",C==null)return Jt(x,2,"null VP8Io passed to VP8GetHeaders()");var M=C.data,H=C.w,re=C.ha;if(4>re)return Jt(x,7,"Truncated header.");var se=M[H+0]|M[H+1]<<8|M[H+2]<<16,le=x.Od;if(le.Rb=!(1&se),le.td=se>>1&7,le.yd=se>>4&1,le.ub=se>>5,3<le.td)return Jt(x,3,"Incorrect keyframe parameters.");if(!le.yd)return Jt(x,4,"Frame not displayable.");H+=3,re-=3;var de=x.Kc;if(le.Rb){if(7>re)return Jt(x,7,"cannot parse picture header");if(!Mr(M,H,re))return Jt(x,3,"Bad code word");de.c=16383&(M[H+4]<<8|M[H+3]),de.Td=M[H+4]>>6,de.i=16383&(M[H+6]<<8|M[H+5]),de.Ud=M[H+6]>>6,H+=7,re-=7,x.za=de.c+15>>4,x.Ub=de.i+15>>4,C.width=de.c,C.height=de.i,C.Da=0,C.j=0,C.v=0,C.va=C.width,C.o=C.height,C.da=0,C.ib=C.width,C.hb=C.height,C.U=C.width,C.T=C.height,a((se=x.Pa).jb,0,255,se.jb.length),t((se=x.Qa)!=null),se.Cb=0,se.Bb=0,se.Fb=1,a(se.Zb,0,0,se.Zb.length),a(se.Lb,0,0,se.Lb)}if(le.ub>re)return Jt(x,7,"bad partition length");Y(se=x.m,M,H,le.ub),H+=le.ub,re-=le.ub,le.Rb&&(de.Ld=ue(se),de.Kd=ue(se)),de=x.Qa;var he,xe=x.Pa;if(t(se!=null),t(de!=null),de.Cb=ue(se),de.Cb){if(de.Bb=ue(se),ue(se)){for(de.Fb=ue(se),he=0;4>he;++he)de.Zb[he]=ue(se)?J(se,7):0;for(he=0;4>he;++he)de.Lb[he]=ue(se)?J(se,6):0}if(de.Bb)for(he=0;3>he;++he)xe.jb[he]=ue(se)?K(se,8):255}else de.Bb=0;if(se.Ka)return Jt(x,3,"cannot parse segment header");if((de=x.ed).zd=ue(se),de.Tb=K(se,6),de.wb=K(se,3),de.Pc=ue(se),de.Pc&&ue(se)){for(xe=0;4>xe;++xe)ue(se)&&(de.vd[xe]=J(se,6));for(xe=0;4>xe;++xe)ue(se)&&(de.od[xe]=J(se,6))}if(x.L=de.Tb==0?0:de.zd?1:2,se.Ka)return Jt(x,3,"cannot parse filter header");var Le=re;if(re=he=H,H=he+Le,de=Le,x.Xb=(1<<K(x.m,2))-1,Le<3*(xe=x.Xb))M=7;else{for(he+=3*xe,de-=3*xe,Le=0;Le<xe;++Le){var Xe=M[re+0]|M[re+1]<<8|M[re+2]<<16;Xe>de&&(Xe=de),Y(x.Jc[+Le],M,he,Xe),he+=Xe,de-=Xe,re+=3}Y(x.Jc[+xe],M,he,de),M=he<H?0:5}if(M!=0)return Jt(x,M,"cannot parse partitions");for(M=K(he=x.m,7),re=ue(he)?J(he,4):0,H=ue(he)?J(he,4):0,de=ue(he)?J(he,4):0,xe=ue(he)?J(he,4):0,he=ue(he)?J(he,4):0,Le=x.Qa,Xe=0;4>Xe;++Xe){if(Le.Cb){var Qe=Le.Zb[Xe];Le.Fb||(Qe+=M)}else{if(0<Xe){x.pb[Xe]=x.pb[0];continue}Qe=M}var ze=x.pb[Xe];ze.Sc[0]=w_[mn(Qe+re,127)],ze.Sc[1]=__[mn(Qe+0,127)],ze.Eb[0]=2*w_[mn(Qe+H,127)],ze.Eb[1]=101581*__[mn(Qe+de,127)]>>16,8>ze.Eb[1]&&(ze.Eb[1]=8),ze.Qc[0]=w_[mn(Qe+xe,117)],ze.Qc[1]=__[mn(Qe+he,127)],ze.lc=Qe+he}if(!le.Rb)return Jt(x,4,"Not a key frame.");for(ue(se),le=x.Pa,M=0;4>M;++M){for(re=0;8>re;++re)for(H=0;3>H;++H)for(de=0;11>de;++de)xe=ne(se,sY[M][re][H][de])?K(se,8):aY[M][re][H][de],le.Wc[M][re].Yb[H][de]=xe;for(re=0;17>re;++re)le.Xc[M][re]=le.Wc[M][oY[re]]}return x.kc=ue(se),x.kc&&(x.Bd=K(se,8)),x.cb=1}function Wa(x,C,M,H,re,se,le){var de=C[re].Yb[M];for(M=0;16>re;++re){if(!ne(x,de[M+0]))return re;for(;!ne(x,de[M+1]);)if(de=C[++re].Yb[0],M=0,re==16)return 16;var he=C[re+1].Yb;if(ne(x,de[M+2])){var xe=x,Le=0;if(ne(xe,(Qe=de)[(Xe=M)+3]))if(ne(xe,Qe[Xe+6])){for(de=0,Xe=2*(Le=ne(xe,Qe[Xe+8]))+(Qe=ne(xe,Qe[Xe+9+Le])),Le=0,Qe=rY[Xe];Qe[de];++de)Le+=Le+ne(xe,Qe[de]);Le+=3+(8<<Xe)}else ne(xe,Qe[Xe+7])?(Le=7+2*ne(xe,165),Le+=ne(xe,145)):Le=5+ne(xe,159);else Le=ne(xe,Qe[Xe+4])?3+ne(xe,Qe[Xe+5]):2;de=he[2]}else Le=1,de=he[1];he=le+nY[re],0>(xe=x).b&&ie(xe);var Xe,Qe=xe.b,ze=(Xe=xe.Ca>>1)-(xe.I>>Qe)>>31;--xe.b,xe.Ca+=ze,xe.Ca|=1,xe.I-=(Xe+1&ze)<<Qe,se[he]=((Le^ze)-ze)*H[(0<re)+0]}return 16}function Qi(x){var C=x.rb[x.sb-1];C.la=0,C.Na=0,a(x.zc,0,0,x.zc.length),x.ja=0}function hn(x,C){if(x==null)return 0;if(C==null)return Jt(x,2,"NULL VP8Io parameter in VP8Decode().");if(!x.cb&&!vn(x,C))return 0;if(t(x.cb),C.ac==null||C.ac(C)){C.ob&&(x.L=0);var M=Ny[x.L];if(x.L==2?(x.yb=0,x.zb=0):(x.yb=C.v-M>>4,x.zb=C.j-M>>4,0>x.yb&&(x.yb=0),0>x.zb&&(x.zb=0)),x.Va=C.o+15+M>>4,x.Hb=C.va+15+M>>4,x.Hb>x.za&&(x.Hb=x.za),x.Va>x.Ub&&(x.Va=x.Ub),0<x.L){var H=x.ed;for(M=0;4>M;++M){var re;if(x.Qa.Cb){var se=x.Qa.Lb[M];x.Qa.Fb||(se+=H.Tb)}else se=H.Tb;for(re=0;1>=re;++re){var le=x.gd[M][re],de=se;if(H.Pc&&(de+=H.vd[0],re&&(de+=H.od[0])),0<(de=0>de?0:63<de?63:de)){var he=de;0<H.wb&&(he=4<H.wb?he>>2:he>>1)>9-H.wb&&(he=9-H.wb),1>he&&(he=1),le.dd=he,le.tc=2*de+he,le.ld=40<=de?2:15<=de?1:0}else le.tc=0;le.La=re}}}M=0}else Jt(x,6,"Frame setup failed"),M=x.a;if(M=M==0){if(M){x.$c=0,0<x.Aa||(x.Ic=bY);e:{M=x.Ic,H=4*(he=x.za);var xe=32*he,Le=he+1,Xe=0<x.L?he*(0<x.Aa?2:1):0,Qe=(x.Aa==2?2:1)*he;if((le=H+832+(re=3*(16*M+Ny[x.L])/2*xe)+(se=x.Fa!=null&&0<x.Fa.length?x.Kc.c*x.Kc.i:0))!=le)M=0;else{if(le>x.Vb){if(x.Vb=0,x.Ec=i(le),x.Fc=0,x.Ec==null){M=Jt(x,1,"no memory during frame initialization.");break e}x.Vb=le}le=x.Ec,de=x.Fc,x.Ac=le,x.Bc=de,de+=H,x.Gd=s(xe,ft),x.Hd=0,x.rb=s(Le+1,ke),x.sb=1,x.wa=Xe?s(Xe,ce):null,x.Y=0,x.D.Nb=0,x.D.wa=x.wa,x.D.Y=x.Y,0<x.Aa&&(x.D.Y+=he),t(!0),x.oc=le,x.pc=de,de+=832,x.ya=s(Qe,Bt),x.aa=0,x.D.ya=x.ya,x.D.aa=x.aa,x.Aa==2&&(x.D.aa+=he),x.R=16*he,x.B=8*he,he=(xe=Ny[x.L])*x.R,xe=xe/2*x.B,x.sa=le,x.ta=de+he,x.qa=x.sa,x.ra=x.ta+16*M*x.R+xe,x.Ha=x.qa,x.Ia=x.ra+8*M*x.B+xe,x.$c=0,de+=re,x.mb=se?le:null,x.nb=se?de:null,t(de+se<=x.Fc+x.Vb),Qi(x),a(x.Ac,x.Bc,0,H),M=1}}if(M){if(C.ka=0,C.y=x.sa,C.O=x.ta,C.f=x.qa,C.N=x.ra,C.ea=x.Ha,C.Vd=x.Ia,C.fa=x.R,C.Rc=x.B,C.F=null,C.J=0,!yy){for(M=-255;255>=M;++M)La[255+M]=0>M?-M:M;for(M=-1020;1020>=M;++M)gc[1020+M]=-128>M?-128:127<M?127:M;for(M=-112;112>=M;++M)Am[112+M]=-16>M?-16:15<M?15:M;for(M=-255;510>=M;++M)Uh[255+M]=0>M?0:255<M?255:M;yy=1}Fh=lc,mc=Al,wm=Jf,Zi=xn,io=oc,da=Fo,$h=vu,vy=zo,_m=xu,ld=sd,cd=yu,Nu=uc,ud=bu,Bh=kl,fd=cc,ku=Rs,Sm=Da,so=Oh,Ho[0]=no,Ho[1]=pm,Ho[2]=El,Ho[3]=gm,Ho[4]=Ch,Ho[5]=hu,Ho[6]=Ls,Ho[7]=ed,Ho[8]=mu,Ho[9]=pu,Cu[0]=Tl,Cu[1]=mm,Cu[2]=Bo,Cu[3]=fu,Cu[4]=Bn,Cu[5]=kh,Cu[6]=Zf,vc[0]=Vo,vc[1]=Nh,vc[2]=Ph,vc[3]=Uo,vc[4]=pn,vc[5]=td,vc[6]=rd,M=1}else M=0}M&&(M=function(ze,yt){for(ze.M=0;ze.M<ze.Va;++ze.M){var at,Me=ze.Jc[ze.M&ze.Xb],Be=ze.m,pt=ze;for(at=0;at<pt.za;++at){var At=Be,vt=pt,Xt=vt.Ac,Ut=vt.Bc+4*at,hr=vt.zc,qt=vt.ya[vt.aa+at];if(vt.Qa.Bb?qt.$b=ne(At,vt.Pa.jb[0])?2+ne(At,vt.Pa.jb[2]):ne(At,vt.Pa.jb[1]):qt.$b=0,vt.kc&&(qt.Ad=ne(At,vt.Bd)),qt.Za=!ne(At,145)+0,qt.Za){var un=qt.Ob,bn=0;for(vt=0;4>vt;++vt){var rn,Hr=hr[0+vt];for(rn=0;4>rn;++rn){Hr=iY[Xt[Ut+rn]][Hr];for(var On=OP[ne(At,Hr[0])];0<On;)On=OP[2*On+ne(At,Hr[On])];Hr=-On,Xt[Ut+rn]=Hr}n(un,bn,Xt,Ut,4),bn+=4,hr[0+vt]=Hr}}else Hr=ne(At,156)?ne(At,128)?1:3:ne(At,163)?2:0,qt.Ob[0]=Hr,a(Xt,Ut,Hr,4),a(hr,0,Hr,4);qt.Dd=ne(At,142)?ne(At,114)?ne(At,183)?1:3:2:0}if(pt.m.Ka)return Jt(ze,7,"Premature end-of-partition0 encountered.");for(;ze.ja<ze.za;++ze.ja){if(pt=Me,At=(Be=ze).rb[Be.sb-1],Xt=Be.rb[Be.sb+Be.ja],at=Be.ya[Be.aa+Be.ja],Ut=Be.kc?at.Ad:0)At.la=Xt.la=0,at.Za||(At.Na=Xt.Na=0),at.Hc=0,at.Gc=0,at.ia=0;else{var En,jr;if(At=Xt,Xt=pt,Ut=Be.Pa.Xc,hr=Be.ya[Be.aa+Be.ja],qt=Be.pb[hr.$b],vt=hr.ad,un=0,bn=Be.rb[Be.sb-1],Hr=rn=0,a(vt,un,0,384),hr.Za)var Sa=0,xs=Ut[3];else{On=i(16);var Aa=At.Na+bn.Na;if(Aa=Tm(Xt,Ut[1],Aa,qt.Eb,0,On,0),At.Na=bn.Na=(0<Aa)+0,1<Aa)Fh(On,0,vt,un);else{var bs=On[0]+3>>3;for(On=0;256>On;On+=16)vt[un+On]=bs}Sa=1,xs=Ut[0]}var wn=15&At.la,$s=15&bn.la;for(On=0;4>On;++On){var Bs=1&$s;for(bs=jr=0;4>bs;++bs)wn=wn>>1|(Bs=(Aa=Tm(Xt,xs,Aa=Bs+(1&wn),qt.Sc,Sa,vt,un))>Sa)<<7,jr=jr<<2|(3<Aa?3:1<Aa?2:vt[un+0]!=0),un+=16;wn>>=4,$s=$s>>1|Bs<<7,rn=(rn<<8|jr)>>>0}for(xs=wn,Sa=$s>>4,En=0;4>En;En+=2){for(jr=0,wn=At.la>>4+En,$s=bn.la>>4+En,On=0;2>On;++On){for(Bs=1&$s,bs=0;2>bs;++bs)Aa=Bs+(1&wn),wn=wn>>1|(Bs=0<(Aa=Tm(Xt,Ut[2],Aa,qt.Qc,0,vt,un)))<<3,jr=jr<<2|(3<Aa?3:1<Aa?2:vt[un+0]!=0),un+=16;wn>>=2,$s=$s>>1|Bs<<5}Hr|=jr<<4*En,xs|=wn<<4<<En,Sa|=(240&$s)<<En}At.la=xs,bn.la=Sa,hr.Hc=rn,hr.Gc=Hr,hr.ia=43690&Hr?0:qt.ia,Ut=!(rn|Hr)}if(0<Be.L&&(Be.wa[Be.Y+Be.ja]=Be.gd[at.$b][at.Za],Be.wa[Be.Y+Be.ja].La|=!Ut),pt.Ka)return Jt(ze,7,"Premature end-of-file encountered.")}if(Qi(ze),Be=yt,pt=1,at=(Me=ze).D,At=0<Me.L&&Me.M>=Me.zb&&Me.M<=Me.Va,Me.Aa==0)e:{if(at.M=Me.M,at.uc=At,Pl(Me,at),pt=1,at=(jr=Me.D).Nb,At=(Hr=Ny[Me.L])*Me.R,Xt=Hr/2*Me.B,On=16*at*Me.R,bs=8*at*Me.B,Ut=Me.sa,hr=Me.ta-At+On,qt=Me.qa,vt=Me.ra-Xt+bs,un=Me.Ha,bn=Me.Ia-Xt+bs,$s=(wn=jr.M)==0,rn=wn>=Me.Va-1,Me.Aa==2&&Pl(Me,jr),jr.uc)for(Bs=(Aa=Me).D.M,t(Aa.D.uc),jr=Aa.yb;jr<Aa.Hb;++jr){Sa=jr,xs=Bs;var Ha=(li=(aa=Aa).D).Nb;En=aa.R;var li=li.wa[li.Y+Sa],es=aa.sa,uo=aa.ta+16*Ha*En+16*Sa,Il=li.dd,Ga=li.tc;if(Ga!=0)if(t(3<=Ga),aa.L==1)0<Sa&&ku(es,uo,En,Ga+4),li.La&&so(es,uo,En,Ga),0<xs&&fd(es,uo,En,Ga+4),li.La&&Sm(es,uo,En,Ga);else{var yc=aa.B,dd=aa.qa,Vh=aa.ra+8*Ha*yc+8*Sa,Ou=aa.Ha,aa=aa.Ia+8*Ha*yc+8*Sa;Ha=li.ld,0<Sa&&(vy(es,uo,En,Ga+4,Il,Ha),ld(dd,Vh,Ou,aa,yc,Ga+4,Il,Ha)),li.La&&(Nu(es,uo,En,Ga,Il,Ha),Bh(dd,Vh,Ou,aa,yc,Ga,Il,Ha)),0<xs&&($h(es,uo,En,Ga+4,Il,Ha),_m(dd,Vh,Ou,aa,yc,Ga+4,Il,Ha)),li.La&&(cd(es,uo,En,Ga,Il,Ha),ud(dd,Vh,Ou,aa,yc,Ga,Il,Ha))}}if(Me.ia&&alert("todo:DitherRow"),Be.put!=null){if(jr=16*wn,wn=16*(wn+1),$s?(Be.y=Me.sa,Be.O=Me.ta+On,Be.f=Me.qa,Be.N=Me.ra+bs,Be.ea=Me.Ha,Be.W=Me.Ia+bs):(jr-=Hr,Be.y=Ut,Be.O=hr,Be.f=qt,Be.N=vt,Be.ea=un,Be.W=bn),rn||(wn-=Hr),wn>Be.o&&(wn=Be.o),Be.F=null,Be.J=null,Me.Fa!=null&&0<Me.Fa.length&&jr<wn&&(Be.J=Au(Me,Be,jr,wn-jr),Be.F=Me.mb,Be.F==null&&Be.F.length==0)){pt=Jt(Me,3,"Could not decode alpha data.");break e}jr<Be.j&&(Hr=Be.j-jr,jr=Be.j,t(!(1&Hr)),Be.O+=Me.R*Hr,Be.N+=Me.B*(Hr>>1),Be.W+=Me.B*(Hr>>1),Be.F!=null&&(Be.J+=Be.width*Hr)),jr<wn&&(Be.O+=Be.v,Be.N+=Be.v>>1,Be.W+=Be.v>>1,Be.F!=null&&(Be.J+=Be.v),Be.ka=jr-Be.j,Be.U=Be.va-Be.v,Be.T=wn-jr,pt=Be.put(Be))}at+1!=Me.Ic||rn||(n(Me.sa,Me.ta-At,Ut,hr+16*Me.R,At),n(Me.qa,Me.ra-Xt,qt,vt+8*Me.B,Xt),n(Me.Ha,Me.Ia-Xt,un,bn+8*Me.B,Xt))}if(!pt)return Jt(ze,6,"Output aborted.")}return 1}(x,C)),C.bc!=null&&C.bc(C),M&=1}return M?(x.cb=0,M):0}function yn(x,C,M,H,re){re=x[C+M+32*H]+(re>>3),x[C+M+32*H]=-256&re?0>re?0:255:re}function Ai(x,C,M,H,re,se){yn(x,C,0,M,H+re),yn(x,C,1,M,H+se),yn(x,C,2,M,H-se),yn(x,C,3,M,H-re)}function $r(x){return(20091*x>>16)+x}function _a(x,C,M,H){var re,se=0,le=i(16);for(re=0;4>re;++re){var de=x[C+0]+x[C+8],he=x[C+0]-x[C+8],xe=(35468*x[C+4]>>16)-$r(x[C+12]),Le=$r(x[C+4])+(35468*x[C+12]>>16);le[se+0]=de+Le,le[se+1]=he+xe,le[se+2]=he-xe,le[se+3]=de-Le,se+=4,C++}for(re=se=0;4>re;++re)de=(x=le[se+0]+4)+le[se+8],he=x-le[se+8],xe=(35468*le[se+4]>>16)-$r(le[se+12]),yn(M,H,0,0,de+(Le=$r(le[se+4])+(35468*le[se+12]>>16))),yn(M,H,1,0,he+xe),yn(M,H,2,0,he-xe),yn(M,H,3,0,de-Le),se++,H+=32}function Fo(x,C,M,H){var re=x[C+0]+4,se=35468*x[C+4]>>16,le=$r(x[C+4]),de=35468*x[C+1]>>16;Ai(M,H,0,re+le,x=$r(x[C+1]),de),Ai(M,H,1,re+se,x,de),Ai(M,H,2,re-se,x,de),Ai(M,H,3,re-le,x,de)}function Al(x,C,M,H,re){_a(x,C,M,H),re&&_a(x,C+16,M,H+4)}function Jf(x,C,M,H){mc(x,C+0,M,H,1),mc(x,C+32,M,H+128,1)}function xn(x,C,M,H){var re;for(x=x[C+0]+4,re=0;4>re;++re)for(C=0;4>C;++C)yn(M,H,C,re,x)}function oc(x,C,M,H){x[C+0]&&Zi(x,C+0,M,H),x[C+16]&&Zi(x,C+16,M,H+4),x[C+32]&&Zi(x,C+32,M,H+128),x[C+48]&&Zi(x,C+48,M,H+128+4)}function lc(x,C,M,H){var re,se=i(16);for(re=0;4>re;++re){var le=x[C+0+re]+x[C+12+re],de=x[C+4+re]+x[C+8+re],he=x[C+4+re]-x[C+8+re],xe=x[C+0+re]-x[C+12+re];se[0+re]=le+de,se[8+re]=le-de,se[4+re]=xe+he,se[12+re]=xe-he}for(re=0;4>re;++re)le=(x=se[0+4*re]+3)+se[3+4*re],de=se[1+4*re]+se[2+4*re],he=se[1+4*re]-se[2+4*re],xe=x-se[3+4*re],M[H+0]=le+de>>3,M[H+16]=xe+he>>3,M[H+32]=le-de>>3,M[H+48]=xe-he>>3,H+=64}function $o(x,C,M){var H,re=C-32,se=Fs,le=255-x[re-1];for(H=0;H<M;++H){var de,he=se,xe=le+x[C-1];for(de=0;de<M;++de)x[C+de]=he[xe+x[re+de]];C+=32}}function pm(x,C){$o(x,C,4)}function Nh(x,C){$o(x,C,8)}function mm(x,C){$o(x,C,16)}function Bo(x,C){var M;for(M=0;16>M;++M)n(x,C+32*M,x,C-32,16)}function fu(x,C){var M;for(M=16;0<M;--M)a(x,C,x[C-1],16),C+=32}function du(x,C,M){var H;for(H=0;16>H;++H)a(C,M+32*H,x,16)}function Tl(x,C){var M,H=16;for(M=0;16>M;++M)H+=x[C-1+32*M]+x[C+M-32];du(H>>5,x,C)}function Bn(x,C){var M,H=8;for(M=0;16>M;++M)H+=x[C-1+32*M];du(H>>4,x,C)}function kh(x,C){var M,H=8;for(M=0;16>M;++M)H+=x[C+M-32];du(H>>4,x,C)}function Zf(x,C){du(128,x,C)}function _r(x,C,M){return x+2*C+M+2>>2}function El(x,C){var M,H=C-32;for(H=new Uint8Array([_r(x[H-1],x[H+0],x[H+1]),_r(x[H+0],x[H+1],x[H+2]),_r(x[H+1],x[H+2],x[H+3]),_r(x[H+2],x[H+3],x[H+4])]),M=0;4>M;++M)n(x,C+32*M,H,0,H.length)}function gm(x,C){var M=x[C-1],H=x[C-1+32],re=x[C-1+64],se=x[C-1+96];pe(x,C+0,16843009*_r(x[C-1-32],M,H)),pe(x,C+32,16843009*_r(M,H,re)),pe(x,C+64,16843009*_r(H,re,se)),pe(x,C+96,16843009*_r(re,se,se))}function no(x,C){var M,H=4;for(M=0;4>M;++M)H+=x[C+M-32]+x[C-1+32*M];for(H>>=3,M=0;4>M;++M)a(x,C+32*M,H,4)}function Ch(x,C){var M=x[C-1+0],H=x[C-1+32],re=x[C-1+64],se=x[C-1-32],le=x[C+0-32],de=x[C+1-32],he=x[C+2-32],xe=x[C+3-32];x[C+0+96]=_r(H,re,x[C-1+96]),x[C+1+96]=x[C+0+64]=_r(M,H,re),x[C+2+96]=x[C+1+64]=x[C+0+32]=_r(se,M,H),x[C+3+96]=x[C+2+64]=x[C+1+32]=x[C+0+0]=_r(le,se,M),x[C+3+64]=x[C+2+32]=x[C+1+0]=_r(de,le,se),x[C+3+32]=x[C+2+0]=_r(he,de,le),x[C+3+0]=_r(xe,he,de)}function Ls(x,C){var M=x[C+1-32],H=x[C+2-32],re=x[C+3-32],se=x[C+4-32],le=x[C+5-32],de=x[C+6-32],he=x[C+7-32];x[C+0+0]=_r(x[C+0-32],M,H),x[C+1+0]=x[C+0+32]=_r(M,H,re),x[C+2+0]=x[C+1+32]=x[C+0+64]=_r(H,re,se),x[C+3+0]=x[C+2+32]=x[C+1+64]=x[C+0+96]=_r(re,se,le),x[C+3+32]=x[C+2+64]=x[C+1+96]=_r(se,le,de),x[C+3+64]=x[C+2+96]=_r(le,de,he),x[C+3+96]=_r(de,he,he)}function hu(x,C){var M=x[C-1+0],H=x[C-1+32],re=x[C-1+64],se=x[C-1-32],le=x[C+0-32],de=x[C+1-32],he=x[C+2-32],xe=x[C+3-32];x[C+0+0]=x[C+1+64]=se+le+1>>1,x[C+1+0]=x[C+2+64]=le+de+1>>1,x[C+2+0]=x[C+3+64]=de+he+1>>1,x[C+3+0]=he+xe+1>>1,x[C+0+96]=_r(re,H,M),x[C+0+64]=_r(H,M,se),x[C+0+32]=x[C+1+96]=_r(M,se,le),x[C+1+32]=x[C+2+96]=_r(se,le,de),x[C+2+32]=x[C+3+96]=_r(le,de,he),x[C+3+32]=_r(de,he,xe)}function ed(x,C){var M=x[C+0-32],H=x[C+1-32],re=x[C+2-32],se=x[C+3-32],le=x[C+4-32],de=x[C+5-32],he=x[C+6-32],xe=x[C+7-32];x[C+0+0]=M+H+1>>1,x[C+1+0]=x[C+0+64]=H+re+1>>1,x[C+2+0]=x[C+1+64]=re+se+1>>1,x[C+3+0]=x[C+2+64]=se+le+1>>1,x[C+0+32]=_r(M,H,re),x[C+1+32]=x[C+0+96]=_r(H,re,se),x[C+2+32]=x[C+1+96]=_r(re,se,le),x[C+3+32]=x[C+2+96]=_r(se,le,de),x[C+3+64]=_r(le,de,he),x[C+3+96]=_r(de,he,xe)}function pu(x,C){var M=x[C-1+0],H=x[C-1+32],re=x[C-1+64],se=x[C-1+96];x[C+0+0]=M+H+1>>1,x[C+2+0]=x[C+0+32]=H+re+1>>1,x[C+2+32]=x[C+0+64]=re+se+1>>1,x[C+1+0]=_r(M,H,re),x[C+3+0]=x[C+1+32]=_r(H,re,se),x[C+3+32]=x[C+1+64]=_r(re,se,se),x[C+3+64]=x[C+2+64]=x[C+0+96]=x[C+1+96]=x[C+2+96]=x[C+3+96]=se}function mu(x,C){var M=x[C-1+0],H=x[C-1+32],re=x[C-1+64],se=x[C-1+96],le=x[C-1-32],de=x[C+0-32],he=x[C+1-32],xe=x[C+2-32];x[C+0+0]=x[C+2+32]=M+le+1>>1,x[C+0+32]=x[C+2+64]=H+M+1>>1,x[C+0+64]=x[C+2+96]=re+H+1>>1,x[C+0+96]=se+re+1>>1,x[C+3+0]=_r(de,he,xe),x[C+2+0]=_r(le,de,he),x[C+1+0]=x[C+3+32]=_r(M,le,de),x[C+1+32]=x[C+3+64]=_r(H,M,le),x[C+1+64]=x[C+3+96]=_r(re,H,M),x[C+1+96]=_r(se,re,H)}function Ph(x,C){var M;for(M=0;8>M;++M)n(x,C+32*M,x,C-32,8)}function Uo(x,C){var M;for(M=0;8>M;++M)a(x,C,x[C-1],8),C+=32}function Ms(x,C,M){var H;for(H=0;8>H;++H)a(C,M+32*H,x,8)}function Vo(x,C){var M,H=8;for(M=0;8>M;++M)H+=x[C+M-32]+x[C-1+32*M];Ms(H>>4,x,C)}function td(x,C){var M,H=4;for(M=0;8>M;++M)H+=x[C+M-32];Ms(H>>3,x,C)}function pn(x,C){var M,H=4;for(M=0;8>M;++M)H+=x[C-1+32*M];Ms(H>>3,x,C)}function rd(x,C){Ms(128,x,C)}function gu(x,C,M){var H=x[C-M],re=x[C+0],se=3*(re-H)+g_[1020+x[C-2*M]-x[C+M]],le=xy[112+(se+4>>3)];x[C-M]=Fs[255+H+xy[112+(se+3>>3)]],x[C+0]=Fs[255+re-le]}function nd(x,C,M,H){var re=x[C+0],se=x[C+M];return lo[255+x[C-2*M]-x[C-M]]>H||lo[255+se-re]>H}function ad(x,C,M,H){return 4*lo[255+x[C-M]-x[C+0]]+lo[255+x[C-2*M]-x[C+M]]<=H}function id(x,C,M,H,re){var se=x[C-3*M],le=x[C-2*M],de=x[C-M],he=x[C+0],xe=x[C+M],Le=x[C+2*M],Xe=x[C+3*M];return 4*lo[255+de-he]+lo[255+le-xe]>H?0:lo[255+x[C-4*M]-se]<=re&&lo[255+se-le]<=re&&lo[255+le-de]<=re&&lo[255+Xe-Le]<=re&&lo[255+Le-xe]<=re&&lo[255+xe-he]<=re}function cc(x,C,M,H){var re=2*H+1;for(H=0;16>H;++H)ad(x,C+H,M,re)&&gu(x,C+H,M)}function Rs(x,C,M,H){var re=2*H+1;for(H=0;16>H;++H)ad(x,C+H*M,1,re)&&gu(x,C+H*M,1)}function Da(x,C,M,H){var re;for(re=3;0<re;--re)cc(x,C+=4*M,M,H)}function Oh(x,C,M,H){var re;for(re=3;0<re;--re)Rs(x,C+=4,M,H)}function Nl(x,C,M,H,re,se,le,de){for(se=2*se+1;0<re--;){if(id(x,C,M,se,le))if(nd(x,C,M,de))gu(x,C,M);else{var he=x,xe=C,Le=M,Xe=he[xe-2*Le],Qe=he[xe-Le],ze=he[xe+0],yt=he[xe+Le],at=he[xe+2*Le],Me=27*(pt=g_[1020+3*(ze-Qe)+g_[1020+Xe-yt]])+63>>7,Be=18*pt+63>>7,pt=9*pt+63>>7;he[xe-3*Le]=Fs[255+he[xe-3*Le]+pt],he[xe-2*Le]=Fs[255+Xe+Be],he[xe-Le]=Fs[255+Qe+Me],he[xe+0]=Fs[255+ze-Me],he[xe+Le]=Fs[255+yt-Be],he[xe+2*Le]=Fs[255+at-pt]}C+=H}}function ii(x,C,M,H,re,se,le,de){for(se=2*se+1;0<re--;){if(id(x,C,M,se,le))if(nd(x,C,M,de))gu(x,C,M);else{var he=x,xe=C,Le=M,Xe=he[xe-Le],Qe=he[xe+0],ze=he[xe+Le],yt=xy[112+((at=3*(Qe-Xe))+4>>3)],at=xy[112+(at+3>>3)],Me=yt+1>>1;he[xe-2*Le]=Fs[255+he[xe-2*Le]+Me],he[xe-Le]=Fs[255+Xe+at],he[xe+0]=Fs[255+Qe-yt],he[xe+Le]=Fs[255+ze-Me]}C+=H}}function vu(x,C,M,H,re,se){Nl(x,C,M,1,16,H,re,se)}function zo(x,C,M,H,re,se){Nl(x,C,1,M,16,H,re,se)}function yu(x,C,M,H,re,se){var le;for(le=3;0<le;--le)ii(x,C+=4*M,M,1,16,H,re,se)}function uc(x,C,M,H,re,se){var le;for(le=3;0<le;--le)ii(x,C+=4,1,M,16,H,re,se)}function xu(x,C,M,H,re,se,le,de){Nl(x,C,re,1,8,se,le,de),Nl(M,H,re,1,8,se,le,de)}function sd(x,C,M,H,re,se,le,de){Nl(x,C,1,re,8,se,le,de),Nl(M,H,1,re,8,se,le,de)}function bu(x,C,M,H,re,se,le,de){ii(x,C+4*re,re,1,8,se,le,de),ii(M,H+4*re,re,1,8,se,le,de)}function kl(x,C,M,H,re,se,le,de){ii(x,C+4,1,re,8,se,le,de),ii(M,H+4,1,re,8,se,le,de)}function fc(){this.ba=new Lt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Rt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function wu(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function dc(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function _u(){this.ua=0,this.Wa=new oe,this.vb=new oe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new U,this.yc=new N}function Ih(){this.xb=this.a=0,this.l=new Vt,this.ca=new Lt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new k,this.Pb=0,this.wd=new k,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new _u,this.ab=0,this.gc=s(4,dc),this.Oc=0}function qo(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Vt,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Cl(x,C,M,H,re,se,le){for(x=x==null?0:x[C+0],C=0;C<le;++C)re[se+C]=x+M[H+C]&255,x=re[se+C]}function Su(x,C,M,H,re,se,le){var de;if(x==null)Cl(null,null,M,H,re,se,le);else for(de=0;de<le;++de)re[se+de]=x[C+de]+M[H+de]&255}function Ti(x,C,M,H,re,se,le){if(x==null)Cl(null,null,M,H,re,se,le);else{var de,he=x[C+0],xe=he,Le=he;for(de=0;de<le;++de)xe=Le+(he=x[C+de])-xe,Le=M[H+de]+(-256&xe?0>xe?0:255:xe)&255,xe=he,re[se+de]=Le}}function Au(x,C,M,H){var re=C.width,se=C.o;if(t(x!=null&&C!=null),0>M||0>=H||M+H>se)return null;if(!x.Cc){if(x.ga==null){var le;if(x.ga=new qo,(le=x.ga==null)||(le=C.width*C.o,t(x.Gb.length==0),x.Gb=i(le),x.Uc=0,x.Gb==null?le=0:(x.mb=x.Gb,x.nb=x.Uc,x.rc=null,le=1),le=!le),!le){le=x.ga;var de=x.Fa,he=x.P,xe=x.qc,Le=x.mb,Xe=x.nb,Qe=he+1,ze=xe-1,yt=le.l;if(t(de!=null&&Le!=null&&C!=null),Pu[0]=null,Pu[1]=Cl,Pu[2]=Su,Pu[3]=Ti,le.ca=Le,le.tb=Xe,le.c=C.width,le.i=C.height,t(0<le.c&&0<le.i),1>=xe)C=0;else if(le.$a=de[he+0]>>0&3,le.Z=de[he+0]>>2&3,le.Lc=de[he+0]>>4&3,he=de[he+0]>>6&3,0>le.$a||1<le.$a||4<=le.Z||1<le.Lc||he)C=0;else if(yt.put=Ae,yt.ac=gr,yt.bc=ct,yt.ma=le,yt.width=C.width,yt.height=C.height,yt.Da=C.Da,yt.v=C.v,yt.va=C.va,yt.j=C.j,yt.o=C.o,le.$a)e:{t(le.$a==1),C=rt();t:for(;;){if(C==null){C=0;break e}if(t(le!=null),le.mc=C,C.c=le.c,C.i=le.i,C.l=le.l,C.l.ma=le,C.l.width=le.c,C.l.height=le.i,C.a=0,z(C.m,de,Qe,ze),!Ge(le.c,le.i,1,C,null)||(C.ab==1&&C.gc[0].hc==3&&me(C.s)?(le.ic=1,de=C.c*C.i,C.Ta=null,C.Ua=0,C.V=i(de),C.Ba=0,C.V==null?(C.a=1,C=0):C=1):(le.ic=0,C=Ye(C,le.c)),!C))break t;C=1;break e}le.mc=null,C=0}else C=ze>=le.c*le.i;le=!C}if(le)return null;x.ga.Lc!=1?x.Ga=0:H=se-M}t(x.ga!=null),t(M+H<=se);e:{if(C=(de=x.ga).c,se=de.l.o,de.$a==0){if(Qe=x.rc,ze=x.Vc,yt=x.Fa,he=x.P+1+M*C,xe=x.mb,Le=x.nb+M*C,t(he<=x.P+x.qc),de.Z!=0)for(t(Pu[de.Z]!=null),le=0;le<H;++le)Pu[de.Z](Qe,ze,yt,he,xe,Le,C),Qe=xe,ze=Le,Le+=C,he+=C;else for(le=0;le<H;++le)n(xe,Le,yt,he,C),Qe=xe,ze=Le,Le+=C,he+=C;x.rc=Qe,x.Vc=ze}else{if(t(de.mc!=null),C=M+H,t((le=de.mc)!=null),t(C<=le.i),le.C>=C)C=1;else if(de.ic||Ve(),de.ic){de=le.V,Qe=le.Ba,ze=le.c;var at=le.i,Me=(yt=1,he=le.$/ze,xe=le.$%ze,Le=le.m,Xe=le.s,le.$),Be=ze*at,pt=ze*C,At=Xe.wc,vt=Me<pt?Vr(Xe,xe,he):null;t(Me<=Be),t(C<=at),t(me(Xe));t:for(;;){for(;!Le.h&&Me<pt;){if(xe&At||(vt=Vr(Xe,xe,he)),t(vt!=null),Q(Le),256>(at=Rr(vt.G[0],vt.H[0],Le)))de[Qe+Me]=at,++Me,++xe>=ze&&(xe=0,++he<=C&&!(he%16)&&be(le,he));else{if(!(280>at)){yt=0;break t}at=Kt(at-256,Le);var Xt,Ut=Rr(vt.G[4],vt.H[4],Le);if(Q(Le),!(Me>=(Ut=ir(ze,Ut=Kt(Ut,Le)))&&Be-Me>=at)){yt=0;break t}for(Xt=0;Xt<at;++Xt)de[Qe+Me+Xt]=de[Qe+Me+Xt-Ut];for(Me+=at,xe+=at;xe>=ze;)xe-=ze,++he<=C&&!(he%16)&&be(le,he);Me<pt&&xe&At&&(vt=Vr(Xe,xe,he))}t(Le.h==q(Le))}be(le,he>C?C:he);break t}!yt||Le.h&&Me<Be?(yt=0,le.a=Le.h?5:3):le.$=Me,C=yt}else C=_e(le,le.V,le.Ba,le.c,le.i,C,Ze);if(!C){H=0;break e}}M+H>=se&&(x.Cc=1),H=1}if(!H)return null;if(x.Cc&&((H=x.ga)!=null&&(H.mc=null),x.ga=null,0<x.Ga))return alert("todo:WebPDequantizeLevels"),null}return x.nb+M*re}function L(x,C,M,H,re,se){for(;0<re--;){var le,de=x,he=C+(M?1:0),xe=x,Le=C+(M?0:3);for(le=0;le<H;++le){var Xe=xe[Le+4*le];Xe!=255&&(Xe*=32897,de[he+4*le+0]=de[he+4*le+0]*Xe>>23,de[he+4*le+1]=de[he+4*le+1]*Xe>>23,de[he+4*le+2]=de[he+4*le+2]*Xe>>23)}C+=se}}function te(x,C,M,H,re){for(;0<H--;){var se;for(se=0;se<M;++se){var le=x[C+2*se+0],de=15&(xe=x[C+2*se+1]),he=4369*de,xe=(240&xe|xe>>4)*he>>16;x[C+2*se+0]=(240&le|le>>4)*he>>16&240|(15&le|le<<4)*he>>16>>4&15,x[C+2*se+1]=240&xe|de}C+=re}}function Se(x,C,M,H,re,se,le,de){var he,xe,Le=255;for(xe=0;xe<re;++xe){for(he=0;he<H;++he){var Xe=x[C+he];se[le+4*he]=Xe,Le&=Xe}C+=M,le+=de}return Le!=255}function Oe(x,C,M,H,re){var se;for(se=0;se<re;++se)M[H+se]=x[C+se]>>8}function Ve(){oo=L,Ln=te,Mn=Se,ha=Oe}function it(x,C,M){_[x]=function(H,re,se,le,de,he,xe,Le,Xe,Qe,ze,yt,at,Me,Be,pt,At){var vt,Xt=At-1>>1,Ut=de[he+0]|xe[Le+0]<<16,hr=Xe[Qe+0]|ze[yt+0]<<16;t(H!=null);var qt=3*Ut+hr+131074>>2;for(C(H[re+0],255&qt,qt>>16,at,Me),se!=null&&(qt=3*hr+Ut+131074>>2,C(se[le+0],255&qt,qt>>16,Be,pt)),vt=1;vt<=Xt;++vt){var un=de[he+vt]|xe[Le+vt]<<16,bn=Xe[Qe+vt]|ze[yt+vt]<<16,rn=Ut+un+hr+bn+524296,Hr=rn+2*(un+hr)>>3;qt=Hr+Ut>>1,Ut=(rn=rn+2*(Ut+bn)>>3)+un>>1,C(H[re+2*vt-1],255&qt,qt>>16,at,Me+(2*vt-1)*M),C(H[re+2*vt-0],255&Ut,Ut>>16,at,Me+(2*vt-0)*M),se!=null&&(qt=rn+hr>>1,Ut=Hr+bn>>1,C(se[le+2*vt-1],255&qt,qt>>16,Be,pt+(2*vt-1)*M),C(se[le+2*vt+0],255&Ut,Ut>>16,Be,pt+(2*vt+0)*M)),Ut=un,hr=bn}1&At||(qt=3*Ut+hr+131074>>2,C(H[re+At-1],255&qt,qt>>16,at,Me+(At-1)*M),se!=null&&(qt=3*hr+Ut+131074>>2,C(se[le+At-1],255&qt,qt>>16,Be,pt+(At-1)*M)))}}function Tt(){co[by]=cY,co[wy]=jP,co[kP]=uY,co[_y]=DP,co[Sy]=LP,co[v_]=MP,co[CP]=fY,co[y_]=jP,co[x_]=DP,co[Ay]=LP,co[b_]=MP}function zt(x){return x&~dY?0>x?0:255:x>>RP}function A(x,C){return zt((19077*x>>8)+(26149*C>>8)-14234)}function F(x,C,M){return zt((19077*x>>8)-(6419*C>>8)-(13320*M>>8)+8708)}function X(x,C){return zt((19077*x>>8)+(33050*C>>8)-17685)}function fe(x,C,M,H,re){H[re+0]=A(x,M),H[re+1]=F(x,C,M),H[re+2]=X(x,C)}function Ue(x,C,M,H,re){H[re+0]=X(x,C),H[re+1]=F(x,C,M),H[re+2]=A(x,M)}function et(x,C,M,H,re){var se=F(x,C,M);C=se<<3&224|X(x,C)>>3,H[re+0]=248&A(x,M)|se>>5,H[re+1]=C}function Et(x,C,M,H,re){var se=240&X(x,C)|15;H[re+0]=240&A(x,M)|F(x,C,M)>>4,H[re+1]=se}function Cr(x,C,M,H,re){H[re+0]=255,fe(x,C,M,H,re+1)}function Wr(x,C,M,H,re){Ue(x,C,M,H,re),H[re+3]=255}function Pr(x,C,M,H,re){fe(x,C,M,H,re),H[re+3]=255}function mn(x,C){return 0>x?0:x>C?C:x}function Pn(x,C,M){_[x]=function(H,re,se,le,de,he,xe,Le,Xe){for(var Qe=Le+(-2&Xe)*M;Le!=Qe;)C(H[re+0],se[le+0],de[he+0],xe,Le),C(H[re+1],se[le+0],de[he+0],xe,Le+M),re+=2,++le,++he,Le+=2*M;1&Xe&&C(H[re+0],se[le+0],de[he+0],xe,Le)}}function Wo(x,C,M){return M==0?x==0?C==0?6:5:C==0?4:0:M}function si(x,C,M,H,re){switch(x>>>30){case 3:mc(C,M,H,re,0);break;case 2:da(C,M,H,re);break;case 1:Zi(C,M,H,re)}}function Pl(x,C){var M,H,re=C.M,se=C.Nb,le=x.oc,de=x.pc+40,he=x.oc,xe=x.pc+584,Le=x.oc,Xe=x.pc+600;for(M=0;16>M;++M)le[de+32*M-1]=129;for(M=0;8>M;++M)he[xe+32*M-1]=129,Le[Xe+32*M-1]=129;for(0<re?le[de-1-32]=he[xe-1-32]=Le[Xe-1-32]=129:(a(le,de-32-1,127,21),a(he,xe-32-1,127,9),a(Le,Xe-32-1,127,9)),H=0;H<x.za;++H){var Qe=C.ya[C.aa+H];if(0<H){for(M=-1;16>M;++M)n(le,de+32*M-4,le,de+32*M+12,4);for(M=-1;8>M;++M)n(he,xe+32*M-4,he,xe+32*M+4,4),n(Le,Xe+32*M-4,Le,Xe+32*M+4,4)}var ze=x.Gd,yt=x.Hd+H,at=Qe.ad,Me=Qe.Hc;if(0<re&&(n(le,de-32,ze[yt].y,0,16),n(he,xe-32,ze[yt].f,0,8),n(Le,Xe-32,ze[yt].ea,0,8)),Qe.Za){var Be=le,pt=de-32+16;for(0<re&&(H>=x.za-1?a(Be,pt,ze[yt].y[15],4):n(Be,pt,ze[yt+1].y,0,4)),M=0;4>M;M++)Be[pt+128+M]=Be[pt+256+M]=Be[pt+384+M]=Be[pt+0+M];for(M=0;16>M;++M,Me<<=2)Be=le,pt=de+$P[M],Ho[Qe.Ob[M]](Be,pt),si(Me,at,16*+M,Be,pt)}else if(Be=Wo(H,re,Qe.Ob[0]),Cu[Be](le,de),Me!=0)for(M=0;16>M;++M,Me<<=2)si(Me,at,16*+M,le,de+$P[M]);for(M=Qe.Gc,Be=Wo(H,re,Qe.Dd),vc[Be](he,xe),vc[Be](Le,Xe),Me=at,Be=he,pt=xe,255&(Qe=M>>0)&&(170&Qe?wm(Me,256,Be,pt):io(Me,256,Be,pt)),Qe=Le,Me=Xe,255&(M>>=8)&&(170&M?wm(at,320,Qe,Me):io(at,320,Qe,Me)),re<x.Ub-1&&(n(ze[yt].y,0,le,de+480,16),n(ze[yt].f,0,he,xe+224,8),n(ze[yt].ea,0,Le,Xe+224,8)),M=8*se*x.B,ze=x.sa,yt=x.ta+16*H+16*se*x.R,at=x.qa,Qe=x.ra+8*H+M,Me=x.Ha,Be=x.Ia+8*H+M,M=0;16>M;++M)n(ze,yt+M*x.R,le,de+32*M,16);for(M=0;8>M;++M)n(at,Qe+M*x.B,he,xe+32*M,8),n(Me,Be+M*x.B,Le,Xe+32*M,8)}}function Ol(x,C,M,H,re,se,le,de,he){var xe=[0],Le=[0],Xe=0,Qe=he!=null?he.kd:0,ze=he??new wu;if(x==null||12>M)return 7;ze.data=x,ze.w=C,ze.ha=M,C=[C],M=[M],ze.gb=[ze.gb];e:{var yt=C,at=M,Me=ze.gb;if(t(x!=null),t(at!=null),t(Me!=null),Me[0]=0,12<=at[0]&&!r(x,yt[0],"RIFF")){if(r(x,yt[0]+8,"WEBP")){Me=3;break e}var Be=Pe(x,yt[0]+4);if(12>Be||4294967286<Be){Me=3;break e}if(Qe&&Be>at[0]-8){Me=7;break e}Me[0]=Be,yt[0]+=12,at[0]-=12}Me=0}if(Me!=0)return Me;for(Be=0<ze.gb[0],M=M[0];;){e:{var pt=x;at=C,Me=M;var At=xe,vt=Le,Xt=yt=[0];if((qt=Xe=[Xe])[0]=0,8>Me[0])Me=7;else{if(!r(pt,at[0],"VP8X")){if(Pe(pt,at[0]+4)!=10){Me=3;break e}if(18>Me[0]){Me=7;break e}var Ut=Pe(pt,at[0]+8),hr=1+W(pt,at[0]+12);if(2147483648<=hr*(pt=1+W(pt,at[0]+15))){Me=3;break e}Xt!=null&&(Xt[0]=Ut),At!=null&&(At[0]=hr),vt!=null&&(vt[0]=pt),at[0]+=18,Me[0]-=18,qt[0]=1}Me=0}}if(Xe=Xe[0],yt=yt[0],Me!=0)return Me;if(at=!!(2&yt),!Be&&Xe)return 3;if(se!=null&&(se[0]=!!(16&yt)),le!=null&&(le[0]=at),de!=null&&(de[0]=0),le=xe[0],yt=Le[0],Xe&&at&&he==null){Me=0;break}if(4>M){Me=7;break}if(Be&&Xe||!Be&&!Xe&&!r(x,C[0],"ALPH")){M=[M],ze.na=[ze.na],ze.P=[ze.P],ze.Sa=[ze.Sa];e:{Ut=x,Me=C,Be=M;var qt=ze.gb;At=ze.na,vt=ze.P,Xt=ze.Sa,hr=22,t(Ut!=null),t(Be!=null),pt=Me[0];var un=Be[0];for(t(At!=null),t(Xt!=null),At[0]=null,vt[0]=null,Xt[0]=0;;){if(Me[0]=pt,Be[0]=un,8>un){Me=7;break e}var bn=Pe(Ut,pt+4);if(4294967286<bn){Me=3;break e}var rn=8+bn+1&-2;if(hr+=rn,0<qt&&hr>qt){Me=3;break e}if(!r(Ut,pt,"VP8 ")||!r(Ut,pt,"VP8L")){Me=0;break e}if(un[0]<rn){Me=7;break e}r(Ut,pt,"ALPH")||(At[0]=Ut,vt[0]=pt+8,Xt[0]=bn),pt+=rn,un-=rn}}if(M=M[0],ze.na=ze.na[0],ze.P=ze.P[0],ze.Sa=ze.Sa[0],Me!=0)break}M=[M],ze.Ja=[ze.Ja],ze.xa=[ze.xa];e:if(qt=x,Me=C,Be=M,At=ze.gb[0],vt=ze.Ja,Xt=ze.xa,Ut=Me[0],pt=!r(qt,Ut,"VP8 "),hr=!r(qt,Ut,"VP8L"),t(qt!=null),t(Be!=null),t(vt!=null),t(Xt!=null),8>Be[0])Me=7;else{if(pt||hr){if(qt=Pe(qt,Ut+4),12<=At&&qt>At-12){Me=3;break e}if(Qe&&qt>Be[0]-8){Me=7;break e}vt[0]=qt,Me[0]+=8,Be[0]-=8,Xt[0]=hr}else Xt[0]=5<=Be[0]&&qt[Ut+0]==47&&!(qt[Ut+4]>>5),vt[0]=Be[0];Me=0}if(M=M[0],ze.Ja=ze.Ja[0],ze.xa=ze.xa[0],C=C[0],Me!=0)break;if(4294967286<ze.Ja)return 3;if(de==null||at||(de[0]=ze.xa?2:1),le=[le],yt=[yt],ze.xa){if(5>M){Me=7;break}de=le,Qe=yt,at=se,x==null||5>M?x=0:5<=M&&x[C+0]==47&&!(x[C+4]>>5)?(Be=[0],qt=[0],At=[0],z(vt=new k,x,C,M),We(vt,Be,qt,At)?(de!=null&&(de[0]=Be[0]),Qe!=null&&(Qe[0]=qt[0]),at!=null&&(at[0]=At[0]),x=1):x=0):x=0}else{if(10>M){Me=7;break}de=yt,x==null||10>M||!Mr(x,C+3,M-3)?x=0:(Qe=x[C+0]|x[C+1]<<8|x[C+2]<<16,at=16383&(x[C+7]<<8|x[C+6]),x=16383&(x[C+9]<<8|x[C+8]),1&Qe||3<(Qe>>1&7)||!(Qe>>4&1)||Qe>>5>=ze.Ja||!at||!x?x=0:(le&&(le[0]=at),de&&(de[0]=x),x=1))}if(!x||(le=le[0],yt=yt[0],Xe&&(xe[0]!=le||Le[0]!=yt)))return 3;he!=null&&(he[0]=ze,he.offset=C-he.w,t(4294967286>C-he.w),t(he.offset==he.ha-M));break}return Me==0||Me==7&&Xe&&he==null?(se!=null&&(se[0]|=ze.na!=null&&0<ze.na.length),H!=null&&(H[0]=le),re!=null&&(re[0]=yt),0):Me}function vm(x,C,M){var H=C.width,re=C.height,se=0,le=0,de=H,he=re;if(C.Da=x!=null&&0<x.Da,C.Da&&(de=x.cd,he=x.bd,se=x.v,le=x.j,11>M||(se&=-2,le&=-2),0>se||0>le||0>=de||0>=he||se+de>H||le+he>re))return 0;if(C.v=se,C.j=le,C.va=se+de,C.o=le+he,C.U=de,C.T=he,C.da=x!=null&&0<x.da,C.da){if(!ve(de,he,M=[x.ib],se=[x.hb]))return 0;C.ib=M[0],C.hb=se[0]}return C.ob=x!=null&&x.ob,C.Kb=x==null||!x.Sd,C.da&&(C.ob=C.ib<3*H/4&&C.hb<3*re/4,C.Kb=0),1}function ym(x){if(x==null)return 2;if(11>x.S){var C=x.f.RGBA;C.fb+=(x.height-1)*C.A,C.A=-C.A}else C=x.f.kb,x=x.height,C.O+=(x-1)*C.fa,C.fa=-C.fa,C.N+=(x-1>>1)*C.Ab,C.Ab=-C.Ab,C.W+=(x-1>>1)*C.Db,C.Db=-C.Db,C.F!=null&&(C.J+=(x-1)*C.lb,C.lb=-C.lb);return 0}function jh(x,C,M,H){if(H==null||0>=x||0>=C)return 2;if(M!=null){if(M.Da){var re=M.cd,se=M.bd,le=-2&M.v,de=-2&M.j;if(0>le||0>de||0>=re||0>=se||le+re>x||de+se>C)return 2;x=re,C=se}if(M.da){if(!ve(x,C,re=[M.ib],se=[M.hb]))return 2;x=re[0],C=se[0]}}H.width=x,H.height=C;e:{var he=H.width,xe=H.height;if(x=H.S,0>=he||0>=xe||!(x>=by&&13>x))x=2;else{if(0>=H.Rd&&H.sd==null){le=se=re=C=0;var Le=(de=he*BP[x])*xe;if(11>x||(se=(xe+1)/2*(C=(he+1)/2),x==12&&(le=(re=he)*xe)),(xe=i(Le+2*se+le))==null){x=1;break e}H.sd=xe,11>x?((he=H.f.RGBA).eb=xe,he.fb=0,he.A=de,he.size=Le):((he=H.f.kb).y=xe,he.O=0,he.fa=de,he.Fd=Le,he.f=xe,he.N=0+Le,he.Ab=C,he.Cd=se,he.ea=xe,he.W=0+Le+se,he.Db=C,he.Ed=se,x==12&&(he.F=xe,he.J=0+Le+2*se),he.Tc=le,he.lb=re)}if(C=1,re=H.S,se=H.width,le=H.height,re>=by&&13>re)if(11>re)x=H.f.RGBA,C&=(de=Math.abs(x.A))*(le-1)+se<=x.size,C&=de>=se*BP[re],C&=x.eb!=null;else{x=H.f.kb,de=(se+1)/2,Le=(le+1)/2,he=Math.abs(x.fa),xe=Math.abs(x.Ab);var Xe=Math.abs(x.Db),Qe=Math.abs(x.lb),ze=Qe*(le-1)+se;C&=he*(le-1)+se<=x.Fd,C&=xe*(Le-1)+de<=x.Cd,C=(C&=Xe*(Le-1)+de<=x.Ed)&he>=se&xe>=de&Xe>=de,C&=x.y!=null,C&=x.f!=null,C&=x.ea!=null,re==12&&(C&=Qe>=se,C&=ze<=x.Tc,C&=x.F!=null)}else C=0;x=C?0:2}}return x!=0||M!=null&&M.fd&&(x=ym(H)),x}var oi=64,Dh=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Lh=24,Mh=32,xm=8,vs=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Re("Predictor0","PredictorAdd0"),_.Predictor0=function(){return 4278190080},_.Predictor1=function(x){return x},_.Predictor2=function(x,C,M){return C[M+0]},_.Predictor3=function(x,C,M){return C[M+1]},_.Predictor4=function(x,C,M){return C[M-1]},_.Predictor5=function(x,C,M){return qe(qe(x,C[M+1]),C[M+0])},_.Predictor6=function(x,C,M){return qe(x,C[M-1])},_.Predictor7=function(x,C,M){return qe(x,C[M+0])},_.Predictor8=function(x,C,M){return qe(C[M-1],C[M+0])},_.Predictor9=function(x,C,M){return qe(C[M+0],C[M+1])},_.Predictor10=function(x,C,M){return qe(qe(x,C[M-1]),qe(C[M+0],C[M+1]))},_.Predictor11=function(x,C,M){var H=C[M+0];return 0>=ut(H>>24&255,x>>24&255,(C=C[M-1])>>24&255)+ut(H>>16&255,x>>16&255,C>>16&255)+ut(H>>8&255,x>>8&255,C>>8&255)+ut(255&H,255&x,255&C)?H:x},_.Predictor12=function(x,C,M){var H=C[M+0];return(je((x>>24&255)+(H>>24&255)-((C=C[M-1])>>24&255))<<24|je((x>>16&255)+(H>>16&255)-(C>>16&255))<<16|je((x>>8&255)+(H>>8&255)-(C>>8&255))<<8|je((255&x)+(255&H)-(255&C)))>>>0},_.Predictor13=function(x,C,M){var H=C[M-1];return(Je((x=qe(x,C[M+0]))>>24&255,H>>24&255)<<24|Je(x>>16&255,H>>16&255)<<16|Je(x>>8&255,H>>8&255)<<8|Je(x>>0&255,H>>0&255))>>>0};var m_=_.PredictorAdd0;_.PredictorAdd1=ot,Re("Predictor2","PredictorAdd2"),Re("Predictor3","PredictorAdd3"),Re("Predictor4","PredictorAdd4"),Re("Predictor5","PredictorAdd5"),Re("Predictor6","PredictorAdd6"),Re("Predictor7","PredictorAdd7"),Re("Predictor8","PredictorAdd8"),Re("Predictor9","PredictorAdd9"),Re("Predictor10","PredictorAdd10"),Re("Predictor11","PredictorAdd11"),Re("Predictor12","PredictorAdd12"),Re("Predictor13","PredictorAdd13");var bm=_.PredictorAdd2;_t("ColorIndexInverseTransform","MapARGB","32b",function(x){return x>>8&255},function(x){return x}),_t("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(x){return x},function(x){return x>>8&255});var py,ao=_.ColorIndexInverseTransform,Rh=_.MapARGB,my=_.VP8LColorIndexInverseTransformAlpha,gy=_.MapAlpha,Tu=_.VP8LPredictorsAdd=[];Tu.length=16,(_.VP8LPredictors=[]).length=16,(_.VP8LPredictorsAdd_C=[]).length=16,(_.VP8LPredictors_C=[]).length=16;var od,ys,Ji,Eu,hc,pc,Fh,mc,da,wm,Zi,io,$h,vy,_m,ld,cd,Nu,ud,Bh,fd,ku,Sm,so,oo,Ln,Mn,ha,La=i(511),gc=i(2041),Am=i(225),Uh=i(767),yy=0,g_=gc,xy=Am,Fs=Uh,lo=La,by=0,wy=1,kP=2,_y=3,Sy=4,v_=5,CP=6,y_=7,x_=8,Ay=9,b_=10,YK=[2,3,7],XK=[3,3,11],PP=[280,256,256,256,40],QK=[0,1,1,1,0],JK=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ZK=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],eY=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],tY=8,w_=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],__=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Tm=null,rY=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],nY=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],OP=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],aY=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],iY=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],sY=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],oY=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Cu=[],Ho=[],vc=[],lY=1,IP=2,Pu=[],co=[];it("UpsampleRgbLinePair",fe,3),it("UpsampleBgrLinePair",Ue,3),it("UpsampleRgbaLinePair",Pr,4),it("UpsampleBgraLinePair",Wr,4),it("UpsampleArgbLinePair",Cr,4),it("UpsampleRgba4444LinePair",Et,2),it("UpsampleRgb565LinePair",et,2);var cY=_.UpsampleRgbLinePair,uY=_.UpsampleBgrLinePair,jP=_.UpsampleRgbaLinePair,DP=_.UpsampleBgraLinePair,LP=_.UpsampleArgbLinePair,MP=_.UpsampleRgba4444LinePair,fY=_.UpsampleRgb565LinePair,Ty=16,Ey=1<<Ty-1,Em=-227,S_=482,RP=6,dY=(256<<RP)-1,FP=0,hY=i(256),pY=i(256),mY=i(256),gY=i(256),vY=i(S_-Em),yY=i(S_-Em);Pn("YuvToRgbRow",fe,3),Pn("YuvToBgrRow",Ue,3),Pn("YuvToRgbaRow",Pr,4),Pn("YuvToBgraRow",Wr,4),Pn("YuvToArgbRow",Cr,4),Pn("YuvToRgba4444Row",Et,2),Pn("YuvToRgb565Row",et,2);var $P=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ny=[0,2,8],xY=[8,7,6,4,4,2,2,2,1,1,1,1],bY=1;this.WebPDecodeRGBA=function(x,C,M,H,re){var se=wy,le=new fc,de=new Lt;le.ba=de,de.S=se,de.width=[de.width],de.height=[de.height];var he=de.width,xe=de.height,Le=new Gt;if(Le==null||x==null)var Xe=2;else t(Le!=null),Xe=Ol(x,C,M,Le.width,Le.height,Le.Pd,Le.Qd,Le.format,null);if(Xe!=0?he=0:(he!=null&&(he[0]=Le.width[0]),xe!=null&&(xe[0]=Le.height[0]),he=1),he){de.width=de.width[0],de.height=de.height[0],H!=null&&(H[0]=de.width),re!=null&&(re[0]=de.height);e:{if(H=new Vt,(re=new wu).data=x,re.w=C,re.ha=M,re.kd=1,C=[0],t(re!=null),((x=Ol(re.data,re.w,re.ha,null,null,null,C,null,re))==0||x==7)&&C[0]&&(x=4),(C=x)==0){if(t(le!=null),H.data=re.data,H.w=re.w+re.offset,H.ha=re.ha-re.offset,H.put=Ae,H.ac=gr,H.bc=ct,H.ma=le,re.xa){if((x=rt())==null){le=1;break e}if(function(Qe,ze){var yt=[0],at=[0],Me=[0];t:for(;;){if(Qe==null)return 0;if(ze==null)return Qe.a=2,0;if(Qe.l=ze,Qe.a=0,z(Qe.m,ze.data,ze.w,ze.ha),!We(Qe.m,yt,at,Me)){Qe.a=3;break t}if(Qe.xb=IP,ze.width=yt[0],ze.height=at[0],!Ge(yt[0],at[0],1,Qe,null))break t;return 1}return t(Qe.a!=0),0}(x,H)){if(H=(C=jh(H.width,H.height,le.Oa,le.ba))==0){t:{H=x;r:for(;;){if(H==null){H=0;break t}if(t(H.s.yc!=null),t(H.s.Ya!=null),t(0<H.s.Wb),t((M=H.l)!=null),t((re=M.ma)!=null),H.xb!=0){if(H.ca=re.ba,H.tb=re.tb,t(H.ca!=null),!vm(re.Oa,M,_y)){H.a=2;break r}if(!Ye(H,M.width)||M.da)break r;if((M.da||Fe(H.ca.S))&&Ve(),11>H.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),H.ca.f.kb.F!=null&&Ve()),H.Pb&&0<H.s.ua&&H.s.vb.X==null&&!Ce(H.s.vb,H.s.Wa.Xa)){H.a=1;break r}H.xb=0}if(!_e(H,H.V,H.Ba,H.c,H.i,M.o,we))break r;re.Dc=H.Ma,H=1;break t}t(H.a!=0),H=0}H=!H}H&&(C=x.a)}else C=x.a}else{if((x=new Ht)==null){le=1;break e}if(x.Fa=re.na,x.P=re.P,x.qc=re.Sa,vn(x,H)){if((C=jh(H.width,H.height,le.Oa,le.ba))==0){if(x.Aa=0,M=le.Oa,t((re=x)!=null),M!=null){if(0<(he=0>(he=M.Md)?0:100<he?255:255*he/100)){for(xe=Le=0;4>xe;++xe)12>(Xe=re.pb[xe]).lc&&(Xe.ia=he*xY[0>Xe.lc?0:Xe.lc]>>3),Le|=Xe.ia;Le&&(alert("todo:VP8InitRandom"),re.ia=1)}re.Ga=M.Id,100<re.Ga?re.Ga=100:0>re.Ga&&(re.Ga=0)}hn(x,H)||(C=x.a)}}else C=x.a}C==0&&le.Oa!=null&&le.Oa.fd&&(C=ym(le.ba))}le=C}se=le!=0?null:11>se?de.f.RGBA.eb:de.f.kb.y}else se=null;return se};var BP=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(_,S){for(var j="",E=0;E<4;E++)j+=String.fromCharCode(_[S++]);return j}function u(_,S){return(_[S+0]<<0|_[S+1]<<8|_[S+2]<<16)>>>0}function f(_,S){return(_[S+0]<<0|_[S+1]<<8|_[S+2]<<16|_[S+3]<<24)>>>0}new l;var h=[0],p=[0],g=[],m=new l,v=e,y=function(_,S){var j={},E=0,N=!1,O=0,U=0;if(j.frames=[],!function(R,q,G,Q){for(var ie=0;ie<Q;ie++)if(R[q+ie]!=G.charCodeAt(ie))return!0;return!1}(_,S,"RIFF",4)){for(f(_,S+=4),S+=8;S<_.length;){var Y=c(_,S),K=f(_,S+=4);S+=4;var J=K+(1&K);switch(Y){case"VP8 ":case"VP8L":j.frames[E]===void 0&&(j.frames[E]={}),(ee=j.frames[E]).src_off=N?U:S-8,ee.src_size=O+K+8,E++,N&&(N=!1,O=0,U=0);break;case"VP8X":(ee=j.header={}).feature_flags=_[S];var z=S+4;ee.canvas_width=1+u(_,z),z+=3,ee.canvas_height=1+u(_,z),z+=3;break;case"ALPH":N=!0,O=J+8,U=S-8;break;case"ANIM":(ee=j.header).bgcolor=f(_,S),z=S+4,ee.loop_count=(Z=_)[(k=z)+0]<<0|Z[k+1]<<8,z+=2;break;case"ANMF":var V,ee;(ee=j.frames[E]={}).offset_x=2*u(_,S),S+=3,ee.offset_y=2*u(_,S),S+=3,ee.width=1+u(_,S),S+=3,ee.height=1+u(_,S),S+=3,ee.duration=u(_,S),S+=3,V=_[S++],ee.dispose=1&V,ee.blend=V>>1&1}Y!="ANMF"&&(S+=J)}var Z,k;return j}}(v,0);y.response=v,y.rgbaoutput=!0,y.dataurl=!1;var b=y.header?y.header:null,w=y.frames?y.frames:null;if(b){b.loop_counter=b.loop_count,h=[b.canvas_height],p=[b.canvas_width];for(var D=0;D<w.length&&w[D].blend!=0;D++);}var P=w[0],I=m.WebPDecodeRGBA(v,P.src_off,P.src_size,p,h);P.rgba=I,P.imgwidth=p[0],P.imgheight=h[0];for(var T=0;T<p[0]*h[0]*4;T++)g[T]=I[T];return this.width=p,this.height=h,this.data=g,this}(function(e){var t=function(){return typeof uE=="function"},r=function(h,p,g,m){var v=4,y=s;switch(m){case e.image_compression.FAST:v=1,y=i;break;case e.image_compression.MEDIUM:v=6,y=o;break;case e.image_compression.SLOW:v=9,y=l}h=n(h,p,g,y);var b=uE(h,{level:v});return e.__addimage__.arrayBufferToBinaryString(b)},n=function(h,p,g,m){for(var v,y,b,w=h.length/p,D=new Uint8Array(h.length+w),P=u(),I=0;I<w;I+=1){if(b=I*p,v=h.subarray(b,b+p),m)D.set(m(v,g,y),b+I);else{for(var T,_=P.length,S=[];T<_;T+=1)S[T]=P[T](v,g,y);var j=f(S.concat());D.set(S[j],b+I)}y=v}return D},a=function(h){var p=Array.apply([],h);return p.unshift(0),p},i=function(h,p){var g,m=[],v=h.length;m[0]=1;for(var y=0;y<v;y+=1)g=h[y-p]||0,m[y+1]=h[y]-g+256&255;return m},s=function(h,p,g){var m,v=[],y=h.length;v[0]=2;for(var b=0;b<y;b+=1)m=g&&g[b]||0,v[b+1]=h[b]-m+256&255;return v},o=function(h,p,g){var m,v,y=[],b=h.length;y[0]=3;for(var w=0;w<b;w+=1)m=h[w-p]||0,v=g&&g[w]||0,y[w+1]=h[w]+256-(m+v>>>1)&255;return y},l=function(h,p,g){var m,v,y,b,w=[],D=h.length;w[0]=4;for(var P=0;P<D;P+=1)m=h[P-p]||0,v=g&&g[P]||0,y=g&&g[P-p]||0,b=c(m,v,y),w[P+1]=h[P]-b+256&255;return w},c=function(h,p,g){if(h===p&&p===g)return h;var m=Math.abs(p-g),v=Math.abs(h-g),y=Math.abs(h+p-g-g);return m<=v&&m<=y?h:v<=y?p:g},u=function(){return[a,i,s,o,l]},f=function(h){var p=h.map(function(g){return g.reduce(function(m,v){return m+Math.abs(v)},0)});return p.indexOf(Math.min.apply(null,p))};e.processPNG=function(h,p,g,m){var v,y,b,w,D,P,I,T,_,S,j,E,N,O,U,Y=this.decode.FLATE_DECODE,K="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(b=new g9e(h)).imgData,y=b.bits,v=b.colorSpace,D=b.colors,[4,6].indexOf(b.colorType)!==-1){if(b.bits===8){_=(T=b.pixelBitlength==32?new Uint32Array(b.decodePixels().buffer):b.pixelBitlength==16?new Uint16Array(b.decodePixels().buffer):new Uint8Array(b.decodePixels().buffer)).length,j=new Uint8Array(_*b.colors),S=new Uint8Array(_);var J,z=b.pixelBitlength-b.bits;for(O=0,U=0;O<_;O++){for(N=T[O],J=0;J<z;)j[U++]=N>>>J&255,J+=b.bits;S[O]=N>>>J&255}}if(b.bits===16){_=(T=new Uint32Array(b.decodePixels().buffer)).length,j=new Uint8Array(_*(32/b.pixelBitlength)*b.colors),S=new Uint8Array(_*(32/b.pixelBitlength)),E=b.colors>1,O=0,U=0;for(var V=0;O<_;)N=T[O++],j[U++]=N>>>0&255,E&&(j[U++]=N>>>16&255,N=T[O++],j[U++]=N>>>0&255),S[V++]=N>>>16&255;y=8}m!==e.image_compression.NONE&&t()?(h=r(j,b.width*b.colors,b.colors,m),I=r(S,b.width,1,m)):(h=j,I=S,Y=void 0)}if(b.colorType===3&&(v=this.color_spaces.INDEXED,P=b.palette,b.transparency.indexed)){var ee=b.transparency.indexed,Z=0;for(O=0,_=ee.length;O<_;++O)Z+=ee[O];if((Z/=255)===_-1&&ee.indexOf(0)!==-1)w=[ee.indexOf(0)];else if(Z!==_){for(T=b.decodePixels(),S=new Uint8Array(T.length),O=0,_=T.length;O<_;O++)S[O]=ee[T[O]];I=r(S,b.width,1)}}var k=function(R){var q;switch(R){case e.image_compression.FAST:q=11;break;case e.image_compression.MEDIUM:q=13;break;case e.image_compression.SLOW:q=14;break;default:q=12}return q}(m);return Y===this.decode.FLATE_DECODE&&(K="/Predictor "+k+" "),K+="/Colors "+D+" /BitsPerComponent "+y+" /Columns "+b.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(I&&this.__addimage__.isArrayBuffer(I)||this.__addimage__.isArrayBufferView(I))&&(I=this.__addimage__.arrayBufferToBinaryString(I)),{alias:g,data:h,index:p,filter:Y,decodeParameters:K,transparency:w,palette:P,sMask:I,predictor:k,width:b.width,height:b.height,bitsPerComponent:y,colorSpace:v}}}})(yr.API),function(e){e.processGIF89A=function(t,r,n,a){var i=new v9e(t),s=i.width,o=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:o},u=new kA(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)},e.processGIF87A=e.processGIF89A}(yr.API),Zo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Zo.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){In.log("bit decode error:"+r)}},Zo.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var l=this.palette[i>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},Zo.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*a*4,o=i>>4,l=15&i,c=this.palette[o];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*a+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},Zo.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var s=this.palette[a];this.data[i]=s.red,this.data[i+1]=s.green,this.data[i+2]=s.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},Zo.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(i&t)/t*255|0,o=(i>>5&t)/t*255|0,l=(i>>10&t)/t*255|0,c=i>>15?255:0,u=n*this.width*4+4*a;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=s,this.data[u+3]=c}this.pos+=e}},Zo.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,l=(s>>5&r)/r*255|0,c=(s>>11)/t*255|0,u=a*this.width*4+4*i;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=e}},Zo.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},Zo.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=s}},Zo.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var i=new Zo(t,!1),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},c=new kA(100).encode(l,100);return e.processJPEG.call(this,c,r,n,a)}}(yr.API),T7.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var i=new T7(t),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},c=new kA(100).encode(l,100);return e.processJPEG.call(this,c,r,n,a)}}(yr.API),yr.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),s=new Uint8Array(a/4),o=0,l=0,c=0;c<a;c+=4){var u=n[c],f=n[c+1],h=n[c+2],p=n[c+3];i[o++]=u,i[o++]=f,i[o++]=h,s[l++]=p}var g=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:g,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},yr.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},e0=yr.API,$x=e0.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:a.metadata.Unicode.widths,l=o.fof?o.fof:1,c=t.kerning?t.kerning:a.metadata.Unicode.kerning,u=c.fof?c.fof:1,f=t.doKerning!==!1,h=0,p=e.length,g=0,m=o[0]||l,v=[];for(r=0;r<p;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?v.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+s*(1e3/i)||0)/1e3):(h=f&&fn(c[n])==="object"&&!isNaN(parseInt(c[n][g],10))?c[n][g]/u:0,v.push((o[n]||m)/l+h)),g=n;return v},w7=e0.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return e0.processArabic&&(e=e0.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:$x.apply(this,arguments).reduce(function(i,s){return i+s},0)},_7=function(e,t,r,n){for(var a=[],i=0,s=e.length,o=0;i!==s&&o+t[i]<r;)o+=t[i],i++;a.push(e.slice(0,i));var l=i;for(o=0;i!==s;)o+t[i]>n&&(a.push(e.slice(l,i)),o=0,l=i),o+=t[i],i++;return l!==i&&a.push(e.slice(l,i)),a},S7=function(e,t,r){r||(r={});var n,a,i,s,o,l,c,u=[],f=[u],h=r.textIndent||0,p=0,g=0,m=e.split(" "),v=$x.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?m[0].length+2:r.lineIndent||0){var y=Array(l).join(" "),b=[];m.map(function(D){(D=D.split(/\s*\n/)).length>1?b=b.concat(D.map(function(P,I){return(I&&P.length?`
`:"")+P})):b.push(D[0])}),m=b,l=w7.apply(this,[y,r])}for(i=0,s=m.length;i<s;i++){var w=0;if(n=m[i],l&&n[0]==`
`&&(n=n.substr(1),w=1),h+p+(g=(a=$x.apply(this,[n,r])).reduce(function(D,P){return D+P},0))>t||w){if(g>t){for(o=_7.apply(this,[n,a,t-(h+p),t]),u.push(o.shift()),u=[o.pop()];o.length;)f.push([o.shift()]);g=a.slice(n.length-(u[0]?u[0].length:0)).reduce(function(D,P){return D+P},0)}else u=[n];f.push(u),h=g+l,p=v}else u.push(n),h+=p+g,p=v}return c=l?function(D,P){return(P?y:"")+D.join(" ")}:function(D){return D.join(" ")},f.map(c)},e0.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var f=this.internal.getFont(u.fontName,u.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var o,l,c=[];for(o=0,l=n.length;o<l;o++)c=c.concat(S7.apply(this,[n[o],s,i]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},a=0;a<t.length;a++)r[t[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=t[a];var i=function(f){return"0x"+parseInt(f,10).toString(16)},s=e.__fontmetrics__.compress=function(f){var h,p,g,m,v=["{"];for(var y in f){if(h=f[y],isNaN(parseInt(y,10))?p="'"+y+"'":(y=parseInt(y,10),p=(p=i(y).slice(2)).slice(0,-1)+n[p.slice(-1)]),typeof h=="number")h<0?(g=i(h).slice(3),m="-"):(g=i(h).slice(2),m=""),g=m+g.slice(0,-1)+n[g.slice(-1)];else{if(fn(h)!=="object")throw new Error("Don't know what to do with value type "+fn(h)+".");g=s(h)}v.push(p+g)}return v.push("}"),v.join("")},o=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,p,g,m,v={},y=1,b=v,w=[],D="",P="",I=f.length-1,T=1;T<I;T+=1)(m=f[T])=="'"?h?(g=h.join(""),h=void 0):h=[]:h?h.push(m):m=="{"?(w.push([b,g]),b={},g=void 0):m=="}"?((p=w.pop())[0][p[1]]=b,g=void 0,b=p[0]):m=="-"?y=-1:g===void 0?r.hasOwnProperty(m)?(D+=r[m],g=parseInt(D,16)*y,y=1,D=""):D+=m:r.hasOwnProperty(m)?(P+=r[m],b[g]=parseInt(P,16)*y,y=1,g=void 0,P=""):P+=m;return v},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var h=f.font,p=u.Unicode[h.postScriptName];p&&(h.metadata.Unicode={},h.metadata.Unicode.widths=p.widths,h.metadata.Unicode.kerning=p.kerning);var g=c.Unicode[h.postScriptName];g&&(h.metadata.Unicode.encoding=g,h.encoding=g.codePages[0])}])}(yr.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(Zg(o)),s.metadata=e.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(a,n)}}])}(yr),function(e){function t(){return(xr.canvg?Promise.resolve(xr.canvg):iE(()=>import("./index.es-1m048n-U.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}yr.API.addSvgAsImage=function(r,n,a,i,s,o,l,c){if(isNaN(n)||isNaN(a))throw In.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(s))throw In.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=i,u.height=s;var f=u.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,u.width,u.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return t().then(function(g){return g.fromString(f,r,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(h)}).then(function(){p.addImage(u.toDataURL("image/jpeg",1),n,a,i,s,l,c)})}}(),yr.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},yr.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],c=0,u=0,f=0;function h(g,m){var v,y=!1;for(v=0;v<g.length;v+=1)g[v]===m&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var p=o.length;for(f=0;f<p;f+=1)r[o[f]].value=r[o[f]].defaultValue,r[o[f]].explicitSet=!1}if(fn(e)==="object"){for(a in e)if(i=e[a],h(o,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&h(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(c=0;c<i.length;c+=1)if(n=!0,i[c].length===1&&typeof i[c][0]=="number")l.push(String(i[c]-1));else if(i[c].length>1){for(u=0;u<i[c].length;u+=1)typeof i[c][u]!="number"&&(n=!1);n===!0&&l.push([i[c][0]-1,i[c][1]-1].join(" "))}r[a].value="["+l.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,m=[];for(g in r)r[g].explicitSet===!0&&(r[g].type==="name"?m.push("/"+g+" /"+r[g].value):m.push("/"+g+" "+r[g].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=i.length+s.length+o.length+a.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(a+i+s+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(yr.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,s){for(var o,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],f=0,h=i.length;f<h;++f){if(o=s.metadata.characterToGlyph(i.charCodeAt(f)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=i.charCodeAt(f),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},n=function(i){var s,o,l,c,u,f,h;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,h=(o=Object.keys(i).sort(function(p,g){return p-g})).length;f<h;f++)s=o[f],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),i[s]!==void 0&&i[s]!==null&&typeof i[s].toString=="function"&&(c=("0000"+i[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,h=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),p="",g=0;g<h.length;g++)p+=String.fromCharCode(h[g]);var m=c();u({data:p,addLength1:!0,objectId:m}),l("endobj");var v=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var y=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+s0(o.fontName)),l("/FontFile2 "+m+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var b=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+s0(o.fontName)),l("/FontDescriptor "+y+" 0 R"),l("/W "+e.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+v+" 0 R"),l("/BaseFont /"+s0(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+b+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,h="",p=0;p<f.length;p++)h+=String.fromCharCode(f[p]);var g=c();u({data:h,addLength1:!0,objectId:g}),l("endobj");var m=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:m}),l("endobj");var v=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+g+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+s0(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var y=0;y<o.metadata.hmtx.widths.length;y++)o.metadata.hmtx.widths[y]=parseInt(o.metadata.hmtx.widths[y]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+s0(o.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]);var a=function(i){var s,o=i.text||"",l=i.x,c=i.y,u=i.options||{},f=i.mutex||{},h=f.pdfEscape,p=f.activeFontKey,g=f.fonts,m=p,v="",y=0,b="",w=g[m].encoding;if(g[m].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:f};for(b=o,m=p,Array.isArray(o)&&(b=o[0]),y=0;y<b.length;y+=1)g[m].metadata.hasOwnProperty("cmap")&&(s=g[m].metadata.cmap.unicode.codeMap[b[y].charCodeAt(0)]),s||b[y].charCodeAt(0)<256&&g[m].metadata.hasOwnProperty("Unicode")?v+=b[y]:v+="";var D="";return parseInt(m.slice(1))<14||w==="WinAnsiEncoding"?D=h(v,m).split("").map(function(P){return P.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(D=r(v,g[m])),f.isHex=!0,{text:D,x:l,y:c,options:u,mutex:f}};t.events.push(["postProcessText",function(i){var s=i.text||"",o=[],l={text:s,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?o.push([a(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):o.push(a(Object.assign({},l,{text:s[c]})).text);i.text=o}else i.text=a(Object.assign({},l,{text:s})).text}])}(yr),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(yr.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,s,o,l,c,u,f=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,w=0;this.__bidiEngine__={};var D=function(E){var N=E.charCodeAt(),O=N>>8,U=m[O];return U!==void 0?f[256*U+(255&N)]:O===252||O===253?"AL":y.test(O)?"L":O===8?"R":"N"},P=function(E){for(var N,O=0;O<E.length;O++){if((N=D(E.charAt(O)))==="L")return!1;if(N==="R")return!0}return!1},I=function(E,N,O,U){var Y,K,J,z,V=N[U];switch(V){case"L":case"R":b=!1;break;case"N":case"AN":break;case"EN":b&&(V="AN");break;case"AL":b=!0,V="R";break;case"WS":V="N";break;case"CS":U<1||U+1>=N.length||(Y=O[U-1])!=="EN"&&Y!=="AN"||(K=N[U+1])!=="EN"&&K!=="AN"?V="N":b&&(K="AN"),V=K===Y?K:"N";break;case"ES":V=(Y=U>0?O[U-1]:"B")==="EN"&&U+1<N.length&&N[U+1]==="EN"?"EN":"N";break;case"ET":if(U>0&&O[U-1]==="EN"){V="EN";break}if(b){V="N";break}for(J=U+1,z=N.length;J<z&&N[J]==="ET";)J++;V=J<z&&N[J]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(z=N.length,J=U+1;J<z&&N[J]==="NSM";)J++;if(J<z){var ee=E[U],Z=ee>=1425&&ee<=2303||ee===64286;if(Y=N[J],Z&&(Y==="R"||Y==="AL")){V="R";break}}}V=U<1||(Y=N[U-1])==="B"?"N":O[U-1];break;case"B":b=!1,a=!0,V=w;break;case"S":i=!0,V="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"BN":V="N"}return V},T=function(E,N,O){var U=E.split("");return O&&_(U,O,{hiLevel:w}),U.reverse(),N&&N.reverse(),U.join("")},_=function(E,N,O){var U,Y,K,J,z,V=-1,ee=E.length,Z=0,k=[],R=w?p:h,q=[];for(b=!1,a=!1,i=!1,Y=0;Y<ee;Y++)q[Y]=D(E[Y]);for(K=0;K<ee;K++){if(z=Z,k[K]=I(E,q,k,K),U=240&(Z=R[z][g[k[K]]]),Z&=15,N[K]=J=R[Z][5],U>0)if(U===16){for(Y=V;Y<K;Y++)N[Y]=1;V=-1}else V=-1;if(R[Z][6])V===-1&&(V=K);else if(V>-1){for(Y=V;Y<K;Y++)N[Y]=J;V=-1}q[K]==="B"&&(N[K]=0),O.hiLevel|=J}i&&function(G,Q,ie){for(var ue=0;ue<ie;ue++)if(G[ue]==="S"){Q[ue]=w;for(var ne=ue-1;ne>=0&&G[ne]==="WS";ne--)Q[ne]=w}}(q,N,ee)},S=function(E,N,O,U,Y){if(!(Y.hiLevel<E)){if(E===1&&w===1&&!a)return N.reverse(),void(O&&O.reverse());for(var K,J,z,V,ee=N.length,Z=0;Z<ee;){if(U[Z]>=E){for(z=Z+1;z<ee&&U[z]>=E;)z++;for(V=Z,J=z-1;V<J;V++,J--)K=N[V],N[V]=N[J],N[J]=K,O&&(K=O[V],O[V]=O[J],O[J]=K);Z=z}Z++}}},j=function(E,N,O){var U=E.split(""),Y={hiLevel:w};return O||(O=[]),_(U,O,Y),function(K,J,z){if(z.hiLevel!==0&&u)for(var V,ee=0;ee<K.length;ee++)J[ee]===1&&(V=v.indexOf(K[ee]))>=0&&(K[ee]=v[V+1])}(U,O,Y),S(2,U,N,O,Y),S(1,U,N,O,Y),U.join("")};return this.__bidiEngine__.doBidiReorder=function(E,N,O){if(function(Y,K){if(K)for(var J=0;J<Y.length;J++)K[J]=J;o===void 0&&(o=P(Y)),c===void 0&&(c=P(Y))}(E,N),s||!l||c)if(s&&l&&o^c)w=o?1:0,E=T(E,N,O);else if(!s&&l&&c)w=o?1:0,E=j(E,N,O),E=T(E,N);else if(!s||o||l||c){if(s&&!l&&o^c)E=T(E,N),o?(w=0,E=j(E,N,O)):(w=1,E=j(E,N,O),E=T(E,N));else if(s&&o&&!l&&c)w=1,E=j(E,N,O),E=T(E,N);else if(!s&&!l&&o^c){var U=u;o?(w=1,E=j(E,N,O),w=0,u=!1,E=j(E,N,O),u=U):(w=0,E=j(E,N,O),E=T(E,N),w=1,u=!1,E=j(E,N,O),u=U,E=T(E,N))}}else w=0,E=j(E,N,O);else w=o?1:0,E=j(E,N,O);return E},this.__bidiEngine__.setOptions=function(E){E&&(s=E.isInputVisual,l=E.isOutputVisual,o=E.isInputRtl,c=E.isOutputRtl,u=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var s=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var o=0;for(s=[],o=0;o<a.length;o+=1)Object.prototype.toString.call(a[o])==="[object Array]"?s.push([r.doBidiReorder(a[o][0]),a[o][1],a[o][2]]):s.push([r.doBidiReorder(a[o])]);n.text=s}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(yr),yr.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new $f(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new I9e(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new y9e(this.contents),this.head=new b9e(this),this.name=new T9e(this),this.cmap=new IK(this),this.toUnicode={},this.hhea=new w9e(this),this.maxp=new E9e(this),this.hmtx=new N9e(this),this.post=new S9e(this),this.os2=new _9e(this),this.loca=new O9e(this),this.glyf=new k9e(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,l,c;for(c=[],s=0,o=(l=this.bbox).length;s<o;s++)t=l[s],c.push(Math.round(t*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,s,o;for(s=0,i=0,o=(t=""+t).length;0<=o?i<o:i>o;i=0<=o?++i:--i)a=t.charCodeAt(i),s+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return s*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var Sl,$f=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,s,o,l;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^s)+256*(255^o)+(255^l)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*s+256*o+l},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),y9e=function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,s,o,l,c,u,f,h,p,g,m;for(m in p=Object.keys(r).length,l=Math.log(2),f=16*Math.floor(Math.log(p)/l),s=Math.floor(f/l),u=16*p-f,(a=new $f).writeInt(this.scalarType),a.writeShort(p),a.writeShort(f),a.writeShort(s),a.writeShort(u),i=16*p,c=a.pos+i,o=null,g=[],r)for(h=r[m],a.writeString(m),a.writeInt(e(h)),a.writeInt(c),a.writeInt(h.length),g=g.concat(h),m==="head"&&(o=c),c+=h.length;c%4;)g.push(0),c++;return a.write(g),n=2981146554-e(a.data),a.pos=o+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,s;for(r=jK.call(r);r.length%4;)r.push(0);for(i=new $f(r),a=0,n=0,s=r.length;n<s;n=n+=4)a+=i.readUInt32();return 4294967295&a},t}(),x9e={}.hasOwnProperty,sc=function(e,t){for(var r in t)x9e.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Sl=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var b9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return sc(t,Sl),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new $f).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),E7=function(){function e(t,r){var n,a,i,s,o,l,c,u,f,h,p,g,m,v,y,b,w;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(p=t.readUInt16(),h=p/2,t.pos+=6,i=function(){var D,P;for(P=[],l=D=0;0<=h?D<h:D>h;l=0<=h?++D:--D)P.push(t.readUInt16());return P}(),t.pos+=2,m=function(){var D,P;for(P=[],l=D=0;0<=h?D<h:D>h;l=0<=h?++D:--D)P.push(t.readUInt16());return P}(),c=function(){var D,P;for(P=[],l=D=0;0<=h?D<h:D>h;l=0<=h?++D:--D)P.push(t.readUInt16());return P}(),u=function(){var D,P;for(P=[],l=D=0;0<=h?D<h:D>h;l=0<=h?++D:--D)P.push(t.readUInt16());return P}(),a=(this.length-t.pos+this.offset)/2,o=function(){var D,P;for(P=[],l=D=0;0<=a?D<a:D>a;l=0<=a?++D:--D)P.push(t.readUInt16());return P}(),l=y=0,w=i.length;y<w;l=++y)for(v=i[l],n=b=g=m[l];g<=v?b<=v:b>=v;n=g<=v?++b:--b)u[l]===0?s=n+c[l]:(s=o[u[l]/2+(n-g)-(h-l)]||0)!==0&&(s+=c[l]),this.codeMap[n]=65535&s}t.pos=f}return e.encode=function(t,r){var n,a,i,s,o,l,c,u,f,h,p,g,m,v,y,b,w,D,P,I,T,_,S,j,E,N,O,U,Y,K,J,z,V,ee,Z,k,R,q,G,Q,ie,ue,ne,pe,ye,W;switch(U=new $f,s=Object.keys(t).sort(function(Pe,Ce){return Pe-Ce}),r){case"macroman":for(m=0,v=function(){var Pe=[];for(g=0;g<256;++g)Pe.push(0);return Pe}(),b={0:0},i={},Y=0,V=s.length;Y<V;Y++)b[ne=t[a=s[Y]]]==null&&(b[ne]=++m),i[a]={old:t[a],new:b[t[a]]},v[a]=b[t[a]];return U.writeUInt16(1),U.writeUInt16(0),U.writeUInt32(12),U.writeUInt16(0),U.writeUInt16(262),U.writeUInt16(0),U.write(v),{charMap:i,subtable:U.data,maxGlyphID:m+1};case"unicode":for(N=[],f=[],w=0,b={},n={},y=c=null,K=0,ee=s.length;K<ee;K++)b[P=t[a=s[K]]]==null&&(b[P]=++w),n[a]={old:P,new:b[P]},o=b[P]-a,y!=null&&o===c||(y&&f.push(y),N.push(a),c=o),y=a;for(y&&f.push(y),f.push(65535),N.push(65535),j=2*(S=N.length),_=2*Math.pow(Math.log(S)/Math.LN2,2),h=Math.log(_/2)/Math.LN2,T=2*S-_,l=[],I=[],p=[],g=J=0,Z=N.length;J<Z;g=++J){if(E=N[g],u=f[g],E===65535){l.push(0),I.push(0);break}if(E-(O=n[E].new)>=32768)for(l.push(0),I.push(2*(p.length+S-g)),a=z=E;E<=u?z<=u:z>=u;a=E<=u?++z:--z)p.push(n[a].new);else l.push(O-E),I.push(0)}for(U.writeUInt16(3),U.writeUInt16(1),U.writeUInt32(12),U.writeUInt16(4),U.writeUInt16(16+8*S+2*p.length),U.writeUInt16(0),U.writeUInt16(j),U.writeUInt16(_),U.writeUInt16(h),U.writeUInt16(T),ie=0,k=f.length;ie<k;ie++)a=f[ie],U.writeUInt16(a);for(U.writeUInt16(0),ue=0,R=N.length;ue<R;ue++)a=N[ue],U.writeUInt16(a);for(pe=0,q=l.length;pe<q;pe++)o=l[pe],U.writeUInt16(o);for(ye=0,G=I.length;ye<G;ye++)D=I[ye],U.writeUInt16(D);for(W=0,Q=p.length;W<Q;W++)m=p[W],U.writeUInt16(m);return{charMap:n,subtable:U.data,maxGlyphID:w+1}}},e}(),IK=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return sc(t,Sl),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new E7(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var a,i;return n==null&&(n="macroman"),a=E7.encode(r,n),(i=new $f).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},t}(),w9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return sc(t,Sl),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),_9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return sc(t,Sl),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),S9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return sc(t,Sl),t.prototype.tag="post",t.prototype.parse=function(r){var n,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var s;for(a=r.readUInt16(),this.glyphNameIndex=[],s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var o,l,c;for(c=[],s=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;s=0<=l?++o:--o)c.push(r.readUInt32());return c}).call(this)}},t}(),A9e=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},T9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return sc(t,Sl),t.prototype.tag="name",t.prototype.parse=function(r){var n,a,i,s,o,l,c,u,f,h,p;for(r.pos=this.offset,r.readShort(),n=r.readShort(),l=r.readShort(),a=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(c={},s=f=0,h=a.length;f<h;s=++f)i=a[s],r.pos=i.offset,u=r.readString(i.length),o=new A9e(u,i),c[p=i.nameID]==null&&(c[p]=[]),c[i.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t}(),E9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return sc(t,Sl),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),N9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return sc(t,Sl),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,a,i,s,o,l,c;for(r.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,f;for(f=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)f.push(r.readInt16());return f}(),this.widths=(function(){var u,f,h,p;for(p=[],u=0,f=(h=this.metrics).length;u<f;u++)s=h[u],p.push(s.advance);return p}).call(this),a=this.widths[this.widths.length-1],c=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)c.push(this.widths.push(a));return c},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),jK=[].slice,k9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return sc(t,Sl),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,a,i,s,o,l,c,u,f,h;return r in this.cache?this.cache[r]:(s=this.file.loca,n=this.file.contents,a=s.indexOf(r),(i=s.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,o=(l=new $f(n.read(i))).readShort(),u=l.readShort(),h=l.readShort(),c=l.readShort(),f=l.readShort(),this.cache[r]=o===-1?new P9e(l,u,h,c,f):new C9e(l,o,u,h,c,f),this.cache[r]))},t.prototype.encode=function(r,n,a){var i,s,o,l,c;for(o=[],s=[],l=0,c=n.length;l<c;l++)i=r[n[l]],s.push(o.length),i&&(o=o.concat(i.encode(a)));return s.push(o.length),{table:o,offsets:s}},t}(),C9e=function(){function e(t,r,n,a,i,s){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),P9e=function(){function e(t,r,n,a,i){var s,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new $f(jK.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),O9e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return sc(t,Sl),t.prototype.tag="loca",t.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=2)s.push(2*r.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=4)s.push(r.readUInt32());return s}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<a.length;++o)if(a[o]=i,s<n.length&&n[s]==o){++s,a[o]=i;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(i+=c)}for(var u=new Array(4*a.length),f=0;f<a.length;++f)u[4*f+3]=255&a[f],u[4*f+2]=(65280&a[f])>>8,u[4*f+1]=(16711680&a[f])>>16,u[4*f]=(4278190080&a[f])>>24;return u},t}(),I9e=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,s,o,l;for(a={},s=0,o=t.length;s<o;s++)a[i=t[s]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in l=this.glyphsFor(r))n=l[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,s,o,l,c,u,f,h,p,g,m,v,y;for(a in n=IK.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),p={0:0},y=n.charMap)p[(l=y[a]).old]=l.new;for(g in h=n.maxGlyphID,s)g in p||(p[g]=h++);return u=function(b){var w,D;for(w in D={},b)D[b[w]]=w;return D}(p),f=Object.keys(u).sort(function(b,w){return b-w}),m=function(){var b,w,D;for(D=[],b=0,w=f.length;b<w;b++)o=f[b],D.push(u[o]);return D}(),i=this.font.glyf.encode(s,m,p),c=this.font.loca.encode(i.offsets,m),v={cmap:this.font.cmap.raw(),glyf:i.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},e}();yr.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,s;if(Array.isArray(r))return"["+function(){var o,l,c;for(c=[],o=0,l=r.length;o<l;o++)n=r[o],c.push(t.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)s=r[a],i.push("/"+a+" "+t.convert(s));return i.push(">>"),i.join(`
`)}return""+r},t}();function DK(e,t,r,n,a){n=n||{};var i=1.15,s=a.internal.scaleFactor,o=a.internal.getFontSize()/s,l=a.getLineHeightFactor?a.getLineHeightFactor():i,c=o*l,u=/\r\n|\r|\n/g,f="",h=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(f=typeof e=="string"?e.split(u):e,h=f.length||1),r+=o*(2-i),n.valign==="middle"?r-=h/2*c:n.valign==="bottom"&&(r-=h*c),n.halign==="center"||n.halign==="right"){var p=o;if(n.halign==="center"&&(p*=.5),f&&h>=1){for(var g=0;g<f.length;g++)a.text(f[g],t-a.getStringUnitWidth(f[g])*p,r),r+=c;return a}t-=a.getStringUnitWidth(e)*p}return n.halign==="justify"?a.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(e,t,r),a}var N7={},K0=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:N7=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,a,i;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var s=this.jsPDFDocument.internal.getFont(),o=s.fontStyle,l=s.fontName;if(t.font&&(l=t.font),t.fontStyle){o=t.fontStyle;var c=this.getFontList()[l];c&&c.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),o=c[0])}if(this.jsPDFDocument.setFont(l,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var u=e.unifyColor(t.fillColor);u&&(n=this.jsPDFDocument).setFillColor.apply(n,u),u=e.unifyColor(t.textColor),u&&(a=this.jsPDFDocument).setTextColor.apply(a,u),u=e.unifyColor(t.lineColor),u&&(i=this.jsPDFDocument).setDrawColor.apply(i,u),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,a,i){return this.jsPDFDocument.rect(t,r,n,a,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return N7||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),vE=function(e,t){return vE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},vE(e,t)};function LK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");vE(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var MK=function(e){LK(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t}(Array);function j9e(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function D9e(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function Nw(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],a=n.map(function(i){return r.getTextWidth(i)}).reduce(function(i,s){return Math.max(i,s)},0);return a}function RK(e,t,r,n){var a=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:a,lineColor:i});var s=FK(a,!1);s&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,s)}function FK(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function p_(e,t){var r,n,a,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(a=e.right)!==null&&a!==void 0?a:t,bottom:(i=e.bottom)!==null&&i!==void 0?i:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function $K(e,t){var r=p_(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function L9e(e,t,r,n,a){var i={},s=1.3333333333333333,o=CA(t,function(w){return a.getComputedStyle(w).backgroundColor});o!=null&&(i.fillColor=o);var l=CA(t,function(w){return a.getComputedStyle(w).color});l!=null&&(i.textColor=l);var c=R9e(n,r);c&&(i.cellPadding=c);var u="borderTopColor",f=s*r,h=n.borderTopWidth;if(n.borderBottomWidth===h&&n.borderRightWidth===h&&n.borderLeftWidth===h){var p=(parseFloat(h)||0)/f;p&&(i.lineWidth=p)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/f,right:(parseFloat(n.borderRightWidth)||0)/f,bottom:(parseFloat(n.borderBottomWidth)||0)/f,left:(parseFloat(n.borderLeftWidth)||0)/f},i.lineWidth.top||(i.lineWidth.right?u="borderRightColor":i.lineWidth.bottom?u="borderBottomColor":i.lineWidth.left&&(u="borderLeftColor"));var g=CA(t,function(w){return a.getComputedStyle(w)[u]});g!=null&&(i.lineColor=g);var m=["left","right","center","justify"];m.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),m=["middle","bottom","top"],m.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var v=parseInt(n.fontSize||"");isNaN(v)||(i.fontSize=v/s);var y=M9e(n);y&&(i.fontStyle=y);var b=(n.fontFamily||"").toLowerCase();return e.indexOf(b)!==-1&&(i.font=b),i}function M9e(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function CA(e,t){var r=BK(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function BK(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:BK(e.parentElement,t):r}function R9e(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),a=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=r.map(function(o){return parseInt(o||"0")/n}),s=p_(i,0);return a>s.top&&(s.top=a),a>s.bottom&&(s.bottom=a),s}function UK(e,t,r,n,a){var i,s;n===void 0&&(n=!1),a===void 0&&(a=!1);var o;typeof t=="string"?o=r.document.querySelector(t):o=t;var l=Object.keys(e.getFontList()),c=e.scaleFactor(),u=[],f=[],h=[];if(!o)return console.error("Html table could not be found with input: ",t),{head:u,body:f,foot:h};for(var p=0;p<o.rows.length;p++){var g=o.rows[p],m=(s=(i=g==null?void 0:g.parentElement)===null||i===void 0?void 0:i.tagName)===null||s===void 0?void 0:s.toLowerCase(),v=F9e(l,c,r,g,n,a);v&&(m==="thead"?u.push(v):m==="tfoot"?h.push(v):f.push(v))}return{head:u,body:f,foot:h}}function F9e(e,t,r,n,a,i){for(var s=new MK(n),o=0;o<n.cells.length;o++){var l=n.cells[o],c=r.getComputedStyle(l);if(a||c.display!=="none"){var u=void 0;i&&(u=L9e(e,l,t,c,r)),s.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:u,_element:l,content:$9e(l)})}}var f=r.getComputedStyle(n);if(s.length>0&&(a||f.display!=="none"))return s}function $9e(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function B9e(e,t,r){for(var n=0,a=[e,t,r];n<a.length;n++){var i=a[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function Oc(e,t,r,n,a){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),s=1;s<arguments.length;s++){var o=arguments[s];if(o!=null)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(i[l]=o[l])}return i}function VK(e,t){var r=new K0(e),n=r.getDocumentOptions(),a=r.getGlobalOptions();B9e(a,n,t);var i=Oc({},a,n,t),s;typeof window<"u"&&(s=window);var o=U9e(a,n,t),l=V9e(a,n,t),c=z9e(r,i),u=W9e(r,i,s);return{id:t.tableId,content:u,hooks:l,styles:o,settings:c}}function U9e(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(l){if(l==="columnStyles"){var c=e[l],u=t[l],f=r[l];n.columnStyles=Oc({},c,u,f)}else{var h=[e,t,r],p=h.map(function(g){return g[l]||{}});n[l]=Oc({},p[0],p[1],p[2])}},i=0,s=Object.keys(n);i<s.length;i++){var o=s[i];a(o)}return n}function V9e(e,t,r){for(var n=[e,t,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,s=n;i<s.length;i++){var o=s[i];o.didParseCell&&a.didParseCell.push(o.didParseCell),o.willDrawCell&&a.willDrawCell.push(o.willDrawCell),o.didDrawCell&&a.didDrawCell.push(o.didDrawCell),o.willDrawPage&&a.willDrawPage.push(o.willDrawPage),o.didDrawPage&&a.didDrawPage.push(o.didDrawPage)}return a}function z9e(e,t){var r,n,a,i,s,o,l,c,u,f,h,p,g=p_(t.margin,40/e.scaleFactor()),m=(r=q9e(e,t.startY))!==null&&r!==void 0?r:g.top,v;t.showFoot===!0?v="everyPage":t.showFoot===!1?v="never":v=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var y;t.showHead===!0?y="everyPage":t.showHead===!1?y="never":y=(a=t.showHead)!==null&&a!==void 0?a:"everyPage";var b=(i=t.useCss)!==null&&i!==void 0?i:!1,w=t.theme||(b?"plain":"striped"),D=!!t.horizontalPageBreak,P=(s=t.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(o=t.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:b,theme:w,startY:m,margin:g,pageBreak:(l=t.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(c=t.rowPageBreak)!==null&&c!==void 0?c:"auto",tableWidth:(u=t.tableWidth)!==null&&u!==void 0?u:"auto",showHead:y,showFoot:v,tableLineWidth:(f=t.tableLineWidth)!==null&&f!==void 0?f:0,tableLineColor:(h=t.tableLineColor)!==null&&h!==void 0?h:200,horizontalPageBreak:D,horizontalPageBreakRepeat:P,horizontalPageBreakBehaviour:(p=t.horizontalPageBreakBehaviour)!==null&&p!==void 0?p:"afterAllRows"}}function q9e(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),a=e.pageNumber(),i=!1;if(r&&r.startPageNumber){var s=r.startPageNumber+r.pageNumber-1;i=s===a}return typeof t=="number"?t:(t==null||t===!1)&&i&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function W9e(e,t,r){var n=t.head||[],a=t.body||[],i=t.foot||[];if(t.html){var s=t.includeHiddenHtml;if(r){var o=UK(e,t.html,r,s,t.useCss)||{};n=o.head||n,a=o.body||n,i=o.foot||n}else console.error("Cannot parse html in non browser environment")}var l=t.columns||H9e(n,a,i);return{columns:l,head:n,body:a,foot:i}}function H9e(e,t,r){var n=e[0]||t[0]||r[0]||[],a=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var s=1,o;Array.isArray(n)?o=n[parseInt(i)]:o=n[i],typeof o=="object"&&!Array.isArray(o)&&(s=(o==null?void 0:o.colSpan)||1);for(var l=0;l<s;l++){var c=void 0;Array.isArray(n)?c=a.length:c=i+(l>0?"_".concat(l):"");var u={dataKey:c};a.push(u)}}),a}var yE=function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e}(),G9e=function(e){LK(t,e);function t(r,n,a,i,s,o){var l=e.call(this,r,n,o)||this;return l.cell=a,l.row=i,l.column=s,l.section=i.section,l}return t}(yE),K9e=function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,a,i,s){for(var o=0,l=r;o<l.length;o++){var c=l[o],u=new G9e(t,this,n,a,i,s),f=c(u)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],f)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var i=a[n];i(new yE(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var i=a[n];i(new yE(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,i){return a+i.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e}(),zK=function(){function e(t,r,n,a,i){i===void 0&&(i=!1),this.height=0,this.raw=t,t instanceof MK&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,a){var i;return Math.max(n,((i=r.cells[a.index])===null||i===void 0?void 0:i.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(a,i){var s=n.cells[i.index];if(!s)return 0;var o=r.getLineHeight(s.styles.fontSize),l=s.padding("vertical"),c=l+o;return c>a?c:a},0)},e}(),qK=function(){function e(t,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var i=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=(a=t.content)!==null&&a!==void 0?a:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var s=i!=null?""+i:"",o=/\r\n|\r|\n/g;this.text=s.split(o)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/t*r,i=n*a+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=p_(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e}(),Y9e=function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,a=t.allRows();n<a.length;n++){var i=a[n],s=i.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(r=Math.max(r,s.styles.cellWidth))}return r},e}();function X9e(e,t){Q9e(e,t);var r=[],n=0;t.columns.forEach(function(i){var s=i.getMaxCustomCellWidth(t);s?i.width=s:(i.width=i.wrappedWidth,r.push(i)),n+=i.width});var a=t.getWidth(e.pageSize().width)-n;a&&(a=xE(r,a,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),a&&(a=xE(r,a,function(i){return i.minWidth})),a=Math.abs(a),!t.settings.horizontalPageBreak&&a>.1/e.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),Z9e(t),eBe(t,e),J9e(t)}function Q9e(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,a=$K(e,t);t.allRows().forEach(function(i){for(var s=0,o=t.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c){var u=t.hooks.didParseCell;t.callCellHooks(e,u,c,i,l,null);var f=c.padding("horizontal");c.contentWidth=Nw(c.text,c.styles,e)+f;var h=Nw(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,e);if(c.minReadableWidth=h+c.padding("horizontal"),typeof c.styles.cellWidth=="number")c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if(c.styles.cellWidth==="wrap"||n===!0)c.contentWidth>a?(c.minWidth=a,c.wrappedWidth=a):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var p=10/r;c.minWidth=c.styles.minCellWidth||p,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}}),t.allRows().forEach(function(i){for(var s=0,o=t.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c&&c.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,c.wrappedWidth),l.minWidth=Math.max(l.minWidth,c.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,c.minReadableWidth);else{var u=t.styles.columnStyles[l.dataKey]||t.styles.columnStyles[l.index]||{},f=u.cellWidth||u.minCellWidth;f&&typeof f=="number"&&(l.minWidth=f,l.wrappedWidth=f)}c&&(c.colSpan>1&&!l.minWidth&&(l.minWidth=c.minWidth),c.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=c.minWidth))}})}function xE(e,t,r){for(var n=t,a=e.reduce(function(p,g){return p+g.wrappedWidth},0),i=0;i<e.length;i++){var s=e[i],o=s.wrappedWidth/a,l=n*o,c=s.width+l,u=r(s),f=c<u?u:c;t-=f-s.width,s.width=f}if(t=Math.round(t*1e10)/1e10,t){var h=e.filter(function(p){return t<0?p.width>r(p):!0});h.length&&(t=xE(h,t,r))}return t}function J9e(e){for(var t={},r=1,n=e.allRows(),a=0;a<n.length;a++)for(var i=n[a],s=0,o=e.columns;s<o.length;s++){var l=o[s],c=t[l.index];if(r>1)r--,delete i.cells[l.index];else if(c)c.cell.height+=i.height,r=c.cell.colSpan,delete i.cells[l.index],c.left--,c.left<=1&&delete t[l.index];else{var u=i.cells[l.index];if(!u)continue;if(u.height=i.height,u.rowSpan>1){var f=n.length-a,h=u.rowSpan>f?f:u.rowSpan;t[l.index]={cell:u,left:h,row:i}}}}}function Z9e(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],a=null,i=0,s=0,o=0;o<e.columns.length;o++){var l=e.columns[o];if(s-=1,s>1&&e.columns[o+1])i+=l.width,delete n.cells[l.index];else if(a){var c=a;delete n.cells[l.index],a=null,c.width=l.width+i}else{var c=n.cells[l.index];if(!c)continue;if(s=c.colSpan,i=0,c.colSpan>1){a=c,i+=l.width;continue}c.width=l.width+i}}}function eBe(e,t){for(var r={count:0,height:0},n=0,a=e.allRows();n<a.length;n++){for(var i=a[n],s=0,o=e.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c){t.applyStyles(c.styles,!0);var u=c.width-c.padding("horizontal");if(c.styles.overflow==="linebreak")c.text=t.splitTextToSize(c.text,u+1/t.scaleFactor(),{fontSize:c.styles.fontSize});else if(c.styles.overflow==="ellipsize")c.text=k7(c.text,u,c.styles,t,"...");else if(c.styles.overflow==="hidden")c.text=k7(c.text,u,c.styles,t,"");else if(typeof c.styles.overflow=="function"){var f=c.styles.overflow(c.text,u);typeof f=="string"?c.text=[f]:c.text=f}c.contentHeight=c.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var h=c.contentHeight/c.rowSpan;c.rowSpan>1&&r.count*r.height<h*c.rowSpan?r={height:h,count:c.rowSpan}:r&&r.count>0&&r.height>h&&(h=r.height),h>i.height&&(i.height=h)}}r.count--}}function k7(e,t,r,n,a){return e.map(function(i){return tBe(i,t,r,n,a)})}function tBe(e,t,r,n,a){var i=1e4*n.scaleFactor();if(t=Math.ceil(t*i)/i,t>=Nw(e,r,n))return e;for(;t<Nw(e+a,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+a}function WK(e,t){var r=new K0(e),n=rBe(t,r.scaleFactor()),a=new K9e(t,n);return X9e(r,a),r.applyStyles(r.userStyles),a}function rBe(e,t){var r=e.content,n=aBe(r.columns);if(r.head.length===0){var a=C7(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=C7(n,"foot");a&&r.foot.push(a)}var i=e.settings.theme,s=e.styles;return{columns:n,head:PA("head",r.head,n,s,i,t),body:PA("body",r.body,n,s,i,t),foot:PA("foot",r.foot,n,s,i,t)}}function PA(e,t,r,n,a,i){var s={},o=t.map(function(l,c){for(var u=0,f={},h=0,p=0,g=0,m=r;g<m.length;g++){var v=m[g];if(s[v.index]==null||s[v.index].left===0)if(p===0){var y=void 0;Array.isArray(l)?y=l[v.index-h-u]:y=l[v.dataKey];var b={};typeof y=="object"&&!Array.isArray(y)&&(b=(y==null?void 0:y.styles)||{});var w=iBe(e,v,c,a,n,i,b),D=new qK(y,w,e);f[v.dataKey]=D,f[v.index]=D,p=D.colSpan-1,s[v.index]={left:D.rowSpan-1,times:p}}else p--,h++;else s[v.index].left--,p=s[v.index].times,u++}return new zK(l,c,e,f)});return o}function C7(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var a=nBe(t,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function nBe(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function aBe(e){return e.map(function(t,r){var n,a;return typeof t=="object"?a=(n=t.dataKey)!==null&&n!==void 0?n:r:a=r,new Y9e(a,t,r)})}function iBe(e,t,r,n,a,i,s){var o=D9e(n),l;e==="head"?l=a.headStyles:e==="body"?l=a.bodyStyles:e==="foot"&&(l=a.footStyles);var c=Oc({},o.table,o[e],a.styles,l),u=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},f=e==="body"?u:{},h=e==="body"&&r%2===0?Oc({},o.alternateRow,a.alternateRowStyles):{},p=j9e(i),g=Oc({},p,c,h,f);return Oc(g,s)}function sBe(e,t,r){var n;r===void 0&&(r={});var a=$K(e,t),i=new Map,s=[],o=[],l=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?l=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(l=[t.settings.horizontalPageBreakRepeat]),l.forEach(function(h){var p=t.columns.find(function(g){return g.dataKey===h||g.index===h});p&&!i.has(p.index)&&(i.set(p.index,!0),s.push(p.index),o.push(t.columns[p.index]),a-=p.wrappedWidth)});for(var c=!0,u=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;u<t.columns.length;){if(i.has(u)){u++;continue}var f=t.columns[u].wrappedWidth;if(c||a>=f)c=!1,s.push(u),o.push(t.columns[u]),a-=f;else break;u++}return{colIndexes:s,columns:o,lastIndex:u-1}}function oBe(e,t){for(var r=[],n=0;n<t.columns.length;n++){var a=sBe(e,t,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function HK(e,t){var r=t.settings,n=r.startY,a=r.margin,i={x:a.left,y:n},s=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),o=n+a.bottom+s;if(r.pageBreak==="avoid"){var l=t.body,c=l.reduce(function(h,p){return h+p.height},0);o+=c}var u=new K0(e);(r.pageBreak==="always"||r.startY!=null&&o>u.pageSize().height)&&(KK(u),i.y=a.top),t.callWillDrawPageHooks(u,i);var f=Oc({},i);t.startPageNumber=u.pageNumber(),r.horizontalPageBreak?lBe(u,t,f,i):(u.applyStyles(u.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(h){return ru(u,t,h,i,t.columns)}),u.applyStyles(u.userStyles),t.body.forEach(function(h,p){var g=p===t.body.length-1;kw(u,t,h,g,f,i,t.columns)}),u.applyStyles(u.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(h){return ru(u,t,h,i,t.columns)})),RK(u,t,f,i),t.callEndPageHooks(u,i),t.finalY=i.y,e.lastAutoTable=t,u.applyStyles(u.userStyles)}function lBe(e,t,r,n){var a=oBe(e,t),i=t.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(c,u){e.applyStyles(e.userStyles),u>0?ev(e,t,r,n,c.columns,!0):P7(e,t,n,c.columns),cBe(e,t,r,n,c.columns),OA(e,t,n,c.columns)});else for(var s=-1,o=a[0],l=function(){var c=s;if(o){e.applyStyles(e.userStyles);var u=o.columns;s>=0?ev(e,t,r,n,u,!0):P7(e,t,n,u),c=O7(e,t,s+1,n,u),OA(e,t,n,u)}var f=c-s;a.slice(1).forEach(function(h){e.applyStyles(e.userStyles),ev(e,t,r,n,h.columns,!0),O7(e,t,s+1,n,h.columns,f),OA(e,t,n,h.columns)}),s=c};s<t.body.length-1;)l()}function P7(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&t.head.forEach(function(i){return ru(e,t,i,r,n)})}function cBe(e,t,r,n,a){e.applyStyles(e.userStyles),t.body.forEach(function(i,s){var o=s===t.body.length-1;kw(e,t,i,o,r,n,a)})}function O7(e,t,r,n,a,i){e.applyStyles(e.userStyles),i=i??t.body.length;var s=Math.min(r+i,t.body.length),o=-1;return t.body.slice(r,s).forEach(function(l,c){var u=r+c===t.body.length-1,f=GK(e,t,u,n);l.canEntireRowFit(f,a)&&(ru(e,t,l,n,a),o=r+c)}),o}function OA(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&t.foot.forEach(function(i){return ru(e,t,i,r,n)})}function uBe(e,t,r){var n=r.getLineHeight(e.styles.fontSize),a=e.padding("vertical"),i=Math.floor((t-a)/n);return Math.max(0,i)}function fBe(e,t,r,n){var a={};e.spansMultiplePages=!0,e.height=0;for(var i=0,s=0,o=r.columns;s<o.length;s++){var l=o[s],c=e.cells[l.index];if(c){Array.isArray(c.text)||(c.text=[c.text]);var u=new qK(c.raw,c.styles,c.section);u=Oc(u,c),u.text=[];var f=uBe(c,t,n);c.text.length>f&&(u.text=c.text.splice(f,c.text.length));var h=n.scaleFactor(),p=n.getLineHeightFactor();c.contentHeight=c.getContentHeight(h,p),c.contentHeight>=t&&(c.contentHeight=t,u.styles.minCellHeight-=t),c.contentHeight>e.height&&(e.height=c.contentHeight),u.contentHeight=u.getContentHeight(h,p),u.contentHeight>i&&(i=u.contentHeight),a[l.index]=u}}var g=new zK(e.raw,-1,e.section,a,!0);g.height=i;for(var m=0,v=r.columns;m<v.length;m++){var l=v[m],u=g.cells[l.index];u&&(u.height=g.height);var c=e.cells[l.index];c&&(c.height=e.height)}return g}function dBe(e,t,r,n){var a=e.pageSize().height,i=n.settings.margin,s=i.top+i.bottom,o=a-s;t.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var l=t.getMinimumRowHeight(n.columns,e),c=l<r;if(l>o)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!c)return!1;var u=t.hasRowSpan(n.columns),f=t.getMaxCellHeight(n.columns)>o;return f?(u&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||n.settings.rowPageBreak==="avoid")}function kw(e,t,r,n,a,i,s){var o=GK(e,t,n,i);if(r.canEntireRowFit(o,s))ru(e,t,r,i,s);else if(dBe(e,r,o,t)){var l=fBe(r,o,t,e);ru(e,t,r,i,s),ev(e,t,a,i,s),kw(e,t,l,n,a,i,s)}else ev(e,t,a,i,s),kw(e,t,r,n,a,i,s)}function ru(e,t,r,n,a){n.x=t.settings.margin.left;for(var i=0,s=a;i<s.length;i++){var o=s[i],l=r.cells[o.index];if(!l){n.x+=o.width;continue}e.applyStyles(l.styles),l.x=n.x,l.y=n.y;var c=t.callCellHooks(e,t.hooks.willDrawCell,l,r,o,n);if(c===!1){n.x+=o.width;continue}hBe(e,l,n);var u=l.getTextPos();DK(l.text,u.x,u.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,l,r,o,n),n.x+=o.width}n.y+=r.height}function hBe(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=FK(n.lineWidth,n.fillColor);a&&e.rect(t.x,r.y,t.width,t.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),pBe(e,t,r,n.lineWidth))}function pBe(e,t,r,n){var a,i,s,o;n.top&&(a=r.x,i=r.y,s=r.x+t.width,o=r.y,n.right&&(s+=.5*n.right),n.left&&(a-=.5*n.left),l(n.top,a,i,s,o)),n.bottom&&(a=r.x,i=r.y+t.height,s=r.x+t.width,o=r.y+t.height,n.right&&(s+=.5*n.right),n.left&&(a-=.5*n.left),l(n.bottom,a,i,s,o)),n.left&&(a=r.x,i=r.y,s=r.x,o=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.left,a,i,s,o)),n.right&&(a=r.x+t.width,i=r.y,s=r.x+t.width,o=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.right,a,i,s,o));function l(c,u,f,h,p){e.getDocument().setLineWidth(c),e.getDocument().line(u,f,h,p,"S")}}function GK(e,t,r,n){var a=t.settings.margin.bottom,i=t.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(a+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-a}function ev(e,t,r,n,a,i){a===void 0&&(a=[]),i===void 0&&(i=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!i&&t.foot.forEach(function(o){return ru(e,t,o,n,a)}),t.callEndPageHooks(e,n);var s=t.settings.margin;RK(e,t,r,n),KK(e),t.pageNumber++,n.x=s.left,n.y=s.top,r.y=s.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(o){return ru(e,t,o,n,a)}),e.applyStyles(e.userStyles))}function KK(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function mBe(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],a=VK(this,n),i=WK(this,a);return HK(this,i),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,a){DK(t,r,n,a,this)},e.API.autoTableSetDefaults=function(t){return K0.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){K0.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new K0(this),i=UK(a,t,window,r,!1),s=i.head,o=i.body,l=((n=s[0])===null||n===void 0?void 0:n.map(function(c){return c.content}))||[];return{columns:l,rows:o,data:o}}}var IA;function gBe(e,t){var r=VK(e,t),n=WK(e,r);HK(e,n)}try{if(typeof window<"u"&&window){var I7=window,j7=I7.jsPDF||((IA=I7.jspdf)===null||IA===void 0?void 0:IA.jsPDF);j7&&mBe(j7)}}catch(e){console.error("Could not apply autoTable plugin",e)}const vBe=()=>{const[e,t]=B.useState([]),[r,n]=B.useState(!0),[a,i]=B.useState(new Date),[s,o]=B.useState(new Date),[l,c]=B.useState("all"),[u,f]=B.useState("all"),[h,p]=B.useState(""),[g,m]=B.useState([]),{showToast:v}=rc(),{isDarkMode:y}=sn(),{user:b}=wa(),w=async()=>{try{const E=(await ur(mt(Ke,"users"))).docs.map(N=>({id:N.id,...N.data()}));m(E)}catch(j){console.error("Error fetching users:",j),v("Failed to fetch users","error")}},D=async()=>{n(!0);try{let j=cr(mt(Ke,"activityLogs"),Ia("time","desc"));a&&s?j=cr(mt(Ke,"activityLogs"),or("time",">=",fb(a).toISOString()),or("time","<=",Bv(s).toISOString()),Ia("time","desc")):a?j=cr(mt(Ke,"activityLogs"),or("time",">=",fb(a).toISOString()),Ia("time","desc")):s&&(j=cr(mt(Ke,"activityLogs"),or("time","<=",Bv(s).toISOString()),Ia("time","desc")));let N=(await ur(j)).docs.map(O=>({id:O.id,user:O.data().user,role:O.data().role,detail:O.data().detail,time:O.data().time}));if(b&&b.role==="staff"&&(N=N.filter(O=>O.role!=="admin")),l!=="all"&&(N=N.filter(O=>O.user===l)),u!=="all"&&(N=N.filter(O=>{const U=O.detail.toLowerCase();return u==="inbound"?U.includes("added new product")||U.includes("edited product")||U.includes("quantity from")||U.includes("quantity to"):u==="outbound"?U.includes("units deducted from stock")||U.includes("deducted from stock"):!0})),h.trim()){const O=h.toLowerCase();N=N.filter(U=>{const Y=U.detail.toLowerCase(),K=U.user.toLowerCase(),J=U.role.toLowerCase(),z=Y.match(/"([^"]+)"/),V=z?z[1].toLowerCase():"";return Y.includes(O)||K.includes(O)||J.includes(O)||V.includes(O)})}t(N)}catch(j){console.error("Error fetching activity logs:",j),v("Failed to fetch activity logs","error")}finally{n(!1)}};B.useEffect(()=>{w()},[]),B.useEffect(()=>{D()},[a,s,l,u,h,b]);const P=()=>{let j=g;return b&&b.role==="staff"&&(j=g.filter(E=>E.role!=="admin")),[{value:"all",label:"All Users"},...j.map(E=>({value:E.name,label:E.name}))]},I=[{value:"all",label:"All Activities"},{value:"inbound",label:"Inbound"},{value:"outbound",label:"Outbound"}],T=()=>{i(null),o(null)},_=()=>{try{const E=[["User","Role","Activity","Time"].join(","),...e.map(Y=>[Y.user,Y.role,`"${Y.detail.replace(/"/g,'""')}"`,rr(new Date(Y.time),"MMM d, yyyy h:mm a")].join(","))].join(`
`),N=new Blob([E],{type:"text/csv;charset=utf-8;"}),O=document.createElement("a"),U=URL.createObjectURL(N);O.setAttribute("href",U),O.setAttribute("download",`activity_logs_${rr(new Date,"yyyy-MM-dd")}.csv`),O.style.visibility="hidden",document.body.appendChild(O),O.click(),document.body.removeChild(O)}catch(j){console.error("Error exporting to CSV:",j),v("Failed to export to CSV","error")}},S=()=>{var j,E;try{const N=new yr;N.setFontSize(16),N.text("Activity Logs Report",14,15),N.setFontSize(10);const O=a&&s?`${rr(a,"MMM d, yyyy")} - ${rr(s,"MMM d, yyyy")}`:a?`From ${rr(a,"MMM d, yyyy")}`:s?`To ${rr(s,"MMM d, yyyy")}`:"All Time";N.text(`Date Range: ${O}`,14,25),N.text(`User Filter: ${(j=P().find(U=>U.value===l))==null?void 0:j.label}`,14,30),N.text(`Activity Filter: ${(E=I.find(U=>U.value===u))==null?void 0:E.label}`,14,35),gBe(N,{startY:40,head:[["User","Role","Activity","Time"]],body:e.map(U=>[U.user,U.role,U.detail,rr(new Date(U.time),"MMM d, yyyy h:mm a")]),styles:{fontSize:8},headStyles:{fillColor:[51,65,85]}}),N.save(`activity_logs_${rr(new Date,"yyyy-MM-dd")}.pdf`)}catch(N){console.error("Error exporting to PDF:",N),v("Failed to export to PDF","error")}};return d.jsx("div",{className:`space-y-6 ${y?"bg-slate-900 text-white":"bg-white text-slate-800"}`,children:d.jsxs("div",{className:`rounded-lg shadow-sm border ${y?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[d.jsxs("div",{className:`flex flex-col sm:flex-row sm:justify-between sm:items-center p-6 border-b gap-4 ${y?"border-slate-700":"border-slate-200"}`,children:[d.jsx("h2",{className:`text-xl font-semibold ${y?"text-white":"text-slate-800"}`,children:"Activity Logs"}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[d.jsxs("button",{onClick:_,className:`inline-flex items-center px-3 py-2 border shadow-sm text-sm leading-4 font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 w-full sm:w-auto ${y?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,children:[d.jsx(V2,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),d.jsxs("button",{onClick:S,className:`inline-flex items-center px-3 py-2 border shadow-sm text-sm leading-4 font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 w-full sm:w-auto ${y?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,children:[d.jsx(V2,{className:"h-4 w-4 mr-2"}),"Export PDF"]})]})]}),d.jsxs("div",{className:`flex flex-col sm:flex-row sm:justify-between sm:items-center p-6 border-b gap-2 ${y?"border-slate-700":"border-slate-200"}`,children:[d.jsx("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto items-stretch sm:items-center",children:d.jsx(Nt,{type:"text",placeholder:"Search activities, product names, users...",value:h,onChange:j=>p(j.target.value),className:"w-full sm:w-96",icon:d.jsx(Oo,{size:16})})}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-1 w-full sm:w-auto items-stretch sm:items-center",children:[d.jsx(en,{value:l,onChange:j=>c(j.target.value),options:P(),className:"w-full sm:w-40"}),d.jsx(en,{value:u,onChange:j=>f(j.target.value),options:I,className:"w-full sm:w-40"}),d.jsx(vC,{startDate:a,endDate:s,onStartDateChange:i,onEndDateChange:o,onClear:T,className:"w-full sm:w-80"}),d.jsx(st,{variant:"secondary",onClick:D,className:"flex items-center gap-2 w-full sm:w-auto",children:d.jsx(Za,{size:16})})]})]}),r?d.jsx("div",{className:"flex justify-center items-center h-32",children:d.jsx("div",{className:`animate-spin rounded-full h-8 w-8 border-b-2 ${y?"border-white":"border-slate-800"}`})}):e.length>0?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"hidden md:block overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{className:`${y?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${y?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"User"}),d.jsx("th",{className:`px-2 py-3 text-left text-xs font-medium ${y?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Role"}),d.jsx("th",{className:`px-2 py-3 text-left text-xs font-medium ${y?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Activity"}),d.jsx("th",{className:`px-2 py-3 text-left text-xs font-medium ${y?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Time"})]})}),d.jsx("tbody",{className:`divide-y ${y?"divide-slate-700":"divide-slate-200"}`,children:d.jsx(QU,{children:e.map(j=>d.jsxs(Jn.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:`${y?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[d.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${y?"text-slate-200":"text-slate-800"}`,children:j.user}),d.jsx("td",{className:`px-2 py-4 whitespace-nowrap text-sm ${y?"text-slate-200":"text-slate-800"}`,children:j.role}),d.jsx("td",{className:`px-2 py-4 text-sm ${y?"text-slate-200":"text-slate-800"}`,children:j.detail}),d.jsx("td",{className:`px-2 py-4 whitespace-nowrap text-sm ${y?"text-slate-200":"text-slate-800"}`,children:rr(new Date(j.time),"MMM d, yyyy h:mm:ss a")})]},j.id))})})]})}),d.jsx("div",{className:"block md:hidden space-y-4 p-4",children:e.map(j=>d.jsxs("div",{className:`rounded-lg border ${y?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-4 shadow-sm flex flex-col gap-2`,children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:`font-semibold ${y?"text-blue-400":"text-blue-700"}`,children:j.user}),d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${y?"bg-slate-700 text-slate-200":"bg-slate-100 text-slate-700"}`,children:j.role})]}),d.jsxs("div",{className:y?"text-slate-200":"text-slate-800",children:[d.jsx("span",{className:"block text-xs font-medium mb-1",children:"Activity:"}),d.jsx("span",{className:"text-sm",children:j.detail})]}),d.jsx("div",{className:"text-xs mt-1",children:d.jsxs("span",{className:y?"text-slate-400":"text-slate-600",children:["Time: ",d.jsx("span",{className:"font-medium",children:rr(new Date(j.time),"MMM d, yyyy h:mm:ss a")})]})})]},j.id))})]}):d.jsx("div",{className:`text-center py-8 ${y?"text-slate-400":"text-slate-500"}`,children:"No activity logs found"})]})})},yBe=()=>{const[e,t]=B.useState("daily"),[r,n]=B.useState(Dr(new Date,7)),[a,i]=B.useState(new Date),[s,o]=B.useState([]),[l,c]=B.useState([]),[u,f]=B.useState([]),[h,p]=B.useState({totalOrders:0,totalStock:0,totalInventoryValue:0,totalDamagedProducts:0,yesterdayOrders:0,yesterdayStockChange:0,yesterdayRevenue:0,totalDeductions:0,previousDeductions:0,todayStockAdditions:0,todayInventoryValueAdditions:0}),[g,m]=B.useState(!0),{isDarkMode:v}=sn(),{user:y}=wa(),b=B.useCallback(async()=>{m(!0);try{const S=a||new Date,j=r||Dr(S,7),E=cr(mt(Ke,"orders"),or("createdAt",">=",lr.fromDate(j)),or("createdAt","<=",lr.fromDate(S))),O=(await ur(E)).docs.map(je=>{var Je,ut,ot;return{id:je.id,...je.data(),createdAt:(Je=je.data().createdAt)==null?void 0:Je.toDate(),updatedAt:(ut=je.data().updatedAt)==null?void 0:ut.toDate(),shippedTime:(ot=je.data().shippedTime)==null?void 0:ot.toDate()}}),U=cr(mt(Ke,"inventory")),K=(await ur(U)).docs.map(je=>({id:je.id,...je.data(),lastUpdated:je.data().lastUpdated instanceof lr?je.data().lastUpdated.toDate():new Date(je.data().lastUpdated)})),J=cr(mt(Ke,"activityLogs"),or("time",">=",j.toISOString()),or("time","<=",S.toISOString()),Ia("time","desc")),V=(await ur(J)).docs.map(je=>({id:je.id,...je.data()}));f(V),o(K),c(O);const ee=K.reduce((je,Je)=>je+(Je.quantity||0),0),Z=K.reduce((je,Je)=>je+(Je.quantity||0)*(Je.price||0),0),k=O.length,R=Dr(new Date,1),q=new Date,G=O.filter(je=>{const Je=je.createdAt;return Je>=R&&Je<=q}),Q=G.length,ie=G.reduce((je,Je)=>je+(Je.totalAmount||0),0),ue=a||new Date,ne=r||Dr(ue,7),ye=V.filter(je=>{const Je=new Date(je.time);return Je>=ne&&Je<=ue}).filter(je=>{const Je=je.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(Je){const[,kt]=Je;return K.some(Pt=>Pt.name===kt)}const ut=je.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(ut){const[,kt]=ut;return K.some(Pt=>Pt.name===kt)}return je.detail.match(/(\d+) units deducted from stock/)||[/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(kt=>kt.test(je.detail)),!0}),W=ue.getTime()-ne.getTime(),Pe=new Date(ne.getTime()-W),Ce=new Date(ne.getTime()),oe=V.filter(je=>{const Je=new Date(je.time);return Je>=Pe&&Je<=Ce}).filter(je=>{const Je=je.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(Je){const[,kt]=Je;return K.some(Pt=>Pt.name===kt)}const ut=je.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(ut){const[,kt]=ut;return K.some(Pt=>Pt.name===kt)}return je.detail.match(/(\d+) units deducted from stock/)||[/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(kt=>kt.test(je.detail)),!0}),ve=ye.reduce((je,Je)=>{const ut=Je.detail.match(/(\d+) units deducted/);return je+(ut?parseInt(ut[1]):0)},0),De=oe.reduce((je,Je)=>{const ut=Je.detail.match(/(\d+) units deducted/);return je+(ut?parseInt(ut[1]):0)},0),Te=ye.reduce((je,Je)=>{const ut=Je.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(ut){const[,wt,kt]=ut;if(K.find(_t=>_t.name===wt))return je+parseInt(kt)}const ot=Je.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(ot){const[,wt,kt,Pt]=ot;if(K.find(nt=>nt.name===wt)){const nt=parseInt(Pt)-parseInt(kt);if(nt>0)return je+nt}}return je},0),Re=ye.reduce((je,Je)=>{const ut=Je.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(ut){const[,wt,kt]=ut,Pt=K.find(_t=>_t.name===wt);if(Pt){const _t=Pt.price||0;return je+parseInt(kt)*_t}}const ot=Je.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(ot){const[,wt,kt,Pt]=ot,_t=K.find(nt=>nt.name===wt);if(_t){const nt=parseInt(Pt)-parseInt(kt);if(nt>0){const nr=_t.price||0;return je+nt*nr}}}return je},0),qe=ye.reduce((je,Je)=>{if([/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(wt=>wt.test(Je.detail))){let wt=0;const kt=/(\d+)\s+units?\s+deducted\s+from\s+stock.*Reason:\s*damaged/i,Pt=Je.detail.match(kt);if(Pt)wt=parseInt(Pt[1]);else{const _t=[/damaged\s+items\s+from\s+(\d+)\s+to\s+(\d+)/i,/(\d+)\s+damaged\s+items?/i,/damaged\s+(\d+)\s+items?/i,/damagedItems?:\s*(\d+)/i,/(\d+)\s+units?\s+damaged/i,/damaged\s+(\d+)\s+units?/i];for(const nt of _t){const nr=Je.detail.match(nt);if(nr){if(nr.length===3){const Wt=parseInt(nr[1]),zr=parseInt(nr[2]);wt=Math.abs(Wt-zr)}else wt=parseInt(nr[1]);break}}}return{incidents:je.incidents+1,units:je.units+(wt>0?wt:1)}}return je},{incidents:0,units:0}).incidents;p({totalOrders:k,totalStock:ee,totalInventoryValue:Z,totalDamagedProducts:qe,yesterdayOrders:Q,yesterdayStockChange:0,yesterdayRevenue:ie,totalDeductions:ve,previousDeductions:De,todayStockAdditions:Te,todayInventoryValueAdditions:Re})}catch(S){console.error("Error fetching data:",S)}finally{m(!1)}},[r,a]),w=()=>{n(null),i(null)};if(B.useEffect(()=>{b()},[b]),B.useEffect(()=>{},[e]),!y||y.role!=="admin")return d.jsx(N4,{to:"/",replace:!0});const D=()=>{const S=[],j=new Map,E=new Date;let N;switch(e){case"daily":N=Dr(E,7);break;case"weekly":N=Dr(E,30);break;case"monthly":N=Dr(E,90);break;default:N=Dr(E,7)}return u.filter(Y=>{const K=new Date(Y.time);return K>=N&&K<=E}).filter(Y=>{const K=Y.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(K){const[,z]=K;return s.some(V=>V.name===z)}const J=Y.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(J){const[,z]=J;return s.some(V=>V.name===z)}return!0}).forEach(Y=>{let K=0,J=!1,z="";const V=Y.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(V){const[,Z,k]=V;s.find(q=>q.name===Z)&&(K=parseInt(k),z=Z,J=!0)}const ee=Y.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(ee){const[,Z,k,R]=ee;if(s.find(G=>G.name===Z)){const G=parseInt(R)-parseInt(k);G>0&&(K=G,z=Z,J=!0)}}if(J){const Z=new Date(Y.time);let k;switch(e){case"daily":k=rr(Z,"MMM dd");break;case"weekly":k=rr(Z,"'Week' w");break;case"monthly":k=rr(Z,"MMM yyyy");break}const R=j.get(k)||{activities:0,units:0,uniqueProducts:new Set};R.uniqueProducts.add(z),j.set(k,{activities:R.activities+1,units:R.units+K,uniqueProducts:R.uniqueProducts})}}),j.forEach((Y,K)=>{S.push({date:K,activities:Y.activities,units:Y.units,uniqueProducts:Y.uniqueProducts.size})}),S.sort((Y,K)=>{const J=new Date(Y.date),z=new Date(K.date);return J.getTime()-z.getTime()})},P=()=>{const S=[],j=new Map,E=new Date;let N;switch(e){case"daily":N=Dr(E,7);break;case"weekly":N=Dr(E,30);break;case"monthly":N=Dr(E,90);break;default:N=Dr(E,7)}return u.filter(Y=>{const K=new Date(Y.time);return K>=N&&K<=E}).filter(Y=>(Y.detail.match(/(\d+) units deducted from stock/),!0)).forEach(Y=>{const K=Y.detail.match(/(\d+) units deducted from stock/);if(K){const J=new Date(Y.time);let z;switch(e){case"daily":z=rr(J,"MMM dd");break;case"weekly":z=rr(J,"'Week' w");break;case"monthly":z=rr(J,"MMM yyyy");break}const V=j.get(z)||0;j.set(z,V+parseInt(K[1]))}}),j.forEach((Y,K)=>{S.push({date:K,products:Y})}),S.sort((Y,K)=>{const J=new Date(Y.date),z=new Date(K.date);return J.getTime()-z.getTime()})},I=()=>{const S=[],j=new Map,E=[],N=a||new Date,O=r||Dr(N,7);u.filter(J=>{const z=new Date(J.time);return z>=O&&z<=N}).filter(J=>([/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(V=>V.test(J.detail)),!0)).forEach(J=>{if([/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(ee=>ee.test(J.detail))){const ee=new Date(J.time);let Z;switch(e){case"daily":Z=rr(ee,"MMM dd");break;case"weekly":Z=rr(ee,"'Week' w");break;case"monthly":Z=rr(ee,"MMM yyyy");break}let k=0;const R=/(\d+)\s+units?\s+deducted\s+from\s+stock.*Reason:\s*damaged/i,q=J.detail.match(R);if(q)k=parseInt(q[1]);else{const ue=[/damaged\s+items\s+from\s+(\d+)\s+to\s+(\d+)/i,/(\d+)\s+damaged\s+items?/i,/damaged\s+(\d+)\s+items?/i,/damagedItems?:\s*(\d+)/i,/(\d+)\s+units?\s+damaged/i,/damaged\s+(\d+)\s+units?/i];for(const ne of ue){const pe=J.detail.match(ne);if(pe){if(pe.length===3){const ye=parseInt(pe[1]),W=parseInt(pe[2]);k=Math.abs(ye-W)}else k=parseInt(pe[1]);break}}}let G="Unknown Product";const Q=J.detail.match(/"([^"]+)"/);Q&&(G=Q[1]),E.push({date:Z,time:rr(ee,"HH:mm"),user:J.user,productName:G,units:k>0?k:1,detail:J.detail}),j.has(Z)||j.set(Z,{incidents:0,units:0,productNames:new Set});const ie=j.get(Z);ie.incidents+=1,ie.units+=k>0?k:1,ie.productNames.add(G)}}),j.forEach((J,z)=>{S.push({date:z,products:J.incidents,units:J.units,productNames:Array.from(J.productNames)})});const K=S.sort((J,z)=>new Date(J.date).getTime()-new Date(z.date).getTime());return K.detailedIncidents=E.sort((J,z)=>{const V=new Date(J.date+" "+J.time);return new Date(z.date+" "+z.time).getTime()-V.getTime()}),K},T=()=>{try{const S=rr(new Date,"yyyy-MM-dd-HH-mm"),j=e==="daily"?"Last 7 Days":e==="weekly"?"Last Month":e==="monthly"?"Last 3 Months":"Last 6 Months",E=s.map(ee=>[ee.name,ee.quantity,ee.price,`${ee.locationCode}-${ee.shelfNumber}`,ee.status,ee.damagedItems]),N=D(),O=P(),U=I(),Y=Math.max(N.length,O.length,U.length,E.length),K=[];K.push(`Warehouse Analytics Report - ${j} - Time Range: ${e.charAt(0).toUpperCase()+e.slice(1)} - Generated: ${rr(new Date,"yyyy-MM-dd HH:mm:ss")}`),K.push(""),K.push("SUMMARY STATISTICS"),K.push(`Total Stock Added (${j}),${h.todayStockAdditions},Total Units Deducted (${j}),${h.totalDeductions},Total Damaged Products (${j}),${h.totalDamagedProducts},Total Inventory Value,£${h.totalInventoryValue.toLocaleString("en-GB")}`),K.push(""),K.push("INBOUND DATA,,,OUTBOUND DATA,,DAMAGED DATA,,,INVENTORY DATA,,,,,"),K.push("Date,Activities,Units Added,Affected Products,Date,Units Deducted,Date,Incidents,Units Damaged,Product Name,Quantity,Price,Location,Status,Damaged Items");for(let ee=0;ee<Y;ee++){const Z=[];if(ee<N.length){const k=N[ee];Z.push(k.date,k.activities,k.units,k.uniqueProducts)}else Z.push("","","","");if(ee<O.length){const k=O[ee];Z.push(k.date,k.products)}else Z.push("","");if(ee<U.length){const k=U[ee];Z.push(k.date,k.products,k.units)}else Z.push("","","");if(ee<E.length){const k=E[ee];Z.push(...k)}else Z.push("","","","","","");K.push(Z.join(","))}K.push(""),K.push("DETAILED DAMAGED PRODUCTS INCIDENTS"),K.push("Date,Time,User,Product Name,Units Damaged,Details"),U.detailedIncidents&&U.detailedIncidents.length>0?U.detailedIncidents.forEach(ee=>{K.push(`${ee.date},${ee.time},${ee.user},${ee.productName},${ee.units},"${ee.detail.replace(/"/g,'""')}"`)}):K.push("No detailed incidents available,,,,,");const J=K.join(`
`),z=new Blob([J],{type:"text/csv;charset=utf-8;"}),V=document.createElement("a");V.href=URL.createObjectURL(z),V.download=`warehouse-report-${j}-${S}.csv`,V.click(),URL.revokeObjectURL(V.href)}catch(S){console.error("Error exporting CSV:",S),alert("Failed to export CSV. Please try again.")}},_=()=>{try{const S=e==="daily"?"Last 7 Days":e==="weekly"?"Last Month":e==="monthly"?"Last 3 Months":"Last 6 Months",j=D(),E=P(),N=I(),O=N.detailedIncidents||[];console.log("Damaged Data:",N),console.log("Detailed Incidents:",O),console.log("Activity Logs Count:",u.length),console.log("Sample Activity Logs:",u.slice(0,3)),(!O||O.length===0)&&console.log("No detailed incidents found, generating on the fly...");const U=`
        <html>
          <head>
            <title>Warehouse Analytics Report - ${S}</title>
            <style>
              body { font-family: Arial, sans-serif; margin: 20px; color: #333; }
              .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #2563eb; padding-bottom: 20px; }
              .section { margin-bottom: 30px; page-break-inside: avoid; }
              .section h2 { color: #2563eb; border-bottom: 1px solid #2563eb; padding-bottom: 5px; margin-bottom: 15px; }
              table { width: 100%; border-collapse: collapse; margin-top: 10px; font-size: 12px; }
              th, td { border: 1px solid #ddd; padding: 6px; text-align: left; }
              th { background-color: #f8fafc; font-weight: bold; }
              .detailed-table th, .detailed-table td { font-size: 10px; padding: 4px; }
              .detailed-table td { max-width: 150px; word-wrap: break-word; }
              .stats-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin-bottom: 30px; }
              .stat-card { border: 1px solid #e2e8f0; padding: 15px; text-align: center; border-radius: 8px; }
              .stat-value { font-size: 24px; font-weight: bold; color: #2563eb; margin-bottom: 5px; }
              .stat-title { font-size: 14px; color: #64748b; }
              .chart-summary { background-color: #f8fafc; padding: 15px; border-radius: 8px; margin-bottom: 15px; }
              @media print { 
                body { margin: 0; } 
                .section { page-break-inside: avoid; }
              }
            </style>
          </head>
          <body>
            <div class="header">
              <h1>Warehouse Analytics Report</h1>
              <p><strong>Time Period:</strong> ${S}</p>
              <p><strong>Time Range:</strong> ${e.charAt(0).toUpperCase()+e.slice(1)} View</p>
              <p><strong>Generated:</strong> ${rr(new Date,"yyyy-MM-dd HH:mm:ss")}</p>
            </div>
            
            <div class="stats-grid">
              <div class="stat-card">
                <div class="stat-value">${h.todayStockAdditions}</div>
                <div class="stat-title">Total Stock Added<br/>(${S})</div>
              </div>
              <div class="stat-card">
                <div class="stat-value">${h.totalDeductions}</div>
                <div class="stat-title">Total Units Deducted<br/>(${S})</div>
              </div>
              <div class="stat-card">
                <div class="stat-value">${h.totalDamagedProducts}</div>
                <div class="stat-title">Total Damaged Products<br/>(${S})</div>
              </div>
              <div class="stat-card">
                <div class="stat-value">£${h.totalInventoryValue.toLocaleString("en-GB")}</div>
                <div class="stat-title">Total Inventory Value</div>
              </div>
            </div>
            
            <div class="section">
              <h2>Inbound Products Analysis (${e.charAt(0).toUpperCase()+e.slice(1)} View)</h2>
              <div class="chart-summary">
                <p><strong>Total Data Points:</strong> ${j.length}</p>
                <p><strong>Total Activities:</strong> ${j.reduce((K,J)=>K+J.activities,0)}</p>
                <p><strong>Total Units Added:</strong> ${j.reduce((K,J)=>K+J.units,0)}</p>
                <p><strong>Total Products Affected:</strong> ${j.reduce((K,J)=>K+J.uniqueProducts,0)}</p>
              </div>
              <table>
                <thead>
                  <tr>
                    <th>Date</th>
                    <th>Activities</th>
                    <th>Units Added</th>
                    <th>Affected Products</th>
                  </tr>
                </thead>
                <tbody>
                  ${j.slice(0,15).map(K=>`
                    <tr>
                      <td>${K.date}</td>
                      <td>${K.activities}</td>
                      <td>${K.units}</td>
                      <td>${K.uniqueProducts}</td>
                    </tr>
                  `).join("")}
                  ${j.length>15?`<tr><td colspan="4"><em>... and ${j.length-15} more entries</em></td></tr>`:""}
                </tbody>
              </table>
            </div>
            
            <div class="section">
              <h2>Outbound Products Analysis (${e.charAt(0).toUpperCase()+e.slice(1)} View)</h2>
              <div class="chart-summary">
                <p><strong>Total Data Points:</strong> ${E.length}</p>
                <p><strong>Total Units Deducted:</strong> ${E.reduce((K,J)=>K+J.products,0)}</p>
              </div>
              <table>
                <thead>
                  <tr>
                    <th>Date</th>
                    <th>Units Deducted</th>
                  </tr>
                </thead>
                <tbody>
                  ${E.slice(0,15).map(K=>`
                    <tr>
                      <td>${K.date}</td>
                      <td>${K.products}</td>
                    </tr>
                  `).join("")}
                  ${E.length>15?`<tr><td colspan="2"><em>... and ${E.length-15} more entries</em></td></tr>`:""}
                </tbody>
              </table>
            </div>
            
            <div class="section">
              <h2>Damaged Products Analysis (${e.charAt(0).toUpperCase()+e.slice(1)} View)</h2>
              <div class="chart-summary">
                <p><strong>Total Data Points:</strong> ${N.length}</p>
                <p><strong>Total Incidents:</strong> ${N.reduce((K,J)=>K+J.products,0)}</p>
                <p><strong>Total Units Damaged:</strong> ${N.reduce((K,J)=>K+J.units,0)}</p>
                <p><strong>Detailed Incidents Available:</strong> ${O.length}</p>
                <p><strong>Note:</strong> Detailed incident breakdown with user information is shown below.</p>
              </div>
              
              <h3>Summary by Date</h3>
              <table>
                <thead>
                  <tr>
                    <th>Date</th>
                    <th>Incidents</th>
                    <th>Units Damaged</th>
                    <th>Product Names</th>
                  </tr>
                </thead>
                <tbody>
                  ${N.slice(0,15).map(K=>`
                    <tr>
                      <td>${K.date}</td>
                      <td>${K.products}</td>
                      <td>${K.units}</td>
                      <td>${K.productNames?K.productNames.join(", "):"N/A"}</td>
                    </tr>
                  `).join("")}
                  ${N.length>15?`<tr><td colspan="4"><em>... and ${N.length-15} more entries</em></td></tr>`:""}
                </tbody>
              </table>
              
              <h3>Detailed Incidents by Entry</h3>
              <table class="detailed-table">
                <thead>
                  <tr>
                    <th>Date & Time</th>
                    <th>User</th>
                    <th>Product</th>
                    <th>Units Damaged</th>
                    <th>Details</th>
                  </tr>
                </thead>
                <tbody>
                  ${O.length>0?O.slice(0,50).map(K=>`
                    <tr>
                      <td>${K.date} ${K.time}</td>
                      <td>${K.user}</td>
                      <td>${K.productName}</td>
                      <td>${K.units}</td>
                      <td style="max-width: 200px; word-wrap: break-word;">${K.detail}</td>
                    </tr>
                  `).join(""):'<tr><td colspan="5">No detailed incidents available</td></tr>'}
                  ${O.length>50?`<tr><td colspan="5"><em>... and ${O.length-50} more incidents</em></td></tr>`:""}
                </tbody>
              </table>
            </div>
            
            <div class="section">
              <h2>Inventory Summary (${s.length} items)</h2>
              <div class="chart-summary">
                <p><strong>Total Products:</strong> ${s.length}</p>
                <p><strong>Active Products:</strong> ${s.filter(K=>K.status==="active").length}</p>
                <p><strong>Pending Products:</strong> ${s.filter(K=>K.status==="pending").length}</p>
                <p><strong>Total Quantity:</strong> ${s.reduce((K,J)=>K+(J.quantity||0),0)}</p>
              </div>
              <table>
                <thead>
                  <tr>
                    <th>Product</th>
                    <th>Quantity</th>
                    <th>Price</th>
                    <th>Location</th>
                    <th>Status</th>
                  </tr>
                </thead>
                <tbody>
                  ${s.map(K=>`
                    <tr>
                      <td>${K.name}</td>
                      <td>${K.quantity}</td>
                      <td>${K.price&&!isNaN(K.price)?`£${K.price.toFixed(2)}`:"Not set"}</td>
                      <td>${K.locationCode}-${K.shelfNumber}</td>
                      <td>${K.status}</td>
                    </tr>
                  `).join("")}
                </tbody>
              </table>
            </div>
          </body>
        </html>
      `,Y=window.open("","_blank");Y?(Y.document.write(U),Y.document.close(),Y.focus(),setTimeout(()=>{Y.print()},500)):alert("Please allow pop-ups to export PDF")}catch(S){console.error("Error exporting PDF:",S),alert("Failed to export PDF. Please try again.")}};return d.jsxs("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6",children:[d.jsx("style",{children:`
          @keyframes fadeInUp {
            from {
              opacity: 0;
              transform: translateY(1rem);
            }
            to {
              opacity: 1;
              transform: translateY(0);
            }
          }
          .animate-fade-in-up {
            animation: fadeInUp 0.5s ease-out forwards;
          }
        `}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"text-center md:text-left",children:[d.jsx("h1",{className:`text-xl md:text-2xl font-semibold ${v?"text-white":"text-slate-800"}`,children:"Reports and Analytics"}),d.jsx("p",{className:`${v?"text-slate-400":"text-slate-500"} mt-1 text-sm md:text-base`,children:"Admin Dashboard - Comprehensive warehouse insights"})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-between items-start sm:items-center",children:[d.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[d.jsxs("button",{onClick:T,className:`flex-1 sm:flex-none inline-flex items-center justify-center px-3 py-2 border shadow-sm text-sm leading-4 font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 animate-fade-in-up ${v?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,style:{animationDelay:"200ms"},children:[d.jsx(V2,{className:"h-4 w-4 mr-2"}),d.jsx("span",{className:"hidden xs:inline",children:"Export "}),"CSV"]}),d.jsxs("button",{onClick:_,className:`flex-1 sm:flex-none inline-flex items-center justify-center px-3 py-2 border shadow-sm text-sm leading-4 font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 animate-fade-in-up ${v?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,style:{animationDelay:"400ms"},children:[d.jsx(V2,{className:"h-4 w-4 mr-2"}),d.jsx("span",{className:"hidden xs:inline",children:"Export "}),"PDF"]})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[d.jsx("div",{className:"w-full sm:w-auto",children:d.jsx(en,{value:e,onChange:S=>t(S.target.value),options:[{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"}],className:"animate-fade-in-up text-sm w-full sm:w-auto",style:{animationDelay:"100ms"}})}),d.jsx("div",{className:"w-full sm:w-auto",children:d.jsx(vC,{startDate:r,endDate:a,onStartDateChange:n,onEndDateChange:i,onClear:w,className:"animate-fade-in-up text-sm w-full sm:w-auto"})}),d.jsx(st,{variant:"secondary",onClick:b,className:`flex items-center justify-center gap-2 w-full sm:w-auto ${g?"opacity-50 cursor-not-allowed":""}`,disabled:g,children:d.jsx(Za,{size:16,className:g?"animate-spin":""})})]})]})]}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:g?d.jsxs(d.Fragment,{children:[d.jsx(rf,{}),d.jsx(rf,{}),d.jsx(rf,{}),d.jsx(rf,{})]}):d.jsxs(d.Fragment,{children:[d.jsx(di,{title:`Total Stock Added (${r&&a?`${rr(r,"MMM d")} - ${rr(a,"MMM d, yyyy")}`:r?`From ${rr(r,"MMM d, yyyy")}`:a?`To ${rr(a,"MMM d, yyyy")}`:"Last 7 Days"})`,value:h.todayStockAdditions,icon:d.jsx(Jd,{size:24,className:"text-blue-600"})}),d.jsx(di,{title:`Total Units Deducted (${r&&a?`${rr(r,"MMM d")} - ${rr(a,"MMM d, yyyy")}`:r?`From ${rr(r,"MMM d, yyyy")}`:a?`To ${rr(a,"MMM d, yyyy")}`:"Last 7 Days"})`,value:h.totalDeductions,icon:d.jsx(o9,{size:24,className:"text-blue-600"})}),d.jsx(di,{title:`Total Damaged Products (${r&&a?`${rr(r,"MMM d")} - ${rr(a,"MMM d, yyyy")}`:r?`From ${rr(r,"MMM d, yyyy")}`:a?`To ${rr(a,"MMM d, yyyy")}`:"Last 7 Days"})`,value:h.totalDamagedProducts,icon:d.jsx(Qd,{size:24,className:"text-blue-600"})}),d.jsx(di,{title:"Total Inventory Value",value:`£${h.totalInventoryValue.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:d.jsx(z2,{size:24,className:"text-blue-600"})})]})}),g?d.jsx("div",{className:"flex justify-center items-center h-64",children:d.jsx("div",{className:`animate-spin rounded-full h-8 w-8 border-b-2 ${v?"border-white":"border-slate-800"}`})}):d.jsx(d.Fragment,{children:d.jsxs("div",{className:"space-y-4 md:space-y-6",children:[d.jsxs("div",{className:`${v?"bg-slate-800":"bg-white"} p-3 md:p-4 rounded-lg shadow-sm`,children:[d.jsx("h3",{className:`text-base md:text-lg font-medium ${v?"text-white":"text-slate-800"} mb-3 md:mb-4`,children:"Inbound Products - Daily Additions & Units"}),d.jsx("div",{className:"h-64 md:h-80",children:d.jsx(Hg,{width:"100%",height:"100%",children:d.jsxs(Jg,{data:D(),children:[d.jsx(z0,{strokeDasharray:"3 3",stroke:v?"#334155":"#e2e8f0"}),d.jsx(Tf,{dataKey:"date",stroke:v?"#94a3b8":"#64748b"}),d.jsx(Ef,{stroke:v?"#94a3b8":"#64748b"}),d.jsx(Ss,{contentStyle:{backgroundColor:v?"#1e293b":"#ffffff",border:v?"1px solid #334155":"1px solid #e2e8f0",color:v?"#e2e8f0":"#1e293b"},formatter:(S,j)=>j==="Inbound Activities"?[`${S} activities`,j]:j==="Units Added"?[`${S} units`,j]:j==="Affected Products"?[`${S} products`,j]:[S,j],labelFormatter:S=>`Date: ${S}`}),d.jsx(vl,{}),d.jsx(mi,{type:"monotone",dataKey:"activities",stroke:"#8884d8",name:"Inbound Activities",strokeWidth:2}),d.jsx(mi,{type:"monotone",dataKey:"units",stroke:"#82ca9d",name:"Units Added",strokeWidth:2}),d.jsx(mi,{type:"monotone",dataKey:"uniqueProducts",stroke:"#ffc658",name:"Affected Products",strokeWidth:2})]})})})]}),d.jsxs("div",{className:`${v?"bg-slate-800":"bg-white"} p-3 md:p-4 rounded-lg shadow-sm`,children:[d.jsx("h3",{className:`text-base md:text-lg font-medium ${v?"text-white":"text-slate-800"} mb-3 md:mb-4`,children:"Outbound Products - Daily Deductions"}),d.jsx("div",{className:"h-64 md:h-80",children:d.jsx(Hg,{width:"100%",height:"100%",children:d.jsxs(Jg,{data:P(),children:[d.jsx(z0,{strokeDasharray:"3 3",stroke:v?"#334155":"#e2e8f0"}),d.jsx(Tf,{dataKey:"date",stroke:v?"#94a3b8":"#64748b"}),d.jsx(Ef,{stroke:v?"#94a3b8":"#64748b"}),d.jsx(Ss,{contentStyle:{backgroundColor:v?"#1e293b":"#ffffff",border:v?"1px solid #334155":"1px solid #e2e8f0",color:v?"#e2e8f0":"#1e293b"}}),d.jsx(vl,{}),d.jsx(mi,{type:"monotone",dataKey:"products",stroke:"#ff6b6b",name:"Units Deducted",strokeWidth:2})]})})})]}),d.jsxs("div",{className:`${v?"bg-slate-800":"bg-white"} p-3 md:p-4 rounded-lg shadow-sm`,children:[d.jsx("h3",{className:`text-base md:text-lg font-medium ${v?"text-white":"text-slate-800"} mb-3 md:mb-4`,children:"Damaged Products - Daily Incidents & Units"}),d.jsx("div",{className:"h-64 md:h-80",children:d.jsx(Hg,{width:"100%",height:"100%",children:d.jsxs(Jg,{data:I(),children:[d.jsx(z0,{strokeDasharray:"3 3",stroke:v?"#334155":"#e2e8f0"}),d.jsx(Tf,{dataKey:"date",stroke:v?"#94a3b8":"#64748b"}),d.jsx(Ef,{stroke:v?"#94a3b8":"#64748b"}),d.jsx(Ss,{contentStyle:{backgroundColor:v?"#1e293b":"#ffffff",border:v?"1px solid #334155":"1px solid #e2e8f0",color:v?"#e2e8f0":"#1e293b"},formatter:(S,j)=>j==="Damaged Incidents"?[`${S} incidents`,j]:j==="Units Damaged"?[`${S} units`,j]:[S,j],labelFormatter:S=>`Date: ${S}`}),d.jsx(vl,{}),d.jsx(mi,{type:"monotone",dataKey:"products",stroke:"#ffa726",name:"Damaged Incidents",strokeWidth:2}),d.jsx(mi,{type:"monotone",dataKey:"units",stroke:"#ef5350",name:"Units Damaged",strokeWidth:2})]})})})]})]})})]})},xBe=()=>{const{user:e,setUser:t}=wa(),{showToast:r}=rc(),{isDarkMode:n,toggleDarkMode:a}=sn(),[i,s]=B.useState(!1),[o,l]=B.useState({}),[c,u]=B.useState([]),[f,h]=B.useState(null),[p,g]=B.useState(!1),[m,v]=B.useState({username:"",email:"",name:"",password:"",confirmPassword:"",role:"staff"}),[y,b]=B.useState({}),[w,D]=B.useState({}),[P,I]=B.useState(!1),[T,_]=B.useState(null),[S,j]=B.useState({username:(e==null?void 0:e.username)||"",email:(e==null?void 0:e.email)||"",name:(e==null?void 0:e.name)||"",currentPassword:"",newPassword:"",confirmPassword:""}),[E,N]=B.useState({username:"",email:"",name:"",newPassword:"",confirmPassword:""}),O=B.useCallback(async()=>{if((e==null?void 0:e.role)==="admin"){s(!0);try{const ie=(await ur(mt(Ke,"users"))).docs.map(ue=>({id:ue.id,...ue.data()}));u(ie),console.log("Fetched users:",ie.map(ue=>({id:ue.id,username:ue.username,name:ue.name})))}catch(Q){console.error("Error fetching users:",Q),r("Error fetching users","error")}finally{s(!1)}}},[e==null?void 0:e.role,r]);B.useEffect(()=>{O()},[e==null?void 0:e.role,r,O]);const U=Q=>Q.split(" ").map(ie=>ie[0]).join("").toUpperCase().slice(0,2),Y=Q=>{const{name:ie,value:ue}=Q.target;j(ne=>({...ne,[ie]:ue})),o[ie]&&l(ne=>{const pe={...ne};return delete pe[ie],pe})},K=()=>{const Q={};return S.username.trim()||(Q.username="Username is required"),S.email.trim()&&!/\S+@\S+\.\S+/.test(S.email)&&(Q.email="Invalid email format"),S.name.trim()||(Q.name="Name is required"),(S.currentPassword||S.newPassword||S.confirmPassword)&&(S.currentPassword?S.currentPassword!==(e==null?void 0:e.password)&&(Q.currentPassword="Current password is incorrect"):Q.currentPassword="Current password is required",S.newPassword?S.newPassword.length<6&&(Q.newPassword="Password must be at least 6 characters"):Q.newPassword="New password is required",S.newPassword!==S.confirmPassword&&(Q.confirmPassword="Passwords do not match")),l(Q),Object.keys(Q).length===0},J=async Q=>{if(Q.preventDefault(),!!e&&K()){s(!0);try{const ie={username:S.username,email:S.email,name:S.name,password:S.currentPassword!=""&&S.confirmPassword!=""&&S.newPassword!=""?S.newPassword:e.password},ue=[];e.username!==S.username&&ue.push(`changed username from "${e.username}" to "${S.username}"`),e.email!==S.email&&ue.push(`changed email from "${e.email}" to "${S.email}"`),e.name!==S.name&&ue.push(`changed full name from "${e.name}" to "${S.name}"`),S.currentPassword&&S.newPassword&&ue.push("changed their password");const ne=Ar(Ke,"users",e.id);await jn(ne,ie),ue.length>0&&await pr(mt(Ke,"activityLogs"),{user:e.name,role:e.role,detail:ue.length===1?ue[0]:`made multiple profile changes: ${ue.join("; ")}`,time:new Date().toISOString()}),t({...e,username:S.username,email:S.email,name:S.name,password:S.newPassword||e.password}),j(pe=>({...pe,currentPassword:"",newPassword:"",confirmPassword:""})),r("Profile updated successfully!","success")}catch(ie){console.error("Error updating profile:",ie),l({submit:"Failed to update profile. Please try again."}),r("Failed to update profile. Please try again.","error")}finally{s(!1)}}},z=Q=>{console.log("Editing user:",Q),h(Q),D({}),N({username:Q.username,email:Q.email,name:Q.name,newPassword:"",confirmPassword:""})},V=Q=>{const{name:ie,value:ue}=Q.target;N(ne=>({...ne,[ie]:ue})),w[ie]&&D(ne=>{const pe={...ne};return delete pe[ie],pe})},ee=async()=>{if(f)try{if(s(!0),D({}),!E.username.trim()){D({username:"Username is required"});return}if(!E.name.trim()){D({name:"Name is required"});return}if(E.newPassword||E.confirmPassword){if(E.newPassword!==E.confirmPassword){D({confirmPassword:"Passwords do not match"});return}if(E.newPassword.length<6){D({newPassword:"Password must be at least 6 characters"});return}}console.log("Updating user:",f.id),console.log("Editing user object:",f),console.log("Update data:",{username:E.username,email:E.email,name:E.name,password:E.newPassword?"***":"unchanged"});const Q=Ar(Ke,"users",f.id);console.log("User reference:",Q.path);const ie={username:E.username,email:E.email,name:E.name,role:f.role};E.newPassword&&(ie.password=E.newPassword),console.log("Attempting to update document with data:",ie);try{await jn(Q,ie),console.log("User updated successfully in Firestore")}catch(ue){console.error("Failed to update by ID, trying to find by username:",ue);const ne=cr(mt(Ke,"users"),or("username","==",f.username)),pe=await ur(ne);if(pe.empty)throw new Error("User not found by username either");{const ye=pe.docs[0];console.log("Found user by username, actual ID:",ye.id);const W=Ar(Ke,"users",ye.id);await jn(W,ie),console.log("User updated successfully using fallback method"),u(Pe=>Pe.map(Ce=>Ce.username===f.username?{...Ce,id:ye.id,...ie}:Ce))}}await pr(mt(Ke,"activityLogs"),{user:e==null?void 0:e.name,role:e==null?void 0:e.role,detail:`updated user "${f.name}" (username: ${E.username})`,time:new Date().toISOString()}),u(ue=>ue.map(ne=>ne.id===f.id?{...ne,...ie}:ne)),r("User updated successfully","success"),h(null)}catch(Q){console.error("Error updating user:",Q),console.error("Error details:",{editingUser:f,userEditForm:E,error:Q}),r("Failed to update user","error")}finally{s(!1)}},Z=Q=>{const{name:ie,value:ue}=Q.target;v(ne=>({...ne,[ie]:ue})),y[ie]&&b(ne=>{const pe={...ne};return delete pe[ie],pe})},k=()=>{const Q={};return m.username.trim()||(Q.username="Username is required"),m.email.trim()&&!/\S+@\S+\.\S+/.test(m.email)&&(Q.email="Invalid email format"),m.name.trim()||(Q.name="Name is required"),m.password?m.password.length<6&&(Q.password="Password must be at least 6 characters"):Q.password="Password is required",m.password!==m.confirmPassword&&(Q.confirmPassword="Passwords do not match"),b(Q),Object.keys(Q).length===0},R=async Q=>{if(Q.preventDefault(),!!k()){s(!0);try{const ue=(await ur(mt(Ke,"users"))).docs.map(pe=>pe.data());if(ue.some(pe=>pe.username===m.username)){b({username:"Username already exists"});return}if(m.email.trim()&&ue.some(pe=>pe.email===m.email)){b({email:"Email already exists"});return}const ne=await pr(mt(Ke,"users"),{username:m.username,email:m.email,name:m.name,password:m.password,role:m.role});await pr(mt(Ke,"activityLogs"),{user:e==null?void 0:e.name,role:e==null?void 0:e.role,detail:`added new user "${m.name}" with role "${m.role}"`,time:new Date().toISOString()}),u(pe=>[...pe,{id:ne.id,username:m.username,email:m.email,name:m.name,role:m.role,password:m.password}]),v({username:"",email:"",name:"",password:"",confirmPassword:"",role:"staff"}),g(!1),r("User added successfully!","success")}catch(ie){console.error("Error adding user:",ie),r("Failed to add user. Please try again.","error")}finally{s(!1)}}},q=async(Q,ie)=>{_({username:ie,name:Q}),I(!0)},G=async()=>{if(T)try{s(!0);const Q=mt(Ke,"users"),ie=cr(Q,or("username","==",T.username)),ue=await ur(ie);if(ue.empty){r("User not found.","error");return}const ne=ue.docs[0],pe=Ar(Ke,"users",ne.id);await Ns(pe),await pr(mt(Ke,"activityLogs"),{user:e==null?void 0:e.name,role:e==null?void 0:e.role,detail:`deleted user "${T.name}" (username: ${T.username})`,time:new Date().toISOString()}),u(ye=>ye.filter(W=>W.username!==T.username)),r("User deleted successfully!","success")}catch(Q){console.error("Error deleting user:",Q),r("Failed to delete user. Please try again.","error")}finally{s(!1),I(!1),_(null)}};return d.jsxs("div",{className:"max-w-4xl mx-auto",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:`text-2xl font-bold ${n?"text-slate-200":"text-slate-800"}`,children:"Settings"}),d.jsx("p",{className:`${n?"text-slate-400":"text-slate-500"} mt-1`,children:"Update your profile information"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[(e==null?void 0:e.role)==="admin"&&d.jsx(st,{variant:"secondary",onClick:O,className:`flex items-center gap-2 ${i?"opacity-50 cursor-not-allowed":""}`,disabled:i,children:d.jsx(Za,{size:16,className:i?"animate-spin":""})}),d.jsx("button",{onClick:a,className:`p-2 rounded-lg transition-colors ${n?"text-yellow-400 hover:bg-slate-700":"text-slate-600 hover:bg-slate-100"}`,"aria-label":n?"Switch to light mode":"Switch to dark mode",children:n?d.jsx(s9,{size:20}):d.jsx(a9,{size:20})})]})]}),f&&d.jsxs(on,{isOpen:!!f,onClose:()=>{h(null),D({})},title:"Edit User",size:"md",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsx(Nt,{label:"Username",name:"username",value:E.username,onChange:V,error:w.username}),d.jsx(Nt,{label:"Email",name:"email",type:"email",value:E.email,onChange:V,error:w.email}),d.jsx(Nt,{label:"Name",name:"name",value:E.name,onChange:V,error:w.name}),d.jsx(Vu,{label:"New Password",name:"newPassword",value:E.newPassword,onChange:V,error:w.newPassword}),d.jsx(Vu,{label:"Confirm Password",name:"confirmPassword",value:E.confirmPassword,onChange:V,error:w.confirmPassword})]}),d.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[d.jsx(st,{variant:"secondary",onClick:()=>{h(null),D({})},disabled:i,children:"Cancel"}),d.jsx(st,{onClick:ee,disabled:i,children:i?"Updating...":"Update User"})]})]}),d.jsxs(on,{isOpen:P,onClose:()=>I(!1),title:"Confirm Deletion",size:"sm",children:[d.jsxs("p",{className:`${n?"text-slate-300":"text-slate-700"} mb-6`,children:['Are you sure you want to delete user "',T==null?void 0:T.name,'" (username: ',T==null?void 0:T.username,")? This action cannot be undone."]}),d.jsxs("div",{className:"flex justify-end gap-3",children:[d.jsx(st,{variant:"secondary",onClick:()=>I(!1),disabled:i,children:"Cancel"}),d.jsx(st,{variant:"danger",onClick:G,isLoading:i,disabled:i,children:i?"Deleting...":"Delete"})]})]}),d.jsxs("form",{onSubmit:J,className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center gap-6",children:[d.jsx("div",{className:"relative",children:d.jsx("div",{className:`h-24 w-24 rounded-full overflow-hidden ${n?"bg-blue-900/30":"bg-blue-100"} flex items-center justify-center`,children:d.jsx("span",{className:`text-2xl font-semibold ${n?"text-blue-400":"text-blue-600"}`,children:U((e==null?void 0:e.name)||"")})})}),d.jsxs("div",{children:[d.jsx("h2",{className:`text-lg font-medium ${n?"text-slate-200":"text-slate-800"}`,children:S.name}),d.jsx("p",{className:n?"text-slate-400":"text-slate-500",children:e==null?void 0:e.email})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:`text-lg font-medium ${n?"text-slate-200":"text-slate-800"}`,children:"Basic Information"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(Nt,{label:"Username",name:"username",value:S.username,onChange:Y,error:o.username,placeholder:e==null?void 0:e.username,required:!0,fullWidth:!0,darkMode:n}),d.jsx(Nt,{label:"Email",name:"email",type:"email",value:S.email,onChange:Y,error:o.email,placeholder:(e==null?void 0:e.email)||"Enter email (optional)",fullWidth:!0,darkMode:n})]}),d.jsx(Nt,{label:"Full Name",name:"name",value:S.name,onChange:Y,error:o.name,placeholder:e==null?void 0:e.username,required:!0,fullWidth:!0,darkMode:n})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:`text-lg font-medium ${n?"text-slate-200":"text-slate-800"}`,children:"Change Password"}),d.jsx(Vu,{label:"Current Password",name:"currentPassword",value:S.currentPassword,onChange:Y,error:o.currentPassword,placeholder:"Enter current password",fullWidth:!0,darkMode:n}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(Vu,{label:"New Password",name:"newPassword",value:S.newPassword,onChange:Y,error:o.newPassword,placeholder:"Enter new password",fullWidth:!0,darkMode:n}),d.jsx(Vu,{label:"Confirm Password",name:"confirmPassword",value:S.confirmPassword,onChange:Y,error:o.confirmPassword,placeholder:"Confirm new password",fullWidth:!0,darkMode:n})]})]}),o.submit&&d.jsx("div",{className:"text-red-500 text-sm",children:o.submit}),d.jsx("div",{className:"flex justify-end",children:d.jsx(st,{type:"submit",isLoading:i,icon:d.jsx(I4,{size:18}),children:"Save Changes"})})]}),(e==null?void 0:e.role)==="admin"&&d.jsxs("div",{className:`mt-8 p-6 rounded-lg ${n?"bg-slate-1000":"bg-white"}`,children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2 mb-4",children:[d.jsx("h2",{className:`text-xl font-semibold ${n?"text-white":"text-gray-900"} text-center md:text-left`,children:"User Management"}),d.jsxs(st,{onClick:()=>g(!0),className:"flex items-center gap-2 self-center md:self-auto",children:[d.jsx(I4,{size:16}),"Add New User"]})]}),d.jsxs("div",{className:`rounded-lg shadow overflow-hidden ${n?"bg-slate-700":"bg-gray-50"}`,children:[d.jsx("div",{className:"hidden md:block overflow-x-auto",children:d.jsxs("table",{className:`min-w-full divide-y ${n?"divide-slate-700":"divide-gray-200"}`,children:[d.jsx("thead",{className:n?"bg-slate-700":"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Username"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Email"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Name"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Role"}),d.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Actions"})]})}),d.jsx("tbody",{className:`divide-y ${n?"divide-slate-700 bg-slate-800":"divide-gray-200 bg-white"}`,children:c.filter(Q=>Q.id!==(e==null?void 0:e.id)).map(Q=>d.jsxs("tr",{className:n?"hover:bg-slate-700":"hover:bg-gray-50",children:[d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:Q.username}),d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:Q.email||"-"}),d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:Q.name}),d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:Q.role==="admin"?"Admin":Q.role==="staff"?"Staff":Q.role==="supply_serve"?"Supply & Serve":Q.role==="fahiz"?"Fahiz":Q.role==="aphy"?"APHY":Q.role}),d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(st,{variant:"ghost",size:"sm",onClick:()=>z(Q),className:`${n?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:d.jsx(os,{size:16})}),d.jsx(st,{variant:"ghost",size:"sm",onClick:()=>q(Q.name,Q.username),className:`${n?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,children:d.jsx(ei,{size:16})})]})})]},Q.id))})]})}),d.jsx("div",{className:"md:hidden flex flex-col gap-4 p-2",children:c.filter(Q=>Q.id!==(e==null?void 0:e.id)).map(Q=>d.jsxs("div",{className:`rounded-lg shadow p-4 flex flex-col gap-2 ${n?"bg-slate-800":"bg-white"}`,children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:`font-semibold ${n?"text-slate-200":"text-gray-900"}`,children:Q.name}),d.jsx("div",{className:`text-xs ${n?"text-slate-400":"text-gray-500"}`,children:Q.username})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(st,{variant:"ghost",size:"sm",onClick:()=>z(Q),className:`${n?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:d.jsx(os,{size:16})}),d.jsx(st,{variant:"ghost",size:"sm",onClick:()=>q(Q.name,Q.username),className:`${n?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,children:d.jsx(ei,{size:16})})]})]}),d.jsx("div",{className:`text-sm ${n?"text-slate-300":"text-gray-700"}`,children:Q.email||"-"}),d.jsx("div",{className:`text-xs font-medium ${n?"text-blue-300":"text-blue-700"}`,children:Q.role==="admin"?"Admin":Q.role==="staff"?"Staff":Q.role==="supply_serve"?"Supply & Serve":Q.role==="fahiz"?"Fahiz":Q.role==="aphy"?"APHY":Q.role})]},Q.id))})]}),d.jsx(on,{isOpen:p,onClose:()=>g(!1),title:"Add New User",size:"xl",children:d.jsxs("form",{onSubmit:R,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(Nt,{label:"Username",name:"username",value:m.username,onChange:Z,error:y.username,required:!0,fullWidth:!0,placeholder:"Enter username (e.g., john.doe)"}),d.jsx(Nt,{label:"Email",name:"email",type:"email",value:m.email,onChange:Z,error:y.email,fullWidth:!0,placeholder:"Enter email address (optional)"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(Nt,{label:"Full Name",name:"name",value:m.name,onChange:Z,error:y.name,required:!0,fullWidth:!0,placeholder:"Enter full name (e.g., John Doe)"}),d.jsx(en,{label:"Role",name:"role",value:m.role,onChange:Z,options:[{value:"admin",label:"Admin"},{value:"staff",label:"Staff"},{value:"supply_serve",label:"Supply & Serve"},{value:"fahiz",label:"Fahiz"},{value:"aphy",label:"APHY"}],fullWidth:!0})]}),d.jsx(Vu,{label:"Password",name:"password",value:m.password,onChange:Z,error:y.password,required:!0,fullWidth:!0,placeholder:"Enter password (min. 6 characters)"}),d.jsx(Vu,{label:"Confirm Password",name:"confirmPassword",value:m.confirmPassword,onChange:Z,error:y.confirmPassword,required:!0,fullWidth:!0,placeholder:"Confirm your password"}),d.jsx("div",{className:"flex justify-end",children:d.jsx(st,{type:"submit",isLoading:i,disabled:i,children:"Add User"})})]})})]})]})},jA=["supply & serve","APHY","AZTEC","ZK","Fahiz"],bBe=({item:e,onSubmit:t,isLoading:r})=>{const[n,a]=B.useState(""),[i,s]=B.useState("stock sold"),[o,l]=B.useState(""),c=jA.includes(e.storeName)?jA:[e.storeName,...jA],u=[...c,"other"],[f,h]=B.useState(e.storeName||c[0]||""),[p,g]=B.useState(""),{isDarkMode:m}=sn(),v=async w=>{w.preventDefault();const D=Number(n);if(!n||D<=0||D>e.quantity)return;const P=i==="other"?o:i,I=f==="other"?p.trim():f.trim();await t({id:e.id,quantity:e.quantity-D,reason:P,storeName:I})},b=(()=>{const w=Number(n);return!n||w<=0?"Quantity to deduct must be greater than 0":w>e.quantity?`Cannot deduct more than current stock (${e.quantity} units)`:i?i==="other"&&!o.trim()?"Please specify the reason":!f.trim()||f==="other"&&!p.trim()?"Please select or enter the store name":null:"Please select a reason"})();return d.jsxs("form",{onSubmit:v,className:`space-y-6 ${m?"text-white":"text-gray-900"}`,children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:`p-4 rounded-lg ${m?"bg-slate-800":"bg-slate-50"}`,children:[d.jsx("h3",{className:`text-lg font-semibold ${m?"text-white":"text-gray-900"}`,children:e.name}),d.jsxs("p",{className:`text-sm ${m?"text-slate-400":"text-slate-500"}`,children:["Current Stock: ",e.quantity," units"]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"deductQuantity",className:`block text-sm font-medium ${m?"text-slate-300":"text-gray-700"}`,children:"Quantity to Deduct"}),d.jsx(Nt,{id:"deductQuantity",type:"number",min:"1",max:e.quantity,value:n,onChange:w=>a(w.target.value.replace(/^0+(?!$)/,"")),placeholder:"Enter quantity to deduct",required:!0,className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${b?"border-red-500 focus:border-red-500":""}`})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"reason",className:`block text-sm font-medium ${m?"text-slate-300":"text-gray-700"}`,children:"Reason for Deduction"}),d.jsx(en,{id:"reason",value:i,onChange:w=>s(w.target.value),required:!0,options:[{value:"",label:"Select a reason"},{value:"stock sold",label:"Stock Sold"},{value:"moved to fba",label:"Moved to FBA"},{value:"moved to mf",label:"Moved to MF"},{value:"damaged",label:"Damaged"},{value:"other",label:"Other"}],className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${b?"border-red-500 focus:border-red-500":""}`})]}),i==="other"&&d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"otherReason",className:`block text-sm font-medium ${m?"text-slate-300":"text-gray-700"}`,children:"Specify Reason"}),d.jsx(Nt,{id:"otherReason",type:"text",value:o,onChange:w=>l(w.target.value),placeholder:"Enter the reason",required:!0,className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${b?"border-red-500 focus:border-red-500":""}`})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"storeName",className:`block text-sm font-medium ${m?"text-slate-300":"text-gray-700"}`,children:"Store Name"}),d.jsx(en,{id:"storeName",value:f,onChange:w=>h(w.target.value),options:u.map(w=>({value:w,label:w==="other"?"OTHER":w==null?void 0:w.toUpperCase()})),required:!0,className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${b?"border-red-500 focus:border-red-500":""}`}),f==="other"&&d.jsx(Nt,{id:"otherStoreName",type:"text",value:p,onChange:w=>g(w.target.value),placeholder:"Enter store name",required:!0,className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${b?"border-red-500 focus:border-red-500":""}`})]}),b?d.jsxs("div",{className:`flex items-center space-x-2 text-sm ${m?"text-red-400":"text-red-600"}`,children:[d.jsx(Qd,{size:16}),d.jsx("span",{children:b})]}):d.jsx("p",{className:`text-xs ${m?"text-slate-400":"text-gray-500"}`,children:"Enter the quantity to be deducted from current stock"})]}),d.jsx("div",{className:"flex justify-end space-x-3",children:d.jsx(st,{type:"submit",disabled:r||!!b,className:"min-w-[100px]",children:r?d.jsxs(d.Fragment,{children:[d.jsx(ss,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):"Update"})})]})},wBe=()=>{var Z;const[e,t]=B.useState(""),[r,n]=B.useState("name"),[a,i]=B.useState(!1),[s,o]=B.useState(!1),[l,c]=B.useState(null),[u,f]=B.useState([]),[h,p]=B.useState(!1),[g,m]=B.useState(new Set),[v,y]=B.useState(null),[b,w]=B.useState(!1),[D,P]=B.useState("all"),[I,T]=B.useState(!1),{showToast:_}=rc(),{isDarkMode:S}=sn(),{user:j}=wa(),E=["supply & serve","APHY","AZTEC","ZK","Fahiz"],N=async()=>{o(!0);try{const k=cr(mt(Ke,"inventory"),Ia("name")),q=(await ur(k)).docs.map(G=>{const Q=G.data();return{id:G.id,...Q,lastUpdated:Q.lastUpdated instanceof lr?Q.lastUpdated.toDate():new Date(Q.lastUpdated)}});f(q)}catch(k){console.error("Error fetching stock items:",k),_("Failed to fetch stock items","error")}finally{o(!1)}},O=async()=>{try{const k=Dr(new Date,90),R=cr(mt(Ke,"activityLogs"),or("time",">=",k.toISOString()),Ia("time","desc")),G=(await ur(R)).docs.map(pe=>({id:pe.id,...pe.data()})),Q=Dr(new Date,10),ie=new Set,ue=new Map;G.forEach(pe=>{if(pe.detail.includes("added new product")){const ye=pe.detail.match(/added new product "([^"]+)"/);if(ye){const W=ye[1],Pe=new Date(pe.time);(!ue.has(W)||Pe<ue.get(W))&&ue.set(W,Pe)}}if(pe.detail.includes("units deducted from stock")){const ye=pe.detail.match(/units deducted from stock "([^"]+)"/);if(ye){const W=ye[1];new Date(pe.time)>=Q&&ie.add(W)}}});const ne=new Set;u.forEach(pe=>{const ye=pe.name,W=ue.get(ye);W&&W<Q&&!ie.has(ye)&&ne.add(ye)}),m(ne)}catch(k){console.error("Error fetching activity logs:",k)}};B.useEffect(()=>{N()},[_]),B.useEffect(()=>{u.length>0&&O()},[u]),B.useEffect(()=>{const k=R=>{if(b||I){const q=R.target;!q.closest(".store-filter-dropdown")&&!q.closest(".status-filter-dropdown")&&(w(!1),T(!1))}};return document.addEventListener("mousedown",k),()=>{document.removeEventListener("mousedown",k)}},[b,I]);const U=()=>{y(null),P("all"),w(!1),T(!1)},Y=u.filter(k=>k.quantity>0).filter(k=>{const R=e.toLowerCase(),q=k.name.toLowerCase().includes(R),G=`${k.locationCode} - ${k.shelfNumber}`.toLowerCase().includes(R),Q=k.asin?k.asin.split(",").some(pe=>pe.trim().toLowerCase().includes(R)):!1,ie=k.barcode?k.barcode.toLowerCase().includes(R):!1,ue=v?v.storeName==="other"?!E.includes(k.storeName)&&k.fulfillmentType===v.fulfillmentType:k.storeName===v.storeName&&k.fulfillmentType===v.fulfillmentType:!0,ne=D==="all"||k.status===D;return(q||G||Q||ie)&&ue&&ne}).sort((k,R)=>r==="name"?k.name.localeCompare(R.name):r==="quantity"?R.quantity-k.quantity:r==="price"?R.price-k.price:r==="date"?new Date(R.lastUpdated).getTime()-new Date(k.lastUpdated).getTime():0),K=async k=>{var R;o(!0);try{const q=Ar(Ke,"inventory",k.id),G=await up(q);if(!G.exists())throw new Error("Stock item not found");const Q=G.data();if(!j)throw new Error("User not authenticated");const ie=k.reason==="damaged"?Q.damagedItems+(Q.quantity-k.quantity):Q.damagedItems,ue=new Date;await jn(q,{quantity:k.quantity,damagedItems:ie,lastUpdated:lr.fromDate(ue)}),await pr(mt(Ke,"activityLogs"),{detail:`${Q.quantity-k.quantity} units deducted from stock "${Q.name}" (Reason: ${k.reason}, Store: ${(R=k.storeName)==null?void 0:R.toUpperCase()}) by ${j.role} from location ${Q.locationCode} shelf ${Q.shelfNumber}`,time:new Date().toISOString(),user:j.name,role:j.role});const ne=u.map(pe=>pe.id===k.id?{...pe,quantity:k.quantity,damagedItems:ie}:pe);f(ne),c(null),i(!1),_("Stock quantity updated successfully","success")}catch(q){console.error("Error updating stock:",q),_("Failed to update stock quantity","error")}finally{o(!1)}},J=k=>{a||c(k)},z=(k,R)=>{k.stopPropagation(),c(R),i(!0)},V=()=>{p(!0)},ee=k=>{t(k),p(!1)};return d.jsxs("div",{className:"container mx-auto px-4 py-8",children:[d.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-4",children:d.jsxs("div",{children:[d.jsx("h1",{className:`text-2xl font-bold ${S?"text-white":"text-gray-900"}`,children:"Outbound Inventory"}),d.jsx("p",{className:`${S?"text-slate-400":"text-slate-500"} mt-1`,children:"Manage and track inventory deductions"})]})}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[d.jsx("div",{className:"flex-1",children:d.jsxs("div",{className:"relative",children:[d.jsx(Nt,{type:"text",placeholder:"Search by name, location, ASIN or barcode...",value:e,onChange:k=>t(k.target.value),icon:d.jsx(Oo,{size:16}),style:{paddingRight:48}}),d.jsx("button",{type:"button",onClick:V,className:"absolute right-1.5 top-1/2 -translate-y-1/2 flex items-center justify-center w-7 h-7 rounded-md transition-colors bg-blue-500 hover:bg-blue-600 focus:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 border-none p-0",style:{zIndex:2},title:"Scan barcode",tabIndex:0,"aria-label":"Scan barcode",children:d.jsx(zc,{size:16,className:"text-white"})})]})}),d.jsx("div",{className:"w-full sm:w-48",children:d.jsx(en,{value:r,onChange:k=>n(k.target.value),options:[{value:"name",label:"Sort by Name"},{value:"quantity",label:"Sort by Quantity"},{value:"price",label:"Sort by Price"},{value:"date",label:"Sort by Date"}]})}),d.jsxs("div",{className:"flex flex-row gap-2",children:[d.jsxs("div",{className:"relative status-filter-dropdown",children:[d.jsxs(st,{variant:"secondary",onClick:()=>T(!I),className:`flex items-center gap-2 ${D!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[D==="all"?"Status Filter":D==="active"?"Active":"Pending",d.jsx(qc,{size:16})]}),I&&d.jsx("div",{className:`absolute top-full left-0 mt-1 w-32 z-50 rounded-lg border ${S?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:d.jsxs("div",{className:"p-2",children:[d.jsx("div",{className:`text-sm font-medium mb-2 ${S?"text-slate-200":"text-slate-700"}`,children:"Filter by Status"}),d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${S?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${D==="all"?S?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{P("all"),T(!1)},children:"All"}),d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${S?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${D==="active"?S?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{P("active"),T(!1)},children:"Active"}),d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${S?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${D==="pending"?S?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{P("pending"),T(!1)},children:"Pending"}),d.jsx("div",{className:`border-t ${S?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:d.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${S?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{P("all"),T(!1)},children:"Clear Filter"})})]})})]}),d.jsxs("div",{className:"relative store-filter-dropdown",children:[d.jsxs(st,{variant:"secondary",onClick:()=>w(!b),className:`flex items-center gap-2 ${v?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[v?`${v.storeName==="other"?"OTHER":(Z=v.storeName)==null?void 0:Z.toUpperCase()} - ${v.fulfillmentType.toUpperCase()}`:"Store Filter",d.jsx(qc,{size:16})]}),b&&d.jsx("div",{className:`absolute top-full left-0 mt-1 w-64 z-50 rounded-lg border ${S?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:d.jsxs("div",{className:"p-2",children:[d.jsx("div",{className:`text-sm font-medium mb-2 ${S?"text-slate-200":"text-slate-700"}`,children:"Filter by Store & Type"}),["supply & serve","APHY","AZTEC","ZK","Fahiz","other"].map(k=>d.jsxs("div",{className:"group relative",children:[d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${S?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(v==null?void 0:v.storeName)===k?S?"bg-slate-700":"bg-slate-100":""}`,children:k==null?void 0:k.toUpperCase()}),d.jsxs("div",{className:`absolute right-full top-0 mr-1 hidden group-hover:block w-24 ${S?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} border rounded-lg shadow-lg`,children:[d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer transition-colors ${S?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(v==null?void 0:v.storeName)===k&&(v==null?void 0:v.fulfillmentType)==="fba"?S?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{y({storeName:k,fulfillmentType:"fba"}),w(!1)},children:"FBA"}),d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer transition-colors ${S?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(v==null?void 0:v.storeName)===k&&(v==null?void 0:v.fulfillmentType)==="mf"?S?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{y({storeName:k,fulfillmentType:"mf"}),w(!1)},children:"MF"})]})]},k)),d.jsx("div",{className:`border-t ${S?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:d.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${S?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{y(null),w(!1)},children:"Clear Filter"})})]})})]})]}),d.jsx(st,{variant:"secondary",onClick:()=>{N(),U()},className:`flex items-center gap-2 ${s?"opacity-50 cursor-not-allowed":""}`,disabled:s,children:d.jsx(Za,{size:16,className:s?"animate-spin":""})}),(v||D!=="all")&&d.jsx(st,{variant:"secondary",onClick:U,className:"flex items-center gap-2",children:"Clear Filters"})]}),s?d.jsx("div",{className:`text-center py-12 ${S?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:d.jsxs("div",{className:"flex flex-col items-center gap-4",children:[d.jsx(ss,{className:`w-8 h-8 ${S?"text-blue-400":"text-blue-600"} animate-spin`}),d.jsx("p",{className:S?"text-slate-400":"text-slate-600",children:"Loading stock items..."})]})}):Y.length>0?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"hidden md:block rounded-lg overflow-hidden border ${isDarkMode ? 'border-slate-700' : 'border-slate-200'}",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{className:`${S?"bg-slate-800":"bg-slate-50"}`,children:d.jsxs("tr",{children:[d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${S?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${S?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Unit"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${S?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Status"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${S?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${S?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${S?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Quantity"}),(j==null?void 0:j.role)==="admin"&&d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${S?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Price"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${S?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Last Updated"}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${S?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),d.jsx("tbody",{className:`divide-y ${S?"divide-slate-700":"divide-slate-200"}`,children:Y.map(k=>d.jsxs("tr",{className:`${S?"hover:bg-slate-800":"hover:bg-slate-50"} cursor-pointer`,onClick:()=>J(k),children:[d.jsx("td",{className:`px-4 py-3 text-sm ${S?"text-blue-400":"text-blue-700"} font-medium`,children:d.jsxs("div",{className:"flex items-center gap-2",children:[k.name,g.has(k.name)&&d.jsxs("div",{className:"relative group",children:[d.jsx(bv,{className:"h-4 w-4 text-red-500 flex-shrink-0"}),d.jsxs("div",{className:`absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 text-xs rounded-lg shadow-lg z-50 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity ${S?"bg-slate-800 text-red-300 border border-red-500":"bg-white text-red-700 border border-red-300"}`,children:["This product has not been deducted for 10+ days",d.jsx("div",{className:`absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent ${S?"border-t-slate-800":"border-t-white"}`})]})]})]})}),d.jsx("td",{className:`px-4 py-3 text-sm ${S?"text-slate-200":"text-slate-800"}`,children:k.unit||"-"}),d.jsx("td",{className:`px-4 py-3 text-sm ${S?"text-slate-200":"text-slate-800"}`,children:d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${k.status==="active"?"bg-green-100 text-green-700 ":"bg-yellow-100 text-yellow-700 "}`,children:k.status==="active"?"Active":"Pending"})}),d.jsxs("td",{className:`px-4 py-3 text-sm ${S?"text-slate-200":"text-slate-800"}`,children:[k.locationCode," - ",k.shelfNumber]}),d.jsx("td",{className:`px-4 py-3 text-sm ${S?"text-slate-200":"text-slate-800"}`,children:k.asin?k.asin.split(",").length>3?k.asin.split(",").slice(0,3).map(R=>R.trim()).join(", ")+"...":k.asin.split(",").map(R=>R.trim()).join(", "):"-"}),d.jsx("td",{className:`px-4 py-3 text-sm ${S?"text-slate-200":"text-slate-800"} text-right`,children:d.jsxs("div",{className:"flex items-center justify-end gap-2",children:[k.quantity<=10&&d.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-red-100 text-red-700 text-center ",children:"Critical Low"}),k.quantity>10&&k.quantity<=25&&d.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-yellow-100 text-yellow-700 text-center ",children:"Low Stock"}),d.jsx("span",{children:k.quantity})]})}),(j==null?void 0:j.role)==="admin"&&d.jsx("td",{className:`px-4 py-3 text-right text-sm ${S?"text-slate-200":"text-slate-900"}`,children:Number(k.price)>0?`£${Number(k.price).toFixed(2)}`:"(Not set)"}),d.jsx("td",{className:`px-4 py-3 text-sm ${S?"text-slate-200":"text-slate-800"}`,children:rr(new Date(k.lastUpdated),"MMM d, yyyy")}),d.jsx("td",{className:"px-4 py-3 text-right text-sm",children:d.jsx("div",{className:"flex items-center justify-end gap-2",children:d.jsx(st,{variant:"secondary",size:"sm",onClick:R=>z(R,k),className:`p-1 ${S?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-300"} transition-colors`,children:d.jsx(os,{size:16})})})})]},k.id))})]})})}),d.jsx("div",{className:"block md:hidden space-y-4",children:Y.map(k=>d.jsxs("div",{className:`rounded-lg border ${S?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-4 shadow-sm flex flex-col gap-2`,onClick:()=>J(k),children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:`font-semibold ${S?"text-blue-400":"text-blue-700"}`,children:k.name}),d.jsxs("div",{className:"flex items-center gap-2",children:[g.has(k.name)&&d.jsxs("div",{className:"relative group",children:[d.jsx(bv,{className:"h-4 w-4 text-red-500 flex-shrink-0"}),d.jsxs("div",{className:`absolute bottom-full right-0 mb-2 px-3 py-2 text-xs rounded-lg shadow-lg z-50 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity ${S?"bg-slate-800 text-red-300 border border-red-500":"bg-white text-red-700 border border-red-300"}`,children:["This product has not been deducted for 10+ days",d.jsx("div",{className:`absolute top-full right-4 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent ${S?"border-t-slate-800":"border-t-white"}`})]})]}),d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${k.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:k.status==="active"?"Active":"Pending"})]})]}),d.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[d.jsxs("span",{className:S?"text-slate-300":"text-slate-600",children:["Location: ",d.jsxs("span",{className:"font-medium",children:[k.locationCode," - ",k.shelfNumber]})]}),d.jsxs("span",{className:S?"text-slate-300":"text-slate-600",children:["Qty: ",d.jsx("span",{className:"font-medium",children:k.quantity})]}),k.asin&&d.jsxs("span",{className:S?"text-slate-300":"text-slate-600",children:["ASIN: ",d.jsx("span",{className:"font-medium",children:k.asin})]}),(j==null?void 0:j.role)==="admin"&&d.jsxs("span",{className:S?"text-slate-300":"text-slate-600",children:["Price: ",d.jsx("span",{className:"font-medium",children:Number(k.price)>0?`£${Number(k.price).toFixed(2)}`:"(Not set)"})]}),d.jsxs("span",{className:S?"text-slate-300":"text-slate-600",children:["Updated: ",d.jsx("span",{className:"font-medium",children:rr(new Date(k.lastUpdated),"MMM d, yyyy")})]})]}),d.jsx("div",{className:"flex gap-2 mt-2",children:d.jsxs(st,{size:"sm",variant:"secondary",onClick:R=>{R.stopPropagation(),z(R,k)},children:[d.jsx(os,{size:14})," Edit"]})})]},k.id))})]}):d.jsx("div",{className:`text-center py-12 ${S?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:d.jsx("p",{className:S?"text-slate-400":"text-slate-500",children:"No stock items found. Try adjusting your search."})}),d.jsx(on,{isOpen:a,onClose:()=>{i(!1),c(null)},title:"Update Stock Quantity",children:l&&d.jsx(bBe,{item:l,onSubmit:K,isLoading:s})}),l&&!a&&d.jsx(S5,{isOpen:!0,onClose:()=>c(null),item:l}),d.jsx(mh,{isOpen:h,onClose:()=>p(!1),onBarcodeScanned:ee})]})},_Be=()=>{const[e,t]=B.useState(!0),[r,n]=B.useState([]),[a,i]=B.useState(new Set),[s,o]=B.useState(""),[l,c]=B.useState(""),[u,f]=B.useState("locationCode"),[h,p]=B.useState({}),{showToast:g}=rc(),{isDarkMode:m}=sn(),[v,y]=B.useState(!1),[b,w]=B.useState(null),[D,P]=B.useState(1),[I,T]=B.useState("A1"),[_,S]=B.useState("0"),[j,E]=B.useState(!1),[N,O]=B.useState(!1),[U,Y]=B.useState(""),[K,J]=B.useState(_f("A1")),[z,V]=B.useState(null),[ee,Z]=B.useState(!1),{user:k}=wa(),R=ve=>{T(ve);const De=_f(ve);J(De),parseInt(_)>=De.length&&S("0")},q=async()=>{t(!0);try{const ve=cr(mt(Ke,"inventory"),Ia("locationCode")),Te=(await ur(ve)).docs.map(Re=>{const Ne=Re.data();return{id:Re.id,name:Ne.name||"",quantity:Ne.quantity||0,price:Ne.price||0,unit:Ne.unit||null,supplier:Ne.supplier??null,lastUpdated:Ne.lastUpdated instanceof lr?Ne.lastUpdated.toDate():new Date,locationCode:Ne.locationCode||"",shelfNumber:Ne.shelfNumber||"",barcode:Ne.barcode??null,asin:Ne.asin??null,status:Ne.status||"pending",damagedItems:Ne.damagedItems||0,fulfillmentType:Ne.fulfillmentType||"fba",storeName:Ne.storeName||""}});n(Te)}catch(ve){console.error("Error fetching locations:",ve),g("Failed to fetch locations. Please try again.","error")}finally{t(!1)}},G=async()=>{try{const ve=cr(mt(Ke,"locations")),De=await ur(ve),Te={};De.forEach(Re=>{Te[Re.id]=Re.data().isAvailable!==!1}),p(Te)}catch(ve){console.error("Error fetching location availability:",ve)}};B.useEffect(()=>{t(!0),Promise.all([q(),G()]).finally(()=>t(!1))},[]);const Q=["A1","A2","A3","A4","A5","A6","A7","A8","B1","B2","B3","B4","B5","B6","B7","B8","C1","C2","C3","C4","C5","C6","C7","C8","D1","D2","D3","D4","D5","D6","D7","D8","E1","E2","E3","E4","E5","E6","E7","E8","F1","F2","F3","F4","F5","F6","F7","F8","G1","G2","G3","G4","G5","G6","G7","G8","H1","H2","H3","H4","H5","H6","H7","H8","I1","I2","I3","I4","I5","I6","I7","I8","J1","J2","J3","J4","J5","J6","J7","J8","K1","K2","K3","K4","K5","K6","K7","K8","L1","L2","L3","L4","L5","L6","L7","L8","M1","M2","M3","M4","M5","M6","M7","M8","N1","N2","N3","N4","N5","N6","N7","N8","O1","O2","O3","O4","O5","O6","O7","O8","P1","P2","P3","P4","P5","P6","P7","P8","Q1","Q2","Q3","Q4","Q5","Q6","Q7","Q8","R1","R2","R3","R4","R5","R6","R7","R8","S1","S2","S3","S4","S5","S6","S7","S8","T1","T2","T3","T4","T5","T6","T7","T8","U1","U2","U3","U4","U5","U6","U7","U8","V1","V2","V3","V4","V5","V6","V7","V8","W1","W2","W3","W4","W5","W6","W7","W8","X1","X2","X3","X4","X5","X6","X7","X8","Y1","Y2","Y3","Y4","Y5","Y6","Y7","Y8","Z1","Z2","Z3","Z4","Z5","Z6","Z7","Z8","Awaiting Location"],ie=Q.reduce((ve,De)=>{const Re=r.filter(Ne=>Ne.locationCode===De).reduce((Ne,qe)=>{const je=Ne.findIndex(Je=>Je.name===qe.name&&Ce(Je.asin)===Ce(qe.asin)&&Ce(Je.barcode)===Ce(qe.barcode)&&Je.locationCode===qe.locationCode&&Je.shelfNumber===qe.shelfNumber);return je>=0?Ne[je]={...Ne[je],quantity:Ne[je].quantity+qe.quantity,lastUpdated:Ne[je].lastUpdated>qe.lastUpdated?Ne[je].lastUpdated:qe.lastUpdated}:Ne.push(qe),Ne},[]);return ve[De]={locationCode:De,totalStock:Re.reduce((Ne,qe)=>Ne+qe.quantity,0),products:Re},ve},{}),ue=Object.values(ie).filter(ve=>{const De=s.toLowerCase(),Te=l.toLowerCase(),Re=Te===""||ve.locationCode.toLowerCase().includes(Te),Ne=De===""||ve.products.some(qe=>qe.name.toLowerCase().includes(De)||qe.asin&&qe.asin.split(",").some(je=>je.trim().toLowerCase().includes(De))||qe.barcode&&qe.barcode.toLowerCase().includes(De));return Re&&Ne}).sort((ve,De)=>{if(u==="totalStock")return De.totalStock-ve.totalStock;if(u==="locationCode")return ve.locationCode==="Awaiting Location"?-1:De.locationCode==="Awaiting Location"?1:ve.locationCode.localeCompare(De.locationCode);if(u==="availability"){const Te=h[ve.locationCode]!==!1,Re=h[De.locationCode]!==!1;return Te===Re?ve.locationCode==="Awaiting Location"?-1:De.locationCode==="Awaiting Location"?1:ve.locationCode.localeCompare(De.locationCode):Te?-1:1}return 0});B.useEffect(()=>{if(s.trim()&&s!==U){const ve=ue.filter(De=>{const Te=s.toLowerCase();return De.products.some(Re=>Re.name.toLowerCase().includes(Te)||Re.asin&&Re.asin.split(",").some(Ne=>Ne.trim().toLowerCase().includes(Te))||Re.barcode&&Re.barcode.toLowerCase().includes(Te))});if(ve.length>0){const De=ve.flatMap(Re=>Re.products.filter(Ne=>{const qe=s.toLowerCase();return Ne.name.toLowerCase().includes(qe)||Ne.asin&&Ne.asin.split(",").some(je=>je.trim().toLowerCase().includes(qe))||Ne.barcode&&Ne.barcode.toLowerCase().includes(qe)})),Te=[...new Set(De.map(Re=>`${Re.locationCode}-${Re.shelfNumber}`))];g(`Product found! Located at: ${Te.join(", ")}`,"success"),Y(s)}else s.trim()&&s!==U&&(g("Product not found in any location","error"),Y(s))}else!s.trim()&&U&&Y("")},[ue,s,g,U]);const ne=ve=>{i(De=>{const Te=new Set(De);return Te.has(ve)?Te.delete(ve):Te.add(ve),Te})},pe=()=>{O(!0)},ye=ve=>{o(ve),O(!1)},W=async ve=>{const De=!(h[ve]??!0);p(Te=>({...Te,[ve]:De}));try{await sx(Ar(Ke,"locations",ve),{isAvailable:De},{merge:!0})}catch(Te){g("Failed to update availability","error"),p(Re=>({...Re,[ve]:!De})),console.log(Te)}};function Pe(ve){const De={...ve};return Object.keys(De).forEach(Te=>{De[Te]===void 0&&(De[Te]=null)}),De}function Ce(ve){return ve??""}const Ee=async()=>{if(b&&!(D<1||D>b.quantity)){E(!0);try{const ve=cr(mt(Ke,"inventory")),De=await ur(ve);let Te=null;if(De.forEach(Re=>{const Ne=Re.data();Ne.name===b.name&&Ne.locationCode===I&&Ne.shelfNumber===_&&Ce(Ne.asin)===Ce(b.asin)&&Ce(Ne.barcode)===Ce(b.barcode)&&(Te={...Ne,id:Re.id})}),D===b.quantity)await sx(Ar(Ke,"inventory",b.id),Pe({...b,locationCode:I,shelfNumber:_,lastUpdated:new Date}),{merge:!0});else if(await sx(Ar(Ke,"inventory",b.id),Pe({...b,quantity:b.quantity-D,lastUpdated:new Date}),{merge:!0}),Te)await sx(Ar(Ke,"inventory",Te.id),Pe({...Te,quantity:Te.quantity+D,lastUpdated:new Date}),{merge:!0});else{const{id:Re,...Ne}=b;await pr(mt(Ke,"inventory"),Pe({...Ne,quantity:D,locationCode:I,shelfNumber:_,lastUpdated:new Date}))}await pr(mt(Ke,"activityLogs"),{user:(k==null?void 0:k.name)||"Unknown",role:(k==null?void 0:k.role)||"Unknown",detail:`Moved ${D} unit(s) of "${b.name}" from ${b.locationCode}-${b.shelfNumber} to ${I}-${_}`,time:new Date().toISOString()}),g("Stock moved successfully","success"),y(!1),w(null),q()}catch(ve){g("Failed to move stock","error"),console.log(ve)}finally{E(!1)}}},oe=async()=>{if(z){Z(!0);try{await Ns(Ar(Ke,"inventory",z.id)),await pr(mt(Ke,"activityLogs"),{user:(k==null?void 0:k.name)||"Unknown",role:(k==null?void 0:k.role)||"Unknown",detail:`deleted product "${z.name}" (${z.quantity} units) from location ${z.locationCode}-${z.shelfNumber}`,time:new Date().toISOString()}),g("Product deleted successfully","success"),V(null),q()}catch(ve){g("Failed to delete product","error"),console.error("Error deleting product:",ve)}finally{Z(!1)}}};return d.jsxs("div",{className:`space-y-6 ${m?"bg-slate-900 text-white":"bg-slate-50 text-slate-800"}`,children:[d.jsxs("div",{children:[d.jsx("h1",{className:`text-2xl font-bold ${m?"text-white":"text-slate-800"}`,children:"Warehouse Locations"}),d.jsx("p",{className:`${m?"text-slate-400":"text-slate-500"} mt-1`,children:"View and manage your warehouse storage locations"})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[d.jsx("div",{className:"flex-1",children:d.jsxs("div",{className:"relative",children:[d.jsx(Nt,{type:"text",placeholder:"Search by product name, ASIN or barcode...",value:s,onChange:ve=>o(ve.target.value),icon:d.jsx(Oo,{size:16}),style:{paddingRight:48}}),d.jsx("button",{type:"button",onClick:pe,className:"absolute right-1.5 top-1/2 -translate-y-1/2 flex items-center justify-center w-7 h-7 rounded-md transition-colors bg-blue-500 hover:bg-blue-600 focus:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 border-none p-0",style:{zIndex:2},title:"Scan barcode",tabIndex:0,"aria-label":"Scan barcode",children:d.jsx(zc,{size:16,className:"text-white"})})]})}),d.jsx("div",{className:"flex-1",children:d.jsx(Nt,{type:"text",placeholder:"Search by location code...",value:l,onChange:ve=>c(ve.target.value),icon:d.jsx(Oo,{size:16})})}),d.jsx("div",{className:"w-full sm:w-48",children:d.jsx(en,{value:u,onChange:ve=>f(ve.target.value),options:[{value:"locationCode",label:"Sort by Location"},{value:"totalStock",label:"Sort by Total Stock"},{value:"availability",label:"Sort by Availability"}]})}),d.jsx(st,{variant:"secondary",onClick:q,className:`flex items-center gap-2 ${e?"opacity-50 cursor-not-allowed":""}`,disabled:e,children:d.jsx(Za,{size:16,className:e?"animate-spin":""})})]}),e?d.jsx("div",{className:"flex justify-center items-center h-64",children:d.jsx("div",{className:`animate-spin rounded-full h-12 w-12 border-b-2 ${m?"border-white":"border-slate-800"}`})}):ue.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:[d.jsx(Jd,{className:`w-12 h-12 ${m?"text-slate-600":"text-slate-400"}`}),d.jsx("p",{className:`text-lg font-medium ${m?"text-slate-400":"text-slate-600"}`,children:"No products found in any location"}),d.jsx("p",{className:"text-sm text-slate-500",children:"Add products to locations to see them here"})]}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.values(ue).map(ve=>{const De=a.has(ve.locationCode);return d.jsxs("div",{className:`${m?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} 
                  rounded-lg shadow-sm border transition-all duration-200 ease-in-out
                  hover:shadow-md ${De?"ring-2 ring-blue-500":""}`,children:[d.jsxs("div",{className:`p-4 border-b ${m?"border-slate-700 hover:bg-slate-700/50":"border-slate-200 hover:bg-slate-100"} 
                    cursor-pointer transition-colors duration-200`,onClick:()=>ne(ve.locationCode),children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:`p-2 rounded-lg ${m?"bg-slate-700":"bg-slate-100"}`,children:d.jsx(Jd,{className:`w-5 h-5 ${m?"text-blue-400":"text-blue-600"}`})}),d.jsx("h3",{className:`text-lg font-medium ${m?"text-white":"text-slate-800"}`,children:ve.locationCode==="Awaiting Location"?"Awaiting Location":`Location ${ve.locationCode}`})]}),d.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[d.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:h[ve.locationCode]!==!1,onChange:Te=>{Te.stopPropagation(),W(ve.locationCode)},className:"sr-only peer"}),d.jsx("div",{className:`w-11 h-6 rounded-full transition-colors duration-200
                            ${h[ve.locationCode]!==!1?"bg-green-500":"bg-red-500"}
                            peer-focus:ring-2 peer-focus:ring-blue-500
                          `}),d.jsx("div",{className:`absolute left-0.5 top-0.5 w-5 h-5 bg-white rounded-full shadow-md transition-transform duration-200
                            ${h[ve.locationCode]!==!1?"translate-x-5":""}
                          `})]}),d.jsx("span",{className:`text-xs font-semibold ml-2 ${h[ve.locationCode]!==!1?"text-green-500":"text-red-500"}`,children:h[ve.locationCode]!==!1?"Available":"Not Available"}),d.jsx("button",{className:"ml-2 p-1 rounded hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",onClick:Te=>{Te.stopPropagation(),ne(ve.locationCode)},"aria-label":De?"Collapse":"Expand",children:De?d.jsx(n9,{className:`w-5 h-5 ${m?"text-blue-400":"text-blue-600"}`}):d.jsx(qc,{className:`w-5 h-5 ${m?"text-blue-400":"text-blue-600"}`})})]})]}),d.jsxs("div",{className:"flex justify-between items-end mt-2",children:[d.jsxs("div",{children:[d.jsx("p",{className:`text-sm ${m?"text-slate-400":"text-slate-500"}`,children:"Total Stock"}),d.jsxs("p",{className:`font-bold text-2xl ${m?"text-white":"text-slate-800"}`,children:[ve.totalStock," units"]})]}),d.jsxs("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:[s.trim()?ve.products.filter(Te=>{const Re=s.toLowerCase();return Te.name.toLowerCase().includes(Re)||Te.asin&&Te.asin.split(",").some(Ne=>Ne.trim().toLowerCase().includes(Re))||Te.barcode&&Te.barcode.toLowerCase().includes(Re)}).length:ve.products.length," product",(s.trim()?ve.products.filter(Te=>{const Re=s.toLowerCase();return Te.name.toLowerCase().includes(Re)||Te.asin&&Te.asin.split(",").some(Ne=>Ne.trim().toLowerCase().includes(Re))||Te.barcode&&Te.barcode.toLowerCase().includes(Re)}).length:ve.products.length)!==1?"s":""]})]})]}),De&&d.jsxs("div",{className:"p-4 space-y-4 overflow-hidden transition-all duration-300 ease-in-out",children:[d.jsx("h4",{className:`font-medium ${m?"text-slate-300":"text-slate-700"}`,children:s.trim()?ve.products.filter(Te=>{const Re=s.toLowerCase();return Te.name.toLowerCase().includes(Re)||Te.asin&&Te.asin.split(",").some(Ne=>Ne.trim().toLowerCase().includes(Re))||Te.barcode&&Te.barcode.toLowerCase().includes(Re)}).length===0:ve.products.length===0?"No products in this location":s.trim()?"Matching products in this location:":"Products in this location:"}),d.jsx("div",{className:"space-y-4",children:ve.products.filter(Te=>{if(s.trim()){const Re=s.toLowerCase();return Te.name.toLowerCase().includes(Re)||Te.asin&&Te.asin.split(",").some(Ne=>Ne.trim().toLowerCase().includes(Re))||Te.barcode&&Te.barcode.toLowerCase().includes(Re)}return!0}).map(Te=>{const Re=ve.totalStock===0?0:Te.quantity/ve.totalStock*100,Ne=s.toLowerCase(),qe=Te.name.toLowerCase().includes(Ne)||Te.asin&&Te.asin.split(",").some(je=>je.trim().toLowerCase().includes(Ne))||Te.barcode&&Te.barcode.toLowerCase().includes(Ne);return d.jsxs("div",{className:`space-y-2 p-2 rounded-md transition-colors ${qe?m?"bg-blue-900/30 border border-blue-500/50":"bg-blue-50 border border-blue-200":""}`,children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("h4",{className:`font-medium ${qe?"text-blue-600":m?"text-white":"text-slate-800"}`,children:Te.name}),d.jsxs("p",{className:`text-sm ${m?"text-slate-400":"text-slate-500"}`,children:["Shelf ",Te.shelfNumber]})]}),d.jsxs("div",{className:"text-right flex flex-col items-end gap-2",children:[d.jsxs("p",{className:`font-medium ${m?"text-white":"text-slate-800"}`,children:[Te.quantity," units"]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{className:"px-2 py-1 bg-blue-500 text-white rounded text-xs hover:bg-blue-600 flex items-center gap-1",onClick:async je=>{je.stopPropagation();const Je=await up(Ar(Ke,"inventory",Te.id));if(Je.exists()){const ut=Je.data();w({...ut,id:Te.id}),P(1),T(Te.locationCode),S(Te.shelfNumber),y(!0)}else g("Failed to fetch product details","error")},children:"Move"}),d.jsxs("button",{className:"px-2 py-1 bg-red-500 text-white rounded text-xs hover:bg-red-600 flex items-center gap-1",onClick:async je=>{je.stopPropagation();const Je=await up(Ar(Ke,"inventory",Te.id));if(Je.exists()){const ut=Je.data();V({...ut,id:Te.id})}else g("Failed to fetch product details","error")},children:[d.jsx(ei,{size:12}),"Delete"]})]})]})]}),d.jsx("div",{className:`w-full ${m?"bg-slate-700":"bg-slate-200"} rounded-full h-2`,children:d.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ease-in-out
                                  ${Re>75?"bg-green-500":Re>25?"bg-blue-500":"bg-orange-500"}`,style:{width:`${Re}%`},title:`${Te.quantity} out of ${ve.totalStock} units (${Re.toFixed(1)}%)`})})]},Te.id)})})]})]},ve.locationCode)})}),d.jsx(on,{isOpen:v,onClose:()=>y(!1),title:"Move Stock",children:b&&d.jsxs("form",{onSubmit:ve=>{ve.preventDefault(),Ee()},className:`space-y-4 ${m?"bg-slate-800 text-white":"bg-white text-slate-800"} p-4 rounded-lg`,children:[d.jsxs("div",{children:[d.jsx("label",{className:`block text-sm font-medium mb-1 ${m?"text-slate-200":"text-slate-700"}`,children:"How many units to move?"}),d.jsx("input",{type:"number",min:1,max:b.quantity,value:D,onChange:ve=>P(Number(ve.target.value)),className:`w-full rounded border px-2 py-1 ${m?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-800"}`,required:!0}),d.jsxs("div",{className:`text-xs mt-1 ${m?"text-slate-400":"text-slate-500"}`,children:["Available: ",b.quantity]})]}),d.jsxs("div",{children:[d.jsx("label",{className:`block text-sm font-medium mb-1 ${m?"text-slate-200":"text-slate-700"}`,children:"New Location"}),d.jsx("select",{value:I,onChange:ve=>R(ve.target.value),className:`w-full rounded border px-2 py-1 ${m?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-800"}`,required:!0,children:Q.map(ve=>d.jsx("option",{value:ve,children:ve},ve))})]}),d.jsxs("div",{children:[d.jsx("label",{className:`block text-sm font-medium mb-1 ${m?"text-slate-200":"text-slate-700"}`,children:"Shelf Number"}),d.jsx("select",{value:_,onChange:ve=>S(ve.target.value),className:`w-full rounded border px-2 py-1 ${m?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-800"}`,required:!0,children:K.map(ve=>d.jsx("option",{value:ve.value,children:ve.label},ve.value))})]}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx("button",{type:"button",className:`px-3 py-1 rounded ${m?"bg-slate-600 text-white":"bg-slate-200 text-slate-800"}`,onClick:()=>y(!1),children:"Cancel"}),d.jsx("button",{type:"submit",className:`px-3 py-1 rounded ${m?"bg-blue-700 text-white":"bg-blue-600 text-white"}`,disabled:j,children:j?"Moving...":"Move"})]})]})}),d.jsx(mh,{isOpen:N,onClose:()=>O(!1),onBarcodeScanned:ye}),d.jsx(ih,{isOpen:!!z,onClose:()=>V(null),onConfirm:oe,title:"Delete Product",message:z?`Are you sure you want to delete "${z.name}" (${z.quantity} units) from location ${z.locationCode}-${z.shelfNumber}? This action cannot be undone.`:"",isLoading:ee})]})},SBe=()=>{const[e,t]=B.useState(""),[r,n]=B.useState(""),[a,i]=B.useState(""),[s,o]=B.useState(""),[l,c]=B.useState("name"),[u,f]=B.useState(!1),[h,p]=B.useState(!1),[g,m]=B.useState(!1),[v,y]=B.useState(!1),[b,w]=B.useState(!1),[D,P]=B.useState(null),[I,T]=B.useState([]),[_,S]=B.useState(new Set),[j,E]=B.useState(!1),{showToast:N}=rc(),{isDarkMode:O}=sn(),{user:U}=wa(),K=B.useCallback(()=>{switch(U==null?void 0:U.role){case"fahiz":return{title:"Fahiz Stock",storeName:"Fahiz",storeNameDisplay:"FAHIZ"};case"aphy":return{title:"APHY Stock",storeName:"APHY",storeNameDisplay:"APHY"};case"supply_serve":default:return{title:"Supply & Serve Stock",storeName:"supply & serve",storeNameDisplay:"SUPPLY & SERVE"}}},[U==null?void 0:U.role])(),[J,z]=B.useState(!1),[V,ee]=B.useState(null),[Z,k]=B.useState(!1),[R,q]=B.useState(!1),[G,Q]=B.useState(null),[ie,ue]=B.useState(null),[ne,pe]=B.useState(!1),[ye,W]=B.useState("all"),[Pe,Ce]=B.useState(!1);B.useEffect(()=>{const Ie=setTimeout(()=>{n(e)},300);return()=>{clearTimeout(Ie)}},[e]),B.useEffect(()=>{const Ie=setTimeout(()=>{o(a)},300);return()=>{clearTimeout(Ie)}},[a]);const Ee=B.useCallback(async()=>{w(!0);try{const Ie=cr(mt(Ke,"inventory"),Ia("name")),tt=(await ur(Ie)).docs.map(ht=>{const Lt=ht.data();return{id:ht.id,...Lt,lastUpdated:Lt.lastUpdated instanceof lr?Lt.lastUpdated.toDate():new Date(Lt.lastUpdated)}});T(tt)}catch(Ie){console.error("Error fetching stock items:",Ie),N("Failed to fetch stock items","error")}finally{w(!1)}},[N]);B.useEffect(()=>{Ee()},[Ee]),B.useEffect(()=>{const Ie=Fe=>{const tt=Fe.target;tt.closest(".store-filter-dropdown")||pe(!1),tt.closest(".status-filter-dropdown")||Ce(!1)};return(ne||Pe)&&document.addEventListener("mousedown",Ie),()=>{document.removeEventListener("mousedown",Ie)}},[ne,Pe]);const oe=B.useMemo(()=>[{value:"name",label:"Name (A-Z)"},{value:"quantity",label:"Quantity (High-Low)"},{value:"price",label:"Price (High-Low)"},{value:"date",label:"Date Updated"}],[]),ve=B.useMemo(()=>{const Ie=r.toLowerCase(),Fe=s.toLowerCase(),tt=K.storeName;return I.filter(ht=>{if(ht.quantity===0||ht.storeName!==tt)return!1;const Lt=r===""||ht.name.toLowerCase().startsWith(Ie),Gt=s===""||ht.barcode&&ht.barcode.toLowerCase().includes(Fe)||ht.asin&&ht.asin.split(",").some(jt=>jt.trim().toLowerCase().includes(Fe)),Rt=ye==="all"||ht.status===ye;return Lt&&Gt&&Rt}).sort((ht,Lt)=>l==="name"?ht.name.localeCompare(Lt.name):l==="quantity"?Lt.quantity-ht.quantity:l==="price"?Lt.price-ht.price:l==="date"?new Date(Lt.lastUpdated).getTime()-new Date(ht.lastUpdated).getTime():0)},[I,r,s,ye,l,K]),De=B.useMemo(()=>I.filter(Ie=>Ie.quantity>0&&Ie.storeName===K.storeName).length,[I,K]),Te=B.useCallback((Ie,Fe)=>I.filter(tt=>tt.locationCode===Ie&&tt.shelfNumber===Fe),[I]),Re=B.useCallback(async Ie=>{w(!0);try{const Fe=[];for(const tt of Ie)if(tt.barcode){const ht=cr(mt(Ke,"inventory"),or("barcode","==",tt.barcode),or("quantity","==",0)),Lt=await ur(ht);if(!Lt.empty){const Gt=Lt.docs[0];if(await Ns(Ar(Ke,"inventory",Gt.id)),T(Rt=>Rt.filter(jt=>jt.id!==Gt.id)),U){const Rt=Gt.data();await pr(mt(Ke,"activityLogs"),{user:U.name,role:U.role,detail:`deleted hidden product "${Rt.name}" with barcode ${tt.barcode} from location ${Rt.locationCode}-${Rt.shelfNumber}`,time:new Date().toISOString()})}}}for(const tt of Ie){const ht=await pr(mt(Ke,"inventory"),{...tt,lastUpdated:lr.fromDate(new Date)});Fe.push({...tt,id:ht.id,lastUpdated:new Date})}if(U){const tt=Ie.reduce((Lt,Gt)=>Lt+Gt.quantity,0),ht=Ie.map(Lt=>`${Lt.quantity} at ${Lt.locationCode}-${Lt.shelfNumber}`).join(", ");await pr(mt(Ke,"activityLogs"),{user:U.name,role:U.role,detail:`added new product "${Ie[0].name}" with total quantity ${tt} (${ht})`,time:new Date().toISOString()})}T(tt=>[...tt,...Fe]),f(!1),k(!1),N("Stock items added successfully","success")}catch(Fe){console.error("Error adding stock:",Fe),N("Failed to add stock items","error")}finally{w(!1)}},[U,N]),Ne=B.useCallback(async Ie=>{const Fe=[];for(const tt of Ie){const ht=Te(tt.locationCode,tt.shelfNumber);ht.length>0&&Fe.push({locationCode:tt.locationCode,shelfNumber:tt.shelfNumber,products:ht})}if(Fe.length>0){const tt=Fe[0];ue({locationCode:tt.locationCode,shelfNumber:tt.shelfNumber,existingProducts:tt.products,newProductName:Ie[0].name,newProductBarcode:Ie[0].barcode||void 0}),Q(Ie),q(!0);return}await Re(Ie)},[Te,Re]),qe=B.useCallback(async()=>{G&&(await Re(G),q(!1),Q(null),ue(null),f(!1),k(!1))},[G,Re]),je=B.useCallback(()=>{q(!1),Q(null),ue(null),f(!1),k(!1)},[]),Je=B.useCallback(async()=>{if(G&&ie)try{w(!0);const Ie=ie.existingProducts.find(Fe=>Fe.barcode===ie.newProductBarcode);if(Ie){const Fe=Ie.quantity+G[0].quantity,tt=Ar(Ke,"inventory",Ie.id);await jn(tt,{quantity:Fe,lastUpdated:lr.fromDate(new Date)}),U&&(await pr(mt(Ke,"activityLogs"),{user:U.name,role:U.role,detail:`merged ${G[0].quantity} units of "${G[0].name}" with existing stock "${Ie.name}" at location ${ie.locationCode}-${ie.shelfNumber}`,time:new Date().toISOString()}),await pr(mt(Ke,"activityLogs"),{user:U.name,role:U.role,detail:`edited product "${Ie.name}": quantity from ${Ie.quantity} to ${Fe}`,time:new Date().toISOString()})),await Ee(),N("Products merged successfully","success")}}catch(Ie){console.error("Error merging products:",Ie),N("Failed to merge products","error")}finally{w(!1),q(!1),Q(null),ue(null),f(!1),k(!1)}},[G,ie,U,Ee,N]),ut=B.useCallback(async(Ie,Fe)=>{var tt,ht;w(!0);try{const Lt=new Date,Gt={},Rt=[];if(Ie.name!==Fe.name&&(Gt.name=Ie.name,Rt.push(`name from "${Fe.name}" to "${Ie.name}"`)),Ie.price!==Fe.price){Gt.price=Ie.price;const jt=Number(Fe.price||0).toFixed(2),ar=Number(Ie.price||0).toFixed(2);Rt.push(`price from £${jt} to £${ar}`)}if((Ie.locationCode!==Fe.locationCode||Ie.shelfNumber!==Fe.shelfNumber)&&(Gt.locationCode=Ie.locationCode,Gt.shelfNumber=Ie.shelfNumber,Rt.push(`location from ${Fe.locationCode}-${Fe.shelfNumber} to ${Ie.locationCode}-${Ie.shelfNumber}`)),Ie.supplier!==Fe.supplier&&(Gt.supplier=Ie.supplier,Rt.push(`supplier from "${Fe.supplier||"none"}" to "${Ie.supplier||"none"}"`)),Ie.asin!==Fe.asin&&(Gt.asin=Ie.asin,Rt.push(`ASIN from "${Fe.asin||"none"}" to "${Ie.asin||"none"}"`)),Ie.status!==Fe.status&&(Gt.status=Ie.status,Rt.push(`status from "${Fe.status}" to "${Ie.status}"`)),Ie.damagedItems!==Fe.damagedItems&&(Gt.damagedItems=Ie.damagedItems,Rt.push(`damaged items from ${Fe.damagedItems} to ${Ie.damagedItems}`)),Ie.fulfillmentType!==Fe.fulfillmentType&&(Gt.fulfillmentType=Ie.fulfillmentType,Rt.push(`fulfillment type from "${Fe.fulfillmentType.toUpperCase()}" to "${Ie.fulfillmentType.toUpperCase()}"`)),Ie.storeName!==Fe.storeName&&(Gt.storeName=Ie.storeName,Rt.push(`store name from "${(tt=Fe.storeName)==null?void 0:tt.toUpperCase()}" to "${(ht=Ie.storeName)==null?void 0:ht.toUpperCase()}"`)),Ie.unit!==Fe.unit&&(Gt.unit=Ie.unit,Rt.push(`unit from "${Fe.unit||"none"}" to "${Ie.unit||"none"}"`)),Ie.barcode!==Fe.barcode&&(Gt.barcode=Ie.barcode,Rt.push(`barcode from "${Fe.barcode||"none"}" to "${Ie.barcode||"none"}"`)),Object.keys(Gt).length>0){const jt=Ar(Ke,"inventory",Ie.id);await jn(jt,{...Gt,lastUpdated:lr.fromDate(Lt)}),U&&Rt.length>0&&await pr(mt(Ke,"activityLogs"),{user:U.name,role:U.role,detail:`edited product "${Ie.name}": ${Rt.join(", ")}`,time:Lt.toISOString()});const ar=I.map(mr=>mr.id===Ie.id?{...mr,...Gt,lastUpdated:Lt}:mr);T(ar),N("Stock details updated successfully","success"),p(!1),P(null)}if(Ie.quantity>Fe.quantity)ee({itemId:Ie.id,newQuantity:Ie.quantity}),z(!0),p(!1);else if(Ie.quantity!==Fe.quantity){const jt=Ar(Ke,"inventory",Ie.id);await jn(jt,{quantity:Ie.quantity,lastUpdated:lr.fromDate(Lt)}),U&&await pr(mt(Ke,"activityLogs"),{user:U.name,role:U.role,detail:`edited product "${Ie.name}": quantity from ${Fe.quantity} to ${Ie.quantity}`,time:Lt.toISOString()});const ar=I.map(mr=>mr.id===Ie.id?{...mr,quantity:Ie.quantity,lastUpdated:Lt}:mr);T(ar),N("Stock quantity updated","success"),p(!1),P(null)}else p(!1),P(null)}catch(Lt){console.error("Error updating stock:",Lt),N("Failed to update stock item","error")}finally{w(!1)}},[I,U,N]),ot=B.useCallback(async()=>{if(V){w(!0);try{const{itemId:Ie,newQuantity:Fe}=V,tt=new Date,ht=I.find(Rt=>Rt.id===Ie),Lt=Ar(Ke,"inventory",Ie);await jn(Lt,{quantity:Fe,lastUpdated:lr.fromDate(tt)}),U&&ht&&await pr(mt(Ke,"activityLogs"),{user:U.name,role:U.role,detail:`edited product "${ht.name}": quantity from ${ht.quantity} to ${Fe}`,time:tt.toISOString()});const Gt=I.map(Rt=>Rt.id===Ie?{...Rt,quantity:Fe,lastUpdated:tt}:Rt);T(Gt),N("Stock quantity updated successfully","success"),P(null)}catch(Ie){console.error("Error updating quantity:",Ie),N("Failed to update quantity","error")}finally{w(!1),z(!1),ee(null)}}},[V,I,U,N]),wt=B.useCallback(async Ie=>{w(!0);try{const Fe=I.find(tt=>tt.id===Ie);await Ns(Ar(Ke,"inventory",Ie)),U&&Fe&&await pr(mt(Ke,"activityLogs"),{user:U.name,role:U.role,detail:`deleted product "${Fe.name}" (${Fe.quantity} units) from location ${Fe.locationCode}-${Fe.shelfNumber}`,time:new Date().toISOString()}),T(I.filter(tt=>tt.id!==Ie)),m(!1),P(null),N("Stock item deleted successfully","success")}catch(Fe){console.error("Error deleting stock:",Fe),N("Failed to delete stock item","error")}finally{w(!1)}},[I,U,N]),kt=B.useCallback(Ie=>{P(Ie)},[]),Pt=B.useCallback((Ie,Fe)=>{Ie.stopPropagation(),P(Fe),p(!0)},[]),_t=B.useCallback((Ie,Fe)=>{Ie.stopPropagation(),P(Fe),m(!0)},[]),nt=B.useCallback(()=>{_.size===ve.length?S(new Set):S(new Set(ve.map(Ie=>Ie.id)))},[ve,_.size]),nr=B.useCallback(Ie=>{const Fe=new Set(_);Fe.has(Ie)?Fe.delete(Ie):Fe.add(Ie),S(Fe)},[_]),Wt=B.useCallback(async()=>{if(_.size!==0){w(!0);try{const Ie=I.filter(tt=>_.has(tt.id)),Fe=Array.from(_).map(tt=>Ns(Ar(Ke,"inventory",tt)));if(await Promise.all(Fe),U){const tt=Ie.map(ht=>`"${ht.name}" (${ht.quantity} units) from ${ht.locationCode}-${ht.shelfNumber}`).join(", ");await pr(mt(Ke,"activityLogs"),{user:U.name,role:U.role,detail:`Bulk deleted ${_.size} products: ${tt}`,time:new Date().toISOString()})}T(I.filter(tt=>!_.has(tt.id))),S(new Set),E(!1),y(!1),N(`Successfully deleted ${_.size} items`,"success")}catch(Ie){console.error("Error deleting items:",Ie),N("Failed to delete selected items","error")}finally{w(!1)}}},[_,I,U,N]),zr=B.useCallback(async()=>{if(_.size!==0){w(!0);try{const Ie=I.filter(tt=>_.has(tt.id)&&tt.status==="pending");if(Ie.length===0){N("No pending items selected to activate","error");return}const Fe=Ie.map(tt=>jn(Ar(Ke,"inventory",tt.id),{status:"active",lastUpdated:lr.fromDate(new Date)}));if(await Promise.all(Fe),U){const tt=Ie.map(ht=>`"${ht.name}" from ${ht.locationCode}-${ht.shelfNumber}`).join(", ");await pr(mt(Ke,"activityLogs"),{user:U.name,role:U.role,detail:`Bulk activated ${Ie.length} pending products: ${tt}`,time:new Date().toISOString()})}T(I.map(tt=>_.has(tt.id)&&tt.status==="pending"?{...tt,status:"active",lastUpdated:new Date}:tt)),S(new Set),E(!1),N(`Successfully activated ${Ie.length} items`,"success")}catch(Ie){console.error("Error activating items:",Ie),N("Failed to activate selected items","error")}finally{w(!1)}}},[_,I,U,N]),tr=B.useCallback(()=>{E(!j),j||S(new Set)},[j]),Fr=B.useCallback(({item:Ie})=>d.jsxs("tr",{className:`hover:${O?"bg-slate-700/50":"bg-slate-50"} cursor-pointer`,onClick:()=>kt(Ie),children:[j&&d.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-slate-200":"text-slate-800"}`,onClick:Fe=>Fe.stopPropagation(),children:d.jsx("input",{type:"checkbox",checked:_.has(Ie.id),onChange:()=>nr(Ie.id),className:`h-4 w-4 text-blue-600 rounded ${O?"border-slate-600 bg-slate-700":"border-slate-300"} focus:ring-blue-500`})}),d.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-blue-400":"text-blue-700"} font-medium`,children:Ie.name}),d.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-slate-200":"text-slate-800"}`,children:Ie.unit||"-"}),d.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-slate-200":"text-slate-800"}`,children:d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Ie.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:Ie.status==="active"?"Active":"Pending"})}),d.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-slate-200":"text-slate-800"}`,children:d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Ie.fulfillmentType==="fba"?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:Ie.fulfillmentType.toUpperCase()})}),d.jsxs("td",{className:`px-4 py-3 text-sm ${O?"text-slate-200":"text-slate-800"}`,children:[Ie.locationCode," - ",Ie.shelfNumber]}),d.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-slate-200":"text-slate-800"}`,children:Ie.asin?Ie.asin.split(",").length>3?Ie.asin.split(",").slice(0,3).map(Fe=>Fe.trim()).join(", ")+"...":Ie.asin.split(",").map(Fe=>Fe.trim()).join(", "):"-"}),d.jsx("td",{className:`px-4 py-3 text-right text-sm ${O?"text-slate-200":"text-slate-900"}`,children:Number(Ie.price)>0?`£${Number(Ie.price).toFixed(2)}`:"(Not set)"}),d.jsx("td",{className:`px-4 py-3 text-right text-sm ${O?"text-slate-200":"text-slate-900"}`,children:Number(Ie.quantity*Ie.price)>0?`£${Number(Ie.quantity*Ie.price).toFixed(2)}`:"(Not set)"}),d.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-slate-200":"text-slate-800"} text-right`,children:d.jsxs("div",{className:"flex items-center justify-end gap-2",children:[Ie.quantity<=10&&d.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-red-100 text-red-700 text-center",children:"Critical Low"}),Ie.quantity>10&&Ie.quantity<=25&&d.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-yellow-100 text-yellow-700 text-center",children:"Low Stock"}),d.jsx("span",{children:Ie.quantity})]})}),d.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-slate-200":"text-slate-800"}`,children:rr(new Date(Ie.lastUpdated),"MMM d, yyyy")}),d.jsx("td",{className:`px-4 py-3 text-sm ${O?"text-slate-200":"text-slate-800"} text-right`,children:d.jsxs("div",{className:"flex items-center justify-end gap-2",children:[d.jsx("button",{onClick:Fe=>Pt(Fe,Ie),className:`p-1 ${O?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,title:"Edit",children:d.jsx(os,{size:16})}),d.jsx("button",{onClick:Fe=>_t(Fe,Ie),className:`p-1 ${O?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,title:"Delete",children:d.jsx(ei,{size:16})})]})})]},Ie.id),[j,_,O,kt,nr,Pt,_t]);return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between py-4",children:[d.jsx("h1",{className:`text-2xl font-bold ${O?"text-white":"text-gray-900"}`,children:K.title}),d.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${O?"bg-slate-800 text-blue-300":"bg-blue-100 text-blue-700"}`,children:[K.storeNameDisplay," Products: ",De]})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-4",children:[d.jsx("div",{children:d.jsxs("p",{className:`${O?"text-slate-400":"text-slate-500"} mt-1`,children:["Manage your ",K.storeNameDisplay.toLowerCase()," stock, track quantities, and monitor product status"]})}),d.jsx("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:j?d.jsxs(d.Fragment,{children:[ye==="pending"&&d.jsxs(st,{onClick:zr,variant:"primary",className:"flex items-center gap-2 w-full sm:w-auto",disabled:b||_.size===0,children:[d.jsx(i9,{size:16}),"Go Live (",_.size,")"]}),d.jsx(st,{onClick:tr,variant:"secondary",className:"flex items-center gap-2 w-full sm:w-auto",children:"Cancel"})]}):d.jsxs(d.Fragment,{children:[d.jsxs(st,{variant:"secondary",onClick:()=>k(!0),className:"flex items-center gap-2 w-full sm:w-auto",children:[d.jsx(xi,{size:16}),"Quick Add"]}),d.jsxs(st,{variant:"primary",onClick:()=>f(!0),className:"flex items-center gap-2 w-full sm:w-auto",children:[d.jsx(xi,{size:16}),"Add New Stock"]})]})})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[d.jsx("div",{className:"flex-1",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx(Oo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),d.jsx(Nt,{type:"text",placeholder:"Search by product name",value:e,onChange:Ie=>t(Ie.target.value),className:"pl-10"})]}),d.jsxs("div",{className:"relative",children:[d.jsx(Oo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),d.jsx(Nt,{type:"text",placeholder:"Search by barcode or ASIN",value:a,onChange:Ie=>i(Ie.target.value),className:"pl-10"})]})]})}),d.jsx("div",{className:"w-full sm:w-48",children:d.jsx(en,{value:l,onChange:Ie=>c(Ie.target.value),options:oe})}),d.jsx("div",{className:"flex flex-row gap-2",children:d.jsxs("div",{className:"relative status-filter-dropdown",children:[d.jsxs(st,{variant:"secondary",onClick:()=>Ce(!Pe),className:`flex items-center gap-2 ${ye!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[ye==="all"?"Status Filter":ye==="active"?"Active":"Pending",d.jsx(qc,{size:16})]}),Pe&&d.jsx("div",{className:`absolute top-full left-0 mt-1 w-32 z-50 rounded-lg border ${O?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:d.jsxs("div",{className:"p-2",children:[d.jsx("div",{className:`text-sm font-medium mb-2 ${O?"text-slate-200":"text-slate-700"}`,children:"Filter by Status"}),d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${O?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${ye==="all"?O?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{W("all"),Ce(!1)},children:"All"}),d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${O?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${ye==="active"?O?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{W("active"),Ce(!1)},children:"Active"}),d.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${O?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${ye==="pending"?O?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{W("pending"),Ce(!1)},children:"Pending"}),d.jsx("div",{className:`border-t ${O?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:d.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${O?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{W("all"),Ce(!1)},children:"Clear Filter"})})]})})]})}),d.jsx(st,{variant:"secondary",onClick:Ee,className:`flex items-center gap-2 ${b?"opacity-50 cursor-not-allowed":""}`,disabled:b,children:d.jsx(Za,{size:16,className:b?"animate-spin":""})})]}),b?d.jsx("div",{className:`text-center py-12 ${O?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:d.jsxs("div",{className:"flex flex-col items-center gap-4",children:[d.jsx(ss,{className:`w-8 h-8 ${O?"text-blue-400":"text-blue-600"} animate-spin`}),d.jsx("p",{className:O?"text-slate-400":"text-slate-600",children:"Loading stock items..."})]})}):ve.length>0?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"hidden md:block overflow-x-auto overflow-y-hidden",children:d.jsxs("table",{className:`min-w-full divide-y ${O?"divide-slate-700":"divide-slate-200"} ${O?"bg-slate-800":"bg-white"} rounded-lg border ${O?"border-slate-700":"border-slate-200"}`,children:[d.jsx("thead",{className:O?"bg-slate-700/50":"bg-slate-100",children:d.jsxs("tr",{children:[j&&d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",checked:_.size===ve.length,onChange:nt,className:`h-4 w-4 text-blue-600 rounded ${O?"border-slate-600 bg-slate-700":"border-slate-300"} focus:ring-blue-500`}),d.jsx("span",{children:"Select"})]})}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Unit"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Status"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"FT"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Price"}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Total Price"}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Quantity"}),d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Last Updated"}),d.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${O?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),d.jsx("tbody",{className:`divide-y ${O?"divide-slate-700":"divide-slate-200"}`,children:ve.map((Ie,Fe)=>d.jsx(Fr,{item:Ie,index:Fe},Ie.id))})]})}),d.jsx("div",{className:"block md:hidden space-y-4",children:ve.map(Ie=>d.jsxs("div",{className:`rounded-lg border ${O?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-4 shadow-sm flex flex-col gap-2`,onClick:()=>kt(Ie),children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:`font-semibold ${O?"text-blue-400":"text-blue-700"}`,children:Ie.name}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Ie.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:Ie.status==="active"?"Active":"Pending"}),d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Ie.fulfillmentType==="fba"?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:Ie.fulfillmentType.toUpperCase()})]})]}),d.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[d.jsxs("span",{className:O?"text-slate-300":"text-slate-600",children:["Location: ",d.jsxs("span",{className:"font-medium",children:[Ie.locationCode," - ",Ie.shelfNumber]})]}),d.jsxs("span",{className:O?"text-slate-300":"text-slate-600",children:["Qty: ",d.jsx("span",{className:"font-medium",children:Ie.quantity})]}),Ie.asin&&d.jsxs("span",{className:O?"text-slate-300":"text-slate-600",children:["ASIN: ",d.jsx("span",{className:"font-medium",children:Ie.asin})]}),d.jsxs("span",{className:O?"text-slate-300":"text-slate-600",children:["Price: ",d.jsx("span",{className:"font-medium",children:Number(Ie.price)>0?`£${Number(Ie.price).toFixed(2)}`:"(Not set)"})]}),d.jsxs("span",{className:O?"text-slate-300":"text-slate-600",children:["Total: ",d.jsx("span",{className:"font-medium",children:Number(Ie.quantity*Ie.price)>0?`£${Number(Ie.quantity*Ie.price).toFixed(2)}`:"(Not set)"})]}),d.jsxs("span",{className:O?"text-slate-300":"text-slate-600",children:["Updated: ",d.jsx("span",{className:"font-medium",children:rr(new Date(Ie.lastUpdated),"MMM d, yyyy")})]})]}),d.jsxs("div",{className:"flex gap-2 mt-2",children:[d.jsxs(st,{size:"sm",variant:"secondary",onClick:Fe=>{Fe.stopPropagation(),Pt(Fe,Ie)},children:[d.jsx(os,{size:14})," Edit"]}),d.jsxs(st,{size:"sm",variant:"danger",onClick:Fe=>{Fe.stopPropagation(),_t(Fe,Ie)},children:[d.jsx(ei,{size:14})," Delete"]})]})]},Ie.id))})]}):d.jsx("div",{className:`text-center py-12 ${O?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:d.jsx("p",{className:O?"text-slate-400":"text-slate-500",children:"No stock items found. Try adjusting your search."})}),d.jsx(on,{isOpen:u,onClose:()=>f(!1),title:`Add New ${K.storeNameDisplay} Stock Item`,size:"xl",children:d.jsx(Lq,{onSubmit:Ne,onCancel:()=>f(!1),isLoading:b,existingStockItems:I})}),d.jsx(on,{isOpen:Z,onClose:()=>k(!1),title:`Quick Add ${K.storeNameDisplay} Stock`,size:"md",children:d.jsx(Rq,{onSubmit:Ne,onClose:()=>k(!1),isLoading:b})}),d.jsx(on,{isOpen:h,onClose:()=>p(!1),title:`Edit ${K.storeNameDisplay} Stock`,size:"xl",children:D&&d.jsx(Mq,{item:D,onSubmit:ut,onCancel:()=>p(!1),isLoading:b})}),D&&d.jsx(ih,{isOpen:g,onClose:()=>{m(!1),P(null)},onConfirm:()=>wt(D.id),title:"Delete Stock Item",message:`Are you sure you want to delete "${D.name}"? This action cannot be undone.`,isLoading:b}),D&&!h&&!g&&!J&&d.jsx(S5,{isOpen:!!D,onClose:()=>P(null),item:D}),d.jsx(ih,{isOpen:v,onClose:()=>{y(!1),S(new Set)},onConfirm:Wt,title:"Delete Selected Items",message:`Are you sure you want to delete ${_.size} selected item${_.size>1?"s":""}? This action cannot be undone.`,isLoading:b}),d.jsx(on,{isOpen:J,onClose:()=>{z(!1),ee(null)},title:"Confirm Quantity Update",children:d.jsxs("div",{children:[d.jsx("p",{children:"This product is already in stock in this location. Are you sure you want to add more quantity?"}),d.jsxs("div",{className:"flex justify-end gap-4 mt-4",children:[d.jsx(st,{variant:"secondary",onClick:()=>{z(!1),ee(null)},children:"No"}),d.jsx(st,{onClick:ot,isLoading:b,children:"Yes"})]})]})}),ie&&d.jsx(Fq,{isOpen:R,onClose:je,onConfirm:qe,onCancel:je,onMerge:Je,locationCode:ie.locationCode,shelfNumber:ie.shelfNumber,existingProducts:ie.existingProducts,newProductName:ie.newProductName,newProductBarcode:ie.newProductBarcode})]})},vo=({children:e,allowedRoles:t})=>{const{user:r}=wa();return r?t.includes(r.role)?d.jsx(d.Fragment,{children:e}):d.jsx(N4,{to:"/",replace:!0}):d.jsx(N4,{to:"/login",replace:!0})};function ABe(){return d.jsxs(XJ,{children:[d.jsx(rs,{path:"/login",element:d.jsx(Ice,{})}),d.jsxs(rs,{path:"/",element:d.jsx(Pce,{}),children:[d.jsx(rs,{index:!0,element:d.jsx(vo,{allowedRoles:["admin","staff"],children:d.jsx(yye,{})})}),d.jsx(rs,{path:"stock",element:d.jsx(vo,{allowedRoles:["admin","staff"],children:d.jsx(Cye,{})})}),d.jsx(rs,{path:"jobs",element:d.jsx(vo,{allowedRoles:["admin","staff"],children:d.jsx(b$e,{})})}),d.jsx(rs,{path:"inventory",element:d.jsx(vo,{allowedRoles:["admin"],children:d.jsx(Pye,{})})}),d.jsx(rs,{path:"orders",element:d.jsx(vo,{allowedRoles:[""],children:d.jsx(j$e,{})})}),d.jsx(rs,{path:"outbound-stock",element:d.jsx(vo,{allowedRoles:["admin","staff"],children:d.jsx(wBe,{})})}),d.jsx(rs,{path:"warehouse-locations",element:d.jsx(vo,{allowedRoles:["admin","staff"],children:d.jsx(_Be,{})})}),d.jsx(rs,{path:"warehouse-operations",element:d.jsx(vo,{allowedRoles:["admin","staff"],children:d.jsx(vBe,{})})}),d.jsx(rs,{path:"reports-analytics",element:d.jsx(vo,{allowedRoles:["admin"],children:d.jsx(yBe,{})})}),d.jsx(rs,{path:"settings",element:d.jsx(vo,{allowedRoles:["admin","staff"],children:d.jsx(xBe,{})})}),d.jsx(rs,{path:"add",element:d.jsx(vo,{allowedRoles:["admin","staff"],children:d.jsx(Dq,{})})}),d.jsx(rs,{path:"supply-serve",element:d.jsx(vo,{allowedRoles:["supply_serve","fahiz","aphy"],children:d.jsx(SBe,{})})})]})]})}H$(document.getElementById("root")).render(d.jsx(B.StrictMode,{children:d.jsx(aZ,{basename:"/",children:d.jsx(Dae,{children:d.jsx(jae,{children:d.jsx(Oce,{children:d.jsx(ABe,{})})})})})}));export{fn as _,tg as c,Cn as g};
